(self.webpackChunkcloud_openshift_com=self.webpackChunkcloud_openshift_com||[]).push([[63],{69693:(e,a,t)=>{"use strict";t.d(a,{uF:()=>n,ZP:()=>o});const{insights:r}=t(60306);function l(){return`/beta/${r.appname}`}function n(e){return e.replace(new RegExp(`^${l()}`,"i"),"")}const o=l},38080:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var r=t(69693);function l(e){const a=(0,r.uF)(e).replace(/^\//,"").split("/");switch(a[0]){case"downloads":case"token":return{id:"downloads"};case"quota":return{id:a[1]||"openshift-quota",parentId:"subscriptions",secondaryNav:!0};case"subscriptions":return{id:a[1],parentId:"subscriptions",secondaryNav:!0};case"overview":case"releases":return{id:a[0]};default:return{id:""}}}},57063:(e,a,t)=>{"use strict";t.r(a);var r=t(30624),l=t.n(r),n=t(70695),o=t.n(n),i=(t(334),t(12167)),s=(t(96533),t(9431)),c=t(9047),b=(t(38080),t(69693),t(42282),t(79920),t(158),t(43363)),u=t(45697),v=t.n(u),d=t(35914),f=t(46568),p=t(83626);const h=({children:e})=>l().createElement(l().Fragment,null,l().createElement("span",{id:"scrollToTop"}),c.ZP.override&&l().createElement(p.Z,{env:c.ZP.override}),l().createElement(f.Z,null,e||l().createElement(d.Z,null)));h.propTypes={children:v().oneOfType([v().arrayOf(v().node),v().node])},(0,i.connect)((e=>({userProfile:e.userProfile})))(h);const{Api:y,Config:A}=s.I;y.setAuthInterceptor(b.w),A.setRouteBasePath("/assisted-installer"),l().Component,window.insights,o().render(l().createElement("div",{style:{margin:"25px"}},l().createElement("h1",null,"Unsupported environment"),l().createElement("h2",null,"OCM does not support this environment"),l().createElement("p",null,"Please use one of our supported environments."),l().createElement("p",null,"OCM is only being deployed to this environment to ensure navigation keeps working.")),document.getElementById("root"))},79920:(e,a,t)=>{"use strict";t.d(a,{R:()=>o});var r=t(41447),l=t(6176);const n=(e,a)=>({name:a,action:()=>l.Z.selfFeatureReview(e).then((e=>e.data.enabled))}),o=[n("osd-trial",r.vC),n("assisted-installer-sno",r.Vs),n("assisted-installer-ocs",r.D9),n("assisted-installer-cnv",r.nc),n("assisted-installer-merge-lists",r.xf),n("assisted-installer-network-type-selection",r.ZY),n("assisted-installer-platform-integration",r.S9),{name:r.vu,action:()=>Promise.all([l.Z.selfAccessReview({action:"create",resource_type:"BareMetalCluster"}),l.Z.selfFeatureReview("assisted-installer")]).then((([e,a])=>e.data.allowed&&a.data.enabled))}]},42282:(e,a,t)=>{"use strict";t.d(a,{hI:()=>O,nh:()=>A,c3:()=>m});var r=t(27361),l=t.n(r),n=t(45205),o=t(85935),i=t(97875),s=t(94784);const c=(e,a)=>0===a.cost?1/0:Math.floor((e.allowed-e.consumed)/a.cost),b=(e,a,t)=>{const r=e,l=a.allowed-a.consumed;t.forEach((e=>{const{availability_zone_type:a,cloud_provider:t,resource_name:n,product:o,billing_model:i}=e,c="rhinfra"===e.byoc?"rhInfra":e.byoc;o!==s.Po.ROSA&&Object.entries(r).forEach((([e,r])=>{i!==e&&"any"!==i||Object.entries(r).forEach((([e,r])=>{o!==e&&o!==s.Po.ANY||Object.entries(r).forEach((([e,r])=>{t!==e&&"any"!==t||Object.entries(r).forEach((([e,t])=>{c!==e&&"any"!==c||Object.entries(t).forEach((([e,o])=>{`${a}Az`===e&&(o[n]=l,o.available+=l,t.totalAvailable+=l),"any"===a&&"totalAvailable"!==e&&(o[n]=l,o.available+=l,t.totalAvailable+=l/2),t.totalAvailable>0&&(r.isAvailable=!0)}))}))}))}))}))}))},u=(e,a,t)=>{const r=e,l=a.allowed-a.consumed;t.forEach((e=>{const{cloud_provider:a,resource_name:t,product:n,billing_model:o}=e,i="rhinfra"===e.byoc?"rhInfra":e.byoc;n!==s.Po.ROSA&&Object.entries(r).forEach((([r,c])=>{o!==r&&"any"!==o||Object.entries(c).forEach((([r,o])=>{n!==r&&n!==s.Po.ANY||Object.entries(o).forEach((([r,n])=>{a!==r&&"any"!==a||Object.entries(n).forEach((([a,r])=>{i!==a&&"any"!==i||(r[t]={available:l,cost:e.cost})}))}))}))}))}))},v=(e,a,t)=>{const r=e;t.forEach((e=>{const t=c(a,e),{availability_zone_type:l,cloud_provider:n,resource_name:o,product:i,billing_model:b="standard"}=e,u="rhinfra"===e.byoc?"rhInfra":e.byoc;Object.entries(r).forEach((([e,a])=>{b!==e&&"any"!==b||Object.entries(a).forEach((([e,a])=>{i!==e&&i!==s.Po.ANY||Object.entries(a).forEach((([e,a])=>{n!==e&&"any"!==n||Object.entries(a).forEach((([e,a])=>{u!==e&&"any"!==u||Object.entries(a).forEach((([e,a])=>{`${l}AZ`!==e&&"any"!==l||(a[o]=t)}))}))}))}))}))}))},d=(e,a,t)=>{const r=e;t.forEach((e=>{const t=c(a,e),{availability_zone_type:l,cloud_provider:n,resource_name:o,product:i,billing_model:b="standard"}=e,u="rhinfra"===e.byoc?"rhInfra":e.byoc;Object.entries(r).forEach((([e,a])=>{b!==e&&"any"!==b||Object.entries(a).forEach((([e,a])=>{i!==e&&i!==s.Po.ANY||Object.entries(a).forEach((([e,a])=>{n!==e&&"any"!==n||Object.entries(a).forEach((([e,a])=>{u!==e&&"any"!==u||Object.entries(a).forEach((([e,a])=>{`${l}AZ`!==e&&"any"!==l||(a[o]=t)}))}))}))}))}))}))},f=(e,a,t)=>{const r=e;t.forEach((e=>{const t=c(a,e);if(0===a.allowed&&e.cost>0)return;const{availability_zone_type:l,cloud_provider:n,resource_name:o,product:i,billing_model:b}=e,u="rhinfra"===e.byoc?"rhInfra":e.byoc;Object.entries(r).forEach((([e,a])=>{b!==e&&"any"!==b||Object.entries(a).forEach((([e,a])=>{i!==e&&i!==s.Po.ANY||Object.entries(a).forEach((([e,a])=>{n!==e&&"any"!==n||Object.entries(a).forEach((([e,r])=>{u!==e&&"any"!==u||Object.entries(r).forEach((([e,n])=>{`${l}Az`===e&&(n[o]=t,n.available+=t,r.totalAvailable+=t),"any"===l&&"totalAvailable"!==e&&(n[o]=t,n.available+=t,r.totalAvailable+=t/2),r.totalAvailable>0&&(a.isAvailable=!0)}))}))}))}))}))}))},p=()=>({items:[],clustersQuota:(()=>{const e={};return Object.values(s.F6).forEach((a=>{e[a]=(()=>{const e={};return Object.keys(s.vQ).forEach((a=>{e[a]={aws:{byoc:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},rhInfra:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},isAvailable:!1},gcp:{byoc:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},rhInfra:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},isAvailable:!1}}})),e})()})),e})(),nodesQuota:(()=>{const e={};return Object.values(s.F6).forEach((a=>{e[a]=(()=>{const e={};return Object.keys(s.vQ).forEach((a=>{e[a]={aws:{byoc:{available:0},rhInfra:{available:0}},gcp:{byoc:{available:0},rhInfra:{available:0}}}})),e})()})),e})(),storageQuota:(()=>{const e={};return Object.values(s.F6).forEach((a=>{e[a]=(()=>{const e={};return Object.keys(s.vQ).forEach((a=>{e[a]={aws:{byoc:{singleAZ:{available:0},multiAZ:{available:0}},rhInfra:{singleAZ:{available:0},multiAZ:{available:0}},isAvailable:!1},gcp:{byoc:{singleAZ:{available:0},multiAZ:{available:0}},rhInfra:{singleAZ:{available:0},multiAZ:{available:0}},isAvailable:!1}}})),e})()})),e})(),loadBalancerQuota:(()=>{const e={};return Object.values(s.F6).forEach((a=>{e[a]=(()=>{const e={};return Object.keys(s.vQ).forEach((a=>{e[a]={aws:{byoc:{singleAZ:{available:0},multiAZ:{available:0}},rhInfra:{singleAZ:{available:0},multiAZ:{available:0}},isAvailable:!1},gcp:{byoc:{singleAZ:{available:0},multiAZ:{available:0}},rhInfra:{singleAZ:{available:0},multiAZ:{available:0}},isAvailable:!1}}})),e})()})),e})(),addOnsQuota:(()=>{const e={};return Object.values(s.F6).forEach((a=>{e[a]=(()=>{const e={};return Object.keys(s.vQ).forEach((a=>{e[a]={aws:{byoc:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},rhInfra:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},isAvailable:!1},gcp:{byoc:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},rhInfra:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},isAvailable:!1}}})),e})()})),e})()}),h=e=>{const a=p(),t=l()(e.data,"items",[]).map(i.ME);return a.items=t,t.forEach((e=>{const t=l()(e,"related_resources",[]);if(!(t.length<1))switch(t[0].resource_type){case"cluster":b(a.clustersQuota,e,t);break;case"compute.node":u(a.nodesQuota,e,t);break;case"pv.storage":v(a.storageQuota,e,t);break;case"network.loadbalancer":d(a.loadBalancerQuota,e,t);break;case"add-on":f(a.addOnsQuota,e,t)}})),a},y=e=>o.BJ.getOrganizationQuota(e).then(h),A=()=>({payload:o.BJ.getCurrentAccount().then((e=>{const a=l()(e.data,"organization.id");if(void 0!==a){const e={quota:void 0,organization:void 0},t=[y(a).then((a=>{e.quota=a})),o.BJ.getOrganization(a).then((a=>{e.organization=a}))];return Promise.all(t).then((()=>e))}return Promise.reject(Error("No organization"))})),type:n.AQ.e_});function m(){return e=>e({type:n.AQ.Zu,payload:o.FR.selfTermsReview()})}const O={userInfoResponse:e=>({payload:e,type:n.AQ.LX}),getOrganizationAndQuota:A,processClusterQuota:b,processNodeQuota:u,processStorageQuota:v,processLoadBalancerQuota:d,processAddOnQuota:f,emptyQuota:p,processQuota:h,selfTermsReview:m}},158:(e,a,t)=>{"use strict";var r=t(35592),l=t(53894),n=t(57283),o=t.n(n),i=t(10810),s=t(90071),c=t(84885),b=t(11109),u=t(79932);function v(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function d(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const f=(0,s.lX)(),p=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.compose;(0,r.createStore)((0,b.aA)(f),p((0,r.applyMiddleware)((0,i.Z)(f),l.Z,o(),(0,c.uv)(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?v(Object(t),!0).forEach((function(a){d(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},{dispatchDefaultFailure:!1})),u.Z)))}}]);
//# sourceMappingURL=bundle.63.js.map