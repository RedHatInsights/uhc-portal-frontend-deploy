
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="259d4696-d5d1-535a-acf0-be23cd0b83db")}catch(e){}}();
(self.webpackChunkopenshift=self.webpackChunkopenshift||[]).push([[697],{46787:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(84238)),r=l(a(41609)),s=l(a(45697)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),i=a(64171),u=l(a(71359)),d=a(87558),c=a(65652),p=a(27849),m=a(19953),f=l(a(99326)),E=l(a(15077)),g=l(a(41291)),h=l(a(92339)),v=l(a(86496)),b=l(a(47092)),_=l(a(68641)),S=l(a(12766)),C=l(a(2101)),y=l(a(96343)),O=l(a(32892)),I=l(a(95015)),R=l(a(41086)),T=a(56554),A=a(33174);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}a(91961);const D="Cluster Archives | Red Hat OpenShift Cluster Manager";class N extends o.Component{constructor(e){super(e),this.refresh=this.refresh.bind(this)}componentDidMount(){const{getCloudProviders:e,cloudProviders:t,setListFlag:a,invalidateClusters:l}=this.props;a("showArchived",!0),l(),t.fulfilled||t.pending||e()}componentDidUpdate(e){const{viewOptions:t,valid:a,pending:l}=this.props;(!a&&!l||(0,T.viewPropsChanged)(t,e.viewOptions))&&this.refresh()}componentWillUnmount(){const{closeModal:e,invalidateClusters:t,clearGlobalError:a}=this.props;e(),t(),a("archivedClusterList")}refresh(){const{fetchClusters:e,viewOptions:t,username:a}=this.props;e((0,T.createViewQueryObject)(t,a))}render(){const{error:e,errorCode:t,valid:a,pending:l,clusters:s,viewOptions:T,setSorting:P,openModal:N,invalidateClusters:L,errorMessage:w,operationID:M}=this.props,k=o.default.createElement(C.default,{path:[{label:"Clusters"},{label:"Cluster Archives"}]}),x=o.default.createElement(i.PageHeader,null,k,o.default.createElement(i.PageHeaderTitle,{title:"Cluster Archives"}));return e&&!(0,n.default)(s)?o.default.createElement(p.AppPage,{title:D},o.default.createElement(c.PageSection,null,o.default.createElement(y.default,{message:"Error retrieving cluster archives",response:{errorMessage:w,operationID:M,errorCode:t}}))):!(0,n.default)(s)&&l&&(0,r.default)(T.filter)||!a?o.default.createElement(p.AppPage,{title:D},x,o.default.createElement(c.PageSection,null,o.default.createElement(c.Card,null,o.default.createElement("div",{className:"cluster-list"},o.default.createElement("div",{className:"cluster-loading-container"},o.default.createElement(u.default,{centered:!0})))))):o.default.createElement(p.AppPage,{title:D},x,o.default.createElement(c.PageSection,null,o.default.createElement(c.Card,null,o.default.createElement("div",{className:"cluster-list"},o.default.createElement(S.default,null),o.default.createElement(c.Toolbar,{id:"cluster-list-top"},o.default.createElement(c.ToolbarContent,null,o.default.createElement(c.ToolbarItem,null,o.default.createElement(f.default,{view:A.viewConstants.ARCHIVED_CLUSTERS_VIEW})),o.default.createElement(c.ToolbarItem,{className:"pf-v5-l-split__item split-margin-left","data-testid":"cluster-list-filter-dropdown"},o.default.createElement(E.default,{view:A.viewConstants.ARCHIVED_CLUSTERS_VIEW,isDisabled:l})),o.default.createElement(c.ToolbarItem,{className:"pf-v5-l-split__item split-margin-left"},o.default.createElement(h.default,{view:A.viewConstants.ARCHIVED_CLUSTERS_VIEW,bodyContent:"Show only the clusters you previously archived, or all archived clusters in your organization.",localStorageKey:m.ONLY_MY_CLUSTERS_TOGGLE_CLUSTER_ARCHIVES_LIST})),o.default.createElement(c.ToolbarItem,{className:"pf-v5-l-split__item split-margin-left"},o.default.createElement("div",{className:"show-active-clusters-link"},o.default.createElement(d.Link,{to:"/"},"Show active clusters"))),o.default.createElement(c.ToolbarItem,{className:"spinner-fit-container"},l&&o.default.createElement(u.default,{className:"cluster-list-spinner"}),e&&o.default.createElement(_.default,{errorMessage:w,className:"cluster-list-warning"})),o.default.createElement(c.ToolbarItem,{align:{default:"alignRight"},variant:"pagination",className:"pf-m-hidden visible-on-lgplus"},o.default.createElement(R.default,{viewType:A.viewConstants.ARCHIVED_CLUSTERS_VIEW,currentPage:T.currentPage,pageSize:T.pageSize,totalCount:T.totalCount,totalPages:T.totalPages,variant:"top"})),o.default.createElement(c.ToolbarItem,null,o.default.createElement(b.default,{autoRefresh:!0,refreshFunc:this.refresh,classOptions:"cluster-list-top"})))),o.default.createElement(g.default,{view:A.viewConstants.ARCHIVED_CLUSTERS_VIEW}),o.default.createElement(v.default,{clusters:s||[],viewOptions:T,setSorting:P,openModal:N}),o.default.createElement(R.default,{viewType:A.viewConstants.ARCHIVED_CLUSTERS_VIEW,currentPage:T.currentPage,pageSize:T.pageSize,totalCount:T.totalCount,totalPages:T.totalPages,variant:"bottom"}),o.default.createElement(O.default,{ModalComponent:I.default,onClose:L})))))}}N.propTypes={username:s.default.string.isRequired,invalidateClusters:s.default.func.isRequired,fetchClusters:s.default.func.isRequired,valid:s.default.bool.isRequired,clusters:s.default.array.isRequired,error:s.default.bool.isRequired,errorCode:s.default.number,errorMessage:s.default.oneOfType([s.default.string,s.default.node,s.default.element]).isRequired,pending:s.default.bool.isRequired,viewOptions:s.default.object.isRequired,setSorting:s.default.func.isRequired,getCloudProviders:s.default.func.isRequired,cloudProviders:s.default.object.isRequired,openModal:s.default.func.isRequired,closeModal:s.default.func.isRequired,setListFlag:s.default.func.isRequired,operationID:s.default.string,clearGlobalError:s.default.func.isRequired},t.default=N},59228:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(38416)),r=a(66338),s=l(a(46787)),o=a(70774),i=a(22115),u=a(33174),d=a(92308),c=a(7046),p=a(23445);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const E={invalidateClusters:()=>o.clustersActions.invalidateClusters(),fetchClusters:e=>o.clustersActions.fetchClusters(e),setSorting:e=>d.viewActions.onListSortBy(e,u.viewConstants.ARCHIVED_CLUSTERS_VIEW),setListFlag:(e,t)=>d.viewActions.onListFlagsSet(e,t,u.viewConstants.ARCHIVED_CLUSTERS_VIEW),getCloudProviders:i.cloudProviderActions.getCloudProviders,openModal:c.modalActions.openModal,closeModal:c.modalActions.closeModal,clearGlobalError:p.clearGlobalError};t.Z=(0,r.connect)((e=>f(f({},e.clusters.clusters),{},{username:e.userProfile.keycloakProfile.username,viewOptions:e.viewOptions[u.viewConstants.ARCHIVED_CLUSTERS_VIEW],cloudProviders:e.cloudProviders,sortByIndex:e.sortByIndex})),E)(s.default)},77455:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(87558),o=l(a(27361)),i=a(65652),u=a(71359),d=z(a(84896)),c=a(27849),p=a(12468),m=l(a(39755)),f=l(a(22010)),E=l(a(46542)),g=l(a(10819)),h=l(a(19337)),v=l(a(39555)),b=l(a(48065)),_=l(a(87203)),S=l(a(55699)),C=l(a(31611)),y=l(a(36297)),O=l(a(49276)),I=l(a(46969)),R=a(69429),T=a(31125),A=l(a(52069)),P=a(52758),D=z(a(59231)),N=l(a(19282)),L=l(a(96343)),w=l(a(39149)),M=l(a(78863)),k=l(a(73826)),x=a(24501),j=a(1290),F=l(a(30832)),G=a(38352),U=a(15034),V=l(a(64435));function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(H=function(e){return e?a:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=H(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}const{HostsClusterDetailTab:W,getAddHostsTabState:q}=d,B=(0,F.default)(W,G.ASSISTED_INSTALLER_FEATURE),$="Red Hat OpenShift Cluster Manager",Z=e=>{var t,a,l;const{clusterDetails:r,cloudProviders:d,getCloudProviders:F,clearGlobalError:G,getUserAccess:H,resetIdentityProvidersState:z,closeModal:W,resetClusterHistory:Z,clearGetMachinePoolsResponse:Y,clearGetClusterAutoscalerResponse:K,clearFiltersAndFlags:Q,clearListVpcs:J,invalidateClusters:X,getClusterIdentityProviders:ee,clusterIdentityProviders:te,fetchDetails:ae,getAddOns:le,getUsers:ne,getOnDemandMetrics:re,getClusterAddOns:se,getOrganizationAndQuota:oe,getGrants:ie,clusterLogsViewOptions:ue,getClusterHistory:de,getClusterRouters:ce,organization:pe,getMachineOrNodePools:me,getSchedules:fe,fetchClusterInsights:Ee,fetchUpgradeGates:ge,useNodeUpgradePolicies:he,notificationContacts:ve,getNotificationContacts:be,openModal:_e,setGlobalError:Se,displayClusterLogs:Ce,insightsData:ye,logs:Oe,canSubscribeOCP:Ie,canTransferClusterOwnership:Re,canHibernateCluster:Te,anyModalOpen:Ae,hasIssues:Pe,toggleSubscriptionReleased:De,initTabOpen:Ne,assistedInstallerEnabled:Le,userAccess:we,gotRouters:Me,hasNetworkOndemand:ke}=e,xe=(0,s.useNavigate)(),je=(0,s.useParams)(),Fe=je.id,[Ge,Ue]=n.default.useState(""),[Ve,He]=n.default.useState({type:T.eventTypes.NONE}),{cluster:ze}=r,We=n.default.useRef(),qe=n.default.useRef(),Be=n.default.useRef(),$e=n.default.useRef(),Ze=n.default.useRef(),Ye=n.default.useRef(),Ke=n.default.useRef(),Qe=n.default.useRef(),Je=n.default.useRef(),Xe=n.default.useRef(),et=n.default.useRef(null===(t=r.cluster)||void 0===t?void 0:t.id),tt=()=>{var e;const t=null==r||null===(e=r.cluster)||void 0===e?void 0:e.id;!(0,R.isValid)(t)||te.pending||te.error||ee(t)},at=e=>{var t;const a=(0,o.default)(r,"cluster.id"),l=null===(t=r.cluster)||void 0===t||null===(t=t.version)||void 0===t?void 0:t.id,n=(0,o.default)(r,"cluster.managed",!1);(0,R.shouldRefetchQuota)(pe)&&oe();const s=(0,o.default)(r,"cluster.external_id");if(s&&(Ee(s),(()=>{var e;const t=null===(e=r.cluster)||void 0===e||null===(e=e.subscription)||void 0===e?void 0:e.id;(0,R.isValid)(t)&&(ve.pending||be(t))})()),(s||a)&&de(s,a,ue),n)le(a),se(a),ne(a),ce(a),tt(),me(a,(0,D.isHypershiftCluster)(null==r?void 0:r.cluster),l,he),fe(a,(0,D.isHypershiftCluster)(null==r?void 0:r.cluster)),ge(),"gcp"!==(0,o.default)(r,"cluster.cloud_provider.id")&&ie(a);else{var i;const e=null===(i=r.cluster)||void 0===i||null===(i=i.subscription)||void 0===i?void 0:i.id;re(e)}He({type:e||T.eventTypes.AUTO})},lt=e=>{(0,R.isValid)(Fe)&&ae(Fe);const t=(0,o.default)(ze,"id"),a=(0,o.default)(ze,"subscription.status");(0,R.isValid)(t)&&a!==P.subscriptionStatuses.DEPROVISIONED&&at(e)};n.default.useEffect((()=>(G("clusterDetails"),lt(),d.pending||d.error||d.fulfilled||F(),H({type:"OCP"}),()=>{z(),W(),Z(),Y(),K(),Q(),J()})),[]),n.default.useEffect((()=>{var e;const t=je.id;if((0,o.default)(r,"cluster.subscription.id")===t){const e=(0,A.default)(r.cluster);document.title=`${e} | Red Hat OpenShift Cluster Manager`}var a;!et.current&&r.fulfilled&&null!==(e=r.cluster)&&void 0!==e&&e.id&&(at(),et.current=null===(a=r.cluster)||void 0===a?void 0:a.id)}),[je,r,Fe]);const nt=je.id,rt=(0,o.default)(ze,"subscription.id")!==nt&&!r.error;if(rt||!pe.fulfilled&&!r.error)return n.default.createElement(c.AppPage,{title:$},n.default.createElement("div",{id:"clusterdetails-content"},n.default.createElement("div",{className:"cluster-loading-container"},n.default.createElement(u.Spinner,{centered:!0}))));if(r.error&&(!ze||(0,o.default)(ze,"subscription.id")!==nt))return 404===r.errorCode||403===r.errorCode?(Se(n.default.createElement(n.default.Fragment,null,"Cluster with subscription ID ",n.default.createElement("b",null,nt)," was not found, it might have been deleted or you don't have permission to see it."),"clusterDetails",r.errorMessage),n.default.createElement(s.Navigate,{to:"/"})):n.default.createElement(c.AppPage,{title:$},n.default.createElement(L.default,{message:"Error retrieving cluster details",response:r}),rt&&n.default.createElement(u.Spinner,null));const st=(0,D.isHibernating)(ze),ot=(0,o.default)(ze,"subscription.status",!1)===P.subscriptionStatuses.ARCHIVED||(0,o.default)(ze,"subscription.status",!1)===P.subscriptionStatuses.DEPROVISIONED,it=(0,o.default)(ze,"subscription.plan.type","")===P.knownProducts.ARO,ut=(0,o.default)(ze,"subscription.plan.type","")===P.knownProducts.OSDTrial,dt=(0,o.default)(ze,"subscription.plan.type","")===P.knownProducts.RHOIC,ct=ze.managed,pt=(0,D.isHypershiftCluster)(ze),mt=ze.state===D.default.WAITING,ft=ze.state===D.default.PENDING,Et=ze.state===D.default.INSTALLING,gt=ze.state===D.default.READY,ht=ze.state===D.default.UPDATING,vt="read_only"===(null==ze||null===(a=ze.status)||void 0===a?void 0:a.configuration_mode),bt=(0,j.hasCapability)(pe.details,j.subscriptionCapabilities.CREATE_GCP_NON_CCS_CLUSTER),_t=!Et&&!ft&&!mt&&ze.managed&&!ot&&!(0,p.isRestrictedEnv)(),St=!(ot||ze.managed||it||dt||(0,x.isUninstalledAICluster)(ze)||(0,p.isRestrictedEnv)()),Ct=!ot,yt=(0,o.default)(ze,"cloud_provider.id"),Ot=(gt||ht||st)&&ze.managed&&!!(0,o.default)(ze,"api.url")&&("aws"===yt||"gcp"===yt&&((0,o.default)(ze,"ccs.enabled")||Me&&bt))&&!ot,It=!(!(0,p.isRestrictedEnv)()&&ze.managed&&void 0===(null===(l=ze.subscription)||void 0===l?void 0:l.external_cluster_id)||ut),Rt=(ze.managed||it)&&ze.canEdit&&!ot;let Tt={showTab:!1,isDisabled:!1,tabTooltip:""};return Le&&!ot&&(Tt=q(ze)),n.default.createElement(c.AppPage,{title:$},n.default.createElement(y.default,{isReadOnly:vt}),n.default.createElement(i.PageSection,{id:"clusterdetails-content"},n.default.createElement(m.default,{cluster:ze,openModal:_e,pending:r.pending,refreshFunc:lt,clickRefreshFunc:()=>lt(T.eventTypes.CLICKED),clusterIdentityProviders:te,organization:pe,error:r.error,errorMessage:r.errorMessage,canSubscribeOCP:Ie,canTransferClusterOwnership:Re,canHibernateCluster:Te,autoRefreshEnabled:!Ae,toggleSubscriptionReleased:De,showPreviewLabel:pt,logs:Oe},n.default.createElement(f.default,{tabsInfo:{overview:{ref:We,hasIssues:!1},monitoring:{ref:qe,show:St,hasIssues:ze.state!==D.default.INSTALLING&&Pe},accessControl:{ref:Be,show:Ct},addOns:{ref:$e,show:_t},clusterHistory:{ref:Ze,show:Ce},networking:{ref:Ye,show:Ot},machinePools:{ref:Qe,show:(0,D.canViewMachinePoolTab)(ze)},support:{ref:Ke,show:It},upgradeSettings:{ref:Je,show:Rt},addAssisted:{ref:Xe,show:Tt.showTab,isDisabled:Tt.isDisabled,tooltip:Tt.tabTooltip}},initTabOpen:Ne,onTabSelected:e=>{Ue(e)}})),n.default.createElement(i.TabContent,{eventKey:0,id:"overviewTabContent",ref:We,"aria-label":"Overview",ouiaId:"overviewTabContent"},n.default.createElement(C.default,null,n.default.createElement(E.default,{cluster:ze,cloudProviders:d,refresh:lt,openModal:_e,insightsData:ye[ze.external_id],hasNetworkOndemand:ke,userAccess:we}))),St&&n.default.createElement(i.TabContent,{eventKey:1,id:"monitoringTabContent",ref:qe,"aria-label":"Monitoring",hidden:!0},n.default.createElement(C.default,null,n.default.createElement(g.default,{cluster:ze}))),Ct&&n.default.createElement(i.TabContent,{eventKey:2,id:"accessControlTabContent",ref:Be,"aria-label":"Access Control",hidden:!0},n.default.createElement(C.default,null,n.default.createElement(v.default,{cluster:ze,refreshEvent:Ve}))),ct&&n.default.createElement(i.TabContent,{eventKey:3,id:"addOnsTabContent",ref:$e,"aria-label":"Add-ons",hidden:!0},n.default.createElement(C.default,null,n.default.createElement(b.default,{clusterID:ze.id,isHypershift:pt}))),Ce&&n.default.createElement(i.TabContent,{eventKey:4,id:"clusterHistoryTabContent",ref:Ze,"aria-label":"Cluster history",hidden:!0},n.default.createElement(C.default,null,n.default.createElement(V.default,{externalClusterID:ze.external_id,clusterID:ze.id,createdAt:ze.creation_timestamp,refreshEvent:{type:Ve.type,reset:()=>He({type:T.eventTypes.NONE})},isVisible:Ge===U.ClusterTabsId.CLUSTER_HISTORY}))),Ot&&n.default.createElement(i.TabContent,{eventKey:5,id:"networkingTabContent",ref:Ye,"aria-label":"Networking",hidden:!0},n.default.createElement(C.default,null,n.default.createElement(h.default,{clusterID:ze.id,refreshCluster:lt}))),n.default.createElement(i.TabContent,{eventKey:7,id:"supportTabContent",ref:Ke,"aria-label":"Support",hidden:!0},n.default.createElement(C.default,null,n.default.createElement(w.default,{isDisabled:ot}))),(0,D.canViewMachinePoolTab)(ze)&&n.default.createElement(i.TabContent,{eventKey:6,id:"machinePoolsContent",ref:Qe,"aria-label":"Machine pools",hidden:!0},n.default.createElement(C.default,null,n.default.createElement(_.default,{cluster:ze}))),Rt&&n.default.createElement(i.TabContent,{eventKey:8,id:"upgradeSettingsContent",ref:Je,"aria-label":"Upgrade settings",hidden:!0},n.default.createElement(C.default,null,n.default.createElement(k.default,null))),Tt.showTab&&!Tt.isDisabled&&n.default.createElement(i.TabContent,{eventKey:9,id:"addHostsContent",ref:Xe,"aria-label":"Add Hosts",hidden:!0},n.default.createElement(C.default,null,n.default.createElement(B,{cluster:ze,isVisible:Ge===U.ClusterTabsId.ADD_ASSISTED_HOSTS}))),n.default.createElement(O.default,{onClose:()=>{(0,R.isValid)(Fe)&&ae(Fe)},onClusterDeleted:()=>{X(),xe("/")}}),n.default.createElement(S.default,{refreshParent:tt}),n.default.createElement(M.default,null),n.default.createElement(N.default,{clusterID:ze.id}),n.default.createElement(I.default,{isHypershift:pt})))};Z.propTypes={fetchDetails:r.default.func.isRequired,fetchClusterInsights:r.default.func.isRequired,getCloudProviders:r.default.func.isRequired,getOrganizationAndQuota:r.default.func.isRequired,getOnDemandMetrics:r.default.func.isRequired,getAddOns:r.default.func.isRequired,getClusterAddOns:r.default.func.isRequired,getUsers:r.default.func.isRequired,invalidateClusters:r.default.func.isRequired,cloudProviders:r.default.object.isRequired,gotRouters:r.default.bool.isRequired,displayClusterLogs:r.default.bool.isRequired,openModal:r.default.func.isRequired,closeModal:r.default.func.isRequired,resetClusterHistory:r.default.func.isRequired,getClusterIdentityProviders:r.default.func.isRequired,insightsData:r.default.object,logs:r.default.arrayOf(r.default.shape({summary:r.default.string,description:r.default.string})),clusterIdentityProviders:r.default.object.isRequired,organization:r.default.object.isRequired,clusterDetails:r.default.shape({cluster:r.default.object,error:r.default.bool,errorCode:r.default.oneOfType([r.default.number,r.default.string]),errorMessage:r.default.oneOfType([r.default.string,r.default.node,r.default.element]),fulfilled:r.default.bool,history:r.default.object,pending:r.default.bool.isRequired}),resetIdentityProvidersState:r.default.func.isRequired,setGlobalError:r.default.func.isRequired,clearGlobalError:r.default.func.isRequired,getGrants:r.default.func.isRequired,clusterLogsViewOptions:r.default.object.isRequired,getClusterHistory:r.default.func.isRequired,getMachineOrNodePools:r.default.func.isRequired,clearGetMachinePoolsResponse:r.default.func.isRequired,clearGetClusterAutoscalerResponse:r.default.func.isRequired,clearListVpcs:r.default.func.isRequired,canSubscribeOCP:r.default.bool.isRequired,canTransferClusterOwnership:r.default.bool.isRequired,canHibernateCluster:r.default.bool.isRequired,getClusterRouters:r.default.func.isRequired,anyModalOpen:r.default.bool,hasIssues:r.default.bool.isRequired,toggleSubscriptionReleased:r.default.func.isRequired,initTabOpen:r.default.string.isRequired,notificationContacts:r.default.object.isRequired,getNotificationContacts:r.default.func.isRequired,hasNetworkOndemand:r.default.bool.isRequired,assistedInstallerEnabled:r.default.bool,getSchedules:r.default.func,getUserAccess:r.default.func.isRequired,userAccess:r.default.shape({data:r.default.bool,pending:r.default.bool,fulfilled:r.default.bool}).isRequired,fetchUpgradeGates:r.default.func,clearFiltersAndFlags:r.default.func.isRequired,useNodeUpgradePolicies:r.default.bool},Z.defaultProps={insightsData:{},clusterDetails:{cluster:null,error:!1,errorMessage:"",fulfilled:!1}},t.default=Z},77696:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(10434)),r=l(a(28416)),s=a(87558),o=l(a(94634)),i=l(a(31013));t.Z=e=>{const t=(0,s.useParams)(),a=(0,s.useLocation)();return"#insights"===a.hash?r.default.createElement(o.default,(0,n.default)({params:t,location:a},e)):r.default.createElement(i.default,(0,n.default)({params:t,location:a},e))}},6775:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(10434)),r=l(a(28416)),s=a(87558),o=l(a(70418)),i=l(a(94634));t.Z=e=>{const t=(0,s.useParams)(),a=(0,s.useLocation)();return"#insights"===a.hash?r.default.createElement(i.default,(0,n.default)({params:t,location:a},e)):r.default.createElement(o.default,(0,n.default)({location:a},e))}},39555:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=l(a(27361)),o=a(65652),i=l(a(50868)),u=l(a(22473)),d=l(a(40465)),c=l(a(14852)),p=a(59231),m=a(31125);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function E(e){let{cluster:t,refreshEvent:a=null}=e;const[l,r]=n.default.useState(0),[f,E]=(0,n.useState)(!0),[g,h]=(0,n.useState)(""),[v,b]=(0,n.useState)(""),_={console:(0,s.default)(t,"console.url"),api:(0,s.default)(t,"api.url")},[S,C]=(0,n.useState)(!1),[y,O]=(0,n.useState)(!1),[I,R]=(0,n.useState)(!1),[T,A]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=window.matchMedia?window.matchMedia("(min-width: 768px)"):null,t=e=>{e.matches?(E(!0),h("")):(E(!1),h("pf-m-scrollable"))};return window.matchMedia&&(t(e),e.addEventListener("change",t)),()=>{e&&e.removeEventListener("change",t)}}),[]),(0,n.useEffect)((()=>{var e;const a=!(0,m.isReadyForRoleAccessActions)(t),l=!(0,m.isReadyForIdpActions)(t),n=!(0,m.isReadyForAwsAccessActions)(t);O(a),R(l),A(n),C("read_only"===(null==t||null===(e=t.status)||void 0===e?void 0:e.configuration_mode)),b(a&&l&&n?"single-tab":"")}),[t]),n.default.createElement(o.Card,null,n.default.createElement(o.CardBody,{id:"cluster-details-access-control-tab-contents",className:v},n.default.createElement(o.Tabs,{activeKey:l,onSelect:(e,t)=>r(t),isVertical:f,className:g,isBox:!0},n.default.createElement(o.Tab,{eventKey:0,id:"identity-providers",title:n.default.createElement(o.TabTitleText,null,"Identity providers"),isHidden:I},n.default.createElement(d.default,{clusterID:(0,s.default)(t,"id"),isHypershift:(0,p.isHypershiftCluster)(t),clusterUrls:_,idpActions:t.idpActions,clusterHibernating:(0,p.isHibernating)(t),isReadOnly:S})),n.default.createElement(o.Tab,{eventKey:1,id:"cluster-roles-access",title:n.default.createElement(o.TabTitleText,null,"Cluster Roles and Access"),isHidden:y},n.default.createElement(u.default,{cluster:t,clusterHibernating:(0,p.isHibernating)(t),isReadOnly:S})),n.default.createElement(o.Tab,{eventKey:2,id:"ocm-roles-access",title:n.default.createElement(o.TabTitleText,null,"OCM Roles and Access")},n.default.createElement(i.default,{subscription:t.subscription,canEditOCMRoles:t.canEditOCMRoles,canViewOCMRoles:t.canViewOCMRoles,refreshEvent:a})),n.default.createElement(o.Tab,{eventKey:3,id:"aws-infra-access",isHidden:T,title:n.default.createElement(o.TabTitleText,null,"AWS infrastructure access")},n.default.createElement(c.default,{clusterID:(0,s.default)(t,"id"),canEdit:t.canEdit,clusterHibernating:(0,p.isHibernating)(t),isReadOnly:S})))))}E.propTypes={cluster:r.default.object.isRequired,refreshEvent:r.default.object},t.default=E},86123:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(27361)),o=a(87558),i=a(65652),u=a(65996),d=a(64284),c=a(94648),p=l(a(69573)),m=l(a(8980)),f=l(a(91885)),E=a(69229);const g=e=>{let{clusterID:t,subscriptionID:a,clusterUrls:l,identityProviders:r,openModal:g,idpActions:h={},clusterHibernating:v,isReadOnly:b,isHypershift:_}=e;const S=(0,o.useNavigate)(),[C,y]=n.default.useState(!1),O=[{title:"Name",transforms:[(0,d.cellWidth)(30)]},{title:"Type",transforms:[(0,d.cellWidth)(30)]},{title:"Auth callback URL",transforms:[(0,d.cellWidth)(30)]}],I=n.default.createElement("a",{rel:"noopener noreferrer",href:f.default.UNDERSTANDING_IDENTITY_PROVIDER,target:"_blank"},"Learn more."),R=!r.fulfilled&&!r.error||r.pending,T=!!r.clusterIDPList.length,A=b?"This operation is not available during maintenance":v&&"This operation is not available while cluster is hibernating",P=A||!h.create&&`You do not have permission to ${"add"} an identity provider. Only cluster owners, cluster editors, identity provider editors, and Organization Administrators can add identity providers.`;const D=Object.values(E.IDPTypeNames).map((e=>n.default.createElement(u.DropdownItem,{key:e,component:n.default.createElement(o.Link,{to:`/details/s/${a}/add-idp/${e.toLowerCase()}`,state:{allLoaded:!0}},e)})));let N=n.default.createElement(u.Dropdown,{toggle:n.default.createElement(u.DropdownToggle,{id:"add-identity-provider",isDisabled:P,onToggle:(e,t)=>{y(t)}},"Add identity provider"),isOpen:C,dropdownItems:D});return P&&(N=n.default.createElement(i.Tooltip,{content:P},N)),R?n.default.createElement(i.Card,null,n.default.createElement(i.CardTitle,null,n.default.createElement(p.default,{size:"md"})),n.default.createElement(i.CardBody,null,n.default.createElement(p.default,{size:"lg"})),n.default.createElement(i.CardFooter,null,n.default.createElement(p.default,{size:"md"}))):n.default.createElement(i.Card,null,n.default.createElement(i.CardBody,null,n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,null,n.default.createElement(i.Title,{headingLevel:"h2",size:"lg",className:"card-title"},"Identity providers"),n.default.createElement("p",null,"Configure identity providers to allow users to log into the cluster. ",I)),n.default.createElement(i.StackItem,null,N),n.default.createElement(i.StackItem,null,T&&h.list&&n.default.createElement(c.Table,{"aria-label":"Identity Providers",actionResolver:e=>{const l={title:"Edit",isDisabled:!h.update,onClick:(e,t,l)=>{S(`/details/s/${a}/edit-idp/${l.idpName}`)},className:"hand-pointer"},n={title:"Delete",isDisabled:!h.delete,onClick:(e,a,l)=>g("delete-idp",{clusterID:t,idpID:l.idpID,idpName:l.name.title,idpType:l.type.title}),className:"hand-pointer"};return e.type.title===E.IDPTypeNames[E.IDPformValues.HTPASSWD]?[n]:[l,n]},variant:d.TableVariant.compact,cells:O,rows:r.clusterIDPList.map((e=>({cells:[e.name,(0,s.default)(E.IDPTypeNames,e.type,e.type),{title:(0,E.IDPNeedsOAuthURL)(e.type)?n.default.createElement(m.default,{className:"access-control-tables-copy",text:(0,E.getOauthCallbackURL)(l,e.name,_)},"Copy URL to clipboard"):"N/A"}],idpID:e.id,idpName:e.name,idpTypeName:e.type}))),areActionsDisabled:()=>!!A},n.default.createElement(c.TableHeader,null),n.default.createElement(c.TableBody,null))))))};g.propTypes={clusterID:r.default.string.isRequired,subscriptionID:r.default.string.isRequired,clusterUrls:r.default.shape({console:r.default.string,api:r.default.string}).isRequired,identityProviders:r.default.object.isRequired,openModal:r.default.func.isRequired,idpActions:r.default.shape({get:r.default.bool,list:r.default.bool,create:r.default.bool,update:r.default.bool,delete:r.default.bool}).isRequired,clusterHibernating:r.default.bool.isRequired,isReadOnly:r.default.bool.isRequired,isHypershift:r.default.bool.isRequired},t.default=g},40465:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9409),s=a(7046),o=l(a(86123));const i={getClusterIdentityProviders:r.getClusterIdentityProviders,openModal:s.openModal};t.default=(0,n.connect)((e=>{var t;return{identityProviders:e.identityProviders.clusterIdentityProviders,subscriptionID:null===(t=e.clusters.details.cluster.subscription)||void 0===t?void 0:t.id}}),i)(o.default)},46407:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(65652),i=a(12812),u=l(a(25967)),d=l(a(7749)),c=l(a(68248)),p=a(90181);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}a(97589);const f={selectedRole:"",arn:"",arnTouched:!1};class E extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"state",f),(0,n.default)(this,"setArnValue",(e=>{this.setState({arn:e,arnTouched:!0})})),(0,n.default)(this,"setRoleValue",((e,t)=>{this.setState({selectedRole:t.target.value})}))}componentDidUpdate(e){const{selectedRole:t}=this.state,{roles:a}=this.props;!t&&a.length&&this.setState({selectedRole:a[0].id});const{addGrantResponse:l,clearAddGrantResponse:n,closeModal:r}=this.props;!e.addGrantResponse.fulfilled&&l.fulfilled&&(r(),n(),this.setState(f))}render(){const{isOpen:e,closeModal:t,submit:a,addGrantResponse:l,clearAddGrantResponse:n,roles:s}=this.props,{selectedRole:m,arn:f,arnTouched:E}=this.state,g=()=>{n(),t()},h=l.error&&r.default.createElement(d.default,{message:"Error adding grant",response:l}),v=(0,p.validateUserOrGroupARN)(f),b=()=>{!v&&m&&a(m,f)},_=e=>r.default.createElement(o.Radio,{className:"radio-button",key:e.id,isChecked:m===e.id,name:e.id,onChange:(e,t)=>this.setRoleValue(t,e),label:r.default.createElement(r.default.Fragment,null,e.displayName,r.default.createElement("div",{className:"radio-helptext"},e.description)),id:e.id,value:e.id});return e&&r.default.createElement(u.default,{title:"Grant AWS infrastructure role",onClose:g,primaryText:"Grant role",secondaryText:"Cancel",onPrimaryClick:b,onSecondaryClick:g,isPrimaryDisabled:!!v||l.pending,isPending:l.pending},r.default.createElement(r.default.Fragment,null,h,r.default.createElement(o.Form,{className:"control-form-cursor",onSubmit:e=>{b(),e.preventDefault()}},r.default.createElement(o.FormGroup,{label:"AWS IAM ARN",isRequired:!0,fieldId:"aws-iam-arn",labelIcon:r.default.createElement(c.default,{hint:r.default.createElement("div",null,r.default.createElement("p",null,"Need help configuring ARNs?"),r.default.createElement("a",{href:"https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html",target:"_blank",rel:"noreferrer noopener"},"Check the AWS documentation.")),iconClassName:"hand-pointer"})},r.default.createElement(o.TextInput,{value:f,isRequired:!0,id:"aws-iam-arn-input",type:"text",validated:E&&v?"error":"default",placeholder:"arn:aws:iam::123456789012:user/name",onChange:(e,t)=>this.setArnValue(t),"aria-label":"AWS IAM ARN"}),r.default.createElement(i.FormGroupHelperText,{touched:E,error:v})),r.default.createElement("h3",{id:"grant-role-select"},"Role"),s.map((e=>_(e))))))}}E.propTypes={roles:s.default.array.isRequired,closeModal:s.default.func.isRequired,submit:s.default.func.isRequired,clearAddGrantResponse:s.default.func.isRequired,addGrantResponse:s.default.object,isOpen:s.default.bool},E.defaultProps={addGrantResponse:{},isOpen:!1},t.default=E},19282:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(46407)),s=a(68944),o=a(7046),i=l(a(80338));t.default=(0,n.connect)((e=>({isOpen:(0,i.default)(e,"grant-modal"),addGrantResponse:e.networkSelfService.addGrantResponse,roles:e.networkSelfService.roles.data})),((e,t)=>({closeModal:()=>e((0,o.closeModal)()),clearAddGrantResponse:()=>e((0,s.clearAddGrantResponse)()),submit:(a,l)=>{e((0,s.addGrant)(t.clusterID,a,l))}})))(r.default)},68944:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRoles=t.getGrants=t.deleteGrant=t.default=t.clearAddGrantResponse=t.addGrant=void 0;var l=a(10707),n=a(33047);const r=()=>e=>e({type:l.GET_ROLES,payload:n.clusterService.getRoles()});t.getRoles=r;const s=e=>t=>t({type:l.GET_GRANTS,payload:n.clusterService.getGrants(e)});t.getGrants=s;const o=(e,t,a)=>r=>r({type:l.ADD_GRANT,payload:n.clusterService.addGrant(e,t,a)});t.addGrant=o;const i=(e,t)=>a=>a({type:l.DELETE_GRANT,payload:n.clusterService.deleteGrant(e,t)});t.deleteGrant=i;const u=()=>e=>e({type:l.CLEAR_ADD_GRANT_RESPONSE});t.clearAddGrantResponse=u;const d={getRoles:r,getGrants:s,addGrant:o,clearAddGrantResponse:u,deleteGrant:i};t.default=d},10707:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GET_ROLES=t.GET_GRANTS=t.DELETE_GRANT=t.CLEAR_GET_ROLES_RESPONSE=t.CLEAR_GET_GRANTS_RESPONSE=t.CLEAR_ADD_GRANT_RESPONSE=t.ADD_GRANT=void 0;const a=t.GET_ROLES="GET_ROLES",l=t.GET_GRANTS="GET_GRANTS",n=t.ADD_GRANT="ADD_GRANT",r=t.DELETE_GRANT="DELETE_GRANT",s={GET_ROLES:a,GET_GRANTS:l,ADD_GRANT:n,CLEAR_GET_ROLES_RESPONSE:t.CLEAR_GET_ROLES_RESPONSE="CLEAR_GET_ROLES_RESPONSE",CLEAR_GET_GRANTS_RESPONSE:t.CLEAR_GET_GRANTS_RESPONSE="CLEAR_GET_GRANTS_RESPONSE",CLEAR_ADD_GRANT_RESPONSE:t.CLEAR_ADD_GRANT_RESPONSE="CLEAR_ADD_GRANT_RESPONSE",DELETE_GRANT:r};t.default=s},21902:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(38416)),r=a(25684),s=l(a(89734)),o=a(52220),i=a(34693),u=a(10707);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const p={roles:c(c({},o.baseRequestState),{},{data:[]}),grants:c(c({},o.baseRequestState),{},{data:[]}),addGrantResponse:c({},o.baseRequestState),deleteGrantResponse:c({},o.baseRequestState)};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,o.PENDING_ACTION)(u.GET_ROLES):e.roles.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.GET_ROLES):e.roles=c(c({},p.roles),{},{fulfilled:!0,data:t.payload.data.items.map((e=>({id:e.id,displayName:e.display_name||e.id,description:e.description})))});break;case(0,o.REJECTED_ACTION)(u.GET_ROLES):e.roles=c(c({},p.roles),(0,i.getErrorState)(t));break;case(0,o.PENDING_ACTION)(u.GET_GRANTS):e.grants.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.GET_GRANTS):e.grants=c(c({},p.grants),{},{fulfilled:!0,data:(0,s.default)(t.payload.data.items,["user_arn","role.id"])});break;case(0,o.REJECTED_ACTION)(u.GET_GRANTS):e.grants=c(c({},p.grants),(0,i.getErrorState)(t));break;case(0,o.PENDING_ACTION)(u.ADD_GRANT):e.addGrantResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.ADD_GRANT):e.addGrantResponse=c(c({},p.addGrantResponse),{},{fulfilled:!0});break;case(0,o.REJECTED_ACTION)(u.ADD_GRANT):e.addGrantResponse=c(c({},p.addGrantResponse),(0,i.getErrorState)(t));break;case u.CLEAR_ADD_GRANT_RESPONSE:e.addGrantResponse=c({},p.addGrantResponse);break;case(0,o.PENDING_ACTION)(u.DELETE_GRANT):e.deleteGrantResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.DELETE_GRANT):e.deleteGrantResponse=c(c({},p.deleteGrantResponse),{},{fulfilled:!0});break;case(0,o.REJECTED_ACTION)(u.DELETE_GRANT):e.deleteGrantResponse=c(c({},p.addGrantResponse),(0,i.getErrorState)(t))}}))}m.initialState=p,t.Z=m},56023:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(64284),u=a(94648),d=a(84213),c=a(15265),p=a(43047),m=a(94768),f=a(17542),E=a(68778),g=l(a(69573)),h=l(a(7749)),v=l(a(8980)),b=l(a(26746));class _ extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{deletedRowIndex:void 0})}componentDidMount(){const{getRoles:e,getGrants:t}=this.props;e(),t()}componentDidUpdate(e){const{deleteGrantResponse:t,addGrantResponse:a,getGrants:l,grants:n,addNotification:r}=this.props,{deletedRowIndex:s}=this.state;if((t.fulfilled&&e.deleteGrantResponse.pending||a.fulfilled&&e.addGrantResponse.pending)&&!n.pending&&l(),n.fulfilled&&e.grants.pending&&0!==n.data.length){const t=e.grants.data.reduce(((e,t)=>(e[t.id]=t.state,e)),{});n.data.forEach((e=>{t[e.id]&&e.state!==t[e.id]&&("failed"===e.state?r({variant:"danger",title:`Role creation failed for ${e.user_arn}`,description:e.state_description,dismissDelay:8e3,dismissable:!1}):"ready"===e.state&&r({variant:"success",title:`${e.roleName} role successfully created for ${e.user_arn}`,dismissDelay:8e3,dismissable:!1}))}))}void 0!==s&&n.fulfilled&&e.grants.pending&&this.setState({deletedRowIndex:void 0})}render(){const{grants:e,deleteGrant:t,deleteGrantResponse:a,openAddGrantModal:l,canEdit:n,clusterHibernating:s,isReadOnly:_}=this.props,{deletedRowIndex:S}=this.state,C=(e,t)=>{let a,l;switch(e){case"ready":a=r.default.createElement(E.CheckCircleIcon,{className:"status-icon success"}),l="Ready";break;case"failed":a=r.default.createElement(p.ExclamationCircleIcon,{className:"status-icon danger"}),l="Failed";break;case"pending":a=r.default.createElement(m.InProgressIcon,{className:"status-icon"}),l="Pending";break;case"deleting":a=r.default.createElement(m.InProgressIcon,{className:"status-icon"}),l="Deleting";break;case"removed":a=r.default.createElement(f.UnknownIcon,{className:"status-icon"}),l="Removed";break;default:a=r.default.createElement(f.UnknownIcon,{className:"status-icon"}),l="Unknown"}return"failed"===e?r.default.createElement("span",null,r.default.createElement(o.Popover,{position:o.PopoverPosition.top,bodyContent:t,"aria-label":"grant-failed"},r.default.createElement(o.Button,{className:"self-service-failed",variant:"link",isInline:!0,icon:a},l))):r.default.createElement(r.default.Fragment,null,a," ",r.default.createElement("span",null,l)," ")},y=[{title:r.default.createElement(r.default.Fragment,null,"ARN",r.default.createElement(o.Popover,{position:o.PopoverPosition.top,"aria-label":"ARNs",bodyContent:r.default.createElement("p",null,"Amazon Resource Names (ARNs) uniquely identify AWS resources.")},r.default.createElement(o.Button,{variant:"plain",isInline:!0},r.default.createElement(o.Icon,{size:"md"},r.default.createElement(d.HelpIcon,null)))))},{title:"Role"},{title:"Status"},{title:"AWS OSD console URL"}],O=[{title:"Delete",onClick:(e,a,l)=>{this.setState({deletedRowIndex:a}),t(l.grantId)},className:"hand-pointer"}];if(e.error)return r.default.createElement(o.EmptyState,null,r.default.createElement(h.default,{message:"Error getting cluster users",response:e}));const I=r.default.createElement("a",{rel:"noopener noreferrer",href:"https://console.aws.amazon.com/console/home",target:"_blank"},"Log in to your aws account."),R=!!e.data.length,T=R&&e.data.map(((e,t)=>({cells:[e.user_arn,e.roleName,{title:C(S===t?"deleting":e.state,e.state_description)},{title:r.default.createElement(v.default,{className:"access-control-tables-copy",text:e.console_url,isDisabled:!e.console_url},"Copy URL to clipboard")}],grantId:e.id,state:e.state}))),A=(_?"This operation is not available during maintenance":s&&"This operation is not available while cluster is hibernating")||!n&&"You do not have permission to grant a role. Only cluster owners, cluster editors, and Organization Administrators can grant roles.",P=r.default.createElement(b.default,{onClick:()=>{setTimeout((()=>l()),0)},variant:"secondary",className:"access-control-add",disableReason:A},"Grant role");return e.pending&&!R?r.default.createElement(o.Card,null,r.default.createElement(o.CardTitle,null,r.default.createElement(g.default,{size:"md"})),r.default.createElement(o.CardBody,null,r.default.createElement(g.default,{size:"lg"})),r.default.createElement(o.CardFooter,null,r.default.createElement(g.default,{size:"md"}))):r.default.createElement(o.Card,{id:"networkSelfService"},r.default.createElement(o.CardBody,null,a.error&&r.default.createElement(h.default,{message:"Error deleting grant",response:a}),r.default.createElement(o.Title,{size:"lg",className:"card-title",headingLevel:"h3"},"AWS infrastructure access"),r.default.createElement("p",null,"Grant permission to view or manage the AWS infrastructure of the cluster to IAM users defined in your AWS account. ",I,r.default.createElement(c.ExternalLinkAltIcon,{color:"#0066cc",size:"sm"})),R&&r.default.createElement(u.Table,{"aria-label":"Grants",actions:O,variant:i.TableVariant.compact,cells:y,rows:T,areActionsDisabled:e=>"deleting"===e.state||!!A},r.default.createElement(u.TableHeader,null),r.default.createElement(u.TableBody,null)),P))}}_.propTypes={getRoles:s.default.func.isRequired,getGrants:s.default.func.isRequired,grants:s.default.object.isRequired,addGrantResponse:s.default.object,deleteGrant:s.default.func.isRequired,deleteGrantResponse:s.default.object,openAddGrantModal:s.default.func.isRequired,addNotification:s.default.func.isRequired,canEdit:s.default.bool.isRequired,clusterHibernating:s.default.bool.isRequired,isReadOnly:s.default.bool.isRequired},t.default=_},66331:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=e=>{const{roles:t,grants:a}=e.networkSelfService,l=e=>{const a=t.data.find((t=>t.id===e));return a?a.displayName:e};return a.data.map((e=>({id:e.id,user_arn:e.user_arn,state:e.state,state_description:e.state_description,console_url:e.console_url,roleName:l(e.role.id)})))}},14852:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=a(66338),s=a(53446),o=l(a(56023)),i=a(68944),u=l(a(66331)),d=a(7046),c=l(a(80338));function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=(0,r.connect)((e=>({isModalOpen:(0,c.default)(e,"grant-modal"),grants:m(m({},e.networkSelfService.grants),{},{data:(0,u.default)(e)}),addGrantResponse:e.networkSelfService.addGrantResponse,deleteGrantResponse:e.networkSelfService.deleteGrantResponse,roles:e.networkSelfService.roles})),((e,t)=>({openAddGrantModal:()=>e((0,d.openModal)("grant-modal")),closeModal:()=>e((0,d.closeModal)()),getRoles:()=>e((0,i.getRoles)()),getGrants:()=>e((0,i.getGrants)(t.clusterID)),clearAddGrantResponse:()=>e((0,i.clearAddGrantResponse)()),submit:(a,l)=>{e((0,i.addGrant)(t.clusterID,a,l))},deleteGrant:a=>e((0,i.deleteGrant)(t.clusterID,a)),addNotification:t=>e((0,s.addNotification)(t))})))(o.default)},34958:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(65652),i=a(12812),u=l(a(25967)),d=l(a(7749)),c=l(a(42517)),p=l(a(91885)),m=a(90181);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const E={selectedGroup:"dedicated-admins",userId:"",userIdTouched:!1};class g extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"state",E),(0,n.default)(this,"setUserIdValue",(e=>{this.setState({userId:e,userIdTouched:!0})})),(0,n.default)(this,"setGroupValue",((e,t)=>{this.setState({selectedGroup:t.target.value})})),(0,n.default)(this,"cancelAddUser",(()=>{const{clearAddUserResponses:e,closeModal:t}=this.props;this.setState(E),e(),t()}))}componentDidUpdate(){const{addUserResponse:e,clearAddUserResponses:t,closeModal:a}=this.props;e.fulfilled&&(a(),t(),this.setState(E))}render(){const{isOpen:e,submit:t,addUserResponse:a,clusterID:l,canAddClusterAdmin:n}=this.props,{selectedGroup:s,userId:f,userIdTouched:E}=this.state,g=a.error&&r.default.createElement(d.default,{message:"Error adding grant",response:a}),h=(0,m.checkUserID)(f),v=()=>{!h&&s&&t(l,s,f)},b="dedicated-admins",_="cluster-admins";return e&&r.default.createElement(u.default,{title:"Add cluster user",onClose:this.cancelAddUser,primaryText:"Add user",secondaryText:"Cancel",onPrimaryClick:v,onSecondaryClick:this.cancelAddUser,isPrimaryDisabled:!!h||a.pending,isPending:a.pending},r.default.createElement(r.default.Fragment,null,g,r.default.createElement(o.Form,{className:"control-form-cursor",onSubmit:e=>{v(),e.preventDefault()}},r.default.createElement(o.FormGroup,{label:"User ID",isRequired:!0,fieldId:"user-id"},r.default.createElement(o.TextInput,{value:f,isRequired:!0,id:"user-id",type:"text",validated:E&&h?"error":"default",onChange:(e,t)=>this.setUserIdValue(t),"aria-label":"user id"}),r.default.createElement(i.FormGroupHelperText,{touched:E,error:h})),r.default.createElement("h3",{id:"user-group-select"},"Group"),r.default.createElement(o.Radio,{className:"radio-button",key:b,isChecked:s===b,name:b,onChange:(e,t)=>this.setGroupValue(t,e),label:r.default.createElement(r.default.Fragment,null,b,r.default.createElement("div",{className:"radio-helptext"},"Grants standard administrative privileges for OpenShift Dedicated. Users can perform administrative actions listed in the"," ",r.default.createElement(c.default,{href:p.default.OSD_DEDICATED_ADMIN_ROLE},"documentation"),".")),id:b,value:b}),n&&r.default.createElement(o.Radio,{className:"radio-button",key:_,isChecked:s===_,name:_,onChange:(e,t)=>this.setGroupValue(t,e),label:r.default.createElement(r.default.Fragment,null,_,r.default.createElement("div",{className:"radio-helptext"}," ","Gives users full administrative access to the cluster. This is the highest level of privilege available to users. It should be granted with extreme care, because it is possible with this level of access to get the cluster into an unsupportable state.")),id:_,value:_}))))}}g.propTypes={closeModal:s.default.func.isRequired,submit:s.default.func.isRequired,clearAddUserResponses:s.default.func.isRequired,addUserResponse:s.default.object,isOpen:s.default.bool,canAddClusterAdmin:s.default.bool.isRequired,clusterID:s.default.string.isRequired},g.defaultProps={addUserResponse:{},isOpen:!1},t.default=g},39687:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(27361)),r=l(a(28230)),s=a(33047);const o={getUsers:e=>t=>t({type:r.default.GET_USERS,payload:s.clusterService.getClusterGroupUsers(e).then((e=>(e.data.items=(0,n.default)(e,"data.items",[]).map((e=>{const t=e;return t.users&&(t.users.items=(0,n.default)(t,"users.items",[]).filter((e=>"cluster-admin"!==e.id))),t})),e)))}),addUser:(e,t,a)=>l=>l({type:r.default.ADD_USER,payload:s.clusterService.addClusterGroupUser(e,t,a)}),deleteUser:(e,t,a)=>l=>l({type:r.default.DELETE_USER,payload:s.clusterService.deleteClusterGroupUser(e,t,a)}),clearUsersResponses:()=>({type:r.default.CLEAR_USER_RESPONSES}),clearAddUserResponses:()=>({type:r.default.CLEAR_ADD_USER_RESPONSES})};t.default=o},28230:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={GET_USERS:"GET_USERS",GET_CLUSTER_ADMINS:"GET_CLUSTER_ADMINS",GET_DEDICATED_ADMNIS:"GET_DEDICATED_ADMNIS",DELETE_USER:"DELETE_USER",ADD_USER:"ADD_USER",CLEAR_USER_RESPONSES:"CLEAR_USER_RESPONSES",CLEAR_ADD_USER_RESPONSES:"CLEAR_ADD_USER_RESPONSES"}},3461:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(38416)),r=a(25684),s=l(a(27361)),o=a(52220),i=a(34693),u=l(a(28230));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const p={groupUsers:c(c({},o.baseRequestState),{},{clusterID:void 0,users:[]}),deleteUserResponse:c({},o.baseRequestState),addUserResponse:c({},o.baseRequestState)};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,o.PENDING_ACTION)(u.default.GET_USERS):e.groupUsers.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.default.GET_USERS):{const a=[];t.payload.data.items.forEach((e=>(0,s.default)(e,"users.items",[]).forEach((t=>a.push(c(c({},t),{},{group:e.id})))))),e.groupUsers=c(c({},o.baseRequestState),{},{fulfilled:!0,clusterID:t.payload.clusterID,users:a});break}case(0,o.REJECTED_ACTION)(u.default.GET_DEDICATED_ADMNIS):e.groupUsers=c(c({},p.groupUsers),(0,i.getErrorState)(t));break;case(0,o.PENDING_ACTION)(u.default.ADD_USER):e.addUserResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.default.ADD_USER):e.addUserResponse={pending:!1,fulfilled:!0};break;case(0,o.REJECTED_ACTION)(u.default.ADD_USER):e.addUserResponse=c(c({},p),(0,i.getErrorState)(t));break;case(0,o.PENDING_ACTION)(u.default.DELETE_USER):e.deleteUserResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.default.DELETE_USER):e.deleteUserResponse={pending:!1,fulfilled:!0};break;case(0,o.REJECTED_ACTION)(u.default.DELETE_USER):e.deleteUserResponse=c(c({},p),(0,i.getErrorState)(t));break;case u.default.CLEAR_ADD_USER_RESPONSES:e.addUserResponse=c({},o.baseRequestState);break;case u.default.CLEAR_USER_RESPONSES:return p}}))}m.initialState=p,t.ZP=m},65590:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(84213),i=a(65652),u=a(64284),d=a(94648),c=l(a(69573)),p=l(a(91885)),m=l(a(7749)),f=l(a(42517)),E=l(a(26746)),g=l(a(34958));class h extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{deletedRowIndex:null})}componentDidMount(){const{clusterGroupUsers:e,cluster:t,getUsers:a}=this.props;e.clusterID===t.id&&e.pending||a()}componentDidUpdate(e){const{deleteUserResponse:t,addUserResponse:a,getUsers:l,clusterGroupUsers:n}=this.props,{deletedRowIndex:r}=this.state;(t.fulfilled&&e.deleteUserResponse.pending||a.fulfilled&&e.addUserResponse.pending)&&!n.pending&&l(),e.clusterGroupUsers.pending&&n.fulfilled&&null!==r&&this.setState({deletedRowIndex:null})}componentWillUnmount(){const{clearUsersResponses:e}=this.props;e()}render(){const{clusterGroupUsers:e,addUserResponse:t,deleteUserResponse:a,cluster:l,clusterHibernating:n,isReadOnly:s,deleteUser:h,addUser:v,isAddUserModalOpen:b,openModal:_,closeModal:S,clearAddUserResponses:C,canAddClusterAdmin:y,hasUsers:O}=this.props,{deletedRowIndex:I}=this.state,R=[{title:r.default.createElement(r.default.Fragment,null,"User ID",r.default.createElement(i.Popover,{position:i.PopoverPosition.top,"aria-label":"User IDs",bodyContent:r.default.createElement("p",null,"User IDs are matched by the cluster's identity providers.")},r.default.createElement(i.Button,{variant:"plain",isInline:!0,"aria-label":"Help"},r.default.createElement(i.Icon,{size:"md"},r.default.createElement(o.HelpIcon,null)))))},{title:r.default.createElement(r.default.Fragment,null,"Group",r.default.createElement(i.Popover,{position:i.PopoverPosition.top,"aria-label":"Groups",bodyContent:r.default.createElement("p",null,"Groups are mapped to role bindings on the cluster. For more information check the"," ",r.default.createElement(f.default,{href:p.default.UNDERSTANDING_AUTHENTICATION},"OpenShift 4 documentation"))},r.default.createElement(i.Button,{variant:"plain",isInline:!0,"aria-label":"Help"},r.default.createElement(i.Icon,{size:"md"},r.default.createElement(o.HelpIcon,null)))))}],T=[{title:"Delete",onClick:(e,t,a)=>{this.setState({deletedRowIndex:t}),h(l.id,a["column-1"].title,a.userID)},className:"hand-pointer"}];if(!O&&e.error)return r.default.createElement(i.EmptyState,null,r.default.createElement(m.default,{message:"Error getting cluster users",response:e}));const A=O&&e.users.map((e=>({cells:[e.id,e.group],userID:e.id}))),P=!O&&e.pending,D={cells:[{props:{colSpan:2},title:r.default.createElement(c.default,{size:"md"})}]};O&&(e.pending||t.pending)&&null===I&&A.push(D),O&&null!==I&&(A[I]=D);const N=s&&"This operation is not available during maintenance",L=n&&"This operation is not available while cluster is hibernating",w=!l.canEdit&&"You do not have permission to add a user. Only cluster owners, cluster editors, and Organization Administrators can add users.",M=N||L||w,k=r.default.createElement(E.default,{onClick:()=>{setTimeout((()=>_("add-user")),0)},variant:"secondary",className:"access-control-add",disableReason:M},"Add user");return P?r.default.createElement(i.Card,null,r.default.createElement(i.CardTitle,null,r.default.createElement(c.default,{size:"md"})),r.default.createElement(i.CardBody,null,r.default.createElement(c.default,{size:"lg"})),r.default.createElement(i.CardFooter,null,r.default.createElement(c.default,{size:"md"}))):r.default.createElement(i.Card,null,e.error&&r.default.createElement(m.default,{message:"Error getting cluster users",response:e}),r.default.createElement(i.CardBody,null,r.default.createElement(i.Title,{className:"card-title",headingLevel:"h3",size:"lg"},"Cluster administrative users"),r.default.createElement("p",null,"Grant permission to manage this cluster to users defined in your identity provider."," ",r.default.createElement(f.default,{href:p.default.OSD_DEDICATED_ADMIN_ROLE},"Learn more.")),t.error&&r.default.createElement(m.default,{message:"Error adding user",response:t}),a.error&&r.default.createElement(m.default,{message:"Error deleting user",response:a}),O&&r.default.createElement(d.Table,{"aria-label":"Users",actions:T,variant:u.TableVariant.compact,cells:R,rows:A,areActionsDisabled:()=>!!M},r.default.createElement(d.TableHeader,null),r.default.createElement(d.TableBody,null)),k,r.default.createElement(g.default,{isOpen:b,closeModal:S,clearAddUserResponses:C,addUserResponse:t,submit:v,clusterID:l.id,canAddClusterAdmin:y})))}}h.propTypes={cluster:s.default.object.isRequired,isAddUserModalOpen:s.default.bool.isRequired,addUser:s.default.func.isRequired,addUserResponse:s.default.object,getUsers:s.default.func.isRequired,deleteUser:s.default.func.isRequired,deleteUserResponse:s.default.object,clusterGroupUsers:s.default.object.isRequired,openModal:s.default.func.isRequired,canAddClusterAdmin:s.default.bool.isRequired,closeModal:s.default.func.isRequired,clearUsersResponses:s.default.func.isRequired,clearAddUserResponses:s.default.func.isRequired,hasUsers:s.default.bool.isRequired,clusterHibernating:s.default.bool.isRequired,isReadOnly:s.default.bool.isRequired},t.default=h},88029:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(27361)),r=l(a(59231)),s=a(52758);t.default=e=>{const t=(0,n.default)(e,"clusters.details.cluster.subscription.plan.type",s.normalizedProducts.OSD),a=(0,n.default)(e,"clusters.details.cluster.state");if(t===s.normalizedProducts.RHMI||a!==r.default.READY)return!1;if((0,n.default)(e,"clusters.details.cluster.ccs.enabled",!1))return!0;const l=(0,n.default)(e,"clusters.details.cluster.subscription.capabilities",[]).find((e=>"capability.cluster.manage_cluster_admin"===e.name));return!(!l||"true"!==l.value)}},22473:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(39687)),s=l(a(65590)),o=l(a(88029)),i=l(a(80338)),u=a(7046);t.default=(0,n.connect)((e=>{const{groupUsers:t,addUserResponse:a,deleteUserResponse:l}=e.clusterUsers,n=(0,o.default)(e);return{clusterGroupUsers:t,hasUsers:t.users.length>0,addUserResponse:a,deleteUserResponse:l,isAddUserModalOpen:(0,i.default)(e,"add-user"),canAddClusterAdmin:n}}),((e,t)=>({openModal:t=>e((0,u.openModal)(t)),closeModal:()=>e((0,u.closeModal)()),getUsers:()=>e(r.default.getUsers(t.cluster.id)),addUser:(t,a,l)=>e(r.default.addUser(t,a,l)),deleteUser:(t,a,l)=>e(r.default.deleteUser(t,a,l)),clearUsersResponses:()=>e(r.default.clearUsersResponses()),clearAddUserResponses:()=>e(r.default.clearAddUserResponses())})))(s.default)},24071:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(68778),i=a(43047),u=a(94768),d=a(17542),c=a(76473),p=a(20643),m=l(a(17085));function f(e){const{addOn:t,installedAddOn:a,requirements:l}=e;if((0,p.hasRequirements)(t)&&!l.fulfilled)return n.default.createElement(s.Label,{variant:"outline",color:"red",icon:n.default.createElement(c.CubesIcon,null)},"Prerequisites not met");if(!a)return"";switch(a.state){case void 0:return"";case m.default.INSTALLATION_STATE.PENDING:case m.default.INSTALLATION_STATE.INSTALLING:return n.default.createElement(s.Label,{variant:"outline",icon:n.default.createElement(u.InProgressIcon,null)},"Installing");case m.default.INSTALLATION_STATE.UPDATING:return n.default.createElement(s.Label,{variant:"outline",icon:n.default.createElement(u.InProgressIcon,null)},"Updating");case m.default.INSTALLATION_STATE.DELETED:case m.default.INSTALLATION_STATE.DELETING:return n.default.createElement(s.Label,{variant:"outline",icon:n.default.createElement(u.InProgressIcon,null)},"Uninstalling");case m.default.INSTALLATION_STATE.FAILED:return n.default.createElement(s.Label,{variant:"outline",color:"red",icon:n.default.createElement(i.ExclamationCircleIcon,null)},"Add-on failed");case m.default.INSTALLATION_STATE.READY:return n.default.createElement(s.Label,{variant:"outline",color:"green",icon:n.default.createElement(o.CheckCircleIcon,null)},"Installed");default:return n.default.createElement(s.Label,{variant:"outline",icon:n.default.createElement(d.UnknownIcon,null)},"Unknown")}}f.propTypes={addOn:r.default.object,installedAddOn:r.default.object,requirements:r.default.object},t.default=f},76688:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(76473),i=a(88993),u=a(71359),d=l(a(7749)),c=a(20643),p=l(a(94059));class m extends n.default.Component{componentDidMount(){const{clusterID:e,getAddOns:t,getClusterAddOns:a,clusterAddOns:l}=this.props;l.pending||(t(e),a(e))}componentDidUpdate(e){const{clusterID:t,getClusterAddOns:a,clusterAddOns:l,addClusterAddOnResponse:n,updateClusterAddOnResponse:r,getOrganizationAndQuota:s,deleteClusterAddOnResponse:o}=this.props;(n.fulfilled&&e.addClusterAddOnResponse.pending||r.fulfilled&&e.updateClusterAddOnResponse.pending||o.fulfilled&&e.deleteClusterAddOnResponse.pending)&&(l.pending||a(t),s())}componentWillUnmount(){const{clearClusterAddOnsResponses:e}=this.props;e()}render(){const{addOns:e,cluster:t,clusterAddOns:a,clusterMachinePools:l,addClusterAddOnResponse:r,organization:m,quota:f,isHypershift:E}=this.props;if(E)return n.default.createElement(s.EmptyState,null,n.default.createElement(s.EmptyStateHeader,{titleText:"Coming soon",icon:n.default.createElement(s.EmptyStateIcon,{icon:o.CubesIcon}),headingLevel:"h5"}),n.default.createElement(s.EmptyStateBody,null,"Add-ons will be available soon for hosted control plane clusters."),n.default.createElement(s.EmptyStateFooter,null,n.default.createElement(s.EmptyStateActions,null,n.default.createElement(s.Button,{variant:"link",onClick:()=>{document.location.hash="overview"}},"Go back to overview"))));if(a.pending&&0===a.items.length)return n.default.createElement(s.EmptyState,null,n.default.createElement(s.EmptyStateBody,null,n.default.createElement(u.Spinner,{centered:!0})));const g=(0,c.availableAddOns)(e,t,a,m,f);return g.length>0?a.error?n.default.createElement(s.EmptyState,null,n.default.createElement(d.default,{message:"Error getting cluster add-ons",response:a})):n.default.createElement(n.default.Fragment,null,r.error&&n.default.createElement(d.default,{message:"Error adding add-ons",response:r}),n.default.createElement(p.default,{addOnsList:g,clusterAddOns:a,cluster:t,clusterMachinePools:l,organization:m,quota:f})):n.default.createElement(s.EmptyState,null,n.default.createElement(s.EmptyStateHeader,{titleText:"No add-ons available for this cluster",icon:n.default.createElement(s.EmptyStateIcon,{icon:i.PlusCircleIcon}),headingLevel:"h5"}),e.error&&n.default.createElement(d.default,{message:"Error getting add-ons",response:e}),n.default.createElement(s.EmptyStateBody,null,"There are no add-ons available for this cluster."))}}m.propTypes={clusterID:r.default.string.isRequired,cluster:r.default.object.isRequired,addOns:r.default.object.isRequired,clusterAddOns:r.default.object.isRequired,clusterMachinePools:r.default.object.isRequired,organization:r.default.object.isRequired,quota:r.default.object.isRequired,getOrganizationAndQuota:r.default.func.isRequired,getClusterAddOns:r.default.func.isRequired,addClusterAddOnResponse:r.default.object.isRequired,updateClusterAddOnResponse:r.default.object.isRequired,deleteClusterAddOnResponse:r.default.object.isRequired,clearClusterAddOnsResponses:r.default.func.isRequired,getAddOns:r.default.func.isRequired,isHypershift:r.default.bool.isRequired},t.default=m},1843:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.updateClusterAddOn=t.setAddonsDrawer=t.getClusterAddOns=t.getAddOns=t.deleteClusterAddOn=t.clearClusterAddOnsResponses=t.addOnsActions=t.addClusterAddOn=void 0;var n=l(a(27361)),r=l(a(17085)),s=a(33047);const o=e=>t=>t({type:r.default.GET_ADDONS,payload:s.clusterService.getEnabledAddOns(e).then((e=>{const t=(0,n.default)(e,"data.items",[]);return{items:t,resourceNames:t.map((e=>e.resource_name))}}))});t.getAddOns=o;const i=e=>t=>t({type:r.default.GET_CLUSTER_ADDONS,payload:s.clusterService.getClusterAddOns(e).then((t=>{const a=(0,n.default)(t,"data.items",[]);return{clusterID:e,items:a}}))});t.getClusterAddOns=i;const u=(e,t)=>a=>a({type:r.default.ADD_CLUSTER_ADDON,payload:s.clusterService.addClusterAddOn(e,t)});t.addClusterAddOn=u;const d=(e,t,a)=>l=>l({type:r.default.UPDATE_CLUSTER_ADDON,payload:s.clusterService.updateClusterAddOn(e,t,a).then((t=>(l(i(e)),t)))});t.updateClusterAddOn=d;const c=(e,t)=>a=>a({type:r.default.DELETE_CLUSTER_ADDON,payload:s.clusterService.deleteClusterAddOn(e,t)});t.deleteClusterAddOn=c;const p=()=>({type:r.default.CLEAR_CLUSTER_ADDON_RESPONSES});t.clearClusterAddOnsResponses=p,t.setAddonsDrawer=e=>t=>t({type:r.default.SET_ADDONS_DRAWER,payload:e}),t.addOnsActions={getAddOns:o,getClusterAddOns:i,addClusterAddOn:u,updateClusterAddOn:d,deleteClusterAddOn:c,clearClusterAddOnsResponses:p}},27001:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(65652),i=l(a(24071));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}a(58361);class d extends r.Component{render(){const{addOn:e,installedAddOn:t,requirements:a,activeCard:l,onClick:n}=this.props;return r.default.createElement(o.Card,{isSelectableRaised:!0,isSelected:l===e.id,key:e.id,ouiaId:`card-addon-${e.id}`,onClick:n,className:"ocm-c-addons__card"},r.default.createElement(o.CardHeader,{className:"ocm-c-addons__card--header"},e.icon&&r.default.createElement("img",{alt:e.name,src:`data:image/png;base64,${e.icon}`})),r.default.createElement(o.CardTitle,null,e.name),r.default.createElement(o.CardBody,{className:"ocm-c-addons__card--body"},d.reduceCardDescription(e)),r.default.createElement(o.CardFooter,null,r.default.createElement(i.default,{addOn:e,requirements:a,installedAddOn:t})))}}(0,n.default)(d,"reduceCardDescription",(e=>e.description.length>60?`${e.description.substring(0,57)}...`:e.description)),d.propTypes={addOn:s.default.object.isRequired,installedAddOn:s.default.object,requirements:s.default.object.isRequired,onClick:s.default.func.isRequired,activeCard:s.default.string},t.default=d},94703:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(27001)),s=a(1843),o=a(7046);const i={addClusterAddOn:s.addClusterAddOn,openModal:o.modalActions.openModal,closeModal:o.modalActions.closeModal};t.default=(0,n.connect)((e=>({cluster:e.clusters.details.cluster,addClusterAddOnResponse:e.addOns.addClusterAddOnResponse})),i)(r.default)},17085:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={GET_ADDONS:"GET_ADDONS",GET_CLUSTER_ADDONS:"GET_CLUSTER_ADDONS",UPDATE_CLUSTER_ADDON:"UPDATE_CLUSTER_ADDON",ADD_CLUSTER_ADDON:"ADD_CLUSTER_ADDON",DELETE_CLUSTER_ADDON:"DELETE_CLUSTER_ADDON",CLEAR_CLUSTER_ADDON_RESPONSES:"CLEAR_CLUSTER_ADDON_RESPONSES",INSTALLATION_STATE:{PENDING:"pending",INSTALLING:"installing",UPDATING:"updating",DELETING:"deleting",DELETED:"deleted",FAILED:"failed",READY:"ready"},SET_ADDONS_DRAWER:"SET_ADDONS_DRAWER"}},93675:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(65652),i=l(a(25967)),u=l(a(7749));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}a(21900);class c extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{addOnNameInput:""}),(0,n.default)(this,"setValue",(e=>{this.setState({addOnNameInput:e})})),(0,n.default)(this,"handleClose",(()=>{const{closeModal:e,clearClusterAddOnsResponses:t}=this.props;t(),this.setState({addOnNameInput:""}),e()}))}componentDidUpdate(e){const{deleteClusterAddOnResponse:t}=this.props;!e.deleteClusterAddOnResponse.fulfilled&&t.fulfilled&&this.handleClose()}render(){const{isOpen:e,modalData:t,deleteClusterAddOn:a,deleteClusterAddOnResponse:l}=this.props,{addOnNameInput:n}=this.state,{addOnName:s,addOnID:d,clusterID:c}=t,p=n===s,m=()=>{a(c,d)},f=l.error&&r.default.createElement(u.default,{message:"Error uninstalling add-on",response:l}),E=l.pending;return e&&r.default.createElement(i.default,{title:`Uninstall ${s}`,onClose:this.handleClose,primaryText:"Uninstall",primaryVariant:"danger",isPrimaryDisabled:!p,onPrimaryClick:m,onSecondaryClick:this.handleClose,isPending:E},r.default.createElement("p",null,f,"This action will uninstall the add-on, removing add-on data from cluster can not be undone."),r.default.createElement(o.Form,{onSubmit:e=>{e.preventDefault(),p&&m()}},r.default.createElement("p",null,"Confirm deletion by typing"," ",r.default.createElement("span",{className:"addon-delete-modal-textinput"},s)," below:"),r.default.createElement(o.TextInput,{type:"text",value:n,placeholder:"Enter name",onChange:(e,t)=>this.setValue(t),"aria-label":"addon name"})))}}c.propTypes={isOpen:s.default.bool.isRequired,modalData:s.default.shape({addOnName:s.default.string,addOnID:s.default.string,clusterID:s.default.string}),closeModal:s.default.func.isRequired,deleteClusterAddOn:s.default.func.isRequired,deleteClusterAddOnResponse:s.default.object.isRequired,clearClusterAddOnsResponses:s.default.func.isRequired},t.default=c},5193:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(80338)),s=a(7046),o=l(a(93675)),i=a(1843);t.default=(0,n.connect)((e=>({isOpen:(0,r.default)(e,"add-ons-delete-modal"),modalData:e.modal.data,deleteClusterAddOnResponse:e.addOns.deleteClusterAddOnResponse})),(e=>({deleteClusterAddOn:(t,a)=>e(i.addOnsActions.deleteClusterAddOn(t,a)),closeModal:()=>e((0,s.closeModal)()),clearClusterAddOnsResponses:()=>e((0,i.clearClusterAddOnsResponses)())})))(o.default)},25370:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697));a(61947);var o=a(65652),i=a(20643),u=l(a(94703)),d=l(a(24071)),c=l(a(93260)),p=l(a(5193)),m=l(a(93454)),f=l(a(98210)),E=l(a(24315)),g=l(a(77897)),h=l(a(43462)),v=l(a(9867)),b=l(a(17085));class _ extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"getHasQuota",(e=>{const{cluster:t,organization:a,quota:l}=this.props;return null!==e&&(0,i.hasQuota)(e,t,a,l)})),(0,n.default)(this,"getInstalledAddon",(e=>{const{clusterAddOns:t}=this.props;return(0,i.getInstalled)(e,t)})),(0,n.default)(this,"handleTabClick",((e,t)=>{const{setAddonsDrawer:a}=this.props;a({activeTabKey:t}),e.preventDefault()})),(0,n.default)(this,"handleCardClick",(e=>()=>{var t;const{clusterAddOns:a,quota:l,setAddonsDrawer:n,drawer:r}=this.props;if(e.id===(null===(t=r.activeCard)||void 0===t?void 0:t.id))return void this.handleCloseDrawer();const s=(0,i.getInstalled)(e,a),o=(0,i.validateAddOnRequirements)(e),u=(0,i.getAddOnBillingQuota)(e,l);n({activeCard:e,activeCardRequirementsFulfilled:o.fulfilled,activeCardRequirements:o.errorMsgs,installedAddOn:s,billingQuota:u,open:!0,activeTabKey:0})})),(0,n.default)(this,"handleCloseDrawer",(()=>{const{setAddonsDrawer:e}=this.props;e({activeCard:null,activeCardRequirements:null,activeCardRequirementsFulfilled:!0,open:!1,activeTabKey:0})}))}componentDidUpdate(e){const{addClusterAddOnResponse:t,deleteClusterAddOnResponse:a,submitClusterAddOnResponse:l,drawer:n,setAddonsDrawer:r}=this.props;(t.fulfilled&&e.addClusterAddOnResponse.pending||a.fulfilled&&e.deleteClusterAddOnResponse.pending||l.fulfilled&&e.submitClusterAddOnResponse.pending)&&n.open&&r({open:!1,activeCard:null})}render(){var e;const{addClusterAddOn:t,addClusterAddOnResponse:a,updateClusterAddOn:l,addOnsList:n,cluster:s,openModal:_,setAddonsDrawer:S,drawer:C}=this.props,{open:y,activeCard:O,installedAddOn:I,activeCardRequirements:R,activeCardRequirementsFulfilled:T,billingQuota:A,activeTabKey:P,subscriptionModels:D}=C,N=r.default.createElement(o.DrawerPanelContent,{className:"ocm-c-addons__drawer--panel-content"},r.default.createElement(o.DrawerHead,{className:"ocm-c-addons__drawer--header"},r.default.createElement(o.Grid,{hasGutter:!0},r.default.createElement(o.GridItem,{span:3},(null==O?void 0:O.icon)&&r.default.createElement("img",{alt:null==O?void 0:O.name,src:`data:image/png;base64,${null==O?void 0:O.icon}`})),r.default.createElement(o.GridItem,{span:9},r.default.createElement(o.Title,{headingLevel:"h2",size:"xl"},null==O?void 0:O.name))),r.default.createElement(o.DrawerActions,null,r.default.createElement(o.DrawerCloseButton,{onClick:this.handleCloseDrawer}))),r.default.createElement(o.DrawerPanelBody,null,r.default.createElement(d.default,{addOn:O,requirements:(0,i.validateAddOnRequirements)(O),installedAddOn:I}),r.default.createElement(h.default,{installedAddOn:I})),r.default.createElement("div",null,r.default.createElement(o.Tabs,{activeKey:P,onSelect:this.handleTabClick,inset:{default:"insetNone",md:"insetSm",xl:"inset2xl","2xl":"insetLg"}},r.default.createElement(o.Tab,{eventKey:0,title:r.default.createElement(o.TabTitleText,null,"Details")},r.default.createElement(o.DrawerPanelBody,{className:"ocm-addons-tab--drawer-panel-body"},r.default.createElement(o.Flex,{spaceItems:{default:"spaceItemsLg"},direction:{default:"column"}},r.default.createElement(o.FlexItem,null,null==O?void 0:O.description),r.default.createElement(E.default,{activeCardDocsLink:null==O?void 0:O.docs_link,installedAddOnOperatorVersion:null==I?void 0:I.operator_version,addonID:null==O?void 0:O.id,clusterID:null==s?void 0:s.id,externalClusterID:null==s?void 0:s.external_id,subscriptionPlanID:null==s||null===(e=s.subscription)||void 0===e||null===(e=e.plan)||void 0===e?void 0:e.id}),r.default.createElement(m.default,{installedAddOn:I,activeCard:O,activeCardID:null==O?void 0:O.id,installedAddOnState:null==I?void 0:I.state,cluster:s,openModal:_}),r.default.createElement(v.default,{activeCardId:null==O?void 0:O.id,billingQuota:A,installedAddOn:I,subscriptionModels:D,setAddonsDrawer:S}))),(null==I?void 0:I.state)===b.default.INSTALLATION_STATE.DELETING?null:r.default.createElement(o.DrawerPanelBody,null,r.default.createElement(f.default,{activeCard:O,activeCardRequirementsFulfilled:T,addClusterAddOn:t,addClusterAddOnResponse:a,updateClusterAddOn:l,cluster:s,hasQuota:this.getHasQuota(O),installedAddOn:I,installedAddOnOperatorVersion:null==I?void 0:I.operator_version,openModal:_,subscriptionModels:D}))),!T&&r.default.createElement(o.Tab,{eventKey:1,title:r.default.createElement(o.TabTitleText,null,"Prerequisites")},r.default.createElement(o.DrawerPanelBody,{className:"ocm-addons-tab--drawer-panel-body"},r.default.createElement(o.Flex,{spaceItems:{default:"spaceItemsLg"},direction:{default:"column"}},r.default.createElement(o.FlexItem,null,r.default.createElement(g.default,{activeCardRequirements:R}))))))));return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Drawer,{isExpanded:y,isInline:!0,className:"ocm-addons-tab--addon-drawer pf-m-inline-on-2xl"},r.default.createElement(o.DrawerContent,{panelContent:O?N:null,className:"pf-m-no-background ocm-c-addons__drawer--panel-gallery"},r.default.createElement(o.DrawerContentBody,null,r.default.createElement(o.Gallery,{hasGutter:!0},n.map((e=>r.default.createElement(u.default,{key:e.id,addOn:e,installedAddOn:this.getInstalledAddon(e),requirements:(0,i.validateAddOnRequirements)(e),onClick:this.handleCardClick(e),activeCard:null==O?void 0:O.id}))))))),r.default.createElement(c.default,{clusterID:s.id}),r.default.createElement(p.default,null))}}_.propTypes={addOnsList:s.default.array.isRequired,clusterAddOns:s.default.object.isRequired,cluster:s.default.object.isRequired,organization:s.default.object.isRequired,quota:s.default.object.isRequired,openModal:s.default.func.isRequired,addClusterAddOn:s.default.func.isRequired,addClusterAddOnResponse:s.default.object.isRequired,deleteClusterAddOnResponse:s.default.object.isRequired,submitClusterAddOnResponse:s.default.object.isRequired,drawer:s.default.object.isRequired,setAddonsDrawer:s.default.func.isRequired,updateClusterAddOn:s.default.func.isRequired},t.default=_},43462:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(42517));function i(e){const{installedAddOn:t}=e;return"failed"===(null==t?void 0:t.state)?n.default.createElement(s.Alert,{variant:"danger",isInline:!0,title:"Add-on failed",className:"ocm-addons-failed--error-box"},n.default.createElement(s.Flex,{direction:{default:"column"}},n.default.createElement(s.FlexItem,null,null==t?void 0:t.state_description),n.default.createElement(s.FlexItem,null,n.default.createElement(o.default,{noIcon:!0,href:"https://access.redhat.com/support/cases/#/case/new"},"Contact support")))):null}i.propTypes={installedAddOn:r.default.object},t.default=i},93454:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697));a(61947);var s=a(65652),o=a(65413),i=a(91290),u=a(20643),d=l(a(93260));function c(e){const{installedAddOn:t,activeCard:a,activeCardID:l,cluster:r,openModal:c}=e;if(t&&a&&(0,u.hasParameters)(a)){const e=(0,u.parameterAndValue)(t,a,r),p=Object.entries(e.parameters).map((e=>{let[t,a]=e;return n.default.createElement("p",{key:t},n.default.createElement("b",{className:"parameter-list-key"},a.name)," ",n.default.createElement(s.Popover,{"aria-label":"param-popover",headerContent:n.default.createElement("div",null,a.name),bodyContent:n.default.createElement("div",null,a.description)},n.default.createElement(s.Button,{isInline:!0,variant:"link",icon:n.default.createElement(i.OutlinedQuestionCircleIcon,{className:"ocm-addons-tab--parameter-tooltip-icon"})}))," ",a.value)}));return n.default.createElement(s.FlexItem,null,n.default.createElement("p",{className:"ocm-addons-tab--configuration-title"},"Configuration",n.default.createElement(s.Button,{ouiaId:`update-addon-${l}`,variant:"link",isDisabled:!r.canEdit,icon:n.default.createElement(o.PencilAltIcon,{className:"ocm-addons-tab--configuration-title-icon"}),onClick:()=>c("add-ons-parameters-modal",{clusterID:r.id,addOn:a,addOnInstallation:t,isUpdateForm:!0})})),p,n.default.createElement(d.default,{clusterID:r.id}))}return null}c.propTypes={installedAddOn:r.default.object,activeCard:r.default.object,activeCardID:r.default.string,cluster:r.default.object,openModal:r.default.func.isRequired},t.default=c},98210:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697));a(61947);var o=a(65652),i=a(15265),u=a(20643),d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(59231)),c=a(69429),p=l(a(17085)),m=l(a(26746));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e){var t,a;const{activeCard:l,activeCardRequirementsFulfilled:n,addClusterAddOn:s,addClusterAddOnResponse:f,updateClusterAddOn:E,cluster:h,hasQuota:v,installedAddOn:b,openModal:_,subscriptionModels:S}=e,C=S[l.id],y=()=>{(0,u.hasParameters)(l)?_("add-ons-parameters-modal",{clusterID:h.id,addOn:l,isUpdateForm:!1}):s(h.id,{addon:{id:null==l?void 0:l.id},billing:g({billing_model:C.billingModel},C.cloudAccount&&{billing_marketplace_account:C.cloudAccount})})},O=!h.canEdit&&"You do not have permission to install add ons. Only cluster owners, cluster editors, and Organization Administrators can install add ons.",I="read_only"===(null==h||null===(t=h.status)||void 0===t?void 0:t.configuration_mode)&&"This operation is not available during maintenance",R=(0,d.isHibernating)(h)&&"This operation is not available while cluster is hibernating",T=h.state!==d.default.READY&&"This cluster is not ready",A=!n&&"Prerequisites not met",P=(!v||"no-quota"===(null==C?void 0:C.billingModel))&&c.noQuotaTooltip,D="marketplace"===(null==C?void 0:C.billingModel)&&"Select a subscription type",N=(null==b||null===(a=b.billing)||void 0===a||a.billing_model,null==C||C.billingModel,m.default,function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return r.default.createElement(m.default,{ouiaId:`uninstall-addon-${null==l?void 0:l.id}`,variant:"secondary",isDanger:!0,disableReason:I||R||T||O,isSmall:!0,onClick:()=>_("add-ons-delete-modal",{addOnName:null==l?void 0:l.name,addOnID:null==l?void 0:l.id,clusterID:h.id}),className:e&&"pf-v5-u-ml-xs"},"Uninstall")});if(!b){const e=f.pending&&"installing...";return r.default.createElement(m.default,{disableReason:I||R||T||A||O||P||e||D,ouiaId:`install-addon-${null==l?void 0:l.id}`,variant:"primary","aria-label":"Install",onClick:y,isSmall:!0},"Install")}let L;switch(null==b?void 0:b.state){case p.default.INSTALLATION_STATE.PENDING:case p.default.INSTALLATION_STATE.INSTALLING:case p.default.INSTALLATION_STATE.UPDATING:return r.default.createElement(r.default.Fragment,null,N(!1));case void 0:return"";case p.default.INSTALLATION_STATE.FAILED:return L="https://access.redhat.com/support/cases/#/case/new",r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Button,{component:"a",variant:"secondary",href:L,target:"_blank",rel:"noopener noreferrer",size:"sm"},"Contact support")," ",N());case p.default.INSTALLATION_STATE.READY:return null!=h&&h.console.url?(L=`${h.console.url}/k8s/ns/${null==l?void 0:l.target_namespace}/operators.coreos.com~v1alpha1~ClusterServiceVersion/${null==b?void 0:b.csv_name}`,r.default.createElement("div",null,r.default.createElement(o.Button,{component:"a",variant:"primary",href:L,target:"_blank",rel:"noopener noreferrer",size:"sm"},"Open in Console ",r.default.createElement(i.ExternalLinkAltIcon,{className:"link-icon"}))," ",N())):"";default:return""}}h.propTypes={activeCard:s.default.object,activeCardRequirementsFulfilled:s.default.bool,addClusterAddOn:s.default.func.isRequired,addClusterAddOnResponse:s.default.object,cluster:s.default.object,hasQuota:s.default.bool,installedAddOn:s.default.object,openModal:s.default.func,updateClusterAddOn:s.default.func,subscriptionModels:s.default.object},t.default=h},77897:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697));a(61947);var s=a(65652);function o(e){const{activeCardRequirements:t}=e;return n.default.createElement(s.List,null,null==t?void 0:t.map((e=>n.default.createElement(s.ListItem,{key:e},e))))}o.propTypes={activeCardRequirements:r.default.array},t.default=o},94059:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(25370)),s=a(1843),o=a(7046);const i={addClusterAddOn:s.addClusterAddOn,updateClusterAddOn:s.updateClusterAddOn,openModal:o.modalActions.openModal,setAddonsDrawer:s.setAddonsDrawer};t.default=(0,n.connect)((e=>({cluster:e.clusters.details.cluster,addClusterAddOnResponse:e.addOns.addClusterAddOnResponse,deleteClusterAddOnResponse:e.addOns.deleteClusterAddOnResponse,submitClusterAddOnResponse:e.modal.data.isUpdateForm?e.addOns.updateClusterAddOnResponse:e.addOns.addClusterAddOnResponse,drawer:e.addOns.drawer})),i)(r.default)},20643:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.validateAddOnRequirements=t.quotaCostOptions=t.parameterValuesForEditing=t.parameterAndValue=t.minQuotaCount=t.isInstalled=t.isAvailable=t.hasRequirements=t.hasQuota=t.hasParameters=t.getParameters=t.getParameterValue=t.getParameter=t.getInstalled=t.getAddOnBillingQuota=t.availableAddOns=void 0;var n=l(a(38416)),r=l(a(27361)),s=a(53025),o=a(69816);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const d=(e,t,a,l)=>!(!e.enabled||!a.fulfilled)&&(0,o.hasPotentialQuota)(l,u(u({},(0,o.queryFromCluster)(t)),{},{resourceType:s.QuotaTypes.ADD_ON,resourceName:e.resource_name,billingModel:"any"}))>=1;t.isAvailable=d;const c=(e,t)=>!!(0,r.default)(t,"items.length",!1)&&t.items.some((t=>t.addon.id===e.id));t.isInstalled=c,t.getInstalled=(e,t)=>t.items.find((t=>t.addon.id===e.id));const p=e=>{if(void 0===e)return"";const t=[];return Object.entries(e).forEach((e=>{let[a,l]=e;Array.isArray(l)?t.push(`${a} is ${l.join(" or ")}`):"number"==typeof l?t.push(`${a} >= ${l}`):t.push(`${a} is ${l}`)})),`where ${t.join(" and ")}`};t.validateAddOnRequirements=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={fulfilled:!0,errorMsgs:[]};return e.length>0&&e.every((e=>{const[l,n]=(e=>{const t=(0,r.default)(e,"status.fulfilled",!1),a=(0,r.default)(e,"status.error_msgs",[]);return t||0===(0,r.default)(a,"length",0)&&("addon"===e.resource?a.push(`This addon requires another addon to be installed ${p(e.data)}`):"machine_pool"===e.resource?a.push(`This addon requires a machine pool to exist ${p(e.data)}`):a.push(`This addon requires a ${e.resource} ${p(e.data)}`)),[t,a]})(e);return l||a.errorMsgs.push(...n),a.fulfilled&&(a.fulfilled=l),!(!a.fulfilled&&t)})),a}((0,r.default)(e,"requirements",[]),t)};const m=e=>(0,r.default)(e,"parameters.items",[]);t.getParameters=m;const f=e=>(0,r.default)(m(e),"length",0)>0;t.hasParameters=f;const E=e=>{let t=1;return f(e)&&e.parameters.items.forEach((a=>{if("resource"===a.value_type&&a.id===e.resource_name&&void 0!==a.options&&a.options.length>0){const e=a.options.map((e=>Number(e.value))).filter((e=>!Number.isNaN(e)));t=Math.min(...e)}})),t};t.minQuotaCount=E,t.hasQuota=(e,t,a,l)=>{if(!d(e,t,a,l))return!1;const n=E(e);return(0,o.availableQuota)(l,u(u({},(0,o.queryFromCluster)(t)),{},{resourceType:s.QuotaTypes.ADD_ON,resourceName:e.resource_name,billingModel:"any"}))>=n},t.getAddOnBillingQuota=(e,t)=>(0,o.addOnBillingQuota)(t,{resourceType:s.QuotaTypes.ADD_ON,resourceName:e.resource_name}),t.quotaCostOptions=function(e,t,a,l){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;n=Number.isNaN(n)?0:n;const r=u(u({},(0,o.queryFromCluster)(t)),{},{resourceType:s.QuotaTypes.ADD_ON,resourceName:e,billingModel:"any"});if(!(0,o.hasPotentialQuota)(a,r))return l;const i=(0,o.availableQuota)(a,r);return l.filter((e=>i+n>=e.value))},t.availableAddOns=(e,t,a,l,n)=>(0,r.default)(e,"items.length",!1)?e.items.filter((e=>d(e,t,l,n)||c(e,a))):[],t.hasRequirements=e=>(0,r.default)(e,"requirements.length",0)>0;const g=(e,t)=>{if(f(e))return e.parameters.items.find((e=>e.id===t))};t.getParameter=g;const h=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const l=g(e,t);return l?l.value:a};t.getParameterValue=h,t.parameterValuesForEditing=(e,t)=>{const a={parameters:{}};return f(t)&&(a.parameters=m(t).reduce(((t,a)=>{let l=h(e,a.id);return"boolean"===a.value_type&&(l="true"===(l||"").toLowerCase()),void 0!==a.options&&a.options.length>0&&(l=l||void 0),void 0!==l&&(t[a.id]=l),t}),{})),a},t.parameterAndValue=(e,t)=>{const a={parameters:{}};return f(t)&&(a.parameters=m(t).reduce(((t,a)=>{let l=h(e,a.id);if("boolean"===a.value_type&&(l="true"===(l||"").toString().toLowerCase()),a.options){const e=a.options.find((e=>e.value===l));null!=e&&e.name&&(l=e.name)}if(void 0!==l){const e=u({value:l.toString()},a);t[a.id]=e}return t}),{})),a}},37920:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(38416)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),o=l(a(45697)),i=a(65652),u=a(9104),d=a(82320),c=l(a(25967)),p=a(20643),m=a(79687),f=a(90181),E=l(a(7749));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}a(21900);class h extends s.Component{constructor(){super(...arguments),(0,r.default)(this,"handleClose",(()=>{const{closeModal:e,resetForm:t,clearClusterAddOnsResponses:a}=this.props;a(),t(),e()})),(0,r.default)(this,"isFieldDisabled",(e=>{const{isUpdateForm:t,addOnInstallation:a}=this.props;return t&&!e.editable&&void 0!==a.parameters&&void 0!==a.parameters.items.find((t=>t.id===e.id))})),(0,r.default)(this,"getParamDefault",(e=>{const{isUpdateForm:t}=this.props;return t||void 0===e.default_value?"":e.default_value})),(0,r.default)(this,"getHelpText",(e=>{const{isUpdateForm:t}=this.props;return t&&t&&e.default_value&&e.editable?`${e.description}. For example "${e.default_value}"`:e.description})),(0,r.default)(this,"setDefaultParamValue",(e=>{const{change:t}=this.props;let a=e.default_value;"boolean"===e.value_type&&(a="true"===(a||"").toLowerCase()),t(`parameters.${e.id}`,a)})),(0,r.default)(this,"getFieldProps",(e=>{const{cluster:t,quota:a,addOn:l,addOnInstallation:n,isUpdateForm:r}=this.props;if(void 0!==e.options&&e.options.length>0){let s;if("resource"===e.value_type){let o;r&&e.id===l.resource_name&&(o=1);const i=Number((0,p.getParameterValue)(n,e.id,o));s=(0,p.quotaCostOptions)(e.id,t,a,e.options,i)}else s=e.options;return{component:m.ReduxFormDropdown,options:[{name:"-- Please Select --",value:void 0},...s],type:"text"}}switch(e.value_type){case"number":default:return{component:m.ReduxVerticalFormGroup,type:"text"};case"boolean":return{component:m.ReduxCheckbox,isHelperTextBeforeField:!0}}})),(0,r.default)(this,"fieldForParam",(e=>e.value_type&&"boolean"===e.value_type?s.default.createElement(s.default.Fragment,null,s.default.createElement(u.Field,(0,n.default)({},this.getFieldProps(e),{key:e.id,id:`field-addon-${e.id}`,name:`parameters.${e.id}`,label:e.name,placeholder:this.getParamDefault(e),isRequired:e.required,isDisabled:this.isFieldDisabled(e),validate:h.validationsForParameterField(e)})),s.default.createElement("div",{className:"ocm-c--reduxcheckbox-description"},this.getHelpText(e))):s.default.createElement(u.Field,(0,n.default)({},this.getFieldProps(e),{key:e.id,id:`field-addon-${e.id}`,name:`parameters.${e.id}`,label:e.name,placeholder:this.getParamDefault(e),isRequired:e.required,isDisabled:this.isFieldDisabled(e),helpText:this.getHelpText(e),validate:h.validationsForParameterField(e)}))))}componentDidUpdate(){const{submitClusterAddOnResponse:e}=this.props;e.fulfilled&&this.handleClose()}render(){const{isOpen:e,handleSubmit:t,addOn:a,isUpdateForm:l,submitClusterAddOnResponse:n,pristine:r}=this.props,o=n.pending;return e&&s.default.createElement(c.default,{title:`Configure ${a.name}`,width:810,variant:"large",onClose:this.handleClose,primaryText:l?"Update":"Install",secondaryText:"Cancel",onPrimaryClick:t,onSecondaryClick:this.handleClose,isPrimaryDisabled:l&&r,isPending:o},n.error&&s.default.createElement(E.default,{message:"Error adding add-ons",response:n}),s.default.createElement(i.Form,{id:`form-addon-${a.id}`},(0,p.getParameters)(a).map((e=>s.default.createElement(i.FormGroup,{key:e.id},this.fieldForParam(e),(l&&e.editable&&e.default_value||!l&&e.default_value)&&s.default.createElement(i.Button,{onClick:()=>this.setDefaultParamValue(e),id:`reset-addon-${e.id}`,variant:"link",icon:s.default.createElement(d.LevelUpAltIcon,null),iconPosition:"right",className:"addon-parameter-default-button"},"Use default: ",h.getDefaultValueText(e)))))))}}(0,r.default)(h,"validationsForParameterField",(e=>{const t=[];return"boolean"===e.value_type?void 0!==e.validation&&"^true$"===e.validation&&t.push(f.requiredTrue):e.required&&t.push(f.required),"number"===e.value_type&&t.push(f.validateNumericInput),t})),(0,r.default)(h,"getDefaultValueText",(e=>{if(void 0!==e.options&&e.options.length>0){const t=e.options.find((t=>t.value===e.default_value));if(void 0!==t)return t.name}return e.default_value})),h.propTypes={isOpen:o.default.bool.isRequired,closeModal:o.default.func.isRequired,resetForm:o.default.func.isRequired,handleSubmit:o.default.func.isRequired,addOn:o.default.object,addOnInstallation:o.default.object,cluster:o.default.object.isRequired,quota:o.default.object.isRequired,isUpdateForm:o.default.bool,submitClusterAddOnResponse:o.default.object,clearClusterAddOnsResponses:o.default.func.isRequired,pristine:o.default.bool.isRequired,change:o.default.func},t.default=h},93260:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.reduxFormConfig=t.default=void 0;var n=l(a(38416)),r=a(66338),s=a(9104),o=l(a(80338)),i=a(7046),u=l(a(37920)),d=a(1843),c=a(20643);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const f=t.reduxFormConfig={form:"AddOnsParameters",enableReinitialize:!0},E=(0,s.reduxForm)(f)(u.default);t.default=(0,r.connect)((e=>({isOpen:(0,o.default)(e,"add-ons-parameters-modal"),addOn:e.modal.data.addOn,subscriptionModel:e.addOns.drawer.subscriptionModels,addOnInstallation:e.modal.data.addOnInstallation,isUpdateForm:e.modal.data.isUpdateForm,submitClusterAddOnResponse:e.modal.data.isUpdateForm?e.addOns.updateClusterAddOnResponse:e.addOns.addClusterAddOnResponse,initialValues:(0,c.parameterValuesForEditing)(e.modal.data.addOnInstallation,e.modal.data.addOn,e.clusters.details.cluster),cluster:e.clusters.details.cluster,quota:e.userProfile.organization.quotaList})),(e=>({closeModal:()=>e((0,i.closeModal)()),addClusterAddOn:()=>e((0,d.addClusterAddOn)()),updateClusterAddOn:()=>e((0,d.updateClusterAddOn)()),clearClusterAddOnsResponses:()=>e((0,d.clearClusterAddOnsResponses)()),resetForm:()=>e((0,s.reset)("AddOnsParameters")),onSubmit:(t,a,l)=>{const{billingModel:n}=l.subscriptionModel[l.addOn.id],r={addon:{id:l.addOn.id},billing:m({billing_model:n},l.subscriptionModel[l.addOn.id].cloudAccount&&{billing_marketplace_account:l.subscriptionModel[l.addOn.id].cloudAccount})};void 0!==t.parameters&&(r.parameters={items:Object.entries(t.parameters).map((e=>{let[t,a]=e;return{id:t,value:a.toString()}}))}),l.isUpdateForm?e((0,d.updateClusterAddOn)(l.clusterID,l.addOn.id,r)):e((0,d.addClusterAddOn)(l.clusterID,r))}})))(E)},4266:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(38416)),r=a(25684),s=a(52220),o=a(34693),i=l(a(17085));function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={addOns:d(d({},s.baseRequestState),{},{items:[],resourceNames:[]}),clusterAddOns:d(d({},s.baseRequestState),{},{clusterID:void 0,items:[]}),drawer:{open:!1,activeCard:null,activeCardRequirementsFulfilled:!0,activeCardRequirements:null,installedAddOn:null,billingQuota:null,activeTabKey:0,subscriptionModels:{}},addClusterAddOnResponse:d({},s.baseRequestState),updateClusterAddOnResponse:d({},s.baseRequestState),deleteClusterAddOnResponse:d({},s.baseRequestState)};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(a=>{switch(t.type){case i.default.SET_ADDONS_DRAWER:return d(d({},e),{},{drawer:d(d({},e.drawer),t.payload)});case i.default.CLEAR_CLUSTER_ADDON_RESPONSES:return d(d({},c),{},{addOns:e.addOns,clusterAddOns:e.clusterAddOns});case(0,s.REJECTED_ACTION)(i.default.GET_ADDONS):a.addOns=d(d({},c.addOns),(0,o.getErrorState)(t));break;case(0,s.PENDING_ACTION)(i.default.GET_ADDONS):a.addOns.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.default.GET_ADDONS):a.addOns=d(d({},c.addOns),{},{fulfilled:!0,items:t.payload.items,resourceNames:t.payload.resourceNames});break;case(0,s.REJECTED_ACTION)(i.default.GET_CLUSTER_ADDONS):a.clusterAddOns=d(d({},c.clusterAddOns),(0,o.getErrorState)(t));break;case(0,s.PENDING_ACTION)(i.default.GET_CLUSTER_ADDONS):a.clusterAddOns.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.default.GET_CLUSTER_ADDONS):a.clusterAddOns=d(d({},c.clusterAddOns),{},{fulfilled:!0,clusterID:t.payload.clusterID,items:t.payload.items});break;case(0,s.REJECTED_ACTION)(i.default.ADD_CLUSTER_ADDON):a.addClusterAddOnResponse=d(d({},c.addClusterAddOnResponse),(0,o.getErrorState)(t));break;case(0,s.PENDING_ACTION)(i.default.ADD_CLUSTER_ADDON):a.addClusterAddOnResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.default.ADD_CLUSTER_ADDON):a.addClusterAddOnResponse=d(d({},c.addClusterAddOnResponse),{},{fulfilled:!0});break;case(0,s.REJECTED_ACTION)(i.default.UPDATE_CLUSTER_ADDON):a.updateClusterAddOnResponse=d(d({},c.updateClusterAddOnResponse),(0,o.getErrorState)(t));break;case(0,s.PENDING_ACTION)(i.default.UPDATE_CLUSTER_ADDON):a.updateClusterAddOnResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.default.UPDATE_CLUSTER_ADDON):a.updateClusterAddOnResponse=d(d({},c.updateClusterAddOnResponse),{},{fulfilled:!0});break;case(0,s.REJECTED_ACTION)(i.default.DELETE_CLUSTER_ADDON):a.deleteClusterAddOnResponse=d(d({},c.deleteClusterAddOnResponse),(0,o.getErrorState)(t));break;case(0,s.PENDING_ACTION)(i.default.DELETE_CLUSTER_ADDON):a.deleteClusterAddOnResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.default.DELETE_CLUSTER_ADDON):a.deleteClusterAddOnResponse=d(d({},c),{},{fulfilled:!0})}}))}p.initialState=c,t.ZP=p},48065:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(76688)),s=a(1843),o=a(98371),i=a(7046),u=a(25670);const d={getOrganizationAndQuota:o.getOrganizationAndQuota,getAddOns:s.getAddOns,getClusterAddOns:s.getClusterAddOns,getMachineOrNodePools:u.getMachineOrNodePools,addClusterAddOn:s.addClusterAddOn,clearClusterAddOnsResponses:s.clearClusterAddOnsResponses,openModal:i.modalActions.openModal,closeModal:i.modalActions.closeModal};t.default=(0,n.connect)((e=>({addOns:e.addOns.addOns,cluster:e.clusters.details.cluster,clusterAddOns:e.addOns.clusterAddOns,clusterMachinePools:e.machinePools.getMachinePools,addClusterAddOnResponse:e.addOns.addClusterAddOnResponse,updateClusterAddOnResponse:e.addOns.updateClusterAddOnResponse,deleteClusterAddOnResponse:e.addOns.deleteClusterAddOnResponse,organization:e.userProfile.organization,quota:e.userProfile.organization.quotaList})),d)(r.default)},39755:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(28416)),s=l(a(45697)),o=l(a(27361)),i=a(71359),u=a(65652),d=a(36400),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(59231)),p=l(a(76490)),m=l(a(14336)),f=l(a(47092)),E=l(a(68641)),g=l(a(52069)),h=a(52758),v=a(24501),b=l(a(32592)),_=l(a(67427)),S=l(a(2101)),C=l(a(36446)),y=l(a(80691)),O=l(a(65835)),I=l(a(10355)),R=l(a(26746)),T=a(69429),A=l(a(82368));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}const D=()=>r.default.createElement(u.Alert,{id:"idpHint",className:"pf-v5-u-mt-md",variant:"warning",isInline:!0,title:"Missing identity providers"},"Identity providers determine how users log into the cluster."," ",r.default.createElement(u.Button,{variant:"link",isInline:!0,onClick:()=>{window.location.hash="accessControl"}},"Add OAuth configuration")," ","to allow others to log in.");function N(e){var t;const{cluster:a,openModal:l,pending:s,refreshFunc:P,clickRefreshFunc:N,clusterIdentityProviders:L,organization:w,error:M,errorMessage:k,children:x,canSubscribeOCP:j,canTransferClusterOwnership:F,canHibernateCluster:G,autoRefreshEnabled:U,toggleSubscriptionReleased:V,showPreviewLabel:H,logs:z}=e,W=(0,o.default)(a,"subscription.plan.type","")===h.normalizedProducts.OSDTrial,q=(0,o.default)(a,"subscription.plan.type","")===h.normalizedProducts.OSD&&(0,o.default)(a,"subscription.cluster_billing_model","")===h.billingModels.MARKETPLACE,B=(0,o.default)(a,"subscription.plan.type")===h.normalizedProducts.OSD,$=(0,o.default)(a,"subscription.plan.type")===h.normalizedProducts.ROSA,Z=(0,g.default)(a),Y=!!a.console&&a.console.url,K=(0,o.default)(a,"creation_timestamp",""),Q=L.clusterIDPList.length>0,J=a.managed&&(null===(t=a.idpActions)||void 0===t?void 0:t.create)&&a.state===c.default.READY&&L.fulfilled&&!Q,X=(0,o.default)(a,"subscription.status",!1)===h.subscriptionStatuses.ARCHIVED,ee=(0,o.default)(a,"subscription.status",!1)===h.subscriptionStatuses.DEPROVISIONED,te=a.state===c.default.READY&&a.canEdit?{trialExpiration:!0,openModal:l,cluster:a}:{};let ae;Y&&!(0,c.isOffline)(a)?ae=r.default.createElement("a",{href:Y,target:"_blank",rel:"noopener noreferrer",className:"pull-left","data-testid":"console-url-link"},r.default.createElement(u.Button,{variant:"primary"},"Open console")):a.managed?ae=r.default.createElement(u.Button,{variant:"primary",isDisabled:!0,title:a.state===c.default.UNINSTALLING?"The cluster is being uninstalled":"Admin console is not yet available for this cluster"},"Open console"):a.canEdit&&!(0,v.isUninstalledAICluster)(a)&&(ae=r.default.createElement(u.Button,{variant:"primary",onClick:()=>l(p.default.EDIT_CONSOLE_URL,a)},"Add console URL"));const le=!(0,v.isUninstalledAICluster)(a)&&r.default.createElement(m.default,{disabled:!a.canEdit&&!a.canDelete,cluster:a,organization:w.details,showConsoleButton:!1,canSubscribeOCP:j,canTransferClusterOwnership:F,toggleSubscriptionReleased:V,canHibernateCluster:G,refreshFunc:P}),ne=r.default.createElement(S.default,{path:[{label:"Clusters"},(X||ee)&&{label:"Cluster Archives",path:"/archived"},{label:Z}].filter(Boolean)}),re=s||w.pending||L.pending,se=W&&(0,o.default)(a,"subscription.trial_end_date"),oe=q&&(0,T.goZeroTime2Null)((0,o.default)(a,"subscription.billing_expiration_date")),ie=!a.canEdit&&"You do not have permissions to unarchive this cluster",ue=r.default.createElement(R.default,{variant:"secondary",onClick:()=>l(p.default.UNARCHIVE_CLUSTER,{subscriptionID:a.subscription?a.subscription.id:"",name:Z}),disableReason:ie},"Unarchive"),de=null==z?void 0:z.find((e=>{var t,a;return(null===(t=e.summary)||void 0===t?void 0:t.includes("Please enable the Org Policy API for the GCP project"))||(null===(a=e.summary)||void 0===a?void 0:a.includes("GCP Organization Policy Service"))})),ce=de&&!ee&&a.state!==c.default.READY&&a.state!==c.default.UNINSTALLING;return r.default.createElement("div",{id:"cl-details-top",className:"top-row"},r.default.createElement(u.Split,null,r.default.createElement(u.SplitItem,{className:"pf-v5-u-pb-md"},ne)),r.default.createElement(u.Split,{id:"cl-details-top-row"},r.default.createElement(u.SplitItem,null,r.default.createElement(u.Title,{size:"2xl",headingLevel:"h1",className:"cl-details-page-title"},Z,H&&r.default.createElement(d.PreviewLabel,{creationDateStr:K,className:"pf-v5-u-ml-sm"}))),r.default.createElement(u.SplitItem,null,re&&r.default.createElement(i.Spinner,{className:"cluster-details-spinner"}),M&&r.default.createElement(E.default,{errorMessage:k,className:"cluster-details-warning"})),r.default.createElement(u.SplitItem,{isFilled:!0}),r.default.createElement(u.SplitItem,null,r.default.createElement(u.Flex,{flexWrap:{default:"nowrap"},alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsSm"},id:"cl-details-btns"},X||ee?!ee&&ue:r.default.createElement(r.default.Fragment,null,ae,le),!ee&&!X&&r.default.createElement(f.default,{id:"refresh",autoRefresh:U,refreshFunc:P,clickRefreshFunc:N,useShortTimer:!Object.values(c.default).includes(a.state)})))),r.default.createElement(_.default,{limitedSupportReasons:a.limitedSupportReasons,isOSD:B,isROSA:$}),J&&r.default.createElement(u.Split,null,r.default.createElement(u.SplitItem,{isFilled:!0},r.default.createElement(D,null))),a.expiration_timestamp&&r.default.createElement(b.default,{expirationTimestamp:a.expiration_timestamp}),se&&!ee&&r.default.createElement(b.default,(0,n.default)({expirationTimestamp:se},te)),oe&&!ee&&r.default.createElement(b.default,{expirationTimestamp:oe,OSDRHMExpiration:!0}),ce&&r.default.createElement(A.default,{summary:null==de?void 0:de.summary}),r.default.createElement(C.default,{cluster:a,openModal:l,canSubscribeOCP:j}),!a.canEdit&&(0,v.isAvailableAssistedInstallCluster)(a)&&r.default.createElement(y.default,null),r.default.createElement(O.default,{subscription:a.subscription}),r.default.createElement(I.default,{subscription:a.subscription}),x)}N.propTypes={cluster:s.default.object,openModal:s.default.func.isRequired,refreshFunc:s.default.func.isRequired,clickRefreshFunc:s.default.func,pending:s.default.bool.isRequired,clusterIdentityProviders:s.default.object.isRequired,organization:s.default.object.isRequired,error:s.default.bool,errorMessage:s.default.oneOfType([s.default.string,s.default.node,s.default.element]),children:s.default.any,canSubscribeOCP:s.default.bool.isRequired,canHibernateCluster:s.default.bool.isRequired,canTransferClusterOwnership:s.default.bool.isRequired,autoRefreshEnabled:s.default.bool,toggleSubscriptionReleased:s.default.func.isRequired,showPreviewLabel:s.default.bool.isRequired,logs:s.default.arrayOf(s.default.shape({summary:s.default.string,description:s.default.string}))},t.default=N},85546:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(2238)),o=a(77572),i=l(a(45697)),u=a(87558),d=a(61758),c=a(56554);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const f=e=>{const{currentFilter:t,currentFlags:a,setFilter:l,setFlags:n}=e,i=(0,u.useNavigate)(),p=(0,u.useLocation)(),[f,E]=r.default.useState(null),[g,h]=r.default.useState({description:"",loggedBy:""}),[v,b]=r.default.useState({severityTypes:[],logTypes:[]}),_=r.default.useRef(g),S=r.default.useRef(v);r.default.useEffect((()=>{_.current=g,S.current=v}),[g,v]),r.default.useEffect((()=>{t&&h(m({},t)),a&&b({severityTypes:a.severityTypes,logTypes:a.logTypes})}),[a,t]);const C=()=>{l(m(m({},t),_.current))},y=(e,t)=>{null!==f&&clearTimeout(f),h({[t]:e});const a=setTimeout(C,300);E(a)},O=()=>{const{severityTypes:e,logTypes:t}=S.current;n({severityTypes:e,logTypes:t}),i(m(m({},p),{},{search:(0,c.buildFilterURLParams)({logTypes:t,severityTypes:e})}),{replace:!0})},I=(e,t)=>{null!==f&&clearTimeout(f),b(m(m({},v),{},{[t]:e}));const a=setTimeout(O,300);E(a)},{description:R,loggedBy:T}=g,{severityTypes:A,logTypes:P}=v,D={type:o.conditionalFilterType.text,value:"Description",label:"Description",filterValues:{"aria-label":"Description Filter Input",onChange:(e,t)=>y(t,"description"),value:R}},N={type:o.conditionalFilterType.checkbox,label:"Severity",value:"Severity",filterValues:{onChange:(e,t)=>I(t,"severityTypes"),items:d.SEVERITY_TYPES.map((e=>({label:e,value:e}))),value:A}},L={type:o.conditionalFilterType.checkbox,label:"Type",value:"Type",filterValues:{onChange:(e,t)=>I(t,"logTypes"),items:d.LOG_TYPES.map((e=>({label:e,value:e}))),value:P}},w={type:o.conditionalFilterType.text,value:"Logged by",label:"Logged by",filterValues:{"aria-label":"Logged by Filter Input",onChange:(e,t)=>y(t,"loggedBy"),value:T}};return r.default.createElement(s.default,{items:[D,N,L,w]})};f.propTypes={currentFilter:i.default.shape({description:i.default.string,loggedBy:i.default.string,timestampFrom:i.default.string,timestampTo:i.default.string}).isRequired,currentFlags:i.default.shape({severityTypes:i.default.arrayOf(i.default.string),logTypes:i.default.arrayOf(i.default.string)}).isRequired,setFilter:i.default.func.isRequired,setFlags:i.default.func.isRequired},t.default=f},56304:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.onDateChangeFromFilter=t.getTimestampFrom=t.default=t.dateParse=t.dateFormat=void 0;var n=l(a(10434)),r=l(a(38416)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),o=l(a(45697)),i=a(65652),u=a(65996);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}a(21383);const p=e=>e.replace(/T.*/,"").split("-").filter((e=>""!==e&&0!==Number.parseInt(e,10))),m=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=p(e);if(3!==a.length)return"";const l=a[0],n=a[1],r=a[2],s=`${l.padStart(4,"0")}-${n.padStart(2,"0")}-${r.padStart(2,"0")}`;return t?new Date(l,Number.parseInt(n,10)-1,r):s};let f;t.dateParse=m;const E=function(){if(!f||arguments.length>0&&void 0!==arguments[0]&&arguments[0]){const e=m((new Date).toISOString()),t=new Date(e);t.setMonth(t.getMonth()-1);const a=new Date(e);a.setDate(a.getDate()-7);const l=new Date(e);return l.setDate(l.getDate()-3),f={now:e,lastMonthStart:t,lastWeekStart:a,last72HoursStart:l},f}return f},g=e=>{const{lastMonthStart:t}=E();return e<t?t:e};t.getTimestampFrom=g;const h="Last month",v="Last week",b="Last 72 hours",_="Custom",S=e=>{const t=e.getFullYear(),a=e.getMonth()+1,l=e.getDate();return`${t}-${a.toString().padStart(2,"0")}-${l.toString().padStart(2,"0")}`};t.dateFormat=S;const C=e=>({date:`${e}T00:00:00.000Z`,key:"timestampFrom",symbol:">="});t.onDateChangeFromFilter=C;const y=e=>({date:`${e}T23:59:59.999Z`,key:"timestampTo",symbol:"<="}),O=e=>{let{setFilter:t,currentFilter:a,createdAt:l}=e;const{now:o,lastMonthStart:d,lastWeekStart:f,last72HoursStart:O}=E(),I=m(l),R=[{value:h},{value:v},{value:b},{value:_}],[T,A]=(0,s.useState)(S(g(I))),[P,D]=(0,s.useState)(S(o)),[N,L]=(0,s.useState)(!1),[w,M]=(0,s.useState)(!1),[k,x]=(0,s.useState)(!1),[j,F]=(0,s.useState)(R[0].value),[G,U]=(0,s.useState)(0),V=m(P),H=m(T);let z;z=H>V&&H<=o&&V<=o&&V>=I?"The end date cannot be before the start date.":"";const W=e=>{const l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a);e.forEach((e=>{let{key:t,symbol:a,date:n}=e;l[t]=`${a} '${n}'`})),t(l)},q=[e=>e<I&&!N?"The start date cannot be before the cluster creation date.":"",e=>e>o?"The start date cannot be in the future.":""],B=[e=>e<I&&!w?"The end date cannot be before the cluster creation date.":"",e=>e>o?"The end date cannot be in the future.":""],$=e=>(0,i.isValidDate)(new Date(e)),Z=(e,t)=>{L(!1),F(_),3===p(e).length&&t&&($(e)?(e=>{A(e),W([C(m(e,!1))])})(e):L(!0))},Y=(e,t)=>{M(!1),F(_),3===p(e).length&&t&&($(e)?(e=>{D(e),W([y(m(e,!1))])})(e):M(!0))},K="YYYY-MM-DD",Q={className:"cluster-log__date-picker",placeholder:K,invalidFormatText:`Invalid: ${K}`,dateFormat:S,popoverProps:{position:"right"},key:G},J=s.default.createElement(i.DatePicker,(0,n.default)({onChange:(e,t,a)=>Z(t,a),onBlur:(e,t,a)=>Z(t,a),value:T,dateParse:m,validators:q},Q)),X=s.default.createElement(i.DatePicker,(0,n.default)({onChange:(e,t,a)=>Y(t,a),onBlur:(e,t,a)=>Y(t,a),value:P,dateParse:m,validators:B},Q)),ee=e=>e<I?I:e,te=s.default.createElement(u.Select,{onToggle:(e,t)=>x(t),onSelect:(e,t)=>{let a;switch(F(t),x(!1),U(G+1),t){case h:a=ee(d);break;case v:a=ee(f);break;case b:a=ee(O);break;default:return}A(S(a)),D(S(o)),W([C(S(a)),y(S(o))])},selections:j,isOpen:k,"aria-label":"Select a date range","aria-labelledby":"select-date-range"},R.map(((e,t)=>s.default.createElement(u.SelectOption,{key:t,value:e.value,isDisabled:e.isDisabled}))));return s.default.createElement(s.default.Fragment,null,s.default.createElement(i.ToolbarItem,null,te),s.default.createElement(i.ToolbarItem,null,J," ",N?s.default.createElement(i.HelperText,null,s.default.createElement(i.HelperTextItem,{variant:"error"},`Invalid: ${K}`)):void 0),s.default.createElement(i.ToolbarItem,null,X," ",z?s.default.createElement(i.HelperText,null,s.default.createElement(i.HelperTextItem,{variant:"error"},z)):void 0,w?s.default.createElement(i.HelperText,null,s.default.createElement(i.HelperTextItem,{variant:"error"},`Invalid: ${K}`)):void 0))};O.propTypes={currentFilter:o.default.shape({description:o.default.string,timestampFrom:o.default.string,timestampTo:o.default.string}).isRequired,setFilter:o.default.func.isRequired,createdAt:o.default.string.isRequired},t.default=O},6988:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(70215)),r=l(a(38416)),s=l(a(28416)),o=l(a(45697)),i=l(a(41609)),u=a(87558),d=a(65652),c=a(61758),p=a(56554),m=l(a(69429));const f=["timestampFrom","timestampTo"];function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const h=[{key:"severityTypes",label:"Severity Type",optionLabels:c.SEVERITY_TYPES.reduce(((e,t)=>(e[t]=t,e)),{})},{key:"logTypes",label:"Type",optionLabels:c.LOG_TYPES.reduce(((e,t)=>(e[t]=t,e)),{})}];function v(e){let{currentFilter:t,setFilter:a,currentFlags:l,setFlags:r,clearFiltersAndFlags:o}=e;const c=(0,u.useLocation)(),E=(0,u.useNavigate)(),{timestampFrom:v,timestampTo:b}=t,_=(0,n.default)(t,f);return m.default.nestedIsEmpty(_)&&m.default.nestedIsEmpty(l)?null:s.default.createElement(d.Split,null,s.default.createElement(d.SplitItem,null,s.default.createElement(d.ChipGroup,null,[{key:"description",label:"Description"},{key:"loggedBy",label:"Logged by"}].map((e=>((e,t,a,l,n)=>{const{key:r}=e,o=t[r]||[];return(0,i.default)(o)?null:s.default.createElement(d.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},s.default.createElement(d.Chip,{key:r,onClick:()=>{((e,t)=>{l({pathname:n.path,hash:n.hash,search:(0,p.buildFilterURLParams)({[e]:[t]})},{replace:!0}),a(t)})(r,g(g({},t),{},{[e.key]:""}))}},o))})(e,t,a,E,c))).filter(Boolean)),s.default.createElement(d.ChipGroup,null,h.map((e=>((e,t,a,l,n)=>{const r=t[e.key]||[];return(0,i.default)(r)?null:s.default.createElement(d.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},r.map((o=>{const i=e.optionLabels[o];return s.default.createElement(d.Chip,{key:o,onClick:()=>{var s;s=g(g({},t),{},{[e.key]:r.filter((e=>e!==o))}),l({pathname:n.path,hash:n.hash,search:(0,p.buildFilterURLParams)(s)},{replace:!0}),a(s)}},i)})))})(e,l,r,E,c))).filter(Boolean))),s.default.createElement(d.SplitItem,null,s.default.createElement(d.Button,{variant:"link",onClick:()=>((e,t,a)=>{e({hash:a.hash,search:""},{replace:!0}),t()})(E,o,c)},"Clear filters")))}v.propTypes={setFilter:o.default.func.isRequired,currentFilter:o.default.shape({description:o.default.string,loggedBy:o.default.string,timestampFrom:o.default.string,timestampTo:o.default.string}).isRequired,setFlags:o.default.func.isRequired,currentFlags:o.default.shape({severityTypes:o.default.arrayOf(o.default.string),logTypes:o.default.arrayOf(o.default.string)}).isRequired,clearFiltersAndFlags:o.default.func.isRequired},t.default=v},45276:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(33174),i=l(a(6988)),u=l(a(62862)),d=l(a(85546)),c=l(a(56304)),p=l(a(41086));class m extends n.default.PureComponent{render(){const{viewOptions:e,history:t,setFlags:a,setFilter:l,externalClusterID:r,currentFilter:m,currentFlags:f,clearFiltersAndFlags:E,isPendingNoData:g,createdAt:h,clusterID:v,logs:b}=this.props;return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Toolbar,{className:"cluster-log__toolbar","data-testid":"cluster-history-toolbar"},n.default.createElement(s.ToolbarContent,null,n.default.createElement(s.ToolbarGroup,{variant:"filter-group"},n.default.createElement(c.default,{currentFilter:m,currentFlags:f,setFilter:l,setFlags:a,createdAt:h})),n.default.createElement(s.ToolbarItem,null,n.default.createElement(d.default,{view:o.viewConstants.CLUSTER_LOGS_VIEW,history:t,currentFilter:m,currentFlags:f,setFilter:l,setFlags:a})),n.default.createElement(s.ToolbarItem,null,n.default.createElement(u.default,{externalClusterID:r,clusterID:v,viewOptions:e,logs:b})),n.default.createElement(s.ToolbarItem,{align:{default:"alignRight"},variant:"pagination"},n.default.createElement(p.default,{viewType:o.viewConstants.CLUSTER_LOGS_VIEW,currentPage:e.currentPage,pageSize:e.pageSize,totalCount:e.totalCount,totalPages:e.totalPages,variant:"top",isDisabled:g})))),n.default.createElement(i.default,{view:o.viewConstants.CLUSTER_LOGS_VIEW,currentFilter:m,currentFlags:f,setFilter:l,setFlags:a,clearFiltersAndFlags:E}))}}m.propTypes={setFilter:r.default.func.isRequired,currentFilter:r.default.shape({description:r.default.string,timestampFrom:r.default.string,timestampTo:r.default.string}).isRequired,setFlags:r.default.func.isRequired,currentFlags:r.default.shape({severityTypes:r.default.arrayOf(r.default.string),logTypes:r.default.arrayOf(r.default.string)}).isRequired,clearFiltersAndFlags:r.default.func.isRequired,history:r.default.shape({push:r.default.func.isRequired}).isRequired,externalClusterID:r.default.string.isRequired,viewOptions:r.default.object.isRequired,isPendingNoData:r.default.bool.isRequired,createdAt:r.default.string.isRequired,clusterID:r.default.string.isRequired,logs:r.default.number.isRequired},t.default=m},24556:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=a(66338),r=l(a(27361)),s=l(a(45276)),o=a(92308),i=a(33174);t.Z=(0,n.connect)(((e,t)=>{const a=(0,r.default)(e,"clusters.details.cluster",{});return{viewOptions:e.viewOptions[i.viewConstants.CLUSTER_LOGS_VIEW],currentFilter:e.viewOptions[t.view].filter||{conditionalFilterFlags:{}},currentFlags:e.viewOptions[t.view].flags.conditionalFilterFlags||{},createdAt:(0,r.default)(a,"creation_timestamp","")}}),((e,t)=>({setFilter:a=>e((0,o.onListFilterSet)(a,t.view)),setFlags:a=>e((0,o.onListFlagsSet)("conditionalFilterFlags",a,t.view)),clearFiltersAndFlags:()=>e((0,o.onClearFiltersAndFlags)(t.view))})))(s.default)},6520:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(25967)),o=l(a(7749));class i extends n.default.Component{componentDidUpdate(){const{deletedIDPResponse:e}=this.props;e.fulfilled&&this.closeDialog(!0)}closeDialog(e){const{clearDeleteIDPResponse:t,close:a,refreshParent:l}=this.props;t(),a(),e&&l()}render(){const{isOpen:e,modalData:t,deleteIDP:a,deletedIDPResponse:l}=this.props,{clusterID:r,idpID:i,idpName:u,idpType:d}=t,c=l.error&&n.default.createElement(o.default,{message:"Error removing identity provider",response:l}),p=l.pending,m=()=>this.closeDialog(!1);return e&&n.default.createElement(s.default,{onClose:m,primaryText:"Remove",primaryVariant:"danger",onPrimaryClick:()=>a(r,i),onSecondaryClick:m,title:"Remove identity provider",isPending:p},c,n.default.createElement("p",null,"You're about to remove the ",n.default.createElement("b",null,d)," identity provider"," ",n.default.createElement("b",null,'"',u,'"')," ","from this cluster."),n.default.createElement("p",null,"You may lose access to this cluster if you remove this identity provider. At least one identity provider is required to access the cluster."))}}i.propTypes={isOpen:r.default.bool.isRequired,modalData:r.default.object,clearDeleteIDPResponse:r.default.func.isRequired,close:r.default.func.isRequired,deleteIDP:r.default.func.isRequired,deletedIDPResponse:r.default.object,refreshParent:r.default.func},t.default=i},55699:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9409),s=a(7046),o=l(a(80338)),i=l(a(6520));const u={clearDeleteIDPResponse:()=>(0,r.resetDeletedIDPResponse)(),deleteIDP:(e,t)=>(0,r.deleteIDP)(e,t),close:()=>(0,s.closeModal)()};t.default=(0,n.connect)((e=>({isOpen:(0,o.default)(e,"delete-idp"),modalData:e.modal.data,deletedIDPResponse:e.identityProviders.deletedIDP})),u)(i.default)},9409:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.resetIdentityProvidersState=t.resetDeletedIDPResponse=t.resetCreatedClusterIDPResponse=t.getClusterIdentityProviders=t.editClusterIdentityProvider=t.deleteIDP=t.createClusterIdentityProvider=t.clusterIdentityActions=void 0;var n=l(a(27361)),r=a(91644),s=a(33047);const o=e=>t=>t({type:r.identityProvidersConstants.GET_CLUSTER_IDENTITY_PROVIDERS,payload:s.clusterService.getIdentityProviders(e).then((e=>(e.data.items=(0,n.default)(e.data,"items",[]),e)))});t.getClusterIdentityProviders=o;const i=(e,t)=>a=>a({type:r.identityProvidersConstants.CREATE_CLUSTER_IDENTITY_PROVIDER,payload:s.clusterService.createClusterIdentityProvider(e,t).then((e=>e))});t.createClusterIdentityProvider=i;const u=(e,t)=>a=>a({type:r.identityProvidersConstants.UPDATE_CLUSTER_IDENTITY_PROVIDER,payload:s.clusterService.editClusterIdentityProvider(e,t).then((e=>e))});t.editClusterIdentityProvider=u;const d=()=>e=>e({type:r.identityProvidersConstants.RESET_CREATED_CLUSTER_IDP_RESPONSE});t.resetCreatedClusterIDPResponse=d;const c=(e,t)=>a=>a({type:r.identityProvidersConstants.DELETE_IDENTITY_PROVIDER,payload:s.clusterService.deleteIdentityProvider(e,t)});t.deleteIDP=c;const p=()=>e=>e({type:r.identityProvidersConstants.RESET_DELETED_IDP_RESPONSE});t.resetDeletedIDPResponse=p;const m=()=>e=>e({type:r.identityProvidersConstants.RESET_IDENTITY_PROVIDERS_STATE});t.resetIdentityProvidersState=m,t.clusterIdentityActions={getClusterIdentityProviders:o,createClusterIdentityProvider:i,resetCreatedClusterIDPResponse:d,deleteIDP:c,resetDeletedIDPResponse:p,resetIdentityProvidersState:m,editClusterIdentityProvider:u}},91644:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identityProvidersConstants=t.UPDATE_CLUSTER_IDENTITY_PROVIDER=t.RESET_IDENTITY_PROVIDERS_STATE=t.RESET_DELETED_IDP_RESPONSE=t.RESET_CREATED_CLUSTER_IDP_RESPONSE=t.GET_CLUSTER_IDENTITY_PROVIDERS=t.DELETE_IDENTITY_PROVIDER=t.CREATE_CLUSTER_IDENTITY_PROVIDER=void 0;const a=t.GET_CLUSTER_IDENTITY_PROVIDERS="GET_CLUSTER_IDENTITY_PROVIDERS",l=t.CREATE_CLUSTER_IDENTITY_PROVIDER="CREATE_CLUSTER_IDENTITY_PROVIDER",n=t.RESET_CREATED_CLUSTER_IDP_RESPONSE="RESET_CREATED_CLUSTER_IDP_RESPONSE",r=t.DELETE_IDENTITY_PROVIDER="DELETE_IDENTITY_PROVIDER",s=t.RESET_DELETED_IDP_RESPONSE="RESET_DELETED_IDP_RESPONSE",o=t.RESET_IDENTITY_PROVIDERS_STATE="RESET_IDENTITY_PROVIDERS_STATE",i=t.UPDATE_CLUSTER_IDENTITY_PROVIDER="UPDATE_CLUSTER_IDENTITY_PROVIDER";t.identityProvidersConstants={GET_CLUSTER_IDENTITY_PROVIDERS:a,CREATE_CLUSTER_IDENTITY_PROVIDER:l,RESET_CREATED_CLUSTER_IDP_RESPONSE:n,DELETE_IDENTITY_PROVIDER:r,RESET_DELETED_IDP_RESPONSE:s,RESET_IDENTITY_PROVIDERS_STATE:o,UPDATE_CLUSTER_IDENTITY_PROVIDER:i}},58133:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(27361)),o=a(87558),i=a(66338),u=a(9104),d=a(65652),c=a(71359),p=a(64171),m=a(27849),f=a(59231),E=a(69429),g=l(a(2101)),h=l(a(81872)),v=l(a(96343)),b=l(a(52069)),_=a(52758),S=a(70774),C=a(69229),y=a(23445),O=a(9409);const I="Red Hat OpenShift Cluster Manager",R=e=>{const{clusterIDPs:t,handleSubmit:a,clusterDetails:l,submitIDPResponse:r,selectedMappingMethod:R,change:T,clearFields:A,IDPList:P,initialValues:D,idpEdited:N,editedType:L,isEditForm:w,selectedIDP:M,pristine:k,invalid:x,HTPasswdErrors:j}=e,F=(0,o.useParams)(),G=(0,i.useDispatch)(),{cluster:U}=l,V=n.default.useRef(l);if(n.default.useEffect((()=>{document.title="Red Hat OpenShift Cluster Manager";const e=F.id;return(0,E.isValid)(e)&&(0,s.default)(U,"subscription.id","")!==e?G((0,S.fetchClusterDetails)(e)):(0,s.default)(U,"subscription.id","")===e&&G((0,O.getClusterIdentityProviders)(U.id)),()=>{G((0,O.resetCreatedClusterIDPResponse)()),G((0,u.reset)("CreateIdentityProvider"))}}),[]),n.default.useEffect((()=>{var e,t;const a=F.id;if((0,s.default)(V.current,"cluster.subscription.id")===a){const e=(0,b.default)(l.cluster);document.title=`${e} | Red Hat OpenShift Cluster Manager`}if((null===(e=V.current)||void 0===e||null===(e=e.cluster)||void 0===e||!e.id)&&l.fulfilled&&null!=l&&null!==(t=l.cluster)&&void 0!==t&&t.id){const{cluster:e}=l,t=(0,s.default)(e,"id"),a=(0,s.default)(l,"cluster.managed",!1),n=(0,s.default)(e,"subscription.status");(0,E.isValid)(t)&&n!==_.subscriptionStatuses.DEPROVISIONED&&a&&G((0,O.getClusterIdentityProviders)(t)),V.current=l}}),[G,F.id,l]),r.fulfilled)return n.default.createElement(o.Navigate,{replace:!0,to:`/details/s/${U.subscription.id}#accessControl`});const H=F.id,z=(0,s.default)(U,"subscription.id")!==H&&!l.error,W=(0,s.default)(t,"pending",!1);if((z||W)&&!l.error)return n.default.createElement(m.AppPage,{title:I},n.default.createElement("div",{id:"clusterdetails-content"},n.default.createElement("div",{className:"cluster-loading-container"},n.default.createElement(c.Spinner,{centered:!0}))));if(l.error&&(!U||(0,s.default)(U,"subscription.id")!==H))return 404===l.errorCode||403===l.errorCode?(G((0,y.setGlobalError)(n.default.createElement(n.default.Fragment,null,"Cluster with subscription ID ",n.default.createElement("b",null,H)," was not found, it might have been deleted or you don't have permission to see it."),"identityProvidersPage",l.errorMessage)),n.default.createElement(o.Navigate,{replace:!0,to:"/"})):n.default.createElement(m.AppPage,{title:I},n.default.createElement(v.default,{message:"Error retrieving IDP page",response:l}),z&&n.default.createElement(c.Spinner,null));if(!(0,s.default)(l,"cluster.managed",!1))return G((0,y.setGlobalError)(n.default.createElement(n.default.Fragment,null,"Cluster with subscription ID ",n.default.createElement("b",null,H)," is not a managed cluster."),"identityProvidersPage","Go to the cluster's console to see and edit identity providers.")),n.default.createElement(o.Navigate,{replace:!0,to:"/"});if(!w&&!M&&!F.idpTypeName||w&&t.fulfilled&&!L)return n.default.createElement(o.Navigate,{replace:!0,to:`/details/s/${U.subscription.id}#accessControl`});const q=C.IDPTypeNames[M],B=w?`Edit identity provider: ${N.name}`:`Add identity provider: ${q}`,$=(0,b.default)(l.cluster),Z=w?B:`Add ${C.singularFormIDP[M]} identity provider`;return n.default.createElement(m.AppPage,{title:I},n.default.createElement(p.PageHeader,null,n.default.createElement(g.default,{path:[{label:"Clusters"},{label:$,path:`/details/s/${U.subscription.id}`},{label:"Access control",path:`/details/s/${U.subscription.id}#accessControl`},{label:B}]}),n.default.createElement(p.PageHeaderTitle,{title:B})),n.default.createElement(d.PageSection,null,n.default.createElement(d.Card,null,n.default.createElement(d.CardBody,null,n.default.createElement(d.Grid,null,n.default.createElement(d.GridItem,{md:8},t.fulfilled?n.default.createElement(h.default,{selectedIDP:M,idpTypeName:q,formTitle:Z,submitIDPResponse:r,selectedMappingMethod:R,clusterUrls:{console:(0,s.default)(U,"console.url"),api:(0,s.default)(U,"api.url")},change:T,clearFields:A,IDPList:P,isEditForm:w,idpEdited:N,idpName:D.name,isHypershift:(0,f.isHypershiftCluster)(U),HTPasswdErrors:j}):n.default.createElement(c.Spinner,null)))),n.default.createElement(d.CardFooter,null,n.default.createElement(d.Split,{hasGutter:!0},n.default.createElement(d.SplitItem,null,n.default.createElement(d.Button,{variant:"primary",type:"submit",isDisabled:k||x,onClick:a},w?"Save":"Add")),n.default.createElement(d.SplitItem,null,n.default.createElement(o.Link,{to:`/details/s/${U.subscription.id}#accessControl`},n.default.createElement(d.Button,{variant:"secondary"},"Cancel"))))))))};R.propTypes={isEditForm:r.default.bool,clusterIDPs:r.default.object.isRequired,clusterDetails:r.default.shape({cluster:r.default.object,error:r.default.bool,errorCode:r.default.oneOfType([r.default.number,r.default.string]),errorMessage:r.default.oneOfType([r.default.string,r.default.node,r.default.element]),fulfilled:r.default.bool,pending:r.default.bool}),handleSubmit:r.default.func.isRequired,selectedMappingMethod:r.default.string,change:r.default.func.isRequired,clearFields:r.default.func.isRequired,IDPList:r.default.array.isRequired,idpEdited:r.default.object,editedType:r.default.string,initialValues:r.default.shape({idpId:r.default.string,name:r.default.string}).isRequired,selectedIDP:r.default.oneOfType([r.default.string,r.default.bool]),pristine:r.default.bool.isRequired,invalid:r.default.bool.isRequired,HTPasswdErrors:r.default.object.isRequired,submitIDPResponse:r.default.object},R.defaultProps={clusterDetails:{cluster:null,error:!1,errorMessage:"",fulfilled:!1},isEditForm:!1},t.default=R},51048:(e,t,a)=>{"use strict";var l=a(64836);t.U5=p;var n=l(a(38416)),r=a(25684),s=a(52220),o=a(34693),i=a(91644);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={clusterIdentityProviders:d(d({},s.baseRequestState),{},{clusterIDPList:[]}),createdClusterIDP:d(d({},s.baseRequestState),{},{data:{}}),deletedIDP:d({},s.baseRequestState),editClusterIDP:d(d({},s.baseRequestState),{},{data:{}})};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case i.identityProvidersConstants.RESET_IDENTITY_PROVIDERS_STATE:return c;case(0,s.REJECTED_ACTION)(i.identityProvidersConstants.GET_CLUSTER_IDENTITY_PROVIDERS):e.clusterIdentityProviders=d(d({},c.clusterIdentityProviders),(0,o.getErrorState)(t));break;case(0,s.PENDING_ACTION)(i.identityProvidersConstants.GET_CLUSTER_IDENTITY_PROVIDERS):e.clusterIdentityProviders.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.identityProvidersConstants.GET_CLUSTER_IDENTITY_PROVIDERS):e.clusterIdentityProviders=d(d({},c.clusterIdentityProviders),{},{clusterIDPList:t.payload.data.items||[],fulfilled:!0});break;case(0,s.REJECTED_ACTION)(i.identityProvidersConstants.CREATE_CLUSTER_IDENTITY_PROVIDER):e.createdClusterIDP=d(d({},c.createdClusterIDP),(0,o.getErrorState)(t));break;case(0,s.PENDING_ACTION)(i.identityProvidersConstants.CREATE_CLUSTER_IDENTITY_PROVIDER):e.createdClusterIDP.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.identityProvidersConstants.CREATE_CLUSTER_IDENTITY_PROVIDER):e.createdClusterIDP=d(d({},c.createdClusterIDP),{},{fulfilled:!0,clusterIdentityProviders:t.payload.data});break;case(0,s.REJECTED_ACTION)(i.identityProvidersConstants.UPDATE_CLUSTER_IDENTITY_PROVIDER):e.editClusterIDP=d(d({},c.editClusterIDP),(0,o.getErrorState)(t));break;case(0,s.PENDING_ACTION)(i.identityProvidersConstants.UPDATE_CLUSTER_IDENTITY_PROVIDER):e.editClusterIDP.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.identityProvidersConstants.UPDATE_CLUSTER_IDENTITY_PROVIDER):e.editClusterIDP=d(d({},c.editClusterIDP),{},{fulfilled:!0,clusterIdentityProviders:t.payload.data});break;case i.identityProvidersConstants.RESET_CREATED_CLUSTER_IDP_RESPONSE:e.createdClusterIDP=d({},c.createdClusterIDP),e.editClusterIDP=d({},c.editClusterIDP);break;case(0,s.PENDING_ACTION)(i.identityProvidersConstants.DELETE_IDENTITY_PROVIDER):e.deletedIDP.pending=!0;break;case(0,s.REJECTED_ACTION)(i.identityProvidersConstants.DELETE_IDENTITY_PROVIDER):e.deletedIDP=d(d({},c.deletedIDP),(0,o.getErrorState)(t));break;case(0,s.FULFILLED_ACTION)(i.identityProvidersConstants.DELETE_IDENTITY_PROVIDER):e.deletedIDP=d(d({},c.deletedIDP),{},{fulfilled:!0});break;case i.identityProvidersConstants.RESET_DELETED_IDP_RESPONSE:e.deletedIDP=d({},c.deletedIDP)}}))}p.initialState=c},81872:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(9104),i=a(65652),u=l(a(7749)),d=a(79687),c=l(a(91885)),p=a(90181),m=a(52010),f=a(69229),E=l(a(42517));class g extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{IDPName:"",isExpanded:!1}),(0,n.default)(this,"checkDuplicateName",(e=>{const{IDPList:t,isEditForm:a}=this.props;if(t.map((e=>e.name)).includes(e)&&!a)return`The name "${e}" is already taken. Identity provider names must not be duplicate.`})),(0,n.default)(this,"updateIsExpanded",(()=>{const{isExpanded:e}=this.state;this.setState({isExpanded:!e})}))}componentDidMount(){const{selectedIDP:e,isEditForm:t,idpEdited:a,idpName:l}=this.props;this.setState({IDPName:l}),t&&this.setState({isExpanded:g.checkIfExpandable(e,a)})}componentDidUpdate(e){const{selectedIDP:t,change:a,IDPList:l,isEditForm:n}=this.props,{IDPName:r}=this.state;if(!n&&t!==e.selectedIDP){const e=(0,f.generateIDPName)(t,l);e!==r&&(a("name",e),this.setState({IDPName:e}))}}render(){const{submitIDPResponse:e,selectedMappingMethod:t,clusterUrls:a,isEditForm:l,idpEdited:n,change:s,clearFields:g,selectedIDP:h,idpTypeName:v,formTitle:b,HTPasswdErrors:_,isHypershift:S}=this.props,{IDPName:C,isExpanded:y}=this.state,O=e.pending;let I;e.error&&(I=r.default.createElement(u.default,{title:`Error ${l?"updating":"creating"} Identity Provider`,response:e}));const R={OpenIDIdentityProvider:m.OpenIDForm,LDAPIdentityProvider:m.LDAPForm},T={LDAPIdentityProvider:m.LDAPFormRequired,OpenIDIdentityProvider:m.OpenIDFormRequired,GithubIdentityProvider:m.GithubForm,GoogleIdentityProvider:m.GoogleFormRequired,GitlabIdentityProvider:m.GitlabForm,HTPasswdIdentityProvider:m.HTPasswdForm},A={LDAPIdentityProvider:c.default.IDP_LDAP,OpenIDIdentityProvider:c.default.IDP_OPENID,GithubIdentityProvider:c.default.IDP_GITHUB,GoogleIdentityProvider:c.default.IDP_GOOGLE,GitlabIdentityProvider:c.default.IDP_GITLAB,HTPasswdIdentityProvider:c.default.IDP_HTPASSWD},P=T[h],D=R[h],N=h===f.IDPformValues.HTPASSWD?11:8;return r.default.createElement(i.Form,null,r.default.createElement(i.Grid,{id:"identity-provider-form",hasGutter:!0},r.default.createElement(i.GridItem,{span:N},r.default.createElement(i.Title,{headingLevel:"h3",size:"xl"},b)),I&&r.default.createElement(i.GridItem,{span:8},I),(e=>{let t=null;switch(e){case f.IDPformValues.HTPASSWD:t=r.default.createElement(r.default.Fragment,null,"Define an ",r.default.createElement("code",null,"htpasswd")," identity provider for your managed cluster to create one or multiple static users that can log in to your cluster and troubleshoot it. If these users need elevated permissions, add it to an"," ",r.default.createElement(E.default,{href:c.default.OSD_DEDICATED_ADMIN_ROLE},"administrative group")," ","within your organization.");break;case f.IDPformValues.OPENID:t=r.default.createElement(r.default.Fragment,null,"Configure an ",r.default.createElement("code",null,"oidc")," identity provider to integrate with an OpenID Connect identity provider using an"," ",r.default.createElement(E.default,{href:"http://openid.net/specs/openid-connect-core-1_0.html#CodeFlowAuth"},"Authorization Code Flow"),".");break;case f.IDPformValues.LDAP:t=r.default.createElement(r.default.Fragment,null,"Configure the ",r.default.createElement("code",null,"ldap")," identity provider to validate user names and passwords against an LDAPv3 server, using simple bind authentication.");break;case f.IDPformValues.GITHUB:t=r.default.createElement(r.default.Fragment,null,"Configure a ",r.default.createElement("code",null,"github")," identity provider to validate user names and passwords against GitHub or GitHub Enterprises OAuth authentication server.");break;case f.IDPformValues.GITLAB:t=r.default.createElement(r.default.Fragment,null,"Configure a ",r.default.createElement("code",null,"gitlab")," identity provider to use"," ",r.default.createElement(E.default,{href:"https://gitlab.com/"},"GitLab.com")," or any other GitLab instance as an identity provider.");break;case f.IDPformValues.GOOGLE:t=r.default.createElement(r.default.Fragment,null,"Configure a ",r.default.createElement("code",null,"google")," identity provider using"," ",r.default.createElement(E.default,{href:"https://developers.google.com/identity/protocols/OpenIDConnect"},"Googles OpenID Connect integration"),".");break;default:return null}return r.default.createElement(i.GridItem,{span:N+1},t)})(h),!l&&r.default.createElement(i.GridItem,{span:N},r.default.createElement(E.default,{href:A[h]},"Learn more about ",v," identity providers")),r.default.createElement(i.GridItem,{span:N},r.default.createElement(o.Field,{component:d.ReduxVerticalFormGroup,name:"name",label:"Name",type:"text",validate:[p.checkIdentityProviderName,this.checkDuplicateName],isRequired:!0,disabled:O||l,onChange:(e,t)=>this.setState({IDPName:t}),helpText:"Unique name for the identity provider. This cannot be changed later."})),(0,f.IDPNeedsOAuthURL)(h)&&r.default.createElement(i.GridItem,{span:N},r.default.createElement("div",null,r.default.createElement("span",{className:"pf-v5-c-form__label pf-v5-c-form__label-text pf-v5-u-mb-sm"},"OAuth callback URL"),r.default.createElement(i.ClipboardCopy,{isReadOnly:!0},(0,f.getOauthCallbackURL)(a,C,S)))),h!==f.IDPformValues.HTPASSWD&&r.default.createElement(i.GridItem,{span:N},r.default.createElement(o.Field,{component:d.ReduxFormDropdown,options:f.mappingMethods,name:"mappingMethod",label:"Mapping method",helpText:"Specifies how new identities are mapped to users when they log in. Claim is recommended in most cases.",value:n.mapping_method})),P&&r.default.createElement(P,{isPending:O,isRequired:h===f.IDPformValues.GOOGLE&&!(t===f.mappingMethodsformValues.LOOKUP),isEditForm:l,idpEdited:n,change:s,clearFields:g,HTPasswdErrors:_}),D&&r.default.createElement(i.GridItem,{span:N},r.default.createElement(i.ExpandableSection,{toggleTextCollapsed:"Show advanced options",toggleTextExpanded:"Hide advanced options",isExpanded:y,onToggle:()=>this.updateIsExpanded()},r.default.createElement(D,{isPending:O,isEditForm:l,idpEdited:n})))))}}(0,n.default)(g,"checkIfExpandable",((e,t)=>{if(e===f.IDPformValues.OPENID){if(""!==t.open_id.openid_extra_scopes||""!==t.open_id.openid_ca)return!0}else if(e===f.IDPformValues.LDAP&&(""!==t.ldap.ldap_ca||""!==t.ldap.ldap_insecure))return!0;return!1})),g.propTypes={clusterUrls:s.default.shape({console:s.default.string,api:s.default.string}).isRequired,submitIDPResponse:s.default.object,selectedIDP:s.default.string,selectedMappingMethod:s.default.string,change:s.default.func.isRequired,clearFields:s.default.func.isRequired,IDPList:s.default.array.isRequired,isEditForm:s.default.bool,isHypershift:s.default.bool,idpEdited:s.default.object,idpName:s.default.string,HTPasswdErrors:s.default.func.isRequired,idpTypeName:s.default.string,formTitle:s.default.string},g.defaultProps={selectedIDP:"GithubIdentityProvider"},t.default=g},448:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(9104),u=a(69429),d=a(90181),c=l(a(28504)),p=l(a(73269)),m=l(a(60742)),f=l(a(10865)),E=l(a(65152));a(51346);class g extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{authMode:"",hostnameRequired:!1}),(0,n.default)(this,"toggleHostnameRequired",((e,t)=>{t&&""!==t.trim()?this.setState({hostnameRequired:!0}):this.setState({hostnameRequired:!1})})),(0,n.default)(this,"onAuthModeChange",((e,t)=>{this.setState({authMode:t})}))}componentDidMount(){const{isEditForm:e,idpEdited:t}=this.props;e?(t.github.ca&&this.setState({hostnameRequired:!0}),this.setState({authMode:t.github.organizations?"organizations":"teams"})):this.setState({authMode:"organizations"})}render(){const{isPending:e,idpEdited:t,isEditForm:a}=this.props,{authMode:l,hostnameRequired:n}=this.state;return r.default.createElement(r.default.Fragment,null,r.default.createElement(c.default,null),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:p.default,name:"hostname",label:"Hostname",type:"text",disabled:e,validate:n?d.required:u.noop,isRequired:n,extendedHelpText:"You can use the GitHub integration to connect to either GitHub or GitHub Enterprise. For GitHub Enterprise, you must provide the hostname of your instance and, optionally, provide a CA certificate bundle to use in requests to the server.",helpText:"Optional domain to use with a hosted instance of GitHub Enterprise."})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:E.default,name:"github_ca",label:"CA file",type:"text",helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured GitHub Enterprise URL.",isDisabled:e,onChange:(e,t)=>this.toggleHostnameRequired(e,t),certValue:a?t.github.ca:""})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(o.Divider,null),r.default.createElement(o.Title,{headingLevel:"h3",size:"xl",className:"pf-v5-u-mt-lg"},"Organizations or teams"),r.default.createElement("p",null,"Github authentication lets you use either GitHub organizations or GitHub teams to restrict access."),r.default.createElement("p",{className:"idp-github-auth-mode-selection-question"},"Do you want to use GitHub organizations, or GitHub teams?"),r.default.createElement(i.Field,{component:f.default,name:"github_auth_mode",defaultValue:l,options:[{value:"organizations",label:"Use organizations"},{value:"teams",label:"Use teams"}],onChange:this.onAuthModeChange})),"organizations"===l?r.default.createElement(m.default,{fieldName:"organizations",label:"Organizations",type:"text",isRequired:!0,placeholderText:"e.g. org",disabled:e,helpText:"Only users that are members of at least one of the listed organizations will be allowed to log in.",validate:(0,d.atLeastOneRequired)("organizations")}):r.default.createElement(m.default,{fieldName:"teams",label:"Teams",type:"text",isRequired:!0,placeholderText:"e.g. org/team",disabled:e,helpText:"Only users that are members of at least one of the listed teams will be allowed to log in. The format is <org>/<team>.",validateField:d.checkGithubTeams,key:"teams",validate:(0,d.atLeastOneRequired)("teams")}))}}g.propTypes={isPending:s.default.bool,isEditForm:s.default.bool,idpEdited:s.default.object},g.defaultProps={isPending:!1},t.default=g},15483:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(9104),s=a(65652),o=l(a(45697)),i=l(a(28504)),u=l(a(73269)),d=a(90181),c=l(a(65152));function p(e){let{isPending:t,isEditForm:a,idpEdited:l}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.default,null),n.default.createElement(s.GridItem,{span:8},n.default.createElement(r.Field,{component:u.default,name:"gitlab_url",label:"URL",type:"text",validate:d.required,isRequired:!0,disabled:t,helpText:"The URL of your GitLab provider.This would be https://gitlab.com/ if you do not have hosted GitLab."})),n.default.createElement(s.GridItem,{span:8},n.default.createElement(r.Field,{component:c.default,name:"gitlab_ca",label:"CA file",type:"text",disabled:t,helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured Gitlab URL.",certValue:a?l.gitlab.ca:""})))}p.propTypes={isPending:o.default.bool,isEditForm:o.default.bool,idpEdited:o.default.object},p.defaultProps={isPending:!1},t.default=p},36966:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(9104),o=a(65652),i=a(90181),u=l(a(28504)),d=l(a(73269));function c(e){let{isPending:t,isRequired:a}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(u.default,null),n.default.createElement(o.GridItem,{span:8},n.default.createElement(s.Field,{component:d.default,name:"hosted_domain",label:"Hosted domain",type:"text",helpText:"Restrict users to a Google Apps domain",disabled:t,isRequired:a,validate:a?i.required:null})))}c.propTypes={isPending:r.default.bool,isRequired:r.default.bool},c.defaultProps={isPending:!1,isRequired:!1},t.default=c},97951:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(68778),i=a(43047),u=a(90181),d=a(79687);a(28245);const c=()=>{const e="abcdefghijklmnopqrstuvwxyz",t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a="0123456789\\!\"#$%&'()*+,-./:;<=>?@[]^_`{|}~",l=`${e}${t}${a}`,n=e=>{const t=(e=>{const t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]%e.length})(e);return{index:t,value:e[t]}},r=new Array(14).fill(null).map((()=>n(l).value)),s=r.map(((e,t)=>t)),o=n(s);r[o.value]=n(t).value,s.splice(o.index,1);const i=n(s);return r[i.value]=n(e).value,s.splice(i.index,1),r[n(s).value]=n(a).value,s.splice(i.index,1),r.join("")},p=(e,t)=>(null==t?void 0:t.emptyPassword)?"default":void 0===t?"success":t[e]?"error":"success",m=e=>{let{passwordErrors:t}=e;const a=e=>p(e,t),l=e=>((e,t)=>{switch(p(e,t)){case"success":return n.default.createElement(o.CheckCircleIcon,null);case"error":return n.default.createElement(i.ExclamationCircleIcon,null);default:return n.default.createElement("span",null,"")}})(e,t);return n.default.createElement(s.HelperText,null,n.default.createElement(s.HelperTextItem,{isDynamic:!0,variant:a("baseRequirements"),icon:l("baseRequirements")},"At least 14 characters (ASCII-standard) without whitespaces"),n.default.createElement(s.HelperTextItem,{isDynamic:!0,variant:a("lowercase"),icon:l("lowercase")},"Include lowercase letters"),n.default.createElement(s.HelperTextItem,{isDynamic:!0,variant:a("uppercase"),icon:l("uppercase")},"Include uppercase letters"),n.default.createElement(s.HelperTextItem,{isDynamic:!0,variant:a("numbersOrSymbols"),icon:l("numbersOrSymbols")},"Include numbers or symbols (ASCII-standard characters only)"))};m.propTypes={passwordErrors:{emptyPassword:r.default.bool,baseRequirements:r.default.bool,uppercase:r.default.bool,lowercase:r.default.bool,numbers:r.default.bool}};const f=e=>{let{isPending:t,HTPasswdErrors:a,change:l}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(d.ReduxFieldArray,{fieldName:"users",fieldSpan:11,component:d.RenderCompoundArrayFields,compoundFields:[{name:"username",label:"Username",type:"text",helpText:"Unique name of the user within the cluster.",isRequired:!0,getPlaceholderText:e=>`Unique username ${e+1}`,validate:[u.required,u.validateHTPasswdUsername]},{name:"password",label:"Password",type:"password",isRequired:!0,getHelpText:e=>{var t;const l=null==a||null===(t=a[e])||void 0===t?void 0:t.password;return n.default.createElement(m,{passwordErrors:l})},onAutocomplete:(e,t)=>{l(`${t}-confirm`,e)},getAutocompleteValue:c,getAutocompleteText:e=>n.default.createElement("div",null,"Use suggested password:",n.default.createElement("br",null),n.default.createElement("b",null,`${e}`)),validate:u.validateHTPasswdPassword},{name:"password-confirm",label:"Confirm password",type:"password",isRequired:!0,helpText:"Retype the password to confirm.",validate:[u.required,u.validateHTPasswdPasswordConfirm]}],label:"Users list",addMoreTitle:"Add user",isRequired:!0,disabled:t,validate:[(0,u.atLeastOneRequired)("users",(e=>!(null!=e&&e.username)||""===e.username.trim())),u.validateUniqueHTPasswdUsername]}),n.default.createElement(s.GridItem,{span:11},n.default.createElement(s.Alert,{isInline:!0,variant:"info",title:"Securely store your usernames and passwords"},"If you lose these credentials, you will have to delete and recreate the users.")))};f.propTypes={isPending:r.default.bool,change:r.default.func.isRequired,HTPasswdErrors:r.default.arrayOf({emptyPassword:r.default.bool,baseRequirements:r.default.bool,uppercase:r.default.bool,lowercase:r.default.bool,numbers:r.default.bool})},f.defaultProps={isPending:!1},t.default=f},79258:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(9104),i=a(65652),u=a(79687),d=l(a(65152));class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{isInsecure:!1,caDisabledHelpText:""}),(0,n.default)(this,"toggleCADisabled",((e,t)=>{t?this.setState({isInsecure:!0,caDisabledHelpText:"Cannot be used if insecure is set."}):this.setState({isInsecure:!1,caDisabledHelpText:""})}))}componentDidMount(){const{isEditForm:e,idpEdited:t}=this.props;this.setState({isInsecure:!!e&&t.ldap.insecure,caDisabledHelpText:""})}render(){const{isPending:e,isEditForm:t,idpEdited:a}=this.props,{isInsecure:l,caDisabledHelpText:n}=this.state;return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.GridItem,{span:8},r.default.createElement(o.Field,{component:d.default,name:"ldap_ca",label:"CA file",helpText:`PEM encoded certificate bundle to use to validate server certificates for the configured URL. ${n}`,isDisabled:l||e,certValue:t&&!l?a.ldap.ca:""})),r.default.createElement(i.GridItem,{span:8},r.default.createElement(o.Field,{component:u.ReduxCheckbox,name:"ldap_insecure",label:"Insecure",isDisabled:e,onChange:this.toggleCADisabled})))}}c.propTypes={isPending:s.default.bool,isEditForm:s.default.bool,idpEdited:s.default.object},c.defaultProps={isPending:!1},t.default=c},5022:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(9104),u=l(a(73269)),d=a(90181),c=l(a(60742));class p extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{hasBindDN:!1}),(0,n.default)(this,"toggleBindPasswordDisabled",((e,t)=>{t?this.setState({hasBindDN:!0}):this.setState({hasBindDN:!1})}))}componentDidMount(){const{isEditForm:e,idpEdited:t}=this.props;e&&t.ldap.bind_dn&&""!==t.ldap.bind_dn&&this.setState({hasBindDN:!0})}render(){const{isPending:e}=this.props,{hasBindDN:t}=this.state;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:u.default,name:"ldap_url",label:"LDAP URL",type:"text",disabled:e,validate:d.required,isRequired:!0,helpText:"An RFC 2255 URL which specifies the LDAP search parameters to use."})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:u.default,name:"bind_dn",label:"Bind DN",type:"text",disabled:e,onChange:this.toggleBindPasswordDisabled,helpText:"DN to bind with during the search phase."})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:u.default,name:"bind_password",label:"Bind password",type:"password",helpText:t?"Password to bind with during the search phase.":"Cannot be used if Bind DN is not set",disabled:!t||e,validate:t?d.required:void 0,isRequired:t})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(o.Divider,null),r.default.createElement(o.Title,{headingLevel:"h3",size:"xl",className:"idp-helptext-heading"},"Attributes"),r.default.createElement("p",null,"Attributes map LDAP attributes to identities.")),r.default.createElement(c.default,{fieldName:"ldap_id",label:"ID",type:"text",placeholderText:"e.g. id",disabled:e,isRequired:!0,validateField:d.required,helpText:"The list of attributes whose values should be used as the user ID."}),r.default.createElement(c.default,{fieldName:"ldap_preferred_username",label:"Preferred username",type:"text",placeholderText:"e.g. preferred_username",disabled:e,helpText:"The list of attributes whose values should be used as the preferred username."}),r.default.createElement(c.default,{fieldName:"ldap_name",label:"Name",type:"text",placeholderText:"e.g. name",disabled:e,helpText:"The list of attributes whose values should be used as the display name."}),r.default.createElement(c.default,{fieldName:"ldap_email",label:"Email",type:"text",placeholderText:"e.g. email",disabled:e,helpText:"The list of attributes whose values should be used as the email address."}))}}p.propTypes={isPending:s.default.bool,isEditForm:s.default.bool,idpEdited:s.default.object},p.defaultProps={isPending:!1},t.default=p},73672:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(9104),o=a(65652),i=l(a(73269)),u=l(a(65152));function d(e){let{isPending:t,isEditForm:a,idpEdited:l}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(o.GridItem,{span:8},n.default.createElement(s.Field,{component:u.default,name:"openid_ca",label:"CA file",helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured URL",isDisabled:t,certValue:a?l.open_id.ca:""})),n.default.createElement(o.GridItem,{span:8},n.default.createElement(s.Field,{component:i.default,name:"openid_extra_scopes",label:"Additional scopes",type:"text",placeholder:"e.g. scope1, scope2",disabled:t})))}d.propTypes={isPending:r.default.bool,isEditForm:r.default.bool,idpEdited:r.default.object},d.defaultProps={isPending:!1},t.default=d},34655:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(9104),i=a(65652),u=l(a(28504)),d=l(a(73269)),c=a(90181),p=l(a(60742)),m=a(69229);class f extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{isGroupError:!1}),(0,n.default)(this,"onValueChange",(()=>{this.setState({isGroupError:!0})}))}render(){const{isPending:e}=this.props,{isGroupError:t}=this.state;return r.default.createElement(r.default.Fragment,null,r.default.createElement(u.default,null),r.default.createElement(i.GridItem,{span:8},r.default.createElement(o.Field,{component:d.default,name:"issuer",label:"Issuer URL",type:"text",disabled:e,validate:c.checkOpenIDIssuer,isRequired:!0,helpText:"The URL that the OpenID provider asserts as the issuer identifier. It must use the https scheme with no URL query parameters or fragment."})),r.default.createElement(i.GridItem,{span:8},r.default.createElement("h4",null,"Claims mappings")),r.default.createElement(p.default,{fieldName:"openid_email",label:"Email",type:"text",placeholderText:"e.g. email",disabled:e,helpText:"The list of attributes whose values should be used as the email address.",validate:f.validate,isGroupError:t,onFormChange:this.onValueChange,isRequired:!0}),r.default.createElement(p.default,{fieldName:"openid_name",label:"Name",type:"text",placeholderText:"e.g. name",disabled:e,validate:f.validate,isGroupError:t,onFormChange:this.onValueChange,helpText:"The end user's full name including all name parts, ordered according to the end user's locale and preferences.",isRequired:!0}),r.default.createElement(p.default,{fieldName:"openid_preferred_username",label:"Preferred username",type:"text",placeholderText:"e.g. preferred_username",disabled:e,validate:f.validate,isGroupError:t,onFormChange:this.onValueChange,helpText:"Shorthand name by which the end user wishes to be referred to at the RP, such as janedone or j.doe.",isRequired:!0}))}}(0,n.default)(f,"validate",((e,t)=>{if((0,m.isEmptyReduxArray)(t.openid_preferred_username,"openid_preferred_username")&&(0,m.isEmptyReduxArray)(t.openid_name,"openid_name")&&(0,m.isEmptyReduxArray)(t.openid_email,"openid_email"))return"At least one claim is required"})),f.propTypes={isPending:s.default.bool},f.defaultProps={isPending:!1},t.default=f},52010:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GithubForm",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"GitlabForm",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"GoogleFormRequired",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"HTPasswdForm",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"IDPBasicFields",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"LDAPForm",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"LDAPFormRequired",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"OpenIDForm",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"OpenIDFormRequired",{enumerable:!0,get:function(){return d.default}});var n=l(a(28504)),r=l(a(448)),s=l(a(36966)),o=l(a(79258)),i=l(a(5022)),u=l(a(73672)),d=l(a(34655)),c=l(a(15483)),p=l(a(97951))},74101:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=l(a(28416)),s=l(a(45697)),o=a(66338),i=a(4651),u=a(9104),d=a(87558),c=l(a(27361)),p=l(a(58133)),m=a(9409),f=a(69229);const E={form:"CreateIdentityProvider",enableReinitialize:!0,onSubmitFail:a(69429).scrollToFirstField},g=(0,u.reduxForm)(E)(p.default),h=e=>{const t=(0,d.useParams)(),a=(0,o.useDispatch)(),l=(0,i.useGlobalState)((e=>e)),{isEditForm:s}=e,p=(0,u.formValueSelector)("CreateIdentityProvider"),E=(0,u.getFormSyncErrors)("CreateIdentityProvider"),h=(0,i.useGlobalState)((e=>e.clusters.details.cluster.id)),v=(0,i.useGlobalState)((e=>e.clusters.details)),b=(0,i.useGlobalState)((e=>e.identityProviders.editClusterIDP)),_=(0,i.useGlobalState)((e=>e.identityProviders.createdClusterIDP)),S=(0,i.useGlobalState)((e=>e.identityProviders.clusterIdentityProviders)),C=s?b:_;let y={},O="",I="";const R=S.clusterIDPList||[],T=f.IDPformValues.GITHUB;s?S.fulfilled&&(y=R.find((e=>e.name===t.idpName))||{},O=(0,c.default)(f.IDPObjectNames,y.type,""),I=y.type):!s&&t.idpTypeName&&(I=(0,c.default)(f.IDPformValues,t.idpTypeName.toUpperCase(),!1));const A=s?((e,t)=>t?{idpId:e.id,type:e.type,name:e.name,client_id:e[t].client_id,client_secret:"CLIENT_SECRET",mappingMethod:e.mapping_method,selectedIDP:e.type,gitlab_url:e[t].url,issuer:e[t].issuer,openid_name:(0,f.getOpenIdClaims)(e[t].claims,"name"),openid_email:(0,f.getOpenIdClaims)(e[t].claims,"email"),openid_preferred_username:(0,f.getOpenIdClaims)(e[t].claims,"preferred_username"),openid_extra_scopes:e[t].extra_scopes?e[t].extra_scopes.join():"",hosted_domain:e[t].hosted_domain,ldap_id:(0,f.getldapAttributes)(e[t].attributes,"id"),ldap_preferred_username:(0,f.getldapAttributes)(e[t].attributes,"preferred_username"),ldap_name:(0,f.getldapAttributes)(e[t].attributes,"name"),ldap_email:(0,f.getldapAttributes)(e[t].attributes,"email"),ldap_url:e[t].url,bind_dn:e[t].bind_dn,bind_password:e[t].bind_dn?"BIND_PASSWORD":"",ldap_insecure:e[t].insecure,hostname:e[t].hostname,teams:(0,f.getGitHubTeamsAndOrgsData)(e[t]),organizations:(0,f.getGitHubTeamsAndOrgsData)(e[t])}:{})(y,O):{idpId:null,type:I||T,name:(0,f.generateIDPName)(I||T,R),client_id:"",client_secret:"",mappingMethod:"claim",selectedIDP:I||T,ldap_id:[{ldap_id:"dn",id:"default"}],ldap_preferred_username:[{ldap_preferred_username:"uid",id:"default"}],ldap_name:[{ldap_name:"cn",id:"default"}]},P=p(l,"mappingMethod"),D=(0,c.default)(E(l),"users");return r.default.createElement(g,(0,n.default)({clusterID:h,IDPList:R,HTPasswdErrors:D,clusterIDPs:S,clusterIDPList:R,isEditForm:s,idpEdited:y,editedType:O,selectedIDP:I,initialValues:A,selectedMappingMethod:P,onSubmit:e=>{const t=(0,f.getCreateIDPRequestData)(e);t.id?a((0,m.editClusterIdentityProvider)(h,t)):a((0,m.createClusterIdentityProvider)(h,t))},submitIDPResponse:C,clusterDetails:v},e))};h.propTypes={isEditForm:s.default.bool},t.ZP=h},70436:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchOrganizationInsights=t.fetchClusterInsights=void 0;var n=l(a(27361)),r=a(83494),s=a(33047);const o=e=>s.insightsService.getClusterInsights(e).then((t=>({insightsData:(0,n.default)(t,"data.report",{}),clusterId:e,status:t.status})));t.fetchClusterInsights=e=>t=>t({type:r.GET_CLUSTER_INSIGHTS,payload:o(e),meta:{clusterId:e}}),t.fetchOrganizationInsights=()=>e=>e({type:r.GET_ORGANIZATION_INSIGHTS,payload:s.insightsService.getOrganizationInsights()})},66157:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(38416)),r=a(25684),s=a(52220),o=a(83494);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const d={insightsData:{},groups:{groups:[],rejected:!1,pending:!1,fulfilled:!1},overview:{overview:null,rejected:!1,pending:!1,fulfilled:!1}};function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{var a;switch(t.type){case(0,s.FULFILLED_ACTION)(o.GET_CLUSTER_INSIGHTS):e.insightsData[t.meta.clusterId]=u(u({},t.payload.insightsData),{},{status:t.payload.status});break;case(0,s.REJECTED_ACTION)(o.GET_CLUSTER_INSIGHTS):e.insightsData[t.meta.clusterId]={status:null===(a=t.payload.response)||void 0===a?void 0:a.status};break;case(0,s.FULFILLED_ACTION)(o.GET_ORGANIZATION_INSIGHTS):e.overview.overview=t.payload.data.overview,e.overview.fulfilled=!0,e.overview.pending=!1;break;case(0,s.PENDING_ACTION)(o.GET_ORGANIZATION_INSIGHTS):e.overview.pending=!0;break;case(0,s.REJECTED_ACTION)(o.GET_ORGANIZATION_INSIGHTS):e.overview.rejected=!0,e.overview.pending=!1}}))}c.initialState=d,t.Z=c},55741:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.labelBorderColor=t.groupRulesByRisk=t.default=void 0;var n=l(a(38416)),r=l(a(27361));function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const i=e=>e.reduce(((e,t)=>{let{total_risk:a}=t;return o(o({},e),{},{[a]:e[a]?e[a]+1:1})}),{1:0,2:0,3:0,4:0});t.groupRulesByRisk=i,t.labelBorderColor={1:"blue",2:"orange",3:"orange",4:"red"},t.default=(e,t)=>{const a=(0,r.default)(e,`insightsData.insightsData[${t}].data`),l=a?a.filter((e=>!e.disabled)):[];return i(l)}},93044:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(25684),i=l(a(41609)),u=l(a(27361)),d=a(65652),c=a(64284),p=a(94648),m=l(a(69573)),f=a(45058),E=a(31125),g=a(4058),h=a(69429),v=a(72132),b=a(33047),_=l(a(62212)),S=a(37455),C=l(a(26930)),y=l(a(53736)),O=a(12146),I=l(a(26746)),R=l(a(7749)),T=l(a(76490)),A=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(59231)),P=l(a(48997));function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}a(84528);const N=(e,t)=>{const a=(0,u.default)(e,"version.id","");return a?r.default.createElement(r.default.Fragment,null,(0,v.versionFormatter)(a)||a," ",t?null:r.default.createElement(S.UpdatePoolButton,{machinePool:e})):"N/A"},L={deletedRowIndex:null,openedRows:[],hideDeleteMachinePoolError:!1,editMachinePoolId:void 0,addMachinePool:!1,showMachinePoolsConfigModal:!1};class w extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",L),(0,n.default)(this,"onCollapse",((e,t,a,l)=>{this.setState((0,o.produce)((e=>{a?e.openedRows.includes(l.machinePool.id)||e.openedRows.push(l.machinePool.id):e.openedRows=e.openedRows.filter((e=>e!==l.machinePool.id))})))}))}componentDidMount(){const{machinePoolsList:e,getMachinePools:t,getOrganizationAndQuota:a,machineTypes:l,getMachineTypes:n,useNodeUpgradePolicies:r}=this.props;e.pending||t(r),l.fulfilled||l.pending||n(),a()}componentDidUpdate(e){const{deleteMachinePoolResponse:t,getClusterAutoscaler:a,clusterAutoscalerResponse:l,getMachinePools:n,machinePoolsList:r,getOrganizationAndQuota:s,cluster:i,useNodeUpgradePolicies:u}=this.props,{deletedRowIndex:d}=this.state;t.fulfilled&&e.deleteMachinePoolResponse.pending&&!r.pending&&(s(),n(u)),(e.machinePoolsList.pending&&r.fulfilled||t.error)&&null!==d&&this.setState((0,o.produce)((e=>{e.deletedRowIndex=null}))),(0,A.isHypershiftCluster)(i)||!l.hasAutoscaler||l.getAutoscaler.data||l.getAutoscaler.pending||a()}componentWillUnmount(){const{clearGetMachinePoolsResponse:e,clearDeleteMachinePoolResponse:t}=this.props;e(),t()}render(){var e;const{cluster:t,machinePoolsList:a,openModal:l,isDeleteMachinePoolModalOpen:n,deleteMachinePool:s,deleteMachinePoolResponse:u,hasMachinePoolsQuota:v,clusterAutoscalerResponse:D,canMachinePoolBeUpdated:L,machineTypes:w,getMachinePools:M,isClusterAutoscalingModalOpen:k,useNodeUpgradePolicies:x,hasMachineConfiguration:j,canBypassPIDsLimit:F}=this.props,{deletedRowIndex:G,openedRows:U,hideDeleteMachinePoolError:V,addMachinePool:H,editMachinePoolId:z,showMachinePoolsConfigModal:W}=this.state,q=(null==t?void 0:t.machinePoolsActions)||{},B=!!a.data.length,$=(0,E.isMultiAZ)(t),Z=(0,O.hasDefaultOrExplicitAutoscalingMachinePool)(t,null==a?void 0:a.data),Y=(0,A.isHypershiftCluster)(t),K=(null==t?void 0:t.kubeletConfigActions)||{},Q=(0,A.isROSA)(t),J=(0,A.isOSD)(t),X=(0,A.isCCS)(t),ee=(0,A.isAWS)(t),te=j&&(Q&&!Y||J&&X&&ee),ae=K.create&&K.update,le=((null==t?void 0:t.state)!==A.default.READY||!ae)&&(ae?"Machine configuration is only available when the cluster is ready.":"You do not have permission to edit the machine configuration. Only cluster owners and cluster editors can edit machine configuration.");if(B&&a.error)return r.default.createElement(d.EmptyState,null,r.default.createElement(R.default,{message:"Error retrieving machine pools",response:a}));const ne=[{title:"Machine pool",cellFormatters:[c.expandable]},{title:"Instance type"},{title:"Availability zones",transforms:[(0,c.cellWidth)(15)]}];ne.push({title:"Node count"}),ne.push({title:"Autoscaling",transforms:[(0,c.cellWidth)(15)]}),Y&&ne.push({title:"Version",transforms:[(0,c.cellWidth)(15)]});const re="read_only"===(null==t||null===(e=t.status)||void 0===e?void 0:e.configuration_mode)&&"This operation is not available during maintenance",se=!v&&h.noQuotaTooltip,oe=(0,A.isHibernating)(t)&&"This operation is not available while cluster is hibernating",ie=!q.update&&"You do not have permission to add or edit machine pools. Only cluster owners, cluster editors, machine pool editors and Organization Administrators can edit machine pools.",ue=null!=t&&t.canEditClusterAutoscaler?D.hasAutoscaler&&!D.getAutoscaler.data&&"The cluster autoscaler is loading.":"You do not have permission to edit the cluster autoscaler.",de=!!(re||oe||ie),ce=[];a.data.forEach((e=>{const a=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(0,i.default)(t.labels)||(null===(e=t.taints)||void 0===e?void 0:e.length)>0||t.autoscaling||t.aws||(0,O.hasSubnets)(t)}(e),l=function(e){var t,a,l;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s={cells:[n.id,{title:r.default.createElement(r.default.Fragment,null,Y?null===(t=n.aws_node_pool)||void 0===t?void 0:t.instance_type:n.instance_type,(null===(a=n.aws)||void 0===a?void 0:a.spot_market_options)&&r.default.createElement(d.Label,{variant:"outline",className:"ocm-c-machine-pools__spot-label"},"Spot"))},(null===(l=n.availability_zones)||void 0===l?void 0:l.join(", "))||n.availability_zone,{title:r.default.createElement(_.default,{isMultiZoneCluster:$,machinePool:n})},{title:n.autoscaling?"Enabled":"Disabled"},Y?{title:N(n,de)}:null].filter((e=>null!==e)),key:n.id,machinePool:n};return e&&(s.isOpen=U.includes(n.id)),s}(a,e);if(ce.push(l),a){const a=((e,a)=>({parent:a,fullWidth:!0,cells:[{title:r.default.createElement(C.default,{cluster:t,isMultiZoneCluster:$,machinePool:e})}],key:`${e.id}-child`}))(e,ce.length-1);ce.push(a)}}));const pe=(e,t)=>{this.setState((0,o.produce)((a=>{u.error&&(a.hideDeleteMachinePoolError=!1),a.deletedRowIndex=e,a.openedRows=a.openedRows.filter((e=>e!==t.machinePool.id))}))),s(t.machinePool.id)},me=(e,t,a)=>{l(T.default.DELETE_MACHINE_POOL,{machinePool:a.machinePool,performDeleteAction:()=>pe(t,a)})},fe=(e,t,a)=>this.setState((0,o.produce)((e=>{e.editMachinePoolId=a.machinePool.id}))),Ee=(e,t,a)=>l(T.default.UPDATE_MACHINE_POOL_VERSION,{machinePool:a.machinePool}),ge=!B&&a.pending,he={cells:[{props:{colSpan:4},title:r.default.createElement(m.default,{size:"lg"})}]};var ve;return B&&a.pending&&null===G&&ce.push(he),B&&null!==G&&(null!==(ve=ce[G+1])&&void 0!==ve&&ve.parent&&ce.splice(G+1,1),ce[G]=he),r.default.createElement(r.default.Fragment,null,ge?r.default.createElement(d.Card,null,r.default.createElement(d.CardTitle,null,r.default.createElement(m.default,{size:"lg"})),r.default.createElement(d.CardBody,null,r.default.createElement(m.default,{size:"lg"})),r.default.createElement(d.CardFooter,null,r.default.createElement(m.default,{size:"lg"}))):r.default.createElement(r.default.Fragment,null,!de&&r.default.createElement(S.UpdateAllMachinePools,null),r.default.createElement(d.Card,{className:"ocm-c-machine-pools__card"},r.default.createElement(d.CardBody,{className:"ocm-c-machine-pools__card--body"},a.error&&r.default.createElement(R.default,{message:"Error retrieving machine pools",response:a}),r.default.createElement(d.Toolbar,null,r.default.createElement(d.ToolbarContent,null,r.default.createElement(d.ToolbarItem,null,r.default.createElement(I.default,{disableReason:re||oe||ie||se,id:"add-machine-pool",onClick:()=>this.setState((0,o.produce)((e=>{e.addMachinePool=!0}))),variant:d.ButtonVariant.secondary},"Add machine pool")),!Y&&r.default.createElement(d.ToolbarItem,null,r.default.createElement(I.default,{id:"edit-existing-cluster-autoscaling",disableReason:re||oe||ue,onClick:()=>l(T.default.EDIT_CLUSTER_AUTOSCALING_V1),variant:d.ButtonVariant.secondary},"Edit cluster autoscaling")),te&&r.default.createElement(d.ToolbarItem,null,r.default.createElement(I.default,{disableReason:le,onClick:()=>this.setState((0,o.produce)((e=>{e.showMachinePoolsConfigModal=!0}))),variant:d.ButtonVariant.secondary},"Edit machine configuration")))),r.default.createElement(d.Divider,null),u.error&&!V&&r.default.createElement(R.default,{message:"Error deleting machine pool",response:u,showCloseBtn:!0,onCloseAlert:()=>this.setState((0,o.produce)((e=>{e.hideDeleteMachinePoolError=!0})))}),q.list&&r.default.createElement(p.Table,{"aria-label":"Machine pools",cells:ne,rows:ce,onCollapse:this.onCollapse,actionResolver:e=>(0,O.actionResolver)({rowData:e,onClickDelete:me,onClickUpdate:L(e.machinePool)?Ee:void 0,canDelete:q.delete,cluster:t,machinePools:a.data,machineTypes:w,onClickEdit:fe}),areActionsDisabled:()=>de},r.default.createElement(p.TableHeader,null),r.default.createElement(p.TableBody,null))))),n&&r.default.createElement(y.default,null),(!!z||H)&&r.default.createElement(P.default,{cluster:t,onSave:()=>{a.pending||M(x)},onClose:()=>this.setState((0,o.produce)((e=>{e.editMachinePoolId=void 0,e.addMachinePool=!1}))),machinePoolId:z,machinePoolsResponse:a,machineTypesResponse:w}),r.default.createElement(S.UpdateMachinePoolModal,null),k&&r.default.createElement(f.EditClusterAutoScalerForDay2,{isWizard:!1,isRosa:Q,clusterId:t.id,hasAutoscalingMachinePools:Z,clusterAutoscalerResponse:D}),W&&r.default.createElement(g.MachineConfiguration,{clusterID:t.id,getMachineConfiguration:b.clusterService.getKubeletConfiguration,createMachineConfiguration:b.clusterService.postKubeletConfiguration,updateMachineConfiguration:b.clusterService.patchKubeletConfiguration,onClose:()=>this.setState((0,o.produce)((e=>{e.showMachinePoolsConfigModal=!1}))),canBypassPIDsLimit:F}))}}w.propTypes={cluster:s.default.object.isRequired,clusterAutoscalerResponse:s.default.shape({editAction:s.default.object.isRequired,getAutoscaler:s.default.object.isRequired,hasAutoscaler:s.default.bool}).isRequired,openModal:s.default.func.isRequired,hasMachinePoolsQuota:s.default.bool.isRequired,isDeleteMachinePoolModalOpen:s.default.bool.isRequired,isClusterAutoscalingModalOpen:s.default.bool.isRequired,deleteMachinePoolResponse:s.default.object.isRequired,machinePoolsList:s.default.object.isRequired,getMachinePools:s.default.func.isRequired,deleteMachinePool:s.default.func.isRequired,getClusterAutoscaler:s.default.func.isRequired,clearGetMachinePoolsResponse:s.default.func.isRequired,clearDeleteMachinePoolResponse:s.default.func.isRequired,getOrganizationAndQuota:s.default.func.isRequired,getMachineTypes:s.default.func.isRequired,machineTypes:s.default.object.isRequired,canMachinePoolBeUpdated:s.default.func,useNodeUpgradePolicies:s.default.bool,hasMachineConfiguration:s.default.bool,canBypassPIDsLimit:s.default.bool},t.default=w},25670:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.getMachineOrNodePools=t.deleteMachinePool=t.clearGetMachinePoolsResponse=t.clearDeleteMachinePoolResponse=void 0;var n=l(a(38416)),r=l(a(81249)),s=a(33047),o=a(89902),i=a(4397);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c=async(e,t,a)=>{const l=await s.clusterService.getNodePools(e),n=l.data.items.map((async l=>{if(!(t&&l.version&&a&&r.default.gt(r.default.coerce(t),r.default.coerce(l.version.id))&&(0,o.isControlPlaneValidForMachinePool)(l,t)))return l;try{const t=await s.clusterService.getNodePoolUpgradePolicies(e,l.id);return d(d({},l),{},{upgradePolicies:t.data})}catch(e){var n;return d(d({},l),{},{upgradePolicies:{errorMessage:(null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.reason)||e.message||"There was an error fetching upgrade policies for this machine pool.",items:[]}})}})),i=(await Promise.allSettled(n)).map((e=>e.value));return d(d({},l),{},{data:d(d({},l.data),{},{items:i})})};t.getMachineOrNodePools=(e,t,a,l)=>n=>n({type:i.GET_MACHINE_POOLS,payload:t?c(e,a,l):s.clusterService.getMachinePools(e)}),t.deleteMachinePool=(e,t,a)=>l=>l({type:i.DELETE_MACHINE_POOL,payload:a?s.clusterService.deleteNodePool(e,t):s.clusterService.deleteMachinePool(e,t)}),t.clearGetMachinePoolsResponse=()=>e=>e({type:i.CLEAR_GET_MACHINE_POOLS_RESPONSE}),t.clearDeleteMachinePoolResponse=()=>e=>e({type:i.CLEAR_DELETE_MACHINE_POOL_RESPONSE})},87203:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=a(66338),s=l(a(27361)),o=l(a(76490)),i=a(59231),u=a(38352),d=a(96106),c=l(a(93044)),p=a(25670),m=a(89902),f=a(23343),E=a(12146),g=a(98371),h=a(24653),v=a(7076),b=a(7046),_=l(a(80338));function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=(0,r.connect)((e=>{var t;const a=(0,s.default)(e,"clusters.details.cluster",{}),l=(0,f.hasOrgLevelBypassPIDsLimitCapability)(null===(t=e.userProfile.organization)||void 0===t?void 0:t.details),n={isDeleteMachinePoolModalOpen:(0,_.default)(e,o.default.DELETE_MACHINE_POOL),isClusterAutoscalingModalOpen:(0,_.default)(e,o.default.EDIT_CLUSTER_AUTOSCALING_V1),machinePoolsList:e.machinePools.getMachinePools,deleteMachinePoolResponse:e.machinePools.deleteMachinePoolResponse,hasMachinePoolsQuota:(0,f.hasMachinePoolsQuotaSelector)(e.userProfile.organization,e.clusters.details.cluster,e.machineTypes.types),machineTypes:e.machineTypes,organization:e.userProfile.organization,canMachinePoolBeUpdated:t=>(0,m.canMachinePoolBeUpgradedSelector)(e,t),useNodeUpgradePolicies:(0,d.featureGateSelector)(e,u.HCP_USE_NODE_UPGRADE_POLICIES),hasMachineConfiguration:(0,d.featureGateSelector)(e,u.ENABLE_MACHINE_CONFIGURATION),canBypassPIDsLimit:l},r=(0,i.isHypershiftCluster)(a)?C(C({},n.machinePoolsList),{},{data:n.machinePoolsList.data.map(E.normalizeNodePool)}):n.machinePoolsList;return C(C({},n),{},{clusterAutoscalerResponse:e.clusterAutoscaler,machinePoolsList:r})}),((e,t)=>{const a=(0,i.isHypershiftCluster)(t.cluster);return{openModal:(t,a)=>e((0,b.openModal)(t,a)),closeModal:()=>e((0,b.closeModal)()),getMachinePools:l=>{e((0,p.getMachineOrNodePools)(t.cluster.id,a,t.cluster.version.id,l)),e(h.clusterAutoscalerActions.setHasInitialClusterAutoscaler(!!t.cluster.autoscaler))},clearGetMachinePoolsResponse:()=>e((0,p.clearGetMachinePoolsResponse)(t.clusterID)),clearDeleteMachinePoolResponse:()=>e((0,p.clearDeleteMachinePoolResponse)(t.clusterID)),deleteMachinePool:l=>e((0,p.deleteMachinePool)(t.cluster.id,l,a)),getOrganizationAndQuota:()=>e((0,g.getOrganizationAndQuota)()),getMachineTypes:()=>e((0,v.getMachineTypes)()),getClusterAutoscaler:()=>e(h.clusterAutoscalerActions.getClusterAutoscaler(t.cluster.id))}}))(c.default)},44967:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(56733)),i=l(a(30989)),u=l(a(84139)),d=a(42957),c=a(69429);a(38987);class p extends n.default.Component{componentWillUnmount(){const{clearMonitoringState:e}=this.props;e()}render(){const{cluster:e,alerts:t,nodes:a,operators:l,lastCheckIn:r,resourceUsage:c,healthStatus:p,discoveredIssues:m}=this.props;return p===d.monitoringStatuses.DISCONNECTED?n.default.createElement(n.default.Fragment,null,n.default.createElement(o.default,{lastCheckIn:r,status:p,discoveredIssues:m}),n.default.createElement(u.default,{lastCheckIn:r})):p===d.monitoringStatuses.NO_METRICS?n.default.createElement(u.default,{lastCheckIn:r},n.default.createElement("p",null,"Monitoring data is not available if a cluster goes more than three hours without sending metrics.",n.default.createElement("br",null),"Check the cluster's web console if you think that this cluster should be sending metrics.")):p===d.monitoringStatuses.UNKNOWN?n.default.createElement(u.default,{hideLastCheckIn:!0},n.default.createElement("p",null,"Monitoring data is not available - cluster did not send any metrics.",n.default.createElement("br",null),"Check the cluster's web console if you think that this cluster should be sending metrics.")):n.default.createElement(n.default.Fragment,null,n.default.createElement(o.default,{lastCheckIn:r,status:p,discoveredIssues:m}),n.default.createElement(s.Card,{className:"ocm-c-monitoring-status__card"},n.default.createElement(s.CardTitle,{className:"ocm-c-monitoring-status__card--header"},n.default.createElement(s.Title,{headingLevel:"h2",className:"card-title"},"Status")),n.default.createElement(s.CardBody,{className:"ocm-c-monitoring-status__card--body"},n.default.createElement(i.default,{cluster:e,alerts:t,nodes:a,operators:l,resourceUsage:c}))))}}p.propTypes={cluster:r.default.object,clearMonitoringState:r.default.func,alerts:r.default.object,nodes:r.default.object,operators:r.default.object,resourceUsage:r.default.object,lastCheckIn:r.default.instanceOf(Date).isRequired,healthStatus:r.default.string,discoveredIssues:r.default.number},p.defaultProps={cluster:{},alerts:{},nodes:{},operators:{},clearMonitoringState:c.noop,discoveredIssues:null},t.default=p},2046:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.getOnDemandMetrics=t.clearMonitoringState=void 0;var n=l(a(82543)),r=a(33047);t.getOnDemandMetrics=e=>t=>t({type:n.default.GET_ONDEMAND_METRICS,payload:r.accountsService.getOnDemandMetrics(e)}),t.clearMonitoringState=()=>e=>e({type:n.default.CLEAR_MONITORING_STATE})},82543:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={GET_ONDEMAND_METRICS:"GET_ONDEMAND_METRICS",CLEAR_MONITORING_STATE:"CLEAR_MONITORING_STATE"}},33877:(e,t,a)=>{"use strict";var l=a(64836);t.QS=p;var n=l(a(38416)),r=a(25684),s=a(52220),o=a(34693),i=l(a(82543));function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={alerts:d(d({},s.baseRequestState),{},{data:[]}),nodes:d(d({},s.baseRequestState),{},{data:[]}),operators:d(d({},s.baseRequestState),{},{data:[]})};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,s.REJECTED_ACTION)(i.default.GET_ONDEMAND_METRICS):e.alerts=d(d({},c.alerts),(0,o.getErrorState)(t)),e.nodes=d(d({},c.nodes),(0,o.getErrorState)(t)),e.operators=d(d({},c.operators),(0,o.getErrorState)(t));break;case(0,s.PENDING_ACTION)(i.default.GET_ONDEMAND_METRICS):e.alerts.pending=!0,e.operators.pending=!0,e.nodes.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.default.GET_ONDEMAND_METRICS):e.alerts=d(d({},c.alerts),{},{fulfilled:!0,data:t.payload.data.alerts}),e.nodes=d(d({},c.nodes),{},{fulfilled:!0,data:t.payload.data.nodes}),e.operators=d(d({},c.operators),{},{fulfilled:!0,data:t.payload.data.cluster_operators});break;case i.default.CLEAR_MONITORING_STATE:return c}}))}p.initialState=c},82364:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.lastCheckInSelector=t.issuesAndWarningsSelector=t.clusterHealthSelector=void 0;var n=l(a(27361)),r=a(59231),s=l(a(78913)),o=a(42957),i=a(52758);t.lastCheckInSelector=e=>{const t=(0,n.default)(e,"clusters.details.cluster.activity_timestamp","0001-01-01");return new Date(t)},t.clusterHealthSelector=(e,t,a)=>{const l=(0,n.default)(e,"clusters.details.cluster",null);if(!l)return o.monitoringStatuses.NO_METRICS;const u=((new Date).getTime()-t.getTime())/1e3/60/60,d=!!s.default.configData.showOldMetrics||u<o.maxMetricsTimeDelta;return t.getUTCFullYear()<=1?o.monitoringStatuses.UNKNOWN:(0,n.default)(l,"subscription.status",!1)===i.subscriptionStatuses.DISCONNECTED?o.monitoringStatuses.DISCONNECTED:d?(0,r.isClusterUpgrading)(l)?o.monitoringStatuses.UPGRADING:a>0?o.monitoringStatuses.HAS_ISSUES:o.monitoringStatuses.HEALTHY:o.monitoringStatuses.NO_METRICS},t.issuesAndWarningsSelector=e=>{const{alerts:t,nodes:a,operators:l}=e.monitoring,r=(0,n.default)(e,"clusters.details.cluster.metrics.cpu",null),s=(0,n.default)(e,"clusters.details.cluster.metrics.memory",null),i=(0,o.getIssuesAndWarnings)({data:t.data,criteria:"severity",issuesMatch:o.alertsSeverity.CRITICAL,warningsMatch:o.alertsSeverity.WARNING}),u=(0,o.getIssuesAndWarnings)({data:a.data,criteria:"up",issuesMatch:!1}),d=(0,o.getIssuesAndWarnings)({data:l.data,criteria:"condition",issuesMatch:o.operatorsStatuses.FAILING,warningsMatch:o.operatorsStatuses.DEGRADED}),c={issuesCount:(0,o.resourceUsageIssuesHelper)(r,s,o.thresholds.DANGER),warningsCount:(0,o.resourceUsageIssuesHelper)(r,s,o.thresholds.WARNING)};return{issues:{alerts:i.issuesCount,nodes:u.issuesCount,operators:d.issuesCount,resourceUsage:c.issuesCount,totalCount:i.issuesCount+u.issuesCount+d.issuesCount+c.issuesCount},warnings:{alerts:i.warningsCount,operators:d.warningsCount,resourceUsage:c.warningsCount}}}},51955:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(64284),o=a(94648),i=a(65652),u=a(43047),d=a(69957),c=a(68778),p=a(53688),m=a(42957);function f(e){let{alerts:t=[],clusterConsole:a}=e;const l=n.default.createElement(n.default.Fragment,null,n.default.createElement(u.ExclamationCircleIcon,{className:"status-icon danger"}),n.default.createElement("span",null,"Critical")),r=n.default.createElement(n.default.Fragment,null,n.default.createElement(d.ExclamationTriangleIcon,{className:"status-icon warning"}),n.default.createElement("span",null,"Warning")),f=n.default.createElement(n.default.Fragment,null,n.default.createElement(p.InfoCircleIcon,{className:"status-icon info"}),n.default.createElement("span",null,"Info")),E=e=>"Watchdog"===e||"DeadMansSwitch"===e;if(t.every((e=>E(e.name))))return n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateHeader,{titleText:"No alerts firing",icon:n.default.createElement(i.EmptyStateIcon,{icon:c.CheckCircleIcon}),headingLevel:"h5"}));const g=t.map((e=>{if(E(e.name))return null;let t=null;e.severity===m.alertsSeverity.WARNING&&(t=r),e.severity===m.alertsSeverity.CRITICAL&&(t=l),e.severity===m.alertsSeverity.INFO&&(t=f);const s=(0,m.monitoringItemLinkProps)(a,m.monitoringItemTypes.ALERT,e.name);return{cells:[{title:null!==s?n.default.createElement("a",s,e.name):e.name},{title:t}]}})).filter(Boolean);return n.default.createElement(o.Table,{variant:s.TableVariant.compact,borders:!1,cells:[{title:"Name"},{title:"Severity"}],rows:g,"aria-label":"alerts"},n.default.createElement(o.TableHeader,null),n.default.createElement(o.TableBody,null))}f.propTypes={alerts:r.default.arrayOf(r.default.shape({name:r.default.string.isRequired,severity:r.default.string})),clusterConsole:r.default.shape({url:r.default.string})},t.default=f},56733:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(68778),i=a(43047),u=a(94768),d=a(17542),c=a(12136),p=a(69957),m=a(36377),f=a(42957);function E(e){let t,a,{status:l=f.monitoringStatuses.NO_METRICS,discoveredIssues:r=null,lastCheckIn:E}=e;switch(l){case f.monitoringStatuses.DISCONNECTED:t=n.default.createElement(c.DisconnectedIcon,null),a=n.default.createElement(s.Title,{headingLevel:"h2"},"Disconnected cluster");break;case f.monitoringStatuses.UPGRADING:t=n.default.createElement(u.InProgressIcon,null),a=n.default.createElement(s.Title,{headingLevel:"h2"},"Cluster is updating");break;case f.monitoringStatuses.NO_METRICS:t=n.default.createElement(p.ExclamationTriangleIcon,{className:"warning"}),a=n.default.createElement(s.Title,{headingLevel:"h2"},"Cluster has no metrics");break;case f.monitoringStatuses.HEALTHY:t=n.default.createElement(o.CheckCircleIcon,{className:"success"}),a=n.default.createElement(s.Title,{headingLevel:"h2"},"No issues detected");break;case f.monitoringStatuses.HAS_ISSUES:t=n.default.createElement(i.ExclamationCircleIcon,{className:"status-icon danger"}),a=n.default.createElement(s.Title,{headingLevel:"h2"},r," ",1===r?"issue":"issues"," detected");break;default:t=n.default.createElement(d.UnknownIcon,null),a=n.default.createElement(s.Title,{headingLevel:"h2"},"Cluster health is unknown")}return n.default.createElement(s.Card,{className:"ocm-c-monitoring-health__card"},n.default.createElement(s.CardTitle,{className:"ocm-c-monitoring-health__card--header"},n.default.createElement(s.Split,null,n.default.createElement(s.SplitItem,null,t),n.default.createElement(s.SplitItem,{isFilled:!0},a),n.default.createElement(s.SplitItem,{className:"last-checkin"},l===f.monitoringStatuses.UNKNOWN&&n.default.createElement(i.ExclamationCircleIcon,{className:"danger",size:"md"}),void 0!==E&&n.default.createElement(n.default.Fragment,null,"Last check-in: ",n.default.createElement(m.DateFormat,{date:E,type:"relative"}))))))}E.propTypes={status:r.default.string,discoveredIssues:r.default.number,lastCheckIn:r.default.instanceOf(Date)},t.default=E},73173:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(64284),o=a(94648),i=a(43047),u=a(94768),d=a(17542),c=a(68778),p=a(69957),m=a(42957);function f(e){let{operators:t=[],clusterConsole:a}=e;const l=e=>{let t,a;switch(e){case m.operatorsStatuses.AVAILABLE:t=n.default.createElement(c.CheckCircleIcon,{className:"status-icon success"}),a="Available";break;case m.operatorsStatuses.FAILING:t=n.default.createElement(i.ExclamationCircleIcon,{className:"status-icon danger"}),a="Failing";break;case m.operatorsStatuses.UPGRADING:t=n.default.createElement(u.InProgressIcon,{className:"status-icon"}),a="Updating";break;case m.operatorsStatuses.DEGRADED:t=n.default.createElement(p.ExclamationTriangleIcon,{className:"status-icon warning"}),a="Degraded";break;default:t=n.default.createElement(d.UnknownIcon,{className:"status-icon"}),a="Unknown"}return n.default.createElement(n.default.Fragment,null,t,n.default.createElement("span",null,a)," ")},r=t.map((e=>{const t=(0,m.monitoringItemLinkProps)(a,m.monitoringItemTypes.OPERATOR,e.name);return{cells:[{title:null!==t?n.default.createElement("a",t,e.name):e.name},{title:l(e.condition)},{title:e.version}]}}));return n.default.createElement(o.Table,{variant:s.TableVariant.compact,borders:!1,cells:[{title:"Name"},{title:"Status"},{title:"Version"}],rows:r,"aria-label":"operators"},n.default.createElement(o.TableHeader,null),n.default.createElement(o.TableBody,null))}f.propTypes={operators:r.default.array,clusterConsole:r.default.object},t.default=f},84139:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(69957),i=a(36377);function u(e){let{children:t=null,hideLastCheckIn:a=!1,lastCheckIn:l=null,hideIcon:r=!1,title:u="Monitoring data is not available"}=e;return n.default.createElement(s.EmptyState,null,!r&&n.default.createElement(s.EmptyStateIcon,{icon:o.ExclamationTriangleIcon}),n.default.createElement(s.EmptyStateHeader,{titleText:u,headingLevel:"h5"}),n.default.createElement(s.EmptyStateBody,null,t,!a&&n.default.createElement("p",null,"Last Check-in: ",n.default.createElement(i.DateFormat,{date:l,type:"relative"}))))}u.propTypes={children:r.default.node,hideLastCheckIn:r.default.bool,lastCheckIn:r.default.instanceOf(Date),hideIcon:r.default.bool,title:r.default.string},t.default=u},30989:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=l(a(27361)),u=l(a(8276)),d=l(a(51955)),c=l(a(5265)),p=l(a(73173)),m=l(a(75093)),f=l(a(84139)),E=a(17074),g=a(42957),h=a(52758);class v extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{expanded:[]}),(0,n.default)(this,"toggle",(e=>{const{expanded:t}=this.state,a=t.indexOf(e),l=a>=0?[...t.slice(0,a),...t.slice(a+1,t.length)]:[...t,e];this.setState((()=>({expanded:l})))}))}render(){const{cluster:e,alerts:t,nodes:a,operators:l,resourceUsage:n}=this.props,{expanded:s}=this.state,v=(0,g.hasResourceUsageMetrics)(e),b=(0,i.default)(e,"subscription.status",!1)===h.subscriptionStatuses.ARCHIVED?E.metricsStatusMessages.archived:E.metricsStatusMessages[e.state]||E.metricsStatusMessages.default,_=r.default.createElement(f.default,{hideLastCheckIn:!0,hideIcon:!0,title:"No data available for this metric"},r.default.createElement("p",null,"Please check back later"));return r.default.createElement(o.DataList,{"aria-label":"monitoring-table"},r.default.createElement(u.default,{title:"Alerts firing",numOfIssues:t.numOfIssues,numOfWarnings:t.numOfWarnings,toggle:this.toggle,expanded:s,hasData:t.hasData},t.hasData?r.default.createElement(d.default,{alerts:t.data,clusterConsole:e.console}):_),a.hasData&&r.default.createElement(u.default,{title:"Nodes",numOfIssues:a.numOfIssues,toggle:this.toggle,expanded:s,hasData:a.hasData},r.default.createElement(c.default,{nodes:a.data,clusterConsole:e.console})),r.default.createElement(u.default,{title:"Cluster operators",numOfIssues:l.numOfIssues,numOfWarnings:l.numOfWarnings,toggle:this.toggle,expanded:s,hasData:l.hasData},l.hasData?r.default.createElement(p.default,{operators:l.data,clusterConsole:e.console}):_),r.default.createElement(u.default,{title:"Resource usage",numOfIssues:n.numOfIssues,numOfWarnings:n.numOfWarnings,toggle:this.toggle,expanded:s,hasData:n.hasData},n.hasData?r.default.createElement("div",{className:"metrics-chart"},r.default.createElement(m.default,{cpu:{used:e.metrics.cpu.used,total:e.metrics.cpu.total},memory:{used:e.metrics.memory.used,total:e.metrics.memory.total},metricsAvailable:v,metricsStatusMessage:b,type:"threshold"})):_))}}v.propTypes={cluster:s.default.object,alerts:s.default.object,nodes:s.default.object,resourceUsage:s.default.object,operators:s.default.object},v.defaultProps={cluster:{},alerts:{},nodes:{},resourceUsage:{},operators:{}},t.default=v},8276:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(68778),i=a(69957),u=a(43047);function d(e){let{title:t="",numOfIssues:a=null,numOfWarnings:l=null,toggle:r,expanded:d,hasData:c,children:p}=e;const m=t.replace(/\s+/g,"-").toLowerCase();return n.default.createElement(s.DataListItem,{"aria-labelledby":m,isExpanded:d.includes(m)},n.default.createElement(s.DataListItemRow,null,n.default.createElement(s.DataListToggle,{onClick:()=>r(m),isExpanded:d.includes(m),id:`${m}-toggle`,"aria-controls":`${m}-toggle-expand`}),n.default.createElement(s.DataListItemCells,{dataListCells:[n.default.createElement(s.DataListCell,{key:`title-${m}`},n.default.createElement(s.Title,{headingLevel:"h4",className:"item-title"},t)),n.default.createElement(s.DataListCell,{key:`summary-${m}`,className:"item-summary"},c?a>0?n.default.createElement(n.default.Fragment,null,n.default.createElement(u.ExclamationCircleIcon,{className:"status-icon danger"}),n.default.createElement("span",null,a," discovered ",1===a?"issue":"issues")):l>0?n.default.createElement(n.default.Fragment,null,n.default.createElement(i.ExclamationTriangleIcon,{className:"status-icon warning"}),n.default.createElement("span",null,l," ",1===l?"warning":"warnings")):n.default.createElement(n.default.Fragment,null,n.default.createElement(o.CheckCircleIcon,{className:"status-icon success"}),n.default.createElement("span",null,a," discovered issues")):n.default.createElement(n.default.Fragment,null,n.default.createElement(i.ExclamationTriangleIcon,{className:"status-icon warning"}),n.default.createElement("span",null,"Metrics not available")))]})),n.default.createElement(s.DataListContent,{"aria-label":"Primary Content Details",id:`${m}-expand`,isHidden:!d.includes(m)},p))}d.propTypes={title:r.default.string,numOfIssues:r.default.number,numOfWarnings:r.default.number,expanded:r.default.array,toggle:r.default.func,children:r.default.node,hasData:r.default.bool},d.defaultProps={expanded:[]},t.default=d},5265:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(64284),o=a(94648),i=a(68778),u=a(43047),d=a(42957);function c(e){let{nodes:t=[],clusterConsole:a}=e;const l=t.map((e=>{const t=(0,d.monitoringItemLinkProps)(a,d.monitoringItemTypes.NODE,e.hostname);return{cells:[{title:null!==t?n.default.createElement("a",t,e.hostname):e.hostname},{title:(l=e.up,l?n.default.createElement(n.default.Fragment,null,n.default.createElement(i.CheckCircleIcon,{className:"status-icon success"}),n.default.createElement("span",null,"Ready")):n.default.createElement(n.default.Fragment,null,n.default.createElement(u.ExclamationCircleIcon,{className:"status-icon danger"}),n.default.createElement("span",null,"Not Ready")," "))},{title:`Internal IP: ${e.internal_ip}`}]};var l}));return n.default.createElement(o.Table,{variant:s.TableVariant.compact,borders:!1,cells:[{title:"Name"},{title:"Status"},{title:"Node address"}],rows:l,"aria-label":"nodes"},n.default.createElement(o.TableHeader,null),n.default.createElement(o.TableBody,null))}c.propTypes={nodes:r.default.array,clusterConsole:r.default.object},t.default=c},10819:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=a(66338),s=l(a(44967)),o=a(2046),i=a(82364),u=a(42957);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const p={clearMonitoringState:o.clearMonitoringState};t.default=(0,r.connect)((e=>{const{cluster:t}=e.clusters.details,{alerts:a,nodes:l,operators:n}=e.monitoring,r=(0,i.issuesAndWarningsSelector)(e),{issues:s,warnings:o}=r,d=r.issues.totalCount,p=(0,i.lastCheckInSelector)(e),m=(0,i.clusterHealthSelector)(e,p,d);return{alerts:c(c({},a),{},{numOfIssues:s.alerts,numOfWarnings:o.alerts,hasData:(0,u.hasData)(a)}),nodes:c(c({},l),{},{numOfIssues:s.nodes,hasData:(0,u.hasData)(l)}),operators:c(c({},n),{},{numOfIssues:s.operators,numOfWarnings:o.operators,hasData:(0,u.hasData)(n)}),resourceUsage:{numOfIssues:s.resourceUsage,numOfWarnings:o.resourceUsage,hasData:(0,u.hasResourceUsageMetrics)(t)},discoveredIssues:s.totalCount,lastCheckIn:p,healthStatus:m}}),p)(s.default)},1751:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(71359),i=l(a(42515)),u=l(a(14059)),d=l(a(40317)),c=l(a(44779)),p=l(a(13534));a(97865);class m extends n.default.Component{componentWillUnmount(){const{resetRouters:e}=this.props;e()}render(){const{network:e,refreshCluster:t,gotRouters:a,provider:l}=this.props;return a?n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,{lg:9,md:12,className:"networking-grid-item"},n.default.createElement(i.default,{refreshCluster:t,provider:l})),n.default.createElement(s.GridItem,{lg:3,md:12,className:"networking-grid-item"},n.default.createElement(d.default,{network:e})),n.default.createElement(s.GridItem,{lg:9,md:12,className:"networking-grid-item"},n.default.createElement(u.default,{provider:l})),n.default.createElement(s.GridItem,{lg:3,md:12,className:"networking-grid-item"},n.default.createElement(p.default,null)),n.default.createElement(s.GridItem,{lg:9,md:12,className:"networking-grid-item"},n.default.createElement(c.default,null))):n.default.createElement(s.EmptyState,null,n.default.createElement(s.EmptyStateBody,null,n.default.createElement(o.Spinner,{centered:!0})))}}m.propTypes={network:r.default.object.isRequired,resetRouters:r.default.func.isRequired,refreshCluster:r.default.func.isRequired,gotRouters:r.default.bool.isRequired,provider:r.default.string},t.default=m},47042:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.sendNetworkConfigRequests=t.saveNetworkingConfiguration=t.resetEditRoutersResponse=t.resetClusterRouters=t.networkingActions=t.getClusterRouters=t.editClusterRouters=t.createDefaultRouterRequest=void 0;var n=l(a(18721)),r=l(a(18446)),s=a(70769),o=a(59442),i=a(96775),u=a(69429),d=a(70774),c=a(33047),p=a(81797);const m=e=>t=>t({type:p.networkingConstants.GET_CLUSTER_ROUTERS,payload:c.clusterService.getIngresses(e)});t.getClusterRouters=m;const f=(e,t)=>a=>a({type:p.networkingConstants.EDIT_CLUSTER_ROUTERS,payload:c.clusterService.editIngresses(e,t)});t.editClusterRouters=f;const E=()=>e=>e({type:p.networkingConstants.RESET_EDIT_ROUTERS_RESPONSE});t.resetEditRoutersResponse=E;const g=()=>e=>e({type:p.networkingConstants.RESET_CLUSTER_ROUTERS});t.resetClusterRouters=g;const h=(e,t)=>{const a={id:t.default.routerID};return void 0!==e.private_default_router&&e.private_default_router!==t.default.isPrivate&&(a.listening=e.private_default_router?"internal":"external"),void 0===e.defaultRouterSelectors||(0,r.default)((0,u.strToKeyValueObject)(e.defaultRouterSelectors,""),t.default.routeSelectors||{})||(a.route_selectors=(0,u.strToKeyValueObject)(e.defaultRouterSelectors,"")),void 0===e.defaultRouterExcludedNamespacesFlag||(0,r.default)((0,u.stringToArrayTrimmed)(e.defaultRouterExcludedNamespacesFlag),t.default.excludedNamespaces||[])||(a.excluded_namespaces=(0,u.stringToArrayTrimmed)(e.defaultRouterExcludedNamespacesFlag)),void 0!==e.isDefaultRouterNamespaceOwnershipPolicyStrict&&e.isDefaultRouterNamespaceOwnershipPolicyStrict!==t.default.isNamespaceOwnershipPolicyStrict&&(a.route_namespace_ownership_policy=e.isDefaultRouterNamespaceOwnershipPolicyStrict?o.NamespaceOwnershipPolicy.STRICT:o.NamespaceOwnershipPolicy.INTER_NAMESPACE_ALLOWED),void 0!==e.isDefaultRouterWildcardPolicyAllowed&&e.isDefaultRouterWildcardPolicyAllowed!==t.default.isWildcardPolicyAllowed&&(a.route_wildcard_policy=e.isDefaultRouterWildcardPolicyAllowed?i.WildcardPolicy.WILDCARDS_ALLOWED:i.WildcardPolicy.WILDCARDS_DISALLOWED),void 0!==e.is_nlb_load_balancer&&e.is_nlb_load_balancer!==(t.default.loadBalancer===s.LoadBalancerFlavor.NLB)&&(a.load_balancer_type=e.is_nlb_load_balancer?s.LoadBalancerFlavor.NLB:s.LoadBalancerFlavor.CLASSIC),void 0!==e.clusterRoutesTlsSecretRef&&e.clusterRoutesTlsSecretRef!==(t.default.tlsSecretRef||"")&&(a.cluster_routes_tls_secret_ref=e.clusterRoutesTlsSecretRef),void 0!==e.clusterRoutesHostname&&e.clusterRoutesHostname!==(t.default.hostname||"")&&(a.cluster_routes_hostname=e.clusterRoutesHostname,a.cluster_routes_tls_secret_ref=e.clusterRoutesTlsSecretRef),a};t.createDefaultRouterRequest=h;const v=async(e,t,a,l)=>{let r;if(t.APIPrivate!==e.private_api){const t={api:{listening:e.private_api?"internal":"external"}};r=await c.clusterService.editCluster(a,t),204===r.status&&l((0,d.setClusterDetails)(t,!0))}const s=(0,n.default)(t,"additional"),o=s&&!1===e.enable_additional_router,i=h(e,t);let p;return!o&&s&&(p=((e,t)=>{var a,l;const n={};var r,s;return void 0!==e.private_additional_router&&e.private_additional_router!==(null===(a=t.additional)||void 0===a?void 0:a.isPrivate)&&(n.listening=e.private_additional_router?"internal":"external",n.id=null===(r=t.additional)||void 0===r?void 0:r.routerID),void 0!==e.labels_additional_router&&e.labels_additional_router!==(null===(l=t.additional)||void 0===l?void 0:l.routeSelectors)&&(n.route_selectors=(0,u.strToKeyValueObject)(e.labels_additional_router,""),n.id=null===(s=t.additional)||void 0===s?void 0:s.routerID),n})(e,t)),Object.getOwnPropertyNames(i).length>1&&(r=await c.clusterService.editIngress(a,i.id,i)),o&&(r=await c.clusterService.deleteAdditionalIngress(a,t.additional.routerID,i)),p&&Object.getOwnPropertyNames(p).length>0&&(r=await c.clusterService.editIngress(a,p.id,p)),r};t.sendNetworkConfigRequests=v;const b=(e,t,a)=>l=>l({type:p.networkingConstants.EDIT_CLUSTER_ROUTERS,payload:v(e,t,a,l)});t.saveNetworkingConfiguration=b,t.networkingActions={getClusterRouters:m,editClusterRouters:f,saveNetworkingConfiguration:b,resetClusterRouters:g,resetEditRoutersResponse:E}},81797:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networkingConstants=t.RESET_EDIT_ROUTERS_RESPONSE=t.RESET_CLUSTER_ROUTERS=t.GET_CLUSTER_ROUTERS=t.EDIT_CLUSTER_ROUTERS=void 0;const a=t.GET_CLUSTER_ROUTERS="GET_CLUSTER_ROUTERS",l=t.EDIT_CLUSTER_ROUTERS="EDIT_CLUSTER_ROUTER",n=t.RESET_EDIT_ROUTERS_RESPONSE="RESET_EDIT_ROUTERS_RESPONSE",r=t.RESET_CLUSTER_ROUTERS="RESET_CLUSTER_ROUTERS";t.networkingConstants={GET_CLUSTER_ROUTERS:a,EDIT_CLUSTER_ROUTERS:l,RESET_EDIT_ROUTERS_RESPONSE:n,RESET_CLUSTER_ROUTERS:r}},54605:(e,t,a)=>{"use strict";var l=a(64836);t.ZT=p;var n=l(a(38416)),r=a(25684),s=a(52220),o=a(34693),i=a(81797);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={getRouters:d(d({},s.baseRequestState),{},{routers:[]}),editRouters:d({},s.baseRequestState)};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,s.REJECTED_ACTION)(i.networkingConstants.GET_CLUSTER_ROUTERS):e.getRouters=d(d({},c),(0,o.getErrorState)(t));break;case(0,s.PENDING_ACTION)(i.networkingConstants.GET_CLUSTER_ROUTERS):e.getRouters.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.networkingConstants.GET_CLUSTER_ROUTERS):e.getRouters=d(d({},c),{},{routers:t.payload.data.items||[],fulfilled:!0});break;case(0,s.REJECTED_ACTION)(i.networkingConstants.EDIT_CLUSTER_ROUTERS):e.editRouters=d(d({},c),(0,o.getErrorState)(t));break;case(0,s.PENDING_ACTION)(i.networkingConstants.EDIT_CLUSTER_ROUTERS):e.editRouters.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.networkingConstants.EDIT_CLUSTER_ROUTERS):e.editRouters=d(d({},s.baseRequestState),{},{fulfilled:!0});break;case i.networkingConstants.RESET_EDIT_ROUTERS_RESPONSE:e.editRouters=d({},s.baseRequestState);break;case i.networkingConstants.RESET_CLUSTER_ROUTERS:return c}}))}p.initialState=c},83180:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(12468),u=l(a(6885)),d=l(a(26746)),c=l(a(76490));a(81463);class p extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"handleEditSettings",(()=>{const{openModal:e}=this.props;e(c.default.EDIT_CLUSTER_INGRESS)}))}render(){const{provider:e,consoleURL:t,controlPlaneAPIEndpoint:a,additionalRouterAddress:l,additionalRouterLabels:n,refreshCluster:s,isApiPrivate:c,isAdditionalRouterPrivate:p,hasAdditionalRouter:m,showConsoleLink:f,canEdit:E,isReadOnly:g,isSTSEnabled:h,clusterHibernating:v,isHypershiftCluster:b}=this.props,_=(e=>{let{canEdit:t,isReadOnly:a,isSTSEnabled:l,clusterHibernating:n,isHypershiftCluster:r}=e;return(l&&!r?"Cluster ingress can only be edited for ROSA hosted control plane clusters or clusters not using Security Token Service (STS)":a&&"This operation is not available during maintenance")||n&&"This operation is not available while cluster is hibernating"||!t&&"You do not have permission to edit routers. Only cluster owners, cluster editors, and organization administrators can edit routers."})({canEdit:E,isReadOnly:g,isSTSEnabled:h,clusterHibernating:v,isHypershiftCluster:b});return r.default.createElement(o.Card,{className:"ocm-c-networking-cluster-ingress__card"},r.default.createElement(o.CardTitle,null,"Cluster ingress"),r.default.createElement(o.CardBody,{className:"ocm-c-networking-cluster-ingress__card--body"},r.default.createElement(o.Form,{isHorizontal:!0},r.default.createElement(o.FormGroup,{fieldId:"console_url",label:"Cluster console URL",isStack:!0},null!=t&&t.length?r.default.createElement(r.default.Fragment,null,r.default.createElement(o.ClipboardCopy,{name:"console_url",isReadOnly:!0},t),f&&r.default.createElement(o.TextContent,null,r.default.createElement(o.Text,{component:o.TextVariants.small},r.default.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},"Open console")))):r.default.createElement(o.TextInput,{value:"N/A",type:"text",readOnlyVariant:"default"})),r.default.createElement(o.FormGroup,{fieldId:"control_plane_api_endpoint",label:"Control Plane API endpoint",isStack:!0},r.default.createElement(o.ClipboardCopy,{name:"control_plane_api_endpoint",isReadOnly:!0},a),r.default.createElement(o.TextContent,null,r.default.createElement(o.Text,{component:o.TextVariants.small},(c||(0,i.isRestrictedEnv)()?"Private":"Public")+" API"))),m&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.FormGroup,{fieldId:"additional_router_address",label:"Additional router",isStack:!0},r.default.createElement(o.TextInput,{id:"additional_router_address",value:`*.${l}`,readOnlyVariant:"default"}),r.default.createElement(o.TextContent,null,r.default.createElement(o.Text,{component:o.TextVariants.small},(p||(0,i.isRestrictedEnv)()?"Private":"Public")+" router"))),r.default.createElement(o.FormGroup,{fieldId:"labels_additional_router",label:"Label match",isStack:!0},Array.isArray(n)&&r.default.createElement(o.LabelGroup,{isCompact:!0},n.map((e=>r.default.createElement(o.Label,{isCompact:!0,color:"blue"},e)))))),r.default.createElement(u.default,{provider:e,refreshCluster:s}))),!(0,i.isRestrictedEnv)()&&r.default.createElement(o.CardFooter,null,r.default.createElement(o.ActionList,null,r.default.createElement(d.default,{variant:"secondary",onClick:this.handleEditSettings,disableReason:_,isAriaDisabled:!!_,"data-testId":"edit-cluster-ingress"},"Edit cluster ingress"))))}}p.propTypes={provider:s.default.string,consoleURL:s.default.string,controlPlaneAPIEndpoint:s.default.string.isRequired,additionalRouterAddress:s.default.string.isRequired,additionalRouterLabels:s.default.arrayOf(s.default.string),openModal:s.default.func.isRequired,refreshCluster:s.default.func.isRequired,isApiPrivate:s.default.bool.isRequired,isAdditionalRouterPrivate:s.default.bool.isRequired,hasAdditionalRouter:s.default.bool.isRequired,canEdit:s.default.bool.isRequired,isReadOnly:s.default.bool.isRequired,isSTSEnabled:s.default.bool.isRequired,isHypershiftCluster:s.default.bool.isRequired,clusterHibernating:s.default.bool.isRequired,showConsoleLink:s.default.bool.isRequired},t.default=p},42515:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(59231),s=a(7046),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(29937)),i=l(a(83180));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}t.default=(0,n.connect)((e=>{var t,a,l,n,s,i,u,d;const{cluster:c}=e.clusters.details,p=(0,o.default)(e),m=2===Object.keys(p).length,f=null===(t=c.console)||void 0===t?void 0:t.url,E=null===(a=c.api)||void 0===a?void 0:a.url,g=m?p.additional.address:`apps2${p.default.address.substr(4)}`,h=(0,o.routeSelectorPairsAsStrings)(null==p||null===(l=p.additional)||void 0===l?void 0:l.routeSelectors),v=null===(n=c.cloud_provider)||void 0===n?void 0:n.id,b="internal"===(null===(s=c.api)||void 0===s?void 0:s.listening),_=!(null==p||null===(i=p.additional)||void 0===i||!i.isPrivate),{canEdit:S}=c;return{consoleURL:f,controlPlaneAPIEndpoint:E,additionalRouterAddress:g,additionalRouterLabels:h,isApiPrivate:b,isAdditionalRouterPrivate:_,hasAdditionalRouter:m,canEdit:S,isReadOnly:"read_only"===(null==c||null===(u=c.status)||void 0===u?void 0:u.configuration_mode),isSTSEnabled:!0===(null==c||null===(d=c.aws)||void 0===d||null===(d=d.sts)||void 0===d?void 0:d.enabled),clusterHibernating:(0,r.isHibernating)(c),showConsoleLink:f&&!(0,r.isOffline)(c),provider:v,isHypershiftCluster:(0,r.isHypershiftCluster)(c)}}),(e=>({openModal:(t,a)=>e((0,s.openModal)(t,a))})))(i.default)},73271:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(9104),i=a(65652),u=l(a(25967)),d=l(a(7749)),c=a(79687),p=l(a(42517)),m=l(a(91885)),f=a(90181);class E extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"onClose",(()=>{const{closeModal:e,reset:t,resetResponse:a}=this.props;t(),a(),e()}))}componentDidUpdate(e){const{editClusterRoutersResponse:t,refreshCluster:a}=this.props;e.editClusterRoutersResponse.pending&&t.fulfilled&&(a(),this.onClose())}render(){const{provider:e,controlPlaneAPIEndpoint:t,additionalRouterAddress:a,editClusterRoutersResponse:l,isOpen:n,hideAdvancedOptions:s,canEditAdditionalRouter:E,showRouterVisibilityWarning:g,valid:h,pristine:v,handleSubmit:b}=this.props,_="aws"===e,S=l.error?r.default.createElement(d.default,{message:"Error editing cluster ingress",response:l}):null,C=r.default.createElement(i.Alert,{id:"privacySettingsWarningBox",title:"Editing the privacy settings may require additional actions in your cloud provider account to maintain access.",variant:i.AlertVariant.warning,isPlain:!0,isInline:!0},_&&r.default.createElement(p.default,{href:m.default.OSD_PRIVATE_CLUSTER},"Learn more about cluster privacy")),y=g?r.default.createElement(i.Alert,{id:"routerVisibilityWarningBox",title:"All routers will be exposed publicly because there is no label match on the additional application router. This is a potential security risk.",variant:i.AlertVariant.warning,isPlain:!0,isInline:!0}):null,O=s?null:r.default.createElement(i.ExpandableSection,{toggleText:"Advanced options"},r.default.createElement(i.Form,null,r.default.createElement(i.FormGroup,{fieldId:"enable_additional_router",isStack:!0},r.default.createElement(o.Field,{component:c.ReduxCheckbox,name:"enable_additional_router",label:"Enable additional router",extendedHelpText:"The use of an additional router is deprecated in favor of the single application ingress. Since it has already been enabled, the additional router can be still edited for 4.11 and 4.12 versions but once disabled, it can not be re-enabled again. In the 4.13+ versions, the additional router can not be edited but disabled only."})),r.default.createElement(i.FormGroup,{fieldId:"additional_router_address",isStack:!0},r.default.createElement(i.TextInput,{id:"additional_router_address",value:`*.${a}`,readOnlyVariant:"default"}),r.default.createElement(o.Field,{component:c.ReduxCheckbox,name:"private_additional_router",label:"Make router private",isDisabled:!E})),r.default.createElement(o.Field,{component:c.ReduxVerticalFormGroup,"aria-label":"Additional Router Labels",name:"labels_additional_router",label:"Label match for additional router (optional)",type:"text",helpText:"Comma separated pairs in key=value format. If no label is specified, all routes will be exposed on both routers.",validate:f.checkRouteSelectors,key:"route_selectors",readOnlyVariant:E?void 0:"default"})));return n&&r.default.createElement(u.default,{width:"max(35%, 550px)",primaryText:"Save",secondaryText:"Cancel",title:"Edit cluster ingress",onClose:this.onClose,onPrimaryClick:b,onSecondaryClick:this.onClose,isPending:l.pending,isPrimaryDisabled:!h||v},S,r.default.createElement(i.Form,null,C,y,r.default.createElement(i.FormGroup,{fieldId:"control_plane_api_endpoint",label:"Control Plane API endpoint",isStack:!0},r.default.createElement(i.ClipboardCopy,{name:"control_plane_api_endpoint",isReadOnly:!0},t),r.default.createElement(o.Field,{component:c.ReduxCheckbox,name:"private_api",label:"Make API private"})),O))}}E.propTypes={provider:s.default.string,controlPlaneAPIEndpoint:s.default.string.isRequired,additionalRouterAddress:s.default.string.isRequired,initialValues:s.default.shape({private_api:s.default.bool,enable_additional_router:s.default.bool,private_additional_router:s.default.bool,labels_additional_router:s.default.string}).isRequired,editClusterRoutersResponse:s.default.shape({error:s.default.bool,fulfilled:s.default.bool,pending:s.default.bool}).isRequired,reset:s.default.func.isRequired,closeModal:s.default.func.isRequired,handleSubmit:s.default.func.isRequired,resetResponse:s.default.func.isRequired,refreshCluster:s.default.func.isRequired,isOpen:s.default.bool.isRequired,valid:s.default.bool.isRequired,pristine:s.default.bool.isRequired,hideAdvancedOptions:s.default.bool.isRequired,canEditAdditionalRouter:s.default.bool.isRequired,showRouterVisibilityWarning:s.default.bool.isRequired},t.default=E},6885:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=a(66338),s=a(9104),o=a(77589),i=a(52758),u=l(a(76490)),d=l(a(80338)),c=a(7046),p=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(29937)),m=a(47042),f=l(a(73271));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const v=(0,s.reduxForm)({form:"EditClusterIngress",enableReinitialize:!0})(f.default);t.default=(0,r.connect)((e=>{var t,a,l,n,r,c,m,f,E;const{cluster:g}=e.clusters.details,h=(0,p.default)(e),v=2===Object.keys(h).length,b=null===(t=g.cloud_provider)||void 0===t?void 0:t.id,_=(null==g?void 0:g.openshift_version)||(null==g||null===(a=g.version)||void 0===a?void 0:a.raw_id)||"",S=(0,s.formValueSelector)("EditClusterIngress"),C=!!S(e,"enable_additional_router"),y="internal"===(null===(l=g.api)||void 0===l?void 0:l.listening),O=null===(n=g.subscription)||void 0===n||null===(n=n.plan)||void 0===n?void 0:n.type,I=C&&(0,o.canConfigureAdditionalRouter)(_);return{editClusterRoutersResponse:e.clusterRouters.editRouters,controlPlaneAPIEndpoint:null===(r=g.api)||void 0===r?void 0:r.url,defaultRouterAddress:null===(c=h.default)||void 0===c?void 0:c.address,additionalRouterAddress:v?h.additional.address:`apps2${null===(m=h.default)||void 0===m?void 0:m.address.substr(4)}`,initialValues:{private_api:y,enable_additional_router:v,private_additional_router:!(null==h||null===(f=h.additional)||void 0===f||!f.isPrivate),labels_additional_router:(0,p.routeSelectorsAsString)(null==h||null===(E=h.additional)||void 0===E?void 0:E.routeSelectors)},clusterID:g.id,clusterRouters:h,APIPrivate:y,canEditAdditionalRouter:I,hideAdvancedOptions:!v||O===i.knownProducts.ROSA,provider:b,isOpen:(0,d.default)(e,u.default.EDIT_CLUSTER_INGRESS),showRouterVisibilityWarning:C&&!S(e,"labels_additional_router")&&S(e,"private_additional_router")}}),(e=>({resetResponse:()=>e((0,m.resetEditRoutersResponse)()),closeModal:()=>e((0,c.closeModal)(u.default.EDIT_CLUSTER_INGRESS)),onSubmit:(t,a,l,n)=>{const r=h(h({},a),{},{APIPrivate:l});e((0,m.saveNetworkingConfiguration)(t,r,n))}})),((e,t,a)=>h(h(h(h({},a),e),t),{},{onSubmit:a=>{t.onSubmit(a,e.clusterRouters,e.APIPrivate,e.clusterID)}})))(v)},20191:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(9104),o=a(65652),i=l(a(91885)),u=a(90181),d=l(a(25967)),c=l(a(7749)),p=l(a(68248)),m=l(a(42517)),f=l(a(76486)),E=l(a(73269)),g=a(69429),h=a(70946),v=a(65152);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const _=e=>(0,u.validateUrl)(e,"http"),S=e=>(0,u.validateUrl)(e,"https"),C=(e,t)=>{if(!t.http_proxy_url&&!t.https_proxy_url&&!t.additional_trust_bundle)return"Configure at least one of the cluster-wide proxy fields."},y=e=>{const{isOpen:t,closeModal:a,sendError:l,reset:r,handleSubmit:b,editClusterProxyResponse:y,clearClusterProxyResponse:O,additionalTrustBundle:I,anyTouched:R,noClusterProxyValues:T,noUrlValues:A,change:P}=e,D=y.error&&n.default.createElement(c.default,{message:"Error editing cluster-wide proxy",response:y}),[N,L]=(0,n.useState)(!I),w=(0,n.useCallback)((()=>{r(),L(!I),O(),a()}),[]);(0,n.useEffect)((()=>{A&&P("no_proxy_domains","")}),[A]),(0,n.useEffect)((()=>{!y.fulfilled||y.pending||y.error||w()}),[y]);const M=n.default.createElement(o.Alert,{isInline:!0,variant:"warning",title:"Complete at least 1 of the fields above."});return t&&n.default.createElement(d.default,{onClose:w,title:"Edit cluster-wide Proxy",onPrimaryClick:b,primaryText:"Save",onSecondaryClick:w,isPending:y.pending,width:"max(30%, 600px)"},D,n.default.createElement(o.Form,null,n.default.createElement(o.Grid,{hasGutter:!0},n.default.createElement(o.GridItem,null,n.default.createElement(o.Text,null,"Enable an HTTP or HTTPS proxy to deny direct access to the Internet from your cluster"),n.default.createElement(o.Text,{className:"pf-v5-u-mt-sm"},n.default.createElement(m.default,{href:i.default.CONFIGURE_PROXY_URL},"Learn more about configuring a cluster-wide proxy"))),n.default.createElement(o.GridItem,null,n.default.createElement(o.Alert,{variant:"info",isInline:!0,isPlain:!0,title:"Configure at least 1 of the following fields:"})),n.default.createElement(o.GridItem,{sm:12,md:10,xl2:11},n.default.createElement(s.Field,{component:E.default,name:"http_proxy_url",label:"HTTP Proxy URL",placeholder:h.HTTP_PROXY_PLACEHOLDER,type:"text",validate:[_,C],helpText:"Specify a proxy URL to use for HTTP connections outside the cluster.",showHelpTextOnError:!1})),n.default.createElement(o.GridItem,{sm:12,md:10,xl2:11},n.default.createElement(s.Field,{component:E.default,name:"https_proxy_url",label:"HTTPS Proxy URL",placeholder:h.HTTPS_PROXY_PLACEHOLDER,type:"text",validate:[S,C],helpText:"Specify a proxy URL to use for HTTPS connections outside the cluster.",showHelpTextOnError:!1})),n.default.createElement(o.GridItem,{sm:12,md:10,xl2:11},n.default.createElement(s.Field,{component:E.default,name:"no_proxy_domains",label:"No Proxy domains",placeholder:A?h.DISABLED_NO_PROXY_PLACEHOLDER:h.NO_PROXY_PLACEHOLDER,type:"text",normalize:e=>(0,g.stringToArray)(e),validate:u.checkNoProxyDomains,helpText:h.NO_PROXY_HELPER_TEXT,showHelpTextOnError:!1,isDisabled:A})),n.default.createElement(o.GridItem,{sm:12,md:10,xl2:11},N?n.default.createElement(s.Field,{component:f.default,name:"additional_trust_bundle",label:"Additional trust bundle",placeholder:h.TRUST_BUNDLE_PLACEHOLDER,extendedHelpTitle:"Additional trust bundle",extendedHelpText:"An additional trust bundle is a PEM encoded X.509 certificate bundle that will be added to the nodes' trusted certificate store.",validate:[u.validateCA,C],dropzoneProps:{accept:v.ACCEPT,maxSize:v.MAX_FILE_SIZE,onDropRejected:()=>{l()}},helpText:"Upload or paste a PEM encoded X.509 certificate."}):n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Text,{className:"ocm-c-networking-vpc-details__card pf-v5-c-form__label-text pf-v5-c-form__group-label"},"Additional Trust Bundle"," ",n.default.createElement(p.default,{headerContent:"Additional trust bundle",bodyContent:h.TRUST_BUNDLE_HELPER_TEXT})),n.default.createElement(o.Text,null,"File Uploaded Successfully"," ",n.default.createElement(o.Button,{onClick:()=>L(!0),variant:"link",isInline:!0,className:"ocm-c-networking-vpc-details__card--replace-button"},"Replace file")))),n.default.createElement(o.GridItem,{sm:0,md:2,xl2:4}),n.default.createElement(o.GridItem,null,R&&T&&M))))};y.propTypes={closeModal:r.default.func.isRequired,isOpen:r.default.bool,reset:r.default.func.isRequired,handleSubmit:r.default.func.isRequired,additionalTrustBundle:r.default.string,editClusterProxyResponse:r.default.shape({error:r.default.bool,fulfilled:r.default.bool,pending:r.default.bool}).isRequired,sendError:r.default.func,anyTouched:r.default.bool,clearClusterProxyResponse:r.default.func,noClusterProxyValues:r.default.bool,noUrlValues:r.default.bool,change:r.default.func},t.default=y},64691:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=a(66338),s=a(9104),o=l(a(76490)),i=l(a(80338)),u=a(7046),d=a(70774),c=a(69429),p=l(a(20191));function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const E=(0,s.reduxForm)({form:"EditClusterWideProxy",enableReinitialize:!0,touchOnChange:!0,touchOnBlur:!0})(p.default),g=(e,t)=>e!==t?e:void 0;t.default=(0,r.connect)((e=>{var t,a,l;const{cluster:n}=e.clusters.details,r=(0,s.formValueSelector)("EditClusterWideProxy"),u=!r(e,"http_proxy_url")&&!r(e,"https_proxy_url"),d=r(e,"additional_trust_bundle")||(null==n?void 0:n.additional_trust_bundle);return{isOpen:(0,i.default)(e,o.default.EDIT_CLUSTER_WIDE_PROXY),initialValues:{clusterID:n.id,http_proxy_url:null===(t=n.proxy)||void 0===t?void 0:t.http_proxy,https_proxy_url:null===(a=n.proxy)||void 0===a?void 0:a.https_proxy,no_proxy_domains:(0,c.stringToArray)(null===(l=n.proxy)||void 0===l?void 0:l.no_proxy)},additionalTrustBundle:d,editClusterProxyResponse:e.clusters.editedCluster,meta:(0,s.getFormMeta)("EditClusterWideProxy")(e),noUrlValues:u,noClusterProxyValues:u&&!d}}),(e=>({clearClusterProxyResponse:()=>e((0,d.clearClusterResponse)()),closeModal:()=>e((0,u.closeModal)()),onSubmit:(t,a)=>{const l={proxy:{http_proxy:g(t.http_proxy_url,a.http_proxy_url),https_proxy:g(t.https_proxy_url,a.https_proxy_url),no_proxy:g((0,c.arrayToString)(t.no_proxy_domains),(0,c.arrayToString)(a.no_proxy_domains))},additional_trust_bundle:g(t.additional_trust_bundle,a.additional_trust_bundle)};e((0,d.editCluster)(t.clusterID,l))},sendError:()=>{e((0,s.change)("EditClusterWideProxy","additional_trust_bundle","Invalid file"))},change:s.change})),((e,t,a)=>f(f(f(f({},a),e),t),{},{onSubmit:a=>{t.onSubmit(a,e.initialValues)}})))(E)},40317:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652);function o(e){let{network:t}=e;return n.default.createElement(s.Card,{className:"ocm-c-networking-network-configuration__card"},n.default.createElement(s.CardTitle,null,"CIDR ranges"),n.default.createElement(s.CardBody,{className:"ocm-c-networking-network-configuration__card--body"},n.default.createElement(s.DescriptionList,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Machine CIDR"),n.default.createElement(s.DescriptionListDescription,null,t.machine_cidr||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Service CIDR"),n.default.createElement(s.DescriptionListDescription,null,t.service_cidr||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Pod CIDR"),n.default.createElement(s.DescriptionListDescription,null,t.pod_cidr||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Host prefix"),n.default.createElement(s.DescriptionListDescription,null,`/${t.host_prefix}`||"N/A")))))}a(32264),o.propTypes={network:r.default.object.isRequired},t.default=o},32331:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(76490)),i=a(12468),u=l(a(64691));a(66849);const d=e=>{const{privateLink:t,httpProxyUrl:a,httpsProxyUrl:l,noProxyDomains:r,additionalTrustBundle:d,openModal:c,gcpVPCName:p,isBYOVPC:m}=e,f=void 0!==t,E=r?r.map((e=>n.default.createElement(s.Label,{isCompact:!0,color:"blue"},e))):"N/A";return m?n.default.createElement(s.Card,{className:"ocm-c-networking-vpc-details__card"},n.default.createElement(s.CardTitle,null,n.default.createElement(s.Title,{headingLevel:"h2",className:"card-title"},"Virtual Private Cloud (VPC)")),n.default.createElement(s.CardBody,{className:"ocm-c-networking-vpc-details__card--body pf-v5-l-stack pf-m-gutter"},p||f?n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Title,{headingLevel:"h3",className:"pf-v5-l-stack__item"},"VPC Details"),n.default.createElement(s.DescriptionList,{isHorizontal:!0,className:"pf-v5-l-stack__item pf-m-auto-column-widths details-card-dl"},p?n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"VPC name"),n.default.createElement(s.DescriptionListDescription,null,p)):null,f?n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"PrivateLink"),n.default.createElement(s.DescriptionListDescription,null,t?"Enabled":"Disabled")):null)):null,n.default.createElement(s.Title,{headingLevel:"h3",className:"pf-v5-l-stack__item --"},"Cluster-wide Proxy"),n.default.createElement(s.DescriptionList,{isHorizontal:!0,className:"pf-v5-l-stack__item details-card-dl"},n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"HTTP proxy URL"),n.default.createElement(s.DescriptionListDescription,null,a||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"HTTPS proxy URL"),n.default.createElement(s.DescriptionListDescription,null,l||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Additional trust bundle"),n.default.createElement(s.DescriptionListDescription,null,("REDACTED"===d?"Uploaded":d)||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"No Proxy domains"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(s.LabelGroup,{isCompact:!0},E)))),n.default.createElement(u.default,null)),!(0,i.isRestrictedEnv)()&&n.default.createElement(s.CardFooter,null,n.default.createElement(s.Button,{variant:"secondary",onClick:()=>{c(o.default.EDIT_CLUSTER_WIDE_PROXY)}},"Edit cluster-wide proxy"))):null};d.propTypes={openModal:r.default.func.isRequired,privateLink:r.default.bool,httpProxyUrl:r.default.string,httpsProxyUrl:r.default.string,noProxyDomains:r.default.string,additionalTrustBundle:r.default.string,gcpVPCName:r.default.string,isBYOVPC:r.default.bool},t.default=d},44779:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=a(7046),o=a(69429),i=l(a(32331));t.default=(0,n.connect)((e=>{var t,a,l,n,s,i;const{cluster:u}=e.clusters.details;return{privateLink:null===(t=u.aws)||void 0===t?void 0:t.private_link,formValues:(0,r.getFormValues)("EditClusterWideProxy")(e),httpProxyUrl:null===(a=u.proxy)||void 0===a?void 0:a.http_proxy,httpsProxyUrl:null===(l=u.proxy)||void 0===l?void 0:l.https_proxy,noProxyDomains:(0,o.stringToArray)(null===(n=u.proxy)||void 0===n?void 0:n.no_proxy),additionalTrustBundle:u.additional_trust_bundle,gcpVPCName:null===(s=u.gcp_network)||void 0===s?void 0:s.vpc_name,isBYOVPC:(null===(i=u.aws)||void 0===i?void 0:i.subnet_ids)||u.gcp_network}}),(e=>({openModal:(t,a)=>e((0,s.openModal)(t,a))})))(i.default)},75354:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652);function o(e){let{awsSubnets:t,gcpNetwork:a}=e;return 0!==t.length||a?n.default.createElement(s.Card,{className:"ocm-c-networking-network-configuration__card"},n.default.createElement(s.CardTitle,null,"VPC subnets (",((e,t)=>t?2:e)(t.length,a),")"),n.default.createElement(s.CardBody,{className:"ocm-c-networking-network-configuration__card--body"},t.length>0?n.default.createElement(s.List,{isPlain:!0},t.map((e=>n.default.createElement(s.ListItem,null,e)))):null,a?n.default.createElement(s.DescriptionList,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Control plane subnet"),n.default.createElement(s.DescriptionListDescription,null,a.control_plane_subnet)),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Compute subnet"),n.default.createElement(s.DescriptionListDescription,null,a.compute_subnet))):null)):null}o.propTypes={awsSubnets:r.default.arrayOf(r.default.string),gcpNetwork:r.default.shape({control_plane_subnet:r.default.string,compute_subnet:r.default.string})},o.defaultProps={awsSubnets:[]},t.default=o},13534:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(75354));t.default=(0,n.connect)((e=>{var t;const{cluster:a}=e.clusters.details;return{awsSubnets:null===(t=a.aws)||void 0===t?void 0:t.subnet_ids,gcpNetwork:a.gcp_network}}))(r.default)},19337:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(27361)),s=a(47042),o=l(a(1751));t.default=(0,n.connect)((e=>{const{clusterRouters:t}=e,{cluster:a}=e.clusters.details;return{network:a.network||{},provider:(0,r.default)(a,"cloud_provider.id","N/A"),gotRouters:(0,r.default)(t,"getRouters.routers.length",0)>0}}),(e=>({resetRouters:()=>e((0,s.resetClusterRouters)())})))(o.default)},98456:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652);function o(e){let{cluster:t}=e;return t.managed&&t.network&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Network"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},t.network.machine_cidr&&n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Machine CIDR: "),n.default.createElement("dd",{"data-testid":"machineCIDR"},t.network.machine_cidr)),t.network.service_cidr&&n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Service CIDR: "),n.default.createElement("dd",{"data-testid":"serviceCIDR"},t.network.service_cidr)),t.network.pod_cidr&&n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Pod CIDR: "),n.default.createElement("dd",{"data-testid":"podCIDR"},t.network.pod_cidr)),t.network.host_prefix&&n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Host prefix: "),n.default.createElement("dd",{"data-testid":"hostPrefix"},t.network.host_prefix)))))||null}o.propTypes={cluster:r.default.object.isRequired},t.default=o},64908:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(27361)),o=a(87558),i=l(a(88993)),u=l(a(71415)),d=a(65652),c=a(64284),p=a(19953),m=a(70769),f=a(3606),E=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(59231)),g=l(a(52069)),h=l(a(42517)),v=l(a(90197));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const _=e=>{const{resetInflightChecks:t,cluster:a,getClusterStatus:l,getInflightChecks:r,getRerunInflightChecks:b,hasNetworkOndemand:_,status:S,inflightChecks:C,rerunInflightChecks:y,rerunInflightCheckReq:O,rerunInflightCheckRes:I,addNotification:R,refresh:T}=e,A=(0,o.useNavigate)(),[P,D]=n.default.useState(null),[N,L]=n.default.useState(!1),[w,M]=n.default.useState(!1),[k,x]=n.default.useState(!1),[j,F]=n.default.useState(!1),G=(0,f.usePreviousProps)(S),U=(0,f.usePreviousProps)(C),V=(0,f.usePreviousProps)(O),H=(0,f.usePreviousProps)(I),z=()=>{var e;l(a.id),r(a.id),null!=a&&null!==(e=a.aws)&&void 0!==e&&e.subnet_ids&&b(a.aws.subnet_ids),D(null)};n.default.useEffect((()=>(t(),z(),()=>{null!==P&&(clearTimeout(P),D(null))})),[]),n.default.useEffect((()=>{if(G&&G.pending&&!S.pending||U&&U.pending&&!C.pending){null!==P&&(clearTimeout(P),D(null));const e=e=>e===E.default.INSTALLING||e===E.default.PENDING||e===E.default.VALIDATING||e===E.default.WAITING,t=()=>C.checks.some((e=>e.state===m.InflightCheckState.RUNNING||e.state===m.InflightCheckState.FAILED));if(S.fulfilled&&C.fulfilled){const l=S.status.state;(l!==a.state||t())&&T(),(e(l)||l===E.default.UNINSTALLING||t())&&D(setTimeout(z,5e3))}else S.error&&(e(a.state)?D(setTimeout(z,5e3)):a.state===E.default.UNINSTALLING&&404===S.errorCode&&(R({title:`Successfully uninstalled cluster ${(0,g.default)(a)}`,variant:"success"}),A("/")))}if(V&&V.pending&&!O.pending&&(O.error&&(M(!0),x(!0)),O.fulfilled&&setTimeout((()=>{x(!1)}),1e4)),H&&H.pending&&!I.pending&&I.fulfilled){const e=I.checks.some((e=>e.state===m.InflightCheckState.RUNNING||e.state===m.InflightCheckState.PENDING));F(e)}}),[S,C,O,I,a,T,R,U,V,H,G,P,A]);if(S.status.id===a.id){const e=S.status.provision_error_code||"";let t="";S.status.provision_error_code&&(t=(0,s.default)(S,"status.provision_error_message",""));const l=(0,s.default)(S,"status.description",""),r=[];return S.status.state===E.default.ERROR&&r.push(n.default.createElement(d.Alert,{variant:"danger",isInline:!0,title:`${e} Cluster installation failed`},`This cluster cannot be recovered, however you can use the logs and network validation to diagnose the problem: ${t} ${l}`)),_&&r.push((()=>{if(a.state!==E.default.VALIDATING&&a.state!==E.default.PENDING){const e=C.checks.find((e=>e.state===m.InflightCheckState.FAILED));if((0,E.hasInflightEgressErrors)(a)&&e){let t,l,r,s=[];const o=`${p.HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY}_${a.id}`;localStorage.setItem(o,!!e);const m="To allow this cluster to be fully-managed, add these URLs to the allowlist of these subnet firewalls. For more information review the egress requirements or contact Red Hat support.",{details:f}=e;if(Object.keys(f).forEach((e=>{if("documentation_link"===e)t=f[e];else if(e.startsWith("subnet")){const t=[];s.push({name:e,egressErrors:t}),Object.keys(f[e]).forEach((a=>{a.startsWith("egress_url_errors")&&t.push(f[e][a].split(" ").pop())})),t.sort(((e,t)=>{const a=e.split(":"),l=t.split(":"),n=a[1].localeCompare(l[1]);return 0===n?a[0].localeCompare(l[0]):n}))}})),s.length){const e=s.length>1;e&&!N&&(s=s.slice(0,1));const t=[{title:"Subnet"},{title:"URLs"}],o=e=>{let{name:t,egressErrors:a}=e;return n.default.createElement(c.Tbody,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Td,null),n.default.createElement(c.Td,{modifier:"nowrap"},t),n.default.createElement(c.Td,{style:{whiteSpace:"break-spaces"}},a.join(",   "))))};l=n.default.createElement(n.default.Fragment,null,n.default.createElement(c.Table,{"aria-label":"Missing allowlist URLs",variant:c.TableVariant.compact,style:{backgroundColor:"unset"}},n.default.createElement(c.Thead,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Th,null),t.map((e=>n.default.createElement(c.Th,{key:e.title},e.title))))),s.map((e=>o(e)))),e&&n.default.createElement(d.Button,{variant:"link",icon:N?n.default.createElement(u.default,null):n.default.createElement(i.default,null),onClick:()=>(e=>{L(e)})(!N)},N?"Show less":"Show more")),r=()=>{x(!0),y(a.id)}}const E=k||j;return n.default.createElement(d.Alert,{variant:"warning",isInline:!0,title:"User action required"},n.default.createElement(d.Flex,{direction:{default:"column"}},n.default.createElement(d.FlexItem,null,`${m}`),l&&n.default.createElement(d.FlexItem,null,l),n.default.createElement(d.FlexItem,null,n.default.createElement(d.Flex,{direction:{default:"row"}},t&&n.default.createElement(d.FlexItem,null,n.default.createElement(h.default,{noIcon:!0,href:t},"Review egress requirements")),n.default.createElement(d.FlexItem,null,n.default.createElement(h.default,{noIcon:!0,href:"https://access.redhat.com/support/cases/#/case/new"},"Contact support")),n.default.createElement(d.FlexItem,null,E&&n.default.createElement("span",{className:"pf-v5-u-mr-sm"},n.default.createElement(d.Spinner,{size:"sm"})),n.default.createElement(d.Button,{variant:d.ButtonVariant.link,isInline:!0,isDisabled:E,onClick:r},j?"Network validation in progress":"Rerun network validation"),w&&n.default.createElement(v.default,{title:"Error Rerunning Validator ",errorResponse:O,resetResponse:()=>M(!1)}))))))}}return null})()),r.push((()=>{if((0,E.isOSDGCPWaitingForRolesOnHostProject)(a)){var e,t;const l=null==a||null===(e=a.gcp_network)||void 0===e?void 0:e.vpc_project_id,r=(null==a||null===(t=a.status)||void 0===t||null===(t=t.description)||void 0===t||null===(t=t.split(" ").filter((e=>e.endsWith(".com"))))||void 0===t?void 0:t[0])||"unknown",s=[];return s.push("To continue cluster installation, contact the VPC owner of the "),s.push(n.default.createElement("b",null,l)),s.push(" host project, who must grant the "),s.push(n.default.createElement("b",null,r)),s.push(" service account the following roles: "),s.push(n.default.createElement("b",null,"Compute Network Administrator, ")),s.push(n.default.createElement("b",null,"Compute Security Administrator, ")),s.push(n.default.createElement("b",null,"DNS Administrator.")),n.default.createElement(d.Alert,{variant:"warning",isInline:!0,title:"Permissions needed:"},n.default.createElement(d.Flex,{direction:{default:"column"}},n.default.createElement(d.FlexItem,null,s),n.default.createElement(d.FlexItem,null,n.default.createElement(h.default,{href:"https://cloud.google.com/vpc/docs/provisioning-shared-vpc#migs-service-accounts"},"Learn more about permissions"))))}return null})()),S.status.state!==E.default.ERROR&&(S.status.provision_error_code||S.status.provision_error_message)&&r.push(n.default.createElement(d.Alert,{variant:"warning",isInline:!0,title:`${e} Installation is taking longer than expected`,"data-testid":"alert-long-install"},t)),n.default.createElement(n.default.Fragment,null,r.filter((e=>e)))}return null};_.propTypes={cluster:r.default.shape({id:r.default.string,state:r.default.string,status:r.default.shape({description:r.default.string}),aws:r.default.shape({subnet_ids:r.default.array}),gcp_network:r.default.shape({vpc_project_id:r.default.string})}),refresh:r.default.func,addNotification:r.default.func,getClusterStatus:r.default.func,getInflightChecks:r.default.func,rerunInflightChecks:r.default.func,getRerunInflightChecks:r.default.func,resetInflightChecks:r.default.func,inflightChecks:r.default.shape({pending:r.default.bool,fulfilled:r.default.bool,error:r.default.bool,checks:r.default.array}),rerunInflightCheckReq:r.default.shape({pending:r.default.bool,fulfilled:r.default.bool,error:r.default.bool,errorMessage:r.default.string,operationID:r.default.string}),rerunInflightCheckRes:r.default.shape({pending:r.default.bool,fulfilled:r.default.bool,error:r.default.bool,checks:r.default.array}),hasNetworkOndemand:r.default.bool,status:r.default.shape({pending:r.default.bool,fulfilled:r.default.bool,error:r.default.bool,errorCode:r.default.string,status:r.default.shape({id:r.default.string,description:r.default.string,state:r.default.string,provision_error_code:r.default.string,provision_error_message:r.default.string})})},t.default=_},87066:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(53252),s=a(96106),o=a(38352),i=a(70774),u=l(a(64908));t.default=(0,n.connect)((e=>({status:e.clusters.clusterStatus,inflightChecks:e.clusters.inflightChecks,rerunInflightCheckReq:e.clusters.rerunInflightCheckReq,rerunInflightCheckRes:e.clusters.rerunInflightCheckRes,hasNetworkOndemand:(0,s.featureGateSelector)(e,o.NETWORK_VALIDATOR_ONDEMAND_FEATURE)})),(e=>({getClusterStatus:t=>e((0,i.getClusterStatus)(t)),getInflightChecks:t=>e((0,i.getInflightChecks)(t)),rerunInflightChecks:t=>e((0,i.rerunInflightChecks)(t)),resetInflightChecks:()=>e((0,i.clearInflightChecks)()),getRerunInflightChecks:t=>e((0,i.getRerunInflightChecks)(t)),addNotification:t=>e((0,r.addNotification)(t))})))(u.default)},60202:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=l(a(27361)),i=a(65652),u=a(91290),d=l(a(74685)),c=a(59231),p=l(a(60470)),m=l(a(15053)),f=l(a(80013)),E=l(a(29402));class g extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{popoverOpen:!1})}componentDidMount(){const{cluster:e,getSchedules:t}=this.props;e&&e.id&&e.managed&&t(e.id,(0,c.isHypershiftCluster)(e))}componentDidUpdate(e){const{cluster:t,getSchedules:a}=this.props;e.cluster.id!==t.id&&t.managed&&a(t.id,(0,c.isHypershiftCluster)(t))}componentWillUnmount(){const{clearSchedulesResponse:e}=this.props;e()}render(){var e;const{cluster:t,openModal:a,schedules:l}=this.props,{popoverOpen:n}=this.state,s=(0,c.isClusterUpgrading)(t),g=(0,d.default)(t),h=(0,o.default)(t,"metrics.channel"),v=l.items.find((e=>{var a;return e.version!==(null===(a=t.version)||void 0===a?void 0:a.raw_id)}));return r.default.createElement("div",null,r.default.createElement("dl",{className:"pf-v5-l-stack"},r.default.createElement(i.Flex,null,r.default.createElement("dt",null,"OpenShift: "),r.default.createElement("dd",null,g,r.default.createElement(m.default,{cluster:t,openModal:a,hideOSDUpdates:!!v}),v&&"automatic"===v.schedule_type&&!s?r.default.createElement(E.default,{clusterId:t.id}):null)),v&&"manual"===v.schedule_type&&r.default.createElement("div",null,r.default.createElement(i.Flex,null,r.default.createElement("dt",null,"Update scheduled: "),r.default.createElement("dd",null,r.default.createElement(i.Popover,{headerContent:"Update status",isVisible:n,shouldOpen:()=>this.setState({popoverOpen:!0}),shouldClose:()=>this.setState({popoverOpen:!1}),bodyContent:r.default.createElement(f.default,{clusterID:t.id,canEdit:t.canEdit,clusterVersion:g,scheduledUpgrade:v,openModal:a,availableUpgrades:null===(e=t.version)||void 0===e?void 0:e.available_upgrades,onCancelClick:()=>this.setState({popoverOpen:!1})})},r.default.createElement(i.Button,{variant:"link"},"View details ",r.default.createElement(u.OutlinedQuestionCircleIcon,null)))))),!t.managed&&!s&&r.default.createElement("div",null,r.default.createElement(i.Flex,null,r.default.createElement("dt",null,"Life cycle state: "),r.default.createElement("dd",null,r.default.createElement(p.default,{clusterVersion:g})))),h&&r.default.createElement("div",null,r.default.createElement(i.Flex,null,r.default.createElement("dt",null,"Update channel: "),r.default.createElement("dd",null,h)))))}}g.propTypes={cluster:s.default.shape({id:s.default.string.isRequired,openshift_version:s.default.string,managed:s.default.bool,version:s.default.shape({channel_group:s.default.string,available_upgrades:s.default.arrayOf(s.default.string),raw_id:s.default.string}),canEdit:s.default.bool}),versionInfo:s.default.shape({fulfilled:s.default.bool,pending:s.default.bool,error:s.default.bool,version:s.default.string,channelGroup:s.default.string,availableUpgrades:s.default.arrayOf(s.default.string)}).isRequired,schedules:s.default.shape({fulfilled:s.default.bool,pending:s.default.bool,error:s.default.bool,items:s.default.array}).isRequired,openModal:s.default.func.isRequired,getSchedules:s.default.func.isRequired,clearSchedulesResponse:s.default.func.isRequired},t.default=g},77076:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(57572),s=a(7046),o=l(a(60202));t.default=(0,n.connect)((e=>({versionInfo:e.clusterUpgrades.versionInfo,schedules:e.clusterUpgrades.schedules})),(e=>({getSchedules:(t,a)=>e((0,r.getSchedules)(t,a)),clearSchedulesResponse:()=>e((0,r.clearSchedulesResponse)()),openModal:(t,a)=>e((0,s.openModal)(t,a))})))(o.default)},17584:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(65652),i=l(a(61115)),u=l(a(7618));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}a(21073);class c extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"refresh",(()=>{const{clusterId:e,getReport:t,getSources:a}=this.props;t({filter:{cluster:e}}),a({type:"OCP"})}))}componentDidMount(){this.refresh()}render(){const{report:e,sources:t}=this.props,a=t&&t.meta&&0!==t.meta.count;return r.default.createElement(o.Card,{className:"ocm--cost-breakdown-card"},r.default.createElement(o.CardTitle,null,r.default.createElement(o.Title,{size:"lg",headingLevel:"h2"},"Cost breakdown")),r.default.createElement(o.CardBody,{className:"ocm--cost-breakdown-card__body"},!a&&t.fulfilled?r.default.createElement(i.default,null):r.default.createElement(u.default,{report:e})))}}c.propTypes={clusterId:s.default.string,getReport:s.default.func.isRequired,getSources:s.default.func.isRequired,report:s.default.shape({data:s.default.array,meta:s.default.object,pending:s.default.bool,fulfilled:s.default.bool}).isRequired,sources:s.default.shape({meta:s.default.object,pending:s.default.bool,fulfilled:s.default.bool}).isRequired},t.default=c},7618:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=l(a(38416)),s=l(a(10434)),o=l(a(70215)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),u=l(a(45697)),d=l(a(69573)),c=a(65652),p=a(47404);a(21073);const m=["values"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const E=e=>{let{values:t}=e,a=(0,o.default)(e,m);return i.default.createElement(p.ChartLabel,(0,s.default)({},a,{style:[{fontWeight:600},{}],text:[t[a.index],a.text]}))};E.propTypes={values:u.default.array,index:u.default.any,text:u.default.any};const g=()=>E;class h extends i.Component{render(){const{report:e}=this.props;return e.fulfilled?i.default.createElement(i.default.Fragment,null,i.default.createElement(c.Title,{className:"ocm--cost-title",size:"md",headingLevel:"h2"},"Total cost",i.default.createElement("span",{className:"ocm--cost-total"}," ",h.getTotal(e))),i.default.createElement("div",{style:{maxHeight:185,maxWidth:350}},h.getChart(e))):i.default.createElement(d.default,{size:"md"})}}n=h,(0,r.default)(h,"formatCurrency",(function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toLocaleString("en",{style:"currency",currency:e,minimumFractionDigits:2,maximumFractionDigits:2})})),(0,r.default)(h,"getChart",(e=>{const t=e&&e.meta&&e.meta.total&&e.meta.total.cost,a=t&&e.meta.total.cost.markup,l=t&&e.meta.total.cost.raw,r=t&&e.meta.total.cost.usage,s=a?e.meta.total.cost.markup.units:"USD",o=l?e.meta.total.cost.raw.units:"USD",u=r?e.meta.total.cost.usage.units:"USD",d=a?e.meta.total.cost.markup.value:0,c=l?e.meta.total.cost.raw.value:0,m=r?e.meta.total.cost.usage.value:0,f=n.formatCurrency(a?e.meta.total.cost.markup.value:0,s),E=n.formatCurrency(l?e.meta.total.cost.raw.value:0,o),g=n.formatCurrency(r?e.meta.total.cost.usage.value:0,u),h="Markup",v="Raw cost",b="Usage cost";return i.default.createElement(p.ChartPie,{ariaDesc:"Cost breakdown",constrainToVisibleArea:!0,data:[{x:v,y:c,units:o},{x:h,y:d,units:s},{x:b,y:m,units:u}],height:185,labels:e=>{let{datum:t}=e;return`${t.x}: ${n.formatCurrency(t.y,t.units)}`},legendComponent:n.getLegend([E,f,g]),legendData:[{name:v},{name:h},{name:b}],legendOrientation:"vertical",legendPosition:"right",padding:{bottom:30,left:0,right:225,top:30},legendAllowWrap:!0,width:350})})),(0,r.default)(h,"getLegend",(e=>{const t=g();return i.default.createElement(p.ChartLegend,{gutter:25,itemsPerRow:2,labelComponent:i.default.createElement(t,{dy:10,lineHeight:1.5,values:e}),rowGutter:20})})),(0,r.default)(h,"getTotal",(e=>{const t=e&&e.meta&&e.meta.total&&e.meta.total.cost&&e.meta.total.cost.total,a=t?e.meta.total.cost.total.value:0,l=t?e.meta.total.cost.total.units:"USD";return n.formatCurrency(a,l)})),h.propTypes={report:u.default.shape({data:u.default.array,meta:u.default.object,pending:u.default.bool,fulfilled:u.default.bool}).isRequired},t.default=h},13734:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(17584)),s=a(89479);const o={getReport:s.getReport,getSources:s.getSources};t.default=(0,n.connect)((e=>({report:e.cost.report,sources:e.cost.sources})),o)(r.default)},11238:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(27361)),o=a(65652),i=l(a(58152)),u=a(59231),d=l(a(39747)),c=l(a(68248)),p=l(a(22831)),m=l(a(82820)),f=l(a(77076)),E=a(52758);function g(e){var t,a,l;let{cluster:r,cloudProviders:g,showAssistedId:h}=e;const v=r.cloud_provider?r.cloud_provider.id:null,b=null==r||null===(t=r.region)||void 0===t?void 0:t.id,_=(0,s.default)(r,"subscription.plan.type")===E.normalizedProducts.ROSA,S=(0,u.isHypershiftCluster)(r),C=(null==r||null===(a=r.subscription)||void 0===a||null===(a=a.plan)||void 0===a?void 0:a.type)===E.normalizedProducts.RHOIC;let y;y=v&&g.fulfilled&&g.providers[v]?g.providers[v].display_name||"N/A":v?v.toUpperCase():"N/A";const{id:O,idLabel:I}=((e,t)=>{let a="Cluster ID",l=(0,s.default)(e,"external_id","N/A");const n=(0,s.default)(e,"aiCluster.id","N/A");return t&&n&&(a=`Assisted cluster ID / ${a}`,l=`${n} / ${l}`),{id:l,idLabel:a}})(r,h),R=S?"Hosted":"Classic",T=(0,s.default)(r,"aws.private_hosted_zone_id",!1);return n.default.createElement(o.DescriptionList,null,n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,I),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"clusterID"},O))),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Type"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement(p.default,{cluster:r}))),S&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Control plane type"),n.default.createElement(o.DescriptionListDescription,{"data-testid":"controlType"},n.default.createElement("span",{"data-testid":"controlPlaneType"},R))),!C||C&&b?n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Region"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"region"},b||"N/A"))):null,!_&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Provider"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"provider"},y))),r.managed&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Availability"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"availability"},r.multi_az?"Multi-zone":"Single zone"))),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Version",S&&n.default.createElement(c.default,{iconClassName:"pf-v5-u-ml-sm",hint:"This version is only for the control plane. Worker nodes may have a different version."})),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement(f.default,{cluster:r}))),!!T&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Shared VPC hosted zone ID"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("span",null,T))),!S&&r.fips&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Encryption level"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},n.default.createElement("dt",{"data-testid":"fipsCryptographyStatus"},"FIPS Cryptography enabled")))),null!=r&&null!==(l=r.aws)&&void 0!==l&&l.kms_key_arn?n.default.createElement(n.default.Fragment,null,n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Encrypt volumes with custom keys"),n.default.createElement(o.DescriptionListDescription,null,"Enabled")),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Custom KMS key ARN"),n.default.createElement(o.DescriptionListDescription,null,r.aws.kms_key_arn))):null,n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Created at"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement(d.default,{value:(0,s.default)(r,"creation_timestamp","N/A")}))),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Owner"),n.default.createElement(o.DescriptionListDescription,null,(0,s.default)(r,"subscription.creator.name")||(0,s.default)(r,"subscription.creator.username","N/A"))),r.managed&&!_&&n.default.createElement(n.default.Fragment,null,n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Subscription billing model"),n.default.createElement(o.DescriptionListDescription,{"data-testid":"subscription-billing-model"},(0,i.default)(r))),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Infrastructure billing model"),n.default.createElement(o.DescriptionListDescription,{"data-testid":"infrastructure-billing-model"},n.default.createElement(m.default,{cluster:r})))))}g.propTypes={cluster:r.default.any,cloudProviders:r.default.object.isRequired,showAssistedId:r.default.bool.isRequired},t.default=g},26320:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(27361)),o=a(65652),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(84896)),u=a(59231),d=a(24197),c=a(12468),p=a(83768),m=a(82714),f=a(56554),E=l(a(39747)),g=l(a(91885)),h=a(24501),v=l(a(98456)),b=a(86896),_=a(73960),S=a(52758),C=l(a(68248)),y=l(a(42517)),O=a(53644),I=l(a(9704));function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}const{ClusterStatus:T}=i;function A(e){var t,a,l,r,i,R,A,P,D,N,L,w;let{cluster:M,totalDesiredComputeNodes:k,canAutoscaleCluster:x,hasAutoscaleMachinePools:j,hasAutoscaleCluster:F,totalMinNodesCount:G,totalMaxNodesCount:U,limitedSupport:V,totalActualNodes:H,machinePools:z,isDeprovisioned:W}=e;const q="aws"===(null===(t=M.subscription)||void 0===t?void 0:t.cloud_provider_id),B="gcp"===(null===(a=M.subscription)||void 0===a?void 0:a.cloud_provider_id),$=(0,u.isHypershiftCluster)(M),Z=(0,u.isROSA)(M),Y=(null===(l=M.subscription)||void 0===l?void 0:l.cloud_account_id)||null,K=$&&(null===(r=M.aws)||void 0===r||null===(r=r.etcd_encryption)||void 0===r?void 0:r.kms_key_arn),{clusterVpc:Q}=(0,m.useAWSVPCFromCluster)(M),J=(0,_.humanizeValueWithUnit)((0,s.default)(M,"metrics.memory.total.value",0),(0,s.default)(M,"metrics.memory.total.unit","B")),X="true"===(0,f.getQueryParam)("showWorkerNodesTogether"),ee=(0,s.default)(M,"subscription.status","")===S.subscriptionStatuses.DISCONNECTED,te=(0,s.default)(M,"subscription.billing_marketplace_account",""),ae=M.managed,le=!$&&(!M.managed&&(0,s.default)(M,"metrics.nodes.infra",null)||(0,s.default)(M,"nodes.infra",0)>0),ne=(0,s.default)(M,"metrics.sockets.total.value",0)>0,re=M.managed&&M.storage_quota&&(0,_.humanizeValueWithUnitGiB)(M.storage_quota.value),se=!ee&&!ne&&!(0,c.isRestrictedEnv)(),oe=!ee&&!(0,c.isRestrictedEnv)(),ie=(0,s.default)(M,"metrics.nodes.master","-"),ue=(0,s.default)(M,"nodes.master","-"),de=(0,s.default)(M,"metrics.nodes.infra","-"),ce=(0,s.default)(M,"nodes.infra","-"),pe=(0,s.default)(M,"cloud_provider.id","-"),me=!1===H?"-":H,fe=k||"-",Ee=null===(i=M.aws)||void 0===i||null===(i=i.sts)||void 0===i?void 0:i.oidc_config,ge=(null===(R=M.aws)||void 0===R?void 0:R.ec2_metadata_http_tokens)||d.IMDSType.V1AndV2,he=B&&!W,ve=B&&(null===(A=M.gcp)||void 0===A||null===(A=A.security)||void 0===A?void 0:A.secure_boot);return n.default.createElement(o.DescriptionList,null,n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Status"),n.default.createElement(o.DescriptionListDescription,{style:M.state.style},(0,h.isAISubscriptionWithoutMetrics)(M.subscription)?n.default.createElement("div",{"data-testid":"aiSubscriptionWithoutMetric"},n.default.createElement(T,{status:M.metrics.state,className:"clusterstate"})):n.default.createElement(n.default.Fragment,null,n.default.createElement(O.ClusterStatus,{cluster:M,limitedSupport:V,machinePools:z}),V?" - Limited support":null,(null==M||null===(P=M.status)||void 0===P?void 0:P.provision_error_code)&&n.default.createElement(o.DescriptionList,null," ",n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Details:"),n.default.createElement(o.DescriptionListDescription,null,M.status.provision_error_code," ",null===(D=M.status)||void 0===D?void 0:D.provision_error_message)))))),se&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Total vCPU"),n.default.createElement(o.DescriptionListDescription,null,M.metrics.cpu.total.value," vCPU")),oe&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Total memory"),n.default.createElement(o.DescriptionListDescription,null,J.value," ",J.unit)),Y&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,`Infrastructure ${pe.toUpperCase()} account`),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":`infrastructure${pe.toUpperCase()}Account`},Y))),K&&n.default.createElement(o.DescriptionListGroup,{"data-testid":"hs-etcd-encryption"},n.default.createElement(o.DescriptionListTerm,null,"KMS etcd encryption key ARN"),n.default.createElement(o.DescriptionListDescription,null,K)),Z&&!$&&n.default.createElement(o.DescriptionListGroup,{"data-testid":"etcd-encryption-key"},n.default.createElement(o.DescriptionListTerm,null,"Additional encryption "),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"etcEncryptionStatus"},M.etcd_encryption?"Enabled":"Disabled"))),te&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Billing marketplace account"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"billingMarketplaceAccount"},te))),M.managed&&!(null!==(N=M.ccs)&&void 0!==N&&N.enabled)&&n.default.createElement(n.default.Fragment,null,n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Load balancers"),n.default.createElement(o.DescriptionListDescription,null,M.load_balancer_quota||"N/A")),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Persistent storage"),n.default.createElement(o.DescriptionListDescription,{"data-testid":"persistent-storage"},re?`${re.value}  ${re.unit}`:"N/A"))),!(0,c.isRestrictedEnv)()&&(ae&&!j?n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Nodes",n.default.createElement("span",{className:"font-weight-normal"}," (actual/desired)"),n.default.createElement(C.default,{id:"cluster-scaling-hint",iconClassName:"nodes-hint",hint:"The actual number of compute nodes may not always match with the number of desired when the cluster is scaling."})),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},!$&&n.default.createElement(o.Flex,{"data-testid":"controlPlaneNodesCountContainer"},n.default.createElement("dt",null,"Control plane: "),n.default.createElement("dd",{"data-testid":"controlPlaneNodesCount"},"-"!==ie||"-"!==ue?`${ie}/${ue}`:"N/A")),le&&n.default.createElement(o.Flex,{"data-testid":"InfraNodesCountContainer"},n.default.createElement("dt",null,"Infra: "),n.default.createElement("dd",{"data-testid":"infraNodesCount"},"-"!==de||"-"!==ce?`${de}/${ce}`:"N/A")),n.default.createElement(o.Flex,null,n.default.createElement("dt",null,"Compute: "),n.default.createElement("dd",{"data-testid":"computeNodeCount"},"-"!==me||"-"!==fe?`${me}/${fe}`:"N/A"))))):n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Nodes"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},!$&&n.default.createElement(o.Flex,{"data-testid":"controlPlaneNodesCountContainer"},n.default.createElement("dt",null,"Control plane: "),n.default.createElement("dd",null,(0,s.default)(M,"metrics.nodes.master","N/A"))),le&&n.default.createElement(o.Flex,{"data-testid":"InfraNodesCountContainer"},n.default.createElement("dt",null,"Infra: "),n.default.createElement("dd",null,(0,s.default)(M,"metrics.nodes.infra","N/A"))),n.default.createElement(o.Flex,null,n.default.createElement("dt",null,"Compute: "),n.default.createElement("dd",null,H||"N/A")))))),(0,p.hasSecurityGroupIds)(M,z)&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Additional security groups"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-l-stack","data-testid":"securityGroupsByNode"},n.default.createElement(I.default,{securityGroups:(null==Q?void 0:Q.aws_security_groups)||[],securityGroupIdsForControl:null==M||null===(L=M.aws)||void 0===L?void 0:L.additional_control_plane_security_group_ids,securityGroupIdsForInfra:null==M||null===(w=M.aws)||void 0===w?void 0:w.additional_infra_security_group_ids,machinePoolData:z,showLinkToMachinePools:(0,u.canViewMachinePoolTab)(M),showWorkerNodesTogether:X})))),M.aiCluster&&n.default.createElement(n.default.Fragment,null,n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Created at"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement(E.default,{value:(0,s.default)(M,"creation_timestamp","N/A")}))),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Owner"),n.default.createElement(o.DescriptionListDescription,null,(0,s.default)(M,"subscription.creator.name")||(0,s.default)(M,"subscription.creator.username","N/A")))),x&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Cluster autoscaling"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"clusterAutoscalingStatus"},F?"Enabled":"Disabled"))),j&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Autoscale",n.default.createElement(C.default,{id:"autoscaling-hint",iconClassName:"nodes-hint",hint:n.default.createElement(n.default.Fragment,null,b.constants.autoscaleHint," ",n.default.createElement(y.default,{href:g.default.APPLYING_AUTOSCALING},"Learn more about autoscaling"))})),n.default.createElement(o.DescriptionListDescription,null,"Enabled"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("span",{className:"autoscale-data-t"},"Min:")," ",G,n.default.createElement("span",{className:"pf-v5-u-ml-lg autoscale-data-t"},"Max: "),U)),q&&!$&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Instance Metadata Service (IMDS)"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"instanceMetadataService"},ge===d.IMDSType.V1AndV2?"IMDSv1 and IMDSv2":"IMDSv2 only"))),n.default.createElement(v.default,{cluster:M}),he&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Secure Boot support for Shielded VMs"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"secureBootSupportForShieldedVMs"},ve?"Enabled":"Disabled"))),Ee&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"OIDC Configuration"),n.default.createElement(o.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},n.default.createElement(o.Flex,null,n.default.createElement("dt",null,"Type:"),n.default.createElement("dd",null,null!=Ee&&Ee.managed?"Red Hat managed":"Self-managed")),n.default.createElement(o.Flex,null,n.default.createElement("dt",null,"ID:"),n.default.createElement("dd",null,null==Ee?void 0:Ee.id))))))}A.propTypes={cluster:r.default.any,totalDesiredComputeNodes:r.default.number,totalMinNodesCount:r.default.number,totalMaxNodesCount:r.default.number,hasAutoscaleMachinePools:r.default.bool.isRequired,hasAutoscaleCluster:r.default.bool.isRequired,canAutoscaleCluster:r.default.bool.isRequired,limitedSupport:r.default.bool,totalActualNodes:r.default.oneOfType([r.default.number,r.default.bool]),machinePools:r.default.array,isDeprovisioned:r.default.bool},t.default=A},44123:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(23343),s=l(a(26320)),o=l(a(31622));t.default=(0,n.connect)((e=>{var t,a,l;const{cluster:n}=e.clusters.details,s=e.machinePools.getMachinePools.data,i=(0,o.default)(n,s),u=(0,r.canAutoScaleOnCreateSelector)(null===(t=e.userProfile.organization)||void 0===t?void 0:t.details,null==n||null===(a=n.subscription)||void 0===a||null===(a=a.plan)||void 0===a?void 0:a.id),d=!(null==n||!n.autoscaler),{hasMachinePoolWithAutoscaling:c,totalMinNodesCount:p,totalMaxNodesCount:m,totalDesiredComputeNodes:f,totalActualNodes:E}=i;return c?{canAutoscaleCluster:u,hasAutoscaleMachinePools:!0,hasAutoscaleCluster:d,totalMinNodesCount:p,totalMaxNodesCount:m,totalActualNodes:E,machinePools:s}:{canAutoscaleCluster:u,hasAutoscaleMachinePools:!1,hasAutoscaleCluster:d,totalDesiredComputeNodes:f,totalActualNodes:E,limitedSupport:(null==n||null===(l=n.status)||void 0===l?void 0:l.limited_support_reason_count)>0,machinePools:s}}),null)(s.default)},69001:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(47404),s=l(a(45697)),o=a(43225);const i=e=>{let{entries:t,issueCount:a,externalId:l}=e;return n.default.createElement(r.ChartDonut,{data:t.map((e=>{let[t,a]=e;return{label:`${o.riskLabels[t]} ${a}`,x:t,y:a}})),title:`${a}`,titleComponent:n.default.createElement(o.InsightsTitleComponent,{style:{}}),subTitle:"Total "+(1===a?"issue":"issues"),subTitleComponent:n.default.createElement(o.InsightsSubtitleComponent,{externalId:l,style:{}}),legendData:t.map((e=>{let[t,a]=e;return{name:`${a} ${o.riskLabels[t]}`}})),legendOrientation:"vertical",legendPosition:"right",constrainToVisibleArea:!0,width:350,height:200,colorScale:o.chartColorScale,legendComponent:n.default.createElement(r.ChartLegend,{data:t.map((e=>{let[t,a]=e;return{name:`${a} ${o.riskLabels[t]}`,id:t,value:a}})),labelComponent:n.default.createElement(o.InsightsLabelComponent,{externalId:l,style:{}}),dataComponent:n.default.createElement(o.InsightsLegendIconComponent,null),x:200}),radius:80,padAngle:0,padding:{bottom:0,left:10,right:170,top:20}})};t.default=i,i.propTypes={entries:s.default.array.isRequired,issueCount:s.default.number.isRequired,externalId:s.default.string.isRequired}},49356:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416));t.default=e=>n.default.createElement("svg",{x:"3.5",y:"2.5"},n.default.createElement("svg",e,n.default.createElement("polygon",{points:"10 10, 10 3, 5 0, 0 3, 0 10, 5 8"})))},26914:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(45697),s=a(65652),o=l(a(39186)),i=a(55741),u=l(a(69001));a(42734);const d=e=>{let{insightsData:t,externalId:a}=e;const l=t.data?t.data.filter((e=>!e.disabled)):[],r=Object.entries((0,i.groupRulesByRisk)(l)).reverse();return n.default.createElement(s.Flex,null,n.default.createElement(s.FlexItem,null,n.default.createElement(s.Title,{className:"ocm-c-overview-advisor--card__title",size:"lg",headingLevel:"h2"},"Advisor recommendations"),n.default.createElement(o.default,null)),n.default.createElement(s.FlexItem,null,n.default.createElement(u.default,{entries:r,issueCount:l.length,externalId:a})))};d.propTypes={insightsData:r.PropTypes.object,externalId:r.PropTypes.string.isRequired},t.default=d},43225:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.riskLabels=t.riskIcons=t.legendColorScale=t.chartColorScale=t.InsightsTitleComponent=t.InsightsSubtitleComponent=t.InsightsLegendIconComponent=t.InsightsLabelComponent=void 0;var n=l(a(10434)),r=l(a(38416)),s=l(a(70215)),o=l(a(28416)),i=a(45697),u=a(97857),d=a(28955),c=a(40393),p=a(24722),m=a(2447),f=a(98126),E=a(74617),g=a(97791),h=a(47404),v=a(49596),b=l(a(49356));const _=["style"],S=["style"],C=["externalId","style"];function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.riskLabels={1:"Low",2:"Moderate",3:"Important",4:"Critical"};const I=t.riskIcons={1:u.AngleDoubleDownIcon,2:c.EqualsIcon,3:d.AngleDoubleUpIcon,4:b.default},R=t.legendColorScale={1:m.global_palette_blue_300.value,2:f.global_palette_gold_400.value,3:E.global_palette_orange_300.value,4:g.global_palette_red_200.value},T=(t.chartColorScale=[g.global_palette_red_200.value,E.global_palette_orange_300.value,f.global_palette_gold_400.value,p.global_palette_blue_50.value],e=>{let{style:t}=e,a=(0,s.default)(e,_);return o.default.createElement(h.ChartLabel,(0,n.default)({},a,{style:O(O({},t),{},{fontSize:30,fontWeight:"bold"})}))});t.InsightsTitleComponent=T;const A=e=>{let{style:t}=e,a=(0,s.default)(e,S);const{datum:l,externalId:r}=a,i=`${(0,v.advisorBaseName)()}/clusters/${r}?total_risk=${l.id}`;return o.default.createElement("a",{href:i},o.default.createElement(h.ChartLabel,(0,n.default)({},a,{style:O(O({},t),{},{fontSize:15}),className:r&&l.value>0?"ocm-c-overview-advisor--enabled-link":"ocm-c-overview-advisor--disabled-link"})))};t.InsightsLabelComponent=A;const P=e=>{let{x:t,y:a,datum:l}=e;const n=I[l.id];return o.default.createElement(n,{x:t-5,y:a-7,fill:R[l.id]})};t.InsightsLegendIconComponent=P;const D=e=>{let{externalId:t,style:a}=e,l=(0,s.default)(e,C);const r=`${(0,v.advisorBaseName)()}/clusters/${t}`;return o.default.createElement("a",{href:r},o.default.createElement(h.ChartLabel,(0,n.default)({},l,{style:O(O({},a),{},{fontSize:15}),dy:5,className:"ocm-c-overview-advisor--enabled-link"})))};t.InsightsSubtitleComponent=D,D.propTypes={externalId:i.PropTypes.string.isRequired,style:i.PropTypes.object.isRequired},A.propTypes={datum:i.PropTypes.shape({value:i.PropTypes.number,id:i.PropTypes.string}).isRequired,externalId:i.PropTypes.string.isRequired,style:i.PropTypes.object.isRequired},T.propTypes={style:i.PropTypes.object.isRequired},P.propTypes={x:i.PropTypes.number,y:i.PropTypes.number,datum:i.PropTypes.shape({id:i.PropTypes.string})}},47290:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.installationLogActions=t.getLogs=t.clearLogs=void 0;var n=l(a(38416)),r=a(6176),s=a(33047);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"install";return l=>l({type:r.installationLogConstants.GET_LOGS,payload:s.clusterService.getLogs(e,t,a).then((e=>i(i({},e),{},{logType:a})))})};t.getLogs=u;const d=()=>e=>e({type:r.installationLogConstants.CLEAR_LOGS});t.clearLogs=d,t.installationLogActions={getLogs:u,clearLogs:d}},6176:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.installationLogConstants=t.GET_LOGS=t.CLEAR_LOGS=void 0;const a=t.GET_LOGS="GET_LOGS",l=t.CLEAR_LOGS="CLEAR_LOGS";t.installationLogConstants={GET_LOGS:a,CLEAR_LOGS:l}},73133:(e,t,a)=>{"use strict";var l=a(64836);t.mg=p;var n=l(a(38416)),r=a(25684),s=a(52220),o=a(34693),i=a(6176);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c=d(d({},s.baseRequestState),{},{lines:"",len:0,logType:void 0});function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(a=>{switch(t.type){case(0,s.PENDING_ACTION)(i.GET_LOGS):a.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.GET_LOGS):{let a,l;return t.payload.logType===e.logType?(a=t.payload.data.content?e.lines+t.payload.data.content:e.lines,l=t.payload.data.content?e.len+t.payload.data.content.split("\n").length:e.len):(a=t.payload.data.content||"",l=t.payload.data.content?t.payload.data.content.split("\n").length:0),d(d({},c),{},{lines:a,len:l,fulfilled:!0,logType:t.payload.logType})}case(0,s.REJECTED_ACTION)(i.GET_LOGS):return d(d(d({},c),(0,o.getErrorState)(t)),{},{lines:e.lines,len:e.len});case i.CLEAR_LOGS:return c}}))}p.initialState=c},27825:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(14630),u=l(a(94184)),d=l(a(47489)),c=a(17074),p=l(a(59231));class m extends r.default.Component{constructor(e){super(e),(0,n.default)(this,"state",{userScrolled:!1,isFullScreen:!1,isExpanded:!1}),(0,n.default)(this,"isShown",(()=>{const{isExpanded:e}=this.state,{isExpandable:t}=this.props;return!t||e})),(0,n.default)(this,"toggleExpanded",(e=>{this.setState({isExpanded:e})})),(0,n.default)(this,"scrollToEnd",(()=>{const{lines:e}=this.props;if(e){const e=this.logPaneRef.current;e&&e.scrollTo&&e.scrollTo({top:e.scrollHeight})}})),(0,n.default)(this,"onScroll",(e=>{const{userScrolled:t}=this.state,a=e.target,l=a.scrollHeight-a.clientHeight-a.scrollTop;!t&&l>20&&this.isPageVisible&&this.isShown()&&this.setState({userScrolled:!0}),t&&l<=20&&this.setState({userScrolled:!1})})),(0,n.default)(this,"onFullscreenChange",(()=>{const{userScrolled:e}=this.state,t=d.default.isFullscreen;this.setState({isFullScreen:t}),e||this.scrollToEnd()})),(0,n.default)(this,"onVisibilityChange",(()=>{null!==this.updateTimer&&window.clearInterval(this.updateTimer),this.isPageVisible="visible"===document.visibilityState,this.isShown()&&(this.isPageVisible?(this.updateTimer=window.setInterval(this.update,2e3),this.update()):this.updateTimer=window.setInterval(this.update,15e3))})),(0,n.default)(this,"update",(()=>{const{getLogs:e,cluster:t,lines:a,len:l,logType:n,pending:r,errorCode:s}=this.props;if(!r&&403!==s){const r=t.state!==p.default.UNINSTALLING?"install":"uninstall";let s=a?l:0;n!==r&&(s=0),e(t.id,s,r)}})),(0,n.default)(this,"fullScreen",(()=>{const{userScrolled:e}=this.state;if(d.default.isFullscreen)d.default.exit().then((()=>{this.setState({isFullScreen:!1})}));else{const t=this.cardRef.current;d.default.request(t).then((()=>{e||setTimeout((()=>{this.scrollToEnd()}),100),this.setState({isFullScreen:!0})}))}})),this.logPaneRef=r.default.createRef(),this.cardRef=r.default.createRef()}componentDidMount(){this.isShown()&&(this.update(),this.updateTimer=window.setInterval(this.update,2e3)),d.default.isEnabled&&d.default.on("change",this.onFullscreenChange),document.addEventListener("visibilitychange",this.onVisibilityChange),this.isPageVisible="visible"===document.visibilityState}shouldComponentUpdate(e,t){return t.userScrolled!==this.state.userScrolled||t.isExpanded!==this.state.isExpanded||t.isFullScreen!==this.state.isFullScreen||e.lines!==this.props.lines||e.cluster.state!==this.props.cluster.state||e.cluster.id!==this.props.cluster.id||e.errorCode!==this.props.errorCode||e.logType!==this.props.logType||e.isExpandable!==this.props.isExpandable}componentDidUpdate(e,t){const{lines:a,errorCode:l,cluster:n}=this.props,{isExpanded:r}=this.state;!e.lines&&a&&this.setState({userScrolled:!1}),(403!==e.errorCode&&403===l||n.state===p.default.ERROR)&&null!==this.updateTimer&&window.clearInterval(this.updateTimer),r!==t.isExpanded&&(r&&this.setState({userScrolled:!1}),this.onVisibilityChange())}componentWillUnmount(){const{clearLogs:e}=this.props;null!==this.updateTimer&&window.clearInterval(this.updateTimer),d.default.isEnabled&&d.default.off("change",this.onFullscreenChange),document.removeEventListener("visibilitychange",this.onVisibilityChange),e(),d.default.isFullscreen&&d.default.exit()}render(){const{lines:e,len:t,errorCode:a,cluster:l,isExpandable:n}=this.props,{userScrolled:s,isFullScreen:m,isExpanded:f}=this.state,E=e?t-1:0;let g;!s&&E&&this.isShown()&&requestAnimationFrame(this.scrollToEnd),g=l.state===p.default.UNINSTALLING?403===a?c.metricsStatusMessages.uninstalling:"Cluster uninstallation has started. Uninstallation log will appear here once it becomes available.":403===a?c.metricsStatusMessages.installing:"Cluster installation has started. Installation log will appear here once it becomes available.";const h=r.default.createElement("div",{className:(0,u.default)("log-window-container",!!E&&"log-window-container--with-lines"),ref:this.cardRef},!!E&&d.default.isEnabled&&r.default.createElement("div",{className:"logview-buttons"},r.default.createElement(o.Button,{onClick:this.fullScreen,variant:"link",icon:r.default.createElement(i.ExpandIcon,null)},m?"Exit full screen":"Full screen")),E?r.default.createElement("div",{className:"log-window"},r.default.createElement("div",{className:"log-window__header"},E," lines"),r.default.createElement("div",{className:"log-window__body"},r.default.createElement("div",{className:"log-window__scroll-pane",ref:this.logPaneRef,onScroll:this.onScroll},r.default.createElement("div",{className:"log-window__contents"},e||"")))):l.state!==p.default.ERROR&&r.default.createElement("p",{className:"pf-v5-u-mt-sm"},g));return n?r.default.createElement(o.ExpandableSection,{id:"toggle-logs",toggleTextCollapsed:"View logs",toggleTextExpanded:"Hide logs",onToggle:(e,t)=>this.toggleExpanded(t),isExpanded:f,isActive:!m},h):h}}m.propTypes={isExpandable:s.default.bool,clearLogs:s.default.func.isRequired,getLogs:s.default.func.isRequired,pending:s.default.bool,lines:s.default.string,len:s.default.number,logType:s.default.oneOf(["install","uninstall"]),cluster:s.default.shape({id:s.default.string,state:s.default.string}),errorCode:s.default.number},t.default=m},45913:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Object.defineProperty(t,"shouldShowLogs",{enumerable:!0,get:function(){return o.default}});var n=a(66338),r=l(a(27825)),s=a(47290),o=l(a(99559));const i={clearLogs:s.clearLogs,getLogs:s.getLogs};t.default=(0,n.connect)((e=>({lines:e.logs.lines,len:e.logs.len,pending:e.logs.pending,errorCode:e.logs.errorCode,logType:e.logs.logType})),i)(r.default)},99559:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(59231));t.default=e=>e.managed&&e.canEdit&&(e.state===n.default.WAITING||e.state===n.default.PENDING||e.state===n.default.INSTALLING||e.state===n.default.VALIDATING||e.state===n.default.ERROR||e.state===n.default.UNINSTALLING)},46542:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(27361)),s=l(a(45697)),o=l(a(28416)),i=a(65652),u=D(a(84896)),d=a(19953),c=a(52758),p=a(38352),m=a(12468),f=D(a(24501)),E=l(a(30832)),g=l(a(12622)),h=l(a(75093)),v=a(17074),b=D(a(59231)),_=a(42957),S=l(a(92241)),C=l(a(87066)),y=l(a(13734)),O=l(a(11238)),I=l(a(44123)),R=l(a(26914)),T=a(45913),A=l(a(39759));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(58624);const{AssistedInstallerDetailCard:w,AssistedInstallerExtraDetailCard:M}=u,k=(0,E.default)(w,p.ASSISTED_INSTALLER_FEATURE,(()=>!1)),x=(0,E.default)(M,p.ASSISTED_INSTALLER_FEATURE,(()=>!1));class j extends o.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{showInstallSuccessAlert:!1})}componentDidUpdate(e){const{cluster:t}=this.props;e.cluster.state!==b.default.INSTALLING&&e.cluster.state!==b.default.PENDING&&e.cluster.state!==b.default.WAITING||t.state!==b.default.READY||!t.managed||e.cluster.id!==t.id||this.setState({showInstallSuccessAlert:!0})}render(){const{cluster:e,cloudProviders:t,refresh:a,openModal:l,insightsData:n,userAccess:s,hasNetworkOndemand:u}=this.props;let p;const{showInstallSuccessAlert:E}=this.state,P=(0,r.default)(e,"subscription.status",!1)===c.subscriptionStatuses.ARCHIVED,D=(0,r.default)(e,"subscription.status",!1)===c.subscriptionStatuses.DEPROVISIONED,N=(0,_.hasResourceUsageMetrics)(e)&&(e.canEdit||e.state!==b.default.WAITING&&e.state!==b.default.PENDING&&e.state!==b.default.INSTALLING),w=P?v.metricsStatusMessages.archived:v.metricsStatusMessages[e.state]||v.metricsStatusMessages.default,M=e.state===b.default.WAITING||e.state===b.default.PENDING||e.state===b.default.INSTALLING||e.state===b.default.ERROR||e.state===b.default.UNINSTALLING||(0,b.hasInflightEgressErrors)(e)&&u,j=`${d.HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY}_${e.id}`,F=!(0,b.hasInflightEgressErrors)(e)&&e.state!==b.default.ERROR&&"true"===localStorage.getItem(j),G=!(0,m.isRestrictedEnv)()&&200===(null==n?void 0:n.status)&&(null==n?void 0:n.data)&&!D&&!P,U=!((0,b.isHibernating)(e)||(0,f.default)(e.subscription)||(0,T.shouldShowLogs)(e)||D||P||(0,m.isRestrictedEnv)()||(0,b.hasInflightEgressErrors)(e)),V=!e.managed&&s.fulfilled&&void 0!==s.data&&!0===s.data&&!D&&!P,H=G||V,z=(0,f.isAvailableAssistedInstallCluster)(e),W=!e.aiCluster||!(0,f.isUninstalledAICluster)(e),q=!D&&!P;(0,b.isHibernating)(e)?p=o.default.createElement(g.default,{cluster:e,openModal:l}):e&&!(0,f.default)(e.subscription)&&((0,T.shouldShowLogs)(e)||(0,b.hasInflightEgressErrors)(e))&&(p=o.default.createElement(S.default,{cluster:e}));const B=o.default.createElement(i.Card,{className:"ocm-c-overview-resource-usage__card","data-testid":"resource-usage"},o.default.createElement(i.CardTitle,{className:"ocm-c-overview-resource-usage__card--header"},o.default.createElement(i.Title,{headingLevel:"h2",className:"card-title"},"Resource usage")),o.default.createElement(i.CardBody,{className:"ocm-c-overview-resource-usage__card--body"},o.default.createElement(h.default,{metricsAvailable:N,metricsStatusMessage:w,cpu:{used:e.metrics.cpu.used,total:e.metrics.cpu.total},memory:{used:e.metrics.memory.used,total:e.metrics.memory.total},type:"threshold"})));return o.default.createElement(i.Grid,{hasGutter:!0},o.default.createElement(i.GridItem,{xl2:H?9:12},o.default.createElement(i.Grid,{hasGutter:!0},E&&o.default.createElement(i.Alert,{variant:"success",isInline:!0,title:"Cluster installed successfully"}),F&&o.default.createElement(i.Alert,{variant:"success",isInline:!0,title:"This cluster can now be fully-managed",actionClose:o.default.createElement(i.AlertActionCloseButton,{onClose:()=>{localStorage.removeItem(j),a()}})}),M&&o.default.createElement(C.default,{refresh:a,cluster:e}),p,z&&o.default.createElement(k,{permissions:(0,b.getClusterAIPermissions)(e),aiClusterId:e.aiCluster.id}),U&&!H&&B,W&&o.default.createElement(i.Card,{className:"ocm-c-overview-details__card"},o.default.createElement(i.CardTitle,{className:"ocm-c-overview-details__card--header"},o.default.createElement(i.Title,{headingLevel:"h2",className:"card-title"},"Details")),o.default.createElement(i.CardBody,{className:"ocm-c-overview-details__card--body"},o.default.createElement(i.Grid,null,o.default.createElement(i.GridItem,{sm:6},o.default.createElement(O.default,{cluster:e,cloudProviders:t,showAssistedId:z})),o.default.createElement(i.GridItem,{sm:6},o.default.createElement(I.default,{cluster:L({},e),isDeprovisioned:D}))),z&&o.default.createElement(x,null))),q&&o.default.createElement(A.default,null))),H&&o.default.createElement(i.GridItem,{xl2:3},o.default.createElement(i.Grid,{hasGutter:!0},U&&o.default.createElement(i.GridItem,{sm:6,xl2:12},B),G&&o.default.createElement(i.GridItem,{sm:6,xl2:12},o.default.createElement(i.Card,{className:"ocm-c-overview-advisor--card",ouiaId:"insightsAdvisor","data-testid":"insights-advisor"},o.default.createElement(i.CardBody,null,o.default.createElement(R.default,{insightsData:n,externalId:null==e?void 0:e.external_id})))),V&&o.default.createElement(i.GridItem,{sm:6,xl2:12},o.default.createElement(y.default,{clusterId:e.external_id})))))}}j.propTypes={cluster:s.default.object,cloudProviders:s.default.object.isRequired,refresh:s.default.func,hasNetworkOndemand:s.default.bool,openModal:s.default.func.isRequired,insightsData:s.default.object,userAccess:s.default.shape({data:s.default.bool,pending:s.default.bool,fulfilled:s.default.bool}).isRequired},t.default=j},35725:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(27361)),o=a(65652),i=a(43047),u=a(69957),d=a(52758),c=l(a(42517));function p(e){let{subscription:t,openModal:a,canEdit:l=!1,canSubscribeOCP:r=!1}=e;if((0,s.default)(t,"plan.type")!==d.normalizedProducts.OCP)return null;const p=(0,s.default)(t,"status"),m=l&&p!==d.subscriptionStatuses.ARCHIVED&&p!==d.subscriptionStatuses.DEPROVISIONED,f=(0,s.default)(t,d.subscriptionSettings.SUPPORT_LEVEL,"Not set");let E=f,g=null;f===d.subscriptionSupportLevels.EVAL?(E="Self-Support 60-day evaluation",m&&(g=n.default.createElement(u.ExclamationTriangleIcon,{className:"subscription-settings warning-title-icon"}))):f===d.subscriptionSupportLevels.NONE&&(E="Evaluation expired",m&&(g=n.default.createElement(i.ExclamationCircleIcon,{className:"subscription-settings danger-title-icon"})));const h=(0,s.default)(t,d.subscriptionSettings.CLUSTER_BILLING_MODEL);let v="Not set";h===d.billingModels.STANDARD?v="Annual: Fixed capacity subscription from Red Hat":h===d.billingModels.MARKETPLACE&&(v="On-Demand (Hourly)");const b=(0,s.default)(t,d.subscriptionSettings.USAGE,"Not set"),_=(0,s.default)(t,d.subscriptionSettings.SERVICE_LEVEL);let S="Not set";_===d.subscriptionServiceLevels.L1_L3?S="Red Hat support (L1-L3)":_===d.subscriptionServiceLevels.L3_ONLY&&(S="Partner support (L3)");const C=(0,s.default)(t,d.subscriptionSettings.CPU_TOTAL,void 0),y=`${C} core${1===C?"":"s"}`,O=(0,s.default)(t,d.subscriptionSettings.SOCKET_TOTAL,void 0),I=`${O} socket${1===O?"":"s"}`;let R=(0,s.default)(t,d.subscriptionSettings.SYSTEM_UNITS,void 0);void 0===R&&(R=void 0!==C?d.subscriptionSystemUnits.CORES_VCPU:void 0!==O?d.subscriptionSystemUnits.SOCKETS:"Not set");let T="Not set";R===d.subscriptionSystemUnits.SOCKETS&&void 0!==O?T="Sockets":R===d.subscriptionSystemUnits.CORES_VCPU&&void 0!==C&&(T="Cores or vCPUs");const A=void 0!==C||void 0!==O,P=R===d.subscriptionSystemUnits.SOCKETS?"Number of compute sockets":"Number of compute cores",D=R===d.subscriptionSystemUnits.SOCKETS?I:y;return n.default.createElement(o.Card,{className:"ocm-c-overview-subscription-settings__card"},n.default.createElement(o.CardTitle,{className:"ocm-c-overview-subscription-settings__card--header"},n.default.createElement(o.Title,{headingLevel:"h2",className:"card-title"},"Subscription settings",g)),!r&&n.default.createElement(o.CardBody,null,n.default.createElement(o.Alert,{id:"subscription-settings-contact-sales-alert",variant:"info",isInline:!0,title:"Your organization doesn't have an active subscription. Purchase an OpenShift subscription by contacting sales."},n.default.createElement(c.default,{href:"https://www.redhat.com/en/contact"},"Contact sales"))),n.default.createElement(o.CardBody,{className:"ocm-c-overview-subscription-settings__card--body"},n.default.createElement(o.Grid,null,n.default.createElement(o.GridItem,{md:6},n.default.createElement(o.DescriptionList,null,n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Subscription type"),n.default.createElement(o.DescriptionListDescription,null,v)),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Service level agreement (SLA)"),n.default.createElement(o.DescriptionListDescription,null,E)),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Support type"),n.default.createElement(o.DescriptionListDescription,null,S),m&&n.default.createElement(o.DescriptionListDescription,{class:"pf-v5-u-mt-lg"},n.default.createElement(o.Button,{variant:"link",isDisabled:!r,isInline:!0,onClick:()=>{a("edit-subscription-settings",{subscription:t})}},"Edit subscription settings"))))),n.default.createElement(o.GridItem,{md:6},n.default.createElement(o.DescriptionList,null,n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Cluster usage"),n.default.createElement(o.DescriptionListDescription,null,b)),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Subscription units"),n.default.createElement(o.DescriptionListDescription,null,T)),A&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,P),n.default.createElement(o.DescriptionListDescription,null,D)))))))}p.propTypes={subscription:r.default.object.isRequired,canEdit:r.default.bool.isRequired,canSubscribeOCP:r.default.bool.isRequired,openModal:r.default.func.isRequired},t.default=p},39759:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(27361)),s=a(7046),o=l(a(35725)),i=l(a(70826));const u={openModal:s.modalActions.openModal};t.default=(0,n.connect)((e=>({canEdit:(0,r.default)(e,"clusters.details.cluster.canEdit",!1),canSubscribeOCP:(0,i.default)(e),subscription:(0,r.default)(e,"clusters.details.cluster.subscription",{})})),u)(o.default)},62116:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(69573)),o=l(a(69066));a(1238);class i extends n.default.Component{componentDidMount(){const{fulfilled:e,pending:t,getSupportStatus:a}=this.props;e||t||a()}render(){const{pending:e,error:t,supportStatus:a,clusterVersion:l}=this.props;if(e)return n.default.createElement(s.default,{className:"inline-skeleton",size:"sm"});const r=a[l.split(".",2).join(".")];return l&&"N/A"!==l&&!t&&r&&/^[4-6]\.\d{1,3}(\.\d{1,3})?$/.test(l)?n.default.createElement(o.default,{status:r}):"N/A"}}i.propTypes={pending:r.default.bool,error:r.default.bool,fulfilled:r.default.bool,supportStatus:r.default.objectOf(r.default.string),clusterVersion:r.default.string,getSupportStatus:r.default.func},i.defaultProps={supportStatus:{}},t.default=i},60470:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(62116));const s={getSupportStatus:l(a(28827)).default};t.default=(0,n.connect)((e=>({lines:e.logs.lines,fulfilled:e.supportStatus.fulfilled,pending:e.supportStatus.pending,error:e.supportStatus.error,supportStatus:e.supportStatus.supportStatus})),s)(r.default)},28827:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(12845)),r=l(a(85384));t.default=()=>e=>e({type:n.default,payload:(0,r.default)()})},12845:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="GET_SUPPORT_STATUS"},16338:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(38416)),r=l(a(27361)),s=a(25684),o=a(52220),i=l(a(12845));function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c=d(d({},o.baseRequestState),{},{supportStatus:{}});t.ZP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,s.produce)(e,(e=>{switch(t.type){case(0,o.REJECTED_ACTION)(i.default):return d(d({},c),{},{error:!0});case(0,o.PENDING_ACTION)(i.default):e.pending=!0;break;case(0,o.FULFILLED_ACTION)(i.default):return d(d({},c),{},{fulfilled:!0,supportStatus:(0,r.default)(t.payload,"data.data[0].versions",[]).reduce(((e,t)=>(e[t.name]=t.type,e)),{})})}}))}},36446:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(27361)),o=a(65652),i=a(36377),u=a(52758),d=l(a(52069)),c=a(31125),p=l(a(76490));function m(e){let{cluster:t,openModal:a,canSubscribeOCP:l=!1}=e;const r=(0,s.default)(t,"subscription");if((0,s.default)(r,"plan.type")!==u.normalizedProducts.OCP)return null;const m=(0,s.default)(r,"support_level");if(m!==u.subscriptionSupportLevels.EVAL&&m!==u.subscriptionSupportLevels.NONE)return null;const f=(0,s.default)(r,"status");if(f===u.subscriptionStatuses.ARCHIVED||f===u.subscriptionStatuses.DEPROVISIONED)return null;const E=(0,c.getSubscriptionLastReconciledDate)(r),g=(0,d.default)(t),h=E?n.default.createElement("p",null,"Last checked:",E):"",v=l?n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Button,{variant:"link",isInline:!0,onClick:()=>{a("edit-subscription-settings",{subscription:r})}},"Edit subscription settings")," for non-evaluation use. "):n.default.createElement(n.default.Fragment,null,n.default.createElement("a",{href:"https://www.redhat.com/en/contact",target:"_blank",rel:"noreferrer noopener"},"Contact sales")," to purchase an OpenShift subscription."),b=n.default.createElement(n.default.Fragment,null,"The cluster owner or an Organization Administrator can edit subscription settings for non-evaluation use.");return m===u.subscriptionSupportLevels.NONE?n.default.createElement(o.Alert,{className:"subscription-settings compliancy-alert pf-v5-u-mt-md",isInline:!0,variant:"danger",title:"Your 60-day OpenShift evaluation has expired"},h,n.default.createElement("p",null,"Your cluster is not supported and you may stop receiving updates."," ",t.canEdit?n.default.createElement(n.default.Fragment,null,v," ",n.default.createElement(o.Button,{variant:"link",isInline:!0,onClick:()=>{const e={subscriptionID:(0,s.default)(r,"id"),name:g};a(p.default.ARCHIVE_CLUSTER,e)}},"Archive this cluster")," if it no longer exists. "):b)):n.default.createElement(o.Alert,{className:"subscription-settings compliancy-alert pf-v5-u-mt-md",isInline:!0,variant:"warning",title:"OpenShift evaluation expiration date"},h,n.default.createElement("p",null,"Your OpenShift evaluation will expire at",n.default.createElement(i.DateFormat,{date:r.eval_expiration_date,type:"onlyDate"}),".",t.canEdit?v:b))}m.propTypes={cluster:r.default.shape({creation_timestamp:r.default.string,canEdit:r.default.bool}),openModal:r.default.func.isRequired,canSubscribeOCP:r.default.bool.isRequired},t.default=m},79606:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(52758),i=l(a(23959)),u=l(a(15469)),d=l(a(92369));a(97710);const c=e=>{let{clusterCreator:t,subscriptionID:a,canEdit:l,openModal:r,notificationContacts:c,deleteContactResponse:p,addContactResponse:m,getNotificationContacts:f,hasContacts:E,deleteNotificationContact:g,clearDeleteNotificationContacts:h,clearNotificationContacts:v,addNotificationToaster:b,product:_,isDisabled:S=!1}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Card,{className:"ocm-c-support-notification-contacts__card"},n.default.createElement(s.CardTitle,{className:"ocm-c-support-notification-contacts__card--header"},"Notification contacts"),n.default.createElement(s.CardBody,{className:"ocm-c-support-notification-contacts__card--body"},n.default.createElement("div",{className:"support-subtitle"},"Add users to be contacted in the event of notifications about this cluster.",(e=>{const t=null==e?void 0:e.email;return t?n.default.createElement(n.default.Fragment,null,n.default.createElement("br",null),"The cluster owner will always receive notifications, at email address <",t,"> , in addition to this list of notification contacts."):null})(t)),!S&&n.default.createElement(d.default,{canEdit:l,openModal:r}),n.default.createElement(i.default,{subscriptionID:a,isDisabled:!l||S,notificationContacts:c,deleteContactResponse:p,addContactResponse:m,getNotificationContacts:f,hasContacts:E,deleteNotificationContact:g,clearDeleteNotificationContacts:h,clearNotificationContacts:v,addNotificationToaster:b}))),_!==o.normalizedProducts.RHOIC?n.default.createElement(s.Card,{className:"ocm-c-support-support-cases__card"},n.default.createElement(s.CardTitle,{className:"ocm-c-support-support-cases__card--header"},"Support cases"),n.default.createElement(s.CardBody,{className:"ocm-c-support-support-cases__card--body"},n.default.createElement(u.default,{subscriptionID:a,isDisabled:S}))):null)};c.propTypes={subscriptionID:r.default.string.isRequired,canEdit:r.default.bool.isRequired,clusterCreator:r.default.object.isRequired,notificationContacts:r.default.object.isRequired,deleteContactResponse:r.default.object.isRequired,addContactResponse:r.default.object.isRequired,getNotificationContacts:r.default.func.isRequired,hasContacts:r.default.bool.isRequired,deleteNotificationContact:r.default.func.isRequired,clearDeleteNotificationContacts:r.default.func.isRequired,clearNotificationContacts:r.default.func.isRequired,addNotificationToaster:r.default.func.isRequired,openModal:r.default.func.isRequired,product:r.default.string,isDisabled:r.default.bool},t.default=c},52163:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SupportConstants=void 0;var n=l(a(61810)),r=a(52220);const s="GET_NOTIFICATION_CONTACTS",o="ADD_NOTIFICATION_CONTACT",i="DELETE_NOTIFICATION_CONTACT",u="NOTIFICATION_CONTACTS",d="GET_SUPPORT_CASES",c=(t.SupportConstants={GET_NOTIFICATION_CONTACTS:s,ADD_NOTIFICATION_CONTACT:o,DELETE_NOTIFICATION_CONTACT:i,NOTIFICATION_CONTACTS:u,GET_SUPPORT_CASES:d},{clearNotificationContacts:()=>e=>e({type:(0,r.INVALIDATE_ACTION)(u)}),clearAddNotificationContacts:()=>e=>e({type:(0,r.INVALIDATE_ACTION)(o)}),clearDeleteNotificationContacts:()=>e=>e({type:(0,r.INVALIDATE_ACTION)(i)}),getNotificationContacts:e=>({type:s,payload:n.default.getNotificationContacts(e),meta:{subscriptionID:e}}),addNotificationContact:(e,t)=>a=>a({type:o,payload:n.default.addNotificationContact(e,t)}),deleteNotificationContact:(e,t)=>a=>a({type:i,accountID:t,payload:n.default.deleteNotificationContact(e,t),meta:("Notification contact deleted successfully",{notifications:{fulfilled:{variant:"success",title:"Notification contact deleted successfully",dismissDelay:8e3,dismissable:!1}}})}),getSupportCases:e=>({type:d,payload:n.default.getSupportCases(e),meta:{subscriptionID:e}})});t.default=c},14115:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(38416)),r=a(25684),s=a(52220),o=a(52163),i=a(34693);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={notificationContacts:d(d({},s.baseRequestState),{},{contacts:[],clusterID:""}),deleteContactResponse:d({},s.baseRequestState),addContactResponse:d({},s.baseRequestState),supportCases:d(d({},s.baseRequestState),{},{cases:[],clusterID:""})};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{var a,l,n,r,u,p;let m,f,E;switch(t.type){case(0,s.PENDING_ACTION)(o.SupportConstants.GET_NOTIFICATION_CONTACTS):e.notificationContacts.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.SupportConstants.GET_NOTIFICATION_CONTACTS):f=(null===(a=t.payload)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.items)||[],e.notificationContacts=d(d({},s.baseRequestState),{},{fulfilled:!0,subscriptionID:null===(l=t.meta)||void 0===l?void 0:l.subscriptionID,contacts:f.map((e=>({userID:e.id,username:e.username,email:e.email,firstName:e.first_name,lastName:e.last_name})))});break;case(0,s.REJECTED_ACTION)(o.SupportConstants.GET_NOTIFICATION_CONTACTS):e.notificationContacts=d(d({},c.notificationContacts),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.SupportConstants.DELETE_NOTIFICATION_CONTACT):e.deleteContactResponse.pending=!0,e.deleteContactResponse.accountID=t.accountID;break;case(0,s.FULFILLED_ACTION)(o.SupportConstants.DELETE_NOTIFICATION_CONTACT):e.deleteContactResponse.pending=!1,e.deleteContactResponse.fulfilled=!0,e.notificationContacts.contacts=e.notificationContacts.contacts.filter((t=>t.userID!==e.deleteContactResponse.accountID));break;case(0,s.REJECTED_ACTION)(o.SupportConstants.DELETE_NOTIFICATION_CONTACT):e.deleteContactResponse=d({pending:!1,fulfilled:!1},(0,i.getErrorState)(t));break;case(0,s.INVALIDATE_ACTION)(o.SupportConstants.DELETE_NOTIFICATION_CONTACT):e.deleteContactResponse=d({},s.baseRequestState);break;case(0,s.PENDING_ACTION)(o.SupportConstants.ADD_NOTIFICATION_CONTACT):e.addContactResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.SupportConstants.ADD_NOTIFICATION_CONTACT):e.addContactResponse.pending=!1,e.addContactResponse.fulfilled=!0,m=(null===(n=t.payload)||void 0===n?void 0:n.data)||[],m=Array.isArray(m)?m:[m],e.addContactResponse.count=m.length,m.forEach((t=>e.notificationContacts.contacts.push({userID:t.id,username:t.username,email:t.email,firstName:t.first_name,lastName:t.last_name})));break;case(0,s.REJECTED_ACTION)(o.SupportConstants.ADD_NOTIFICATION_CONTACT):e.addContactResponse=d({pending:!1,fulfilled:!1},(0,i.getErrorState)(t)),e.addContactResponse.errorMessage=(null===(r=t.payload)||void 0===r||null===(r=r.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.reason)||e.addContactResponse.errorMessage;break;case(0,s.INVALIDATE_ACTION)(o.SupportConstants.ADD_NOTIFICATION_CONTACT):e.addContactResponse=d({},s.baseRequestState);break;case(0,s.PENDING_ACTION)(o.SupportConstants.GET_SUPPORT_CASES):e.supportCases.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.SupportConstants.GET_SUPPORT_CASES):E=(null===(u=t.payload)||void 0===u||null===(u=u.data)||void 0===u||null===(u=u.response)||void 0===u?void 0:u.docs)||[],e.supportCases=d(d({},s.baseRequestState),{},{fulfilled:!0,subscriptionID:null===(p=t.meta)||void 0===p?void 0:p.subscriptionID,cases:E.map((e=>({summary:e.case_summary,caseID:e.case_number,ownerID:e.case_owner,severity:e.case_severity,status:e.case_status,lastModifiedBy:e.case_lastModifiedByName,lastModifiedDate:e.case_lastModifiedDate})))});break;case(0,s.REJECTED_ACTION)(o.SupportConstants.GET_SUPPORT_CASES):e.supportCases=d(d({},c.supportCases),(0,i.getErrorState)(t));break;case(0,s.INVALIDATE_ACTION)(o.SupportConstants.NOTIFICATION_CONTACTS):return c}}))}p.initialState=c,t.ZP=p},92369:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(26746));const o=e=>{let{canEdit:t,openModal:a}=e;return n.default.createElement(s.default,{disableReason:t?null:"You do not have permission to add a Notification Contact. Only cluster owners, cluster editors, and Organization Administrators can add them.",onClick:()=>a("add-notification-contact"),variant:"secondary",className:"access-control-add"},"Add notification contact")};o.propTypes={canEdit:r.default.bool.isRequired,openModal:r.default.func.isRequired},t.default=o},64794:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(65652),i=a(12812),u=l(a(25967)),d=a(90181);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const p={userName:"",userNameTouched:!1};class m extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"state",p),(0,n.default)(this,"onUpdate",(e=>this.setState(e))),(0,n.default)(this,"setUserNameValue",(e=>{this.onUpdate({userName:e,userNameTouched:!0})})),(0,n.default)(this,"cancelAddUser",(()=>{const{clearAddNotificationContacts:e,closeModal:t}=this.props;this.onUpdate(p),e(),t()}))}componentDidUpdate(){const{addContactResponse:e,clearAddNotificationContacts:t,closeModal:a}=this.props;e.fulfilled&&(a(),t(),this.onUpdate(p))}render(){const{isAddNotificationContactModalOpen:e,addNotificationContact:t,addContactResponse:a,subscriptionID:l}=this.props,{userName:n,userNameTouched:s}=this.state;if(!e)return null;const c=s?(0,d.validateRHITUsername)(n):a.errorMessage,p=()=>{c||(this.onUpdate({userNameTouched:!1}),t(l,n))};return r.default.createElement(u.default,{title:"Add notification contact",onClose:this.cancelAddUser,primaryText:"Add contact",secondaryText:"Cancel",onPrimaryClick:p,onSecondaryClick:this.cancelAddUser,isPrimaryDisabled:!!c||a.pending||""===n,isPending:a.pending},r.default.createElement("p",{className:"pf-v5-u-mb-xl"},"Identify the user to be added as notification contact. These users will be contacted in the event of notifications about this cluster."),r.default.createElement(o.Form,{className:"control-form-cursor",onSubmit:e=>{p(),e.preventDefault()}},r.default.createElement(o.FormGroup,{label:"Red Hat username or email",isRequired:!0,fieldId:"username"},r.default.createElement(o.TextInput,{value:n,isRequired:!0,id:"username",type:"text",validated:c?"error":"default",onChange:(e,t)=>this.setUserNameValue(t),"aria-label":"user name"}),r.default.createElement(i.FormGroupHelperText,{touched:!0,error:c}))))}}m.propTypes={isAddNotificationContactModalOpen:s.default.bool,closeModal:s.default.func.isRequired,clearAddNotificationContacts:s.default.func.isRequired,addContactResponse:s.default.object,addNotificationContact:s.default.func.isRequired,subscriptionID:s.default.string.isRequired},t.default=m},78863:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(7046),s=l(a(64794)),o=l(a(52163)),i=l(a(80338));t.default=(0,n.connect)((e=>{var t;const{cluster:a}=e.clusters.details,{addContactResponse:l}=e.clusterSupport;return{subscriptionID:null===(t=a.subscription)||void 0===t?void 0:t.id,isAddNotificationContactModalOpen:(0,i.default)(e,"add-notification-contact"),addContactResponse:l}}),(e=>({closeModal:()=>e((0,r.closeModal)()),clearAddNotificationContacts:()=>e(o.default.clearAddNotificationContacts()),addNotificationContact:(t,a)=>e(o.default.addNotificationContact(t,a))})))(s.default)},80749:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(64284),o=a(94648),i=a(65652),u=l(a(7749));class d extends n.default.Component{componentDidMount(){const{subscriptionID:e,notificationContacts:t,getNotificationContacts:a}=this.props;t.subscriptionID===e&&t.pending||a(e)}componentDidUpdate(e){const{subscriptionID:t,notificationContacts:a,deleteContactResponse:l,addContactResponse:n,getNotificationContacts:r,clearDeleteNotificationContacts:s,addNotificationToaster:o}=this.props;n.fulfilled&&e.addContactResponse.pending&&o({variant:"success",title:1===n.count?"Notification contact added successfully":`${n.count} notification contacts added successfully`,dismissDelay:8e3,dismissable:!1}),(l.fulfilled&&e.deleteContactResponse.pending||n.fulfilled&&e.addContactResponse.pending)&&!a.pending&&(s(),r(t))}componentWillUnmount(){const{clearNotificationContacts:e}=this.props;e()}render(){const{subscriptionID:e,isDisabled:t,hasContacts:a,notificationContacts:l,deleteContactResponse:r,deleteNotificationContact:d,clearDeleteNotificationContacts:c}=this.props;if(!a)return null;const p=[{title:"Delete",onClick:(t,a,l)=>{c(),d(e,l.userID)},className:"hand-pointer"}],m=a?l.contacts.map((e=>({cells:[e.username,e.email,e.firstName,e.lastName],userID:e.userID}))):[];return n.default.createElement(n.default.Fragment,null,r.error&&n.default.createElement(i.EmptyState,null,n.default.createElement(u.default,{message:"Error deleting Notification Contact",response:r})),n.default.createElement(o.Table,{"aria-label":"Notification Contacts",actions:p,variant:s.TableVariant.compact,cells:[{title:"Username"},{title:"Email"},{title:"First Name"},{title:"Last Name"}],rows:m,areActionsDisabled:()=>t},n.default.createElement(o.TableHeader,null),n.default.createElement(o.TableBody,null)))}}d.propTypes={subscriptionID:r.default.string.isRequired,isDisabled:r.default.bool.isRequired,notificationContacts:r.default.object.isRequired,deleteContactResponse:r.default.object.isRequired,addContactResponse:r.default.object.isRequired,getNotificationContacts:r.default.func.isRequired,hasContacts:r.default.bool.isRequired,deleteNotificationContact:r.default.func.isRequired,clearDeleteNotificationContacts:r.default.func.isRequired,clearNotificationContacts:r.default.func.isRequired,addNotificationToaster:r.default.func.isRequired},t.default=d},23959:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(53252),s=l(a(52163)),o=l(a(80749));t.default=(0,n.connect)((e=>{var t;const{cluster:a}=e.clusters.details,{notificationContacts:l={contacts:[],pending:!1,subscriptionID:""},deleteContactResponse:n,addContactResponse:r}=e.clusterSupport;return{subscriptionID:null===(t=a.subscription)||void 0===t?void 0:t.id,canEdit:a.canEdit,hasContacts:l.contacts.length>0,notificationContacts:l,addContactResponse:r,deleteContactResponse:n}}),(e=>({clearNotificationContacts:()=>e(s.default.clearNotificationContacts()),clearDeleteNotificationContacts:()=>e(s.default.clearDeleteNotificationContacts()),getNotificationContacts:t=>e(s.default.getNotificationContacts(t)),deleteNotificationContact:(t,a)=>e(s.default.deleteNotificationContact(t,a)),addNotification:t=>e((0,r.addNotification)(t))})))(o.default)},18432:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(27484)),o=a(65652),i=a(12468),u=a(64284),d=a(94648),c=a(52758);const p={OSD:"OpenShift Dedicated",ROSA:"Red Hat OpenShift Service on AWS",ARO:"OpenShift Managed (Azure)",OCP:"OpenShift Container Platform"},m=(e,t,a)=>{if((0,i.isRestrictedEnv)())return i.SUPPORT_CASE_URL;let l=t;return"OCP"!==e&&(l=encodeURIComponent(p[e])),`https://access.redhat.com/support/cases/#/case/new/open-case/describe-issue?clusterId=${a}&caseCreate=true&product=${encodeURIComponent(p[e])}&version=${l}`};class f extends n.default.Component{componentDidMount(){if(!(0,i.isRestrictedEnv)()){const{subscriptionID:e,supportCases:t,getSupportCases:a}=this.props;t.subscriptionID===e&&t.pending||a(e)}}render(){const{supportCases:e,clusterUUID:t,product:a,version:l,isDisabled:r=!1}=this.props,p=e.cases.map((e=>{const t=`https://access.redhat.com/support/cases/#/case/${e.caseID}`,a=n.default.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},e.caseID),l=s.default.utc(e.lastModifiedDate).format("D MMM YYYY"),r=n.default.createElement(n.default.Fragment,null,e.lastModifiedBy,n.default.createElement("br",null),l);return{cells:[a,e.summary,e.ownerID,r,e.severity,e.status],caseID:e.caseID}})),f=p.length>0,E=a!==c.normalizedProducts.OSDTrial&&!r;return n.default.createElement(n.default.Fragment,null,E&&n.default.createElement("a",{href:m(a,l,t),target:"_blank",rel:"noopener noreferrer","data-testid":"support-case-btn"},n.default.createElement(o.Button,{variant:"secondary"},"Open support case")),!(0,i.isRestrictedEnv)()&&n.default.createElement(n.default.Fragment,null,n.default.createElement(d.Table,{"aria-label":"Support Cases",variant:u.TableVariant.compact,cells:[{title:"Case ID"},{title:"Issue summary"},{title:"Owner"},{title:"Modified by"},{title:"Severity"},{title:"Status"}],rows:p,"data-testid":"support-cases-table"},n.default.createElement(d.TableHeader,null),n.default.createElement(d.TableBody,null)),!f&&n.default.createElement(o.EmptyState,{variant:o.EmptyStateVariant.sm},n.default.createElement(o.EmptyStateBody,null,"You have no open support cases"))))}}f.propTypes={subscriptionID:r.default.string.isRequired,clusterUUID:r.default.string.isRequired,product:r.default.string.isRequired,version:r.default.string.isRequired,supportCases:r.default.object.isRequired,getSupportCases:r.default.func.isRequired,isDisabled:r.default.bool},t.default=f},15469:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(52163)),s=l(a(18432));t.default=(0,n.connect)((e=>{var t,a;const{cluster:l}=e.clusters.details,{supportCases:n={cases:[],pending:!1,subscriptionID:""}}=e.clusterSupport;return{subscriptionID:null===(t=l.subscription)||void 0===t?void 0:t.id,clusterUUID:l.external_id,product:null===(a=l.subscription)||void 0===a||null===(a=a.plan)||void 0===a?void 0:a.type,version:l.openshift_version,supportCases:n}}),(e=>({getSupportCases:t=>e(r.default.getSupportCases(t))})))(s.default)},39149:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(53252),s=a(7046),o=l(a(80338)),i=l(a(52163)),u=l(a(79606));t.default=(0,n.connect)((e=>{var t,a,l;const{cluster:n}=e.clusters.details,{notificationContacts:r={contacts:[],pending:!1,subscriptionID:""},deleteContactResponse:s,addContactResponse:i}=e.clusterSupport;return{clusterCreator:null===(t=n.subscription)||void 0===t?void 0:t.creator,subscriptionID:null===(a=n.subscription)||void 0===a?void 0:a.id,canEdit:n.canEdit,hasContacts:r.contacts.length>0,notificationContacts:r,addContactResponse:i,deleteContactResponse:s,isAddNotificationContactModalOpen:(0,o.default)(e,"add-notification-contact"),product:null===(l=n.subscription)||void 0===l||null===(l=l.plan)||void 0===l?void 0:l.type}}),(e=>({clearNotificationContacts:()=>e(i.default.clearNotificationContacts()),clearDeleteNotificationContacts:()=>e(i.default.clearDeleteNotificationContacts()),getNotificationContacts:t=>e(i.default.getNotificationContacts(t)),deleteNotificationContact:(t,a)=>e(i.default.deleteNotificationContact(t,a)),openModal:t=>e((0,s.openModal)(t)),addNotificationContact:(t,a)=>e(i.default.addNotificationContact(t,a)),addNotificationToaster:t=>e((0,r.addNotification)(t))})))(u.default)},60248:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=l(a(74685)),u=l(a(80013)),d=l(a(52069)),c=l(a(28828)),p=l(a(7749)),m=l(a(76490)),f=l(a(84576));a(29813);var E=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(59231)),g=l(a(26746)),h=l(a(59253)),v=l(a(64489)),b=a(37455);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}class S extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{confirmationModalOpen:!1}),(0,n.default)(this,"closeConfirmationModal",(()=>{this.setState({confirmationModalOpen:!1})}))}componentDidMount(){const{getSchedules:e,cluster:t,upgradeScheduleRequest:a}=this.props;t.id&&!a.pending&&e(t.id,(0,E.isHypershiftCluster)(t))}componentDidUpdate(e){const{isAutomatic:t,schedules:a,pristine:l,getClusterDetails:n,editClusterRequest:r,cluster:s}=this.props,o=a.items.find((e=>"manual"===e.schedule_type&&"OSD"===e.upgrade_type));!e.isAutomatic&&t&&!l&&o&&this.setState({confirmationModalOpen:!0}),e.editClusterRequest.pending&&r.fulfilled&&n(s.subscription.id)}componentWillUnmount(){const{clearResponses:e}=this.props;e()}render(){var e,t,a;const{isAutomatic:l,handleSubmit:n,pristine:s,schedules:_,upgradeScheduleRequest:S,deleteScheduleRequest:C,editClusterRequest:y,reset:O,cluster:I,openModal:R,change:T,initialValues:A,clusterHibernating:P,isReadOnly:D,isAROCluster:N}=this.props,{confirmationModalOpen:L}=this.state,w=!_.fulfilled||S.pending,M=D&&"This operation is not available during maintenance",k=P&&"This operation is not available while cluster is hibernating",x=I.state!==E.default.READY&&"This cluster is not ready",j=s&&"No changes to save",F=M||k,G=(0,E.isHypershiftCluster)(I),U=(0,i.default)(I),V=_.items.find((e=>"manual"===e.schedule_type&&e.upgrade_type===(G?"ControlPlane":"OSD"))),H=_.items.find((e=>["manual","automatic"].includes(e.schedule_type)&&e.upgrade_type===(G?"ControlPlane":"OSD"))),z=null==I||null===(e=I.version)||void 0===e?void 0:e.available_upgrades,W=(!!I.openshift_version||!(null==I||null===(t=I.version)||void 0===t||!t.id))&&(null==z?void 0:z.length)>0&&!H&&!P,q=S.pending||C.pending||y.pending,B=r.default.createElement(g.default,{disableReason:F||j,isAriaDisabled:w,variant:"primary",onClick:n,isLoading:q},"Save"),$=r.default.createElement(g.default,{isDisabled:s,variant:"link",onClick:O},"Cancel"),Z=!!(M||k||x),Y=r.default.createElement(o.Alert,{variant:"info",className:"pf-v5-u-mb-md",isInline:!0,title:"Version updates will not occur while this cluster is Hibernating. Once resumed, updates will start according to the selected updates strategy."});return r.default.createElement(o.Grid,{hasGutter:!0,className:"ocm-c-upgrade-monitoring"},y.error&&r.default.createElement(o.GridItem,null,r.default.createElement(p.default,{response:y,message:"Error processing request"})),!N&&!G&&r.default.createElement(o.GridItem,null,r.default.createElement(o.Card,null,r.default.createElement(o.CardBody,null,r.default.createElement(f.default,{parent:"details",disableUVM:Z,planType:null===(a=I.subscription)||void 0===a||null===(a=a.plan)||void 0===a?void 0:a.type})))),r.default.createElement(o.GridItem,{lg:9,md:12,className:"ocm-c-upgrade-monitoring-top"},r.default.createElement(o.Card,null,r.default.createElement(o.CardTitle,null,"Update strategy"),r.default.createElement(o.CardBody,null,V&&L&&r.default.createElement(o.Modal,{variant:"small",title:"Recurring updates",isOpen:!0,onClose:()=>{this.closeConfirmationModal(),O()},actions:[r.default.createElement(o.Button,{key:"confirm",variant:"primary",onClick:this.closeConfirmationModal},"Yes, cancel scheduled update"),r.default.createElement(o.Button,{key:"cancel",variant:"secondary",onClick:()=>{this.closeConfirmationModal(),O()}},"No, keep scheduled update")]},"By choosing recurring updates, any individually scheduled update will be"," ","cancelled. Are you sure you want to continue?"),P&&Y,S.error&&r.default.createElement(p.default,{response:S,message:"Can't schedule upgrade"}),C.error&&r.default.createElement(p.default,{response:C,message:"Can't unschedule upgrade"}),r.default.createElement(v.default,null),r.default.createElement(h.default,null),r.default.createElement(b.UpdateAllMachinePools,{goToMachinePoolTab:!0}),r.default.createElement(o.Form,null,r.default.createElement(o.Grid,{hasGutter:!0},r.default.createElement(c.default,{isAutomatic:l,isDisabled:!!F,change:T,initialScheduleValue:A.automatic_upgrade_schedule,showDivider:!0,isHypershift:G})))),r.default.createElement(o.CardFooter,null,r.default.createElement(o.Flex,null,r.default.createElement(o.FlexItem,null,B),r.default.createElement(o.FlexItem,null,$))))),r.default.createElement(o.GridItem,{lg:3,md:12,className:"ocm-c-upgrade-monitoring-top"},r.default.createElement(o.Card,null,r.default.createElement(o.CardTitle,null,"Update status"),r.default.createElement(o.CardBody,null,r.default.createElement(u.default,{clusterID:I.id,canEdit:I.canEdit,clusterVersion:U,scheduledUpgrade:H,availableUpgrades:z,openModal:R}),W&&r.default.createElement(o.Button,{variant:"secondary",onClick:()=>R(m.default.UPGRADE_WIZARD,{clusterName:(0,d.default)(I),subscriptionID:I.subscription.id})},"Update")))))}}S.propTypes={pristine:s.default.bool,isAutomatic:s.default.bool,isAROCluster:s.default.bool,clusterHibernating:s.default.bool,isReadOnly:s.default.bool.isRequired,cluster:s.default.shape({canEdit:s.default.bool,openshift_version:s.default.string,id:s.default.string,subscription:s.default.shape({id:s.default.string,plan:s.default.shape({type:s.default.string})}),version:s.default.shape({channel_group:s.default.string,available_upgrades:s.default.arrayOf(s.default.string),raw_id:s.default.string,id:s.default.string}),state:s.default.string}),getSchedules:s.default.func.isRequired,getClusterDetails:s.default.func.isRequired,handleSubmit:s.default.func.isRequired,schedules:s.default.shape({fulfilled:s.default.bool,pending:s.default.bool,items:s.default.array}),upgradeScheduleRequest:s.default.shape({fulfilled:s.default.bool,pending:s.default.bool,error:s.default.bool}),deleteScheduleRequest:s.default.shape({pending:s.default.bool,error:s.default.bool}),editClusterRequest:s.default.shape({pending:s.default.bool,error:s.default.bool,fulfilled:s.default.bool}),reset:s.default.func,openModal:s.default.func,clearResponses:s.default.func,change:s.default.func,initialValues:s.default.shape({automatic_upgrade_schedule:s.default.string})},t.default=S},73826:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=a(66338),s=a(9104),o=l(a(41609)),i=l(a(27361)),u=a(52758),d=l(a(60248)),c=a(57572),p=a(70774),m=a(59231),f=a(7046);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const h=(0,s.reduxForm)({form:"ClusterUpgradeSettings",enableReinitialize:!0})(d.default),v=(0,s.formValueSelector)("ClusterUpgradeSettings");t.default=(0,r.connect)((e=>{var t,a;const l=e.clusterUpgrades.schedules.items.find((e=>"automatic"===e.schedule_type)),{cluster:n}=e.clusters.details;return{cluster:n,isAROCluster:(0,i.default)(n,"subscription.plan.type","")===u.knownProducts.ARO,clusterHibernating:(0,m.isHibernating)(n),isReadOnly:"read_only"===(null==n||null===(t=n.status)||void 0===t?void 0:t.configuration_mode),isAutomatic:"automatic"===v(e,"upgrade_policy"),schedules:e.clusterUpgrades.schedules,upgradeScheduleRequest:e.clusterUpgrades.postedUpgradeSchedule,deleteScheduleRequest:e.clusterUpgrades.deleteScheduleRequest,editClusterRequest:e.clusters.editedCluster,isHypershift:(0,m.isHypershiftCluster)(n),initialValues:{upgrade_policy:l?"automatic":"manual",automatic_upgrade_schedule:(null==l?void 0:l.schedule)||"0 0 * * 0",node_drain_grace_period:null===(a=n.node_drain_grace_period)||void 0===a?void 0:a.value,enable_user_workload_monitoring:!n.disable_user_workload_monitoring}}}),(e=>({clearResponses:()=>{e((0,c.clearPostedUpgradeScheduleResponse)()),e((0,c.clearDeleteScheduleResponse)()),e((0,p.clearClusterResponse)())},openModal:(t,a)=>e((0,f.openModal)(t,a)),getSchedules:(t,a)=>e((0,c.getSchedules)(t,a)),getClusterDetails:t=>e((0,p.fetchClusterDetails)(t)),onSubmit:(t,a,l,n,r,s)=>{const i=l.items.find((e=>"automatic"===e.schedule_type)),u=l.items.find((e=>"manual"===e.schedule_type));if("automatic"===t.upgrade_policy){if(i&&i!==t.automatic_upgrade_schedule)e((0,c.editSchedule)(a,i.id,{schedule:t.automatic_upgrade_schedule},s));else if(!i){const l={schedule_type:"automatic",schedule:t.automatic_upgrade_schedule};e(u?(0,c.replaceSchedule)(a,u.id,l,s):(0,c.postSchedule)(a,l,s))}}else i&&e((0,c.deleteSchedule)(a,i.id,s));const d={};n!==t.node_drain_grace_period&&(d.node_drain_grace_period={value:t.node_drain_grace_period}),r!==t.enable_user_workload_monitoring&&(d.disable_user_workload_monitoring=!t.enable_user_workload_monitoring),(0,o.default)(d)||e((0,p.editCluster)(a,d))}})),((e,t,a)=>g(g(g(g({},a),e),t),{},{getSchedules:(e,a)=>{t.getSchedules(e,a)},onSubmit:a=>{var l;t.onSubmit(a,e.cluster.id,e.schedules,null===(l=e.cluster.node_drain_grace_period)||void 0===l?void 0:l.value,!e.cluster.disable_user_workload_monitoring,e.isHypershift)}})))(h)},70418:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(8206),s=l(a(27361)),o=a(53252),i=a(96106),u=a(76727),d=a(92308),c=a(24653),p=a(38352),m=l(a(77455)),f=a(70774),E=a(9409),g=l(a(39687)),h=a(22115),v=a(23445),b=a(5498),_=a(7046),S=a(2046),C=a(1843),y=a(68944),O=a(60800),I=a(47042),R=a(57572),T=a(33174),A=a(70436),P=a(25670),D=l(a(70826)),N=a(59240),L=a(82364),w=a(59025),M=a(23961),k=l(a(52163)),x=a(89479),j=a(95612),F=a(18460);t.default=(0,n.connect)(((e,t)=>{var a;let{location:l}=t;const{details:n}=e.clusters,{cloudProviders:r,clusterRouters:o}=e,{addOns:u}=e.addOns,{clusterIdentityProviders:d}=e.identityProviders,{organization:c}=e.userProfile,{insightsData:m}=e.insightsData,{logs:f}=e.clusterLogs,{notificationContacts:E={pending:!1},supportCases:g={pending:!1}}=e.clusterSupport;return{cloudProviders:r,clusterDetails:n,addOns:u,clusterIdentityProviders:d,organization:c,displayClusterLogs:!!(0,s.default)(n,"cluster.external_id")||!(null==n||null===(a=n.cluster)||void 0===a||!a.id),clusterLogsViewOptions:e.viewOptions[T.viewConstants.CLUSTER_LOGS_VIEW],insightsData:m,logs:f,canSubscribeOCP:(0,D.default)(e),canTransferClusterOwnership:(0,N.canTransferClusterOwnershipSelector)(e),canHibernateCluster:(0,w.userCanHibernateClustersSelector)(e),anyModalOpen:!!e.modal.modalName,hasIssues:(0,L.issuesAndWarningsSelector)(e).issues.totalCount>0,initTabOpen:l.hash.replace("#",""),notificationContacts:E,supportCases:g,assistedInstallerEnabled:(0,i.featureGateSelector)(e,p.ASSISTED_INSTALLER_FEATURE),userAccess:e.cost.userAccess,gotRouters:(0,s.default)(o,"getRouters.routers.length",0)>0,upgradeGates:(0,j.getUpgradeGates)(e),useNodeUpgradePolicies:(0,i.featureGateSelector)(e,p.HCP_USE_NODE_UPGRADE_POLICIES),hasNetworkOndemand:(0,i.featureGateSelector)(e,p.NETWORK_VALIDATOR_ONDEMAND_FEATURE)}}),(e=>(0,r.bindActionCreators)({fetchDetails:f.fetchClusterDetails,fetchClusterInsights:A.fetchClusterInsights,getCloudProviders:h.cloudProviderActions.getCloudProviders,getOrganizationAndQuota:b.userActions.getOrganizationAndQuota,invalidateClusters:f.invalidateClusters,openModal:_.modalActions.openModal,closeModal:_.modalActions.closeModal,getClusterIdentityProviders:E.getClusterIdentityProviders,getUsers:g.default.getUsers,resetIdentityProvidersState:E.resetIdentityProvidersState,resetClusterHistory:O.clusterLogActions.resetClusterHistory,clearGlobalError:v.clearGlobalError,setGlobalError:v.setGlobalError,getOnDemandMetrics:S.getOnDemandMetrics,getAddOns:C.getAddOns,getClusterAddOns:C.getClusterAddOns,getGrants:y.getGrants,getClusterRouters:I.getClusterRouters,getMachineOrNodePools:P.getMachineOrNodePools,clearGetMachinePoolsResponse:P.clearGetMachinePoolsResponse,clearGetClusterAutoscalerResponse:c.clusterAutoscalerActions.clearClusterAutoscalerResponse,clearListVpcs:u.clearListVpcs,getClusterHistory:O.clusterLogActions.getClusterHistory,toggleSubscriptionReleased:M.toggleSubscriptionReleased,getNotificationContacts:k.default.getNotificationContacts,getSupportCases:k.default.getSupportCases,getSchedules:R.getSchedules,getUserAccess:x.getUserAccess,addNotification:o.addNotification,fetchUpgradeGates:F.fetchUpgradeGates,clearFiltersAndFlags:()=>(0,d.onClearFiltersAndFlags)(T.viewConstants.CLUSTER_LOGS_VIEW)},e)))(m.default)},63949:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(87558),o=a(71359),i=l(a(96343));const u=e=>{const{fetchSubscriptionIDForCluster:t,clearSubscriptionIDForCluster:a,subscriptionIDResponse:l,params:r,location:u,setGlobalError:d}=e;return n.default.useEffect((()=>(t(r.id),()=>{a()})),[a,t,r]),l.error?404===l.errorCode||403===l.errorCode?(d(n.default.createElement(n.default.Fragment,null,"Cluster with ID ",n.default.createElement("b",null,r.id)," was not found, it might have been deleted or you don't have permission to see it."),"clusterDetails",l.errorMessage),n.default.createElement(s.Navigate,{replace:!0,to:"/"})):n.default.createElement(i.default,{message:"Error retrieving cluster details",response:l}):l.fulfilled?n.default.createElement(s.Navigate,{replace:!0,to:`/details/s/${l.id}${u.hash}`}):n.default.createElement(o.Spinner,{centered:!0})};u.propTypes={params:r.default.shape({id:r.default.string.isRequired,reportId:r.default.string,errorKey:r.default.string}).isRequired,location:r.default.shape({hash:r.default.string.isRequired}).isRequired,fetchSubscriptionIDForCluster:r.default.func.isRequired,clearSubscriptionIDForCluster:r.default.func.isRequired,setGlobalError:r.default.func.isRequired,subscriptionIDResponse:r.default.shape({pending:r.default.bool,fulfilled:r.default.bool,error:r.default.bool,errorCode:r.default.number,errorMessage:r.default.string,id:r.default.string}).isRequired},t.default=u},31013:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(82069),s=a(23445),o=l(a(63949));const i={fetchSubscriptionIDForCluster:r.fetchSubscriptionIDForCluster,clearSubscriptionIDForCluster:r.clearSubscriptionIDForCluster,setGlobalError:s.setGlobalError};t.default=(0,n.connect)((e=>({subscriptionIDResponse:e.subscriptions.subscriptionID})),i)(o.default)},17773:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(84238)),s=l(a(41609)),o=l(a(45697)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),u=a(64171),d=l(a(71359)),c=a(65652),p=a(65996),m=a(27849),f=a(12468),E=a(19953),g=l(a(36297)),h=l(a(99326)),v=l(a(66981)),b=l(a(15077)),_=l(a(41291)),S=l(a(92339)),C=l(a(78211)),y=l(a(33014)),O=l(a(47092)),I=l(a(68641)),R=l(a(7749)),T=l(a(12766)),A=l(a(96343)),P=l(a(49276)),D=l(a(41086)),N=l(a(69429)),L=a(52758),w=a(56554),M=a(33174),k=a(38352);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}a(95930);const j="Clusters | Red Hat OpenShift Cluster Manager";class F extends i.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{loadingChangedView:!1}),(0,n.default)(this,"refresh",(()=>{const{fetchClusters:e,viewOptions:t,username:a}=this.props;e((0,w.createViewQueryObject)(t,a))}))}componentDidMount(){const{getCloudProviders:e,cloudProviders:t,setListFlag:a,getOrganizationAndQuota:l,organization:n,getMachineTypes:r,machineTypes:o,onListFlagsSet:i}=this.props;(0,f.isRestrictedEnv)()&&i("subscriptionFilter",{plan_id:[L.normalizedProducts.ROSA]},M.viewConstants.CLUSTERS_VIEW);const u=(0,w.getQueryParam)("plan_id")||"";if((0,s.default)(u))this.refresh();else{const e={};L.productFilterOptions.forEach((t=>{e[t.key]=!0})),a("subscriptionFilter",{plan_id:u.split(",").filter((t=>e[t]))})}t.fulfilled||t.pending||e(),o.fulfilled||o.pending||r(),n.fulfilled||n.pending||l()}componentDidUpdate(e){const{viewOptions:t,valid:a,pending:l,features:n}=this.props,r=n[k.ASSISTED_INSTALLER_MERGE_LISTS_FEATURE]!==e.features[k.ASSISTED_INSTALLER_MERGE_LISTS_FEATURE];(!a&&!l||r||(0,w.viewPropsChanged)(t,e.viewOptions))&&(this.setState({loadingChangedView:!0}),this.refresh()),e.pending&&!l&&this.setState({loadingChangedView:!1})}componentWillUnmount(){const{closeModal:e,clearGlobalError:t,clearClusterDetails:a}=this.props;e(),a(),t("clusterList")}render(){const{error:e,errorCode:t,errorDetails:a,valid:l,pending:n,clusters:s,viewOptions:o,setSorting:L,openModal:w,invalidateClusters:k,errorMessage:x,operationID:F,setClusterDetails:G,anyModalOpen:U,queryParams:V,canSubscribeOCPList:H,canTransferClusterOwnershipList:z,canHibernateClusterList:W,toggleSubscriptionReleased:q,meta:{clustersServiceError:B}}=this.props,{loadingChangedView:$}=this.state,{showMyClustersOnly:Z,subscriptionFilter:Y}=o.flags,K=!V.has_filters&&N.default.nestedIsEmpty(Y),Q=!(0,r.default)(s)&&n&&(K||!l),J=!Q&&n&&!$,X=Q||n&&$,ee=!Q&&!e&&!(0,r.default)(s)&&K&&!Z,te=s.map((e=>{var t;return null==e||null===(t=e.status)||void 0===t?void 0:t.configuration_mode})).includes("read_only"),ae=i.default.createElement(i.default.Fragment,null,i.default.createElement(g.default,{someReadOnly:te}),i.default.createElement(u.PageHeader,{id:"cluster-list-header"},i.default.createElement(u.PageHeaderTitle,{title:"Clusters",className:"page-title"}),i.default.createElement(p.PageHeaderTools,null,J&&i.default.createElement(d.default,{size:"lg",className:"cluster-list-spinner"}),e&&i.default.createElement(I.default,{errorMessage:x,className:"cluster-list-warning"})),i.default.createElement(O.default,{autoRefresh:!U,isDisabled:Q,refreshFunc:this.refresh,classOptions:"cluster-list-top"}))),le=!X;return ee?i.default.createElement(m.AppPage,{title:j},i.default.createElement(c.PageSection,null,i.default.createElement(T.default,null),i.default.createElement("div",{"data-ready":!0},i.default.createElement(C.default,null)))):i.default.createElement(m.AppPage,{title:j},ae,i.default.createElement(c.PageSection,null,i.default.createElement(c.Card,null,i.default.createElement("div",{className:"cluster-list","data-ready":le},i.default.createElement(T.default,null),B&&i.default.createElement(R.default,{variant:"warning",message:"Some operations are unavailable, try again later",response:B,isExpandable:!0}),i.default.createElement(c.Toolbar,{id:"cluster-list-toolbar"},i.default.createElement(c.ToolbarContent,null,i.default.createElement(c.ToolbarItem,{className:"ocm-c-toolbar__item-cluster-filter-list"},i.default.createElement(h.default,{isDisabled:Q,view:M.viewConstants.CLUSTERS_VIEW})),!(0,f.isRestrictedEnv)()&&i.default.createElement(c.ToolbarItem,{className:"ocm-c-toolbar__item-cluster-list-filter-dropdown","data-testid":"cluster-list-filter-dropdown"},i.default.createElement(b.default,{view:M.viewConstants.CLUSTERS_VIEW,isDisabled:n})),i.default.createElement(v.default,null),i.default.createElement(S.default,{view:M.viewConstants.CLUSTERS_VIEW,bodyContent:"Show only the clusters you previously created, or all clusters in your organization.",localStorageKey:E.ONLY_MY_CLUSTERS_TOGGLE_CLUSTERS_LIST}),i.default.createElement(c.ToolbarItem,{align:{default:"alignRight"},variant:"pagination",className:"pf-m-hidden visible-on-lgplus"},i.default.createElement(D.default,{viewType:M.viewConstants.CLUSTERS_VIEW,currentPage:o.currentPage,pageSize:o.pageSize,totalCount:o.totalCount,totalPages:o.totalPages,variant:"top",isDisabled:Q})))),!(0,f.isRestrictedEnv)()&&i.default.createElement(_.default,{view:M.viewConstants.CLUSTERS_VIEW}),e&&!(0,r.default)(s)?i.default.createElement(A.default,{message:"Error retrieving clusters",response:{errorMessage:x,operationID:F,errorCode:t,errorDetails:a}}):i.default.createElement(y.default,{openModal:w,clusters:s||[],viewOptions:o,setSorting:L,isPending:X,setClusterDetails:G,canSubscribeOCPList:H,canHibernateClusterList:W,canTransferClusterOwnershipList:z,toggleSubscriptionReleased:q,refreshFunc:this.refresh}),i.default.createElement(D.default,{viewType:M.viewConstants.CLUSTERS_VIEW,currentPage:o.currentPage,pageSize:o.pageSize,totalCount:o.totalCount,totalPages:o.totalPages,variant:"bottom",isDisabled:Q}),i.default.createElement(P.default,{onClose:k,clearMachinePools:!0})))))}}F.propTypes={username:o.default.string.isRequired,invalidateClusters:o.default.func.isRequired,fetchClusters:o.default.func.isRequired,setClusterDetails:o.default.func.isRequired,valid:o.default.bool.isRequired,clusters:o.default.array.isRequired,error:o.default.bool.isRequired,errorMessage:o.default.oneOfType([o.default.string,o.default.node,o.default.element]).isRequired,meta:o.default.shape({clustersServiceError:o.default.shape({errorMessage:o.default.oneOfType([o.default.string,o.default.node,o.default.element]).isRequired,errorDetails:o.default.array,errorCode:o.default.number})}).isRequired,errorDetails:o.default.array,errorCode:o.default.number,pending:o.default.bool.isRequired,viewOptions:o.default.object.isRequired,setSorting:o.default.func.isRequired,getCloudProviders:o.default.func.isRequired,getMachineTypes:o.default.func.isRequired,getOrganizationAndQuota:o.default.func.isRequired,organization:o.default.object.isRequired,cloudProviders:o.default.object.isRequired,machineTypes:o.default.object.isRequired,openModal:o.default.func.isRequired,closeModal:o.default.func.isRequired,setListFlag:o.default.func.isRequired,operationID:o.default.string,anyModalOpen:o.default.bool,features:o.default.object.isRequired,queryParams:o.default.shape({has_filters:o.default.bool}),canHibernateClusterList:o.default.objectOf(o.default.bool),canSubscribeOCPList:o.default.objectOf(o.default.bool),canTransferClusterOwnershipList:o.default.objectOf(o.default.bool),toggleSubscriptionReleased:o.default.func.isRequired,clearGlobalError:o.default.func.isRequired,clearClusterDetails:o.default.func.isRequired,onListFlagsSet:o.default.func.isRequired},t.default=F},64858:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(27361)),o=l(a(27484)),i=a(65652),u=a(69957),d=a(43047),c=a(36377),p=a(37655),m=a(12990),f=l(a(42517)),E=a(52758),g=a(71439);function h(e){let{cluster:t}=e;const a=(0,s.default)(t,"product.id")===E.normalizedProducts.OSDTrial,l=(0,s.default)(t,"managed"),r=(0,s.default)(t,"subscription.support_level"),h=(0,s.default)(t,"subscription");if(a){const e=(0,g.getTrialExpiresInDays)(t,!0),a=(0,g.getTrialEndDate)(t),l=n.default.createElement(n.default.Fragment,null,n.default.createElement("h1",null,n.default.createElement("strong",null,"Trial Cluster")),n.default.createElement("p",null,"Your free trial cluster will automatically be deleted in",e,"on",n.default.createElement("strong",null,a)));return n.default.createElement(i.Popover,{position:i.PopoverPosition.top,"aria-label":"Trial Expiration date",bodyContent:l},n.default.createElement(i.Button,{variant:"link",isInline:!0,icon:n.default.createElement(i.Icon,null,n.default.createElement(u.ExclamationTriangleIcon,{color:p.global_warning_color_100.value}))},e," left"))}if(l||r!==E.subscriptionSupportLevels.EVAL&&r!==E.subscriptionSupportLevels.NONE)return(0,s.default)(t,"creation_timestamp",!1)?(0,o.default)(t.creation_timestamp).format("DD MMM YYYY"):"N/A";if(r===E.subscriptionSupportLevels.NONE)return n.default.createElement(i.Popover,{position:i.PopoverPosition.top,bodyContent:"Your 60-day evaluation has expired. Edit subscription settings to continue using this cluster, or archive this cluster if it no longer exists.","aria-label":"Evaluation expired"},n.default.createElement(i.Button,{variant:"link",isInline:!0,icon:n.default.createElement(i.Icon,null,n.default.createElement(d.ExclamationCircleIcon,{color:m.global_danger_color_100.value}))},"Evaluation expired"));const v=(0,g.getTrialExpiresInDays)(t,!1),b=n.default.createElement(n.default.Fragment,null,n.default.createElement("h1",null,n.default.createElement("strong",null,"OCP Cluster")),n.default.createElement("p",null,"Your OCP cluster evaluation will expire in",v,"on",n.default.createElement("strong",null,n.default.createElement(c.DateFormat,{date:h.eval_expiration_date,type:"onlyDate"})),".Your cluster is not",n.default.createElement(f.default,{href:"https://access.redhat.com/support/policy/updates/openshift/policies",noIcon:!0,noTarget:!0},"supported"),". To get Red Hat support for clusters, learn more about"," ",n.default.createElement(f.default,{href:"https://www.redhat.com/en/resources/self-managed-openshift-sizing-subscription-guide",noIcon:!0,noTarget:!0},"OCP subscriptions"),". Though your cluster will be functional."));return n.default.createElement(i.Popover,{position:i.PopoverPosition.top,bodyContent:b,"aria-label":"Trial Expiration date"},n.default.createElement(i.Button,{variant:"link",isInline:!0,icon:n.default.createElement(i.Icon,null,n.default.createElement(u.ExclamationTriangleIcon,{color:p.global_warning_color_100.value}))},v," left"))}h.propTypes={cluster:r.default.shape({managed:r.default.bool,subscription:r.default.shape({support_level:r.default.string}),creation_timestamp:r.default.string})},t.default=h},95325:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=a(65652),s=a(65996),o=a(87558),i=l(a(45697)),u=a(12468);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const c=n.default.createElement(s.DropdownItem,{component:"button",key:"registercluster","data-testid":"register-cluster-item"},n.default.createElement("div",null,n.default.createElement(o.Link,{to:"/register",className:"pf-v5-c-dropdown__menu-item"},"Register disconnected cluster"))),p=n.default.createElement(r.ToolbarItem,{key:"archived",alignSelf:"center"},n.default.createElement(o.Link,{to:"/archived"},"View cluster archives")),m=n.default.createElement(s.DropdownItem,{component:"button",key:"archived"},n.default.createElement("div",null,n.default.createElement(o.Link,{to:"/archived",className:"pf-v5-c-dropdown__menu-item"},"View cluster archives"))),f=n.default.createElement(r.ToolbarItem,{key:"createcluster"},n.default.createElement(o.Link,{to:"/create",role:"button",className:"pf-v5-c-button pf-m-primary","data-testid":"create_cluster_btn"},"Create cluster")),E=n.default.createElement(r.ToolbarItem,{key:"registercluster"},n.default.createElement(o.Link,{to:"/register",rel:"noopener noreferrer"},n.default.createElement(r.Button,{variant:"secondary","data-testid":"register-cluster-item"},"Register cluster"))),g=e=>{let{className:t,isDashboardView:a}=e;const[l,o]=(0,n.useState)(!1),[i,d]=(e=>{const t=(e=>{if("undefined"==typeof window||void 0===window.matchMedia)return!1;const t=window.matchMedia("(min-width: 900px)"),[a,l]=n.default.useState(!!t.matches);return n.default.useEffect((()=>{const e=()=>l(!!t.matches);return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}),[]),a})(),a=[],l=[];return a.push(f),(0,u.isRestrictedEnv)()||(e?t?(a.push(E),l.push(m)):(l.push(c),l.push(m)):t?(a.push(E),a.push(p)):(l.push(c),l.push(m))),[l,a]})(a);return a?n.default.createElement(r.Split,{hasGutter:!0},d.map((e=>n.default.createElement(r.SplitItem,{key:"toolbar"},e))),n.default.createElement(r.SplitItem,{key:"dropdown"},n.default.createElement(s.Dropdown,{"data-testid":"cluster-list-extra-actions-dropdown",onSelect:()=>o(!l),toggle:n.default.createElement(s.KebabToggle,{onToggle:(e,t)=>o(t)}),isOpen:l,isPlain:!0,dropdownItems:i,className:t,position:s.DropdownPosition.right}))):n.default.createElement(n.default.Fragment,null,d,i.length>0&&n.default.createElement(r.ToolbarItem,null,n.default.createElement(s.Dropdown,{onSelect:()=>o(!l),toggle:n.default.createElement(s.KebabToggle,{onToggle:(e,t)=>o(t)}),isOpen:l,isPlain:!0,dropdownItems:i,className:t,position:s.DropdownPosition.right})))};g.propTypes={className:i.default.string,isDashboardView:i.default.bool},t.default=g},66981:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(95325));t.default=(0,n.connect)((()=>({})))(r.default)},78211:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(87558),s=a(65652),o=a(88993),i=a(38352);const u=(0,l(a(30832)).default)((()=>n.default.createElement(r.Link,{to:"/assisted-installer"},n.default.createElement(s.Button,{variant:"link"},"Assisted Installer clusters"))),i.ASSISTED_INSTALLER_FEATURE,(()=>!1));t.default=function(){return n.default.createElement(s.EmptyState,{variant:s.EmptyStateVariant.lg,className:"cluster-list-empty-state"},n.default.createElement(s.EmptyStateHeader,{titleText:"Let's create your first cluster",icon:n.default.createElement(s.EmptyStateIcon,{icon:o.PlusCircleIcon}),headingLevel:"h4"}),n.default.createElement(s.EmptyStateBody,null,"You don't have any clusters yet, but you can easily create or register your first OpenShift 4 cluster."),n.default.createElement(s.EmptyStateFooter,null,n.default.createElement(r.Link,{to:"/create"},n.default.createElement(s.Button,{"data-testid":"create_cluster_btn",className:"pf-v5-u-mt-xl"},"Create cluster")),n.default.createElement(s.EmptyStateActions,null,n.default.createElement(r.Link,{to:"/register"},n.default.createElement(s.Button,{variant:"link"},"Register cluster")),n.default.createElement(r.Link,{to:"/archived"},n.default.createElement(s.Button,{variant:"link"},"View cluster archives")),n.default.createElement(u,null))))}},86807:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=l(a(41609)),i=a(87558),u=a(65652),d=a(52758),c=l(a(69429)),p=a(56554);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e){let{currentFilters:t,setFilter:a}=e;const l=(0,i.useNavigate)();if(c.default.nestedIsEmpty(t))return null;const n=e=>{l({search:(0,p.buildFilterURLParams)(e)},{replace:!0}),a(e)},s=[{key:"plan_id",label:"Cluster type",options:d.productFilterOptions}];return r.default.createElement(u.Split,{"data-testid":"cluster-list-filter-chipgroup"},r.default.createElement(u.SplitItem,null,r.default.createElement(u.ChipGroup,null,s.map((e=>{const a=t[e.key]||[];return(0,o.default)(a)?null:r.default.createElement(u.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},a.map((l=>{const{label:s}=e.options.find((e=>e.key===l));return r.default.createElement(u.Chip,{key:l,onClick:()=>{n(f(f({},t),{},{[e.key]:a.filter((e=>e!==l))}))}},s)})))})).filter(Boolean))),r.default.createElement(u.SplitItem,null,r.default.createElement(u.Button,{variant:"link",onClick:()=>n({})},"Clear filters")))}E.propTypes={setFilter:s.default.func.isRequired,currentFilters:s.default.objectOf(s.default.arrayOf(s.default.string))},t.default=E},41291:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(92308),s=l(a(86807));t.default=(0,n.connect)(((e,t)=>({currentFilters:e.viewOptions[t.view].flags.subscriptionFilter||{}})),((e,t)=>({setFilter:a=>e((0,r.onListFlagsSet)("subscriptionFilter",a,t.view))})))(s.default)},15077:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(92308),s=l(a(18917));t.default=(0,n.connect)(((e,t)=>({currentFilters:e.viewOptions[t.view].flags.subscriptionFilter||{}})),((e,t)=>({setFilter:a=>e((0,r.onListFlagsSet)("subscriptionFilter",a,t.view))})))(s.default)},33014:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(27361)),s=l(a(45697)),o=l(a(28416)),i=a(65652),u=a(64284),d=a(94648),c=l(a(69957)),p=a(37655),m=a(87558),f=D(a(84896)),E=l(a(80810)),g=l(a(700)),h=l(a(70417)),v=D(a(59231)),b=l(a(15053)),_=l(a(64858)),S=l(a(52069)),C=a(18418),y=l(a(2968)),O=l(a(22831)),I=l(a(56503)),R=l(a(75890)),T=a(24501),A=l(a(74685));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}const{ClusterStatus:L}=f;function w(e){const{viewOptions:t,setSorting:a,clusters:l,openModal:s,isPending:f,setClusterDetails:P,canSubscribeOCPList:D={},canTransferClusterOwnershipList:w={},toggleSubscriptionReleased:M,canHibernateClusterList:k={},refreshFunc:x}=e;if(!(f||l&&0!==l.length))return o.default.createElement(i.EmptyState,null,o.default.createElement(i.EmptyStateHeader,{titleText:"No clusters found.",icon:o.default.createElement(i.EmptyStateIcon,{icon:E.default}),headingLevel:"h4"}),o.default.createElement(i.EmptyStateBody,null,"This filter criteria matches no clusters.",o.default.createElement("br",null),"Try changing your filter settings."));const j={index:t.sorting.sortIndex,direction:t.sorting.isAscending?u.SortByDirection.asc:u.SortByDirection.desc},F={Name:"display_name",Created:"created_at"},G=(0,u.classNames)(u.Visibility.visibleOnLg,u.Visibility.hiddenOnMd,u.Visibility.hiddenOnSm),U=[{title:"Name",transforms:[u.sortable,(0,u.cellWidth)(30)]},{title:"Status",transforms:[(0,u.cellWidth)(15)]},{title:"Type",transforms:[(0,u.cellWidth)(10)]},{title:"Created",transforms:[u.sortable],columnTransforms:[G]},{title:"Version",columnTransforms:[G]},{title:"Provider (Region)",columnTransforms:[G]},""],V=(e,t)=>o.default.createElement(m.Link,{to:`/details/s/${e.subscription.id}`,onClick:()=>{e.partialCS||P(e)}},t),H=f?(0,y.default)():l.map((e=>(e=>{const t=(0,r.default)(e,"cloud_provider.id","N/A"),a=V(e,(0,S.default)(e)),l=o.default.createElement("span",null,(0,A.default)(e),o.default.createElement(b.default,{cluster:e,openModal:s,hideOSDUpdates:!0}));return{cells:[{title:a},{title:(()=>{var t;if((0,T.isAISubscriptionWithoutMetrics)(e.subscription))return o.default.createElement(L,{status:e.state,className:"clusterstate"});const a=(null===(t=e.status)||void 0===t?void 0:t.limited_support_reason_count)>0,{state:l,description:n}=(0,v.getClusterStateAndDescription)(e),r=o.default.createElement(g.default,{clusterState:l||"",animated:!1,limitedSupport:a});return l===v.default.ERROR?o.default.createElement("span",null,o.default.createElement(i.Popover,{position:i.PopoverPosition.top,bodyContent:o.default.createElement(o.default.Fragment,null,"Your cluster is in error state."," ",o.default.createElement("a",{href:"https://access.redhat.com/support/cases/#/case/new",target:"_blank",rel:"noopener noreferrer"},"Contact Red Hat Support")," ","for further assistance."),"aria-label":"Status: Error"},o.default.createElement(i.Button,{className:"cluster-status-string",variant:"link",isInline:!0,icon:r},n))):(0,v.isWaitingROSAManualMode)(e)||(0,v.isWaitingForOIDCProviderOrOperatorRolesMode)(e)||(0,v.isOSDGCPWaitingForRolesOnHostProject)(e)?o.default.createElement(R.default,{cluster:e,icon:o.default.createElement(c.default,{color:p.global_warning_color_100.value})}):l===v.default.WAITING||l===v.default.PENDING||l===v.default.VALIDATING||l===v.default.INSTALLING?o.default.createElement(i.Popover,{headerContent:o.default.createElement("div",null,"Installation status"),position:i.PopoverPosition.top,bodyContent:o.default.createElement(I.default,{cluster:e}),"aria-label":"Status: installing"},o.default.createElement(i.Button,{className:"cluster-status-string status-installing",variant:"link",isInline:!0,icon:r},n)):o.default.createElement("span",{className:"cluster-status-string"},r,n,a?V(e,o.default.createElement(i.Label,{color:"red",className:"pf-v5-u-ml-xs"},"Limited support")):null)})()},{title:o.default.createElement(O.default,{cluster:e})},{title:o.default.createElement(_.default,{cluster:e})},{title:l},{title:o.default.createElement(h.default,{regionID:(0,r.default)(e,"region.id","N/A"),cloudProviderID:t})}],cluster:e}})(e))),z=f?void 0:e=>(0,C.actionResolver)(e.cluster,!0,s,D[(0,r.default)(e,"cluster.id")]||!1,w[(0,r.default)(e,"cluster.id")]||!1,k[(0,r.default)(e,"cluster.id")]||!1,M,x,!0);return o.default.createElement(d.Table,{"aria-label":"Cluster List",cells:U,rows:H,actionResolver:z,onSort:(e,l,r)=>{const s=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.sorting);s.isAscending=r===u.SortByDirection.asc,s.sortField=F[U[l].title],s.sortIndex=l,a(s)},sortBy:j,ouiaId:"clusterList"},o.default.createElement(d.TableHeader,null),o.default.createElement(d.TableBody,null))}w.propTypes={openModal:s.default.func.isRequired,clusters:s.default.array.isRequired,viewOptions:s.default.object.isRequired,setSorting:s.default.func.isRequired,isPending:s.default.bool,setClusterDetails:s.default.func.isRequired,canSubscribeOCPList:s.default.objectOf(s.default.bool),canTransferClusterOwnershipList:s.default.objectOf(s.default.bool),canHibernateClusterList:s.default.objectOf(s.default.bool),toggleSubscriptionReleased:s.default.func.isRequired,refreshFunc:s.default.func.isRequired},t.default=w},10800:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(91290);function i(e){const{isChecked:t,onChange:a,bodyContent:l}=e;return n.default.createElement(s.Switch,{className:"pf-v5-u-ml-lg pf-v5-u-align-items-center",id:"view-only-my-clusters","aria-label":"View only my clusters",label:n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,"View only my clusters"),n.default.createElement(s.Popover,{bodyContent:l,enableFlip:!1},n.default.createElement(s.Button,{variant:"plain"},n.default.createElement(o.OutlinedQuestionCircleIcon,null)))),hasCheckIcon:!0,isChecked:t,onChange:(e,t)=>a(t)})}i.propTypes={isChecked:r.default.bool,onChange:r.default.func.isRequired,bodyContent:r.default.string},i.defaultProps={isChecked:!1,bodyContent:"Show only the clusters you previously created, or all clusters in your organization."},t.default=i},92339:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(33174),s=l(a(10800));t.default=(0,n.connect)(((e,t)=>({isChecked:e.viewOptions[t.view].flags.showMyClustersOnly})),((e,t)=>({onChange:a=>{e({viewType:t.view,type:r.viewOptionsConstants.VIEW_MY_CLUSTERS_ONLY_CHANGED,payload:{showMyClustersOnly:a}}),localStorage.setItem(t.localStorageKey,a)}})))(s.default)},71847:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(38416)),r=a(66338),s=l(a(17773)),o=a(70774),i=a(22115),u=a(7076),d=a(33174),c=a(92308),p=a(98371),m=a(7046),f=l(a(83704)),E=a(59240),g=a(59025),h=a(23961),v=a(23445);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const S={invalidateClusters:()=>o.clustersActions.invalidateClusters(),fetchClusters:e=>o.clustersActions.fetchClusters(e),setClusterDetails:o.clustersActions.setClusterDetails,clearClusterDetails:o.clustersActions.clearClusterDetails,setSorting:e=>c.viewActions.onListSortBy(e,d.viewConstants.CLUSTERS_VIEW),setListFlag:(e,t)=>c.viewActions.onListFlagsSet(e,t,d.viewConstants.CLUSTERS_VIEW),getCloudProviders:i.cloudProviderActions.getCloudProviders,getMachineTypes:u.machineTypesActions.getMachineTypes,getOrganizationAndQuota:p.userActions.getOrganizationAndQuota,openModal:m.modalActions.openModal,closeModal:m.modalActions.closeModal,toggleSubscriptionReleased:h.toggleSubscriptionReleased,clearGlobalError:v.clearGlobalError,onListFlagsSet:c.onListFlagsSet};t.Z=(0,r.connect)((e=>_(_({},e.clusters.clusters),{},{viewOptions:e.viewOptions[d.viewConstants.CLUSTERS_VIEW],username:e.userProfile.keycloakProfile.username,cloudProviders:e.cloudProviders,machineTypes:e.machineTypes,organization:e.userProfile.organization,anyModalOpen:!!e.modal.modalName,features:e.features,canSubscribeOCPList:(0,f.default)(e),canHibernateClusterList:(0,g.canHibernateClusterListSelector)(e),canTransferClusterOwnershipList:(0,E.canTransferClusterOwnershipListSelector)(e)})),S)(s.default)},65260:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=C(a(28416)),s=l(a(45697)),o=a(65652),i=a(64284),u=a(94648),d=a(87558),c=a(11306),p=C(a(84896)),m=a(12468),f=l(a(42517)),E=l(a(7865)),g=l(a(29405)),h=l(a(27440)),v=l(a(26606)),b=l(a(56825)),_=l(a(16691));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}const{TechnologyPreview:y,PreviewBadgePosition:O}=p,I=e=>{let{hasQuota:t,trialEnabled:a}=e;const[l,s]=(0,r.useState)([]),c=[{cells:[r.default.createElement(r.default.Fragment,null,r.default.createElement("img",{className:"partner-logo",src:v.default,alt:"AWS"})),r.default.createElement(r.default.Fragment,null,r.default.createElement(f.default,{noIcon:!0,href:b.default.AWS},"Red Hat OpenShift Service on AWS (ROSA)")),"Amazon Web Services","Flexible hourly billing",r.default.createElement(r.default.Fragment,null,r.default.createElement(_.default,{toggleId:"rosa-create-cluster-dropdown"}))]},{fullWidth:!0,cells:[{title:r.default.createElement(o.Stack,{hasGutter:!0},r.default.createElement(o.StackItem,null,"Build, deploy, and manage Kubernetes applications with Red Hat OpenShift running natively on AWS.",r.default.createElement("br",null),"Hosted on AWS."),r.default.createElement(o.StackItem,null,r.default.createElement(f.default,{href:b.default.AWS},"Learn more about Red Hat OpenShift Service on AWS")))}]}],p=[{cells:[r.default.createElement(r.default.Fragment,null,r.default.createElement("img",{className:"partner-logo",src:h.default,alt:"Microsoft"})),r.default.createElement(r.default.Fragment,null,r.default.createElement(f.default,{href:b.default.AZURE,noIcon:!0},"Azure Red Hat OpenShift")),"Microsoft Azure","Flexible hourly billing",r.default.createElement(r.default.Fragment,null,r.default.createElement(f.default,{isButton:!0,noIcon:!0,variant:o.ButtonVariant.secondary,href:b.default.AZURE,className:"create-button"},"Try it on Azure"))]},{fullWidth:!0,cells:[{title:r.default.createElement(o.Stack,{hasGutter:!0},r.default.createElement(o.StackItem,null,"A flexible, self-service deployment of OpenShift clusters provided as a fully-managed cloud service by Microsoft and Red Hat.",r.default.createElement("br",null),"Hosted on Microsoft Azure."),r.default.createElement(o.StackItem,null,r.default.createElement(f.default,{href:b.default.AZURE},"Learn more about Azure Red Hat OpenShift")))}]},{cells:[r.default.createElement(r.default.Fragment,null,r.default.createElement("img",{className:"partner-logo",src:g.default,alt:"IBM Cloud"})),r.default.createElement(r.default.Fragment,null,r.default.createElement(f.default,{href:b.default.IBM_CLOUD_LEARN_MORE,noIcon:!0},"Red Hat OpenShift on IBM Cloud")),"IBM","Flexible hourly billing",r.default.createElement(r.default.Fragment,null,r.default.createElement(f.default,{isButton:!0,noIcon:!0,href:b.default.IBM_CLOUD,variant:o.ButtonVariant.secondary,className:"create-button"},"Try it on IBM"))]},{fullWidth:!0,cells:[{title:r.default.createElement(o.Stack,{hasGutter:!0},r.default.createElement(o.StackItem,null,"A preconfigured OpenShift environment provided as a fully-managed cloud service at enterprise scale.",r.default.createElement("br",null),"Hosted on IBM Cloud."),r.default.createElement(o.StackItem,null,r.default.createElement(f.default,{href:b.default.IBM_CLOUD_LEARN_MORE},"Learn more about Red Hat OpenShift on IBM Cloud")))}]},...c];let S=c,C=1;(0,m.isRestrictedEnv)()||(S=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=r.default.createElement(f.default,{href:b.default.OSD_LEARN_MORE,isButton:!0,variant:o.ButtonVariant.secondary,className:"create-button",noIcon:!0},r.default.createElement("span",null,"Learn more"));return e&&(t=r.default.createElement(o.Button,{className:"create-button",variant:o.ButtonVariant.primary,component:e=>r.default.createElement(d.Link,(0,n.default)({},e,{id:"create-cluster",to:"/create/osd","data-testid":"osd-create-cluster-button"}))},"Create cluster")),[{cells:[{title:r.default.createElement(r.default.Fragment,null,r.default.createElement("img",{className:"partner-logo",src:E.default,alt:"OSD"}))},r.default.createElement(r.default.Fragment,null,r.default.createElement(f.default,{href:b.default.OSD_LEARN_MORE,noIcon:!0},"Red Hat OpenShift Dedicated")),"Red Hat","Available on AWS and GCP",r.default.createElement(r.default.Fragment,null,t)]},{fullWidth:!0,cells:[{title:r.default.createElement(o.Stack,{hasGutter:!0},r.default.createElement(o.StackItem,null,"A complete OpenShift cluster provided as a fully-managed cloud service dedicated to a single customer. Reduce operational complexity and focus on building and scaling applications that add more value to your business.",r.default.createElement("br",null),"Hosted on Amazon Web Services (AWS) and Google Cloud."),r.default.createElement(o.StackItem,null,r.default.createElement(f.default,{href:b.default.OSD_LEARN_MORE},"Learn more about Red Hat OpenShift Dedicated")))}]}]}(t).concat(p),a&&(S.unshift((()=>{const e=r.default.createElement(o.Button,{className:"create-button",variant:o.ButtonVariant.primary,component:e=>r.default.createElement(d.Link,(0,n.default)({},e,{id:"create-trial-cluster",to:"/create/osdtrial?trial=osd","data-testid":"osd-create-trial-cluster",role:"button"}))},"Create trial cluster");return{cells:[{title:r.default.createElement(r.default.Fragment,null,r.default.createElement("img",{className:"partner-logo",src:E.default,alt:"OSD"}))},r.default.createElement(r.default.Fragment,null,r.default.createElement(f.default,{href:b.default.OSD_LEARN_MORE,noIcon:!0},"Red Hat OpenShift Dedicated Trial")),"Red Hat","Available on AWS and GCP",r.default.createElement(r.default.Fragment,null,e)]}})()),C=2));for(let e=C;e<S.length;e+=2){const t=e-1;S[e].parent=t,S[t].isOpen=l.includes(t)}return r.default.createElement(u.Table,{"aria-label":"Managed services table",rows:S,cells:[{title:"",cellFormatters:[i.expandable],transforms:[(0,i.cellWidth)(10)]},{title:"Offerings",transforms:[(0,i.cellWidth)(25)]},{title:"Purchased through",transforms:[(0,i.cellWidth)(20)]},{title:"",transforms:[(0,i.cellWidth)(20)]},{title:"Get started"}],onCollapse:(e,t,a)=>{s(a?[...l,t]:l.filter((e=>e!==t)))}},r.default.createElement(u.TableHeader,null),r.default.createElement(u.TableBody,null))},R=e=>r.default.createElement(d.Link,(0,n.default)({},e,{to:"/quota"})),T=e=>{let{hasOSDQuota:t,trialEnabled:a}=e;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.PageSection,null,r.default.createElement(o.Stack,{hasGutter:!0},r.default.createElement(o.StackItem,null,r.default.createElement(o.Title,{headingLevel:"h2"},"Managed services")),r.default.createElement(o.StackItem,null,"Create clusters in the cloud using a managed service.",r.default.createElement(I,{hasQuota:t,trialEnabled:a}),!(0,m.isRestrictedEnv)()&&r.default.createElement(o.Button,{variant:o.ButtonVariant.link,id:"subscriptions",component:R},"View your available OpenShift Dedicated quota ",r.default.createElement(c.ArrowRightIcon,null))))),!(0,m.isRestrictedEnv)()&&r.default.createElement(o.PageSection,null,r.default.createElement(o.Stack,{hasGutter:!0},r.default.createElement(o.StackItem,null,r.default.createElement(o.Title,{headingLevel:"h2"},"Run it yourself")),r.default.createElement(o.StackItem,null,"Run OpenShift clusters on your own by installing from another cloud provider.",(()=>{const e=[[r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Link,{to:"/install/alibaba/installer-provisioned",className:"pf-v5-u-mr-xs"},"Alibaba Cloud"),r.default.createElement(y,{position:O.inline})),"Full stack automation"],[r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Link,{to:"/install/aws"},"AWS (x86_64)")),"Full stack automation and pre-existing infrastructure"],[r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Link,{to:"/install/aws/arm"},"AWS (ARM)")),"Full stack automation and pre-existing infrastructure"],[r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Link,{to:"/install/aws/multi/installer-provisioned"},"AWS (multi-architecture)")),"Full stack automation"],[r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Link,{to:"/install/azure"},"Azure (x86_64)")),"Full stack automation and pre-existing infrastructure"],[r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Link,{to:"/install/azure/arm/installer-provisioned"},"Azure (ARM)")),"Full stack automation"],[r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Link,{to:"/install/azure/multi/installer-provisioned",className:"pf-v5-u-mr-xs"},"Azure (multi-architecture)")),"Full stack automation"],[r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Link,{to:"/install/gcp"},"Google Cloud")),"Full stack automation and pre-existing infrastructure"],[r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Link,{to:"/install/ibm-cloud"},"IBM Cloud")),"Full stack automation"],[r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Link,{to:"/install/metal/multi"}," Baremetal (multi-architecture)"),r.default.createElement(y,{position:O.inline})),"Pre-existing infrastructure"],[r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Link,{to:"/install/powervs/installer-provisioned"},"IBM PowerVS (ppc64le)"),r.default.createElement(y,{position:O.inline})),"Full stack automation"],[r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Link,{to:"/install/platform-agnostic"},"Platform agnostic (x86_64)")),"Pre-existing infrastructure"],[r.default.createElement(r.default.Fragment,null,r.default.createElement(d.Link,{to:"/install/oracle-cloud"},"Oracle Cloud Infrastructure (virtual machines)"),r.default.createElement(y,{position:O.inline})),"Pre-existing infrastructure"]];return r.default.createElement(u.Table,{className:"run-it-yourself","aria-label":"Run it yourself",cells:["Cloud provider","Installation options"],rows:e},r.default.createElement(u.TableHeader,null),r.default.createElement(u.TableBody,null))})()))))};t.default=T,T.propTypes={hasOSDQuota:s.default.bool.isRequired,trialEnabled:s.default.bool.isRequired},I.propTypes={hasQuota:s.default.bool.isRequired,trialEnabled:s.default.bool.isRequired}},56825:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={OSD_LEARN_MORE:"https://cloud.redhat.com/products/dedicated/",IBM_CLOUD_LEARN_MORE:"https://www.ibm.com/cloud/openshift",IBM_CLOUD:"https://cloud.ibm.com/kubernetes/catalog/create?platformType=openshift",AZURE:"https://azure.microsoft.com/en-us/services/openshift",AWS:"https://cloud.redhat.com/products/amazon-openshift"}},34273:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(87558),i=a(71359),u=a(43379),d=a(46071),c=a(43316),p=a(12468);a(64855);var m=a(27849),f=l(a(57816)),E=l(a(2101)),g=a(69429),h=l(a(16091)),v=l(a(65260)),b=l(a(3991));const _={cloud:0,datacenter:1,local:2},S=Object.entries(_).reduce(((e,t)=>{const[a,l]=t;return e[l]=a,e}),{}),C=e=>{let{getOrganizationAndQuota:t,organization:a,getAuthToken:l,hasOSDQuota:r,hasOSDTrialQuota:C,rosaCreationWizardFeature:y,token:O,assistedInstallerFeature:I,activeTab:R}=e;const T=(0,o.useNavigate)();n.default.useEffect((()=>{(0,g.shouldRefetchQuota)(a)&&t(),l()}),[]);const A=_[R]||0,P=n.default.createElement(f.default,{title:"Select an OpenShift cluster type to create",breadcrumbs:n.default.createElement(E.default,{path:[{label:"Clusters"},{label:"Cluster Type"}]})}),D=e=>{switch(e){case 0:return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.TabTitleIcon,null,n.default.createElement(d.CloudIcon,null)),n.default.createElement(s.TabTitleText,null,"Cloud"));case 1:return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.TabTitleIcon,null,n.default.createElement(u.ServerIcon,null)),n.default.createElement(s.TabTitleText,null,"Datacenter"));case 2:return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.TabTitleIcon,null,n.default.createElement(c.LaptopIcon,null)),n.default.createElement(s.TabTitleText,null,"Local"));default:return null}},N=a.fulfilled||a.error;return n.default.createElement(m.AppPage,{title:"Create an OpenShift cluster | Red Hat OpenShift Cluster Manager"},N?n.default.createElement(n.default.Fragment,null,P,n.default.createElement(s.PageSection,{variant:"light",className:"cluster-create-page"},n.default.createElement(s.Tabs,{isFilled:!0,activeKey:A,onSelect:(e,t)=>{const a=S[t];T(`/create/${a}`)}},[n.default.createElement(s.Tab,{eventKey:0,title:D(0)},n.default.createElement(v.default,{hasOSDQuota:r,rosaCreationWizardFeature:y,trialEnabled:C})),...(0,p.isRestrictedEnv)()?[]:[n.default.createElement(s.Tab,{eventKey:1,title:D(1)},n.default.createElement(h.default,{assistedInstallerFeature:I})),n.default.createElement(s.Tab,{eventKey:2,title:D(2)},n.default.createElement(b.default,{token:O}))]]))):n.default.createElement(n.default.Fragment,null,P,n.default.createElement(s.PageSection,{variant:"light"},n.default.createElement(i.Spinner,{centered:!0}))))};C.propTypes={hasOSDQuota:r.default.bool.isRequired,hasOSDTrialQuota:r.default.bool.isRequired,rosaCreationWizardFeature:r.default.bool,organization:r.default.shape({fulfilled:r.default.bool,error:r.default.bool}).isRequired,getOrganizationAndQuota:r.default.func.isRequired,token:r.default.object.isRequired,getAuthToken:r.default.func.isRequired,assistedInstallerFeature:r.default.bool,activeTab:r.default.string},t.default=C},16091:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(94648),i=a(87558),u=l(a(91290));const d=["Infrastructure provider","Installation options"],c=[[n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Link,{to:"/install/metal"},"Bare Metal (x86_64)")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Link,{to:"/install/arm"},"Bare Metal (ARM)")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Link,{to:"/install/azure-stack-hub"},"Azure Stack Hub")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Link,{to:"/install/ibmz"},"IBM Z (s390x)")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Link,{to:"/install/power"},"IBM Power (ppc64le)")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Link,{to:"/install/nutanix"},"Nutanix AOS")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Link,{to:"/install/openstack"},"Red Hat OpenStack")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Link,{to:"/install/vsphere"},"vSphere")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Link,{to:"/install/platform-agnostic"},"Platform agnostic (x86_64)")),"Pre-existing infrastructure"]],p=e=>{let{assistedInstallerFeature:t}=e;return n.default.createElement(n.default.Fragment,null,t&&n.default.createElement(s.PageSection,{variant:"light",className:"pf-v5-u-p-lg"},n.default.createElement(s.Stack,{hasGutter:!0},n.default.createElement(s.StackItem,null,n.default.createElement(s.Title,{headingLevel:"h2",className:"ocm-ocp-datacenter-title"},"Assisted Installer")),n.default.createElement(s.StackItem,null,"The easiest way to install OpenShift on your own infrastructure with step-by-step guidance, preflight validations, and smart defaults. This method supports multiple architectures."),n.default.createElement(s.StackItem,null,n.default.createElement(s.Split,{hasGutter:!0},n.default.createElement(s.SplitItem,null,n.default.createElement(s.Button,{component:i.Link,to:"/assisted-installer/clusters/~new"},"Create cluster")),n.default.createElement(s.SplitItem,{className:"pf-v5-u-align-self-center"},n.default.createElement(i.Link,{to:"/install/metal/agent-based"},"Run Agent-based Installer locally"),n.default.createElement(s.Popover,{bodyContent:"Runs Assisted Installer securely and locally to create clusters in disconnected or air-gapped environments."},n.default.createElement(s.Button,{variant:"plain",onClick:e=>e.preventDefault()},n.default.createElement(u.default,null)))))))),n.default.createElement(s.PageSection,null,n.default.createElement(s.Stack,{hasGutter:!0},n.default.createElement(s.StackItem,null,n.default.createElement(s.Title,{headingLevel:"h2"},t?"Other datacenter options":"datacenter options")),n.default.createElement(s.StackItem,null,"Create clusters on supported infrastructure using our extensive documentation and installer program."),n.default.createElement(s.StackItem,null,n.default.createElement(o.Table,{className:"install-options-table","aria-label":"Installation options table",cells:d,rows:c},n.default.createElement(o.TableHeader,null),n.default.createElement(o.TableBody,null))))))};p.propTypes={assistedInstallerFeature:r.default.bool},t.default=p},3991:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(15265),i=l(a(69740)),u=a(70355),d=l(a(25631)),c=l(a(13736)),p=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(91885)),m=l(a(50813)),f=l(a(13908)),E=l(a(4130));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}const h=window.location.pathname,v=p.default.INSTALL_CRC_GETTING_STARTED,b=e=>{let{token:t}=e;const a=(0,i.default)();return n.default.createElement(s.PageSection,{className:"pf-v5-u-p-lg"},n.default.createElement(s.Split,{hasGutter:!0},n.default.createElement(s.Title,{headingLevel:"h2"},"Red Hat OpenShift Local"),n.default.createElement(s.SplitItem,null,n.default.createElement(s.Label,{variant:"outline"},"local sandbox"))),n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:"p"},"Create a minimal cluster on your desktop/laptop for local development and testing."),n.default.createElement(s.Text,{component:"p",className:"ocm-secondary-text"},n.default.createElement("b",null,"Note: "),"Your OpenShift Local installation won't appear in the OpenShift Cluster Manager unless you enable cluster monitoring and telemetry.")),n.default.createElement(s.Divider,{className:"pf-v5-u-mt-lg pf-v5-u-mb-xl"}),t.error&&n.default.createElement(n.default.Fragment,null,n.default.createElement(d.default,{token:t}),n.default.createElement("div",{className:"pf-v5-u-mb-lg"})),n.default.createElement(f.default,null,n.default.createElement(m.default,null,n.default.createElement(s.Text,{component:"h3"},"Download what you need to get started"),n.default.createElement(s.Text,{component:"h4"},"OpenShift Local"),n.default.createElement(c.default,{tool:p.tools.CRC,channel:p.channels.STABLE,pendoID:h}),n.default.createElement(s.Text,{component:"h3"},"Pull secret"),n.default.createElement(E.default,{token:t,pendoID:h})),n.default.createElement(m.default,null,n.default.createElement(s.Text,{component:"h3"},"Follow the documentation to install OpenShift Local"),n.default.createElement(s.Text,{component:"p"},"Run ",n.default.createElement("code",null,"crc setup")," to set up your host operating system for the OpenShift Local virtual machine."),n.default.createElement(s.Text,{component:"p"},"Then, run ",n.default.createElement("code",null,"crc start")," to create a minimal OpenShift 4 cluster on your computer."),n.default.createElement(s.Text,{component:"p"},n.default.createElement("a",{href:v,rel:"noreferrer noopener",target:"_blank",onClick:()=>{a(u.trackEvents.CRCInstallDocumentation,{url:v,path:h})}},"View the OpenShift Local Getting started guide"," ",n.default.createElement(s.Icon,{size:"sm"},n.default.createElement(o.ExternalLinkAltIcon,{color:"#0066cc"})))))))};b.propTypes={token:r.default.object.isRequired},t.default=b},90053:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=a(66338),r=a(96106),s=l(a(34273)),o=a(7046),i=a(98371),u=a(52758),d=a(69816),c=a(5498),p=a(38352);t.Z=(0,n.connect)((e=>({hasOSDQuota:(0,d.hasManagedQuotaSelector)(e.userProfile.organization.quotaList,u.normalizedProducts.OSD),hasOSDTrialQuota:(0,d.hasManagedQuotaSelector)(e.userProfile.organization.quotaList,u.normalizedProducts.OSDTrial),organization:e.userProfile.organization,token:e.tollbooth.token,assistedInstallerFeature:(0,r.featureGateSelector)(e,p.ASSISTED_INSTALLER_FEATURE)})),(()=>e=>({openModal:()=>e(o.modalActions.openModal),getAuthToken:()=>e(c.tollboothActions.createAuthToken()),getOrganizationAndQuota:()=>e((0,i.getOrganizationAndQuota)())})))(s.default)},71083:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(71359),o=a(65652);class i extends n.default.Component{componentDidMount(){const{url:e}=this.props;window.location.replace(e)}render(){return n.default.createElement(o.Bullseye,null,n.default.createElement(s.Spinner,{size:"lg",centered:!0}))}}i.propTypes={url:r.default.string.isRequired},t.default=i},28102:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.composeRuleId=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(87558),o=a(71359),i=a(65652),u=a(67429),d=a(49596),c=l(a(71083));const p=(e,t)=>encodeURIComponent(`${decodeURIComponent(e).replace(/\|/g,".").split(".report")[0]}|${decodeURIComponent(t)}`);t.composeRuleId=p;const m=e=>{var t;const{params:a,clusterDetails:l,fetchClusterDetails:r,location:m,setGlobalError:f}=e;n.default.useEffect((()=>{l.fulfilled||!a.id||(0,u.validate)(a.id)||r(a.id)}),[l,r,a]);const E=null!=a&&a.id&&(0,u.validate)(a.id)?a.id:null==l||null===(t=l.cluster)||void 0===t?void 0:t.external_id,g=m.pathname;if(E){if((0,s.matchPath)({path:"/details/:clusterId",exact:!0},g)||(0,s.matchPath)({path:"/details/s/:id",exact:!0},g))return n.default.createElement(c.default,{url:`${(0,d.advisorBaseName)()}/clusters/${E}`});if((0,s.matchPath)({path:"/details/:id/insights/:reportId/:errorKey",exact:!0},g)||(0,s.matchPath)({path:"/details/s/:id/insights/:reportId/:errorKey",exact:!0,strict:!0},g)){const{reportId:e,errorKey:t}=a,l=p(e,t);return n.default.createElement(c.default,{url:`${(0,d.advisorBaseName)()}/clusters/${E}?first=${l}`})}}return l.error?(f(n.default.createElement(n.default.Fragment,null,"Cluster with the subscription ID ",n.default.createElement("b",null,null==a?void 0:a.id)," was not found, it might have been deleted or you don't have permission to see it."),"clusterDetails",null==l?void 0:l.errorMessage),n.default.createElement(s.Navigate,{replace:!0,to:"/"})):l.fulfilled&&!E?(f(n.default.createElement(n.default.Fragment,null,"There is no external ID for the cluster with the ",n.default.createElement("b",null,null==a?void 0:a.id)," subscription ID."),"clusterDetails",null==l?void 0:l.errorMessage),n.default.createElement(s.Navigate,{replace:!0,to:"/"})):n.default.createElement(i.Bullseye,null,n.default.createElement(o.Spinner,{size:"lg",centered:!0}))};m.propTypes={params:r.default.shape({id:r.default.string,reportId:r.default.string,errorKey:r.default.string}).isRequired,location:r.default.shape({pathname:r.default.string.isRequired}).isRequired,fetchClusterDetails:r.default.func.isRequired,clusterDetails:r.default.shape({cluster:r.default.object,error:r.default.bool,errorCode:r.default.oneOfType([r.default.number,r.default.string]),errorMessage:r.default.oneOfType([r.default.string,r.default.node,r.default.element]),fulfilled:r.default.bool,history:r.default.object}),setGlobalError:r.default.func.isRequired},t.default=m},94634:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(70774),s=a(23445),o=l(a(28102));const i={fetchClusterDetails:r.fetchClusterDetails,setGlobalError:s.setGlobalError};t.default=(0,n.connect)((e=>({clusterDetails:e.clusters.details})),i)(o.default)},45169:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(9104),i=a(87558),u=a(65652),d=a(64171),c=l(a(71359)),p=a(27849),m=l(a(73269)),f=l(a(90197)),E=l(a(2101)),g=a(90181),h=l(a(48278)),v=l(a(5310)),b=l(a(96343)),_=a(52758),S=l(a(83436));const{EVAL:C}=_.subscriptionSupportLevels;class y extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{settings:{}}),(0,n.default)(this,"initialSettings",{support_level:C,isValid:!0}),(0,n.default)(this,"handleSettingsChange",(e=>{this.setState({settings:e})})),(0,n.default)(this,"handleSubmit",(e=>{const{onSubmit:t}=this.props,{settings:a}=this.state,{request:l,isValid:n}=(0,S.default)(a);n&&t({cluster_uuid:e.cluster_id,plan_id:_.knownProducts.OCP,status:_.subscriptionStatuses.DISCONNECTED,display_name:e.display_name,console_url:e.web_console_url},l)}))}componentDidMount(){const{getOrganizationAndQuota:e}=this.props;this.reset(),e()}componentDidUpdate(){const{registerClusterResponse:e,openModal:t,isOpen:a}=this.props;e.error&&!a&&t("register-cluster-error")}componentWillUnmount(){this.reset()}reset(){const{resetResponse:e,resetForm:t}=this.props;e(),t()}render(){const{handleSubmit:e,registerClusterResponse:t,isOpen:a,resetResponse:l,canSubscribeOCP:n,quotaResponse:s}=this.props;if(t.fulfilled)return r.default.createElement(i.Navigate,{replace:!0,to:`/details/s/${t.cluster.id}`});const _=a&&r.default.createElement(f.default,{title:"Error Registering Cluster",errorResponse:t,resetResponse:l});if(s.error)return r.default.createElement(u.PageSection,null,r.default.createElement(b.default,{message:"Error retrieving quota",response:s}));const{settings:C}=this.state,{isValid:y}=(0,S.default)(C),O=r.default.createElement(v.default,{initialSettings:this.initialSettings,onSettingsChange:this.handleSettingsChange,canSubscribeStandardOCP:n,canSubscribeMarketplaceOCP:!1});return r.default.createElement(p.AppPage,null,r.default.createElement(d.PageHeader,null,r.default.createElement(E.default,{path:[{label:"Clusters"},{label:"Register disconnected cluster"}]}),r.default.createElement(d.PageHeaderTitle,{title:"Register disconnected cluster"})),r.default.createElement(u.PageSection,null,_,r.default.createElement(u.Card,{id:"register-cluster"},r.default.createElement(u.CardBody,null,r.default.createElement(u.Grid,null,r.default.createElement(u.GridItem,{md:8},r.default.createElement(u.TextContent,{id:"register-cluster-top-text"},r.default.createElement(u.Text,{component:u.TextVariants.p},"Register clusters that are not connected to OpenShift Cluster Manager. Existing cluster owners, cluster editors, or admins can edit existing cluster subscriptions from the cluster details page.")),s.fulfilled?r.default.createElement(u.Form,{onSubmit:e(this.handleSubmit),className:"subscription-settings form"},r.default.createElement(o.Field,{component:m.default,name:"cluster_id",label:"Cluster ID",type:"text",extendedHelpText:h.default.clusterIDHint,disabled:t.pending,validate:g.checkClusterUUID,isRequired:!0}),r.default.createElement(o.Field,{component:m.default,name:"display_name",label:"Display name",type:"text",disabled:t.pending,validate:g.checkClusterDisplayName}),r.default.createElement(o.Field,{component:m.default,name:"web_console_url",label:"Web console URL",validate:g.checkDisconnectedConsoleURL,disabled:t.pending,type:"text"}),r.default.createElement(u.Title,{headingLevel:"h4",size:"xl"},"Subscription settings"),r.default.createElement(u.TextContent,null,r.default.createElement(u.Text,{component:u.TextVariants.p},"Editing the subscription settings will help ensure that you receive the level of support that you expect, and that your cluster is consuming the correct type of subscription.")),n?O:r.default.createElement(u.Tooltip,{content:"You cannot edit subscription settings because your organization does not have any OpenShift subscriptions. Contact sales to purchase OpenShift.",position:u.TooltipPosition.auto},r.default.createElement("div",null,O))):r.default.createElement(c.default,null)))),r.default.createElement(u.CardFooter,null,r.default.createElement(u.Button,{variant:"primary",type:"submit",onClick:e(this.handleSubmit),isDisabled:t.pending||!y},"Register cluster"),r.default.createElement(i.Link,{to:"/"},r.default.createElement(u.Button,{variant:"secondary",isDisabled:t.pending},"Cancel"))))))}}y.propTypes={handleSubmit:s.default.func.isRequired,registerClusterResponse:s.default.object.isRequired,openModal:s.default.func,resetResponse:s.default.func.isRequired,isOpen:s.default.bool,resetForm:s.default.func.isRequired,onSubmit:s.default.func.isRequired,getOrganizationAndQuota:s.default.func.isRequired,canSubscribeOCP:s.default.bool.isRequired,quotaResponse:s.default.object.isRequired},t.default=y},48278:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={clusterIDHint:"The cluster ID may be found on the About page of the cluster web console"}},82355:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(27361));t.default=e=>{const t=(0,n.default)(e,"userProfile.organization.details.capabilities",[]).find((e=>"capability.cluster.subscribed_ocp"===e.name));return!(!t||"true"!==t.value)}},51930:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=a(66338),r=a(9104),s=l(a(27361)),o=l(a(45169)),i=a(7046),u=l(a(80338)),d=a(98371),c=a(70774),p=l(a(82355)),m=a(52758);const f=(0,r.reduxForm)({form:"RegisterCluster"})(o.default);t.ZP=(0,n.connect)((e=>{const t=(0,p.default)(e);return{canSubscribeOCP:t,registerClusterResponse:e.clusters.createdCluster,isOpen:(0,u.default)(e,"register-cluster-error"),quotaResponse:(0,s.default)(e,"userProfile.organization",null),initialValues:{cluster_id:"",display_name:"",web_console_url:"",support_level:"",service_level:"",usage:"",system_units:t?m.subscriptionSystemUnits.CORES_VCPU:"",cpu_total:"",socket_total:""}}}),(e=>({closeModal:t=>{e((0,i.closeModal)(t))},openModal:t=>{e((0,i.openModal)(t))},onSubmit:(t,a)=>{e((0,c.registerDisconnectedCluster)(t,a))},resetResponse:()=>e((0,c.resetCreatedClusterResponse)()),resetForm:()=>e((0,r.reset)("RegisterCluster")),getOrganizationAndQuota:()=>e((0,d.getOrganizationAndQuota)())})))(f)},83436:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=a(52758);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}const{PREMIUM:o,STANDARD:i,SELF_SUPPORT:u}=r.subscriptionSupportLevels,{SUPPORT_LEVEL:d,SYSTEM_UNITS:c,CPU_TOTAL:p,SOCKET_TOTAL:m}=r.subscriptionSettings,{CORES_VCPU:f,SOCKETS:E}=r.subscriptionSystemUnits;t.default=e=>{const{[d]:t,[c]:a,[p]:l,[m]:r}=e;if(t!==o&&t!==i&&t!==u)return{request:null,isValid:!0};if(!e.isValid)return{request:null,isValid:!1};const g=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);return a===E&&(g[m]=parseInt(r,10),g[p]=g[m]),a===f&&(g[m]=1,g[p]=parseInt(l,10)),{request:g,isValid:e.isValid}}},31531:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(25967)),i=l(a(76490)),u=l(a(7749));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}class c extends n.Component{componentDidUpdate(){const{archiveClusterResponse:e,resetResponse:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}render(){const{closeModal:e,submit:t,archiveClusterResponse:a,resetResponse:l,subscriptionID:r,name:i,shouldDisplayClusterName:d}=this.props,c=()=>{l(),e()},p=a.error?n.default.createElement(u.default,{message:"Error archiving cluster",response:a}):null;return n.default.createElement(o.default,{title:"Archive cluster",secondaryTitle:d?i:void 0,"data-testid":"archive-cluster-dialog",onClose:c,primaryText:"Archive cluster",onPrimaryClick:()=>t(r,i),isPending:a.pending,onSecondaryClick:c},n.default.createElement(n.default.Fragment,null,p,n.default.createElement(s.Form,{onSubmit:()=>t(r,i)},n.default.createElement("p",null,"Archiving a cluster will remove it from the cluster list and remove the cluster from subscription management."),n.default.createElement("p",null,"This action will not delete the cluster, only remove it from OpenShift Cluster Manager.",n.default.createElement("a",{href:"https://access.redhat.com/articles/4397891",target:"_blank",rel:"noreferrer noopener"},"Instructions"),"for deleting a cluster may be found in the knowledge base."))))}}c.propTypes={closeModal:r.default.func.isRequired,onClose:r.default.func.isRequired,submit:r.default.func.isRequired,resetResponse:r.default.func.isRequired,archiveClusterResponse:r.default.object,subscriptionID:r.default.string.isRequired,name:r.default.string.isRequired,shouldDisplayClusterName:r.default.bool},c.defaultProps={archiveClusterResponse:{}},c.modalName=i.default.ARCHIVE_CLUSTER,t.default=c},3970:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(70774),s=l(a(31531)),o=a(7046);t.default=(0,n.connect)((e=>{const t=e.modal.data;return{archiveClusterResponse:e.clusters.archivedCluster,subscriptionID:t.subscriptionID?t.subscriptionID:"",name:t.name?t.name:"",shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:(t,a)=>{e((0,r.archiveCluster)(t,a))},resetResponse:()=>e((0,r.clearClusterArchiveResponse)()),closeModal:()=>e((0,o.closeModal)())})))(s.default)},97565:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(65996),u=a(18418);class d extends r.default.Component{constructor(e){super(e),(0,n.default)(this,"state",{isOpen:!1}),this.onToggle=(e,t)=>{this.setState({isOpen:t})},this.onSelect=()=>{this.setState((e=>({isOpen:!e.isOpen})))}}render(){const{cluster:e,showConsoleButton:t,openModal:a,isKebab:l,disabled:n,canSubscribeOCP:s,canTransferClusterOwnership:d,toggleSubscriptionReleased:c,canHibernateCluster:p,refreshFunc:m}=this.props,{isOpen:f}=this.state,E=l?r.default.createElement(i.KebabToggle,{isDisabled:n,onToggle:this.onToggle}):r.default.createElement(i.DropdownToggle,{isDisabled:n,onToggle:this.onToggle},"Actions"),g=(0,u.dropDownItems)({cluster:e,showConsoleButton:t,openModal:a,canSubscribeOCP:s,canTransferClusterOwnership:d,canHibernateCluster:p,toggleSubscriptionReleased:c,refreshFunc:m,inClusterList:!1}),h=r.default.createElement(i.Dropdown,{position:i.DropdownPosition.right,onSelect:this.onSelect,dropdownItems:g,toggle:E,isPlain:l,isOpen:f,"data-testid":"cluster-actions-dropdown"});return n?r.default.createElement(o.Tooltip,{content:"You do not have permission to make changes in this cluster. Only cluster owners, cluster editors, and Organization Administrators can make these changes.",position:"bottom"},h):h}}d.propTypes={cluster:s.default.object.isRequired,showConsoleButton:s.default.bool.isRequired,openModal:s.default.func.isRequired,isKebab:s.default.bool,disabled:s.default.bool,canSubscribeOCP:s.default.bool.isRequired,canTransferClusterOwnership:s.default.bool.isRequired,canHibernateCluster:s.default.bool.isRequired,toggleSubscriptionReleased:s.default.func.isRequired,refreshFunc:s.default.func.isRequired},t.default=d},18418:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.actionResolver=h,t.dropDownItems=function(e){let{cluster:t,showConsoleButton:a,openModal:l,canSubscribeOCP:n,canTransferClusterOwnership:r,canHibernateCluster:i,toggleSubscriptionReleased:u,refreshFunc:d,inClusterList:c}=e;return h(t,a,l,n,r,i,u,d,c).map((e=>s.default.createElement(o.DropdownItem,e,e.title)))};var n=l(a(38416)),r=l(a(27361)),s=l(a(28416)),o=a(65996),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(59231)),u=a(52758),d=l(a(52069)),c=l(a(76490)),p=a(24501);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const g=function(e){return e?{isAriaDisabled:!0,tooltipProps:{position:"left",content:e}}:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};function h(e,t,a,l,n,o,m,f,h){var v,b;const _={component:"button"},S=e.state===i.default.UNINSTALLING&&s.default.createElement("span",null,"The cluster is being uninstalled"),C=e.state===i.default.READY,y=!C&&s.default.createElement("span",null,"This cluster is not ready"),O=(0,i.isHibernating)(e)&&(e.state===i.default.RESUMING?s.default.createElement(s.default.Fragment,null,"This cluster is resuming; wait for it to be ready in order to perform actions"):s.default.createElement(s.default.Fragment,null,"This cluster is hibernating; resume cluster in order to perform actions")),I=e.state===i.default.HIBERNATING||e.state===i.default.POWERING_DOWN,R=e.state===i.default.POWERING_DOWN&&s.default.createElement("span",null,"This cluster is powering down; you will be able to resume after it reaches hibernating state."),T="read_only"===(null==e||null===(v=e.status)||void 0===v?void 0:v.configuration_mode)&&s.default.createElement("span",null,"This operation is not available during maintenance"),A=(0,r.default)(e,"console.url",!1),P=!A&&s.default.createElement("span",null,"Admin console is not yet available for this cluster"),D=t=>`${e.id}.menu.${t}`,N=(0,d.default)(e),L=e.product&&e.product.id===u.normalizedProducts.OSDTrial,w=e.canDelete&&e.managed,M=e.canEdit&&e.managed&&!(null!==(b=e.ccs)&&void 0!==b&&b.enabled),k=e.canEdit&&e.managed&&o&&!L&&!(0,i.isHypershiftCluster)(e),x=e.canEdit&&e.managed,j=(0,r.default)(e,"subscription.status",!1)===u.subscriptionStatuses.ARCHIVED,F=e.canEdit&&!e.managed&&e.subscription&&!j,G=e.canEdit&&!e.managed&&e.subscription&&j,U=!e.managed&&e.canEdit&&(t||A)&&!(0,p.isAssistedInstallCluster)(e),V=(0,r.default)(e,"subscription.plan.type",""),H=V===u.normalizedProducts.OCP&&e.canEdit&&l,z=[u.normalizedProducts.OCP,u.normalizedProducts.ARO,u.normalizedProducts.RHOIC].includes(V),W=e.canEdit&&n&&z&&(0,r.default)(e,"subscription.status")!==u.subscriptionStatuses.ARCHIVED,q=C&&e.canEdit&&L;return[t&&E(E({},_),{},{title:"Open console",key:D("adminconsole")},g(S||O||P,{to:A,isExternalLink:!0,rel:"noopener noreferrer"})),e.canEdit&&E(E({},_),{},{title:"Edit display name",key:D("editdisplayname")},g(S,{onClick:()=>a(c.default.EDIT_DISPLAY_NAME,E(E({},e),{},{shouldDisplayClusterName:h}))})),U&&E(E({},_),{},{key:D("editconsoleurl")},g(S,{title:A?"Edit console URL":"Add console URL",onClick:()=>a(c.default.EDIT_CONSOLE_URL,E(E({},e),{},{shouldDisplayClusterName:h}))})),M&&E(E({},_),{},{title:"Edit load balancers and persistent storage",key:D("scalecluster")},g(S||T||O||y,{onClick:()=>a(c.default.SCALE_CLUSTER,E(E({},e),{},{shouldDisplayClusterName:h}))})),x&&E(E({},_),{},{title:"Edit machine pool",key:D("editmachinepools")},g(S||T||O||y,{onClick:()=>a(c.default.EDIT_MACHINE_POOL,{cluster:e,shouldDisplayClusterName:h})})),k&&(()=>{const t=E(E({},_),{},{key:D("hibernatecluster")}),l={clusterID:e.id,clusterName:N,subscriptionID:e.subscription?e.subscription.id:"",shouldDisplayClusterName:h},n=E(E({},t),{},{title:"Hibernate cluster"},g(S||T||y,{onClick:()=>a(c.default.HIBERNATE_CLUSTER,l)})),r=E(E({},t),{},{title:"Resume from Hibernation"},g(R||T,{onClick:()=>a(c.default.RESUME_CLUSTER,l)}));return I?r:n})(),q&&(()=>{const t={clusterID:e.id,cluster:e},l=E(E({},_),{},{title:"Upgrade cluster from Trial",key:D("upgradetrialcluster")});return E(E({},l),g(T,{onClick:()=>a(c.default.UPGRADE_TRIAL_CLUSTER,E(E({},t),{},{shouldDisplayClusterName:h}))}))})(),w&&E(E({},_),{},{title:"Delete cluster",key:D("deletecluster")},g(S||T||O,{onClick:()=>a(c.default.DELETE_CLUSTER,{clusterID:e.id,clusterName:N,shouldDisplayClusterName:h})})),F&&(()=>{const t=E(E({},_),{},{title:"Archive cluster",key:D("archivecluster")}),l={subscriptionID:e.subscription?e.subscription.id:"",name:N};return E(E({},t),g(T,{onClick:()=>a(c.default.ARCHIVE_CLUSTER,E(E({},l),{},{shouldDisplayClusterName:h}))}))})(),G&&(()=>{const t=E(E({},_),{},{title:"Unarchive cluster",key:D("unarchivecluster")}),l={subscriptionID:e.subscription?e.subscription.id:"",name:N};return E(E({},t),g(T,{onClick:()=>a(c.default.UNARCHIVE_CLUSTER,E(E({},l),{},{shouldDisplayClusterName:h}))}))})(),H&&E(E({},_),{},{title:"Edit subscription settings",key:D("editsubscriptionsettings"),onClick:()=>a(c.default.EDIT_SUBSCRIPTION_SETTINGS,{subscription:e.subscription,shouldDisplayClusterName:h})}),W&&(()=>{const t=(0,r.default)(e,"subscription.released",!1),l=t?"Cancel ownership transfer":"Transfer cluster ownership";return E(E({},_),{},{title:l,key:D("transferclusterownership"),onClick:()=>{t?(m((0,r.default)(e,"subscription.id"),!1),f()):a(c.default.TRANSFER_CLUSTER_OWNERSHIP,{subscription:e.subscription,shouldDisplayClusterName:h})}})})()].filter(Boolean)}},14336:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(7046),s=l(a(97565));const o={openModal:r.openModal};t.default=(0,n.connect)(null,o)(s.default)},22831:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(27361)),i=a(36400),u=a(52758);function d(e){let{cluster:t}=e;const a=(0,o.default)(t,"creation_timestamp",""),l={[u.normalizedProducts.OCP]:{name:"OCP",tooltip:"Self-managed OpenShift Container Platform (OCP) cluster"},[u.normalizedProducts.OCP_Assisted_Install]:{name:"OCP",tooltip:"Self-managed OpenShift Container Platform (OCP) cluster"},[u.normalizedProducts.OSD]:{name:"OSD",tooltip:"OpenShift Dedicated (OSD) cluster managed by Red Hat"},[u.normalizedProducts.OSDTrial]:{name:"OSD Trial",tooltip:"OpenShift Dedicated (OSD) cluster trial managed by Red Hat"},[u.normalizedProducts.RHMI]:{name:"RHMI",tooltip:"Red Hat Managed Integration"},[u.normalizedProducts.ROSA]:{name:"ROSA",tooltip:"Red Hat OpenShift Service on AWS"},[u.normalizedProducts.ROSA_HyperShift]:{name:"ROSA",tooltip:"Red Hat OpenShift Service on AWS",label:n.default.createElement(i.PreviewLabel,{creationDateStr:a})},[u.normalizedProducts.ARO]:{name:"ARO",tooltip:"Red Hat OpenShift Service on Azure"},[u.normalizedProducts.RHOIC]:{name:"RHOIC",tooltip:"Red Hat OpenShift Service on IBM Cloud"},[u.normalizedProducts.UNKNOWN]:{name:"N/A",tooltip:"Not Available"}},r=l[(0,o.default)(t,"subscription.plan.id",u.normalizedProducts.UNKNOWN)]||l[u.normalizedProducts.UNKNOWN];return n.default.createElement(s.Tooltip,{content:r.tooltip},n.default.createElement("span",{"data-testid":"clusterType"},r.name,r.label&&n.default.createElement(n.default.Fragment,null,n.default.createElement("br",null),r.label)))}d.propTypes={cluster:r.default.shape({})},t.default=d},15053:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(53688),i=a(10332),u=l(a(74685)),d=a(59231),c=l(a(91885)),p=l(a(52069)),m=l(a(76490)),f=a(52758);const E=e=>{var t,a,l;let{cluster:r,openModal:E,hideOSDUpdates:g}=e;const h=(0,u.default)(r),{upgrade:v}=r.metrics,b=r.managed&&(null===(t=r.version)||void 0===t||null===(t=t.available_upgrades)||void 0===t?void 0:t.length)>0&&h&&!g,_=(null==r||null===(a=r.subscription)||void 0===a?void 0:a.status)===f.subscriptionStatuses.STALE;if("running"===(null==v?void 0:v.state)&&null!=v&&v.version&&(null===(l=r.version)||void 0===l?void 0:l.raw_id)!==v.version)return n.default.createElement("span",null," ","",` ${v.version}`);const S=!r.canEdit||!b||(0,d.isHibernating)(r)||_;return r.managed&&S||!r.managed&&(!v.available||_)||(0,d.isHypershiftCluster)(r)?null:r.managed?n.default.createElement(s.Button,{className:"cluster-update-link pf-v5-u-mt-0",variant:"link",onClick:()=>E(m.default.UPGRADE_WIZARD,{clusterName:(0,p.default)(r),subscriptionID:r.subscription.id}),icon:n.default.createElement(i.OutlinedArrowAltCircleUpIcon,null)},"Update"):r.console&&r.console.url?n.default.createElement("a",{href:`${r.console.url}/settings/cluster`,target:"_blank",rel:"noopener noreferrer"},n.default.createElement(s.Button,{className:"cluster-update-link pf-v5-u-mt-0",variant:"link",icon:n.default.createElement(i.OutlinedArrowAltCircleUpIcon,null)},"Update")):n.default.createElement(s.Popover,{position:"top","aria-label":"Update",bodyContent:n.default.createElement("div",null,"An update is available for this cluster. Navigate to the Cluster settings page in the cluster's web console to update."," ",n.default.createElement("a",{href:c.default.UPDATING_CLUSTER,target:"_blank",rel:"noreferrer noopener"},"Learn more"))},n.default.createElement(s.Button,{className:"cluster-update-link pf-v5-u-mt-0",variant:"link",icon:n.default.createElement(o.InfoCircleIcon,null)},"Update"))};E.propTypes={cluster:r.default.object.isRequired,openModal:r.default.func,hideOSDUpdates:r.default.bool},t.default=E},49276:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(52094)),o=l(a(3970)),i=l(a(33887)),u=l(a(68800)),d=l(a(95015)),c=l(a(16139)),p=l(a(40598)),m=l(a(83454)),f=l(a(78712)),E=l(a(41962)),g=l(a(23177)),h=l(a(79799)),v=l(a(32892)),b=a(48997);function _(e){let{onClose:t,onClusterDeleted:a,clearMachinePools:l}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(v.default,{ModalComponent:c.default,onClose:t}),n.default.createElement(v.default,{ModalComponent:p.default,onClose:t}),n.default.createElement(v.default,{ModalComponent:f.default,onClose:t}),n.default.createElement(v.default,{ModalComponent:m.default,onClose:t,isDialog:!0}),n.default.createElement(v.default,{ModalComponent:s.default,onClose:t}),n.default.createElement(v.default,{ModalComponent:o.default,onClose:t}),n.default.createElement(v.default,{ModalComponent:i.default,onClose:t}),n.default.createElement(v.default,{ModalComponent:u.default,onClose:t}),n.default.createElement(v.default,{ModalComponent:d.default,onClose:t}),n.default.createElement(v.default,{ModalComponent:E.default,onClose:t}),n.default.createElement(v.default,{ModalComponent:h.default}),n.default.createElement(v.default,{ModalComponent:g.default,onClose:e=>{e&&(a?a():t())}}),n.default.createElement(v.default,{ModalComponent:b.ConnectedEditMachinePoolModal,clearMachinePools:l}))}_.propTypes={onClose:r.default.func.isRequired,onClusterDeleted:r.default.func,clearMachinePools:r.default.bool},t.default=_},81965:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(19466));t.default=n.default},86896:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.billingModelConstants=void 0;var l=a(48968);t.constants={clusterNameHint:"This name identifies your cluster in OpenShift Cluster Manager and forms part of the cluster console subdomain.",availabilityHintSingleZone:"Single zone clusters reside in a singular fault domain and lack the resilience of multi-zone clusters.",availabilityHintMultiZone:"Three availability zones provide resilience to cluster components evenly spread across fault domains.",regionHint:"The data center where your compute pool will be located.",persistentStorageHint:"The storage quota set on the deployed cluster.",loadBalancersHint:"The load balancer quota set on the deployed cluster.",computeNodeInstanceTypeHint:"The instance type for the compute nodes. Instance type\n    determines the amount of memory and vCPU allocated to each compute node.",computeNodeCountHint:"The number of compute nodes to provision per zone. The minimum number of compute nodes will vary depending on which features are enabled.",hcpComputeNodeCountHintWizard:"The number of compute nodes to provision per machine pool. The minimum number of compute nodes will vary depending on which features are enabled and how many machine pools will be created.",hcpComputeNodeCountHint:"The number of compute nodes to provision. The minimum number of compute nodes will vary depending on which features are enabled and how many machine pools exist.",machineCIDRHint:"A block of IP addresses used by the OpenShift Container Platform installation\n    program while installing the cluster. The address block must not overlap with any other network\n    block.",serviceCIDRHint:"A block of IP addresses for services. OpenShiftSDN allows only one\n    serviceNetwork block. The address block must not overlap with any other network block.",podCIDRHint:"A block of IP addresses from which Pod IP addresses are allocated. The OpenShiftSDN\n    network plug-in supports multiple cluster networks. The address blocks for multiple cluster\n    networks must not overlap.  Select address pools large enough to fit your anticipated workload.",hostPrefixHint:"The subnet prefix length to assign to each individual node.  For example, if host\n    prefix is set to /23, then each node is assigned a /23 subnet out of the given CIDR, allowing\n    for 510 (2^(32 - 23) - 2) pod IP addresses.",bypassSCPChecksHint:"Some AWS service control policies (SCP) will cause installation to fail even if\n    the credentials have the correct permissions. Disabling SCP checks allows installation to proceed.\n    The SCP will still be enforced even if the checks are bypassed.",enableAdditionalEtcdHint:"When you enable etcd encryption, encryption keys are created. These keys are rotated on a weekly basis.",enableAdditionalEtcdHypershiftHint:"Etcd is always encrypted by ROSA keys. If you want to provide your own AWS KMS key to encrypt etcd, you may do that here.",autoscaleHint:"Autoscaling automatically adds and removes nodes from the cluster based on resource requirements.",keyRing:"A key ring organizes keys in a specific Google Cloud location and allows you to manage access control on groups of keys.",keyName:"A cryptographic key is a resource that is used for encrypting and decrypting data or for producing and verifying digital signatures",keylocation:"A key location represent the geographical regions where a Cloud KMS resource is stored and can be accessed.",kmsserviceAccount:"Compute Engine default service account.",enableUserWorkloadMonitoringHint:"Monitor your own projects in isolation from Red Hat Site Reliability Engineering (SRE) platform metrics.",enableUserWorkloadMonitoringHelp:"This feature is enabled by default and provides monitoring for user-defined projects. \n This includes metrics provided through service endpoints in user-defined projects as well as pods running in user-defined projects.",cloudKMSTitle:"Cloud Key Management Service",cloudKMS:"Cloud KMS is a REST API that can use a key to encrypt, decrypt, or sign data such as secrets for storage.",amazonEBSTitle:"Amazon EBS encryption",amazonEBS:"Provide your own AWS KMS key ARN for encryption of EBS resources associated with your EC2 instances.",awsKeyARN:"The key ARN is the Amazon Resource Name (ARN) of a CMK. It is a unique, fully qualified identifier for the CMK. A key ARN includes the AWS account, Region, and the key ID.",privateLinkHint:"To provide support, Red Hat Site Reliability Engineering (SRE) connects to the cluster using only AWS PrivateLink endpoints instead of public endpoints.  This option cannot be changed after a cluster is created.",clusterProxyHint:"Enable an HTTP or HTTPS proxy to deny direct access to the internet from your cluster.",enableSecureBootHint:`Secure Boot enables the use of Shielded VMs in the Google Cloud Platform. Shielded VMs help protect enterprise workloads from threats like remote attacks, privilege escalation, and malicious insiders. Secure Boot support requires OpenShift version ${l.MIN_SECURE_BOOT_VERSION} or above.`},t.billingModelConstants={standard:"Standard",customerCloudSubscription:"Customer cloud subscription",standardText:"Deploy in cloud provider accounts owned by Red Hat.",customerCloudSubscriptionText:"Leverage your existing cloud provider discounts and settings.",awsCredentialsWarning:"Revoking these credentials in AWS will result in a loss of access to any cluster created with these credentials."}},54795:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=l(a(25967)),u=l(a(76490)),d=l(a(7749)),c=a(69429);class p extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{clusterNameInput:""}),(0,n.default)(this,"setValue",(e=>{this.setState({clusterNameInput:e})}))}componentDidUpdate(e){const{deleteClusterResponse:t,onSuccess:a}=this.props;!e.deleteClusterResponse.fulfilled&&t.fulfilled&&(this.closeDialog(!0),null==a||a())}closeDialog(e){const{clearDeleteClusterResponse:t,close:a,onClose:l}=this.props;this.setState({clusterNameInput:""}),t(),a(),l(e)}render(){const{modalData:e,deleteCluster:t,deleteClusterResponse:a,shouldDisplayClusterName:l,textContent:n,title:s,titleIconVariant:u}=this.props,{clusterID:c,clusterName:p}=e,{clusterNameInput:m}=this.state,f=a.error&&r.default.createElement(d.default,{message:"Error deleting cluster",response:a}),E=a.pending,g=m===p;return r.default.createElement(i.default,{title:s||"Delete cluster",titleIconVariant:u,secondaryTitle:l?p:void 0,onClose:()=>this.closeDialog(!1),primaryText:"Delete",onPrimaryClick:()=>t(c),onSecondaryClick:()=>this.closeDialog(!1),isPrimaryDisabled:!g||E,isPending:E,primaryVariant:"danger","data-testid":"delete-cluster-dialog"},r.default.createElement(o.Flex,{direction:{default:"column"}},f,r.default.createElement("p",null,n||"This action cannot be undone. It will uninstall the cluster, and all data will be deleted."),r.default.createElement("p",null,"Confirm deletion by typing ",r.default.createElement("strong",null,p)," below:"),r.default.createElement(o.Form,{onSubmit:e=>{e.preventDefault(),g&&!E&&t(c)}},r.default.createElement(o.TextInput,{type:"text",value:m,placeholder:"Enter name",onChange:(e,t)=>this.setValue(t),"aria-label":"cluster name"}))))}}p.propTypes={modalData:s.default.shape({clusterName:s.default.string,clusterID:s.default.string}),clearDeleteClusterResponse:s.default.func.isRequired,close:s.default.func.isRequired,deleteCluster:s.default.func.isRequired,deleteClusterResponse:s.default.object,onClose:s.default.func,shouldDisplayClusterName:s.default.bool,textContent:s.default.string,title:s.default.string,titleIconVariant:s.default.string,onSuccess:s.default.func},p.defaultProps={onClose:c.noop},p.modalName=u.default.DELETE_CLUSTER,t.default=p},64834:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deletedClusterResponse=t.deleteClusterDialogActions=t.deleteCluster=void 0;var l=a(85567),n=a(33047);const r=e=>({type:l.deleteClusterDialogConstants.DELETE_CLUSTER,payload:n.clusterService.deleteCluster(e)});t.deleteCluster=r;const s=()=>({type:l.deleteClusterDialogConstants.CLEAR_DELETE_CLUSTER_RESPONSE});t.deletedClusterResponse=s,t.deleteClusterDialogActions={deleteCluster:r,deletedClusterResponse:s}},85567:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteClusterDialogConstants=t.DELETE_CLUSTER=t.CLEAR_DELETE_CLUSTER_RESPONSE=void 0;const a=t.DELETE_CLUSTER="DELETE_CLUSTER",l=t.CLEAR_DELETE_CLUSTER_RESPONSE="CLEAR_DELETE_CLUSTER_RESPONSE";t.deleteClusterDialogConstants={DELETE_CLUSTER:a,CLEAR_DELETE_CLUSTER_RESPONSE:l}},95214:(e,t,a)=>{"use strict";var l=a(64836);t.yQ=p;var n=l(a(38416)),r=a(25684),s=a(52220),o=a(34693),i=a(85567);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c=d(d({},s.baseRequestState),{},{cluster:null});function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,s.REJECTED_ACTION)(i.deleteClusterDialogConstants.DELETE_CLUSTER):return d(d({},c),(0,o.getErrorState)(t));case(0,s.PENDING_ACTION)(i.deleteClusterDialogConstants.DELETE_CLUSTER):e.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.deleteClusterDialogConstants.DELETE_CLUSTER):return d(d({},c),{},{cluster:t.payload.data,fulfilled:!0});case i.deleteClusterDialogConstants.CLEAR_DELETE_CLUSTER_RESPONSE:return c}}))}p.initialState=c},23177:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=a(66338),s=a(64834),o=a(7046),i=l(a(54795));function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={clearDeleteClusterResponse:()=>s.deleteClusterDialogActions.deletedClusterResponse(),deleteCluster:e=>s.deleteClusterDialogActions.deleteCluster(e),close:()=>(0,o.closeModal)("delete-cluster")};t.default=(0,r.connect)((e=>({modalData:e.modal.data,deleteClusterResponse:e.deleteCluster,shouldDisplayClusterName:e.modal.data.shouldDisplayClusterName||!1})),c,((e,t,a)=>d(d(d({},e),t),a)))(i.default)},15986:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(65652),i=a(12812),u=l(a(25967)),d=l(a(76490)),c=l(a(7749)),p=a(90181);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}class f extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{currentValue:""})}componentDidMount(){const{consoleURL:e}=this.props;this.setState({currentValue:e})}componentDidUpdate(){const{editClusterResponse:e,resetResponse:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}setValue(e){this.setState({currentValue:e})}render(){const{closeModal:e,submit:t,editClusterResponse:a,resetResponse:l,clusterID:n,subscriptionID:s,consoleURL:d,shouldDisplayClusterName:m,clusterDisplayName:f}=this.props,{currentValue:E}=this.state,g=()=>{this.setState({currentValue:""}),l(),e()},h=a.error&&r.default.createElement(c.default,{message:"Error changing console URL",response:a}),v=(0,p.checkClusterConsoleURL)(E,!0),b=()=>{v||t(n,s,E)},_=E!==d;return r.default.createElement(u.default,{"data-testid":"edit-console-url-dialog",title:d?"Edit console URL":"Add console URL",secondaryTitle:m?f:void 0,onClose:g,primaryText:d?"Save":"Add URL",secondaryText:"Cancel",onPrimaryClick:b,onSecondaryClick:g,isPrimaryDisabled:!!v||!_},r.default.createElement(r.default.Fragment,null,h,!d&&r.default.createElement("p",null,"Adding a cluster's web console URL will allow you to launch the web console from the OpenShift Cluster Manager."),r.default.createElement(o.Form,{onSubmit:e=>{b(),e.preventDefault()}},r.default.createElement(o.FormGroup,{label:"Web console URL",fieldId:"edit-console-url-input"},r.default.createElement(o.TextInput,{type:"text",validated:_&&v?"error":"default",value:E,placeholder:"https://console-openshift-console.apps.mycluster.example.com/",onChange:(e,t)=>this.setValue(t),"aria-label":"Web console URL",id:"edit-console-url-input"}),r.default.createElement(i.FormGroupHelperText,{touched:_,error:v})))))}}f.propTypes={closeModal:s.default.func.isRequired,onClose:s.default.func.isRequired,submit:s.default.func.isRequired,resetResponse:s.default.func.isRequired,editClusterResponse:s.default.object,consoleURL:s.default.string,clusterID:s.default.string,subscriptionID:s.default.string,shouldDisplayClusterName:s.default.bool,clusterDisplayName:s.default.string},f.defaultProps={editClusterResponse:{}},f.modalName=d.default.EDIT_CONSOLE_URL,t.default=f},40598:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(27361)),s=a(70774),o=l(a(15986)),i=a(7046),u=l(a(52069));t.default=(0,n.connect)((e=>{const t=e.modal.data;return{editClusterResponse:e.clusters.editedCluster,clusterID:t.id,subscriptionID:(0,r.default)(t,"subscription.id"),consoleURL:t.console_url||(0,r.default)(t,"console.url",""),shouldDisplayClusterName:e.modal.data.shouldDisplayClusterName||!1,clusterDisplayName:(0,u.default)(t)}}),(e=>({submit:(t,a,l)=>{let n=l;l.endsWith("/")&&(n=l.substring(0,l.length-1)),e((0,s.editClusterConsoleURL)(t,a,n))},resetResponse:()=>e((0,s.clearClusterResponse)()),closeModal:()=>e((0,i.closeModal)())})))(o.default)},69284:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(65652),i=a(12812),u=l(a(25967)),d=l(a(7749)),c=l(a(76490)),p=a(90181);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}class f extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{currentValue:""})}componentDidMount(){const{displayName:e}=this.props;this.setState({currentValue:e})}componentDidUpdate(){const{editClusterResponse:e,resetResponse:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}setValue(e){this.setState({currentValue:e})}render(){const{closeModal:e,submit:t,editClusterResponse:a,resetResponse:l,subscriptionID:n,shouldDisplayClusterName:s,displayName:c}=this.props,{currentValue:m}=this.state,f=()=>{l(),e()},E=a.error&&r.default.createElement(d.default,{message:"Error changing display name",response:a}),{pending:g}=a,h=(0,p.checkClusterDisplayName)(m),v=()=>{h||t(n,m)};return r.default.createElement(u.default,{title:"Edit display name",secondaryTitle:s?c:void 0,"data-testid":"edit-displayname-modal",onClose:f,primaryText:"Edit",secondaryText:"Cancel",onPrimaryClick:v,onSecondaryClick:f,isPrimaryDisabled:!!h||m===c,isPending:g},r.default.createElement(r.default.Fragment,null,E,r.default.createElement(o.Form,{onSubmit:e=>{v(),e.preventDefault()}},r.default.createElement(o.FormGroup,{fieldId:"edit-display-name-input"},r.default.createElement(o.TextInput,{type:"text",validated:h?"error":"default",value:m,placeholder:"Enter display name",onChange:(e,t)=>this.setValue(t),"aria-label":"Edit display name",id:"edit-display-name-input"}),r.default.createElement(i.FormGroupHelperText,{touched:!0,error:h})))))}}f.propTypes={closeModal:s.default.func.isRequired,onClose:s.default.func.isRequired,submit:s.default.func.isRequired,resetResponse:s.default.func.isRequired,editClusterResponse:s.default.object,displayName:s.default.string,subscriptionID:s.default.string,shouldDisplayClusterName:s.default.bool},f.defaultProps={editClusterResponse:{}},f.modalName=c.default.EDIT_DISPLAY_NAME,t.default=f},16139:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(27361)),s=a(70774),o=l(a(69284)),i=a(7046),u=l(a(52069));t.default=(0,n.connect)((e=>{const t=e.modal.data;return{editClusterResponse:e.clusters.editedCluster,clusterID:t.id,subscriptionID:(0,r.default)(t,"subscription.id"),displayName:(0,u.default)(t),shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:(t,a)=>{e((0,s.editClusterDisplayName)(t,a))},resetResponse:()=>e((0,s.clearClusterResponse)()),closeModal:()=>e((0,i.closeModal)())})))(o.default)},83704:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(27361)),r=l(a(30236)),s=a(1290);const{SUBSCRIBED_OCP:o,SUBSCRIBED_OCP_MARKETPLACE:i}=s.subscriptionCapabilities;t.default=e=>{const t=(0,n.default)(e,"clusters.clusters.clusters",[]),a=(0,s.haveCapabilities)(t,o),l=(0,s.haveCapabilities)(t,i);return(0,r.default)(a,l,((e,t)=>e||t))}},70826:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(27361)),r=a(1290);const{SUBSCRIBED_OCP:s,SUBSCRIBED_OCP_MARKETPLACE:o}=r.subscriptionCapabilities;t.default=e=>{const t=(0,n.default)(e,"clusters.details.cluster.subscription",null);return(0,r.hasCapability)(t,s)||(0,r.hasCapability)(t,o)}},86512:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(65652),i=l(a(25967)),u=l(a(76490)),d=l(a(76617)),c=l(a(5310)),p=a(1290);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const{SUBSCRIBED_OCP:f,SUBSCRIBED_OCP_MARKETPLACE:E}=p.subscriptionCapabilities;class g extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{isValid:!0}),(0,n.default)(this,"handleSubmit",(()=>{const{submit:e,subscription:t}=this.props;e(t.id,this.state)})),(0,n.default)(this,"handleClose",(()=>{const{closeModal:e}=this.props;e()})),(0,n.default)(this,"handleSettingsChange",(e=>{this.setState(e)}))}render(){const{requestState:e,onClose:t,subscription:a,clusterDisplayName:l,shouldDisplayClusterName:n}=this.props,{isValid:s}=this.state;return r.default.createElement(i.default,{title:"Subscription settings",secondaryTitle:n?l:void 0,width:810,variant:"large",onClose:this.handleClose,primaryText:"Save",secondaryText:"Cancel",onPrimaryClick:this.handleSubmit,onSecondaryClick:this.handleClose,isPrimaryDisabled:e.pending||!s},r.default.createElement(d.default,{requestState:e,onFulfilled:()=>{this.handleClose(),t()}}),r.default.createElement(o.Form,{onSubmit:e=>{this.handleSubmit(),e.preventDefault()},className:"subscription-settings form"},r.default.createElement(o.TextContent,null,r.default.createElement(o.Text,{component:o.TextVariants.p},"Edit your subscription settings to receive the correct level of cluster support.")),r.default.createElement(c.default,{initialSettings:a,onSettingsChange:this.handleSettingsChange,canSubscribeStandardOCP:(0,p.hasCapability)(a,f),canSubscribeMarketplaceOCP:(0,p.hasCapability)(a,E)})))}}g.propTypes={subscription:s.default.object,requestState:s.default.object,closeModal:s.default.func,submit:s.default.func,onClose:s.default.func,clusterDisplayName:s.default.string,shouldDisplayClusterName:s.default.bool},g.defaultProps={subscription:{}},g.modalName=u.default.EDIT_SUBSCRIPTION_SETTINGS,t.default=g},5310:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(27707),i=a(65652),u=a(15265),d=a(12812),c=a(79687),p=l(a(91885)),m=a(52758),f=l(a(68248)),E=l(a(42517));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const{SUPPORT_LEVEL:b,USAGE:_,SERVICE_LEVEL:S,PRODUCT_BUNDLE:C,SYSTEM_UNITS:y,CLUSTER_BILLING_MODEL:O,CPU_TOTAL:I,SOCKET_TOTAL:R}=m.subscriptionSettings,{EVAL:T,PREMIUM:A,STANDARD:P,SELF_SUPPORT:D,NONE:N}=m.subscriptionSupportLevels,{L1_L3:L,L3_ONLY:w}=m.subscriptionServiceLevels,{PRODUCTION:M,DEV_TEST:k,DISASTER_RECOVERY:x}=m.subscriptionUsages,{OPENSHIFT:j,JBOSS_MIDDLEWARE:F,IBM_CLOUDPAK:G}=m.subscriptionProductBundles,{CORES_VCPU:U,SOCKETS:V}=m.subscriptionSystemUnits,{STANDARD:H,MARKETPLACE:z}=m.billingModels,{DISCONNECTED:W}=m.subscriptionStatuses,q="Annual: Fixed capacity subscription from Red Hat",B="On-Demand (Hourly): Flexible usage billed through Red Hat Marketplace";class $ extends r.Component{constructor(){var e;super(...arguments),e=this,(0,n.default)(this,"state",{}),(0,n.default)(this,"options",{[b]:[],[S]:[],[_]:[],[y]:[],[O]:[]}),(0,n.default)(this,"doInit",(e=>{const t=this.resetOptions(e);$.isDisconnected(e)&&(t[I]=(0,o.get)(e,I,1),t[R]=(0,o.get)(e,R,1)),this.setState(t,(()=>{const{[O]:e}=this.state;e===z?this.handleChange(O,z):this.publishChange()}))})),(0,n.default)(this,"resetOptions",(e=>{const t={};return[b,_,S,y,O].forEach((a=>{const l=this.getOptions(e,a);this.options[a]=l;const n=(0,o.findIndex)(l,"isChecked");n>=0&&(t[a]=l[n].value)})),t})),(0,n.default)(this,"getOptions",((e,t)=>{const a=(0,o.get)(e,t),{canSubscribeStandardOCP:l,canSubscribeMarketplaceOCP:n}=this.props;let s=[];switch(t){case b:s=[{label:"Premium",value:A},{label:"Standard",value:P},{label:"Self-Support",value:D}],a!==T&&e.id?a===N&&s.push({label:r.default.createElement("span",{className:"subscription-settings expired-eval-option"},"Expired evaluation"),value:N}):s.push({label:"Self-Support 60-day evaluation",value:T});break;case _:s=[{label:"Production",value:M,isDefault:!0},{label:"Development/Test",value:k},{label:"Disaster Recovery",value:x}];break;case S:s=[{label:"Red Hat support (L1-L3)",value:L,isDefault:!0},{label:"Partner support (L3)",value:w}];break;case C:s=[{label:"OpenShift",value:j,isDefault:!0},{label:"JBoss Middleware",value:F},{label:"IBM CloudPak",value:G}];break;case y:s=[{label:"Cores or vCPUs",value:U,isDefault:!0},{label:"Sockets",value:V}];break;case O:s=[{label:q,value:H},{label:B,value:z}],l?s[0].isDefault=!0:n?s[1].isDefault=!0:s[0].isDefault=!0}const i=(0,o.findIndex)(s,{value:a});if(i>=0)s[i].isChecked=!0;else{const e=(0,o.findIndex)(s,"isDefault");e>=0&&(s[e].isChecked=!0)}return s})),(0,n.default)(this,"validateSystemUnitsNumericField",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{[y]:a,[I]:l,[R]:n}=e.state,r=t||(a===V?n:l),s=a===V?"Sockets":"Cores or vCPUs";return/^\d+$/.test(`${r}`)?+r<1?{isValid:!1,errorMsg:`${s} value must be an integer number greater than 0.`}:{isValid:!0,errorMsg:""}:{isValid:!1,errorMsg:`${s} value can only be a positive integer number.`}})),(0,n.default)(this,"publishChange",(()=>{let e=!0;const{initialSettings:t}=this.props,{[b]:a}=this.state;a!==A&&a!==P&&a!==D&&(e=!1),e&&$.isDisconnected(t)&&(e=this.validateSystemUnitsNumericField().isValid);const{onSettingsChange:l}=this.props;l(v(v({},this.state),{},{isValid:e}))})),(0,n.default)(this,"handleChange",((e,t)=>{if(e===O&&t===z){const{initialSettings:e}=this.props,t=v(v({},e),{},{[b]:A,[S]:L,[_]:M,[y]:U,[O]:z});this.setState(this.resetOptions(t),this.publishChange)}else this.setState({[e]:t},this.publishChange)})),(0,n.default)(this,"handleUnitsNumberChange",(e=>{const{name:t,value:a}=e.target,l=Number(a),{isValid:n}=this.validateSystemUnitsNumericField(l);n?this.handleChange(t,parseInt(l,10)):this.handleChange(t,a)})),(0,n.default)(this,"handleUnitsNumberDelta",(e=>(t,a)=>{const{[a]:l}=this.state,{isValid:n}=this.validateSystemUnitsNumericField(l);n?this.handleChange(a,parseInt(l+e,10)):this.handleChange(a,1)}))}componentDidMount(){const{initialSettings:e}=this.props;this.doInit(e)}UNSAFE_componentWillReceiveProps(e){const{initialSettings:t}=e,{initialSettings:a}=this.props;a===t||(0,o.isEqual)(a,t)||this.doInit(t)}render(){const{initialSettings:e,canSubscribeStandardOCP:t,canSubscribeMarketplaceOCP:a}=this.props,{[O]:l,[b]:n,[y]:s}=this.state,m=!t&&!a,g=n!==A&&n!==P&&n!==D,h=l===z,v=(0,o.get)(e,O),C=t&&a&&v!==H&&v!==z;let T="Your subscription type can't be altered after you set it.";C||(T=v===H?`Cluster subscription type is ${q}`:v===z||a?`Cluster subscription type is ${B}`:$.isDisconnected(e)?`Disconnected clusters subscription type is ${q}`:`Cluster subscription type is ${q}`);const N=r.default.createElement(i.Alert,{id:"subscription-settings-cluster-billing-model-alert",variant:"info",isInline:!0,title:T},r.default.createElement("a",{href:p.default.OCM_DOCS_SUBSCRIPTIONS,target:"_blank",rel:"noreferrer noopener"},"Learn more about subscriptions"," ",r.default.createElement(i.Icon,{size:"sm"},r.default.createElement(u.ExternalLinkAltIcon,{color:"#0066cc"})))),L=["subscription-settings","radio-group"],w=L.join(" ");let M=null;if(h){const e=`.${L.join(".")} .pf-v5-c-form__group-control`,t=C?1:0,a=[0,1,2,3].map((a=>r.default.createElement(i.Tooltip,{key:a,content:r.default.createElement("div",null,"Red Hat Marketplace subscription settings are pre-set and cannot be altered."),position:"right",triggerRef:()=>{const l=document.querySelectorAll(e),n=t+a;return n<l.length?l[n]:(console.error(`Edit Subscription tooltip: error selecting ${e} (${n})`),null)}})));M=r.default.createElement(r.default.Fragment,null,a)}const k=$.isDisconnected(e);let x="";k&&(x=this.validateSystemUnitsNumericField().errorMsg);const j=k?(0,o.get)(this.state,I,0):(0,o.get)(e,I,0),F=k?(0,o.get)(this.state,R,0):(0,o.get)(e,R,0),G="subscription-settings-label-tooltip-icon",U=r.default.createElement(r.default.Fragment,null,r.default.createElement("span",null,"Service level agreement (SLA)"),r.default.createElement(f.default,{id:"subscripiton-settings-support-level-hint",headerContent:"Service level agreement (SLA)",hint:r.default.createElement(i.TextContent,null,r.default.createElement(i.Text,{component:i.TextVariants.p},"How your subscription is supported, including the hours of support coverage and support ticket response times."),r.default.createElement(i.Text,{component:i.TextVariants.p},r.default.createElement(E.default,{href:"https://access.redhat.com/support/"},"Production Support Terms of Service"))),iconClassName:G,hasAutoWidth:!0,maxWidth:"30.0rem"})),W=r.default.createElement(r.default.Fragment,null,r.default.createElement("span",null,"Support type"),r.default.createElement(f.default,{id:"subscripiton-settings-service-level-hit",headerContent:"Support type",hint:r.default.createElement(i.TextContent,null,r.default.createElement(i.Text,{component:i.TextVariants.p},"Who you can call for primary support.")),iconClassName:G})),Z=r.default.createElement(r.default.Fragment,null,r.default.createElement("span",null,"Cluster usage"),r.default.createElement(f.default,{id:"subscripiton-settings-usage-hint",headerContent:"Cluster usage",hint:r.default.createElement(i.TextContent,null,r.default.createElement(i.Text,{component:i.TextVariants.p},"How you are using this cluster.")),iconClassName:G})),Y=r.default.createElement(r.default.Fragment,null,r.default.createElement("span",null,"Subscription units"),r.default.createElement(f.default,{id:"subscripiton-settings-system-units-hint",headerContent:"Subscription units",hint:r.default.createElement(i.TextContent,null,r.default.createElement(i.Text,{component:i.TextVariants.p},"How usage is measured for your subscription.")),iconClassName:G})),K=s===V?F:j,Q=s===V?"Sockets":"Cores or vCPUs",J=k?r.default.createElement(i.NumberInput,{value:K,min:1,inputName:s===V?R:I,isDisabled:m||h||g,onMinus:this.handleUnitsNumberDelta(-1),onPlus:this.handleUnitsNumberDelta(1),onChange:this.handleUnitsNumberChange,inputAriaLabel:s===V?"Number of sockets (excluding control plane nodes)":"Number of compute cores (excluding control plane nodes)",minusBtnAriaLabel:"decrement the number by 1",plusBtnAriaLabel:"increment the number by 1",widthChars:5}):r.default.createElement(r.default.Fragment,null,r.default.createElement("span",{id:"cpu-socket-value"},`${K} ${Q}`),r.default.createElement(f.default,{id:"cpu-socket-value-hint",hint:"This data is gathered directly from the telemetry metrics submitted by the cluster and cannot be changed.",iconClassName:G,hasAutoWidth:!0,maxWidth:"30.0rem"}));return r.default.createElement(r.default.Fragment,null,C&&r.default.createElement(c.ReduxFormRadioGroup,{name:O,fieldId:O,isRequired:!0,label:"Subscription type",className:w,items:this.options[O],onChange:this.handleChange}),!m&&N,r.default.createElement(c.ReduxFormRadioGroup,{name:b,fieldId:b,label:U,className:w,items:this.options[b],onChange:this.handleChange,isDisabled:m||h}),r.default.createElement(c.ReduxFormRadioGroup,{name:S,fieldId:S,label:W,className:w,items:this.options[S],onChange:this.handleChange,isDisabled:m||h||g}),r.default.createElement(c.ReduxFormRadioGroup,{name:_,fieldId:_,label:Z,className:w,items:this.options[_],onChange:this.handleChange,isDisabled:m||h||g}),r.default.createElement(c.ReduxFormRadioGroup,{name:y,fieldId:y,label:Y,className:w,items:this.options[y],onChange:this.handleChange,isDisabled:m||h||g,isInline:!0}),r.default.createElement(i.FormGroup,{label:s===V?"Number of sockets (excluding control plane nodes)":"Number of compute cores (excluding control plane nodes)",isRequired:k},J,r.default.createElement(d.FormGroupHelperText,{touched:!0,error:x},k&&`${s} value can be any integer larger than 1`)),M)}}(0,n.default)($,"isDisconnected",(e=>(0,o.get)(e,"status")===W||!(0,o.get)(e,"id",!1))),$.propTypes={initialSettings:s.default.object,onSettingsChange:s.default.func.isRequired,canSubscribeMarketplaceOCP:s.default.bool,canSubscribeStandardOCP:s.default.bool},$.defaultProps={initialSettings:{[b]:T}},t.default=$},76617:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=l(a(7749));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}class i extends n.Component{componentDidUpdate(){const{requestState:e,onFulfilled:t}=this.props;e.fulfilled&&t()}render(){const{requestState:e}=this.props;return e.error?n.default.createElement(s.default,{message:"Error updating subscription settings",response:e}):null}}i.propTypes={requestState:r.default.object.isRequired,onFulfilled:r.default.func.isRequired},t.default=i},83454:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(30366),s=l(a(86512)),o=a(7046),i=l(a(52069));t.default=(0,n.connect)((e=>({subscription:e.modal.data.subscription,requestState:e.subscriptionSettings.requestState,shouldDisplayClusterName:e.modal.data.shouldDisplayClusterName||!1,clusterDisplayName:(0,i.default)(e.modal.data)})),(e=>({submit:(t,a)=>{const l=a;a.socket_total&&"Sockets"===a.system_units&&(l.socket_total=parseInt(a.socket_total,10),l.cpu_total=l.socket_total),a.cpu_total&&"Cores/vCPU"===a.system_units&&(l.cpu_total=parseInt(a.cpu_total,10),l.socket_total=1),e((0,r.editSubscriptionSettings)(t,l))},closeModal:()=>{e((0,r.clearEditSubscriptionSettingsResponse)()),e((0,o.closeModal)())}})))(s.default)},30770:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(25967)),i=l(a(76490)),u=l(a(7749)),d=l(a(76837)),c=l(a(16534)),p=l(a(4899)),m=l(a(76467));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{getSchedules:e,clusterID:t,clusterUpgrades:a}=this.props;t&&!a.pending&&e(t)}componentDidUpdate(){const{hibernateClusterResponse:e,resetResponses:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}render(){const{closeModal:e,submit:t,hibernateClusterResponse:a,resetResponses:l,clusterID:r,clusterName:i,clusterUpgrades:f,history:E,subscriptionID:g,shouldDisplayClusterName:h}=this.props,v=e=>f.items.filter((t=>{var a;return(null===(a=t.state)||void 0===a?void 0:a.value)===e})),b=()=>{l(),e()},_=a.error?n.default.createElement(u.default,{message:"Error hibernating cluster",response:a}):null,S=v("scheduled");let C,y,O="Close";return v("started").length>0?(y=!1,O="See version update details",C=n.default.createElement(p.default,{clusterName:i})):S.length>0?(y=!1,O="Change cluster upgrade policy",C=n.default.createElement(c.default,{clusterName:i,nextRun:S[0].next_run})):(y=!0,C=n.default.createElement(d.default,{clusterName:i,isHibernating:!1})),n.default.createElement(o.default,{"aria-label":"hibernate-cluster-modal",header:n.default.createElement(m.default,{title:"Hibernate cluster"}),titleIconVariant:"danger",secondaryTitle:h?i:void 0,primaryText:y?"Hibernate cluster":"Close",onPrimaryClick:()=>{y?t(r):b()},secondaryText:O,onSecondaryClick:()=>{b(),y||(E.location.pathname.startsWith("/details/s/")?window.location.hash="#updateSettings":E.push({pathname:`/details/s/${g}`,hash:"#updateSettings"}))},onClose:b,isPending:a.pending||f.pending},n.default.createElement(s.Form,{onSubmit:t},_,C))}}E.propTypes={clusterID:r.default.string.isRequired,subscriptionID:r.default.string.isRequired,clusterName:r.default.string.isRequired,closeModal:r.default.func.isRequired,resetResponses:r.default.func.isRequired,getSchedules:r.default.func.isRequired,clusterUpgrades:r.default.shape({fulfilled:r.default.bool,pending:r.default.bool,items:r.default.array}).isRequired,hibernateClusterResponse:r.default.shape({fulfilled:r.default.bool,pending:r.default.bool,error:r.default.bool}),submit:r.default.func.isRequired,onClose:r.default.func.isRequired,history:r.default.shape({push:r.default.func.isRequired,location:r.default.shape({pathname:r.default.string.isRequired})}).isRequired,shouldDisplayClusterName:r.default.bool},E.defaultProps={hibernateClusterResponse:{}},E.modalName=i.default.HIBERNATE_CLUSTER,t.default=E},59025:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.userCanHibernateClustersSelector=t.canHibernateClusterListSelector=void 0;var n=l(a(27361));const r=e=>{const t=(0,n.default)(e,"userProfile.organization.details.capabilities",[]).find((e=>"capability.organization.hibernate_cluster"===e.name));return"true"===(null==t?void 0:t.value)};t.userCanHibernateClustersSelector=r,t.canHibernateClusterListSelector=e=>{const t=r(e),a={};return t&&(0,n.default)(e,"clusters.clusters.clusters",[]).forEach((e=>{a[e.id]=!0})),a}},33887:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(13126),s=a(70774),o=l(a(30770)),i=a(7046),u=a(57572);t.default=(0,r.withRouter)((0,n.connect)((e=>{const t=e.modal.data;return{hibernateClusterResponse:e.clusters.hibernatingCluster,clusterID:t.clusterID?t.clusterID:"",clusterName:t.clusterName?t.clusterName:"",clusterUpgrades:e.clusterUpgrades.schedules,subscriptionID:t.subscriptionID?t.subscriptionID:"",shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:t=>{e((0,s.hibernateCluster)(t))},resetResponses:()=>{e((0,s.clearHibernateClusterResponse)()),e((0,u.clearPostedUpgradeScheduleResponse)())},getSchedules:t=>e((0,u.getSchedules)(t)),closeModal:()=>e((0,i.closeModal)())})))(o.default))},12622:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(85481),i=a(94768),u=l(a(59231)),d=l(a(76490)),c=l(a(26746));function p(e){var t;let a,l,r,{cluster:p,openModal:m}=e,f=!1,E=null;const g="read_only"===(null==p||null===(t=p.status)||void 0===t?void 0:t.configuration_mode)&&"This operation is not available during maintenance",h=!p.canEdit&&"You do not have permission to resume from hibernation. Only cluster owners, cluster editors, and Organization Administrators can change hibernation state.";switch(p.state){case u.default.RESUMING:l="Cluster is resuming from hibernation",r="This might take a few minutes!",a=i.InProgressIcon;break;case u.default.POWERING_DOWN:l="Cluster is powering down and moving to a hibernating state",r="The cluster will not utilize any infrastructure and all operations will not be available",a=i.InProgressIcon;break;default:l="Cluster is currently hibernating",r="The cluster is not utilizing any infrastructure and all operations will not be available",a=o.AsleepIcon,f=!0,E=g||h}return n.default.createElement(s.Card,null,n.default.createElement(s.CardBody,null,n.default.createElement(s.EmptyState,{variant:s.EmptyStateVariant.sm},n.default.createElement(s.EmptyStateHeader,{titleText:l,icon:n.default.createElement(s.EmptyStateIcon,{icon:a}),headingLevel:"h4"}),n.default.createElement(s.EmptyStateBody,null,r),n.default.createElement(s.EmptyStateFooter,null,n.default.createElement(s.EmptyStateActions,null,f&&n.default.createElement(c.default,{variant:"link",disableReason:E,onClick:()=>{const e={clusterID:p.id,clusterName:p.name,subscriptionID:p.subscription.id};m(d.default.RESUME_CLUSTER,e)}},"Resume from Hibernation"))))))}p.propTypes={cluster:r.default.object.isRequired,openModal:r.default.func.isRequired},t.default=p},82820:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(45697)),r=l(a(27361)),s=a(52758);function o(e){let{cluster:t}=e;const a=(0,r.default)(t,"subscription.plan.type"),{OSD:l}=s.normalizedProducts,n=(0,r.default)(t,"ccs.enabled");return n?"Customer cloud subscription":a!==l||n?"Standard":"Red Hat cloud account"}o.propTypes={cluster:n.default.shape({subscription:n.default.shape({plan:n.default.shape({type:n.default.oneOf(Object.values(s.normalizedProducts)).isRequired})})})},t.default=o},71988:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(93162)),o=l(a(55733)),i=a(65652),u=a(33047),d=a(36615);function c(e){let{cluster:t}=e;const[a,l]=n.default.useState(),[r,c]=n.default.useState(),[p,m]=n.default.useState(),[f,E]=n.default.useState(""),g=a&&r&&p;return n.default.useEffect((()=>{const e=(0,d.getAWSAccountID)(t);u.clusterService.getOperatorRoleCommands(e,t.id,t.aws.sts.role_arn).then((e=>{l(e.data.commands)})).catch((e=>{E(e.message||"Could not fetch commands.")}))}),[]),n.default.useEffect((()=>{u.accountsService.getPolicies().then((e=>{c(e.data.items)})).catch((e=>{E(e.message||"Could not fetch policies.")}))}),[]),n.default.useEffect((()=>{u.accountsService.getCredentialRequests().then((e=>{m(e.data.items)})).catch((e=>{E(e.message||"Could not fetch credential requests.")}))}),[]),n.default.createElement(i.Stack,{hasGutter:!0},f&&n.default.createElement(i.StackItem,null,n.default.createElement(i.Alert,{isInline:!0,variant:"danger",title:"Something went wrong"},n.default.createElement("p",null,f),n.default.createElement("p",null,"You will need to use "," the ROSA CLI to create the operator roles and OIDC provider."))),n.default.createElement(i.StackItem,null,n.default.createElement(i.TextContent,null,n.default.createElement(i.TextList,{component:i.TextListVariants.ol},n.default.createElement(i.TextListItem,null,"Download and extract the following .zip file."),n.default.createElement(i.TextListItem,null,"In the AWS CLI, run the commands with the included policy files to create the operator roles and OIDC provider.")),n.default.createElement(i.Button,{variant:"secondary",onClick:async()=>{try{const e=new o.default;e.file("README","To create the operator roles and OIDC provider for your ROSA cluster, run the\nAWS commands from commands.txt in the directory containing the policy files\nextracted from the ZIP. Cluster installation will continue automatically when\nthe roles and OIDC provider are available.\n"),e.file("commands.txt",a.map((e=>{let{command:t}=e;return t})).join("\n\n")),function(){const e=r.find((e=>{let{id:t}=e;return"operator_iam_role_policy"===t})),a=(0,d.getOIDCEndpointNoScheme)(t),l=(0,d.getOIDCProviderARN)(t);return t.aws.sts.operator_iam_roles.map((t=>{const n=p.find((e=>e.operator.name===t.name&&e.operator.namespace===t.namespace)),r=n.operator.service_accounts.map((e=>`system:serviceaccount:${t.namespace}:${e}`));return{filename:`operator_${n.name}_policy.json`,content:e.details.replace("%{issuer_url}",a).replace("%{service_accounts}",r.join('", "')).replace("%{oidc_provider_arn}",l)}}))}().forEach((t=>{let{filename:a,content:l}=t;e.file(a,l)}));const l=await e.generateAsync({type:"blob"});s.default.saveAs(l,`${t.name}-manual-commands.zip`)}catch(e){E(e.message||"An error occurred creating the ZIP file.")}},isDisabled:!g},g?n.default.createElement(n.default.Fragment,null,"Download .zip"):n.default.createElement(n.default.Fragment,null,"Preparing .zip")))))}c.propTypes={cluster:r.default.object.isRequired},t.default=c},75890:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(67618));function i(e){let{cluster:t,icon:a,initiallyOpen:l}=e;const[r,i]=n.default.useState(l);return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Button,{variant:"link",isInline:!0,onClick:()=>i(!0),icon:a},"Action required"),n.default.createElement(o.default,{cluster:t,isOpen:r,onClose:()=>i(!1)}))}i.propTypes={cluster:r.default.object.isRequired,initiallyOpen:r.default.bool,icon:r.default.node},t.default=i},67618:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(59231),i=l(a(71988)),u=l(a(86172));function d(e){var t,a,l,r;let{cluster:d,isOpen:c,onClose:p}=e;const m=(0,o.isWaitingROSAManualMode)(d),f=(0,o.isHypershiftCluster)(d),E=(0,o.isWaitingForOIDCProviderOrOperatorRolesMode)(d),g=(0,o.isErrorSharedGCPVPCValues)(d),[h,v]=n.default.useState(1),b=n.default.createElement(s.Stack,{hasGutter:!0},n.default.createElement(s.StackItem,null,"You must create the ",n.default.createElement("b",null,"operator roles")," and ",n.default.createElement("b",null,"OIDC provider")," to complete cluster installation."),n.default.createElement(s.StackItem,null,"Use one of the following methods:"),n.default.createElement(s.StackItem,null,n.default.createElement(s.Tabs,{activeKey:h,onSelect:(e,t)=>v(t),isBox:!0},n.default.createElement(s.Tab,{eventKey:1,title:n.default.createElement(s.TabTitleText,null,"ROSA CLI"),tabContentId:"rosa-cli"}),n.default.createElement(s.Tab,{eventKey:2,title:n.default.createElement(s.TabTitleText,null,"AWS CLI"),tabContentId:"aws-cli"}))),n.default.createElement(s.StackItem,null,n.default.createElement(s.TabContent,{key:1,eventKey:1,id:"rosa-cli",activeKey:h,hidden:1!==h},n.default.createElement(u.default,{cluster:d})),n.default.createElement(s.TabContent,{key:2,eventKey:2,id:"aws-cli",activeKey:h,hidden:2!==h},n.default.createElement(i.default,{cluster:d}))),n.default.createElement(s.StackItem,null,"The options above will be available until the operator roles and OIDC provider are detected.")),_=n.default.createElement(s.Stack,{hasGutter:!0},n.default.createElement(s.StackItem,null,n.default.createElement(s.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(s.Text,{component:s.TextVariants.p},null==d||null===(t=d.status)||void 0===t?void 0:t.description),n.default.createElement(s.Text,{component:s.TextVariants.p},"You entered these values:")),n.default.createElement(s.TextContent,null,n.default.createElement(s.TextList,null,n.default.createElement(s.TextListItem,null,`Existing VPC name: ${null===(a=d.gcp_network)||void 0===a?void 0:a.vpc_name}`),n.default.createElement(s.TextListItem,null,`Control plane subnet name: ${null===(l=d.gcp_network)||void 0===l?void 0:l.control_plane_subnet}`),n.default.createElement(s.TextListItem,null,`Compute subnet name: ${null===(r=d.gcp_network)||void 0===r?void 0:r.compute_subnet}`)))));return n.default.createElement(s.Modal,{title:"Action required to continue installation",isOpen:c,onClose:p,variant:s.ModalVariant.medium},m&&b,E&&(e=>{var t,a,l;const r=null===(t=e.aws.sts)||void 0===t||null===(t=t.oidc_config)||void 0===t?void 0:t.id,o=null===(a=e.aws)||void 0===a||null===(a=a.sts)||void 0===a?void 0:a.operator_role_prefix,i=null===(l=e.aws)||void 0===l||null===(l=l.sts)||void 0===l?void 0:l.role_arn,u=`rosa create operator-roles ${f?"--hosted-cp":""} --prefix "${o}" --oidc-config-id "${r}"  --installer-role-arn ${i}`,d=`rosa create oidc-provider --oidc-config-id "${r}"`;return n.default.createElement(s.Stack,{hasGutter:!0},n.default.createElement(s.StackItem,null,n.default.createElement(s.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(s.Text,{component:s.TextVariants.p},"Your cluster will proceed to ready state only after the operator roles and OIDC provider are created."),n.default.createElement(s.Text,{component:s.TextVariants.p},"To create the operator roles, run the following command:"),n.default.createElement(s.ClipboardCopy,{textAriaLabel:"Copyable ROSA create operator-roles",variant:s.ClipboardCopyVariant.expansion,isReadOnly:!0},u))),n.default.createElement(s.StackItem,null,n.default.createElement(s.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(s.Text,{component:s.TextVariants.p}," ","To create an OIDC provider, run the following command:"),n.default.createElement(s.ClipboardCopy,{textAriaLabel:"Copyable ROSA OIDC provider",variant:s.ClipboardCopyVariant.expansion,isReadOnly:!0},d))))})(d),g&&_)}d.propTypes={cluster:r.default.object.isRequired,isOpen:r.default.bool.isRequired,onClose:r.default.func.isRequired},t.default=d},81979:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=a(66338),s=a(65652),o=a(53983),i=a(91885),u=a(91759);t.Z=function(){const e=(0,r.useSelector)((e=>e.githubReleases))||{},t=(0,i.urlsSelector)(e),a=(0,u.detectOS)(),l=(0,u.architecturesForToolOS)(t,i.tools.OC,i.channels.STABLE,a);let d,c;return null!=l&&l.length&&(d=l[0].value,c=t[i.tools.OC][i.channels.STABLE][d][a]),c?n.default.createElement(s.Button,{component:"a","data-testid":"download-oc-cli",href:c,variant:"link",icon:n.default.createElement(o.DownloadIcon,null),isInline:!0},"Download OC CLI"):null}},56503:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=l(a(17542)),u=a(70769);a(94447);var d=l(a(75890)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(59231));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e){var t,a;let{cluster:l,actionRequiredInitialOpen:n,hasNetworkOndemand:s}=e;const p=(0,c.isROSA)(l),m=(0,c.isOSD)(l),E=(0,c.isOSDGCPPendingOnHostProject)(l),g=(0,c.isOSDGCPWaitingForRolesOnHostProject)(l),h=(0,c.isWaitingROSAManualMode)(l),v=(0,c.isWaitingForOIDCProviderOrOperatorRolesMode)(l),b=l.state===c.default.PENDING,_=l.state===c.default.WAITING,S=l.state===c.default.VALIDATING,C=null==l||null===(t=l.aws)||void 0===t||null===(t=t.sts)||void 0===t?void 0:t.auto_mode,y=null==l||null===(a=l.aws)||void 0===a||null===(a=a.sts)||void 0===a||null===(a=a.oidc_config)||void 0===a?void 0:a.id,O=!(null!=l&&l.status.description)||"Waiting for OIDC configuration"===(null==l?void 0:l.status.description),I=_&&(C||y&&O),R=(()=>{const e={variant:"pending"},t={variant:"info",icon:r.default.createElement(o.Spinner,{size:"sm"}),isCurrent:!0},a={variant:"success",text:"Completed"},_={icon:r.default.createElement(i.default,{className:"icon-space-right"}),text:"Unknown"};if(m&&(l.state===c.default.WAITING||E||g))return{awsAccountSetup:g?{text:"Waiting for permissions",variant:"warning"}:f({text:"Preparing account"},t),DNSSetup:e,networkSettings:e,clusterInstallation:e};const C=(0,c.getInflightChecks)(l),y=(0,c.hasInflightEgressErrors)(l);if(p){if(v)return{awsAccountSetup:a,oidcAndOperatorRolesSetup:{variant:"warning",text:r.default.createElement(d.default,{cluster:l}),isCurrent:!0},networkSettings:e,DNSSetup:e,clusterInstallation:e};if(h)return{awsAccountSetup:a,oidcAndOperatorRolesSetup:{variant:"warning",text:r.default.createElement(d.default,{cluster:l,initiallyOpen:n}),isCurrent:!0},networkSettings:e,DNSSetup:e,clusterInstallation:e};if(I)return{awsAccountSetup:a,oidcAndOperatorRolesSetup:f({text:"Waiting"},t),networkSettings:e,DNSSetup:e,clusterInstallation:e}}if((p||m)&&(b||S||C.some((e=>e.state===u.InflightCheckState.RUNNING))))return{awsAccountSetup:a,oidcAndOperatorRolesSetup:a,networkSettings:f({text:"Validating"},t),DNSSetup:e,clusterInstallation:e};const O=y&&s?{variant:"warning",text:"Validation failed"}:a;return l.state===c.default.INSTALLING?l.status.dns_ready?{awsAccountSetup:a,oidcAndOperatorRolesSetup:a,networkSettings:O,DNSSetup:a,clusterInstallation:f({text:"Installing cluster"},t)}:{awsAccountSetup:a,oidcAndOperatorRolesSetup:a,networkSettings:O,DNSSetup:t,clusterInstallation:e}:l.state===c.default.ERROR||l.state===c.default.READY?{awsAccountSetup:a,oidcAndOperatorRolesSetup:a,DNSSetup:a,networkSettings:O,clusterInstallation:l.state===c.default.ERROR?{variant:"danger",text:"Failed"}:a}:{awsAccountSetup:_,oidcAndOperatorRolesSetup:_,DNSSetup:_,networkSettings:_,clusterInstallation:_}})();return r.default.createElement(o.ProgressStepper,null,r.default.createElement(o.ProgressStep,{variant:R.awsAccountSetup.variant,icon:R.awsAccountSetup.icon,isCurrent:R.awsAccountSetup.isCurrent,description:R.awsAccountSetup.text,id:"awsAccountSetup","data-testid":"account-setup-title",titleId:"awsAccountSetup-title"},"Account setup"),p&&r.default.createElement(o.ProgressStep,{variant:R.oidcAndOperatorRolesSetup.variant,icon:R.oidcAndOperatorRolesSetup.icon,isCurrent:R.oidcAndOperatorRolesSetup.isCurrent,description:R.oidcAndOperatorRolesSetup.text,id:"oidcAndOperatorRolesSetup",titleId:"oidcAndOperatorRoles-title"},"OIDC and operator roles"),(p||m)&&r.default.createElement(o.ProgressStep,{variant:R.networkSettings.variant,icon:R.networkSettings.icon,isCurrent:R.networkSettings.isCurrent,description:R.networkSettings.text,id:"networkSettings",titleId:"networkSettings-title"},"Network settings"),r.default.createElement(o.ProgressStep,{variant:R.DNSSetup.variant,icon:R.DNSSetup.icon,isCurrent:R.DNSSetup.isCurrent,description:R.DNSSetup.text,id:"DNSSetup",titleId:"DNSSetup-title"},"DNS setup"),r.default.createElement(o.ProgressStep,{variant:R.clusterInstallation.variant,icon:R.clusterInstallation.icon,isCurrent:R.clusterInstallation.isCurrent,description:R.clusterInstallation.text,id:"clusterInstallation",titleId:"clusterInstallation-title"},"Cluster installation"))}E.propTypes={cluster:s.default.object.isRequired,hasNetworkOndemand:s.default.bool,actionRequiredInitialOpen:s.default.bool},t.default=E},86172:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652);function o(e){let{cluster:t}=e;return n.default.createElement(s.TextContent,null,n.default.createElement("p",null,"Copy and run the following commands:"),n.default.createElement("p",null,n.default.createElement(s.ClipboardCopy,{isReadOnly:!0},`rosa create operator-roles --interactive -c ${t.name}`)),n.default.createElement("p",null,n.default.createElement(s.ClipboardCopy,{isReadOnly:!0},`rosa create oidc-provider --interactive -c ${t.name}`)))}o.propTypes={cluster:r.default.object.isRequired},t.default=o},94562:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(70215)),s=l(a(28416)),o=l(a(45697)),i=a(65652),u=a(71359),d=l(a(7749)),c=a(69816),p=a(47417),m=a(69429),f=a(53025);const E=["onChange"];class g extends s.default.Component{componentDidMount(){const{getLoadBalancers:e,loadBalancerValues:t}=this.props;t.pending||t.fulfilled||t.error||e()}render(){const{input:e,loadBalancerValues:t,disabled:a,currentValue:l,quotaList:o,billingModel:g,product:h,cloudProviderID:v,isBYOC:b,isMultiAZ:_}=this.props;if(t.fulfilled){const u={resourceType:f.QuotaTypes.LOAD_BALANCER,billingModel:g,product:h,cloudProviderID:v,isBYOC:b,isMultiAZ:_},d=(0,c.availableQuota)(o,u),S=(0,p.filterLoadBalancerValuesByQuota)(l,t,d),C=S.values.length<=1,y=a||C,{onChange:O}=e,I=(0,r.default)(e,E),R=s.default.createElement(i.FormSelect,(0,n.default)({className:"quota-dropdown","aria-label":"Load Balancers",isDisabled:y,onChange:(e,t)=>O(t)},I),S.values.map((e=>(e=>s.default.createElement(i.FormSelectOption,{key:e,value:e,label:e}))(e.toString()))));return C?s.default.createElement(i.Tooltip,{content:m.noQuotaTooltip,position:"right"},s.default.createElement("div",null,R)):R}return t.error?s.default.createElement(d.default,{message:"Error loading load balancers list",response:t}):s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"spinner-fit-container"},s.default.createElement(u.Spinner,null)),s.default.createElement("div",{className:"spinner-loading-text"},"Loading load balancers list..."))}}g.propTypes={getLoadBalancers:o.default.func.isRequired,loadBalancerValues:o.default.object.isRequired,input:o.default.object.isRequired,disabled:o.default.bool,quotaList:o.default.object.isRequired,currentValue:o.default.number,billingModel:o.default.string.isRequired,product:o.default.string.isRequired,cloudProviderID:o.default.string.isRequired,isBYOC:o.default.bool.isRequired,isMultiAZ:o.default.bool.isRequired},t.default=g},47417:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.filterLoadBalancerValuesByQuota=void 0;var n=l(a(38416));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}t.filterLoadBalancerValuesByQuota=(e,t,a)=>{const l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t);return l.values?(l.values=e?l.values.filter((t=>t<=a+e)):l.values.filter((e=>e<=a)),l):{values:[]}}},31308:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(92810)),s=l(a(94562));const o={getLoadBalancers:r.default};t.default=(0,n.connect)((e=>({loadBalancerValues:e.loadBalancerValues,quotaList:e.userProfile.organization.quotaList})),o)(s.default)},4058:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MachineConfiguration",{enumerable:!0,get:function(){return l.MachineConfiguration}}),Object.defineProperty(t,"MachineConfigurationProps",{enumerable:!0,get:function(){return l.MachineConfigurationProps}});var l=a(19901)},12835:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(70215)),s=a(65652),o=l(a(45697)),i=l(a(28416)),u=a(12146),d=a(12812),c=a(69429),p=a(52758),m=l(a(68248)),f=a(69996),E=a(33988);const g=["onChange"],h=e=>{let{isHypershiftWizard:t,poolNumber:a,isMultiAz:l}=e;return t?(0,u.getNodeIncrementHypershift)(a):(0,u.getNodeIncrement)(l)};class v extends i.default.Component{componentDidMount(){const{input:e,minNodes:t,isEditingCluster:a,currentNodeCount:l,increment:n,isHypershiftWizard:r,poolNumber:s,isMultiAz:o,isMachinePool:i}=this.props,u=(0,f.getIncludedNodes)({isMultiAz:o,isHypershift:!i}),d=this.getAvailableQuota(),c=n||h({isHypershiftWizard:r,poolNumber:s,isMultiAz:o});(0,f.buildOptions)({included:u,available:d,isEditingCluster:a,currentNodeCount:l,minNodes:t,optionValueIncrement:c,isHypershift:r}).includes(Number(e.value))||e.onChange(t)}componentDidUpdate(e){const{input:t,isEditingCluster:a,minNodes:l,isHypershiftWizard:n,poolNumber:r,currentNodeCount:s,isMultiAz:o,increment:i,isMachinePool:u}=this.props,d=this.getAvailableQuota(),c=(0,f.getIncludedNodes)({isMultiAz:o,isHypershift:!u}),p=i||h({isHypershiftWizard:n,poolNumber:r,isMultiAz:o}),m=(0,f.buildOptions)({included:c,available:d,isEditingCluster:a,currentNodeCount:s,minNodes:l,optionValueIncrement:p,isHypershift:n});if(n&&r!==e.poolNumber){var g,v;const a=((null!==(g=null===(v=e.input)||void 0===v?void 0:v.value)&&void 0!==g?g:0)/e.poolNumber||l)*r;a>l&&a<=E.MAX_NODES_HCP?t.onChange(a):t.onChange(l)}else 0!==d||t.value===l||a||t.onChange(l);m.includes(Number(t.value))||t.onChange(l)}getAvailableQuota(){const{quota:e,isByoc:t,isMultiAz:a,machineType:l,machineTypes:n,cloudProviderID:r,product:s,billingModel:o}=this.props;return(0,f.getAvailableQuota)({quota:e,isByoc:t,billingModel:o,cloudProviderID:r,isMultiAz:a,machineTypes:n,machineTypeId:l,product:s})}render(){const{input:e,isMultiAz:t,isEditingCluster:a,currentNodeCount:l,label:o,helpText:u,extendedHelpText:p,machineType:E,isByoc:v,isMachinePool:b,minNodes:_,increment:S,isHypershiftWizard:C,poolNumber:y=(t?3:1),buttonAriaLabel:O}=this.props,I=S||h({isHypershiftWizard:C,poolNumber:y,isMultiAz:t}),R=(0,f.getIncludedNodes)({isMultiAz:t,isHypershift:!b}),T=this.getAvailableQuota(),A=(0,f.buildOptions)({included:R,available:T,isEditingCluster:a,currentNodeCount:l,minNodes:_,increment:I,isHypershift:C});let P=A.length<1;!v||a||b||(P=!E||A.length<1);const D=e=>{let a=e;return C?a=e/I:t&&(a=e/3),a.toString()},{onChange:N}=e,L=(0,r.default)(e,g),w=i.default.createElement(s.FormSelect,(0,n.default)({"aria-label":"Compute nodes",isDisabled:P,className:"quota-dropdown",onChange:(e,t)=>N(t)},L),A.map((e=>(e=>i.default.createElement(s.FormSelectOption,{key:e,value:e,label:D(e)}))(e))));return i.default.createElement(s.FormGroup,{fieldId:e.name,label:o,labelIcon:p&&i.default.createElement(m.default,{hint:p,buttonAriaLabel:O})},P?i.default.createElement(s.Tooltip,{content:c.noQuotaTooltip,position:"right"},i.default.createElement("div",null,w)):w,C?i.default.createElement("span",{"data-testid":"compute-node-hcp-multizone-details"},"x ",y," machine pools = ",e.value," compute nodes"):t?i.default.createElement("span",{"data-testid":"compute-node-multizone-details"}," 3 zones = ",e.value," compute nodes"):null,i.default.createElement(d.FormGroupHelperText,null,u))}}v.propTypes={isEditingCluster:o.default.bool,currentNodeCount:o.default.number,minNodes:o.default.number,label:o.default.string,helpText:o.default.string,extendedHelpText:o.default.string,quota:o.default.object.isRequired,isByoc:o.default.bool,isMachinePool:o.default.bool,isMultiAz:o.default.bool,machineType:o.default.string,machineTypes:o.default.object,input:o.default.shape({name:o.default.string.isRequired,value:o.default.oneOfType([o.default.string,o.default.number]),onChange:o.default.func.isRequired,onBlur:o.default.func.isRequired}),cloudProviderID:o.default.string.isRequired,product:o.default.oneOf(Object.keys(p.normalizedProducts)).isRequired,billingModel:o.default.oneOf(Object.values(p.billingModels)).isRequired,increment:o.default.number,isHypershiftWizard:o.default.bool,poolNumber:o.default.number,buttonAriaLabel:o.default.string},t.default=v},72815:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(27361)),s=l(a(12835));t.default=(0,n.connect)((e=>({machineTypes:e.machineTypes,quota:(0,r.default)(e,"userProfile.organization.quotaList",{})})))(s.default)},41525:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.filterPersistentStorageValuesByQuota=void 0;var n=l(a(38416)),r=a(73960);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}const o=107374182400;t.filterPersistentStorageValuesByQuota=(e,t,a)=>{const l=(0,r.parseValueWithUnit)(a,"GiB"),i=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t);return i.values?(i.values=e?i.values.filter((t=>t.value<=l+e)):i.values.filter((e=>e.value<=l+o)),i):{values:[{value:o,unit:"B"}]}}},46843:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(70215)),s=l(a(28416)),o=l(a(45697)),i=a(65652),u=a(71359),d=l(a(7749)),c=a(73960),p=a(69816),m=a(41525),f=a(69429),E=a(53025);const g=["onChange"];class h extends s.default.Component{componentDidMount(){const{getPersistentStorage:e,persistentStorageValues:t}=this.props;t.pending||t.fulfilled||t.error||e()}render(){const{input:e,persistentStorageValues:t,disabled:a,currentValue:l,quotaList:o,billingModel:h,product:v,cloudProviderID:b,isBYOC:_,isMultiAZ:S}=this.props;if(t.fulfilled){const u=(0,p.availableQuota)(o,{resourceType:E.QuotaTypes.STORAGE,billingModel:h,product:v,cloudProviderID:b,isBYOC:_,isMultiAZ:S,resourceName:"gp2"}),d=(0,m.filterPersistentStorageValuesByQuota)(l,t,u),C=d.values.length<=1,y=a||C,{onChange:O}=e,I=(0,r.default)(e,g),R=s.default.createElement(i.FormSelect,(0,n.default)({className:"quota-dropdown","aria-label":"Persistent Storage",isDisabled:y,onChange:(e,t)=>O(t)},I),d.values.map((e=>(e=>{const t=(0,c.humanizeValueWithUnitGiB)(e.value),a=e.value.toString();return s.default.createElement(i.FormSelectOption,{key:a,value:a,label:`${t.value} ${t.unit}`})})(e))));return C?s.default.createElement(i.Tooltip,{content:f.noQuotaTooltip,position:"right"},s.default.createElement("div",null,R)):R}return t.error?s.default.createElement(d.default,{message:"Error loading persistent storage list",response:t}):s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"spinner-fit-container"},s.default.createElement(u.Spinner,null)),s.default.createElement("div",{className:"spinner-loading-text"},"Loading persistent storage list..."))}}h.propTypes={getPersistentStorage:o.default.func.isRequired,persistentStorageValues:o.default.object.isRequired,input:o.default.object.isRequired,disabled:o.default.bool,quotaList:o.default.object.isRequired,currentValue:o.default.number,billingModel:o.default.string.isRequired,product:o.default.string.isRequired,cloudProviderID:o.default.string.isRequired,isBYOC:o.default.bool.isRequired,isMultiAZ:o.default.bool.isRequired},t.default=h},58584:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(31855)),s=l(a(46843));const o={getPersistentStorage:r.default};t.default=(0,n.connect)((e=>({persistentStorageValues:e.persistentStorageValues,quotaList:e.userProfile.organization.quotaList})),o)(s.default)},36297:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652);function o(e){let{isReadOnly:t,someReadOnly:a}=e;return t?n.default.createElement(s.Banner,{variant:"gold",className:"configuration_mode_read_only"},n.default.createElement(s.Text,null,n.default.createElement("b",null,"You will be unable to configure your cluster during maintenance.")),n.default.createElement(s.Text,null,"Actions like configuring identity providers and updating cluster settings are disabled until maintenance is complete. More information may be available under"," ",n.default.createElement("b",null,"Cluster history")," in Overview tab.")):a?n.default.createElement(s.Banner,{variant:"gold",className:"configuration_mode_read_only"},n.default.createElement(s.Text,null,n.default.createElement("b",null,"You will be unable to configure some of your clusters during maintenance.")),n.default.createElement(s.Text,null,"Actions like configuring identity providers and updating cluster settings are disabled until maintenance is complete.")):null}o.propTypes={isReadOnly:r.default.bool,someReadOnly:r.default.bool},t.default=o},29055:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(25967)),i=l(a(76490)),u=l(a(7749)),d=l(a(76467)),c=l(a(76837));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}class m extends n.Component{componentDidUpdate(){const{resumeClusterResponse:e,resetResponse:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}render(){const{closeModal:e,submit:t,resumeClusterResponse:a,resetResponse:l,clusterID:r,clusterName:i,shouldDisplayClusterName:p}=this.props,m=()=>{l(),e()},f=a.error?n.default.createElement(u.default,{message:"Error hibernating cluster",response:a}):null,E=()=>{t(r)};return n.default.createElement(o.default,{"data-testid":"resume-cluster-modal",header:n.default.createElement(d.default,{title:"Resume from hibernation"}),secondaryTitle:p?i:void 0,onClose:m,primaryText:"Resume cluster",secondaryText:"Close",onPrimaryClick:E,isPending:a.pending,onSecondaryClick:m},n.default.createElement(s.Form,{onSubmit:E},f,n.default.createElement(c.default,{clusterName:i,isHibernating:!0})))}}m.propTypes={clusterID:r.default.string.isRequired,clusterName:r.default.string.isRequired,closeModal:r.default.func,resetResponse:r.default.func,resumeClusterResponse:r.default.shape({fulfilled:r.default.bool,pending:r.default.bool,error:r.default.bool}),submit:r.default.func,onClose:r.default.func,shouldDisplayClusterName:r.default.bool},m.defaultProps={resumeClusterResponse:{}},m.modalName=i.default.RESUME_CLUSTER,t.default=m},68800:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(70774),s=l(a(29055)),o=a(7046);t.default=(0,n.connect)((e=>{const t=e.modal.data;return{resumeClusterResponse:e.clusters.resumeHibernatingCluster,clusterID:t.clusterID?t.clusterID:"",clusterName:t.clusterName?t.clusterName:"",shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:t=>{e((0,r.resumeCluster)(t))},resetResponse:()=>e((0,r.clearResumeClusterResponse)()),closeModal:()=>e((0,o.closeModal)())})))(s.default)},63622:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(9104),o=a(65652),i=l(a(25967)),u=l(a(7749)),d=l(a(58584)),c=l(a(31308)),p=l(a(76490));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}class f extends n.Component{componentDidMount(){const{persistentStorageValues:e,loadBalancerValues:t,getLoadBalancers:a,getPersistentStorage:l,organization:n,getOrganizationAndQuota:r}=this.props;e.fulfilled||e.pending||l(),t.fulfilled||t.pending||a(),n.pending||r()}componentDidUpdate(){const{editClusterResponse:e,resetResponse:t,closeModal:a,onClose:l,getOrganizationAndQuota:n}=this.props;!e.fulfilled||e.pending||e.error||(t(),l(),a(),n())}render(){const{closeModal:e,handleSubmit:t,editClusterResponse:a,resetResponse:l,consoleURL:r,showLoadBalancerAlert:p,showPersistentStorageAlert:m,persistentStorageValues:f,loadBalancerValues:E,initialValues:g,organization:h,isByoc:v,pristine:b,cloudProviderID:_,billingModel:S,product:C,isMultiAZ:y,shouldDisplayClusterName:O,clusterDisplayName:I}=this.props,R=()=>{l(),e()},T=a.error?n.default.createElement(u.default,{message:"Error editing cluster",response:a}):null,A=r?n.default.createElement("a",{href:`${r}/k8s/ns/default/resourcequotas`,target:"_blank",rel:"noopener noreferrer"},"Check your usage"):"Check your usage",P=n.default.createElement(o.Alert,{variant:"warning",isInline:!0,title:"Scaling below the current limit can cause problems in your environment"},n.default.createElement("div",null,n.default.createElement("p",null,A," before proceeding to be sure you are not scaling below what is currently being used."))),D=E.pending||f.pending||a.pending||h.pending,N=v?"edit-cluster-modal":"edit-cluster-modal edit-cluster-modal-rhinfra";return n.default.createElement(i.default,{className:N,title:"Edit load balancers and persistent storage",secondaryTitle:O?I:void 0,onClose:R,primaryText:"Apply",onPrimaryClick:t,onSecondaryClick:R,isPrimaryDisabled:D||b,isPending:D,isSmall:!0},n.default.createElement(n.default.Fragment,null,T,n.default.createElement(o.Form,{onSubmit:t},n.default.createElement(o.Grid,{hasGutter:!0},!v&&n.default.createElement(n.default.Fragment,null,n.default.createElement(o.GridItem,{span:8},n.default.createElement(o.FormGroup,{fieldId:"load_balancers",label:"Load balancers"},n.default.createElement(s.Field,{label:"Load balancers",name:"load_balancers",component:c.default,disabled:D,currentValue:g.load_balancers,cloudProviderID:_,billingModel:S,product:C,isBYOC:v,isMultiAZ:y}))),n.default.createElement(o.GridItem,{span:4}),p&&P,n.default.createElement(o.GridItem,{span:8},n.default.createElement(o.FormGroup,{fieldId:"persistent_storage",label:"Persistent storage"},n.default.createElement(s.Field,{label:"Persistent storage",name:"persistent_storage",component:d.default,disabled:D,currentValue:g.persistent_storage,cloudProviderID:_,billingModel:S,product:C,isBYOC:v,isMultiAZ:y}))),n.default.createElement(o.GridItem,{span:4}),m&&P)))))}}f.propTypes={closeModal:r.default.func.isRequired,onClose:r.default.func.isRequired,handleSubmit:r.default.func.isRequired,resetResponse:r.default.func.isRequired,editClusterResponse:r.default.object,min:r.default.shape({value:r.default.number,validationMsg:r.default.string}).isRequired,consoleURL:r.default.string,initialValues:r.default.shape({id:r.default.string,nodes_compute:r.default.number,persistent_storage:r.default.number,load_balancers:r.default.number}).isRequired,showLoadBalancerAlert:r.default.bool,showPersistentStorageAlert:r.default.bool,getLoadBalancers:r.default.func.isRequired,getPersistentStorage:r.default.func.isRequired,persistentStorageValues:r.default.object.isRequired,loadBalancerValues:r.default.object.isRequired,organization:r.default.object.isRequired,getOrganizationAndQuota:r.default.func.isRequired,isByoc:r.default.bool,cloudProviderID:r.default.string.isRequired,pristine:r.default.bool,billingModel:r.default.string.isRequired,product:r.default.string.isRequired,isMultiAZ:r.default.bool.isRequired,shouldDisplayClusterName:r.default.bool,clusterDisplayName:r.default.string},f.defaultProps={editClusterResponse:{}},f.modalName=p.default.SCALE_CLUSTER,t.default=f},14190:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowStorageQuotaAlert=t.shouldShowLoadBalancerAlert=t.minValueSelector=void 0;var n=l(a(27361)),r=a(9104);t.minValueSelector=(e,t)=>{const a=t?3:9,l=t?2:4;return e?{value:a,validationMsg:`At least ${a} nodes are required for multiple availability zone cluster.`}:{value:l,validationMsg:`At least ${l} nodes are required`}},t.shouldShowLoadBalancerAlert=e=>{const{data:t}=e.modal,a=(0,n.default)(t,"load_balancer_quota",0),l=(0,r.getFormValues)("ScaleCluster")(e),s=(0,n.default)(l,"load_balancers",0);return!(!s||!a)&&a>parseInt(s,10)},t.shouldShowStorageQuotaAlert=e=>{const{data:t}=e.modal,a=(0,n.default)(t,"storage_quota.value",0),l=(0,r.getFormValues)("ScaleCluster")(e),s=(0,n.default)(l,"persistent_storage",0);return!(!s||!a)&&a>parseInt(s,10)}},52094:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=a(66338),s=a(9104),o=l(a(27361)),i=a(70774),u=l(a(63622)),d=a(7046),c=l(a(92810)),p=l(a(31855)),m=a(14190),f=a(98371),E=l(a(52069));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const v=(0,s.reduxForm)({form:"ScaleCluster",enableReinitialize:!0})(u.default);t.default=(0,r.connect)((e=>{var t,a,l,n;const r=e.modal.data;return{shouldDisplayClusterName:r.shouldDisplayClusterName||!1,editClusterResponse:e.clusters.editedCluster,min:(0,m.minValueSelector)(r.multi_az,null===(t=r.ccs)||void 0===t?void 0:t.enabled),consoleURL:(0,o.default)(r,"console.url",null),clusterDisplayName:(0,E.default)(r),showLoadBalancerAlert:(0,m.shouldShowLoadBalancerAlert)(e),showPersistentStorageAlert:(0,m.shouldShowStorageQuotaAlert)(e),persistentStorageValues:e.persistentStorageValues,loadBalancerValues:e.loadBalancerValues,organization:e.userProfile.organization,isByoc:null===(a=r.ccs)||void 0===a?void 0:a.enabled,billingModel:null===(l=r.subscription)||void 0===l?void 0:l.cluster_billing_model,product:null===(n=r.subscription)||void 0===n?void 0:n.plan.type,isMultiAZ:r.multi_az,cloudProviderID:(0,o.default)(r,"cloud_provider.id",""),initialValues:{id:r.id,nodes_compute:r.nodes?r.nodes.compute:null,load_balancers:r.load_balancer_quota?r.load_balancer_quota:0,persistent_storage:r.storage_quota?r.storage_quota.value:107374182400}}}),(e=>({onSubmit:(t,a)=>{const l={};a||(l.load_balancer_quota=t.load_balancers?parseInt(t.load_balancers,10):null,l.storage_quota=t.persistent_storage?{unit:"B",value:parseFloat(t.persistent_storage)}:null),e((0,i.editCluster)(t.id,l))},resetResponse:()=>e((0,i.clearClusterResponse)()),closeModal:()=>e((0,d.closeModal)()),getOrganizationAndQuota:()=>e((0,f.getOrganizationAndQuota)()),getPersistentStorage:p.default,getLoadBalancers:c.default})),((e,t,a)=>h(h(h(h({},a),e),t),{},{onSubmit:a=>{t.onSubmit(a,e.isByoc)}})))(v)},51077:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.getNodesCount=t.getMinReplicasCount=t.default=t.computeNodeHintText=void 0;var n=l(a(6162)),r=a(52758),s=a(86896);const o=(e,t,a)=>{const l=(t?3:2)**(e?1:2);return a?`${l}`:l};t.getNodesCount=o,t.getMinReplicasCount=function(e,t,a){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=o(e,t),r=t&&!l?n/3:n;return a?`${r}`:r},t.computeNodeHintText=(e,t)=>{switch(!0){case e:return s.constants.hcpComputeNodeCountHintWizard;case t:return s.constants.hcpComputeNodeCountHint;default:return s.constants.computeNodeCountHint}},t.default=e=>{let t,{isDefaultMachinePool:a,product:l,isBYOC:s,isMultiAz:o,autoScaleMinNodesValue:i=null,defaultMinAllowed:u=0,isHypershiftWizard:d=!1}=e,c=parseInt(i,10)||0;return o&&!d&&(c*=3),t=a?s||l===r.normalizedProducts.ROSA?o?3:2:o?9:4:u,(0,n.default)([c,t])}},90072:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(9104),u=a(12812),d=l(a(45058)),c=a(33988),p=l(a(59539)),m=l(a(42517)),f=l(a(68248)),E=l(a(91885)),g=a(90181),h=a(86896),v=a(52758),b=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(51077));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}a(1205);const S=e=>e>1?1:2;class C extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"updateReduxField",(e=>{const{input:{onBlur:t,onChange:a}}=this.props;a(`${e}`),t()})),(0,n.default)(this,"onChange",(e=>{this.updateReduxField(Number(e.target.value))})),(0,n.default)(this,"onButtonPress",(e=>{const{min:t,max:a,input:{value:l}}=this.props;return Number.isNaN(parseInt(l,10))?this.updateReduxField(t+1):parseInt(l,10)<t?this.updateReduxField(t):parseInt(l,10)>a?this.updateReduxField(a):e?this.updateReduxField(parseInt(l,10)+1):this.updateReduxField(parseInt(l,10)-1)})),(0,n.default)(this,"onMinus",(()=>this.onButtonPress(!1))),(0,n.default)(this,"onPlus",(()=>this.onButtonPress(!0)))}componentDidUpdate(){const{meta:{touched:e,error:t},displayError:a,hideError:l,limit:n}=this.props;e&&t?a(n,t):l(n)}render(){const{input:{value:e,onBlur:t},ariaLabel:a,min:l,max:n}=this.props;return r.default.createElement(o.NumberInput,{value:parseInt(e,10)||0,min:l,max:n,onMinus:this.onMinus,onChange:this.onChange,onPlus:this.onPlus,inputAriaLabel:a,minusBtnAriaLabel:`${a} minus`,plusBtnAriaLabel:`${a} plus`,widthChars:4,inputProps:{onBlur:e=>{e.target.value=Number(e.target.value).toString(),t(e)}}})}}C.propTypes={input:s.default.object.isRequired,meta:s.default.shape({error:s.default.string,touched:s.default.bool}),ariaLabel:s.default.string.isRequired,displayError:s.default.func.isRequired,hideError:s.default.func.isRequired,limit:s.default.string.isRequired,min:s.default.number.isRequired,max:s.default.number.isRequired};class y extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{minErrorMessage:void 0,maxErrorMessage:void 0}),(0,n.default)(this,"displayError",((e,t)=>this.setState({[`${e}ErrorMessage`]:t}))),(0,n.default)(this,"hideError",(e=>this.setState({[`${e}ErrorMessage`]:void 0}))),(0,n.default)(this,"minNodes",(()=>{const{isDefaultMachinePool:e,product:t,isBYOC:a,isMultiAz:l,minNodesRequired:n,isHypershiftWizard:r,numPools:s}=this.props,o=r?S(s):n;return(0,b.default)({isDefaultMachinePool:e,product:t,isBYOC:a,isMultiAz:l,autoScaleMinNodesValue:null,defaultMinAllowed:o})/(l&&!r?3:1)})),(0,n.default)(this,"maxNodes",(()=>{const{isMultiAz:e,isHypershiftWizard:t,numPools:a}=this.props;return t?Math.floor(c.MAX_NODES_HCP/a):e?c.MAX_NODES/3:c.MAX_NODES})),(0,n.default)(this,"validateMinNodes",(e=>{const t=this.minNodes();return(0,g.validateNumericInput)(e,{min:t,allowZero:!0})})),(0,n.default)(this,"validateMaxNodes",(e=>(0,g.validateNumericInput)(e,{max:this.maxNodes(),allowZero:!0})))}componentDidUpdate(e){const{autoscalingEnabled:t,change:a,isDefaultMachinePool:l,product:n,isBYOC:r,isMultiAz:s,autoScaleMinNodesValue:o,autoScaleMaxNodesValue:i,minNodesRequired:u,isHypershiftWizard:d,numPools:c}=this.props;if(!e.autoscalingEnabled&&t){const e=d?S(c):u,t=(0,b.default)({isDefaultMachinePool:l,product:n,isBYOC:r,isMultiAz:s,autoScaleMinNodesValue:o,defaultMinAllowed:e,isHypershiftWizard:d}),p=s&&!d?t/3:t,m=o?parseInt(o,10):0,f=m<p?p:m;a("min_replicas",`${f}`),(!i||parseInt(i,10)<f)&&a("max_replicas",`${f}`)}if(d&&c!==e.numPools){const e=S(c);(o&&o<e||i&&i>this.maxNodes())&&(a("min_replicas",e.toString()),a("max_replicas",e.toString()))}}render(){const{autoscalingEnabled:e,isMultiAz:t,autoScaleMinNodesValue:a,autoScaleMaxNodesValue:l,product:n,change:s,onChange:c,isHypershiftWizard:_,isHypershiftMachinePool:S,numPools:O,openEditClusterAutoScalingModal:I}=this.props,{minErrorMessage:R,maxErrorMessage:T}=this.state,A=r.default.createElement(i.Field,{component:C,name:"min_replicas",type:"text",ariaLabel:"Minimum nodes",validate:[this.validateMinNodes,this.validateMaxNodes,g.required],displayError:this.displayError,hideError:this.hideError,limit:"min",min:this.minNodes(),max:this.maxNodes()}),P=r.default.createElement(i.Field,{component:C,name:"max_replicas",type:"text",ariaLabel:"Maximum nodes",validate:[this.validateMinNodes,y.validateMaxLessMinNodes,this.validateMaxNodes,g.required],displayError:this.displayError,hideError:this.hideError,limit:"max",min:this.minNodes(),max:this.maxNodes()}),D=e=>r.default.createElement(o.HelperTextItem,{variant:"error",hasIcon:!0},e),N=e=>r.default.createElement(o.HelperTextItem,null,e),L=n===v.normalizedProducts.ROSA,w=L?E.default.ROSA_AUTOSCALING:E.default.APPLYING_AUTOSCALING,M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";return _?N(`x ${O} machine pools = ${parseInt(e,10)*O}`):t?N("x 3 zones = "+3*parseInt(e,10)):null},k=r.default.createElement(o.Split,{hasGutter:!0,className:"autoscaling__container"},r.default.createElement(o.SplitItem,null,r.default.createElement(o.FormGroup,{label:_?"Minimum nodes per machine pool":t?"Minimum nodes per zone":"Minimum node count",isRequired:!0,fieldId:"nodes_min",className:"autoscaling__nodes-formGroup"},A,r.default.createElement(u.FormGroupHelperText,null,r.default.createElement(o.HelperText,null,R?D(R):M(a))))),r.default.createElement(o.SplitItem,null,r.default.createElement(o.FormGroup,{label:_?"Maximum nodes per machine pool":t?"Maximum nodes per zone":"Maximum node count",isRequired:!0,fieldId:"nodes_max",className:"autoscaling__nodes-formGroup",labelIcon:r.default.createElement(f.default,{buttonAriaLabel:"Compute node count information",hint:r.default.createElement(r.default.Fragment,null,(0,b.computeNodeHintText)(_,S),r.default.createElement("br",null),L?r.default.createElement(r.default.Fragment,null,r.default.createElement(m.default,{href:E.default.ROSA_WORKER_NODE_COUNT},"Learn more about worker/compute node count"),r.default.createElement("br",null)):null)})},P,r.default.createElement(u.FormGroupHelperText,null,r.default.createElement(o.HelperText,null,T?D(T):M(l))))));return r.default.createElement(o.GridItem,{id:"autoscaling"},r.default.createElement(o.FormGroup,{fieldId:"autoscaling",label:"Autoscaling",labelIcon:r.default.createElement(f.default,{hint:r.default.createElement(r.default.Fragment,null,h.constants.autoscaleHint," ",r.default.createElement(m.default,{href:w},"Learn more about autoscaling",L?" with ROSA":""))})}),r.default.createElement(i.Field,{component:p.default,name:"autoscalingEnabled",label:"Enable autoscaling",helpText:I?"The cluster autoscaler uses declarative, Kubernetes-style arguments to adjust the size of the cluster to meet its deployment needs.":"Autoscaling automatically adds and removes compute nodes from the cluster based on resource requirements.",onChange:c}),I&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:3},r.default.createElement(o.Button,{"data-testid":"set-cluster-autoscaling-btn",variant:"secondary",className:"pf-v5-u-mt-md",onClick:I,isDisabled:!e},"Edit cluster autoscaling settings")),r.default.createElement(d.default,{isWizard:!0,change:s,isRosa:L})),e&&k)}}(0,n.default)(y,"validateMaxLessMinNodes",((e,t)=>{if(parseInt(e,10)<parseInt(t.min_replicas,10))return"Max nodes cannot be less than min nodes."})),y.propTypes={autoscalingEnabled:s.default.bool.isRequired,openEditClusterAutoScalingModal:s.default.func,isMultiAz:s.default.bool.isRequired,autoScaleMinNodesValue:s.default.string,autoScaleMaxNodesValue:s.default.string,product:s.default.string.isRequired,isBYOC:s.default.bool.isRequired,isDefaultMachinePool:s.default.bool.isRequired,change:s.default.func.isRequired,onChange:s.default.func,minNodesRequired:s.default.number,isHypershiftWizard:s.default.bool,isHypershiftMachinePool:s.default.bool,numPools:s.default.number},y.defaultProps={onChange:()=>{}},t.default=y},48354:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(12812),i=a(28047),u=l(a(7749)),d=l(a(68248)),c=a(73960),p=a(69429),m=l(a(42517)),f=a(69816),E=a(52758),g=a(37668),h=a(86896),v=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(72219)),b=a(8526);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}const S=e=>{if(!e)return"";const t=(0,c.humanizeValueWithUnit)(e.memory.value,e.memory.unit);let a=`${e.cpu.value} ${e.cpu.unit} ${t.value} ${t.unit} RAM`;if("accelerated_computing"===e.category){const t=e.name.match(/\d+ GPU[s]?/g);t&&(a+=` (${t})`)}return a},C=e=>e?e.id:"",y=e=>{let{machine_type:t,machine_type_force_choice:a,getDefaultFlavour:l,flavours:r,machineTypes:c,machineTypesByRegion:_,isMultiAz:y,isBYOC:O,isMachinePool:I,inModal:R=!1,cloudProviderID:T,product:A,billingModel:P,quota:D,organization:N,menuAppendTo:L,allExpanded:w=!0}=e;const{input:M,meta:{error:k,touched:x}}=t,{input:j}=a,F=N.fulfilled&&c.fulfilled&&(r.fulfilled||r.error),G=_.fulfilled||_.error&&F,U=O&&T===i.CloudProviderType.Aws&&A!==E.normalizedProducts.ROSA&&!R,[V,H]=n.default.useState(!0),z=G&&U&&V?_:c,W=n.default.useCallback((e=>{if(!F||U&&!G||!z.typesByID)return!1;const t=null==z?void 0:z.typesByID[e];if(!t)return!1;const a=t.generic_name;if(!O&&t.ccs_only)return!1;const l={product:A,cloudProviderID:T,isBYOC:O,isMultiAz:y,resourceName:a,billingModel:P},n=(0,f.availableClustersFromQuota)(D,l),r=(0,f.availableNodesFromQuota)(D,l);return I?r>=1:O?n>0&&r>=(y?3:2):n>=1}),[null==z?void 0:z.typesByID,P,T,O,F,G,U,I,y,A,D]),q=n.default.useCallback((()=>{var e;if(j.value)return;const t=null==r||null===(e=r.byID[g.DEFAULT_FLAVOUR_ID])||void 0===e||null===(e=e[T])||void 0===e?void 0:e.compute_instance_type;t&&W(t)&&M.onChange(t)}),[T,null==r?void 0:r.byID,j.value,M,W]),B=n.default.useCallback((()=>{j.onChange(!0),M.onChange("")}),[j,M]);n.default.useEffect((()=>{l()}),[l]),n.default.useEffect((()=>{F&&(!U||G)&&z.typesByID&&(M.value||q(),M.value&&!W(M.value)&&B())}),[M.value,F,z.typesByID,U,G,W,q,B]);const $=n.default.useCallback(((e,t)=>{M.onChange(t),j.onChange(!1)}),[j,M]),Z=n.default.useMemo((()=>(0,v.default)(z,T)),[T,z]),Y=n.default.useMemo((()=>Z.filter((e=>W(e.id)))),[W,Z]),K=n.default.useMemo((()=>{const e=(e=>{const t=[],a={};return v.machineCategories.forEach((e=>{let{name:l,label:n}=e;const r=[];a[l]=r,t.push([n,r])})),e.forEach((e=>{a[e.category]&&a[e.category].push(e)})),t})(Y),t=e.map((e=>{let[t,a]=e;if(a.length>0)return{name:t,category:t,children:a.map((e=>({name:n.default.createElement(b.TreeViewSelectMenuItem,{name:C(e),description:S(e)}),category:t,nameLabel:C(e),descriptionLabel:S(e),id:e.id})))}})).filter(Boolean);return t}),[Y]),Q=n.default.useMemo((()=>(e=>e?`${C(e)} - ${S(e)}`:"")(Y.find((e=>e.id===M.value))||null)),[Y,M.value]);return!F||U&&!G||z.error?z.error?n.default.createElement(u.default,{message:"Error loading node types",response:z}):n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"spinner-fit-container"},n.default.createElement(s.Spinner,{size:"md"})),n.default.createElement("div",{className:"spinner-loading-text"},"Loading node types...")):0===Y.length?n.default.createElement(s.Alert,{variant:s.AlertVariant.danger,isInline:!0,title:p.noMachineTypes,role:"alert"},n.default.createElement(m.default,{href:"https://cloud.redhat.com/products/dedicated/contact/"},"Contact sales to purchase additional quota.")):n.default.createElement(s.FormGroup,{label:"Compute node instance type",isRequired:!0,fieldId:"node_type",labelIcon:n.default.createElement(d.default,{hint:h.constants.computeNodeInstanceTypeHint})},n.default.createElement(b.TreeViewSelect,{treeViewSelectionMap:K,inModal:R,menuAppendTo:L,selected:Q,setSelected:(e,t)=>{$(e,t.id)},treeViewSwitchActive:!V,setTreeViewSwitchActive:e=>{j.onChange(!1),H(!e)},placeholder:"Select instance type",searchPlaceholder:"Find an instance size",includeFilterSwitch:U,switchLabelOnText:"Include types that might be unavailable to your account or region",switchLabelOffText:"Include types that might be unavailable to your account or region",allExpanded:w,ariaLabel:"Machine type select"}),n.default.createElement(o.FormGroupHelperText,{touched:x,error:k}))},O=r.default.shape({input:r.default.shape({onChange:r.default.func.isRequired,value:r.default.string}).isRequired,meta:r.default.shape({error:r.default.oneOfType([r.default.bool,r.default.string]),touched:r.default.bool}),id:r.default.string,ccs_only:r.default.bool,generic_name:r.default.string});y.propTypes={machine_type:O,machine_type_force_choice:O,getDefaultFlavour:r.default.func.isRequired,flavours:r.default.object.isRequired,machineTypes:r.default.object.isRequired,machineTypesByRegion:r.default.object.isRequired,isMultiAz:r.default.bool.isRequired,isBYOC:r.default.bool.isRequired,isMachinePool:r.default.bool.isRequired,inModal:r.default.bool,cloudProviderID:r.default.string,product:r.default.oneOf(Object.keys(E.normalizedProducts)).isRequired,billingModel:r.default.oneOf(Object.values(E.billingModels)).isRequired,quota:r.default.object.isRequired,organization:r.default.object.isRequired,menuAppendTo:r.default.object,allExpanded:r.default.bool},t.default=y},1602:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(7076),s=a(37668),o=l(a(48354));const i={getMachineTypes:r.getMachineTypes,getDefaultFlavour:s.getDefaultFlavour};t.default=(0,n.connect)((e=>({flavours:e.flavours,machineTypes:e.machineTypes,machineTypesByRegion:e.machineTypesByRegion,organization:e.userProfile.organization,quota:e.userProfile.organization.quotaList})),i)(o.default)},72219:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.machineCategories=t.default=void 0;var n=l(a(27361)),r=l(a(35161)),s=a(73960);const o=t.machineCategories=[{name:"general_purpose",label:"General purpose"},{name:"memory_optimized",label:"Memory optimized"},{name:"compute_optimized",label:"Compute optimized"},{name:"storage_optimized",label:"Storage optimized"},{name:"network_optimized",label:"Network optimized"},{name:"burstable",label:"Burstable"},{name:"accelerated_computing",label:"Accelerated computing"}],i=(0,r.default)(o,"name");function u(e,t){if(e.category===t.category){const a=function(e,t){return(0,s.parseValueWithUnit)(e.memory.value,e.memory.unit)-(0,s.parseValueWithUnit)(t.memory.value,t.memory.unit)}(e,t);return 0===a?e.cpu.value-t.cpu.value:a}return i.indexOf(e.category)-i.indexOf(t.category)}const d={gcp:u,aws:u};t.default=function(e,t){const a=(0,n.default)(e.types,t,[]);return a.sort(d[t]),a}},86954:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(9104),o=a(65652),i=a(77589),u=a(79687),d=l(a(72815)),c=l(a(91885)),p=a(52758),m=a(90181),f=l(a(42517)),E=l(a(40848)),g=l(a(1602)),h=l(a(90072)),v=l(a(87472)),b=a(51077);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function S(e){let{isBYOC:t,isMultiAz:a,machineType:l,cloudProviderID:r,product:_,minNodesRequired:S,nodeIncrement:C,canAutoScale:y=!1,autoscalingEnabled:O=!1,autoScaleMinNodesValue:I,autoScaleMaxNodesValue:R,change:T,openEditClusterAutoScalingModal:A,billingModel:P,clusterVersionRawId:D,imds:N,poolNumber:L,maxWorkerVolumeSizeGiB:w,isHypershift:M,hasNodeLabels:k=!1}=e;const[x,j]=(0,n.useState)(!1);(0,n.useEffect)((()=>{k&&j(!0)}),[k]);const F=M?null:n.default.createElement(o.ExpandableSection,{toggleText:"Add node labels",isExpanded:x,onToggle:(e,t)=>j(t)},n.default.createElement(o.Title,{headingLevel:"h3"},"Node labels (optional)"),n.default.createElement("p",{className:"pf-v5-u-mb-md"},"Configure labels that will apply to all nodes in this machine pool."),n.default.createElement(s.FieldArray,{name:"node_labels",component:u.ReduxFormKeyValueList})),G="aws"===r&&!M&&t,U=G&&N&&n.default.createElement(n.default.Fragment,null,n.default.createElement(o.GridItem,{md:8},n.default.createElement(E.default,{isDisabled:!(0,i.canSelectImds)(D),imds:N,onChangeImds:e=>{T("imds",e)}})),n.default.createElement(o.GridItem,{md:4})),V=_===p.normalizedProducts.ROSA,H=V&&!M&&n.default.createElement(n.default.Fragment,null,n.default.createElement(o.GridItem,{md:6},n.default.createElement(v.default,{maxWorkerVolumeSizeGiB:w})),n.default.createElement(o.GridItem,{md:6}));return n.default.createElement(n.default.Fragment,null,M&&n.default.createElement(n.default.Fragment,null,n.default.createElement(o.GridItem,null,n.default.createElement(o.Title,{headingLevel:"h3"},"Machine pools settings")),n.default.createElement(o.GridItem,{md:12},n.default.createElement(o.Text,{component:o.TextVariants.p},"These settings apply to all created machine pools. After cluster creation, you can alter your compute machine count at any time, but your selected default machine pool instance type is permanent."))),n.default.createElement(o.GridItem,{md:6},n.default.createElement(s.Fields,{component:g.default,names:["machine_type","machine_type_force_choice"],validate:{machine_type:m.required},isMultiAz:a,isBYOC:t,cloudProviderID:r,product:_,billingModel:P})),n.default.createElement(o.GridItem,{md:6}),y&&n.default.createElement(o.GridItem,{md:12},n.default.createElement(h.default,{openEditClusterAutoScalingModal:G?A:void 0,autoscalingEnabled:O,isMultiAz:a,change:T,autoScaleMinNodesValue:I,autoScaleMaxNodesValue:R,product:_,isBYOC:t,isDefaultMachinePool:!M,minNodesRequired:S,isHypershiftWizard:M,numPools:C})),!O&&n.default.createElement(n.default.Fragment,null,n.default.createElement(o.GridItem,{md:6},n.default.createElement(s.Field,{component:d.default,buttonAriaLabel:"Compute node count information",name:"nodes_compute",label:(()=>{const e="Compute node count";return M?`${e} (per machine pool)`:a?`${e} (per zone)`:e})(),isMultiAz:a,isByoc:t,machineType:l,extendedHelpText:n.default.createElement(n.default.Fragment,null,(0,b.computeNodeHintText)(M,!1)," ",n.default.createElement(f.default,{href:V?c.default.ROSA_SERVICE_DEFINITION_COMPUTE:c.default.OSD_SERVICE_DEFINITION_COMPUTE},"Learn more about compute node count")),cloudProviderID:r,product:_,minNodes:S,increment:C,billingModel:P,isHypershiftWizard:M,poolNumber:L,isHypershift:M})),n.default.createElement(o.GridItem,{md:6})),U,H,F)}S.defaultProps={billingModel:p.billingModels.STANDARD},S.propTypes={isBYOC:r.default.bool.isRequired,isMultiAz:r.default.bool.isRequired,isHypershift:r.default.bool,machineType:r.default.string.isRequired,cloudProviderID:r.default.string.isRequired,product:r.default.oneOf(Object.keys(p.normalizedProducts)).isRequired,billingModel:r.default.oneOf(Object.values(p.billingModels)),minNodesRequired:r.default.number,nodeIncrement:r.default.number,canAutoScale:r.default.bool,hasNodeLabels:r.default.bool,autoscalingEnabled:r.default.bool,change:r.default.func.isRequired,autoScaleMinNodesValue:r.default.string,autoScaleMaxNodesValue:r.default.string,clusterVersionRawId:r.default.string,openEditClusterAutoScalingModal:r.default.func,imds:r.default.string,poolNumber:r.default.number,maxWorkerVolumeSizeGiB:r.default.number.isRequired},t.default=S},68335:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(27361)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),o=l(a(45697)),i=a(65652),u=l(a(25967)),d=l(a(76490)),c=l(a(7749)),p=l(a(49596)),m=a(52758),f=l(a(42517));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends s.Component{constructor(){super(...arguments),(0,n.default)(this,"handleSubmit",(()=>{const{submit:e,subscription:t}=this.props,a=(0,r.default)(t,"released",!1);e(t.id,!a)})),(0,n.default)(this,"handleClose",(()=>{const{closeModal:e}=this.props;e()}))}componentDidUpdate(){const{requestState:e,onClose:t}=this.props;e.fulfilled&&(this.handleClose(),t())}render(){const{requestState:e,subscription:t,clusterDisplayName:a,shouldDisplayClusterName:l}=this.props,n=(null==t?void 0:t.status)===m.subscriptionStatuses.DISCONNECTED?s.default.createElement(i.TextList,{component:i.TextListVariants.ol},s.default.createElement(i.TextListItem,null,"Initiate transfer"),s.default.createElement(i.TextListItem,null,s.default.createElement(f.default,{href:`${(0,p.default)()}/register`},"Register the cluster")," ","within 5 days")):s.default.createElement(s.default.Fragment,null,s.default.createElement(i.TextList,{component:i.TextListVariants.ol},s.default.createElement(i.TextListItem,null,"Initiate transfer"),s.default.createElement(i.TextListItem,null,s.default.createElement(f.default,{href:"https://access.redhat.com/solutions/4902871"},"Change the cluster's pull secret")," ","within 5 days")),s.default.createElement(i.Text,{component:i.TextVariants.p},"The transfer is complete when OpenShift Cluster Manager receives telemetry data from the cluster with the new pull secret."));return s.default.createElement(u.default,{title:"Transfer cluster ownership",secondaryTitle:l?a:void 0,width:600,variant:"large",onClose:this.handleClose,primaryText:"Initiate transfer",secondaryText:"Cancel",onPrimaryClick:this.handleSubmit,onSecondaryClick:this.handleClose,isPrimaryDisabled:e.pending},e.error&&s.default.createElement(c.default,{message:"Error initiating transfer",response:e}),s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,{component:i.TextVariants.p},"Transferring cluster ownership will allow another individual to manage this cluster. The steps for transferring cluster ownership are:"),n,s.default.createElement(i.Text,{component:i.TextVariants.h4},"If the transfer is not completed within 5 days, the procedure must be restarted.")))}}g.propTypes={subscription:o.default.object,requestState:o.default.object,closeModal:o.default.func.isRequired,submit:o.default.func.isRequired,onClose:o.default.func.isRequired,clusterDisplayName:o.default.string,shouldDisplayClusterName:o.default.bool},g.modalName=d.default.TRANSFER_CLUSTER_OWNERSHIP,t.default=g},59240:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.canTransferClusterOwnershipSelector=t.canTransferClusterOwnershipListSelector=void 0;var n=l(a(27361)),r=a(1290);t.canTransferClusterOwnershipSelector=e=>{const t=(0,n.default)(e,"clusters.details.cluster.subscription",{});return(0,r.hasCapability)(t,r.subscriptionCapabilities.RELEASE_OCP_CLUSTERS)},t.canTransferClusterOwnershipListSelector=e=>{const t=(0,n.default)(e,"clusters.clusters.clusters",[]),a={};return t.forEach((e=>{const t=e.subscription||{};a[e.id]=(0,r.hasCapability)(t,r.subscriptionCapabilities.RELEASE_OCP_CLUSTERS)})),a}},78712:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(23961),s=l(a(68335)),o=a(7046),i=l(a(52069));t.default=(0,n.connect)((e=>({subscription:e.modal.data.subscription,requestState:e.subscriptionReleased.requestState,shouldDisplayClusterName:e.modal.data.shouldDisplayClusterName||!1,clusterDisplayName:(0,i.default)(e.modal.data)})),(e=>({submit:(t,a)=>{e((0,r.toggleSubscriptionReleased)(t,a))},closeModal:()=>{e((0,r.clearToggleSubscriptionReleasedResponse)()),e((0,o.closeModal)())}})))(s.default)},23961:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearToggleSubscriptionReleasedResponse=function(){return e=>e({type:l.CLEAR_TOGGLE_SUBSCRIPTION_RELEASED_RESPONSE})},t.toggleSubscriptionReleased=function(e,t){const a=t?null:{notifications:{fulfilled:{variant:"success",title:"Cluster ownership transfer canceled",dismissDelay:8e3,dismissable:!1}}};return r=>r({type:l.TOGGLE_SUBSCRIPTION_RELEASED,payload:n.accountsService.editSubscription(e,{released:t}),meta:a})};var l=a(64469),n=a(33047)},64469:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOGGLE_SUBSCRIPTION_RELEASED=t.CLEAR_TOGGLE_SUBSCRIPTION_RELEASED_RESPONSE=void 0,t.TOGGLE_SUBSCRIPTION_RELEASED="TOGGLE_SUBSCRIPTION_RELEASED",t.CLEAR_TOGGLE_SUBSCRIPTION_RELEASED_RESPONSE="CLEAR_TOGGLE_SUBSCRIPTION_RELEASED_RESPONSE"},19511:(e,t,a)=>{"use strict";var l=a(64836);t.Vu=p;var n=l(a(38416)),r=a(25684),s=a(52220),o=a(34693),i=a(64469);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={requestState:s.baseRequestState,data:{}};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,s.PENDING_ACTION)(i.TOGGLE_SUBSCRIPTION_RELEASED):e.requestState=d(d({},s.baseRequestState),{},{pending:!0});break;case(0,s.REJECTED_ACTION)(i.TOGGLE_SUBSCRIPTION_RELEASED):e.requestState=(0,o.getErrorState)(t);break;case(0,s.FULFILLED_ACTION)(i.TOGGLE_SUBSCRIPTION_RELEASED):e.requestState=d(d({},s.baseRequestState),{},{fulfilled:!0}),e.data=t.payload.data;break;case i.CLEAR_TOGGLE_SUBSCRIPTION_RELEASED_RESPONSE:return c}}))}p.initialState=c},21989:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(25967)),i=l(a(76490)),u=l(a(7749));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}class c extends n.Component{componentDidUpdate(){const{unarchiveClusterResponse:e,resetResponse:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}render(){const{closeModal:e,submit:t,unarchiveClusterResponse:a,resetResponse:l,subscriptionID:r,name:i,shouldDisplayClusterName:d}=this.props,c=()=>{l(),e()},p=a.error?n.default.createElement(u.default,{message:"Error un-archiving cluster",response:a}):null;return n.default.createElement(o.default,{title:"Unarchive cluster",secondaryTitle:d?i:void 0,"data-testid":"unarchive-cluster-dialog",onClose:c,primaryText:"Unarchive cluster",onPrimaryClick:()=>t(r,i),isPending:a.pending,onSecondaryClick:c},n.default.createElement(n.default.Fragment,null,p,n.default.createElement(s.Form,{onSubmit:()=>t(r,i)},n.default.createElement("p",null,"Un-archiving a cluster will make it visible in the active (default) cluster list. You may need to manage subscriptions if the cluster is active."))))}}c.propTypes={closeModal:r.default.func.isRequired,onClose:r.default.func.isRequired,submit:r.default.func.isRequired,resetResponse:r.default.func.isRequired,unarchiveClusterResponse:r.default.object,subscriptionID:r.default.string.isRequired,name:r.default.string.isRequired,shouldDisplayClusterName:r.default.bool},c.defaultProps={unarchiveClusterResponse:{}},c.modalName=i.default.UNARCHIVE_CLUSTER,t.default=c},95015:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(70774),s=l(a(21989)),o=a(7046),i=l(a(80338));t.default=(0,n.connect)((e=>{const t=e.modal.data;return{isOpen:(0,i.default)(e,"unarchive-cluster"),unarchiveClusterResponse:e.clusters.unarchivedCluster,subscriptionID:t.subscriptionID?t.subscriptionID:"",name:t.name?t.name:"",shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:(t,a)=>{e((0,r.unarchiveCluster)(t,a))},resetResponse:()=>e((0,r.clearClusterUnarchiveResponse)()),closeModal:()=>e((0,o.closeModal)())})))(s.default)},8645:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(43047),u=l(a(17085));a(74398);var d=a(59231);class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{showPopover:!1}),(0,n.default)(this,"popOverShouldClose",(()=>{this.setState({showPopover:!1})})),(0,n.default)(this,"popOverShouldOpen",(()=>{this.setState({showPopover:!0})})),(0,n.default)(this,"navToAddOns",(()=>{this.setState({showPopover:!1}),window.location.hash="#addOns"}))}componentDidMount(){const{cluster:e,clusterAddOns:t,getClusterAddOns:a}=this.props;t.clusterID===e.id&&t.pending||a(e.id)}render(){const{cluster:e,clusterAddOns:t,addOns:a}=this.props,{showPopover:l}=this.state,n=(()=>{const e=[];return t.items.forEach((t=>{a.items.forEach((a=>{a.id===t.id&&a.has_external_resources&&e.push(t)}))})),e})(),s=n.some((e=>e.state===u.default.INSTALLATION_STATE.DELETING)),c=n.some((e=>e.state!==u.default.INSTALLATION_STATE.DELETED)),p=n.some((e=>e.state===u.default.INSTALLATION_STATE.FAILED)),m=(()=>{const e=[];return p&&t.items.forEach((t=>{t.state===u.default.INSTALLATION_STATE.FAILED&&e.push(t)})),e})(),f=()=>r.default.createElement(o.Popover,{isVisible:l,shouldClose:()=>this.popOverShouldClose(),shouldOpen:()=>this.popOverShouldOpen(),headerContent:r.default.createElement("div",null,"Add-on uninstallation status"),bodyContent:r.default.createElement("div",null,r.default.createElement(o.Button,{isInline:!0,variant:"link",onClick:()=>this.navToAddOns()},m[0].id)," ","add-on failed to uninstall")},r.default.createElement(o.Button,{isInline:!0,variant:"link"},"Failed")),E=()=>r.default.createElement(o.Popover,{isVisible:l,shouldClose:()=>this.popOverShouldClose(),shouldOpen:()=>this.popOverShouldOpen(),headerContent:r.default.createElement("div",null,"Add-on uninstallation status"),bodyContent:r.default.createElement("div",null,"The following add-ons failed to uninstall:",r.default.createElement(o.List,{className:"uninstall-progress-list--error-list"},m.map((e=>r.default.createElement(o.ListItem,null,r.default.createElement(o.Button,{isInline:!0,variant:"link",onClick:()=>this.navToAddOns()},e.id))))))},r.default.createElement(o.Button,{isInline:!0,variant:"link"},"Failed")),g=(()=>{const a={variant:"pending",text:"Pending"},l={variant:"info",text:"Uninstalling",isCurrent:!0},o=0!==n.length&&0!==t.items.length;return(0,d.isHypershiftCluster)(e)?{addOnCleanUp:{variant:"pending",text:"Not Supported"},clusterUninstall:l}:o&&c?s?{addOnCleanUp:l,clusterUninstall:a}:p?{addOnCleanUp:0===m.length?{icon:r.default.createElement(i.ExclamationCircleIcon,{className:"uninstall-progress-list--icon-error"}),text:"Failed"}:1===m.length?{icon:r.default.createElement(i.ExclamationCircleIcon,{className:"uninstall-progress-list--icon-error"}),text:f()}:{icon:r.default.createElement(i.ExclamationCircleIcon,{className:"uninstall-progress-list--icon-error"}),text:E()},clusterUninstall:a}:{addOnCleanUp:a,clusterUninstall:a}:{addOnCleanUp:{variant:"success",text:"Completed"},clusterUninstall:l}})();return r.default.createElement(o.ProgressStepper,null,r.default.createElement(o.ProgressStep,{variant:g.addOnCleanUp.variant,icon:g.addOnCleanUp.icon,isCurrent:g.addOnCleanUp.isCurrent,description:g.addOnCleanUp.text,id:"addOnCleanUp",titleId:"addOnCleanUp-title"},"Add-on uninstallation"),r.default.createElement(o.ProgressStep,{variant:g.clusterUninstall.variant,icon:g.clusterUninstall.icon,isCurrent:g.clusterUninstall.isCurrent,description:g.clusterUninstall.text,id:"clusterUninstall",titleId:"clusterUninstall-title"},"Cluster uninstallation"))}}c.propTypes={cluster:s.default.object.isRequired,getClusterAddOns:s.default.func.isRequired,clusterAddOns:s.default.object,addOns:s.default.object},t.default=c},53763:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=a(66338),r=a(8206),s=l(a(8645)),o=a(1843),i=a(47290);t.Z=(0,n.connect)((e=>({clusterAddOns:e.addOns.clusterAddOns,addOns:e.addOns.addOns,logs:e.logs})),(e=>(0,r.bindActionCreators)({getClusterAddOns:o.getClusterAddOns,getLogs:i.getLogs},e)))(s.default)},57355:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(38416)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),o=l(a(45697)),i=a(65652),u=a(87558),d=l(a(27361)),c=l(a(93228)),p=l(a(42517)),m=l(a(25967)),f=l(a(76490)),E=l(a(7749)),g=l(a(91885)),h=a(52758),v=a(69816);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}a(22963);class _ extends s.Component{componentDidMount(){const{organization:e,getOrganizationAndQuota:t}=this.props;e.pending||t()}componentDidUpdate(){const{upgradeTrialClusterResponse:e,resetResponse:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}upgradeModalQuota(){const{cluster:e,machineTypesByID:t,organization:{quotaList:a},machinePools:l}=this.props,{OSD:n}=h.normalizedProducts,{STANDARD:r,MARKETPLACE:s}=h.billingModels,o=(0,d.default)(e,"multi_az"),i=(0,d.default)(e,"cloud_provider.id"),u=l.reduce(((e,a)=>{const l=a.instance_type,n=t[l].generic_name,r=a.autoscaling?a.autoscaling.max_replicas:a.replicas;return e[n]?e[n]+=r:e[n]=r,e}),{}),c={MARKETPLACE:!0,STANDARD:!0};return Object.keys(u).forEach((e=>{const t={product:n,cloudProviderID:i,resourceName:e,isBYOC:!0,isMultiAz:o,billingModel:r},l=(0,v.availableClustersFromQuota)(a,t),d=(0,v.availableNodesFromQuota)(a,t);c.STANDARD=c.STANDARD&&d>=u[e]&&l>0,t.billingModel=s;const p=(0,v.availableClustersFromQuota)(a,t),m=(0,v.availableNodesFromQuota)(a,t);c.MARKETPLACE=c.MARKETPLACE&&m>=u[e]&&p>0})),c}primaryButton(e){const{submit:t,clusterID:a}=this.props,{STANDARD:l,MARKETPLACE:n}=h.billingModels,r=e.MARKETPLACE,s={primaryText:"Contact sales",onPrimaryClick:()=>_.buttonLinkClick("https://cloud.redhat.com/products/dedicated/contact/")};return e.STANDARD&&!e.MARKETPLACE?(s.primaryText="Upgrade using quota",s.primaryLink=null,s.onPrimaryClick=()=>t(a,l),s):r?(s.primaryText="Upgrade using Marketplace billing",s.primaryLink=null,s.onPrimaryClick=()=>t(a,n),s):s}secondaryButton(e){const{submit:t,clusterID:a}=this.props,{STANDARD:l}=h.billingModels,n={showSecondary:!0,secondaryText:"Enable Marketplace billing",onSecondaryClick:()=>_.buttonLinkClick("https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated")};return e.MARKETPLACE&&e.STANDARD&&(n.secondaryText="Upgrade using quota",n.onSecondaryClick=()=>t(a,l)),e.MARKETPLACE&&!e.STANDARD&&(n.showSecondary=!1,n.secondaryLink=null),n}tertiaryButton(){const{closeModal:e,resetResponse:t}=this.props,a=()=>{t(),e()};return{tertiaryText:"Cancel",onTertiaryClick:a,showTertiary:!0,onClose:a}}render(){const{submit:e,upgradeTrialClusterResponse:t,clusterID:a,shouldDisplayClusterName:l,clusterDisplayName:r}=this.props,o=t.error?s.default.createElement(E.default,{message:"Error upgrading cluster",response:t}):null,d=this.upgradeModalQuota(),f=this.primaryButton(d),h=this.secondaryButton(d),v=this.tertiaryButton(),b=!(d.STANDARD||d.MARKETPLACE),_=b?"small":"medium";return s.default.createElement(m.default,(0,n.default)({title:"Upgrade cluster from Trial",secondaryTitle:l?r:void 0,"data-testid":"upgrade-trial-cluster-dialog",modalSize:_},f,{className:"upgrade-trial-cluster-dialog"},h,v,{isPending:t.pending}),s.default.createElement("p",null,o),s.default.createElement(i.Form,{onSubmit:()=>e(a)},s.default.createElement("p",null,!b&&s.default.createElement("img",{className:"upgrade-trial-logo",src:c.default,alt:"Red Hat"}),"Convert this trial cluster to a fully supported OpenShift Dedicated cluster.",s.default.createElement("br",null),s.default.createElement("br",null),s.default.createElement(p.default,{href:g.default.OCM_DOCS_UPGRADING_OSD_TRIAL},"Learn more"),b&&s.default.createElement(i.Alert,{variant:"warning",isInline:!0,title:"Your organization doesn't have enough quota to upgrade this cluster.",className:"upgrade-trial-no-quota","data-testid":"no-quota-alert"},s.default.createElement(u.Link,{to:"/quota"},s.default.createElement(i.Button,{id:"subscriptions",variant:"link"},"View your available quota"))))))}}(0,r.default)(_,"buttonLinkClick",(e=>{window.open(e,"_blank")})),_.propTypes={closeModal:o.default.func.isRequired,onClose:o.default.func.isRequired,submit:o.default.func.isRequired,resetResponse:o.default.func.isRequired,clusterID:o.default.string.isRequired,organization:o.default.object.isRequired,cluster:o.default.object.isRequired,getOrganizationAndQuota:o.default.func.isRequired,upgradeTrialClusterResponse:o.default.object,machineTypesByID:o.default.object,clusterDisplayName:o.default.string,shouldDisplayClusterName:o.default.bool,machinePools:o.default.array.isRequired},_.defaultProps={upgradeTrialClusterResponse:{}},_.modalName=f.default.UPGRADE_TRIAL_CLUSTER,t.default=_},41962:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(70774),s=a(98371),o=l(a(57355)),i=a(7046),u=l(a(52069));t.default=(0,n.connect)((e=>{const t=e.modal.data;return{upgradeTrialClusterResponse:e.clusters.upgradedCluster,organization:e.userProfile.organization,clusterID:t.clusterID?t.clusterID:"",cluster:t.cluster?t.cluster:"",clusterDisplayName:(0,u.default)(t.cluster),shouldDisplayClusterName:t.shouldDisplayClusterName,machineTypesByID:e.machineTypes.typesByID,machinePools:e.machinePools.getMachinePools.data}}),(e=>({submit:(t,a)=>{e((0,r.upgradeTrialCluster)(t,{billing_model:a,product:{id:"osd"}}))},resetResponse:()=>e((0,r.clearUpgradeTrialClusterResponse)()),closeModal:()=>e((0,i.closeModal)()),getOrganizationAndQuota:()=>e((0,s.getOrganizationAndQuota)())})))(o.default)},38104:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(36377),u=l(a(25967)),d=l(a(7749));class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"close",(()=>{const{clearDeleteScheduleResponse:e,closeModal:t}=this.props;e(),t()})),(0,n.default)(this,"deleteSchedule",(()=>{const{schedule:e,deleteSchedule:t,isHypershift:a}=this.props;t(e.cluster_id,e.id,a)}))}componentDidUpdate(){const{deleteScheduleRequest:e}=this.props;e.fulfilled&&this.close()}render(){const{isOpen:e,deleteScheduleRequest:t,schedule:a}=this.props,l=t.error?r.default.createElement(d.default,{message:"Error cancelling update",response:t}):null;return e&&r.default.createElement(u.default,{title:"Cancel update",onClose:this.close,primaryText:"Cancel this update",secondaryText:"Close",onPrimaryClick:this.deleteSchedule,isPending:t.pending,onSecondaryClick:this.close},r.default.createElement(r.default.Fragment,null,l,r.default.createElement(o.Form,{onSubmit:this.deleteSchedule},r.default.createElement("p",null,"This update to version ",a.version," is scheduled for"," ",r.default.createElement(i.DateFormat,{type:"exact",date:Date.parse(a.next_run)}),"."," "))))}}c.propTypes={isOpen:s.default.bool,closeModal:s.default.func.isRequired,deleteSchedule:s.default.func.isRequired,deleteScheduleRequest:s.default.object,schedule:s.default.shape({id:s.default.string,cluster_id:s.default.string,next_run:s.default.string,version:s.default.string}),clearDeleteScheduleResponse:s.default.func.isRequired,isHypershift:s.default.bool.isRequired},t.default=c},46969:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(57572),s=l(a(38104)),o=a(7046),i=l(a(80338));const u={deleteSchedule:r.deleteSchedule,clearDeleteScheduleResponse:r.clearDeleteScheduleResponse,closeModal:o.closeModal};t.default=(0,n.connect)((e=>({isOpen:(0,i.default)(e,"cancel-upgrade"),schedule:e.modal.data.schedule,deleteScheduleRequest:e.clusterUpgrades.deleteScheduleRequest})),u)(s.default)},79362:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(5909)),i=l(a(91885)),u=l(a(42517)),d=a(51147);const c=e=>{let{isMinorVersionUpgradesEnabled:t,isAutomatic:a,clusterId:l,hasUnmetUpgradeAcknowledge:r,automaticUpgradePolicyId:c,setUpgradePolicy:p,isNextMinorVersionAvailable:m,isRosa:f,isHypershift:E,isSTSEnabled:g}=e;const[h,v]=n.default.useState(!1),[b,_]=n.default.useState(null);return a&&!r&&c&&l&&m&&!g?b?n.default.createElement(s.Alert,{variant:"danger",className:"automatic-cluster-updates-alert",isInline:!0,title:b,role:"alert","data-testid":"alert-error"}):n.default.createElement(s.Alert,{isExpandable:!0,isInline:!0,className:"automatic-cluster-updates-alert",customIcon:n.default.createElement(o.default,null),title:t?"Next minor version update allowed":"New minor version available",actionLinks:h?n.default.createElement(s.Spinner,{size:"sm","aria-label":"Setting minor version update status"}):(S=async e=>{v(!0),_(null);try{const t=E?d.patchControlPlaneUpgradeSchedule:d.patchUpgradeSchedule,a=await t(l,c,{enable_minor_version_upgrades:e});setTimeout((()=>{p(a.data),v(!1)}),500)}catch(e){_(e.response.data.reason||e.response.data)}},C=t,n.default.createElement(s.AlertActionLink,{onClick:()=>S(!C)},C?"Disallow this minor version update":"Allow the next minor version update")),"data-testid":"alert-success"},t?n.default.createElement("p",{"data-testid":"minorVersionUpgradeAlertDisableMessage"},"Your cluster will be updated to the newest minor version at the time you selected. Minor releases can include new Kubernetes versions or operating system capabilities, improved automation on IaaS providers, and other expanded features."):n.default.createElement("p",{"data-testid":"minorVersionUpgradeAlertEnableMessage"},"Allow your cluster to be updated to the newest minor version at the time you selected."," ",n.default.createElement(u.default,{href:f?i.default.ROSA_UPGRADES:i.default.OSD_UPGRADES},"Learn more about updates"))):null;var S,C};c.propTypes={isMinorVersionUpgradesEnabled:r.default.bool,isAutomatic:r.default.bool,hasUnmetUpgradeAcknowledge:r.default.bool,automaticUpgradePolicyId:r.default.string,clusterId:r.default.string,setUpgradePolicy:r.default.func,isNextMinorVersionAvailable:r.default.bool,isRosa:r.default.bool,isHypershift:r.default.bool,isSTSEnabled:r.default.bool},c.defaultProps={isMinorVersionUpgradesEnabled:!1},t.default=c},29865:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRosa=t.isNextMinorVersionAvailable=t.getUpgradeScheduleId=t.getEnableMinorVersionUpgrades=void 0;var l=a(72132),n=a(95612),r=a(52758);t.getEnableMinorVersionUpgrades=e=>{const t=e.clusterUpgrades.schedules.items.find((e=>"automatic"===e.schedule_type));return!t||t.enable_minor_version_upgrades},t.getUpgradeScheduleId=e=>{var t;return null===(t=e.clusterUpgrades.schedules.items.find((e=>"automatic"===e.schedule_type)))||void 0===t?void 0:t.id},t.isNextMinorVersionAvailable=e=>{var t;const[a,r]=(0,l.splitVersion)((0,n.getFromVersionFromState)(e));return((null===(t=e.clusters.details.cluster)||void 0===t||null===(t=t.version)||void 0===t?void 0:t.available_upgrades)||[]).some((e=>{const[t,n]=(0,l.splitVersion)(e);return t===a&&n>r}))},t.isRosa=e=>{var t;return(null===(t=e.clusters.details.cluster.subscription)||void 0===t?void 0:t.plan.type)===r.normalizedProducts.ROSA}},59253:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(59231),s=a(95612),o=a(57572),i=a(29865),u=l(a(79362));t.default=(0,n.connect)((e=>{var t;const{cluster:a}=e.clusters.details,l=(0,r.isHypershiftCluster)(a);return{isAutomatic:!(0,s.getIsManual)(e),hasUnmetUpgradeAcknowledge:(0,s.getHasUnMetClusterAcks)(e),isMinorVersionUpgradesEnabled:(0,i.getEnableMinorVersionUpgrades)(e),automaticUpgradePolicyId:(0,i.getUpgradeScheduleId)(e),clusterId:(0,s.getClusterIdFromState)(e),isNextMinorVersionAvailable:(0,i.isNextMinorVersionAvailable)(e),isRosa:(0,i.isRosa)(e),isHypershift:l,isSTSEnabled:null==a||null===(t=a.aws)||void 0===t||null===(t=t.sts)||void 0===t?void 0:t.enabled}}),(e=>({setUpgradePolicy:t=>e((0,o.setAutomaticUpgradePolicy)(t))})))(u.default)},53411:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(53688);const o=e=>{let{getAcks:t,isMinorVersionUpgradesEnabled:a,isNextMinorVersionAvailable:l,isAutomatic:r}=e;const[o]=t;return r&&l&&a&&0===o.length?n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available"},n.default.createElement(s.InfoCircleIcon,null),"Next minor version update allowed."):null};o.propTypes={isAutomatic:r.default.bool,isMinorVersionUpgradesEnabled:r.default.bool,isNextMinorVersionAvailable:r.default.bool,getAcks:r.default.array},t.default=o},81847:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(95612),s=a(29865),o=l(a(53411));t.default=(0,n.connect)((e=>({isAutomatic:!(0,r.getIsManual)(e),isMinorVersionUpgradesEnabled:(0,s.getEnableMinorVersionUpgrades)(e),isNextMinorVersionAvailable:(0,s.isNextMinorVersionAvailable)(e),getAcks:(0,r.getClusterAcks)(e)})),(()=>({})))(o.default)},47174:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(65996);class u extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{isOpen:!1}),(0,n.default)(this,"onToggle",(e=>{this.setState({isOpen:e})})),(0,n.default)(this,"onSelect",((e,t)=>{const{input:a}=this.props;this.setState({isOpen:!1}),a.onChange(t)}))}render(){const{isOpen:e}=this.state,{input:t,isDisabled:a}=this.props;return r.default.createElement(o.FormGroup,{label:"Grace period",className:"ocm-c-upgrades-pdb-select"},r.default.createElement(i.Select,{isOpen:e,selections:t.value,onToggle:(e,t)=>this.onToggle(t),onSelect:this.onSelect,isDisabled:a,direction:"up"},r.default.createElement(i.SelectOption,{value:15},"15 minutes"),r.default.createElement(i.SelectOption,{value:30},"30 minutes"),r.default.createElement(i.SelectOption,{value:60},"1 hour"),r.default.createElement(i.SelectOption,{value:120},"2 hours"),r.default.createElement(i.SelectOption,{value:240},"4 hours"),r.default.createElement(i.SelectOption,{value:480},"8 hours")))}}u.propTypes={isDisabled:s.default.bool,input:s.default.shape({value:s.default.number,onChange:s.default.func})},t.default=u},82809:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(53688),o=l(a(64489)),i=l(a(81847));a(54886);const u=e=>{let{children:t}=e;return n.default.createElement("div",{className:"ocm-upgrade-graph-container"},t)},d=e=>{let{children:t}=e;return n.default.createElement("li",{className:"ocm-upgrade-graph-line"},t)},c=e=>{let{children:t}=e;return n.default.createElement("ul",{className:"ocm-upgrade-graph-path"},t)},p=e=>{let{children:t}=e;return n.default.createElement("span",{className:"ocm-upgrade-graph-version"},t)},m=e=>{let{current:t}=e;return n.default.createElement("div",{className:"ocm-upgrade-graph-version-dot "+(t?"ocm-upgrade-current":"")})},f=e=>{let{currentVersion:t,updateVersion:a,hasMore:l}=e;return n.default.createElement("div",{className:"ocm-upgrade-graph"},n.default.createElement(u,null,n.default.createElement(c,{current:!0},n.default.createElement(d,null,n.default.createElement(p,null,t),n.default.createElement(m,{current:!0})),a&&n.default.createElement(n.default.Fragment,null,n.default.createElement(d,null),n.default.createElement(d,null,n.default.createElement(p,null,a),n.default.createElement(m,null))))),l&&n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available"},n.default.createElement(s.InfoCircleIcon,null),`Additional versions available between ${t} and ${a}`),n.default.createElement(o.default,{isPlain:!0,isInfo:!0,showConfirm:!0}),n.default.createElement(i.default,null))};c.propTypes={children:r.default.node},u.propTypes={children:r.default.node},d.propTypes={children:r.default.node},p.propTypes={children:r.default.node},m.propTypes={current:r.default.bool},f.propTypes={currentVersion:r.default.node,updateVersion:r.default.node,hasMore:r.default.bool},t.default=f},44057:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(87558),o=a(65652),i=a(69957),u=a(37655);a(63450);const d=e=>{const{clusterId:t,hasAcks:a}=e;return a?n.default.createElement(s.Link,{to:`/details/${t}#updateSettings`,className:"ocm-upgrade-approval__required-link"},n.default.createElement(o.Icon,null,n.default.createElement(i.ExclamationTriangleIcon,{color:u.global_warning_color_100.value})),n.default.createElement("span",{className:"pf-v5-u-screen-reader"},"Warning")," Approval required"):null};d.propTypes={clusterId:r.default.string,hasAcks:r.default.bool},t.default=d},29402:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(95612),s=l(a(44057));t.default=(0,n.connect)((e=>({hasAcks:(0,r.getHasUnMetClusterAcks)(e)})),{})(s.default)},66821:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(14173)),i=l(a(25967)),u=a(34693),d=l(a(7749)),c=m(a(51147));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}const f=e=>{const[t,a]=(0,n.useState)(!1),[l,r]=(0,n.useState)(!1),[p,m]=(0,n.useState)([]),[f,E]=(0,n.useState)([]),[g,h]=(0,n.useState)(""),[v,b]=(0,n.useState)(""),{modalData:_,closeModal:S,clusterId:C,setGate:y,isOpen:O,automaticUpgradePolicyId:I,setUpgradePolicy:R,isHypershift:T,isSTSEnabled:A}=e;(0,n.useEffect)((()=>{O&&(h(_.fromVersion),b(_.toVersion),E(_.unmetAcknowledgements),m([]))}),[O,_]);const P=()=>{S()};return O?n.default.createElement(i.default,{title:"Administrator acknowledgement",onClose:()=>P(),primaryText:"Approve and continue",secondaryText:"Cancel",onPrimaryClick:()=>(async()=>{a(!0),m([]);const e=[];if(I&&!A)try{const e=T?c.patchControlPlaneUpgradeSchedule:c.patchUpgradeSchedule,t=await e(C,I,{enable_minor_version_upgrades:!0});R(t.data)}catch(t){e.push(t)}if(0===e.length){const t=f.map((e=>e.id)).map((e=>c.default.postClusterGateAgreement(C,e).then((()=>{y(e)})).catch((e=>Promise.reject(e)))));(await Promise.allSettled(t)).forEach((t=>{"rejected"===t.status&&(e.push(t.reason),l&&r(!1))}))}a(!1),0===e.length?S():m(e)})(),onSecondaryClick:()=>P(),isPrimaryDisabled:!l,isPending:t,className:"ocm-upgrade-ack-modal",modalSize:s.ModalVariant.medium},0===p.length?n.default.createElement(o.default,{fromVersion:g,toVersion:v,unmetAcknowledgements:f,confirmed:e=>r(e)}):p.map(((e,t)=>n.default.createElement(d.default,{key:`err-${t}`,message:"Failed to save administrator acknowledgement.",response:(0,u.getErrorState)({payload:e})})))):null};f.propTypes={closeModal:r.default.func,clusterId:r.default.string,automaticUpgradePolicyId:r.default.string,isOpen:r.default.bool,modalData:r.default.shape({fromVersion:r.default.string,toVersion:r.default.string,unmetAcknowledgements:r.default.arrayOf(r.default.object)}),setGate:r.default.func,setUpgradePolicy:r.default.func,isHypershift:r.default.bool,isSTSEnabled:r.default.bool},f.defaultProps={},t.default=f},17047:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(59231),s=l(a(66821)),o=l(a(80338)),i=a(7046),u=a(95612),d=a(18460),c=a(57572);t.default=(0,n.connect)((e=>{var t;const{cluster:a}=e.clusters.details,l=(0,r.isHypershiftCluster)(a);return{isOpen:(0,o.default)(e,"ack-upgrade"),modalData:(0,u.getModalDataFromState)(e),automaticUpgradePolicyId:(0,u.getAutomaticUpgradePolicyId)(e),isHypershift:l,isSTSEnabled:null==a||null===(t=a.aws)||void 0===t||null===(t=t.sts)||void 0===t?void 0:t.enabled}}),(e=>({closeModal:()=>e(i.modalActions.closeModal()),setGate:t=>e((0,d.setClusterUpgradeGate)(t)),setUpgradePolicy:t=>e((0,c.setAutomaticUpgradePolicy)(t))})))(s.default)},95612:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUpgradeGates=t.getToVersionFromState=t.getModalDataFromState=t.getIsManual=t.getHasUnMetClusterAcks=t.getHasScheduledManual=t.getFromVersionFromState=t.getClusterUnMetClusterAcks=t.getClusterOpenShiftVersion=t.getClusterIdFromState=t.getClusterAcks=t.getAutomaticUpgradePolicyId=void 0;var l=a(72132);const n=e=>{var t;return null===(t=e.clusters)||void 0===t||null===(t=t.details)||void 0===t||null===(t=t.cluster)||void 0===t?void 0:t.id};t.getClusterIdFromState=n,t.getClusterOpenShiftVersion=e=>{var t;return null===(t=e.clusters)||void 0===t||null===(t=t.details)||void 0===t||null===(t=t.cluster)||void 0===t?void 0:t.openshift_version};const r=e=>{var t;return(null===(t=e.clusters.details.cluster.version)||void 0===t?void 0:t.raw_id)||null};t.getFromVersionFromState=r;const s=e=>{var t;const a=null===(t=e.clusterUpgrades)||void 0===t||null===(t=t.schedules)||void 0===t||null===(t=t.items)||void 0===t?void 0:t.find((t=>t.version&&t.version!==r(e)));if(!a){var l,n;if(null===(l=e.clusters.details.cluster.version)||void 0===l||!l.available_upgrades||0===(null===(n=e.clusters.details.cluster.version)||void 0===n?void 0:n.available_upgrades.length))return null;const t=e.clusters.details.cluster.version.available_upgrades;return t[t.length-1]}return a.version};t.getToVersionFromState=s;const o=e=>!e.clusterUpgrades.schedules.items.some((e=>"automatic"===e.schedule_type));t.getIsManual=o,t.getModalDataFromState=e=>e.modal.data;const i=e=>{var t;return(null===(t=e.clusters.upgradeGates)||void 0===t?void 0:t.gates)||[]};t.getUpgradeGates=i;const u=(e,t)=>{if(!n(e))return[[],[]];const a=t||s(e),o=r(e),u=(e=>e.clusters.details.cluster.upgradeGates||[])(e),d=i(e)||[],[c,p]=(0,l.splitVersion)(a),[m,f]=(0,l.splitVersion)(o);if(!(c&&p&&m&&f))return[[],[]];const E=d.filter((t=>{if(t.sts_only&&!(e=>{var t,a;return(null===(t=e.clusters.details.cluster.aws)||void 0===t||null===(t=t.sts)||void 0===t?void 0:t.role_arn)&&""!==(null===(a=e.clusters.details.cluster.aws)||void 0===a||null===(a=a.sts)||void 0===a?void 0:a.role_arn)})(e))return!1;const[a,n]=(0,l.splitVersion)(t.version_raw_id_prefix);return!(!a||!n)&&(a>m&&a<=c||a===m&&n>f&&n<=p)})),g=[],h=[];return E.forEach((e=>{const t=u.find((t=>t.version_gate.id===e.id));t?h.push(t):g.push(e)})),[g,h]};t.getClusterAcks=u;const d=(e,t)=>{const a=t||s(e);return u(e,a)[0]};t.getClusterUnMetClusterAcks=d,t.getHasUnMetClusterAcks=(e,t)=>d(e,t).length>0,t.getHasScheduledManual=e=>o(e)&&e.clusterUpgrades.schedules.items.some((t=>t.version!==r(e))),t.getAutomaticUpgradePolicyId=e=>{const t=e.clusterUpgrades.schedules.items.find((e=>"automatic"===e.schedule_type));return null==t?void 0:t.id}},14173:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(42517));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}a(39812);const u="Acknowledge",d=e=>{const[t,a]=(0,n.useState)(""),{initiallyConfirmed:l,confirmed:r,fromVersion:i,toVersion:d,unmetAcknowledgements:c}=e;return(0,n.useEffect)((()=>{l&&a(u)}),[]),(0,n.useEffect)((()=>r(t===u)),[t]),n.default.createElement(s.Grid,{hasGutter:!0,className:"ocm-upgrade-ack-step"},n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"1. Review and prevent update issues"),n.default.createElement("ul",{className:"wizard-step-body"},c.map(((e,t)=>n.default.createElement("li",{key:`ack-${t}`,"data-testid":"unmetAcknowledgement"},e.description?n.default.createElement("p",null,e.description):null,n.default.createElement(s.Alert,{isPlain:!0,isInline:!0,variant:"warning",title:e.warning_message},e.documentation_url?n.default.createElement(o.default,{href:e.documentation_url},"Learn more"):null)))))),n.default.createElement(s.Divider,null),n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"2. Acknowledge"),n.default.createElement("div",{className:"wizard-step-body"},n.default.createElement("p",null,`\n              I acknowledge I have resolved any potential update issues on my cluster, \n              and the cluster is ready to update from OpenShift Container Platform\n              from ${i} to ${d}.\n              `),n.default.createElement(s.Form,{onSubmit:e=>{e.preventDefault()}},n.default.createElement(s.FormGroup,{label:n.default.createElement("span",{className:"ocm-upgrade-ack-step_text-input-label"},"Confirm the above by typing ",n.default.createElement("strong",null,u)," below:"),isRequired:!0,fieldId:"upgradeAcknowledgementModalText"},n.default.createElement(s.TextInput,{value:t,isRequired:!0,id:"upgradeAcknowledgementModalText",type:"text",onChange:(e,t)=>a(t),placeholder:"Type here","data-testid":"acknowledgeTextInput"}))))))};d.propTypes={confirmed:r.default.func,unmetAcknowledgements:r.default.array,fromVersion:r.default.string,toVersion:r.default.string,initiallyConfirmed:r.default.bool},d.defaultProps={initiallyConfirmed:!1},t.default=d},79090:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(53688),i=l(a(17047));a(2274);const u=e=>{const{openModal:t,toVersion:a,fromVersion:l,clusterId:r,getAcks:u,isPlain:d,isManual:c,isInfo:p,showConfirm:m,openshiftVersion:f,hasScheduledManual:E}=e,g=()=>{const[e]=u;t("ack-upgrade",{toVersion:a,fromVersion:l,unmetAcknowledgements:e,clusterId:r})},h=`Administrator acknowledgement is required before updating from ${l} to ${a}`;if(!r||!f)return null;const[v,b]=u,_=m&&0===v.length&&b.length>0;return n.default.createElement(n.default.Fragment,null,v.length>0&&c&&p&&!E?n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available","data-testid":"infoMessageUnmetAcks"},n.default.createElement(o.InfoCircleIcon,null)," ",h):null,v.length>0&&!c?n.default.createElement(n.default.Fragment,null,n.default.createElement(i.default,{clusterId:r}),n.default.createElement(s.Alert,{id:"upgrade-ack-alert",isInline:!0,isPlain:d,variant:"warning",title:h,"data-testid":"alertMessageUnmetAcks",className:d?"":"automatic-cluster-updates-alert",actionLinks:d?null:n.default.createElement(s.AlertActionLink,{onClick:()=>g()},"Provide approval")}),d?n.default.createElement(s.Button,{variant:"secondary",className:"ocm-upgrade-approval__provide-button",onClick:()=>g()},"Provide approval"):null):null,_?n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available","data-testid":"confirmAckReceived"},n.default.createElement(o.InfoCircleIcon,null),"Administrator acknowledgement was received."):null)};u.propTypes={isPlain:r.default.bool,showConfirm:r.default.bool,isInfo:r.default.bool,hasScheduledManual:r.default.bool,openModal:r.default.func,clusterId:r.default.string,openshiftVersion:r.default.string,fromVersion:r.default.string,toVersion:r.default.string,getAcks:r.default.array,isManual:r.default.bool},u.defaultProps={isPlain:!1,showConfirm:!1,isInfo:!1},t.default=u},64489:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(79090)),s=a(7046),o=a(95612);const i={openModal:s.modalActions.openModal};t.default=(0,n.connect)((e=>({clusterId:(0,o.getClusterIdFromState)(e),openshiftVersion:(0,o.getClusterOpenShiftVersion)(e),fromVersion:(0,o.getFromVersionFromState)(e),toVersion:(0,o.getToVersionFromState)(e),isManual:(0,o.getIsManual)(e),getAcks:(0,o.getClusterAcks)(e),hasScheduledManual:(0,o.getHasScheduledManual)(e)})),i)(r.default)},61816:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(65996),u=l(a(17844));a(29813);const d=/00? [0-9][0-9]? \* \* ([0-6]|SUN|MON|TUE|WED|THU|FRI|SAT)/i;class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{daySelectOpen:!1,timeSelectOpen:!1}),(0,n.default)(this,"toggleDaySelect",(e=>{this.setState({daySelectOpen:e})})),(0,n.default)(this,"toggleHourSelect",(e=>{this.setState({timeSelectOpen:e})})),(0,n.default)(this,"onDaySelect",((e,t)=>{const{input:a}=this.props,l=this.parseCurrentValue()[0];a.onChange(`00 ${l} * * ${t}`),this.setState({daySelectOpen:!1})})),(0,n.default)(this,"onHourSelect",((e,t)=>{const{input:a}=this.props,l=this.parseCurrentValue()[1];a.onChange(`00 ${t} * * ${l}`),this.setState({timeSelectOpen:!1})}))}parseCurrentValue(){const{input:e}=this.props;return e.value?(0,u.default)(e.value):["",""]}render(){const{daySelectOpen:e,timeSelectOpen:t}=this.state,{isDisabled:a,input:l,isHypershift:n}=this.props,s="Recurring updates occur when a new patch (z-stream) update becomes available at least 2 days prior to your selected start time.",u="For recurring updates, the control plane will be updated when a new version becomes available at least 2 days prior to your selected start time. Worker nodes will need to be manually updated.";if(l.value&&!d.test(l.value))return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Alert,{id:"automatic-cluster-updates-alert",className:"automatic-cluster-updates-alert inline-alert",isInline:!0,isPlain:!0,variant:"info",title:n?u:s}),r.default.createElement(o.FormGroup,{label:"Select a day and start time",className:"ocm-upgrade-schedule-selection"},"This cluster has a custom schedule which can not be modified from this page. Use the API to set the schedule, or"," ",r.default.createElement(o.Button,{variant:"link",isInline:!0,onClick:()=>l.onChange("")},"reset the schedule"),"."));const[c,p]=this.parseCurrentValue();return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Alert,{id:"automatic-cluster-updates-alert",className:"automatic-cluster-updates-alert inline-alert",isInline:!0,isPlain:!0,variant:"info",title:n?u:s}),r.default.createElement(o.FormGroup,{label:"Select a day and start time",className:"ocm-upgrade-schedule-selection"},r.default.createElement(o.Grid,{hasGutter:!0},r.default.createElement(o.GridItem,{sm:6,md:6},r.default.createElement(i.Select,{isOpen:e,selections:p,onToggle:(e,t)=>this.toggleDaySelect(t),onSelect:this.onDaySelect,isDisabled:a},r.default.createElement(i.SelectOption,{isPlaceholder:!0,isDisabled:!0,value:""},"Select day"),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(((e,t)=>r.default.createElement(i.SelectOption,{key:e,value:t.toString()},e))))),r.default.createElement(o.GridItem,{sm:6,md:6},r.default.createElement(i.Select,{isOpen:t,selections:c,onToggle:(e,t)=>this.toggleHourSelect(t),onSelect:this.onHourSelect,isDisabled:a},r.default.createElement(i.SelectOption,{isPlaceholder:!0,isDisabled:!0,value:""},"Select hour"),(()=>{const e=[];for(let t=0;t<24;t+=1){const a=`${t.toString().padStart(2,0)}:00`;e.push(r.default.createElement(i.SelectOption,{key:a,value:t.toString()},a," UTC"))}return e})())))))}}c.propTypes={input:s.default.shape({value:s.default.string,onChange:s.default.func.isRequired}).isRequired,isDisabled:s.default.bool,isHypershift:s.default.bool},t.default=c},28828:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(9104),o=a(65652),i=l(a(42517)),u=l(a(10865)),d=l(a(61816)),c=l(a(47174));a(29813);var p=l(a(91885)),m=a(52758);function f(e){let{isDisabled:t,isAutomatic:a,showDivider:l,change:r,initialScheduleValue:f,product:E,isHypershift:g=!1}=e;const h=E===m.normalizedProducts.ROSA,v=n.default.createElement(n.default.Fragment,null,"The cluster will be automatically updated based on your preferred day and start time when new patch updates (",n.default.createElement(i.default,{href:h?p.default.ROSA_Z_STREAM:p.default.OSD_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version."),b=n.default.createElement(n.default.Fragment,null,"The cluster control plane will be automatically updated based on your preferred day and start time when new patch updates (",n.default.createElement(i.default,{href:h?p.default.ROSA_Z_STREAM:p.default.OSD_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version. The worker nodes will need to be manually updated."),_={value:"automatic",label:"Recurring updates",description:g?b:v,extraField:a&&n.default.createElement(o.Grid,null,n.default.createElement(o.GridItem,{md:6},n.default.createElement(s.Field,{component:d.default,name:"automatic_upgrade_schedule",isDisabled:t,isHypershift:g})))},S={value:"manual",label:"Individual updates",description:n.default.createElement(n.default.Fragment,null,"Schedule each update individually. Take into consideration end of life dates from the"," ",n.default.createElement(i.default,{href:h?p.default.ROSA_LIFE_CYCLE:p.default.OSD_LIFE_CYCLE},"lifecycle policy")," ","when planning updates.")},C=g?[_,S]:[S,_];return n.default.createElement(n.default.Fragment,null,n.default.createElement(o.GridItem,null,n.default.createElement(o.Text,{component:"p"},"Note: In the event of"," ",n.default.createElement(i.default,{href:"https://access.redhat.com/security/updates/classification/#critical"},"Critical security concerns")," ","(CVEs) that significantly impact the security or stability of the cluster, updates may be"," ","automatically scheduled by Red Hat SRE to the latest z-stream version not impacted by the"," ","CVE within 2 business days after customer notifications.")),n.default.createElement(o.GridItem,{className:"ocm-c-upgrade-policy-radios"},n.default.createElement(s.Field,{component:u.default,name:"upgrade_policy",isDisabled:t,onChange:(e,t)=>{r&&"manual"===t&&r("automatic_upgrade_schedule",f)},options:C,defaultValue:"manual",disableDefaultValueHandling:!0})),l&&!g?n.default.createElement(o.Divider,null):null,g?null:n.default.createElement(o.GridItem,null,n.default.createElement(o.Title,{headingLevel:"h4",className:"ocm-c-upgrade-node-draining-title"},"Node draining"),n.default.createElement(o.TextContent,null,n.default.createElement(o.Text,{component:o.TextVariants.p},"You may set a grace period for how long pod disruption budget-protected workloads will"," ","be respected during updates. After this grace period, any workloads protected by pod disruption budgets that have not been successfully drained from a node will be forcibly evicted.")),n.default.createElement(s.Field,{name:"node_drain_grace_period",component:c.default,isDisabled:t})))}f.propTypes={isAutomatic:r.default.bool,isDisabled:r.default.bool,isHypershift:r.default.bool,showDivider:r.default.bool,change:r.default.func,product:r.default.string,initialScheduleValue:r.default.string},t.default=f},80013:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(10332),i=a(68778),u=a(94768),d=a(36377);a(78851);var c=l(a(82809));function p(e){var t;let{clusterID:a,canEdit:l,clusterVersion:r,scheduledUpgrade:p,availableUpgrades:m=[],onCancelClick:f,openModal:E}=e;const g=m.length>0,h="manual"===(null==p?void 0:p.schedule_type),v=p&&(null===(t=p.state)||void 0===t?void 0:t.value),b=h&&l&&"started"!==v&&"delayed"!==v;return r?n.default.createElement(n.default.Fragment,null,n.default.createElement("div",null,(()=>{let e,t;return"started"===v||"delayed"===v?(e=n.default.createElement(u.InProgressIcon,{class:"ocm-upgrade-in-progress-icon"}),t="delayed"===v?"Update in progress (delayed)":"Update in progress"):g?(e=n.default.createElement(o.OutlinedArrowAltCircleUpIcon,{className:"ocm-upgrade-available-icon"}),t="Update available"):(e=n.default.createElement(i.CheckCircleIcon,{className:"ocm-cluster-up-to-date-icon"}),t="Up to date"),n.default.createElement(n.default.Fragment,null,e," ",t)})(),n.default.createElement(c.default,{currentVersion:r,updateVersion:null!=p&&p.version?p.version:m&&0!==m.length?m[m.length-1]:void 0,hasMore:!h&&m.length>1}),p&&"started"!==v&&"pending"!==v&&n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"ocm-upgrade-status-scheduled-title"},"Upgrade scheduled"),n.default.createElement(d.DateFormat,{type:"exact",date:Date.parse(p.next_run)}))),b&&n.default.createElement(s.Button,{id:"ocm-upgrade-status-cancel",variant:"link",onClick:()=>{f&&f(),E("cancel-upgrade",{clusterID:a,schedule:p})}},"Cancel this update")):n.default.createElement(s.EmptyState,{variant:s.EmptyStateVariant.xs},n.default.createElement(s.EmptyStateHeader,{titleText:"Update status is not available",headingLevel:"h4"}),n.default.createElement(s.EmptyStateBody,null,"Update status is not available. Try again later."))}p.propTypes={clusterID:r.default.string.isRequired,canEdit:r.default.bool,clusterVersion:r.default.string,scheduledUpgrade:r.default.shape({version:r.default.string,next_run:r.default.string,state:r.default.shape({value:r.default.string}),schedule_type:r.default.string}),onCancelClick:r.default.func,openModal:r.default.func,availableUpgrades:r.default.arrayOf(r.default.string)},t.default=p},41342:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(36377),i=a(68778),u=a(71359),d=a(4088),c=l(a(7749));function p(e){let{requestStatus:t,close:a,scheduleType:l,upgradeTimestamp:r}=e;return t.error?n.default.createElement(s.Bullseye,null,n.default.createElement(c.default,{message:"Failed to schedule upgrade",response:t})):t.pending||!t.fulfilled?n.default.createElement(u.Spinner,{className:"wizard-step-body",centered:!0}):n.default.createElement(s.EmptyState,{variant:"lg",className:"wizard-step-body"},n.default.createElement(s.EmptyStateHeader,{titleText:"Scheduled cluster update",icon:n.default.createElement(s.EmptyStateIcon,{icon:i.CheckCircleIcon,color:d.global_success_color_100.value}),headingLevel:"h4"}),n.default.createElement(s.EmptyStateBody,null,"Your update was successfully scheduled to start within"," ","now"===l?"the next hour":n.default.createElement(n.default.Fragment,null,"one hour of ",n.default.createElement(o.DateFormat,{type:"exact",date:new Date(r)})),"."),n.default.createElement(s.EmptyStateFooter,null,n.default.createElement(s.EmptyStateActions,null,n.default.createElement(s.Button,{onClick:a},"Close"))))}p.propTypes={requestStatus:r.default.shape({fulfilled:r.default.bool,error:r.default.bool,pending:r.default.bool}).isRequired,close:r.default.func.isRequired,scheduleType:r.default.string,upgradeTimestamp:r.default.string},t.default=p},96521:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(65996),u=a(36377),d=l(a(9198));class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{timeSelectionOpen:!1}),(0,n.default)(this,"modeChange",(e=>{const{onSet:t,timestamp:a}=this.props;"now"===e.target.value?t({type:"now"}):t({type:"time",timestamp:a||c.getDefaultTimestamp().toISOString()})})),(0,n.default)(this,"setDate",(e=>{const{onSet:t}=this.props,a=c.getDefaultTimestamp();t({type:"time",timestamp:e<a?a:e})})),(0,n.default)(this,"setTime",((e,t)=>{const{onSet:a,timestamp:l}=this.props,n=new Date(l),[r,s]=t.split(":");n.setHours(r),n.setMinutes(s),a({type:"time",timestamp:n.toISOString()}),this.setState({timeSelectionOpen:!1})}))}render(){const{type:e,timestamp:t}=this.props,{timeSelectionOpen:a}=this.state;a&&setTimeout((()=>{requestAnimationFrame((()=>{const e=document.querySelector("#upgrade-time-select-dropdown .pf-v5-c-select__menu-item.pf-m-selected");e&&e.scrollIntoView({block:"center"})}))}),1);const l=new Date;return l.setMonth(l.getMonth()+6),r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"Schedule update"),r.default.createElement(o.Form,{className:"wizard-step-body"},r.default.createElement(o.FormGroup,{fieldId:"upgrade-schedule-now"},r.default.createElement(o.Radio,{isChecked:"now"===e,name:"upgrade-schedule-type",id:"upgrade-schedule-now",value:"now",label:"Update now (update will begin within the next hour)",onChange:this.modeChange})),r.default.createElement(o.FormGroup,{fieldId:"upgrade-schedule-time"},r.default.createElement(o.Radio,{isChecked:"time"===e,name:"upgrade-schedule-type",id:"upgrade-schedule-time",value:"time",label:"Schedule a different time",onChange:this.modeChange})),"time"===e&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.FormGroup,{fieldId:"upgrade-schedule-datepicker",className:"upgrade-schedule-datepicker"},r.default.createElement(d.default,{id:"upgrade-schedule-datepicker",selected:t&&new Date(t),onChange:this.setDate,dateFormat:"yyyy-MM-dd",customInput:r.default.createElement(o.TextInput,null),minDate:new Date,maxDate:l}),r.default.createElement(i.Select,{selections:(()=>{const e=new Date(t);return`${e.getHours().toString().padStart(2,0)}:${e.getMinutes().toString().padStart(2,0)}`})(),onSelect:this.setTime,onToggle:()=>this.setState((e=>({timeSelectionOpen:!e.timeSelectionOpen}))),isOpen:a,id:"upgrade-time-select-dropdown"},(()=>{const e=[];for(let a=0;a<24;a+=1){const l=`${a.toString().padStart(2,0)}:00`,n=new Date(t);n.setHours(a),n.setMinutes(0),e.push(r.default.createElement(i.SelectOption,{value:l,key:l,isDisabled:c.getDefaultTimestamp()>n},l))}return e})())),r.default.createElement("dl",{className:"cluster-upgrade-dl"},r.default.createElement("dt",null,"UTC "),r.default.createElement("dd",null,r.default.createElement(u.DateFormat,{type:"exact",date:new Date(t)}))))))}}(0,n.default)(c,"getDefaultTimestamp",(()=>{const e=new Date((new Date).getTime()+36e5);return e.getMinutes()>5&&e.setHours(e.getHours()+1),e.setSeconds(0),e.setMilliseconds(0),e.setMinutes(0),e})),c.propTypes={onSet:s.default.func.isRequired,type:s.default.oneOf(["now","time"]),timestamp:s.default.string},t.default=c},23939:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(65996),u=a(71359),d=a(36377),c=l(a(76490)),p=l(a(31502)),m=l(a(96521)),f=l(a(14173)),E=l(a(41342));a(10014);var g=l(a(51147)),h=a(59231);class v extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{selectedVersion:void 0,upgradeTimestamp:void 0,requireAcknowledgement:!1,acknowledged:!1,scheduleType:"now"}),(0,n.default)(this,"close",(()=>{const{closeModal:e,clearPostedUpgradeScheduleResponse:t}=this.props;this.setState({selectedVersion:void 0,upgradeTimestamp:void 0,scheduleType:"now"}),t(),e()})),(0,n.default)(this,"selectVersion",(e=>{const{getUnMetClusterAcknowledgements:t}=this.props,a=t(e).length>0;this.setState({selectedVersion:e,requireAcknowledgement:a})})),(0,n.default)(this,"setSchedule",(e=>{let{timestamp:t,type:a}=e;return this.setState({upgradeTimestamp:t,scheduleType:a})})),(0,n.default)(this,"onNext",(e=>{const{clusterDetails:t,postSchedule:a,getUnMetClusterAcknowledgements:l,setGate:n,rejectGate:r}=this.props,{selectedVersion:s,scheduleType:o,upgradeTimestamp:i}=this.state;if("finish"===e.id){const e="now"===o?new Date((new Date).getTime()+36e4).toISOString():i;let u=null;const d=l(s).map((e=>!!u||g.default.postClusterGateAgreement(t.cluster.id,e.id).then((()=>{n(e.id)})).catch((e=>{u=e}))));Promise.allSettled(d).then((()=>{u?r(u):a(t.cluster.id,{schedule_type:"manual",upgrade_type:(0,h.isHypershiftCluster)(t.cluster)?"ControlPlane":"OSD",next_run:e,version:s},(0,h.isHypershiftCluster)(t.cluster))}))}}))}componentDidMount(){const{fetchClusterDetails:e,subscriptionID:t}=this.props;e(t)}render(){var e,t;const{clusterName:a,upgradeScheduleRequest:l,clusterDetails:n,subscriptionID:s,getUnMetClusterAcknowledgements:c}=this.props,{selectedVersion:g,upgradeTimestamp:h,scheduleType:v,requireAcknowledgement:b,acknowledged:_}=this.state,{cluster:S}=n,C=g&&(h||"now"===v)&&(b&&_||!b),y=[{id:"select-version",name:"Select version",component:n.pending&&!n.fulfilled||(null==S?void 0:S.subscription.id)!==s?r.default.createElement(u.Spinner,{centered:!0}):r.default.createElement(p.default,{availableUpgrades:null===(e=S.version)||void 0===e?void 0:e.available_upgrades,clusterVersion:S.openshift_version||(null==S||null===(t=S.version)||void 0===t?void 0:t.id),clusterChannel:S.version.channel_group,selected:g,onSelect:this.selectVersion,getUnMetClusterAcknowledgements:c}),enableNext:!!g},...g&&b?[{id:"acknowledge_upgrade",name:"Administrator acknowledgement",component:r.default.createElement(f.default,{confirmed:e=>{this.setState({acknowledged:e})},unmetAcknowledgements:c(g),fromVersion:n.cluster.openshift_version,toVersion:g,initiallyConfirmed:_}),canJumpTo:!!g,enableNext:C}]:[],{id:"schedule-upgrade",name:"Schedule update",component:r.default.createElement(m.default,{onSet:this.setSchedule,timestamp:h,type:v}),canJumpTo:!!g&&(!b||_),enableNext:C},{id:"confirmation",name:"Confirmation",component:r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"Confirmation of your update"),r.default.createElement("dl",{className:"wizard-step-body cluster-upgrade-dl"},r.default.createElement("div",null,r.default.createElement("dt",null,"Version"),r.default.createElement("dd",null,S.openshift_version,"  ",g)),b?r.default.createElement("div",null,r.default.createElement("dt",null,"Administrator acknowledgement"),r.default.createElement("dd",null,_?"Approved":"Not approved")):null,r.default.createElement("dt",null,"Scheduled"),r.default.createElement("dd",null,"now"===v?"Within the next hour":r.default.createElement("dl",null,r.default.createElement("dt",null,"UTC"),r.default.createElement("dd",null,r.default.createElement(d.DateFormat,{type:"exact",date:new Date(h)})),r.default.createElement("div",null,r.default.createElement("dt",null,"Local time"),r.default.createElement("dd",null,new Date(h).toString())))))),nextButtonText:"Confirm update",canJumpTo:C},{id:"finish",name:"Finish",component:r.default.createElement(E.default,{onClose:this.closeWizard,scheduleType:v,upgradeTimestamp:h,requestStatus:l,close:this.close}),isFinishedStep:!0}];return r.default.createElement(i.Wizard,{title:"Update cluster",className:"ocm-upgrade-wizard",description:a,isOpen:!0,steps:y,onNext:this.onNext,onClose:this.close})}}v.propTypes={closeModal:s.default.func.isRequired,clusterName:s.default.string,subscriptionID:s.default.string,upgradeScheduleRequest:s.default.object.isRequired,postSchedule:s.default.func.isRequired,clearPostedUpgradeScheduleResponse:s.default.func.isRequired,fetchClusterDetails:s.default.func.isRequired,clusterDetails:s.default.shape({pending:s.default.bool,fulfilled:s.default.bool,cluster:s.default.shape({id:s.default.string,subscription:s.default.shape({id:s.default.string}),openshift_version:s.default.string,version:s.default.shape({channel_group:s.default.string,id:s.default.string,available_upgrades:s.default.arrayOf(s.default.string)})})}),getUnMetClusterAcknowledgements:s.default.func,setGate:s.default.func,rejectGate:s.default.func},v.modalName=c.default.UPGRADE_WIZARD,t.default=v},60890:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(83668),i=a(53688),u=a(7488),d=l(a(42517));const c=e=>{const{isSelected:t,isRecommended:a,version:l,onKeyDown:r,onClick:c,children:p,getUnMetClusterAcknowledgements:m}=e;return n.default.createElement(s.Card,{className:"version-card",id:l,onKeyDown:r,onClick:c,isSelectableRaised:!0,isCompact:!0,isSelected:t},n.default.createElement(s.CardTitle,null,n.default.createElement(s.Split,null,n.default.createElement(s.SplitItem,null,l," ",m(l).length>0?(e=>n.default.createElement(s.Tooltip,{content:`All clusters require an administrator acknowledgement before updating to OpenShift Container Platform ${e}`},n.default.createElement(s.Button,{variant:"link",isInline:!0,"aria-label":"more information"},n.default.createElement(i.InfoCircleIcon,null))))(l):null),n.default.createElement(s.SplitItem,{isFilled:!0}),a&&n.default.createElement(s.SplitItem,null,n.default.createElement(s.Label,{color:"blue",icon:n.default.createElement(o.StarIcon,null)},"Recommended")))),p&&n.default.createElement(s.CardBody,null,p),n.default.createElement(s.CardFooter,null,(e=>{const{groups:t}=u.versionRegEx.exec(e),{major:a,minor:l,revision:r,patch:s}=t;if("4"!==a||void 0!==s)return null;const o=`https://docs.openshift.com/container-platform/${a}.${l}/release_notes/ocp-${a}-${l}-release-notes.html#ocp-${a}-${l}-${r}`;return n.default.createElement(d.default,{href:o,className:"pf-c-button pf-m-link card-footer-button"},"View release notes")})(l)))};c.propTypes={isSelected:r.default.bool,isRecommended:r.default.bool,version:r.default.string.isRequired,onKeyDown:r.default.func.isRequired,onClick:r.default.func.isRequired,children:r.default.node,getUnMetClusterAcknowledgements:r.default.func},c.defaultProps={isRecommended:!1},t.default=c},65661:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=l(a(10928)),u=a(7488),d=l(a(60890));class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"onKeyDown",(e=>{e.target===e.currentTarget&&[13,32].includes(e.keyCode)&&this.onClick(e)})),(0,n.default)(this,"onClick",(e=>{const{selected:t,onSelect:a}=this.props;a(e.currentTarget.id===t?null:e.currentTarget.id)}))}componentDidMount(){this.selectDefault()}selectDefault(){const{availableUpgrades:e,selected:t,onSelect:a}=this.props;1!==e.length||t||a(e[0])}recommendedCards(e,t){const{selected:a,getUnMetClusterAcknowledgements:l}=this.props,n=u.versionRegEx.exec(t).groups;return r.default.createElement(r.default.Fragment,null,e?r.default.createElement(o.GridItem,{span:6},r.default.createElement(d.default,{isRecommended:!0,isSelected:a===e,version:e,onKeyDown:this.onKeyDown,onClick:this.onClick,getUnMetClusterAcknowledgements:l},"The latest on your current minor version.")):null,t!==e?r.default.createElement(o.GridItem,{span:6},r.default.createElement(d.default,{isRecommended:!0,isSelected:a===t,version:t,onKeyDown:this.onKeyDown,onClick:this.onClick,getUnMetClusterAcknowledgements:l},"Start taking advantage of the new features"," ",`${n.major}.${n.minor}`," has to offer.")):null)}render(){const{availableUpgrades:e,clusterVersion:t,selected:a,getUnMetClusterAcknowledgements:l}=this.props,n=(0,i.default)(e),s=u.versionRegEx.exec(t).groups,c=e.filter((e=>{const t=u.versionRegEx.exec(e).groups;return t.major===s.major&&t.minor===s.minor})),p=(0,i.default)(c),m=e.filter((e=>e!==n&&e!==p));return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Title,{className:"version-select-step-title",size:"lg",headingLevel:"h3"},"Select version"),r.default.createElement("div",{id:"version-grid-wrapper"},r.default.createElement(o.Grid,{hasGutter:!0,className:"version-selection-grid"},this.recommendedCards(p,n),m.length>0&&r.default.createElement(o.GridItem,null,r.default.createElement(o.Divider,null)),m.map((e=>r.default.createElement(o.GridItem,{span:4,key:e},r.default.createElement(d.default,{version:e,onKeyDown:this.onKeyDown,onClick:this.onClick,isSelected:a===e,getUnMetClusterAcknowledgements:l})))))))}}c.propTypes={clusterVersion:s.default.string.isRequired,availableUpgrades:s.default.arrayOf(s.default.string),onSelect:s.default.func.isRequired,selected:s.default.string,getUnMetClusterAcknowledgements:s.default.func},t.default=c},31502:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(65661));t.default=n.default},79799:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(7046),s=a(70774),o=a(57572),i=l(a(23939)),u=a(95612),d=a(18460);const c={closeModal:r.closeModal,postSchedule:o.postSchedule,clearPostedUpgradeScheduleResponse:o.clearPostedUpgradeScheduleResponse,fetchClusterDetails:s.fetchClusterDetails,setGate:d.setClusterUpgradeGate,rejectGate:d.rejectGateAction};t.default=(0,n.connect)((e=>({subscriptionID:e.modal.data.subscriptionID,clusterName:e.modal.data.clusterName,clusterDetails:e.clusters.details,upgradeScheduleRequest:e.clusterUpgrades.postedUpgradeSchedule,getUnMetClusterAcknowledgements:t=>(0,u.getClusterUnMetClusterAcks)(e,t)})),c)(i.default)},67258:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(38416)),r=a(25684),s=l(a(27484)),o=a(52220),i=a(34693),u=a(57572);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const p={versionInfo:c(c({},o.baseRequestState),{},{version:void 0,availableUpgrades:[]}),postedUpgradeSchedule:c({},o.baseRequestState),deleteScheduleRequest:c({},o.baseRequestState),schedules:c(c({},o.baseRequestState),{},{items:[]})};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(a=>{switch(t.type){case(0,o.PENDING_ACTION)(u.POST_UPGRADE_SCHEDULE):a.postedUpgradeSchedule.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.POST_UPGRADE_SCHEDULE):a.postedUpgradeSchedule=c(c({},p.upgradeSchedule),{},{fulfilled:!0});break;case(0,o.REJECTED_ACTION)(u.POST_UPGRADE_SCHEDULE):a.postedUpgradeSchedule=c(c({},p),(0,i.getErrorState)(t));break;case u.CLEAR_POST_UPGRADE_SCHEDULE:a.postedUpgradeSchedule=c({},p);break;case(0,o.PENDING_ACTION)(u.GET_UPGRADE_SCHEDULES):a.schedules.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.GET_UPGRADE_SCHEDULES):{var l;const e=(null===(l=t.payload)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.items)||[];e.sort(((e,t)=>(0,s.default)(e.next_run).unix()-(0,s.default)(t.next_run).unix())),a.schedules=c(c({},p.schedules),{},{fulfilled:!0,items:e});break}case(0,o.REJECTED_ACTION)(u.GET_UPGRADE_SCHEDULES):a.schedules=c(c({},p.schedules),(0,i.getErrorState)(t));break;case u.CLEAR_GET_UPGRADE_SCHEDULE:a.schedules=c({},p.schedules);break;case(0,o.PENDING_ACTION)(u.DELETE_UPGRADE_SCHEDULE):a.deleteScheduleRequest.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.DELETE_UPGRADE_SCHEDULE):a.deleteScheduleRequest=c(c({},p.deleteScheduleRequest),{},{fulfilled:!0});break;case(0,o.REJECTED_ACTION)(u.DELETE_UPGRADE_SCHEDULE):a.deleteScheduleRequest=c(c({},p.deleteScheduleRequest),(0,i.getErrorState)(t));break;case u.CLEAR_DELETE_UPGRADE_SCHEDULE:a.deleteScheduleRequest=c({},p.deleteScheduleRequest);break;case u.SET_CLUSTER_UPGRADE_POLICY:a.schedules.items=e.schedules.items.map((e=>e.cluster_id===t.payload.cluster_id&&e.schedule_type===t.payload.schedule_type?t.payload:e))}}))}m.initialState=p,t.ZP=m},17844:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=e=>{const t=e.split(" "),a=["SUN","MON","TUE","WED","THU","FRI","SAT"];let l=t[t.length-1];return a.includes(l)&&(l=a.indexOf(l)),[t[1],l]}},84576:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(9104),i=a(52758),u=l(a(91885)),d=l(a(59539)),c=a(86896),p=l(a(42517));function m(e){let{parent:t,disableUVM:a,planType:l}=e;const r=n.default.createElement(s.Title,{headingLevel:"h4"}," Monitoring "),m=l===i.normalizedProducts.ROSA,f=l===i.normalizedProducts.OSD||l===i.normalizedProducts.OSDTrial;return n.default.createElement(n.default.Fragment,null,"create"===t?n.default.createElement(s.GridItem,null,r):r,n.default.createElement(o.Field,{component:d.default,name:"enable_user_workload_monitoring",label:"Enable user workload monitoring",isDisabled:a,extendedHelpText:n.default.createElement(n.default.Fragment,null,c.constants.enableUserWorkloadMonitoringHelp," ",m||f?n.default.createElement(p.default,{href:m?u.default.ROSA_MONITORING:u.default.OSD_MONITORING_STACK},"Learn more"):null)}),n.default.createElement("div",{className:"ocm-c--reduxcheckbox-description"},c.constants.enableUserWorkloadMonitoringHint))}a(63574),m.propTypes={parent:r.default.string,disableUVM:r.default.bool,planType:r.default.string},t.default=m},41086:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(45697)),r=l(a(28416)),s=a(65652),o=a(66338),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(92308));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const d=e=>{let{currentPage:t,pageSize:a,totalCount:l,onFirstPage:n,onLastPage:o,onPreviousPage:i,onNextPage:u,onPageInput:d,onPerPageSelect:c,variant:p,isDisabled:m,perPageOptions:f}=e;return r.default.createElement(s.Pagination,{page:t,perPage:a,itemCount:l,itemsStart:(t-1)*a+1,itemsEnd:Math.min(t*a,l),onFirstClick:n,onLastClick:o,onPreviousClick:i,onNextClick:u,onSetPage:d,onPerPageSelect:c,variant:p,dropDirection:"bottom"===p?"up":"down",isCompact:"bottom"!==p,isDisabled:m,perPageOptions:f})};d.propTypes={viewType:n.default.string,currentPage:n.default.number,pageSize:n.default.number,totalCount:n.default.number,onFirstPage:n.default.func,onLastPage:n.default.func,onNextPage:n.default.func,onPreviousPage:n.default.func,onPageInput:n.default.func,onPerPageSelect:n.default.func,variant:n.default.oneOf(["top","bottom"]).isRequired,isDisabled:n.default.bool,perPageOptions:n.default.arrayOf(n.default.shape({title:n.default.string,value:n.default.number}))},t.default=(0,o.connect)(null,((e,t)=>({onFirstPage:()=>e(i.onFirstPage(t.viewType)),onLastPage:()=>e(i.onLastPage(t.viewType)),onNextPage:()=>e(i.onNextPage(t.viewType)),onPreviousPage:()=>e(i.onPreviousPage(t.viewType)),onPageInput:(a,l)=>e(i.onPageInput(l,t.viewType)),onPerPageSelect:(a,l)=>{e(i.onPerPageSelect(l,t.viewType))}})))(d)},70946:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRUST_BUNDLE_PLACEHOLDER=t.TRUST_BUNDLE_HELPER_TEXT=t.SERVICE_CIDR_DEFAULT=t.POD_CIDR_DEFAULT=t.NO_PROXY_PLACEHOLDER=t.NO_PROXY_HELPER_TEXT=t.MACHINE_CIDR_DEFAULT=t.HTTP_PROXY_PLACEHOLDER=t.HTTPS_PROXY_PLACEHOLDER=t.HOST_PREFIX_DEFAULT=t.DISABLED_NO_PROXY_PLACEHOLDER=void 0,t.MACHINE_CIDR_DEFAULT="10.0.0.0/16",t.SERVICE_CIDR_DEFAULT="172.30.0.0/16",t.POD_CIDR_DEFAULT="10.128.0.0/14",t.HOST_PREFIX_DEFAULT="/23",t.HTTP_PROXY_PLACEHOLDER="http://<user>:<password>@<ipaddr>:<port>",t.HTTPS_PROXY_PLACEHOLDER="http(s)://<user>:<password>@<ipaddr>:<port>",t.TRUST_BUNDLE_PLACEHOLDER="-----BEGIN CERTIFICATE-----\n<MY_TRUSTED_CA_CERT>\n-----END CERTIFICATE-----",t.TRUST_BUNDLE_HELPER_TEXT="An additional trust bundle is a PEM encoded X.509 certificate bundle that will be added to the nodes' trusted certificate store.",t.DISABLED_NO_PROXY_PLACEHOLDER="HTTP/HTTPS URL must be provided in order to use No proxy domain",t.NO_PROXY_PLACEHOLDER="domain.com, second.domain.com",t.NO_PROXY_HELPER_TEXT="Preface a domain with . to match subdomains only. For example, .y.com matches x.y.com, but not y.com. Use * to bypass proxy for all destinations."},31990:(e,t,a)=>{"use strict";var l=a(64836);t.L8=void 0;var n=a(28416),r=a(66338),s=l(a(18446)),o=a(98021),i=a(48968),u=a(94989),d=a(8493),c=a(76727);t.L8=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=(0,r.useDispatch)(),l=(0,r.useSelector)(d.vpcsSelector),p=e?(()=>{const{values:e}=(0,o.useFormState)();return{region:e[i.FieldId.Region],cloudProviderID:e[i.FieldId.CloudProvider],credentials:{account_id:e[i.FieldId.AccountId],access_key_id:e[i.FieldId.AccessKeyId],secret_access_key:e[i.FieldId.SecretAccessKey]}}})():(e=>{if(e)return(0,r.useSelector)(d.vpcInquiryRequestSelector);const{values:t}=(0,o.useFormState)();return{region:t[u.FieldId.Region],cloudProviderID:t[u.FieldId.CloudProvider],credentials:{account_id:t[u.FieldId.AssociatedAwsId],sts:{role_arn:t[u.FieldId.InstallerRoleArn]}}}})(t),m=((e,t)=>!!e.fulfilled&&e.cloudProvider===t.cloudProviderID&&e.region===t.region&&(0,s.default)(e.credentials,t.credentials))(l,p),{region:f,cloudProviderID:E,credentials:g}=p;return(0,n.useEffect)((()=>{"aws"!==E||m||(l.error&&a((0,c.clearListVpcs)()),a((0,c.getAWSCloudProviderVPCs)({region:f,awsCredentials:g,options:{includeSecurityGroups:!0}})))}),[E,f,m]),{vpcs:l,requestParams:p}}},13268:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=a(65652),s=a(27849),o=l(a(2101)),i=l(a(91885)),u=a(12549),d=a(72135);t.Z=()=>{const e=n.default.createElement(o.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure Stack Hub"}]});return n.default.createElement(s.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Stack Hub"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"Azure Stack Hub",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/azure-stack-hub/installer-provisioned",ipiLearnMoreLink:i.default.INSTALL_ASHIPI_GETTING_STARTED,upiPageLink:"/install/azure-stack-hub/user-provisioned",upiLearnMoreLink:i.default.INSTALL_ASHUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with Azure Provider"]},name:"azure-stack-hub"})))}},68575:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure Stack Hub",path:"/install/azure-stack-hub"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Stack Hub Installer-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.ash.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"ash",customizations:p.default.ash.customizations},p.default.ash.ipi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},64835:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure Stack Hub",path:"/install/azure-stack-hub"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Stack Hub User-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.ash.upi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"ash",isUPI:!0},p.default.ash.upi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},94845:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=a(65652),s=a(27849),o=l(a(2101)),i=l(a(91885)),u=a(12549),d=a(72135);t.Z=()=>{const e=n.default.createElement(o.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services"}]});return n.default.createElement(s.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"AWS",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/aws/installer-provisioned",ipiLearnMoreLink:i.default.INSTALL_AWSIPI_LEARN_MORE,upiPageLink:"/install/aws/user-provisioned",upiLearnMoreLink:i.default.INSTALL_AWSUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with AWS Provider"]},name:"aws"})))}},28275:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services",path:"/install/aws"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS Installer-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.aws.x86.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"aws",customizations:p.default.aws.customizations},p.default.aws.x86.ipi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},27612:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services",path:"/install/aws"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS User-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.aws.x86.upi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"aws",isUPI:!0},p.default.aws.x86.upi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},32839:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Alibaba Cloud"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Alibaba Cloud"},r.default.createElement(f.default,{title:p.default.alibaba.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"alibaba",customizations:p.default.alibaba.customizations},p.default.alibaba))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},17105:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=a(65652),s=a(27849),o=l(a(2101)),i=l(a(91885)),u=a(12549),d=a(72135);t.Z=()=>{const e=n.default.createElement(o.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services (ARM)"}]});return n.default.createElement(s.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS (ARM)"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"AWS (ARM)",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/aws/arm/installer-provisioned",ipiLearnMoreLink:i.default.INSTALL_AWSIPI_LEARN_MORE,upiPageLink:"/install/aws/arm/user-provisioned",upiLearnMoreLink:i.default.INSTALL_AWSUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with AWS Provider"]},name:"aws"})))}},49541:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services (ARM)",path:"/install/aws/arm"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS Installer-Provisioned ARM Infrastructure"},r.default.createElement(f.default,{title:p.default.aws.arm.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"aws",customizations:p.default.aws.customizations},p.default.aws.arm.ipi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},62800:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services (ARM)",path:"/install/aws/arm"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS User-Provisioned ARM Infrastructure"},r.default.createElement(f.default,{title:p.default.aws.arm.upi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"aws",isUPI:!0},p.default.aws.arm.upi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},78456:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure (ARM)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Installer-Provisioned ARM Infrastructure"},r.default.createElement(f.default,{title:p.default.azure.arm.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"azure",customizations:p.default.azure.customizations},p.default.azure.arm.ipi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},97636:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=a(65652),s=a(27849),o=l(a(2101)),i=l(a(91885)),u=a(12549),d=a(72135);t.Z=()=>{const e=n.default.createElement(o.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"ARM Bare Metal"}]});return n.default.createElement(s.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | ARM Bare Metal"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"ARM Bare Metal",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/arm/installer-provisioned",ipiLearnMoreLink:i.default.INSTALL_BAREMETAL_IPI_LEARN_MORE,upiPageLink:"/install/arm/user-provisioned",upiLearnMoreLink:i.default.INSTALL_BAREMETAL_UPI_GETTING_STARTED,aiPageLink:"/assisted-installer/clusters/~new?useArm=true",aiLearnMoreLink:i.default.INSTALL_ASSISTED_LEARN_MORE,providerSpecificFeatures:{ipi:["Hosts controlled with baseboard management controller (BMC)","For air-gapped/restricted networks"],upi:["For air-gapped/restricted networks"]},name:"arm"})))}},33378:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"ARM Bare Metal",path:"/install/arm"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | ARM Bare Metal Installer-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.baremetal.arm.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal"},p.default.baremetal.arm.ipi,{isBMIPI:!0}))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},75288:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"ARM Bare Metal",path:"/install/arm"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | ARM Bare Metal User-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.baremetal.arm.upi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.arm.upi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},17298:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(66338),o=a(65652),i=a(27849),u=l(a(2101)),d=l(a(57816)),c=a(5498),p=l(a(80072)),m=a(91885);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(u.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"ARM Pre-Release Builds"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | ARM | Experimental Developer Preview Builds"},n.default.createElement(d.default,{title:"Install OpenShift Container Platform 4 on ARM",breadcrumbs:t}),n.default.createElement(o.PageSection,null,n.default.createElement(p.default,{token:e,installer:m.tools.ARMINSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.ZP=(0,s.connect)((e=>({token:e.tollbooth.token})))(E)},44710:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=a(65652),s=a(27849),o=l(a(2101)),i=l(a(91885)),u=a(12549),d=a(72135);t.Z=()=>{const e=n.default.createElement(o.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure"}]});return n.default.createElement(s.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"Azure",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/azure/installer-provisioned",ipiLearnMoreLink:i.default.INSTALL_AZUREIPI_GETTING_STARTED,upiPageLink:"/install/azure/user-provisioned",upiLearnMoreLink:i.default.INSTALL_AZUREUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with Azure Provider"]},name:"azure"})))}},58900:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure",path:"/install/azure"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Installer-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.azure.x86.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"azure",customizations:p.default.azure.customizations},p.default.azure.x86.ipi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},94203:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure",path:"/install/azure"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure User-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.azure.x86.upi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"azure",isUPI:!0},p.default.azure.x86.upi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},98452:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=a(65652),s=a(27849),o=l(a(2101)),i=l(a(91885)),u=a(12549),d=a(72135);t.Z=()=>{const e=n.default.createElement(o.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Bare Metal"}]});return n.default.createElement(s.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"Bare Metal",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:i.default.INSTALL_ASSISTED_LEARN_MORE,ipiPageLink:"/install/metal/installer-provisioned",ipiLearnMoreLink:i.default.INSTALL_BAREMETAL_IPI_LEARN_MORE,upiPageLink:"/install/metal/user-provisioned",upiLearnMoreLink:i.default.INSTALL_BAREMETAL_UPI_GETTING_STARTED,agentBasedPageLink:"/install/metal/agent-based",agentBasedLearnMoreLink:i.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:["For air-gapped/restricted networks"],ipi:["Hosts controlled with baseboard management controller (BMC)","For air-gapped/restricted networks"],upi:["For air-gapped/restricted networks"]},name:"metal"})))}},35087:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Bare Metal",path:"/install/metal"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal Agent-based installer"},r.default.createElement(f.default,{title:p.default.baremetal.x86.abi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",installationTypeId:"local-agent-based"},p.default.baremetal.x86.abi,{isUPI:!0}))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},95404:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Bare Metal",path:"/install/metal"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal Installer-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.baremetal.x86.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal"},p.default.baremetal.x86.ipi,{isBMIPI:!0}))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},69817:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Bare Metal",path:"/install/metal"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal User-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.baremetal.x86.upi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.x86.upi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},12691:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=a(65652),s=a(27849),o=l(a(2101)),i=l(a(91885)),u=a(12549),d=a(72135);t.Z=()=>{const e=n.default.createElement(o.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Google Cloud Platform"}]});return n.default.createElement(s.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | GCP"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"GCP",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/gcp/installer-provisioned",ipiLearnMoreLink:i.default.INSTALL_GCPIPI_LEARN_MORE,upiPageLink:"/install/gcp/user-provisioned",upiLearnMoreLink:i.default.INSTALL_GCPUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with Google Cloud Provider"]},name:"gcp"})))}},6738:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Google Cloud Platform",path:"/install/gcp"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | GCP Installer-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.gcp.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"gcp",customizations:p.default.gcp.customizations},p.default.gcp.ipi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},23311:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Google Cloud Platform",path:"/install/gcp"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | GCP User-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.gcp.upi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"gcp",isUPI:!0},p.default.gcp.upi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},5737:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"IBM Cloud"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Cloud"},r.default.createElement(f.default,{title:p.default.ibmCloud.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"ibmCloud"},p.default.ibmCloud))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},357:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=a(65652),s=a(27849),o=l(a(2101)),i=l(a(91885)),u=a(12549),d=a(72135);t.Z=()=>{const e=n.default.createElement(o.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"IBM Z (s390x)"}]});return n.default.createElement(s.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Z (s390x)"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"IBM Z (s390x)",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:i.default.INSTALL_ASSISTED_LEARN_MORE,upiPageLink:"/install/ibmz/user-provisioned",upiLearnMoreLink:i.default.INSTALL_IBMZ_UPI_GETTING_STARTED,hideIPI:!0,providerSpecificFeatures:{abi:["For connected or air-gapped/restricted networks"],ipi:["Hosts controlled with Ibmz Cloud Provider","For connected or air-gapped/restricted networks"],upi:["For connected or air-gapped/restricted networks"]},name:"Ibmz"})))}},49758:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(66338),o=a(65652),i=a(27849),u=l(a(2101)),d=l(a(57816)),c=a(5498),p=l(a(80072)),m=a(91885);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(u.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"IBM Z",path:"/install/ibmz/user-provisioned"},{label:"Pre-Release Builds"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | IBM Z | Experimental Developer Preview Builds"},n.default.createElement(d.default,{title:"Install OpenShift on IBM Z with user-provisioned infrastructure",breadcrumbs:t}),n.default.createElement(o.PageSection,null,n.default.createElement(p.default,{token:e,installer:m.tools.IBMZINSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.ZP=(0,s.connect)((e=>({token:e.tollbooth.token})))(E)},7100:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"IBM Z (s390x)",path:"/install/ibmz"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Z (s390x)"},r.default.createElement(f.default,{title:p.default.baremetal.s390x.upi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.s390x.upi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},36926:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"AWS (multi-architecture)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS with Multi-Architecture Compute Machines"},r.default.createElement(f.default,{title:p.default.aws.multi.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"aws"},p.default.aws.multi.ipi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},96134:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure (multi-architecture)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure with Multi-Architecture Compute Machines"},r.default.createElement(f.default,{title:p.default.azure.multi.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"azure"},p.default.azure.multi.ipi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},39286:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Baremetal (multi-architecture)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Baremetal with Multi-Architecture Compute Machines"},r.default.createElement(f.default,{title:p.default.baremetal.multi.upi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,breadcrumbs:t,showPreReleaseDocs:!0,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.multi.upi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},80635:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(66338),o=a(65652),i=a(27849),u=l(a(2101)),d=l(a(57816)),c=a(5498),p=l(a(80072)),m=a(91885);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(u.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Multi-architecture clusters"},{label:"Pre-Release Builds"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Multi-architecture clusters | Experimental Developer Preview Builds"},n.default.createElement(d.default,{title:"Install OpenShift with multi-architecture compute machines",breadcrumbs:t}),n.default.createElement(o.PageSection,null,n.default.createElement(p.default,{token:e,installer:m.tools.MULTIINSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.ZP=(0,s.connect)((e=>({token:e.tollbooth.token})))(E)},34782:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=a(65652),r=l(a(28416)),s=a(27849),o=a(12549),i=a(72135),u=l(a(91885)),d=l(a(2101));t.Z=()=>{const e=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Nutanix AOS"}]});return r.default.createElement(s.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Nutanix AOS"},r.default.createElement(i.InstructionsChooserPageTitle,{cloudName:"Nutanix AOS",breadcrumbs:e}),r.default.createElement(n.PageSection,null,r.default.createElement(o.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:u.default.INSTALL_ASSISTED_LEARN_MORE,ipiPageLink:"/install/nutanix/installer-provisioned",ipiLearnMoreLink:u.default.INSTALL_NUTANIXIPI_GETTING_STARTED,upiPageLink:"",agentBasedPageLink:"",hideUPI:!0,recommend:"ipi",providerSpecificFeatures:{ipi:["Hosts controlled with Nutanix AOS Cloud Provider","For connected or air-gapped/restricted networks"]},name:"nutanix"})))}},39048:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Nutanix AOS",path:"/install/nutanix"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Nutanix AOS Installer-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.nutanix.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"nutanix"},p.default.nutanix.ipi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},24236:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=a(65652),s=a(27849),o=l(a(2101)),i=l(a(91885)),u=a(12549),d=a(72135);t.Z=()=>{const e=n.default.createElement(o.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Red Hat OpenStack Platform"}]});return n.default.createElement(s.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | OpenStack"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"OpenStack",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/openstack/installer-provisioned",ipiLearnMoreLink:i.default.INSTALL_OSPIPI_GETTING_STARTED,upiPageLink:"/install/openstack/user-provisioned",upiLearnMoreLink:i.default.INSTALL_OSPUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with OpenStack Provider"]},name:"openstack"})))}},34997:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Red Hat OpenStack Platform",path:"/install/openstack"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | OpenStack Installer-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.openstack.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"openstack",customizations:p.default.openstack.customizations},p.default.openstack.ipi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},69733:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Red Hat OpenStack Platform",path:"/install/openstack"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | OpenStack User-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.openstack.upi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"openstack",isUPI:!0},p.default.openstack.upi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},57364:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=a(65652),s=a(27849),o=l(a(2101)),i=l(a(42517)),u=l(a(91885)),d=a(12549),c=a(72135);const p=n.default.createElement(o.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Platform agnostic (x86_64)"}]}),m=n.default.createElement(n.default.Fragment,null,"For",n.default.createElement(i.default,{href:u.default.INSTALL_GENERIC_NON_TESTED_PLATFORMS,stopClickPropagation:!0},"non-tested platforms"));t.Z=()=>n.default.createElement(s.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | x86_64 User-Provisioned Infrastructure"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"Platform agnostic (x86_64)",breadcrumbs:p}),n.default.createElement(r.PageSection,null,n.default.createElement(d.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:u.default.INSTALL_ASSISTED_LEARN_MORE,hideIPI:!0,upiPageLink:"/install/platform-agnostic/user-provisioned",upiLearnMoreLink:u.default.INSTALL_GENERIC_GETTING_STARTED,agentBasedPageLink:"/install/platform-agnostic/agent-based",agentBasedLearnMoreLink:u.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:[m,"For air-gapped/restricted networks"],ai:[m],upi:[m]},name:"platform-agnostic"})))},720:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Platform agnostic (x86_64)",path:"/install/platform-agnostic"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | x86_64 Agent-based installer"},r.default.createElement(f.default,{title:p.default.generic.abi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"generic",installationTypeId:"local-agent-based"},p.default.generic.abi,{isUPI:!0}))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},95870:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Platform agnostic (x86_64)",path:"/install/platform-agnostic"},{label:"x86_64 User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | x86_64 User-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.generic.upi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"generic",isUPI:!0},p.default.generic.upi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},32677:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=a(65652),s=a(27849),o=l(a(2101)),i=l(a(91885)),u=a(12549),d=a(72135);t.Z=()=>{const e=n.default.createElement(o.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"IBM Power (ppc64le)"}]});return n.default.createElement(s.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Power (ppc64le)"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"IBM Power (ppc64le)",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:i.default.INSTALL_ASSISTED_LEARN_MORE,upiPageLink:"/install/power/user-provisioned",upiLearnMoreLink:i.default.INSTALL_POWER_UPI_GETTING_STARTED,hideIPI:!0,providerSpecificFeatures:{abi:["For connected or air-gapped/restricted networks"],ipi:["Hosts controlled with IBM Power (ppc64le) Cloud Provider","For connected or air-gapped/restricted networks"],upi:["For connected or air-gapped/restricted networks"]},name:"Power"})))}},97123:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(66338),o=a(65652),i=a(27849),u=l(a(2101)),d=l(a(57816)),c=a(5498),p=l(a(80072)),m=a(91885);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(u.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"IBM Power (ppc64le)",path:"/install/power/user-provisioned"},{label:"Pre-Release Builds"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | IBM Power (ppc64le) | Experimental Developer Preview Builds"},n.default.createElement(d.default,{title:"Install OpenShift on IBM Power (ppc64le) with user-provisioned infrastructure",breadcrumbs:t}),n.default.createElement(o.PageSection,null,n.default.createElement(p.default,{token:e,installer:m.tools.PPCINSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.ZP=(0,s.connect)((e=>({token:e.tollbooth.token})))(E)},6309:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"IBM Power (ppc64le)",path:"/install/power"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Power (ppc64le)"},r.default.createElement(f.default,{title:p.default.baremetal.ppc.upi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.ppc.upi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},28986:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"IBM PowerVS (ppc64le)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Power Systems Virtual Server Installer-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.ibmCloud.powervs.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,breadcrumbs:t,showPreReleaseDocs:!0,cloudProviderID:"ibmCloud"},p.default.ibmCloud.powervs.ipi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},29295:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(66338),o=a(65652),i=a(27849),u=l(a(2101)),d=l(a(57816)),c=a(5498),p=l(a(80072)),m=a(91885);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(u.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Pre-Release Builds"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Experimental Developer Preview Builds"},n.default.createElement(d.default,{title:"Install OpenShift Container Platform 4",breadcrumbs:t}),n.default.createElement(o.PageSection,null,n.default.createElement(p.default,{token:e,installer:m.tools.X86INSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.ZP=(0,s.connect)((e=>({token:e.tollbooth.token})))(E)},83782:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(66338),o=a(65652),i=a(27849),u=l(a(2101)),d=l(a(57816)),c=a(5498),p=l(a(71398));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}class f extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(u.default,{path:[{label:"Downloads",path:"/downloads"},{label:"Pull secret"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Pull Secret"},n.default.createElement(d.default,{title:"Install OpenShift Container Platform 4",breadcrumbs:t}),n.default.createElement(o.PageSection,{className:"ocp-instructions"},n.default.createElement(p.default,{token:e})))}}f.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.ZP=(0,s.connect)((e=>({token:e.tollbooth.token})))(f)},20239:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(66338),o=a(65652),i=a(27849),u=l(a(57816)),d=l(a(25631)),c=l(a(4130)),p=a(5498),m=l(a(42517));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(p.tollboothActions.createAuthToken())}render(){const{token:e}=this.props;return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Pull Secret"},n.default.createElement(u.default,{title:"Azure Red Hat OpenShift"}),n.default.createElement(o.PageSection,{className:"ocp-instructions"},n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Title,{headingLevel:"h3",size:"2xl"},"Red Hat content access"),n.default.createElement(o.Card,null,n.default.createElement("div",{className:"pf-v5-l-grid pf-m-gutter ocm-page"},e.error&&n.default.createElement(d.default,{token:e}),n.default.createElement("div",{className:"pf-v5-c-content"},n.default.createElement("h3",{className:"pf-v5-c-title pf-m-md downloads-subtitle"},"Pull secret"),n.default.createElement(c.default,{token:e,text:"Download or copy your pull secret. Your pull secret provides your Azure Red Hat OpenShift cluster with access to additional content provided by Red Hat."}),n.default.createElement(o.Alert,{variant:"info",isInline:!0,title:"Connecting your cluster to OpenShift Cluster Manager",className:"bottom-alert"},n.default.createElement("p",null,"Azure Red Hat OpenShift clusters do not connect to OpenShift Cluster Manager at creation time. Follow the"," ",n.default.createElement(m.default,{href:"https://docs.microsoft.com/en-us/azure/openshift/howto-add-update-pull-secret"},"Microsoft documentation")," if you would like to enable telemetry as a day 2 operation."))))))))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.ZP=(0,s.connect)((e=>({token:e.tollbooth.token})))(E)},57531:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=a(65652),s=a(27849),o=l(a(2101)),i=l(a(91885)),u=a(12549),d=a(72135);t.Z=()=>{const e=n.default.createElement(o.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"VMware vSphere"}]});return n.default.createElement(s.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"VMware vSphere",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:i.default.INSTALL_ASSISTED_LEARN_MORE,ipiPageLink:"/install/vsphere/installer-provisioned",ipiLearnMoreLink:i.default.INSTALL_VSPHEREIPI_GETTING_STARTED,upiPageLink:"/install/vsphere/user-provisioned",upiLearnMoreLink:i.default.INSTALL_VSPHEREUPI_GETTING_STARTED,agentBasedPageLink:"/install/vsphere/agent-based",agentBasedLearnMoreLink:i.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:["For connected or air-gapped/restricted networks"],ipi:["Hosts controlled with vSphere Cloud Provider","For connected or air-gapped/restricted networks"],upi:["For connected or air-gapped/restricted networks"]},name:"vsphere"})))}},30726:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"VMware vSphere",path:"/install/vsphere"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere Agent-based installer"},r.default.createElement(f.default,{title:p.default.vsphere.abi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"vsphere",installationTypeId:"local-agent-based"},p.default.vsphere.abi,{isUPI:!0}))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},74396:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"VMware vSphere",path:"/install/vsphere"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere Installer-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.vsphere.ipi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"vsphere",customizations:p.default.vsphere.customizations},p.default.vsphere.ipi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},14858:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(66338),i=a(65652),u=a(27849),d=l(a(2101)),c=a(5498),p=l(a(52859)),m=l(a(50562)),f=l(a(57816));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"VMware vSphere",path:"/install/vsphere"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere User-Provisioned Infrastructure"},r.default.createElement(f.default,{title:p.default.vsphere.upi.title,breadcrumbs:t}),r.default.createElement(i.PageSection,null,r.default.createElement(m.default,(0,n.default)({token:e,cloudProviderID:"vsphere",isUPI:!0},p.default.vsphere.upi))))}}g.propTypes={token:s.default.object.isRequired,dispatch:s.default.func.isRequired},t.ZP=(0,o.connect)((e=>({token:e.tollbooth.token})))(g)},80072:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(43696),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(91885)),u=l(a(42517)),d=l(a(59138)),c=l(a(25631)),p=l(a(24041)),m=l(a(41513));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function E(e){let{token:t,installer:a}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Title,{headingLevel:"h3",size:"2xl"},"Experimental Developer Preview Builds"),n.default.createElement(s.Stack,{hasGutter:!0},n.default.createElement(s.StackItem,null,n.default.createElement(s.Card,{className:"ocm-c-pre-release__card"},n.default.createElement(s.CardTitle,{className:"ocm-c-pre-release__card--header"},n.default.createElement(o.CodeIcon,null)," ",n.default.createElement("span",null,"Developer Preview")),n.default.createElement(s.CardBody,{className:"ocm-c-pre-release__card--body"},t.error&&n.default.createElement(c.default,{token:t}),n.default.createElement(s.TextContent,null,n.default.createElement(d.default,null),n.default.createElement(s.Text,{component:"p"},"As Red Hat OpenShift Container Platform (OCP) has moved to become a more agile and rapidly deployable Kubernetes offering, we want to allow existing and evaluation customers and partners access to the latest pre-release builds to see a real-time view into the next version of OpenShift."),n.default.createElement(m.default,null),n.default.createElement(s.Text,{component:"p"},"These builds are useful for anyone who would like to stay up to date on features being developed in the next release of OpenShift. Such builds are advantageous for planning future deployments, ISV integrations, or other educational, test, and explorational purposes."),n.default.createElement(s.Text,{component:"h3"},"Feature Completion in Developer Preview Versions"),n.default.createElement(s.Text,{component:"p"},"Each OpenShift minor release will target initiatives or focus areas. Because pre-release versions are published before all features have been implemented and tested, some features may be absent, incomplete, or buggy. This is the beauty of the development process, allowing early access, so customers and partners can experiment and provide early feedback."))))),n.default.createElement(s.StackItem,null,n.default.createElement(s.Card,{className:"ocm-c-pre-release-instructions__card"},n.default.createElement(s.CardBody,{className:"ocm-c-pre-release-instructions__card--body"},n.default.createElement(p.default,{token:t,showPreReleaseDocs:!0,showPreReleasePageLink:!1,tool:a,channel:i.channels.PRE_RELEASE})),n.default.createElement(s.CardFooter,{className:"ocm-c-pre-release-instructions__card--footer"},n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:"h3"},"Feedback and Support"),n.default.createElement(s.Text,{component:"p"},"If you are a Red Hat customer or partner and have feedback about these developer preview versions, file an issue via"," ",n.default.createElement(u.default,{href:i.default.INSTALL_PRE_RELEASE_FEEDBACK},"the OpenShift Bugs tracker"),". Do not use the formal Red Hat support service ticket process. You can read more about support handling in the following"," ",n.default.createElement(u.default,{href:i.default.INSTALL_PRE_RELEASE_SUPPORT_KCS},"knowledge article"),".")))))))}a(74128),E.propTypes={token:r.default.object.isRequired,installer:r.default.oneOf(Object.values(i.tools)).isRequired},t.default=E},71398:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(59138)),i=l(a(25631)),u=l(a(4130));function d(e){let{token:t}=e;return n.default.createElement(s.Card,null,n.default.createElement(s.CardBody,null,n.default.createElement("div",{className:"pf-v5-c-content ocm-page"},n.default.createElement(s.Title,{headingLevel:"h3",size:"2xl"},"Pull secret"),n.default.createElement(s.Stack,{hasGutter:!0},n.default.createElement(s.StackItem,{key:"pull-secret"},t.error&&n.default.createElement(i.default,{token:t}),n.default.createElement(s.TextContent,null,n.default.createElement(u.default,{token:t}))),n.default.createElement(s.StackItem,null,n.default.createElement(o.default,null))))))}d.propTypes={token:r.default.object.isRequired},t.default=d},50562:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(24041)),i=l(a(7516)),u=l(a(48174)),d=l(a(50813)),c=l(a(13908)),p=l(a(25631)),m=l(a(52859)),f=a(91885);const E=e=>{var t;const{token:a,cloudProviderID:l,installationTypeId:r,rhcos:E,installer:g=f.tools.X86INSTALLER,channel:h,docURL:v,customizations:b="",showPreReleaseDocs:_,preReleasePageLink:S,isBMIPI:C,isUPI:y,showPreReleasePageLink:O,prerequisites:I}=e,R=window.location.pathname,T=null!==(t=m.default[l])&&void 0!==t&&t.publicCloud?`Follow the documentation to configure your ${m.default[l].cloudProvider} account and run the installer`:"Follow the instructions to configure your environment and install your cluster";return n.default.createElement(s.Card,{ouiaId:`${l}${r?"-".concat(r):""}`},n.default.createElement(s.CardBody,null,a.error&&n.default.createElement(n.default.Fragment,null,n.default.createElement(p.default,{token:a}),n.default.createElement("div",{className:"pf-v5-u-mb-lg"})),n.default.createElement(c.default,null,n.default.createElement(d.default,null,n.default.createElement(o.default,{showPreReleaseDocs:_,preReleasePageLink:S,token:a,pendoID:R,cloudProviderID:l,rhcos:E,tool:g,channel:h,isBMIPI:C,showPreReleasePageLink:O})),n.default.createElement(d.default,null,n.default.createElement(s.Text,{component:"h2"},T),n.default.createElement(u.default,{docURL:v,pendoID:R,cloudProviderID:l,customizations:b,prerequisites:I,isBMIPI:C,isUPI:y})),n.default.createElement(d.default,null,n.default.createElement(i.default,null)))))};E.propTypes={token:r.default.object.isRequired,cloudProviderID:r.default.string.isRequired,installationTypeId:r.default.string,rhcos:r.default.object,installer:r.default.oneOf(Object.values(f.tools)),channel:r.default.oneOf(Object.values(f.channels)).isRequired,docURL:r.default.string.isRequired,showPreReleaseDocs:r.default.bool,preReleasePageLink:r.default.string,customizations:r.default.string,prerequisites:r.default.string,isBMIPI:r.default.bool,isUPI:r.default.bool,showPreReleasePageLink:r.default.bool},E.defaultProps={isBMIPI:!1,isUPI:!1},t.default=E},45389:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(65652),s=l(a(45697)),o=l(a(13736)),i=a(91885);const u=e=>{let{pendoID:t,channel:a,isBMIPI:l=!1}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(r.Text,{component:"p"},"Download the OpenShift command-line tools and add them to your ",n.default.createElement("code",null,"PATH"),"."),n.default.createElement("div",null,n.default.createElement(o.default,{pendoID:t,tool:i.tools.OC,channel:a})),n.default.createElement(r.Text,{component:"p"}),!l&&n.default.createElement(r.Text,{component:"p"},"When the installer is complete you will see the console URL and credentials for accessing your new cluster. A ",n.default.createElement("code",null,"kubeconfig")," file will also be generated for you to use with the ",n.default.createElement("code",null,"oc")," CLI tools you downloaded."))};u.propTypes={pendoID:s.default.string,channel:s.default.oneOf(Object.values(i.channels)).isRequired,isBMIPI:s.default.bool},t.default=u},85260:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(87558),o=a(43696);a(90650);const i=e=>{let{isDevPreview:t=!1,devPreviewLink:a="/install/pre-release"}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement("span",{className:"pf-v5-c-label pf-m-compact dev-preview-label"},n.default.createElement(o.CodeIcon,null)," Developer Preview")," ",n.default.createElement(s.Link,{to:a},t?"About":"Download"," pre-release builds"))};i.propTypes={isDevPreview:r.default.bool,devPreviewLink:r.default.string},t.default=i},41513:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(65652),s=l(a(91885)),o=l(a(42517));t.default=()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(r.Text,{component:"p"},"Because these are"," ",n.default.createElement(o.default,{href:s.default.INSTALL_PRE_RELEASE_SUPPORT_KCS,noIcon:!0},"developer preview")," ","builds:"),n.default.createElement(r.TextList,null,n.default.createElement(r.TextListItem,null,"Production use is not permitted."),n.default.createElement(r.TextListItem,null,"Installation and use is not eligible for Red Hat production support."),n.default.createElement(r.TextListItem,null,"Upgrades to, from, or between developer preview versions are not supported.")))},46906:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(91885),u=a(91759);const d={[i.operatingSystems.linux]:r.default.createElement(o.Text,null,"Download and extract the OpenShift Local archive for your operating system and place the binary in your ",r.default.createElement("code",null,"$PATH")," ."),[i.operatingSystems.mac]:r.default.createElement(o.Text,null,"Download and open the OpenShift Local file. Opening the file will automatically start a step-by-step installation guide."),[i.operatingSystems.windows]:r.default.createElement(o.Text,null,"Download and extract the OpenShift Local archive on your computer and open the installer. Opening the installer will automatically start a step-by-step installation guide.")};class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{selections:{}}),(0,n.default)(this,"setSelections",(e=>{this.setState({selections:e})}))}componentDidMount(){const{githubReleases:e,getLatestRelease:t}=this.props;i.githubReleasesToFetch.forEach((a=>{e[a].fulfilled||t(a)}))}render(){var e;const{pendoID:t,tool:a,channel:l,githubReleases:n}=this.props,{selections:s}=this.state,c=(0,i.urlsSelector)(n),p=(null===(e=s[a])||void 0===e?void 0:e.OS)||(0,u.detectOS)(),m=a===i.tools.CRC,f=(0,u.downloadChoice)(s,this.setSelections,c,a,l,{pendoID:t});return r.default.createElement(r.default.Fragment,null,m&&d[p],r.default.createElement(o.Grid,{hasGutter:!0,className:"os-based-download"},r.default.createElement(o.GridItem,{md:3},f.osDropdown),r.default.createElement(o.GridItem,{md:4},f.archDropdown),r.default.createElement(o.GridItem,{md:5},f.downloadButton)))}}c.propTypes={pendoID:s.default.string,tool:s.default.oneOf(Object.values(i.tools)).isRequired,channel:s.default.oneOf(Object.values(i.channels)).isRequired,githubReleases:s.default.object.isRequired,getLatestRelease:s.default.func.isRequired},t.default=c},13736:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(46906));const s={getLatestRelease:a(5498).githubActions.getLatestRelease};t.default=(0,n.connect)((e=>({token:e.tollbooth.token||{},githubReleases:e.githubReleases})),s)(r.default)},24041:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(15265),i=l(a(4130)),u=l(a(13736)),d=l(a(45389)),c=l(a(1193)),p=l(a(85260)),m=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(91885));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function E(e){let{token:t,showPreReleaseDocs:a=!1,preReleaseDocsLink:l=m.default.INSTALL_PRE_RELEASE_INSTALLER_DOC,showPreReleasePageLink:r=!0,preReleasePageLink:f="/install/pre-release",children:E,pendoID:g,tool:h,channel:v,rhcos:b,isBMIPI:_}=e;return n.default.createElement("div",null,E,n.default.createElement(s.Stack,{hasGutter:!0},n.default.createElement(s.StackItem,{key:"install"},n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:"h2"},"What you need to get started"),!_&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Text,{component:"h3"},"OpenShift installer"),n.default.createElement(s.Text,{component:"p"},"Download and extract the install program for your operating system and place the file in the directory where you will store the installation configuration files. Note: The OpenShift install program is only available for Linux and macOS at this time."),a&&n.default.createElement(s.Text,{component:"p"},"For pre-release documentation, refer to the"," ",n.default.createElement(s.Text,{component:"a",href:l,rel:"noreferrer noopener",target:"_blank"},"latest installer documentation"," ",n.default.createElement(s.Icon,{size:"sm"},n.default.createElement(o.ExternalLinkAltIcon,null))),"."),n.default.createElement(u.default,{tool:h,channel:v,pendoID:g}),r&&n.default.createElement("div",null,n.default.createElement(p.default,{devPreviewLink:f}))))),n.default.createElement(s.StackItem,{key:"pull-secret"},n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:"h3"},"Pull secret"),n.default.createElement(i.default,{token:t,pendoID:g}))),n.default.createElement(s.StackItem,{key:"cli"},n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:"h3"},"Command line interface"),n.default.createElement(d.default,{pendoID:g,channel:v,isBMIPI:_}))),b&&n.default.createElement(s.StackItem,{key:"rhcos"},n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:"h3"},"Red Hat Enterprise Linux CoreOS (RHCOS)"),n.default.createElement(c.default,{token:t,pendoID:g,rhcos:b})))))}E.propTypes={showPreReleasePageLink:r.default.bool,showPreReleaseDocs:r.default.bool,preReleaseDocsLink:r.default.string,preReleasePageLink:r.default.string,token:r.default.object,children:r.default.oneOfType([r.default.node,r.default.element]),pendoID:r.default.string,tool:r.default.oneOf(Object.values(m.tools)).isRequired,channel:r.default.oneOf(Object.values(m.channels)).isRequired,isBMIPI:r.default.bool,rhcos:r.default.object},E.defaultProps={isBMIPI:!1},t.default=E},48174:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(27707),i=l(a(69740)),u=a(70355),d=l(a(42517)),c=l(a(59138)),p=l(a(52859));const m=e=>{let{docURL:t,pendoID:a,cloudProviderID:l,customizations:r,prerequisites:m,isBMIPI:f,isUPI:E}=e;const g=(0,i.default)();return n.default.createElement(s.Stack,{hasGutter:!0},n.default.createElement(s.StackItem,null,n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:"p"},!f&&n.default.createElement(n.default.Fragment,null,"The installer will take about 45 minutes to run. "),(0,o.get)(p.default,`${l}.getStartedAdditional`,null)||"",f&&n.default.createElement(s.Text,{component:"p"},"When the installer is complete you will see the console URL and credentials for accessing your new cluster. A ",n.default.createElement("code",null,"kubeconfig")," file will also be generated for you to use with the ",n.default.createElement("code",null,"oc")," CLI tools you downloaded.")))),n.default.createElement(s.StackItem,null,n.default.createElement(s.Button,{component:"a",href:t,rel:"noreferrer noopener",target:"_blank",variant:"secondary",onClick:()=>{g(u.trackEvents.OCPInstallDocumentation,{url:t,path:a})}},"Get started")),!f&&!E&&n.default.createElement(s.StackItem,null,n.default.createElement(s.Text,{component:"p"},"To quickly create a cluster with the default options, run the following command:"),n.default.createElement(s.ClipboardCopy,{id:"copy-command","data-testid":"copy-command",isReadOnly:!0,isCode:!0},"./openshift-install create cluster")),r&&n.default.createElement(s.StackItem,null,n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:"p"},"Refer to the documentation to"," ",n.default.createElement(d.default,{href:r},"install with customizations"),"."))),m&&n.default.createElement(s.StackItem,null,n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:"p"},"Please make sure you"," ",n.default.createElement(d.default,{href:m},"install the pre-requisites")," before proceeding with the cluster installation."))),n.default.createElement(s.StackItem,null,n.default.createElement(c.default,null)))};m.defaultProps={isBMIPI:!1,isUPI:!1},m.propTypes={docURL:r.default.string.isRequired,pendoID:r.default.string,cloudProviderID:r.default.string.isRequired,customizations:r.default.string,prerequisites:r.default.string,isBMIPI:r.default.bool,isUPI:r.default.bool},t.default=m},4130:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(42223)),i=l(a(92501));function u(e){let{token:t,pendoID:a,text:l}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Text,{component:"p"},l||"Download or copy your pull secret. You'll be prompted for this information during installation."),n.default.createElement("div",null,n.default.createElement(o.default,{token:t,pendoID:a}),n.default.createElement(i.default,{token:t,variant:"link-tooltip",pendoID:a})))}u.propTypes={token:r.default.object.isRequired,pendoID:r.default.string,text:r.default.string},t.default=u},3662:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(91885),u=l(a(98478));class d extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{selection:"x86"}),(0,n.default)(this,"options",[{value:"Select architecture",label:"Select architecture",disabled:!0},...i.architectureOptions.map((e=>{let{value:t,label:a}=e;return{value:t,label:a,disabled:!1}}))]),(0,n.default)(this,"onChange",(e=>{this.setState({selection:e})})),(0,n.default)(this,"downloadButtons",(()=>{const{token:e,pendoID:t,rhcosDownloads:a}=this.props,{selection:l}=this.state;return(Array.isArray(a)?a:[a]).map((a=>{const{archURL:n,buttonText:s,name:d}=a;return r.default.createElement(o.SplitItem,{key:d},r.default.createElement(u.default,{disabled:!!e.error,url:n[l],tool:i.tools.RHCOS,text:s,name:d,pendoID:t}))}))}))}render(){const{selection:e}=this.state,t=this.downloadButtons();return r.default.createElement(o.Split,{hasGutter:!0,className:"os-based-download"},r.default.createElement(o.SplitItem,{key:"select-arch"},r.default.createElement(o.FormSelect,{value:e,onChange:(e,t)=>this.onChange(t),"aria-label":"select-arch-dropdown"},this.options.map((e=>r.default.createElement(o.FormSelectOption,{isDisabled:e.disabled,key:`arch.${e.value}`,value:e.value,label:e.label}))))),r.default.createElement(o.SplitItem,{key:"download-buttons"},r.default.createElement(o.Split,{hasGutter:!0},t)))}}d.propTypes={token:s.default.object.isRequired,pendoID:s.default.string,rhcosDownloads:s.default.oneOfType([s.default.array,s.default.object])},t.default=d},1193:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(15265),o=a(65652),i=a(91885),u=l(a(3662)),d=l(a(98478));const c=e=>{const{token:t,pendoID:a,rhcos:l}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Text,{component:"p"},"Download RHCOS to create machines for your cluster to use during installation.",l.additionalInstructions&&"string"==typeof l.additionalInstructions&&n.default.createElement(n.default.Fragment,null," ",l.additionalInstructions)," ",l.learnMoreURL&&n.default.createElement(o.Text,{component:"a",href:l.learnMoreURL,rel:"noreferrer noopener",target:"_blank"},"Learn more"," ",n.default.createElement(o.Icon,{size:"sm"},n.default.createElement(s.ExternalLinkAltIcon,null)),".")),l.additionalInstructions&&"string"!=typeof l.additionalInstructions&&n.default.createElement(n.default.Fragment,null," ",l.additionalInstructions),(e=>{const l=e.map((e=>{const{url:l,archURL:r,buttonText:s,name:c}=e;if(!l&&r||Array.isArray(e)){const l=Array.isArray(e)?e.map((e=>e.name)).join("|"):c;return n.default.createElement(u.default,{key:l,rhcosDownloads:e,pendoID:a,token:t})}return n.default.createElement(o.StackItem,{key:c},n.default.createElement(d.default,{url:l,tool:i.tools.RHCOS,text:s,name:c,disabled:!t,pendoID:a}))}));return n.default.createElement(o.Stack,{hasGutter:!0,className:"pf-v5-u-mt-md"},l)})(l.downloads))};c.propTypes={pendoID:r.default.string,token:r.default.object.isRequired,rhcos:r.default.object.isRequired},t.default=c},7516:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(65652);t.default=()=>{const e=n.default.createElement("span",null,'Choose "Edit subscriptions settings " from the actions menu in the upper right of the cluster details pages.'),t=n.default.createElement("span",null,"Select the options that apply to your cluster in the dialog and save.");return n.default.createElement(r.TextContent,null,n.default.createElement(r.Text,{component:"h2"},"Subscription and support"),n.default.createElement(r.Text,{component:"p"},"Your cluster will be automatically registered with a 60 day evaluation subscription which does not include support. In order to receive support for your cluster, you will need to edit the subscription settings from the cluster details page here in OpenShift Cluster Manager."),n.default.createElement(r.List,null,n.default.createElement(r.ListItem,null,e),n.default.createElement(r.ListItem,null,t)))}},59138:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(65652),s=l(a(42517)),o=l(a(91885));t.default=()=>n.default.createElement(r.Text,{component:"small"},"Red Hat collects a limited amount of telemetry data. By installing OpenShift Container Platform 4, you accept our data collection policy."," ",n.default.createElement(s.default,{href:o.default.TELEMETRY_INFORMATION,noIcon:!0},"Learn more")," ","about the data we collect.")},25631:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(39181)),i=l(a(42517)),u=a(34693);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}class c extends n.default.Component{componentDidMount(){const{token:e}=this.props,t=e.errorMessage||"";(e.internalErrorCode||"")!==u.BANNED_USER_CODE&&o.captureException(new Error(`Failed to fetch OCP token: ${t}`))}render(){const{token:e}=this.props,t=e.internalErrorCode||"",a=e.errorMessage||"",l=t===u.BANNED_USER_CODE?a:n.default.createElement(n.default.Fragment,null,a,n.default.createElement("br",null),n.default.createElement("br",null),"Try again by refreshing the page. If the problem persists"," ",n.default.createElement(i.default,{href:"https://access.redhat.com/support/"},"contact our customer support"),".");return n.default.createElement(s.Alert,{variant:"danger",isInline:!0,className:"token-error-alert",title:"Failed to obtain pull secret"},l)}}c.propTypes={token:r.default.object.isRequired},t.default=c},97298:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(9104),i=l(a(10865)),u=l(a(42517)),d=l(a(69257)),c=l(a(6889));function p(e){let{customerManagedEncryptionSelected:t,selectedRegion:a,cloudProviderID:l,kmsKeyArn:r}=e;const p="gcp"===l,m=p?"https://cloud.google.com/storage/docs/encryption/default-keys":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/data-protection.html",f=p?"Managed via Google Cloud Key Management Service. Used to store and generate encryption keys and encrypt your data.":"Use a custom AWS KMS key for AWS EBS volume encryption instead of your default AWS KMS key.";return n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,null,n.default.createElement(s.FormGroup,{fieldId:"customer_managed_key",id:"customerManagedKey",label:"Encryption Keys",isInline:!0},n.default.createElement("div",{className:"encryptionkeys-description"},"The cloud storage for your cluster is encrypted at rest."," ",n.default.createElement(u.default,{href:m},"Learn more")),n.default.createElement(o.Field,{component:i.default,name:"customer_managed_key",defaultValue:t||"false",options:[{value:"false",label:"Use default KMS Keys"},{value:"true",label:"Use custom KMS keys",extendedHelpText:f}]}))),n.default.createElement(s.GridItem,null,"true"===t&&(p?n.default.createElement(d.default,{selectedRegion:a}):n.default.createElement(c.default,{fieldName:"kms_key_arn",region:a,keyArn:r}))))}a(38440),p.propTypes={customerManagedEncryptionSelected:r.default.string,selectedRegion:r.default.string,cloudProviderID:r.default.string,kmsKeyArn:r.default.string},t.default=p},43934:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(9104),i=l(a(42517)),u=l(a(91885)),d=l(a(59539)),c=a(86896),p=l(a(6889));function m(e){let{isRosa:t,isHypershiftSelected:a,isEtcdEncryptionSelected:l,isFipsCryptoSelected:r,selectedRegion:m,etcdKeyArn:f}=e;const E=l&&a;return n.default.createElement(s.GridItem,{md:6},n.default.createElement(s.FormGroup,{fieldId:"etcd_encryption",id:"etcdEncryption",label:"etcd encryption"},n.default.createElement(o.Field,{component:d.default,name:"etcd_encryption",label:a?"Encrypt etcd with a custom KMS key":"Enable additional etcd encryption",isDisabled:r,extendedHelpText:n.default.createElement(n.default.Fragment,null,a?c.constants.enableAdditionalEtcdHypershiftHint:c.constants.enableAdditionalEtcdHint," ",n.default.createElement(i.default,{href:t?u.default.ROSA_SERVICE_ETCD_ENCRYPTION:u.default.OSD_ETCD_ENCRYPTION},"Learn more about etcd encryption"))}),n.default.createElement("div",{className:"ocm-c--reduxcheckbox-description"},a?"Etcd is always encrypted, but you can specify a custom KMS key if desired.":"Add more encryption for OpenShift and Kubernetes API resources."),E&&n.default.createElement(s.GridItem,null,n.default.createElement(p.default,{fieldName:"etcd_key_arn",region:m,keyArn:f}))))}a(38440),m.propTypes={isRosa:r.default.bool.isRequired,isHypershiftSelected:r.default.bool.isRequired,isEtcdEncryptionSelected:r.default.bool.isRequired,isFipsCryptoSelected:r.default.bool,selectedRegion:r.default.string,etcdKeyArn:r.default.string},t.default=m},69257:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(9104),i=l(a(73269)),u=a(90181),d=l(a(42517)),c=l(a(68248)),p=a(86896),m=l(a(12552)),f=l(a(19670)),E=l(a(39754));function g(e){let{selectedRegion:t}=e;return n.default.createElement(s.Grid,{className:"gcp-grid",hasGutter:!0},n.default.createElement(s.GridItem,{md:6},n.default.createElement(s.FormGroup,{label:"Key ring location",fieldId:"key_location",labelIcon:n.default.createElement(c.default,{hint:p.constants.regionHint}),isRequired:!0},n.default.createElement(o.Field,{component:m.default,name:"key_location",selectedRegion:t,className:"pf-v5-c-form-control"}))),n.default.createElement(s.GridItem,{md:6}),n.default.createElement(s.GridItem,{md:6},n.default.createElement(o.Field,{component:f.default,name:"key_ring",label:"Key ring",labelIcon:n.default.createElement(c.default,{hint:p.constants.keyRing}),helperText:"A key ring organizes keys in a specific Google Cloud location.",noDependenciesPlaceholder:"Enter GCP credentials first",placeholder:"Select key ring",requestErrorTitle:"Error listing key rings using your GCP credentials",emptyAlertTitle:"No key rings found for this location",emptyAlertBody:n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Text,null,"If available, change the Key ring location. Or go to your"," ",n.default.createElement(d.default,{href:"https://console.cloud.google.com/security/kms"},"Google Cloud Console")," ","and create the key ring."),n.default.createElement(s.Text,null,"Once created, refresh using the ",n.default.createElement("strong",null,"Refresh custom key rings")," button.")),refreshButtonText:"Refresh custom key rings",validate:u.required,isRequired:!0,className:"pf-v5-c-form-control"})),n.default.createElement(s.GridItem,{md:6}),n.default.createElement(s.GridItem,{md:6},n.default.createElement(o.Field,{component:E.default,name:"key_name",label:"Key name",labelIcon:n.default.createElement(c.default,{hint:p.constants.keyName}),helperText:"Name of the key in the keyring.",placeholder:"Select key",requestErrorTitle:"Error listing keys using your GCP credentials",emptyAlertTitle:"No keys found for this location and key ring",emptyAlertBody:n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Text,null,"If available, change the Key ring location / Key ring. Or go to your"," ",n.default.createElement(d.default,{href:"https://console.cloud.google.com/security/kms"},"Google Cloud Console")," ","and create the key."),n.default.createElement(s.Text,null,"Once created, refresh using the ",n.default.createElement("strong",null,"Refresh custom keys")," button.")),refreshButtonText:"Refresh custom keys",validate:u.required,isRequired:!0,className:"pf-v5-c-form-control"})),n.default.createElement(s.GridItem,{md:6}),n.default.createElement(s.GridItem,{md:6},n.default.createElement(o.Field,{component:i.default,name:"kms_service_account",type:"text",label:"KMS Service Account",placeholder:"KMS Service Account",validate:u.validateGCPKMSServiceAccount,isRequired:!0,helpText:"GCP Service account will be used for compute scaling.",extendedHelpText:n.default.createElement(n.default.Fragment,null,p.constants.kmsserviceAccount),showHelpTextOnError:!1})))}g.propTypes={selectedRegion:r.default.string},t.default=g},65306:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(70215)),s=l(a(28416)),o=l(a(45697)),i=a(65652);const u=["onChange"];class d extends s.default.Component{componentDidMount(){const{selectedRegion:e,input:t}=this.props;t.onChange(e)}componentDidUpdate(e){const{selectedRegion:t,input:a}=this.props;e.selectedRegion!==t&&a.onChange(t)}render(){const{kmsRegionsArray:e,input:t}=this.props,{onChange:a}=t,l=(0,r.default)(t,u);return s.default.createElement(i.FormSelect,(0,n.default)({"aria-label":"KMS location",onChange:(e,t)=>a(t)},l),e.map((e=>s.default.createElement(i.FormSelectOption,{key:e,value:e,label:e}))))}}d.propTypes={input:o.default.object.isRequired,kmsRegionsArray:o.default.array,selectedRegion:o.default.string},t.default=d},12552:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(27361)),s=l(a(65306));t.default=(0,n.connect)(((e,t)=>{let a,l=[];const n=(0,r.default)(e,"cloudProviders.providers.gcp.regions",{});return t.selectedRegion&&n[t.selectedRegion]&&(a=n[t.selectedRegion].kms_location_id),a&&(l=a.split(",")),l.push(t.selectedRegion),{kmsRegionsArray:l}}),null)(s.default)},19670:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(18446)),r=a(66338),s=a(9104),o=a(76727),i=l(a(20298)),u=l(a(74556));const d={loadData:()=>(e,t)=>{const a=t(),l=(0,s.formValueSelector)("CreateCluster"),n=(0,i.default)("gcp",a),r=l(a,"key_location");e((0,o.getGCPKeyRings)(n,r))}};t.default=(0,r.connect)((e=>{var t;const{gcpKeyRings:a}=e.ccsInquiries,l=(0,s.formValueSelector)("CreateCluster"),r=(0,i.default)("gcp",e),o=l(e,"key_location");return{hasDependencies:!(!r||!o),matchesDependencies:"gcp"===a.cloudProvider&&(0,n.default)(a.credentials,r)&&a.keyLocation===o,requestStatus:a,items:((null===(t=a.data)||void 0===t?void 0:t.items)||[]).map((e=>e.name))}}),d)(u.default)},39754:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(18446)),r=a(66338),s=a(9104),o=a(76727),i=l(a(20298)),u=l(a(74556));const d={loadData:()=>(e,t)=>{const a=t(),l=(0,s.formValueSelector)("CreateCluster"),n=(0,i.default)("gcp",a),r=l(a,"key_location"),u=l(a,"key_ring");e((0,o.getGCPKeys)(n,r,u))}};t.default=(0,r.connect)((e=>{var t;const{gcpKeys:a}=e.ccsInquiries,l=(0,s.formValueSelector)("CreateCluster"),r=(0,i.default)("gcp",e),o=l(e,"key_location"),u=l(e,"key_ring");return{hasDependencies:!!(r&&o&&u),matchesDependencies:"gcp"===a.cloudProvider&&(0,n.default)(a.credentials,r)&&a.keyLocation===o&&a.keyRing===u,requestStatus:a,items:((null===(t=a.data)||void 0===t?void 0:t.items)||[]).map((e=>e.name))}}),d)(u.default)},55584:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=a(13126),s=l(a(45697)),o=a(65652),i=a(70355),u=a(52758),d=l(a(69740));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}function p(e){let{product:t,forceLeaveWizard:a}=e;const l=(0,r.useHistory)(),s=(0,d.default)(),[u,c]=(0,n.useState)(!1),[p,m]=(0,n.useState)(""),f=(0,n.useCallback)((()=>{s(i.trackEvents.WizardLeave,{resourceType:i.ocmResourceTypeByProduct[t]}),l.push(p),c(!1)}),[t,p,l,s]);return(0,n.useEffect)((()=>{let e;var t;return u?null===(t=e)||void 0===t||t():e=l.block(((e,t)=>("POP"===t&&window.history.forward(),m(e),c(!0),"true"))),()=>{var t;null===(t=e)||void 0===t||t()}}),[l,u]),(0,n.useEffect)((()=>{a&&f()}),[a,f]),u&&!a?n.default.createElement(o.Modal,{variant:o.ModalVariant.small,title:"Leave cluster creation",titleIconVariant:"warning",isOpen:u,onClose:()=>c(!1),actions:[n.default.createElement(o.Button,{key:"leave",variant:"primary",onClick:f,"data-testid":"leave-cluster-prompt-button"},"Leave"),n.default.createElement(o.Button,{key:"stay",variant:"link",onClick:()=>c(!1),"data-testid":"cancel-button"},"Stay")],"data-testid":"leave-cluster-modal"},"All data entered will be lost."):null}p.propTypes={product:s.default.oneOf(Object.values(u.normalizedProducts)),forceLeaveWizard:s.default.bool},t.default=p},56585:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(65996),u=a(12812);const d=["a","b","c","d","e","f"];class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{isOpen:!1}),(0,n.default)(this,"onToggle",(e=>{this.setState({isOpen:e})})),(0,n.default)(this,"onSelect",((e,t)=>{const{input:a}=this.props;this.setState({isOpen:!1}),a.onChange(t)}))}componentDidUpdate(e){const{input:t,vpcId:a}=this.props;e.vpcId!==a&&t.value&&t.onChange("")}render(){const{isOpen:e}=this.state,{input:t,isDisabled:a,enabledAvailabilityZones:l,region:n,label:s,meta:{error:c,touched:p}}=this.props,m=d.map((e=>({zoneId:`${n}${e}`,isDisabled:l&&!l.includes(`${n}${e}`)}))).sort(((e,t)=>e.isDisabled&&!t.isDisabled?1:t.isDisabled&&!e.isDisabled?-1:e.zoneId.localeCompare(t.zoneId)));return r.default.createElement(o.FormGroup,{fieldId:t.name,label:s,className:"ocm-c-create-osd-az-select",isRequired:!0},r.default.createElement(i.Select,{isOpen:e,selections:t.value,onToggle:(e,t)=>this.onToggle(t),onSelect:this.onSelect,isDisabled:a,placeholderText:"Select availability zone","aria-label":s},m.map((e=>{let{zoneId:t,isDisabled:a}=e;return r.default.createElement(i.SelectOption,{key:t,value:t,isDisabled:a,description:a?"This zone does not have all required subnets":void 0},t)}))),r.default.createElement(u.FormGroupHelperText,{touched:p,error:c}))}}c.propTypes={isDisabled:s.default.bool,label:s.default.string,region:s.default.string,enabledAvailabilityZones:s.default.arrayOf(s.default.string),vpcId:s.default.string,input:s.default.shape({name:s.default.string,value:s.default.string,onChange:s.default.func}),meta:s.default.shape({touched:s.default.bool,error:s.default.string})},t.default=c},70249:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ExpandableReviewItem=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(65652);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}const i=e=>{let{children:t,initiallyExpanded:a}=e;const[l,r]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{r(a)}),[a]),n.default.createElement(s.ExpandableSection,{className:"review-screen-item-expandable-section",isExpanded:l,onToggle:(e,t)=>{r(t)},toggleText:l?"Show less":"Show more"},t)};t.ExpandableReviewItem=i,i.propTypes={initiallyExpanded:r.default.bool,children:r.default.node},t.default=i},49536:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReviewItem=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(65652),i=l(a(75946)),u=a(70249);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const c=e=>{let{name:t,formValues:a}=e;const l=i.default[t];let n=a[t];const s="true"===a.hypershift;if(!l)return r.default.createElement(o.DescriptionListGroup,null,r.default.createElement(o.DescriptionListTerm,null,t),r.default.createElement(o.DescriptionListDescription,null,n));if(l.isOptional&&!n)return null;let d;l.isBoolean&&void 0===n&&(n="false"),"Availability"===l.title&&s&&(n="true"),d=l.values&&l.values[n]?l.values[n]:l.valueTransform?l.valueTransform(n,a):n;const c=l.isMonospace?r.default.createElement("pre",null,d):d,p=l.isExpandable?r.default.createElement(u.ExpandableReviewItem,{initiallyExpanded:l.initiallyExpanded},c):c;return r.default.createElement(o.DescriptionListGroup,{key:t},r.default.createElement(o.DescriptionListTerm,null,l.title),r.default.createElement(o.DescriptionListDescription,{"data-testid":l.title.replace(/ /g,"-")},p))};t.ReviewItem=c;const p=e=>{let{initiallyExpanded:t,title:a,children:l,onGoToStep:s}=e;const[i,u]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{u(t)}),[t]),r.default.createElement(o.GridItem,null,r.default.createElement(o.ExpandableSection,{className:"review-screen-expandable-section",isExpanded:i,onToggle:(e,t)=>{u(t)},toggleContent:r.default.createElement("div",null,r.default.createElement("span",null,a),r.default.createElement(o.Button,{variant:"link",isInline:!0,className:"pf-v5-u-font-size-sm pf-v5-u-ml-sm",onClick:e=>{e.stopPropagation(),s()}},"Edit ",r.default.createElement("span",{className:"pf-v5-u-screen-reader"},a)," step"))},r.default.createElement(o.DescriptionList,(0,n.default)({isHorizontal:!0},{orientation:{sm:"horizontal"}}),l)))};c.propTypes={name:s.default.string,formValues:s.default.objectOf(s.default.oneOfType([s.default.string,s.default.number,s.default.bool]))},p.propTypes={initiallyExpanded:s.default.bool,title:s.default.string.isRequired,children:s.default.node.isRequired,onGoToStep:s.default.func.isRequired},t.default=p},75946:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(65652),s=a(24197),o=a(69429),i=a(29937),u=a(52758),d=a(73960),c=l(a(17844)),p=l(a(26616)),m=l(a(18717));const f={billing_model:{title:"Subscription type",values:{[u.billingModels.STANDARD]:"Annual: Fixed capacity subscription from Red Hat",[u.billingModels.MARKETPLACE]:"On-Demand: Flexible usage billed through Red Hat Marketplace",[u.billingModels.MARKETPLACE_GCP]:"On-Demand: Flexible usage billed through Google Cloud Marketplace","standard-trial":"Free trial (upgradeable)"}},byoc:{title:"Infrastructure type",isBoolean:!0,values:{true:"Customer cloud subscription",false:"Red Hat cloud account"}},disable_scp_checks:{title:"AWS service control policy (SCP) checks",valueTransform:e=>e?"Disabled":"Enabled"},cloud_provider:{title:"Cloud provider",valueTransform:e=>"gcp"===e?"Google Cloud Platform (GCP)":null==e?void 0:e.toUpperCase()},name:{title:"Cluster name"},rosa_roles_provider_creation_mode:{title:"Operator roles and OIDC provider mode"},byo_oidc_config_id:{title:"OIDC Configuration ID"},byo_oidc_config_id_managed:{title:"OIDC Configuration Type",isBoolean:!0,values:{true:"Red Hat managed",false:"Self-managed"}},custom_operator_roles_prefix:{title:"Operator roles prefix"},cluster_version:{title:"Version",valueTransform:e=>null==e?void 0:e.raw_id},hypershift:{title:"Control plane",isBoolean:!0,values:{true:"Hosted",false:"Classic"}},region:{title:"Region"},multi_az:{title:"Availability",isBoolean:!0,values:{true:"Multi-zone",false:"Single zone"}},persistent_storage:{title:"Persistent storage",valueTransform:e=>`${(0,d.humanizeValueWithUnitGiB)(parseFloat(e)).value} GiB`},load_balancers:{title:"Load balancers"},secure_boot:{title:"Secure Boot support for Shielded VMs",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},enable_user_workload_monitoring:{title:"User workload monitoring",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},upgrade_policy:{title:"Update strategy",valueTransform:e=>"manual"===e?"Individual updates":"Recurring updates"},automatic_upgrade_schedule:{title:"Recurring update schedule",valueTransform:e=>{const t=[...Array(24).keys()].map((e=>`${e.toString().padStart(2,0)}:00`)),[a,l]=(0,c.default)(e);return`Every ${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][l]} at ${t[a]} UTC`}},node_drain_grace_period:{title:"Node draining",valueTransform:e=>`${e} minutes`},etcd_encryption:{title:"Additional etcd encryption",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},fips:{title:"FIPS cryptography",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},etcd_key_arn:{title:"Etcd encryption key ARN"},customer_managed_key:{title:"Encrypt volumes with customer keys",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},kms_key_arn:{title:"Custom KMS key ARN",isOptional:!0},network_configuration_toggle:{title:"Networking",values:{basic:"Basic",advanced:"Advanced"}},machine_type:{title:"Node instance type"},autoscalingEnabled:{title:"Autoscaling",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},imds:{title:"Instance Metadata Service (IMDS)",values:{[s.IMDSType.V1AndV2]:"IMDSv1 and IMDSv2",[s.IMDSType.V2Only]:"IMDSv2 only"}},nodes_compute:{title:"Compute node count",valueTransform:(e,t)=>"true"===t.multi_az&&"true"!==t.hypershift?`${e/3} ( 3 zones = ${e} compute nodes)`:e},worker_volume_size_gib:{title:"Worker root disk size",valueTransform:e=>`${e} GiB`},min_replicas:{title:"Compute node range",valueTransform:(e,t)=>n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,"Minimum nodes","true"===t.hypershift?" per machine pool":"","true"===t.multi_az&&"true"!==t.hypershift?" per zone":"",":")," ",e||0,n.default.createElement("span",{className:"pf-v5-u-ml-lg"},"Maximum nodes","true"===t.hypershift?" per machine pool":"","true"===t.multi_az&&"true"!==t.hypershift?" per zone":"",":")," ",t.max_replicas||0)},node_labels:{title:"Node labels",valueTransform:e=>n.default.createElement(r.LabelGroup,null,e.map((e=>n.default.createElement(r.Label,{color:"blue",isTruncated:!0},`${e.key} = ${e.value||""}`))))},install_to_vpc:{title:"Install into existing VPC",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},selected_vpc:{title:"Install to selected VPC",valueTransform:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name||e.id}},use_privatelink:{title:"PrivateLink",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},shared_vpc:{title:"Shared VPC settings",valueTransform:e=>n.default.createElement(r.Grid,null,n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Base DNS domain")),n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Private hosted zone ID")),n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Shared VPC role")),n.default.createElement(r.GridItem,null),n.default.createElement(r.GridItem,{md:3},e.base_dns_domain),n.default.createElement(r.GridItem,{md:3},e.hosted_zone_id),n.default.createElement(r.GridItem,{md:3},e.hosted_zone_role_arn),n.default.createElement(r.GridItem,null))},aws_standalone_vpc:{title:"VPC subnet settings",valueTransform:(e,t)=>n.default.createElement(p.default,{vpc:t.selected_vpc,machinePoolsSubnets:t.machinePoolsSubnets,hasPublicSubnets:!t.use_privatelink})},aws_hosted_machine_pools:{title:"Machine pools",valueTransform:(e,t)=>{const a=t.machinePoolsSubnets.map((e=>{var a;const l=null===(a=t.selected_vpc.aws_subnets)||void 0===a?void 0:a.find((t=>t.subnet_id===e.privateSubnetId));return{availabilityZone:l.availability_zone,privateSubnetId:l.subnet_id,publicSubnetId:""}}));return n.default.createElement(p.default,{vpc:t.selected_vpc,machinePoolsSubnets:a,hasPublicSubnets:!1})}},cluster_privacy_public_subnet_id:{title:"Public subnet",valueTransform:(e,t)=>{var a;const l=null===(a=t.selected_vpc.aws_subnets)||void 0===a?void 0:a.find((t=>t.subnet_id===e));return(null==l?void 0:l.name)||e}},securityGroups:{title:"Security groups",valueTransform:(e,t)=>{var a;return n.default.createElement(m.default,{vpcGroups:(null===(a=t.selected_vpc)||void 0===a?void 0:a.aws_security_groups)||[],formGroups:e})}},applicationIngress:{title:"Application ingress",valueTransform:e=>"default"===e?"Use default settings":"Custom settings"},defaultRouterSelectors:{title:"Route selectors",valueTransform:e=>e?(0,i.routeSelectorsAsString)((0,o.strToKeyValueObject)(e,"")):"None specified"},defaultRouterExcludedNamespacesFlag:{title:"Excluded namespaces",valueTransform:e=>e?(0,o.arrayToString)((0,o.stringToArrayTrimmed)(e)):"None specified"},isDefaultRouterWildcardPolicyAllowed:{title:"Wildcard policy",valueTransform:e=>e?"Allowed":"Disallowed"},isDefaultRouterNamespaceOwnershipPolicyStrict:{title:"Namespace ownership policy",valueTransform:e=>e?"Strict namespace ownership":"Inter-namespace ownership"},gpc_vpc:{title:"VPC subnet settings",valueTransform:(e,t)=>n.default.createElement(r.Grid,null,n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Existing VPC name")),n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Control plane subnet name")),n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Compute subnet name")),n.default.createElement(r.GridItem,{md:3}),n.default.createElement(r.GridItem,{md:3},t.vpc_name),n.default.createElement(r.GridItem,{md:3},t.control_plane_subnet),n.default.createElement(r.GridItem,{md:3},t.compute_subnet),n.default.createElement(r.GridItem,{md:3}))},configure_proxy:{title:"Cluster-wide proxy",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},http_proxy_url:{title:"HTTP proxy URL",isOptional:!0},https_proxy_url:{title:"HTTPS proxy URL",isOptional:!0},no_proxy_domains:{title:"No Proxy domains",isOptional:!0,valueTransform:e=>n.default.createElement(r.LabelGroup,null,e.map((e=>n.default.createElement(r.Label,{color:"blue",isCompact:!0,isTruncated:!0},e))))},additional_trust_bundle:{title:"Additional trust bundle",isMonospace:!0,isOptional:!0,isExpandable:!0,initiallyExpanded:!1},network_machine_cidr:{title:"Machine CIDR"},network_service_cidr:{title:"Service CIDR"},network_pod_cidr:{title:"Pod CIDR"},network_host_prefix:{title:"Host prefix",valueTransform:e=>null!=e&&e.includes("/")?e:`/${e}`},cluster_privacy:{title:"Cluster privacy",values:{external:"Public",internal:"Private",undefined:"Public"}},associated_aws_id:{title:"AWS infrastructure account ID"},shared_host_project_id:{title:"GCP shared host project ID"},billing_account_id:{title:"AWS billing account ID"},installer_role_arn:{title:"Installer role"},support_role_arn:{title:"Support role ARN"},worker_role_arn:{title:"Compute role"},control_plane_role_arn:{title:"Control plane role"}};t.default=f},39466:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(9104),n=a(69429),r=a(90181);const s={form:"CreateCluster",onSubmitFail:n.scrollToFirstField,keepDirtyOnReinitialize:!0,updateUnregisteredFields:!0,destroyOnUnmount:!1,forceUnregisterOnUnmount:!0,enableReinitialize:!0,touchOnChange:!0,asyncBlurFields:["name"],asyncValidate:async e=>{const t=await(0,r.asyncValidateClusterName)(e.name);if(t)throw{name:t}}};t.default=e=>(0,l.reduxForm)(s)(e)},95591:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.emptyAWSSubnet=t.default=t.GCP_DEFAULT_REGION=t.AWS_DEFAULT_REGION=void 0;var n=l(a(38416)),r=a(83768),s=a(12468),o=a(77589),i=a(48578),u=a(52758),d=a(28047);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}const p=t.AWS_DEFAULT_REGION="us-east-1",m=t.GCP_DEFAULT_REGION="us-east1";t.emptyAWSSubnet=()=>({availabilityZone:"",privateSubnetId:"",publicSubnetId:""}),t.default=e=>{let t,{cloudProviderID:a="aws",product:l,isByoc:f,isMultiAz:E,isTrialDefault:g,isHypershiftSelected:h=!1,machinePoolsSubnets:v}=e;t=f||g?E?3:2:E?9:4;const b="aws"!==a||h?{}:(0,i.getDefaultClusterAutoScaling)(),_=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({cloud_provider:a,node_drain_grace_period:60,upgrade_policy:h?"automatic":"manual",automatic_upgrade_schedule:"0 0 * * 0",multi_az:(!!E).toString(),persistent_storage:"107374182400",load_balancers:"0",nodes_compute:t,node_labels:[{}],byoc:(!!f||!!g).toString(),name:"",dns_base_domain:"",aws_access_key_id:"",aws_secret_access_key:"",network_configuration_toggle:"basic",cluster_privacy:(0,s.isRestrictedEnv)()?"internal":"external",install_to_vpc:h,use_privatelink:!1,configure_proxy:!1,disable_scp_checks:!1,billing_model:g?u.billingModels.STANDARD_TRIAL:h?u.billingModels.MARKETPLACE_AWS:u.billingModels.STANDARD,cluster_autoscaling:b,product:l||(g?u.normalizedProducts.OSDTrial:u.normalizedProducts.OSD),imds:d.IMDSType.V1AndV2,etcd_encryption:!!(0,s.isRestrictedEnv)(),fips:!!(0,s.isRestrictedEnv)(),applicationIngress:"default",defaultRouterSelectors:"",defaultRouterExcludedNamespacesFlag:"",isDefaultRouterWildcardPolicyAllowed:!1,isDefaultRouterNamespaceOwnershipPolicyStrict:!0,selected_vpc:{id:"",name:""},machinePoolsSubnets:null!=v?v:[{availabilityZone:"",privateSubnetId:"",publicSubnetId:""}]},h?{cluster_privacy_public_subnet_id:"",worker_volume_size_gib:void 0,shared_vpc:{is_allowed:!1}}:{securityGroups:(0,r.getDefaultSecurityGroupsSettings)(),enable_user_workload_monitoring:"true",worker_volume_size_gib:o.defaultWorkerNodeVolumeSizeGiB,shared_vpc:{is_allowed:!0,is_selected:!1,base_dns_domain:"",hosted_zone_id:"",hosted_zone_role_arn:""}});return a&&(_.region="aws"===a?p:m),_}},20298:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=a(9104),s=a(52758);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}t.default=(e,t)=>{const a=(0,r.formValueSelector)("CreateCluster"),l=a(t,"product")===s.normalizedProducts.ROSA;switch(e){case"gcp":return a(t,"gcp_service_account");case"aws":return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({account_id:a(t,l?"associated_aws_id":"account_id")},l?{sts:{role_arn:a(t,"installer_role_arn")}}:{access_key_id:a(t,"access_key_id"),secret_access_key:a(t,"secret_access_key")});default:return null}}},10219:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stepNameById=t.stepId=void 0;const a=t.stepId={BILLING_MODEL:10,CLUSTER_SETTINGS:20,CLUSTER_SETTINGS__CLOUD_PROVIDER:21,CLUSTER_SETTINGS__DETAILS:22,CLUSTER_SETTINGS__MACHINE_POOL:23,NETWORKING:30,NETWORKING__CONFIGURATION:31,NETWORKING__VPC_SETTINGS:32,NETWORKING__CLUSTER_WIDE_PROXY:33,NETWORKING__CIDR_RANGES:34,CLUSTER_UPDATES:40,REVIEW_AND_CREATE:50};t.stepNameById={[a.BILLING_MODEL]:"Billing model",[a.CLUSTER_SETTINGS]:"Cluster settings",[a.CLUSTER_SETTINGS__CLOUD_PROVIDER]:"Cloud provider",[a.CLUSTER_SETTINGS__DETAILS]:"Details",[a.CLUSTER_SETTINGS__MACHINE_POOL]:"Machine pool",[a.NETWORKING]:"Networking",[a.NETWORKING__CONFIGURATION]:"Configuration",[a.NETWORKING__VPC_SETTINGS]:"VPC settings",[a.NETWORKING__CLUSTER_WIDE_PROXY]:"Cluster-wide proxy",[a.NETWORKING__CIDR_RANGES]:"CIDR ranges",[a.CLUSTER_UPDATES]:"Cluster updates",[a.REVIEW_AND_CREATE]:"Review and create"}},19561:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.upgradeScheduleRequest=t.default=t.createClusterRequest=void 0;var n=l(a(38416)),r=l(a(78718)),s=l(a(41609)),o=l(a(78913)),i=a(98003),u=a(37668),d=a(70774),c=a(69429),p=a(52758),m=a(96775),f=a(59442),E=a(75374),g=a(48578),h=a(77589),v=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(91960));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const C=(e,t)=>{var a,l;let{isWizard:n=!0,cloudProviderID:d,product:b}=e;const _="true"===t.multi_az,C=t.cloud_provider||d,y=t.product||b,O="true"===t.hypershift,I=i.store.getState(),R=void 0===(null===(a=I.features)||void 0===a?void 0:a.HCP_AWS_BILLING_SHOW)||(null===(l=I.features)||void 0===l?void 0:l.HCP_AWS_BILLING_SHOW),T=S({name:t.name,region:{id:t.region},nodes:{compute_machine_type:{id:t.machine_type}},managed:!0,product:{id:null==y?void 0:y.toLowerCase()},cloud_provider:{id:C},multi_az:_,etcd_encryption:t.etcd_encryption,billing_model:p.billingModels.STANDARD,disable_user_workload_monitoring:O||!t.enable_user_workload_monitoring},!O&&{fips:!!t.fips});if(O||(T.node_drain_grace_period={value:t.node_drain_grace_period,unit:"minutes"}),O)T.billing_model=p.billingModels.MARKETPLACE_AWS;else if(t.billing_model===p.billingModels.MARKETPLACE_GCP)T.billing_model=p.billingModels.MARKETPLACE_GCP;else if(t.billing_model){const[e]=t.billing_model.split("-");T.billing_model=e}else T.billing_model=p.billingModels.STANDARD;if(t.cluster_version&&(T.version={id:t.cluster_version.id}),t.autoscalingEnabled){const e=parseInt(t.min_replicas,10),a=parseInt(t.max_replicas,10);O?T.nodes.autoscale_compute={min_replicas:e*t.machinePoolsSubnets.length,max_replicas:a*t.machinePoolsSubnets.length}:(T.autoscaler=(0,g.getClusterAutoScalingSubmitSettings)(t.cluster_autoscaling),T.nodes.autoscale_compute={min_replicas:_?3*e:e,max_replicas:_?3*a:a})}else T.nodes.compute=parseInt(t.nodes_compute,10);const A=(0,c.parseReduxFormKeyValueList)(t.node_labels);if((0,s.default)(A)||(T.nodes.compute_labels=A),o.default.fakeOSD&&(T.properties={fake_cluster:"true"}),(n||"advanced"===t.network_configuration_toggle)&&(T.network={machine_cidr:t.network_machine_cidr,service_cidr:t.network_service_cidr,pod_cidr:t.network_pod_cidr,host_prefix:parseInt(t.network_host_prefix,10)},("aws"===C||"gcp"===C&&"true"===t.byoc)&&(T.api={listening:t.cluster_privacy})),"true"===t.byoc){var P;const e=(n||"advanced"===t.network_configuration_toggle)&&t.install_to_vpc,a=!0===t.configure_proxy,l=t.use_privatelink;if(T.ccs={enabled:!0},"aws"===C){if("ROSA"===y){if(T.aws={account_id:t.associated_aws_id,sts:{role_arn:t.installer_role_arn,support_role_arn:t.support_role_arn,instance_iam_roles:S({worker_role_arn:t.worker_role_arn},O?{}:{master_role_arn:t.control_plane_role_arn}),operator_role_prefix:t.custom_operator_roles_prefix}},"auto"===t.rosa_roles_provider_creation_mode&&(T.aws.sts=S(S({},T.aws.sts),{},{auto_mode:!0})),T.properties=S(S({},T.properties),{},{rosa_creator_arn:t.rosa_creator_arn}),t.byo_oidc_config_id&&(T.aws.sts.oidc_config={id:t.byo_oidc_config_id}),t.worker_volume_size_gib&&(T.nodes.compute_root_volume={aws:{size:t.worker_volume_size_gib}}),e&&!O){const e=t.shared_vpc;e.is_selected&&(T.aws=S(S({},T.aws),{},{private_hosted_zone_id:e.hosted_zone_id,private_hosted_zone_role_arn:e.hosted_zone_role_arn}),T.dns={base_domain:e.base_dns_domain})}}else T.aws={access_key_id:t.access_key_id,account_id:t.account_id,secret_access_key:t.secret_access_key};const a=v.createSecurityGroupsParams(t.securityGroups);e&&!O&&a&&(T.aws=S(S({},T.aws),a)),l&&(T.aws.private_link=!0),"true"===t.customer_managed_key&&(T.aws.kms_key_arn=t.kms_key_arn),O&&(t.etcd_key_arn&&(T.aws.etcd_encryption={kms_key_arn:t.etcd_key_arn}),R&&(T.aws.billing_account_id=t.billing_account_id)),t.imds&&!O&&(T.aws.ec2_metadata_http_tokens=t.imds),T.ccs.disable_scp_checks=t.disable_scp_checks,T.aws.subnet_ids=v.createClusterAwsSubnetIds({formData:t,isInstallExistingVPC:e}),T.nodes.availability_zones=v.createClusterAzs({formData:t,isInstallExistingVPC:e})}else if("gcp"===C){const a=JSON.parse(t.gcp_service_account);T.gcp=(0,r.default)(a,["type","project_id","private_key_id","private_key","client_email","client_id","auth_uri","token_uri","auth_provider_x509_cert_url","client_x509_cert_url"]),T.gcp.security={secure_boot:t.secure_boot},T.cloud_provider.display_name="gcp",T.cloud_provider.name="gcp",T.flavour={id:u.DEFAULT_FLAVOUR_ID},e&&(T.gcp_network={vpc_name:t.vpc_name,control_plane_subnet:t.control_plane_subnet,compute_subnet:t.compute_subnet},t.install_to_shared_vpc&&(T.gcp_network.vpc_project_id=t.shared_host_project_id)),"true"===t.customer_managed_key&&(T.gcp_encryption_key={key_name:t.key_name,key_ring:t.key_ring,key_location:t.key_location,kms_key_service_account:t.kms_service_account})}if(t.applicationIngress===E.ApplicationIngressType.Custom&&(0,h.canConfigureDayOneManagedIngress)(null===(P=t.cluster_version)||void 0===P?void 0:P.raw_id)&&(T.ingresses={items:[{default:!0,excluded_namespaces:t.defaultRouterExcludedNamespacesFlag?(0,c.stringToArrayTrimmed)(t.defaultRouterExcludedNamespacesFlag):void 0,route_selectors:(0,c.strToKeyValueObject)(t.defaultRouterSelectors,""),route_wildcard_policy:t.isDefaultRouterWildcardPolicyAllowed?m.WildcardPolicy.WILDCARDS_ALLOWED:m.WildcardPolicy.WILDCARDS_DISALLOWED,route_namespace_ownership_policy:t.isDefaultRouterNamespaceOwnershipPolicyStrict?f.NamespaceOwnershipPolicy.STRICT:f.NamespaceOwnershipPolicy.INTER_NAMESPACE_ALLOWED}]}),e&&a){const e={};t.http_proxy_url&&(e.http_proxy=t.http_proxy_url),t.https_proxy_url&&(e.https_proxy=t.https_proxy_url),t.no_proxy_domains&&(e.no_proxy=t.no_proxy_domains.join(",")),0!==Object.keys(e).length&&(T.proxy=e),t.additional_trust_bundle&&(T.additional_trust_bundle=t.additional_trust_bundle)}}else T.load_balancer_quota=parseInt(t.load_balancers,10),T.storage_quota={unit:"B",value:parseFloat(t.persistent_storage)},"gcp"===C&&(T.gcp={security:{secure_boot:t.secure_boot}});return t.hypershift&&(T.hypershift={enabled:O}),O&&(T.multi_az=!0),T};t.createClusterRequest=C;const y=e=>"manual"===e.upgrade_policy?null:{schedule_type:e.upgrade_policy,schedule:e.automatic_upgrade_schedule};t.upgradeScheduleRequest=y,t.default=(e,t)=>a=>{const{isWizard:l,cloudProviderID:n,product:r}=t,s=C({isWizard:l,cloudProviderID:n,product:r},a),o=y(a);e((0,d.createCluster)(s,o))}},91960:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.createSecurityGroupsParams=t.createClusterAzs=t.createClusterAwsSubnetIds=void 0;var n=l(a(44908));t.createClusterAzs=e=>{let{formData:t,isInstallExistingVPC:a}=e,l=[];if("true"===t.hypershift){const e=t.selected_vpc;t.machinePoolsSubnets.forEach((t=>{var a;const n=null===(a=e.aws_subnets)||void 0===a?void 0:a.find((e=>e.subnet_id===t.privateSubnetId));n&&l.push(n.availability_zone)}))}else a&&(l=t.machinePoolsSubnets.map((e=>e.availabilityZone)));return 0===l.length?void 0:(0,n.default)(l)},t.createClusterAwsSubnetIds=e=>{let{formData:t,isInstallExistingVPC:a}=e;const l=[],{machinePoolsSubnets:n}=t;if("true"===t.hypershift){"external"===t.cluster_privacy&&l.push(t.cluster_privacy_public_subnet_id);const e=n.map((e=>e.privateSubnetId));l.push(...e)}else if(a){const e=!t.use_privatelink;l.push(n[0].privateSubnetId),e&&l.push(n[0].publicSubnetId),"true"===t.multi_az&&(l.push(n[1].privateSubnetId,n[2].privateSubnetId),e&&l.push(n[1].publicSubnetId,n[2].publicSubnetId))}return l.filter((e=>!!e))},t.createSecurityGroupsParams=e=>{if(!e)return;const{applyControlPlaneToAll:t,controlPlane:a,infra:l,worker:n}=e;if(t&&a.length>0)return{additional_control_plane_security_group_ids:a,additional_infra_security_group_ids:a,additional_compute_security_group_ids:a};const r={};return a.length>0&&(r.additional_control_plane_security_group_ids=a),e.infra.length>0&&(r.additional_infra_security_group_ids=l),e.worker.length>0&&(r.additional_compute_security_group_ids=n),0===Object.keys(r).length?void 0:r}},77642:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=l(a(27361)),i=a(9104),u=a(87558),d=a(65652),c=a(71359),p=l(a(91885)),m=a(70355),f=l(a(69740)),E=a(64112),g=a(69429),h=a(96106),v=a(38352),b=l(a(7749)),_=l(a(42517)),S=l(a(59484)),C=a(79687),y=l(a(73269)),O=a(58622),I=a(35029),R=a(42227);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(76772);const D="No role detected",N=(e,t)=>e.Installer&&e.Support&&e.Worker&&(e.ControlPlane||t);function L(e){let{touch:t,change:a,selectedAWSAccountID:l,selectedInstallerRoleARN:n,rosaMaxOSVersion:s,getAWSAccountRolesARNs:T,getAWSAccountRolesARNsResponse:A,clearGetAWSAccountRolesARNsResponse:L,isHypershiftSelected:w,onAccountChanged:M}=e;const k=(0,f.default)(),[x,j]=(0,r.useState)(!0),[F,G]=(0,r.useState)([]),[U,V]=(0,r.useState)([]),[H,z]=(0,r.useState)(D),[W,q]=(0,r.useState)(!1),[B,$]=(0,r.useState)(!1),[Z,Y]=(0,r.useState)(!1),K=(0,h.useFeatureGate)(v.HCP_USE_UNMANAGED),Q=(e=>{let{errorDetails:t}=e;return null==t?void 0:t.some((e=>"NoTrustedRelationshipOnClusterRole"===(null==e?void 0:e.Error_Key)))})(A),J=r.default.useCallback((()=>{t("installer_role_arn"),t("support_role_arn"),t("worker_role_arn"),w||t("control_plane_role_arn")}),[w,t]),X=e=>{a("installer_role_arn",(null==e?void 0:e.Installer)||D),a("support_role_arn",(null==e?void 0:e.Support)||D),a("worker_role_arn",(null==e?void 0:e.Worker)||D),w||a("control_plane_role_arn",(null==e?void 0:e.ControlPlane)||D)};(0,r.useEffect)((()=>{J()}),[J]),(0,r.useEffect)((()=>{z(D),G([]),V([]),X(null),q(!1),L(),M()}),[l]),(0,r.useEffect)((()=>{let e=!0;F.forEach((t=>{t.Installer===H&&(e=!N(t,w),X(t),a("rosa_max_os_version",t.version))})),q(e)}),[H]);const ee=e=>w?e.hcpManagedPolicies:e.managedPolicies;r.default.useEffect((()=>{const e=F.find((e=>e.Installer===H));A.fulfilled&&e&&Y(ee(e))}),[l,A,H]);const te=e=>{const t=e.map((e=>P({name:e.Installer,value:e.Installer},!w&&ee(e)&&{label:r.default.createElement(d.Label,{color:"blue",isCompact:!0},"Recommended")})));0===t.length?(X(null),V([]),a("rosa_max_os_version",void 0),q(!0)):(V(t.filter((e=>void 0!==e.value))),q(!1)),G(e),$(!0);const l=((e,t,a)=>{if(e&&e!==D)return e;if(0===t.length)return D;const l=t.find((e=>e.managedPolicies||e.hcpManagedPolicies)),n=t.find((e=>"ManagedOpenShift"===e.prefix)),r=t.find((e=>N(e,a)));return(n||l||r||t[0]).Installer})(n,e,w);z(l)};(0,r.useEffect)((()=>{if(A.pending||A.fulfilled||A.error)if(A.fulfilled){const e=(0,o.default)(A,"data",[]).filter((e=>!(!w||!K)||(w?e.hcpManagedPolicies&&e.managedPolicies:!e.hcpManagedPolicies&&!e.managedPolicies)));te(e)}else A.error&&te([]);else $(!1),q(!1),T(l)}),[l,A]),(0,r.useEffect)((()=>{(A.fulfilled||A.error)&&(e=>{const t=Q?"Cannot detect an OCM role":"Error getting AWS account ARNs";k(m.trackEvents.ARNsRefreshed,{customProperties:P({error:!!e.error},e.error&&{error_title:t,error_message:e.errorMessage||void 0,error_code:e.errorCode,error_operation_id:e.operationID})})})(A)}),[A]);const ae=e=>e&&e!==D?void 0:"ARN field is required.",[le,ne]=(0,E.useOCPLatestVersion)("stable"),re=ne&&!(0,g.isSupportedMinorVersion)(le,s),se=!w&&Z,oe=r.default.useMemo((()=>w?"The selected account-wide roles are compatible with all OpenShift versions which support hosted control planes.":se?`The selected account-wide roles are preferred and compatible with OpenShift version ${O.MIN_MANAGED_POLICY_VERSION} and newer.`:`The selected account-wide roles are compatible with OpenShift version ${(0,g.formatMinorVersion)(s)} and earlier.`),[se,w,s]);return r.default.createElement(r.default.Fragment,null,r.default.createElement(d.GridItem,null),r.default.createElement(d.GridItem,null,r.default.createElement(d.Title,{headingLevel:"h3"},"Account roles")),A.error&&r.default.createElement(d.GridItem,{span:8},Q?r.default.createElement(I.AwsRoleErrorAlert,{title:"Cannot detect an OCM role",targetRole:"ocm"}):r.default.createElement(b.default,{message:"Error getting AWS account ARNs",response:A})),!A.error&&B&&W&&r.default.createElement(d.GridItem,{span:8},w?r.default.createElement(d.Alert,{isInline:!0,variant:"danger",title:"Some account roles ARNs were not detected."},r.default.createElement("br",null),"Create the account roles using the following command in the ROSA CLI",r.default.createElement(S.default,{textAriaLabel:"Copyable ROSA login command"},R.RosaCliCommand.CreateAccountRolesHCP),r.default.createElement("br",null),"After running the command, you may need to refresh using the"," ",r.default.createElement("strong",null,"Refresh ARNs")," button below to populate the ARN fields.",r.default.createElement("p",null,"You must use ROSA CLI version ",O.ROSA_HOSTED_CLI_MIN_VERSION," or above.")):r.default.createElement(I.AwsRoleErrorAlert,{title:"Some account roles ARNs were not detected",targetRole:"account"})),!B&&r.default.createElement(d.GridItem,null,r.default.createElement("div",{className:"spinner-fit-container"},r.default.createElement(c.Spinner,null)),r.default.createElement("div",{className:"spinner-loading-text","data-testid":"spinner-loading-arn-text"},"Loading account roles ARNs...")),B&&r.default.createElement(d.GridItem,{span:12},r.default.createElement(d.ExpandableSection,{isExpanded:x,onToggle:()=>{j(!x)},toggleText:"Account roles ARNs"},r.default.createElement(d.Text,{component:d.TextVariants.p},"The following roles were detected in your AWS account."," ",r.default.createElement(_.default,{href:p.default.ROSA_AWS_IAM_RESOURCES},"Learn more about account roles"),"."),r.default.createElement("br",null),r.default.createElement(d.Button,{variant:"secondary","data-testid":"refresh_arns_btn",onClick:()=>{k(m.trackEvents.RefreshARNs),L(),T(l),$(!1),q(!1),F.some((e=>e.Installer===H))||(a("installer_role_arn",""),z(""),a("cluster_version",void 0))}},"Refresh ARNs"),r.default.createElement("br",null),r.default.createElement("br",null),r.default.createElement(d.Grid,null,r.default.createElement(d.GridItem,{span:8},r.default.createElement(i.Field,{component:C.ReduxSelectDropdown,name:"installer_role_arn",label:"Installer role",type:"text",options:U,onChange:(e,t)=>{a("cluster_version",void 0),z(t)},isDisabled:U.length<=1,validate:ae,isRequired:!0,helpText:"",extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the ROSA installer.",r.default.createElement("br",null),"For more information see"," ",r.default.createElement(_.default,{href:p.default.ROSA_AWS_IAM_ROLES},"Table 1 about the installer role policy"),".")}),r.default.createElement("br",null),r.default.createElement(i.Field,{component:y.default,name:"support_role_arn",label:"Support role",type:"text",validate:ae,isRequired:!0,extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the Red Hat Site Reliability Engineering (SRE) support team.",r.default.createElement("br",null),"For more information see"," ",r.default.createElement(_.default,{href:p.default.ROSA_AWS_IAM_ROLES},"Table 4 about the support role policy"),"."),isDisabled:!0}),r.default.createElement("br",null),r.default.createElement(i.Field,{component:y.default,name:"worker_role_arn",label:"Worker role",type:"text",validate:ae,isRequired:!0,extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the ROSA compute instances.",r.default.createElement("br",null),"For more information see"," ",r.default.createElement(_.default,{href:p.default.ROSA_AWS_IAM_ROLES},"Table 3 about the worker/compute role policy"),"."),isDisabled:!0}),!w&&r.default.createElement(r.default.Fragment,null,r.default.createElement("br",null),r.default.createElement(i.Field,{component:y.default,name:"control_plane_role_arn",label:"Control plane role",type:"text",validate:ae,isRequired:!0,extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the ROSA control plane.",r.default.createElement("br",null),"For more information see"," ",r.default.createElement(_.default,{href:p.default.ROSA_AWS_IAM_ROLES},"Table 2 about the control plane role policy"),"."),isDisabled:!0}))),(s||se)&&r.default.createElement(d.GridItem,null,r.default.createElement("br",null),r.default.createElement(d.Alert,{variant:"info",isInline:!0,isPlain:se||!re,title:oe},re&&!(se||w)&&r.default.createElement(d.TextContent,null,r.default.createElement(d.Text,{component:d.TextVariants.p,className:"pf-v5-u-mt-sm"},r.default.createElement("strong",null,"To update account roles to the latest OpenShift version (",(0,g.formatMinorVersion)(le),"):")),r.default.createElement(d.TextList,{component:d.TextListVariants.ol},r.default.createElement(d.TextListItem,null,r.default.createElement(d.Text,{component:d.TextVariants.p},"Download latest (",(0,g.formatMinorVersion)(le),")"," ",r.default.createElement(u.Link,{to:"/downloads#tool-ocm"},"ocm")," and"," ",r.default.createElement(u.Link,{to:"/downloads#tool-rosa"},"rosa")," CLIs")),r.default.createElement(d.TextListItem,{className:"pf-v5-u-mb-sm"},r.default.createElement(d.Text,{component:d.TextVariants.p},"Recreate ARNs using"),r.default.createElement(d.Text,{component:d.TextVariants.p},r.default.createElement(S.default,{textAriaLabel:"Copyable ROSA create account-roles command"},R.RosaCliCommand.CreateAccountRoles)))))))),r.default.createElement(d.GridItem,{span:4}))))}L.propTypes={touch:s.default.func,change:s.default.func,selectedAWSAccountID:s.default.string,selectedInstallerRoleARN:s.default.string,rosaMaxOSVersion:s.default.string,getAWSAccountRolesARNs:s.default.func.isRequired,getAWSAccountRolesARNsResponse:s.default.object.isRequired,clearGetAWSAccountRolesARNsResponse:s.default.func.isRequired,isHypershiftSelected:s.default.bool,onAccountChanged:s.default.func.isRequired},t.Z=L},35038:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=l(a(39466)),o=l(a(70375)),i=a(7046),u=a(72457);t.default=(0,n.connect)((e=>{const{getAWSAccountIDsResponse:t,getAWSAccountRolesARNsResponse:a,getUserRoleResponse:l}=e.rosaReducer,n=(0,r.formValueSelector)("CreateCluster");return{isHypershiftSelected:"true"===n(e,"hypershift"),selectedAWSAccountID:n(e,"associated_aws_id"),selectedAWSBillingAccountID:n(e,"billing_account_id"),selectedInstallerRoleARN:n(e,"installer_role_arn"),rosaMaxOSVersion:n(e,"rosa_max_os_version"),getAWSAccountIDsResponse:t,getAWSAccountRolesARNsResponse:a,getUserRoleResponse:l}}),(e=>({closeModal:()=>e((0,i.closeModal)()),getAWSAccountIDs:t=>e((0,u.getAWSAccountIDs)(t)),getAWSAccountRolesARNs:t=>e((0,u.getAWSAccountRolesARNs)(t)),clearGetAWSAccountIDsResponse:()=>e((0,u.clearGetAWSAccountIDsResponse)()),clearGetAWSAccountRolesARNsResponse:()=>e((0,u.clearGetAWSAccountRolesARNsResponse)()),clearGetUserRoleResponse:()=>e((0,u.clearGetUserRoleResponse)()),getUserRole:()=>e((0,u.getUserRole)())})))((0,s.default)(o.default))},34670:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(45697)),r=l(a(28416)),s=a(9104),o=a(65652),i=l(a(91885)),u=l(a(42517)),d=a(79687),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(90181)),p=a(48968),m=a(69429),f=a(70946),E=a(86896),g=l(a(73269));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}const v=c.default.disjointSubnets("network_machine_cidr"),b=c.default.disjointSubnets("network_service_cidr"),_=c.default.disjointSubnets("network_pod_cidr"),S=c.default.awsSubnetMask("network_machine_cidr_single_az"),C=c.default.awsSubnetMask("network_machine_cidr_multi_az"),y=c.default.awsSubnetMask("network_service_cidr");function O(e){let{disabled:t,cloudProviderID:a,isMultiAz:l,installToVpcSelected:n,isDefaultValuesChecked:h,change:O,isROSA:I,formValues:R}=e;const T=h||t,A=(0,m.constructSelectedSubnets)(R),P=e=>(0,c.required)(e)||c.default.cidr(e)||c.default.validateRange(e)||"gcp"===a&&c.default.privateAddress(e)||void 0,D=l||"true"===R.hypershift?c.default.AWS_MACHINE_CIDR_MAX_MULTI_AZ:c.default.AWS_MACHINE_CIDR_MAX_SINGLE_AZ,N="gcp"===a?r.default.createElement(r.default.Fragment,null,r.default.createElement("br",null),r.default.createElement("span",null,"The address must be a private IPv4 address, belonging to one of the following ranges:",r.default.createElement(o.List,null,r.default.createElement(o.ListItem,null,"10.0.0.0  10.255.255.255"),r.default.createElement(o.ListItem,null,"172.16.0.0  172.31.255.255"),r.default.createElement(o.ListItem,null,"192.168.0.0  192.168.255.255")))):null;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Alert,{id:"advanced-networking-alert",isInline:!0,variant:"info",title:"CIDR ranges cannot be changed after you create your cluster."},r.default.createElement("p",{className:"pf-v5-u-mb-md"},"Specify non-overlapping ranges for machine, service, and pod ranges. Each range should correspond to the first IP address in their subnet."),r.default.createElement(u.default,{href:I?i.default.CIDR_RANGE_DEFINITIONS_ROSA:i.default.CIDR_RANGE_DEFINITIONS_OSD},"Learn more to avoid conflicts"))),r.default.createElement(o.GridItem,null,r.default.createElement(s.Field,{component:d.ReduxCheckbox,name:"cidr_default_values_toggle",label:"Use default values",description:"The below values are safe defaults. However, you must ensure that the Machine CIDR is valid for your chosen subnet(s).",onChange:(e,t)=>{t&&(O("network_machine_cidr",f.MACHINE_CIDR_DEFAULT),O("network_service_cidr",f.SERVICE_CIDR_DEFAULT),O("network_pod_cidr",f.POD_CIDR_DEFAULT),O("network_host_prefix",f.HOST_PREFIX_DEFAULT))}})),r.default.createElement(o.GridItem,{md:6},r.default.createElement(s.Field,{component:g.default,name:"network_machine_cidr",label:"Machine CIDR",placeholder:f.MACHINE_CIDR_DEFAULT,type:"text",validate:e=>P(e)||"aws"===a&&c.default.awsMachineCidr(e,R)||c.default.validateRange(e)||"aws"===a&&c.default.subnetCidrs(e,R,p.FieldId.NetworkMachineCidr,A)||v(e,R)||"aws"===a&&!l&&S(e)||"aws"===a&&l&&C(e)||void 0,disabled:T,helpText:r.default.createElement("div",{className:"pf-v5-c-form__helper-text"},"aws"===a?`Subnet mask must be between /${c.default.AWS_MACHINE_CIDR_MIN} and /${D}.`:`Range must be private. Subnet mask must be at most /${c.default.GCP_MACHINE_CIDR_MAX}.`,n&&r.default.createElement(o.Alert,{variant:"info",isPlain:!0,isInline:!0,title:"Ensure the Machine CIDR range matches the selected VPC subnets."})),extendedHelpText:r.default.createElement(r.default.Fragment,null,E.constants.machineCIDRHint,N,r.default.createElement(o.Text,{component:o.TextVariants.p},r.default.createElement(u.default,{href:I?i.default.ROSA_CIDR_MACHINE:i.default.OSD_CIDR_MACHINE},"Learn more"))),showHelpTextOnError:!1})),r.default.createElement(o.GridItem,{md:6}),r.default.createElement(o.GridItem,{md:6},r.default.createElement(s.Field,{component:g.default,name:"network_service_cidr",label:"Service CIDR",placeholder:f.SERVICE_CIDR_DEFAULT,type:"text",validate:e=>P(e)||c.default.serviceCidr(e)||b(e,R)||"aws"===a&&y(e)||"aws"===a&&c.default.subnetCidrs(e,R,p.FieldId.NetworkServiceCidr,A)||void 0,disabled:T,helpText:"aws"===a?`Subnet mask must be at most /${c.default.SERVICE_CIDR_MAX}.`:`Range must be private. Subnet mask must be at most /${c.default.SERVICE_CIDR_MAX}.`,extendedHelpText:r.default.createElement(r.default.Fragment,null,E.constants.serviceCIDRHint,N,r.default.createElement(o.Text,{component:o.TextVariants.p},r.default.createElement(u.default,{href:I?i.default.ROSA_CIDR_SERVICE:i.default.OSD_CIDR_SERVICE},"Learn more"))),showHelpTextOnError:!1})),r.default.createElement(o.GridItem,{md:6}),r.default.createElement(o.GridItem,{md:6},r.default.createElement(s.Field,{component:g.default,name:"network_pod_cidr",label:"Pod CIDR",placeholder:f.POD_CIDR_DEFAULT,type:"text",validate:e=>P(e)||c.default.podCidr(e,R)||_(e,R)||"aws"===a&&c.default.subnetCidrs(e,R,p.FieldId.NetworkPodCidr,A)||void 0,disabled:T,helpText:"aws"===a?`Subnet mask must allow for at least ${c.default.POD_NODES_MIN} nodes.`:`Range must be private. Subnet mask must allow for at least ${c.default.POD_NODES_MIN} nodes.`,extendedHelpText:r.default.createElement(r.default.Fragment,null,E.constants.podCIDRHint,N,r.default.createElement(o.Text,{component:o.TextVariants.p},r.default.createElement(u.default,{href:I?i.default.ROSA_CIDR_POD:i.default.OSD_CIDR_POD},"Learn more"))),showHelpTextOnError:!1})),r.default.createElement(o.GridItem,{md:6}),r.default.createElement(o.GridItem,{md:6},r.default.createElement(s.Field,{component:g.default,name:"network_host_prefix",label:"Host prefix",placeholder:f.HOST_PREFIX_DEFAULT,type:"text",format:e=>e&&"/"!==e.charAt(0)?`/${e}`:e,normalize:e=>e&&"/"===e.charAt(0)?e.substring(1):e,validate:[c.required,c.default.hostPrefix],disabled:T,helpText:`Must be between /${c.default.HOST_PREFIX_MIN} and /${c.default.HOST_PREFIX_MAX}.`,extendedHelpText:r.default.createElement(r.default.Fragment,null,E.constants.hostPrefixHint,r.default.createElement(o.Text,{component:o.TextVariants.p},r.default.createElement(u.default,{href:I?i.default.ROSA_CIDR_HOST:i.default.OSD_CIDR_HOST},"Learn more"))),showHelpTextOnError:!1})))}O.propTypes={change:n.default.func.isRequired,disabled:n.default.bool,cloudProviderID:n.default.string,isMultiAz:n.default.bool,installToVpcSelected:n.default.bool,isDefaultValuesChecked:n.default.bool,isROSA:n.default.bool,formValues:n.default.object},t.default=O},36004:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(34670));function i(e){let{cloudProviderID:t,isMultiAz:a,installToVpcSelected:l,isDefaultValuesChecked:r,change:i,isOSD:u,isROSA:d,formValues:c}=e;return n.default.createElement(s.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h3"},"CIDR ranges")),n.default.createElement(o.default,{cloudProviderID:t,isMultiAz:a,installToVpcSelected:l,isDefaultValuesChecked:r,change:i,isOSD:u,isROSA:d,formValues:c})))}i.propTypes={cloudProviderID:r.default.string,isMultiAz:r.default.bool,installToVpcSelected:r.default.bool,isDefaultValuesChecked:r.default.bool,change:r.default.func,isROSA:r.default.bool,isOSD:r.default.bool,formValues:r.default.object},t.default=i},23778:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=a(66338),s=a(9104),o=a(70946),i=l(a(39466)),u=l(a(36004));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=(0,r.connect)((e=>{var t,a;const l=(0,s.formValueSelector)("CreateCluster"),n=l(e,"cloud_provider"),r=(0,s.getFormInitialValues)("CreateCluster")(e),i=(0,s.getFormValues)("CreateCluster")(e);return{cloudProviderID:n,isMultiAz:"true"===l(e,"multi_az"),installToVpcSelected:l(e,"install_to_vpc"),isDefaultValuesChecked:l(e,"cidr_default_values_toggle"),initialValues:c(c({},r),{},{cidr_default_values_toggle:null===(t=i.cidr_default_values_toggle)||void 0===t||t,network_machine_cidr:i.network_machine_cidr||o.MACHINE_CIDR_DEFAULT,network_service_cidr:i.network_service_cidr||o.SERVICE_CIDR_DEFAULT,network_pod_cidr:i.network_pod_cidr||o.POD_CIDR_DEFAULT,network_host_prefix:i.network_host_prefix||o.HOST_PREFIX_DEFAULT}),formValues:null!==(a=(0,s.getFormValues)("CreateCluster")(e))&&void 0!==a?a:{}}}))((0,i.default)(u.default))},42602:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(9104),o=a(65652),i=a(65996),u=a(69429),d=a(86896),c=a(90181),p=a(52758),m=a(70946),f=l(a(73269)),E=l(a(76486)),g=l(a(42517)),h=l(a(91885)),v=a(65152);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function _(e){let{product:t,httpProxyUrl:a,httpsProxyUrl:l,additionalTrustBundle:r,sendError:b,change:_}=e;const[S,C]=n.default.useState(!1),y=t===p.normalizedProducts.ROSA?h.default.ROSA_CLUSTER_WIDE_PROXY:h.default.OSD_CLUSTER_WIDE_PROXY,O=!a&&!l,I=()=>{S||C(!0)},R=(e,t)=>{if(!t.http_proxy_url&&!t.https_proxy_url&&!t.additional_trust_bundle)return"Configure at least one of the cluster-wide proxy fields."},T=n.default.createElement(o.Alert,{isInline:!0,variant:"warning",title:n.default.createElement("span",null,"Complete at least 1 of the fields above. If you don't want to set a cluster-wide proxy, disable this option in the ",n.default.createElement("strong",{style:{fontSize:"var(--pf-v5-global--FontSize--md)"}},"Networking > Configuration")," step."),actionLinks:n.default.createElement(i.WizardContext.Consumer,null,(e=>{let{goToStepByName:t}=e;return n.default.createElement(o.AlertActionLink,{onClick:()=>t("Configuration")},"Back to the networking configuration")}))});return(0,n.useEffect)((()=>{O&&_("no_proxy_domains","")}),[O]),n.default.createElement(o.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(o.Grid,{hasGutter:!0},n.default.createElement(o.GridItem,null,n.default.createElement(o.Title,{headingLevel:"h3"},"Cluster-wide proxy")),n.default.createElement(o.GridItem,null,n.default.createElement(o.Text,null,d.constants.clusterProxyHint),n.default.createElement(o.Text,{className:"pf-v5-u-mt-sm"},n.default.createElement(g.default,{href:y},"Learn more about configuring a cluster-wide proxy"))),n.default.createElement(o.GridItem,null,n.default.createElement(o.Alert,{variant:"info",isInline:!0,isPlain:!0,title:"Configure at least 1 of the following fields:"})),n.default.createElement(o.GridItem,{sm:12,md:10,xl2:8},n.default.createElement(s.Field,{component:f.default,name:"http_proxy_url",label:"HTTP proxy URL",placeholder:m.HTTP_PROXY_PLACEHOLDER,type:"text",validate:[e=>(0,c.validateUrl)(e,"http"),R],helpText:"Specify a proxy URL to use for HTTP connections outside the cluster.",showHelpTextOnError:!1,onBlur:I})),n.default.createElement(o.GridItem,{sm:0,md:2,xl2:4}),n.default.createElement(o.GridItem,{sm:12,md:10,xl2:8},n.default.createElement(s.Field,{component:f.default,name:"https_proxy_url",label:"HTTPS proxy URL",placeholder:m.HTTPS_PROXY_PLACEHOLDER,type:"text",validate:[e=>(0,c.validateUrl)(e,["http","https"]),R],helpText:"Specify a proxy URL to use for HTTPS connections outside the cluster.",showHelpTextOnError:!1,onBlur:I})),n.default.createElement(o.GridItem,{sm:0,md:2,xl2:4}),n.default.createElement(o.GridItem,{sm:12,md:10,xl2:8},n.default.createElement(s.Field,{component:f.default,name:"no_proxy_domains",label:"No Proxy domains",placeholder:O?m.DISABLED_NO_PROXY_PLACEHOLDER:m.NO_PROXY_PLACEHOLDER,type:"text",validate:c.checkNoProxyDomains,helpText:m.NO_PROXY_HELPER_TEXT,showHelpTextOnError:!1,normalize:e=>(0,u.stringToArray)(e),isDisabled:O})),n.default.createElement(o.GridItem,{sm:0,md:2,xl2:4}),n.default.createElement(o.GridItem,{sm:12,md:10,xl2:8},n.default.createElement(s.Field,{component:E.default,name:"additional_trust_bundle",label:"Additional trust bundle",placeholder:m.TRUST_BUNDLE_PLACEHOLDER,extendedHelpTitle:"Additional trust bundle",extendedHelpText:m.TRUST_BUNDLE_HELPER_TEXT,validate:[c.validateCA,R],onBlur:I,dropzoneProps:{accept:v.ACCEPT,maxSize:v.MAX_FILE_SIZE,onDropRejected:()=>{b()}},helpText:"Upload or paste a PEM encoded X.509 certificate."})),n.default.createElement(o.GridItem,{sm:0,md:2,xl2:4}),n.default.createElement(o.GridItem,null,S&&O&&!r&&T)))}_.propTypes={product:r.default.string,httpProxyUrl:r.default.string,httpsProxyUrl:r.default.string,additionalTrustBundle:r.default.string,sendError:r.default.func,change:r.default.func},t.default=_},78525:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=l(a(39466)),o=l(a(42602));t.default=(0,n.connect)((e=>{const t=(0,r.formValueSelector)("CreateCluster"),a=(0,r.getFormValues)("CreateCluster")(e);return{product:t(e,"product"),httpProxyUrl:t(e,"http_proxy_url"),httpsProxyUrl:t(e,"https_proxy_url"),noProxyDomains:t(e,"no_proxy"),additionalTrustBundle:t(e,"additional_trust_bundle"),formValues:a}}),(e=>({sendError:()=>{e((0,r.change)("CreateCluster","additional_trust_bundle","Invalid file"))},change:r.change})))((0,s.default)(o.default))},55170:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createOperatorRolesHashPrefix=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(9104),o=a(71359),i=a(65652),u=l(a(69740)),d=a(70355),c=l(a(79)),p=a(30313),m=l(a(42517)),f=l(a(7749)),E=l(a(59484)),g=l(a(10865)),h=l(a(68248)),v=l(a(91885)),b=a(90181),_=a(8342),S=l(a(77150)),C=l(a(91654));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}const O=()=>{const e=Math.random().toString(36).substr(2,4).split(""),t="abcdefghijklmnopqrstuvwxyz"[Math.floor(26*Math.random())];return e[0]=t,e.join("")};t.createOperatorRolesHashPrefix=O;const I="manual",R="auto";function T(e){let{clusterName:t,change:a,awsAccountID:l,rosaCreationMode:r,byoOidcConfigID:y,installerRoleArn:T,sharedVpcRoleArn:A,customOperatorRolesPrefix:P,getOCMRole:D,getOCMRoleResponse:N,clearGetOcmRoleResponse:L,getUserOidcConfigurations:w,forcedByoOidcType:M}=e;const[k,x]=(0,n.useState)(!1),[j,F]=(0,n.useState)(!(!M&&!y)),[G,U]=(0,n.useState)(null),V=(0,u.default)(),H=e=>()=>{e?a("rosa_roles_provider_creation_mode",k?R:I):(a("byo_oidc_config_id",""),a("byo_oidc_config_id_managed","")),F(e)};var z;(0,n.useEffect)((()=>{P||a("custom_operator_roles_prefix",`${t}-${O()}`)}),[P,t]),(0,n.useEffect)((()=>{a("detected_ocm_role",!1),L()}),[]),!r&&N.fulfilled&&a("rosa_roles_provider_creation_mode",null!==(z=N.data)&&void 0!==z&&z.isAdmin?R:I),(0,n.useEffect)((()=>{if(N.pending)U(null);else if(N.fulfilled){var e,t;a("rosa_creator_arn",null===(e=N.data)||void 0===e?void 0:e.arn),a("detected_ocm_role",!0);const l=null===(t=N.data)||void 0===t?void 0:t.isAdmin;x(l),U(null)}else N.error?U(n.default.createElement(f.default,{message:"ocm-role is no longer linked to your Red Hat organization",response:N,isExpandable:!0},n.default.createElement(_.BackToAssociateAwsAccountLink,null))):D(l)}),[N]);const W=n.default.createElement(i.Alert,{className:"pf-v5-u-ml-lg",variant:"info",isInline:!0,isExpandable:!0,title:"If you would like to enable auto mode, expand the alert and follow the steps below."},n.default.createElement(i.TextContent,{className:"pf-v5-u-font-size-sm"},n.default.createElement(i.Text,{component:i.TextVariants.p,className:"pf-v5-u-mb-sm"},"Create the Admin OCM role using the following command in the ROSA CLI. Only one OCM role can be linked per Red Hat org."," ",n.default.createElement(h.default,{title:"If an OCM role with basic privileges exists in your account, you might need to delete or unlink the role before creating an OCM role with administrative privileges."})),n.default.createElement(E.default,{textAriaLabel:"Copyable ROSA create ocm-role command",trackEvent:d.trackEvents.CopyOCMRoleCreateAdmin},"rosa create ocm-role --admin"),n.default.createElement(i.Text,{component:i.TextVariants.p,className:"pf-v5-u-mb-sm"},"If not yet linked, run the following command to associate the OCM role with your AWS"," ","account."),n.default.createElement(E.default,{textAriaLabel:"Copyable ROSA link ocm-role command",trackEvent:d.trackEvents.CopyOCMRoleLink},"rosa link ocm-role <arn>"),n.default.createElement(i.Text,{component:i.TextVariants.p,className:"pf-v5-u-mb-sm"},"After running the command, you may need to refresh using the button below to enable auto mode."),n.default.createElement(i.Button,{onClick:()=>{L(),a("rosa_roles_provider_creation_mode",void 0),V(d.trackEvents.OCMRoleRefreshed)},variant:"secondary"},"Refresh to enable auto mode"))),q=[{value:I,label:"Manual",description:n.default.createElement(n.default.Fragment,null,"You can choose from two options to manually generate the necessary roles and policies for your cluster operators and the OIDC provider: ROSA CLI commands, or AWS CLI commands."," ",n.default.createElement("strong",null,"You must complete one of those options after cluster review for your cluster to complete installation."))},{disabled:!k,value:R,label:"Auto",description:"Immediately create the necessary cluster operator roles and OIDC provider. This mode requires an admin privileged OCM role.",extraField:N.fulfilled&&!k&&W}],B=(0,p.getOperatorRolesCommand)({forcedByoOidcType:M,byoOidcConfigID:y,customOperatorRolesPrefix:P,installerRoleArn:T,sharedVpcRoleArn:A}),$=(0,p.getForcedByoOidcReason)(M);return n.default.createElement(i.Form,{onSubmit:()=>!1},n.default.createElement(i.Grid,{hasGutter:!0},n.default.createElement(i.GridItem,null,n.default.createElement(i.Title,{headingLevel:"h3"},"Cluster roles and policies")),M?n.default.createElement(i.Alert,{isInline:!0,id:"rosa-require-byo-oidc",variant:"info",title:$}):n.default.createElement(n.default.Fragment,null,n.default.createElement(i.GridItem,null,n.default.createElement(i.Text,{component:i.TextVariants.p},"Set whether you'd like to create the OIDC now or wait to create the OIDC until after installation.")),n.default.createElement(i.GridItem,null,n.default.createElement(i.ToggleGroup,null,n.default.createElement(i.ToggleGroupItem,{text:"Create OIDC Later",buttonId:"managed-oidc-configuration",isSelected:!j,onChange:H(!1)}),n.default.createElement(i.ToggleGroupItem,{text:"Create OIDC Now",buttonId:"customer-oidc-configuration",isSelected:j,onChange:H(!0)})))),n.default.createElement(c.default,{name:"detected_ocm_role"}),G&&n.default.createElement(i.GridItem,null,G),N.pending&&n.default.createElement(i.GridItem,null,n.default.createElement("div",{className:"spinner-fit-container"},n.default.createElement(o.Spinner,null)),n.default.createElement("div",{className:"spinner-loading-text pf-v5-u-ml-xl"},"Checking for admin OCM role...")),N.fulfilled&&!j&&n.default.createElement(n.default.Fragment,null,n.default.createElement(i.GridItem,null,n.default.createElement(i.Text,{component:i.TextVariants.p},"Choose the preferred mode for creating the operator roles and OIDC provider."," ",n.default.createElement(m.default,{href:v.default.ROSA_AWS_IAM_ROLES},"Learn more about ROSA roles"))),n.default.createElement(i.GridItem,{span:10},n.default.createElement(i.FormGroup,{isRequired:!0,fieldId:"role_mode"},n.default.createElement(s.Field,{component:g.default,name:"rosa_roles_provider_creation_mode",className:"radio-button",disabled:N.pending,options:q,onChange:(e,t)=>{t&&(a("rosa_roles_provider_creation_mode",t),V(d.trackEvents.RosaCreationMode,{customProperties:{value:t}}))},disableDefaultValueHandling:!0})))),j?n.default.createElement(s.Field,{component:C.default,name:"byo_oidc_config_id",label:"Config ID",awsAccountID:l,getUserOidcConfigurations:w,byoOidcConfigID:y,operatorRolesCliCommand:B,validate:b.required,onSelect:e=>{a("byo_oidc_config_id",e?e.id:""),a("byo_oidc_config_id_managed",!e||e.managed?"true":"false")}}):n.default.createElement(S.default,null)))}T.propTypes={change:r.default.func,awsAccountID:r.default.string,rosaCreationMode:r.default.string,byoOidcConfigID:r.default.string,installerRoleArn:r.default.string,sharedVpcRoleArn:r.default.string,customOperatorRolesPrefix:r.default.string,getOCMRole:r.default.func.isRequired,getOCMRoleResponse:r.default.func.isRequired,getUserOidcConfigurations:r.default.func.isRequired,clearGetOcmRoleResponse:r.default.func.isRequired,clusterName:r.default.string,forcedByoOidcType:r.default.oneOf(["Hypershift","SharedVPC"])},t.default=T},77150:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(9104),s=a(65652),o=l(a(42517)),i=l(a(73269)),u=l(a(90181)),d=l(a(91885));t.default=function(){return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h3"},"Name operator roles")),n.default.createElement(s.GridItem,{span:10},n.default.createElement(s.Text,{component:s.TextVariants.p},"To easily identify the Operator IAM roles for a cluster in your AWS account, the Operator role names are prefixed with your cluster name and a random 4-digit hash. You can optionally replace this prefix.")),n.default.createElement(s.GridItem,{span:6},n.default.createElement(r.Field,{component:i.default,name:"custom_operator_roles_prefix",label:"Custom operator roles prefix",type:"text",validate:u.default.checkCustomOperatorRolesPrefix,helpText:`Maximum ${u.default.MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH} characters.  Changing the cluster name will regenerate this value.`,extendedHelpText:n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:s.TextVariants.p},"You can specify a custom prefix for the cluster-specific Operator IAM roles to use."," ",n.default.createElement("br",null),"See examples in"," ",n.default.createElement(o.default,{href:d.default.ROSA_AWS_OPERATOR_ROLE_PREFIX},"Defining a custom Operator IAM role prefix"))),showHelpTextOnError:!1})))}},91654:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(70215)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),o=l(a(45697)),i=a(9104),u=a(65652),d=l(a(42517)),c=l(a(68248)),p=l(a(50813)),m=l(a(13908)),f=l(a(83384)),E=a(12812),g=l(a(90181)),h=l(a(91885)),v=l(a(73269));const b=["onBlur"];function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function S(){return s.default.createElement(u.Popover,{"aria-label":"oidc-creation-instructions",position:"top",maxWidth:"22rem",style:{"--pf-v5-c-popover--c-button--sibling--PaddingRight":"2rem"},bodyContent:s.default.createElement(u.TextContent,null,s.default.createElement("p",null,"Create a new OIDC config ID by running the following command in your CLI. Then, refresh and select the new config ID from the dropdown."),s.default.createElement(u.ClipboardCopy,{isReadOnly:!0},"rosa create oidc-config"))},s.default.createElement(u.Button,{variant:"link",isInline:!0},"create a new OIDC config id"))}function C(e){let{awsAccountID:t,getUserOidcConfigurations:a,byoOidcConfigID:l,operatorRolesCliCommand:o,onSelect:_,input:{onBlur:C},meta:{error:y,touched:O}}=e,I=(0,r.default)(e.input,b);const[R,T]=(0,s.useState)(!1),[A,P]=(0,s.useState)(!1),[D,N]=(0,s.useState)([]),L=s.default.useCallback((()=>{P(!0);try{a(t).then((e=>{let{action:t}=e;const a=t.payload;N(a),l&&void 0===a.find((e=>e.id===l))&&_(null)}))}finally{setTimeout((()=>{P(!1)}),500)}}),[l,_]);(0,s.useEffect)((()=>{const e=null==D?void 0:D.some((e=>(null==e?void 0:e.id)===l));(null==D?void 0:D.length)>0&&l&&!e&&_(null)}),[l,D,_]),(0,s.useEffect)((()=>{L()}),[]);const w=(0,s.useMemo)((()=>D.map((e=>({entryId:e.id,label:e.id,description:e.issuer_url?`Issuer URL: ${e.issuer_url}`:void 0})))),[D]);return s.default.createElement(m.default,{wide:!0},s.default.createElement(p.default,{simple:!0},s.default.createElement(u.TextContent,{className:"pf-v5-u-pb-md"},s.default.createElement(u.Text,{component:u.TextVariants.p},"Select your existing OIDC config id or ",s.default.createElement(S,null),".")),s.default.createElement(u.FormGroup,{label:"Config ID",labelIcon:s.default.createElement(c.default,{hint:s.default.createElement("span",null,"The OIDC configuration ID created by running the command"," ",s.default.createElement("pre",null,"rosa create oidc-config"))}),isRequired:!0},s.default.createElement(u.Flex,null,s.default.createElement(u.FlexItem,{grow:{default:"grow"}},s.default.createElement(f.default,(0,n.default)({},I,{label:"Config ID","aria-label":"Config ID",isOpen:R,onToggle:(e,t)=>T(t),onSelect:(e,t)=>{const a=D.find((e=>e.id===t));T(!1),_(a)},selectedEntryId:l,selectionData:w,isDisabled:0===D.length||A,placeholderText:D.length>0?"Select a config id":"No OIDC configurations found",inlineFilterPlaceholderText:"Filter by config ID"}))),s.default.createElement(u.FlexItem,null,s.default.createElement(u.Button,{variant:"secondary",className:"pf-v5-u-mt-md",onClick:L,isLoading:A,isDisabled:A},"Refresh"))),s.default.createElement(E.FormGroupHelperText,{touched:O,error:y}))),s.default.createElement(p.default,{simple:!0},s.default.createElement(u.TextContent,{className:"pf-v5-u-pb-md"},s.default.createElement(u.Text,{component:u.TextVariants.p},"Enter an Operator role prefix.")),s.default.createElement(i.Field,{component:v.default,name:"custom_operator_roles_prefix",label:"Operator roles prefix",type:"text",isRequired:!0,validate:g.default.checkCustomOperatorRolesPrefix,helpText:`Maximum ${g.default.MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH} characters.  Changing the cluster name will regenerate this value.`,extendedHelpText:s.default.createElement(u.TextContent,null,s.default.createElement(u.Text,{component:u.TextVariants.p},"You can specify a custom prefix for the cluster-specific Operator IAM roles to use."," ",s.default.createElement("br",null),"See examples in"," ",s.default.createElement(d.default,{href:h.default.ROSA_AWS_OPERATOR_ROLE_PREFIX},"Defining a custom Operator IAM role prefix"))),showHelpTextOnError:!1,disabled:!l})),s.default.createElement(p.default,{simple:!0},s.default.createElement(u.TextContent,{className:"pf-v5-u-pb-md"},s.default.createElement(u.Text,{component:u.TextVariants.p},"Run the command to create new Operator Roles.")),o?s.default.createElement(s.default.Fragment,null,s.default.createElement(u.ClipboardCopy,{textAriaLabel:"Copyable ROSA create operator-roles",isReadOnly:!0},o),s.default.createElement("div",{className:"pf-v5-c-clipboard-copy"},s.default.createElement("div",{className:"pf-v5-c-clipboard-copy__expandable-content"},o))):s.default.createElement(u.Skeleton,{fontSize:"md"})))}C.propTypes={awsAccountID:o.default.string,getUserOidcConfigurations:o.default.func.isRequired,byoOidcConfigID:o.default.string,operatorRolesCliCommand:o.default.string,onSelect:o.default.func,input:o.default.shape({value:o.default.string,onBlur:o.default.func}),meta:o.default.shape({touched:o.default.bool,error:o.default.string})},t.default=C},51322:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=l(a(39466)),o=l(a(55170)),i=a(72457);t.default=(0,n.connect)((e=>{const{getOCMRoleResponse:t}=e.rosaReducer,a=(0,r.formValueSelector)("CreateCluster"),l="true"===a(e,"hypershift"),n=a(e,"shared_vpc"),s=n.is_selected;let o;return l?o="Hypershift":s&&(o="SharedVPC"),{awsAccountID:a(e,"associated_aws_id"),clusterName:a(e,"name"),rosaCreationMode:a(e,"rosa_roles_provider_creation_mode"),customOperatorRolesPrefix:a(e,"custom_operator_roles_prefix"),byoOidcConfigID:a(e,"byo_oidc_config_id"),installerRoleArn:a(e,"installer_role_arn"),sharedVpcRoleArn:null==n?void 0:n.hosted_zone_role_arn,getOCMRoleResponse:t,forcedByoOidcType:o}}),(e=>({getOCMRole:t=>e((0,i.getOCMRole)(t)),clearGetOcmRoleResponse:()=>e((0,i.clearGetOcmRoleResponse)()),getUserOidcConfigurations:t=>e((0,i.getUserOidcConfigurations)(t))})))((0,s.default)(o.default))},45005:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(45697)),r=l(a(28416)),s=a(9104),o=a(65652),i=a(46786),u=a(85547),d=a(83768),c=a(86896),p=a(69429),m=a(51077),f=a(52758),E=a(95591),g=l(a(15766)),h=l(a(68248)),v=l(a(73269)),b=l(a(92054)),_=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(90181)),S=l(a(10865)),C=l(a(54749)),y=a(55170);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function I(e){let{pending:t,showDNSBaseDomain:a,showAvailability:l,product:n,cloudProviderID:O,isBYOC:I,isMultiAz:R,hasSingleAzQuota:T,hasMultiAzQuota:A,change:P,isWizard:D,isHypershiftSelected:N,clusterPrivacy:L}=e;const w=!A&&p.noQuotaTooltip,M=!T&&p.noQuotaTooltip,k=n===f.normalizedProducts.ROSA;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:6},r.default.createElement(s.Field,{component:b.default,name:"name",label:"Cluster name",type:"text",validate:(0,_.createPessimisticValidator)(_.clusterNameValidation),validation:_.clusterNameValidation,asyncValidation:_.clusterNameAsyncValidation,disabled:t,isRequired:!0,extendedHelpText:c.constants.clusterNameHint,onChange:e=>k&&P("custom_operator_roles_prefix",`${e}-${(0,y.createOperatorRolesHashPrefix)()}`)})),r.default.createElement(o.GridItem,{md:6}),a&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:6},r.default.createElement(s.Field,{component:v.default,name:"dns_base_domain",label:"Base DNS domain",type:"text",validate:_.default.checkBaseDNSDomain,disabled:t,normalize:e=>e.toLowerCase()})),r.default.createElement(o.GridItem,{md:6})),r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:6},r.default.createElement(s.Field,{component:C.default,name:"cluster_version",label:"Version",isRequired:!0,validate:e=>e?void 0:" ",isRosa:k,onChange:e=>{!(0,u.getIncompatibleVersionReason)(i.SupportedFeature.SECURITY_GROUPS,e.raw_id,{day1:!0})||P("securityGroups",(0,d.getDefaultSecurityGroupsSettings)())}})),r.default.createElement(o.GridItem,{md:6})),r.default.createElement(o.GridItem,{md:6},r.default.createElement(o.FormGroup,{label:"Region",isRequired:!0,fieldId:"region",labelIcon:r.default.createElement(h.default,{hint:c.constants.regionHint})},r.default.createElement(s.Field,{component:g.default,name:"region",cloudProviderID:O,disabled:t,isRequired:!0,isMultiAz:R,isBYOC:I,handleCloudRegionChange:()=>{const e=R?3:1,t=[];for(let a=0;a<e;a+=1)t.push((0,E.emptyAWSSubnet)());P("machinePoolsSubnets",t),P("selected_vpc",{id:"",name:""}),"external"===L&&P("cluster_privacy_public_subnet_id","")}}))),r.default.createElement(o.GridItem,{md:6}),l&&(N?r.default.createElement(o.Alert,{isInline:!0,variant:"info",title:"The hosted control plane uses multiple availability zones."}):r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:6},r.default.createElement(o.FormGroup,{label:"Availability",isRequired:!0,isInline:!0,fieldId:"availability-toggle"},r.default.createElement(s.Field,{component:S.default,name:"multi_az",disabled:t,onChange:(e,t)=>{const a="true"===t;P("nodes_compute",(0,m.getNodesCount)(I,a,!0)),P("min_replicas",(0,m.getMinReplicasCount)(I,a,!0,N)),P("max_replicas",(0,m.getMinReplicasCount)(I,a,!0,N)),P("machinePoolsSubnets",a?[(0,E.emptyAWSSubnet)(),(0,E.emptyAWSSubnet)(),(0,E.emptyAWSSubnet)()]:[(0,E.emptyAWSSubnet)()])},options:[{value:"false",label:"Single zone",disabled:!T,tooltipText:M,extendedHelpText:c.constants.availabilityHintSingleZone},{value:"true",label:"Multi-zone",disabled:!A,tooltipText:w,extendedHelpText:c.constants.availabilityHintMultiZone}],defaultValue:T?"false":"true",disableDefaultValueHandling:D}))),r.default.createElement(o.GridItem,{md:6}))))}I.propTypes={pending:n.default.bool,product:n.default.string.isRequired,isMultiAz:n.default.bool.isRequired,showDNSBaseDomain:n.default.bool,showAvailability:n.default.bool,change:n.default.func.isRequired,cloudProviderID:n.default.string.isRequired,isBYOC:n.default.bool.isRequired,hasSingleAzQuota:n.default.bool.isRequired,hasMultiAzQuota:n.default.bool.isRequired,isWizard:n.default.bool,isHypershiftSelected:n.default.bool,clusterPrivacy:n.default.string},t.default=I},56975:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(38416)),s=l(a(28416)),o=l(a(45697)),i=a(65652),u=a(71359),d=a(95591),c=l(a(7749));a(53544);class p extends s.default.Component{constructor(){super(...arguments),(0,r.default)(this,"onChange",(e=>{const{input:{onChange:t},handleCloudRegionChange:a}=this.props;a&&a(),t(e)}))}componentDidMount(){const{input:e,availableRegions:t}=this.props,{value:a}=e,l=t.find((e=>e.id===a));if(!a||a&&!l){const[e]=t;this.onChange(e.id)}}componentDidUpdate(e){var t,a;const{isMultiAz:l,input:n,cloudProviderID:r,cloudProviders:s}=this.props,o=null==s||null===(t=s.providers)||void 0===t||null===(t=t[r])||void 0===t||null===(t=t.regions)||void 0===t?void 0:t[n.value],i=null===(a=null==o?void 0:o.supports_multi_az)||void 0===a||a;!l||e.isMultiAz||i||this.onChange("aws"===r?d.AWS_DEFAULT_REGION:d.GCP_DEFAULT_REGION)}render(){const{input:e,availableRegions:t,cloudProviders:a,disabled:l,isMultiAz:r}=this.props;return a.fulfilled?s.default.createElement(i.FormSelect,(0,n.default)({className:"cloud-region-combo-box","aria-label":"Region",isDisabled:l},e,{onChange:(e,t)=>this.onChange(t)}),t.map((e=>(e=>s.default.createElement(i.FormSelectOption,{key:e.id,value:e.id,label:`${e.id}, ${e.display_name}`,isDisabled:r&&!e.supports_multi_az}))(e)))):a.error?s.default.createElement(c.default,{message:"Error loading region list",response:a}):s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"spinner-fit-container"},s.default.createElement(u.Spinner,null)),s.default.createElement("div",{className:"spinner-loading-text"},"Loading region list..."))}}p.propTypes={cloudProviderID:o.default.string.isRequired,availableRegions:o.default.array.isRequired,cloudProviders:o.default.object.isRequired,input:o.default.object.isRequired,disabled:o.default.bool,isMultiAz:o.default.bool,handleCloudRegionChange:o.default.func},t.default=p},15766:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(27361)),s=a(9104),o=l(a(56975));t.default=(0,n.connect)(((e,t)=>{const a=(0,s.formValueSelector)("CreateCluster"),{cloudProviders:l,features:n}=e,o=(0,r.default)(e,`cloudProviders.providers[${t.cloudProviderID}].regions`,{}),i="true"===a(e,"hypershift"),u=n.HYPERSHIFT_WIZARD_FEATURE;return{cloudProviders:l,availableRegions:Object.values(o).filter((e=>{const{enabled:a,ccs_only:l,supports_hypershift:n}=e;return u&&i?n&&a:(t.isBYOC||!l)&&a}))}}),null)(o.default)},26624:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=a(65652),s=a(65996),o=a(91290),i=a(71359),u=l(a(94184)),d=l(a(45697)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),p=a(69429),m=a(58622),f=a(12812),E=a(64112),g=l(a(7749)),h=l(a(46493));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function b(e){var t,a;let{isRosa:l,rosaMaxOSVersion:d,input:v,isDisabled:b,label:_,meta:{error:S,touched:C},getInstallableVersions:y,getInstallableVersionsResponse:O,selectedClusterVersion:I,hasManagedArnsSelected:R,isHypershiftSelected:T,isOpen:A=!1}=e;const[P,D]=(0,c.useState)(A),[N,L]=(0,c.useState)([]),[w,M]=(0,c.useState)(!1),[k,x]=(0,c.useState)(l||!1),[j]=(0,E.useOCPLifeCycleStatusData)(),F=null==j||null===(t=j[0])||void 0===t?void 0:t.versions,G=null==F?void 0:F.reduce(((e,t)=>(e[t.name]=t.type,e)),{}),U=c.default.useCallback((e=>(0,p.isSupportedMinorVersion)(e.raw_id,d)&&e.rosa_enabled),[d]),V=c.default.useCallback((e=>(0,p.isSupportedMinorVersion)(e.raw_id,d)&&e.hosted_control_plane_enabled),[d]),H=e=>parseFloat(e.raw_id),z=e=>T&&!e.hosted_control_plane_enabled,W=e=>{if(null==e||!e.raw_id)return!1;const t=parseFloat(m.MIN_MANAGED_POLICY_VERSION),a=Number(e.raw_id.split(".")[2]),n=Number(m.MIN_MANAGED_POLICY_VERSION.split(".")[2]),r=R&&(H(e)<t||H(e)===t&&a<n);return l&&!U(e)||r||z(e)};(0,c.useEffect)((()=>{var e;const t="hcp"===(null===(e=O.params)||void 0===e?void 0:e.product);(!O.fulfilled||O.error||t&&!T||!t&&T)&&y(l,T)}),[]),(0,c.useEffect)((()=>{if(O.fulfilled){var e;const t=null!==(e=null==O?void 0:O.versions)&&void 0!==e?e:[],a=t.find((e=>e.raw_id===(null==I?void 0:I.raw_id)));null==I||!I.raw_id||a&&!W(a)||v.onChange(void 0),L(t)}else O.error&&D(!1)}),[O]),(0,c.useEffect)((()=>{if(N.length&&(null==I||!I.raw_id)){const e=N.find((e=>!0===e.default)),t=l&&N.find((e=>U(e))),a=T&&N.find((e=>V(e)));if(l&&!t||T&&!a)return void M(!0);const n=a||t||e||N[0];v.onChange(n)}}),[N,null==I?void 0:I.raw_id,l,d,v,U]);const q=(e,t)=>t?"This version is not compatible with a Hosted control plane":e?"This version is not compatible with the selected ARNs in previous step":"",B=c.default.useMemo((()=>{const e=[],t=[];let a=!1;return N.forEach((l=>{const n=W(l);if(a=a||n,n&&k)return;const r=c.default.createElement(s.SelectOption,{className:"pf-v5-c-dropdown__menu-item",isSelected:(null==I?void 0:I.raw_id)===l.raw_id,value:l.raw_id,formValue:l.raw_id,key:l.id,isDisabled:n,description:q(n,z(l))},`${l.raw_id}`);"Full Support"===(null==G?void 0:G[H(l)])?e.push(r):t.push(r)})),{fullSupport:e,maintenanceSupport:t,hasIncompatibleVersions:a}}),[l,U,null==I?void 0:I.raw_id,G,N,k]);return c.default.createElement(r.FormGroup,(0,n.default)({},v,{label:_,isRequired:!0}),O.error&&c.default.createElement(g.default,{message:"Error getting cluster versions",response:O}),w?c.default.createElement(h.default,{isHypershiftSelected:T}):null,O.pending&&c.default.createElement("div",{className:"spinner-fit-container"},c.default.createElement(i.Spinner,null)),O.fulfilled&&!w&&c.default.createElement(r.Grid,null,c.default.createElement(r.GridItem,null,c.default.createElement(s.Select,{label:_,"aria-label":_,isOpen:P,selections:(null==I?void 0:I.raw_id)||(()=>{const e=N.find((e=>{var t;return(null===(t=v.value)||void 0===t?void 0:t.raw_id)===e.raw_id}));return e?e.raw_id:""})(),onToggle:(e,t)=>{D(t),t&&O.error&&y(l,T)},onSelect:(e,t)=>{D(!1),v.onChange(N.find((e=>e.raw_id===t)))},isDisabled:b,onBlur:e=>e.stopPropagation()},l&&B.hasIncompatibleVersions?c.default.createElement(r.Switch,{className:"pf-v5-u-align-items-center pf-v5-u-mx-md pf-v5-u-mb-sm pf-v5-u-font-size-sm",id:"view-only-compatible-versions","aria-label":"View only compatible versions",key:`compatible-switch-${k}`,label:c.default.createElement(c.default.Fragment,null,c.default.createElement("span",null,"View only compatible versions"),c.default.createElement(r.Popover,{bodyContent:T?"View only versions that are compatible with a Hosted control plane":"View only versions that are compatible with the selected ARNs in previous step",enableFlip:!1},c.default.createElement(r.Button,{variant:"plain",className:"pf-v5-u-p-0 pf-v5-u-ml-md"},c.default.createElement(o.OutlinedQuestionCircleIcon,null)))),hasCheckIcon:!0,isChecked:k,onChange:(e,t)=>{e.preventDefault(),e.stopPropagation(),x(t)}}):c.default.createElement("span",{className:"pf-v5-u-display-none"},""),c.default.createElement(s.SelectGroup,{label:"Full support"},B.fullSupport),c.default.createElement(s.SelectGroup,{label:"Maintenance support",className:(0,u.default)(!(null!==(a=B.maintenanceSupport)&&void 0!==a&&a.length)&&"pf-v5-u-hidden")},B.maintenanceSupport)))),c.default.createElement(f.FormGroupHelperText,{touched:C,error:S}))}b.propTypes={isDisabled:d.default.bool,label:d.default.string,input:d.default.shape({value:d.default.string,onChange:d.default.func}),selectedClusterVersion:d.default.shape({raw_id:d.default.string}),isRosa:d.default.bool,rosaMaxOSVersion:d.default.string,getInstallableVersions:d.default.func.isRequired,getInstallableVersionsResponse:d.default.object.isRequired,initialValue:d.default.string,meta:d.default.shape({touched:d.default.bool,error:d.default.string}),hasManagedArnsSelected:d.default.bool,isHypershiftSelected:d.default.bool,isOpen:d.default.bool},t.default=b},54749:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=l(a(27361)),o=a(70774),i=l(a(26624));t.default=(0,n.connect)((e=>{var t;const{clusterVersions:a}=(0,s.default)(e,"clusters",{}),l=(0,r.formValueSelector)("CreateCluster"),n="true"===l(e,"hypershift"),o=l(e,"installer_role_arn"),i=l(e,"support_role_arn"),u=l(e,"worker_role_arn"),{getAWSAccountRolesARNsResponse:d}=e.rosaReducer;return{hasManagedArnsSelected:null==d||null===(t=d.data)||void 0===t?void 0:t.some((e=>(e.managedPolicies||e.hcpManagedPolicies)&&(e.Installer===o||e.Support===i||e.Worker===u))),isHypershiftSelected:n,rosaMaxOSVersion:l(e,"rosa_max_os_version"),selectedClusterVersion:l(e,"cluster_version"),getInstallableVersionsResponse:a}}),(e=>({getInstallableVersions:(t,a)=>e(o.clustersActions.getInstallableVersions(t,!1,a))})))(i.default)},65750:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=a(69816),o=l(a(45005));t.default=(0,n.connect)(((e,t)=>{const a=(0,r.formValueSelector)("CreateCluster"),{quotaList:l}=e.userProfile.organization,{product:n,billingModel:o,cloudProviderID:i,isBYOC:u}=t;return{clusterPrivacy:a(e,"cluster_privacy"),hasSingleAzQuota:(0,s.availableClustersFromQuota)(l,{product:n,billingModel:o,cloudProviderID:i,isBYOC:u,isMultiAz:!1})>0,hasMultiAzQuota:(0,s.availableClustersFromQuota)(l,{product:n,billingModel:o,cloudProviderID:i,isBYOC:u,isMultiAz:!0})>0}}))(o.default)},65933:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(65652),o=a(9104),i=l(a(59539)),u=a(90181),d=a(12468),c=a(86896),p=a(52758),m=l(a(68248)),f=l(a(58584)),E=l(a(31308)),g=l(a(97298)),h=l(a(84576)),v=l(a(43934)),b=l(a(65750));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function S(e){let{isByoc:t,isMultiAz:a,customerManagedEncryptionSelected:l,selectedRegion:r,cloudProviderID:_,product:S,billingModel:C,change:y,kmsKeyArn:O,etcdKeyArn:I,isEtcdEncryptionSelected:R,isFipsCryptoSelected:T,isHypershiftSelected:A,touch:P,forceTouch:D}=e;const[N,L]=(0,n.useState)(!1),w=S===p.normalizedProducts.ROSA;return n.default.useEffect((()=>{let e=!1;"true"===l&&(0,u.validateAWSKMSKeyARN)(O,r)&&(e=!0,P("CreateCluster","kms_key_arn")),R&&A&&(0,u.validateAWSKMSKeyARN)(I,r)&&(e=!0,P("CreateCluster","etcd_key_arn")),e&&L(!0)}),[l,O,r,D]),n.default.useEffect((()=>{!R&&I&&y("etcd_key_arn","")}),[R,y]),n.default.createElement(s.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h3"},"Cluster details")),n.default.createElement(b.default,{cloudProviderID:_,isBYOC:t,isMultiAz:a,showAvailability:!0,change:y,product:S,billingModel:C,isWizard:!0,isHypershiftSelected:A}),!t&&!w&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.GridItem,{md:6},n.default.createElement(s.FormGroup,{label:"Persistent storage",fieldId:"persistent_storage",labelIcon:n.default.createElement(m.default,{hint:c.constants.persistentStorageHint})},n.default.createElement(o.Field,{name:"persistent_storage",component:f.default,currentValue:null,cloudProviderID:_,billingModel:C,product:S,isBYOC:t,isMultiAZ:a}))),n.default.createElement(s.GridItem,{md:6}),n.default.createElement(s.GridItem,{md:6},n.default.createElement(s.FormGroup,{label:"Load balancers",fieldId:"load_balancers",labelIcon:n.default.createElement(m.default,{hint:c.constants.loadBalancersHint})},n.default.createElement(o.Field,{name:"load_balancers",component:E.default,currentValue:null,cloudProviderID:_,billingModel:C,product:S,isBYOC:t,isMultiAZ:a})))),!A&&n.default.createElement(h.default,{parent:"create",disableUVM:!1,planType:S}),n.default.createElement(s.ExpandableSection,{toggleText:"Advanced Encryption",onToggle:()=>{L(!N)},isExpanded:N},t&&n.default.createElement(g.default,{customerManagedEncryptionSelected:l,selectedRegion:r,cloudProviderID:_,kmsKeyArn:O}),n.default.createElement(v.default,{isRosa:w,isHypershiftSelected:A,isEtcdEncryptionSelected:R,isFipsCryptoSelected:T,etcdKeyArn:I,selectedRegion:r}),!A&&R&&n.default.createElement(s.GridItem,{md:6,className:"pf-v5-u-mt-lg"},n.default.createElement(s.FormGroup,{fieldId:"fips",id:"fipsCrypto",label:"FIPS cryptography"},n.default.createElement(o.Field,{component:i.default,name:"fips",label:"Enable FIPS cryptography",extendedHelpText:"Installs and configures your cluster to use only FIPS validated cryptographic libraries for core components and the node operating system.",isDisabled:(0,d.isRestrictedEnv)()}),n.default.createElement("div",{className:"ocm-c--reduxcheckbox-description"},"Install a cluster that uses FIPS Validated / Modules in Process cryptographic libraries on the x86_64 architecture.")))),n.default.createElement(s.GridItem,{md:6})))}S.propTypes={isByoc:r.default.bool,cloudProviderID:r.default.string,isMultiAz:r.default.bool,customerManagedEncryptionSelected:r.default.string,product:r.default.string,billingModel:r.default.string,selectedRegion:r.default.string,change:r.default.func,kmsKeyArn:r.default.string,etcdKeyArn:r.default.string,isEtcdEncryptionSelected:r.default.bool,isFipsCryptoSelected:r.default.bool,isHypershiftSelected:r.default.bool,touch:r.default.func,forceTouch:r.default.bool},t.default=S},28402:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=l(a(39466)),o=l(a(95591)),i=l(a(65933));t.default=(0,n.connect)(((e,t)=>{const a=(0,r.formValueSelector)("CreateCluster"),l=a(e,"cloud_provider"),n="true"===a(e,"multi_az"),s="true"===a(e,"byoc"),i=a(e,"product"),u=a(e,"billing_model"),d=a(e,"customer_managed_key"),c=a(e,"region"),p=a(e,"kms_key_arn"),m=a(e,"etcd_key_arn"),f=a(e,"etcd_encryption"),E=a(e,"fips"),g=a(e,"machinePoolsSubnets");return{cloudProviderID:l,isMultiAz:n,product:i,billingModel:u,isByoc:s,customerManagedEncryptionSelected:d,selectedRegion:c,kmsKeyArn:p,etcdKeyArn:m,isEtcdEncryptionSelected:f,isFipsCryptoSelected:E,isHypershiftSelected:"true"===a(e,"hypershift"),touch:e=>(0,r.touch)("CreateCluster",...e),initialValues:(0,o.default)({cloudProviderID:l,product:i,isMultiAz:n,isByoc:s,isTrialDefault:t.isTrialDefault,machinePoolsSubnets:g})}}))((0,s.default)(i.default))},49208:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(38416)),s=a(56822),o=a(27707),i=l(a(45697)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=B(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),d=a(87558),c=a(65652),p=a(65996),m=a(70355),f=a(69429),E=a(52758),g=l(a(78913)),h=l(a(15933)),v=a(96106),b=l(a(62656)),_=a(38352),S=a(27849),C=a(58593),y=a(12468),O=a(69008),I=l(a(23778)),R=l(a(78525)),T=l(a(28402)),A=l(a(21265)),P=l(a(55064)),D=l(a(21789)),N=l(a(51940)),L=l(a(69350)),w=l(a(19705)),M=l(a(31611)),k=l(a(2101)),x=l(a(57816)),j=l(a(96343)),F=l(a(81965)),G=l(a(55584)),U=l(a(35038)),V=a(70375),H=l(a(51322)),z=a(63667),W=a(12925),q=l(a(38097));function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(B=function(e){return e?a:t})(e)}function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(51994);class Y extends u.default.Component{constructor(){var e;super(...arguments),e=this,(0,r.default)(this,"state",{stepIdReached:void 0,currentStepId:void 0,accountAndRolesStepId:void 0,validatedSteps:{},forceTouch:!1}),(0,r.default)(this,"onCurrentStepChanged",(e=>{let{id:t}=e;const{closeDrawer:a}=this.props;this.setState({currentStepId:t}),a({skipOnClose:!0})})),(0,r.default)(this,"onNext",((e,t)=>{let{id:a}=e,{prevId:l}=t;const{stepIdReached:n}=this.state;a&&n<a&&this.setState({stepIdReached:a}),this.setState({forceTouch:!1}),this.trackWizardNavigation(m.trackEvents.WizardNext,l)})),(0,r.default)(this,"onGoToStep",(e=>{let{id:t}=e;this.trackWizardNavigation(m.trackEvents.WizardLinkNav,t)})),(0,r.default)(this,"onBack",(e=>{let{id:t}=e;this.trackWizardNavigation(m.trackEvents.WizardBack,t)})),(0,r.default)(this,"canJumpTo",(e=>{if(g.default.fakeOSD)return!0;const{stepIdReached:t,currentStepId:a,accountAndRolesStepId:l,validatedSteps:n}=this.state,{selectedAWSAccountID:r}=this.props,s=Object.entries(n).some((t=>{let[a,l]=t;return!1===l&&a<e}));return!(e>l&&!r)&&(e<=a||e<=t&&!s)})),(0,r.default)(this,"getUserRoleInfo",(()=>{const{getUserRole:e}=this.props;return e()})),(0,r.default)(this,"scrolledToFirstError",(()=>{const{touch:e,formErrors:t}=this.props,{validatedSteps:a,currentStepId:l}=this.state,n=a[l],r=Object.keys(t),s=[];if(r.forEach((e=>{const a=t[e];Array.isArray(a)&&a.forEach(((t,a)=>{t&&Object.keys(t).forEach((t=>{s.push(`${e}[${a}].${t}`)}))}))})),null!=r&&r.length){e(r.concat(s));const t=(0,f.scrollToFirstField)(r);return t&&this.setState({forceTouch:!1}),!n||t}return!1})),(0,r.default)(this,"onBeforeSubmit",(e=>{this.trackWizardNavigation(m.trackEvents.WizardSubmit),this.scrolledToFirstError()||e()})),(0,r.default)(this,"onBeforeNext",(async e=>{const{isAsyncValidating:t,getUserRoleResponse:a,selectedAWSAccountID:l}=this.props,{currentStepId:n,accountAndRolesStepId:r,deferredNext:s}=this.state;if(this.setState({forceTouch:!0}),t)s||this.setState({deferredNext:e});else if(!this.scrolledToFirstError()){if(n===r&&(null==a||!a.fulfilled)){const e=await this.getUserRoleInfo();if(!(0,V.isUserRoleForSelectedAWSAccount)(e.value,l))return}e()}})),(0,r.default)(this,"trackWizardNavigation",(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{track:l}=e.props;l(t,{resourceType:m.ocmResourceType.MOA,customProperties:{step_name:O.stepNameById[a]}})}))}componentDidMount(){const{machineTypes:e,organization:t,cloudProviders:a,getMachineTypes:l,getOrganizationAndQuota:n,getCloudProviders:r,isHypershiftEnabled:s,getInstallableVersionsResponse:o,clearInstallableVersions:i}=this.props;(0,f.shouldRefetchQuota)(t)&&n(),a.fulfilled||a.pending||r(),e.fulfilled||e.pending||l(),o.fulfilled&&i();const u=s?O.stepId.CONTROL_PLANE:O.stepId.ACCOUNTS_AND_ROLES_AS_FIRST_STEP;this.setState({stepIdReached:u,currentStepId:u,accountAndRolesStepId:(0,O.getAccountAndRolesStepId)(s)})}componentDidUpdate(e,t){const{createClusterResponse:a,isErrorModalOpen:l,openModal:n,formValues:r,isValid:s,isAsyncValidating:i,installToVPCSelected:u,configureProxySelected:d}=this.props,{currentStepId:c,deferredNext:p}=this.state;s===e.isValid||i||this.setState((()=>({validatedSteps:Z(Z(Z(Z({},t.validatedSteps),u?{[O.stepId.NETWORKING__VPC_SETTINGS]:void 0}:{}),d?{[O.stepId.NETWORKING__CLUSTER_WIDE_PROXY]:void 0}:{}),{},{[c]:s})}))),!(0,o.isMatch)(e.formValues,r)&&this.setState({stepIdReached:c}),i!==e.isAsyncValidating&&!1===i&&p&&(this.onBeforeNext(p),this.setState({deferredNext:null})),a.error&&!l&&n("osd-create-error")}componentWillUnmount(){const{resetResponse:e,destroyForm:t}=this.props;e(),t()}render(){var e;const{onSubmit:t,cloudProviderID:a,installToVPCSelected:l,createClusterResponse:n,machineTypes:r,organization:o,isErrorModalOpen:i,hasProductQuota:m,history:f,privateLinkSelected:E,configureProxySelected:h,isHypershiftEnabled:v,isHypershiftSelected:b}=this.props,{accountAndRolesStepId:_,deferredNext:S,forceTouch:C,currentStepId:y}=this.state,G=[v&&{id:O.stepId.CONTROL_PLANE,name:O.stepNameById[O.stepId.CONTROL_PLANE],component:u.default.createElement(M.default,null,u.default.createElement(w.default,null)),canJumpTo:this.canJumpTo(O.stepId.CONTROL_PLANE)},{id:_,name:O.stepNameById[_],component:u.default.createElement(M.default,null,u.default.createElement(U.default,{organizationID:null==o||null===(e=o.details)||void 0===e?void 0:e.id,isHypershiftEnabled:v,isHypershiftSelected:b})),canJumpTo:this.canJumpTo(_)},{name:O.stepNameById[O.stepId.CLUSTER_SETTINGS],canJumpTo:this.canJumpTo(O.stepId.CLUSTER_SETTINGS),steps:[{id:O.stepId.CLUSTER_SETTINGS__DETAILS,name:O.stepNameById[O.stepId.CLUSTER_SETTINGS__DETAILS],component:u.default.createElement(M.default,null,u.default.createElement(T.default,{forceTouch:C})),canJumpTo:this.canJumpTo(O.stepId.CLUSTER_SETTINGS__DETAILS)},{id:O.stepId.CLUSTER_SETTINGS__MACHINE_POOL,name:O.stepNameById[O.stepId.CLUSTER_SETTINGS__MACHINE_POOL],component:u.default.createElement(M.default,null,u.default.createElement(A.default,null)),canJumpTo:this.canJumpTo(22)}]},{name:O.stepNameById[O.stepId.NETWORKING],canJumpTo:this.canJumpTo(O.stepId.NETWORKING),steps:[{id:O.stepId.NETWORKING__CONFIGURATION,name:O.stepNameById[O.stepId.NETWORKING__CONFIGURATION],component:u.default.createElement(M.default,null,u.default.createElement(P.default,{cloudProviderID:a,showClusterPrivacy:!0,showVPCCheckbox:!0,showClusterWideProxyCheckbox:!0,privateLinkSelected:E,forcePrivateLink:!0})),canJumpTo:this.canJumpTo(O.stepId.NETWORKING__CONFIGURATION)},l&&!b&&{id:O.stepId.NETWORKING__VPC_SETTINGS,name:O.stepNameById[O.stepId.NETWORKING__VPC_SETTINGS],component:u.default.createElement(M.default,null,u.default.createElement(L.default,{privateLinkSelected:E})),canJumpTo:this.canJumpTo(O.stepId.NETWORKING__VPC_SETTINGS)},h&&{id:O.stepId.NETWORKING__CLUSTER_WIDE_PROXY,name:O.stepNameById[O.stepId.NETWORKING__CLUSTER_WIDE_PROXY],component:u.default.createElement(M.default,null,u.default.createElement(R.default,null)),canJumpTo:this.canJumpTo(O.stepId.NETWORKING__CLUSTER_WIDE_PROXY)},{id:O.stepId.NETWORKING__CIDR_RANGES,name:O.stepNameById[O.stepId.NETWORKING__CIDR_RANGES],component:u.default.createElement(M.default,null,u.default.createElement(I.default,{isROSA:!0})),canJumpTo:this.canJumpTo(O.stepId.NETWORKING__CIDR_RANGES)}].filter(Boolean)},{id:O.stepId.CLUSTER_ROLES_AND_POLICIES,name:O.stepNameById[O.stepId.CLUSTER_ROLES_AND_POLICIES],component:u.default.createElement(M.default,null,u.default.createElement(H.default,null)),canJumpTo:this.canJumpTo(O.stepId.CLUSTER_ROLES_AND_POLICIES)},{id:O.stepId.CLUSTER_UPDATES,name:O.stepNameById[O.stepId.CLUSTER_UPDATES],component:u.default.createElement(M.default,null,u.default.createElement(N.default,null)),canJumpTo:this.canJumpTo(O.stepId.CLUSTER_UPDATES)},{id:O.stepId.REVIEW_AND_CREATE,name:O.stepNameById[O.stepId.REVIEW_AND_CREATE],component:u.default.createElement(M.default,null,u.default.createElement(p.WizardContext.Consumer,null,(e=>{let{goToStepById:t}=e;return n.pending?u.default.createElement(c.Bullseye,null,u.default.createElement(c.Stack,null,u.default.createElement(c.StackItem,null,u.default.createElement(c.Bullseye,null,u.default.createElement(s.Spinner,{size:"xl",isSVG:!0}))),u.default.createElement(c.StackItem,null,u.default.createElement(c.Bullseye,null,"Creating your cluster. Do not refresh this page. This request may take a moment...")))):u.default.createElement(D.default,{clusterRequestParams:{isWizard:!0},goToStepById:t})}))),canJumpTo:this.canJumpTo(O.stepId.REVIEW_AND_CREATE)}].filter(Boolean),V="Create ROSA cluster wizard",z=!o.pending&&o.fulfilled;if(n.fulfilled)return f.block((()=>{})),u.default.createElement(d.Navigate,{replace:!0,to:`/details/s/${n.cluster.subscription.id}`});if(z&&!m)return u.default.createElement(d.Navigate,{replace:!0,to:"/create"});const B=[{data:r,name:"Machine types"},{data:o,name:"Organization & Quota"}],$=B.some((e=>e.data.pending)),Z=u.default.createElement(x.default,{title:"Create a ROSA Cluster",breadcrumbs:u.default.createElement(k.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Set up ROSA",path:"/create/rosa/getstarted"},{label:"Create a ROSA Cluster"}]})});return $||!o.fulfilled&&!o.error?u.default.createElement(u.default.Fragment,null,Z,u.default.createElement(c.PageSection,null,u.default.createElement(s.Spinner,{centered:!0}))):B.some((e=>e.data.error))?u.default.createElement(c.PageSection,null,u.default.createElement(j.default,{errors:B.filter((e=>e.data.error)).map((e=>({key:e.name,message:`Error while loading required form data (${e.name})`,response:e.data})))})):u.default.createElement(u.default.Fragment,null,Z,u.default.createElement(c.PageSection,null,g.default.fakeOSD&&u.default.createElement(c.Banner,{variant:"gold"},"On submit, a fake ROSA cluster will be created."),u.default.createElement("div",{className:"ocm-page pf-v5-u-display-flex"},i&&u.default.createElement(F.default,null),u.default.createElement(p.Wizard,{className:"rosa-wizard pf-v5-u-flex-1",navAriaLabel:`${V} steps`,mainAriaLabel:`${V} content`,steps:G,isNavExpandable:!0,onNext:this.onNext,onBack:this.onBack,onGoToStep:this.onGoToStep,onCurrentStepChanged:this.onCurrentStepChanged,onClose:()=>f.push("/"),footer:u.default.createElement(q.default,{firstStepId:G[0].id,onSubmit:t,onBeforeNext:this.onBeforeNext,onBeforeSubmit:this.onBeforeSubmit,isNextDisabled:!!S,isHypershiftSelected:b,currentStepId:y,isSubmitting:n.pending})}),g.default.fakeOSD&&u.default.createElement(W.ValuesPanel,null))))}}function K(e){(0,b.default)();const t=(0,v.useFeatureGate)(_.HYPERSHIFT_WIZARD_FEATURE)&&!(0,y.isRestrictedEnv)(),[a,l]=(0,u.useState)(!1),r=(0,u.useMemo)((()=>({forceLeaveWizard:a,setForceLeaveWizard:l})),[a,l]);return u.default.createElement(z.ROSAWizardContext.Provider,{value:r},u.default.createElement(S.AppPage,{title:"Create OpenShift ROSA Cluster"},u.default.createElement(C.AppDrawerContext.Consumer,null,(a=>{let{closeDrawer:l}=a;return u.default.createElement(Y,(0,n.default)({},e,{closeDrawer:l,isHypershiftEnabled:t}))})),u.default.createElement(G.default,{product:E.normalizedProducts.ROSA,forceLeaveWizard:a})))}const Q=i.default.shape({fulfilled:i.default.bool,error:i.default.bool,pending:i.default.bool});Y.propTypes={isValid:i.default.bool,isAsyncValidating:i.default.bool,cloudProviderID:i.default.string,installToVPCSelected:i.default.bool,privateLinkSelected:i.default.bool,configureProxySelected:i.default.bool,isErrorModalOpen:i.default.bool,createClusterResponse:i.default.shape({fulfilled:i.default.bool,error:i.default.bool,pending:i.default.bool,cluster:i.default.shape({subscription:i.default.shape({id:i.default.string})})}),machineTypes:Q,organization:i.default.shape({fulfilled:i.default.bool,error:i.default.bool,pending:i.default.bool,details:{id:i.default.string}}),cloudProviders:Q,getMachineTypes:i.default.func,getOrganizationAndQuota:i.default.func,getUserRole:i.default.func,getCloudProviders:i.default.func,resetResponse:i.default.func,destroyForm:i.default.func,openModal:i.default.func,onSubmit:i.default.func,touch:i.default.func,formErrors:i.default.object,getUserRoleResponse:i.default.object,selectedAWSAccountID:i.default.string,formValues:i.default.object,hasProductQuota:i.default.bool,history:i.default.shape({push:i.default.func.isRequired,block:i.default.func}).isRequired,closeDrawer:i.default.func},K.propTypes=Z({},Y.propTypes),t.default=(0,h.default)(K)},38097:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(66338),o=a(9104),i=a(65652),u=a(65996),d=a(69008);const c=e=>{let{firstStepId:t,onBeforeNext:a,onBeforeSubmit:l,onSubmit:r,isHypershiftSelected:c,isNextDisabled:p,currentStepId:m,isSubmitting:f=!1}=e;const E=(0,s.useSelector)((0,o.isAsyncValidating)("CreateCluster")),g=(0,s.useSelector)((e=>({accountIDsLoading:e.rosaReducer.getAWSAccountIDsResponse.pending||!1,accountARNsLoading:e.rosaReducer.getAWSAccountRolesARNsResponse.pending||!1,userRoleLoading:e.rosaReducer.getUserRoleResponse.pending||!1,oCMRoleLoading:e.rosaReducer.getOCMRoleResponse.pending||!1,vpcsLoading:e.ccsInquiries.vpcs.pending||!1}))),h=g.vpcsLoading&&m===(e=>e?d.stepId.CLUSTER_SETTINGS__MACHINE_POOL:d.stepId.NETWORKING__VPC_SETTINGS)(c),v=g.accountIDsLoading||g.accountARNsLoading||g.userRoleLoading||g.oCMRoleLoading||h;return f?null:n.default.createElement(u.WizardFooter,null,n.default.createElement(u.WizardContext.Consumer,null,(e=>{let{activeStep:s,onNext:o,onBack:u,onClose:c}=e;return n.default.createElement(n.default.Fragment,null,s.id===d.stepId.REVIEW_AND_CREATE?n.default.createElement(i.Button,{variant:"primary",type:"submit","data-testid":"create-cluster-button",onClick:()=>l(r)},"Create cluster"):n.default.createElement(i.Button,{variant:"primary",type:"submit","data-testid":"wizard-next-button",onClick:()=>a(o),isLoading:(0,d.hasLoadingState)(s.id)&&(E||v),isDisabled:(0,d.hasLoadingState)(s.id)&&(p||v)},"Next"),n.default.createElement(i.Button,{variant:"secondary","data-testid":"wizard-back-button",onClick:u,isDisabled:s.id===t},"Back"),n.default.createElement(i.Button,{variant:"link","data-testid":"wizard-cancel-button",onClick:c},"Cancel"))})))};c.propTypes={firstStepId:r.default.string.isRequired,onBeforeNext:r.default.func.isRequired,onBeforeSubmit:r.default.func.isRequired,onSubmit:r.default.func.isRequired,isHypershiftSelected:r.default.bool,isNextDisabled:r.default.bool,currentStepId:r.default.string,isSubmitting:r.default.bool},t.default=c},76488:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(19561);const i=e=>{let t,a,{formValues:l,isWizard:r,cloudProviderID:i,product:u}=e;try{t=(0,o.createClusterRequest)({isWizard:r,cloudProviderID:i,product:u},l)}catch(e){t=`error computing cluster request: ${e}`}try{a=(0,o.upgradeScheduleRequest)(l),a||(a="Manual upgrade strategy, no request to be made.")}catch(e){a=`error computing upgrade request: ${e}`}return n.default.createElement(s.GridItem,null,n.default.createElement(s.Banner,{variant:"blue"},n.default.createElement(s.ExpandableSection,{toggleText:"Debug: cluster request to be sent"},n.default.createElement("pre",null,JSON.stringify(t,null,2))),n.default.createElement(s.ExpandableSection,{toggleText:"Debug: upgrade schedule request to be sent"},n.default.createElement("pre",null,JSON.stringify(a,null,2)))))};i.propTypes={formValues:r.default.object.isRequired,isWizard:r.default.bool,cloudProviderID:r.default.string,product:r.default.string},t.default=i},45164:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=l(a(76488));t.default=(0,n.connect)((e=>({formValues:(0,r.getFormValues)("CreateCluster")(e)})))(s.default)},90873:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(52758),i=l(a(86954)),u=l(a(69617)),d=l(a(3143));function c(e){let{isByoc:t,isMultiAz:a,machineType:l,cloudProviderID:r,product:o,canAutoScale:c,autoscalingEnabled:p,autoScaleMinNodesValue:m,autoScaleMaxNodesValue:f,openEditClusterAutoScalingModal:E,change:g,billingModel:h,minNodesRequired:v,nodeIncrement:b,selectedVPC:_,clusterVersionRawId:S,imds:C,poolNumber:y,isHypershift:O,maxWorkerVolumeSizeGiB:I,hasNodeLabels:R}=e;return n.default.createElement(s.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(u.default,{isHypershiftSelected:O}),O&&n.default.createElement(d.default,{selectedVPC:_}),n.default.createElement(i.default,{isBYOC:t,isMultiAz:a,machineType:l,cloudProviderID:r,product:o,canAutoScale:c,autoscalingEnabled:p,change:g,autoScaleMinNodesValue:m,autoScaleMaxNodesValue:f,billingModel:h,minNodesRequired:v,nodeIncrement:b,clusterVersionRawId:S,imds:C,poolNumber:y,maxWorkerVolumeSizeGiB:I,isHypershift:O,openEditClusterAutoScalingModal:E,hasNodeLabels:R})))}c.propTypes={isByoc:r.default.bool.isRequired,isMultiAz:r.default.bool.isRequired,machineType:r.default.string.isRequired,cloudProviderID:r.default.string.isRequired,selectedVPC:r.default.shape({name:r.default.string,id:r.default.string}).isRequired,product:r.default.oneOf(Object.keys(o.normalizedProducts)).isRequired,billingModel:r.default.oneOf(Object.values(o.billingModels)),canAutoScale:r.default.bool,autoscalingEnabled:r.default.bool,change:r.default.func.isRequired,autoScaleMinNodesValue:r.default.string,autoScaleMaxNodesValue:r.default.string,openEditClusterAutoScalingModal:r.default.func,minNodesRequired:r.default.number,nodeIncrement:r.default.number,clusterVersionRawId:r.default.string.isRequired,imds:r.default.string,poolNumber:r.default.number,isHypershift:r.default.bool,maxWorkerVolumeSizeGiB:r.default.number.isRequired,hasNodeLabels:r.default.bool},t.default=c},69617:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652);function o(){return n.default.createElement(s.Grid,null,n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h3"},"Machine pools")),n.default.createElement(s.GridItem,null,n.default.createElement(s.Text,{component:"p"},"Create machine pools and specify the private subnet for each machine pool. To make your cluster highly available, add machine pools on different availability zones. Additional machine pools can be created after cluster creation.")))}function i(){return n.default.createElement(s.Grid,null,n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h3"},"Default machine pool")),n.default.createElement(s.GridItem,null,n.default.createElement(s.Text,{component:"p"},"Select a compute node instance type and count for your default machine pool."),n.default.createElement(s.Text,{component:"p"},"After cluster creation, your selected default machine pool instance type is permanent.")))}function u(e){let{isHypershiftSelected:t}=e;return t?n.default.createElement(o,null):n.default.createElement(i,null)}u.propTypes={isHypershiftSelected:r.default.bool.isRequired},t.default=u},21265:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=a(12146),o=a(77589),i=a(7046),u=l(a(76490)),d=l(a(39466)),c=a(23343),p=l(a(90873)),m=l(a(95591));t.default=(0,n.connect)(((e,t)=>{var a,l;const n=(0,r.formValueSelector)("CreateCluster"),i=n(e,"cloud_provider"),u="true"===n(e,"multi_az"),d="true"===n(e,"byoc"),p=n(e,"product"),f=n(e,"billing_model"),E=n(e,"machine_type"),g="true"===n(e,"hypershift"),h=null!==(a=n(e,"selected_vpc"))&&void 0!==a?a:{id:"",name:""},v=n(e,"cluster_version.raw_id"),b=n(e,"imds"),_=n(e,"machinePoolsSubnets"),S=(0,o.getWorkerNodeVolumeSizeMaxGiB)(v);return{cloudProviderID:i,isMultiAz:u,product:p,billingModel:f,isByoc:d,machineType:E,isHypershift:g,selectedVPC:h,imds:b,clusterVersionRawId:v,minNodesRequired:(0,s.getMinNodesRequired)(g,{numMachinePools:null==_?void 0:_.length},{isDefaultMachinePool:!0,isByoc:d,isMultiAz:u}),nodeIncrement:g?(0,s.getNodeIncrementHypershift)(null==_?void 0:_.length):(0,s.getNodeIncrement)(u),isHypershiftCluster:g,maxWorkerVolumeSizeGiB:S,canAutoScale:(0,c.canAutoScaleOnCreateSelector)(null===(l=e.userProfile.organization)||void 0===l?void 0:l.details,p),autoscalingEnabled:!!n(e,"autoscalingEnabled"),autoScaleMinNodesValue:n(e,"min_replicas"),autoScaleMaxNodesValue:n(e,"max_replicas"),hasNodeLabels:n(e,"node_labels")[0].key,initialValues:(0,m.default)({cloudProviderID:i,product:p,isMultiAz:u,isByoc:d,isTrialDefault:t.isTrialDefault,isHypershiftSelected:g,machinePoolsSubnets:_}),poolNumber:null==_?void 0:_.length}}),(e=>({openEditClusterAutoScalingModal:()=>e((0,i.openModal)(u.default.EDIT_CLUSTER_AUTOSCALING_V1))})))((0,d.default)(p.default))},2521:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(9104),i=a(52758),u=a(90181),d=l(a(69740)),c=a(70355),p=a(12468),m=a(77589),f=a(72132),E=a(2453),g=a(83768),h=a(86896),v=l(a(42517)),b=a(18483),_=a(13539),S=a(79687),C=l(a(10865)),y=l(a(91885));function O(e){const{change:t,privateClusterSelected:a,showClusterPrivacy:l,showVPCCheckbox:r,showClusterWideProxyCheckbox:O,cloudProviderID:I,privateLinkSelected:R,forcePrivateLink:T,configureProxySelected:A,isByoc:P,product:D,formValues:N,isHypershiftSelected:L,clusterVersionRawId:w,applicationIngress:M}=e,{OSD:k,OSDTrial:x}=i.normalizedProducts,j=P&&[k,x].includes(D),F=n.default.useRef(),G=O||j,U=P&&!L,V=(0,m.canConfigureDayOneManagedIngress)(w),H=(0,f.isExactMajorMinor)(w,4,13),z=(0,d.default)(),W=D===i.normalizedProducts.ROSA?c.ocmResourceType.MOA:c.ocmResourceType.OSD,q=(e,t)=>z(e,{resourceType:W,customProperties:{checked:t}});T&&a&&!R&&(t("install_to_vpc",!0),t("use_privatelink",!0));const B=R&&a,$=n.default.createElement(o.Field,{component:S.ReduxCheckbox,name:"install_to_vpc",label:"Install into an existing VPC",onChange:(e,a)=>{t("install_to_vpc",a),a||(N.shared_vpc.is_selected&&t("shared_vpc",{is_allowed:N.shared_vpc.is_allowed,is_selected:!1,base_dns_domain:"",hosted_zone_id:"",hosted_zone_role_arn:""}),N.securityGroups&&t("securityGroups",(0,g.getDefaultSecurityGroupsSettings)())),q(c.trackEvents.InstallIntoVPC,a)},isDisabled:B||A}),Z=n.default.createElement(o.Field,{component:S.ReduxCheckbox,name:"configure_proxy",label:"Configure a cluster-wide proxy",onChange:(e,a)=>{q(c.trackEvents.ConfigureClusterWideProxy,a),t("configure_proxy",a),a&&!N.install_to_vpc&&(t("install_to_vpc",!0),q(c.trackEvents.InstallIntoVPC,a))},helpText:n.default.createElement("div",{className:"ocm-c--reduxcheckbox-description"},h.constants.clusterProxyHint)});return n.default.createElement(s.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h3"},"Networking configuration")),n.default.createElement(s.GridItem,null,n.default.createElement(s.Text,null,"Configure network access for your cluster.")),l&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Cluster privacy")),n.default.createElement(s.GridItem,null,n.default.createElement(s.Text,null,"Install your cluster with all public or private API endpoints and application routes."," ",L&&"You can customize these options after installation.")),n.default.createElement(o.Field,{component:C.default,isDisabled:(0,p.isRestrictedEnv)(),name:"cluster_privacy",ariaLabel:"Cluster privacy",onChange:(e,a)=>{const{cluster_privacy_public_subnet_id:l,cluster_privacy:n}=N;"external"===a?(t("use_privatelink",!1),L||N.machinePoolsSubnets.every((e=>!e.privateSubnetId&&!e.publicSubnetId&&!e.availabilityZone))&&(t("install_to_vpc",!1),N.securityGroups&&t("securityGroups",(0,g.getDefaultSecurityGroupsSettings)())),F.current&&"internal"===n&&t("cluster_privacy_public_subnet_id",F.current)):(F.current=l,t("cluster_privacy_public_subnet_id",""))},options:[{value:"external",ariaLabel:"Public",label:n.default.createElement(n.default.Fragment,null,"Public",n.default.createElement("div",{className:"ocm-c--reduxradiobutton-description"},"Access Kubernetes API endpoint and application routes from the internet.")),extraField:L&&!a&&n.default.createElement(o.Field,{component:b.SubnetSelectField,name:"cluster_privacy_public_subnet_id",label:"Public subnet name",className:"pf-v5-u-mt-md pf-v5-u-ml-lg",isRequired:!0,validate:u.validateRequiredPublicSubnetId,withAutoSelect:!1,selectedVPC:N.selected_vpc,privacy:"public",allowedAZs:(0,E.getSelectedAvailabilityZones)(N.selected_vpc,N.machinePoolsSubnets)})},{value:"internal",ariaLabel:"Private",label:n.default.createElement(n.default.Fragment,null,"Private",n.default.createElement("div",{className:"ocm-c--reduxradiobutton-description"},"Access Kubernetes API endpoint and application routes from direct private connections only."))}],disableDefaultValueHandling:!0}),a&&n.default.createElement(s.GridItem,null,n.default.createElement(s.Alert,{variant:"warning",isInline:!0,title:"You will not be able to access your cluster until you edit network settings in your cloud provider."},"aws"===I&&n.default.createElement(v.default,{href:y.default.OSD_AWS_PRIVATE_CONNECTIONS},"Learn more about configuring network settings")))),L&&n.default.createElement(s.GridItem,null,Z),r&&!L&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Virtual Private Cloud (VPC)")),n.default.createElement(s.GridItem,null,n.default.createElement(s.Text,null,"By default, a new VPC will be created for your cluster. Alternatively, you may opt to install to an existing VPC below.")),n.default.createElement(s.GridItem,null,n.default.createElement(s.FormGroup,{fieldId:"install-to-vpc"},a?n.default.createElement(s.Tooltip,{position:"top-start",enableFlip:!0,content:n.default.createElement("p",null,"Private clusters must be installed into an existing VPC and have PrivateLink enabled.")},$):$,n.default.createElement(s.FormFieldGroup,null,a&&"aws"===I&&n.default.createElement(s.FormGroup,null,n.default.createElement(o.Field,{component:S.ReduxCheckbox,name:"use_privatelink",label:"Use a PrivateLink",onChange:(e,a)=>{a&&t("install_to_vpc",!0)},isDisabled:T&&a,helpText:n.default.createElement("div",{className:"ocm-c--reduxcheckbox-description"},h.constants.privateLinkHint)})),G&&n.default.createElement(s.FormGroup,null,Z))))),U&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h4",size:"xl"},"Application ingress settings"),n.default.createElement(s.Text,{className:"pf-v5-u-mt-sm"},"Ingress is configured by default."," ",V?"Customize settings if needed.":"It can be customized for 4.14 clusters or newer.",H&&n.default.createElement(n.default.Fragment,null," ","For 4.13 clusters, refer to"," ",n.default.createElement(v.default,{href:y.default.MANAGED_INGRESS_KNOWLEDGE_BASE},"this knowledge base article"),"."))),V&&n.default.createElement(o.Field,{component:C.default,name:"applicationIngress",ariaLabel:"Use application ingress defaults",isDisabled:!V,disableDefaultValueHandling:!0,options:[{value:"default",ariaLabel:"Default settings",label:"Default settings"},{value:"custom",ariaLabel:"Custom settings",label:"Custom settings",extraField:"default"!==M&&n.default.createElement(_.DefaultIngressFields,{hasSufficientIngressEditVersion:!0,className:"pf-v5-u-mt-md pf-v5-u-ml-lg",isDay2:!1,canShowLoadBalancer:!1})}]}))))}O.propTypes={change:r.default.func.isRequired,privateClusterSelected:r.default.bool,cloudProviderID:r.default.string,showClusterPrivacy:r.default.bool,showVPCCheckbox:r.default.bool,showClusterWideProxyCheckbox:r.default.bool,privateLinkSelected:r.default.bool,forcePrivateLink:r.default.bool,configureProxySelected:r.default.bool,isByoc:r.default.bool,product:r.default.string,formValues:r.default.object,isHypershiftSelected:r.default.bool,clusterVersionRawId:r.default.string.isRequired,applicationIngress:r.default.string},t.default=O},55064:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=a(7046),o=l(a(39466)),i=l(a(95591)),u=l(a(2521));t.default=(0,n.connect)(((e,t)=>{const a=(0,r.formValueSelector)("CreateCluster"),l=a(e,"cloud_provider"),n=a(e,"product"),s="true"===a(e,"byoc"),o="true"===a(e,"multi_az"),u="internal"===a(e,"cluster_privacy"),d=a(e,"region"),c=(0,r.getFormValues)("CreateCluster")(e),p="true"===a(e,"hypershift"),m=a(e,"applicationIngress"),f=a(e,"machinePoolsSubnets");return{cloudProviderID:l,isMultiAz:o,privateClusterSelected:u,configureProxySelected:a(e,"configure_proxy"),selectedRegion:d,clusterVersionRawId:a(e,"cluster_version.raw_id"),product:n,isByoc:s,formValues:c,isHypershiftSelected:p,applicationIngress:m,initialValues:(0,i.default)({cloudProviderID:l,product:n,isMultiAz:o,isByoc:s,isTrialDefault:t.isTrialDefault,isHypershiftSelected:p,machinePoolsSubnets:f})}}),(e=>({openModal:t=>e((0,s.openModal)(t))})))((0,o.default)(u.default))},88491:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=C(a(28416)),r=l(a(45697)),s=l(a(41609)),o=a(65652),i=l(a(78913)),u=a(38352),d=a(52758),c=a(83768),p=a(70375),m=a(10219),f=a(69008),E=a(96106),g=l(a(79)),h=a(77589),v=l(a(45164)),b=C(a(49536)),_=l(a(20491));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}a(44125);const y=e=>{var t,a,l,r;let{change:S,clusterRequestParams:C,formValues:y,canAutoScale:O,autoscalingEnabled:I,installToVPCSelected:R,configureProxySelected:T,getUserRole:A,getOCMRole:P,getUserRoleResponse:D,getOCMRoleResponse:N,clearGetUserRoleResponse:L,clearGetOcmRoleResponse:w,goToStepById:M,isHypershiftSelected:k}=e;const x="true"===y.byoc,j="aws"===y.cloud_provider,F="gcp"===y.cloud_provider,G=y.product===d.normalizedProducts.ROSA,U=k&&!!y.etcd_key_arn,V=x&&y.kms_key_arn,H=G||x,z=H&&y.install_to_vpc&&j,W=null===(t=y.cluster_version)||void 0===t?void 0:t.raw_id,q=x&&(0,c.hasSelectedSecurityGroups)(y.securityGroups),B=[...G?[]:["cloud_provider"],"name","cluster_version","region","multi_az",...x||G?[]:["persistent_storage"],...!x&&G?["load_balancers"]:[],...x&&j&&!G?["disable_scp_checks"]:[],...k?[]:["enable_user_workload_monitoring"],...x?["customer_managed_key"]:[],...V?["kms_key_arn"]:[],"etcd_encryption",...k?[]:["fips"],...U?["etcd_key_arn"]:[]],[$,Z]=(0,n.useState)(""),[Y,K]=(0,n.useState)(""),Q=(0,E.useFeatureGate)(u.HYPERSHIFT_WIZARD_FEATURE),J=(0,E.useFeatureGate)(u.HCP_AWS_BILLING_SHOW);(0,n.useEffect)((()=>{L(),w(),S("detected_ocm_and_user_roles",!1)}),[]),(0,n.useEffect)((()=>{if(G){if(D.fulfilled){const e=(0,p.getUserRoleForSelectedAWSAccount)(D.data,y.associated_aws_id);Z(null==e?void 0:e.sts_user)}D.fulfilled||D.pending||D.error||A()}}),[D]),(0,n.useEffect)((()=>{var e;G&&(N.fulfilled&&K(null===(e=N.data)||void 0===e?void 0:e.arn),N.fulfilled||N.pending||N.error||P(y.associated_aws_id))}),[N]);const X=(null==D?void 0:D.error)||!$||(null==N?void 0:N.error)||!Y;S("detected_ocm_and_user_roles",!X);const ee=e=>{let t=e;return"CLUSTER_SETTINGS"===e&&(t=G?"CLUSTER_SETTINGS__DETAILS":"CLUSTER_SETTINGS__CLOUD_PROVIDER"),G?f.stepId[t]:m.stepId[t]},te=e=>G?f.stepNameById[f.stepId[e]]:m.stepNameById[m.stepId[e]];let ae="ACCOUNTS_AND_ROLES";return G&&(ae=Q?"ACCOUNTS_AND_ROLES_AS_SECOND_STEP":"ACCOUNTS_AND_ROLES_AS_FIRST_STEP"),n.default.createElement("div",{className:"ocm-create-osd-review-screen"},n.default.createElement(o.Title,{headingLevel:"h2",className:"pf-v5-u-pb-md"},"Review your ",G?"ROSA":"dedicated"," cluster"),G&&n.default.createElement(n.default.Fragment,null,n.default.createElement(g.default,{name:"detected_ocm_and_user_roles"}),Q&&n.default.createElement(b.default,{title:te("CONTROL_PLANE"),onGoToStep:()=>M(ee("CONTROL_PLANE"))},(0,b.ReviewItem)({name:"hypershift",formValues:y})),n.default.createElement(b.default,{title:te(ae),onGoToStep:()=>M(ee(ae)),initiallyExpanded:X},(0,b.ReviewItem)({name:"associated_aws_id",formValues:y}),k&&J&&(0,b.ReviewItem)({name:"billing_account_id",formValues:y}),(0,_.default)({name:"ocm-role",getRoleResponse:N,content:Y}),(0,_.default)({name:"user-role",getRoleResponse:D,content:$}),(0,b.ReviewItem)({name:"installer_role_arn",formValues:y}),(0,b.ReviewItem)({name:"support_role_arn",formValues:y}),!k&&(0,b.ReviewItem)({name:"control_plane_role_arn",formValues:y}),(0,b.ReviewItem)({name:"worker_role_arn",formValues:y}))),!G&&n.default.createElement(b.default,{title:te("BILLING_MODEL"),onGoToStep:()=>M(ee("BILLING_MODEL"))},(0,b.ReviewItem)({name:"billing_model",formValues:y}),(0,b.ReviewItem)({name:"byoc",formValues:y})),n.default.createElement(b.default,{title:te("CLUSTER_SETTINGS"),onGoToStep:()=>M(ee("CLUSTER_SETTINGS"))},B.map((e=>(0,b.ReviewItem)({name:e,formValues:y})))),n.default.createElement(b.default,{title:"Default machine pool",onGoToStep:()=>M(ee("CLUSTER_SETTINGS__MACHINE_POOL"))},(0,b.ReviewItem)({name:"machine_type",formValues:y}),O&&(0,b.ReviewItem)({name:"autoscalingEnabled",formValues:y}),I?(0,b.ReviewItem)({name:"min_replicas",formValues:y}):(0,b.ReviewItem)({name:"nodes_compute",formValues:y}),H&&(0,b.ReviewItem)({name:k?"selected_vpc":"install_to_vpc",formValues:y}),z&&k&&(0,b.ReviewItem)({name:"aws_hosted_machine_pools",formValues:y}),!(1===(null===(a=y.node_labels)||void 0===a?void 0:a.length)&&(0,s.default)(null===(l=y.node_labels)||void 0===l?void 0:l[0]))&&(0,b.ReviewItem)({name:"node_labels",formValues:y}),j&&!k&&x&&(0,h.canSelectImds)(W)&&(0,b.ReviewItem)({name:"imds",formValues:y}),y.worker_volume_size_gib&&(0,b.ReviewItem)({name:"worker_volume_size_gib",formValues:y})),n.default.createElement(b.default,{title:te("NETWORKING"),onGoToStep:()=>M(ee("NETWORKING__"+(j?"CONFIGURATION":"CIDR_RANGES")))},(0,b.ReviewItem)({name:"cluster_privacy",formValues:y}),y.cluster_privacy_public_subnet_id&&k&&(0,b.ReviewItem)({name:"cluster_privacy_public_subnet_id",formValues:y}),H&&"internal"===y.cluster_privacy&&y.install_to_vpc&&(0,b.ReviewItem)({name:"use_privatelink",formValues:y}),z&&!k&&(0,b.ReviewItem)({name:"aws_standalone_vpc",formValues:y}),z&&!k&&q&&(0,b.ReviewItem)({name:"securityGroups",formValues:y}),(null===(r=y.shared_vpc)||void 0===r?void 0:r.is_selected)&&!k&&(0,b.ReviewItem)({name:"shared_vpc",formValues:y}),H&&y.install_to_vpc&&F&&(0,b.ReviewItem)({name:"gpc_vpc",formValues:y}),R&&(0,b.ReviewItem)({name:"configure_proxy",formValues:y}),R&&T&&(0,b.ReviewItem)({name:"http_proxy_url",formValues:y}),R&&T&&(0,b.ReviewItem)({name:"https_proxy_url",formValues:y}),R&&T&&(0,b.ReviewItem)({name:"no_proxy_domains",formValues:y}),R&&T&&(0,b.ReviewItem)({name:"additional_trust_bundle",formValues:y}),(0,b.ReviewItem)({name:"network_machine_cidr",formValues:y}),(0,b.ReviewItem)({name:"network_service_cidr",formValues:y}),(0,b.ReviewItem)({name:"network_pod_cidr",formValues:y}),(0,b.ReviewItem)({name:"network_host_prefix",formValues:y}),j&&!k&&x&&(0,b.ReviewItem)({name:"applicationIngress",formValues:y}),"default"!==y.applicationIngress&&j&&!k&&x&&n.default.createElement(n.default.Fragment,null,(0,b.ReviewItem)({name:"defaultRouterSelectors",formValues:y}),(0,b.ReviewItem)({name:"defaultRouterExcludedNamespacesFlag",formValues:y}),(0,b.ReviewItem)({name:"isDefaultRouterWildcardPolicyAllowed",formValues:y}),(0,b.ReviewItem)({name:"isDefaultRouterNamespaceOwnershipPolicyStrict",formValues:y}))),G&&n.default.createElement(b.default,{title:te("CLUSTER_ROLES_AND_POLICIES"),onGoToStep:()=>M(ee("CLUSTER_ROLES_AND_POLICIES"))},!k&&(0,b.ReviewItem)({name:"rosa_roles_provider_creation_mode",formValues:y}),y.byo_oidc_config_id&&n.default.createElement(n.default.Fragment,null,(0,b.ReviewItem)({name:"byo_oidc_config_id_managed",formValues:y}),(0,b.ReviewItem)({name:"byo_oidc_config_id",formValues:y})),(0,b.ReviewItem)({name:"custom_operator_roles_prefix",formValues:y})),n.default.createElement(b.default,{title:"Updates",onGoToStep:()=>M(ee("CLUSTER_UPDATES"))},(0,b.ReviewItem)({name:"upgrade_policy",formValues:y}),"automatic"===y.upgrade_policy&&(0,b.ReviewItem)({name:"automatic_upgrade_schedule",formValues:y}),!k&&(0,b.ReviewItem)({name:"node_drain_grace_period",formValues:y})),i.default.fakeOSD&&n.default.createElement(v.default,C))};y.propTypes={change:r.default.func,clusterRequestParams:r.default.object.isRequired,formValues:r.default.objectOf(r.default.oneOfType([r.default.string,r.default.number,r.default.bool])),canAutoScale:r.default.bool,autoscalingEnabled:r.default.bool,installToVPCSelected:r.default.bool,configureProxySelected:r.default.bool,getUserRole:r.default.func.isRequired,getOCMRole:r.default.func.isRequired,getOCMRoleResponse:r.default.func.isRequired,getUserRoleResponse:r.default.object.isRequired,clearGetUserRoleResponse:r.default.func.isRequired,clearGetOcmRoleResponse:r.default.func.isRequired,goToStepById:r.default.func.isRequired,isHypershiftSelected:r.default.bool},t.default=y},20491:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(43047),i=a(8342),u=l(a(72938));const d=e=>{let{name:t,getRoleResponse:a,content:l}=e;return n.default.createElement(s.DescriptionListGroup,{key:t},n.default.createElement(s.DescriptionListTerm,null,t," ARN"),n.default.createElement(s.DescriptionListDescription,null,(null==a?void 0:a.pending)&&n.default.createElement("div",{className:"spinner-fit-container"},n.default.createElement(s.Spinner,{size:"md"})),((null==a?void 0:a.error)||!l&&(null==a?void 0:a.fulfilled))&&n.default.createElement(u.default,{isErrorHint:!0,title:`${t} could not be detected`,bodyContent:n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:s.TextVariants.p},n.default.createElement("span",{className:"danger"},n.default.createElement(o.ExclamationCircleIcon,{className:"status-icon danger"}),n.default.createElement("strong",null,`${t} is no longer linked to your Red Hat organization.`))),n.default.createElement(s.Text,{component:s.TextVariants.p},n.default.createElement("p",null,"Follow the AWS account association instructions and try again"))),footer:n.default.createElement(i.BackToAssociateAwsAccountLink,null),iconClassName:"hand-pointer"}),null!=a&&a.fulfilled?l:null))};d.propTypes={name:r.default.string,getRoleResponse:r.default.object,content:r.default.string},t.default=d},21789:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=a(72457),o=l(a(39466)),i=l(a(88491)),u=a(23343);t.default=(0,n.connect)((e=>{var t;const a=(0,r.formValueSelector)("CreateCluster"),l=a(e,"product"),n=(0,u.canAutoScaleOnCreateSelector)(null===(t=e.userProfile.organization)||void 0===t?void 0:t.details,l),s=n&&!!a(e,"autoscalingEnabled"),o=a(e,"install_to_vpc"),i=a(e,"configure_proxy"),{getUserRoleResponse:d,getOCMRoleResponse:c}=e.rosaReducer,p="true"===a(e,"hypershift");return{formValues:(0,r.getFormValues)("CreateCluster")(e),canAutoScale:n,autoscalingEnabled:s,installToVPCSelected:o,configureProxySelected:i,getUserRoleResponse:d,getOCMRoleResponse:c,isHypershiftSelected:p}}),(e=>({getUserRole:()=>e((0,s.getUserRole)()),getOCMRole:t=>e((0,s.getOCMRole)(t)),clearGetUserRoleResponse:()=>e((0,s.clearGetUserRoleResponse)()),clearGetOcmRoleResponse:()=>e((0,s.clearGetOcmRoleResponse)())})))((0,o.default)(i.default))},62288:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(28828));function i(e){let{isAutomaticUpgrade:t,change:a,product:l,isHypershiftSelected:r=!1}=e;return n.default.createElement(s.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h3"},"Cluster update strategy")),n.default.createElement(o.default,{isAutomatic:t,change:a,initialScheduleValue:"0 0 * * 0",product:l,isHypershift:r})))}i.propTypes={isAutomaticUpgrade:r.default.bool,change:r.default.func.isRequired,product:r.default.string,isHypershiftSelected:r.default.bool},t.default=i},51940:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=l(a(39466)),o=l(a(62288)),i=l(a(95591));t.default=(0,n.connect)(((e,t)=>{const a=(0,r.formValueSelector)("CreateCluster"),l=a(e,"cloud_provider"),n="true"===a(e,"multi_az"),s="true"===a(e,"byoc"),o="true"===a(e,"hypershift"),u="automatic"===a(e,"upgrade_policy"),d=a(e,"product"),c=a(e,"machinePoolsSubnets");return{initialValues:(0,i.default)({cloudProviderID:l,product:d,isByoc:s,isMultiAz:n,isTrialDefault:t.isTrialDefault,isHypershiftSelected:o,machinePoolsSubnets:c}),isAutomaticUpgrade:u,product:d,isHypershiftSelected:o}}))((0,s.default)(o.default))},94691:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SingleSubnetFieldsRow=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(9104),i=l(a(35732)),u=a(18483),d=a(2453),c=l(a(99646)),p=l(a(56585)),m=a(90181);const f=e=>{let{index:t,selectedAZ:a,selectedRegion:l,selectedVPC:r,isMultiAz:i,privateLinkSelected:f}=e;const E=[m.required,i&&m.validateUniqueAZ].filter(Boolean),g=0===t;let h,v;null!=r&&r.id?a||(h="Select the availability zone"):(v="Select a VPC first",h="Select a VPC first");const b=f?["private"]:["private","public"],_=(0,d.getMatchingAvailabilityZones)(l,r,b);return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.GridItem,{md:4},n.default.createElement(c.default,{showTooltip:!!v,content:v},n.default.createElement(o.Field,{component:p.default,name:`machinePoolsSubnets[${t}].availabilityZone`,label:g?"Availability zone":null,enabledAvailabilityZones:_,vpcId:null==r?void 0:r.id,validate:E,isDisabled:!!v,region:l}))),n.default.createElement(s.GridItem,{md:4},n.default.createElement(c.default,{showTooltip:!!h,content:h},n.default.createElement(o.Field,{component:u.SubnetSelectField,name:`machinePoolsSubnets[${t}].privateSubnetId`,isRequired:!0,validate:m.required,privacy:"private",label:g?"Private subnet":null,selectedVPC:r,allowedAZs:a?[a]:[],withAutoSelect:!1}))),n.default.createElement(s.GridItem,{md:4},!f&&n.default.createElement(c.default,{showTooltip:!!h,content:h},n.default.createElement(o.Field,{component:u.SubnetSelectField,name:`machinePoolsSubnets[${t}].publicSubnetId`,isRequired:!0,validate:m.required,privacy:"public",label:g?"Public subnet":null,selectedVPC:r,allowedAZs:a?[a]:[],withAutoSelect:!1}))))};t.SingleSubnetFieldsRow=f;const E=e=>{let{selectedVPC:t,selectedRegion:a,selectedAZs:l,isMultiAz:r,privateLinkSelected:s}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Field,{component:i.default,name:"selected_vpc",validate:e=>{var t,a;return(null==e||null===(t=e.id)||void 0===t?void 0:t.length)>0||(null==e||null===(a=e.name)||void 0===a?void 0:a.length)>0?void 0:"error"},selectedVPC:t,showRefresh:!0,isHypershift:!1,isRosaV1:!0,usePrivateLink:s}),n.default.createElement(f,{index:0,selectedAZ:l[0],selectedRegion:a,selectedVPC:t,isMultiAz:r,privateLinkSelected:s}),r&&n.default.createElement(n.default.Fragment,null,n.default.createElement(f,{index:1,selectedAZ:l[1],selectedRegion:a,selectedVPC:t,isMultiAz:r,privateLinkSelected:s}),n.default.createElement(f,{index:2,selectedAZ:l[2],selectedRegion:a,selectedVPC:t,isMultiAz:r,privateLinkSelected:s})))};f.propTypes={selectedRegion:r.default.string,selectedVPC:r.default.shape({id:r.default.string,name:r.default.string}),selectedAZ:r.default.string,index:r.default.number,isMultiAz:r.default.bool,privateLinkSelected:r.default.bool},E.propTypes={selectedVPC:r.default.object,selectedRegion:r.default.string,selectedAZs:r.default.arrayOf(r.default.string),isMultiAz:r.default.bool,privateLinkSelected:r.default.bool},t.default=E},17903:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(105)),i=l(a(91885)),u=l(a(68248)),d=l(a(42517)),c=l(a(94691)),p=l(a(3810));function m(e){let{selectedRegion:t,selectedVPC:a,selectedAZs:l,openshiftVersion:r,isMultiAz:m,privateLinkSelected:f,cloudProviderID:E,isSharedVpcSelected:g,hostedZoneDomainName:h}=e;return"aws"===E&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h4",size:"md"},"Install into an existing VPC",n.default.createElement(u.default,{iconClassName:"pf-v5-u-ml-sm",hint:n.default.createElement(n.default.Fragment,null,"Your VPC must have public and private subnets. Public subnets are associated with appropriate Ingress rules. Private subnets need appropriate routes and tables."," ",n.default.createElement(d.default,{href:i.default.INSTALL_AWS_VPC},"Learn more about installing into an existing VPC"))})),`To install into an existing VPC, you need to ensure that your VPC is configured with ${f?"":"a public and"}\n            a private subnet for each availability zone that you want the cluster\n            installed into`,".",n.default.createElement(d.default,{href:i.default.INSTALL_AWS_CUSTOM_VPC_REQUIREMENTS},"Learn more about VPC")),n.default.createElement(s.Alert,{variant:"info",isInline:!0,title:"You'll need to match these VPC subnets when you define the CIDR ranges."}),n.default.createElement(c.default,{isMultiAz:m,selectedVPC:a,selectedRegion:t,selectedAZs:l,privateLinkSelected:f}),n.default.createElement(o.default,{selectedVPC:a,openshiftVersion:r}),n.default.createElement(p.default,{hostedZoneDomainName:h,isSelected:g,openshiftVersion:r}))}m.propTypes={hostedZoneDomainName:r.default.string,selectedRegion:r.default.string,selectedVPC:r.default.object.isRequired,selectedAZs:r.default.arrayOf(r.default.string).isRequired,openshiftVersion:r.default.string,isMultiAz:r.default.bool,privateLinkSelected:r.default.bool,isSharedVpcSelected:r.default.bool,cloudProviderID:r.default.string},t.default=m},607:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(2453),i=a(95591),u=l(a(17903));function d(e){let{cloudProviderID:t,isMultiAz:a,selectedRegion:l,selectedVPC:r,selectedAZs:d,openshiftVersion:c,privateLinkSelected:p,isSharedVpcSelected:m,hostedZoneDomainName:f,change:E,untouch:g}=e;return n.default.useEffect((()=>{if(!r.id){const e=[(0,i.emptyAWSSubnet)()];a&&(e.push((0,i.emptyAWSSubnet)()),e.push((0,i.emptyAWSSubnet)())),E("machinePoolsSubnets",e);const t=(0,o.getAllSubnetFieldNames)(a);g(...t)}}),[E,g,a,r]),n.default.createElement(s.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h3"},"Virtual Private Cloud (VPC) subnet settings")),n.default.createElement(u.default,{cloudProviderID:t,isMultiAz:a,selectedRegion:l,selectedVPC:r,selectedAZs:d,openshiftVersion:c,isSharedVpcSelected:m,privateLinkSelected:p,hostedZoneDomainName:f})))}d.propTypes={cloudProviderID:r.default.string,isMultiAz:r.default.bool,change:r.default.func,untouch:r.default.func,selectedRegion:r.default.string,selectedVPC:r.default.object,selectedAZs:r.default.arrayOf(r.default.string),openshiftVersion:r.default.string,privateLinkSelected:r.default.bool,isSharedVpcSelected:r.default.bool,hostedZoneDomainName:r.default.string},t.default=d},69350:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=l(a(39466)),o=l(a(607));t.default=(0,n.connect)((e=>{const t=(0,r.formValueSelector)("CreateCluster"),a=t(e,"name"),l=t(e,"cluster_version"),n=t(e,"shared_vpc"),s=t(e,"selected_vpc"),o=t(e,"machinePoolsSubnets"),i=(null==n?void 0:n.is_selected)||!1,u=i?`${a}.${n.base_dns_domain||"<selected-base-domain>"}`:void 0,d=o.map((e=>e.availabilityZone));return{cloudProviderID:t(e,"cloud_provider"),isMultiAz:"true"===t(e,"multi_az"),isSharedVpcSelected:i,hostedZoneDomainName:u,selectedVPC:s,selectedAZs:d,openshiftVersion:l.raw_id,selectedRegion:t(e,"region")}}),(()=>({change:r.change,untouch:r.untouch})))((0,s.default)(o.default))},12925:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.ValuesPanel=void 0;var n=l(a(38416)),r=l(a(28416)),s=a(9104),o=a(66338),i=a(54075);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.ValuesPanel=()=>{const e=(0,o.useSelector)((e=>(0,s.getFormValues)("CreateCluster")(e))),t=(0,o.useSelector)((e=>d(d({},(0,s.getFormSyncErrors)("CreateCluster")(e)),(0,s.getFormAsyncErrors)("CreateCluster")(e)))),a=(0,o.useSelector)((e=>(0,s.getFormMeta)("CreateCluster")(e)));return r.default.createElement("pre",{style:{fontSize:".65rem",flex:"0 0 35em"}},r.default.createElement("div",null,r.default.createElement("strong",null,"redux-form values:")),r.default.createElement(i.ValuesCodeEditor,{code:JSON.stringify(e,null,2)}),r.default.createElement("div",null,r.default.createElement("strong",null,"redux-form touched:")),r.default.createElement(i.ValuesCodeEditor,{code:JSON.stringify(a,null,2)}),r.default.createElement("div",null,r.default.createElement("strong",null,"redux-form errors:")),r.default.createElement(i.ValuesCodeEditor,{code:JSON.stringify(t,null,2)}))}},8342:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackToAssociateAwsAccountLink=void 0;var l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),n=a(65652),r=a(65996),s=a(69008),o=a(38352),i=a(96106);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}t.BackToAssociateAwsAccountLink=()=>{const{goToStepById:e}=(0,l.useContext)(r.WizardContext),t=(0,i.useFeatureGate)(o.HYPERSHIFT_WIZARD_FEATURE),a=(0,s.getAccountAndRolesStepId)(t);return l.default.createElement(n.Button,{variant:"link",isInline:!0,onClick:()=>e(a)},"Back to associate AWS account")}},67047:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(38416)),r=a(66338),s=a(13126),o=a(9104),i=a(70774),u=a(7076),d=a(98371),c=a(22115),p=a(52758),m=a(72457),f=l(a(49208)),E=l(a(80338)),g=a(7046),h=a(69816),v=l(a(19561));function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.Z=(0,r.connect)((e=>{var t,a,l;const{organization:n}=e.userProfile,{getUserRoleResponse:r}=e.rosaReducer,s=(0,o.formValueSelector)("CreateCluster"),i=null!==(t=(0,o.getFormSyncErrors)("CreateCluster")(e))&&void 0!==t?t:{},u=null!==(a=(0,o.getFormAsyncErrors)("CreateCluster")(e))&&void 0!==a?a:{},{clusterVersions:d}=(null==e?void 0:e.clusters)||{};return{isValid:(0,o.isValid)("CreateCluster")(e),isAsyncValidating:(0,o.isAsyncValidating)("CreateCluster")(e),isErrorModalOpen:(0,E.default)(e,"osd-create-error"),cloudProviderID:"aws",installToVPCSelected:s(e,"install_to_vpc"),privateLinkSelected:s(e,"use_privatelink"),configureProxySelected:s(e,"configure_proxy"),createClusterResponse:e.clusters.createdCluster,machineTypes:e.machineTypes,organization:n,cloudProviders:e.cloudProviders,hasProductQuota:(0,h.hasManagedQuotaSelector)(e.userProfile.organization.quotaList,p.normalizedProducts.ROSA),formValues:null!==(l=(0,o.getFormValues)("CreateCluster")(e))&&void 0!==l?l:{},formErrors:_(_({},i),u),getUserRoleResponse:r,selectedAWSAccountID:s(e,"associated_aws_id"),isHypershiftSelected:"true"===s(e,"hypershift"),getInstallableVersionsResponse:d}}),(e=>({onSubmit:()=>e(((t,a)=>{const l=(0,o.getFormValues)("CreateCluster")(a());return(0,v.default)(e,{isWizard:!0})(l)})),resetResponse:()=>e((0,i.resetCreatedClusterResponse)()),destroyForm:()=>e((0,o.destroy)("CreateCluster")),openModal:t=>{e((0,g.openModal)(t))},closeModal:()=>{e((0,g.closeModal)())},touch:t=>e((0,o.touch)("CreateCluster",...t)),getOrganizationAndQuota:()=>e((0,d.getOrganizationAndQuota)()),getUserRole:()=>e((0,m.getUserRole)()),getMachineTypes:()=>e((0,u.getMachineTypes)()),getCloudProviders:()=>e((0,c.getCloudProviders)()),clearGetUserRoleResponse:()=>e((0,m.clearGetUserRoleResponse)()),clearInstallableVersions:()=>e((0,i.clearInstallableVersions)())})))((0,s.withRouter)(f.default))},69008:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stepNameById=t.stepId=t.hasLoadingState=t.getAccountAndRolesStepId=void 0;const a=t.stepId={ACCOUNTS_AND_ROLES_AS_FIRST_STEP:5,CONTROL_PLANE:10,ACCOUNTS_AND_ROLES_AS_SECOND_STEP:15,CLUSTER_SETTINGS:20,CLUSTER_SETTINGS__DETAILS:21,CLUSTER_SETTINGS__MACHINE_POOL:23,NETWORKING:30,NETWORKING__CONFIGURATION:31,NETWORKING__VPC_SETTINGS:32,NETWORKING__CLUSTER_WIDE_PROXY:33,NETWORKING__CIDR_RANGES:34,CLUSTER_ROLES_AND_POLICIES:40,CLUSTER_UPDATES:50,REVIEW_AND_CREATE:60};t.getAccountAndRolesStepId=e=>e?a.ACCOUNTS_AND_ROLES_AS_SECOND_STEP:a.ACCOUNTS_AND_ROLES_AS_FIRST_STEP,t.hasLoadingState=e=>e!==a.CONTROL_PLANE,t.stepNameById={[a.ACCOUNTS_AND_ROLES_AS_FIRST_STEP]:"Accounts and roles",[a.ACCOUNTS_AND_ROLES_AS_SECOND_STEP]:"Accounts and roles",[a.CONTROL_PLANE]:"Control plane",[a.CLUSTER_SETTINGS]:"Cluster settings",[a.CLUSTER_SETTINGS__DETAILS]:"Details",[a.CLUSTER_SETTINGS__MACHINE_POOL]:"Machine pool",[a.NETWORKING]:"Networking",[a.NETWORKING__CONFIGURATION]:"Configuration",[a.NETWORKING__VPC_SETTINGS]:"VPC settings",[a.NETWORKING__CLUSTER_WIDE_PROXY]:"Cluster-wide proxy",[a.NETWORKING__CIDR_RANGES]:"CIDR ranges",[a.CLUSTER_ROLES_AND_POLICIES]:"Cluster roles and policies",[a.CLUSTER_UPDATES]:"Cluster updates",[a.REVIEW_AND_CREATE]:"Review and create"}},83802:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=l(a(27361)),i=a(64636),u=a(87558),d=a(65652),c=a(98021),p=a(71359),m=l(a(91885)),f=a(70355),E=l(a(69740)),g=a(64112),h=a(69429),v=a(96106),b=a(38352),_=l(a(7749)),S=l(a(42517)),C=l(a(59484)),y=a(79687),O=l(a(73269)),I=a(12595),R=a(31067),T=a(94362);a(64957);var A=a(94989);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const L="No role detected",w=(e,t)=>e.Installer&&e.Support&&e.Worker&&(e.ControlPlane||t);function M(e){let{selectedAWSAccountID:t,selectedInstallerRoleARN:a,rosaMaxOSVersion:l,getAWSAccountRolesARNs:n,getAWSAccountRolesARNsResponse:s,clearGetAWSAccountRolesARNsResponse:P,isHypershiftSelected:D,onAccountChanged:M}=e;const{setFieldValue:k,getFieldProps:x,getFieldMeta:j,setFieldTouched:F,validateForm:G}=(0,c.useFormState)(),U=(0,E.default)(),[V,H]=(0,r.useState)(!0),[z,W]=(0,r.useState)([]),[q,B]=(0,r.useState)([]),[$,Z]=(0,r.useState)(L),[Y,K]=(0,r.useState)(!1),[Q,J]=(0,r.useState)(!1),[X,ee]=(0,r.useState)(!1),te=(0,v.useFeatureGate)(b.HCP_USE_UNMANAGED),ae=(e=>{let{errorDetails:t}=e;return null==t?void 0:t.some((e=>"NoTrustedRelationshipOnClusterRole"===(null==e?void 0:e.Error_Key)))})(s);(0,r.useEffect)((()=>{F(A.FieldId.InstallerRoleArn,!0,!1),F(A.FieldId.SupportRoleArn,!0,!1),F(A.FieldId.WorkerRoleArn,!0,!1),D||F(A.FieldId.ControlPlaneRoleArn,!0,!1)}),[D]);const le=e=>{const t=[k(A.FieldId.InstallerRoleArn,(null==e?void 0:e.Installer)||L,!1),k(A.FieldId.SupportRoleArn,(null==e?void 0:e.Support)||L,!1),k(A.FieldId.WorkerRoleArn,(null==e?void 0:e.Worker)||L,!1)];D||t.push(k(A.FieldId.ControlPlaneRoleArn,(null==e?void 0:e.ControlPlane)||L,!1)),Promise.all(t).then((()=>{setTimeout((()=>{G()}),10)}))};(0,r.useEffect)((()=>{Z(L),W([]),B([]),le(null),K(!1),P(),M()}),[t]),(0,r.useEffect)((()=>{let e=!0;z.forEach((t=>{t.Installer===$&&(e=!w(t,D),le(t),k(A.FieldId.RosaMaxOsVersion,t.version,!1))})),K(e)}),[$]);const ne=e=>D?e.hcpManagedPolicies:e.managedPolicies;r.default.useEffect((()=>{const e=z.find((e=>e.Installer===$));s.fulfilled&&e&&ee(ne(e))}),[t,s,$]);const re=e=>{const t=e.map((e=>N({name:e.Installer,value:e.Installer},!D&&ne(e)&&{label:r.default.createElement(d.Label,{color:"blue",isCompact:!0},"Recommended")})));0===t.length?(le(null),B([]),k(A.FieldId.RosaMaxOsVersion,void 0),K(!0)):(B(t.filter((e=>void 0!==e.value))),K(!1)),W(e),J(!0);const l=((e,t,a)=>{if(e&&e!==L)return e;if(0===t.length)return L;const l=t.find((e=>e.managedPolicies||e.hcpManagedPolicies)),n=t.find((e=>"ManagedOpenShift"===e.prefix)),r=t.find((e=>w(e,a)));return(n||l||r||t[0]).Installer})(a,e,D);Z(l)};(0,r.useEffect)((()=>{if(s.pending||s.fulfilled||s.error)if(s.fulfilled){const e=(0,o.default)(s,"data",[]).filter((e=>!(!D||!te)||(D?e.hcpManagedPolicies&&e.managedPolicies:!e.hcpManagedPolicies&&!e.managedPolicies)));re(e)}else s.error&&re([]);else J(!1),K(!1),n(t)}),[t,s]),(0,r.useEffect)((()=>{(s.fulfilled||s.error)&&(e=>{const t=ae?"Cannot detect an OCM role":"Error getting AWS account ARNs";U(f.trackEvents.ARNsRefreshed,{customProperties:N({error:!!e.error},e.error&&{error_title:t,error_message:e.errorMessage||void 0,error_code:e.errorCode,error_operation_id:e.operationID})})})(s)}),[s]);const se=e=>e&&e!==L?void 0:"ARN field is required.",[oe,ie]=(0,g.useOCPLatestVersion)("stable"),ue=ie&&!(0,h.isSupportedMinorVersion)(oe,l),de=!D&&X,ce=r.default.useMemo((()=>D?"The selected account-wide roles are compatible with all OpenShift versions which support hosted control planes.":de?`The selected account-wide roles are preferred and compatible with OpenShift version ${I.MIN_MANAGED_POLICY_VERSION} and newer.`:`The selected account-wide roles are compatible with OpenShift version ${(0,h.formatMinorVersion)(l)} and earlier.`),[de,D,l]);return r.default.createElement(r.default.Fragment,null,r.default.createElement(d.GridItem,null),r.default.createElement(d.GridItem,null,r.default.createElement(d.Title,{headingLevel:"h3"},"Account roles")),s.error&&r.default.createElement(d.GridItem,{span:8},ae?r.default.createElement(R.AwsRoleErrorAlert,{title:"Cannot detect an OCM role",targetRole:"ocm"}):r.default.createElement(_.default,{message:"Error getting AWS account ARNs",response:s})),!s.error&&Q&&Y&&r.default.createElement(d.GridItem,{span:8},D?r.default.createElement(d.Alert,{isInline:!0,variant:"danger",title:"Some account roles ARNs were not detected."},r.default.createElement("br",null),"Create the account roles using the following command in the ROSA CLI",r.default.createElement(C.default,{textAriaLabel:"Copyable ROSA login command"},T.RosaCliCommand.CreateAccountRolesHCP),r.default.createElement("br",null),"After running the command, you may need to refresh using the"," ",r.default.createElement("strong",null,"Refresh ARNs")," button below to populate the ARN fields.",r.default.createElement("p",null,"You must use ROSA CLI version ",I.ROSA_HOSTED_CLI_MIN_VERSION," or above.")):r.default.createElement(R.AwsRoleErrorAlert,{title:"Some account roles ARNs were not detected",targetRole:"account"})),!Q&&r.default.createElement(d.GridItem,null,r.default.createElement("div",{className:"spinner-fit-container"},r.default.createElement(p.Spinner,null)),r.default.createElement("div",{className:"spinner-loading-text","data-testid":"spinner-loading-arn-text"},"Loading account roles ARNs...")),Q&&r.default.createElement(d.GridItem,{span:12},r.default.createElement(d.ExpandableSection,{isExpanded:V,onToggle:()=>{H(!V)},toggleText:"Account roles ARNs"},r.default.createElement(d.Text,{component:d.TextVariants.p},"The following roles were detected in your AWS account."," ",r.default.createElement(S.default,{href:m.default.ROSA_AWS_IAM_RESOURCES},"Learn more about account roles"),"."),r.default.createElement("br",null),r.default.createElement(d.Button,{variant:"secondary","data-testid":"refresh_arns_btn",onClick:()=>{U(f.trackEvents.RefreshARNs),P(),n(t),J(!1),K(!1),z.some((e=>e.Installer===$))||(k(A.FieldId.InstallerRoleArn,"",!1),Z(""),k(A.FieldId.ClusterVersion,void 0))}},"Refresh ARNs"),r.default.createElement("br",null),r.default.createElement("br",null),r.default.createElement(d.Grid,null,r.default.createElement(d.GridItem,{span:8},r.default.createElement(i.Field,{component:y.ReduxSelectDropdown,name:A.FieldId.InstallerRoleArn,input:N(N({},x(A.FieldId.InstallerRoleArn)),{},{onChange:e=>{k(A.FieldId.InstallerRoleArn,e),((e,t)=>{k(A.FieldId.ClusterVersion,void 0),Z(t)})(0,e)}}),meta:j(A.FieldId.InstallerRoleArn),label:"Installer role",type:"text",options:q,isDisabled:q.length<=1,validate:se,isRequired:!0,helpText:"",extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the ROSA installer.",r.default.createElement("br",null),"For more information see"," ",r.default.createElement(S.default,{href:m.default.ROSA_AWS_IAM_ROLES},"Table 1 about the installer role policy"),".")}),r.default.createElement("br",null),r.default.createElement(i.Field,{component:O.default,name:A.FieldId.SupportRoleArn,input:N(N({},x(A.FieldId.SupportRoleArn)),{},{onChange:e=>k(A.FieldId.SupportRoleArn,e,!1)}),meta:j(A.FieldId.SupportRoleArn),label:"Support role",type:"text",validate:se,isRequired:!0,extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the Red Hat Site Reliability Engineering (SRE) support team.",r.default.createElement("br",null),"For more information see"," ",r.default.createElement(S.default,{href:m.default.ROSA_AWS_IAM_ROLES},"Table 4 about the support role policy"),"."),isDisabled:!0}),r.default.createElement("br",null),r.default.createElement(i.Field,{component:O.default,name:A.FieldId.WorkerRoleArn,input:N(N({},x(A.FieldId.WorkerRoleArn)),{},{onChange:e=>k(A.FieldId.WorkerRoleArn,e,!1)}),meta:j(A.FieldId.WorkerRoleArn),label:"Worker role",type:"text",validate:se,isRequired:!0,extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the ROSA compute instances.",r.default.createElement("br",null),"For more information see"," ",r.default.createElement(S.default,{href:m.default.ROSA_AWS_IAM_ROLES},"Table 3 about the worker/compute role policy"),"."),isDisabled:!0}),!D&&r.default.createElement(r.default.Fragment,null,r.default.createElement("br",null),r.default.createElement(i.Field,{component:O.default,name:A.FieldId.ControlPlaneRoleArn,input:N(N({},x(A.FieldId.ControlPlaneRoleArn)),{},{onChange:e=>k(A.FieldId.ControlPlaneRoleArn,e,!1)}),meta:j(A.FieldId.ControlPlaneRoleArn),label:"Control plane role",type:"text",validate:se,isRequired:!0,extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the ROSA control plane.",r.default.createElement("br",null),"For more information see"," ",r.default.createElement(S.default,{href:m.default.ROSA_AWS_IAM_ROLES},"Table 2 about the control plane role policy"),"."),isDisabled:!0}))),(l||de)&&r.default.createElement(d.GridItem,null,r.default.createElement("br",null),r.default.createElement(d.Alert,{variant:"info",isInline:!0,isPlain:de||!ue,title:ce},ue&&!(de||D)&&r.default.createElement(d.TextContent,null,r.default.createElement(d.Text,{component:d.TextVariants.p,className:"pf-v5-u-mt-sm"},r.default.createElement("strong",null,"To update account roles to the latest OpenShift version (",(0,h.formatMinorVersion)(oe),"):")),r.default.createElement(d.TextList,{component:d.TextListVariants.ol},r.default.createElement(d.TextListItem,null,r.default.createElement(d.Text,{component:d.TextVariants.p},"Download latest (",(0,h.formatMinorVersion)(oe),")"," ",r.default.createElement(u.Link,{to:"/downloads#tool-ocm"},"ocm")," and"," ",r.default.createElement(u.Link,{to:"/downloads#tool-rosa"},"rosa")," CLIs")),r.default.createElement(d.TextListItem,{className:"pf-v5-u-mb-sm"},r.default.createElement(d.Text,{component:d.TextVariants.p},"Recreate ARNs using"),r.default.createElement(d.Text,{component:d.TextVariants.p},r.default.createElement(C.default,{textAriaLabel:"Copyable ROSA create account-roles command"},T.RosaCliCommand.CreateAccountRoles)))))))),r.default.createElement(d.GridItem,{span:4}))))}M.propTypes={selectedAWSAccountID:s.default.string,selectedInstallerRoleARN:s.default.string,rosaMaxOSVersion:s.default.string,getAWSAccountRolesARNs:s.default.func.isRequired,getAWSAccountRolesARNsResponse:s.default.object.isRequired,clearGetAWSAccountRolesARNsResponse:s.default.func.isRequired,isHypershiftSelected:s.default.bool,onAccountChanged:s.default.func.isRequired},t.Z=M},68828:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(61732)),s=a(7046),o=a(72457);t.default=(0,n.connect)((e=>{const{getAWSAccountIDsResponse:t,getAWSAccountRolesARNsResponse:a,getUserRoleResponse:l}=e.rosaReducer;return{getAWSAccountIDsResponse:t,getAWSAccountRolesARNsResponse:a,getUserRoleResponse:l}}),(e=>({closeModal:()=>e((0,s.closeModal)()),getAWSAccountIDs:t=>e((0,o.getAWSAccountIDs)(t)),getAWSAccountRolesARNs:t=>e((0,o.getAWSAccountRolesARNs)(t)),clearGetAWSAccountIDsResponse:()=>e((0,o.clearGetAWSAccountIDsResponse)()),clearGetAWSAccountRolesARNsResponse:()=>e((0,o.clearGetAWSAccountRolesARNsResponse)()),clearGetUserRoleResponse:()=>e((0,o.clearGetUserRoleResponse)()),getUserRole:()=>e((0,o.getUserRole)())})))(r.default)},19432:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(45697)),s=l(a(28416)),o=a(64636),i=a(65652),u=l(a(91885)),d=l(a(42517)),c=a(79687),p=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(90181)),m=a(69429),f=a(98021),E=a(94989),g=a(70946),h=a(86896),v=l(a(73269));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const C=p.default.disjointSubnets("network_machine_cidr"),y=p.default.disjointSubnets("network_service_cidr"),O=p.default.disjointSubnets("network_pod_cidr"),I=p.default.awsSubnetMask("network_machine_cidr_single_az"),R=p.default.awsSubnetMask("network_machine_cidr_multi_az"),T=p.default.awsSubnetMask("network_service_cidr");function A(e){let{disabled:t,cloudProviderID:a,isMultiAz:l,installToVpcSelected:n,isDefaultValuesChecked:r,isROSA:b,formValues:_}=e;const{getFieldProps:A,getFieldMeta:P,setFieldValue:D,validateForm:N}=(0,f.useFormState)(),L=r||t,w=(0,m.constructSelectedSubnets)(_),M=e=>(0,p.required)(e)||p.default.cidr(e)||p.default.validateRange(e)||"gcp"===a&&p.default.privateAddress(e)||void 0,k=l||"true"===_.hypershift?p.default.AWS_MACHINE_CIDR_MAX_MULTI_AZ:p.default.AWS_MACHINE_CIDR_MAX_SINGLE_AZ,x="gcp"===a?s.default.createElement(s.default.Fragment,null,s.default.createElement("br",null),s.default.createElement("span",null,"The address must be a private IPv4 address, belonging to one of the following ranges:",s.default.createElement(i.List,null,s.default.createElement(i.ListItem,null,"10.0.0.0  10.255.255.255"),s.default.createElement(i.ListItem,null,"172.16.0.0  172.31.255.255"),s.default.createElement(i.ListItem,null,"192.168.0.0  192.168.255.255")))):null;return s.default.createElement(s.default.Fragment,null,s.default.createElement(i.GridItem,null,s.default.createElement(i.Alert,{id:"advanced-networking-alert",isInline:!0,variant:"info",title:"CIDR ranges cannot be changed after you create your cluster."},s.default.createElement("p",{className:"pf-v5-u-mb-md"},"Specify non-overlapping ranges for machine, service, and pod ranges. Each range should correspond to the first IP address in their subnet."),s.default.createElement(d.default,{href:b?u.default.CIDR_RANGE_DEFINITIONS_ROSA:u.default.CIDR_RANGE_DEFINITIONS_OSD},"Learn more to avoid conflicts"))),s.default.createElement(i.GridItem,null,s.default.createElement(o.Field,{component:c.ReduxCheckbox,name:E.FieldId.CidrDefaultValuesToggle,label:"Use default values",description:"The below values are safe defaults. However, you must ensure that the Machine CIDR is valid for your chosen subnet(s).",input:S(S({},A(E.FieldId.CidrDefaultValuesToggle)),{},{onChange:(e,t)=>{return a=t,D(E.FieldId.CidrDefaultValuesToggle,a),void(a&&Promise.all([D(E.FieldId.NetworkMachineCidr,g.MACHINE_CIDR_DEFAULT),D(E.FieldId.NetworkServiceCidr,g.SERVICE_CIDR_DEFAULT),D(E.FieldId.NetworkPodCidr,g.POD_CIDR_DEFAULT),D(E.FieldId.NetworkHostPrefix,g.HOST_PREFIX_DEFAULT)]).then((()=>{N()})));var a}}),meta:P(E.FieldId.CidrDefaultValuesToggle)})),s.default.createElement(i.GridItem,{md:6},s.default.createElement(o.Field,{component:v.default,name:E.FieldId.NetworkMachineCidr,label:"Machine CIDR",placeholder:g.MACHINE_CIDR_DEFAULT,type:"text",validate:e=>M(e)||"aws"===a&&p.default.awsMachineCidr(e,_)||p.default.validateRange(e)||"aws"===a&&p.default.subnetCidrs(e,_,E.FieldId.NetworkMachineCidr,w)||C(e,_)||"aws"===a&&!l&&I(e)||"aws"===a&&l&&R(e)||void 0,disabled:L,input:A(E.FieldId.NetworkMachineCidr),meta:P(E.FieldId.NetworkMachineCidr),helpText:s.default.createElement("div",{className:"pf-v5-c-form__helper-text"},"aws"===a?`Subnet mask must be between /${p.default.AWS_MACHINE_CIDR_MIN} and /${k}.`:`Range must be private. Subnet mask must be at most /${p.default.GCP_MACHINE_CIDR_MAX}.`,n&&s.default.createElement(i.Alert,{variant:"info",isPlain:!0,isInline:!0,title:"Ensure the Machine CIDR range matches the selected VPC subnets."})),extendedHelpText:s.default.createElement(s.default.Fragment,null,h.constants.machineCIDRHint,x,s.default.createElement(i.Text,{component:i.TextVariants.p},s.default.createElement(d.default,{href:b?u.default.ROSA_CIDR_MACHINE:u.default.OSD_CIDR_MACHINE},"Learn more"))),showHelpTextOnError:!1})),s.default.createElement(i.GridItem,{md:6}),s.default.createElement(i.GridItem,{md:6},s.default.createElement(o.Field,{component:v.default,name:E.FieldId.NetworkServiceCidr,label:"Service CIDR",placeholder:g.SERVICE_CIDR_DEFAULT,type:"text",validate:e=>M(e)||p.default.serviceCidr(e)||y(e,_)||"aws"===a&&T(e)||"aws"===a&&p.default.subnetCidrs(e,_,E.FieldId.NetworkServiceCidr,w)||void 0,disabled:L,input:A(E.FieldId.NetworkServiceCidr),meta:P(E.FieldId.NetworkServiceCidr),helpText:"aws"===a?`Subnet mask must be at most /${p.default.SERVICE_CIDR_MAX}.`:`Range must be private. Subnet mask must be at most /${p.default.SERVICE_CIDR_MAX}.`,extendedHelpText:s.default.createElement(s.default.Fragment,null,h.constants.serviceCIDRHint,x,s.default.createElement(i.Text,{component:i.TextVariants.p},s.default.createElement(d.default,{href:b?u.default.ROSA_CIDR_SERVICE:u.default.OSD_CIDR_SERVICE},"Learn more"))),showHelpTextOnError:!1})),s.default.createElement(i.GridItem,{md:6}),s.default.createElement(i.GridItem,{md:6},s.default.createElement(o.Field,{component:v.default,name:E.FieldId.NetworkPodCidr,label:"Pod CIDR",placeholder:g.POD_CIDR_DEFAULT,type:"text",validate:e=>M(e)||p.default.podCidr(e,_)||O(e,_)||"aws"===a&&p.default.subnetCidrs(e,_,E.FieldId.NetworkPodCidr,w)||void 0,disabled:L,input:A(E.FieldId.NetworkPodCidr),meta:P(E.FieldId.NetworkPodCidr),helpText:"aws"===a?`Subnet mask must allow for at least ${p.default.POD_NODES_MIN} nodes.`:`Range must be private. Subnet mask must allow for at least ${p.default.POD_NODES_MIN} nodes.`,extendedHelpText:s.default.createElement(s.default.Fragment,null,h.constants.podCIDRHint,x,s.default.createElement(i.Text,{component:i.TextVariants.p},s.default.createElement(d.default,{href:b?u.default.ROSA_CIDR_POD:u.default.OSD_CIDR_POD},"Learn more"))),showHelpTextOnError:!1})),s.default.createElement(i.GridItem,{md:6}),s.default.createElement(i.GridItem,{md:6},s.default.createElement(o.Field,{component:v.default,name:E.FieldId.NetworkHostPrefix,label:"Host prefix",placeholder:g.HOST_PREFIX_DEFAULT,type:"text",format:e=>e&&"/"!==e.charAt(0)?`/${e}`:e,normalize:e=>e&&"/"===e.charAt(0)?e.substring(1):e,validate:e=>(0,p.required)(e)||p.default.hostPrefix(e),disabled:L,input:A(E.FieldId.NetworkHostPrefix),meta:P(E.FieldId.NetworkHostPrefix),helpText:`Must be between /${p.default.HOST_PREFIX_MIN} and /${p.default.HOST_PREFIX_MAX}.`,extendedHelpText:s.default.createElement(s.default.Fragment,null,h.constants.hostPrefixHint,s.default.createElement(i.Text,{component:i.TextVariants.p},s.default.createElement(d.default,{href:b?u.default.ROSA_CIDR_HOST:u.default.OSD_CIDR_HOST},"Learn more"))),showHelpTextOnError:!1})))}A.propTypes={disabled:r.default.bool,cloudProviderID:r.default.string,isMultiAz:r.default.bool,installToVpcSelected:r.default.bool,isDefaultValuesChecked:r.default.bool,isROSA:r.default.bool,formValues:r.default.object},t.default=A},14119:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(98021),i=a(94989),u=l(a(19432));function d(e){let{isROSA:t}=e;const{values:{[i.FieldId.CloudProvider]:a,[i.FieldId.MultiAz]:l,[i.FieldId.InstallToVpc]:r,[i.FieldId.CidrDefaultValuesToggle]:d},values:c}=(0,o.useFormState)(),p=!0===l;return n.default.createElement(s.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h3"},"CIDR ranges")),n.default.createElement(u.default,{cloudProviderID:a,isMultiAz:p,installToVpcSelected:r,isDefaultValuesChecked:d,isROSA:t,formValues:c})))}d.propTypes={isROSA:r.default.bool},t.default=d},17352:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=a(64636),o=a(65652),i=a(65996),u=a(69429),d=a(86896),c=a(90181),p=a(52758),m=a(70946),f=a(94989),E=a(98021),g=l(a(73269)),h=l(a(76486)),v=l(a(42517)),b=l(a(91885)),_=a(65152);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(){const{setFieldValue:e,getFieldProps:t,getFieldMeta:a,values:{[f.FieldId.Product]:l,[f.FieldId.HttpProxyUrl]:n,[f.FieldId.HttpsProxyUrl]:S,[f.FieldId.AdditionalTrustBundle]:C}}=(0,E.useFormState)(),[O,I]=r.default.useState(!1),R=l===p.normalizedProducts.ROSA?b.default.ROSA_CLUSTER_WIDE_PROXY:b.default.OSD_CLUSTER_WIDE_PROXY,T=!n&&!S,A=()=>{O||I(!0)},P=()=>{if(!n&&!S&&!C)return"Configure at least one of the cluster-wide proxy fields."},D=r.default.createElement(o.Alert,{isInline:!0,variant:"warning",title:r.default.createElement("span",null,"Complete at least 1 of the fields above. If you don't want to set a cluster-wide proxy, disable this option in the ",r.default.createElement("strong",{style:{fontSize:"var(--pf-v5-global--FontSize--md)"}},"Networking > Configuration")," step."),actionLinks:r.default.createElement(i.WizardContext.Consumer,null,(e=>{let{goToStepByName:t}=e;return r.default.createElement(o.AlertActionLink,{onClick:()=>t("Configuration")},"Back to the networking configuration")}))});(0,r.useEffect)((()=>{T&&e(f.FieldId.NoProxyDomains,"")}),[T]);const N=t(f.FieldId.HttpProxyUrl),L=t(f.FieldId.HttpsProxyUrl),w=t(f.FieldId.AdditionalTrustBundle);return r.default.createElement(o.Form,{onSubmit:e=>(e.preventDefault(),!1)},r.default.createElement(o.Grid,{hasGutter:!0},r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h3"},"Cluster-wide proxy")),r.default.createElement(o.GridItem,null,r.default.createElement(o.Text,null,d.constants.clusterProxyHint),r.default.createElement(o.Text,{className:"pf-v5-u-mt-sm"},r.default.createElement(v.default,{href:R},"Learn more about configuring a cluster-wide proxy"))),r.default.createElement(o.GridItem,null,r.default.createElement(o.Alert,{variant:"info",isInline:!0,isPlain:!0,title:"Configure at least 1 of the following fields:"})),r.default.createElement(o.GridItem,{sm:12,md:10,xl2:8},r.default.createElement(s.Field,{component:g.default,name:f.FieldId.HttpProxyUrl,label:"HTTP proxy URL",placeholder:m.HTTP_PROXY_PLACEHOLDER,type:"text",validate:(0,c.composeValidators)((e=>(0,c.validateUrl)(e,"http")),P),helpText:"Specify a proxy URL to use for HTTP connections outside the cluster.",showHelpTextOnError:!1,input:y(y({},N),{},{onChange:(t,a)=>e(f.FieldId.HttpProxyUrl,a),onBlur:e=>{const{onBlur:t}=N;A(),t(e)}}),meta:a(f.FieldId.HttpProxyUrl)})),r.default.createElement(o.GridItem,{sm:0,md:2,xl2:4}),r.default.createElement(o.GridItem,{sm:12,md:10,xl2:8},r.default.createElement(s.Field,{component:g.default,name:f.FieldId.HttpsProxyUrl,label:"HTTPS proxy URL",placeholder:m.HTTPS_PROXY_PLACEHOLDER,type:"text",validate:(0,c.composeValidators)((e=>(0,c.validateUrl)(e,["http","https"])),P),helpText:"Specify a proxy URL to use for HTTPS connections outside the cluster.",showHelpTextOnError:!1,input:y(y({},L),{},{onChange:(t,a)=>e(f.FieldId.HttpsProxyUrl,a),onBlur:e=>{const{onBlur:t}=L;A(),t(e)}}),meta:a(f.FieldId.HttpsProxyUrl)})),r.default.createElement(o.GridItem,{sm:0,md:2,xl2:4}),r.default.createElement(o.GridItem,{sm:12,md:10,xl2:8},r.default.createElement(s.Field,{component:g.default,name:f.FieldId.NoProxyDomains,label:"No Proxy domains",placeholder:T?m.DISABLED_NO_PROXY_PLACEHOLDER:m.NO_PROXY_PLACEHOLDER,type:"text",validate:c.checkNoProxyDomains,helpText:m.NO_PROXY_HELPER_TEXT,showHelpTextOnError:!1,isDisabled:T,input:y(y({},t(f.FieldId.NoProxyDomains)),{},{onChange:(t,a)=>e(f.FieldId.NoProxyDomains,(0,u.stringToArray)(a))}),meta:a(f.FieldId.NoProxyDomains)})),r.default.createElement(o.GridItem,{sm:0,md:2,xl2:4}),r.default.createElement(o.GridItem,{sm:12,md:10,xl2:8},r.default.createElement(s.Field,{component:h.default,name:f.FieldId.AdditionalTrustBundle,label:"Additional trust bundle",placeholder:m.TRUST_BUNDLE_PLACEHOLDER,extendedHelpTitle:"Additional trust bundle",extendedHelpText:m.TRUST_BUNDLE_HELPER_TEXT,validate:(0,c.composeValidators)(c.validateCA,P),dropzoneProps:{accept:_.ACCEPT,maxSize:_.MAX_FILE_SIZE,onDropRejected:()=>{e(f.FieldId.AdditionalTrustBundle,"Invalid file")}},helpText:"Upload or paste a PEM encoded X.509 certificate.",input:y(y({},w),{},{onChange:t=>e(f.FieldId.AdditionalTrustBundle,t),onBlur:e=>{const{onBlur:t}=w;A(),t(e)}}),meta:a(f.FieldId.AdditionalTrustBundle)})),r.default.createElement(o.GridItem,{sm:0,md:2,xl2:4}),r.default.createElement(o.GridItem,null,O&&T&&!C&&D)))}O.propTypes={},t.default=O},12616:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createOperatorRolesHashPrefix=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(64636),i=a(71359),u=a(98021),d=a(94989),c=a(65652),p=l(a(69740)),m=a(70355),f=l(a(29697)),E=a(82525),g=l(a(42517)),h=l(a(7749)),v=l(a(59484)),b=l(a(10865)),_=l(a(68248)),S=l(a(91885)),C=a(90181),y=a(38664),O=l(a(18686)),I=l(a(73125));function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const P=()=>{const e=Math.random().toString(36).substr(2,4).split(""),t="abcdefghijklmnopqrstuvwxyz"[Math.floor(26*Math.random())];return e[0]=t,e.join("")};t.createOperatorRolesHashPrefix=P;const D="manual",N="auto",L=e=>{let{getOCMRole:t,getOCMRoleResponse:a,clearGetOcmRoleResponse:l,getUserOidcConfigurations:n}=e;const{setFieldValue:s,getFieldProps:R,getFieldMeta:T,values:{[d.FieldId.ClusterName]:L,[d.FieldId.Hypershift]:w,[d.FieldId.SharedVpc]:M,[d.FieldId.AssociatedAwsId]:k,[d.FieldId.RosaRolesProviderCreationMode]:x,[d.FieldId.CustomOperatorRolesPrefix]:j,[d.FieldId.ByoOidcConfigId]:F,[d.FieldId.InstallerRoleArn]:G}}=(0,u.useFormState)(),U=null==M?void 0:M.hosted_zone_role_arn,V=M.is_selected;let H;"true"===w?H="Hypershift":V&&(H="SharedVPC");const[z,W]=(0,r.useState)(!1),[q,B]=(0,r.useState)(!(!H&&!F)),[$,Z]=(0,r.useState)(null),Y=(0,p.default)(),K=e=>()=>{e?s(d.FieldId.RosaRolesProviderCreationMode,z?N:D):(s(d.FieldId.ByoOidcConfigId,""),s(d.FieldId.ByoOidcConfigIdManaged,"")),B(e)};var Q;(0,r.useEffect)((()=>{j||s(d.FieldId.CustomOperatorRolesPrefix,`${L}-${P()}`)}),[j,L]),(0,r.useEffect)((()=>{s(d.FieldId.DetectedOcmRole,!1),l()}),[]),!x&&a.fulfilled&&s(d.FieldId.RosaRolesProviderCreationMode,null!==(Q=a.data)&&void 0!==Q&&Q.isAdmin?N:D),(0,r.useEffect)((()=>{if(a.pending)Z(null);else if(a.fulfilled){var e,l;s(d.FieldId.RosaCreatorArn,null===(e=a.data)||void 0===e?void 0:e.arn),s(d.FieldId.DetectedOcmRole,!0);const t=null===(l=a.data)||void 0===l?void 0:l.isAdmin;W(t),Z(null)}else a.error?Z(r.default.createElement(h.default,{message:"ocm-role is no longer linked to your Red Hat organization",response:a,isExpandable:!0},r.default.createElement(y.BackToAssociateAwsAccountLink,null))):t(k)}),[a]);const J=r.default.createElement(c.Alert,{className:"pf-v5-u-ml-lg",variant:"info",isInline:!0,isExpandable:!0,title:"If you would like to enable auto mode, expand the alert and follow the steps below."},r.default.createElement(c.TextContent,{className:"pf-v5-u-font-size-sm"},r.default.createElement(c.Text,{component:c.TextVariants.p,className:"pf-v5-u-mb-sm"},"Create the Admin OCM role using the following command in the ROSA CLI. Only one OCM role can be linked per Red Hat org."," ",r.default.createElement(_.default,{title:"If an OCM role with basic privileges exists in your account, you might need to delete or unlink the role before creating an OCM role with administrative privileges."})),r.default.createElement(v.default,{textAriaLabel:"Copyable ROSA create ocm-role command",trackEvent:m.trackEvents.CopyOCMRoleCreateAdmin},"rosa create ocm-role --admin"),r.default.createElement(c.Text,{component:c.TextVariants.p,className:"pf-v5-u-mb-sm"},"If not yet linked, run the following command to associate the OCM role with your AWS"," ","account."),r.default.createElement(v.default,{textAriaLabel:"Copyable ROSA link ocm-role command",trackEvent:m.trackEvents.CopyOCMRoleLink},"rosa link ocm-role <arn>"),r.default.createElement(c.Text,{component:c.TextVariants.p,className:"pf-v5-u-mb-sm"},"After running the command, you may need to refresh using the button below to enable auto mode."),r.default.createElement(c.Button,{onClick:()=>{l(),s(d.FieldId.RosaRolesProviderCreationMode,void 0),Y(m.trackEvents.OCMRoleRefreshed)},variant:"secondary"},"Refresh to enable auto mode"))),X=[{value:D,label:"Manual",description:r.default.createElement(r.default.Fragment,null,"You can choose from two options to manually generate the necessary roles and policies for your cluster operators and the OIDC provider: ROSA CLI commands, or AWS CLI commands."," ",r.default.createElement("strong",null,"You must complete one of those options after cluster review for your cluster to complete installation."))},{disabled:!z,value:N,label:"Auto",description:"Immediately create the necessary cluster operator roles and OIDC provider. This mode requires an admin privileged OCM role.",extraField:a.fulfilled&&!z&&J}],ee=(0,E.getOperatorRolesCommand)({forcedByoOidcType:H,byoOidcConfigID:F,customOperatorRolesPrefix:j,installerRoleArn:G,sharedVpcRoleArn:U}),te=(0,E.getForcedByoOidcReason)(H);return r.default.createElement(c.Form,{onSubmit:()=>!1},r.default.createElement(c.Grid,{hasGutter:!0},r.default.createElement(c.GridItem,null,r.default.createElement(c.Title,{headingLevel:"h3"},"Cluster roles and policies")),H?r.default.createElement(c.Alert,{isInline:!0,id:"rosa-require-byo-oidc",variant:"info",title:te}):r.default.createElement(r.default.Fragment,null,r.default.createElement(c.GridItem,null,r.default.createElement(c.Text,{component:c.TextVariants.p},"Set whether you'd like to create the OIDC now or wait to create the OIDC until after installation.")),r.default.createElement(c.GridItem,null,r.default.createElement(c.ToggleGroup,null,r.default.createElement(c.ToggleGroupItem,{text:"Create OIDC Later",buttonId:"managed-oidc-configuration",isSelected:!q,onChange:K(!1)}),r.default.createElement(c.ToggleGroupItem,{text:"Create OIDC Now",buttonId:"customer-oidc-configuration",isSelected:q,onChange:K(!0)})))),r.default.createElement(f.default,{name:"detected_ocm_role"}),$&&r.default.createElement(c.GridItem,null,$),a.pending&&r.default.createElement(c.GridItem,null,r.default.createElement("div",{className:"spinner-fit-container"},r.default.createElement(i.Spinner,null)),r.default.createElement("div",{className:"spinner-loading-text pf-v5-u-ml-xl"},"Checking for admin OCM role...")),a.fulfilled&&!q&&r.default.createElement(r.default.Fragment,null,r.default.createElement(c.GridItem,null,r.default.createElement(c.Text,{component:c.TextVariants.p},"Choose the preferred mode for creating the operator roles and OIDC provider."," ",r.default.createElement(g.default,{href:S.default.ROSA_AWS_IAM_ROLES},"Learn more about ROSA roles"))),r.default.createElement(c.GridItem,{span:10},r.default.createElement(c.FormGroup,{isRequired:!0,fieldId:"role_mode"},r.default.createElement(o.Field,{component:b.default,name:d.FieldId.RosaRolesProviderCreationMode,className:"radio-button",disabled:a.pending,options:X,onChange:(e,t)=>{t&&(s(d.FieldId.RosaRolesProviderCreationMode,t),Y(m.trackEvents.RosaCreationMode,{customProperties:{value:t}}))},disableDefaultValueHandling:!0,input:A(A({},R(d.FieldId.RosaRolesProviderCreationMode)),{},{onChange:e=>{s(d.FieldId.RosaRolesProviderCreationMode,e,!1)}}),meta:T(d.FieldId.RosaRolesProviderCreationMode)})))),q?r.default.createElement(o.Field,{component:I.default,name:d.FieldId.ByoOidcConfigId,label:"Config ID",awsAccountID:k,getUserOidcConfigurations:n,byoOidcConfigID:F,operatorRolesCliCommand:ee,validate:C.required,onSelect:e=>{s(d.FieldId.ByoOidcConfigId,e?e.id:""),s(d.FieldId.ByoOidcConfigIdManaged,!e||e.managed?"true":"false")}}):r.default.createElement(O.default,null)))};L.propTypes={getOCMRole:s.default.func.isRequired,getOCMRoleResponse:s.default.func.isRequired,getUserOidcConfigurations:s.default.func.isRequired,clearGetOcmRoleResponse:s.default.func.isRequired},t.default=L},18686:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(64636),s=a(65652),o=a(98021),i=a(94989),u=l(a(42517)),d=l(a(73269)),c=l(a(90181)),p=l(a(91885));t.default=function(){const{getFieldProps:e,getFieldMeta:t}=(0,o.useFormState)();return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h3"},"Name operator roles")),n.default.createElement(s.GridItem,{span:10},n.default.createElement(s.Text,{component:s.TextVariants.p},"To easily identify the Operator IAM roles for a cluster in your AWS account, the Operator role names are prefixed with your cluster name and a random 4-digit hash. You can optionally replace this prefix.")),n.default.createElement(s.GridItem,{span:6},n.default.createElement(r.Field,{component:d.default,name:i.FieldId.CustomOperatorRolesPrefix,label:"Custom operator roles prefix",type:"text",validate:c.default.checkCustomOperatorRolesPrefix,helpText:`Maximum ${c.default.MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH} characters.  Changing the cluster name will regenerate this value.`,extendedHelpText:n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:s.TextVariants.p},"You can specify a custom prefix for the cluster-specific Operator IAM roles to use."," ",n.default.createElement("br",null),"See examples in"," ",n.default.createElement(u.default,{href:p.default.ROSA_AWS_OPERATOR_ROLE_PREFIX},"Defining a custom Operator IAM role prefix"))),input:e(i.FieldId.CustomOperatorRolesPrefix),meta:t(i.FieldId.CustomOperatorRolesPrefix),showHelpTextOnError:!1})))}},73125:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(64636),o=a(65652),i=l(a(42517)),u=l(a(68248)),d=l(a(50813)),c=l(a(13908)),p=l(a(83384)),m=a(12812),f=a(98021),E=a(94989),g=l(a(90181)),h=l(a(91885)),v=l(a(73269));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function _(){return n.default.createElement(o.Popover,{"aria-label":"oidc-creation-instructions",position:"top",maxWidth:"22rem",style:{"--pf-v5-c-popover--c-button--sibling--PaddingRight":"2rem"},bodyContent:n.default.createElement(o.TextContent,null,n.default.createElement("p",null,"Create a new OIDC config ID by running the following command in your CLI. Then, refresh and select the new config ID from the dropdown."),n.default.createElement(o.ClipboardCopy,{isReadOnly:!0},"rosa create oidc-config"))},n.default.createElement(o.Button,{variant:"link",isInline:!0},"create a new OIDC config id"))}function S(e){let{awsAccountID:t,getUserOidcConfigurations:a,byoOidcConfigID:l,operatorRolesCliCommand:r,onSelect:b}=e;const{getFieldProps:S,getFieldMeta:C}=(0,f.useFormState)(),[y,O]=(0,n.useState)(!1),[I,R]=(0,n.useState)(!1),[T,A]=(0,n.useState)([]),{error:P,touched:D}=C(E.FieldId.ByoOidcConfigId),N=n.default.useCallback((()=>{R(!0);try{a(t).then((e=>{let{action:t}=e;const a=t.payload;A(a),l&&void 0===a.find((e=>e.id===l))&&b(null)}))}finally{setTimeout((()=>{R(!1)}),500)}}),[l,b]);(0,n.useEffect)((()=>{const e=null==T?void 0:T.some((e=>(null==e?void 0:e.id)===l));(null==T?void 0:T.length)>0&&l&&!e&&b(null)}),[l,T,b]),(0,n.useEffect)((()=>{N()}),[]);const L=(0,n.useMemo)((()=>T.map((e=>({entryId:e.id,label:e.id,description:e.issuer_url?`Issuer URL: ${e.issuer_url}`:void 0})))),[T]);return n.default.createElement(c.default,{wide:!0},n.default.createElement(d.default,{simple:!0},n.default.createElement(o.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(o.Text,{component:o.TextVariants.p},"Select your existing OIDC config id or ",n.default.createElement(_,null),".")),n.default.createElement(o.FormGroup,{label:"Config ID",labelIcon:n.default.createElement(u.default,{hint:n.default.createElement("span",null,"The OIDC configuration ID created by running the command"," ",n.default.createElement("pre",null,"rosa create oidc-config"))}),isRequired:!0},n.default.createElement(o.Flex,null,n.default.createElement(o.FlexItem,{grow:{default:"grow"}},n.default.createElement(p.default,{label:"Config ID","aria-label":"Config ID",isOpen:y,onToggle:(e,t)=>O(t),onSelect:(e,t)=>{const a=T.find((e=>e.id===t));O(!1),b(a)},selectedEntryId:l,selectionData:L,isDisabled:0===T.length||I,placeholderText:T.length>0?"Select a config id":"No OIDC configurations found",inlineFilterPlaceholderText:"Filter by config ID"})),n.default.createElement(o.FlexItem,null,n.default.createElement(o.Button,{variant:"secondary",className:"pf-v5-u-mt-md",onClick:N,isLoading:I,isDisabled:I},"Refresh"))),n.default.createElement(m.FormGroupHelperText,{touched:D,error:P}))),n.default.createElement(d.default,{simple:!0},n.default.createElement(o.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(o.Text,{component:o.TextVariants.p},"Enter an Operator role prefix.")),n.default.createElement(s.Field,{component:v.default,name:E.FieldId.CustomOperatorRolesPrefix,label:"Operator roles prefix",type:"text",isRequired:!0,validate:g.default.checkCustomOperatorRolesPrefix,helpText:`Maximum ${g.default.MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH} characters.  Changing the cluster name will regenerate this value.`,extendedHelpText:n.default.createElement(o.TextContent,null,n.default.createElement(o.Text,{component:o.TextVariants.p},"You can specify a custom prefix for the cluster-specific Operator IAM roles to use."," ",n.default.createElement("br",null),"See examples in"," ",n.default.createElement(i.default,{href:h.default.ROSA_AWS_OPERATOR_ROLE_PREFIX},"Defining a custom Operator IAM role prefix"))),showHelpTextOnError:!1,disabled:!l,input:S(E.FieldId.CustomOperatorRolesPrefix),meta:C(E.FieldId.CustomOperatorRolesPrefix)})),n.default.createElement(d.default,{simple:!0},n.default.createElement(o.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(o.Text,{component:o.TextVariants.p},"Run the command to create new Operator Roles.")),r?n.default.createElement(n.default.Fragment,null,n.default.createElement(o.ClipboardCopy,{textAriaLabel:"Copyable ROSA create operator-roles",isReadOnly:!0},r),n.default.createElement("div",{className:"pf-v5-c-clipboard-copy"},n.default.createElement("div",{className:"pf-v5-c-clipboard-copy__expandable-content"},r))):n.default.createElement(o.Skeleton,{fontSize:"md"})))}S.propTypes={awsAccountID:r.default.string,getUserOidcConfigurations:r.default.func.isRequired,byoOidcConfigID:r.default.string,operatorRolesCliCommand:r.default.string,onSelect:r.default.func},t.default=S},96404:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(12616)),s=a(72457);t.default=(0,n.connect)((e=>{const{getOCMRoleResponse:t}=e.rosaReducer;return{getOCMRoleResponse:t}}),(e=>({getOCMRole:t=>e((0,s.getOCMRole)(t)),clearGetOcmRoleResponse:()=>e((0,s.clearGetOcmRoleResponse)()),getUserOidcConfigurations:t=>e((0,s.getUserOidcConfigurations)(t))})))(r.default)},48894:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(45697)),r=l(a(28416)),s=a(9104),o=a(65652),i=a(46786),u=a(85547),d=a(83768),c=a(86896),p=a(69429),m=a(51077),f=a(52758),E=a(95591),g=l(a(75840)),h=l(a(68248)),v=l(a(73269)),b=l(a(92054)),_=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(90181)),S=l(a(10865)),C=l(a(92578)),y=a(12616);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function I(e){let{pending:t,showDNSBaseDomain:a,showAvailability:l,product:n,cloudProviderID:O,isBYOC:I,isMultiAz:R,hasSingleAzQuota:T,hasMultiAzQuota:A,change:P,isWizard:D,isHypershiftSelected:N,clusterPrivacy:L}=e;const w=!A&&p.noQuotaTooltip,M=!T&&p.noQuotaTooltip,k=n===f.normalizedProducts.ROSA;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:6},r.default.createElement(s.Field,{component:b.default,name:"name",label:"Cluster name",type:"text",validate:(0,_.createPessimisticValidator)(_.clusterNameValidation),validation:_.clusterNameValidation,asyncValidation:_.clusterNameAsyncValidation,disabled:t,isRequired:!0,extendedHelpText:c.constants.clusterNameHint,onChange:e=>k&&P("custom_operator_roles_prefix",`${e}-${(0,y.createOperatorRolesHashPrefix)()}`)})),r.default.createElement(o.GridItem,{md:6}),a&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:6},r.default.createElement(s.Field,{component:v.default,name:"dns_base_domain",label:"Base DNS domain",type:"text",validate:_.default.checkBaseDNSDomain,disabled:t,normalize:e=>e.toLowerCase()})),r.default.createElement(o.GridItem,{md:6})),r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:6},r.default.createElement(s.Field,{component:C.default,name:"cluster_version",label:"Version",isRequired:!0,validate:e=>e?void 0:" ",isRosa:k,onChange:e=>{!(0,u.getIncompatibleVersionReason)(i.SupportedFeature.SECURITY_GROUPS,e.raw_id,{day1:!0})||P("securityGroups",(0,d.getDefaultSecurityGroupsSettings)())}})),r.default.createElement(o.GridItem,{md:6})),r.default.createElement(o.GridItem,{md:6},r.default.createElement(o.FormGroup,{label:"Region",isRequired:!0,fieldId:"region",labelIcon:r.default.createElement(h.default,{hint:c.constants.regionHint})},r.default.createElement(s.Field,{component:g.default,name:"region",cloudProviderID:O,disabled:t,isRequired:!0,isMultiAz:R,isBYOC:I,handleCloudRegionChange:()=>{const e=R?3:1,t=[];for(let a=0;a<e;a+=1)t.push((0,E.emptyAWSSubnet)());P("machinePoolsSubnets",t),P("selected_vpc",{id:"",name:""}),"external"===L&&P("cluster_privacy_public_subnet_id","")}}))),r.default.createElement(o.GridItem,{md:6}),l&&N?r.default.createElement(o.Alert,{isInline:!0,variant:"info",title:"The hosted control plane uses multiple availability zones."}):r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:6},r.default.createElement(o.FormGroup,{label:"Availability",isRequired:!0,isInline:!0,fieldId:"availability-toggle"},r.default.createElement(s.Field,{component:S.default,name:"multi_az",disabled:t,onChange:(e,t)=>{const a="true"===t;P("nodes_compute",(0,m.getNodesCount)(I,a,!0)),P("min_replicas",(0,m.getMinReplicasCount)(I,a,!0,N)),P("max_replicas",(0,m.getMinReplicasCount)(I,a,!0,N)),P("machinePoolsSubnets",a?[(0,E.emptyAWSSubnet)(),(0,E.emptyAWSSubnet)(),(0,E.emptyAWSSubnet)()]:[(0,E.emptyAWSSubnet)()])},options:[{value:"false",label:"Single zone",disabled:!T,tooltipText:M,extendedHelpText:c.constants.availabilityHintSingleZone},{value:"true",label:"Multi-zone",disabled:!A,tooltipText:w,extendedHelpText:c.constants.availabilityHintMultiZone}],defaultValue:T?"false":"true",disableDefaultValueHandling:D}))),r.default.createElement(o.GridItem,{md:6})))}I.propTypes={pending:n.default.bool,product:n.default.string.isRequired,isMultiAz:n.default.bool.isRequired,showDNSBaseDomain:n.default.bool,showAvailability:n.default.bool,change:n.default.func.isRequired,cloudProviderID:n.default.string.isRequired,isBYOC:n.default.bool.isRequired,hasSingleAzQuota:n.default.bool.isRequired,hasMultiAzQuota:n.default.bool.isRequired,isWizard:n.default.bool,isHypershiftSelected:n.default.bool,clusterPrivacy:n.default.string},t.default=I},14993:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(38416)),s=l(a(28416)),o=l(a(45697)),i=a(65652),u=a(71359),d=a(95591),c=l(a(7749));a(6932);class p extends s.default.Component{constructor(){super(...arguments),(0,r.default)(this,"onChange",(e=>{const{input:{onChange:t},handleCloudRegionChange:a}=this.props;a&&a(),t(e)}))}componentDidMount(){const{input:e,availableRegions:t}=this.props,{value:a}=e,l=t.find((e=>e.id===a));if(!a||a&&!l){const[e]=t;this.onChange(e.id)}}componentDidUpdate(e){var t,a;const{isMultiAz:l,input:n,cloudProviderID:r,cloudProviders:s}=this.props,o=null==s||null===(t=s.providers)||void 0===t||null===(t=t[r])||void 0===t||null===(t=t.regions)||void 0===t?void 0:t[n.value],i=null===(a=null==o?void 0:o.supports_multi_az)||void 0===a||a;!l||e.isMultiAz||i||this.onChange("aws"===r?d.AWS_DEFAULT_REGION:d.GCP_DEFAULT_REGION)}render(){const{input:e,availableRegions:t,cloudProviders:a,disabled:l,isMultiAz:r}=this.props;return a.fulfilled?s.default.createElement(i.FormSelect,(0,n.default)({className:"cloud-region-combo-box","aria-label":"Region",isDisabled:l},e,{onChange:(e,t)=>this.onChange(t)}),t.map((e=>(e=>s.default.createElement(i.FormSelectOption,{key:e.id,value:e.id,label:`${e.id}, ${e.display_name}`,isDisabled:r&&!e.supports_multi_az}))(e)))):a.error?s.default.createElement(c.default,{message:"Error loading region list",response:a}):s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"spinner-fit-container"},s.default.createElement(u.Spinner,null)),s.default.createElement("div",{className:"spinner-loading-text"},"Loading region list..."))}}p.propTypes={cloudProviderID:o.default.string.isRequired,availableRegions:o.default.array.isRequired,cloudProviders:o.default.object.isRequired,input:o.default.object.isRequired,disabled:o.default.bool,isMultiAz:o.default.bool,handleCloudRegionChange:o.default.func},t.default=p},75840:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(27361)),s=a(9104),o=l(a(14993));t.default=(0,n.connect)(((e,t)=>{const a=(0,s.formValueSelector)("CreateCluster"),{cloudProviders:l,features:n}=e,o=(0,r.default)(e,`cloudProviders.providers[${t.cloudProviderID}].regions`,{}),i="true"===a(e,"hypershift"),u=n.HYPERSHIFT_WIZARD_FEATURE;return{cloudProviders:l,availableRegions:Object.values(o).filter((e=>{const{enabled:a,ccs_only:l,supports_hypershift:n}=e;return u&&i?n&&a:(t.isBYOC||!l)&&a}))}}),null)(o.default)},90366:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=a(65652),o=a(65996),i=a(91290),u=a(71359),d=l(a(94184)),c=l(a(45697)),p=a(69429),m=a(12595),f=a(12812),E=a(64112),g=l(a(7749)),h=l(a(87841));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function b(e){var t,a;let{isRosa:l,rosaMaxOSVersion:c,input:v,isDisabled:b,label:_,meta:{error:S,touched:C},getInstallableVersions:y,getInstallableVersionsResponse:O,selectedClusterVersion:I,hasManagedArnsSelected:R,isHypershiftSelected:T,isOpen:A=!1}=e;const[P,D]=(0,r.useState)(A),[N,L]=(0,r.useState)([]),[w,M]=(0,r.useState)(!1),[k,x]=(0,r.useState)(l||!1),[j]=(0,E.useOCPLifeCycleStatusData)(),F=null==j||null===(t=j[0])||void 0===t?void 0:t.versions,G=null==F?void 0:F.reduce(((e,t)=>(e[t.name]=t.type,e)),{}),U=r.default.useCallback((e=>(0,p.isSupportedMinorVersion)(e.raw_id,c)&&e.rosa_enabled),[c]),V=r.default.useCallback((e=>(0,p.isSupportedMinorVersion)(e.raw_id,c)&&e.hosted_control_plane_enabled),[c]),H=e=>parseFloat(e.raw_id),z=e=>T&&!e.hosted_control_plane_enabled,W=e=>{if(null==e||!e.raw_id)return!1;const t=parseFloat(m.MIN_MANAGED_POLICY_VERSION),a=Number(e.raw_id.split(".")[2]),n=Number(m.MIN_MANAGED_POLICY_VERSION.split(".")[2]),r=R&&(H(e)<t||H(e)===t&&a<n);return l&&!U(e)||r||z(e)};(0,r.useEffect)((()=>{var e;const t="hcp"===(null===(e=O.params)||void 0===e?void 0:e.product);(!O.fulfilled||O.error||t&&!T||!t&&T)&&y(l,T)}),[]),(0,r.useEffect)((()=>{if(O.fulfilled){var e;const t=null!==(e=null==O?void 0:O.versions)&&void 0!==e?e:[],a=t.find((e=>e.raw_id===(null==I?void 0:I.raw_id)));null==I||!I.raw_id||a&&!W(a)||v.onChange(void 0),L(t)}else O.error&&D(!1)}),[O]),(0,r.useEffect)((()=>{if(N.length&&(null==I||!I.raw_id)){const e=N.find((e=>!0===e.default)),t=l&&N.find((e=>U(e))),a=T&&N.find((e=>V(e)));if(l&&!t||T&&!a)return void M(!0);const n=a||t||e||N[0];v.onChange(n)}}),[N,null==I?void 0:I.raw_id,l,c,v,U]);const q=(e,t)=>t?"This version is not compatible with a Hosted control plane":e?"This version is not compatible with the selected ARNs in previous step":"",B=r.default.useMemo((()=>{const e=[],t=[];let a=!1;return N.forEach((l=>{const n=W(l);if(a=a||n,n&&k)return;const s=r.default.createElement(o.SelectOption,{className:"pf-v5-c-dropdown__menu-item",isSelected:(null==I?void 0:I.raw_id)===l.raw_id,value:l.raw_id,formValue:l.raw_id,key:l.id,isDisabled:n,description:q(n,z(l))},`${l.raw_id}`);"Full Support"===(null==G?void 0:G[H(l)])?e.push(s):t.push(s)})),{fullSupport:e,maintenanceSupport:t,hasIncompatibleVersions:a}}),[l,U,null==I?void 0:I.raw_id,G,N,k]);return r.default.createElement(s.FormGroup,(0,n.default)({},v,{label:_,isRequired:!0}),O.error&&r.default.createElement(g.default,{message:"Error getting cluster versions",response:O}),w?r.default.createElement(h.default,{isHypershiftSelected:T}):null,O.pending&&r.default.createElement("div",{className:"spinner-fit-container"},r.default.createElement(u.Spinner,null)),O.fulfilled&&!w&&r.default.createElement(s.Grid,null,r.default.createElement(s.GridItem,null,r.default.createElement(o.Select,{label:_,"aria-label":_,isOpen:P,selections:(null==I?void 0:I.raw_id)||(()=>{const e=N.find((e=>{var t;return(null===(t=v.value)||void 0===t?void 0:t.raw_id)===e.raw_id}));return e?e.raw_id:""})(),onToggle:(e,t)=>{D(t),t&&O.error&&y(l,T)},onSelect:(e,t)=>{D(!1),v.onChange(N.find((e=>e.raw_id===t)))},isDisabled:b,onBlur:e=>e.stopPropagation()},l&&B.hasIncompatibleVersions?r.default.createElement(s.Switch,{className:"pf-v5-u-align-items-center pf-v5-u-mx-md pf-v5-u-mb-sm pf-v5-u-font-size-sm",id:"view-only-compatible-versions","aria-label":"View only compatible versions",key:`compatible-switch-${k}`,label:r.default.createElement(r.default.Fragment,null,r.default.createElement("span",null,"View only compatible versions"),r.default.createElement(s.Popover,{bodyContent:T?"View only versions that are compatible with a Hosted control plane":"View only versions that are compatible with the selected ARNs in previous step",enableFlip:!1},r.default.createElement(s.Button,{variant:"plain",className:"pf-v5-u-p-0 pf-v5-u-ml-md"},r.default.createElement(i.OutlinedQuestionCircleIcon,null)))),hasCheckIcon:!0,isChecked:k,onChange:(e,t)=>{e.preventDefault(),e.stopPropagation(),x(t)}}):r.default.createElement("span",{className:"pf-v5-u-display-none"},""),r.default.createElement(o.SelectGroup,{label:"Full support"},B.fullSupport),r.default.createElement(o.SelectGroup,{label:"Maintenance support",className:(0,d.default)(!(null!==(a=B.maintenanceSupport)&&void 0!==a&&a.length)&&"pf-v5-u-hidden")},B.maintenanceSupport)))),r.default.createElement(f.FormGroupHelperText,{touched:C,error:S}))}b.propTypes={isDisabled:c.default.bool,label:c.default.string,input:c.default.shape({value:c.default.string,onChange:c.default.func}),selectedClusterVersion:c.default.shape({raw_id:c.default.string}),isRosa:c.default.bool,rosaMaxOSVersion:c.default.string,getInstallableVersions:c.default.func.isRequired,getInstallableVersionsResponse:c.default.object.isRequired,initialValue:c.default.string,meta:c.default.shape({touched:c.default.bool,error:c.default.string}),hasManagedArnsSelected:c.default.bool,isHypershiftSelected:c.default.bool,isOpen:c.default.bool},t.default=b},92578:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=l(a(27361)),o=a(70774),i=l(a(90366));t.default=(0,n.connect)((e=>{var t;const{clusterVersions:a}=(0,s.default)(e,"clusters",{}),l=(0,r.formValueSelector)("CreateCluster"),n="true"===l(e,"hypershift"),o=l(e,"installer_role_arn"),i=l(e,"support_role_arn"),u=l(e,"worker_role_arn"),{getAWSAccountRolesARNsResponse:d}=e.rosaReducer;return{hasManagedArnsSelected:null==d||null===(t=d.data)||void 0===t?void 0:t.some((e=>(e.managedPolicies||e.hcpManagedPolicies)&&(e.Installer===o||e.Support===i||e.Worker===u))),isHypershiftSelected:n,rosaMaxOSVersion:l(e,"rosa_max_os_version"),selectedClusterVersion:l(e,"cluster_version"),getInstallableVersionsResponse:a}}),(e=>({getInstallableVersions:(t,a)=>e(o.clustersActions.getInstallableVersions(t,!1,a))})))(i.default)},83110:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=a(69816),o=l(a(48894));t.default=(0,n.connect)(((e,t)=>{const a=(0,r.formValueSelector)("CreateCluster"),{quotaList:l}=e.userProfile.organization,{product:n,billingModel:o,cloudProviderID:i,isBYOC:u}=t;return{clusterPrivacy:a(e,"cluster_privacy"),hasSingleAzQuota:(0,s.availableClustersFromQuota)(l,{product:n,billingModel:o,cloudProviderID:i,isBYOC:u,isMultiAz:!1})>0,hasMultiAzQuota:(0,s.availableClustersFromQuota)(l,{product:n,billingModel:o,cloudProviderID:i,isBYOC:u,isMultiAz:!0})>0}}))(o.default)},86166:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(65652),o=a(9104),i=l(a(59539)),u=a(90181),d=a(12468),c=a(86896),p=a(52758),m=l(a(68248)),f=l(a(58584)),E=l(a(31308)),g=l(a(97298)),h=l(a(84576)),v=l(a(43934)),b=l(a(83110));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function S(e){let{isByoc:t,isMultiAz:a,customerManagedEncryptionSelected:l,selectedRegion:r,cloudProviderID:_,product:S,billingModel:C,change:y,kmsKeyArn:O,etcdKeyArn:I,isEtcdEncryptionSelected:R,isFipsCryptoSelected:T,isHypershiftSelected:A,touch:P}=e;const[D,N]=(0,n.useState)(!1),L=S===p.normalizedProducts.ROSA;return n.default.useEffect((()=>{let e=!1;"true"===l&&(0,u.validateAWSKMSKeyARN)(O,r)&&(e=!0,P("CreateCluster","kms_key_arn")),R&&A&&(0,u.validateAWSKMSKeyARN)(I,r)&&(e=!0,P("CreateCluster","etcd_key_arn")),e&&N(!0)}),[l,O,r]),n.default.useEffect((()=>{!R&&I&&y("etcd_key_arn","")}),[R,y]),n.default.createElement(s.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h3"},"Cluster details")),n.default.createElement(b.default,{cloudProviderID:_,isBYOC:t,isMultiAz:a,showAvailability:!0,change:y,product:S,billingModel:C,isWizard:!0,isHypershiftSelected:A}),!t&&!L&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.GridItem,{md:6},n.default.createElement(s.FormGroup,{label:"Persistent storage",fieldId:"persistent_storage",labelIcon:n.default.createElement(m.default,{hint:c.constants.persistentStorageHint})},n.default.createElement(o.Field,{name:"persistent_storage",component:f.default,currentValue:null,cloudProviderID:_,billingModel:C,product:S,isBYOC:t,isMultiAZ:a}))),n.default.createElement(s.GridItem,{md:6}),n.default.createElement(s.GridItem,{md:6},n.default.createElement(s.FormGroup,{label:"Load balancers",fieldId:"load_balancers",labelIcon:n.default.createElement(m.default,{hint:c.constants.loadBalancersHint})},n.default.createElement(o.Field,{name:"load_balancers",component:E.default,currentValue:null,cloudProviderID:_,billingModel:C,product:S,isBYOC:t,isMultiAZ:a})))),!A&&n.default.createElement(h.default,{parent:"create",disableUVM:!1,planType:S}),n.default.createElement(s.ExpandableSection,{toggleText:"Advanced Encryption",onToggle:()=>{N(!D)},isExpanded:D},t&&n.default.createElement(g.default,{customerManagedEncryptionSelected:l,selectedRegion:r,cloudProviderID:_,kmsKeyArn:O}),n.default.createElement(v.default,{isRosa:L,isHypershiftSelected:A,isEtcdEncryptionSelected:R,isFipsCryptoSelected:T,etcdKeyArn:I,selectedRegion:r}),!A&&R&&n.default.createElement(s.GridItem,{md:6,className:"pf-v5-u-mt-lg"},n.default.createElement(s.FormGroup,{fieldId:"fips",id:"fipsCrypto",label:"FIPS cryptography"},n.default.createElement(o.Field,{component:i.default,name:"fips",label:"Enable FIPS cryptography",extendedHelpText:"Installs and configures your cluster to use only FIPS validated cryptographic libraries for core components and the node operating system.",isDisabled:(0,d.isRestrictedEnv)()}),n.default.createElement("div",{className:"ocm-c--reduxcheckbox-description"},"Install a cluster that uses FIPS Validated / Modules in Process cryptographic libraries on the x86_64 architecture.")))),n.default.createElement(s.GridItem,{md:6})))}S.propTypes={isByoc:r.default.bool,cloudProviderID:r.default.string,isMultiAz:r.default.bool,customerManagedEncryptionSelected:r.default.string,product:r.default.string,billingModel:r.default.string,selectedRegion:r.default.string,change:r.default.func,kmsKeyArn:r.default.string,etcdKeyArn:r.default.string,isEtcdEncryptionSelected:r.default.bool,isFipsCryptoSelected:r.default.bool,isHypershiftSelected:r.default.bool,touch:r.default.func},t.default=S},79434:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(9104),s=l(a(39466)),o=l(a(95591)),i=l(a(86166));t.default=(0,n.connect)(((e,t)=>{const a=(0,r.formValueSelector)("CreateCluster"),l=a(e,"cloud_provider"),n="true"===a(e,"multi_az"),s="true"===a(e,"byoc"),i=a(e,"product"),u=a(e,"billing_model"),d=a(e,"customer_managed_key"),c=a(e,"region"),p=a(e,"kms_key_arn"),m=a(e,"etcd_key_arn"),f=a(e,"etcd_encryption"),E=a(e,"fips"),g=a(e,"machinePoolsSubnets");return{cloudProviderID:l,isMultiAz:n,product:i,billingModel:u,isByoc:s,customerManagedEncryptionSelected:d,selectedRegion:c,kmsKeyArn:p,etcdKeyArn:m,isEtcdEncryptionSelected:f,isFipsCryptoSelected:E,isHypershiftSelected:"true"===a(e,"hypershift"),touch:e=>(0,r.touch)("CreateCluster",...e),initialValues:(0,o.default)({cloudProviderID:l,product:i,isMultiAz:n,isByoc:s,isTrialDefault:t.isTrialDefault,machinePoolsSubnets:g})}}))((0,s.default)(i.default))},56083:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(38416)),s=a(56822),o=a(27707),i=l(a(45697)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=Z(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),d=a(87558),c=a(65652),p=a(65996),m=a(64636),f=a(98021),E=a(70355),g=a(69429),h=a(52758),v=l(a(78913)),b=l(a(15933)),_=a(96106),S=l(a(62656)),C=a(38352),y=a(27849),O=a(58593),I=a(12468),R=a(36632),T=a(94989),A=l(a(14119)),P=l(a(17352)),D=l(a(79434)),N=l(a(10702)),L=l(a(85612)),w=l(a(45084)),M=l(a(93058)),k=l(a(39524)),x=l(a(77995)),j=l(a(31611)),F=l(a(2101)),G=l(a(57816)),U=l(a(96343)),V=l(a(81965)),H=l(a(55584)),z=l(a(68828)),W=l(a(96404)),q=a(1481),B=a(4230),$=l(a(32473));function Z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Z=function(e){return e?a:t})(e)}function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(63185);const Q=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e(t,{resourceType:E.ocmResourceType.MOA,customProperties:{step_name:R.stepNameById[a]}})};class J extends u.default.Component{constructor(){super(...arguments),(0,r.default)(this,"state",{stepIdReached:void 0,currentStepId:void 0,accountAndRolesStepId:void 0,validatedSteps:{}}),(0,r.default)(this,"onCurrentStepChanged",(e=>{let{id:t}=e;const{closeDrawer:a}=this.props;this.setState({currentStepId:t}),a({skipOnClose:!0})})),(0,r.default)(this,"onNext",((e,t)=>{let{id:a}=e,{prevId:l}=t;const{track:n}=this.props,{stepIdReached:r}=this.state;a&&r<a&&this.setState({stepIdReached:a}),Q(n,E.trackEvents.WizardNext,l)})),(0,r.default)(this,"onGoToStep",(e=>{let{id:t}=e;const{track:a}=this.props;Q(a,E.trackEvents.WizardLinkNav,t)})),(0,r.default)(this,"onBack",(e=>{let{id:t}=e;const{track:a}=this.props;Q(a,E.trackEvents.WizardBack,t)})),(0,r.default)(this,"canJumpTo",(e=>{if(v.default.fakeOSD)return!0;const{stepIdReached:t,currentStepId:a,accountAndRolesStepId:l,validatedSteps:n}=this.state,{selectedAWSAccountID:r}=this.props,s=Object.entries(n).some((t=>{let[a,l]=t;return!1===l&&a<e}));return!(e>l&&!r)&&(e<=a||e<=t&&!s)})),(0,r.default)(this,"getUserRoleInfo",(()=>{const{getUserRole:e}=this.props;return e()}))}componentDidMount(){const{machineTypes:e,organization:t,cloudProviders:a,getMachineTypes:l,getOrganizationAndQuota:n,getCloudProviders:r,isHypershiftEnabled:s,getInstallableVersionsResponse:o,clearInstallableVersions:i}=this.props;(0,g.shouldRefetchQuota)(t)&&n(),a.fulfilled||a.pending||r(),e.fulfilled||e.pending||l(),o.fulfilled&&i();const u=s?R.stepId.CONTROL_PLANE:R.stepId.ACCOUNTS_AND_ROLES_AS_FIRST_STEP;this.setState({stepIdReached:u,currentStepId:u,accountAndRolesStepId:(0,R.getAccountAndRolesStepId)(s)})}componentDidUpdate(e,t){const{createClusterResponse:a,isErrorModalOpen:l,openModal:n,formValues:r,isValid:s,isValidating:i,installToVPCSelected:u,configureProxySelected:d}=this.props,{currentStepId:c}=this.state;s===e.isValid||i||this.setState((()=>({validatedSteps:K(K(K(K({},t.validatedSteps),u?{[R.stepId.NETWORKING__VPC_SETTINGS]:void 0}:{}),d?{[R.stepId.NETWORKING__CLUSTER_WIDE_PROXY]:void 0}:{}),{},{[c]:s})}))),!(0,o.isMatch)(e.formValues,r)&&this.setState({stepIdReached:c}),a.error&&!l&&n("osd-create-error")}componentWillUnmount(){const{resetResponse:e,resetForm:t}=this.props;e(),t()}render(){var e;const{installToVPCSelected:t,createClusterResponse:a,machineTypes:l,organization:n,isErrorModalOpen:r,hasProductQuota:o,history:i,privateLinkSelected:m,configureProxySelected:f,isHypershiftEnabled:E,isHypershiftSelected:g,getUserRoleResponse:h}=this.props,{accountAndRolesStepId:b,currentStepId:_}=this.state,S=[E&&{id:R.stepId.CONTROL_PLANE,name:R.stepNameById[R.stepId.CONTROL_PLANE],component:u.default.createElement(j.default,null,u.default.createElement(x.default,null)),canJumpTo:this.canJumpTo(R.stepId.CONTROL_PLANE)},{id:b,name:R.stepNameById[b],component:u.default.createElement(j.default,null,u.default.createElement(z.default,{organizationID:null==n||null===(e=n.details)||void 0===e?void 0:e.id,isHypershiftEnabled:E,isHypershiftSelected:g})),canJumpTo:this.canJumpTo(b)},{name:R.stepNameById[R.stepId.CLUSTER_SETTINGS],canJumpTo:this.canJumpTo(R.stepId.CLUSTER_SETTINGS),steps:[{id:R.stepId.CLUSTER_SETTINGS__DETAILS,name:R.stepNameById[R.stepId.CLUSTER_SETTINGS__DETAILS],component:u.default.createElement(j.default,null,u.default.createElement(D.default,null)),canJumpTo:this.canJumpTo(R.stepId.CLUSTER_SETTINGS__DETAILS)},{id:R.stepId.CLUSTER_SETTINGS__MACHINE_POOL,name:R.stepNameById[R.stepId.CLUSTER_SETTINGS__MACHINE_POOL],component:u.default.createElement(j.default,null,u.default.createElement(N.default,null)),canJumpTo:this.canJumpTo(22)}]},{name:R.stepNameById[R.stepId.NETWORKING],canJumpTo:this.canJumpTo(R.stepId.NETWORKING),steps:[{id:R.stepId.NETWORKING__CONFIGURATION,name:R.stepNameById[R.stepId.NETWORKING__CONFIGURATION],component:u.default.createElement(j.default,null,u.default.createElement(L.default,{showClusterPrivacy:!0,showVPCCheckbox:!0,showClusterWideProxyCheckbox:!0,privateLinkSelected:m,forcePrivateLink:!0})),canJumpTo:this.canJumpTo(R.stepId.NETWORKING__CONFIGURATION)},t&&!g&&{id:R.stepId.NETWORKING__VPC_SETTINGS,name:R.stepNameById[R.stepId.NETWORKING__VPC_SETTINGS],component:u.default.createElement(j.default,null,u.default.createElement(k.default,{privateLinkSelected:m})),canJumpTo:this.canJumpTo(R.stepId.NETWORKING__VPC_SETTINGS)},f&&{id:R.stepId.NETWORKING__CLUSTER_WIDE_PROXY,name:R.stepNameById[R.stepId.NETWORKING__CLUSTER_WIDE_PROXY],component:u.default.createElement(j.default,null,u.default.createElement(P.default,null)),canJumpTo:this.canJumpTo(R.stepId.NETWORKING__CLUSTER_WIDE_PROXY)},{id:R.stepId.NETWORKING__CIDR_RANGES,name:R.stepNameById[R.stepId.NETWORKING__CIDR_RANGES],component:u.default.createElement(j.default,null,u.default.createElement(A.default,{isROSA:!0})),canJumpTo:this.canJumpTo(R.stepId.NETWORKING__CIDR_RANGES)}].filter(Boolean)},{id:R.stepId.CLUSTER_ROLES_AND_POLICIES,name:R.stepNameById[R.stepId.CLUSTER_ROLES_AND_POLICIES],component:u.default.createElement(j.default,null,u.default.createElement(W.default,null)),canJumpTo:this.canJumpTo(R.stepId.CLUSTER_ROLES_AND_POLICIES)},{id:R.stepId.CLUSTER_UPDATES,name:R.stepNameById[R.stepId.CLUSTER_UPDATES],component:u.default.createElement(j.default,null,u.default.createElement(M.default,null)),canJumpTo:this.canJumpTo(R.stepId.CLUSTER_UPDATES)},{id:R.stepId.REVIEW_AND_CREATE,name:R.stepNameById[R.stepId.REVIEW_AND_CREATE],component:u.default.createElement(j.default,null,u.default.createElement(p.WizardContext.Consumer,null,(e=>{let{goToStepById:t}=e;return a.pending?u.default.createElement(c.Bullseye,null,u.default.createElement(c.Stack,null,u.default.createElement(c.StackItem,null,u.default.createElement(c.Bullseye,null,u.default.createElement(s.Spinner,{size:"xl",isSVG:!0}))),u.default.createElement(c.StackItem,null,u.default.createElement(c.Bullseye,null,"Creating your cluster. Do not refresh this page. This request may take a moment...")))):u.default.createElement(w.default,{goToStepById:t})}))),canJumpTo:this.canJumpTo(R.stepId.REVIEW_AND_CREATE)}].filter(Boolean),C="Create ROSA cluster wizard",y=!n.pending&&n.fulfilled;if(a.fulfilled)return i.block((()=>{})),u.default.createElement(d.Navigate,{replace:!0,to:`/details/s/${a.cluster.subscription.id}`});if(y&&!o)return u.default.createElement(d.Navigate,{replace:!0,to:"/create"});const O=[{data:l,name:"Machine types"},{data:n,name:"Organization & Quota"}],I=O.some((e=>e.data.pending)),T=u.default.createElement(G.default,{title:"[V2] Create a ROSA Cluster",breadcrumbs:u.default.createElement(F.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Set up ROSA",path:"/create/rosa/getstarted"},{label:"[V2] Create a ROSA Cluster"}]})});return I||!n.fulfilled&&!n.error?u.default.createElement(u.default.Fragment,null,T,u.default.createElement(c.PageSection,null,u.default.createElement(s.Spinner,{centered:!0}))):O.some((e=>e.data.error))?u.default.createElement(c.PageSection,null,u.default.createElement(U.default,{errors:O.filter((e=>e.data.error)).map((e=>({key:e.name,message:`Error while loading required form data (${e.name})`,response:e.data})))})):u.default.createElement(u.default.Fragment,null,T,u.default.createElement(c.PageSection,null,v.default.fakeOSD&&u.default.createElement(c.Banner,{variant:"gold"},"On submit, a fake ROSA cluster will be created."),u.default.createElement("div",{className:"ocm-page pf-v5-u-display-flex"},r&&u.default.createElement(V.default,null),u.default.createElement(p.Wizard,{className:"rosa-wizard pf-v5-u-flex-1",navAriaLabel:`${C} steps`,mainAriaLabel:`${C} content`,steps:S,isNavExpandable:!0,onNext:this.onNext,onBack:this.onBack,onGoToStep:this.onGoToStep,onCurrentStepChanged:this.onCurrentStepChanged,onClose:()=>i.push("/"),footer:u.default.createElement($.default,{firstStepId:S[0].id,isHypershiftSelected:g,currentStepId:_,accountAndRolesStepId:b,getUserRoleResponse:h,getUserRoleInfo:this.getUserRoleInfo,isSubmitting:a.pending})}),v.default.fakeOSD&&u.default.createElement(B.ValuesPanel,null))))}}function X(e){(0,S.default)();const{values:{[T.FieldId.InstallToVpc]:t,[T.FieldId.UsePrivatelink]:a,[T.FieldId.ConfigureProxy]:l,[T.FieldId.AssociatedAwsId]:r,[T.FieldId.Hypershift]:s},values:o,isValidating:i,isValid:d,resetForm:c}=(0,f.useFormState)(),p="true"===s,m=K(K({},e),{},{installToVPCSelected:t,privateLinkSelected:a,configureProxySelected:l,selectedAWSAccountID:r,isHypershiftSelected:p}),E=(0,_.useFeatureGate)(C.HYPERSHIFT_WIZARD_FEATURE)&&!(0,I.isRestrictedEnv)(),[g,v]=(0,u.useState)(!1),b=(0,u.useMemo)((()=>({forceLeaveWizard:g,setForceLeaveWizard:v})),[g,v]);return u.default.createElement(q.ROSAWizardContext.Provider,{value:b},u.default.createElement(y.AppPage,{title:"Create OpenShift ROSA Cluster"},u.default.createElement(O.AppDrawerContext.Consumer,null,(e=>{let{closeDrawer:t}=e;return u.default.createElement(J,(0,n.default)({},m,{closeDrawer:t,isHypershiftEnabled:E,formValues:o,isValidating:i,isValid:d,resetForm:c}))})),u.default.createElement(H.default,{product:h.normalizedProducts.ROSA,forceLeaveWizard:g})))}const ee=i.default.shape({fulfilled:i.default.bool,error:i.default.bool,pending:i.default.bool});J.propTypes={isValidating:i.default.bool.isRequired,isValid:i.default.bool.isRequired,resetForm:i.default.func.isRequired,installToVPCSelected:i.default.bool,privateLinkSelected:i.default.bool,configureProxySelected:i.default.bool,isErrorModalOpen:i.default.bool,createClusterResponse:i.default.shape({fulfilled:i.default.bool,error:i.default.bool,pending:i.default.bool,cluster:i.default.shape({subscription:i.default.shape({id:i.default.string})})}),machineTypes:ee,organization:i.default.shape({fulfilled:i.default.bool,error:i.default.bool,pending:i.default.bool,details:{id:i.default.string}}),cloudProviders:ee,getMachineTypes:i.default.func,getOrganizationAndQuota:i.default.func,getUserRole:i.default.func,getCloudProviders:i.default.func,resetResponse:i.default.func,openModal:i.default.func,getUserRoleResponse:i.default.object,selectedAWSAccountID:i.default.string,formValues:i.default.object,hasProductQuota:i.default.bool,history:i.default.shape({push:i.default.func.isRequired,block:i.default.func}).isRequired,closeDrawer:i.default.func};const te=e=>{const{onSubmit:t,track:a}=e;return u.default.createElement(m.Formik,{initialValues:T.initialValues,initialTouched:T.initialTouched,validateOnChange:!0,onSubmit:e=>{Q(a,E.trackEvents.WizardSubmit),t(e)}},u.default.createElement(X,e))};te.propTypes=K({},J.propTypes),t.default=(0,b.default)(te)},32473:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(66338),o=a(65652),i=a(65996),u=a(64636),d=a(69429),c=a(26087),p=a(98021),m=a(36632),f=a(61732),E=a(94989);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}const h=e=>{let{firstStepId:t,isHypershiftSelected:a,currentStepId:l,accountAndRolesStepId:r,getUserRoleResponse:g,getUserRoleInfo:h,isSubmitting:v=!1}=e;const{values:b,validateForm:_,setTouched:S,isValidating:C,submitForm:y}=(0,p.useFormState)(),[O,I]=(0,n.useState)(!1),R=(0,s.useSelector)((e=>({accountIDsLoading:e.rosaReducer.getAWSAccountIDsResponse.pending||!1,accountARNsLoading:e.rosaReducer.getAWSAccountRolesARNsResponse.pending||!1,userRoleLoading:e.rosaReducer.getUserRoleResponse.pending||!1,oCMRoleLoading:e.rosaReducer.getOCMRoleResponse.pending||!1,vpcsLoading:e.ccsInquiries.vpcs.pending||!1}))),T=R.vpcsLoading&&l===(e=>e?m.stepId.CLUSTER_SETTINGS__MACHINE_POOL:m.stepId.NETWORKING__VPC_SETTINGS)(a),A=R.accountIDsLoading||R.accountARNsLoading||R.userRoleLoading||R.oCMRoleLoading||T,P=C||A,D=O||A,N=async e=>{if(C)return void(O||I(!0));const t=await _(b);if(Object.keys(t||{}).length>0)return S((0,u.setNestedObjectValues)(t,!0)),void(0,d.scrollToFirstField)((0,c.getScrollErrorIds)(t));if(l===r&&(null==g||!g.fulfilled)){const e=await h();if(!(0,f.isUserRoleForSelectedAWSAccount)(e.value,b[E.FieldId.AssociatedAwsId]))return}e()};return(0,n.useEffect)((()=>{O&&!1===C&&(I(!1),N())}),[C,O]),v?null:n.default.createElement(i.WizardFooter,null,n.default.createElement(i.WizardContext.Consumer,null,(e=>{let{activeStep:a,onNext:l,onBack:r,onClose:s}=e;return n.default.createElement(n.default.Fragment,null,a.id===m.stepId.REVIEW_AND_CREATE?n.default.createElement(o.Button,{variant:"primary","data-testid":"create-cluster-button",onClick:()=>y()},"Create cluster"):n.default.createElement(o.Button,{variant:"primary","data-testid":"wizard-next-button",onClick:()=>{N(l)},isLoading:(0,m.hasLoadingState)(a.id)&&P,isDisabled:(0,m.hasLoadingState)(a.id)&&D},"Next"),n.default.createElement(o.Button,{variant:"secondary","data-testid":"wizard-back-button",onClick:r,isDisabled:a.id===t},"Back"),n.default.createElement(o.Button,{variant:"link","data-testid":"wizard-cancel-button",onClick:s},"Cancel"))})))};h.propTypes={firstStepId:r.default.string.isRequired,isHypershiftSelected:r.default.bool,currentStepId:r.default.string,accountAndRolesStepId:r.default.string.isRequired,getUserRoleResponse:r.default.object.isRequired,getUserRoleInfo:r.default.func.isRequired,isSubmitting:r.default.bool},t.default=h},46994:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=I(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=a(64636),o=a(65652),i=a(12146),u=a(77589),d=a(4651),c=l(a(91885)),p=a(52758),m=l(a(72815)),f=a(90181),E=a(51077),g=a(34431),h=a(98021),v=a(94989),b=l(a(42517)),_=l(a(39666)),S=l(a(1602)),C=a(23343),y=l(a(75204)),O=l(a(5017));function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(I=function(e){return e?a:t})(e)}function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.Z=function(){var e,t;const{values:{[v.FieldId.Hypershift]:a,[v.FieldId.Byoc]:l,[v.FieldId.MultiAz]:n,[v.FieldId.MachineType]:I,[v.FieldId.CloudProviderId]:R,[v.FieldId.Product]:A,[v.FieldId.AutoscalingEnabled]:P,[v.FieldId.NodeLabels]:D,[v.FieldId.ClusterVersion]:N,[v.FieldId.MachinePoolsSubnets]:L,[v.FieldId.BillingModel]:w,[v.FieldId.Imds]:M},setFieldValue:k,getFieldProps:x,getFieldMeta:j}=(0,h.useFormState)(),F=(0,d.useGlobalState)((e=>e)),G="true"===l,U=null==L?void 0:L.length,V="true"===n,H="true"===a,z=!!P,W=null!==(e=null==D||null===(t=D[0])||void 0===t?void 0:t.key)&&void 0!==e&&e,[q,B]=(0,r.useState)(!!W),$=(0,r.useMemo)((()=>{var e;return null!==(e=(0,C.canAutoScaleOnCreateSelector)(F,A))&&void 0!==e&&e}),[F,A]),Z=null==N?void 0:N.raw_id,Y=(0,r.useMemo)((()=>(0,i.getMinNodesRequired)(H,{numMachinePools:U},{isDefaultMachinePool:!0,isByoc:G,isMultiAz:V})),[U,H,G,V]),K=(0,r.useMemo)((()=>(0,u.getWorkerNodeVolumeSizeMaxGiB)(Z)),[Z]),Q=(0,r.useMemo)((()=>"aws"===R&&!H&&G),[R,G,H]),J=(0,r.useMemo)((()=>A===p.normalizedProducts.ROSA),[A]),X=(0,r.useMemo)((()=>null!=w?w:p.billingModels.STANDARD),[w]),ee=(0,r.useMemo)((()=>H?(0,i.getNodeIncrementHypershift)(U):(0,i.getNodeIncrement)(V)),[H,V,U]),te=(0,r.useMemo)((()=>{const e="Compute node count";return H?`${e} (per machine pool)`:V?`${e} (per zone)`:e}),[H,V]),ae=(0,r.useCallback)((()=>H?null:r.default.createElement(o.ExpandableSection,{toggleText:"Add node labels",isExpanded:q,onToggle:(e,t)=>B(t)},r.default.createElement(o.Title,{headingLevel:"h3"},"Node labels (optional)"),r.default.createElement("p",{className:"pf-v5-u-mb-md"},"Configure labels that will apply to all nodes in this machine pool."),r.default.createElement(s.FieldArray,{component:_.default,name:v.FieldId.NodeLabels}))),[H,q]),le=(0,r.useCallback)((()=>Q&&M?r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:8},r.default.createElement(y.default,{isDisabled:!(0,u.canSelectImds)(Z),imds:M,onChangeImds:e=>k(v.FieldId.Imds,e)})),r.default.createElement(o.GridItem,{md:4})):null),[Z,M,Q,k]),ne=(0,r.useCallback)((()=>J&&!H?r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:6},r.default.createElement(O.default,{maxWorkerVolumeSizeGiB:K})),r.default.createElement(o.GridItem,{md:6})):null),[H,J,K]);return r.default.createElement(r.default.Fragment,null,H&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h3"},"Machine pools settings")),r.default.createElement(o.GridItem,{md:12},r.default.createElement(o.Text,{component:o.TextVariants.p},"These settings apply to all created machine pools. After cluster creation, you can alter your compute machine count at any time, but your selected default machine pool instance type is permanent."))),r.default.createElement(o.GridItem,{md:6},r.default.createElement(s.Field,{component:S.default,name:v.FieldId.MachineType,validate:{machine_type:f.required},isMultiAz:V,isBYOC:G,cloudProviderID:R,product:A,billingModel:X,machine_type:{input:T(T({},x(v.FieldId.MachineType)),{},{onChange:e=>k(v.FieldId.MachineType,e)}),meta:j(v.FieldId.MachineType)},machine_type_force_choice:{input:T(T({},x(v.FieldId.MachineTypeForceChoice)),{},{onChange:e=>k(v.FieldId.MachineTypeForceChoice,e)})}})),r.default.createElement(o.GridItem,{md:6}),$&&r.default.createElement(o.GridItem,{md:12},r.default.createElement(g.AutoScale,null)),z?null:r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:6},r.default.createElement(s.Field,{component:m.default,name:v.FieldId.NodesCompute,buttonAriaLabel:"Compute node count information",label:te,isMultiAz:V,isByoc:G,machineType:I,extendedHelpText:r.default.createElement(r.default.Fragment,null,(0,E.computeNodeHintText)(H,!1)," ",r.default.createElement(b.default,{href:J?c.default.ROSA_SERVICE_DEFINITION_COMPUTE:c.default.OSD_SERVICE_DEFINITION_COMPUTE},"Learn more about compute node count")),cloudProviderID:R,product:A,minNodes:Y,increment:ee,billingModel:X,isHypershiftWizard:H,poolNumber:U,input:T(T({},x(v.FieldId.NodesCompute)),{},{onChange:e=>k(v.FieldId.NodesCompute,e)})})),r.default.createElement(o.GridItem,{md:6})),r.default.createElement(le,null),r.default.createElement(ne,null),r.default.createElement(ae,null))}},10702:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(55565));t.default=n.default},85612:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(64636),u=a(52758),d=a(90181),c=l(a(69740)),p=a(70355),m=a(12468),f=a(77589),E=a(72132),g=a(2453),h=a(83768),v=a(86896),b=l(a(42517)),_=a(18483),S=a(94989),C=a(98021),y=a(42599),O=a(79687),I=l(a(10865)),R=l(a(91885));function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function P(e){const{showClusterPrivacy:t,showVPCCheckbox:a,showClusterWideProxyCheckbox:l,privateLinkSelected:n,forcePrivateLink:s}=e,{setFieldValue:T,getFieldProps:P,getFieldMeta:D,values:{[S.FieldId.CloudProvider]:N,[S.FieldId.ConfigureProxy]:L,[S.FieldId.Product]:w,[S.FieldId.Byoc]:M,[S.FieldId.ClusterPrivacy]:k,[S.FieldId.ClusterVersion]:x,[S.FieldId.Hypershift]:j,[S.FieldId.ApplicationIngress]:F,[S.FieldId.MachinePoolsSubnets]:G,[S.FieldId.SecurityGroups]:U,[S.FieldId.ClusterPrivacyPublicSubnetId]:V,[S.FieldId.InstallToVpc]:H,[S.FieldId.SharedVpc]:z,[S.FieldId.SelectedVpc]:W}}=(0,C.useFormState)(),q="internal"===k,B="true"===j,$=null==x?void 0:x.raw_id,{OSD:Z,OSDTrial:Y}=u.normalizedProducts,K=M&&[Z,Y].includes(w),Q=r.default.useRef(),J=l||K,X=M&&!B,ee=(0,f.canConfigureDayOneManagedIngress)($),te=(0,E.isExactMajorMinor)($,4,13),ae=(0,c.default)(),le=w===u.normalizedProducts.ROSA?p.ocmResourceType.MOA:p.ocmResourceType.OSD,ne=(e,t)=>ae(e,{resourceType:le,customProperties:{checked:t}}),re=(e,t)=>{T(S.FieldId.UsePrivatelink,t),t&&T(S.FieldId.InstallToVpc,!0)};s&&q&&!n&&(T(S.FieldId.InstallToVpc,!0),T(S.FieldId.UsePrivatelink,!0));const se=n&&q,oe=r.default.createElement(i.Field,{component:O.ReduxCheckbox,name:S.FieldId.InstallToVpc,label:"Install into an existing VPC",isDisabled:se||L,input:A(A({},P(S.FieldId.InstallToVpc)),{},{onChange:(e,t)=>{return a=t,T(S.FieldId.InstallToVpc,a),a||(z.is_selected&&T(S.FieldId.SharedVpc,{is_allowed:z.is_allowed,is_selected:!1,base_dns_domain:"",hosted_zone_id:"",hosted_zone_role_arn:""}),U&&T(S.FieldId.SecurityGroups,(0,h.getDefaultSecurityGroupsSettings)())),void ne(p.trackEvents.InstallIntoVPC,a);var a}}),meta:D(S.FieldId.InstallToVpc)}),ie=r.default.createElement(i.Field,{component:O.ReduxCheckbox,name:S.FieldId.ConfigureProxy,label:"Configure a cluster-wide proxy",helpText:r.default.createElement("div",{className:"ocm-c--reduxcheckbox-description"},v.constants.clusterProxyHint),input:A(A({},P(S.FieldId.ConfigureProxy)),{},{onChange:(e,t)=>{return a=t,ne(p.trackEvents.ConfigureClusterWideProxy,a),T(S.FieldId.ConfigureProxy,a),void(a&&!H&&(T(S.FieldId.InstallToVpc,!0),ne(p.trackEvents.InstallIntoVPC,a)));var a}}),meta:D(S.FieldId.ConfigureProxy)});return r.default.createElement(o.Form,{onSubmit:e=>(e.preventDefault(),!1)},r.default.createElement(o.Grid,{hasGutter:!0},r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h3"},"Networking configuration")),r.default.createElement(o.GridItem,null,r.default.createElement(o.Text,null,"Configure network access for your cluster.")),t&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Cluster privacy")),r.default.createElement(o.GridItem,null,r.default.createElement(o.Text,null,"Install your cluster with all public or private API endpoints and application routes."," ",B&&"You can customize these options after installation.")),r.default.createElement(i.Field,{component:I.default,isDisabled:(0,m.isRestrictedEnv)(),name:S.FieldId.ClusterPrivacy,ariaLabel:"Cluster privacy",input:A(A({},P(S.FieldId.ClusterPrivacy)),{},{onChange:e=>((e,t)=>{T(S.FieldId.ClusterPrivacy,t),"external"===t?(T(S.FieldId.UsePrivatelink,!1),B||G.every((e=>!e.privateSubnetId&&!e.publicSubnetId&&!e.availabilityZone))&&(T(S.FieldId.InstallToVpc,!1),U&&T(S.FieldId.SecurityGroups,(0,h.getDefaultSecurityGroupsSettings)())),Q.current&&"internal"===k&&T(S.FieldId.ClusterPrivacyPublicSubnetId,Q.current)):(Q.current=V,T(S.FieldId.ClusterPrivacyPublicSubnetId,""))})(0,e)}),options:[{value:"external",ariaLabel:"Public",label:r.default.createElement(r.default.Fragment,null,"Public",r.default.createElement("div",{className:"ocm-c--reduxradiobutton-description"},"Access Kubernetes API endpoint and application routes from the internet.")),extraField:B&&!q&&r.default.createElement(i.Field,{component:_.SubnetSelectField,name:S.FieldId.ClusterPrivacyPublicSubnetId,input:A(A({},P(S.FieldId.ClusterPrivacyPublicSubnetId)),{},{onChange:e=>T(S.FieldId.ClusterPrivacyPublicSubnetId,e)}),meta:D(S.FieldId.ClusterPrivacyPublicSubnetId),label:"Public subnet name",className:"pf-v5-u-mt-md pf-v5-u-ml-lg",isRequired:!0,validate:e=>(0,d.validateRequiredPublicSubnetId)(e,{},{pristine:!D(S.FieldId.ClusterPrivacyPublicSubnetId).touched}),withAutoSelect:!1,selectedVPC:W,privacy:"public",allowedAZs:(0,g.getSelectedAvailabilityZones)(W,G)})},{value:"internal",ariaLabel:"Private",label:r.default.createElement(r.default.Fragment,null,"Private",r.default.createElement("div",{className:"ocm-c--reduxradiobutton-description"},"Access Kubernetes API endpoint and application routes from direct private connections only."))}],disableDefaultValueHandling:!0}),q&&r.default.createElement(o.GridItem,null,r.default.createElement(o.Alert,{variant:"warning",isInline:!0,title:"You will not be able to access your cluster until you edit network settings in your cloud provider."},"aws"===N&&r.default.createElement(b.default,{href:R.default.OSD_AWS_PRIVATE_CONNECTIONS},"Learn more about configuring network settings")))),B&&r.default.createElement(o.GridItem,null,ie),a&&!B&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Virtual Private Cloud (VPC)")),r.default.createElement(o.GridItem,null,r.default.createElement(o.Text,null,"By default, a new VPC will be created for your cluster. Alternatively, you may opt to install to an existing VPC below.")),r.default.createElement(o.GridItem,null,r.default.createElement(o.FormGroup,{fieldId:"install-to-vpc"},q?r.default.createElement(o.Tooltip,{position:"top-start",enableFlip:!0,content:r.default.createElement("p",null,"Private clusters must be installed into an existing VPC and have PrivateLink enabled.")},oe):oe,r.default.createElement(o.FormFieldGroup,null,q&&"aws"===N&&r.default.createElement(o.FormGroup,null,r.default.createElement(i.Field,{component:O.ReduxCheckbox,name:S.FieldId.UsePrivatelink,label:"Use a PrivateLink",onChange:re,isDisabled:s&&q,helpText:r.default.createElement("div",{className:"ocm-c--reduxcheckbox-description"},v.constants.privateLinkHint),input:A(A({},P(S.FieldId.UsePrivatelink)),{},{onChange:(e,t)=>re(0,t)}),meta:D(S.FieldId.UsePrivatelink)})),J&&r.default.createElement(o.FormGroup,null,ie))))),X&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h4",size:"xl"},"Application ingress settings"),r.default.createElement(o.Text,{className:"pf-v5-u-mt-sm"},"Ingress is configured by default."," ",ee?"Customize settings if needed.":"It can be customized for 4.14 clusters or newer.",te&&r.default.createElement(r.default.Fragment,null," ","For 4.13 clusters, refer to"," ",r.default.createElement(b.default,{href:R.default.MANAGED_INGRESS_KNOWLEDGE_BASE},"this knowledge base article"),"."))),ee&&r.default.createElement(i.Field,{component:I.default,name:S.FieldId.ApplicationIngress,ariaLabel:"Use application ingress defaults",isDisabled:!ee,disableDefaultValueHandling:!0,input:A(A({},P(S.FieldId.ApplicationIngress)),{},{onChange:e=>T(S.FieldId.ApplicationIngress,e)}),meta:D(S.FieldId.ApplicationIngress),options:[{value:"default",ariaLabel:"Default settings",label:"Default settings"},{value:"custom",ariaLabel:"Custom settings",label:"Custom settings",extraField:"default"!==F&&r.default.createElement(y.DefaultIngressFieldsFormik,{hasSufficientIngressEditVersion:!0,className:"pf-v5-u-mt-md pf-v5-u-ml-lg",isDay2:!1,canShowLoadBalancer:!1})}]}))))}P.propTypes={showClusterPrivacy:s.default.bool,showVPCCheckbox:s.default.bool,showClusterWideProxyCheckbox:s.default.bool,privateLinkSelected:s.default.bool,forcePrivateLink:s.default.bool},t.default=P},26910:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=R(a(28416)),r=l(a(45697)),s=l(a(41609)),o=a(65652),i=a(66338),u=l(a(78913)),d=a(38352),c=a(52758),p=a(83768),m=a(61732),f=a(10219),E=a(36632),g=a(96106),h=a(98021),v=l(a(29697)),b=a(77589),_=a(23343),S=a(79085),C=R(a(49536)),y=l(a(69948)),O=a(94989);function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(I=function(e){return e?a:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=I(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}a(27267);const T=e=>{var t,a,l,r;let{getUserRole:I,getOCMRole:R,getUserRoleResponse:T,getOCMRoleResponse:A,clearGetUserRoleResponse:P,clearGetOcmRoleResponse:D,goToStepById:N}=e;const{values:{[O.FieldId.Product]:L,[O.FieldId.InstallToVpc]:w,[O.FieldId.ConfigureProxy]:M,[O.FieldId.Hypershift]:k,[O.FieldId.AutoscalingEnabled]:x,[O.FieldId.CloudProvider]:j},values:F,setFieldValue:G}=(0,h.useFormState)(),U=(0,i.useSelector)((e=>(0,_.canAutoScaleOnCreateSelector)(e,L))),V=U&&!!x,H="true"===k,z="true"===F.byoc,W="aws"===F.cloud_provider,q="gcp"===F.cloud_provider,B=F.product===c.normalizedProducts.ROSA,$=H&&!!F.etcd_key_arn,Z=z&&F.kms_key_arn,Y=B||z,K=Y&&F.install_to_vpc&&W,Q=null===(t=F.cluster_version)||void 0===t?void 0:t.raw_id,J=z&&(0,p.hasSelectedSecurityGroups)(F.securityGroups),X=[...B?[]:["cloud_provider"],"name","cluster_version","region","multi_az",...z||B?[]:["persistent_storage"],...!z&&B?["load_balancers"]:[],...z&&W&&!B?["disable_scp_checks"]:[],...H?[]:["enable_user_workload_monitoring"],...z?["customer_managed_key"]:[],...Z?["kms_key_arn"]:[],"etcd_encryption",...H?[]:["fips"],...$?["etcd_key_arn"]:[]],[ee,te]=(0,n.useState)(""),[ae,le]=(0,n.useState)(""),[ne,re]=(0,n.useState)(!1),se=(0,g.useFeatureGate)(d.HYPERSHIFT_WIZARD_FEATURE),oe=(0,g.useFeatureGate)(d.HCP_AWS_BILLING_SHOW);(0,n.useEffect)((()=>{P(),D(),G("detected_ocm_and_user_roles",!1)}),[]),(0,n.useEffect)((()=>{if(B){if(T.fulfilled){const e=(0,m.getUserRoleForSelectedAWSAccount)(T.data,F.associated_aws_id);te(null==e?void 0:e.sts_user)}T.fulfilled||T.pending||T.error||I()}}),[T]),(0,n.useEffect)((()=>{var e;B&&(A.fulfilled&&le(null===(e=A.data)||void 0===e?void 0:e.arn),A.fulfilled||A.pending||A.error||R(F.associated_aws_id))}),[A]),(0,n.useEffect)((()=>{const e=(null==T?void 0:T.error)||!ee||(null==A?void 0:A.error)||!ae;e!==ne&&(re(e),G("detected_ocm_and_user_roles",!e))}),[T,A,ee,ae,ne]);const ie=e=>{let t=e;return"CLUSTER_SETTINGS"===e&&(t=B?"CLUSTER_SETTINGS__DETAILS":"CLUSTER_SETTINGS__CLOUD_PROVIDER"),B?E.stepId[t]:f.stepId[t]},ue=e=>B?E.stepNameById[E.stepId[e]]:f.stepNameById[f.stepId[e]];let de="ACCOUNTS_AND_ROLES";return B&&(de=se?"ACCOUNTS_AND_ROLES_AS_SECOND_STEP":"ACCOUNTS_AND_ROLES_AS_FIRST_STEP"),n.default.createElement("div",{className:"ocm-create-osd-review-screen"},n.default.createElement(o.Title,{headingLevel:"h2",className:"pf-v5-u-pb-md"},"Review your ",B?"ROSA":"dedicated"," cluster"),B&&n.default.createElement(n.default.Fragment,null,n.default.createElement(v.default,{name:O.FieldId.DetectedOcmAndUserRoles}),se&&n.default.createElement(C.default,{title:ue("CONTROL_PLANE"),onGoToStep:()=>N(ie("CONTROL_PLANE"))},(0,C.ReviewItem)({name:"hypershift",formValues:F})),n.default.createElement(C.default,{title:ue(de),onGoToStep:()=>N(ie(de)),initiallyExpanded:ne},(0,C.ReviewItem)({name:O.FieldId.AssociatedAwsId,formValues:F}),H&&oe&&(0,C.ReviewItem)({name:O.FieldId.BillingAccountId,formValues:F}),(0,y.default)({name:"ocm-role",getRoleResponse:A,content:ae}),(0,y.default)({name:"user-role",getRoleResponse:T,content:ee}),(0,C.ReviewItem)({name:O.FieldId.InstallerRoleArn,formValues:F}),(0,C.ReviewItem)({name:O.FieldId.SupportRoleArn,formValues:F}),!H&&(0,C.ReviewItem)({name:O.FieldId.ControlPlaneRoleArn,formValues:F}),(0,C.ReviewItem)({name:O.FieldId.WorkerRoleArn,formValues:F}))),!B&&n.default.createElement(C.default,{title:ue("BILLING_MODEL"),onGoToStep:()=>N(ie("BILLING_MODEL"))},(0,C.ReviewItem)({name:O.FieldId.BillingModel,formValues:F}),(0,C.ReviewItem)({name:O.FieldId.Byoc,formValues:F})),n.default.createElement(C.default,{title:ue("CLUSTER_SETTINGS"),onGoToStep:()=>N(ie("CLUSTER_SETTINGS"))},X.map((e=>(0,C.ReviewItem)({name:e,formValues:F})))),n.default.createElement(C.default,{title:"Default machine pool",onGoToStep:()=>N(ie("CLUSTER_SETTINGS__MACHINE_POOL"))},(0,C.ReviewItem)({name:"machine_type",formValues:F}),U&&(0,C.ReviewItem)({name:"autoscalingEnabled",formValues:F}),V?(0,C.ReviewItem)({name:"min_replicas",formValues:F}):(0,C.ReviewItem)({name:"nodes_compute",formValues:F}),Y&&(0,C.ReviewItem)({name:H?"selected_vpc":"install_to_vpc",formValues:F}),K&&H&&(0,C.ReviewItem)({name:"aws_hosted_machine_pools",formValues:F}),!(1===(null===(a=F.node_labels)||void 0===a?void 0:a.length)&&(0,s.default)(null===(l=F.node_labels)||void 0===l?void 0:l[0]))&&(0,C.ReviewItem)({name:"node_labels",formValues:F}),W&&!H&&z&&(0,b.canSelectImds)(Q)&&(0,C.ReviewItem)({name:"imds",formValues:F}),F.worker_volume_size_gib&&(0,C.ReviewItem)({name:"worker_volume_size_gib",formValues:F})),n.default.createElement(C.default,{title:ue("NETWORKING"),onGoToStep:()=>N(ie("NETWORKING__"+(W?"CONFIGURATION":"CIDR_RANGES")))},(0,C.ReviewItem)({name:"cluster_privacy",formValues:F}),F.cluster_privacy_public_subnet_id&&H&&(0,C.ReviewItem)({name:"cluster_privacy_public_subnet_id",formValues:F}),Y&&"internal"===F.cluster_privacy&&F.install_to_vpc&&(0,C.ReviewItem)({name:"use_privatelink",formValues:F}),K&&!H&&(0,C.ReviewItem)({name:"aws_standalone_vpc",formValues:F}),K&&!H&&J&&(0,C.ReviewItem)({name:"securityGroups",formValues:F}),(null===(r=F.shared_vpc)||void 0===r?void 0:r.is_selected)&&!H&&(0,C.ReviewItem)({name:"shared_vpc",formValues:F}),Y&&F.install_to_vpc&&q&&(0,C.ReviewItem)({name:"gpc_vpc",formValues:F}),w&&(0,C.ReviewItem)({name:"configure_proxy",formValues:F}),w&&M&&(0,C.ReviewItem)({name:"http_proxy_url",formValues:F}),w&&M&&(0,C.ReviewItem)({name:"https_proxy_url",formValues:F}),w&&M&&(0,C.ReviewItem)({name:"no_proxy_domains",formValues:F}),w&&M&&(0,C.ReviewItem)({name:"additional_trust_bundle",formValues:F}),(0,C.ReviewItem)({name:"network_machine_cidr",formValues:F}),(0,C.ReviewItem)({name:"network_service_cidr",formValues:F}),(0,C.ReviewItem)({name:"network_pod_cidr",formValues:F}),(0,C.ReviewItem)({name:"network_host_prefix",formValues:F}),W&&!H&&z&&(0,C.ReviewItem)({name:"applicationIngress",formValues:F}),"default"!==F.applicationIngress&&W&&!H&&z&&n.default.createElement(n.default.Fragment,null,(0,C.ReviewItem)({name:"defaultRouterSelectors",formValues:F}),(0,C.ReviewItem)({name:"defaultRouterExcludedNamespacesFlag",formValues:F}),(0,C.ReviewItem)({name:"isDefaultRouterWildcardPolicyAllowed",formValues:F}),(0,C.ReviewItem)({name:"isDefaultRouterNamespaceOwnershipPolicyStrict",formValues:F}))),B&&n.default.createElement(C.default,{title:ue("CLUSTER_ROLES_AND_POLICIES"),onGoToStep:()=>N(ie("CLUSTER_ROLES_AND_POLICIES"))},!H&&(0,C.ReviewItem)({name:O.FieldId.RosaRolesProviderCreationMode,formValues:F}),F.byo_oidc_config_id&&n.default.createElement(n.default.Fragment,null,(0,C.ReviewItem)({name:O.FieldId.ByoOidcConfigIdManaged,formValues:F}),(0,C.ReviewItem)({name:O.FieldId.ByoOidcConfigId,formValues:F})),(0,C.ReviewItem)({name:O.FieldId.CustomOperatorRolesPrefix,formValues:F})),n.default.createElement(C.default,{title:"Updates",onGoToStep:()=>N(ie("CLUSTER_UPDATES"))},(0,C.ReviewItem)({name:"upgrade_policy",formValues:F}),"automatic"===F.upgrade_policy&&(0,C.ReviewItem)({name:"automatic_upgrade_schedule",formValues:F}),!H&&(0,C.ReviewItem)({name:"node_drain_grace_period",formValues:F})),u.default.fakeOSD&&n.default.createElement(S.DebugClusterRequest,{cloudProvider:j,product:L,formValues:F}))};T.propTypes={getUserRole:r.default.func.isRequired,getOCMRole:r.default.func.isRequired,getOCMRoleResponse:r.default.func.isRequired,getUserRoleResponse:r.default.object.isRequired,clearGetUserRoleResponse:r.default.func.isRequired,clearGetOcmRoleResponse:r.default.func.isRequired,goToStepById:r.default.func.isRequired},t.default=T},69948:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(43047),i=a(38664),u=l(a(72938));const d=e=>{let{name:t,getRoleResponse:a,content:l}=e;return n.default.createElement(s.DescriptionListGroup,{key:t},n.default.createElement(s.DescriptionListTerm,null,t," ARN"),n.default.createElement(s.DescriptionListDescription,null,(null==a?void 0:a.pending)&&n.default.createElement("div",{className:"spinner-fit-container"},n.default.createElement(s.Spinner,{size:"md"})),((null==a?void 0:a.error)||!l&&(null==a?void 0:a.fulfilled))&&n.default.createElement(u.default,{isErrorHint:!0,title:`${t} could not be detected`,bodyContent:n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:s.TextVariants.p},n.default.createElement("span",{className:"danger"},n.default.createElement(o.ExclamationCircleIcon,{className:"status-icon danger"}),n.default.createElement("strong",null,`${t} is no longer linked to your Red Hat organization.`))),n.default.createElement(s.Text,{component:s.TextVariants.p},n.default.createElement("p",null,"Follow the AWS account association instructions and try again"))),footer:n.default.createElement(i.BackToAssociateAwsAccountLink,null),iconClassName:"hand-pointer"}),null!=a&&a.fulfilled?l:null))};d.propTypes={name:r.default.string,getRoleResponse:r.default.object,content:r.default.string},t.default=d},45084:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=a(72457),s=l(a(26910));t.default=(0,n.connect)((e=>{const{getUserRoleResponse:t,getOCMRoleResponse:a}=e.rosaReducer;return{getUserRoleResponse:t,getOCMRoleResponse:a}}),(e=>({getUserRole:()=>e((0,r.getUserRole)()),getOCMRole:t=>e((0,r.getOCMRole)(t)),clearGetUserRoleResponse:()=>e((0,r.clearGetUserRoleResponse)()),clearGetOcmRoleResponse:()=>e((0,r.clearGetOcmRoleResponse)())})))(s.default)},93058:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(65652),s=l(a(56264));t.default=function(){return n.default.createElement(r.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(r.Grid,{hasGutter:!0},n.default.createElement(r.GridItem,null,n.default.createElement(r.Title,{headingLevel:"h3"},"Cluster update strategy")),n.default.createElement(s.default,null)))}},12133:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SingleSubnetFieldsRow=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(64636),u=a(98021),d=l(a(35732)),c=a(18483),p=a(2453),m=l(a(99646)),f=l(a(56585)),E=a(90181),g=a(94989);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const b=e=>{let{index:t,selectedAZ:a,selectedRegion:l,selectedVPC:n,isMultiAz:s,privateLinkSelected:d}=e;const{setFieldValue:h,getFieldProps:b,getFieldMeta:_,values:{[g.FieldId.MachinePoolsSubnets]:S}}=(0,u.useFormState)(),C=`${g.FieldId.MachinePoolsSubnets}[${t}].availabilityZone`,y=`${g.FieldId.MachinePoolsSubnets}[${t}].privateSubnetId`,O=`${g.FieldId.MachinePoolsSubnets}[${t}].publicSubnetId`,I=0===t;let R,T;null!=n&&n.id?a||(R="Select the availability zone"):(T="Select a VPC first",R="Select a VPC first");const A=d?["private"]:["private","public"],P=(0,p.getMatchingAvailabilityZones)(l,n,A);return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:4},r.default.createElement(m.default,{showTooltip:!!T,content:T},r.default.createElement(i.Field,{component:f.default,name:C,label:I?"Availability zone":null,enabledAvailabilityZones:P,vpcId:null==n?void 0:n.id,validate:e=>(0,E.required)(e)||s&&(0,E.validateUniqueAZ)(e,S),isDisabled:!!T,region:l,input:v(v({},b(C)),{},{onChange:e=>h(C,e)}),meta:_(C)}))),r.default.createElement(o.GridItem,{md:4},r.default.createElement(m.default,{showTooltip:!!R,content:R},r.default.createElement(i.Field,{component:c.SubnetSelectField,name:y,isRequired:!0,validate:E.required,privacy:"private",label:I?"Private subnet":null,selectedVPC:n,allowedAZs:a?[a]:[],withAutoSelect:!1,input:v(v({},b(y)),{},{onChange:e=>h(y,e)}),meta:_(y)}))),r.default.createElement(o.GridItem,{md:4},!d&&r.default.createElement(m.default,{showTooltip:!!R,content:R},r.default.createElement(i.Field,{component:c.SubnetSelectField,name:O,isRequired:!0,validate:E.required,privacy:"public",label:I?"Public subnet":null,selectedVPC:n,allowedAZs:a?[a]:[],withAutoSelect:!1,input:v(v({},b(O)),{},{onChange:e=>h(O,e)}),meta:_(O)}))))};t.SingleSubnetFieldsRow=b;const _=e=>{let{selectedVPC:t,selectedRegion:a,selectedAZs:l,isMultiAz:n,privateLinkSelected:s}=e;const{setFieldValue:o,getFieldProps:c,getFieldMeta:p}=(0,u.useFormState)();return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.Field,{component:d.default,name:g.FieldId.SelectedVpc,validate:e=>null!=e&&e.id&&null!=e&&e.name?void 0:"error",selectedVPC:t,showRefresh:!0,isHypershift:!1,isRosaV1:!1,usePrivateLink:s,input:v(v({},c(g.FieldId.SelectedVpc)),{},{onChange:e=>o(g.FieldId.SelectedVpc,e)}),meta:p(g.FieldId.SelectedVpc)}),r.default.createElement(b,{index:0,selectedAZ:l[0],selectedRegion:a,selectedVPC:t,isMultiAz:n,privateLinkSelected:s}),n&&r.default.createElement(r.default.Fragment,null,r.default.createElement(b,{index:1,selectedAZ:l[1],selectedRegion:a,selectedVPC:t,isMultiAz:n,privateLinkSelected:s}),r.default.createElement(b,{index:2,selectedAZ:l[2],selectedRegion:a,selectedVPC:t,isMultiAz:n,privateLinkSelected:s})))};b.propTypes={selectedRegion:s.default.string,selectedVPC:s.default.shape({id:s.default.string,name:s.default.string}),selectedAZ:s.default.string,index:s.default.number,isMultiAz:s.default.bool,privateLinkSelected:s.default.bool},_.propTypes={selectedVPC:s.default.object,selectedRegion:s.default.string,selectedAZs:s.default.arrayOf(s.default.string),isMultiAz:s.default.bool,privateLinkSelected:s.default.bool},t.default=_},49726:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=l(a(4435)),i=l(a(91885)),u=l(a(68248)),d=l(a(42517)),c=l(a(12133)),p=l(a(7792));function m(e){let{selectedRegion:t,selectedVPC:a,selectedAZs:l,openshiftVersion:r,isMultiAz:m,privateLinkSelected:f,cloudProviderID:E,isSharedVpcSelected:g,hostedZoneDomainName:h}=e;return"aws"===E&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h4",size:"md"},"Install into an existing VPC",n.default.createElement(u.default,{iconClassName:"pf-v5-u-ml-sm",hint:n.default.createElement(n.default.Fragment,null,"Your VPC must have public and private subnets. Public subnets are associated with appropriate Ingress rules. Private subnets need appropriate routes and tables."," ",n.default.createElement(d.default,{href:i.default.INSTALL_AWS_VPC},"Learn more about installing into an existing VPC"))})),`To install into an existing VPC, you need to ensure that your VPC is configured with ${f?"":"a public and"}\n            a private subnet for each availability zone that you want the cluster\n            installed into`,".",n.default.createElement(d.default,{href:i.default.INSTALL_AWS_CUSTOM_VPC_REQUIREMENTS},"Learn more about VPC")),n.default.createElement(s.Alert,{variant:"info",isInline:!0,title:"You'll need to match these VPC subnets when you define the CIDR ranges."}),n.default.createElement(c.default,{isMultiAz:m,selectedVPC:a,selectedRegion:t,selectedAZs:l,privateLinkSelected:f}),n.default.createElement(o.default,{selectedVPC:a,openshiftVersion:r}),n.default.createElement(p.default,{hostedZoneDomainName:h,isSelected:g,openshiftVersion:r}))}m.propTypes={hostedZoneDomainName:r.default.string,selectedRegion:r.default.string,selectedVPC:r.default.object.isRequired,selectedAZs:r.default.arrayOf(r.default.string).isRequired,openshiftVersion:r.default.string,isMultiAz:r.default.bool,privateLinkSelected:r.default.bool,isSharedVpcSelected:r.default.bool,cloudProviderID:r.default.string},t.default=m},39524:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(98021),i=a(2453),u=a(95591),d=a(94989),c=l(a(49726));function p(e){let{privateLinkSelected:t}=e;const{setFieldValue:a,setFieldTouched:l,values:{[d.FieldId.ClusterName]:r,[d.FieldId.ClusterVersion]:p,[d.FieldId.SharedVpc]:m,[d.FieldId.SelectedVpc]:f,[d.FieldId.MachinePoolsSubnets]:E,[d.FieldId.MultiAz]:g,[d.FieldId.Region]:h,[d.FieldId.CloudProvider]:v}}=(0,o.useFormState)(),b=(null==m?void 0:m.is_selected)||!1,_=b?`${r}.${m.base_dns_domain||"<selected-base-domain>"}`:void 0,S=null==E?void 0:E.map((e=>e.availabilityZone)),C="true"===g,y=p.raw_id;return n.default.useEffect((()=>{if(!f.id){const e=[(0,u.emptyAWSSubnet)()];C&&(e.push((0,u.emptyAWSSubnet)()),e.push((0,u.emptyAWSSubnet)())),a("machinePoolsSubnets",e),(0,i.getAllSubnetFieldNames)(C).forEach((e=>{l(e,!1)}))}}),[a,l,C,f]),n.default.createElement(s.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h3"},"Virtual Private Cloud (VPC) subnet settings")),n.default.createElement(c.default,{isMultiAz:C,selectedRegion:h,selectedVPC:f,selectedAZs:S,openshiftVersion:y,isSharedVpcSelected:b,privateLinkSelected:t,hostedZoneDomainName:_,cloudProviderID:v})))}p.propTypes={privateLinkSelected:r.default.bool},t.default=p},4230:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.ValuesPanel=void 0;var n=l(a(28416)),r=a(64636),s=a(54075);t.ValuesPanel=()=>{const{values:e,errors:t,touched:a}=(0,r.useFormikContext)();return n.default.createElement("pre",{style:{fontSize:".65rem",flex:"0 0 35em"}},n.default.createElement("div",null,n.default.createElement("strong",null,"formik values:")),n.default.createElement(s.ValuesCodeEditor,{code:JSON.stringify(e,null,2)}),n.default.createElement("div",null,n.default.createElement("strong",null,"formik touched:")),n.default.createElement(s.ValuesCodeEditor,{code:JSON.stringify(a,null,2)}),n.default.createElement("div",null,n.default.createElement("strong",null,"formik errors:")),n.default.createElement(s.ValuesCodeEditor,{code:JSON.stringify(t,null,2)}))}},38664:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackToAssociateAwsAccountLink=void 0;var l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),n=a(65652),r=a(65996),s=a(36632),o=a(38352),i=a(96106);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}t.BackToAssociateAwsAccountLink=()=>{const{goToStepById:e}=(0,l.useContext)(r.WizardContext),t=(0,i.useFeatureGate)(o.HYPERSHIFT_WIZARD_FEATURE),a=(0,s.getAccountAndRolesStepId)(t);return l.default.createElement(n.Button,{variant:"link",isInline:!0,onClick:()=>e(a)},"Back to associate AWS account")}},56264:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=a(64636),o=a(65652),i=a(98021),u=a(94989),d=l(a(42517)),c=l(a(10865)),p=l(a(61816)),m=l(a(47174));a(90398);var f=l(a(91885)),E=a(52758);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=function(){const{setFieldValue:e,setFieldTouched:t,getFieldProps:a,values:{[u.FieldId.UpgradePolicy]:l,[u.FieldId.Product]:n,[u.FieldId.Hypershift]:g}}=(0,i.useFormState)(),v="automatic"===l,b="true"===g,_=!1,S=n===E.normalizedProducts.ROSA,C=r.default.createElement(r.default.Fragment,null,"The cluster will be automatically updated based on your preferred day and start time when new patch updates (",r.default.createElement(d.default,{href:S?f.default.ROSA_Z_STREAM:f.default.OSD_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version."),y=r.default.createElement(r.default.Fragment,null,"The cluster control plane will be automatically updated based on your preferred day and start time when new patch updates (",r.default.createElement(d.default,{href:S?f.default.ROSA_Z_STREAM:f.default.OSD_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version. The worker nodes will need to be manually updated."),O={value:"automatic",label:"Recurring updates",description:b?y:C,extraField:v&&r.default.createElement(o.Grid,null,r.default.createElement(o.GridItem,{md:6},r.default.createElement(s.Field,{component:p.default,name:u.FieldId.AutomaticUpgradeSchedule,input:h(h({},a(u.FieldId.AutomaticUpgradeSchedule)),{},{onChange:a=>{t(u.FieldId.AutomaticUpgradeSchedule),e(u.FieldId.AutomaticUpgradeSchedule,a)}}),isDisabled:_,isHypershift:b})))},I={value:"manual",label:"Individual updates",description:r.default.createElement(r.default.Fragment,null,"Schedule each update individually. Take into consideration end of life dates from the"," ",r.default.createElement(d.default,{href:S?f.default.ROSA_LIFE_CYCLE:f.default.OSD_LIFE_CYCLE},"lifecycle policy")," ","when planning updates.")},R=b?[O,I]:[I,O];return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Text,{component:"p"},"Note: In the event of"," ",r.default.createElement(d.default,{href:"https://access.redhat.com/security/updates/classification/#critical"},"Critical security concerns")," ","(CVEs) that significantly impact the security or stability of the cluster, updates may be"," ","automatically scheduled by Red Hat SRE to the latest z-stream version not impacted by the"," ","CVE within 2 business days after customer notifications.")),r.default.createElement(o.GridItem,{className:"ocm-c-upgrade-policy-radios"},r.default.createElement(s.Field,{component:c.default,name:u.FieldId.UpgradePolicy,isDisabled:_,input:h(h({},a(u.FieldId.UpgradePolicy)),{},{onChange:a=>{t(u.FieldId.UpgradePolicy),e(u.FieldId.UpgradePolicy,a),"manual"===a&&e(u.FieldId.AutomaticUpgradeSchedule,"0 0 * * 0")}}),options:R,defaultValue:"manual",disableDefaultValueHandling:!0})),null,b?null:r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h4",className:"ocm-c-upgrade-node-draining-title"},"Node draining"),r.default.createElement(o.TextContent,null,r.default.createElement(o.Text,{component:o.TextVariants.p},"You may set a grace period for how long pod disruption budget-protected workloads will"," ","be respected during updates. After this grace period, any workloads protected by pod disruption budgets that have not been successfully drained from a node will be forcibly evicted.")),r.default.createElement(s.Field,{name:u.FieldId.NodeDrainGracePeriod,component:m.default,isDisabled:_,input:h(h({},a(u.FieldId.NodeDrainGracePeriod)),{},{onChange:a=>{t(u.FieldId.NodeDrainGracePeriod),e(u.FieldId.NodeDrainGracePeriod,a)}})})))}},59003:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=a(66338),r=a(13126),s=a(70774),o=a(7076),i=a(98371),u=a(22115),d=a(52758),c=a(72457),p=l(a(56083)),m=l(a(80338)),f=a(7046),E=a(69816),g=l(a(19561));t.Z=(0,n.connect)((e=>{const{organization:t}=e.userProfile,{getUserRoleResponse:a}=e.rosaReducer,{clusterVersions:l}=(null==e?void 0:e.clusters)||{};return{isErrorModalOpen:(0,m.default)(e,"osd-create-error"),createClusterResponse:e.clusters.createdCluster,machineTypes:e.machineTypes,organization:t,cloudProviders:e.cloudProviders,hasProductQuota:(0,E.hasManagedQuotaSelector)(e.userProfile.organization.quotaList,d.normalizedProducts.ROSA),getUserRoleResponse:a,getInstallableVersionsResponse:l}}),(e=>({onSubmit:t=>e((()=>(0,g.default)(e,{isWizard:!0})(t))),resetResponse:()=>e((0,s.resetCreatedClusterResponse)()),openModal:t=>{e((0,f.openModal)(t))},closeModal:()=>{e((0,f.closeModal)())},getOrganizationAndQuota:()=>e((0,i.getOrganizationAndQuota)()),getUserRole:()=>e((0,c.getUserRole)()),getMachineTypes:()=>e((0,o.getMachineTypes)()),getCloudProviders:()=>e((0,u.getCloudProviders)()),clearGetUserRoleResponse:()=>e((0,c.clearGetUserRoleResponse)()),clearInstallableVersions:()=>e((0,s.clearInstallableVersions)())})))((0,r.withRouter)(p.default))},36632:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stepNameById=t.stepId=t.hasLoadingState=t.getAccountAndRolesStepId=void 0;const a=t.stepId={ACCOUNTS_AND_ROLES_AS_FIRST_STEP:5,CONTROL_PLANE:10,ACCOUNTS_AND_ROLES_AS_SECOND_STEP:15,CLUSTER_SETTINGS:20,CLUSTER_SETTINGS__DETAILS:21,CLUSTER_SETTINGS__MACHINE_POOL:23,NETWORKING:30,NETWORKING__CONFIGURATION:31,NETWORKING__VPC_SETTINGS:32,NETWORKING__CLUSTER_WIDE_PROXY:33,NETWORKING__CIDR_RANGES:34,CLUSTER_ROLES_AND_POLICIES:40,CLUSTER_UPDATES:50,REVIEW_AND_CREATE:60};t.getAccountAndRolesStepId=e=>e?a.ACCOUNTS_AND_ROLES_AS_SECOND_STEP:a.ACCOUNTS_AND_ROLES_AS_FIRST_STEP,t.hasLoadingState=e=>e!==a.CONTROL_PLANE,t.stepNameById={[a.ACCOUNTS_AND_ROLES_AS_FIRST_STEP]:"Accounts and roles",[a.ACCOUNTS_AND_ROLES_AS_SECOND_STEP]:"Accounts and roles",[a.CONTROL_PLANE]:"Control plane",[a.CLUSTER_SETTINGS]:"Cluster settings",[a.CLUSTER_SETTINGS__DETAILS]:"Details",[a.CLUSTER_SETTINGS__MACHINE_POOL]:"Machine pool",[a.NETWORKING]:"Networking",[a.NETWORKING__CONFIGURATION]:"Configuration",[a.NETWORKING__VPC_SETTINGS]:"VPC settings",[a.NETWORKING__CLUSTER_WIDE_PROXY]:"Cluster-wide proxy",[a.NETWORKING__CIDR_RANGES]:"CIDR ranges",[a.CLUSTER_ROLES_AND_POLICIES]:"Cluster roles and policies",[a.CLUSTER_UPDATES]:"Cluster updates",[a.REVIEW_AND_CREATE]:"Review and create"}},19190:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(64636),u=a(12812);function d(e){let{fieldId:t}=e;const[a,{error:l,touched:s}]=(0,i.useField)(t);return r.default.createElement(o.FormGroup,{fieldId:t},r.default.createElement(o.Split,{hasGutter:!0},r.default.createElement(o.SplitItem,null,r.default.createElement(o.Checkbox,(0,n.default)({},a,{isChecked:!!a.value,id:t})))),r.default.createElement(u.FormGroupHelperText,{touched:s,error:l}))}d.propTypes={fieldId:s.default.string.isRequired},t.default=d},39666:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28369));t.default=n.default},29697:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(64636),s=l(a(45697)),o=l(a(19190));const i=e=>{let{name:t}=e;return n.default.createElement("span",{className:"pf-v5-u-display-none"},n.default.createElement(r.Field,{fieldId:t,component:o.default,name:`${t}`,validate:e=>e?void 0:" "}))};i.propTypes={name:s.default.string.isRequired},t.default=i},10865:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=l(a(68248));class u extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"changeHandler",(e=>{const{input:t,onChangeCallback:a}=this.props,l=e.target.value;t.onChange(l),a&&a(e,l)}))}componentDidMount(){const{defaultValue:e,disableDefaultValueHandling:t,input:a}=this.props;t&&!this.isCurrentValueDisabled()||a.onChange(e)}componentDidUpdate(){const{defaultValue:e,input:t,disableDefaultValueHandling:a}=this.props;a||""===t.value&&t.onChange(e),this.isCurrentValueDisabled()&&t.onChange(e)}isCurrentValueDisabled(){const{options:e,input:t,defaultValue:a}=this.props;return e.some((e=>t.value===e.value&&e.disabled&&e.value!==a))}render(){const{options:e,className:t,input:a,isDisabled:l}=this.props;return r.default.createElement(r.default.Fragment,null,e.map((e=>{const n=r.default.createElement(o.SplitItem,{className:"pf-v5-u-mr-sm"},r.default.createElement(o.Radio,{className:t||"",isChecked:a.value===e.value,key:`${a.name}-${e.value}`,value:e.value,name:a.name,id:`${a.name}-${e.value}`,"data-testid":`${a.name}-${e.value}`,"aria-label":e.ariaLabel||e.label,label:e.label,onChange:this.changeHandler,isDisabled:e.disabled||l,description:e.description}),e.extraField?e.extraField:null);return r.default.createElement(o.Split,{key:`${a.name}-${e.value}-fragment`},e.tooltipText?r.default.createElement(o.Tooltip,{content:e.tooltipText,position:"right"},n):n,e.extendedHelpText?r.default.createElement(o.SplitItem,null,r.default.createElement(i.default,{hint:e.extendedHelpText})):null)})))}}u.propTypes={defaultValue:s.default.string.isRequired,isDisabled:s.default.bool,onChangeCallback:s.default.func,disableDefaultValueHandling:s.default.bool,input:s.default.shape({name:s.default.string.isRequired,onChange:s.default.func.isRequired,value:s.default.string}).isRequired,className:s.default.string,options:s.default.arrayOf(s.default.shape({label:s.default.oneOfType([s.default.string,s.default.node]).isRequired,ariaLabel:s.default.string,value:s.default.string.isRequired,disabled:s.default.bool,description:s.default.node,extraField:s.default.node,extendedHelpText:s.default.oneOfType([s.default.string,s.default.node])})).isRequired},t.default=u},59539:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(70215)),s=l(a(28416)),o=l(a(45697)),i=a(65652),u=a(12812),d=l(a(68248));const c=["name","value"],p=["label","meta","input","isSwitch","helpText","extendedHelpText","isRequired","showInitialValidationErrors"];function m(e){const{label:t,meta:{error:a,touched:l},input:{name:o,value:m},isSwitch:f=!1,helpText:E,extendedHelpText:g,isRequired:h=!1,showInitialValidationErrors:v=!1}=e,b=(0,r.default)(e.input,c),_=(0,r.default)(e,p),S=f?i.Switch:i.Checkbox;return s.default.createElement(i.FormGroup,{fieldId:o},s.default.createElement(i.Split,{hasGutter:!0},s.default.createElement(i.SplitItem,null,s.default.createElement(S,(0,n.default)({isChecked:!!m,id:o,name:o},b,_,{label:s.default.createElement(s.default.Fragment,null,t,h?s.default.createElement("span",{className:"pf-v5-c-form__label-required redux-checkbox-required","aria-hidden":"true"},"*"):null),required:h}))),g&&s.default.createElement(i.SplitItem,null,s.default.createElement(d.default,{hint:g}))),s.default.createElement(u.FormGroupHelperText,{touched:l||v,error:a},E))}m.propTypes={label:o.default.string.isRequired,input:o.default.object.isRequired,meta:o.default.object.isRequired,isSwitch:o.default.bool,isDisabled:o.default.bool,extendedHelpText:o.default.oneOfType([o.default.string,o.default.node]),isRequired:o.default.bool,showInitialValidationErrors:o.default.bool,isHelperTextBeforeField:o.default.bool,helpText:o.default.string,onChange:o.default.func,isFilled:o.default.bool},t.default=m},60742:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(28416)),s=l(a(45697)),o=a(9104),i=l(a(62576));function u(e){const{fieldName:t}=e;return r.default.createElement(o.FieldArray,(0,n.default)({name:t,component:i.default},e))}u.propTypes={fieldName:s.default.string},t.default=u},76486:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(12812),u=l(a(68248));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}class p extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{filename:""}),(0,n.default)(this,"onTextAreaBlur",(e=>{const{input:{onBlur:t}}=this.props;t(e)})),(0,n.default)(this,"handleFileChange",((e,t)=>{const{input:a}=this.props;this.setState({filename:t.name}),a.onChange(t)})),(0,n.default)(this,"handleFileContentChange",((e,t)=>{const{input:a}=this.props;a.onChange(t)})),(0,n.default)(this,"handleFileRejected",((e,t)=>{const{input:{onBlur:a},dropzoneProps:l}=this.props;a(),l&&l.onDropRejected&&l.onDropRejected(e,t)})),(0,n.default)(this,"handleClear",(()=>{const{input:e}=this.props;e.onChange(""),this.setState({filename:""})}))}componentDidMount(){const{placeholder:e,input:{name:t}}=this.props;document.getElementById(t).addEventListener("blur",this.onTextAreaBlur),e&&document.getElementById(t).setAttribute("placeholder",e)}componentWillUnmount(){var e;const{input:{name:t}}=this.props;null===(e=document.getElementById(t))||void 0===e||e.removeEventListener("blur",this.onTextAreaBlur)}render(){const{helpText:e,meta:{error:t,dirty:a,touched:l},input:{name:n,value:s},isRequired:d,label:p,extendedHelpTitle:m,extendedHelpText:f,dropzoneProps:E}=this.props,{filename:g}=this.state;return r.default.createElement(o.FormGroup,{fieldId:n,label:p,labelIcon:f&&r.default.createElement(u.default,{title:m,hint:f}),isRequired:d},r.default.createElement(o.FileUpload,{allowEditingUploadedText:!0,isDragActive:!0,id:n,name:n,type:"text",value:s,filename:g,validated:(a||l)&&t?"error":"default",onFileInputChange:this.handleFileChange,onDataChange:this.handleFileContentChange,onTextChange:this.handleFileContentChange,onClearClick:this.handleClear,dropzoneProps:c(c({},E),{},{onDropRejected:this.handleFileRejected})}),r.default.createElement(i.FormGroupHelperText,{touched:a||l,error:t},e))}}p.defaultProps={helpText:"",isRequired:!1},p.propTypes={helpText:s.default.string,extendedHelpTitle:s.default.oneOfType([s.default.string,s.default.node]),extendedHelpText:s.default.oneOfType([s.default.string,s.default.node]),input:s.default.object.isRequired,meta:s.default.object.isRequired,isRequired:s.default.bool,label:s.default.string,placeholder:s.default.string,dropzoneProps:s.default.object},t.default=p},22881:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(70215)),s=l(a(38416)),o=l(a(28416)),i=l(a(45697)),u=a(65652),d=a(12812),c=l(a(68248));const p=["options","label","helpText","meta","input","disabled","isFormGroup","isRequired","extendedHelpText"];class m extends o.default.Component{constructor(){super(...arguments),(0,s.default)(this,"state",{value:""}),(0,s.default)(this,"onChange",((e,t)=>{const{input:{onChange:a}}=this.props;this.setState({value:e}),a(t,e)}))}render(){const e=this.props,{options:t,label:a,helpText:l,meta:{error:s,touched:i},input:m,disabled:f,isFormGroup:E,isRequired:g,extendedHelpText:h}=e,v=(0,r.default)(e,p),{value:b}=this.state,_=o.default.createElement(u.FormSelect,(0,n.default)({id:m.name,name:m.name,value:b},m,{onChange:(e,t)=>this.onChange(t,e),isDisabled:f},v),t.map((e=>o.default.createElement(u.FormSelectOption,{key:e.value,value:e.value,label:e.name}))));return E?o.default.createElement(u.FormGroup,{fieldId:m.name,label:a,isRequired:g,labelIcon:h&&o.default.createElement(c.default,{hint:h})},_,o.default.createElement(d.FormGroupHelperText,{touched:i,error:s},l)):_}}m.propTypes={options:i.default.arrayOf(i.default.shape({name:i.default.string.isRequired,value:i.default.string.isRequired})).isRequired,input:i.default.shape({onChange:i.default.func.isRequired,name:i.default.string.isRequired}).isRequired,label:i.default.string,helpText:i.default.string,meta:i.default.shape({error:i.default.oneOfType([i.default.string,i.default.bool]),touched:i.default.bool}).isRequired,disabled:i.default.bool,isFormGroup:i.default.bool,isRequired:i.default.bool,extendedHelpText:i.default.oneOfType([i.default.string,i.default.node])},m.defaultProps={isFormGroup:!0},t.default=m},46992:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(28416)),s=l(a(45697)),o=a(9104),i=a(65652),u=a(88993),d=a(71415),c=l(a(26746)),p=a(69429),m=a(90181);a(57629);const f=e=>{let{forceTouch:t,input:a,meta:{touched:l,error:s}}=e;return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.TextInput,(0,n.default)({"aria-label":"Key-value list key",validated:(l||t)&&s?"error":"default"},a)),(l||t)&&s&&r.default.createElement("span",{className:"pf-v5-c-form__helper-text pf-m-error"},s))};f.propTypes={touch:s.default.func,forceTouch:s.default.bool,input:s.default.object.isRequired,meta:s.default.shape({error:s.default.string,touched:s.default.bool})};const E=e=>{let{forceTouch:t,input:a,meta:{touched:l,error:s}}=e;return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.TextInput,(0,n.default)({"aria-label":"Key-value list value",validated:(l||t)&&s?"error":"default"},a)),(l||t)&&s&&r.default.createElement("span",{className:"pf-v5-c-form__helper-text pf-m-error"},s))};E.propTypes={forceTouch:s.default.bool,input:s.default.object.isRequired,meta:s.default.shape({error:s.default.string,touched:s.default.bool})};const g=e=>{let{fields:t,forceTouch:a}=e;return r.default.createElement(i.Grid,{hasGutter:!0},r.default.createElement(i.GridItem,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Key"),r.default.createElement(i.GridItem,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Value"),r.default.createElement(i.GridItem,{span:4}),t.map(((e,l)=>{const n=0===l&&1===t.length;return r.default.createElement(r.default.Fragment,{key:`${t.get(l).id}-${e.key}`},r.default.createElement(i.GridItem,{span:4},r.default.createElement(o.Field,{name:`${e}.key`,type:"text",component:f,index:l,validate:m.validateLabelKey,forceTouch:a})),r.default.createElement(i.GridItem,{span:4},r.default.createElement(o.Field,{name:`${e}.value`,type:"text",component:E,index:l,validate:m.validateLabelValue,forceTouch:a})),r.default.createElement(i.GridItem,{span:4},r.default.createElement(i.Button,{onClick:()=>{t.remove(l)},icon:r.default.createElement(d.MinusCircleIcon,null),variant:"link",isDisabled:n,"aria-label":"Remove item",className:n?"reduxFormKeyValueList-removeBtn-disabled":"reduxFormKeyValueList-removeBtn"})))})),r.default.createElement(i.GridItem,null,r.default.createElement(c.default,{onClick:()=>t.push({id:(0,p.getRandomID)()}),icon:r.default.createElement(u.PlusCircleIcon,null),variant:"link",isInline:!0,className:"reduxFormKeyValueList-addBtn",disableReason:(l=t.getAll(),l&&l.some((e=>!e.key))&&p.nodeKeyValueTooltipText)},"Add additional label")));var l};g.propTypes={forceTouch:s.default.bool,fields:s.default.array.isRequired,meta:s.default.shape({error:s.default.string})},t.default=g},40549:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(9104),o=a(65652),i=a(88993),u=a(71415),d=a(90181),c=a(18483),p=a(95591);a(94035);const m=e=>{let{fields:t,selectedVPC:a,meta:l}=e;return n.default.createElement(o.Grid,{hasGutter:!0},(null==l?void 0:l.warning)&&n.default.createElement(o.GridItem,null,n.default.createElement(o.Alert,{variant:"warning",isPlain:!0,isInline:!0,title:null==l?void 0:l.warning})),n.default.createElement(o.GridItem,{span:2,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Machine pool"),n.default.createElement(o.GridItem,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Private subnet name"),n.default.createElement(o.GridItem,{span:6}),t.map(((e,l)=>{const r=1===t.length;return n.default.createElement(n.default.Fragment,{key:`${t.get(l).privateSubnetId}_${l}`},n.default.createElement(o.GridItem,{span:2},"Machine pool ",l+1),n.default.createElement(o.GridItem,{span:4},n.default.createElement(s.Field,{component:c.SubnetSelectField,name:`${e}.privateSubnetId`,validate:d.validateMultipleMachinePoolsSubnets,isRequired:!0,privacy:"private",selectedVPC:a,withAutoSelect:!1,isNewCluster:!0})),n.default.createElement(o.GridItem,{span:1},n.default.createElement(o.Button,{onClick:()=>t.remove(l),icon:n.default.createElement(u.MinusCircleIcon,null),variant:"link",isDisabled:r,className:r?"reduxFormMachinePoolSubnets-removeBtn-disabled":"reduxFormMachinePoolSubnets-removeBtn"})),n.default.createElement(o.GridItem,{span:5}))})),n.default.createElement(o.GridItem,null,n.default.createElement(o.Button,{onClick:()=>t.push((0,p.emptyAWSSubnet)()),icon:n.default.createElement(i.PlusCircleIcon,null),variant:"link",isInline:!0,className:"reduxFormMachinePoolSubnets-addBtn",isDisabled:!a.id},"Add machine pool")))};m.propTypes={fields:r.default.array.isRequired,selectedVPC:r.default.object,meta:r.default.object.isRequired},t.Z=m},98288:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(70215)),r=l(a(38416)),s=l(a(28416)),o=l(a(45697)),i=a(65652);const u=["name","items","onChange","isDisabled"];class d extends s.default.Component{constructor(){super(...arguments),(0,r.default)(this,"state",{value:null}),(0,r.default)(this,"handleChange",((e,t)=>{const{value:a}=t.currentTarget;this.setState({value:a});const{name:l,onChange:n}=this.props;n(l,a)}))}render(){const e=this.props,{name:t,items:a,onChange:l,isDisabled:r=!1}=e,o=(0,n.default)(e,u),{value:d}=this.state;return s.default.createElement(i.FormGroup,o,a.map((e=>s.default.createElement(i.Radio,{isChecked:null===d?!0===e.isChecked:d===e.value,onChange:(e,t)=>this.handleChange(t,e),value:e.value,label:e.label,isDisabled:r,name:`${t}:${e.value}`,id:`${t}:${e.value}`,key:`${t}:${e.value}`}))))}}d.propTypes={name:o.default.oneOfType([o.default.string,o.default.node,o.default.element]).isRequired,items:o.default.arrayOf(o.default.shape({label:o.default.oneOfType([o.default.string,o.default.node,o.default.element]).isRequired,value:o.default.string.isRequired,isChecked:o.default.bool})).isRequired,isDisabled:o.default.bool,onChange:o.default.func.isRequired},t.default=d},45684:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(9104),o=a(65652),i=a(88993),u=a(71415),d=a(69429),c=a(90181),p=l(a(73269)),m=l(a(22881));a(57629);const f=e=>{let{fields:t,meta:{error:a,submitFailed:l},isEditing:r=!1,canAddMore:f}=e;return n.default.createElement(o.Grid,{hasGutter:!0},n.default.createElement(o.GridItem,{span:3,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Key"),n.default.createElement(o.GridItem,{span:3,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Value"),n.default.createElement(o.GridItem,{span:3,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Effect"),n.default.createElement(o.GridItem,{span:3}),t.map(((e,a)=>{const l=!r&&0===a&&1===t.length;return n.default.createElement(n.default.Fragment,{key:`${t.get(a).id}-${e.key}`},n.default.createElement(o.GridItem,{span:3},n.default.createElement(s.Field,{name:`${e}.key`,component:p.default,index:a,"aria-label":"Key-value list key",isRequired:!0,validate:c.checkTaintKey})),n.default.createElement(o.GridItem,{span:3},n.default.createElement(s.Field,{name:`${e}.value`,component:p.default,index:a,"aria-label":"Key-value list value",isRequired:!0,validate:c.checkTaintValue})),n.default.createElement(o.GridItem,{span:3},n.default.createElement(s.Field,{name:`${e}.effect`,component:m.default,options:[{name:"NoSchedule",value:"NoSchedule"},{name:"NoExecute",value:"NoExecute"},{name:"PreferNoSchedule",value:"PreferNoSchedule"}],isFormGroup:!1})),n.default.createElement(o.GridItem,{span:3},n.default.createElement(o.Button,{onClick:()=>t.remove(a),"aria-label":"Remove item",icon:n.default.createElement(u.MinusCircleIcon,null),variant:"link",isDisabled:l,className:l?"reduxFormKeyValueList-removeBtn-disabled":"reduxFormKeyValueList-removeBtn"})))})),n.default.createElement(o.GridItem,null,n.default.createElement(o.Button,{onClick:()=>t.push({id:(0,d.getRandomID)(),effect:"NoSchedule"}),icon:n.default.createElement(i.PlusCircleIcon,null),variant:"link",isInline:!0,isDisabled:!f,className:"reduxFormKeyValueList-addBtn pf-v5-u-mb-lg"},"Add taint"),l&&a&&n.default.createElement("span",null,a)))};f.propTypes={fields:r.default.array.isRequired,isEditing:r.default.bool,canAddMore:r.default.bool,meta:r.default.shape({error:r.default.string,warning:r.default.string,submitFailed:r.default.bool})},t.default=f},79:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(9104),s=l(a(45697)),o=l(a(59539));const i=e=>{let{name:t}=e;return n.default.createElement("span",{className:"pf-v5-u-display-none"},n.default.createElement(r.Field,{component:o.default,name:`${t}`,validate:e=>e?void 0:" "}))};i.propTypes={name:s.default.string.isRequired},t.default=i},92054:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(65652),i=a(16074),u=a(53688),d=a(68778),c=a(43047),p=l(a(28546)),m=a(12812),f=l(a(68248));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(6355);const v=e=>{let t,{text:a,touched:l,isValid:n,isValidating:s,isInitialized:i}=e;if(!a)return null;let u="";return l&&(!i||s?(t="indeterminate",u="Pending: "):(t=n?"success":"error",u=n?"Satisfied: ":"Not met: ")),r.default.createElement(o.HelperTextItem,{variant:t,hasIcon:!0,isDynamic:!0,component:"li",key:a},r.default.createElement("span",{className:"pf-v5-u-screen-reader"},u),a)},b=e=>{let{touched:t,isValid:a,hasFailures:l,isValidating:n,onClick:s}=e,p=r.default.createElement(u.InfoCircleIcon,{className:"redux-rich-input-field-icon_info"}),m="Validation rules",f="redux-rich-input-field-button_info";return t&&(n?(p=r.default.createElement(i.SpinnerIcon,{className:"redux-rich-input-field-icon_info"}),m="Validation in progress"):a?(p=r.default.createElement(d.CheckCircleIcon,{className:"redux-rich-input-field-icon_success"}),m="All validation rules met",f="redux-rich-input-field-button_valid"):l&&(p=r.default.createElement(c.ExclamationCircleIcon,{className:"redux-rich-input-field-icon_danger"}),m="Not all validation rules met",f="redux-rich-input-field-button_not-valid")),r.default.createElement(o.Button,{variant:"control","aria-label":m,tabIndex:"-1",className:`${f} redux-rich-input-field-button`,onClick:s},p)},_={syncValidation:[],asyncValidation:[]},S=(e,t)=>{switch(t.type){case"set-sync-validation":return h(h({},e),{},{syncValidation:t.payload});case"set-async-validation":return h(h({},e),{},{asyncValidation:t.payload});case"set-async-validating":return h(h({},e),{},{asyncValidation:e.asyncValidation.map((e=>h(h({},e),{},{validating:!!t.value})))});default:throw new Error}},C=e=>{const{label:t,extendedHelpText:a,isRequired:l,input:n,disabled:s,formGroupClass:i,type:u,validation:d,asyncValidation:c,helpTitle:E,helpExample:g,helpText:C,name:y,value:O,onChange:I,meta:{error:R,asyncValidating:T}}=e,A=n?n.value:O,P=n?n.name:y,D=n?n.onChange:I,N=(0,r.createRef)(),[L,w]=(0,r.useState)(!1),[M,k]=(0,r.useState)(!1),[x,j]=(0,r.useState)(!1),[F,G]=(0,r.useReducer)(S,_),U=[].concat(F.syncValidation,F.asyncValidation),V=!L||U.every((e=>!!e.validated)),H=L&&F.asyncValidation.some((e=>e.validating)),z=L&&U.some((e=>!1===e.validated));let W="redux-rich-input-field_info";return L&&!H&&(V?W="redux-rich-input-field_valid":z&&(W="redux-rich-input-field_not-valid")),(0,r.useEffect)((()=>{var e;!1===T&&A&&(e=R,G({type:"set-async-validation",payload:F.asyncValidation.map((t=>h(h({},t),{},{validated:t.text!==e})))}))}),[R,T]),(0,r.useEffect)((()=>{G({type:"set-async-validating",value:!!T})}),[T]),(0,r.useEffect)((()=>{null!=A&&A.length&&w(!0)}),[]),(0,r.useEffect)((()=>{z&&j(!0)}),[z]),(0,r.useEffect)((()=>{(e=>{const t=d(e);G({type:"set-sync-validation",payload:t})})(A),(e=>{const t=c(e);G({type:"set-async-validation",payload:t})})(A)}),[A]),(0,r.useEffect)((()=>{n.onBlur(A)}),[]),r.default.createElement(o.FormGroup,{fieldId:P,label:t,isRequired:l,labelIcon:a&&r.default.createElement(f.default,{hint:a}),className:`${i||""}`},r.default.createElement(o.Popover,{"aria-label":E,headerContent:E,isVisible:x,position:"top-end",withFocusTrap:!1,shouldClose:()=>{M?k(!1):j(!1)},bodyContent:r.default.createElement(o.HelperText,{component:"ul",id:`redux-rich-input-popover-${P}`},U.map((e=>r.default.createElement(v,{key:e.text,touched:L,text:e.text,isValid:e.validated,isValidating:e.validating,isInitialized:void 0!==e.validated})))),footerContent:g},r.default.createElement(o.InputGroup,null,r.default.createElement(o.InputGroupItem,{isFill:!0},r.default.createElement(o.TextInput,{style:{[p.default.name]:"transparent"},value:A,isRequired:l,id:P,name:P,validated:V?"default":"error",isDisabled:s,type:u,autoComplete:"off","aria-invalid":!V,onBlur:e=>{k(!1),j(!1),n.onBlur(e),w(!0)},onClick:()=>{k(!0),j(!0)},onFocus:()=>{k(!0),j(!0)},onChange:(e,t)=>{D(t),!L&&null!=t&&t.length&&w(!0)},ref:N,"aria-describedby":`redux-rich-input-popover-${P}`,className:`${W} redux-rich-input-field`})),r.default.createElement(o.InputGroupItem,null,r.default.createElement(b,{touched:L,isValid:V,hasFailures:z,isValidating:H,onClick:e=>{e.stopPropagation(),j(!0),N.current.focus()}})))),r.default.createElement(m.FormGroupHelperText,{touched:L,error:R},C))};b.propTypes={touched:s.default.bool,isValid:s.default.bool,hasFailures:s.default.bool,isValidating:s.default.bool,onClick:s.default.func},v.propTypes={text:s.default.string,touched:s.default.bool,isValid:s.default.bool,isValidating:s.default.bool,isInitialized:s.default.bool},C.defaultProps={type:"text",validation:()=>[],helpText:"",helpTitle:"",helpExample:"",value:"",onChange:()=>{}},C.propTypes={label:s.default.string,helpText:s.default.string,extendedHelpText:s.default.oneOfType([s.default.string,s.default.node]),disabled:s.default.bool,isRequired:s.default.bool,formGroupClass:s.default.string,type:s.default.string,validation:s.default.func,asyncValidation:s.default.func,helpTitle:s.default.string,helpExample:s.default.node,value:s.default.string,name:s.default.string,onChange:s.default.func,input:s.default.object.isRequired,meta:s.default.shape({error:s.default.string,asyncValidating:s.default.bool})},t.default=C},73269:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(70215)),s=l(a(28416)),o=l(a(45697)),i=a(65652),u=a(4575),d=a(39238),c=a(7766),p=a(12812),m=l(a(68248));const f=["label","helpText","extendedHelpText","isRequired","meta","input","disabled","isTextArea","showHelpTextOnError","inputPrefix","formGroupClass","hasOtherValidation","onAutocomplete","getAutocompleteValue","getAutocompleteText"],E=e=>{let{label:t,helpText:a,extendedHelpText:l,isRequired:o,meta:{error:E,touched:g},input:h,disabled:v,isTextArea:b,showHelpTextOnError:_,inputPrefix:S,formGroupClass:C,hasOtherValidation:y=!1,onAutocomplete:O,getAutocompleteValue:I,getAutocompleteText:R=(e=>e)}=e,T=(0,r.default)(e,f);const[A,P]=s.default.useState(!0),[D,N]=s.default.useState(!1),[L,w]=s.default.useState(I?I():void 0),M=b?i.TextArea:i.TextInput,k={[b?"disabled":"isDisabled"]:v},x="password"===T.type,j=`${T.id||""}-redo`,F=y||!g||!E;let G,{onFocus:U}=h,{onBlur:V}=h;if(I){const e=e=>{e.stopPropagation(),h.onChange(L),O&&O(L,h.name),N(!1)};U=function(){N(!0),h.onFocus&&h.onFocus(...arguments)},V=function(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];"menuitem"!==(null===(e=a[0].relatedTarget.attributes)||void 0===e||null===(e=e.role)||void 0===e?void 0:e.nodeValue)&&a[0].relatedTarget.id!==j&&N(!1),h.onBlur&&h.onBlur(...a)};const t=()=>{I&&w(I())};G=s.default.createElement(i.Menu,{onSelect:e},s.default.createElement(i.MenuContent,null,s.default.createElement(i.MenuList,null,s.default.createElement(i.MenuItem,{itemId:0,actions:s.default.createElement(i.MenuItemAction,{icon:s.default.createElement(c.RedoIcon,{"aria-hidden":!0}),onClick:t,actionId:"redo",id:j,"aria-label":"Redo"})},R(L)))))}const H=s.default.createElement(i.InputGroup,{className:F&&"valid-field"},S?s.default.createElement(i.InputGroupItem,null,s.default.createElement(i.InputGroupText,null,S)):null,s.default.createElement(i.InputGroupItem,{isFill:!0},s.default.createElement(M,(0,n.default)({id:h.name,isRequired:o,validated:F?"default":"error"},k,h,T,{type:x&&!A?"text":T.type,onFocus:U,onBlur:V,className:C}))),x&&s.default.createElement(i.InputGroupItem,null,s.default.createElement(i.Button,{"aria-label":A?"show-password":"hide-password",variant:"control",onClick:()=>P((e=>!e))},A?s.default.createElement(d.EyeSlashIcon,null):s.default.createElement(u.EyeIcon,null))));return s.default.createElement(i.FormGroup,{fieldId:h.name,label:t,isRequired:o,labelIcon:l&&s.default.createElement(m.default,{hint:l}),className:C},I&&s.default.createElement(i.Popper,{trigger:H,popper:G,isVisible:D,enableFlip:!1}),!I&&H,s.default.createElement(p.FormGroupHelperText,{touched:g,error:E,id:`${h.name}-helper`},a))};E.defaultProps={helpText:"",isRequired:!1,showHelpTextOnError:!0,inputPrefix:""},E.propTypes={label:o.default.string,helpText:o.default.oneOfType([o.default.string,o.default.node]),extendedHelpText:o.default.oneOfType([o.default.string,o.default.node]),disabled:o.default.bool,input:o.default.object.isRequired,meta:o.default.object.isRequired,isRequired:o.default.bool,isTextArea:o.default.bool,hasOtherValidation:o.default.bool,showHelpTextOnError:o.default.bool,inputPrefix:o.default.string,formGroupClass:o.default.string,onAutocomplete:o.default.func,getAutocompleteValue:o.default.func,getAutocompleteText:o.default.func},t.default=E},62576:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(28416)),s=a(45697),o=a(9104),i=l(a(82257)),u=a(65652),d=a(88993),c=a(71415),p=l(a(73269)),m=a(69429),f=l(a(26746));a(41108);const E=e=>{let{fieldSpan:t,label:a,isRequired:l,helpText:n}=e;return r.default.createElement(u.GridItem,{className:"field-array-title",span:t},r.default.createElement("p",{className:"pf-v5-c-form__label-text",id:"field-array-label"},a,l?r.default.createElement("span",{className:"pf-v5-c-form__label-required"},"*"):null),n?r.default.createElement("p",{className:"pf-v5-c-form__helper-text",id:"field-array-help-text"},n):null)};E.propTypes={fieldSpan:s.PropTypes.number.isRequired,label:s.PropTypes.string,isRequired:s.PropTypes.bool,helpText:s.PropTypes.string};const g=e=>{let{addNewField:t,areFieldsFilled:a,title:l="Add more"}=e;const n=!a.length||a.includes(!1);return r.default.createElement(u.GridItem,{className:"field-grid-item"},r.default.createElement(u.Button,{onClick:t,icon:r.default.createElement(d.PlusCircleIcon,null),variant:"link",isDisabled:n},l))};g.propTypes={addNewField:s.PropTypes.func.isRequired,areFieldsFilled:s.PropTypes.arrayOf(s.PropTypes.bool).isRequired,title:s.PropTypes.string};const h=e=>{let{isLast:t,errorMessage:a,touched:l,isGroupError:n}=e;return a&&t&&(l||n)?r.default.createElement(u.GridItem,{className:"field-grid-item pf-v5-c-form__helper-text pf-m-error"},a):null};h.propTypes={isLast:s.PropTypes.bool.isRequired,errorMessage:s.PropTypes.string,touched:s.PropTypes.bool,isGroupError:s.PropTypes.bool};const v=e=>{let{index:t,fields:a,onClick:l}=e;const n=0===t&&1===a.length;return r.default.createElement(u.GridItem,{className:"field-grid-item minus-button",span:1},r.default.createElement(f.default,{disableReason:n&&"You cannot delete the only item",tooltipProps:{position:"right",distance:0},onClick:l,icon:r.default.createElement(c.MinusCircleIcon,null),variant:"link"}))};v.propTypes={index:s.PropTypes.number.isRequired,fields:s.PropTypes.array.isRequired,onClick:s.PropTypes.func.isRequired};const b=e=>{let{item:t,index:a,fields:l,fieldSpan:n,fieldName:s,placeholderText:i,validateField:d,disabled:c,onFieldChange:m,setTouched:f}=e;const{id:E}=l.get(a);return r.default.createElement(u.GridItem,{className:"field-grid-item",span:n},r.default.createElement(o.Field,{key:E,component:p.default,name:`${t}.${s}`,type:"text",placeholder:`${i} ${a+1}`,validate:d,disabled:c,onChange:(e,t)=>m(e,t,a),onBlur:()=>{f(!0)}}))};b.propTypes={item:s.PropTypes.object.isRequired,index:s.PropTypes.number.isRequired,fields:s.PropTypes.array.isRequired,fieldSpan:s.PropTypes.number,fieldName:s.PropTypes.string,placeholderText:s.PropTypes.string,validateField:s.PropTypes.func,disabled:s.PropTypes.bool,onFieldChange:s.PropTypes.func,setTouched:s.PropTypes.func.isRequired};const _=e=>{const{fields:t,label:a,helpText:l,isRequired:s,onFormChange:o,fieldSpan:u=8,isGroupError:d,meta:{error:c,submitFailed:p},FieldGridItemComponent:f=b,isFieldFilled:_=(e=>!!e.name),addMoreTitle:S}=e,[C,y]=r.default.useState(!1),[O,I]=r.default.useState([]),R=()=>{t.insert(0,{id:(0,m.getRandomID)()}),I((e=>[!1,...e]))};r.default.useEffect((()=>{p&&y(!0)}),[p]),r.default.useEffect((()=>{0===t.length?R():I(t.map(_))}),[]);const T=(e,t,a)=>{C||y(!0),o&&o(e,t),I((e=>{const l=[...e];return l[a]=!!t,l}))};return r.default.createElement(r.default.Fragment,null,r.default.createElement(E,{fieldSpan:u,label:`${a} (${t.length})`,isRequired:s,helpText:l}),r.default.createElement(g,{addNewField:R,areFieldsFilled:O,title:S}),t.map(((a,l)=>r.default.createElement(r.default.Fragment,{key:`${t.get(l).id}`},r.default.createElement(f,(0,n.default)({item:a,index:l,onFieldChange:T,setTouched:y,fieldSpan:u},e)),r.default.createElement(v,{index:l,fields:t,onClick:()=>(e=>{t.remove(e),I((t=>{const a=[...t];return(0,i.default)(a,e),a}))})(l)}),r.default.createElement(h,{isLast:l===t.length-1,errorMessage:c,touched:C,isGroupError:d})))))};_.propTypes={fields:s.PropTypes.array.isRequired,label:s.PropTypes.string,helpText:s.PropTypes.string,isRequired:s.PropTypes.bool,onFormChange:s.PropTypes.func.isRequired,fieldSpan:s.PropTypes.number,isGroupError:s.PropTypes.bool,meta:s.PropTypes.shape({error:s.PropTypes.string,submitFailed:s.PropTypes.bool}),FieldGridItemComponent:s.PropTypes.func,addMoreTitle:s.PropTypes.string,isFieldFilled:s.PropTypes.func},t.default=_},70245:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(10434)),r=l(a(28416)),s=a(45697),o=a(9104),i=a(65652),u=l(a(73269)),d=l(a(62576));const c=e=>{let{item:t,index:a,fields:l,fieldSpan:s,compoundFields:d,disabled:c,onFieldChange:p,setTouched:m}=e;const{id:f}=l.get(a),E=Math.max(Math.floor(s/d.length),1);return r.default.createElement(r.default.Fragment,null,d.map((e=>{const l=`${f}-${e.name}`;return r.default.createElement(i.GridItem,{className:"field-grid-item",span:E,key:l},r.default.createElement(o.Field,(0,n.default)({component:u.default},e,{name:`${t}.${e.name}`,type:e.type||"text",disabled:c,placeholder:e.getPlaceholderText?e.getPlaceholderText(a):void 0,helpText:e.helpText||e.getHelpText&&e.getHelpText(a)||void 0,onChange:(e,t)=>p(e,t,a),onBlur:()=>{m(!0)}})))})))};c.propTypes={item:s.PropTypes.object.isRequired,index:s.PropTypes.number.isRequired,fields:s.PropTypes.array.isRequired,fieldSpan:s.PropTypes.number,compoundFields:s.PropTypes.array.isRequired,disabled:s.PropTypes.bool,onFieldChange:s.PropTypes.func.isRequired,setTouched:s.PropTypes.func.isRequired},t.default=e=>r.default.createElement(d.default,(0,n.default)({},e,{FieldGridItemComponent:c}))},79687:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReduxCheckbox",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ReduxFieldArray",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"ReduxFormDropdown",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"ReduxFormKeyValueList",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ReduxFormRadioGroup",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ReduxFormTaints",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ReduxSelectDropdown",{enumerable:!0,get:function(){return d.ReduxSelectDropdown}}),Object.defineProperty(t,"ReduxVerticalFormGroup",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"RenderCompoundArrayFields",{enumerable:!0,get:function(){return p.default}});var n=l(a(59539)),r=l(a(22881)),s=l(a(73269)),o=l(a(98288)),i=l(a(46992)),u=l(a(45684)),d=a(96482),c=l(a(60742)),p=l(a(70245))},27188:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(45697)),r=l(a(28416)),s=a(65652),o=a(64284),i=a(94648),u=a(87558),d=a(68778),c=a(4088),p=l(a(52069)),m=a(38406),f=a(60859),E=l(a(2968)),g=l(a(41086)),h=a(33174),v=a(56554);class b extends r.default.Component{componentDidUpdate(e){const{getUnhealthyClusters:t,viewOptions:a}=this.props;(0,v.viewPropsChanged)(a,e.viewOptions)&&t((0,v.createOverviewQueryObject)(a))}render(){const{unhealthyClusters:e,viewOptions:t}=this.props;if(e.fulfilled&&0===e.subscriptions.length)return r.default.createElement(s.Card,{className:"ocm-overview-clusters__card"},r.default.createElement(s.CardTitle,null,"Clusters with issues"),r.default.createElement(s.CardBody,null,r.default.createElement(s.EmptyState,null,r.default.createElement(s.EmptyStateHeader,{icon:r.default.createElement(s.EmptyStateIcon,{icon:d.CheckCircleIcon,color:c.global_success_color_100.value})}),r.default.createElement(s.EmptyStateBody,null,"No issues detected"))));const a=[{title:"Name"},{title:"Issues detected",transforms:[o.textCenter],columnTransforms:[o.textCenter]}],l=e.pending&&e.subscriptions&&e.subscriptions.length>0?(0,E.default)(t.pageSize):e.subscriptions.map((e=>(e=>{const t=r.default.createElement("span",null,(0,m.getIssuesCount)(e));return{cells:[{title:r.default.createElement(u.Link,{to:`/details/s/${e.id}`},(0,p.default)(e))},{title:t}],subscription:e}})(e))),n=e.pending?void 0:e=>(0,f.actionResolver)(e.subscription);return r.default.createElement(s.Card,{className:"ocm-overview-clusters__card"},r.default.createElement(s.CardTitle,null,"Clusters with issues"),r.default.createElement(s.CardBody,null,r.default.createElement(i.Table,{className:"clusters-with-issues","aria-label":"Clusters with issues",cells:a,rows:l,actionResolver:n,variant:o.TableVariant.compact},r.default.createElement(i.TableHeader,null),r.default.createElement(i.TableBody,null)),r.default.createElement(g.default,{viewType:h.viewConstants.OVERVIEW_VIEW,currentPage:t.currentPage,pageSize:t.pageSize,totalCount:t.totalCount,totalPages:t.totalPages,variant:"bottom"})))}}b.propTypes={unhealthyClusters:n.default.shape({subscriptions:n.default.array,pending:n.default.bool,fulfilled:n.default.bool}).isRequired,viewOptions:n.default.shape({currentPage:n.default.number,pageSize:n.default.number,totalCount:n.default.number,totalPages:n.default.number}).isRequired,getUnhealthyClusters:n.default.func.isRequired},t.default=b},78987:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(27188)),s=a(70774),o=a(95696),i=a(33174);const u={setClusterDetails:s.setClusterDetails,getUnhealthyClusters:o.getUnhealthyClusters};t.default=(0,n.connect)((e=>({unhealthyClusters:e.dashboards.unhealthyClusters,viewOptions:e.viewOptions[i.viewConstants.OVERVIEW_VIEW]})),u)(r.default)},43478:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(65652),i=l(a(49596)),u=l(a(61115)),d=l(a(68740));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}a(54416);class p extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"refresh",(()=>{const{getReport:e,getSources:t}=this.props;e(),t({type:"OCP"})}))}componentDidMount(){this.refresh()}render(){const{report:e,sources:t}=this.props,a=t&&t.meta&&0!==t.meta.count;return r.default.createElement(o.Card,{className:"ocm--cost-card"},r.default.createElement(o.CardTitle,null,r.default.createElement(o.Title,{size:"lg",headingLevel:"h2"},"Cost Management")),r.default.createElement(o.CardBody,{className:"ocm--cost-card__body"},!a&&t.fulfilled?r.default.createElement(u.default,null):r.default.createElement(d.default,{report:e})),a&&e.fulfilled&&r.default.createElement(o.CardFooter,null,r.default.createElement("a",{href:`${(0,i.default)()}/cost-management`},"View more in Cost management")))}}p.propTypes={getReport:s.default.func.isRequired,getSources:s.default.func.isRequired,report:s.default.shape({data:s.default.array,meta:s.default.object,pending:s.default.bool,fulfilled:s.default.bool}).isRequired,sources:s.default.shape({meta:s.default.object,pending:s.default.bool,fulfilled:s.default.bool}).isRequired},t.default=p},61115:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(65652),s=l(a(51552)),o=l(a(42517)),i=l(a(91885));t.default=()=>n.default.createElement(r.EmptyState,{variant:r.EmptyStateVariant.lg,className:"pf-m-redhat-font"},n.default.createElement(r.EmptyStateHeader,{titleText:"Track your OpenShift spending!",icon:n.default.createElement(r.EmptyStateIcon,{icon:s.default}),headingLevel:"h2"}),n.default.createElement(r.EmptyStateBody,null,"Add an OpenShift Container Platform cluster to see a total cost breakdown of your pods by cluster, node, project, or labels."),n.default.createElement(r.EmptyStateFooter,null,n.default.createElement(r.EmptyStateActions,null,n.default.createElement(o.default,{href:i.default.COSTMGMT_ADDING_OCP},"Add an OpenShift cluster to Cost Management"))))},32283:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=l(a(97543));const o=e=>{let{className:t}=e;return n.default.createElement("img",{className:`ocm--cost-icon ${t}`,src:s.default,alt:"Cost Management","aria-hidden":"true"})};o.propTypes={className:r.default.string},t.default=o},51552:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32283));t.default=n.default},68740:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=l(a(69573)),i=a(65652);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}a(54416);class d extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"getClusters",(()=>{const{report:e}=this.props,t=e&&e.meta&&e.meta.total&&e.meta.total.cost&&e.meta.total.cost.total,a=t?e.meta.total.cost.total.value:0;return t?e&&e.data.map((e=>e.clusters.map((e=>e.values.map((e=>{const t=e.clusters&&e.clusters.length?e.clusters[0]:e.cluster,l=e.cost&&e.cost.total?e.cost.total.value:0,n=e.cost&&e.cost.total?e.cost.total.units:"USD",s=a>0?l/a:0,o=`${d.formatCurrency(l,n)} (${d.formatPercentage(s)})`;return r.default.createElement(r.default.Fragment,{key:e.cluster},r.default.createElement(i.TextListItem,{component:i.TextListItemVariants.dt},t),r.default.createElement(i.TextListItem,{component:i.TextListItemVariants.dd},o))})))))):null})),(0,n.default)(this,"getTotal",(()=>{const{report:e}=this.props,t=e&&e.meta&&e.meta.total&&e.meta.total.cost&&e.meta.total.cost.total,a=t?e.meta.total.cost.total.value:0,l=t?e.meta.total.cost.total.units:"USD";return d.formatCurrency(a,l)}))}render(){const{report:e}=this.props;return e.fulfilled?r.default.createElement(i.Grid,{hasGutter:!0},r.default.createElement(i.GridItem,{lg:5,md:12},r.default.createElement(i.Title,{className:"ocm--cost-total",size:"2xl",headingLevel:"h2"},this.getTotal()),r.default.createElement("span",{className:"ocm--cost-total__desc"},"Month-to-date cost")),r.default.createElement(i.GridItem,{lg:7,md:12},r.default.createElement("div",{className:"ocm--cost-clusters"},r.default.createElement(i.TextContent,null,r.default.createElement(i.TextList,{component:i.TextListVariants.dl},r.default.createElement(i.TextListItem,{component:i.TextListItemVariants.dt,key:"top-clusters"},"Top clusters"),this.getClusters()))))):r.default.createElement(o.default,{size:"md"})}}(0,n.default)(d,"formatCurrency",(function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toLocaleString("en",{style:"currency",currency:e,minimumFractionDigits:2,maximumFractionDigits:2})})),(0,n.default)(d,"formatPercentage",(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toLocaleString("en",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0})})),d.propTypes={report:s.default.shape({data:s.default.array,meta:s.default.object,pending:s.default.bool,fulfilled:s.default.bool}).isRequired},t.default=d},0:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(43478)),s=a(89479);const o={getReport:s.getReport,getSources:s.getSources,getUserAccess:s.getUserAccess};t.default=(0,n.connect)((e=>({report:e.cost.report,sources:e.cost.sources,userAccess:e.cost.userAccess})),o)(r.default)},59412:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),r=l(a(45697)),s=a(65652),o=a(64171),i=l(a(71359)),u=l(a(95325)),d=l(a(32892)),c=l(a(85957)),p=l(a(10791)),m=l(a(74680)),f=l(a(78987)),E=l(a(0)),g=l(a(83454)),h=l(a(3970)),v=l(a(52437)),b=a(56554),_=l(a(96343)),S=l(a(66076));a(85295);var C=a(27849);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}const O="Overview | Red Hat OpenShift Cluster Manager";class I extends n.Component{componentDidMount(){const{summaryDashboard:e,getSummaryDashboard:t,unhealthyClusters:a,getUnhealthyClusters:l,getUserAccess:n,viewOptions:r,getOrganizationAndQuota:s,organization:o,insightsOverview:i,fetchOrganizationInsights:u}=this.props;e.fulfilled||e.pending||t(),a.fulfilled||a.pending||l((0,b.createOverviewQueryObject)(r)),o.pending||o.fulfilled||s(),i.pending||i.fulfilled||u(),n({type:"OCP"})}render(){const{summaryDashboard:e,unhealthyClusters:t,viewOptions:a,invalidateSubscriptions:l,totalClusters:r,totalConnectedClusters:b,totalUnhealthyClusters:y,totalCPU:I,usedCPU:R,totalMem:T,usedMem:A,upToDate:P,upgradeAvailable:D,insightsOverview:N,userAccess:L}=this.props,w=e.error||t.error,M=!e.fulfilled||e.pending||!t.fulfilled||t.pending,k=N.fulfilled&&N.overview;if(w){let a;a=e.error?e:t;const{errorMessage:l,errorCode:r,operationID:s}=a,o={errorMessage:l,errorCode:r,operationID:s};return n.default.createElement(_.default,{response:o})}return M&&!w?n.default.createElement(C.AppPage,{title:O},n.default.createElement(s.EmptyState,null,n.default.createElement(s.EmptyStateBody,null,n.default.createElement(i.default,{centered:!0})))):e.fulfilled&&!r?n.default.createElement(C.AppPage,{title:O},n.default.createElement(p.default,null)):n.default.createElement(C.AppPage,{title:O},n.default.createElement(o.PageHeader,null,n.default.createElement(s.Split,{hasGutter:!0},n.default.createElement(s.SplitItem,null,n.default.createElement(s.Title,{headingLevel:"h1",size:"2xl",className:"page-title","widget-type":"InsightsPageHeaderTitle"},"Dashboard")),n.default.createElement(s.SplitItem,{isFilled:!0}),n.default.createElement(s.SplitItem,null,n.default.createElement(u.default,{isDashboardView:!0})))),n.default.createElement(s.PageSection,null,n.default.createElement(s.Grid,{hasGutter:!0,className:"ocm-c-overview"},n.default.createElement(v.default,{isError:e.error,totalClusters:r,totalUnhealthyClusters:y,totalConnectedClusters:b,totalCPU:I,usedCPU:R,totalMem:T,usedMem:A}),b>0&&n.default.createElement(s.GridItem,{md:6},n.default.createElement(f.default,{unhealthyClusters:t,viewOptions:a})),k&&n.default.createElement(s.GridItem,{md:6},n.default.createElement(S.default,{overview:N.overview})),n.default.createElement(s.GridItem,{md:6},n.default.createElement(s.Card,{className:"ocm-overview-clusters__card"},n.default.createElement(s.CardTitle,null,"Telemetry"),n.default.createElement(s.CardBody,null,b||r?n.default.createElement(c.default,{donutId:"connected_clusters_donut",used:b,total:r,availableTitle:"Not checking in",usedTitle:"Connected",unit:"clusters"}):n.default.createElement(s.EmptyState,null,n.default.createElement(s.EmptyStateBody,null,"No data available"))))),L.fulfilled&&void 0!==L.data&&!0===L.data&&n.default.createElement(s.GridItem,{md:6},n.default.createElement(E.default,null)),n.default.createElement(s.GridItem,{md:6},n.default.createElement(s.Card,{className:"ocm-overview-clusters__card"},n.default.createElement(s.CardTitle,null,"Update status"),n.default.createElement(s.CardBody,null,D.value||P.value?n.default.createElement(c.default,{donutId:"update_available_donut",used:P.value,total:D.value+P.value,unit:"clusters",availableTitle:"Update available",usedTitle:"Up-to-date"}):n.default.createElement(s.EmptyState,null,n.default.createElement(s.EmptyStateBody,null,"No data available"))))),n.default.createElement(s.GridItem,null,n.default.createElement(m.default,null))),n.default.createElement(d.default,{ModalComponent:g.default,onClose:l}),n.default.createElement(d.default,{ModalComponent:h.default,onClose:l})))}}I.propTypes={getSummaryDashboard:r.default.func.isRequired,getUserAccess:r.default.func.isRequired,invalidateSubscriptions:r.default.func.isRequired,summaryDashboard:r.default.object.isRequired,getUnhealthyClusters:r.default.func.isRequired,unhealthyClusters:r.default.shape({clusters:r.default.array,error:r.default.bool,pending:r.default.bool,fulfilled:r.default.bool}).isRequired,viewOptions:r.default.shape({currentPage:r.default.number,pageSize:r.default.number,totalCount:r.default.number,totalPages:r.default.number}).isRequired,totalClusters:r.default.number.isRequired,totalConnectedClusters:r.default.number.isRequired,totalUnhealthyClusters:r.default.number.isRequired,totalCPU:r.default.object.isRequired,usedCPU:r.default.object.isRequired,totalMem:r.default.object.isRequired,usedMem:r.default.object.isRequired,upToDate:r.default.object.isRequired,upgradeAvailable:r.default.object.isRequired,fetchOrganizationInsights:r.default.func.isRequired,insightsOverview:r.default.object.isRequired,userAccess:r.default.shape({data:r.default.bool,pending:r.default.bool,fulfilled:r.default.bool}).isRequired,getOrganizationAndQuota:r.default.func.isRequired,organization:r.default.object.isRequired},t.default=I},39506:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(87558),o=a(65652),i=a(64284),u=a(94648),d=l(a(41086)),c=a(33174),p=a(56554),m=l(a(76490)),f=l(a(2968)),E=a(29611);class g extends n.default.Component{componentDidMount(){const{getSubscriptions:e,subscriptions:t,viewOptions:a}=this.props;t.fulfilled||t.pending||e((0,p.createOverviewQueryObject)(a,E.expiredTrialsFilter))}componentDidUpdate(e){const{getSubscriptions:t,subscriptions:a,viewOptions:l}=this.props;(!a.pending&&!a.valid||(0,p.viewPropsChanged)(l,e.viewOptions))&&t((0,p.createOverviewQueryObject)(l,E.expiredTrialsFilter))}render(){const{viewOptions:e,subscriptions:t,openModal:a}=this.props;if(t.error)return n.default.createElement(o.Card,{className:"ocm-overview-clusters__card"},n.default.createElement(o.CardTitle,null,"Expired trials"),n.default.createElement(o.CardBody,null,n.default.createElement(o.EmptyState,null,n.default.createElement(o.EmptyStateHeader,{titleText:"No data available",headingLevel:"h2"}),n.default.createElement(o.EmptyStateBody,null,"There was an error fetching the data. Try refreshing the page."))));if(!t.items||0===t.items.length)return null;const l=t.pending&&t.items&&t.items.length>0,r=l?(0,f.default)(e.pageSize):t.items.map((e=>(e=>{const t=e.display_name||e.external_cluster_id;return{cells:[{title:n.default.createElement(s.Link,{to:`/details/s/${e.id}`},t)}],subscription:e}})(e)));return n.default.createElement(o.Card,{className:"ocm-overview-clusters__card"},n.default.createElement(o.CardTitle,null,"Expired Trials"),n.default.createElement(o.CardBody,null,n.default.createElement(u.Table,{"aria-label":"Expired Trials",cells:[{title:"Name"}],rows:r,variant:i.TableVariant.compact,actionResolver:l?void 0:e=>{let{subscription:t}=e;return[{title:"Edit subscription settings",onClick:()=>a("edit-subscription-settings",{subscription:t})},{title:"Archive cluster",onClick:()=>a(m.default.ARCHIVE_CLUSTER,{subscriptionID:t.id,name:t.display_name||t.external_cluster_id})}]},areActionsDisabled:e=>{let{subscription:t}=e;return!t.canEdit}},n.default.createElement(u.TableHeader,null),n.default.createElement(u.TableBody,null)),n.default.createElement(d.default,{viewType:c.viewConstants.OVERVIEW_EXPIRED_TRIALS,currentPage:e.currentPage,pageSize:e.pageSize,totalCount:e.totalCount,totalPages:e.totalPages,variant:"bottom",isDisabled:t.pending,perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"25",value:25},{title:"50",value:50}]})))}}g.propTypes={getSubscriptions:r.default.func.isRequired,subscriptions:r.default.object.isRequired,viewOptions:r.default.object.isRequired,openModal:r.default.func.isRequired},t.default=g},29611:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expiredTrialsFilter=t.default=void 0;var l=a(52758);const n=t.expiredTrialsFilter={filter:`support_level='${l.subscriptionSupportLevels.NONE}' AND status NOT IN ('Deprovisioned', 'Archived')`};t.default=n},74680:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(66338),r=l(a(39506)),s=a(82069),o=a(33174),i=a(7046);const u={getSubscriptions:s.getSubscriptions,openModal:i.openModal};t.default=(0,n.connect)((e=>({subscriptions:e.subscriptions.subscriptions,viewOptions:e.viewOptions[o.viewConstants.OVERVIEW_EXPIRED_TRIALS]})),u)(r.default)},68529:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(80810),s=a(65652),o=l(a(91885)),i=l(a(42517));t.default=()=>n.default.createElement(s.EmptyState,{isFullHeight:!0,className:"ocm-insights--advisor-empty-state"},n.default.createElement(s.EmptyStateHeader,{titleText:"No Advisor recommendations",icon:n.default.createElement(s.EmptyStateIcon,{icon:r.SearchIcon}),headingLevel:"h4"}),n.default.createElement(s.EmptyStateBody,null,"This feature uses the Remote Health functionality of OpenShift Container Platform. For further details about Insights, see the"," ",n.default.createElement(i.default,{href:o.default.REMOTE_HEALTH_INSIGHTS},"OpenShift documentation"),"."))},31968:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.categoryMapping=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(47404),i=a(49596),u=a(38406);const d=t.categoryMapping={service_availability:1,performance:2,fault_tolerance:3,security:4},c=e=>{let{data:t,index:a,x:l,y:r,style:s}=e;const o=t[a],{name:u,count:c,tags:p}=o;return n.default.createElement("text",{x:l,y:r,style:s,dy:5,"data-testid":"titleComponent"},n.default.createElement("tspan",{x:l,y:r},u,":"," ",n.default.createElement("a",{href:`${(0,i.advisorBaseName)()}/recommendations?category=${d[p]}`,className:"enabled-link","data-testid":p},c)))};c.propTypes={data:r.default.array.isRequired,index:r.default.number.isRequired,x:r.default.number.isRequired,y:r.default.number.isRequired,style:r.default.object.isRequired};const p=e=>{let{tagHits:t,groups:a}=e;const l=(0,u.groupTagHitsByGroups)(t,[...a]),r=Object.values(l).reduce(((e,t)=>{let{count:a}=t;return e+a}),0);return n.default.createElement(s.Flex,{className:"ocm-insights--groups-chart",direction:{default:"column"}},n.default.createElement(s.FlexItem,null,n.default.createElement(s.Title,{size:"lg",headingLevel:"h2"},"Recommendations by category")),n.default.createElement(s.FlexItem,null,n.default.createElement(o.ChartPie,{labelRadius:25,ariaTitle:"Categories statistics",constrainToVisibleArea:!0,data:Object.entries(l).map((e=>{let[t,a]=e;return{x:t,y:a.count}})),width:400,height:120,padding:{bottom:30,left:0,right:300,top:10},labels:e=>{let{datum:t}=e;return 0===parseInt(t.y,10)||0===r?"":`${(parseInt(t.y,10)/r*100).toFixed()}%`},legendData:Object.entries(l).map((e=>{let[t,{count:a,tags:l}]=e;return{name:t,count:a,tags:l,symbol:{type:"circle"}}})),legendPosition:"right",legendAllowWrap:!0,legendComponent:n.default.createElement(o.ChartLegend,{labelComponent:n.default.createElement(c,null),height:100,width:300,itemsPerRow:2,orientation:"horizontal",className:"pf-m-redhat-font",style:{labels:{fontSize:12}},gutter:30})})))};p.propTypes={tagHits:r.default.object.isRequired,groups:r.default.array.isRequired},t.default=p},5695:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(49596),u=l(a(39186)),d=a(38406);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function p(e){let{riskHits:t}=e;return r.default.createElement(o.Flex,{className:"ocm-insights--risk-chart",direction:{default:"column"}},r.default.createElement(o.FlexItem,{spacer:{default:"spacerLg"}},r.default.createElement(o.Title,{className:"ocm-insights--risk-chart__title",size:"lg",headingLevel:"h2"},"Advisor recommendations by severity"),r.default.createElement(u.default,null)),r.default.createElement(o.FlexItem,{className:"ocm-insights--risk-chart__items",spacer:{default:"spacerLg"}},r.default.createElement(o.Flex,{justifyContent:{default:"justifyContentFlexStart"},fullWidth:{default:"50%"},spaceItems:{sm:"spaceItemsXl",md:"spaceItemsLg",lg:"spaceItems2xl","2xl":"spaceItems4xl"}},Object.entries(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({1:0,2:0,3:0,4:0},t)).reverse().map((e=>{let[t,a]=e;return r.default.createElement(o.FlexItem,{className:"ocm-insights--items__risk-item","data-testid":"ocm-insights--items__risk-item",key:t},r.default.createElement(o.Flex,{direction:{default:"column"},alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsNone"}},r.default.createElement(o.FlexItem,{className:"ocm-insights--risk-item__count"},r.default.createElement(o.Title,{size:"2xl",headingLevel:"h1"},r.default.createElement("a",{href:`${(0,i.advisorBaseName)()}/recommendations?total_risk=${t}`},a))),r.default.createElement(o.FlexItem,{className:"ocm-insights--risk-item__label"},(0,d.getSeverityName)(t))))})))))}t.default=p,p.propTypes={riskHits:s.default.object.isRequired}},39186:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=a(65652),s=a(84213),o=a(34268),i=l(a(91885)),u=l(a(42517));t.default=()=>n.default.createElement(r.Popover,{className:"ocm-insights--info-popover","aria-label":"What is Insights?",position:"left",maxWidth:"25rem",enableFlip:!0,bodyContent:n.default.createElement(n.default.Fragment,null,n.default.createElement("p",null,"Insights identifies and prioritizes risks to security, performance, availability, and stability of your clusters."),n.default.createElement("p",null,"This feature uses the Remote Health functionality of OpenShift Container Platform. For further details about Insights, see the"," ",n.default.createElement(u.default,{href:i.default.REMOTE_HEALTH_INSIGHTS},"OpenShift documentation"),"."))},n.default.createElement(r.Icon,{className:"ocm-insights--info-popover__icon"},n.default.createElement(s.HelpIcon,{color:o.global_Color_dark_200.value})))},66076:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(49596),i=l(a(5695)),u=l(a(31968)),d=l(a(68529)),c=a(83494);a(74861);const p=e=>{let{overview:t}=e;return n.default.createElement(s.Card,{className:"ocm-insights--advisor-card",ouiaId:"insightsAdvisor"},n.default.createElement(s.CardBody,{className:"ocm-insights--advisor-card__body"},t.clusters_hit&&0!==t.clusters_hit?n.default.createElement(n.default.Fragment,null,n.default.createElement(i.default,{riskHits:t.hit_by_risk}),n.default.createElement(u.default,{tagHits:t.hit_by_tag,groups:c.INSIGHTS_RULE_CATEGORIES}),n.default.createElement("a",{href:(0,o.advisorBaseName)(),style:{marginTop:"1rem"}},"View more in Insights Advisor")):n.default.createElement(d.default,null)))};t.default=p,p.propTypes={overview:r.default.object.isRequired}},38086:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=a(66338),r=l(a(27361)),s=l(a(59412)),o=a(95696),i=a(89479),u=a(82069),d=a(70436),c=a(70774),p=a(33174),m=a(98371);const f={fetchClusters:c.fetchClusters,getSummaryDashboard:o.getSummaryDashboard,getUnhealthyClusters:o.getUnhealthyClusters,getUserAccess:i.getUserAccess,invalidateSubscriptions:u.invalidateSubscriptions,fetchOrganizationInsights:d.fetchOrganizationInsights,getOrganizationAndQuota:m.getOrganizationAndQuota};t.Z=(0,n.connect)((e=>({summaryDashboard:e.dashboards.summary,unhealthyClusters:e.dashboards.unhealthyClusters,viewOptions:e.viewOptions[p.viewConstants.OVERVIEW_VIEW],clusters:e.clusters.clusters,insightsOverview:e.insightsData.overview,userAccess:e.cost.userAccess,organization:e.userProfile.organization,totalClusters:(0,r.default)(e.dashboards.summary,"metrics.clusters_total[0].value",0),totalConnectedClusters:(0,r.default)(e.dashboards.summary,"metrics.connected_clusters_total[0].value",0),totalUnhealthyClusters:(0,r.default)(e.dashboards.summary,"metrics.unhealthy_clusters_total[0].value",0),totalCPU:(0,r.default)(e.dashboards.summary,"metrics.sum_total_cpu[0]",{value:0}),usedCPU:(0,r.default)(e.dashboards.summary,"metrics.sum_used_cpu[0]",{value:0}),totalMem:(0,r.default)(e.dashboards.summary,"metrics.sum_total_memory[0]",{value:0}),usedMem:(0,r.default)(e.dashboards.summary,"metrics.sum_used_memory[0]",{value:0}),upToDate:(0,r.default)(e.dashboards.summary,"metrics.clusters_up_to_date_total[0]",{value:0}),upgradeAvailable:(0,r.default)(e.dashboards.summary,"metrics.clusters_upgrade_available_total[0]",{value:0})})),f)(s.default)},92501:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(65652),i=a(44008),u=a(74855),d=l(a(41609)),c=a(70355),p=l(a(15933));class m extends r.default.Component{constructor(e){super(e),(0,n.default)(this,"state",{clicked:!1}),(0,n.default)(this,"onCopy",(()=>{this.timer&&window.clearTimeout(this.timer),this.setState({clicked:!0},(()=>{this.timer=window.setTimeout((()=>{this.setState({clicked:!1}),this.timer=null}),2500)}))})),this.timer=null}render(){const{token:e,text:t,variant:a,pendoID:l,track:n}=this.props,s=!e||!!e.error||(0,d.default)(e),{clicked:p}=this.state,m=e.error?"":`${JSON.stringify(e)}\n`,f="link-inplace"===a&&p?"Copied!":t,E=r.default.createElement(u.CopyToClipboard,{text:s?"":m,onCopy:this.onCopy},r.default.createElement(o.Button,{variant:"link",type:"button",tabIndex:0,isAriaDisabled:s,icon:r.default.createElement(i.CopyIcon,null),onClick:()=>{n(c.trackEvents.CopyPullSecret,{path:l})}},f));return"link-inplace"===a?E:r.default.createElement(o.Tooltip,{trigger:"manual",content:"Copied!",position:"right",isVisible:p},E)}}m.propTypes={pendoID:s.default.string,track:s.default.func.isRequired,token:s.default.object.isRequired,text:s.default.string,variant:s.default.oneOf(["link-tooltip","link-inplace"]).isRequired},m.defaultProps={text:"Copy pull secret"},t.default=(0,p.default)(m)},86774:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652),o=a(8196);const i=e=>{let{selectedCategory:t,setCategory:a}=e;return n.default.createElement(s.FormSelect,{"aria-label":"Select category",value:t,onChange:a,"data-testid":"downloads-category-dropdown"},o.downloadsCategories.map((e=>n.default.createElement(s.FormSelectOption,{key:e.key,value:e.key,label:e.title}))))};i.propTypes={selectedCategory:r.default.oneOf(o.downloadsCategories.map((e=>e.key))).isRequired,setCategory:r.default.func.isRequired},t.default=i},91759:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.architecturesForToolOS=t.architectureDropdown=t.allOperatingSystemsForTool=t.allArchitecturesForTool=void 0,t.detectOS=j,t.operatingSystemDropdown=t.initialSelection=t.downloadChoice=void 0;var n=l(a(10434)),r=l(a(38416)),s=l(a(28416)),o=l(a(45697)),i=a(65652),u=a(64171),d=a(64284),c=a(94648),p=a(87558),m=N(a(84896)),f=a(25684),E=a(27707),g=a(27849),h=a(12468),v=a(11862),b=l(a(42517)),_=N(a(91885)),S=N(a(5948)),C=l(a(9418)),y=l(a(98478)),O=l(a(30921)),I=l(a(86774)),R=a(8196),T=l(a(56948)),A=l(a(12696)),P=l(a(16026));function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(55438);const{TechnologyPreview:M,PreviewBadgePosition:k}=m,x=()=>s.default.createElement(d.Thead,null,s.default.createElement(d.Tr,null,s.default.createElement(d.Th,{width:10}),s.default.createElement(d.Th,{width:40},"Name"),s.default.createElement(d.Th,{width:20},"OS type"),s.default.createElement(d.Th,{width:20},"Architecture type")));function j(){const{platform:e}=window.navigator;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?_.operatingSystems.mac:-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)?_.operatingSystems.windows:/Linux/.test(e)?_.operatingSystems.linux:null}const F=(e,t,a)=>_.operatingSystemOptions.filter((l=>{let{value:n}=l;return _.architectureOptions.find((l=>{let{value:r}=l;return(0,E.has)(e,[t,a,r,n])}))}));t.allOperatingSystemsForTool=F;const G=(e,t,a)=>_.architectureOptions.filter((l=>{let{value:n}=l;return _.operatingSystemOptions.find((l=>{let{value:r}=l;return(0,E.has)(e,[t,a,n,r])}))}));t.allArchitecturesForTool=G;const U=(e,t,a,l)=>_.architectureOptions.filter((n=>{let{value:r}=n;return(0,E.has)(e,[t,a,r,l])}));t.architecturesForToolOS=U;const V=(e,t,a,l,n)=>s.default.createElement(i.FormSelect,{value:l,"data-testid":`os-dropdown-${t}`,onChange:n,"aria-label":"Select OS dropdown"},s.default.createElement(i.FormSelectOption,{key:"select",value:"select",label:"Select OS",isDisabled:!0}),F(e,t,a).map((e=>{let{value:t,label:a}=e;return s.default.createElement(i.FormSelectOption,{key:t,value:t,label:a})})));t.operatingSystemDropdown=V;const H=(e,t,a,l,n,r)=>{const o=U(e,t,a,l);return s.default.createElement(i.FormSelect,{"aria-label":"Select architecture dropdown",value:n,onChange:r,isDisabled:o.length<=1,"data-testid":`arch-dropdown-${t}`},s.default.createElement(i.FormSelectOption,{key:"select",value:"select",label:"Select architecture",isDisabled:!0}),G(e,t,a).map((n=>{let{value:r,label:o}=n;return(0,E.has)(e,[t,a,r,l])&&s.default.createElement(i.FormSelectOption,{key:r,value:r,label:o})})))};t.architectureDropdown=H;const z=(e,t,a,l)=>{var n;const r=F(e,t,a).map((e=>e.value)),s=l&&r.includes(l)?l:null==r?void 0:r[0];return{OS:s,architecture:null===(n=U(e,t,a,s))||void 0===n||null===(n=n[0])||void 0===n?void 0:n.value}};t.initialSelection=z;const W=(e,t,a,l,r,o)=>{const{OS:i,architecture:u}=e[l]||z(a,l,r,j());if(0===F(a,l,r).length){const e=(0,E.get)(a,[l,r,"fallbackNavigateURL"]);return{osDropdown:"",archDropdown:"",downloadButton:s.default.createElement(y.default,(0,n.default)({url:e,download:!1,tool:l},o))}}const d=(0,E.get)(a,[l,r,u,i]);return{osDropdown:V(a,l,r,i,((n,s)=>{let o=u;if(!(0,E.has)(a,[l,r,u,s])){const e=U(a,l,r,s);o=e.length>1?"select":e[0].value}t(w(w({},e),{},{[l]:{OS:s,architecture:o}}))})),archDropdown:H(a,l,r,i,u,((a,n)=>{t(w(w({},e),{},{[l]:{OS:i,architecture:n}}))})),downloadButton:s.default.createElement(y.default,(0,n.default)({url:d,tool:l},o))}};t.downloadChoice=W;const q=e=>`tool-${e}`,B=e=>{let{expanded:t,setExpanded:a,selections:l,setSelections:n,toolRefs:r,urls:o,tool:i,channel:u,name:c,description:p}=e;const m=W(l,n,o,i,u,{text:"Download"});return s.default.createElement(A.default,{expanded:t,setExpanded:a,toolRefs:r,expandKey:i,cells:[s.default.createElement(d.Td,{dataLabel:"Name",key:"Name"},s.default.createElement("span",null,c)),s.default.createElement(d.Td,{dataLabel:"OS",key:"OS"},m.osDropdown),s.default.createElement(d.Td,{dataLabel:"Architecture",key:"Arch"},m.archDropdown),s.default.createElement(d.Td,{dataLabel:"",key:"downloadBtn"},s.default.createElement(O.default,null,m.downloadButton," "))],description:p})};B.propTypes={expanded:o.default.object,setExpanded:o.default.func,selections:o.default.object,setSelections:o.default.func,toolRefs:o.default.object,urls:o.default.object,tool:o.default.oneOf(Object.values(_.tools)),channel:o.default.oneOf(Object.values(_.channels)),name:o.default.node,description:o.default.node};const $=()=>s.default.createElement(d.Thead,null,s.default.createElement(d.Tr,null,s.default.createElement(d.Th,{width:10}),s.default.createElement(d.Th,{width:90}),s.default.createElement(d.Th,{width:10}))),Z=e=>{var t;let{token:a,githubReleases:l,getLatestRelease:r,getAuthToken:o}=e;const d=(0,h.isRestrictedEnv)(),m=(0,p.useLocation)(),E=(0,p.useNavigate)(),{organization:y,isLoading:O,error:A}=(0,C.default)(),[D,N]=s.default.useState(),[L,j]=s.default.useState("ALL"),[F,G]=s.default.useState((()=>{const e={};return Object.values(R.expandKeys).forEach((t=>{e[t]=!1})),e})()),[U,V]=s.default.useState({}),H=(e,t)=>{var a;let l=null;(null===(a=R.downloadsCategories.find((t=>t.key===e)))||void 0===a?void 0:a.tools).forEach((e=>{t[e]&&(l=e)}));const n=l?`#${q(l)}`:"";n!==m.hash&&E(w(w({},m),{},{hash:n}))},z=e=>{G(e),H(L,e)},W=(()=>{const e={};return Object.values(R.expandKeys).forEach((t=>{e[t]=s.default.createRef()})),e})(),Z=()=>{const e=m.hash.replace("#",""),t=Object.values(R.expandKeys).find((t=>q(t)===e));if(t){var a;z(w(w({},F),{},{[t]:!0}));const e=null===(a=W[t])||void 0===a?void 0:a.current;if(e){e.scrollIntoView({block:"start",behavior:"smooth"});const t=e.querySelector("button, select");t&&t.focus({preventScroll:!0})}}};s.default.useEffect((()=>{d||O||A||!y||!(0,v.hasRestrictTokensCapability)(y.capabilities)||N(!0)}),[y,O,A,d]),s.default.useEffect((()=>(o(),_.githubReleasesToFetch.forEach((e=>{l[e].fulfilled||r(e)})),Z(),window.addEventListener("hashchange",Z),()=>{window.removeEventListener("hashchange",Z)})),[]);const Y=e=>{V(e)},K=(0,_.urlsSelector)(l),Q=null===(t=R.downloadsCategories.find((e=>e.key===L)))||void 0===t?void 0:t.tools,J=!(null==Q?void 0:Q.every((e=>F[e])));return s.default.createElement(g.AppPage,{title:"Downloads | Red Hat OpenShift Cluster Manager"},s.default.createElement(u.PageHeader,{className:"downloads-page-header"},s.default.createElement(i.Split,null,s.default.createElement(i.SplitItem,{isFilled:!0},s.default.createElement(u.PageHeaderTitle,{className:"ocm-page-title",title:"Downloads"}))),s.default.createElement(i.Split,{className:"subheader"},s.default.createElement(i.SplitItem,null,s.default.createElement(I.default,{selectedCategory:L,setCategory:(e,t)=>{j(t),H(t,F)}})),s.default.createElement(i.SplitItem,null,s.default.createElement(i.ExpandableSectionToggle,{className:"expand-collapse-all",isExpanded:!J,onToggle:()=>{z((0,f.produce)(F,(e=>{Q.forEach((t=>{e[t]=J}))})))}},J?"Expand all":"Collapse all")))),s.default.createElement(i.PageSection,{className:"downloads-page-body"},s.default.createElement(i.PageSection,{variant:"light",padding:{default:"noPadding"},className:"downloads-page-body"},s.default.createElement(T.default,{selectedCategory:L,category:"CLI",description:s.default.createElement(i.Text,null,"Download command line tools to manage and work with OpenShift from your terminal.")},s.default.createElement(c.Table,{"aria-label":"CLI tools table"},s.default.createElement(x,null),((e,t,a,l,r,o)=>{const u={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:o};return s.default.createElement(s.default.Fragment,null,s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.OC,channel:_.channels.STABLE,name:s.default.createElement(s.default.Fragment,null,"OpenShift command-line interface (",s.default.createElement("code",null,"oc"),")"),description:s.default.createElement(i.Text,null,"Create applications and manage OpenShift projects from the command line using the OpenShift client ",s.default.createElement("code",null,"oc"),"."," ",s.default.createElement(b.default,{ExternalLink:!0,href:_.default.CLI_TOOLS_OCP_GETTING_STARTED},"Get started"))})),!(0,h.isRestrictedEnv)()&&s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.OCM,channel:_.channels.STABLE,name:s.default.createElement(s.default.Fragment,null,"OpenShift Cluster Manager API command-line interface (",s.default.createElement("code",null,"ocm"),")"," "),description:s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,null,"Manage your OpenShift clusters from the command line using the OpenShift Cluster Manager API client ",s.default.createElement("code",null,"ocm"),"."," ",s.default.createElement(b.default,{href:_.default.OCM_CLI_DOCS},"Get started")))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.ROSA,channel:_.channels.STABLE,name:s.default.createElement(s.default.Fragment,null,"Red Hat OpenShift Service on AWS command-line interface (",s.default.createElement("code",null,"rosa"),")"),description:s.default.createElement(i.Text,null,"Manage your Red Hat OpenShift Service on AWS (ROSA) clusters from the command line using the ROSA client for OCM and AWS APIs."," ",s.default.createElement(b.default,{href:_.default.ROSA_CLI_DOCS},"Get started"))})),!(0,h.isRestrictedEnv)()&&s.default.createElement(s.default.Fragment,null,s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.KN,channel:_.channels.STABLE,name:s.default.createElement(s.default.Fragment,null,"Knative command-line interface for OpenShift Serverless (",s.default.createElement("code",null,"kn"),")"),description:s.default.createElement(i.Text,null,"Interact with Knative components on OpenShift Container Platform with the Knative client for OpenShift Serverless ",s.default.createElement("code",null,"kn"),"."," ",s.default.createElement(b.default,{href:_.default.KN_DOCS},"Learn more"))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.TKN,channel:_.channels.STABLE,name:s.default.createElement(s.default.Fragment,null,"Tekton command-line interface for OpenShift Pipelines (",s.default.createElement("code",null,"tkn"),")"),description:s.default.createElement(i.Text,null,"Manage and interact with CI pipelines on OpenShift Container Platform with the Tekton CLI for OpenShift Pipelines."," ",s.default.createElement(b.default,{href:_.default.TKN_DOCS},"Get started"))}))))})(F,z,U,Y,W,K))),!d&&s.default.createElement(s.default.Fragment,null,s.default.createElement(T.default,{selectedCategory:L,category:"DEV",description:s.default.createElement(i.Text,null,"Access all the powers of Kubernetes through a simplified workflow with Red Hats developer tools."," ",s.default.createElement(b.default,{href:"https://developers.redhat.com/topics/developer-tools"},"Learn more"))},s.default.createElement(c.Table,{"aria-label":"Developer tools table"},s.default.createElement(x,null),((e,t,a,l,r,o)=>{const u={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:o};return s.default.createElement(s.default.Fragment,null,s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.ODO,channel:_.channels.STABLE,name:s.default.createElement(s.default.Fragment,null,"Developer-focused CLI for OpenShift (",s.default.createElement("code",null,"odo"),")",s.default.createElement(S.default,{type:S.SupportLevelType.cooperativeCommunity})),description:s.default.createElement(i.Text,null,"Write, build, and deploy applications on OpenShift with ",s.default.createElement("code",null,"odo"),", a fast, iterative, and straightforward CLI tool for developers."," ",s.default.createElement(b.default,{href:_.default.ODO_DOCS},"Learn more"))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.HELM,channel:_.channels.STABLE,name:s.default.createElement(s.default.Fragment,null,"Helm 3 CLI (",s.default.createElement("code",null,"helm"),")"),description:s.default.createElement(i.Text,null,"Define, install, and upgrade application packages as Helm charts using Helm 3, a package manager for Kubernetes. ",s.default.createElement(b.default,{href:_.default.HELM_DOCS},"Learn more"))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.OPM,channel:_.channels.STABLE,name:s.default.createElement(s.default.Fragment,null,"Operator Package Manager (",s.default.createElement("code",null,"opm"),")"),description:s.default.createElement(i.Text,null,"Create and maintain catalogs of Operators from a list of bundles with the Operator Package Manager. ",s.default.createElement(b.default,{href:_.default.OPM_DOCS},"Learn more"))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.OPERATOR_SDK,channel:_.channels.STABLE,name:s.default.createElement(s.default.Fragment,null,"Operator SDK CLI (",s.default.createElement("code",null,"operator-sdk"),")"),description:s.default.createElement(i.Text,null,"Build, test, and deploy Operators with the Operator SDK CLI."," ",s.default.createElement(b.default,{href:_.default.OSDK_DOCS},"Learn more"))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.RHOAS,channel:_.channels.STABLE,name:s.default.createElement(s.default.Fragment,null,"Red Hat OpenShift Application Services CLI (",s.default.createElement("code",null,"rhoas"),")"," ",s.default.createElement(S.default,{type:S.SupportLevelType.devPreview})),description:s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,null,"Create and manage Kafka instances and topics, service accounts, and more using"," ",s.default.createElement("code",null,"rhoas"),"."),s.default.createElement(i.Text,null,s.default.createElement(b.default,{href:_.default.RHOAS_CLI_DOCS},"Get started")))})))})(F,z,U,Y,W,K))),s.default.createElement(T.default,{selectedCategory:L,category:"INSTALLATION",description:s.default.createElement(i.Text,null,"Install OpenShift based on your infrastructure. For the installer matching your infrastructure type, select the operating system and architecture on which you wish to run the installer. Then follow the steps provided within your infrastructure's tab on the ",s.default.createElement(p.Link,{to:"/create"},"create cluster")," page to install an OpenShift cluster.")},s.default.createElement(c.Table,{"aria-label":"OpenShift installation table"},s.default.createElement(x,null),((e,t,a,l,r,o)=>{const u={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:o};return s.default.createElement(s.default.Fragment,null,s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.X86INSTALLER,channel:_.channels.STABLE,name:"OpenShift for x86_64 Installer",description:s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported x86_64 infrastructure using our"," ",s.default.createElement(b.default,{href:_.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),s.default.createElement(i.Text,null,"Learn how to deploy in the ",s.default.createElement(p.Link,{to:"/create"},"cloud"),", or in your"," ",s.default.createElement(p.Link,{to:"/create/datacenter"},"data center"),"."))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.ARMINSTALLER,channel:_.channels.STABLE,name:"OpenShift for ARM Installer",description:s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported ARM infrastructure using our"," ",s.default.createElement(b.default,{href:_.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),s.default.createElement(i.Text,null,"Learn how to deploy in ",s.default.createElement(p.Link,{to:"/install/aws/arm"},"AWS"),","," ",s.default.createElement(p.Link,{to:"/install/azure/arm/installer-provisioned"},"Azure"),", or in your"," ",s.default.createElement(p.Link,{to:"/install/arm"},"data center"),"."))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.IBMZINSTALLER,channel:_.channels.STABLE,name:"OpenShift for IBM Z (s390x) Installer",description:s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported IBM Z (s390x) infrastructure using our"," ",s.default.createElement(b.default,{href:_.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),s.default.createElement(i.Text,null,"Learn how to deploy in your"," ",s.default.createElement(p.Link,{to:"/install/ibmz/user-provisioned"},"data center"),"."))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.PPCINSTALLER,channel:_.channels.STABLE,name:"OpenShift for Power Installer",description:s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported Power infrastructure using our"," ",s.default.createElement(b.default,{href:_.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),s.default.createElement(i.Text,null,"Learn how to deploy in your"," ",s.default.createElement(p.Link,{to:"/install/power/user-provisioned"},"data center"),"."))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.MULTIINSTALLER,channel:_.channels.STABLE,name:s.default.createElement(s.default.Fragment,null,"OpenShift Installer with multi-architecture compute machines"," ",s.default.createElement(M,{position:k.inline})),description:s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported infrastructure using our"," ",s.default.createElement(b.default,{href:_.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),s.default.createElement(i.Text,null,"Learn how to deploy in"," ",s.default.createElement(p.Link,{to:"/install/azure/multi/installer-provisioned"},"Azure"),"."))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.CRC,channel:_.channels.STABLE,name:s.default.createElement(s.default.Fragment,null,"OpenShift Local (",s.default.createElement("code",null,"crc"),")"),description:s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,null,"Download and open the OpenShift Local file to automatically start a step-by-step installation guide."),s.default.createElement(i.Text,null,s.default.createElement(p.Link,{to:"/create/local"},"Create a minimal cluster on your desktop")," for local development and testing."))})))})(F,z,U,Y,W,K))),s.default.createElement(T.default,{selectedCategory:L,category:"DISCONNECTED_INSTALLATION",description:s.default.createElement(i.Text,null,"Utilities to simplify preparation of disconnected cluster installations.")},s.default.createElement(c.Table,{"aria-label":"OpenShift disconnected installation tools table"},s.default.createElement(x,null),((e,t,a,l,r,o)=>{const u={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:o};return s.default.createElement(s.default.Fragment,null,s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.MIRROR_REGISTRY,channel:_.channels.STABLE,name:"mirror registry for Red Hat OpenShift",description:s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,null,"Download and install a local, minimal single instance deployment of Red Hat Quay to aid bootstrapping the first disconnected cluster."," ",s.default.createElement(b.default,{href:_.default.INSTALL_MIRROR_REGISTRY_LEARN_MORE},"Learn more")))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.OC_MIRROR_PLUGIN,channel:_.channels.STABLE,name:"OpenShift Client (oc) mirror plugin",description:s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,null,'The "mirror" plugin for the OpenShift CLI client (oc) controls the process'," ","of mirroring all relevant container image for a full disconnected OpenShift"," ","installation in a central, declarative tool."," ",s.default.createElement(b.default,{href:_.default.INSTALL_OC_MIRROR_PLUGIN_LEARN_MORE},"Learn more")))})))})(F,z,U,Y,W,K))),s.default.createElement(T.default,{selectedCategory:L,category:"CUSTOM_INSTALLATION",description:s.default.createElement(i.Text,null,"Customize OpenShift and Red Hat Enterprise Linux CoreOS (RHCOS) installation with these tools.")},s.default.createElement(c.Table,{"aria-label":"OpenShift installation customization downloads table"},s.default.createElement(x,null),((e,t,a,l,r,o)=>{const u={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:o};return s.default.createElement(s.default.Fragment,null,s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.BUTANE,channel:_.channels.STABLE,name:"Butane config transpiler CLI",description:s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,null,"Write and validate machine configs in a convenient short-hand syntax with the Butane config transpiler CLI tool."," ",s.default.createElement(b.default,{href:_.default.BUTANE_DOCS},"Learn more")))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.COREOS_INSTALLER,channel:_.channels.STABLE,name:"CoreOS Installer CLI",description:s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,null,"Download and install RHCOS disk images with the coreos-installer CLI tool."," ",s.default.createElement(b.default,{href:_.default.COREOS_INSTALLER_DOCS},"Learn more")))})),s.default.createElement(B,(0,n.default)({},u,{tool:_.tools.CCOCTL,channel:_.channels.STABLE,name:s.default.createElement(s.default.Fragment,null,"Cloud Credential Operator CLI utility (",s.default.createElement("code",null,"ccoctl"),")"),description:s.default.createElement(i.TextContent,null,s.default.createElement(i.Text,null,"The ccoctl tool provides various commands to assist with the creating and maintenance of cloud credentials from outside the cluster (necessary when Cloud Credential Operator is put in Manual mode)."," ",s.default.createElement(b.default,{href:_.default.CCO_MANUAL_MODE},"Learn more")))})))})(F,z,U,Y,W,K)))),s.default.createElement(T.default,{category:"TOKENS",selectedCategory:L},s.default.createElement(c.Table,{"aria-label":"Tokens table"},s.default.createElement($,null),s.default.createElement(P.default,{expanded:F,setExpanded:z,toolRefs:W,token:a,restrictTokens:D,orgRequest:{isLoading:O,error:A},restrictedEnv:d}))))))};Z.propTypes={token:o.default.object.isRequired,getAuthToken:o.default.func.isRequired,githubReleases:o.default.object.isRequired,getLatestRelease:o.default.func.isRequired},t.default=Z},12696:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(64284),i=a(8196);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c=e=>{let{expanded:t,setExpanded:a,expandKey:l,cells:n,description:s,toolRefs:i}=e;const u=!!t[l];return r.default.createElement(o.Tbody,{isExpanded:u,ref:null==i?void 0:i.expandKey,"data-testid":`expandable-row-${l}`},r.default.createElement(o.Tr,null,r.default.createElement(o.Td,{expand:{isExpanded:u,onToggle:(e,n,r)=>{a(d(d({},t),{},{[l]:r}))},rowIndex:0}}),n),r.default.createElement(o.Tr,{isExpanded:u,"data-testid":`expanded-row-${l}`},r.default.createElement(o.Td,{colSpan:1+n.length},r.default.createElement(o.ExpandableRowContent,null,s))))};c.propTypes={expanded:s.default.object,setExpanded:s.default.func,toolRefs:s.default.object,expandKey:s.default.oneOf(Object.values(i.expandKeys)),cells:s.default.arrayOf(s.default.node),description:s.default.node},t.default=c},16026:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(38416)),r=l(a(28416)),s=l(a(45697)),o=a(87558),i=a(71359),u=a(65652),d=a(11306),c=a(64284),p=a(11862),m=l(a(91885)),f=l(a(30921)),E=l(a(42517)),g=l(a(42223)),h=l(a(92501)),v=l(a(12696)),b=a(8196);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const C={expanded:s.default.object,setExpanded:s.default.func,toolRefs:s.default.object},y=e=>{let{expanded:t,setExpanded:a,toolRefs:l,token:n}=e;return r.default.createElement(v.default,{expanded:t,setExpanded:a,toolRefs:l,expandKey:b.expandKeys.PULL_SECRET,cells:[r.default.createElement(c.Td,{key:"pullSecret"},"Pull secret"),r.default.createElement(c.Td,{key:"download"},r.default.createElement(f.default,null,r.default.createElement(u.Split,{hasGutter:!0},r.default.createElement(u.SplitItem,null,r.default.createElement(h.default,{token:n,text:"Copy",variant:"link-inplace"})),r.default.createElement(u.SplitItem,null,r.default.createElement(g.default,{token:n,text:"Download"})))))],description:r.default.createElement(u.TextContent,null,r.default.createElement(u.Text,null,"An image pull secret provides authentication for the cluster to access services and registries which serve the container images for OpenShift components. Every individual user gets a single pull secret generated. The pull secret can be used when installing clusters, based on the required infrastructure."),r.default.createElement(u.Text,null,"Learn how to ",r.default.createElement(o.Link,{to:"/create"},"create a cluster")," or"," ",r.default.createElement(E.default,{href:m.default.OCM_DOCS_PULL_SECRETS},"learn more about pull secrets"),"."))})};y.propTypes=S({},C);const O=e=>{let{expanded:t,setExpanded:a,toolRefs:l}=e;return r.default.createElement(v.default,{expanded:t,setExpanded:a,toolRefs:l,expandKey:b.expandKeys.TOKEN_OCM,cells:[r.default.createElement(c.Td,{key:"name"},"OpenShift Cluster Manager API Token"),r.default.createElement(c.Td,{key:"viewAPI"},r.default.createElement(f.default,null,r.default.createElement(o.Link,{to:"/token"},r.default.createElement(u.Button,{variant:"secondary",icon:r.default.createElement(d.ArrowRightIcon,null),"data-testid":"view-api-token-btn",iconPosition:"right"},"View API token"))))],description:r.default.createElement(u.Text,null,"Use your API token to authenticate against your OpenShift Cluster Manager account.")})};O.propTypes=S({},C);const I=e=>{let{expanded:t,setExpanded:a,toolRefs:l,token:n,restrictTokens:s,orgRequest:o,restrictedEnv:d}=e;const m={expanded:t,setExpanded:a,toolRefs:l},f=S(S({},m),{},{token:n});return d?r.default.createElement(r.default.Fragment,null,r.default.createElement(y,f),r.default.createElement(O,m)):s?r.default.createElement(y,f):o.isLoading?r.default.createElement(r.default.Fragment,null,r.default.createElement(y,f),r.default.createElement(c.Tbody,null,r.default.createElement(c.Tr,null,r.default.createElement(c.Td,null,r.default.createElement(i.Spinner,{centered:!0}))))):o.error&&!p.defaultToOfflineTokens?r.default.createElement(r.default.Fragment,null,r.default.createElement(y,f),r.default.createElement(c.Tbody,null,r.default.createElement(c.Tr,null,r.default.createElement(c.Td,null),r.default.createElement(c.Td,{id:"org-error"},r.default.createElement(u.Alert,{variant:"danger",isInline:!0,title:"Error retrieving user account"},r.default.createElement("p",null,o.error.reason),r.default.createElement("p",null,`Operation ID: ${o.error.operation_id||"N/A"}`))),r.default.createElement(c.Td,null)))):r.default.createElement(r.default.Fragment,null,r.default.createElement(y,f),r.default.createElement(O,m))};I.propTypes=S(S({},C),{},{orgRequest:s.default.shape({error:s.default.bool.isRequired,isLoading:s.default.bool.isRequired}),restrictedEnv:s.default.bool}),t.default=I},25822:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=a(66338),r=l(a(91759)),s=a(5498);const o={getAuthToken:s.tollboothActions.createAuthToken,getLatestRelease:s.githubActions.getLatestRelease};t.Z=(0,n.connect)((e=>({token:e.tollbooth.token||{},githubReleases:e.githubReleases})),o)(r.default)},56948:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(28416)),r=l(a(45697)),s=a(65652);a(87162);var o=a(8196);const i=e=>{let{selectedCategory:t,category:a,description:l,children:r}=e;return("ALL"===t||t===a)&&n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"downloads-section-header","data-testid":`downloads-section-${a}`},n.default.createElement(s.Title,{headingLevel:"h2"},o.downloadsCategories.find((e=>e.key===a)).title),l&&n.default.createElement("div",{className:"description"},l)),r)};i.propTypes={selectedCategory:r.default.oneOf(o.downloadsCategories.map((e=>e.key))).isRequired,category:r.default.string.isRequired,description:r.default.node,children:r.default.node},t.default=i},8196:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.expandKeys=t.downloadsCategories=void 0;var n=l(a(38416)),r=a(12468),s=a(91885);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const u=t.expandKeys=i(i({},s.tools),{},{PULL_SECRET:"pull-secret",TOKEN_OCM:"ocm-api-token"}),d=t.downloadsCategories=(0,r.isRestrictedEnv)()?[{key:"CLI",title:"Command-line interface (CLI) tools",tools:[s.tools.OC,s.tools.ROSA]},{key:"TOKENS",title:"Tokens",tools:[u.PULL_SECRET,u.TOKEN_OCM]}]:[{key:"CLI",title:"Command-line interface (CLI) tools",tools:[s.tools.OC,s.tools.OCM,s.tools.ROSA,s.tools.KN,s.tools.TKN]},{key:"DEV",title:"Developer tools",tools:[s.tools.ODO,s.tools.HELM,s.tools.OPM,s.tools.OPERATOR_SDK,s.tools.RHOAS]},{key:"INSTALLATION",title:"OpenShift installation",tools:[s.tools.X86INSTALLER,s.tools.IBMZINSTALLER,s.tools.PPCINSTALLER,s.tools.ARMINSTALLER,s.tools.MULTIINSTALLER,s.tools.CRC]},{key:"DISCONNECTED_INSTALLATION",title:"OpenShift disconnected installation tools",tools:[s.tools.MIRROR_REGISTRY,s.tools.OC_MIRROR_PLUGIN]},{key:"CUSTOM_INSTALLATION",title:"OpenShift installation customization tools",tools:[s.tools.BUTANE,s.tools.COREOS_INSTALLER,s.tools.CCOCTL]},{key:"TOKENS",title:"Tokens",tools:[u.PULL_SECRET,u.TOKEN_OCM]}];d.unshift({key:"ALL",title:"All categories",tools:[].concat(...d.map((e=>e.tools)))})},30517:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(45653));t.Z=n.default},55204:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(10434)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(28416)),s=l(a(45697)),o=a(65652),i=a(15914),u=a(87558),d=l(a(42517)),c=l(a(69740)),p=a(70355),m=l(a(2101)),f=l(a(87046)),E=l(a(55424)),g=a(27849),h=a(12658),v=a(99093),b=l(a(91885)),_=l(a(18788));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}a(3561);const C={icon:r.default.createElement("img",{src:_.default,alt:"OpenShift"}),learnMoreLink:r.default.createElement(d.default,{href:b.default.WHAT_IS_ROSA},"Learn more about ROSA"),title:"Red Hat OpenShift Service on AWS (ROSA)",text:"Quickly build, deploy, and scale applications with our fully-managed turnkey application platform.",iconCardBodyClassName:"rosa-aws-redhat-vertical-logo"},y=()=>{const e=(0,c.default)(),t="/overview/rosa/hands-on",a=(0,r.useCallback)((e=>r.default.createElement(u.Link,(0,n.default)({},e,{to:t}))),[]);return r.default.createElement(o.Card,{style:{height:"100%"}},r.default.createElement(o.CardHeader,null,r.default.createElement(o.CardTitle,null,r.default.createElement(o.Title,{headingLevel:"h3"},"Want a preview of ROSA?"))),r.default.createElement(o.CardBody,null,"Access a no-cost, hands-on Red Hat OpenShift Service on AWS experience."),r.default.createElement(o.CardFooter,null,r.default.createElement(o.Button,{variant:"secondary",onClick:()=>{e(p.trackEvents.TryRosaHandsOnExperience,{url:t,path:window.location.pathname})},component:a,size:"lg"},"Try it")))},O=()=>r.default.createElement(o.Stack,{hasGutter:!0},r.default.createElement("span",null,r.default.createElement("img",{src:f.default,alt:"Red Hat Icon",style:{height:"3em",width:"5em"}})),r.default.createElement(o.Divider,null),r.default.createElement(E.default,{height:"2.5em",width:"5em"})),I=e=>{let{items:t}=e;return r.default.createElement(o.Card,null,r.default.createElement(o.List,{isPlain:!0,isBordered:!0},t.map((e=>{let{title:t,contents:a}=e;return r.default.createElement(o.ListItem,{className:"rosa-expandable-list-item",key:t},r.default.createElement(o.ExpandableSection,{className:"rosa-expandable-section",toggleContent:r.default.createElement(o.Text,{component:o.TextVariants.h3},t),displaySize:"lg"},a))}))))};I.propTypes={items:s.default.arrayOf(s.default.shape({title:s.default.node,contents:s.default.node}))};const R=[{title:"Self-service deployment",contents:"Create fully-managed OpenShift clusters in minutes so you can get up and running quickly."},{title:"Seamless integration with other AWS services",contents:"A native AWS service accessed on demand from the AWS Management Console. Take advantage of seamless integration with other AWS cloud native services."},{title:"Maximum availability",contents:"Deploy clusters across multiple Availability Zones in supported regions to maximize availability."}],T=[{title:"Deploy applications where they need to be",contents:"Red Hat OpenShift Service on AWS delivers the production-ready application platform that many enterprises already use on-premises, simplifying the ability to shift workloads to the AWS public cloud as business needs dictate."},{title:"Flexible consumption-based pricing",contents:"Scale as per your business needs and pay as you go with flexible pricing with an on-demand hourly or annual billing model."},{title:"Fully-managed service",contents:"Fully-managed OpenShift service, backed by a global Site Reliability Engineering (SRE) team and an enterprise class SLA, enabling customers to focus on applications, not managing infrastructure."}],A={cardClassName:"pf-v5-u-mb-lg",textLabelLinkItems:[{listItemText:"Product Documentation for Red Hat OpenShift Service on AWS 4",listItemLabel:r.default.createElement(o.Label,{color:"gold"},"Documentation"),listItemLink:r.default.createElement(d.default,{href:b.default.ROSA_CP_DOCS},"Learn More")},{listItemText:"Red Hat OpenShift Service on AWS quickstart guide",listItemLabel:r.default.createElement(o.Label,{color:"green"},"Quickstart"),listItemLink:r.default.createElement(d.default,{href:b.default.ROSA_QUICKSTART},"Learn More")},{listItemText:"Troubleshooting installations",listItemLabel:r.default.createElement(o.Label,{color:"gold"},"Documentation"),listItemLink:r.default.createElement(d.default,{href:b.default.ROSA_TROUBLESHOOTING_INSTALLATIONS},"Learn More")},{listItemText:"Red Hat OpenShift Service on AWS service definition",listItemLabel:r.default.createElement(o.Label,{color:"gold"},"Documentation"),listItemLink:r.default.createElement(d.default,{href:b.default.ROSA_DEFINITION_DOC},"Learn More")}]};t.Z=function(){const e=(0,c.default)(),t="/create/rosa/getstarted",a=(0,r.useCallback)((a=>r.default.createElement(u.Link,(0,n.default)({},a,{"data-testid":"register-cluster",to:t,onClick:()=>{e(p.trackEvents.CreateClusterROSA,{url:t,path:window.location.pathname})}}))),[e]);return r.default.createElement(g.AppPage,null,r.default.createElement(v.ProductBanner,{icon:r.default.createElement(O,null),learnMoreLink:C.learnMoreLink,title:C.title,text:C.text,iconCardBodyClassName:C.iconCardBodyClassName,breadcrumbs:r.default.createElement(m.default,{path:[{label:"Overview",path:"/overview"},{label:"Red Hat OpenShift Service on AWS (ROSA)"}]})}),r.default.createElement(o.PageSection,null,r.default.createElement(o.TextContent,{className:"pf-v5-u-mb-lg"},r.default.createElement(o.Title,{headingLevel:"h2"},"Get started with ROSA")),r.default.createElement(o.Flex,null,r.default.createElement(o.FlexItem,{flex:{default:"flex_1"}},r.default.createElement(o.Card,null,r.default.createElement(o.Flex,{justifyContent:{default:"justifyContentSpaceBetween"}},r.default.createElement(o.FlexItem,null,r.default.createElement(o.CardHeader,null,r.default.createElement(o.CardTitle,null,r.default.createElement(o.Title,{headingLevel:"h3"},r.default.createElement(o.Icon,{size:"md"},r.default.createElement(i.CubeIcon,{className:"pf-v5-u-mr-sm rosa-cube-icon"})),"Create a ROSA cluster"))),r.default.createElement(o.CardBody,null,"Get back to focusing on your application when you build a ROSA cluster. We'll manage and maintain the cluster for you."),r.default.createElement(o.CardFooter,null,r.default.createElement(o.Flex,null,r.default.createElement(o.FlexItem,null,r.default.createElement(o.Button,{variant:"primary",component:a,size:"lg"},"Begin setup")))))))),r.default.createElement(o.FlexItem,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfStretch"}},r.default.createElement(y,null))),r.default.createElement(o.Title,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",headingLevel:"h2"},"Benefits"),r.default.createElement(I,{items:R}),r.default.createElement(o.Title,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",headingLevel:"h2"},"Features"),r.default.createElement(I,{items:T}),r.default.createElement(o.Title,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",headingLevel:"h2"},"Pricing"),r.default.createElement(o.Flex,null,r.default.createElement(o.FlexItem,{flex:{default:"flex_1"}},r.default.createElement(o.Card,null,r.default.createElement(o.Flex,{justifyContent:{default:"justifyContentSpaceBetween"}},r.default.createElement(o.FlexItem,null,r.default.createElement(o.CardHeader,null,r.default.createElement(o.CardTitle,null,r.default.createElement(o.Title,{headingLevel:"h3"},"Cost Component 1: ROSA service fees"))),r.default.createElement(o.CardBody,null,"Accrue on demand at an hourly rate per 4 vCPU used by worker nodes. Annual contracts are also available for further discounts. ROSA service fees are uniform across all supported regions."))))),r.default.createElement(o.FlexItem,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfStretch"}},r.default.createElement(o.Card,{isFullHeight:!0},r.default.createElement(o.Flex,{justifyContent:{default:"justifyContentSpaceBetween"}},r.default.createElement(o.FlexItem,null,r.default.createElement(o.CardHeader,null,r.default.createElement(o.CardTitle,null,r.default.createElement(o.Title,{headingLevel:"h3"},"Cost Component 2: AWS infrastructure fees"))),r.default.createElement(o.CardBody,null,"Includes fees for the underlying worker nodes, infrastructure nodes, control plane nodes, storage, and network.")))))),r.default.createElement("div",{className:"pf-v5-u-mt-md"},r.default.createElement(d.default,{href:b.default.ROSA_PRICING},"Learn more about pricing")),r.default.createElement(o.Title,{headingLevel:"h2",className:"pf-v5-u-mt-lg pf-v5-u-mb-lg"},"Recommended content"),r.default.createElement(h.ListTextLabelLinkCard,A)))}},72457:(e,t,a)=>{"use strict";var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.setOfflineToken=t.normalizeSTSUsersByAWSAccounts=t.normalizeAWSAccountRoles=t.getUserRole=t.getUserOidcConfigurations=t.getOCMRole=t.getAWSIDsFromARNs=t.getAWSBillingAccountIDs=t.getAWSAccountRolesARNs=t.getAWSAccountIDs=t.clearGetUserRoleResponse=t.clearGetOcmRoleResponse=t.clearGetAWSAccountRolesARNsResponse=t.clearGetAWSAccountIDsResponse=void 0;var n=l(a(38416)),r=l(a(70215)),s=a(69816),o=a(58622),i=a(33047),u=a(25865);const d=["type","arn","roleVersion"];function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const m=e=>{const t=e.map(u.extractAWSID);return[...new Set(t)]};t.getAWSIDsFromARNs=m;const f=e=>{if(void 0===e||0===e.length)return[];const t=e.split(",").map((e=>({aws_id:(0,u.extractAWSID)(e),sts_user:e.substr(e.indexOf(":role/")+6)})));return[...new Set(t)]};t.normalizeSTSUsersByAWSAccounts=f;const E=(e,t)=>e.reduce(((e,t)=>{let{type:a,arn:l,roleVersion:n}=t,s=(0,r.default)(t,d);return p(p(p({},e),s),{},{version:n,[a]:l})}),{prefix:t}),g=e=>{const t=[];return((null==e?void 0:e.items)||[]).forEach((e=>{if(e.items&&e.items.length>1){const a=[],l=[];e.items.forEach((e=>{e.hcpManagedPolicies||e.managedPolicies?a.push(e):l.push(e)})),a.length&&t.push(E(a,e.prefix)),l.length&&t.push(E(l,e.prefix))}})),t};t.normalizeAWSAccountRoles=g,t.getAWSBillingAccountIDs=e=>t=>t({type:o.GET_AWS_BILLING_ACCOUNTS,payload:i.accountsService.getOrganizationQuota(e).then((e=>e.data&&e.data.items?(0,s.getAwsBillingAccountsFromQuota)(e.data.items):[]))}),t.getAWSAccountIDs=e=>t=>t({type:o.LIST_ASSOCIATED_AWS_IDS,payload:i.accountsService.getOrganizationLabels(e).then((e=>{var t,a;if(!e.data||!e.data.items)return[];const l=null!==(t=null===(a=e.data.items.filter((e=>"sts_ocm_role"===e.key))[0])||void 0===a?void 0:a.value)&&void 0!==t?t:"",n=""===l?[]:l.split(",");return m(n)}))}),t.getAWSAccountRolesARNs=e=>t=>{const a=[];t({type:o.GET_AWS_ACCOUNT_ROLES_ARNS,payload:i.accountsService.getAWSAccountARNs(e).then((e=>e.data&&e.data.items?g(e.data):a))})},t.getOCMRole=e=>t=>{t({type:o.GET_OCM_ROLE,payload:i.accountsService.getOCMRole(e).then((e=>null==e?void 0:e.data))})};const h=async()=>{var e;const t=await i.accountsService.getCurrentAccount(),a=await i.accountsService.getUserRole(null==t||null===(e=t.data)||void 0===e?void 0:e.id);return f(null==a?void 0:a.data.value)};t.getUserRole=()=>({type:o.GET_USER_ROLE,payload:h()}),t.getUserOidcConfigurations=e=>({type:o.LIST_USER_OIDC_CONFIGURATIONS,payload:i.clusterService.getOidcConfigurations(e).then((e=>{var t,a;return null!==(t=null==e||null===(a=e.data)||void 0===a?void 0:a.items)&&void 0!==t?t:[]}))}),t.clearGetAWSAccountIDsResponse=()=>({type:o.CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE}),t.clearGetAWSAccountRolesARNsResponse=()=>({type:o.CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE}),t.clearGetOcmRoleResponse=()=>({type:o.CLEAR_GET_OCM_ROLE_RESPONSE}),t.clearGetUserRoleResponse=()=>({type:o.CLEAR_GET_USER_ROLE_RESPONSE}),t.setOfflineToken=e=>({type:o.SET_OFFLINE_TOKEN,payload:e})},91659:(e,t,a)=>{"use strict";var l=a(64836);t.ZP=void 0;var n=l(a(38416)),r=a(25684),s=a(52220),o=a(34693),i=a(58622);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={getAWSAccountIDsResponse:d({},s.baseRequestState),getAWSAccountRolesARNsResponse:d({},s.baseRequestState),getOCMRoleResponse:d({},s.baseRequestState),getUserRoleResponse:d({},s.baseRequestState),getAWSBillingAccountsResponse:d({},s.baseRequestState),offlineToken:void 0};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,s.PENDING_ACTION)(i.LIST_ASSOCIATED_AWS_IDS):e.getAWSAccountIDsResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.LIST_ASSOCIATED_AWS_IDS):e.getAWSAccountIDsResponse=d(d({},s.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,s.REJECTED_ACTION)(i.LIST_ASSOCIATED_AWS_IDS):e.getAWSAccountIDsResponse=d(d(d({},s.baseRequestState),(0,o.getErrorState)(t)),{},{data:{}});break;case(0,s.PENDING_ACTION)(i.GET_AWS_ACCOUNT_ROLES_ARNS):e.getAWSAccountRolesARNsResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.GET_AWS_ACCOUNT_ROLES_ARNS):e.getAWSAccountRolesARNsResponse=d(d({},s.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,s.REJECTED_ACTION)(i.GET_AWS_ACCOUNT_ROLES_ARNS):e.getAWSAccountRolesARNsResponse=d(d(d({},s.baseRequestState),(0,o.getErrorState)(t)),{},{data:{}});break;case(0,s.PENDING_ACTION)(i.GET_AWS_BILLING_ACCOUNTS):e.getAWSBillingAccountsResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.GET_AWS_BILLING_ACCOUNTS):e.getAWSBillingAccountsResponse=d(d({},s.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,s.REJECTED_ACTION)(i.GET_AWS_BILLING_ACCOUNTS):e.getAWSBillingAccountsResponse=d(d(d({},s.baseRequestState),(0,o.getErrorState)(t)),{},{data:{}});break;case(0,s.PENDING_ACTION)(i.GET_OCM_ROLE):e.getOCMRoleResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.GET_OCM_ROLE):e.getOCMRoleResponse=d(d({},s.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,s.REJECTED_ACTION)(i.GET_OCM_ROLE):e.getOCMRoleResponse=d(d(d({},s.baseRequestState),(0,o.getErrorState)(t)),{},{data:{}});break;case(0,s.PENDING_ACTION)(i.GET_USER_ROLE):e.getUserRoleResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(i.GET_USER_ROLE):e.getUserRoleResponse=d(d({},s.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,s.REJECTED_ACTION)(i.GET_USER_ROLE):e.getUserRoleResponse=d(d(d({},s.baseRequestState),(0,o.getErrorState)(t)),{},{data:{}});break;case i.CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE:e.getAWSAccountRolesARNsResponse=d({},s.baseRequestState);break;case i.CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE:e.getAWSAccountIDsResponse=d({},s.baseRequestState);break;case i.CLEAR_GET_OCM_ROLE_RESPONSE:e.getOCMRoleResponse=d(d({},s.baseRequestState),{},{data:{}});break;case i.CLEAR_GET_USER_ROLE_RESPONSE:e.getUserRoleResponse=d(d({},s.baseRequestState),{},{data:{}});break;case i.SET_OFFLINE_TOKEN:e.offlineToken=t.payload}}))}p.initialState=c,t.ZP=p},78050:(e,t,a)=>{"use strict";var l=a(64836);t.Z=void 0;var n=l(a(28416));a(25950),t.Z=()=>n.default.createElement("svg",{role:"img",title:"GCP",xmlns:"http://www.w3.org/2000/svg",height:".9em",id:"Art",version:"1.1",viewBox:"-1348.0212 -351.96825 11682.8504 2111.8095"},n.default.createElement("style",{id:"style696",type:"text/css"}),n.default.createElement("g",{transform:"translate(.008 -.004)",id:"g730"},n.default.createElement("g",{id:"g710"},n.default.createElement("path",{id:"path702",d:"M1057.1 369.2h50.8l144.8-144.8 7.1-61.5C990.3-75 579-49.3 341.1 220.2 275 295 227.1 384.1 200.9 480.5c16.1-6.6 34-7.7 50.8-3l289.6-47.8s14.7-24.4 22.4-22.9c128.8-141.5 345.6-158 494.4-37.6z",fill:"#ea4335"}),n.default.createElement("path",{id:"path704",d:"M1459 480.5c-33.3-122.6-101.6-232.8-196.6-317l-203.2 203.2c85.8 70.1 134.7 175.8 132.6 286.6v36.1c99.9 0 180.9 81 180.9 180.9s-81 180.9-180.9 180.9H830l-36.1 36.6v217l36.1 36.1h361.8c259.8 2 472.1-207 474.1-466.8 1.2-157.8-76.5-305.4-206.9-393.6z",fill:"#4285f4"}),n.default.createElement("path",{id:"path706",d:"M467.7 1338.6h361.8V1049H467.7c-25.8 0-51.2-5.6-74.7-16.3l-50.8 15.8-145.8 144.8-12.7 50.8c81.7 61.8 181.5 95 284 94.5z",fill:"#34a853"}),n.default.createElement("path",{id:"path708",d:"M467.7 399.2C207.8 400.7-1.5 612.6 0 872.5c.9 145.1 68.6 281.7 183.7 370.1l209.8-209.8c-91-41.1-131.5-148.3-90.4-239.3 41.1-91 148.3-131.5 239.3-90.4 40.1 18.1 72.2 50.3 90.4 90.4l209.8-209.8c-89.2-116.8-228-185.1-374.9-184.5z",fill:"#fbbc05"})),n.default.createElement("g",{id:"g728"},n.default.createElement("g",{id:"g714"},n.default.createElement("path",{id:"path712",d:"M2629.1 1136.4c-125.9 1.6-246.9-48.1-335.3-137.7-91.3-85.8-142.3-206-140.7-331.3-1.5-125.3 49.5-245.4 140.7-331.3 88-90.5 209.1-141.2 335.3-140.2 120.2-1.6 236.1 45.1 321.6 129.6l-90.4 92c-61.9-59.9-145.1-92.7-231.2-91.5-90.3-1.1-177 35.8-238.8 101.6-64.2 63.7-99.6 150.9-98.1 241.3-.8 89.4 34.6 175.3 98.1 238.3 130.8 130.4 341.7 132.9 475.6 5.6 39.9-43.6 64.3-99.2 69.6-158h-304.9v-130H3062c4.2 26.2 5.9 52.7 5.1 79.3 5.4 110.9-34.8 219.2-111.3 299.8-85.1 88.5-203.9 136.7-326.7 132.5zm1003-86.4c-120.3 115.3-310.1 115.3-430.4 0-58.3-56.5-90.1-134.8-87.9-215.9-2.2-81.1 29.7-159.4 87.9-215.9 120.4-115 310-115 430.4 0 58.2 56.5 90.1 134.8 87.9 215.9 2.1 81.2-30 159.5-88.4 215.9zm-335.4-84.8c62.1 66.4 166.3 69.8 232.7 7.6 2.6-2.5 5.2-5 7.6-7.6 33.9-35.1 52.2-82.3 50.8-131.1 1.5-48.9-16.8-96.4-50.8-131.6-63.9-66.6-169.7-68.9-236.4-5-1.7 1.6-3.4 3.3-5 5-34 35.2-52.3 82.7-50.8 131.6-1.3 48.8 17.2 96.1 51.3 131.1zm996.9 84.8c-120.3 115.3-310.1 115.3-430.4 0-58.3-56.5-90.1-134.8-87.9-215.9-2.2-81.1 29.7-159.4 87.9-215.9 120.3-115.3 310.1-115.3 430.4 0 58.2 56.5 90.1 134.8 87.9 215.9 2.3 81.1-29.6 159.4-87.9 215.9zm-335.3-84.8c62.1 66.4 166.3 69.8 232.7 7.6 2.6-2.5 5.2-5 7.6-7.6 33.9-35.1 52.2-82.3 50.8-131.1 1.5-48.9-16.8-96.4-50.8-131.6-63.9-66.6-169.7-68.9-236.3-5-1.7 1.6-3.4 3.3-5 5-34 35.2-52.3 82.7-50.8 131.6-1.3 48.8 17.2 96.1 51.3 131.1zm770.2 442.5c-60.9 1.9-120.6-17.1-169.2-53.9a311.85 311.85 0 01-98.6-125l115.8-48.3c12.6 29.6 32.3 55.6 57.4 75.7 26.8 21.6 60.5 33 95 32 44.2 2.7 87.4-14 118.4-45.7 30.6-36.9 45.7-84.3 42.2-132.1v-43.7h-4.6c-39.3 46.6-98.2 72-159 68.6-77.1.2-150.8-31.8-203.2-88.4-56.8-56.1-88.2-133-86.9-212.9-1.4-80.3 30-157.7 86.9-214.4 52.3-56.8 126-89.1 203.2-88.9 32.3-.1 64.3 7.1 93.5 20.8 25.3 11 47.8 27.5 66.1 48.3h4.6v-48.3h126v541.1c6.7 86.5-22.5 172-80.8 236.3-55.5 53.1-130 81.5-206.8 78.8zm9.2-390.2c43.9 1 86-17.7 114.8-50.8 31.3-35.9 47.9-82.4 46.2-130.1 1.9-48.5-14.6-95.8-46.2-132.6-28.8-33.2-70.9-51.8-114.8-50.8-45.1-.9-88.4 17.6-118.9 50.8-33.6 35.5-51.9 82.8-50.8 131.6-1 48.4 17.2 95.2 50.8 130.1 30.3 33.5 73.6 52.4 118.9 51.8zM5240.2 230v888.1h-132.6V230zm363.8 906.4c-80.3 2.1-157.8-29.4-213.9-86.9-56.9-57-88-134.9-85.9-215.4-3-80.7 26.9-159.2 82.8-217.5 52.8-55.6 126.6-86.4 203.2-84.9 34.9-.4 69.4 6.4 101.6 19.8 29 11.7 55.4 29 77.7 50.8 19.2 18.5 36.2 39.1 50.8 61.5 11.8 18.9 21.8 38.8 30 59.4l13.7 34.6L5457.6 925c25.2 57.8 83.3 94.2 146.3 91.5 60.9.2 117.4-31.7 148.9-83.8l101.6 68.6a333.72 333.72 0 01-97.6 92.5c-45.6 28.8-98.8 43.6-152.8 42.6zm-169.7-311.5l270.3-112.3c-8.3-19.8-23.2-36.1-42.2-46.2-21.2-12-45.2-18.1-69.6-17.8-41.3 1.1-80.6 18.4-109.2 48.3-34.7 33.2-52.8 80.1-49.3 128z",className:"st4"})),n.default.createElement("g",{id:"g726"},n.default.createElement("path",{id:"path716",d:"M6558.7 1136.4c-231.2 4-421.8-180.2-425.8-411.4-.1-5.6-.1-11.3.1-16.9-5.4-231.2 177.7-422.9 408.8-428.3 5.6-.1 11.3-.1 16.9-.1 115.6-3.6 226.6 45.8 301.3 134.1l-73.2 71.1c-54.9-69.1-139.5-107.8-227.6-104.2-84.5-1.9-166.2 30.8-226.1 90.4-62.3 62.7-95.6 148.5-92 236.8-3.7 88.3 29.7 174.1 92 236.8 59.9 59.7 141.6 92.3 226.1 90.4 98.4 1.1 191.9-42.7 254-118.9l73.2 73.2c-38.3 45.8-86.4 82.4-140.7 107.2-58.6 27.2-122.5 40.8-187 39.8z",className:"st4"}),n.default.createElement("path",{id:"path718",d:"M7083 1118.1h-105.2V297.5H7083z",className:"st4"}),n.default.createElement("path",{id:"path720",d:"M7254.8 624.2c114.7-113.9 299.9-113.9 414.6 0 54.4 57.5 83.7 134.3 81.3 213.4 2.4 79.1-26.9 155.9-81.3 213.4-114.7 113.9-299.9 113.9-414.6 0-54.4-57.5-83.7-134.3-81.3-213.4-2.4-79.1 26.8-155.9 81.3-213.4zM7333 985c67.3 71.1 179.5 74.2 250.7 6.9 2.4-2.2 4.7-4.6 6.9-6.9 37.1-39.8 56.7-92.9 54.4-147.3 2.4-54.4-17.2-107.5-54.4-147.3-67.3-71.1-179.5-74.2-250.7-6.9-2.4 2.2-4.7 4.6-6.9 6.9-37.1 39.8-56.7 92.9-54.4 147.3-2.1 54.3 17.7 107.2 54.9 146.8z",className:"st4"}),n.default.createElement("path",{id:"path722",d:"M8333.4 1118.1h-101.6v-77.7h-3c-18.1 29.5-43.7 53.7-74.2 70.1-31.6 18.3-67.6 28-104.2 27.9-60.2 4.1-118.9-19.5-159.5-64-38.5-48.7-57.8-109.8-54.4-171.7V557.2h105.2v326.2c0 104.7 46.2 157 138.7 157 41.7 1.3 81.4-17.6 106.7-50.8 27.3-34.5 41.8-77.4 41.2-121.4v-311h105.2v560.9z",className:"st4"}),n.default.createElement("path",{id:"path724",d:"M8690.6 1136.4c-72.2.2-140.9-31.1-188-85.9-52.7-58.2-80.9-134.4-78.8-212.9-2.1-78.5 26.1-154.7 78.8-212.9 47.1-54.7 115.8-86.1 188-85.9 40-.6 79.5 8.8 114.8 27.4 31.1 15.6 57.4 39.3 76.2 68.6h4.6l-4.6-77.7V297.5h105.2v820.6h-101.6v-77.7h-4.6c-18.8 29.3-45.1 53-76.2 68.6-35 18.4-74.1 27.9-113.8 27.4zm17.3-96c48.1.7 94.2-19.3 126.5-54.9 35.7-40.7 54-93.8 50.8-147.9 3.2-54-15.1-107.2-50.8-147.9-63.8-70.2-172.4-75.3-242.6-11.4-4 3.6-7.8 7.5-11.4 11.4-35.8 40.4-54.1 93.4-50.8 147.3-3.3 53.9 15 106.9 50.8 147.3 32.4 36.4 78.9 56.8 127.5 56.1z",className:"st4"})))))},91961:(e,t,a)=>{"use strict";a.r(t)},97589:(e,t,a)=>{"use strict";a.r(t)},21900:(e,t,a)=>{"use strict";a.r(t)},58361:(e,t,a)=>{"use strict";a.r(t)},61947:(e,t,a)=>{"use strict";a.r(t)},21383:(e,t,a)=>{"use strict";a.r(t)},51346:(e,t,a)=>{"use strict";a.r(t)},28245:(e,t,a)=>{"use strict";a.r(t)},84528:(e,t,a)=>{"use strict";a.r(t)},38987:(e,t,a)=>{"use strict";a.r(t)},97865:(e,t,a)=>{"use strict";a.r(t)},81463:(e,t,a)=>{"use strict";a.r(t)},32264:(e,t,a)=>{"use strict";a.r(t)},66849:(e,t,a)=>{"use strict";a.r(t)},21073:(e,t,a)=>{"use strict";a.r(t)},42734:(e,t,a)=>{"use strict";a.r(t)},58624:(e,t,a)=>{"use strict";a.r(t)},1238:(e,t,a)=>{"use strict";a.r(t)},97710:(e,t,a)=>{"use strict";a.r(t)},95930:(e,t,a)=>{"use strict";a.r(t)},64855:(e,t,a)=>{"use strict";a.r(t)},63574:(e,t,a)=>{"use strict";a.r(t)},94447:(e,t,a)=>{"use strict";a.r(t)},1205:(e,t,a)=>{"use strict";a.r(t)},74398:(e,t,a)=>{"use strict";a.r(t)},22963:(e,t,a)=>{"use strict";a.r(t)},54886:(e,t,a)=>{"use strict";a.r(t)},63450:(e,t,a)=>{"use strict";a.r(t)},39812:(e,t,a)=>{"use strict";a.r(t)},2274:(e,t,a)=>{"use strict";a.r(t)},29813:(e,t,a)=>{"use strict";a.r(t)},78851:(e,t,a)=>{"use strict";a.r(t)},10014:(e,t,a)=>{"use strict";a.r(t)},74128:(e,t,a)=>{"use strict";a.r(t)},90650:(e,t,a)=>{"use strict";a.r(t)},38440:(e,t,a)=>{"use strict";a.r(t)},76772:(e,t,a)=>{"use strict";a.r(t)},53544:(e,t,a)=>{"use strict";a.r(t)},44125:(e,t,a)=>{"use strict";a.r(t)},51994:(e,t,a)=>{"use strict";a.r(t)},64957:(e,t,a)=>{"use strict";a.r(t)},6932:(e,t,a)=>{"use strict";a.r(t)},27267:(e,t,a)=>{"use strict";a.r(t)},90398:(e,t,a)=>{"use strict";a.r(t)},63185:(e,t,a)=>{"use strict";a.r(t)},57629:(e,t,a)=>{"use strict";a.r(t)},94035:(e,t,a)=>{"use strict";a.r(t)},6355:(e,t,a)=>{"use strict";a.r(t)},41108:(e,t,a)=>{"use strict";a.r(t)},54416:(e,t,a)=>{"use strict";a.r(t)},85295:(e,t,a)=>{"use strict";a.r(t)},74861:(e,t,a)=>{"use strict";a.r(t)},55438:(e,t,a)=>{"use strict";a.r(t)},87162:(e,t,a)=>{"use strict";a.r(t)},3561:(e,t,a)=>{"use strict";a.r(t)},25950:(e,t,a)=>{"use strict";a.r(t)},89497:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var l=a(28416),n=a.n(l),r=a(68774),s=a(47110),o=a(76388),i=a.n(o),u=a(10043),d=a.n(u),c=a(42517);const p=({children:e,rehypePlugins:t})=>{const a=(0,l.useCallback)((e=>{var t;return n().createElement(c.default,Object.assign({},e,{href:null!==(t=e.href)&&void 0!==t?t:""}),e.children)}),[]);return e?n().createElement(r.D,null,n().createElement(s.D,{className:"markdown",rehypePlugins:null!=t?t:[d(),i()],components:{a}},e)):null}},70355:(e,t,a)=>{"use strict";a.r(t),a.d(t,{eventNames:()=>i,getOCMResourceType:()=>o,getTrackEvent:()=>d,ocmResourceType:()=>s,ocmResourceTypeByProduct:()=>r,trackEvents:()=>u});var l=a(91885),n=a(52758);const r=Object.fromEntries(Object.entries(n.normalizedProducts).map((([e,t])=>[e,String(t).toLowerCase()]))),s=Object.assign(Object.assign({},r),{CRC:"crc",MOA:"moa",ROSA:"moa",ALL:"all"}),o=e=>e in s?s[e]:void 0,i={FILE_DOWNLOADED:"File Downloaded",BUTTON_CLICKED:"Button Clicked",LINK_CLICKED:"Link Clicked",ARNS_REFRESHED:"ARNs Refreshed",CHECKBOX_CLICKED:"Checkbox Clicked",RADIOBUTTON_CLICKED:"Radiobutton Clicked",MISSING_INFORMATION:"Missing Information"},u={[l.tools.OC]:{deprecated_name:"OCP-Download-CLITools",event:i.FILE_DOWNLOADED,link_name:"ocp-cli",ocm_resource_type:s.ALL},[l.tools.BUTANE]:{deprecated_name:"Download-BUTANE-CLI",event:i.FILE_DOWNLOADED,link_name:"butane-cli",ocm_resource_type:s.ALL},[l.tools.CCOCTL]:{event:i.FILE_DOWNLOADED,link_name:"ccoctl-cli",ocm_resource_type:s.ALL},[l.tools.COREOS_INSTALLER]:{deprecated_name:"Download-CoreOSInstaller-CLI",event:i.FILE_DOWNLOADED,link_name:"coreosinstaller-cli",ocm_resource_type:s.OCP},[l.tools.CRC]:{deprecated_name:"OCP-Download-CRC",event:i.FILE_DOWNLOADED,link_name:"crc",ocm_resource_type:s.CRC},[l.tools.HELM]:{deprecated_name:"Download-HELM-CLI",event:i.FILE_DOWNLOADED,link_name:"helm-cli",ocm_resource_type:s.ALL},[l.tools.X86INSTALLER]:{deprecated_name:"OCP-Download-X86Installer",event:i.FILE_DOWNLOADED,link_name:"ocp-installer-x86",ocm_resource_type:s.OCP},[l.tools.IBMZINSTALLER]:{deprecated_name:"OCP-Download-IBMZInstaller",event:i.FILE_DOWNLOADED,link_name:"ocp-installer-ibmz",ocm_resource_type:s.OCP},[l.tools.PPCINSTALLER]:{deprecated_name:"OCP-Download-PPCInstaller",event:i.FILE_DOWNLOADED,link_name:"ocp-installer-ppc",ocm_resource_type:s.OCP},[l.tools.ARMINSTALLER]:{deprecated_name:"OCP-Download-ARMInstaller",event:i.FILE_DOWNLOADED,link_name:"ocp-installer-arm",ocm_resource_type:s.OCP},[l.tools.MULTIINSTALLER]:{event:i.FILE_DOWNLOADED,link_name:"ocp-installer-multi",ocm_resource_type:s.OCP},[l.tools.KN]:{deprecated_name:"Download-KN-CLI",event:i.FILE_DOWNLOADED,link_name:"kn-cli",ocm_resource_type:s.ALL},[l.tools.OCM]:{deprecated_name:"Download-OCM-CLI",event:i.FILE_DOWNLOADED,link_name:"ocm-cli",ocm_resource_type:s.ALL},[l.tools.ODO]:{deprecated_name:"Download-ODO-CLI",event:i.FILE_DOWNLOADED,link_name:"odo-cli",ocm_resource_type:s.ALL},[l.tools.OPERATOR_SDK]:{deprecated_name:"Download-OSDK-CLI",event:i.FILE_DOWNLOADED,link_name:"osdk-cli",ocm_resource_type:s.ALL},[l.tools.OPM]:{deprecated_name:"Download-OPM-CLI",event:i.FILE_DOWNLOADED,link_name:"opm-cli",ocm_resource_type:s.ALL},[l.tools.RHOAS]:{deprecated_name:"Download-RHOAS-CLI",event:i.FILE_DOWNLOADED,link_name:"rhoas-cli",ocm_resource_type:s.ALL},[l.tools.ROSA]:{deprecated_name:"Download-ROSA-CLI",event:i.FILE_DOWNLOADED,link_name:"rosa-cli",ocm_resource_type:s.MOA},[l.tools.MIRROR_REGISTRY]:{deprecated_name:"Download-Mirror-Registry",event:i.FILE_DOWNLOADED,link_name:"mirror-registry",ocm_resource_type:s.OCP},OCPInstallDocumentation:{deprecated_name:"OCP-Download-OfficialDocumentation",event:i.LINK_CLICKED,link_name:"ocp-install-documentation",ocm_resource_type:s.OCP},CRCInstallDocumentation:{deprecated_name:"OCP-Download-OfficialDocumentation",event:i.LINK_CLICKED,link_name:"crc-documentation",ocm_resource_type:s.CRC},CopyPullSecret:{deprecated_name:"OCP-Copy-PullSecret",event:i.BUTTON_CLICKED,link_name:"pull-secret",ocm_resource_type:s.ALL},DownloadPullSecret:{deprecated_name:"OCP-Copy-PullSecret",event:i.FILE_DOWNLOADED,link_name:"pull-secret",ocm_resource_type:s.ALL},RefreshARNs:{event:i.BUTTON_CLICKED,link_name:"refresh-arns",ocm_resource_type:s.MOA},ARNsRefreshed:{event:i.ARNS_REFRESHED,link_name:"arns-refreshed",ocm_resource_type:s.MOA},AssociateAWS:{event:i.BUTTON_CLICKED,link_name:"associate-aws",ocm_resource_type:s.MOA},ROSAWhoAmI:{event:i.BUTTON_CLICKED,link_name:"copy-rosa-whoami",ocm_resource_type:s.MOA},ROSAVerifyQuota:{event:i.BUTTON_CLICKED,link_name:"copy-rosa-verify-quota",ocm_resource_type:s.MOA},ROSALogin:{event:i.BUTTON_CLICKED,link_name:"copy-rosa-login",ocm_resource_type:s.MOA},CopyOCMRoleCreateBasic:{event:i.BUTTON_CLICKED,link_name:"copy-ocm-role-create-basic",ocm_resource_type:s.MOA},CopyCreateAccountRoles:{event:i.BUTTON_CLICKED,link_name:"copy-ocm-create-rosa-account-roles",ocm_resource_type:s.MOA},CopyOCMRoleCreateAdmin:{event:i.BUTTON_CLICKED,link_name:"copy-ocm-role-create-admin",ocm_resource_type:s.MOA},CopyOCMRoleLink:{event:i.BUTTON_CLICKED,link_name:"copy-ocm-role-link",ocm_resource_type:s.MOA},CopyUserRoleCreate:{event:i.BUTTON_CLICKED,link_name:"copy-user-role-create",ocm_resource_type:s.MOA},CopyUserRoleLink:{event:i.BUTTON_CLICKED,link_name:"copy-user-role-link",ocm_resource_type:s.MOA},CopyUserRoleList:{event:i.BUTTON_CLICKED,link_name:"copy-user-role-list",ocm_resource_type:s.MOA},InstallIntoVPC:{event:i.CHECKBOX_CLICKED,link_name:"install-into-existing-vpc"},ConfigureClusterWideProxy:{event:i.CHECKBOX_CLICKED,link_name:"configure-cluster-wide-proxy"},RosaCreationMode:{event:i.RADIOBUTTON_CLICKED,link_name:"rosa-creation-mode",ocm_resource_type:s.MOA},OCMRoleRefreshed:{event:i.BUTTON_CLICKED,link_name:"refresh-to-enable-auto-mode",ocm_resource_type:s.MOA},MissingUserRole:{event:i.MISSING_INFORMATION,link_name:"missing-user-role",ocm_resource_type:s.MOA},WizardNext:{event:i.BUTTON_CLICKED,link_name:"wizard-next"},WizardBack:{event:i.BUTTON_CLICKED,link_name:"wizard-back"},WizardSubmit:{event:i.BUTTON_CLICKED,link_name:"wizard-submit"},WizardLeave:{event:i.BUTTON_CLICKED,link_name:"wizard-leave"},WizardLinkNav:{event:i.BUTTON_CLICKED,link_name:"wizard-nav"},ExternalLink:{event:i.LINK_CLICKED,link_name:"external-link"},CopyRosaCreateCluster:{event:i.BUTTON_CLICKED,link_name:"copy-rosa-create-cluster",ocm_resource_type:s.MOA},RequestRosaHandsOnExperience:{event:i.BUTTON_CLICKED,link_name:"request-rosa-handson-experience",ocm_resource_type:s.ROSA},TryRosaHandsOnExperience:{event:i.LINK_CLICKED,link_name:"try-rosa-hands-on-internal-link"},RosaOverview:{event:i.LINK_CLICKED,link_name:"rosa-overview-internal-link"},CreateCluster:{event:i.LINK_CLICKED,link_name:"create-cluster-internal-link"},RegisterCluster:{event:i.LINK_CLICKED,link_name:"register-cluster-internal-link"},CreateClusterROSA:{event:i.LINK_CLICKED,link_name:"create-rosa-cluster-internal-link"},CreateClusterOSD:{event:i.LINK_CLICKED,link_name:"create-osd-cluster-internal-link"},CreateClusterRHOCP:{event:i.LINK_CLICKED,link_name:"create-ocp-cluster-internal-link"}},d=(e,t={})=>{var a,l;return{event:e.event,properties:Object.assign(Object.assign(Object.assign({link_name:e.link_name},t.url&&{link_url:t.url}),{current_path:t.path||window.location.pathname,ocm_resource_type:null!==(l=null!==(a=t.resourceType)&&void 0!==a?a:null==e?void 0:e.ocm_resource_type)&&void 0!==l?l:s.ALL}),t.customProperties)}}},34693:(e,t,a)=>{"use strict";a.r(t),a.d(t,{BANNED_USER_CODE:()=>s,TERMS_REQUIRED_CODE:()=>o,formatErrorDetails:()=>m,getErrorMessage:()=>u,getErrorState:()=>p,getInternalErrorCode:()=>c,hasOwnErrorPage:()=>d,overrideErrorMessage:()=>i});var l=a(28416),n=a.n(l),r=a(33174);const s="ACCT-MGMT-22",o="CLUSTERS-MGMT-451",i=(e,t)=>{var a,l,o,i;if(!e)return"";let u="";switch((null===(l=null===(a=null==e?void 0:e.details)||void 0===a?void 0:a[0])||void 0===l?void 0:l.kind)||(null===(i=null===(o=null==e?void 0:e.errorDetails)||void 0===o?void 0:o[0])||void 0===i?void 0:i.kind)){case"ExcessResources":{let e="cluster";void 0!==t&&/CLUSTER_ADDON/.test(t)&&(e="cluster add-on"),u=`You are not authorized to ${"cluster"===e&&void 0!==t&&t.includes(r.clustersConstants.EDIT_CLUSTER)?"edit":"create"} the ${e} because your request exceeds available quota.\n              In order to fulfill this request, you will need quota/subscriptions for:`;break}}return(null==e?void 0:e.code)===s&&(u=n().createElement("span",null,"Your account has been placed on"," ",n().createElement("a",{href:"https://access.redhat.com/articles/1340183",target:"_blank",rel:"noreferrer noopener"},"Export Hold")," ","based on export control screening.",n().createElement("br",null),"The Export Compliance Team has been notified that your account is on hold, and must conduct additional due diligence to resolve the Export Hold.",n().createElement("br",null),"Try again in 24-48 hours.")),u},u=e=>{var t;if(void 0===(null===(t=e.payload)||void 0===t?void 0:t.response))return String(e.payload);const a=e.payload.response.data;return i(a,e.type)||(void 0===a||"Error"!==a.kind&&"Error"!==a.type?JSON.stringify(a):`${a.code}:\n${a.reason}`)},d=e=>{var t;return(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.code)===o},c=e=>{var t;return null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.code},p=e=>{var t,a,l,n,r,s,o,i,p,m,f,E;return(null===(t=e.payload)||void 0===t?void 0:t.response)&&d(null===(a=e.payload)||void 0===a?void 0:a.response)?{fulfilled:!1,pending:!1,error:!1}:{fulfilled:!1,pending:!1,error:!0,errorCode:null===(n=null===(l=e.payload)||void 0===l?void 0:l.response)||void 0===n?void 0:n.status,internalErrorCode:(null===(r=e.payload)||void 0===r?void 0:r.response)?c(null===(s=e.payload)||void 0===s?void 0:s.response):void 0,errorMessage:u(e),errorDetails:null===(p=null===(i=null===(o=e.payload)||void 0===o?void 0:o.response)||void 0===i?void 0:i.data)||void 0===p?void 0:p.details,operationID:null===(E=null===(f=null===(m=e.payload)||void 0===m?void 0:m.response)||void 0===f?void 0:f.data)||void 0===E?void 0:E.operation_id}},m=e=>{const t=[];return e&&e.length?(e.forEach((e=>{if("ExcessResources"===e.kind){const a={addon:["addon","addons"],"cluster.aws":["cluster","clusters"],"cluster.gcp":["cluster","clusters"],"compute.node.aws":["node","nodes"],"compute.node.gcp":["node","nodes"],"pv.storage.aws":["GiB of storage","GiB of storage"],"pv.storage.gcp":["GiB of storage","GiB of storage"],"network.loadbalancer.aws":["load balancers","load balancers"],"network-gcp.loadbalancer.gcp":["load balancers","load balancers"]},l=(e,t)=>a[e]?a[e][1===t?0:1]:e;e.items?t.push(n().createElement("ul",null,e.items.map((e=>"addon"===e.resource_type?n().createElement("li",null,`${e.resource_type}: ${e.resource_name}`):e.resource_type&&a[e.resource_type]?n().createElement("li",null,`${e.count} additional\n                  ${l(e.resource_type,e.count)} of type\n                  ${e.availability_zone_type} availability zone, instance size\n                  ${e.resource_name}.`):"An error occurred")))):t.push("Unknown resource")}else(null==e?void 0:e.items)&&["AddOnParameterOptionList","AddOnRequirementData"].includes(e.kind)&&t.push(n().createElement("pre",null,JSON.stringify(e.items,void 0,2)))})),t):t}},46786:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SupportedFeature:()=>l,isCompatibleFeature:()=>r});var l,n=a(31125);!function(e){e.SECURITY_GROUPS="securityGroups",e.AWS_SHARED_VPC="sharedVPC"}(l||(l={}));const r=(e,t,a)=>e===l.SECURITY_GROUPS&&((e,t)=>{var a,l;if(t.day1)return!1;if((0,n.isHypershiftCluster)(e))return!1;if("aws"!==(null===(a=null==e?void 0:e.cloud_provider)||void 0===a?void 0:a.id))return!1;const r=(null===(l=null==e?void 0:e.aws)||void 0===l?void 0:l.subnet_ids)||[];return!!(null==r?void 0:r.length)})(t,a)},49596:(e,t,a)=>{"use strict";a.r(t),a.d(t,{advisorBaseName:()=>s,default:()=>d,getResourcesBase:()=>u,ocmAppPath:()=>r,removeOcmBaseName:()=>i});const{insights:{appname:l}}=a(4147),n=()=>(null===window||void 0===window?void 0:window.location.pathname.startsWith("/beta"))?"/beta":(null===window||void 0===window?void 0:window.location.pathname.startsWith("/preview"))?"/preview":"",r=`/${l}`,s=()=>`${n()}/openshift/insights/advisor`,o=new RegExp(`^(/preview|/beta|)/${l}`,"i"),i=e=>e.replace(o,""),u=()=>`/apps/${l}`,d=()=>`${n()}/${l}`},52069:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});const l=e=>{var t,a,l,n;if(!e)return"";let r=null===(t=e.subscription)||void 0===t?void 0:t.display_name;if(r&&r!==(null===(a=e.subscription)||void 0===a?void 0:a.external_cluster_id)||(r=e.name||e.external_id),void 0===r){if("Deprovisioned"===(null===(l=e.subscription)||void 0===l?void 0:l.status)){const t=null===(n=e.subscription)||void 0===n?void 0:n.id;if(t)return t}return"Unnamed Cluster"}return r}},58995:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var l=a(49596);function n(e){const t=(0,l.removeOcmBaseName)(e).replace(/^\//,"").split("/");switch(t[0]){case"downloads":case"token":return{id:"downloads"};case"quota":return{id:t[1]||"openshift-quota",parentId:"subscriptions",secondaryNav:!0};case"subscriptions":return{id:t[1],parentId:"subscriptions",secondaryNav:!0};case"overview":case"releases":return{id:t[0]};default:return{id:""}}}},44276:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var l=a(56554);const n=(e,t,a)=>{const n={redirect:t,cancelRedirect:a};return`${e}&${(0,l.buildUrlParams)(n)}`}},71439:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getTrialEndDate:()=>s,getTrialExpiresInDays:()=>r});var l=a(27484),n=a.n(l);const r=(e,t)=>{var a,l;let r="";if(r=t?null===(a=e.subscription)||void 0===a?void 0:a.trial_end_date:null===(l=e.subscription)||void 0===l?void 0:l.eval_expiration_date,r){const e=n()(r).diff(n()(),"day");return 0===e?"< 1 day":`${e} day${1===e?"":"s"}`}return"unknown days"},s=e=>{var t;const a=null===(t=e.subscription)||void 0===t?void 0:t.trial_end_date;return a?n().utc(a).local().format("dddd, MMMM Do YYYY, h:mm a"):"unknown date"}},69429:(e,t,a)=>{"use strict";a.r(t),a.d(t,{arrayToString:()=>f,asArray:()=>c,constructSelectedSubnets:()=>N,default:()=>L,formatMinorVersion:()=>A,getRandomID:()=>g,goZeroTime:()=>I,goZeroTime2Null:()=>R,isSupportedMinorVersion:()=>T,isValid:()=>i,multiInputToCleanArray:()=>d,noMachineTypes:()=>b,noQuotaTooltip:()=>v,nodeKeyValueTooltipText:()=>_,noop:()=>o,parseReduxFormKeyValueList:()=>y,parseReduxFormTaints:()=>O,randAlphanumString:()=>h,scrollToFirstField:()=>C,shouldRefetchQuota:()=>S,strToCleanArray:()=>u,strToCleanObject:()=>E,strToKeyValueObject:()=>P,stringToArray:()=>p,stringToArrayTrimmed:()=>m,truncateTextWithEllipsis:()=>D});var l=a(41609),n=a.n(l),r=a(81249),s=a.n(r);const o=Function.prototype,i=e=>null!=e&&!1!==e&&""!==e,u=e=>e?e.split(",").map((e=>e.trim())).filter((e=>e)):void 0,d=(e,t)=>{const a=e[t];return Array.isArray(a)?a.map((e=>null==e?void 0:e[t])).filter((e=>e)).map((e=>e.trim())):[]},c=e=>Array.isArray(e)?e:[e],p=e=>e&&e.trim().split(","),m=e=>c(p(e)).map((e=>null==e?void 0:e.trim())).filter((e=>!!e)),f=e=>e&&e.join(","),E=(e,t)=>{if(!e)return{};const a=u(e),l={};return null==a||a.forEach((e=>{const[a,n]=e.split(t);l[a]=n})),l},g=()=>`${Math.floor(65536*(1+Math.random())).toString(16).substring(1)}`,h=e=>btoa(String(Math.random())).substr(5,e),v="You do not have enough quota for this option. Contact sales to purchase additional quota.",b="You do not have enough quota to create a cluster with the minimum required worker capacity.",_="To add an additional label, make sure all of your labels' keys are filled out (value fields are optional).",S=e=>{const t=e.timestamp,a=(new Date).getTime();return!e.pending&&(!e.fulfilled||a-t>12e4)},C=(e,t="input,select,textarea")=>{if(!(null==e?void 0:e.length))return!1;const a=document.querySelector(e.map((e=>`[id*="${e}"]`)).join(","));if(a instanceof HTMLElement){let e=a;return t.includes(a.tagName.toLowerCase())||(e=null==a?void 0:a.querySelector(t)),setTimeout((()=>a.scrollIntoView({behavior:"smooth",block:"center"}))),null==e||e.focus({preventScroll:!0}),!0}return!1},y=(e=[{}])=>Object.fromEntries(e.filter((({key:e})=>void 0!==e&&""!==e)).map((({key:e,value:t})=>[e,null!=t?t:""]))),O=e=>e.map((e=>e.key&&e.effect&&{key:e.key,value:null===e.value||void 0===e.value?"":e.value,effect:e.effect})).filter(Boolean),I="0001-01-01T00:00:00Z",R=e=>{if(e===I)return null;const t=Date.parse(e);return Number.isNaN(t)||t!==Date.parse(I)?e:null},T=(e,t)=>{const a=t?s().coerce(t):null;return!!a&&s().satisfies(e,`<=${s().major(a)}.${s().minor(a)}`)},A=e=>{const t=s().coerce(e);return t?`${s().major(t)}.${s().minor(t)}`:e},P=(e,t)=>{if(void 0!==e)return e?e.split(",").reduce(((e,a)=>{const[l,n]=a.split("=");return Object.assign(Object.assign({},e),{[l]:null!=n?n:t})}),{}):{}},D=(e,t)=>e&&t&&e.length>t?`${e.slice(0,t/3)}... ${e.slice(2*-t/3)}`:e,N=e=>{var t,a,l;const n="true"===(null==e?void 0:e.hypershift),r=null==e?void 0:e.use_privatelink;let s=[],o=[],i=[];if(null==e?void 0:e.install_to_vpc){let u=[];const d=null==e?void 0:e.machinePoolsSubnets.map((e=>e.privateSubnetId)).filter((e=>void 0!==e&&""!==e));u=n?null==e?void 0:e.cluster_privacy_public_subnet_id:null==e?void 0:e.machinePoolsSubnets.map((e=>e.publicSubnetId)).filter((e=>void 0!==e&&""!==e)),(null===(t=null==e?void 0:e.selected_vpc)||void 0===t?void 0:t.aws_subnets)&&(s=null===(a=null==e?void 0:e.selected_vpc)||void 0===a?void 0:a.aws_subnets.filter((e=>d.includes(e.subnet_id))),o=null===(l=null==e?void 0:e.selected_vpc)||void 0===l?void 0:l.aws_subnets.filter((e=>u.includes(e.subnet_id)))),i=r?s:s.concat(o)}return i},L={noop:o,isValid:i,strToCleanArray:u,asArray:c,nestedIsEmpty:e=>n()(e)||Object.keys(e).map((t=>n()(e[t]))).every((e=>e))}},24501:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c,isAISubscriptionWithoutMetrics:()=>d,isAssistedInstallCluster:()=>i,isAvailableAssistedInstallCluster:()=>o,isUninstalledAICluster:()=>u});var l=a(27361),n=a.n(l),r=a(52758);const s=e=>{var t;return(null===(t=null==e?void 0:e.plan)||void 0===t?void 0:t.id)===r.normalizedProducts.OCP_Assisted_Install},o=e=>!(n()(e,"subscription.status",!1)===r.subscriptionStatuses.ARCHIVED)&&!!e.aiCluster&&s(e.subscription),i=e=>s(e.subscription),u=e=>{var t;return s(e.subscription)&&(null===(t=e.subscription)||void 0===t?void 0:t.status)===r.subscriptionStatuses.RESERVED&&"installed"!==e.state},d=e=>s(e)&&(!(null==e?void 0:e.metrics)||0===e.metrics.length),c=s},19953:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY:()=>s,ENV_OVERRIDE_LOCALSTORAGE_KEY:()=>r,HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY:()=>o,ONLY_MY_CLUSTERS_TOGGLE_CLUSTERS_LIST:()=>l,ONLY_MY_CLUSTERS_TOGGLE_CLUSTER_ARCHIVES_LIST:()=>n,default:()=>i});const l="onlyViewMyClustersToggleClustersList",n="onlyViewMyClustersToggleClusterArchivesList",r="ocmOverridenEnvironment",s="rosaAwsAccount",o="hadInflightErrors",i={ONLY_MY_CLUSTERS_TOGGLE_CLUSTERS_LIST:l,ONLY_MY_CLUSTERS_TOGGLE_CLUSTER_ARCHIVES_LIST:n,ENV_OVERRIDE_LOCALSTORAGE_KEY:r,AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY:s,HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY:o}},70471:(e,t,a)=>{"use strict";a.d(t,{EQ:()=>n,Jd:()=>l,uC:()=>r});const l="any",n=(e,t)=>e===t||e===l||t===l,r=(e,t)=>n(e?e.toLowerCase():void 0,t?t.toLowerCase():void 0)},11689:(e,t,a)=>{"use strict";a.d(t,{LZ:()=>h,ME:()=>b,My:()=>g,WY:()=>_,Y0:()=>E,a8:()=>f,gI:()=>v,iG:()=>p});var l=a(93513),n=a(84896),r=a(7488),s=a(52758),o=a(24501);const{getClustervCPUCount:i,getClusterMemoryAmount:u,getMasterCount:d,getWorkerCount:c}=n,p=e=>{const t={OCP:s.normalizedProducts.OCP,OSD:s.normalizedProducts.OSD,OSDTRIAL:s.normalizedProducts.OSDTrial,RHMI:s.normalizedProducts.RHMI,MOA:s.normalizedProducts.ROSA,ROSA:s.normalizedProducts.ROSA,ROSA_HYPERSHIFT:s.normalizedProducts.ROSA_HyperShift,MOA_HOSTEDCONTROLPLANE:s.normalizedProducts.ROSA_HyperShift,ARO:s.normalizedProducts.ARO,OCP_ASSISTEDINSTALL:s.normalizedProducts.OCP_Assisted_Install,RHACS:s.normalizedProducts.RHACS,RHACSTRIAL:s.normalizedProducts.RHACSTrial,RHOSR:s.normalizedProducts.RHOSR,RHOSRTRIAL:s.normalizedProducts.RHOSRTrial,RHOSAK:s.normalizedProducts.RHOSAK,RHOSAKTRIAL:s.normalizedProducts.RHOSAKTrial,RHOSE:s.normalizedProducts.RHOSE,RHOSETRIAL:s.normalizedProducts.RHOSETrial,RHOIC:s.normalizedProducts.RHOIC,ANY:s.normalizedProducts.ANY};return"string"!=typeof e?s.normalizedProducts.UNKNOWN:t[e.toUpperCase().replace("-","_")]||s.normalizedProducts.UNKNOWN},m={memory:{used:{value:0,unit:"B"},total:{value:0,unit:"B"},updated_timestamp:""},cpu:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},storage:{used:{value:0,unit:"B"},total:{value:0,unit:"B"},updated_timestamp:""},nodes:{total:0,master:0,compute:0},state:"N/A",upgrade:{available:!1},cloud_provider:"",cluster_type:"",compute_nodes_cpu:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},compute_nodes_memory:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},compute_nodes_sockets:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},console_url:"",critical_alerts_firing:0,non_virt_nodes:0,openshift_version:"",operating_system:"",operators_condition_failing:0,region:"",sockets:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},state_description:"",subscription_cpu_total:0,subscription_obligation_exists:0,subscription_socket_total:0},f=e=>{const t=e?Object.assign(Object.assign({},m),e):Object.assign({},m),a=["memory","storage","cpu"];return["memory","storage","cpu","nodes"].forEach((e=>{if(t[e]=Object.assign(Object.assign({},m[e]),t[e]),a.includes(e)){const a=t[e],l=a.total||{},n=a.used||{},r=m[e];a.total=Object.assign(Object.assign({},r.total),l),a.used=Object.assign(Object.assign({},r.used),n)}})),t},E=e=>{var t,a,l;const n=Object.assign({},e);return n.product={id:p(null===(t=e.product)||void 0===t?void 0:t.id)},e.version&&e.version.available_upgrades&&(null===(l=null===(a=n.version)||void 0===a?void 0:a.available_upgrades)||void 0===l||l.sort(r.versionComparator)),n},g=e=>{var t,a,l,n;const r=null===(t=e.metrics)||void 0===t?void 0:t[0],o=f(r),i={subscription_id:e.id,id:e.cluster_id,external_id:e.external_cluster_id,console:{url:e.console_url},creation_timestamp:e.created_at,activity_timestamp:r?r.query_timestamp:e.last_telemetry_date,state:o.state,openshift_version:o.openshift_version,cpu_architecture:o.arch,product:{id:p(null===(a=e.plan)||void 0===a?void 0:a.id),type:p(null===(l=e.plan)||void 0===l?void 0:l.type)},managed:s.clustersServiceProducts.includes(p(null===(n=e.plan)||void 0===n?void 0:n.type)),ccs:{enabled:!1},metrics:o},u=e.cloud_provider_id;u&&(i.cloud_provider={id:u.toLowerCase()});const d=e.region_id;return d&&(i.region={id:d.toLowerCase()}),i},h=(e,t)=>{var a,l;const n=g(e);if((0,o.isAISubscriptionWithoutMetrics)(e)){const e=t?c(null!==(a=t.hosts)&&void 0!==a?a:[]):0,r=t?d(null!==(l=t.hosts)&&void 0!==l?l:[]):0;n.metrics.memory.total.value=t?u(t):0,n.metrics.cpu.total.value=t?i(t):0,n.metrics.nodes.total=e+r,n.metrics.nodes.master=r,n.metrics.nodes.compute=e;const s=n.metrics.openshift_version||(null==t?void 0:t.openshiftVersion)||"N/A";n.metrics.openshift_version=s,n.openshift_version=s;const o=(null==t?void 0:t.status)||"N/A";n.metrics.state=o,n.state=o,n.cpu_architecture=n.metrics.arch}return n},v=e=>{var t,a;return Object.assign(Object.assign({},e),{plan:{id:p(null===(t=e.plan)||void 0===t?void 0:t.id),type:p(null===(a=e.plan)||void 0===a?void 0:a.type)}})},b=e=>{var t;return Object.assign(Object.assign({},e),{related_resources:(null!==(t=null==e?void 0:e.related_resources)&&void 0!==t?t:[]).map((e=>Object.assign(Object.assign({},e),{product:p(e.product)})))})},_=(e,t)=>(0,l.Uy)(e,(e=>{var a;e.data.items=null===(a=e.data.items)||void 0===a?void 0:a.map(t)}))},56554:(e,t,a)=>{"use strict";a.r(t),a.d(t,{buildFilterURLParams:()=>E,buildUrlParams:()=>f,createOverviewQueryObject:()=>m,createServiceLogQueryObject:()=>p,createViewQueryObject:()=>c,deleteQueryParam:()=>h,getQueryParam:()=>g,sqlString:()=>u,viewPropsChanged:()=>i});var l=a(18446),n=a.n(l),r=a(41609),s=a.n(r),o=a(52758);const i=(e,t)=>e.currentPage!==t.currentPage||e.pageSize!==t.pageSize||!n()(e.sorting,t.sorting)||!n()(e.filter,t.filter)||!n()(e.flags,t.flags),u=e=>`'${e.replace(/'/g,"''")}'`,d=(e,t)=>{const a=t?"asc":"desc";return e.split(",").map((e=>`${e.trim()} ${a}`)).join(", ")},c=(e,t)=>{const a={};if(e){a.page=e.currentPage,a.page_size=e.pageSize,a.has_filters=!!e.filter;const{sortField:l,isAscending:n}=e.sorting;if(null!==l){const e=n?"asc":"desc";a.order="name"===l?`display_name ${e}`:d(l,n)}const r=[];if(r.push("cluster_id!=''"),r.push(`plan.id NOT IN (${o.omittedProducts.map(u).join(", ")})`),e.flags.showArchived?r.push("status IN ('Deprovisioned', 'Archived')"):r.push("status NOT IN ('Deprovisioned', 'Archived')"),e.flags.showMyClustersOnly&&r.push(`creator.username='${t}'`),"string"==typeof e.filter){const t=u(`%${e.filter}%`);r.push(`display_name ILIKE ${t} OR external_cluster_id ILIKE ${t} OR cluster_id ILIKE ${t}`)}if(!s()(e.flags.subscriptionFilter)){const t=e.flags.subscriptionFilter.plan_id;if(!s()(t)){const e=t.flatMap((e=>{var t;return null===(t=o.productFilterOptions.find((t=>t.key===e)))||void 0===t?void 0:t.plansToQuery})).map(u);r.push(`plan_id IN (${e.join(",")})`)}}a.filter=r.map((e=>`(${e})`)).join(" AND ").trim()}return a},p=(e,t)=>{const a={page:1,page_size:-1,format:t};if(e){a.page=e.currentPage,a.page_size=e.pageSize;const{sortField:t,isAscending:l}=e.sorting;null!==t&&(a.order=d(t,l));const n=[];if(e.filter&&"string"!=typeof e.filter){const{description:t,loggedBy:a,timestampFrom:l,timestampTo:r}=e.filter;if(t){const e=u(`%${t}%`);n.push(`(description ILIKE ${e} OR summary ILIKE ${e})`)}if(a){const e=u(`%${a}%`);n.push(`(username ILIKE ${e} OR (username = '' AND created_by ILIKE ${e}))`)}l&&n.push(`timestamp ${l}`),r&&n.push(`timestamp ${r}`)}if(e.flags){const{severityTypes:t=[],logTypes:a=[]}=e.flags.conditionalFilterFlags;if(t.length>0){const e=t.map(u);n.push(`severity IN (${e.join(",")})`)}if(a.length>0){const e=a.map(u);n.push(`log_type IN (${e.join(",")})`)}}n.length>0&&(a.filter=n.map((e=>`(${e})`)).join(" AND ").trim())}return a},m=(e,t)=>{const a=Object.assign({order:"display_name asc"},t);return e&&(a.page=e.currentPage,a.page_size=e.pageSize),a},f=e=>Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&"),E=e=>Object.keys(e).map((t=>!s()(e[t])&&`${t}=${e[t].join(",")}`)).filter(Boolean).join("&"),g=e=>{let t;return window.location.search.substring(1).split("&").forEach((a=>{const[l,n]=a.split("=");l===e&&(t=decodeURI(n))})),t},h=e=>{const t=new URL(window.location.href);t.searchParams.delete(e),window.history.replaceState({},"",t.toString())}},11862:(e,t,a)=>{"use strict";a.r(t),a.d(t,{defaultToOfflineTokens:()=>l,hasRestrictTokensCapability:()=>n});const l=!0,n=e=>!!(null==e?void 0:e.length)&&e.some((e=>"capability.account.restrict_new_offline_tokens"===e.name&&"true"===e.value))},25865:(e,t,a)=>{"use strict";a.r(t),a.d(t,{extractAWSID:()=>l});const l=e=>{const t=e.substr(e.indexOf("::")+2);return t.substr(0,t.indexOf(":"))}},83768:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getDefaultSecurityGroupsSettings:()=>l,hasSecurityGroupIds:()=>r,hasSelectedSecurityGroups:()=>n});const l=()=>({applyControlPlaneToAll:!0,controlPlane:[],infra:[],worker:[]}),n=e=>!!e&&(e.applyControlPlaneToAll?e.controlPlane.length>0:e.controlPlane.length>0||e.infra.length>0||e.worker.length>0),r=(e={},t=[])=>{var a,l,n,r;return(null!==(l=null===(a=null==e?void 0:e.aws)||void 0===a?void 0:a.additional_control_plane_security_group_ids)&&void 0!==l?l:[]).length>0||(null!==(r=null===(n=null==e?void 0:e.aws)||void 0===n?void 0:n.additional_infra_security_group_ids)&&void 0!==r?r:[]).length>0||(null==t?void 0:t.some((e=>{var t,a;return(null!==(a=null===(t=null==e?void 0:e.aws)||void 0===t?void 0:t.additional_security_group_ids)&&void 0!==a?a:[]).length>0})))}},1290:(e,t,a)=>{"use strict";a.r(t),a.d(t,{hasCapability:()=>r,haveCapabilities:()=>s,subscriptionCapabilities:()=>n});var l=a(52758);const n={CREATE_MOA_CLUSTERS:"capability.account.create_moa_clusters",CREATE_ROSA_CLUSTERS:"capability.account.create_rosa_clusters",MANAGE_CLUSTER_ADMIN:"capability.cluster.manage_cluster_admin",ORGANIZATION_REGISTRATIONS_PER_HOUR:"capability.organization.clusters_registrations_per_hour",SUBSCRIBED_OCP:"capability.cluster.subscribed_ocp",SUBSCRIBED_OCP_MARKETPLACE:"capability.cluster.subscribed_ocp_marketplace",BARE_METAL_INSTALLER_ADMIN:"capability.account.bare_metal_installer_admin",RELEASE_OCP_CLUSTERS:"capability.cluster.release_ocp_clusters",CREATE_GCP_NON_CCS_CLUSTER:"capability.organization.create_gcp_non_ccs_cluster"},r=(e,t)=>{var a;if(t===n.RELEASE_OCP_CLUSTERS)return!0;if(t===n.SUBSCRIBED_OCP_MARKETPLACE){if((null==e?void 0:e.status)===l.subscriptionStatuses.DISCONNECTED)return!1;if(!(null==e?void 0:e.id))return!1}const r=(null!==(a=null==e?void 0:e.capabilities)&&void 0!==a?a:[]).find((e=>e.name===t));return"true"===(null==r?void 0:r.value)},s=(e,t)=>{const a={};return e.forEach((e=>{const l=e.id;l&&(a[l]=r(e.subscription,t))})),a}},52758:(e,t,a)=>{"use strict";a.r(t),a.d(t,{billingModels:()=>E,clustersServiceProducts:()=>m,knownProducts:()=>d,normalizedProducts:()=>p,ocmRoles:()=>g,omittedProducts:()=>c,productFilterOptions:()=>f,subscriptionProductBundles:()=>o,subscriptionServiceLevels:()=>r,subscriptionSettings:()=>l,subscriptionStatuses:()=>u,subscriptionSupportLevels:()=>n,subscriptionSystemUnits:()=>i,subscriptionUsages:()=>s});const l={SUPPORT_LEVEL:"support_level",USAGE:"usage",SERVICE_LEVEL:"service_level",PRODUCT_BUNDLE:"product_bundle",SYSTEM_UNITS:"system_units",CPU_TOTAL:"cpu_total",SOCKET_TOTAL:"socket_total",CLUSTER_BILLING_MODEL:"cluster_billing_model",EVALUATION_EXPIRATION_DATE:"evaluation_expiration_date"},n={EVAL:"Eval",STANDARD:"Standard",PREMIUM:"Premium",SELF_SUPPORT:"Self-Support",SUPPORT_BY_IBM:"Supported by IBM",NONE:"None"},r={L1_L3:"L1-L3",L3_ONLY:"L3-only"},s={PRODUCTION:"Production",DEV_TEST:"Development/Test",DISASTER_RECOVERY:"Disaster Recovery"},o={OPENSHIFT:"Openshift",JBOSS_MIDDLEWARE:"JBoss-Middleware",IBM_CLOUDPAK:"IBM-CloudPak"},i={CORES_VCPU:"Cores/vCPU",SOCKETS:"Sockets"},u={ACTIVE:"Active",ARCHIVED:"Archived",DEPROVISIONED:"Deprovisioned",RESERVED:"Reserved",STALE:"Stale",DISCONNECTED:"Disconnected"},d={OSD:"OSD",OSDTrial:"OSDTrial",OCP:"OCP",RHMI:"RHMI",ROSA:"ROSA",ROSA_HyperShift:"ROSA-HyperShift",ARO:"ARO",OCP_Assisted_Install:"OCP-AssistedInstall",RHACS:"RHACS",RHACSTrial:"RHACSTrial",RHOSR:"RHOSR",RHOSRTrial:"RHOSRTrial",RHOSAK:"RHOSAK",RHOSAKTrial:"RHOSAKTrial",RHOSE:"RHOSE",RHOSETrial:"RHOSETrial",RHOIC:"RHOIC"},c=[d.RHACS,d.RHACSTrial,d.RHOSR,d.RHOSRTrial,d.RHOSAK,d.RHOSAKTrial,d.RHOSE,d.RHOSETrial],p=Object.assign(Object.assign({},d),{ANY:"ANY",UNKNOWN:"UNKNOWN"}),m=[p.OSD,p.OSDTrial,p.ROSA,p.ROSA_HyperShift,p.RHMI,p.ARO],f=[{key:p.OCP,label:"OCP",plansToQuery:["OCP","OCP-AssistedInstall"]},{key:p.OSD,label:"OSD",plansToQuery:["OSD"]},{key:p.ROSA,label:"ROSA",plansToQuery:["MOA","ROSA","MOA-HostedControlPlane"]},{key:p.ARO,label:"ARO",plansToQuery:["ARO"]},{key:p.RHOIC,label:"RHOIC",plansToQuery:["RHOIC"]}],E={STANDARD:"standard",MARKETPLACE:"marketplace",MARKETPLACE_AWS:"marketplace-aws",MARKETPLACE_GCP:"marketplace-gcp",STANDARD_TRIAL:"standard-trial"},g={CLUSTER_EDITOR:{id:"ClusterEditor",name:"Cluster editor",description:"Cluster editor role will allow users or groups to manage and configure the cluster."},CLUSTER_VIEWER:{id:"ClusterViewer",name:"Cluster viewer",description:"Cluster viewer role will allow users or groups to view cluster details only."},CLUSTER_AUTOSCALER_EDITOR:{id:"ClusterAutoscalerEditor",name:"Cluster autoscaler editor",description:"Cluster autoscaler editor role will allow users or groups to manage and configure the cluster autoscaler settings.",excludeProductIds:[d.ROSA_HyperShift]},IDP_EDITOR:{id:"IdpEditor",name:"Identity provider editor",description:"Identity provider editor role will allow users or groups to manage and configure the identity providers."},MACHINE_POOL_EDITOR:{id:"MachinePoolEditor",name:"Machine pool editor",description:"Machine pool editor role will allow users or groups to manage and configure the machine pools."}}},73960:(e,t,a)=>{"use strict";a.r(t),a.d(t,{humanizeValueWithUnit:()=>s,humanizeValueWithUnitGiB:()=>i,humanizeValueWithoutUnit:()=>u,parseValueWithUnit:()=>r,roundValueWithUnit:()=>o});var l=a(47941);const n=(e,t)=>{const a=Math.pow(10,t);return Math.round(e*a)/a},r=(e,t)=>e*{B:1,KiB:1024,MiB:Math.pow(2,20),GiB:Math.pow(2,30),TiB:Math.pow(2,40),PiB:Math.pow(2,50),KB:1e3,MB:Math.pow(10,6),GB:Math.pow(10,9),TB:Math.pow(10,12),PB:Math.pow(10,15)}[t.trim()],s=(e,t)=>{const a=(0,l.G)(r(e,t),{output:"object",standard:"iec"});return{value:+a.value,unit:a.unit.trim()}},o=(e,t)=>({value:n(e,2),unit:t}),i=e=>{const t=Math.pow(2,30);return o(e/t,"GiB")},u=(e,t=2)=>(0,l.G)(e,{base:t})},90181:(e,t,a)=>{"use strict";a.r(t),a.d(t,{acknowledgePrerequisites:()=>F,asyncValidateClusterName:()=>Y,atLeastOneRequired:()=>Me,awsNumericAccountID:()=>ke,checkClusterConsoleURL:()=>ve,checkClusterDisplayName:()=>pe,checkClusterUUID:()=>ce,checkCustomOperatorRolesPrefix:()=>ee,checkDisconnectedConsoleURL:()=>Oe,checkDisconnectedMemCapacity:()=>Te,checkDisconnectedNodeCount:()=>Ae,checkDisconnectedSockets:()=>Re,checkDisconnectedvCPU:()=>Ie,checkGithubTeams:()=>te,checkIdentityProviderName:()=>G,checkLabelKey:()=>ne,checkLabelValue:()=>re,checkLabels:()=>ie,checkMachinePoolName:()=>W,checkNoProxyDomains:()=>be,checkNodePoolName:()=>q,checkOpenIDIssuer:()=>U,checkRouteSelectors:()=>de,checkTaintKey:()=>se,checkTaintValue:()=>oe,checkUserID:()=>me,clusterAutoScalingValidators:()=>J,clusterNameAsyncValidation:()=>z,clusterNameValidation:()=>H,composeValidators:()=>nt,createPessimisticValidator:()=>X,default:()=>rt,evaluateClusterNameAsyncValidation:()=>B,required:()=>x,requiredTrue:()=>j,validateARN:()=>Pe,validateAWSKMSKeyARN:()=>Be,validateCA:()=>he,validateDuplicateLabels:()=>ue,validateGCPHostProjectId:()=>we,validateGCPKMSServiceAccount:()=>qe,validateGCPServiceAccount:()=>je,validateGCPSubnet:()=>We,validateHTPasswdPassword:()=>$e,validateHTPasswdPasswordConfirm:()=>Ke,validateHTPasswdUsername:()=>Ye,validateLabelKey:()=>Qe,validateLabelValue:()=>Je,validateListOfBalancingLabels:()=>K,validateMultipleMachinePoolsSubnets:()=>ze,validateNamespacesList:()=>at,validateNumericInput:()=>ye,validatePrivateHostedZoneId:()=>Le,validateRHITUsername:()=>Ee,validateRequiredPublicSubnetId:()=>He,validateRoleARN:()=>Ne,validateSecurityGroups:()=>Fe,validateServiceAccountObject:()=>xe,validateTlsHostname:()=>tt,validateTlsSecretName:()=>et,validateUniqueAZ:()=>Ge,validateUniqueHTPasswdUsername:()=>Ze,validateUniqueNodeLabel:()=>Ue,validateUrl:()=>ge,validateUserOrGroupARN:()=>De,validateWorkerVolumeSize:()=>lt});var l=a(27707),n=a(37218),r=a(6845),s=a.n(r),o=a(40660),i=a(33047),u=a(48968),d=a(77589),c=a(56554),p=function(e,t,a,l){return new(a||(a=Promise))((function(n,r){function s(e){try{i(l.next(e))}catch(e){r(e)}}function o(e){try{i(l.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}i((l=l.apply(e,t||[])).next())}))};const m=/^[a-z]([-a-z0-9]*[a-z0-9])?$/,f=/^[-a-z0-9]+$/,E=/^[a-z]/,g=/[a-z0-9]$/,h=/^.*[/]+.*[/]+.*$/i,v=/^([a-z]([-a-z0-9]*[a-z0-9])?\.)+[a-z]([-a-z0-9]*[a-z0-9])?$/,b=/^([a-z]([-a-z0-9]*[a-z0-9])?)+(\.[a-z]([-a-z0-9]*[a-z0-9])?)*$/,_=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,S=/^([0-9]+(\.[0-9]+)?(ns|us|s|ms|s|m|h))+$/,C=/^[a-zA-Z]+[a-zA-Z0-9./-]*:[0-9]+:[0-9]+$/,y=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/(3[0-2]|[1-2][0-9]|[1-9]))$/,O=/^\/?(3[0-2]|[1-2][0-9]|[0-9])$/,I=/^https?:\/\/(([0-9]{1,3}\.){3}[0-9]{1,3}|([a-z0-9-]+\.)+[a-z]{2,})(:[0-9]+)?([a-z0-9_/-]+)?$/i,R=/^[a-z][-a-z0-9]{4,28}[a-z0-9]{1}$/,T=/^arn:aws([-\w]+)?:iam::\d{12}:(user|group)\/\S+/,A=/^arn:aws([-\w]+)?:iam::\d{12}:role\/\S+/,P=/^Z[0-9A-Z]{3,}/,D=/^\d{12}$/,N=/^[a-z0-9.+-]+@[\w.-]+\.[a-z]{2,4}$/,L=/^arn:aws([-\w]+)?:kms:[\w-]+:\d{12}:key\/[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/,w=/^arn:aws([-\w]+)?:kms:[\w-]+:\d{12}:key\/mrk-[0-9a-f]{32}$/,M=/^([a-z0-9][a-z0-9-_.]*)?[a-z0-9]$/i,k=/^(([a-z0-9][a-z0-9-_.]*)?[a-z0-9])?$/i,x=e=>e&&e.trim()?void 0:"Field is required",j=e=>e&&!0===e?void 0:"Field must be selected",F=e=>e&&!0===e?void 0:"Acknowledge that you have read and completed all prerequisites.",G=e=>e?/\s/.test(e)?"Name must not contain whitespaces.":/[^A-Za-z0-9_-]/.test(e)?"Name should contain only alphanumeric and dashes":void 0:"Name is required.",U=e=>{if(!e)return"Issuer URL is required.";if(!e.startsWith("https://"))return"Invalid URL. Issuer must use https scheme without a query string (?) or fragment (#)";let t;try{t=new URL(e)}catch(e){return"Invalid URL"}return""!==t.hash||""!==t.search||t.href.includes("#")?"The URL must not include a query string (?) or fragment (#)":void 0},V=(e,t,a)=>e?m.test(e)?e.length>a?`${t} names may not exceed ${a} characters.`:void 0:`${t} name '${e}' isn't valid, must consist of lower-case alphanumeric characters or '-', start with an alphabetic character, and end with an alphanumeric character. For example, 'my-name', or 'abc-123'.`:`${t} name is required.`,H=e=>((e,t,a)=>[{text:"1 - 15 characters",validated:!!(null==e?void 0:e.length)&&(null==e?void 0:e.length)<=15},{text:"Consist of lower-case alphanumeric characters, or hyphen (-)",validated:!!e&&f.test(e)},{text:"Start with a lower-case alphabetic character",validated:!!e&&E.test(e)},{text:"End with a lower-case alphanumeric character",validated:!!e&&g.test(e)}])(e),z=e=>(e=>[{text:"Globally unique name in your organization",validator:()=>p(void 0,void 0,void 0,(function*(){var t;if(!(null==e?void 0:e.length))return!1;const a=`name = ${(0,c.sqlString)(e)}`,{data:l}=yield i.clusterService.getClusters(a,1);return!(null===(t=null==l?void 0:l.items)||void 0===t?void 0:t.some((t=>t.name===e)))}))}])(e),W=e=>V(e,"Machine pool",30),q=e=>V(e,"Machine pool",15),B=($=z,e=>p(void 0,void 0,void 0,(function*(){const t=$(e),a=yield Promise.all(t.map((({validator:e})=>null==e?void 0:e())));return t.map(((e,t)=>Object.assign(Object.assign({},e),{validated:a[t]})))})));var $;const Z=e=>{var t;return null===(t=null==e?void 0:e.find((e=>!1===e.validated)))||void 0===t?void 0:t.text},Y=e=>p(void 0,void 0,void 0,(function*(){const t=yield B(e);return Z(t)})),K=e=>{if(!e)return;const t=e.split(",");if(/\s/.test(e))return"Labels must not contain whitespaces.";const a=t.filter(Boolean);return t.length===a.length?void 0:"Empty labels are not allowed."},Q=/^(.*)(\.min|\.max)+$/,J={k8sTimeParameter:e=>e?S.test(e)?void 0:"Not a valid time value.":"Field is required.",k8sNumberParameter:e=>{if(Number(e)<0)return"Value cannot be a negative number."},k8sMinMaxParameter:(e,t,a,n)=>{const r=""===(s=e)||Number.isNaN(Number(s))?"Value must be a number.":void 0;var s;if(r)return r;if(Number(e)<0)return"Value cannot be a negative number";const o=n.match(Q),i=o?o[1]:"";return(0,l.get)(t,`${i}.min`)<=(0,l.get)(t,`${i}.max`)?void 0:"The minimum cannot be above the maximum value."},k8sGpuParameter:e=>{if(!e)return;const t=e.split(",").map((e=>{let t=!1;if(C.test(e)){const a=e.split(":"),l=Number(a[1]),n=Number(a[2]);(l<0||n<0||l>n)&&(t=!0)}else t=!0;return t?e||"empty param":void 0})).filter(Boolean);return 0===t.length?void 0:`Invalid params: ${t.join(",")}`},k8sScaleDownUtilizationThresholdParameter:e=>{if(+e<0||+e>1)return"Value must be between 0 and 1."},k8sLogVerbosityParameter:e=>{if(+e<1||+e>6)return"Value must be between 1 and 6."}},X=(e=(()=>{}))=>(t,a,l,n)=>Z(e(t,a,l,n)),ee=e=>{const t="Custom operator roles prefix";if(e)return m.test(e)?e.length>32?`${t} may not exceed 32 characters.`:void 0:`${t} '${e}' isn't valid, must consist of lower-case alphanumeric characters or '-', start with an alphabetic character, and end with an alphanumeric character. For example, 'my-name', or 'abc-123'.`},te=e=>{if(!e)return;const t=e.split(",");for(let e=0;e<t.length;e+=1){const a=t[e].split("/");if(2!==a.length)return"Each team must be of format 'org/team'.";if(!a[0]||!a[1])return"Each team must be of format 'org/team'.";if(/\s/.test(a[0]))return"Organization must not contain whitespaces.";if(/\s/.test(a[1]))return"Team must not contain whitespaces."}},ae=(e,t,a)=>{const{prefix:l,name:n}=(e=>{var t,a;const[l,n]=null!==(a=null===(t=null==e?void 0:e.split(/\/(.+)/,2))||void 0===t?void 0:t.reverse())&&void 0!==a?a:[];return{name:l,prefix:n}})(e),r=1===(null==t?void 0:t.length)&&!t[0].key&&!t[0].value;return[{validated:!!e&&!h.test(e),text:"A qualified name must consist of alphanumeric characters, '-', '_' or '.', and must start and end with an alphanumeric character with an optional DNS subdomain prefix and '/' (e.g. 'example.com/MyName')"},{validated:void 0===l||b.test(l),text:"A valid key prefix part of a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character"},{validated:void 0===l||l.length<=253,text:"A valid key prefix must be 253 characters or less"},{validated:void 0===n||M.test(n),text:"A valid key name must consist of alphanumeric characters, '-', '.' , '_'  or '/' and must start and end with an alphanumeric character"},{validated:void 0===n||n.length<=63,text:"A valid key name must be 63 characters or less"},{validated:r||(null==e?void 0:e.length)>0,text:"label"===a?"A valid key name must consist of alphanumeric characters, '-', '.' , '_'  or '/' and must start and end with an alphanumeric character":"Required"}]},le=e=>[{validated:null==e||e.length<=63,text:"A valid value must be 63 characters or less"},{validated:void 0===e||k.test(e),text:"A valid value must consist of alphanumeric characters, '-', '.' or '_' and must start and end with an alphanumeric character"}],ne=X(((e,t)=>{const a=(null==t?void 0:t.node_labels)||[];return ae(e,a,"label")})),re=X(le),se=X(((e,t)=>{const a=(null==t?void 0:t.taints)||[];return ae(e,a,"taint")})),oe=X(le),ie=e=>{var t;return null===(t=(e=>{var t;if(e)return t="string"==typeof e?e.split(","):e,[].concat(t).map((e=>e.split("=")))})(e))||void 0===t?void 0:t.reduce(((e,[t,a])=>{var l;return null!==(l=null!=e?e:ne(t))&&void 0!==l?l:re(a)}),void 0)},ue=e=>{if(!e)return;const t=(e=>{const t={};let a=null;return e.forEach((e=>{const l=e.split("=")[0];t[l]?a=l:t[l]=!0})),a})("string"==typeof e?e.split(","):e);return t?`Each label should have a unique key. "${t}" already exists.`:void 0},de=e=>ie(e)||ue(e),ce=e=>e?_.test(e)?void 0:`Cluster ID '${e}' is not a valid UUID.`:"Cluster ID is required.",pe=e=>{if(e)return e.length>63?"Cluster display name may not exceed 63 characters.":void 0},me=e=>{const t=(e=>e?e.trim()!==e?"cannot contain leading and trailing spaces":e.includes("/")?"cannot contain '/'.":e.includes(":")?"cannot contain ':'.":e.includes("%")?"cannot contain '%'.":"~"===e?"cannot be '~'.":"."===e?"cannot be '.'.":".."===e?"cannot be '..'.":"cluster-admin"===e?"cannot be 'cluster-admin'.":void 0:"cannot be empty.")(e);return t?`User ID ${t}`:void 0},fe=/^[^"$<> ^|%\\(),=;~:/*\r\n]*$/,Ee=e=>fe.test(e)?void 0:"Username includes illegal symbols",ge=(e,t="http")=>{if(!e)return;let a;a="string"==typeof t?[t]:t;try{new URL(e)}catch(e){return"Invalid URL"}finally{const t=e.substring(0,e.indexOf("://"));if(!a.includes(t))return`The URL should include the scheme prefix (${a.map((e=>`${e}://`)).join(", ")})`}},he=e=>{if(e)return"Invalid file"===e?"Must be a PEM encoded X.509 file (.pem, .crt, .ca, .cert) and no larger than 4 MB":void 0},ve=(e,t)=>{if(!e)return t?"Cluster console URL should not be empty":void 0;let a;try{a=new URL(e)}catch(t){return e.startsWith("http://")||e.startsWith("https://")?"Invalid URL":"The URL should include the scheme prefix (http://, https://)"}return I.test(e)?void 0:"http:"!==a.protocol&&"https:"!==a.protocol?"The URL should include the scheme prefix (http://, https://)":""!==a.hash||""!==a.search?"The URL must not include a query string (?) or fragment (#)":"Invalid URL"},be=e=>{if(e&&e.length>0){const t=e.filter((e=>!(!e||v.test(e)&&b.test(e)))),a=t.length>1;if(t.length>0)return`The domain${a?"s":""} '${t.join(", ")}' ${a?"aren't":"isn't"} valid, \n      must contain at least two valid lower-case DNS labels separated by dots, for example 'domain.com' or 'sub.domain.com'.`}},_e=e=>{if(e&&!y.test(e))return`IP address range '${e}' isn't valid CIDR notation. It must follow the RFC-4632 format: '192.168.0.0/16'.`},Se=e=>{var t;if(e)return parseInt(null!==(t=e.split("/").pop())&&void 0!==t?t:"",10)},Ce=(e,t,a=180)=>void 0===e||+e<t.value?t.validationMsg||`The minimum number of nodes is ${t.value}.`:+e>a?`Maximum number allowed is ${a}.`:"string"==typeof e&&Number.isNaN(parseInt(e,10))||Math.floor(Number(e))!==Number(e)?`'${e}' is not a valid number of nodes.`:void 0,ye=(e,{allowDecimal:t=!1,allowNeg:a=!1,allowZero:l=!1,max:n=NaN,min:r=NaN}={})=>{if(!e)return;const s=Number(e);return Number.isNaN(s)?"Input must be a number.":!Number.isNaN(r)&&s<r?`Input cannot be less than ${r}.`:!a&&!l&&s<=0?"Input must be a positive number.":!a&&l&&s<0?"Input must be a non-negative number.":!t&&e.toString().includes(".")?"Input must be an integer.":!Number.isNaN(n)&&s>n?`Input cannot be more than ${n}.`:void 0},Oe=e=>ve(e,!1),Ie=e=>ye(e,{max:16e3}),Re=e=>ye(e,{max:2e3}),Te=e=>ye(e,{allowDecimal:!0,max:256e3}),Ae=e=>{if(""!==e)return Number.isNaN(Number(e))?"Input must be a number.":Ce(Number(e),{value:0},250)},Pe=(e,t,a)=>e?/\s/.test(e)?"Value must not contain whitespaces.":t.test(e)?void 0:`ARN value should be in the format arn:aws:iam::123456789012:${a}.`:"Field is required.",De=e=>Pe(e,T,"user/name"),Ne=e=>Pe(e,A,"role/role-name"),Le=e=>e?P.test(e)?void 0:"Not a valid Private hosted zone ID.":"Field is required.",we=e=>e?R.test(e)?void 0:"Not a valid hosted project ID. This must be an existing GCP project ID within which all networks are defined.":"Field is required.",Me=(e,t)=>a=>{if(!a)return;let n=0;return a.forEach((a=>{if(t)t(a)||(n+=1);else{const t=(0,l.get)(a,e,null);t&&""!==t.trim()&&(n+=1)}})),0===n?"At least one is required.":void 0},ke=e=>e?D.test(e)?void 0:"AWS account ID must be a 12 digits positive number.":"AWS account ID is required.",xe=e=>{(new o.Validator).validate(e,{id:"/osdServiceAccount",type:"object",properties:{type:{const:"service_account"},project_id:{type:"string"},private_key_id:{type:"string"},private_key:{type:"string",pattern:"^-----BEGIN PRIVATE KEY-----\n(.|\n)*\n-----END PRIVATE KEY-----\n$"},client_email:{type:"string",format:"email",pattern:"^osd-ccs-admin@([\\S]*)\\.iam\\.gserviceaccount\\.com$"},client_id:{type:"string"},auth_uri:{const:"https://accounts.google.com/o/oauth2/auth"},token_uri:{type:"string",format:"uri"},auth_provider_x509_cert_url:{const:"https://www.googleapis.com/oauth2/v1/certs"},client_x509_cert_url:{type:"string",format:"uri"}},required:["type","project_id","private_key_id","private_key","client_email","client_id","auth_uri","token_uri","auth_provider_x509_cert_url","client_x509_cert_url"]},{throwError:!0})},je=e=>{try{const t=JSON.parse(e);return xe(t)}catch(e){if(e instanceof SyntaxError)return"Invalid JSON format.";if(e instanceof o.ValidationError){let t;if(e.property.startsWith("instance.")){const a=e.property.replace("instance.","");t="client_email"===a&&"osd-ccs-admin"!==e.instance.split[0]?`The field '${a}' requires a service account name of 'osd-ccs-admin'.`:-1!==e.message.indexOf("does not match pattern")?`The field '${a}' is not in the required format.`:`The field '${a}' ${e.message}`}else t=e.message;return`The provided JSON does not meet the requirements: ${t}`}return}},Fe=e=>e.length>d.maxAdditionalSecurityGroups?`A maximum of ${d.maxAdditionalSecurityGroups} security groups can be selected.`:void 0,Ge=(e,t)=>(t.machinePoolsSubnets||[]).map((e=>e.availabilityZone)).filter((t=>!!e&&t===e)).length>1?"Must select 3 different AZs.":void 0,Ue=("Each label must have a different key.",Ve=(e,t)=>Object.entries(t.node_labels).filter((([t])=>!e.includes(`[${t}]`))).map((([,e])=>e.key)),(e,t,a,l)=>{var n;if((null!==(n=Ve(l,t))&&void 0!==n?n:[]).includes(e))return"Each label must have a different key."});var Ve;const He=(e,t,a)=>a.pristine||e?void 0:"Subnet is required",ze=(e,t,a)=>""===e?a.pristine?void 0:"Subnet is required":t.machinePoolsSubnets.filter((t=>t.privateSubnetId===e)).length>1?"Every machine pool must be associated to a different subnet":void 0,We=e=>e?/\s/.test(e)?"Name must not contain whitespaces.":/[^a-z0-9-]/.test(e)?"Name should contain only lowercase letters, numbers and hyphens.":e.length>63?"Name may not exceed 63 characters.":void 0:"Field is required.",qe=e=>e?/\s/.test(e)?"Field must not contain whitespaces.":N.test(e)?void 0:'Field start with lowercase letter and can only contain hyphens (-), at (@) and dot (.).For e.g. "myserviceaccount@myproj.iam.gserviceaccount.com" or "<projectnumericid>-compute@developer.gserviceaccount.com".':"Field is required.",Be=(e,t)=>{var a,l;return e?/\s/.test(e)?"Value must not contain whitespaces.":(e.includes(":key/mrk-")?w.test(e):L.test(e))?(null===(l=null===(a=e.split("kms:"))||void 0===a?void 0:a.pop())||void 0===l?void 0:l.split(":")[0])!==t?"Your KMS key must contain your selected region.":void 0:'Key provided is not a valid ARN. It should be in the format "arn:aws:kms:<region>:<accountid>:key/<keyid>".':"Field is required."},$e=e=>{const t={emptyPassword:!1,baseRequirements:!1,uppercase:!1,lowercase:!1,numbersOrSymbols:!1};return e&&e.trim()?((0!==(e.match(/[^\x20-\x7E]/g)||[]).length||-1!==e.indexOf(" ")||e.length<14)&&(t.baseRequirements=!0),0===(e.match(/[A-Z]/g)||[]).length&&(t.uppercase=!0),0===(e.match(/[a-z]/g)||[]).length&&(t.lowercase=!0),/^[a-zA-Z ]+$/.test(e)&&(t.numbersOrSymbols=!0),Object.values(t).every((e=>!1===e))?void 0:t):(t.emptyPassword=!0,t)},Ze=e=>{if(e)return new Set(e.map((e=>(0,l.get)(e,"username",null)))).size!==e.length?"Usernames must be unique only.":void 0},Ye=e=>{if(-1!==(0,l.indexOf)(e,"%")||-1!==(0,l.indexOf)(e,":")||-1!==(0,l.indexOf)(e,"/"))return"Username must not contain /, :, or %."},Ke=(e,t,a,n)=>{const r=n.substring(0,n.lastIndexOf("-confirm"));if(e!==(0,l.get)(t,r))return"The passwords do not match"},Qe=(e,t,a,l)=>{var n;if(!((e,t)=>{var a,l;const n=null!==(a=null==e?void 0:e.node_labels)&&void 0!==a?a:[{}],[{key:r,value:s}]=n,o=null!==(l=null==t?void 0:t.match(/\[([^[\]]*)\]/))&&void 0!==l?l:[];return 1===n.length&&!r&&!s||!Object.keys(n).includes(o[1])})(t,l))return null!==(n=ne(e))&&void 0!==n?n:Ue(e,t,a,l)},Je=re,Xe=(e,t)=>{if(e||t)return e&&t?V(e,"TLS secret",63):"You cannot provide only one of TLS secret name and Hostname"},et=(e,t)=>Xe(e,t.clusterRoutesHostname),tt=(e,t)=>Xe(e,t.clusterRoutesTlsSecretRef),at=(e="")=>{const t=e.split(",").find((e=>!!V(e,"Namespace",63)));if(t)return V(t,"Namespace",63)},lt=(e,t,{maxWorkerVolumeSizeGiB:a})=>e<d.workerNodeVolumeSizeMinGiB||e>a?`The worker root disk size must be between ${d.workerNodeVolumeSizeMinGiB} GiB and ${a} GiB.`:e===Math.floor(e)?void 0:"Decimals are not allowed for the worker root disk size. Enter a whole number.",nt=(...e)=>t=>{for(let a=0;a<e.length;a+=1){const l=(0,e[a])(t);if(l)return l}},rt={required:x,acknowledgePrerequisites:F,checkIdentityProviderName:G,checkClusterUUID:ce,checkClusterDisplayName:pe,checkUserID:me,validateRHITUsername:Ee,checkBaseDNSDomain:e=>e?v.test(e)?void 0:`Base DNS domain '${e}' isn't valid, must contain at least two valid lower-case DNS labels separated by dots, for example 'mydomain.com'.`:"Base DNS domain is required.",cidr:_e,subnetCidrs:(e,t,a,l)=>{var r,o;if(!e||0===(null==l?void 0:l.length))return;const i=[],d=e=>new(s())(e).start().toString(),c=t=>{t?null==l||l.forEach((t=>{y.test(t.cidr_block)&&!(0,n.cG)(e,d(t.cidr_block))&&i.push(t)})):null==l||l.forEach((t=>{if(y.test(t.cidr_block))if((0,n.cG)(e,d(t.cidr_block)))i.push(t);else if((0,n.VT)(e,t.cidr_block)){const e=Object.assign(Object.assign({},t),{overlaps:!0});i.push(e)}}))},p=()=>{var e,t;return(null===(e=i[0])||void 0===e?void 0:e.name)||(null===(t=i[0])||void 0===t?void 0:t.subnet_id)};return a===u.FieldId.NetworkMachineCidr&&(c(!0),i.length>0)?`The Machine CIDR does not include the starting IP (${d(i[0].cidr_block)}) of ${p()}`:a===u.FieldId.NetworkServiceCidr&&(c(!1),i.length>0)?(null===(r=i[0])||void 0===r?void 0:r.overlaps)?`The Service CIDR overlaps with ${p()} CIDR \n        '${i[0].cidr_block}'`:`The Service CIDR includes the starting IP (${d(i[0].cidr_block)}) of ${p()}`:a===u.FieldId.NetworkPodCidr&&(c(!1),i.length>0)?(null===(o=i[0])||void 0===o?void 0:o.overlaps)?`The Pod CIDR overlaps with ${p()} CIDR \n        '${i[0].cidr_block}'`:`The Pod CIDR includes the starting IP (${d(i[0].cidr_block)}) of ${p()}`:void 0},awsMachineCidr:(e,t)=>{if(!e)return;const a="true"===(null==t?void 0:t.multi_az),l=Se(e);if(null!=l){if(l<16)return"The subnet mask can't be larger than '/16'.";if((a||"true"===(null==t?void 0:t.hypershift))&&l>24)return"The subnet mask can't be smaller than '/24'.";if(!a&&l>25)return"The subnet mask can't be smaller than '/25'."}},serviceCidr:e=>{if(!e)return;const t=Se(e);return null!=t&&t>24?`The subnet mask can't be smaller than '/24', which provides up to ${Math.pow(2,8)-2} services.`:void 0},podCidr:(e,t)=>{if(!e)return;const a=Se(e);if(null!=a){if(a>21)return"The subnet mask can't be smaller than /21.";const e=Se(null==t?void 0:t.network_host_prefix)||23,l=Math.pow(2,32-e);if(Math.floor(Math.pow(2,32-a)/l)<32)return`The subnet mask of /${a} does not allow for enough nodes. Try changing the host prefix or the pod subnet range.`}},disjointSubnets:e=>(t,a)=>{if(!t)return;const r={network_machine_cidr:"Machine CIDR",network_service_cidr:"Service CIDR",network_pod_cidr:"Pod CIDR"};delete r[e];const s=[];y.test(t)&&Object.keys(r).forEach((e=>{const o=(0,l.get)(a,e,null);try{o&&(0,n.VT)(t,o)&&s.push(r[e])}catch(e){}}));const o=s.length>1;return s.length>0?`This subnet overlaps with the subnet${o?"s":""} in the ${s.join(", ")} field${o?"s":""}.`:void 0},validateRange:e=>{if(void 0!==_e(e)||!e)return;const t=e.split("/"),a=t[0].split(".").map((e=>Number(e).toString(2).padEnd(8,"0"))).join(""),l=parseInt(t[1],10);return a.slice(0,l).padEnd(32,"0")!==a?"This is not a subnet address. The subnet prefix is inconsistent with the subnet mask.":void 0},privateAddress:e=>{if(void 0!==_e(e)||!e)return;const t=e.split("/"),a=t[0].split(".").map((e=>parseInt(e,10))),n=parseInt(t[1],10);return 10===a[0]&&n>=8||172===a[0]&&(0,l.inRange)(a[1],16,32)&&n>=12||192===a[0]&&168===a[1]&&n>=16?void 0:"Range is not private."},awsSubnetMask:e=>t=>{if(!e||void 0!==_e(t)||!t)return;const a={network_machine_cidr_single_az:[16,25],network_machine_cidr_multi_az:[16,24],network_service_cidr:[void 0,24]}[e],l=t.split("/"),n=parseInt(l[1],10);return a[0]?a[0]<=n&&n<=a[1]?void 0:`Subnet mask must be between /${a[0]} and /${a[1]}.`:n>a[1]||n<1?`Subnet mask must be between /1 and /${a[1]}.`:void 0},hostPrefix:e=>{if(!e)return;if(!O.test(e))return`The value '${e}' isn't a valid subnet mask. It must follow the RFC-4632 format: '/16'.`;const t=Se(e);if(null!=t){if(t<23)return`The subnet mask can't be larger than '/23', which provides up to ${Math.pow(2,9)-2} Pod IP addresses.`;if(t>26)return`The subnet mask can't be smaller than '/26', which provides up to ${Math.pow(2,6)-2} Pod IP addresses.`}},nodes:Ce,nodesMultiAz:e=>{if(Number(e)%3>0)return"Number of nodes must be multiple of 3 for Multi AZ cluster."},validateNumericInput:ye,validateLabelKey:Qe,validateLabelValue:re,validateWorkerVolumeSize:lt,checkOpenIDIssuer:U,checkGithubTeams:te,checkRouteSelectors:de,checkDisconnectedConsoleURL:Oe,checkDisconnectedvCPU:Ie,checkDisconnectedSockets:Re,checkDisconnectedMemCapacity:Te,checkDisconnectedNodeCount:Ae,checkCustomOperatorRolesPrefix:ee,AWS_MACHINE_CIDR_MIN:16,AWS_MACHINE_CIDR_MAX_SINGLE_AZ:25,AWS_MACHINE_CIDR_MAX_MULTI_AZ:24,GCP_MACHINE_CIDR_MAX:23,SERVICE_CIDR_MAX:24,POD_NODES_MIN:32,HOST_PREFIX_MIN:23,HOST_PREFIX_MAX:26,MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH:32}},7488:(e,t,a)=>{"use strict";a.r(t),a.d(t,{versionComparator:()=>n,versionRegEx:()=>l});const l=/(?<major>\d+).(?<minor>\d+).(?<revision>\d+)(?:-(rc|fc).(?<patch>\d+))?/,n=(e,t)=>{var a,n;const r=null===(a=l.exec(e))||void 0===a?void 0:a.groups,s=null===(n=l.exec(t))||void 0===n?void 0:n.groups;if(r&&s){if(r.major!==s.major)return parseInt(r.major,10)>parseInt(s.major,10)?1:-1;if(r.minor!==s.minor)return parseInt(r.minor,10)>parseInt(s.minor,10)?1:-1;if(r.revision!==s.revision)return parseInt(r.revision,10)>parseInt(s.revision,10)?1:-1;if(r.patch!==s.patch)return void 0===r.patch?1:void 0===s.patch?-1:parseInt(r.patch,10)>parseInt(s.patch,10)?1:-1}return 0}},85547:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getIncompatibleVersionReason:()=>o});var l=a(81249),n=a.n(l),r=a(46786);const s={[r.SupportedFeature.SECURITY_GROUPS]:{label:"security groups",day1:"4.14.0",day2:"4.11.0"},[r.SupportedFeature.AWS_SHARED_VPC]:{label:"shared VPCs",day1:"4.13.9",day2:"4.13.9"}},o=(e,t,a)=>{const l=s[e];return t&&l?((e,t,a)=>{const l=a.day1?e.day1:e.day2;return!l||n().gte(n().coerce(t)||"",n().coerce(l)||"")?"":`To use ${e.label}, your cluster must be version ${l} or newer.`})(l,t,a):""}},72132:(e,t,a)=>{"use strict";a.r(t),a.d(t,{isExactMajorMinor:()=>i,isMajorMinorEqualOrGreater:()=>u,splitVersion:()=>o,versionFormatter:()=>s});var l=a(81249),n=a.n(l);const r=/^.*(v[0-9]+.*)$/,s=e=>{const t=n().coerce(e);if(!t)return e;const a=e.replace(r,"$1"),l=(n().prerelease(a)||[]).find((e=>"string"==typeof e));return`${t.raw}${l?`-${l.split("-")[0]}`:""}`},o=e=>{var t,a;let l=[];try{l=e.split(".").map((e=>parseInt(e,10))),l[1]=null!==(t=l[1])&&void 0!==t?t:0,l[2]=null!==(a=l[2])&&void 0!==a?a:0}catch(e){return[]}return l},i=(e,t,a)=>{const[l,n]=o(e);return t===l&&a===n},u=(e,t,a)=>{const[l,n]=o(e);return l>t||l===t&&n>=a}},2453:(e,t,a)=>{"use strict";a.r(t),a.d(t,{filterOutRedHatManagedVPCs:()=>o,getAllSubnetFieldNames:()=>i,getMatchingAvailabilityZones:()=>n,getSelectedAvailabilityZones:()=>r,isSubnetMatchingPrivacy:()=>l,vpcHasRequiredSubnets:()=>s});const l=(e,t)=>!t||"public"===t&&e.public||"private"===t&&!e.public,n=(e,t,a)=>["a","b","c","d","e","f"].map((t=>`${e}${t}`)).filter((e=>a.every((a=>{var n;return null===(n=t.aws_subnets)||void 0===n?void 0:n.some((t=>t.availability_zone===e&&l(t,a)))})))),r=(e,t)=>{const a=[];return t.forEach((t=>{var l;const n=null===(l=(e.aws_subnets||[]).find((e=>t.privateSubnetId===e.subnet_id)))||void 0===l?void 0:l.availability_zone;n&&!a.includes(n)&&a.push(n)})),a},s=(e,t)=>{const a=e.aws_subnets||[];return!!a.some((e=>l(e,"private")))&&(!1!==t||a.some((e=>l(e,"public"))))},o=e=>e.filter((e=>!e.red_hat_managed)),i=e=>{const t=["machinePoolsSubnets[0]"];return e&&(t.push("machinePoolsSubnets[1]"),t.push("machinePoolsSubnets[2]")),t.reduce(((e,t)=>{const a=[...e];return a.push(`${t}.availabilityZone`),a.push(`${t}.privateSubnetId`),a.push(`${t}.publicSubnetId`),a}),[])}},40748:(e,t,a)=>{"use strict";a.d(t,{c:()=>r,eo:()=>s,tZ:()=>n});var l=a(91757);const n="SHOW_API_ERROR",r="CLEAR_API_ERROR",s={showApiError:e=>(0,l.action)(n,e),clearApiError:()=>(0,l.action)(r)}},8208:(e,t,a)=>{"use strict";a.d(t,{Z:()=>co});var l=a(28416),n=a.n(l),r=a(92236),s=a(84896),o=a(55140),i=a(25332),u=a(87558),d=a(17420),c=a(27361),p=a.n(c),m=a(66338),f=a(4025),E=a(34677),g=a(96106),h=a(78913),v=a(52758),b=a(38352),_=a(59228),S=a(77696),C=a(6775),y=a(74101),O=a(71847),I=a(90053),R=a(67047),T=a(59003);const A=a(68138).Z;var P=a(94634),D=a(51930),N=a(13268),L=a(68575),w=a(64835),M=a(94845),k=a(28275),x=a(27612),j=a(32839),F=a(17105),G=a(49541),U=a(62800),V=a(78456),H=a(97636),z=a(33378),W=a(75288),q=a(17298),B=a(44710),$=a(58900),Z=a(94203),Y=a(98452),K=a(35087),Q=a(95404),J=a(69817),X=a(12691),ee=a(6738),te=a(23311),ae=a(5737),le=a(357),ne=a(49758),re=a(7100),se=a(36926),oe=a(96134),ie=a(39286),ue=a(80635),de=a(34782),ce=a(39048),pe=a(24236),me=a(34997),fe=a(69733),Ee=a(57364),ge=a(720),he=a(95870),ve=a(32677),be=a(97123),_e=a(6309),Se=a(28986),Ce=a(29295),ye=a(83782),Oe=a(20239),Ie=a(57531),Re=a(30726),Te=a(74396),Ae=a(14858),Pe=a(64636),De=a(57557),Ne=a.n(De),Le=a(43643),we=a(32045),Me=a(79566),ke=a(19810),xe=a(55498),je=a(35564),Fe=a(69740),Ge=a(69429),Ue=a(92810),Ve=a(98371),He=a(31855),ze=a(3189),We=a(70774),qe=a(70355),Be=a(57816),$e=a(2101),Ze=a(62656),Ye=a(55584),Ke=a(19561),Qe=a(96343),Je=a(69816),Xe=a(24197),et=a(18955),tt=a(27849),at=a(48968);const lt=(e,t,a)=>{t.min>t.max&&(e[a]={min:"The minimum cannot be above the maximum value.",max:"The minimum cannot be above the maximum value."})},nt=e=>{const t=e[at.FieldId.ClusterAutoscaling];if(!t)return{};const{cores:a,memory:l}=t.resource_limits,n={};return lt(n,a,"cores"),lt(n,l,"memory"),0===Object.keys(n).length?{}:{cluster_autoscaling:{resource_limits:n}}};var rt;!function(e){e.Aws="aws",e.Gcp="gcp"}(rt||(rt={}));var st=a(87422),ot=a(18257),it=a(47173),ut=a(26087);const dt=({isLoading:e,onNext:t,track:a=(()=>{})})=>{const{goToNextStep:r,goToPrevStep:s,close:o,activeStep:i,steps:u}=(0,st.Qe)(),{values:d,validateForm:c,setTouched:p,isValidating:m,submitForm:f}=(0,et.c)(),[E,g]=(0,l.useState)(!1),h=(0,ze.j)((e=>e.clusters.createdCluster)).pending,v=m||e,b=E||e,_=()=>{return e=void 0,a=void 0,n=function*(){if(m)return void(E||g(!0));const e=yield c(d);if(Object.keys(e||{}).length>0)return p((0,Pe.setNestedObjectValues)(e,!0)),void(0,Ge.scrollToFirstField)((0,ut.getScrollErrorIds)(e));(null!=t?t:r)()},new((l=void 0)||(l=Promise))((function(t,r){function s(e){try{i(n.next(e))}catch(e){r(e)}}function o(e){try{i(n.throw(e))}catch(e){r(e)}}function i(e){var a;e.done?t(e.value):(a=e.value,a instanceof l?a:new l((function(e){e(a)}))).then(s,o)}i((n=n.apply(e,a||[])).next())}));var e,a,l,n};return(0,l.useEffect)((()=>{E&&!1===m&&(g(!1),_())}),[m,E]),h?null:n().createElement(ot.y,null,i.id===at.StepId.Review?n().createElement(it.zx,{variant:"primary",onClick:()=>{f(),a()},isLoading:v,isDisabled:b},"Create cluster"):n().createElement(it.zx,{variant:"primary",onClick:_,isLoading:v,isDisabled:b},"Next"),n().createElement(it.zx,{variant:"secondary",onClick:s,isDisabled:b||0===u.indexOf(i)},"Back"),n().createElement(it.zx,{variant:"link",onClick:o,isDisabled:b},"Cancel"))};var ct=a(33942),pt=a(28191),mt=a(92298),ft=a(49739),Et=a(83826),gt=a(85583),ht=a(68340),vt=a(91290);const bt=a.p+"images/CreateOSDWizard-intro.d8523900feace80f..png";var _t=a(56554),St=a(42517),Ct=a(51077),yt=a(28047),Ot=a(30604),It=a(41769),Rt=a(59775),Tt=a(76854),At=a(68248),Pt=a(12812);const Dt=({name:e,label:t,validate:a,isDisabled:l,helperText:r,tooltip:s,field:o,formGroup:i,input:u})=>{const{setFieldValue:d}=(0,et.c)(),[c,p]=n().useState(""),m=(t,a)=>d(e,a),f=(t,a)=>{if(void 0!==t.target.files&&t.target.files){const[a]=t.target.files,l=new FileReader;l.onload=()=>{p(a.name),d(e,l.result)},l.readAsText(a,"UTF-8")}else d(e,a)},E=()=>{p(""),d(e,"")};return n().createElement(Pe.Field,Object.assign({name:e,validate:a},o),(({field:e,meta:o})=>{const d=o.touched&&o.error;return n().createElement(Rt.c,Object.assign({fieldId:e.name,label:t},s&&{labelIcon:n().createElement(At.default,{hint:s})},a&&{isRequired:!0},i),n().createElement(Tt.p,Object.assign({allowEditingUploadedText:!0,isDisabled:l,id:e.name,name:e.name,type:"text",value:e.value,filename:c,onDataChange:m,onTextChange:f,onClearClick:E,onTextAreaBlur:t=>e.onBlur(t),onFileInputChange:(e,t)=>p(t.name),validated:d?"error":"default"},u)),n().createElement(Pt.FormGroupHelperText,{touched:o.touched,error:o.error},r))}))};var Nt=a(36621),Lt=a(65802),wt=a(43446),Mt=a(92607);const kt={syncValidation:[],asyncValidation:[]},xt=(e=kt,t)=>{switch(t.type){case"set-sync-validation":return Object.assign(Object.assign({},e),{syncValidation:t.payload});case"set-async-validation":return Object.assign(Object.assign({},e),{asyncValidation:t.payload});case"set-async-validating":return Object.assign(Object.assign({},e),{asyncValidation:e.asyncValidation.map((e=>Object.assign(Object.assign({},e),{validating:!!t.value})))});default:throw new Error}},jt=({label:e,extendedHelpText:t,isRequired:a,input:r,disabled:s,formGroupClass:o,type:i="text",validation:u=(()=>[]),asyncValidation:d=(()=>[]),helpTitle:c,helpExample:p="",helpText:m="",name:f,value:E="",onChange:g=(()=>{})})=>{const h=r?r.value:E,v=String(r?r.name:f),b=r?r.onChange:g,_=(0,l.createRef)(),{validateField:S,isValidating:C,errors:{[v]:y}}=(0,et.c)(),[O,I]=(0,l.useState)(!1),[R,T]=(0,l.useState)(!1),[A,P]=(0,l.useState)(!1),[D,N]=(0,l.useReducer)(xt,kt),L=[...D.syncValidation,...D.asyncValidation],w=!O||L.every((e=>!!e.validated)),M=O&&D.asyncValidation.some((e=>e.validating)),k=O&&L.some((e=>!1===e.validated));let x="rich-input-field_info";return O&&!M&&(w?x="rich-input-field_valid":k&&(x="rich-input-field_not-valid")),(0,l.useEffect)((()=>{var e;!1===C&&h&&(e=y,N({type:"set-async-validation",payload:D.asyncValidation.map((t=>Object.assign(Object.assign({},t),{validated:t.text!==e})))}))}),[y,C]),(0,l.useEffect)((()=>{N({type:"set-async-validating",value:!!C})}),[C]),(0,l.useEffect)((()=>{(null==h?void 0:h.length)&&I(!0)}),[]),(0,l.useEffect)((()=>{k&&P(!0)}),[k]),(0,l.useEffect)((()=>{(e=>{const t=u(e);N({type:"set-sync-validation",payload:t})})(h),(e=>{const t=d(e);N({type:"set-async-validation",payload:t})})(h)}),[h]),(0,l.useEffect)((()=>{S(v)}),[]),n().createElement(Rt.c,{fieldId:v,label:e,isRequired:a,labelIcon:t?n().createElement(At.default,{hint:t}):void 0,className:`${o||""}`},n().createElement(ct.J,{"aria-label":c,headerContent:c,isVisible:A,position:"top-end",withFocusTrap:!1,shouldClose:()=>{R?T(!1):P(!1)},bodyContent:n().createElement(Nt.p,{component:"ul",id:`rich-input-popover-${v}`},L.map((e=>n().createElement(Xe.ValidationItem,{key:e.text,touched:O,text:e.text,isValid:!!e.validated,isValidating:!!e.validating,isInitialized:void 0!==e.validated})))),footerContent:p},n().createElement(Lt.B,null,n().createElement(wt.o,{isFill:!0},n().createElement(Mt.oi,{value:h,isRequired:a,id:v,name:v,isDisabled:s,type:i,autoComplete:"off",onBlur:()=>{T(!1),P(!1),S(v),I(!0)},onClick:()=>{T(!0),P(!0)},onFocus:()=>{T(!0),P(!0)},onChange:(e,t)=>{b(t),!O&&(null==t?void 0:t.length)&&I(!0)},ref:_,"aria-describedby":`rich-input-popover-${v}`,className:`${x} rich-input-field`})),n().createElement(wt.o,null,n().createElement(Xe.ValidationIconButton,{touched:O,isValid:w,hasFailures:k,isValidating:M,onClick:e=>{var t;e.stopPropagation(),P(!0),null===(t=_.current)||void 0===t||t.focus()}})))),n().createElement(Pt.FormGroupHelperText,{touched:O,error:y},m))};var Ft,Gt=a(14899),Ut=a(5498),Vt=a(4651),Ht=a(53025),zt=a(43866);!function(e){e.OsdTrial="osdTrial",e.StandardOsd="standardOsd",e.Marketplace="marketplace",e.Byoc="byoc",e.RhInfra="rhInfra",e.MarketplaceByoc="marketplaceByoc",e.MarketplaceRhInfra="marketplaceRhInfra",e.GcpResources="gcpResources",e.AwsResources="awsResources",e.SingleAzResources="singleAzResources",e.MultiAzResources="multiAzResources"}(Ft||(Ft={}));const Wt=(e,t)=>!!e&&(0,Je.availableQuota)(e,t)>0,qt={[Ft.OsdTrial]:{resourceType:Ht.QuotaTypes.CLUSTER,product:v.normalizedProducts.OSDTrial},[Ft.StandardOsd]:{resourceType:Ht.QuotaTypes.CLUSTER,product:v.normalizedProducts.OSD,billingModel:zt.d8.billing_model.STANDARD},[Ft.Marketplace]:{resourceType:Ht.QuotaTypes.CLUSTER,product:v.normalizedProducts.OSD,billingModel:zt.d8.billing_model.MARKETPLACE},[Ft.Byoc]:{resourceType:Ht.QuotaTypes.CLUSTER,billingModel:zt.d8.billing_model.STANDARD,isBYOC:!0},[Ft.RhInfra]:{resourceType:Ht.QuotaTypes.CLUSTER,billingModel:zt.d8.billing_model.STANDARD,isBYOC:!1},[Ft.MarketplaceByoc]:{resourceType:Ht.QuotaTypes.CLUSTER,billingModel:zt.d8.billing_model.MARKETPLACE,product:v.normalizedProducts.OSD,isBYOC:!0},[Ft.MarketplaceRhInfra]:{resourceType:Ht.QuotaTypes.CLUSTER,billingModel:zt.d8.billing_model.MARKETPLACE,product:v.normalizedProducts.OSD,isBYOC:!1},[Ft.GcpResources]:{resourceType:Ht.QuotaTypes.CLUSTER,cloudProviderID:yt.CloudProviderType.Gcp},[Ft.AwsResources]:{resourceType:Ht.QuotaTypes.CLUSTER,cloudProviderID:yt.CloudProviderType.Aws},[Ft.SingleAzResources]:{resourceType:Ht.QuotaTypes.CLUSTER,isMultiAz:!1},[Ft.MultiAzResources]:{resourceType:Ht.QuotaTypes.CLUSTER,isMultiAz:!0}},Bt=e=>{const t=(0,ze.j)((e=>e.userProfile.organization.quotaList)),{product:a,billingModel:l,isBYOC:n}=e;return{[Ft.OsdTrial]:Wt(t,qt[Ft.OsdTrial]),[Ft.StandardOsd]:Wt(t,qt[Ft.StandardOsd]),[Ft.Marketplace]:Wt(t,qt[Ft.Marketplace]),[Ft.GcpResources]:Wt(t,Object.assign(Object.assign({},qt[Ft.GcpResources]),{product:a,billingModel:l,isBYOC:n})),[Ft.AwsResources]:Wt(t,Object.assign(Object.assign({},qt.awsResources),{product:a,billingModel:l,isBYOC:n})),[Ft.Byoc]:Wt(t,Object.assign(Object.assign({},qt[Ft.Byoc]),{product:a})),[Ft.RhInfra]:Wt(t,Object.assign(Object.assign({},qt[Ft.RhInfra]),{product:a})),[Ft.MarketplaceByoc]:Wt(t,qt[Ft.MarketplaceByoc]),[Ft.MarketplaceRhInfra]:Wt(t,qt[Ft.MarketplaceRhInfra])}};var $t=a(87749),Zt=a(27730);const Yt=({hasGcpQuota:e,hasRhmQuota:t})=>{const[a]=(0,Pe.useField)(at.FieldId.MarketplaceSelection),{values:{[at.FieldId.BillingModel]:r,[at.FieldId.MarketplaceSelection]:s},setFieldValue:o,setFieldTouched:i,validateField:u}=(0,et.c)(),d=()=>{o(at.FieldId.MarketplaceSelection,null,!1),o(at.FieldId.CloudProvider,yt.CloudProviderType.Aws,!1)};(0,l.useEffect)((()=>{r.startsWith(v.billingModels.MARKETPLACE)||d()}),[r]),(0,l.useEffect)((()=>{r.startsWith(v.billingModels.MARKETPLACE)&&u(at.FieldId.MarketplaceSelection)}),[r,s]);const[c,p]=(0,l.useState)(!1),m=[{label:"Select your marketplace",value:"placeholder",isPlaceholder:!0},{label:"Google Cloud Marketplace",value:v.billingModels.MARKETPLACE_GCP,isDisabled:!e,description:e?null:"You do not currently have a Google Cloud Platform subscription."},{label:"Red Hat Marketplace",value:v.billingModels.MARKETPLACE,isDisabled:!t,description:t?null:"You do not currently have a Red Hat Marketplace subscription."}],f=(e,t)=>{i(at.FieldId.MarketplaceSelection,!0,!1),t&&"placeholder"!==t?(o(at.FieldId.MarketplaceSelection,t,!1),o(at.FieldId.CloudProvider,t===v.billingModels.MARKETPLACE_GCP?yt.CloudProviderType.Gcp:yt.CloudProviderType.Aws,!1),o(at.FieldId.BillingModel,t,!1),o(at.FieldId.Byoc,"true",!1),o(at.FieldId.Product,v.normalizedProducts.OSD,!1)):d(),p(!1)};return n().createElement(Pe.Field,{name:at.FieldId.MarketplaceSelection,validate:e=>{if((!e||"placeholder"===e)&&r.startsWith(v.billingModels.MARKETPLACE))return"A selection is required."}},(({field:l,form:r,meta:o})=>n().createElement(Rt.c,Object.assign({},a,{fieldId:l.name,isRequired:!0,isInline:!0,className:"pf-v5-u-mt-sm"}),n().createElement($t.P,{isOpen:c,selections:s,onToggle:(e,t)=>(e=>{p(e)})(t),onSelect:f,isDisabled:!e&&!t},m.map((({label:e,value:t,isDisabled:a,description:l,isPlaceholder:r})=>n().createElement(Zt.$,{className:"pf-v5-c-dropdown__menu-item",isSelected:s===t,value:t,key:t,isDisabled:a,description:l,isPlaceholder:r},e)))),n().createElement(Pt.FormGroupHelperText,{touched:o.touched,error:o.error}))))},Kt=()=>{const e="gcp"===(0,_t.getQueryParam)("source"),{values:{[at.FieldId.Product]:t,[at.FieldId.BillingModel]:a,[at.FieldId.MarketplaceSelection]:l},values:r,setFieldValue:s}=(0,et.c)(),o=(0,m.useDispatch)(),{clusterVersions:i}=(0,Vt.useGlobalState)((e=>e.clusters)),u=Bt({product:t}),d=(0,g.useFeatureGate)(b.OSD_GOOGLE_MARKETPLACE_FEATURE),c=u.osdTrial,p=n().createElement("p",null,n().createElement(St.default,{href:"https://access.redhat.com/articles/5990101",noIcon:!0,noTarget:!0},"Try OpenShift Dedicated")," ","for free for 60 days. Upgrade anytime"),f=d?n().createElement(n().Fragment,null,l===v.billingModels.MARKETPLACE&&n().createElement("p",null,"Use Red Hat Marketplace to subscribe and pay based on the services you use"),l===v.billingModels.MARKETPLACE_GCP&&n().createElement("p",null,"Use Google Cloud Marketplace to subscribe and pay based on the services you use"),!(l===v.billingModels.MARKETPLACE)&&!(l===v.billingModels.MARKETPLACE_GCP)&&n().createElement("p",null,"Use your cloud marketplace to subscribe and pay based on the services you use")):n().createElement("p",null,"Use"," ",n().createElement(St.default,{href:"https://marketplace.redhat.com",noIcon:!0},"Red Hat Marketplace")," ","to subscribe and pay based on the services you use"),E=n().createElement(St.default,{href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated",noIcon:!0},"Red Hat Marketplace"),h=n().createElement(St.default,{href:"https://console.cloud.google.com/marketplace/product/redhat-marketplace/red-hat-openshift-dedicated",noIcon:!0},"Google Cloud"),_=n().createElement(n().Fragment,null,f,n().createElement("p",null,n().createElement(ct.J,{position:ct.I.right,headerContent:"On-Demand subscription",bodyContent:d?n().createElement("p",null,"Billing based on cluster consumption. Purchase a subscription via ",E," or"," ",h):n().createElement(n().Fragment,null,n().createElement("p",null,"Billing based on cluster consumption and charged via Red Hat Marketplace."),n().createElement("p",null,n().createElement(St.default,{href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated"},"Purchase this option"))),"aria-label":"help"},n().createElement(it.zx,{variant:"link"},n().createElement(vt.default,null)," ",d?"How can I purchase a subscription?":"How can I purchase a subscription via Marketplace?")))),S=[...c?[{value:v.billingModels.STANDARD_TRIAL,label:"Free trial (upgradeable)",description:p}]:[],{disabled:!u.standardOsd,value:v.billingModels.STANDARD,label:"Annual: Fixed capacity subscription from Red Hat",description:"Use the quota pre-purchased by your organization"},...d?[{disabled:!u.marketplace&&!u.gcpResources,value:"marketplace-select",shouldCheck:(e,t)=>e.startsWith("marketplace")&&"marketplace-select"==`${t}`,label:n().createElement(n().Fragment,null,n().createElement("div",null,"On-Demand: Flexible usage billed through ",h," or ",E),n().createElement(Yt,{hasGcpQuota:u.gcpResources,hasRhmQuota:u.marketplace})),description:u.marketplace||u.gcpResources?f:_}]:[{disabled:!u.marketplace,value:v.billingModels.MARKETPLACE,label:"On-Demand: Flexible usage billed through Red Hat Marketplace",description:u.marketplace?f:_}]];n().useEffect((()=>{t===v.normalizedProducts.OSDTrial&&(c?(s(at.FieldId.BillingModel,v.billingModels.STANDARD_TRIAL),s(at.FieldId.Byoc,"true")):s(at.FieldId.Product,v.normalizedProducts.OSD)),c&&a!==v.billingModels.STANDARD||!u.marketplace||u.standardOsd||a.startsWith(v.billingModels.MARKETPLACE)||s(at.FieldId.BillingModel,v.billingModels.MARKETPLACE),(null==i?void 0:i.fulfilled)&&o(Ut.clustersActions.clearInstallableVersions())}),[t,a,c,u.marketplace,u.standardOsd,l]),n().useEffect((()=>{e&&(s(at.FieldId.MarketplaceSelection,v.billingModels.MARKETPLACE_GCP,!1),s(at.FieldId.CloudProvider,yt.CloudProviderType.Gcp,!1),s(at.FieldId.BillingModel,v.billingModels.MARKETPLACE_GCP,!1),s(at.FieldId.Byoc,"true",!1),s(at.FieldId.Product,v.normalizedProducts.OSD,!1),(0,_t.deleteQueryParam)("source"))}),[e]);let C=!1,y=!1;a.startsWith(v.billingModels.MARKETPLACE)?(C=!u.marketplaceRhInfra,y=!u.marketplaceByoc):(C=!u.rhInfra,y=!u.byoc);const O=[{label:"Customer cloud subscription",description:"Provision the cluster using your existing cloud provider account",value:"true",disabled:y},{label:"Red Hat cloud account",description:"Deploy in cloud provider accounts owned by Red Hat",value:"false",disabled:C}];return n().createElement(pt.k,{alignItems:{default:"alignItemsFlexStart"}},n().createElement(mt.B,{flex:{default:"flex_3"}},n().createElement(ft.K,{hasGutter:!0},n().createElement(Et.v,{className:"pf-v5-u-mb-xl"},n().createElement(gt.D,{headingLevel:"h2",className:"pf-v5-u-pb-md"},"Welcome to Red Hat OpenShift Dedicated"),n().createElement(ht.x,{component:"p",id:"welcome-osd-text"},"Reduce operational complexity and focus on building applications that add more value to your business with Red Hat OpenShift Dedicated, a fully-managed service of Red Hat OpenShift on Amazon Web Services (AWS) and Google Cloud.")),n().createElement(Et.v,null,n().createElement(gt.D,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"Subscription type"),n().createElement(Gt.o,{name:at.FieldId.BillingModel,options:S,onChange:(e,t)=>{let a=v.normalizedProducts.OSD;t!==v.billingModels.STANDARD&&s(at.FieldId.Byoc,"true"),t===v.billingModels.STANDARD_TRIAL&&(a=v.normalizedProducts.OSDTrial),s(at.FieldId.Product,a)}})),n().createElement(Et.v,null,n().createElement(gt.D,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"Infrastructure type"),n().createElement(Gt.o,{name:at.FieldId.Byoc,options:O,onChange:(e,t)=>{const a="true"===t,l="true"===r[at.FieldId.MultiAz];s(at.FieldId.NodesCompute,(0,Ct.getNodesCount)(a,l,!0)),s(at.FieldId.MinReplicas,(0,Ct.getMinReplicasCount)(a,l,!0)),s(at.FieldId.MaxReplicas,"")}})))),n().createElement(mt.B,{flex:{default:"flex_1"}},n().createElement("img",{src:bt,className:"billing-model_osd-logo","aria-hidden":"true",alt:""})))};var Qt=a(75696),Jt=a(97655),Xt=a(76727),ea=a(94184),ta=a.n(ea),aa=a(32539),la=a(12952),na=a(55424),ra=a(78050),sa=a(95591);const oa=()=>{const{values:{[at.FieldId.CloudProvider]:e,[at.FieldId.Product]:t,[at.FieldId.BillingModel]:a,[at.FieldId.Byoc]:l},setFieldValue:r}=(0,et.c)(),s=Bt({product:t,billingModel:a,isBYOC:l}),o=s.gcpResources,i=a!==v.billingModels.MARKETPLACE_GCP&&s.awsResources,u=a===v.billingModels.MARKETPLACE_GCP?"OpenShift Dedicated purchased through the Google Cloud marketplace can only be provisioned on GCP.":Ge.noQuotaTooltip,d=e=>{r(at.FieldId.Region,e===yt.CloudProviderType.Aws?sa.AWS_DEFAULT_REGION:sa.GCP_DEFAULT_REGION),r(at.FieldId.MachineTypeForceChoice,!1),r(at.FieldId.MachineType,""),r(at.FieldId.AcknowledgePrereq,!1),r(at.FieldId.FipsCryptography,!1),r(at.FieldId.CloudProvider,e)},c=n().createElement(aa.n,{className:ta()("ocm-tile-create-cluster",!o&&"tile-disabled"),onClick:()=>o&&d(yt.CloudProviderType.Gcp),isDisabled:!o,"data-testid":"gcp-provider-card",title:"Run on Google Cloud Platform",icon:n().createElement(ra.Z,null),isDisplayLarge:!0,isStacked:!0,isSelected:e===yt.CloudProviderType.Gcp}),p=n().createElement(aa.n,{className:ta()("ocm-tile-create-cluster",!i&&"tile-disabled"),onClick:()=>i&&d(yt.CloudProviderType.Aws),isDisabled:!i,"data-testid":"aws-provider-card",title:"Run on Amazon Web Services",icon:n().createElement(na.default,null),isDisplayLarge:!0,isStacked:!0,isSelected:e===yt.CloudProviderType.Aws});return n().createElement("div",null,i?p:n().createElement(la.u,{content:u},p),o?c:n().createElement(la.u,{content:Ge.noQuotaTooltip},c))};var ia=a(50693),ua=a(16475),da=a(68774),ca=a(91885),pa=a(22393),ma=a(7076),fa=a(90181),Ea=a(86896),ga=a(59484);const ha=()=>{const{ccsCredentialsValidity:e}=(0,ze.j)((e=>e.ccsInquiries)),t=(0,ze.j)((e=>e.machineTypesByRegion)),{pending:a}=e,l=(0,m.useDispatch)(),r=n().useCallback((()=>{t.region&&l((0,ma.clearMachineTypesByRegion)())}),[l,t.region]);return n().createElement(ia.r,{hasGutter:!0,md:6},n().createElement(pt.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},n().createElement(ua.P,null,n().createElement(Ot.Y,{name:at.FieldId.AccountId,label:"AWS account ID",validate:fa.awsNumericAccountID,isDisabled:a,onChange:r,tooltip:n().createElement(n().Fragment,null,n().createElement("p",null,"Find your 12-digit AWS account ID in the AWS console or by running this command in the AWS CLI:"),n().createElement("br",null),n().createElement(ga.default,{textAriaLabel:"Copyable AWS account ID command"},"aws sts get-caller-identity"),n().createElement("br",null),n().createElement(St.default,{href:ca.default.FINDING_AWS_ACCOUNT_IDENTIFIERS},"Finding your AWS account ID"))})),n().createElement(ua.P,null,n().createElement(gt.D,{headingLevel:"h4"},"AWS IAM user credentials")),n().createElement(ua.P,null,n().createElement(Jt.b,{className:"bottom-alert pf-v5-u-mt-0",variant:"warning",title:Ea.billingModelConstants.awsCredentialsWarning,isInline:!0})),n().createElement(ua.P,null,n().createElement(Ot.Y,{name:at.FieldId.AccessKeyId,label:"AWS access key ID",validate:fa.required,isDisabled:a,helperText:a?"Validating...":"",onChange:r})),n().createElement(ua.P,null,n().createElement(Ot.Y,{name:at.FieldId.SecretAccessKey,label:"AWS secret access key",validate:fa.required,isDisabled:a,helperText:a?"Validating...":"",type:"password",onChange:r})),n().createElement(ua.P,null,n().createElement(It.j,{name:at.FieldId.DisableScpChecks,label:"Bypass AWS service control policy (SCP) checks",tooltip:Ea.constants.bypassSCPChecksHint}))))},va=()=>n().createElement(ia.r,{hasGutter:!0},n().createElement(ua.P,null,n().createElement(Jt.b,{variant:"info",isInline:!0,title:"Customer cloud subscription"},"Provision your cluster in an AWS account owned by you or your company to leverage your existing relationship and pay AWS directly for public cloud costs.")),n().createElement(ua.P,null,n().createElement(gt.D,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"AWS account details"),n().createElement(pa.z,{acknowledgementRequired:!0,initiallyExpanded:!0},n().createElement(da.D,null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Successful cluster provisioning requires that:"),n().createElement("ul",null,n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Your AWS account has the necessary limits to support your desired cluster size according to the"," ",n().createElement(St.default,{noIcon:!0,href:ca.default.OSD_CCS_AWS_LIMITS},"cluster resource requirements"),".")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"An IAM user called ",n().createElement("b",null,"osdCcsAdmin")," exists with the AdministratorAccess policy.")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"An Organization service control policy (SCP) is set up according to the requirements for Customer Cloud Subscriptions."))),n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Business Support for AWS is also recommended. For more guidance, see the"," ",n().createElement(St.default,{href:ca.default.OSD_CCS_AWS_CUSTOMER_REQ},"Customer Cloud Subscription requirements"),".")))),n().createElement(ha,null));var ba=a(63564),_a=a(12084),Sa=a(20012),Ca=a(34844);const ya=()=>{const{ccsCredentialsValidity:e}=(0,ze.j)((e=>e.ccsInquiries)),{values:{[at.FieldId.BillingModel]:t}}=(0,et.c)();return n().createElement(ia.r,{hasGutter:!0},t!==v.billingModels.MARKETPLACE_GCP&&n().createElement(ua.P,null,n().createElement(Jt.b,{variant:"info",isInline:!0,title:"Customer cloud subscription"},"Provision your cluster in a Google Cloud Platform account owned by you or your company to leverage your existing relationship and pay Google Cloud Platform directly for public cloud costs.")),n().createElement(pt.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},n().createElement(ua.P,null,n().createElement(gt.D,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"GCP service account"),n().createElement(pa.z,{acknowledgementRequired:!0,initiallyExpanded:!0},t===v.billingModels.MARKETPLACE_GCP&&n().createElement(ba.k,{className:"pf-v5-u-mb-md pf-v5-u-mt-sm"},n().createElement(_a.q,null,n().createElement("strong",null,"Have you prepared your Google account?")),n().createElement(Sa.b,null,"To prepare your account, accept the Google Cloud Terms and Agreements. If you've already accepted the terms, you can continue to complete OSD prerequisites."),n().createElement(Ca.A,null,n().createElement(St.default,{href:ca.default.GCP_CONSOLE_OSD_HOME},"Review Google terms and agreements."))),n().createElement(da.D,null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Successful cluster provisioning requires that:"),n().createElement("ul",null,n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Your Google Cloud account has the necessary resource quotas and limits to support your desired cluster size according to the"," ",n().createElement(St.default,{noIcon:!0,href:ca.default.OSD_CCS_GCP_LIMITS},"cluster resource requirements"))),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"An IAM Service account called osd-ccs-admin exists with the following roles attached:"),n().createElement("ul",null,n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Compute Admin")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"DNS Administrator")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Security Admin")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Service Account Admin")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Service Account Key Admin")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Service Account User")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Organization Policy Viewer")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Service Management Administrator")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Service Usage Admin")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Storage Admin")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Compute Load Balancer Admin")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Role Viewer")),n().createElement("li",null,n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Role Administrator"))))),n().createElement(ht.x,{component:ht.q.p,className:"ocm-secondary-text"},"Production Support from GCP is also recommended. To prevent potential conflicts, we recommend that you have no other resources provisioned in the project prior to provisioning OpenShift Dedicated. For more guidance, see the"," ",n().createElement(St.default,{noIcon:!0,href:ca.default.OSD_CCS_GCP},"Customer Cloud Subscription requirements"),".")))),n().createElement(ia.r,null,n().createElement(ua.P,{span:6},n().createElement(Dt,{validate:e=>(0,fa.required)(e)||(0,fa.validateGCPServiceAccount)(e),name:at.FieldId.GcpServiceAccount,label:"Service account JSON",helperText:"Upload a JSON file or type to add",tooltip:n().createElement(n().Fragment,null,n().createElement("p",null,"To create a service account JSON file, create a key for your service account, export it to a file and upload it to this field."),n().createElement(St.default,{href:"https://cloud.google.com/iam/docs/creating-managing-service-account-keys#creating_service_account_keys"},"Learn how to create service account keys"))}),n().createElement("p",{className:"pf-v5-u-mt-md"},e.pending&&"Validating...")))))},Oa=()=>{const e=(0,m.useDispatch)(),{values:{[at.FieldId.CloudProvider]:t,[at.FieldId.Byoc]:a,[at.FieldId.AccountId]:l,[at.FieldId.AccessKeyId]:r,[at.FieldId.SecretAccessKey]:s,[at.FieldId.GcpServiceAccount]:o}}=(0,et.c)(),{ccsCredentialsValidity:i}=(0,ze.j)((e=>e.ccsInquiries)),[u,d]=n().useState(!1),c="true"===a;return n().useEffect((()=>{e((0,Xt.clearCcsCredientialsInquiry)()),!u&&i.fulfilled&&d(!0),u&&d(!1)}),[l,r,s,o,i.fulfilled,e,u]),n().createElement(Qt.l,null,n().createElement(gt.D,{headingLevel:"h3"},"Select a cloud provider"),n().createElement(oa,null),c&&n().createElement(n().Fragment,null,t===yt.CloudProviderType.Aws?n().createElement(va,null):n().createElement(ya,null),(i.error||u)&&n().createElement(Jt.b,{variant:"danger",isInline:!0,title:`${t.toUpperCase()} wasn't able to verify your credentials`},"Verify that your entered"," ",t===yt.CloudProviderType.Aws?"access keys match the access keys provided in your AWS account.":"service account details are correct.")))};var Ia=a(34161);const Ra=()=>{const e=(0,m.useDispatch)(),{values:t}=(0,et.c)(),{goToNextStep:a}=(0,st.Qe)(),{ccsCredentialsValidity:l}=(0,Vt.useGlobalState)((e=>e.ccsInquiries)),{pending:r}=l;return n().createElement(dt,{onNext:()=>{return n=void 0,r=void 0,o=function*(){(0,Ia.Gn)(t,l)&&(yield(0,Ia.Fc)(t,e)),a()},new((s=void 0)||(s=Promise))((function(e,t){function a(e){try{i(o.next(e))}catch(e){t(e)}}function l(e){try{i(o.throw(e))}catch(e){t(e)}}function i(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(a,l)}i((o=o.apply(n,r||[])).next())}));var n,r,s,o},isLoading:r})};var Ta=a(79851),Aa=a(34512),Pa=a(83559),Da=a(22115),Na=a(58584),La=a(31308),wa=a(85547),Ma=a(46786),ka=a(7488),xa=a(7749),ja=a(64112),Fa=a(83384);const Ga=(e,t)=>(0,ka.versionComparator)(t.label,e.label),Ua=({name:e,label:t,isDisabled:a,onChange:r})=>{var s;const o=(0,m.useDispatch)(),[i,{touched:u,error:d}]=(0,Pe.useField)(e),{clusterVersions:c}=(0,Vt.useGlobalState)((e=>e.clusters)),{values:{[yt.FieldId.ClusterVersion]:p,[yt.FieldId.BillingModel]:f},setFieldValue:E}=(0,et.c)(),[g,h]=(0,l.useState)(!1),[b,_]=(0,l.useState)([]),[S]=(0,ja.useOCPLifeCycleStatusData)(),C=null===(s=null==S?void 0:S[0])||void 0===s?void 0:s.versions,y=null==C?void 0:C.reduce(((e,t)=>(e[t.name]=t.type,e)),{}),O=f===v.billingModels.MARKETPLACE_GCP,I=()=>o(Ut.clustersActions.getInstallableVersions(!1,O));(0,l.useEffect)((()=>{c.fulfilled?_(c.versions):c.error?h(!1):c.pending||I()}),[c]),(0,l.useEffect)((()=>{if(b.length&&!(null==p?void 0:p.raw_id)){const t=b.findIndex((e=>!0===e.default));E(e,b[-1!==t?t:0])}}),[b,null==p?void 0:p.raw_id]);const R=n().useMemo((()=>{const e=[],t=[];return b.forEach((a=>{const{raw_id:l,id:n}=a;if(l&&n){const a=parseFloat(l),n="Full Support"===(null==y?void 0:y[a]),r={entryId:l,label:l,groupKey:n?"Full support":"Maintenance support"};n?e.push(r):t.push(r)}})),{"Full support":e,"Maintenance support":t}}),[y,b]);return n().createElement(Rt.c,Object.assign({},i,{label:t,fieldId:e,isRequired:!0}),c.error&&n().createElement(xa.default,{message:"Error getting cluster versions",response:c}),c.pending&&n().createElement(n().Fragment,null,n().createElement("div",{className:"spinner-fit-container"},n().createElement(je.Z,null)),n().createElement("div",{className:"spinner-loading-text"},"Loading...")),c.fulfilled&&n().createElement(Fa.default,{label:t,"aria-label":t,isOpen:g,onToggle:(e,t)=>{h(t),t&&c.error&&I()},onSelect:(t,a)=>{h(!1);const l=b.find((e=>e.raw_id===a));E(e,l),l&&r(l)},selectedEntryId:null==p?void 0:p.raw_id,selectionData:R,isDisabled:a,sortFn:Ga,placeholderText:"Filter by versions",filterValidate:{pattern:/^[0-9.]*$/gm,message:"Please enter only digits or periods."},truncation:100,inlineFilterPlaceholderText:"Filter by version number",toggleId:"version-selector"}),n().createElement(Pt.FormGroupHelperText,{touched:u,error:d}))};var Va=a(90784),Ha=a(22608);const za=(0,m.connect)(((e,t)=>{var a,l,n;const{cloudProviders:r}=e,s=(null===(l=null===(a=r.providers)||void 0===a?void 0:a[t.cloudProviderID])||void 0===l?void 0:l.regions)||{},o=null===(n=Object.values(s))||void 0===n?void 0:n.filter((e=>e.enabled));return{cloudProviders:r,availableRegions:t.isBYOC?o:o.filter((e=>!e.ccs_only))}}))((({field:e,isMultiAz:t,cloudProviderID:a,cloudProviders:l,availableRegions:r,isDisabled:s,handleCloudRegionChange:o})=>{const{setFieldValue:i}=(0,et.c)();return n().useEffect((()=>{var t,n,r,s;const o=null===(r=null===(n=null===(t=null==l?void 0:l.providers)||void 0===t?void 0:t[a])||void 0===n?void 0:n.regions)||void 0===r?void 0:r[null===(s=e.value)||void 0===s?void 0:s.toString()];(null==o?void 0:o.supports_multi_az)||i(e.name,"aws"===a?sa.AWS_DEFAULT_REGION:sa.GCP_DEFAULT_REGION)}),[t,l,i,e.name,a]),l.fulfilled?n().createElement(Va.i,{name:e.name,className:"cloud-region-combo-box","aria-label":"Region",isDisabled:s,value:e.value,onChange:(t,a)=>{null==o||o(),i(e.name,a)}},r.map((e=>n().createElement(Ha.j,{key:e.id,value:e.id,label:`${e.id}, ${e.display_name}`,isDisabled:t&&!e.supports_multi_az})))):l.error?n().createElement(xa.default,{message:"Error loading region list",response:l}):n().createElement(n().Fragment,null,n().createElement("div",{className:"spinner-fit-container"},n().createElement(je.Z,null)),n().createElement("div",{className:"spinner-loading-text"},"Loading region list..."))}));var Wa=a(12552),qa=a(18446),Ba=a.n(qa),$a=a(74556);const Za=()=>{var e;const t=(0,m.useDispatch)(),{gcpKeyRings:a}=(0,ze.j)((e=>e.ccsInquiries)),{values:l,getFieldProps:r,setFieldValue:s,getFieldMeta:o}=(0,et.c)(),i=(0,Ia.ZV)(l),{[at.FieldId.KeyLocation]:u}=l,d=!(!i||!u),c=a.cloudProvider===yt.CloudProviderType.Gcp&&Ba()(a.credentials,i)&&a.keyLocation===u;return n().createElement(ua.P,null,n().createElement(Pe.Field,{component:$a.default,name:at.FieldId.KeyRing,label:"Key ring",labelIcon:n().createElement(At.default,{hint:Ea.constants.keyRing}),helperText:"A key ring organizes keys in a specific Google Cloud location.",noDependenciesPlaceholder:"Enter GCP credentials first",placeholder:"Select key ring",requestErrorTitle:"Error listing key rings using your GCP credentials",emptyAlertTitle:"No key rings found for this location",emptyAlertBody:n().createElement(n().Fragment,null,n().createElement(ht.x,null,"If available, change the Key ring location. Or go to your"," ",n().createElement(St.default,{href:"https://console.cloud.google.com/security/kms"},"Google Cloud Console")," ","and create the key ring."),n().createElement(ht.x,null,"Once created, refresh using the ",n().createElement("strong",null,"Refresh custom key rings")," button.")),refreshButtonText:"Refresh custom key rings",validate:fa.required,isRequired:!0,input:Object.assign(Object.assign({},r(at.FieldId.KeyRing)),{onChange:e=>s(at.FieldId.KeyRing,e)}),meta:o(at.FieldId.KeyRing),hasDependencies:d,matchesDependencies:c,requestStatus:a,items:((null===(e=a.data)||void 0===e?void 0:e.items)||[]).map((e=>e.name)),loadData:()=>d&&t((0,Xt.getGCPKeyRings)(i,u))}))},Ya=()=>{var e;const t=(0,m.useDispatch)(),{gcpKeys:a}=(0,ze.j)((e=>e.ccsInquiries)),{values:l,getFieldProps:r,setFieldValue:s,getFieldMeta:o}=(0,et.c)(),i=(0,Ia.ZV)(l),{[at.FieldId.KeyLocation]:u,[at.FieldId.KeyRing]:d}=l,c=!!(i&&u&&d),p="gcp"===a.cloudProvider&&Ba()(a.credentials,i)&&a.keyLocation===u&&a.keyRing===d;return n().createElement(ua.P,null,n().createElement(Pe.Field,{component:$a.default,name:at.FieldId.KeyName,label:"Key name",labelIcon:n().createElement(At.default,{hint:Ea.constants.keyName}),helperText:"Name of the key in the keyring.",placeholder:"Select key",requestErrorTitle:"Error listing keys using your GCP credentials",emptyAlertTitle:"No keys found for this location and key ring",emptyAlertBody:n().createElement(n().Fragment,null,n().createElement(ht.x,null,"If available, change the Key ring location / Key ring. Or go to your"," ",n().createElement(St.default,{href:"https://console.cloud.google.com/security/kms"},"Google Cloud Console")," ","and create the key."),n().createElement(ht.x,null,"Once created, refresh using the ",n().createElement("strong",null,"Refresh custom keys")," button.")),refreshButtonText:"Refresh custom keys",validate:fa.required,isRequired:!0,input:Object.assign(Object.assign({},r(at.FieldId.KeyName)),{onChange:e=>s(at.FieldId.KeyName,e)}),meta:o(at.FieldId.KeyName),loadData:()=>c&&t((0,Xt.getGCPKeys)(i,u,d)),hasDependencies:c,matchesDependencies:p,requestStatus:a,items:((null===(e=a.data)||void 0===e?void 0:e.items)||[]).map((e=>e.name))}))},Ka=({region:e})=>{const{getFieldProps:t,setFieldValue:a}=(0,et.c)();return n().createElement(n().Fragment,null,n().createElement(ua.P,null,n().createElement(Rt.c,{label:"Key ring location",fieldId:at.FieldId.KeyLocation,labelIcon:n().createElement(At.default,{hint:Ea.constants.regionHint})},n().createElement(Pe.Field,{component:Wa.default,name:at.FieldId.KeyLocation,selectedRegion:e,input:Object.assign(Object.assign({},t(at.FieldId.KeyLocation)),{onChange:e=>a(at.FieldId.KeyLocation,e)})}))),n().createElement(Za,null),n().createElement(Ya,null),n().createElement(ua.P,null,n().createElement(Ot.Y,{name:at.FieldId.KmsServiceAccount,label:"KMS Service Account",tooltip:Ea.constants.kmsserviceAccount,validate:fa.validateGCPKMSServiceAccount,helperText:"GCP Service account will be used for compute scaling."})))},Qa=({hasCustomerManagedKey:e,region:t,cloudProvider:a,kmsKeyArn:l})=>{const{setFieldTouched:r}=(0,et.c)(),s=a===yt.CloudProviderType.Gcp,o=s?"https://cloud.google.com/storage/docs/encryption/default-keys":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/data-protection.html",i=[{value:"false",label:"Use default KMS Keys"},{value:"true",label:"Use custom KMS keys",popoverHint:s?"Managed via Google Cloud Key Management Service. Used to store and generate encryption keys and encrypt your data.":"Use a custom AWS KMS key for AWS EBS volume encryption instead of your default AWS KMS key."}];return n().useEffect((()=>{"true"===e&&l&&!s&&r(at.FieldId.KmsKeyArn,!0,!0)}),[]),n().createElement(ia.r,{hasGutter:!0},n().createElement(ua.P,null,n().createElement(Rt.c,{fieldId:at.FieldId.CustomerManagedKey,id:"customerManagedKey",label:"Encryption Keys",isRequired:!0,isInline:!0},n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-pb-md"},"The cloud storage for your cluster is encrypted at rest."," ",n().createElement(St.default,{href:o},"Learn more")),n().createElement(Gt.o,{name:at.FieldId.CustomerManagedKey,options:i,direction:"row",isRequired:!0}))),"true"===e&&(s?n().createElement(Ka,{region:t}):n().createElement(ua.P,null,n().createElement(Ot.Y,{name:at.FieldId.KmsKeyArn,label:"Key ARN",validate:e=>(0,fa.validateAWSKMSKeyARN)(e,t),helperText:l?"":"Provide a custom key ARN",tooltip:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-sm"},Ea.constants.awsKeyARN),n().createElement(St.default,{href:ca.default.AWS_FINDING_KEY_ARN},"Finding the key ID and ARN"))}),n().createElement(ua.P,{md:6},n().createElement(Jt.b,{className:"pf-v5-u-mt-sm",isInline:!0,isLiveRegion:!0,variant:"info",title:"If you delete the ARN key, the cluster will no longer be available."})))))};var Ja=a(12468),Xa=a(94989);function el({isRosa:e}){const{values:{[Xa.FieldId.EtcdEncryption]:t,[Xa.FieldId.FipsCryptography]:a}}=(0,et.c)();return n().createElement(ia.r,{hasGutter:!0},n().createElement(Rt.c,{label:"etcd encryption"},n().createElement(ua.P,null,n().createElement(Ta.P,{hasGutter:!0},n().createElement(Aa.J,null,n().createElement(It.j,{name:Xa.FieldId.EtcdEncryption,label:"Enable additional etcd encryption",isDisabled:a})),n().createElement(Aa.J,null,n().createElement(At.default,{hint:n().createElement(n().Fragment,null,Ea.constants.enableAdditionalEtcdHint," ",n().createElement(St.default,{href:e?ca.default.ROSA_SERVICE_ETCD_ENCRYPTION:ca.default.OSD_ETCD_ENCRYPTION},"Learn more about etcd encryption"))}))),n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-color-200 pf-v5-u-ml-lg pf-v5-u-mt-xs"},"Add more encryption for OpenShift and Kubernetes API resources."))),t&&n().createElement(Rt.c,{label:"FIPS cryptography",className:"pf-v5-u-mt-md"},n().createElement(ua.P,null,n().createElement(It.j,{name:Xa.FieldId.FipsCryptography,label:"Enable FIPS cryptography",isDisabled:(0,Ja.isRestrictedEnv)()}),n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-color-200 pf-v5-u-ml-lg pf-v5-u-mt-xs"},"Install a cluster that uses FIPS Validated / Modules in Process cryptographic libraries on the x86_64 architecture."))))}const tl=()=>{const e=(0,m.useDispatch)(),{values:{[at.FieldId.Byoc]:t,[at.FieldId.MultiAz]:a,[at.FieldId.Product]:l,[at.FieldId.BillingModel]:r,[at.FieldId.Region]:s,[at.FieldId.CloudProvider]:o,[at.FieldId.CustomerManagedKey]:i,[at.FieldId.KmsKeyArn]:u,[at.FieldId.ClusterVersion]:d,[at.FieldId.SecureBoot]:c,[at.FieldId.MachinePoolsSubnets]:p},errors:f,isValidating:E,setFieldValue:g,getFieldProps:h}=(0,et.c)(),[b,_]=n().useState(!1),[S,C]=n().useState(!1),y="true"===t,O="true"===a,I=o===yt.CloudProviderType.Gcp,{organization:{quotaList:R}}=(0,ze.j)((e=>e.userProfile)),{gcpKeyRings:T}=(0,ze.j)((e=>e.ccsInquiries)),{[at.FieldId.KeyRing]:A,[at.FieldId.KeyName]:P,[at.FieldId.KmsServiceAccount]:D,[at.FieldId.KeyLocation]:N}=f,L=T.error||A||P||D||N,w=I&&-1===(0,ka.versionComparator)(null==d?void 0:d.raw_id,at.MIN_SECURE_BOOT_VERSION);n().useEffect((()=>{e((0,Da.getCloudProviders)())}),[e]),n().useEffect((()=>{"true"===i&&(I&&L||!I&&(0,fa.validateAWSKMSKeyARN)(u,s))&&_(!0)}),[E]),n().useEffect((()=>{c||w||C(!1),c&&w&&(C(!0),g(at.FieldId.SecureBoot,!1))}),[w]);const M={product:l,billingModel:r,isBYOC:y,cloudProviderID:o},k=Wt(R,Object.assign(Object.assign({},qt.singleAzResources),M)),x=Wt(R,Object.assign(Object.assign({},qt.multiAzResources),M)),j=[Object.assign({value:"false",label:"Single zone",disabled:!k,popoverHint:Ea.constants.availabilityHintSingleZone},!k&&{tooltip:Ge.noQuotaTooltip}),Object.assign({value:"true",label:"Multi-zone",disabled:!x,popoverHint:Ea.constants.availabilityHintMultiZone},!x&&{tooltip:Ge.noQuotaTooltip})],F=n().createElement("div",{className:"pf-v5-u-mt-sm"},n().createElement(Jt.b,{isInline:!0,variant:"danger",title:`Secure Boot support requires OpenShift version ${at.MIN_SECURE_BOOT_VERSION} or above`}));return n().createElement(Qt.l,null,n().createElement(ia.r,{hasGutter:!0,md:6},n().createElement(pt.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},n().createElement(gt.D,{headingLevel:"h3"},"Cluster details"),n().createElement(ua.P,null,n().createElement(Pe.Field,{component:jt,name:at.FieldId.ClusterName,label:"Cluster name",type:"text",validate:e=>{return t=void 0,a=void 0,n=function*(){const t=(0,fa.createPessimisticValidator)(fa.clusterNameValidation)(e);return t||((yield(0,fa.asyncValidateClusterName)(e))||void 0)},new((l=void 0)||(l=Promise))((function(e,r){function s(e){try{i(n.next(e))}catch(e){r(e)}}function o(e){try{i(n.throw(e))}catch(e){r(e)}}function i(t){var a;t.done?e(t.value):(a=t.value,a instanceof l?a:new l((function(e){e(a)}))).then(s,o)}i((n=n.apply(t,a||[])).next())}));var t,a,l,n},validation:fa.clusterNameValidation,asyncValidation:fa.clusterNameAsyncValidation,isRequired:!0,extendedHelpText:Ea.constants.clusterNameHint,input:Object.assign(Object.assign({},h(at.FieldId.ClusterName)),{onChange:e=>g(at.FieldId.ClusterName,e,!1)})})),n().createElement(ua.P,null,n().createElement(Ua,{name:at.FieldId.ClusterVersion,label:r===v.billingModels.MARKETPLACE_GCP?"Version (Google Cloud Marketplace enabled)":"Version",onChange:e=>{!(0,wa.getIncompatibleVersionReason)(Ma.SupportedFeature.SECURITY_GROUPS,e.raw_id,{day1:!0})||g(at.FieldId.SecurityGroups,{applyControlPlaneToAll:!0,controlPlane:[],infra:[],worker:[]})}})),n().createElement(ua.P,null,n().createElement(Rt.c,{label:"Region",isRequired:!0,fieldId:at.FieldId.Region,labelIcon:n().createElement(At.default,{hint:Ea.constants.regionHint})},n().createElement(Pe.Field,{component:za,name:at.FieldId.Region,cloudProviderID:o,isMultiAz:O,isBYOC:y,handleCloudRegionChange:()=>{const e=O?3:1,t=[];for(let a=0;a<e;a+=1)t.push((0,sa.emptyAWSSubnet)());g(at.FieldId.MachinePoolsSubnets,t),g(at.FieldId.SelectedVpc,"")}}))),n().createElement(ua.P,null,n().createElement(Gt.o,{label:"Availability",name:at.FieldId.MultiAz,options:j,onChange:(e,t)=>{const a="true"===t;g(at.FieldId.NodesCompute,(0,Ct.getNodesCount)(y,a,!0)),g(at.FieldId.MinReplicas,(0,Ct.getMinReplicasCount)(y,a,!0)),g(at.FieldId.MaxReplicas,"");const l=[p[0]];a&&(l.push((0,sa.emptyAWSSubnet)()),l.push((0,sa.emptyAWSSubnet)())),g(at.FieldId.MachinePoolsSubnets,l)},direction:"row",isRequired:!0})),!y&&n().createElement(n().Fragment,null,n().createElement(ua.P,null,n().createElement(Rt.c,{label:"Persistent storage",fieldId:at.FieldId.PersistentStorage,labelIcon:n().createElement(At.default,{hint:Ea.constants.persistentStorageHint})},n().createElement(Pe.Field,{name:at.FieldId.PersistentStorage,input:Object.assign(Object.assign({},h(at.FieldId.PersistentStorage)),{onChange:e=>g(at.FieldId.PersistentStorage,e)}),component:Na.default,cloudProviderID:o,billingModel:r,product:l,isBYOC:y,isMultiAZ:O}))),n().createElement(ua.P,null,n().createElement(Rt.c,{label:"Load balancers",fieldId:at.FieldId.LoadBalancers,labelIcon:n().createElement(At.default,{hint:Ea.constants.loadBalancersHint})},n().createElement(Pe.Field,{name:at.FieldId.LoadBalancers,input:Object.assign(Object.assign({},h(at.FieldId.LoadBalancers)),{onChange:e=>g(at.FieldId.LoadBalancers,e)}),component:La.default,currentValue:null,cloudProviderID:o,billingModel:r,product:l,isBYOC:y,isMultiAZ:O})))),I&&n().createElement(ua.P,null,n().createElement(Rt.c,{label:"Shielded VM",fieldId:at.FieldId.SecureBoot},n().createElement(Ta.P,{hasGutter:!0,className:"pf-u-mb-0"},n().createElement(Aa.J,null,n().createElement(It.j,{name:at.FieldId.SecureBoot,label:"Enable Secure Boot support for Shielded VMs",isDisabled:w})),n().createElement(Aa.J,null,n().createElement(At.default,{hint:Ea.constants.enableSecureBootHint}))),S&&F)),n().createElement(ua.P,null,n().createElement(gt.D,{headingLevel:"h4"},"Monitoring")),n().createElement(Ta.P,{hasGutter:!0,className:"pf-v5-u-mb-0"},n().createElement(Aa.J,null,n().createElement(It.j,{name:at.FieldId.EnableUserWorkloadMonitoring,label:"Enable user workload monitoring"})),n().createElement(Aa.J,null,n().createElement(At.default,{hint:n().createElement(n().Fragment,null,Ea.constants.enableUserWorkloadMonitoringHelp,n().createElement(St.default,{href:ca.default.OSD_MONITORING_STACK},"Learn more"))}))),n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-color-200 pf-v5-u-ml-lg pf-v5-u-mt-xs"},Ea.constants.enableUserWorkloadMonitoringHint),n().createElement(Pa.L,{toggleText:"Advanced Encryption",onToggle:()=>{_(!b)},isExpanded:b},y&&n().createElement(Qa,{hasCustomerManagedKey:i,region:s,cloudProvider:o,kmsKeyArn:u}),n().createElement(el,{isRosa:!1})))))};var al=a(72132),ll=a(83768),nl=a(75374),rl=a(44442),sl=a(82840),ol=a(2441),il=a(81780);const ul=()=>{const{setFieldValue:e,getFieldMeta:t,getFieldProps:a}=(0,et.c)(),l=t(at.FieldId.DefaultRouterSelectors),r=t(at.FieldId.DefaultRouterExcludedNamespacesFlag);return n().createElement(n().Fragment,null,n().createElement(ua.P,{span:9},n().createElement(Rt.c,{label:"Route selector",labelIcon:n().createElement(rl.q,null)},n().createElement(Pe.Field,{name:at.FieldId.DefaultRouterSelectors,type:"text",validate:fa.checkRouteSelectors,className:"pf-v5-u-w-100",input:Object.assign(Object.assign({},a(at.FieldId.DefaultRouterSelectors)),{onChange:t=>e(at.FieldId.DefaultRouterSelectors,t,!1)})}),n().createElement(Pt.FormGroupHelperText,{touched:!0,error:l.error},rl.P))),n().createElement(ua.P,{span:9},n().createElement(Rt.c,{label:"Excluded namespaces",labelIcon:n().createElement(sl.r,null)},n().createElement(Pe.Field,{name:at.FieldId.DefaultRouterExcludedNamespacesFlag,type:"text",validate:fa.validateNamespacesList,className:"pf-v5-u-w-100",input:Object.assign(Object.assign({},a(at.FieldId.DefaultRouterExcludedNamespacesFlag)),{onChange:t=>e(at.FieldId.DefaultRouterExcludedNamespacesFlag,t,!1)})}),n().createElement(Pt.FormGroupHelperText,{touched:!0,error:r.error},sl.T))),n().createElement(Ta.P,{hasGutter:!0,className:"pf-v5-u-mb-0"},n().createElement(Aa.J,null,n().createElement(It.j,{name:at.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict,label:"Use strict namespace ownership policy"})),n().createElement(Aa.J,null,n().createElement(ol.E,null))),n().createElement(Ta.P,{hasGutter:!0,className:"pf-v5-u-mb-0"},n().createElement(Aa.J,null,n().createElement(It.j,{name:at.FieldId.IsDefaultRouterWildcardPolicyAllowed,label:"Allow router wildcard policy"})),n().createElement(Aa.J,null,n().createElement(il.T,null))))};var dl=a(77589);const cl=()=>{const e=(0,Fe.default)(),{values:{[at.FieldId.CloudProvider]:t,[at.FieldId.Product]:a,[at.FieldId.Byoc]:l,[at.FieldId.ClusterVersion]:r,[at.FieldId.ClusterPrivacy]:s,[at.FieldId.ConfigureProxy]:o,[at.FieldId.InstallToVpc]:i,[at.FieldId.UsePrivateLink]:u,[at.FieldId.ApplicationIngress]:d,[at.FieldId.MachinePoolsSubnets]:c},values:p,setFieldValue:m}=(0,et.c)(),f="true"===l,E=s===nl.ClusterPrivacyType.Internal,g=t===yt.CloudProviderType.Aws||t===yt.CloudProviderType.Gcp&&f,h=f&&[v.normalizedProducts.OSD,v.normalizedProducts.OSDTrial].includes(a),b=a===v.normalizedProducts.ROSA?qe.ocmResourceType.MOA:qe.ocmResourceType.OSD,_=f,S=(0,dl.canConfigureDayOneManagedIngress)(r.raw_id),C=(0,al.isExactMajorMinor)(r.raw_id,4,13),y=(t,a)=>e(t,{resourceType:b,customProperties:{checked:a}}),O=()=>{p.securityGroups&&m(at.FieldId.SecurityGroups,(0,ll.getDefaultSecurityGroupsSettings)())},I=[{value:nl.ClusterPrivacyType.External,label:"Public",description:"Access Kubernetes API endpoint and application routes from the internet."},{value:nl.ClusterPrivacyType.Internal,label:"Private",description:"Access Kubernetes API endpoint and application routes from direct private connections only."}],R=[{value:nl.ApplicationIngressType.Default,label:"Default settings"},{value:nl.ApplicationIngressType.Custom,label:"Custom settings"}];return n().createElement(Qt.l,null,n().createElement(ia.r,{hasGutter:!0},n().createElement(ua.P,null,n().createElement(gt.D,{headingLevel:"h3"},"Networking configuration"),n().createElement(ht.x,{className:"pf-v5-u-mt-sm"},"Configure network access for your cluster.")),g&&n().createElement(n().Fragment,null,n().createElement(ua.P,null,n().createElement(gt.D,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Cluster privacy"),n().createElement(ht.x,{className:"pf-v5-u-mt-sm"},"Install your cluster with all public or private API endpoints and application routes.")),n().createElement(ua.P,{span:6},n().createElement(Gt.o,{name:at.FieldId.ClusterPrivacy,options:I,onChange:(e,t)=>{t===nl.ClusterPrivacyType.External&&(m(at.FieldId.UsePrivateLink,!1),c.some((e=>e.availabilityZone||e.publicSubnetId||e.privateSubnetId))||(m(at.FieldId.InstallToVpc,!1),O(),o&&m(at.FieldId.ConfigureProxy,!1)))}})),E&&n().createElement(ua.P,null,n().createElement(Jt.b,{isInline:!0,variant:"warning",title:"You will not be able to access your cluster until you edit network settings in your cloud provider."},t===yt.CloudProviderType.Aws&&n().createElement(St.default,{href:ca.default.OSD_AWS_PRIVATE_CONNECTIONS},"Learn more about configuring network settings")))),f&&n().createElement(n().Fragment,null,n().createElement(ua.P,null,n().createElement(gt.D,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Virtual Private Cloud (VPC)"),n().createElement(ht.x,{className:"pf-v5-u-mt-sm"},"By default, a new VPC will be created for your cluster. Alternatively, you may opt to install to an existing VPC below.")),n().createElement(ua.P,{span:6},n().createElement(Rt.c,{fieldId:at.FieldId.InstallToVpc},n().createElement(It.j,{name:at.FieldId.InstallToVpc,label:"Install into an existing VPC",input:{onChange:(e,t)=>{m(at.FieldId.InstallToVpc,t),O(),y(qe.trackEvents.InstallIntoVPC,t)}},isDisabled:u||o}),n().createElement("div",{className:"pf-v5-u-ml-lg pf-v5-u-mt-md"},E&&t===yt.CloudProviderType.Aws&&n().createElement(It.j,{name:at.FieldId.UsePrivateLink,label:"Use a PrivateLink",input:{onChange:(e,t)=>{m(at.FieldId.UsePrivateLink,t),t&&m(at.FieldId.InstallToVpc,!0)},description:Ea.constants.privateLinkHint}}),h&&n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(It.j,{name:at.FieldId.ConfigureProxy,label:"Configure a cluster-wide proxy",input:{onChange:(e,t)=>{y(qe.trackEvents.ConfigureClusterWideProxy,t),m(at.FieldId.ConfigureProxy,t),t&&!i&&(m(at.FieldId.InstallToVpc,!0),y(qe.trackEvents.InstallIntoVPC,t))},description:Ea.constants.clusterProxyHint}})))))),_&&n().createElement(n().Fragment,null,n().createElement(ua.P,null,n().createElement(gt.D,{headingLevel:"h4",size:"xl"},"Application ingress settings"),n().createElement(ht.x,{className:"pf-v5-u-mt-sm"},"Ingress is configured by default."," ",S?"Customize settings if needed.":"It can be customized for 4.14 clusters or newer.",C&&n().createElement(n().Fragment,null," ","For 4.13 clusters, refer to"," ",n().createElement(St.default,{href:ca.default.MANAGED_INGRESS_KNOWLEDGE_BASE},"this knowledge base article"),"."))),S&&n().createElement(n().Fragment,null,n().createElement(ua.P,null,n().createElement(Gt.o,{name:at.FieldId.ApplicationIngress,options:R,onChange:(e,t)=>(e=>{m(at.FieldId.ApplicationIngress,e)})(t)})),d===nl.ApplicationIngressType.Custom&&n().createElement(ul,null)))))};var pl=a(72936),ml=a(49345),fl=a(70946);const El=fa.default.disjointSubnets(at.FieldId.NetworkMachineCidr),gl=fa.default.disjointSubnets(at.FieldId.NetworkServiceCidr),hl=fa.default.disjointSubnets(at.FieldId.NetworkPodCidr),vl=fa.default.awsSubnetMask(at.FieldId.NetworkMachineCidrSingleAz),bl=fa.default.awsSubnetMask(at.FieldId.NetworkMachineCidrMultiAz),_l=fa.default.awsSubnetMask(at.FieldId.NetworkServiceCidr),Sl=e=>t=>(0,fa.required)(e)||fa.default.cidr(e)||fa.default.validateRange(e)||t===yt.CloudProviderType.Gcp&&fa.default.privateAddress(e)||void 0,Cl=()=>{const{values:{[at.FieldId.CloudProvider]:e,[at.FieldId.InstallToVpc]:t,[at.FieldId.MultiAz]:a,[at.FieldId.CidrDefaultValuesEnabled]:l,[at.FieldId.NetworkPodCidr]:r},values:s,setFieldValue:o,setFieldTouched:i}=(0,et.c)(),u="true"===a;n().useEffect((()=>{void 0===r&&o(at.FieldId.NetworkPodCidr,fl.POD_CIDR_DEFAULT)}),[r,o]);const d=u?fa.default.AWS_MACHINE_CIDR_MAX_MULTI_AZ:fa.default.AWS_MACHINE_CIDR_MAX_SINGLE_AZ,c=e===yt.CloudProviderType.Gcp?n().createElement(n().Fragment,null,n().createElement("br",null),n().createElement("span",null,"The address must be a private IPv4 address, belonging to one of the following ranges:",n().createElement(pl.aV,null,n().createElement(ml.H,null,"10.0.0.0  10.255.255.255"),n().createElement(ml.H,null,"172.16.0.0  172.31.255.255"),n().createElement(ml.H,null,"192.168.0.0  192.168.255.255")))):null,p=(0,Ge.constructSelectedSubnets)(s);return n().createElement(Qt.l,null,n().createElement(ia.r,{hasGutter:!0},n().createElement(ua.P,null,n().createElement(gt.D,{headingLevel:"h3"},"CIDR ranges"),n().createElement(Jt.b,{id:"advanced-networking-alert",isInline:!0,variant:"info",className:"pf-v5-u-mt-sm",title:"CIDR ranges cannot be changed after you create your cluster."},n().createElement("p",{className:"pf-v5-u-mb-md"},"Specify non-overlapping ranges for machine, service, and pod ranges. Each range should correspond to the first IP address in their subnet."),n().createElement(St.default,{href:ca.default.CIDR_RANGE_DEFINITIONS_OSD},"Learn more to avoid conflicts")))),n().createElement(ia.r,{hasGutter:!0,md:6},n().createElement(pt.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},n().createElement(ua.P,null,n().createElement(It.j,{name:at.FieldId.CidrDefaultValuesEnabled,label:"Use default values",input:{onChange:(e,t)=>{o(at.FieldId.CidrDefaultValuesEnabled,t),t&&(o(at.FieldId.NetworkMachineCidr,fl.MACHINE_CIDR_DEFAULT),o(at.FieldId.NetworkServiceCidr,fl.SERVICE_CIDR_DEFAULT),o(at.FieldId.NetworkPodCidr,fl.POD_CIDR_DEFAULT),o(at.FieldId.NetworkHostPrefix,fl.HOST_PREFIX_DEFAULT),i(at.FieldId.NetworkMachineCidr,!1),i(at.FieldId.NetworkServiceCidr,!1),i(at.FieldId.NetworkPodCidr,!1),i(at.FieldId.NetworkHostPrefix,!1))},description:"The below values are safe defaults. However, you must ensure that the Machine CIDR is valid for your chosen subnet(s)."}})),n().createElement(ua.P,null,n().createElement(Ot.Y,{name:at.FieldId.NetworkMachineCidr,label:"Machine CIDR",validate:e=>(e=>(t,a)=>{const{[at.FieldId.CloudProvider]:l,[at.FieldId.MultiAz]:n}=t,r="true"===n;return Sl(e)(l)||l===yt.CloudProviderType.Aws&&fa.default.awsMachineCidr(e,t)||fa.default.validateRange(e)||l===yt.CloudProviderType.Aws&&fa.default.subnetCidrs(e,t,at.FieldId.NetworkMachineCidr,a)||El(e,t)||l===yt.CloudProviderType.Aws&&!r&&vl(e)||l===yt.CloudProviderType.Aws&&r&&bl(e)||void 0})(e)(s,p),isDisabled:l,helperText:n().createElement("div",{className:"pf-v5-c-form__helper-text"},e===yt.CloudProviderType.Aws?`Subnet mask must be between /${fa.default.AWS_MACHINE_CIDR_MIN} and /${d}.`:`Range must be private. Subnet mask must be at most /${fa.default.GCP_MACHINE_CIDR_MAX}.`,t&&n().createElement(Jt.b,{variant:"info",isPlain:!0,isInline:!0,title:"Ensure the Machine CIDR range matches the selected VPC subnets."})),tooltip:n().createElement(n().Fragment,null,Ea.constants.machineCIDRHint,c,n().createElement(ht.x,{component:ht.q.p},n().createElement(St.default,{href:ca.default.OSD_CIDR_MACHINE},"Learn more"))),input:{placeholder:fl.MACHINE_CIDR_DEFAULT}})),n().createElement(ua.P,null,n().createElement(Ot.Y,{name:at.FieldId.NetworkServiceCidr,label:"Service CIDR",validate:e=>(e=>(t,a)=>{const{[at.FieldId.CloudProvider]:l}=t;return Sl(e)(l)||fa.default.serviceCidr(e)||gl(e,t)||l===yt.CloudProviderType.Aws&&_l(e)||l===yt.CloudProviderType.Aws&&fa.default.subnetCidrs(e,t,at.FieldId.NetworkServiceCidr,a)||void 0})(e)(s,p),isDisabled:l,helperText:e===yt.CloudProviderType.Aws?`Subnet mask must be at most /${fa.default.SERVICE_CIDR_MAX}.`:`Range must be private. Subnet mask must be at most /${fa.default.SERVICE_CIDR_MAX}.`,tooltip:n().createElement(n().Fragment,null,Ea.constants.serviceCIDRHint,c,n().createElement(ht.x,{component:ht.q.p},n().createElement(St.default,{href:ca.default.OSD_CIDR_SERVICE},"Learn more"))),input:{placeholder:fl.SERVICE_CIDR_DEFAULT}})),n().createElement(ua.P,null,n().createElement(Ot.Y,{name:at.FieldId.NetworkPodCidr,label:"Pod CIDR",validate:e=>(e=>(t,a)=>{const{[at.FieldId.CloudProvider]:l}=t;return Sl(e)(t[at.FieldId.CloudProvider])||fa.default.podCidr(e,t)||hl(e,t)||l===yt.CloudProviderType.Aws&&fa.default.subnetCidrs(e,t,at.FieldId.NetworkPodCidr,a)||void 0})(e)(s,p),isDisabled:l,helperText:e===yt.CloudProviderType.Aws?`Subnet mask must allow for at least ${fa.default.POD_NODES_MIN} nodes.`:`Range must be private. Subnet mask must allow for at least ${fa.default.POD_NODES_MIN} nodes.`,tooltip:n().createElement(n().Fragment,null,Ea.constants.podCIDRHint,c,n().createElement(ht.x,{component:ht.q.p},n().createElement(St.default,{href:ca.default.OSD_CIDR_POD},"Learn more"))),input:{placeholder:fl.POD_CIDR_DEFAULT}})),n().createElement(ua.P,null,n().createElement(Ot.Y,{name:at.FieldId.NetworkHostPrefix,label:"Host prefix",validate:e=>(0,fa.required)(e)||fa.default.hostPrefix(e),isDisabled:l,helperText:`Must be between /${fa.default.HOST_PREFIX_MIN} and /${fa.default.HOST_PREFIX_MAX}.`,tooltip:Ea.constants.hostPrefixHint,input:{placeholder:fl.HOST_PREFIX_DEFAULT,onChange:(e,t)=>o(at.FieldId.NetworkHostPrefix,(e=>e&&"/"!==e.charAt(0)?`/${e}`:e)(t))}})))))};var yl=a(35732),Ol=a(10506),Il=a(99646),Rl=a(56585),Tl=a(2453),Al=a(18483);const Pl=({index:e})=>{const{values:{[at.FieldId.UsePrivateLink]:t,[at.FieldId.SelectedVpc]:a,[at.FieldId.Region]:l,[at.FieldId.MultiAz]:r,[at.FieldId.MachinePoolsSubnets]:s},getFieldProps:o,getFieldMeta:i,setFieldTouched:u,setFieldValue:d}=(0,et.c)(),c=`${at.FieldId.MachinePoolsSubnets}[${e}].availabilityZone`,p=`${at.FieldId.MachinePoolsSubnets}[${e}].privateSubnetId`,m=`${at.FieldId.MachinePoolsSubnets}[${e}].publicSubnetId`,f=s[e],E=0===e,g="true"===r,h=(0,Ol.Z)(p),v=(0,Ol.Z)(m),b=t?["private"]:["private","public"],_=(0,Tl.getMatchingAvailabilityZones)(l,a,b),S=!(null==a?void 0:a.id),C=f.availabilityZone?[f.availabilityZone]:[];return n().createElement(n().Fragment,null,n().createElement(ua.P,{className:"vpc-input-field",md:4},n().createElement(Il.default,{showTooltip:S,content:"Select a VPC first"},n().createElement(Pe.Field,{component:Rl.default,name:c,label:E?"Availability zone":void 0,validate:e=>{const a=f.privateSubnetId&&(t||f.publicSubnetId);return(0,fa.required)(e)||g&&(0,fa.validateUniqueAZ)(e,{machinePoolsSubnets:s})||(a?"":"Select the subnets for this availability zone")},enabledAvailabilityZones:_,vpcId:null==a?void 0:a.id,isDisabled:S,region:l,input:Object.assign(Object.assign({},o(c)),{onChange:e=>{d(c,e),u(p,!0,!0)}}),meta:i(c)}))),n().createElement(ua.P,{md:4},n().createElement(Il.default,{showTooltip:S,content:"Select a VPC first"},n().createElement(Pe.Field,{component:Al.SubnetSelectField,name:p,label:E?"Private subnet":void 0,validate:fa.required,input:Object.assign(Object.assign({},o(p)),{onChange:h}),meta:i(p),privacy:"private",selectedVPC:a,withAutoSelect:!1,allowedAZs:C}))),!t&&n().createElement(ua.P,{md:4},n().createElement(Il.default,{showTooltip:S,content:"Select a VPC first"},n().createElement(Pe.Field,{component:Al.SubnetSelectField,name:m,label:E?"Public subnet":void 0,validate:fa.required,input:Object.assign(Object.assign({},o(m)),{onChange:v}),meta:i(m),privacy:"public",selectedVPC:a,withAutoSelect:!1,allowedAZs:C}))),t&&n().createElement(ua.P,{md:4}))},Dl=()=>{const{values:e,dirty:t,getFieldProps:a,getFieldMeta:l,setFieldValue:r}=(0,et.c)(),{[at.FieldId.MultiAz]:s,[at.FieldId.SelectedVpc]:o,[at.FieldId.UsePrivateLink]:i}=e,u="true"===s,d=l(at.FieldId.SelectedVpc);return n().createElement(n().Fragment,null,n().createElement(ia.r,null,n().createElement(ua.P,{md:6},n().createElement(Pe.Field,{component:yl.default,name:at.FieldId.SelectedVpc,input:Object.assign(Object.assign({},a(at.FieldId.SelectedVpc)),{onChange:e=>r(at.FieldId.SelectedVpc,e)}),isOSD:!0,meta:d,validate:e=>t&&!(null==e?void 0:e.id)?"error":void 0,selectedVPC:o,showRefresh:!0,isHypershift:!1,usePrivateLink:i})),n().createElement(ua.P,{md:6})),n().createElement(Pl,{index:0}),u&&n().createElement(n().Fragment,null,n().createElement(Pl,{index:1}),n().createElement(Pl,{index:2})))};var Nl=a(94513),Ll=a(42820),wl=a(22427);const Ml="securityGroups",kl=({input:{onChange:e,value:t},label:a,selectedVPC:l})=>n().createElement(Ll.Z,{label:a,selectedVPC:l,selectedGroupIds:t,isReadOnly:!1,onChange:e}),xl=()=>{const e=(0,g.useFeatureGate)(b.SECURITY_GROUPS_FEATURE_DAY1),{values:{[at.FieldId.SelectedVpc]:t,[at.FieldId.ClusterVersion]:a,[at.FieldId.SecurityGroups]:r},getFieldProps:s,setFieldValue:o}=(0,et.c)(),{applyControlPlaneToAll:i}=r,u=i?r.controlPlane:r.controlPlane.concat(r.infra).concat(r.worker),[d,c]=(0,l.useState)(u.length>0);if(!e||!t.id)return null;const p=e=>t=>o(e,t),m=(0,wa.getIncompatibleVersionReason)(Ma.SupportedFeature.SECURITY_GROUPS,null==a?void 0:a.raw_id,{day1:!0}),f=!m&&0===(t.aws_security_groups||[]).length;return n().createElement(Pa.L,{toggleText:"Additional security groups",isExpanded:d,onToggle:()=>{c(!d)}},m&&n().createElement("div",null,m),f&&n().createElement(wl.Z,null),!m&&!f&&n().createElement(n().Fragment,null,n().createElement(Jt.b,{variant:"info",isInline:!0,title:"You cannot add or edit security groups to the machine pools created by default after you create the cluster.",actionLinks:n().createElement(n().Fragment,null,n().createElement(Nl.Q,{component:"a",href:ca.default.OSD_SECURITY_GROUPS,target:"_blank"},"View more information"),n().createElement(Nl.Q,{component:"a",href:ca.default.AWS_CONSOLE_SECURITY_GROUPS,target:"_blank"},"AWS security groups console"))}),n().createElement("br",null),n().createElement(Pe.Field,{component:It.j,name:`${Ml}.applyControlPlaneToAll`,label:"Apply the same security groups to all node types (control plane, infrastructure, worker)",input:Object.assign(Object.assign({},s(`${Ml}.applyControlPlaneToAll`)),{onChange:(e,t)=>o(`${Ml}.applyControlPlaneToAll`,t)})}),n().createElement(Pe.Field,{component:kl,name:`${Ml}.controlPlane`,label:i?"":"Control plane nodes",selectedVPC:t,validate:fa.validateSecurityGroups,input:Object.assign(Object.assign({},s(`${Ml}.controlPlane`)),{onChange:p(`${Ml}.controlPlane`)})}),!i&&n().createElement(n().Fragment,null,n().createElement(Pe.Field,{component:kl,name:`${Ml}.infra`,label:"Infrastructure nodes",selectedVPC:t,validate:fa.validateSecurityGroups,input:Object.assign(Object.assign({},s(`${Ml}.infra`)),{onChange:p(`${Ml}.infra`)})}),n().createElement(Pe.Field,{component:kl,name:`${Ml}.worker`,label:"Worker nodes",selectedVPC:t,validate:fa.validateSecurityGroups,input:Object.assign(Object.assign({},s(`${Ml}.worker`)),{onChange:p(`${Ml}.worker`)})}))))},jl=()=>{const{values:{[at.FieldId.UsePrivateLink]:e,[at.FieldId.SelectedVpc]:t,[at.FieldId.MultiAz]:a},setFieldValue:l,setFieldTouched:r}=(0,et.c)(),s="true"===a;return n().useEffect((()=>{if(!t.id){const e=s?3:1,t=[];for(let a=0;a<e;a+=1)t.push((0,sa.emptyAWSSubnet)());l(at.FieldId.MachinePoolsSubnets,t)}r(at.FieldId.MachinePoolsSubnets,!1)}),[l,r,s,t.id]),n().createElement(n().Fragment,null,n().createElement(ua.P,null,n().createElement(gt.D,{headingLevel:"h4",size:"md"},"Install into an existing VPC",n().createElement(At.default,{iconClassName:"pf-v5-u-ml-sm",hint:n().createElement(n().Fragment,null,"Your VPC must have public and private subnets. Public subnets are associated with appropriate Ingress rules. Private subnets need appropriate routes and tables."," ",n().createElement(St.default,{href:ca.default.INSTALL_AWS_VPC},"Learn more about installing into an existing VPC"))})),n().createElement("p",{className:"pf-v5-u-mt-sm"},`To install into an existing VPC, you need to ensure that your VPC is configured with\n                ${e?"":"a public and"} a private subnet for each availability zone that you want the cluster\n                installed into.`," ",n().createElement(St.default,{href:ca.default.INSTALL_AWS_CUSTOM_VPC_REQUIREMENTS},"Learn more about VPC"))),n().createElement(Jt.b,{variant:"info",isInline:!0,title:"You'll need to match these VPC subnets when you define the CIDR ranges."}),n().createElement(Dl,null),n().createElement(xl,null))};const Fl=({input:e,placeholder:t,emptyPlaceholder:a,label:l,meta:r,helperText:s})=>{var o,i;const u=(0,m.useDispatch)(),{values:d}=(0,et.c)(),{vpcs:c}=(0,ze.j)((e=>e.ccsInquiries)),p=(0,Ia.ZV)(d),f=d[at.FieldId.Region],E=!(!p||!f),g=c.cloudProvider===yt.CloudProviderType.Gcp&&Ba()(c.credentials,p)&&c.region===f,h=g&&c.fulfilled,v=n().useMemo((()=>{var e;return(null===(e=null==c?void 0:c.data)||void 0===e?void 0:e.items)||[]}),[null===(o=null==c?void 0:c.data)||void 0===o?void 0:o.items]),b=n().useMemo((()=>{let e;return e=h?v.length>0?n().createElement(n().Fragment,null,n().createElement(Ha.j,{isDisabled:!0,isPlaceholder:!0,value:"",label:t}),v.map((({name:e})=>n().createElement(Ha.j,{key:e,value:e,label:e||""})))):n().createElement(Ha.j,{isDisabled:!0,isPlaceholder:!0,value:"",label:a}):c.pending?n().createElement(Ha.j,{isDisabled:!0,value:"",label:"Loading..."}):n().createElement(Ha.j,{isDisabled:!0,value:"",label:""}),e}),[h,c.pending,v,t,a]),_=n().useMemo((()=>{var t;return!!e.value&&(!E||!(!g||!c.fulfilled)&&!((null===(t=c.data)||void 0===t?void 0:t.items)||[]).some((t=>t.name===e.value.toString())))}),[E,e.value,g,null===(i=c.data)||void 0===i?void 0:i.items,c.fulfilled]);n().useEffect((()=>{!E||g||c.pending||u((0,Xt.getGCPCloudProviderVPCs)(Xt.LIST_VPCS,p,f)),_&&e.onChange("")}),[e,E,g,c.pending,p,f,u,_]);const{onChange:S}=e,C=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["onChange"]);return n().createElement(Rt.c,{label:l,fieldId:e.name},g&&c.error&&n().createElement(Jt.b,{variant:"danger",isInline:!0,title:"Failed to list existing VPCs using your GCP credentials"},"Verify that your entered service account details are correct"),n().createElement(Va.i,Object.assign({"aria-label":l,isDisabled:!(h&&v.length>0)},C,{onChange:(e,t)=>S(t)}),b),n().createElement(Pt.FormGroupHelperText,{touched:r.touched,error:r.error},s))};const Gl=({input:e,meta:t,label:a,placeholder:l,emptyPlaceholder:r,helperText:s})=>{var o;const{vpcs:i}=(0,ze.j)((e=>e.ccsInquiries)),{values:u,values:{[at.FieldId.Region]:d,[at.FieldId.VpcName]:c}}=(0,et.c)(),p=(0,Ia.ZV)(u),m=!!(p&&d&&c),f="gcp"===i.cloudProvider&&Ba()(i.credentials,p)&&i.region===d,E=f&&i.fulfilled,g=n().useMemo((()=>{var e,t;const a=null===(t=null===(e=null==i?void 0:i.data)||void 0===e?void 0:e.items)||void 0===t?void 0:t.find((e=>e.name===c));return(null==a?void 0:a.subnets)||[]}),[c,null===(o=null==i?void 0:i.data)||void 0===o?void 0:o.items]),h=n().useMemo((()=>!(!e.value||m&&(!f||!i.fulfilled||g.some((t=>t===e.value.toString()))))),[m,e.value,g,f,i.fulfilled]);n().useEffect((()=>{h&&e.onChange("")}),[e,h]);const v=n().useMemo((()=>{let e;return e=E?g.length>0?n().createElement(n().Fragment,null,n().createElement(Ha.j,{isDisabled:!0,isPlaceholder:!0,value:"",label:l}),g.map((e=>n().createElement(Ha.j,{key:e,value:e,label:e})))):n().createElement(Ha.j,{isDisabled:!0,isPlaceholder:!0,value:"",label:r}):i.pending?n().createElement(Ha.j,{isDisabled:!0,value:"",label:"Loading..."}):n().createElement(Ha.j,{isDisabled:!0,value:"",label:""}),e}),[r,g,l,E,i.pending]),{onChange:b}=e,_=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["onChange"]);return n().createElement(Rt.c,{label:a,fieldId:e.name},f&&i.error&&n().createElement(Jt.b,{variant:"danger",isInline:!0,title:"Failed to list existing VPC subnets using your GCP credentials"},"Verify that your entered service account details are correct"),n().createElement(Va.i,Object.assign({"aria-label":a,isDisabled:!(E&&g.length>0)},_,{onChange:(e,t)=>b(t)}),v),n().createElement(Pt.FormGroupHelperText,{touched:t.touched,error:t.error},s))},Ul=()=>{const{values:{[at.FieldId.ClusterVersion]:e,[at.FieldId.InstallToSharedVpc]:t},getFieldProps:a,getFieldMeta:r,setFieldValue:s}=(0,et.c)(),o=(0,g.useFeatureGate)(b.OSD_GCP_SHARED_VPC_FEATURE),{goToStepById:i}=(0,st.Qe)(),u=(0,l.useMemo)((()=>{if(t){const t=-1===(0,ka.versionComparator)(null==e?void 0:e.raw_id,"4.13.15");return n().createElement(n().Fragment,null,t&&n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(Jt.b,{variant:"danger",isInline:!0,title:"You must use OpenShift version 4.13.15 or above.",actionLinks:n().createElement(Nl.Q,{onClick:()=>i(at.StepId.ClusterSettingsDetails)},"Change version")})),n().createElement("div",{className:"pf-v5-u-mt-md",style:{display:t?"none":"block"}},n().createElement(Ot.Y,{name:at.FieldId.SharedHostProjectID,label:"Host project ID",validate:fa.validateGCPHostProjectId}),n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(Jt.b,{variant:"info",isInline:!0,title:"NOTE: To install a cluster into a shared VPC, the shared VPC administrator must enable a project as a\n              host project in their Google Cloud console. Then you can attach service projects to the host project."}))))}return null}),[null==e?void 0:e.raw_id,i,t]);return n().createElement(n().Fragment,null,o&&n().createElement(ua.P,{span:8},n().createElement(gt.D,{headingLevel:"h4",size:"md"},"GCP shared VPC"),n().createElement("div",{className:"pf-v5-u-mt-md  pf-v5-u-mb-lg"},n().createElement(It.j,{name:at.FieldId.InstallToSharedVpc,label:"Install into GCP Shared VPC",tooltip:n().createElement(n().Fragment,null,n().createElement("p",null,"Install into a VPC shared by another account in your GCP organization."),n().createElement(St.default,{href:ca.default.INSTALL_GCP_VPC},"Learn more about GCP shared VPC.")),input:{onChange:(e,t)=>{s(at.FieldId.InstallToSharedVpc,t)}}}),u)),n().createElement(ua.P,null,n().createElement(gt.D,{headingLevel:"h4",size:"md"},"Existing VPC",n().createElement(At.default,{iconClassName:"pf-v5-u-ml-sm",hint:n().createElement(n().Fragment,null,"Install into a non-default subnet shared by another account in your CP organization",n().createElement(St.default,{href:ca.default.INSTALL_GCP_VPC},"Learn more about GCP shared VPC"))})),n().createElement("div",{className:"pf-v5-u-ml-sm pf-v5-u-mt-md  pf-v5-u-mb-lg",style:{width:"fit-content"}},n().createElement("p",{className:"pf-v5-u-mt-sm"},"To install into an existing VPC, you need to ensure that your VPC is configured with a control plane subnet and compute subnet."),n().createElement("p",{className:"pf-v5-u-mt-sm"},"You'll also need to match these VPC subnets when you define the CIDR ranges."))),n().createElement(ua.P,{md:3},t?n().createElement(Ot.Y,{name:at.FieldId.VpcName,label:"Existing VPC name",validate:fa.validateGCPSubnet}):n().createElement(Pe.Field,{component:Fl,name:at.FieldId.VpcName,validate:fa.required,label:"Existing VPC name",placeholder:"Select VPC name",emptyPlaceholder:"No existing VPCs",input:Object.assign(Object.assign({},a(at.FieldId.VpcName)),{onChange:e=>s(at.FieldId.VpcName,e)}),meta:r(at.FieldId.VpcName)})),n().createElement(ua.P,{md:3},t?n().createElement(Ot.Y,{name:at.FieldId.ControlPlaneSubnet,label:"Control plane subnet name",validate:fa.validateGCPSubnet}):n().createElement(Pe.Field,{component:Gl,name:at.FieldId.ControlPlaneSubnet,validate:fa.required,label:"Control plane subnet name",placeholder:"Select subnet name",emptyPlaceholder:"No subnet names",input:Object.assign(Object.assign({},a(at.FieldId.ControlPlaneSubnet)),{onChange:e=>s(at.FieldId.ControlPlaneSubnet,e)}),meta:r(at.FieldId.ControlPlaneSubnet)})),n().createElement(ua.P,{md:3},t?n().createElement(Ot.Y,{name:at.FieldId.ComputeSubnet,label:"Compute subnet name",validate:fa.validateGCPSubnet}):n().createElement(Pe.Field,{component:Gl,name:at.FieldId.ComputeSubnet,validate:fa.required,label:"Compute subnet name",placeholder:"Select subnet name",emptyPlaceholder:"No subnet names",input:Object.assign(Object.assign({},a(at.FieldId.ComputeSubnet)),{onChange:e=>s(at.FieldId.ComputeSubnet,e)}),meta:r(at.FieldId.ComputeSubnet)})),t&&n().createElement(ua.P,{span:9},n().createElement("div",{className:"pf-v5-u-mt-md  pf-v5-u-mb-lg"},n().createElement(Jt.b,{variant:"info",isInline:!0,title:"For successful installation, be sure your Host project ID, Existing VPC name, Control plane subnet name, and Compute subnet name are correct."}))))},Vl=()=>{const{values:{[at.FieldId.CloudProvider]:e}}=(0,et.c)();return n().createElement(Qt.l,null,n().createElement(ia.r,{hasGutter:!0},n().createElement(ua.P,null,n().createElement(gt.D,{headingLevel:"h3"},"Virtual Private Cloud (VPC) subnet settings")),e===yt.CloudProviderType.Aws&&n().createElement(jl,null),e===yt.CloudProviderType.Gcp&&n().createElement(Ul,null)))},Hl={"text/plain":[".pem",".crt",".ca",".cert"],"application/x-pem-file":[".pem"],"application/x-x509-ca-cert":[".crt",".ca",".cert"]},zl=()=>{const{values:{[at.FieldId.HttpProxyUrl]:e,[at.FieldId.HttpsProxyUrl]:t,[at.FieldId.AdditionalTrustBundle]:a,[at.FieldId.NoProxyDomains]:l},touched:r,setFieldValue:s,setFieldTouched:o}=(0,et.c)(),{activeStep:i,goToStepByName:u}=(0,st.Qe)(),d=!e&&!t&&!a,c=i.name===at.StepName.ClusterProxy&&d?"Configure at least one of the cluster-wide proxy fields.":void 0,p=(r[at.FieldId.HttpProxyUrl]||r[at.FieldId.HttpsProxyUrl]||r[at.FieldId.AdditionalTrustBundle])&&d;return n().useEffect((()=>{!l||e||t||s(at.FieldId.NoProxyDomains,"")}),[l,e,t]),n().createElement(Qt.l,null,n().createElement(ua.P,null,n().createElement(gt.D,{headingLevel:"h3"},"Cluster-wide proxy"),n().createElement(ht.x,{className:"pf-v5-u-mt-sm"},Ea.constants.clusterProxyHint),n().createElement(St.default,{href:ca.default.OSD_CLUSTER_WIDE_PROXY},"Learn more about configuring a cluster-wide proxy")),n().createElement(ua.P,null,n().createElement(Jt.b,{variant:"info",isInline:!0,isPlain:!0,title:"Configure at least 1 of the following fields:"})),n().createElement(ia.r,{hasGutter:!0,md:6},n().createElement(pt.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},n().createElement(ua.P,null,n().createElement(Ot.Y,{name:at.FieldId.HttpProxyUrl,label:"HTTP proxy URL",validate:e=>(0,fa.validateUrl)(e,"http")||c,helperText:"Specify a proxy URL to use for HTTP connections outside the cluster.",input:{placeholder:fl.HTTP_PROXY_PLACEHOLDER}})),n().createElement(ua.P,null,n().createElement(Ot.Y,{name:at.FieldId.HttpsProxyUrl,label:"HTTPS proxy URL",validate:e=>(0,fa.validateUrl)(e,["http","https"])||c,helperText:"Specify a proxy URL to use for HTTPS connections outside the cluster.",input:{placeholder:fl.HTTPS_PROXY_PLACEHOLDER}})),n().createElement(ua.P,null,n().createElement(Ot.Y,{name:at.FieldId.NoProxyDomains,label:"No Proxy domains",validate:fa.checkNoProxyDomains,helperText:fl.NO_PROXY_HELPER_TEXT,isDisabled:!e&&!t,input:{onChange:(e,t)=>s(at.FieldId.NoProxyDomains,(0,Ge.stringToArray)(t)),placeholder:e||t?fl.NO_PROXY_PLACEHOLDER:fl.DISABLED_NO_PROXY_PLACEHOLDER}})),n().createElement(ua.P,null,n().createElement(Dt,{name:at.FieldId.AdditionalTrustBundle,label:"Additional trust bundle",tooltip:n().createElement(n().Fragment,null,n().createElement(gt.D,{headingLevel:"h6",className:"pf-v5-u-mb-sm"},"Additional trust bundle"),n().createElement("p",null,"An additional trust bundle is a PEM encoded X.509 certificate bundle that will be added to the nodes' trusted certificate store.")),validate:e=>(0,fa.validateCA)(e)||c,helperText:"Upload or paste a PEM encoded X.509 certificate.",input:{textAreaPlaceholder:fl.TRUST_BUNDLE_PLACEHOLDER,dropzoneProps:{accept:Hl,maxSize:4e6,onDropRejected:()=>{o(at.FieldId.AdditionalTrustBundle,!0),s(at.FieldId.AdditionalTrustBundle,"Invalid file")}}}})),n().createElement(ua.P,null,p&&n().createElement(Jt.b,{isInline:!0,variant:"warning",title:n().createElement("span",null,"Complete at least 1 of the fields above. If you don't want to set a cluster-wide proxy, disable this option in the ",n().createElement("strong",{style:{fontSize:"var(--pf-v5-global--FontSize--md)"}},"Networking > Configuration")," step."),actionLinks:n().createElement(Nl.Q,{onClick:()=>u("Configuration")},"Back to the networking configuration")})))))};var Wl=a(81965),ql=a(41609),Bl=a.n(ql),$l=a(52643),Zl=a(22305),Yl=a(49536),Kl=a(31345),Ql=a(79085);const Jl=({isPending:e})=>{const{goToStepById:t}=(0,st.Qe)(),{values:{[at.FieldId.Product]:a,[at.FieldId.InstallToVpc]:l,[at.FieldId.InstallToSharedVpc]:r,[at.FieldId.ConfigureProxy]:s,[at.FieldId.Byoc]:o,[at.FieldId.CloudProvider]:i,[at.FieldId.NodeLabels]:u,[at.FieldId.ClusterPrivacy]:d,[at.FieldId.ClusterVersion]:c,[at.FieldId.ApplicationIngress]:p,[at.FieldId.SecurityGroups]:m},values:f}=(0,et.c)(),E=(0,Kl.Z)(a),g=E&&!!f[at.FieldId.AutoscalingEnabled],v="true"===o,b=i===yt.CloudProviderType.Aws,_=i===yt.CloudProviderType.Gcp,S=v&&(0,ll.hasSelectedSecurityGroups)(m),C=[at.FieldId.CloudProvider,at.FieldId.ClusterName,at.FieldId.ClusterVersion,at.FieldId.Region,at.FieldId.MultiAz,..._?[at.FieldId.SecureBoot]:[],at.FieldId.EnableUserWorkloadMonitoring,...v?[at.FieldId.CustomerManagedKey]:[at.FieldId.PersistentStorage],...v&&b?[at.FieldId.DisableScpChecks]:[],at.FieldId.EtcdEncryption,at.FieldId.FipsCryptography];return e?n().createElement($l.b,null,n().createElement(ft.K,null,n().createElement(Et.v,null,n().createElement($l.b,null,n().createElement(Zl.$,{size:"xl"}))),n().createElement(Et.v,null,n().createElement($l.b,null,"Creating your cluster. Do not refresh this page. This request may take a moment...")))):n().createElement("div",{className:"ocm-create-osd-review-screen"},n().createElement(gt.D,{headingLevel:"h2"},"Review your dedicated cluster"),n().createElement(Yl.default,{title:"Billing model",onGoToStep:()=>t(at.StepId.BillingModel)},n().createElement(Yl.ReviewItem,{name:at.FieldId.BillingModel,formValues:f}),n().createElement(Yl.ReviewItem,{name:at.FieldId.Byoc,formValues:f})),n().createElement(Yl.default,{title:"Cluster settings",onGoToStep:()=>t(at.StepId.ClusterSettingsCloudProvider)},C.map((e=>n().createElement(Yl.ReviewItem,{name:e,formValues:f})))),n().createElement(Yl.default,{title:"Default machine pool",onGoToStep:()=>t(at.StepId.ClusterSettingsMachinePool)},n().createElement(Yl.ReviewItem,{name:at.FieldId.MachineType,formValues:f}),E&&n().createElement(Yl.ReviewItem,{name:at.FieldId.AutoscalingEnabled,formValues:f}),g?n().createElement(Yl.ReviewItem,{name:at.FieldId.MinReplicas,formValues:f}):n().createElement(Yl.ReviewItem,{name:at.FieldId.NodesCompute,formValues:f}),!(1===u.length&&Bl()(u[0].key))&&n().createElement(Yl.ReviewItem,{name:at.FieldId.NodeLabels,formValues:f}),b&&v&&(0,dl.canSelectImds)(c.raw_id)&&n().createElement(Yl.ReviewItem,{name:at.FieldId.IMDS,formValues:f})),n().createElement(Yl.default,{title:"Networking",onGoToStep:()=>t(b?at.StepId.NetworkingConfiguration:at.StepId.NetworkingCidrRanges)},n().createElement(Yl.ReviewItem,{name:at.FieldId.ClusterPrivacy,formValues:f}),v&&n().createElement(Yl.ReviewItem,{name:at.FieldId.InstallToVpc,formValues:f}),v&&"internal"===d&&l&&n().createElement(Yl.ReviewItem,{name:at.FieldId.UsePrivateLink,formValues:f}),v&&_&&r&&n().createElement(Yl.ReviewItem,{name:at.FieldId.SharedHostProjectID,formValues:f}),v&&l&&n().createElement(Yl.ReviewItem,{name:b?"aws_standalone_vpc":"gpc_vpc",formValues:f}),v&&l&&S&&n().createElement(Yl.ReviewItem,{name:"securityGroups",formValues:f}),l&&n().createElement(Yl.ReviewItem,{name:at.FieldId.ConfigureProxy,formValues:f}),l&&s&&n().createElement(n().Fragment,null,n().createElement(Yl.ReviewItem,{name:at.FieldId.HttpProxyUrl,formValues:f}),n().createElement(Yl.ReviewItem,{name:at.FieldId.HttpsProxyUrl,formValues:f}),n().createElement(Yl.ReviewItem,{name:at.FieldId.NoProxyDomains,formValues:f}),n().createElement(Yl.ReviewItem,{name:at.FieldId.AdditionalTrustBundle,formValues:f})),n().createElement(Yl.ReviewItem,{name:at.FieldId.NetworkMachineCidr,formValues:f}),n().createElement(Yl.ReviewItem,{name:at.FieldId.NetworkServiceCidr,formValues:f}),n().createElement(Yl.ReviewItem,{name:at.FieldId.NetworkPodCidr,formValues:f}),n().createElement(Yl.ReviewItem,{name:at.FieldId.NetworkHostPrefix,formValues:f}),v&&n().createElement(Yl.ReviewItem,{name:at.FieldId.ApplicationIngress,formValues:f}),"default"!==p&&v&&n().createElement(n().Fragment,null,n().createElement(Yl.ReviewItem,{name:at.FieldId.DefaultRouterSelectors,formValues:f}),n().createElement(Yl.ReviewItem,{name:at.FieldId.DefaultRouterExcludedNamespacesFlag,formValues:f}),n().createElement(Yl.ReviewItem,{name:at.FieldId.IsDefaultRouterWildcardPolicyAllowed,formValues:f}),n().createElement(Yl.ReviewItem,{name:at.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict,formValues:f}))),n().createElement(Yl.default,{title:"Updates",onGoToStep:()=>t(at.StepId.ClusterUpdates)},n().createElement(Yl.ReviewItem,{name:at.FieldId.UpgradePolicy,formValues:f}),f[at.FieldId.UpgradePolicy]===yt.UpgradePolicyType.Automatic&&n().createElement(Yl.ReviewItem,{name:at.FieldId.AutomaticUpgradeSchedule,formValues:f}),n().createElement(Yl.ReviewItem,{name:at.FieldId.NodeDrainGracePeriod,formValues:f})),h.default.fakeOSD&&n().createElement(Ql.DebugClusterRequest,{cloudProvider:i,product:a,formValues:f}))},Xl=()=>{const{submitForm:e}=(0,et.c)(),t=(0,ze.j)((e=>e.clusters.createdCluster)),[a,l]=n().useState(!1);return n().useEffect((()=>{t.error&&!a&&l(!0)}),[t.error,a]),n().createElement("div",{className:"pf-v5-u-mb-md"},n().createElement(Jl,{isPending:t.pending}),a&&n().createElement(Wl.default,{onRetry:e}))};const en=()=>{var e;const t=(0,Fe.default)(),a=(0,i.s0)(),l=(0,f.k6)(),{values:{[at.FieldId.Product]:r,[at.FieldId.CloudProvider]:s,[at.FieldId.Byoc]:o,[at.FieldId.InstallToVpc]:u,[at.FieldId.ConfigureProxy]:d}}=(0,et.c)(),c=(0,ze.j)((e=>e.userProfile.organization)),p=(0,ze.j)((e=>e.loadBalancerValues)),m=(0,ze.j)((e=>e.persistentStorageValues)),E=(0,ze.j)((e=>e.clusters.createdCluster)),g=(0,Je.availableClustersFromQuota)(c.quotaList,{product:r})>=1,h=[{data:c,name:"Organization & Quota"},{data:p,name:"Load balancers"},{data:m,name:"Storage options"}].reduce(((e,t)=>(t.data.error&&e.push({key:t.name,message:`Error while loading required form data (${t.name})`,response:t.data}),e)),[]),v=(e,a)=>t(e,Object.assign({resourceType:qe.ocmResourceTypeByProduct[r]},a&&{customProperties:{step_name:a}}));return c.pending||p.pending||m.pending||!c.fulfilled&&!c.error?n().createElement(we.NP,null,n().createElement(je.Z,{centered:!0})):E.fulfilled?(l.block((()=>{})),n().createElement(i.Fg,{replace:!0,to:`/details/s/${null===(e=E.cluster.subscription)||void 0===e?void 0:e.id}`})):c.fulfilled&&!g?n().createElement(i.Fg,{replace:!0,to:"/create"}):h.length>0?n().createElement(we.NP,null,n().createElement(Qe.default,{errors:h})):n().createElement(n().Fragment,null,n().createElement(Me.e,{id:"osd-wizard",onClose:()=>a(at.UrlPath.CreateCloud),onStepChange:(e,{name:t},a,l)=>{let n;switch(l){case Le.v_.Next:n=qe.trackEvents.WizardNext;break;case Le.v_.Back:n=qe.trackEvents.WizardBack;break;default:n=qe.trackEvents.WizardLinkNav}v(n,null==t?void 0:t.toString())},footer:n().createElement(dt,{track:()=>v(qe.trackEvents.WizardSubmit)}),nav:{"aria-label":`${at.ariaLabel} steps`},isVisitRequired:!0},n().createElement(ke.H,{name:at.StepName.BillingModel,id:at.StepId.BillingModel},n().createElement(Kt,null)),n().createElement(ke.H,{name:at.StepName.ClusterSettings,id:at.StepId.ClusterSettings,isExpandable:!0,steps:[n().createElement(ke.H,{name:at.StepName.CloudProvider,id:at.StepId.ClusterSettingsCloudProvider,footer:n().createElement(Ra,null)},n().createElement(Oa,null)),n().createElement(ke.H,{name:at.StepName.Details,id:at.StepId.ClusterSettingsDetails},n().createElement(tl,null)),n().createElement(ke.H,{name:at.StepName.MachinePool,id:at.StepId.ClusterSettingsMachinePool},n().createElement(Xe.ClusterSettingsMachinePool,null))]}),n().createElement(ke.H,{name:at.StepName.Networking,id:at.StepId.Networking,isExpandable:!0,steps:[n().createElement(ke.H,{name:at.StepName.Configuration,id:at.StepId.NetworkingConfiguration,isHidden:s===rt.Gcp&&"true"!==o},n().createElement(cl,null)),n().createElement(ke.H,{name:at.StepName.VpcSettings,id:at.StepId.NetworkingVpcSettings,isHidden:!u},n().createElement(Vl,null)),n().createElement(ke.H,{name:at.StepName.ClusterProxy,id:at.StepId.NetworkingClusterProxy,isHidden:!d},n().createElement(zl,null)),n().createElement(ke.H,{name:at.StepName.CidrRanges,id:at.StepId.NetworkingCidrRanges},n().createElement(Cl,null))]}),n().createElement(ke.H,{name:at.StepName.ClusterUpdates,id:at.StepId.ClusterUpdates},n().createElement(Xe.ClusterUpdates,null)),n().createElement(ke.H,{name:at.StepName.Review,id:at.StepId.Review},n().createElement(Xl,null))),n().createElement(Ye.default,{product:r}))},tn=({product:e})=>{const t=(0,m.useDispatch)(),a=(0,ze.j)((e=>e.persistentStorageValues)),l=(0,ze.j)((e=>e.loadBalancerValues)),r=(0,ze.j)((e=>e.userProfile.organization));return(0,Ze.default)(),n().useEffect((()=>((0,Ge.shouldRefetchQuota)(r)&&t((0,Ve.getOrganizationAndQuota)()),a.fulfilled||a.pending||t((0,He.default)()),l.fulfilled||l.pending||t((0,Ue.default)()),()=>{t((0,We.resetCreatedClusterResponse)())})),[t,l.fulfilled,l.pending,r,a.fulfilled,a.pending]),n().createElement(tt.AppPage,{title:at.documentTitle},n().createElement(Pe.Formik,{initialValues:Object.assign(Object.assign({},at.initialValues),e&&{product:e}),initialTouched:at.initialTouched,validate:nt,validateOnChange:!1,onSubmit:e=>{return a=void 0,l=void 0,r=function*(){const a=e[at.FieldId.NodeLabels].some((e=>!!e.key)),l=Ne()(e,[at.FieldId.CidrDefaultValuesEnabled,at.FieldId.AcknowledgePrereq,...a?[]:[at.FieldId.NodeLabels]]);t((()=>(0,Ke.default)(t,{isWizard:!0})(l)))},new((n=void 0)||(n=Promise))((function(e,t){function s(e){try{i(r.next(e))}catch(e){t(e)}}function o(e){try{i(r.throw(e))}catch(e){t(e)}}function i(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(s,o)}i((r=r.apply(a,l||[])).next())}));var a,l,n,r}},n().createElement(n().Fragment,null,n().createElement(Be.default,{title:"Create an OpenShift Dedicated Cluster",breadcrumbs:n().createElement($e.default,{path:at.breadcrumbs})}),n().createElement(we.NP,null,h.default.fakeOSD&&n().createElement(xe.j,{variant:"gold"},"On submit, a fake OSD cluster will be created."),n().createElement(en,null)))))};var an=a(91757),ln=a(33047),nn=a(25830);const rn=(0,m.connect)((e=>({fulfilled:e.entitlementConfig.fulfilled,pending:e.entitlementConfig.pending})),(e=>({createRosaEntitlement:()=>e((0,an.action)(nn.Z,ln.accountsService.createRosaEntitlement()))})))((({fulfilled:e,pending:t,createRosaEntitlement:a})=>(n().useEffect((()=>{e||t||a()}),[]),null)));var sn=a(25822),on=a(30832),un=a(38086),dn=a(30517),cn=a(82069),pn=a(81925),mn=a(39173),fn=a(18029),En=a.n(fn),gn=a(32203),hn=a(70),vn=a(62394),bn=a(69957),_n=a(5),Sn=a(22270),Cn=a(43378),yn=a(47105),On=a(9947),In=a(67880),Rn=a(75106),Tn=a(80315),An=a(34693);const Pn=({data:e,refresh:t,marketplace:a})=>{const l=(e,t,a)=>n().createElement(we.NP,{className:"subscriptions-empty-state"},n().createElement(On.u,null,n().createElement(In.t,{titleText:e,headingLevel:"h4"}),n().createElement(Rn.B,null,t),n().createElement(Tn.O,null,a))),r={account:{emptyTitle:"Unable to retrieve account information",errorTitle:"Unable to retrieve account information",text:"Contact support to verify your account is valid",emptyButton:void 0},ocp:{emptyTitle:"You do not have any clusters",errorTitle:"Unable to retrieve subscription status",text:n().createElement("p",null,"Create a cluster to get started."),emptyButton:n().createElement(u.Link,{to:"/install"},n().createElement(it.zx,null,"Create cluster"))},osd:{emptyTitle:"You do not have any quota",errorTitle:"Unable to retrieve quota information",text:n().createElement("p",null,n().createElement("a",{href:"https://cloud.redhat.com/products/dedicated/contact/",rel:"noreferrer noopener",target:"_blank"},"Contact sales")," ","to get started with OpenShift Dedicated."),emptyButton:void 0},osdmarketplace:{emptyTitle:"Marketplace On-Demand subscriptions not detected",errorTitle:"Unable to retrieve quota information",text:n().createElement("p",null,n().createElement("p",null,"No marketplace subscriptions for OpenShift Dedicated or add-ons were found in your account"),n().createElement("br",null),n().createElement("p",null,n().createElement(it.zx,{component:"a",href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated",variant:"primary",rel:"noopener noreferrer",target:"_blank"},"Enable in Marketplace")),n().createElement("br",null),n().createElement(St.default,{href:ca.default.OCM_DOCS_SUBSCRIPTIONS},"Learn more")),emptyButton:void 0}};let s=r[e.type];a&&"osd"===e.type&&(s=r.osdmarketplace);let o=null;if(e.error){const a=(()=>{const{internalErrorCode:t,errorMessage:a,operationID:l}=e,r={code:t};return An.BANNED_USER_CODE===r.code?(0,An.overrideErrorMessage)(r):n().createElement(n().Fragment,null,n().createElement("p",null,"An error has occurred! Try again or contact support by including this error message:"),n().createElement("q",null,a),n().createElement("p",null,`Operation ID: ${l||"N/A"}`))})(),r=n().createElement(it.zx,{onClick:t},"Try again");o=l(s.errorTitle,a,r)}else e.pending?o=n().createElement(we.NP,null,n().createElement(je.Z,{centered:!0})):e.empty&&(o=l(s.emptyTitle,s.text,s.emptyButton));return o};var Dn=a(84852),Nn=a(12997),Ln=a(20420),wn=a(75472),Mn=a.n(wn);const kn=({rows:e,children:t})=>{const a=Mn()(e,[0,1]).map((e=>({cells:e}))),l=n().createElement(n().Fragment,null,n().createElement("p",null,"Standard: Cluster infrastructure costs paid by Red Hat"),n().createElement("p",null,"CCS: Cluster infrastructure costs paid by the customer")),r=n().createElement(n().Fragment,null,"Plan type ",n().createElement(At.default,{hint:l})),s=["Resource type","Resource name","Availability",{title:"Plan type",transforms:[()=>({children:r})]},"Cluster type",{title:"Used",props:{className:"quota-table-used"}},"Capacity"];return n().createElement(n().Fragment,null,n().createElement(Dn.i,{"aria-label":"Quota Table",cells:s,rows:a},n().createElement(Nn.x,null),n().createElement(Ln.R,null)),t)},{MARKETPLACE:xn}=v.billingModels,jn=(e,t)=>{let a=n().createElement(_n.Lm,null);return e>t?a=n().createElement(bn.ExclamationTriangleIcon,{className:"warn-icon"}):e===t?a=n().createElement(Cn.gh,null):e>=t/2?a=n().createElement(Sn.Ge,null):0===e&&(a=n().createElement(yn.M6,null)),a},Fn={fetchQuotaCost:e=>cn.subscriptionsActions.fetchQuotaCost(e)},Gn=(0,m.connect)((e=>({quotaCost:e.subscriptions.quotaCost})),Fn)((({quotaCost:e,marketplace:t,organizationID:a,fetchQuotaCost:l})=>{var r;const s=n().useCallback((()=>{l(a)}),[a,l]);let o;n().useEffect((()=>{s()}),[]);const i=[];let d=n().createElement(u.Link,{to:"/quota/resource-limits"},"Dedicated (On-Demand Limits)"),c="The summary of all annual subscriptions for OpenShift Dedicated purchased by your organization or granted by Red Hat. For On-Demand resources, see";return t&&(d=n().createElement(St.default,{href:"/openshift/subscriptions/openshift-dedicated",noIcon:!0},"Dedicated (On-Demand)"),c="Active subscriptions allow your organization to use up to a certain number of OpenShift Dedicated clusters. Overall OSD subscription capacity and usage can be viewed in"),e.fulfilled&&(null===(r=e.items)||void 0===r||r.forEach((e=>{if(0===e.consumed&&0===e.allowed)return;const a=p()(e,"related_resources",[]).filter((e=>0!==e.cost));if(0===a.length)return;const l=p()(a[0],"billing_model");let n=p()(a[0],"resource_name");var r,s;t&&l!==xn&&"addon-open-data-hub"!==n||(t||l!==xn&&"addon-open-data-hub"!==n)&&("compute.node"===p()(a[0],"resource_type")&&"byoc"===p()(a[0],"byoc")&&(n="vCPU"),i.push([p()(a[0],"resource_type"),n,{title:(s=p()(a[0],"availability_zone_type"),"multi"===s?"multi-zone":"single"===s?"single zone":"N/A")},(r=p()(a[0],"byoc"),"rhinfra"===r?"Standard":"byoc"===r?"CCS":"any"===r?"Any":"N/A"),En()(p()(a[0],"product")),`${e.consumed} of ${e.allowed}`,{title:jn(e.consumed,e.allowed)}]))}))),o=i.length>0?n().createElement(n().Fragment,null,n().createElement(Et.v,{className:"content-header"},"Quota"),n().createElement(Et.v,{className:"table-container"},n().createElement(kn,{rows:i}))):n().createElement(Pn,{data:{error:e.error,pending:e.pending,type:"osd",empty:!0},refresh:s,marketplace:t}),n().createElement(gn.Z,null,n().createElement(hn.l,null,"OpenShift Dedicated"),n().createElement(vn.e,null,n().createElement(ft.K,{hasGutter:!0},n().createElement(Et.v,null,c," ",d),o)))})),Un="Quota | Red Hat OpenShift Cluster Manager",Vn={fetchAccount:cn.subscriptionsActions.fetchAccount,invalidateClusters:We.clustersActions.invalidateClusters},Hn=(0,m.connect)((e=>({account:e.subscriptions.account})),Vn)((({invalidateClusters:e,fetchAccount:t,account:a,marketplace:l})=>{const r=n().useRef(t);r.current=t;const s=n().useRef(e);if(s.current=e,n().useEffect((()=>{var e,a;t();const l=null===(a=null===(e=window.insights)||void 0===e?void 0:e.ocm)||void 0===a?void 0:a.on("APP_REFRESH",(()=>r.current()));return()=>{s.current(),l&&l()}}),[]),a.fulfilled&&a.data.organization&&a.data.organization.id){const e=l?"Dedicated (On-Demand Limits)":"Dedicated (Annual)",t=a.data.organization.id;return n().createElement(tt.AppPage,{title:Un},n().createElement(pn.Z,null,n().createElement(mn.Z,{title:e,className:"page-title"})),n().createElement(we.NP,{className:"ocm-p-subscriptions"},n().createElement(ft.K,{hasGutter:!0},n().createElement(Et.v,{className:"ocm-l-osd-subscription__section"},n().createElement(Gn,{organizationID:t,marketplace:l})))))}return n().createElement(tt.AppPage,{title:Un},n().createElement(Pn,{data:{error:a.error,pending:a.pending,type:"account",internalErrorCode:a.error?a.internalErrorCode:void 0},refresh:t}))}));var zn=a(51187),Wn=a(45023),qn=a(12518),Bn=a(81249),$n=a.n(Bn);const Zn=e=>{const t=$n().coerce(e);if(!t)return null;const{major:a,minor:l,patch:n,prerelease:r}=t;if(4!==a||!Bl()(r))return null;const s=`https://docs.openshift.com/container-platform/${a}.${l}/release_notes/ocp-${a}-${l}-release-notes.html`;return n>0?s+`#ocp-${a}-${l}-${n}`:s};var Yn=a(86050);var Kn=a(69066);const Qn=({children:e})=>n().createElement("dt",{className:"pf-v5-c-description-list__term pf-v5-u-mt-md"},e);var Jn=a(43025);const Xn=({children:e})=>n().createElement("dd",{className:"pf-v5-c-description-list__description ocm-l-ocp-releases__channel-detail"},n().createElement(Jn.a,{className:"ocm-l-ocp-releases__channel-detail-level"},e)),er=({channel:e,status:t})=>{var a;const[l]=(0,ja.useOCPLatestVersionInChannel)(e),r=e.includes("candidate"),s=(e=>{const t=$n().coerce(e);if(!t)return null;const{major:a,minor:l,prerelease:n}=t;if(4!==a||!Bl()(n))return null;let r="understanding_updates/understanding-update-channels-release.html";return l<14&&(r=l<6?`updating-cluster-between-minor.html#candidate-${a}-${l}-channel`:"understanding-upgrade-channels-release.html#candidate-version-channel_understanding-upgrade-channels-releases"),`https://docs.openshift.com/container-platform/${a}.${l}/updating/${r}`})(l),{major:o,minor:i}=null!==(a=$n().coerce(l))&&void 0!==a?a:{major:"4",minor:"7"},u=Zn(l);return n().createElement(n().Fragment,null,n().createElement(Qn,null,r&&n().createElement(qn.i,{className:"ocm-l-ocp-releases__divider pf-v5-u-my-lg"}),e,r&&n().createElement(At.default,{iconClassName:"pf-v5-u-ml-sm",hint:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-md"},`Candidate channels contain candidate releases for a z-stream\n                  (e.g., ${o}.${i}.z). A candidate channel release contains\n                  all the features of the product, but is not supported until the\n                  release is promoted to the fast, stable, or eus channels.`),s&&n().createElement("p",null,n().createElement(St.default,{href:s,noIcon:!0},"Learn more about candidate channels")))})),n().createElement(Xn,null,l&&n().createElement(Yn.Z,null,"Latest version"," ",u?n().createElement(St.default,{href:u,noIcon:!0},l):l),t&&n().createElement(Kn.default,{status:t})))},tr=()=>{var e,t,a;const[l]=(0,ja.useOCPLifeCycleStatusData)(),r=null===(e=null==l?void 0:l[0])||void 0===e?void 0:e.versions,s=null==r?void 0:r.filter((e=>!e.name.includes("EUS"))),o=null==s?void 0:s.splice(0,6),i=null!==(a=null===(t=null==o?void 0:o[0])||void 0===t?void 0:t.name)&&void 0!==a?a:"4.7",d=e=>n().createElement(n().Fragment,null,"OpenShift ",e);return n().createElement(tt.AppPage,{title:"Releases | Red Hat OpenShift Cluster Manager"},n().createElement(pn.Z,null,n().createElement(mn.Z,{title:"Releases",className:"page-title"})),n().createElement(we.NP,{className:"ocm-p-releases"},n().createElement(ft.K,{hasGutter:!0},n().createElement(Et.v,{className:"ocm-l-ocp-releases__section"},n().createElement(gn.Z,null,n().createElement(hn.l,null,"Latest OpenShift releases"),n().createElement(vn.e,null,n().createElement(ft.K,{hasGutter:!0},n().createElement(Et.v,null,"View general information on the most recent OpenShift Container Platform release versions that you can install. Versions are only supported when released to the fast, stable, or eus channels."," ",n().createElement(ct.J,{"aria-label":"Version help",bodyContent:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-md"},"The most recent versions aren't always available for every cluster. To keep your cluster up to date with the recommended version, run regular updates from the ",n().createElement(u.Link,{to:"/"},"clusters list"),"."),n().createElement("p",null,n().createElement("em",null,"Note:")," Disconnected clusters won't show available recommended updates on the clusters list.")),id:"version-help"},n().createElement(it.zx,{variant:"link",isInline:!0},"I don't see these versions as upgrade options for my cluster."," ",n().createElement(vt.OutlinedQuestionCircleIcon,null)))),n().createElement(zn.r,{hasGutter:!0,minWidths:{sm:"340px"},maxWidths:{default:"340px"}},null==o?void 0:o.map((e=>{var t,a;const l=Zn(e.name);return n().createElement(Wn.L,{key:e.name,"data-testid":`version-${e.name}`},n().createElement(gn.Z,{isFlat:!0,className:"ocm-l-ocp-releases__card"},n().createElement(hn.l,null,n().createElement("div",{className:"ocm-l-ocp-releases__card-title pf-v5-u-mb-sm"},l?n().createElement(St.default,{href:l,noIcon:!0},d(e.name)):d(e.name)),n().createElement(qn.i,{className:"ocm-l-ocp-releases__divider pf-v5-u-mt-lg pf-v5-u-mb-sm"})),n().createElement(vn.e,null,n().createElement("div",{className:"ocm-l-ocp-releases__subheading"},"Channel details"),n().createElement("dl",{className:"ocm-l-ocp-releases__channels"},n().createElement(er,{channel:`stable-${e.name}`,status:e.type}),!(0,Ja.isRestrictedEnv)()&&n().createElement(er,{channel:`fast-${e.name}`,status:e.type}),(e=>{const t=$n().coerce(e);if(!t)return!1;const{minor:a}=t;return a>5&&a%2==0})(e.name)?n().createElement(er,{channel:`eus-${e.name}`,status:null!==(a=null===(s=e.name,t=null==r?void 0:r.find((e=>e.name.includes(`${s} EUS`))))||void 0===t?void 0:t.type)&&void 0!==a?a:e.type}):n().createElement(n().Fragment,null,n().createElement(Qn,null,"-"),n().createElement(Xn,null,`No ${e.name} EUS channel`)),!(0,Ja.isRestrictedEnv)()&&n().createElement(er,{channel:`candidate-${e.name}`})))));var s}))))))),n().createElement(Et.v,{className:"ocm-l-osd-releases__section"},n().createElement(gn.Z,null,n().createElement(hn.l,null,"Channels"),n().createElement(vn.e,null,n().createElement(ft.K,{hasGutter:!0},n().createElement(Et.v,null,`Channels recommend release versions and help control the pace of updates.\n                    Update channels are tied to a minor version of OpenShift Container Platform,\n                    for example ${i}. To update to the next minor release, you may need to change\n                    the channel you're in.`),n().createElement(Et.v,null,n().createElement(St.default,{href:`https://docs.openshift.com/container-platform/${i}/updating/understanding_updates/understanding-update-channels-release.html`,noIcon:!0},"Learn more about updating channels")))))))))};var ar=a(98538),lr=a.n(ar);var nr=a(73029),rr=a(7065),sr=a(43047),or=a(12990),ir=a(44276);const ur=({href:e})=>n().createElement(it.zx,{variant:"primary","data-no-nav-prompt":!0,component:"a",href:e},"View Terms and Conditions"),dr=({error:e,restore:t})=>{var a,l,r;const s=null===(r=null===(l=null===(a=e.data)||void 0===a?void 0:a.details)||void 0===l?void 0:l[0])||void 0===r?void 0:r.legal_terms_url,o=window.location.href,i=(0,ir.Z)(s,o,o);return n().createElement(On.u,{variant:On.I.lg},n().createElement(In.t,{titleText:"This action is blocked.",icon:n().createElement(nr.k,{icon:sr.ExclamationCircleIcon,color:or.global_danger_color_100.value}),headingLevel:"h4"}),n().createElement(Rn.B,null,"You must accept the Terms and Conditions in order to make changes to this cluster. Your cluster will remain unaffected until then. Once you accept the terms, you will need to retry the action that was blocked."),n().createElement(Tn.O,null,n().createElement(ur,{href:i}),n().createElement(rr.U,null,n().createElement(it.zx,{variant:"link",onClick:t},"Go back to previous page"))))};var cr=a(40748);const pr={showApiError:cr.eo.showApiError,clearApiError:cr.eo.clearApiError},mr=(0,m.connect)((e=>({apiError:e.apiError})),pr)((({apiRequest:e,showApiError:t,children:a,apiError:l,clearApiError:r})=>{const s=(0,i.TH)();if(n().useEffect((()=>{const a=((e,t)=>{const a=e.interceptors.response.use((e=>e),(e=>(lr().isAxiosError(e)&&e.response&&(0,An.hasOwnErrorPage)(e.response)&&t(e.response),Promise.reject(e))));return()=>{e.interceptors.response.eject(a)}})(e,t);return()=>{a(),r()}}),[e,r,s]),l&&(0,An.hasOwnErrorPage)(l)){const e=(0,An.getInternalErrorCode)(l);if(e===An.TERMS_REQUIRED_CODE)return n().createElement(dr,{error:l,restore:r});console.error(`no defined error page: code=${e}`)}return a}));var fr=a(53231),Er=a(93149),gr=a(49734),hr=a(73960);const vr=(e,t,a)=>E.Z.postForm("/fedramp-customer-interest/incident",{file:e,contractID:a,acknowledgement:JSON.stringify(t)},{headers:{"Content-Type":"multipart/form-data"},baseURL:h.default.configData.fedrampGateway});var br=a(7865);const _r=10485760,Sr=(0,hr.humanizeValueWithUnit)(_r,"B").value,Cr=({title:e,onSubmitSuccess:t,hasGovEmail:a})=>{const[n,r]=l.useState(!1),[s,o]=l.useState(!1),[i,u]=l.useState(!1),[d,c]=l.useState(),[p,m]=l.useState(),[f,E]=l.useState(),[g,v]=l.useState(!1),[b,_]=l.useState(!1),[S,C]=l.useState(),y=n&&s&&i;return l.createElement(gn.Z,{style:{maxWidth:"80rem",borderTopColor:"#e00",borderTopStyle:"solid"}},l.createElement(hn.l,null,l.createElement(pt.k,{alignContent:{default:"alignContentCenter"},direction:{default:"column"},justifyContent:{default:"justifyContentCenter"},alignItems:{default:"alignItemsCenter"}},l.createElement(mt.B,{style:{width:"5rem"}},l.createElement(fr.H,{src:br,alt:"Red Hat Logo"})),l.createElement(mt.B,null,l.createElement(da.D,null,l.createElement(ht.x,{component:ht.q.h1},e))))),l.createElement(vn.e,null,l.createElement(ft.K,{hasGutter:!0},l.createElement(Et.v,null,l.createElement(da.D,null,l.createElement(ht.x,{component:ht.q.p},"Red Hat OpenShift Service on AWS (ROSA) and Red Hat Insights in the GovCloud Region have been authorized (agency) under the Federal Risk Assessment and Management Program (FedRAMP) High and DoD Cloud Computing Security Requirements Guide (SRG)."),l.createElement(ht.x,{component:ht.q.p},"Federal and government agencies can be granted access to the FedRAMP environment without further verification. However, commercial organizations and FISMA R&D universities will need to provide documentation to show that they are supporting a government contract/grant or in the process of bidding on a government contract/grant (RFP, RFI, pre-bid stage), confirmation of U.S. Person only access at the root level and agreement to the FedRAMP Rules of Behavior."),l.createElement(ht.x,{component:ht.q.p},"Upon submission, this form will be processed by Red Hat. If further information is required you will receive a follow up email, or you will receive instructions on how to access the service. By checking the boxes below you confirm that:"))),l.createElement(Et.v,null,l.createElement(Er.X,{label:"Requestor is U.S. Person as defined by the International Traffic in Arms Regulations, 22 CFR 120.62.",isChecked:n,onChange:(e,t)=>r(t),id:"citizen-checkbox"}),l.createElement(Er.X,{label:"Requestor will use the service to support a U.S. government contract and/or grant.",isChecked:s,onChange:(e,t)=>o(t),id:"check-checkbox"}),l.createElement(Er.X,{label:"Requestor will only authorize U.S. Persons to manage and access root account keys to the service.",isChecked:i,onChange:(e,t)=>u(t),id:"training-checkbox"})),!a&&l.createElement(Et.v,null,l.createElement(Rt.c,{label:l.createElement(l.Fragment,null,"Contract ID, Award ID or RFP Number from the"," ",l.createElement("a",{href:"https://www.usaspending.gov/search",target:"_blank",rel:"noreferrer noopener"},"U.S. Spending government")," ","website.")},l.createElement(Mt.oi,{value:S,onChange:(e,t)=>C(t),isRequired:!0}))),l.createElement(Et.v,null,l.createElement(Rt.c,{label:l.createElement(da.D,null,l.createElement(ht.x,{component:ht.q.p},"Please download the"," ",l.createElement(it.zx,{variant:"link",isInline:!0},l.createElement("a",{href:`${h.default.configData.fedrampS3}/fedramp-rules-of-behavior.pdf`,target:"_blank",rel:"noopener noreferrer"},"FedRAMP Rules of Behavior document."))," ","Read the document and attest to the requirements by signing and uploading it to the designated area below."))},l.createElement(Tt.p,{id:"doc-upload",value:d,filename:null==d?void 0:d.name,filenamePlaceholder:"Drag and drop a file or upload one",dropzoneProps:{accept:{pdf:[".pdf"]},maxSize:_r,onDropRejected:()=>{E(`File must be pdf and has ${Sr} Mb or less.`)}},onFileInputChange:(e,t)=>{t.size>_r?(E(`File size is too big. Upload a new file ${Sr} Mb or less`),c(void 0)):(E(void 0),c(t))},onClearClick:()=>{E(void 0),c(void 0)},onReadFailed:(e,t)=>{E(t.message),_(!1)},onReadStarted:()=>{E(void 0),_(!0)},onReadFinished:()=>{_(!1)},isDisabled:b,isLoading:b,browseButtonText:"Upload"}))))),l.createElement(gr.e,null,l.createElement(ft.K,{hasGutter:!0},(!!p||!!f)&&l.createElement(Et.v,null,l.createElement(Jt.b,{isInline:!0,variant:"danger",title:"An error occured."},p||f)),l.createElement(Et.v,null,l.createElement($l.b,null,l.createElement(it.zx,{variant:"primary",isDisabled:!y||g||!!f||!d,onClick:()=>{return e=void 0,a=void 0,r=function*(){if(d){v(!0),m(void 0);try{yield vr(d,{isUSPerson:n,authPerson:i,govContract:s},S),t()}catch(e){const t=e;m(`${t.code}: ${t.message}`)}finally{v(!1)}}},new((l=void 0)||(l=Promise))((function(t,n){function s(e){try{i(r.next(e))}catch(e){n(e)}}function o(e){try{i(r.throw(e))}catch(e){n(e)}}function i(e){var a;e.done?t(e.value):(a=e.value,a instanceof l?a:new l((function(e){e(a)}))).then(s,o)}i((r=r.apply(e,a||[])).next())}));var e,a,l,r},isLoading:g},g?"Submitting":"Submit"))))))};var yr=a(8590),Or=a(66822),Ir=a(68778);const Rr=e=>l.createElement(yr.J,Object.assign({},e),l.createElement(Ir.CheckCircleIcon,{color:Or.K.value})),Tr=()=>l.createElement(On.u,null,l.createElement(In.t,{titleText:"Submission confirmation",icon:l.createElement(nr.k,{icon:Rr}),headingLevel:"h4"}),l.createElement(Rn.B,null,"Thank you for completing the GovCloud access form.",l.createElement("br",null),"You will receive an email in 3-5 business days about the next steps."));var Ar=a(15265);const Pr=e=>l.createElement(yr.J,null,l.createElement(sr.ExclamationCircleIcon,Object.assign({},e,{color:or.global_danger_color_100.value}))),Dr=({redirectURL:e})=>l.createElement(On.u,null,l.createElement(In.t,{titleText:"Signed agreement not detected",icon:l.createElement(nr.k,{icon:Pr}),headingLevel:"h4"}),l.createElement(Rn.B,null,"You need to sign the Enterprise agreement and Appendix4 to proceed",l.createElement("br",null),l.createElement(it.zx,{variant:"link",icon:l.createElement(yr.J,null,l.createElement(Ar.ExternalLinkAltIcon,null)),iconPosition:"right",isInline:!0,onClick:()=>window.location.assign(`${e}&redirect=${window.location.href}`)},"Sign them here."))),Nr=e=>l.createElement(yr.J,Object.assign({},e),l.createElement(sr.ExclamationCircleIcon,{color:or.global_danger_color_100.value})),Lr=({message:e})=>l.createElement(On.u,null,l.createElement(In.t,{titleText:"Failed to verify GovCloud prerequisites",icon:l.createElement(nr.k,{icon:Nr}),headingLevel:"h4"}),l.createElement(Rn.B,null,l.createElement(da.D,{className:"pf-v5-u-mb-md"},e),l.createElement(it.zx,{variant:"link",iconPosition:"right",isInline:!0,onClick:()=>window.location.reload()},"Try refreshing the page.")));const wr=/\.(gov|mil)$/,Mr="Access request for Red Hat OpenShift Service on AWS (ROSA) FedRAMP",kr=()=>{const[e,t]=l.useState(!1),[a,n,r,s]=(()=>{const[e,t]=l.useState(!1),[a,n]=l.useState(""),[r,s]=l.useState(),[o,i]=l.useState(!0);return l.useEffect((()=>{var e,a,l,r;e=void 0,a=void 0,r=function*(){i(!0);try{const e=yield ln.authorizationsService.selfTermsReview({event_code:"govCloud",site_code:"cloudServices"});t(!e.data.terms_required),n(e.data.redirect_url||"")}catch(e){s("Failed to detect Enterprise agreement & Appendix 4 status.")}finally{i(!1)}},new((l=void 0)||(l=Promise))((function(t,n){function s(e){try{i(r.next(e))}catch(e){n(e)}}function o(e){try{i(r.throw(e))}catch(e){n(e)}}function i(e){var a;e.done?t(e.value):(a=e.value,a instanceof l?a:new l((function(e){e(a)}))).then(s,o)}i((r=r.apply(e,a||[])).next())}))}),[]),[e,a,o,r]})(),[o,i,u]=(()=>{const[e,t]=l.useState(!0),[a,n]=l.useState(),[r,s]=l.useState(!1);return l.useEffect((()=>{var e,a,l,r;e=void 0,a=void 0,r=function*(){try{const e=yield ln.accountsService.getCurrentAccount();s(wr.test(e.data.email||""))}catch(e){const t=e;n(`Could not retrieve user's email. ${t.code}: ${t.message}`)}finally{t(!1)}},new((l=void 0)||(l=Promise))((function(t,n){function s(e){try{i(r.next(e))}catch(e){n(e)}}function o(e){try{i(r.throw(e))}catch(e){n(e)}}function i(e){var a;e.done?t(e.value):(a=e.value,a instanceof l?a:new l((function(e){e(a)}))).then(s,o)}i((r=r.apply(e,a||[])).next())}))}),[]),[r,e,a]})(),d=s||u,c=r||i;let p;return p=d?l.createElement(Lr,{message:d}):c?l.createElement(Zl.$,null):a?e?l.createElement(Tr,null):l.createElement(Cr,{title:Mr,onSubmitSuccess:()=>t(!0),hasGovEmail:o}):l.createElement(Dr,{redirectURL:n}),l.createElement(tt.AppPage,{title:`${Mr} | Red Hat OpenShift Cluster Manager`},l.createElement(we.NP,{className:"govcloud-page"},p))};var xr=a(55204),jr=a(12599),Fr=a(58995),Gr=a(49596);const Ur=()=>{const e=(0,i.TH)(),t=(0,i.s0)(),a=n().useRef({APP_REFRESH:[]});return n().useEffect((()=>{const l=insights.chrome.on("APP_NAVIGATION",(l=>{var n;const r=null===(n=l.domEvent)||void 0===n?void 0:n.href;if(r&&r.startsWith(Gr.ocmAppPath)){const l=(0,Gr.removeOcmBaseName)(r);(0,jr.LX)(l,e.pathname)?a.current.APP_REFRESH.forEach((e=>e())):setTimeout((()=>t(l,{replace:!0})),0)}}));return insights.ocm={on:(e,t)=>"APP_REFRESH"!==e?(console.error(`Invalid event - ${e}`),()=>{}):((e,t)=>{const l=a.current[e];let n=()=>{};if(!l.includes(t)){l.push(t);const e=l.length-1;n=()=>l.splice(e,1)}return n})(e,t)},()=>{null==l||l(),(e=>{insights.chrome.appNavClick((0,Fr.Z)(e.pathname))})(e),delete insights.ocm}}),[e,t]),null};var Vr=a(77994),Hr=a(25967);const zr={selfTermsReview:Ve.selfTermsReview},Wr=(0,m.connect)((e=>({selfTermsReviewResult:e.userProfile.selfTermsReviewResult})),zr)((({selfTermsReview:e,selfTermsReviewResult:t,children:a,gobackPath:l})=>{const r=(0,i.s0)(),s=(0,i.TH)();n().useEffect((()=>{e()}),[]);const o=n().useCallback((()=>{r(l)}),[r,l]),u=n().useCallback((e=>{const t=window.location.host+s.pathname,a=window.location.host+l;return(0,ir.Z)(e,t,a)}),[s.pathname,l]);if(t.error)return n().createElement(Qe.default,{response:t});if(!t.fulfilled)return n().createElement(On.u,null,n().createElement(Rn.B,null,n().createElement(je.Z,{centered:!0})));if(!t.terms_required&&!t.terms_available)return a;const d=t.terms_required?"Terms and Conditions":"Updated Terms and Conditions",c=t.terms_required?n().createElement(da.D,null,n().createElement(ht.x,{component:ht.q.p},"Red Hat has Terms and Conditions for its managed services."),n().createElement(ht.x,{component:ht.q.p},n().createElement("b",null,"If you do not accept the terms, you will not be able to create new clusters or to alter existing clusters.")," ","Existing clusters will not be affected, however access will be read-only.")):n().createElement(da.D,null,n().createElement(ht.x,{component:ht.q.p},"Red Hat has updated the Terms and Conditions for its managed services.")),p=u(t.redirect_url),m=[n().createElement(ur,{href:p,key:"view-terms-and-conditions"}),n().createElement(it.zx,{variant:"secondary",key:"cancel-terms-and-conditions",onClick:o},"Cancel")];return n().createElement(n().Fragment,null,n().createElement(Hr.default,{title:d,className:"terms-and-conditions-guard-modal",onClose:o,actions:m},c),n().cloneElement(n().Children.only(a),{blockedByTerms:!0}))}));const qr=e=>{var{component:t,render:a,gobackPath:l="/"}=e,r=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["component","render","gobackPath"]);let s;return t&&(s=e=>n().createElement(Wr,{gobackPath:l},n().createElement(t,Object.assign({},e)))),a&&(s=e=>n().createElement(Wr,{gobackPath:l},a(e))),n().createElement(u.CompatRoute,Object.assign({},r,{render:s}))};var Br=a(64487),$r=a(16488),Zr=a(17998),Yr=a(69695),Kr=a.n(Yr);const Qr=()=>n().createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzOCIgaGVpZ2h0PSIzOCIgdmlld0JveD0iMCAwIDM4IDM4Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZmZmO30uYntmaWxsOiNlMDA7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik0yOCwxSDEwYTksOSwwLDAsMC05LDlWMjhhOSw5LDAsMCwwLDksOUgyOGE5LDksMCwwLDAsOS05VjEwYTksOSwwLDAsMC05LTlaIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xMC4wOTg2MywyMi4xODk5NGEuNjI1LjYyNSwwLDAsMS0uMjU0ODgtMS4xOTU4bDIuNzQwNzItMS4yMjAyMWEuNjI0OTIuNjI0OTIsMCwxLDEsLjUwODc5LDEuMTQxNmwtMi43NDA3MiwxLjIyMDIxQS42MTkuNjE5LDAsMCwxLDEwLjA5ODYzLDIyLjE4OTk0WiIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNOC44MzIsMjUuNDkwNzJhLjYyNS42MjUsMCwwLDEtLjI1NDg4LTEuMTk1OGwyLjc0MDIzLTEuMjIwMjFhLjYyNDkyLjYyNDkyLDAsMSwxLC41MDg3OSwxLjE0MTZMOS4wODU5NCwyNS40MzY1MkEuNjE3MzEuNjE3MzEsMCwwLDEsOC44MzIsMjUuNDkwNzJaIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yNi40Mjc3MywxNC45MTk0M2EuNjI0NzMuNjI0NzMsMCwwLDEtLjI1MzktMS4xOTU4TDI4LjkxNSwxMi41MDM0MmEuNjI0NzIuNjI0NzIsMCwxLDEsLjUwNzgxLDEuMTQxNmwtMi43NDEyMSwxLjIyMDIxQS42MTU2My42MTU2MywwLDAsMSwyNi40Mjc3MywxNC45MTk0M1oiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTI1LjE2MTEzLDE4LjIyMDIxYS42MjQ3My42MjQ3MywwLDAsMS0uMjUzOS0xLjE5NThsMi43NDAyMy0xLjIyMDIxYS42MjQ3Mi42MjQ3MiwwLDEsMSwuNTA3ODEsMS4xNDE2TDI1LjQxNSwxOC4xNjZBLjYxNTgxLjYxNTgxLDAsMCwxLDI1LjE2MTEzLDE4LjIyMDIxWiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNMTguOTUxNjYsMjguNjMzNzlBOS41OTMsOS41OTMsMCwwLDEsMTIuODI5MSwyNi40MTY1YS42MjUuNjI1LDAsMCwxLC43OTU5LS45NjM4Niw4LjM3OTQzLDguMzc5NDMsMCwwLDAsMTMuNzEyODktNi4xMDQ1LjYxMDA2LjYxMDA2LDAsMCwxLC42NTAzOS0uNTk4MTQuNjI0OS42MjQ5LDAsMCwxLC41OTc2Ni42NTA4OCw5LjY1NTIxLDkuNjU1MjEsMCwwLDEtOS42MzQyOCw5LjIzMjkxWiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNOS45NzQ2MSwxOS4yMjYwN2wtLjAyODgxLS4wMDA0OGEuNjI1MzkuNjI1MzksMCwwLDEtLjU5NjE5LS42NTI4NEE5LjYyOTEsOS42MjkxLDAsMCwxLDI1LjEwNTQ3LDExLjU4MzVhLjYyNTMxLjYyNTMxLDAsMCwxLS43OTY4OC45NjM4Niw4LjM3ODE1LDguMzc4MTUsMCwwLDAtMTMuNzEsNi4wODJBLjYyNTMyLjYyNTMyLDAsMCwxLDkuOTc0NjEsMTkuMjI2MDdaIi8+PC9zdmc+",alt:"Openshift","aria-hidden":"true",style:{height:"var(--pf-v5-global--icon--FontSize--xl)"}}),Jr="https://red.ht/rosa-slack",Xr="/create/rosa/getstarted",es=()=>n().createElement(pn.Z,null,n().createElement($e.default,{path:[{label:"Overview",path:"/overview"},{label:"Red Hat OpenShift Service on AWS (ROSA)",path:"/overview/rosa"},{label:"Hands-on Experience"}]}),n().createElement(pt.k,{direction:{default:"row"},flexWrap:{default:"nowrap"}},n().createElement(mt.B,{alignSelf:{default:"alignSelfFlexStart"}},n().createElement(Qr,null)),n().createElement(qn.i,{orientation:{default:"vertical"}}),n().createElement(mt.B,null,n().createElement(ft.K,{hasGutter:!0},n().createElement(Et.v,null,n().createElement(da.D,null,n().createElement(ht.x,{component:"h2"},"Red Hat OpenShift Service on AWS Hands-on Experience"))),n().createElement(Et.v,null,n().createElement(ht.x,null,"Red Hat OpenShift Service on AWS (ROSA) is a fully-managed turnkey application platform that allows organizations to quickly build, deploy, and scale applications in a native AWS environment. With one click, start your free 8-hour hands-on experience in a ROSA cluster.")),n().createElement(Et.v,null,n().createElement(St.default,{href:Jr},"Have a question? Join our slack community"))))));var ts=a(31611),as=a(14386),ls=a(78933),ns=a(39841),rs=a(3314),ss=a(98614),os=a(84213),is=a(5920);const us=a.p+"images/RosaHandsOnIcon.41dbfcbb409e199e..svg",ds=()=>n().createElement("img",{src:us,alt:"Preview Rosa hands-on","aria-hidden":"true",style:{width:"300px",height:"auto"}});var cs;!function(e){e.Available="available",e.Deploying="deploying",e.Failed="failed",e.Started="started",e.Unavailable="unavailable",e.Requested="requested"}(cs||(cs={}));const ps="rosa-handson-main-card",ms=({children:e,popoverContent:t,popoverHeader:a})=>n().createElement(ml.H,{icon:n().createElement(yr.J,{size:"md"},n().createElement(ss.nQ,{color:is.v.value})),style:{alignItems:"baseline"}},n().createElement(ht.x,null,e,t&&n().createElement(n().Fragment,null,"",n().createElement(ct.J,{bodyContent:t,headerContent:a,maxWidth:"40rem",appendTo:()=>document.getElementById(ps)},n().createElement(it.zx,{icon:n().createElement(os.HelpIcon,null),variant:"link",isInline:!0}))))),fs=({demoExperience:e})=>n().createElement(pl.aV,{isPlain:!0,id:ps},n().createElement(ms,{popoverContent:n().createElement(n().Fragment,null,"You may launch a demo up to ",n().createElement("strong",null,e.quota.limit," times")," total. If you have questions, you can join the"," ",n().createElement(St.default,{href:Jr},"ROSA community Slack channel"),"."),popoverHeader:"What to expect"},"Access to a free hands-on experience of ROSA that will last for ",8," hours."),n().createElement(ms,{popoverContent:"Your time will not start until after the cluster is provisioned.",popoverHeader:"Getting started"},"One-click deployment of a ROSA cluster in a demo environment."),n().createElement(ms,null,"A view into a fully managed turnkey application platform with integrated services and tools,",n().createElement("br",null),"fully backed by a global team of site reliability engineers (SREs)."),n().createElement(ms,null,"Step-by-step guided content on how to get started and build, deploy and scale an application on ROSA.")),Es=e=>n().createElement(u.Link,Object.assign({},e,{to:Xr})),gs=({demoExperience:e,onRequestCluster:t})=>{let a,l=n().createElement(fs,{demoExperience:e}),r="What you get with this experience",s=!0;switch(e.status){case cs.Started:r="Your experience is ready",l="Get started with OpenShift with a guided walkthrough of ROSA.",a=n().createElement(St.default,{href:e.experience_url||"",isButton:!0,variant:"primary",noIcon:!0,customTrackProperties:{link_name:"launch-rosa-hands-on-experience"}},"Access experience"),s=!1;break;case cs.Deploying:case cs.Requested:a=n().createElement(la.u,{content:"We are currently getting your ROSA experience ready. This process may take up to 1 hour."},n().createElement(it.zx,{variant:"primary",isLoading:!0,isAriaDisabled:!0},"Provisioning cluster"));break;case"quota-exceeded":a=n().createElement(it.zx,{variant:"primary",href:Xr,component:Es},"Create a ROSA cluster"),r="Take the next step. Create your own ROSA Cluster!",l=n().createElement(n().Fragment,null,"You've successfully completed the ROSA Hands on Experience. Now, it's time to dive even deeper",n().createElement("br",null),"into the world of ROSA by creating your very own cluster on your AWS account."),s=!1;break;default:a=n().createElement(it.zx,{variant:"primary",onClick:t,isDisabled:e.status===cs.Unavailable},"Request experience")}return n().createElement(gn.Z,null,n().createElement(as.O,null,n().createElement(hn.l,null,n().createElement(gt.D,{headingLevel:"h4"},r))),n().createElement(vn.e,null,n().createElement(ia.r,null,n().createElement(ua.P,{span:9},l),s&&n().createElement(ua.P,{span:3,style:{justifySelf:"right"}},n().createElement(ds,null)))),n().createElement(gr.e,null,n().createElement(ls.o,null,n().createElement(ns.c,{style:{paddingLeft:"unset"}},n().createElement(rs.E,null,a),n().createElement(rs.E,null,n().createElement(St.default,{href:"https://www.redhat.com/en/technologies/cloud-computing/openshift/aws",isButton:!0,variant:"link"},"Learn more about ROSA"))))))};var hs=a(40843),vs=a(83084),bs=a(75521),_s=a(8128),Ss=a(62653);const Cs=[{title:"Red Hat OpenShift Service on AWS learning hub",link:"https://www.redhat.com/en/technologies/cloud-computing/openshift/aws/learn",label:"Documentation"},{title:"Red Hat OpenShift Service on AWS (ROSA) interactive walkthrough",link:"https://www.redhat.com/en/products/interactive-walkthrough/install-rosa",label:"Walkthrough"},{title:"Watch our Red Hat OpenShift Service on AWS video series",link:"https://www.redhat.com/en/about/videos/rosa-lightboard",label:"Video"}],ys=()=>n().createElement(we.NP,{style:{paddingBottom:"unset",paddingTop:"unset"}},n().createElement(vs.i,{"aria-label":"Recommended content table"},Cs.map((e=>n().createElement(bs.p,null,n().createElement(_s.Tr,null,n().createElement(Ss.Td,{span:6},e.title),n().createElement(Ss.Td,{span:3,style:{textAlign:"center"}},n().createElement(hs._,{color:"orange",style:{width:"120px",display:"block"}},e.label)),n().createElement(Ss.Td,{span:3,style:{textAlign:"right"}},n().createElement(St.default,{href:e.link},"Learn more")))))))),Os=e=>l.createElement(yr.J,Object.assign({},e),l.createElement(sr.ExclamationCircleIcon,{color:or.global_danger_color_100.value})),Is=({message:e})=>l.createElement(On.u,null,l.createElement(In.t,{titleText:"Failed to fetch demo experience.",icon:l.createElement(nr.k,{icon:Os}),headingLevel:"h4"}),l.createElement(Rn.B,null,l.createElement(da.D,{className:"pf-v5-u-mb-md"},e),l.createElement(it.zx,{variant:"link",iconPosition:"right",isInline:!0,onClick:()=>window.location.reload()},"Try refreshing the page."))),Rs=()=>n().createElement(it.zx,{variant:"link",isInline:!0,"data-analytics-id":"contact-support"},"contact support"),Ts=()=>n().createElement(it.zx,{variant:"link",isInline:!0,"data-analytics-id":"qualify-rosa-he"},"additional information"),As=e=>e instanceof Error?e.message:"string"==typeof e?e:"Unexpected error",Ps=({demoExperience:e})=>{const t=new Date(e.scheduled_delete_timestamp||"").getTime()-Date.now(),a=e.quota.limit-e.quota.current;let l;switch(e.status){case"quota-exceeded":l=n().createElement(Jt.b,{title:n().createElement(n().Fragment,null,"After ",e.quota.limit," launches, you can create ROSA clusters using a pay-as-you-go option. If you have any questions, you can ",n().createElement(Rs,null),"."),isInline:!0,variant:"info"});break;case cs.Started:l=n().createElement(Jt.b,{title:n().createElement(n().Fragment,null,"Your current experience demo will end in"," ",Kr()(t,{units:["h","m"],maxDecimalPoints:2,round:!0,delimiter:" and "}),". You have ",a," experience launches remaining."),variant:"info",isInline:!0});break;case cs.Failed:l=n().createElement(Jt.b,{title:n().createElement(n().Fragment,null,"We're experiencing an error on our end. This does not affect your quota. Try again and if this issue persists, ",n().createElement(Rs,null),"."),variant:"danger",isInline:!0});break;case cs.Unavailable:{const t="unauthorized"===e.unavailable_reason?n().createElement(n().Fragment,null,"Let's get you access to the Hands-on Experience. To continue, we need some"," ",n().createElement(Ts,null),"."):n().createElement(n().Fragment,null,"The demo system is currently unavailable. If this issue persists, you can"," ",n().createElement(Rs,null),".");l=n().createElement(Jt.b,{title:t,variant:"danger",isInline:!0});break}case cs.Available:l=e.quota.current>0?n().createElement(Jt.b,{variant:"info",isInline:!0,title:n().createElement(n().Fragment,null,"You have ",a," launches remaining. If you have any questions, you can"," ",n().createElement(Rs,null),".")}):null;break;default:l=null}return l},Ds=({error:e,loading:t,requestError:a,demoExperience:l,onRequestCluster:r})=>e?n().createElement(Is,{message:As(e)}):n().createElement(ts.default,null,n().createElement(es,null),n().createElement(Ps,{demoExperience:l}),a?n().createElement(Jt.b,{title:"Failed to request an experience",variant:"danger",isInline:!0},As(e)):null,n().createElement(n().Fragment,null,n().createElement(we.NP,null,t?n().createElement(gn.Z,null,n().createElement(vn.e,{style:{height:"200px"}},n().createElement(Zr.O,{height:"100%",screenreaderText:"Loading Rosa handson demo experience"}))):n().createElement(gs,{onRequestCluster:r,demoExperience:l})),n().createElement(we.NP,{style:{paddingTop:"unset"}},n().createElement(da.D,null,n().createElement(ht.x,{component:"h3"},"Recommended content"))),n().createElement(ys,null)));const Ns=e=>e.status===cs.Unavailable&&e.quota.current>=e.quota.limit?"quota-exceeded":e.status,Ls="/demoExperience/rosa-hands-on",ws=()=>{return e=void 0,t=void 0,l=function*(){const e=yield E.Z.get(Ls,{baseURL:h.default.configData.demoExperience});return Object.assign(Object.assign({},e),{data:(t=e.data,Object.assign(Object.assign({},t),{status:Ns(t)}))});var t},new((a=void 0)||(a=Promise))((function(n,r){function s(e){try{i(l.next(e))}catch(e){r(e)}}function o(e){try{i(l.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}i((l=l.apply(e,t||[])).next())}));var e,t,a,l},Ms=()=>E.Z.post(Ls,{},{baseURL:h.default.configData.demoExperience});var ks=function(e,t,a,l){return new(a||(a=Promise))((function(n,r){function s(e){try{i(l.next(e))}catch(e){r(e)}}function o(e){try{i(l.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}i((l=l.apply(e,t||[])).next())}))};const xs=5e3;const js=()=>{const e=(0,Fe.default)(),{demoExperience:t,initializing:a,initializeError:l,restartPolling:r}=(()=>{const[e,t]=n().useState({quota:{}}),[a,l]=n().useState(!1),[r,s]=n().useState(),o=n().useRef(),i=n().useRef(0),u=n().useRef(-1),d=e=>(null==e?void 0:e.status)===cs.Available||(null==e?void 0:e.status)===cs.Failed||(null==e?void 0:e.status)===cs.Unavailable||"quota-exceeded"===(null==e?void 0:e.status),c=()=>{o.current&&(window.clearInterval(o.current),o.current=null),u.current=-1},p=e=>ks(void 0,void 0,void 0,(function*(){u.current=0;const a=window.setInterval((()=>ks(void 0,void 0,void 0,(function*(){u.current+=1;const a=u.current;try{const{data:l}=yield ws();if((e=>e!==u.current)(a))return;t(l),d(l)?c():e===xs&&5===u.current&&(c(),p(3e4))}catch(e){if(a!==u.current)return;0===i.current&&Br.Tb(e),i.current+=1}}))),e);o.current=a}));return n().useEffect((()=>(ks(void 0,void 0,void 0,(function*(){l(!0);try{const{data:e}=yield ws();t(e),d(e)||p(xs)}catch(e){Br.Tb(e),s(e)}finally{l(!1)}})),()=>c())),[]),{demoExperience:e,initializing:a,initializeError:r,restartPolling:e=>{c(),t(e),p(xs)}}})(),[s,o]=n().useState(),[i,u]=n().useState(!1);return n().createElement(tt.AppPage,{title:"ROSA hands-on experience"},n().createElement($r.T,null,n().createElement(Ds,{requestError:s,error:l,loading:a||i,demoExperience:t,onRequestCluster:()=>{return t=void 0,a=void 0,n=function*(){try{u(!0);const t=yield Ms();u(!1),r(t.data),o(null),e(qe.trackEvents.RequestRosaHandsOnExperience)}catch(e){Br.Tb(e),o(e),u(!1)}},new((l=void 0)||(l=Promise))((function(e,r){function s(e){try{i(n.next(e))}catch(e){r(e)}}function o(e){try{i(n.throw(e))}catch(e){r(e)}}function i(t){var a;t.done?e(t.value):(a=t.value,a instanceof l?a:new l((function(e){e(a)}))).then(s,o)}i((n=n.apply(t,a||[])).next())}));var t,a,l,n}})))};var Fs=a(12549),Gs=a(72135);const Us=n().createElement($e.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Oracle Cloud Infrastructure (virtual machines)"}]}),Vs=n().createElement(n().Fragment,null,"For",n().createElement(St.default,{href:ca.default.INSTALL_GENERIC_NON_TESTED_PLATFORMS,stopClickPropagation:!0},"non-tested platforms")),Hs=()=>n().createElement(tt.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Oracle Cloud Infrastructure (virtual machines)"},n().createElement(Gs.InstructionsChooserPageTitle,{cloudName:"Oracle Cloud Infrastructure (virtual machines)",breadcrumbs:Us}),n().createElement(we.NP,null,n().createElement(Fs.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:ca.default.INSTALL_ASSISTED_LEARN_MORE,hideIPI:!0,ipiPageLink:"",hideUPI:!0,upiPageLink:"",agentBasedPageLink:"/install/platform-agnostic/agent-based",agentBasedLearnMoreLink:ca.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:[Vs,"For air-gapped/restricted networks"],ai:[Vs],upi:[Vs]},name:"oracle-cloud"})));var zs=a(11862),Ws=a(9418),qs=a(13126),Bs=a(43200),$s=a(72457),Zs=a(74092),Ys=a(38611);const Ks=({isRosa:e,SSOLogin:t})=>n().createElement(n().Fragment,null,n().createElement(ht.x,{component:"p"},`Red Hat OpenShift ${e?"Service on AWS":"Cluster Manager"} is a managed service that makes it easy for you to use OpenShift ${e?"on AWS":""} without needing to install, operate or upgrade your own OpenShift (Kubernetes) cluster.`),!t&&n().createElement(n().Fragment,null,n().createElement(gt.D,{headingLevel:"h3"},"Your API token"),n().createElement(ht.x,{component:"p"},"Use this API token to authenticate against your Red Hat OpenShift Cluster Manager account.")));var Qs=a(41005),Js=a(13736);const Xs=({isRosa:e,commandName:t,commandTool:a})=>n().createElement(ft.K,{hasGutter:!0},n().createElement(Et.v,null,n().createElement(gn.Z,{className:"ocm-c-api-token__card"},n().createElement(hn.l,null,n().createElement(gt.D,{headingLevel:"h2"},"SSO Login")),n().createElement(vn.e,{className:"ocm-c-api-token__card--body"},n().createElement(da.D,null,n().createElement(Ks,{isRosa:e,SSOLogin:!0})),n().createElement(da.D,{className:"pf-v5-u-mt-lg"},n().createElement(pl.aV,{component:"ol"},n().createElement(ml.H,null,"Download and install the ",n().createElement("code",null,t)," command-line tool:"," ",n().createElement(ht.x,{component:"p"}),n().createElement(Js.default,{tool:a,channel:ca.channels.STABLE}),n().createElement(ht.x,{component:"p"})),n().createElement(ml.H,null,"To authenticate, run this command:",n().createElement(ht.x,{component:"p"}),n().createElement(ga.default,{className:"ocm-c-api-token-limit-width",outerClassName:"pf-v5-u-mt-md"},`${t} login --use-auth-code`)),n().createElement(ml.H,null,"Enter your Red Hat login credentials via SSO in the browser window.")))))),n().createElement(Et.v,null,n().createElement(gn.Z,null,n().createElement(hn.l,null,n().createElement(gt.D,{headingLevel:"h2"},"Additional resources:")),n().createElement(vn.e,null,n().createElement(da.D,null,"You can find documentation for these related products and services here:",n().createElement(pl.aV,null,n().createElement(ml.H,null,n().createElement(St.default,{href:ca.default.OCM_CLI_DOCS,noIcon:!0},"OpenShift Cluster Manager documentation")))))))),eo=n().createElement(St.default,{href:ca.default.OCM_CLI_DOCS,noIcon:!0},"read more about setting up the ocm CLI"),to=e=>{const{show:t,showPath:a,commandName:l="ocm",commandTool:r=ca.tools.OCM,docsLink:s=eo,blockedByTerms:i,SSOLogin:u,isRosa:d}=e,c=(0,ze.j)((e=>e.rosaReducer.offlineToken)),p=(0,m.useDispatch)(),f=(0,g.useFeatureGate)(b.CLI_SSO_AUTHORIZATION),E=(0,o.Z)(),h=(0,Ja.isRestrictedEnv)(E),[v,_]=n().useState("");return n().useEffect((()=>{u||(h?(0,Ja.getRefreshToken)(E).then((e=>_(e))):c&&_(c))}),[E,h,c,u]),n().useEffect((()=>{u||i||!t||c||(console.log("Tokens: componentDidMount, props =",e),(0,Zs.o)(((e,t)=>{p((0,$s.setOfflineToken)(t||e))}),window.location.origin))}),[]),u?n().createElement(Xs,{isRosa:d,commandName:l,commandTool:r}):n().createElement(ft.K,{hasGutter:!0},n().createElement(Et.v,null,n().createElement(gn.Z,{className:"ocm-c-api-token__card"},!h&&f?n().createElement(hn.l,null,n().createElement(Jt.b,{className:"pf-v5-u-mt-md",variant:"warning",isInline:!0,title:"Logging in with offline tokens is deprecated"},"Logging in using offline tokens has been deprecated and is no longer getting maintained or enhanced. You can now log in using your Red Hat SSO credentials.")):null,n().createElement(hn.l,null,n().createElement(gt.D,{headingLevel:"h2"},`Connect with ${h?"refresh":"offline"} tokens`)),n().createElement(vn.e,{className:"ocm-c-api-token__card--body"},n().createElement(da.D,null,n().createElement(Ks,{isRosa:d,SSOLogin:!1})),t||v?n().createElement(n().Fragment,null,n().createElement(Ys.Z,{token:v}),n().createElement(da.D,{className:"pf-v5-u-mt-lg"},n().createElement(gt.D,{headingLevel:"h3"},"Using your token in the command line"),n().createElement(pl.aV,{component:"ol"},n().createElement(ml.H,null,"Download and install the ",n().createElement("code",null,l)," command-line tool:"," ",n().createElement(ht.x,{component:"p"}),n().createElement(Js.default,{tool:r,channel:ca.channels.STABLE}),n().createElement(ht.x,{component:"p"})),n().createElement(ml.H,null,"Copy and paste the authentication command in your terminal:",n().createElement(ht.x,{component:"p"}),null!=c||h?n().createElement(Ys.Z,{token:v,command:`${l} login --token="{{TOKEN}}"`,showCommandOnError:!0,showInstructionsOnError:!1}):n().createElement(Bs.Z,{size:"md"}))),n().createElement(gt.D,{headingLevel:"h3"},`Need help connecting with your ${h?"refresh":"offline"} token?`),n().createElement(ht.x,{component:"p"},"Run ",n().createElement("code",null,l," login --help")," for in-terminal guidance, or"," ",s," for more information about setting up the ",n().createElement("code",null,l)," ","CLI."))):n().createElement(qs.Link,{to:a},n().createElement(it.zx,{variant:"primary",className:"pf-v5-u-mt-md","data-testid":"load-token-btn",onClick:()=>(0,Zs.o)(((e,t)=>{p((0,$s.setOfflineToken)(t||e))}),window.location.origin)},"Load token"))))),!h&&n().createElement(Et.v,null,n().createElement(gn.Z,{className:"ocm-c-api-token__card"},n().createElement(hn.l,null,n().createElement(gt.D,{headingLevel:"h2"},"Revoke previous tokens")),n().createElement(vn.e,{className:"ocm-c-api-token__card--body"},n().createElement(Qs.Z,null)))))},ao=e=>n().createElement(to,Object.assign({},e,{commandName:"rosa",commandTool:ca.tools.ROSA,docsLink:n().createElement(St.default,{href:ca.default.ROSA_CLI_DOCS,noIcon:!0},"read more about setting up the rosa CLI")})),lo=({children:e})=>n().createElement(tt.AppPage,{title:"OpenShift Cluster Manager"},n().createElement(pn.Z,{className:"pf-v5-u-mb-md"},n().createElement(mn.Z,{title:"OpenShift Cluster Manager"})),n().createElement(we.NP,null,n().createElement(gn.Z,null,n().createElement(hn.l,null,n().createElement(gt.D,{headingLevel:"h2"},"OpenShift Cluster Manager CLI login")),n().createElement(vn.e,null,e)))),no=({showToken:e=!1,showPath:t,isRosa:a=!1})=>{const l=(0,o.Z)(),{organization:r,isLoading:s,error:i}=(0,Ws.default)();let u=!1;if(!(0,Ja.isRestrictedEnv)(l)){const e=i;if(s)return n().createElement(lo,null,n().createElement(je.Z,null));if(i&&!zs.defaultToOfflineTokens)return n().createElement(lo,null,n().createElement(Jt.b,{variant:"danger",isInline:!0,title:"Error retrieving user account",role:"alert",className:"error-box","data-testid":"alert-error"},n().createElement("p",null,e.reason),n().createElement("p",null,`Operation ID: ${e.operation_id||"N/A"}`)));u=!!(null==r?void 0:r.capabilities)&&(0,zs.hasRestrictTokensCapability)(r.capabilities)}const d="OpenShift Cluster Manager "+(u?"SSO login":"API Token"),c=a?ao:to;return n().createElement(tt.AppPage,{title:(u?"SSO Login":"API Token")+" | OpenShift Cluster Manager"},n().createElement(pn.Z,{className:"pf-v5-u-mb-md"},!u&&n().createElement($e.default,{path:[{label:"Downloads",path:"/downloads"},{label:d}]}),n().createElement(mn.Z,{title:d})),n().createElement(we.NP,null,n().createElement(c,{show:e,showPath:t,SSOLogin:u,isRosa:a})))},ro=(0,on.default)((e=>n().createElement(tt.AppPage,null,n().createElement(s.Routes,Object.assign({},e)))),b.ASSISTED_INSTALLER_FEATURE,s.NoPermissionsError),so=(0,on.default)(Y.Z,b.ASSISTED_INSTALLER_FEATURE,J.ZP),oo=()=>n().createElement(y.ZP,{isEditForm:!0}),io=()=>n().createElement(I.Z,{activeTab:""}),uo=(0,m.connect)((e=>{const{cluster:t}=e.clusters.details;return{planType:p()(t,"subscription.plan.type",v.normalizedProducts.UNKNOWN),clusterId:p()(t,"subscription.cluster_id"),externalClusterId:p()(t,"subscription.external_cluster_id")}}))((0,f.EN)((({history:e,planType:t,clusterId:a,externalClusterId:r})=>{const{pathname:s,search:c}=(0,i.TH)(),{segment:{setPageMetadata:p}}=(0,o.Z)(),m=(0,g.useFeatureGate)(b.HYPERSHIFT_WIZARD_FEATURE),Y=(0,g.useFeatureGate)(b.ROSA_WIZARD_V2_ENABLED);return n().useEffect((()=>{console.info("---------------Features---------------\n",`HYPERSHIFT_WIZARD_FEATURE: ${m?"Enabled":"Disabled"}\n`,"-------------------------------------")}),[m]),(0,l.useEffect)((()=>{p(Object.assign(Object.assign({},((e,t,a,l)=>{const n=Object.assign({ocm_cluster_id:a},l?{resource_id:l}:{});return e.startsWith("/archived")?{ocm_resource_type:qe.ocmResourceType.ALL}:e.startsWith("/assisted-installer")?{ocm_resource_type:qe.ocmResourceType.OCP_Assisted_Install}:e.startsWith("/create/osdtrial")?{ocm_resource_type:qe.ocmResourceType.OSDTrial}:e.startsWith("/create/osd")?{ocm_resource_type:qe.ocmResourceType.OSD}:e.startsWith("/create/rosa")?{ocm_resource_type:qe.ocmResourceType.MOA}:e.startsWith("/create")?{ocm_resource_type:qe.ocmResourceType.ALL}:e.match(/\/details\/s\/.*\/add-idp/)?Object.assign({ocm_resource_type:(0,qe.getOCMResourceType)(t),title:"Add IdP",path:"/openshift/details/s/add-idp"},n):e.match(/\/details\/s\/.*\/edit-idp/)?Object.assign({ocm_resource_type:(0,qe.getOCMResourceType)(t),title:"Edit IdP",path:"/openshift/details/s/edit-idp"},n):e.startsWith("/details/s/")?Object.assign({ocm_resource_type:(0,qe.getOCMResourceType)(t),title:"View Cluster",path:"/openshift/details/s"},n):e.startsWith("/install/azure/aro-provisioned")?{ocm_resource_type:qe.ocmResourceType.ARO}:e.startsWith("/install/pull-secret")?{ocm_resource_type:qe.ocmResourceType.ALL}:e.startsWith("/install")?{ocm_resource_type:qe.ocmResourceType.OCP}:e.startsWith("/dashboard")||e.startsWith("/quota")?{ocm_resource_type:qe.ocmResourceType.ALL}:e.startsWith("/register")||e.startsWith("/releases")?{ocm_resource_type:qe.ocmResourceType.OCP}:e.startsWith("/token/rosa")?{ocm_resource_type:qe.ocmResourceType.MOA}:(e.startsWith("/token"),{ocm_resource_type:qe.ocmResourceType.ALL})})(s,t,a,r)),(()=>{const e=document.querySelector("#not-found h1");return e instanceof HTMLElement&&"We lost that page"===e.innerText})()?{title:"404 Not Found"}:{}))}),[s,t,a,r,p]),n().createElement(n().Fragment,null,n().createElement(Ur,null),n().createElement(d.xI,{history:e},n().createElement(mr,{apiRequest:E.Z},n().createElement(f.rs,null,n().createElement(u.CompatRoute,{end:!0,path:"/install/osp/installer-provisioned",render:()=>n().createElement(i.Fg,{replace:!0,to:"/install/openstack/installer-provisioned"})}),n().createElement(u.CompatRoute,{end:!0,path:"/install/crc/installer-provisioned",render:()=>n().createElement(i.Fg,{replace:!0,to:"/create/local"})}),n().createElement(u.CompatRoute,{end:!0,path:"/token/moa",render:()=>n().createElement(i.Fg,{replace:!0,to:"/token/rosa"})}),n().createElement(u.CompatRoute,{end:!0,path:"/insights",render:()=>n().createElement(i.Fg,{replace:!0,to:"/dashboard"})}),n().createElement(u.CompatRoute,{end:!0,path:"/subscriptions",render:()=>n().createElement(i.Fg,{replace:!0,to:"/quota"})}),n().createElement(u.CompatRoute,{path:"/downloads",component:sn.Z}),n().createElement(qr,{path:"/token/rosa/show",render:()=>n().createElement(tt.AppPage,null,n().createElement(no,{showToken:!0,isRosa:!0}),n().createElement(rn,null))}),n().createElement(qr,{path:"/token/rosa",render:()=>n().createElement(tt.AppPage,null,n().createElement(no,{showToken:!1,showPath:"/token/rosa/show",isRosa:!0}),n().createElement(rn,null))}),n().createElement(u.CompatRoute,{path:"/token/show",render:()=>n().createElement(no,{showToken:!0})}),n().createElement(u.CompatRoute,{path:"/token",render:()=>n().createElement(no,{showToken:!1,showPath:"/token/show"})}),n().createElement(u.CompatRoute,{path:"/install/alibaba/installer-provisioned",component:j.ZP}),n().createElement(u.CompatRoute,{path:"/install/arm/installer-provisioned",component:z.ZP}),n().createElement(u.CompatRoute,{path:"/install/arm/user-provisioned",component:W.ZP}),n().createElement(u.CompatRoute,{path:"/install/arm/pre-release",component:q.ZP}),n().createElement(u.CompatRoute,{path:"/install/arm",component:H.Z}),n().createElement(u.CompatRoute,{path:"/install/aws/installer-provisioned",component:k.ZP}),n().createElement(u.CompatRoute,{path:"/install/aws/user-provisioned",component:x.ZP}),n().createElement(u.CompatRoute,{path:"/install/aws/arm/installer-provisioned",component:G.ZP}),n().createElement(u.CompatRoute,{path:"/install/aws/arm/user-provisioned",component:U.ZP}),n().createElement(u.CompatRoute,{path:"/install/aws/arm",component:F.Z}),n().createElement(u.CompatRoute,{path:"/install/aws/multi/installer-provisioned",component:se.ZP}),n().createElement(u.CompatRoute,{path:"/install/aws",component:M.Z}),n().createElement(u.CompatRoute,{path:"/install/gcp/installer-provisioned",component:ee.ZP}),n().createElement(u.CompatRoute,{path:"/install/gcp/user-provisioned",component:te.ZP}),n().createElement(u.CompatRoute,{path:"/install/gcp",component:X.Z}),n().createElement(u.CompatRoute,{path:"/install/nutanix",exact:!0,component:de.Z}),n().createElement(u.CompatRoute,{path:"/install/nutanix/installer-provisioned",component:ce.ZP}),n().createElement(u.CompatRoute,{path:"/install/openstack/installer-provisioned",component:me.ZP}),n().createElement(u.CompatRoute,{path:"/install/openstack/user-provisioned",component:fe.ZP}),n().createElement(u.CompatRoute,{path:"/install/openstack",component:pe.Z}),n().createElement(u.CompatRoute,{path:"/install/azure/arm/installer-provisioned",component:V.ZP}),n().createElement(u.CompatRoute,{path:"/install/azure/multi/installer-provisioned",component:oe.ZP}),n().createElement(u.CompatRoute,{path:"/install/azure/installer-provisioned",component:$.ZP}),n().createElement(u.CompatRoute,{path:"/install/azure/user-provisioned",component:Z.ZP}),n().createElement(u.CompatRoute,{path:"/install/azure",exact:!0,component:B.Z}),n().createElement(u.CompatRoute,{path:"/install/azure-stack-hub/installer-provisioned",exact:!0,component:L.ZP}),n().createElement(u.CompatRoute,{path:"/install/azure-stack-hub/user-provisioned",exact:!0,component:w.ZP}),n().createElement(u.CompatRoute,{path:"/install/azure-stack-hub",exact:!0,component:N.Z}),n().createElement(u.CompatRoute,{path:"/install/metal/user-provisioned",component:J.ZP}),n().createElement(u.CompatRoute,{path:"/install/metal/installer-provisioned",component:Q.ZP}),n().createElement(u.CompatRoute,{path:"/install/metal/agent-based",component:K.ZP}),n().createElement(u.CompatRoute,{path:"/install/metal/multi",component:ie.ZP}),n().createElement(u.CompatRoute,{path:"/install/metal",component:so}),n().createElement(u.CompatRoute,{path:"/install/multi/pre-release",component:ue.ZP}),n().createElement(u.CompatRoute,{path:"/install/vsphere",exact:!0,component:Ie.Z}),n().createElement(u.CompatRoute,{path:"/install/vsphere/agent-based",component:Re.ZP}),n().createElement(u.CompatRoute,{path:"/install/vsphere/user-provisioned",component:Ae.ZP}),n().createElement(u.CompatRoute,{path:"/install/vsphere/installer-provisioned",component:Te.ZP}),n().createElement(u.CompatRoute,{path:"/install/ibm-cloud",component:ae.ZP}),n().createElement(u.CompatRoute,{path:"/install/ibmz/user-provisioned",component:re.ZP}),n().createElement(u.CompatRoute,{path:"/install/ibmz/pre-release",component:ne.ZP}),n().createElement(u.CompatRoute,{path:"/install/ibmz",exact:!0,component:le.Z}),n().createElement(u.CompatRoute,{path:"/install/power/user-provisioned",component:_e.ZP}),n().createElement(u.CompatRoute,{path:"/install/power/pre-release",component:be.ZP}),n().createElement(u.CompatRoute,{path:"/install/power",exact:!0,component:ve.Z}),n().createElement(u.CompatRoute,{path:"/install/powervs/installer-provisioned",component:Se.ZP}),n().createElement(u.CompatRoute,{path:"/install/platform-agnostic/agent-based",component:ge.ZP}),n().createElement(u.CompatRoute,{path:"/install/platform-agnostic/user-provisioned",component:he.ZP}),n().createElement(u.CompatRoute,{path:"/install/platform-agnostic",component:Ee.Z}),n().createElement(u.CompatRoute,{path:"/install/pre-release",component:Ce.ZP}),n().createElement(u.CompatRoute,{path:"/install/pull-secret",component:ye.ZP}),n().createElement(u.CompatRoute,{path:"/install/azure/aro-provisioned",component:Oe.ZP}),n().createElement(u.CompatRoute,{path:"/install/oracle-cloud",component:Hs}),n().createElement(u.CompatRoute,{end:!0,path:"/install",render:()=>n().createElement(i.Fg,{replace:!0,to:"/create"})}),n().createElement(u.CompatRoute,{end:!0,path:"/create/osd/aws",render:()=>n().createElement(i.Fg,{replace:!0,to:"/create/osd"})}),n().createElement(u.CompatRoute,{end:!0,path:"/create/osd/gcp",render:()=>n().createElement(i.Fg,{replace:!0,to:"/create/osd"})}),n().createElement(u.CompatRoute,{end:!0,path:"/create/osdtrial/aws",render:()=>n().createElement(i.Fg,{replace:!0,to:"/create/osdtrial"})}),n().createElement(u.CompatRoute,{end:!0,path:"/create/osdtrial/gcp",render:()=>n().createElement(i.Fg,{replace:!0,to:"/create/osdtrial"})}),n().createElement(qr,{path:"/create/osdtrial",gobackPath:"/create",render:()=>n().createElement(tn,{product:v.normalizedProducts.OSDTrial})}),n().createElement(qr,{path:"/create/osd",gobackPath:"/create",component:tn}),n().createElement(u.CompatRoute,{path:"/create/cloud",render:()=>n().createElement(I.Z,{activeTab:"cloud"})}),n().createElement(u.CompatRoute,{path:"/create/datacenter",render:()=>n().createElement(I.Z,{activeTab:"datacenter"})}),n().createElement(u.CompatRoute,{path:"/create/local",render:()=>n().createElement(I.Z,{activeTab:"local"})}),n().createElement(u.CompatRoute,{end:!0,path:"/create/rosa/welcome",render:()=>n().createElement(i.Fg,{replace:!0,to:"/create/rosa/getstarted"})}),n().createElement(qr,{path:"/create/rosa/getstarted",component:A}),n().createElement(u.CompatRoute,{path:"/create/rosa/govcloud",component:kr}),n().createElement(qr,{path:"/create/rosa/wizard",component:h.default.rosaV2&&Y?T.Z:R.Z}),n().createElement(u.CompatRoute,{path:"/create",component:io}),n().createElement(u.CompatRoute,{path:"/details/s/:id/insights/:reportId/:errorKey",component:P.default}),n().createElement(u.CompatRoute,{path:"/details/s/:id/add-idp/:idpTypeName",component:y.ZP}),n().createElement(u.CompatRoute,{path:"/details/s/:id/edit-idp/:idpName",component:oo}),n().createElement(u.CompatRoute,{path:"/details/s/:id",component:C.Z}),n().createElement(u.CompatRoute,{path:"/details/:id/insights/:reportId/:errorKey",component:P.default}),n().createElement(u.CompatRoute,{path:"/details/:id",component:S.Z}),n().createElement(u.CompatRoute,{path:"/register",component:D.ZP}),n().createElement(u.CompatRoute,{path:"/quota/resource-limits",render:()=>n().createElement(Hn,{marketplace:!0})}),n().createElement(u.CompatRoute,{path:"/quota",component:Hn}),n().createElement(u.CompatRoute,{path:"/archived",component:_.Z}),n().createElement(u.CompatRoute,{path:"/dashboard",exact:!0,component:un.Z}),n().createElement(u.CompatRoute,{path:"/overview/rosa/hands-on",component:js}),n().createElement(u.CompatRoute,{path:"/overview/rosa",component:xr.Z}),n().createElement(u.CompatRoute,{path:"/overview",exact:!0,component:dn.Z}),n().createElement(u.CompatRoute,{path:"/releases",exact:!0,component:tr}),n().createElement(u.CompatRoute,{path:"/assisted-installer",component:ro}),n().createElement(u.CompatRoute,{path:"/services/rosa/demo",render:()=>n().createElement(i.Fg,{replace:!0,to:`/overview/rosa/hands-on/${c}`})}),n().createElement(u.CompatRoute,{path:"/services/rosa",render:()=>n().createElement(i.Fg,{replace:!0,to:`/overview/rosa${c}`})}),n().createElement(u.CompatRoute,{path:"/",exact:!0,component:O.Z}),n().createElement(f.AW,{component:Vr.Z})))))}))),co=({children:e})=>{const t=document.getElementsByTagName("header")[0],[a,s]=(0,l.useState)(t.getBoundingClientRect().height);return(0,r.Z)(t,(e=>{const{contentRect:t}=e;a!==t.height&&s(t.height)})),n().createElement("div",{id:"app-outer-div",style:{height:`calc(100vh - ${a}px`}},n().createElement(uo,null))}},58593:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AppDrawer:()=>u,AppDrawerContext:()=>i});var l=a(28416),n=a.n(l),r=a(5436),s=a(46321),o=a(16537);const i=(0,l.createContext)({openDrawer:()=>{},closeDrawer:()=>{}}),u=({children:e})=>{const[t,a]=(0,l.useState)(),u=(0,l.useCallback)((e=>a(e)),[a]),d=(0,l.useMemo)((()=>{if(t){const e=t.getElementsByClassName("pf-v5-c-drawer");if(e.length){const t=getComputedStyle(e[0]).getPropertyValue("--pf-v5-c-drawer__panel--TransitionDuration");try{const e=parseInt(t,10);return t.endsWith("ms")||!t.endsWith("s")?e:1e3*e}catch(e){}}}return 250}),[t]),[c,p]=(0,l.useState)({drawerProps:{isExpanded:!1}}),[m,f]=(0,l.useState)(!1),E=(0,l.useCallback)(((e={skipOnClose:!1})=>{const{skipOnClose:t}=e;p((e=>{const{drawerProps:a,drawerPanelContent:l,onClose:n,focusOnClose:r}=e;return t||setTimeout((()=>{null==r||r.focus(),null==n||n()}),d),{drawerProps:Object.assign(Object.assign({},a),{isExpanded:!1}),drawerPanelContent:l}}))}),[d,p]),g=(0,l.useCallback)((e=>{var t,{drawerProps:a}=e,l=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["drawerProps"]);const n=null===(t=null==c?void 0:c.drawerProps)||void 0===t?void 0:t.isExpanded;m||(f(!0),n?E({skipOnClose:!0}):p(Object.assign({drawerProps:Object.assign(Object.assign({},a),{isExpanded:!1})},l)),setTimeout((()=>{p(Object.assign({drawerProps:Object.assign(Object.assign({},a),{isExpanded:!0})},l)),setTimeout((()=>{f(!1)}),d)}),n?d:0))}),[E,c,d,m,f,p]),h=(0,l.useMemo)((()=>({openDrawer:g,closeDrawer:E})),[g,E]),{drawerProps:v,drawerPanelContent:b}=c;return n().createElement("div",{id:"app-drawer-div",ref:u},n().createElement(i.Provider,{value:h},n().createElement(r.dy,Object.assign({},v),n().createElement(s.s,{"data-testid":"appDrawerContent",panelContent:b},n().createElement(o.s,{className:"app-drawer-body"},e)))))}},27849:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AppPage:()=>m});var l=a(28416),n=a.n(l),r=a(78913),s=a(97655),o=a(47173),i=a(49596),u=a(19953);const d=({env:e})=>n().createElement(s.b,{variant:"warning",isInline:!0,id:"env-override-message",title:"Environment override active",actionLinks:n().createElement(o.zx,{variant:o.Wu.link,isInline:!0,onClick:()=>{localStorage.removeItem(u.ENV_OVERRIDE_LOCALSTORAGE_KEY),window.location.href=(0,i.default)()}},"Go back to ",n().createElement("b",null,"staging"))},"You're now using the ",n().createElement("b",null,e)," environment API.");var c=a(31611),p=a(58593);const m=({children:e,title:t})=>((0,l.useEffect)((()=>{t&&(document.title=t)}),[]),n().createElement(p.AppDrawer,null,r.default.envOverride&&n().createElement(d,{env:r.default.envOverride}),n().createElement(c.default,null,e)))},31611:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(28416),n=a.n(l),r=a(9947),s=a(97655),o=a(64487);class i extends n().Component{constructor(){super(...arguments),this.state={}}componentDidCatch(e,t){this.setState({error:e.toString(),componentStack:t.componentStack}),o.$e((a=>{a.setExtras({componentStack:t.componentStack}),o.Tb(e)}))}render(){const{error:e,componentStack:t}=this.state;if(e)return n().createElement(r.u,null,n().createElement(s.b,{variant:"danger",isInline:!0,title:"Something went wrong"},n().createElement("div",{style:{whiteSpace:"pre-wrap",textAlign:"left",fontFamily:"monospace"}},e,t)));const{children:a}=this.props;return a}}const u=i},77994:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var l=a(28416),n=a.n(l),r=a(9947),s=a(75106),o=a(62237),i=a(27849);const u=()=>n().createElement(i.AppPage,null,n().createElement(r.u,{id:"not-found"},n().createElement(s.B,null,n().createElement(o.Z,null))))},41005:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var l=a(28416),n=a.n(l),r=a(68774),s=a(68340),o=a(72936),i=a(49345),u=a(42517);const d=({reason:e})=>n().createElement(r.D,{className:"ocm-c-revoke-tokens"},e&&n().createElement("p",{className:"pf-v5-u-mt-sm"},n().createElement("strong",null,e)),n().createElement(s.x,null,"To manage and revoke previous tokens:"),n().createElement(o.aV,{component:"ol"},n().createElement(i.H,null,"Navigate to the"," ",n().createElement(u.default,{href:"https://sso.redhat.com/auth/realms/redhat-external/account/#/applications"},n().createElement("b",null,"SSO application management"))," ","page."),n().createElement(i.H,null,"Locate the ",n().createElement("b",null,"cloud-services")," client ID, expand the row if necessary."),n().createElement(i.H,null,"Select ",n().createElement("b",null,"Remove access"),".")),n().createElement(s.x,null,"All refresh tokens will stop working immediately after you Remove access, but existing access tokens (which are cached by ",n().createElement("code",null,"ocm")," and ",n().createElement("code",null,"rosa")," commands) may take up to 15 minutes to expire."),n().createElement(s.x,null,"Refresh this page afterwards to generate a new token."))},38611:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var l=a(28416),n=a.n(l),r=a(35564),s=a(17998),o=a(97655),i=a(59484),u=a(41005);const d="invalid_grant",c=e=>{var{token:t,command:a="{{TOKEN}}",showCommandOnError:l=!1,showInstructionsOnError:c=!0,textAriaLabel:p="Copyable token",className:m=""}=e,f=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["token","command","showCommandOnError","showInstructionsOnError","textAriaLabel","className"]);if(!t)return n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement("div",{className:"pf-v5-u-mb-xs"},n().createElement(r.Z,{className:"progressing-icon"}),n().createElement("span",null,"Loading token, this might take a minute")),n().createElement(s.O,{fontSize:"md"}));const E=n().createElement(i.default,Object.assign({className:m,textAriaLabel:p,outerClassName:"pf-v5-u-mt-md"},f),a.replace("{{TOKEN}}",t===d?"":t));return t===d?n().createElement(n().Fragment,null,l&&E,c&&n().createElement(o.b,{variant:"warning",isInline:!0,className:"pf-v5-u-mt-md",id:"invalid_grant-message",title:"Could not grant an offline token"},n().createElement(u.Z,{reason:"You might have exceeded the maximum number of offline sessions."}))):E}},74092:(e,t,a)=>{"use strict";a.d(t,{o:()=>p});var l=a(78057),n=a(54998),r=a.n(n),s=a(98538),o=a.n(s),i=function(e,t,a,l){return new(a||(a=Promise))((function(n,r){function s(e){try{i(l.next(e))}catch(e){r(e)}}function o(e){try{i(l.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}i((l=l.apply(e,t||[])).next())}))};const u={realm:"redhat-external",clientId:"cloud-services",cookieName:"cs_jwt"},d={prod:{url:["access.redhat.com","prod.foo.redhat.com","cloud.redhat.com","console.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"},qa:{url:["qa.foo.redhat.com","qa.cloud.redhat.com","qa.console.redhat.com"],sso:"https://sso.qa.redhat.com/auth",portal:"https://access.qa.redhat.com"},ci:{url:["ci.foo.redhat.com","ci.cloud.redhat.com","ci.console.redhat.com"],sso:"https://sso.qa.redhat.com/auth",portal:"https://access.qa.redhat.com"},qaprodauth:{url:["qaprodauth.foo.redhat.com","qaprodauth.cloud.redhat.com","qaprodauth.console.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"},stage:{url:["stage.foo.redhat.com","cloud.stage.redhat.com","console.stage.redhat.com","fetest.stage.redhat.com"],sso:"https://sso.stage.redhat.com/auth",portal:"https://access.stage.redhat.com"},gov:{url:["gov.cloud.redhat.com","gov.console.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"},govStage:{url:["gov.cloud.stage.redhat.com","gov.console.stage.redhat.com"],sso:"https://sso.stage.redhat.com/auth",portal:"https://access.redhat.com"},dev:{url:["console.dev.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"}},c="chrome.offline.redirectUri",p=(e,t)=>{insights.chrome.auth.getOfflineToken().then((e=>{console.log("Tokens: getOfflineToken succeeded => scope",e.data.scope),window.parent&&window.parent.postMessage({tokenOrError:e.data.refresh_token},t)})).catch((a=>{var n,s,p;const m=o().isAxiosError(a)?a.toString():a,f=o().isAxiosError(a)?null===(s=null===(n=a.response)||void 0===n?void 0:n.data)||void 0===s?void 0:s.error:"";"not available"===a?(console.log('Tokens: getOfflineToken failed => "not available", running doOffline()'),(e=>{const t="noauth";localStorage.removeItem(c);const a=r()(window.location.href);a.removeSearch(t),a.addSearch(t,"2402500adeacc30eb5c5a8a5e2e0ec1f");const n=a.toString();var s;n&&localStorage.setItem(c,n),Promise.resolve((s=d,i(void 0,void 0,void 0,(function*(){const e=Object.entries(s).find((([,{url:e}])=>e.includes(window.location.hostname)));return e?null==e?void 0:e[1].sso:"https://sso.qa.redhat.com/auth"})))).then((t=>i(void 0,void 0,void 0,(function*(){const a=Object.assign(Object.assign({},u),{promiseType:"native",redirectUri:n,url:t,checkLoginIframe:!1}),r=new l.Z(a);yield r.init(a);const s=(e=>{const t=window.location.pathname.replace(/^(\/beta\/|\/preview\/)/,"/").replace(/^\//,"");if(t.match(/^connect\/.+/))return`api.partner_link.${t.split("/")[1]}`})(),o=document.createElement("iframe"),i=r.createLoginUrl({prompt:"none",redirectUri:n,scope:"offline_access"+(s?` ${s}`:"")});o.setAttribute("src",i),o.setAttribute("title","keycloak-silent-check-sso"),o.style.display="none",document.body.appendChild(o);const d=t=>{t.origin===window.location.origin&&o.contentWindow===t.source&&"object"==typeof t.data&&t.data.tokenOrError&&(e(t.data.tokenOrError,t.data.errorReason),window.removeEventListener("message",d),document.body.removeChild(o))};window.addEventListener("message",d)}))))})(e)):window.self!==window.parent?null===(p=window.parent)||void 0===p||p.postMessage({tokenOrError:m,errorReason:f},t):(console.log("Tokens: getOfflineToken failed =>",a),e(m,f))}))}},9418:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(28416),n=a.n(l),r=a(61810);const s=()=>{const[e,t]=n().useState(),[a,l]=n().useState(!1),[s,o]=n().useState();return n().useEffect((()=>{var e,a,n,s;e=void 0,a=void 0,s=function*(){var e,a;let n;o(void 0),l(!0);try{const a=yield r.default.getCurrentAccount();(null===(e=a.data.organization)||void 0===e?void 0:e.id)&&(n=yield r.default.getOrganization(a.data.organization.id),t(n.data))}catch(e){o(null===(a=null==e?void 0:e.response)||void 0===a?void 0:a.data)}finally{l(!1)}},new((n=void 0)||(n=Promise))((function(t,l){function r(e){try{i(s.next(e))}catch(e){l(e)}}function o(e){try{i(s.throw(e))}catch(e){l(e)}}function i(e){var a;e.done?t(e.value):(a=e.value,a instanceof n?a:new n((function(e){e(a)}))).then(r,o)}i((s=s.apply(e,a||[])).next())}))}),[]),{organization:e,isLoading:a,error:s}}},86496:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var l=a(27361),n=a.n(l),r=a(28416),s=a.n(r),o=a(9947),i=a(67880),u=a(73029),d=a(75106),c=a(22546),p=a(7732),m=a(1082),f=a(48585),E=a(84852),g=a(12997),h=a(20420),v=a(80810),b=a(87558),_=a(26746),S=a(70417),C=a(52069),y=a(76490),O=a(22831),I=a(52758),R=a(59231);const T=({viewOptions:e,setSorting:t,clusters:a,openModal:l})=>{if(!a||0===a.length)return s().createElement(o.u,null,s().createElement(i.t,{titleText:"No archived clusters found.",icon:s().createElement(u.k,{icon:v.default}),headingLevel:"h4"}),s().createElement(d.B,null,"This filter criteria matches no clusters.",s().createElement("br",null),"Try changing your filter settings."));const r=(0,c.A)(c.E.visibleOnLg||"",c.E.hiddenOnMd||"",c.E.hiddenOnSm||""),T=[{title:"Name",transforms:[p.p,(0,m.d)(30)]},{title:"Type"},{title:"Status",transforms:[p.p]},{title:"Provider (Location)",columnTransforms:[r]},""],A={index:e.sorting.sortIndex,direction:e.sorting.isAscending?f.B.asc:f.B.desc},P=a.map((e=>{var t,a;const r=n()(e,"cloud_provider.id","N/A"),o=(0,C.default)(e),i=s().createElement(b.Link,{to:`/details/s/${null===(t=e.subscription)||void 0===t?void 0:t.id}`},o),u=(0,R.getClusterStateAndDescription)(e).description,d=!e.canEdit&&"You do not have permissions to unarchive this cluster",c=s().createElement(_.default,{variant:"secondary",onClick:()=>l(y.default.UNARCHIVE_CLUSTER,{subscriptionID:e.subscription?e.subscription.id:"",name:o,shouldDisplayClusterName:!0}),disableReason:d},"Unarchive"),p=(null===(a=e.subscription)||void 0===a?void 0:a.status)!==I.subscriptionStatuses.DEPROVISIONED&&c;return[{title:i},{title:s().createElement(O.default,{cluster:e})},{title:s().createElement("span",{className:"cluster-status-string"},u)},{title:s().createElement(S.default,{regionID:n()(e,"region.id","N/A"),cloudProviderID:r})},{title:p}]}));return s().createElement(E.i,{cells:T,rows:P,onSort:(a,l,n)=>{const r=Object.assign({},e.sorting);r.isAscending=n===f.B.asc;const s=T[l];r.sortField={Name:"display_name",Status:"status"}[s.title],r.sortIndex=l,t(r)},sortBy:A,"aria-label":"Archived clusters"},s().createElement(g.x,null),s().createElement(h.R,null))}},31125:(e,t,a)=>{"use strict";a.r(t),a.d(t,{eventTypes:()=>E,getSubscriptionLastReconciledDate:()=>o,hasCpuAndMemory:()=>s,isArchivedSubscription:()=>d,isHypershiftCluster:()=>l.isHypershiftCluster,isMPoolAz:()=>u,isMultiAZ:()=>i,isReadyForAwsAccessActions:()=>m,isReadyForIdpActions:()=>f,isReadyForRoleAccessActions:()=>p});var l=a(59231),n=a(69429),r=a(52758);const s=(e,t)=>!(!e||!t||(null==e?void 0:e.updated_timestamp)&&new Date(e.updated_timestamp).getTime()<0||(null==t?void 0:t.updated_timestamp)&&new Date(t.updated_timestamp).getTime()<0||void 0===(null==e?void 0:e.total.value)||void 0===(null==t?void 0:t.total.value)),o=e=>!(!e.last_reconcile_date||e.last_reconcile_date===n.goZeroTime)&&new Date(e.last_reconcile_date).toLocaleString(),i=e=>!(0,l.isHypershiftCluster)(e)&&!0===e.multi_az,u=(e,t)=>!!(i(e)&&t&&t>1||i(e)&&!t),d=e=>{var t,a;return(null===(t=e.subscription)||void 0===t?void 0:t.status)===r.subscriptionStatuses.ARCHIVED||(null===(a=e.subscription)||void 0===a?void 0:a.status)===r.subscriptionStatuses.DEPROVISIONED},c=(e,t)=>{var a;return!0===e.managed&&(!t||!["",void 0].includes(null===(a=e.console)||void 0===a?void 0:a.url))&&(e.state===l.default.READY||(0,l.isHibernating)(e))&&!d(e)},p=e=>c(e,!1),m=e=>{var t,a;return p(e)&&"aws"===(null===(t=e.cloud_provider)||void 0===t?void 0:t.id)&&!(null===(a=e.ccs)||void 0===a?void 0:a.enabled)},f=e=>c(e,!(0,l.isHypershiftCluster)(e)),E={CLICKED:"clicked",AUTO:"auto",NONE:""}},50868:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>le});var l=a(28416),n=a.n(l),r=a(35161),s=a.n(r),o=a(27361),i=a.n(o),u=a(84213),d=a(33942),c=a(47173),p=a(8590),m=a(32203),f=a(70),E=a(62394),g=a(49734),h=a(85583),v=a(75863),b=a(84852),_=a(12997),S=a(20420),C=a(43200),y=a(66338),O=a(4651),I=a(31125),R=a(76490),T=a(7749),A=a(26746),P=a(18029),D=a.n(P),N=a(12952),L=a(52758);const w=[{props:{colSpan:2},title:n().createElement(C.Z,{size:"md"})}];class M{constructor(e=null,t){var a;this.data=e,this.id=i()(this.data,"id",""),this.usernameValue=i()(this.data,"account.username",""),this.roleValue=i()(this.data,"role.id",""),this.email=i()(this.data,"account.email",""),this.isCreating=null===e,this.isPending=!1;const l=n().createElement(N.u,{content:this.email,key:`ocm-roles-username-tooltip-${t}`},n().createElement("span",{className:"hand-pointer"},this.usernameValue)),r=(null===(a=Object.values(L.ocmRoles).find((e=>e.id===this.roleValue)))||void 0===a?void 0:a.name)||D()(this.roleValue);this.cellsData=[{title:l},{title:r}]}setIsPending(e){this.isPending=e}get cells(){return this.isPending?w:this.cellsData}}var k=a(75696),x=a(59775),j=a(68774),F=a(68340),G=a(92607),U=a(87749),V=a(27730),H=a(80338),z=a(12812),W=a(25967),q=a(68248),B=a(91757),$=a(33115),Z=a(33047);const Y=e=>(0,B.action)($.Z.GET_OCM_ROLES,Z.accountsService.getSubscriptionRoleBindings(e)),K=(e,t,a)=>(0,B.action)($.Z.GRANT_OCM_ROLE,Z.accountsService.createSubscriptionRoleBinding(e,t,a)),Q=(e,t)=>(0,B.action)($.Z.DELETE_OCM_ROLE,Z.accountsService.deleteSubscriptionRoleBinding(e,t)),J=()=>(0,B.action)($.Z.CLEAR_GET_OCM_ROLES_RESPONSE),X=()=>(0,B.action)($.Z.CLEAR_GRANT_OCM_ROLE_RESPONSE),ee=()=>(0,B.action)($.Z.CLEAR_DELETE_OCM_ROLE_RESPONSE);var te=a(7046);function ae({onSubmit:e,row:t,productId:a}){const[r,s]=(0,l.useState)(),[o,i]=(0,l.useState)(""),[u,d]=(0,l.useState)(""),[c,p]=(0,l.useState)(""),[m,f]=(0,l.useState)(!1),[E,g]=(0,l.useState)(!1),h=(0,O.useGlobalState)((e=>(0,H.default)(e,R.default.OCM_ROLES))),{grantOCMRoleResponse:v}=(0,O.useGlobalState)((e=>e.ocmRoles)),b=(0,y.useDispatch)();(0,l.useEffect)((()=>{h&&(s(t.usernameValue),p(t.roleValue||L.ocmRoles.CLUSTER_EDITOR.id),i(""),d(""),f(!1))}),[h]);const _=()=>{b((0,te.closeModal)()),b(X())};if((0,l.useEffect)((()=>{var e;if(v.pending)d(""),f(!0);else if(v.fulfilled)_();else if(v.error){if(404===v.errorCode)d("This Red Hat login could not be found.");else if(400===v.errorCode&&v.errorMessage&&v.errorMessage.toString().includes("belong to different organizations"))d("This Red Hat login is not part of your organization.");else{const t=((null===(e=v.errorMessage)||void 0===e?void 0:e.toString())||"Unknown Error").split(/\r?\n/).pop();d(t&&t.endsWith(".")?t:`${t}.`)}f(!1)}}),[v]),!h)return null;const S=e=>(d(""),e?(i(""),f(!1),!0):(i("Red Hat login cannot be empty."),f(!0),!1)),C=()=>{S(r)&&e(t,r,c)},I=t.isCreating?"Grant role":"Edit role",T=t.isCreating?"Grant role":"Edit role",A=Object.values(L.ocmRoles).filter((e=>!a||!e.excludeProductIds||!e.excludeProductIds.some((e=>e===a))));return n().createElement(W.default,{title:I,onClose:_,primaryText:T,secondaryText:"Cancel",onPrimaryClick:C,onSecondaryClick:_,isPrimaryDisabled:m,id:"ocm-roles-access-dialog"},n().createElement("p",{className:"pf-v5-u-mb-xl"},"Allow users in your organization to edit or view clusters. These permissions only apply to cluster management in OpenShift Cluster Manager."),n().createElement(k.l,{className:"control-form-cursor",onSubmit:e=>{C(),e.preventDefault()}},n().createElement(x.c,{label:n().createElement(n().Fragment,null,n().createElement("span",null,"Red Hat login"),n().createElement(q.default,{id:"ocm-roles-section-username-tooltip",hint:n().createElement(j.D,null,n().createElement(F.x,{component:F.q.p},"Your Red Hat login is the username you use to access your Red Hat account.")),iconClassName:"text-input-tootip-icon",hasAutoWidth:!0,maxWidth:"20.0rem"})),isRequired:!0,fieldId:"username"},n().createElement(G.oi,{value:r,isRequired:!0,id:"username",type:"text",onChange:(e,t)=>(e=>{const t=e.trim();s(t),S(t)})(t),isDisabled:!t.isCreating,validated:o||u?"error":"default","aria-label":"username"}),n().createElement(z.FormGroupHelperText,{touched:!0,error:o||u})),n().createElement(x.c,{label:"Role",isRequired:!0},n().createElement(U.P,{onToggle:(e,t)=>g(t),onSelect:(e,t)=>{p(t),g(!1)},selections:c,isOpen:E,menuAppendTo:()=>document.body},A.map((e=>n().createElement(V.$,{key:e.id,value:e.id,description:e.description},e.name)))))))}ae.modalName=R.default.OCM_ROLES;const le=function({subscription:e,canEditOCMRoles:t,canViewOCMRoles:a,refreshEvent:r}){var o;const[P,D]=(0,l.useState)([]),[N,L]=(0,l.useState)(-1),[w,k]=(0,l.useState)(null),[x,j]=(0,l.useState)(!1),[F,G]=(0,l.useState)(""),{data:U}=(0,O.useGlobalState)((e=>e.modal)),{getOCMRolesResponse:V,grantOCMRoleResponse:H,deleteOCMRoleResponse:z}=(0,O.useGlobalState)((e=>e.ocmRoles)),W=null===(o=null==e?void 0:e.plan)||void 0===o?void 0:o.id,q=(0,y.useDispatch)(),B=()=>{if(N>=0&&N<P.length){const e=P[N],t=P.slice();e.isCreating?t.splice(N,1):t[N].setIsPending(!1),D(t)}L(-1)};(0,l.useEffect)((()=>(a&&e.id&&(j(!0),q(Y(e.id))),G(a?t?"":"You don't have permission to configure user roles in your organization. Only the Cluster Owner and the Organization Admin have the permission.":"You don't have permission to view user roles in your organization. Only the Cluster Owner, Cluster Editor, and the Organization Admin have the permission."),()=>{q(J()),q(X()),q(ee())})),[a,t,e.id,q]),(0,l.useEffect)((()=>{a&&i()(r,"type")===I.eventTypes.CLICKED&&e.id&&(j(!0),q(Y(e.id)))}),[r]),(0,l.useEffect)((()=>{if(V.pending)k(null);else if(V.fulfilled){j(!1);const e=i()(V,"data.items",[]),t=s()(e,((e,t)=>new M(e,t)));D(t),k(null)}else V.error&&(j(!1),k(n().createElement(T.default,{message:"Error getting OCM roles and access",response:V})),B())}),[V]),(0,l.useEffect)((()=>{H.pending?k(null):H.fulfilled&&e.id?(q(Y(e.id)),k(null)):H.error&&B()}),[H]),(0,l.useEffect)((()=>{z.pending?k(null):z.fulfilled&&e.id?(q(Y(e.id)),k(null)):z.error&&(k(n().createElement(T.default,{message:"Error removing the role from the user",response:z})),B())}),[z]);const $=n().createElement(n().Fragment,null,"Username",n().createElement(d.J,{position:d.I.top,"aria-label":"Username",id:"ocm-roles-section-username",bodyContent:n().createElement("p",null,"The username is the Red Hat login that is used to access the Red Hat account.")},n().createElement(c.zx,{variant:"plain",isInline:!0},n().createElement(p.J,{size:"md"},n().createElement(u.HelpIcon,null))))),Z=n().createElement(n().Fragment,null,"Role",n().createElement(d.J,{position:d.I.top,"aria-label":"Role",id:"ocm-roles-section-role",bodyContent:n().createElement("p",null,"The OpenShift Cluster Manager role that is granted to this user.")},n().createElement(c.zx,{variant:"plain",isInline:!0},n().createElement(p.J,{size:"md"},n().createElement(u.HelpIcon,null))))),le=[{title:"Username",transforms:[()=>({children:$})]},{title:"Role",transforms:[()=>({children:Z})]}],ne=[{title:"Delete",onClick:(t,a,l)=>{B(),e.id&&l.id&&((e=>{if(null!==e&&e>=0&&e<P.length){const t=P.slice();t[e].setIsPending(!0),L(e),D(t)}})(a),q(Q(e.id,l.id)))},className:"hand-pointer",itemKey:"delete-acton",isSeparator:!1}];return x?n().createElement(m.Z,null,n().createElement(f.l,null,n().createElement(C.Z,{size:"md"})),n().createElement(E.e,null,n().createElement(C.Z,{size:"lg"})),n().createElement(g.e,null,n().createElement(C.Z,{size:"md"}))):n().createElement(m.Z,null,n().createElement(E.e,null,n().createElement(h.D,{className:"card-title",headingLevel:"h3",size:"lg"},"OCM Roles and Access"),n().createElement("p",null,"Allow users in your organization to edit clusters. These permissions only apply to cluster management in OpenShift Cluster Manager."),n().createElement(A.default,{onClick:()=>{const e=P.length,t=new M(null,e.toString());setTimeout((()=>q((0,te.openModal)(R.default.OCM_ROLES,t))),0)},variant:"secondary",className:"access-control-add",disableReason:F,"data-testid":"grant-role-btn"},"Grant role")),n().createElement(E.e,null,w,n().createElement(b.i,{"aria-label":"OCM Roles and Access",actions:ne,variant:v.B.compact,cells:le,rows:P,areActionsDisabled:()=>!!F},n().createElement(_.x,null),n().createElement(S.R,null)),n().createElement(ae,{onSubmit:(t,a,l)=>{B(),t.isCreating&&e.id&&q(K(e.id,a,l))},row:U,productId:W})))}},24315:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(28416),n=a.n(l),r=a(92298),s=a(42517);const o=e=>{const{activeCardDocsLink:t,installedAddOnOperatorVersion:a,addonID:l,clusterID:o,externalClusterID:i,subscriptionPlanID:u}=e,d={current_path:"/openshift/details/s",tab_title:"Add-ons",tab_id:"addOnsTabContent",card_type:"addon",addon_id:l,ocm_resource_type:u.toLowerCase(),resource_id:i,ocm_cluster_id:o};return a||t?n().createElement(r.B,null,a&&n().createElement(n().Fragment,null,n().createElement("strong",null,"Current Version")," ",a," "),t&&n().createElement(s.default,{href:t,customTrackProperties:d},"View Documentation")):null}},9867:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var l=a(32203),n=a(70),r=a(62394),s=a(49734),o=a(24234),i=a(75696),u=a(59775),d=a(28416),c=a(17085),p=a(87749),m=a(27730),f=a(42517);const E={"managed-odh":{aws:"https://aws.amazon.com/marketplace/search/results?searchTerms=OpenShift+Data+Science+enables"}},g=({subscriptionModels:e,setSubscriptionModel:t,activeCardId:a,hasQuota:o,isReady:i,cloudAccounts:u,installedAddOn:c,billingModel:g,name:h,cloudProvider:v})=>{const b=e[a],_=u&&u[v].length>0,[S,C]=d.useState(!1),[y,O]=d.useState(b.cloudAccount);return d.useEffect((()=>{var e;if(c&&(null===(e=null==c?void 0:c.billing)||void 0===e?void 0:e.billing_marketplace_account)){const e=c.billing.billing_marketplace_account;c.billing.billing_model===g&&O(e)}}),[c]),d.useEffect((()=>{"standard"===(null==b?void 0:b.billingModel)&&O("")}),[null==b?void 0:b.billingModel]),d.createElement(l.Z,{id:g,isSelectableRaised:!0,isSelected:(null==b?void 0:b.billingModel)===g,isDisabled:!_||!o||!i,onClick:()=>{y&&t(Object.assign(Object.assign({},e),{[a]:{addOn:a,billingModel:g,cloudAccount:y}}))}},d.createElement(n.l,null,h),d.createElement(r.e,null,"Flexible usage. Pay only for the services you use."),_&&o?d.createElement(s.e,null,d.createElement(p.P,{isOpen:S,selections:y,onToggle:()=>C(!S),onSelect:(l,n)=>{l.stopPropagation(),t(Object.assign(Object.assign({},e),{[a]:{addOn:a,billingModel:g,cloudAccount:n}})),O(n),C(!1)},placeholderText:"Select an account",isDisabled:!i},u&&u[v].map((({cloud_account_id:e})=>d.createElement(m.$,{key:e,value:e},e))))):d.createElement(s.e,null,d.createElement("small",null,"Not available.")," ",E[a]&&E[a][v]&&d.createElement(f.default,{href:E[a][v]},"Enable in ",h,".")))},h=({activeCardId:e,billingQuota:t,installedAddOn:a,subscriptionModels:p,setAddonsDrawer:m})=>{var f;const E=e=>{m({subscriptionModels:e})},h=p[e],v=!(Boolean(a)||a&&a.state!==c.default.INSTALLATION_STATE.READY),b=Boolean(a)||!!t.standard&&t.standard.consumed+t.standard.cost<=t.standard.allowed,_=Boolean(a)||!!t.marketplace&&t.marketplace.consumed+t.marketplace.cost<=t.marketplace.allowed,S=void 0===t.standard,C=void 0===t.marketplace;d.useEffect((()=>{var t;p[e]||E(Object.assign(Object.assign({},p),{[e]:{addOn:e,billingModel:a?a.billing.billing_model:S?_?"marketplace":"no-quota":C?b?"standard":"no-quota":b?"standard":_?"marketplace":"no-quota",cloudAccount:(null===(t=null==a?void 0:a.billing)||void 0===t?void 0:t.billing_marketplace_account)||""}}))}),[p,e,a]);const y=d.createElement(l.Z,{id:"standard-rh",isSelectableRaised:!0,isSelected:"standard"===(null==h?void 0:h.billingModel),isDisabled:!b||!v},d.createElement(n.l,null,"Red Hat Standard"),d.createElement(r.e,null,"Fixed capacity subscription."),d.createElement(s.e,null,!b&&d.createElement("small",null,"Not enough quota."))),O=null===(f=t.marketplace)||void 0===f?void 0:f.cloudAccounts,I=d.createElement(d.Fragment,null,!1,d.createElement(g,{subscriptionModels:p,setSubscriptionModel:E,activeCardId:e,hasQuota:_,isReady:v,cloudAccounts:O,installedAddOn:a,billingModel:"marketplace-aws",name:"AWS Marketplace",cloudProvider:"aws"}),!1);return d.createElement(d.Fragment,null,d.createElement("div",{className:t.standard&&t.marketplace?"pf-v5-u-mb-sm":"pf-v5-u-mb-lg"},d.createElement("strong",null,d.createElement("small",null,"Subscription type"))),t.standard&&t.marketplace&&d.createElement(i.l,null,d.createElement(u.c,{role:"radiogroup",isInline:!0,fieldId:"billing-model-group"},t.standard&&((t=!1)=>d.createElement(o.Y,{isChecked:"standard"===(null==h?void 0:h.billingModel),name:"billing-model",id:"standard",value:"standard",label:d.createElement("div",null,d.createElement("span",{className:t?"pf-v5-u-mr-xs":""},"Standard")),isDisabled:t,onChange:()=>{E(Object.assign(Object.assign({},p),{[e]:{addOn:e,billingModel:"standard",cloudAccount:""}}))}}))(!v),t.marketplace&&((t=!1)=>d.createElement(o.Y,{isChecked:null==h?void 0:h.billingModel.startsWith("marketplace"),name:"billing-model",id:"marketplace",value:"marketplace",label:d.createElement("div",null,d.createElement("span",{className:t?"pf-v5-u-mr-xs":""},"Marketplace")),isDisabled:t,onChange:()=>{var t;E(Object.assign(Object.assign({},p),{[e]:{addOn:e,billingModel:"marketplace",cloudAccount:(null===(t=null==a?void 0:a.billing)||void 0===t?void 0:t.billing_marketplace_account)||""}}))}}))(!v))),"standard"===(null==h?void 0:h.billingModel)&&y,(null==h?void 0:h.billingModel.startsWith("marketplace"))&&I)}},64435:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>te});var l=a(32203),n=a(14386),r=a(70),s=a(85583),o=a(62394),i=a(32045),u=a(9947),d=a(67880),c=a(73029),p=a(80810),m=a(41609),f=a.n(m),E=a(84238),g=a.n(E),h=a(28416),v=a.n(h),b=a(25332),_=a(66338),S=a(92308),C=a(4651),y=a(69429),O=a(56554),I=a(33174),R=a(7749),T=a(64107);const A=({timestamp:e})=>{const[,t]=v().useState(0);return v().useEffect((()=>{const e=setInterval((()=>t(Date.now())),6e4);return()=>clearInterval(e)}),[]),v().createElement(T.Z,{type:"relative",date:e})};var P=a(41086),D=a(27484),N=a.n(D),L=a(52643),w=a(75106),M=a(68340),k=a(22305),x=a(75521),j=a(8128),F=a(62653),G=a(48585),U=a(2613),V=a(83084),H=a(75863),z=a(51630),W=a(15173),q=a(5913),B=a(42517),$=a(89497),Z=a(31125);const Y=[{title:"Description",sortTitle:"summary"},{title:"Type",sortTitle:"log_type"},{title:"Severity",sortTitle:"severity"},{title:"Logged by",sortTitle:"username||created_by"},{title:"Date",sortTitle:"timestamp"}],K=({logs:e,setSorting:t,pending:a,refreshEvent:l})=>{const[n,r]=v().useState([]),[s,o]=v().useState(!1),[i,m]=v().useState(Y.findIndex((e=>"timestamp"===e.sortTitle))+1),[f,E]=v().useState(G.B.desc);v().useEffect((()=>{a||(o(!0),l.type!==Z.eventTypes.NONE&&l.reset())}),[l,a]);const g=e=>n.includes(e.id),h=a&&(l.type===Z.eventTypes.NONE||!s);return v().createElement(L.b,null,h?v().createElement(k.$,{size:"lg"}):v().createElement(V.i,{"aria-label":"Expandable table",variant:H.B.compact},v().createElement(z.h,null,v().createElement(j.Tr,null,v().createElement(W.Th,null),Y.map(((e,a)=>{return v().createElement(W.Th,{sort:(l=a+1,{sortBy:{index:i,direction:f},onSort:(e,a,l)=>{const n={isAscending:l===G.B.asc,sortField:Y[a-1].sortTitle,sortIndex:a};t(n),m(a),E(n.isAscending?G.B.asc:G.B.desc)},columnIndex:l}),key:e.title},e.title);var l})))),(null==e?void 0:e.length)?e.map(((e,t)=>((e,t)=>{const{summary:a,severity:l,timestamp:s,description:o,username:i,created_by:u,internal_only:d,log_type:c,doc_references:p}=e,m=N().utc(s).format("D MMM YYYY, HH:mm UTC"),f=p&&p.length>0?v().createElement(v().Fragment,null,v().createElement(M.x,{"data-testid":`references_${t}`,className:"cluster-log__resources",component:M.q.h2},v().createElement("strong",null,"References:")),v().createElement("ul",null,p.map((e=>v().createElement("li",{key:e},v().createElement(B.default,{href:e},e)))))):null,E=d;return v().createElement(x.p,{className:E?"pf-v5-u-background-color-danger":void 0,key:t},v().createElement(j.Tr,null,v().createElement(F.Td,{expand:{rowIndex:t,isExpanded:g(e),onToggle:()=>{((e,t=!0)=>{const a=n.filter((t=>t!==e.id)),l=t?[...a,e.id]:a;r(l)})(e,!g(e))}}}),v().createElement(F.Td,null,a," ",E?v().createElement(q.R0,null):null),v().createElement(F.Td,null,c),v().createElement(F.Td,null,l),v().createElement(F.Td,null,i||u),v().createElement(F.Td,null,m)),v().createElement(j.Tr,{isExpanded:g(e)},v().createElement(F.Td,{className:"cluster-log",colSpan:Y.length+1},v().createElement(U.G,null,v().createElement($.Z,null,o),f))))})(e,t))):(b=Y.length+1,v().createElement(x.p,null,v().createElement(j.Tr,null,v().createElement(F.Td,{colSpan:b},v().createElement(L.b,null,v().createElement(u.u,{variant:u.I.sm},v().createElement(d.t,{titleText:"No results found",icon:v().createElement(c.k,{icon:p.SearchIcon}),headingLevel:"h2"}),v().createElement(w.B,null,"No results match the filter criteria. Remove all filters or clear all filters to show results.")))))))));var b};var Q=a(60800),J=a(61758),X=a(24556),ee=a(56304);const te=({externalClusterID:e,clusterID:t,createdAt:a,refreshEvent:m,isVisible:E})=>{const h=(0,b.s0)(),T=(0,_.useDispatch)(),D=I.viewConstants.CLUSTER_LOGS_VIEW,{requestState:N,fetchedClusterLogsAt:L,logs:w}=(0,C.useGlobalState)((e=>e.clusterLogs)),M=(0,C.useGlobalState)((e=>e.viewOptions[D])),[k,x]=v().useState(!1),[j,F]=v().useState(M),[G,U]=v().useState(!1),[V,H]=v().useState(!1);return v().useEffect((()=>{const e=(0,O.getQueryParam)("severityTypes")||"",t=(0,O.getQueryParam)("logTypes")||"";let l;f()(e)&&f()(t)||(x(!0),T(S.viewActions.onListFlagsSet("conditionalFilterFlags",{severityTypes:f()(e)?[]:e.split(",").filter((e=>J.SEVERITY_TYPES.includes(e))),logTypes:f()(t)?[]:t.split(",").filter((e=>J.LOG_TYPES.includes(e)))},D)));const n=(0,O.getQueryParam)("loggedBy")||"",r=(0,O.getQueryParam)("description")||"";if(f()(r)&&f()(r)||(l={loggedBy:n,description:r}),a){const e=(0,ee.dateParse)(a),{symbol:t,date:n}=(0,ee.onDateChangeFromFilter)((0,ee.dateFormat)((0,ee.getTimestampFrom)(e)));l=Object.assign(Object.assign({},null!=l?l:{}),{timestampFrom:`${t} '${n}'`})}l&&(x(!0),T(S.viewActions.onListFilterSet(l,D)))}),[a,T,D]),v().useEffect((()=>{!(0,O.viewPropsChanged)(M,j)||N.pending&&(k||!e&&!t)||(T(Q.clusterLogActions.getClusterHistory(e,t,M)),F(M))}),[T,j,N.pending,k,e,t,F,M]),v().useEffect((()=>{N.error&&U([403,404].includes(N.errorCode))}),[N]),v().useEffect((()=>{const e=f()(M.filter)&&y.default.nestedIsEmpty(M.flags);H(!g()(w)&&N.pending&&e)}),[w,N.pending,M.filter,M.flags]),v().useEffect((()=>{if(!0===E){const e=Object.entries(M.filter).filter((e=>["description","loggedBy"].includes(e[0])&&e[1])).reduce(((e,t)=>Object.assign(Object.assign({},e),{[`${t[0]}`]:[t[1]]})),{});h({hash:"#clusterHistory",search:(0,O.buildFilterURLParams)(Object.assign(Object.assign({},e),M.flags.conditionalFilterFlags||{}))},{replace:!0})}}),[E,M.flags.conditionalFilterFlags,M.filter,h]),v().createElement(l.Z,{className:"ocm-c-overview-cluster-history__card"},v().createElement(n.O,{actions:{actions:v().createElement(v().Fragment,null,"Updated ",L&&v().createElement(A,{timestamp:L.getTime()})),hasNoOffset:!1},className:"ocm-c-overview-cluster-history__card--header"},v().createElement(r.l,{className:"ocm-c-overview-cluster-history__card--header"},v().createElement(s.D,{headingLevel:"h2",className:"card-title","data-testid":"cluster_history_title"},"Cluster history"))),v().createElement(o.e,{className:"ocm-c-overview-cluster-history__card--body"},N.error&&!G&&v().createElement(R.default,{message:"Error retrieving cluster logs",response:{errorMessage:N.errorMessage,operationID:N.operationID}}),v().createElement(X.Z,{view:D,externalClusterID:e,isPendingNoData:V,clusterID:t,logs:null==w?void 0:w.length}),N.error&&!g()(w)&&G?v().createElement(i.NP,null,v().createElement(u.u,null,v().createElement(d.t,{titleText:"No cluster log entries found",icon:v().createElement(c.k,{icon:p.default}),headingLevel:"h4"}))):v().createElement(v().Fragment,null,v().createElement(K,{pending:N.pending,logs:w,setSorting:e=>T(S.viewActions.onListSortBy(e,D)),refreshEvent:m}),v().createElement(P.default,{viewType:D,currentPage:M.currentPage,pageSize:M.pageSize,totalCount:M.totalCount,totalPages:M.totalPages,variant:"bottom",isDisabled:V}))))}},60800:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clusterLogActions:()=>o});var l=a(91757),n=a(56554),r=a(33174),s=a(44202);const o={getClusterHistory:(e,t,a)=>(0,l.action)(r.clusterLogConstants.GET_CLUSTER_LOGS,s.Z.getClusterHistory(e,t,(0,n.createServiceLogQueryObject)(a)).then((t=>({externalClusterID:e,logs:t})))),resetClusterHistory:()=>(0,l.action)(r.clusterLogConstants.RESET_CLUSTER_HISTORY)}},61758:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{GET_CLUSTER_LOGS:()=>n,LOG_TYPES:()=>o,RESET_CLUSTER_HISTORY:()=>r,SEVERITY_TYPES:()=>s,default:()=>i}),function(e){let t,a;!function(e){e.CLUSTERCREATE_HIGH_LEVEL="clustercreate-high-level",e.CLUSTERCREATE_DETAILS="clustercreate-details",e.CLUSTERREMOVE_HIGH_LEVEL="clusterremove-high-level",e.CLUSTERREMOVE_DETAILS="clusterremove-details",e.CLUSTER_STATE_UPDATES="cluster-state-updates",e.CLUSTER_SUBSCRIPTION="Cluster Subscription",e.CLUSTER_LIFECYCLE="Cluster Lifecycle",e.CLUSTER_UPDATES="Cluster Updates",e.CLUSTER_OWNERSHIP="Cluster Ownership",e.CLUSTER_ACCESS="Cluster Access",e.CLUSTER_SCALING="Cluster Scaling",e.CAPACITY_MANAGEMENT="Capacity Management",e.CLUSTER_CONFIGURATION="Cluster Configuration",e.CLUSTER_SECURITY="Cluster Security",e.CLUSTER_ADD_ONS="Cluster Add-ons",e.CUSTOMER_SUPPORT="Customer Support",e.CLUSTER_NETWORKING="Cluster Networking",e.GENERAL_NOTIFICATION="General Notification"}(t=e.log_type||(e.log_type={})),function(e){e.DEBUG="Debug",e.INFO="Info",e.WARNING="Warning",e.ERROR="Error",e.FATAL="Fatal",e.MAJOR="Major",e.CRITICAL="Critical"}(a=e.severity||(e.severity={}))}(l||(l={}));const n="GET_CLUSTER_LOGS",r="RESET_CLUSTER_HISTORY",s=["Debug","Info","Warning","Error","Major","Critical","Fatal"],o=Object.values(l.log_type).sort(((e,t)=>e.localeCompare(t,void 0,{sensitivity:"case"}))),i={GET_CLUSTER_LOGS:n,SEVERITY_TYPES:s,LOG_TYPES:o,RESET_CLUSTER_HISTORY:r}},62862:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var l=a(28416),n=a.n(l),r=a(27484),s=a.n(r),o=a(47173),i=a(80236),u=a(49739),d=a(83826),c=a(59775),p=a(24234),m=a(97655),f=a(33047),E=a(56554);const g=({externalClusterID:e,clusterID:t,viewOptions:a,logs:l})=>{const[r,g]=n().useState(!1),[h,v]=n().useState("json"),[b,_]=n().useState(!1),[S,C]=n().useState(!1),y=()=>{g(!1),_(!1)};return n().createElement(n().Fragment,null,n().createElement(o.zx,{isDisabled:!l,variant:"primary",onClick:()=>g(!0),"data-testid":"download-btn"},"Download history"),r&&n().createElement(i.u,{variant:"small",title:"Download cluster history",isOpen:!0,onClose:S?void 0:y,actions:[n().createElement(o.zx,{"data-testid":"submit-btn",key:"download",variant:"primary",onClick:()=>{return l=void 0,n=void 0,o=function*(){const l=(0,E.createServiceLogQueryObject)(Object.assign(Object.assign({},a),{currentPage:1,pageSize:-1}),h);try{C(!0),_(!1);const{data:a}=yield f.serviceLogService.getClusterHistory(e,t,l),n=s()().format("YYYY-MM-DD HHmm");let r=a;"json"===h&&(r=JSON.stringify(a));const o=new Blob([r],{type:"octet/stream"}),i=document.createElement("a");i.setAttribute("href",window.URL.createObjectURL(o)),i.setAttribute("download",`${e||t}.${n}.${h}`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),y()}catch(e){_(!0)}finally{C(!1)}},new((r=void 0)||(r=Promise))((function(e,t){function a(e){try{i(o.next(e))}catch(e){t(e)}}function s(e){try{i(o.throw(e))}catch(e){t(e)}}function i(t){var l;t.done?e(t.value):(l=t.value,l instanceof r?l:new r((function(e){e(l)}))).then(a,s)}i((o=o.apply(l,n||[])).next())}));var l,n,r,o},isDisabled:S,isLoading:S,spinnerAriaLabel:"Loading cluster logs"},"Download"),n().createElement(o.zx,{key:"close",variant:"link",onClick:y,isDisabled:S},"Cancel")]},n().createElement(u.K,{hasGutter:!0},n().createElement(d.v,null,n().createElement(c.c,{label:"Choose a file type"},n().createElement(p.Y,{id:"json-format",isChecked:"json"===h,name:"format",onChange:(e,t)=>t&&v("json"),label:"JSON",isDisabled:S}),n().createElement(p.Y,{id:"csv-format",isChecked:"csv"===h,name:"format",onChange:(e,t)=>t&&v("csv"),label:"CSV",isDisabled:S}))),b&&n().createElement(d.v,null,n().createElement(m.b,{variant:"danger",title:"Unable to download records",isInline:!0})))))}},80691:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(28416),n=a.n(l),r=a(97655);const s=()=>n().createElement(r.b,{className:"ai-non-editable-alert pf-v5-u-mt-md",isInline:!0,variant:"info",title:"You cannot edit the cluster."},n().createElement("p",null,"To get permission to edit, contact the Cluster Owner or Organization Admin."))},32592:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(28416),n=a.n(l),r=a(27484),s=a.n(r),o=a(97655),i=a(47173),u=a(76490),d=a(42517);const c=({expirationTimestamp:e,trialExpiration:t,openModal:a,cluster:l,OSDRHMExpiration:r})=>{const c=s().utc(),p=s().utc(e),m=p.diff(c,"hour"),f=c.to(p),E=p.local().format("dddd, MMMM Do YYYY, h:mm a");if(m<=0)return n().createElement(o.b,{id:"expiration-alert",className:"pf-v5-u-mt-md",variant:"warning",isInline:!0,title:"Cluster failed to delete","data-testid":"expiration-alert-passed"},n().createElement(n().Fragment,null,`This cluster should have been deleted ${f} but is still running.`," ",n().createElement(d.default,{href:"https://access.redhat.com/support/"},"Contact our customer support"),"."));let g;switch(!0){case m<24:g="danger";break;case m<48&&m>=24:g="warning";break;default:g="info"}let h=`This cluster is scheduled for deletion on ${E}`;return r?h=n().createElement(n().Fragment,null,"Your cluster subscription was purchased from Red Hat Marketplace and will expire on",` ${E}. `,"Once expired, the cluster will be deleted permanently. To avoid deletion, please purchase a new subscription from the"," ",n().createElement(d.default,{href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated"},"Red Hat Marketplace")," ","before the expiration date."):t&&(h=`Your free trial cluster will automatically be deleted on ${E}. Upgrade your cluster at any time to prevent deletion.`),n().createElement(o.b,{id:"expiration-alert",className:"pf-v5-u-mt-md",variant:g,isInline:!0,title:`This cluster will be deleted ${f}.`,"data-testid":"expiration-alert-will-delete"},n().createElement("p",null,h),t&&n().createElement(i.zx,{variant:"secondary",className:"pf-v5-u-mt-sm","data-testid":"trial-button",onClick:()=>null==a?void 0:a(u.default.UPGRADE_TRIAL_CLUSTER,{title:"Upgrade cluster from Trial",clusterID:null==l?void 0:l.id,cluster:l})},"Upgrade from trial"))}},82368:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(28416),n=a.n(l),r=a(79851),s=a(34512),o=a(97655),i=a(42517);const u=({summary:e})=>{var t;const a=null===(t=null==e?void 0:e.match(/'([^']+)'/))||void 0===t?void 0:t[1];return n().createElement(r.P,null,n().createElement(s.J,{isFilled:!0},n().createElement(o.b,{id:"gcp-org-policy-alert",variant:"warning",className:"pf-v5-u-mt-md",isInline:!0,title:n().createElement(n().Fragment,null,"Your installation might be affected by the"," ",n().createElement(i.default,{href:"https://cloud.google.com/resource-manager/docs/organization-policy/overview"},"GCP Organization Policy Service"))},n().createElement(n().Fragment,null,"OCM is unable to determine whether the GCP organization contains any policies that would affect the installation without the GCP Org Policy API enabled. Enable the"," ",n().createElement(i.default,{href:"https://cloud.google.com/resource-manager/docs/reference/orgpolicy/rest"},"Organization Policy API")," ","for the GCP project '",a,"'"))))}},69229:(e,t,a)=>{"use strict";a.r(t),a.d(t,{IDPNeedsOAuthURL:()=>m,IDPObjectNames:()=>d,IDPTypeNames:()=>i,IDPformValues:()=>s,generateIDPName:()=>f,getCreateIDPRequestData:()=>g,getGitHubTeamsAndOrgsData:()=>b,getOauthCallbackURL:()=>p,getOpenIdClaims:()=>h,getldapAttributes:()=>v,getldapca:()=>E,isEmptyReduxArray:()=>_,mappingMethods:()=>c,mappingMethodsformValues:()=>o,singularFormIDP:()=>u});var l=a(41609),n=a.n(l),r=a(69429);const s={GITHUB:"GithubIdentityProvider",GOOGLE:"GoogleIdentityProvider",OPENID:"OpenIDIdentityProvider",LDAP:"LDAPIdentityProvider",GITLAB:"GitlabIdentityProvider",HTPASSWD:"HTPasswdIdentityProvider"},o={CLAIM:"claim",LOOKUP:"lookup",GENERATE:"generate",ADD:"add"},i={[s.GITHUB]:"GitHub",[s.GOOGLE]:"Google",[s.OPENID]:"OpenID",[s.LDAP]:"LDAP",[s.GITLAB]:"GitLab",[s.HTPASSWD]:"htpasswd"},u={[s.GITHUB]:"a GitHub",[s.GOOGLE]:"a Google",[s.OPENID]:"an OpenID",[s.LDAP]:"an LDAP",[s.GITLAB]:"a GitLab",[s.HTPASSWD]:"an HTPasswd"},d={[s.GITHUB]:"github",[s.GOOGLE]:"google",[s.OPENID]:"open_id",[s.LDAP]:"ldap",[s.GITLAB]:"gitlab",[s.HTPASSWD]:"htpasswd"},c=[{name:o.CLAIM,value:o.CLAIM},{name:o.LOOKUP,value:o.LOOKUP},{name:o.GENERATE,value:o.GENERATE},{name:o.ADD,value:o.ADD}],p=(e,t,a)=>{const l=a?e.api:e.console;if(!t||!l)return"";const n=(l.endsWith("/")?l:`${l}/`).split(".");if(n[0]="https://oauth"+(a?"":"-openshift"),a&&!(e=>e===i[s.OPENID])(t)){const e=n[n.length-1];-1!==e.indexOf(":")&&(n[n.length-1]=`${e.split(":")[0]}/`)}return`${n.join(".")}oauth2callback/${t}`},m=e=>![s.LDAP,s.HTPASSWD].includes(null!=e?e:""),f=(e,t)=>{const a=t.map((e=>e.name));let l=0;const n=i[e];if(!a.includes(n))return n;let r=`${n}-${l+1}`;for(;a.includes(r);)l+=1,r=`${n}-${l+1}`;return r},E=e=>e.ldap_ca?e.ldap_insecure?"":e.ldap_ca.trim():e.ldap_ca,g=e=>{const t={GithubIdentityProvider:{name:"github",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),organizations:"organizations"===e.github_auth_mode?(0,r.multiInputToCleanArray)(e,"organizations"):void 0,teams:"teams"===e.github_auth_mode?(0,r.multiInputToCleanArray)(e,"teams"):void 0,hostname:e.hostname,ca:e.github_ca?e.github_ca.trim():e.github_ca})},GoogleIdentityProvider:{name:"google",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),hosted_domain:e.hosted_domain})},OpenIDIdentityProvider:{name:"open_id",data:()=>({ca:e.openid_ca?e.openid_ca.trim():e.openid_ca,claims:{email:(0,r.multiInputToCleanArray)(e,"openid_email"),name:(0,r.multiInputToCleanArray)(e,"openid_name"),preferred_username:(0,r.multiInputToCleanArray)(e,"openid_preferred_username")},client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),extra_scopes:(0,r.strToCleanArray)(e.openid_extra_scopes),issuer:e.issuer})},LDAPIdentityProvider:{name:"ldap",data:()=>({attributes:{id:(0,r.multiInputToCleanArray)(e,"ldap_id"),email:(0,r.multiInputToCleanArray)(e,"ldap_email"),name:(0,r.multiInputToCleanArray)(e,"ldap_name"),preferred_username:(0,r.multiInputToCleanArray)(e,"ldap_preferred_username")},bind_dn:e.bind_dn,bind_password:e.bind_password,insecure:e.ldap_insecure,url:e.ldap_url,ca:E(e)})},GitlabIdentityProvider:{name:"gitlab",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),url:e.gitlab_url,ca:e.gitlab_ca?e.gitlab_ca.trim():e.gitlab_ca})},HTPasswdIdentityProvider:{name:"htpasswd",data:()=>{var t;return{users:{items:null===(t=e.users)||void 0===t?void 0:t.map((e=>({username:e.username,password:e.password})))}}}}},a={type:e.type,name:e.name,id:e.idpId,mapping_method:void 0},l=t[e.type].data(),n=t[e.type].name;return"htpasswd"!==n&&(a.mapping_method=e.mappingMethod||o.CLAIM),e.idpId&&""!==e.idpId&&(delete a.name,"CLIENT_SECRET"===l.client_secret&&delete l.client_secret,l.bind_password&&"BIND_PASSWORD"===l.bind_password&&delete l.bind_password),Object.assign(Object.assign({},a),{[n]:Object.assign({},l)})},h=(e,t)=>{const a=null==e?void 0:e[t];if(null==a?void 0:a.length)switch(t){case"name":return a.map(((e,t)=>({id:t,openid_name:e})));case"email":return a.map(((e,t)=>({id:t,openid_email:e})));case"preferred_username":return a.map(((e,t)=>({id:t,openid_preferred_username:e})))}return[]},v=(e,t)=>{const a=e?e[t]:void 0;if(a)switch(t){case"name":return a.map(((e,t)=>({id:t,ldap_name:e})));case"email":return a.map(((e,t)=>({id:t,ldap_email:e})));case"preferred_username":return a.map(((e,t)=>({id:t,ldap_preferred_username:e})));case"id":return a.map(((e,t)=>({id:t,ldap_id:e})))}return[]},b=e=>e.teams?e.teams.map(((e,t)=>({id:t,teams:e}))):e.organizations?e.organizations.map(((e,t)=>({id:t,organizations:e}))):[],_=(e,t)=>!!e&&e.map((e=>n()(e[t]))).every((e=>e))},65152:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ACCEPT:()=>f,MAX_FILE_SIZE:()=>m,default:()=>E});var l=a(59775),n=a(65802),r=a(43446),s=a(92607),o=a(47173),i=a(45469),u=a(28416),d=a.n(u),c=a(73960),p=a(12812);const m=4e6,f=".pem,.crt,.ca,.cert,application/x-pem-file,application/x-x509-ca-cert,text/plain",E=({label:e,helpText:t="",isDisabled:a,input:u,isRequired:E=!1,certValue:g,maxFileSize:h=m})=>{const v="pf-v5-c-button pf-m-tertiary co-btn-file",[b,_]=d().useState(""),[S,C]=d().useState(""),[y,O]=d().useState(""),[I,R]=d().useState(!1),[T,A]=d().useState(v),[P,D]=d().useState(!1);d().useEffect((()=>{g&&""!==g&&(O(g),R(!0))}),[g]),d().useEffect((()=>{A(a?`${v} pf-m-disabled`:v)}),[a]),d().useEffect((()=>{D(!a&&""!==y&&I)}),[a,y,I]);const N=e=>R(e);return d().createElement(l.c,{className:"ca-upload",fieldId:u.name,label:e,isRequired:E,"data-testid":"ca-upload-form"},d().createElement(n.B,null,d().createElement(r.o,{isFill:!0},d().createElement(s.oi,{value:b,isRequired:E,id:u.name,name:u.name,readOnlyVariant:"default"})),d().createElement(r.o,null,d().createElement("span",{className:T},d().createElement("input",{type:"file",onChange:e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a)if(a.size>h)C(`Maximum file size exceeded. File size limit is ${(0,c.humanizeValueWithoutUnit)(h)}`);else{const e=new FileReader;e.onload=()=>{_(a.name),C(""),O(e.result),R(!0),u.onChange(e.result)},e.readAsText(a,"UTF-8")}},disabled:a,accept:f,"data-testid":"ca-upload-input-file"}),"Browse"))),P?d().createElement(d().Fragment,null,d().createElement(o.zx,{variant:"link",onClick:()=>N(!1)},"Hide"),d().createElement(i.Kx,{value:y,id:`${u.name}_text`,name:`${u.name}_text`,onChange:(e,t)=>(e=>{u.onChange(e||" "),_(""),O(e)})(t),className:"ca-textarea"})):d().createElement(o.zx,{variant:"link",onClick:()=>N(!0),isDisabled:""===y||a},"Reveal"),d().createElement(p.FormGroupHelperText,{touched:!0,error:S},t))}},28504:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(28416),n=a.n(l),r=a(16475),s=a(90674),o=a(90181),i=a(73269);const u=({isPending:e=!1})=>n().createElement(n().Fragment,null,n().createElement(r.P,{span:8},n().createElement(s.Z,{component:i.default,name:"client_id",label:"Client ID",type:"text",validate:o.required,isRequired:!0,disabled:e})),n().createElement(r.P,{span:8},n().createElement(s.Z,{component:i.default,name:"client_secret",label:"Client secret",type:"password",validate:o.required,isRequired:!0,disabled:e})))},83494:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GET_CLUSTER_INSIGHTS:()=>l,GET_ORGANIZATION_INSIGHTS:()=>n,INSIGHTS_RULE_CATEGORIES:()=>r});const l="GET_CLUSTER_INSIGHTS",n="GET_ORGANIZATION_INSIGHTS",r=[{title:"Performance",tags:["performance"]},{title:"Service Availability",tags:["service_availability"]},{title:"Security",tags:["security"]},{title:"Fault Tolerance",tags:["fault_tolerance"]}]},67427:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(97655),n=a(71130),r=a(58844),s=a(10550),o=a(3025),i=a(28416),u=a.n(i),d=a(89497),c=a(91885),p=a(42517);const m=({limitedSupportReasons:e,isROSA:t,isOSD:a})=>(null==e?void 0:e.length)?u().createElement(l.b,{id:"limited-support-alert",variant:"danger",className:"pf-v5-u-mt-md",isInline:!0,isExpandable:e.length>1,title:`This cluster has limited support${e.length>1?" due to multiple reasons":""}.`,actionLinks:t||a?u().createElement(p.default,{href:t?c.default.ROSA_LIMITED_SUPPORT_DEFINITION:c.default.OSD_LIMITED_SUPPORT_DEFINITION},"Learn more"):null},u().createElement(n.o,null,e.map(((e,t)=>u().createElement(r.g,{key:`reason-${t}`},e.summary?u().createElement(s.M,null,e.summary):null,e.details?u().createElement(o.b,null,u().createElement(d.Z,null,e.details)):null))))):null},65932:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var l=a(28416),n=a.n(l),r=a(97655);const s=({hasClusterAutoScaler:e,hasAutoscalingMachinePools:t,isEnabledOnCurrentPool:a,warningType:l})=>{let s="",o="";switch(l){case"clusterView":e&&!t&&(o="Cluster will not autoscale",s="The cluster autoscaling settings will not have any effect as no machine pools are set to autoscale.");break;case"addMachinePool":case"editMachinePool":!e||a||t||(o="Cluster will not autoscale",s="Without machine pools which are configured to autoscale, the cluster autoscaler settings will not have any effect on the cluster.")}return s?n().createElement(r.b,{"data-testid":"inconsistent-autoscaling-settings",variant:"warning",isInline:!0,title:o},s):null}},62212:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(28416),n=a.n(l),r=a(33942),s=a(47173);const o=({isMultiZoneCluster:e,machinePool:t})=>{if(!t.autoscaling)return`${t.desired||t.replicas}`;const a=`Min: ${t.autoscaling.min_replicas}, Max: ${t.autoscaling.max_replicas}`;return e?n().createElement(r.J,{bodyContent:"Minimum and maximum node totals are calculated based on the number of zones.","aria-label":"help"},n().createElement(s.zx,{className:"nodes-count",variant:"link"},a)):a}},37455:(e,t,a)=>{"use strict";a.r(t),a.d(t,{UpdateAllMachinePools:()=>b,UpdateMachinePoolModal:()=>N,UpdatePoolButton:()=>D});var l=a(28416),n=a.n(l),r=a(97655),s=a(22305),o=a(94513),i=a(66338),u=a(87558),d=a(81249),c=a.n(d),p=a(42517),m=a(91885),f=a(96106),E=a(38352),g=a(31125),h=a(25670),v=a(89902);const b=({initialErrorMessage:e,goToMachinePoolTab:t})=>{var a,l;const d=(0,i.useDispatch)(),[b,_]=n().useState(!1),[S,C]=n().useState(e?[e]:[]),y=(0,f.useFeatureGate)(E.HCP_USE_NODE_UPGRADE_POLICIES),O=(0,v.useHCPControlPlaneUpdating)(),I=(0,i.useSelector)(v.controlPlaneIdSelector),R=(0,i.useSelector)((e=>(0,v.controlPlaneVersionSelector)(e))),T=(0,i.useSelector)((e=>{var t;return null===(t=e.machinePools)||void 0===t?void 0:t.getMachinePools})),A=(0,i.useSelector)((e=>(0,g.isHypershiftCluster)(e.clusters.details.cluster)));if(O)return null;const P=(null===(a=T.data)||void 0===a?void 0:a.filter((e=>{var t;return(0,v.compareIsMachinePoolBehindControlPlane)(R,null===(t=e.version)||void 0===t?void 0:t.id)&&(0,v.isControlPlaneValidForMachinePool)(e,R)&&!(0,v.isMachinePoolScheduleError)(e)&&!(0,v.isMachinePoolUpgrading)(e)})))||[];return 0===P.length?null:n().createElement(n().Fragment,null,!b&&S.length>0?n().createElement(r.b,{title:"Some machine pools could not be updated",variant:r.U.danger,isExpandable:!0,isInline:!0,role:"alert",className:"pf-v5-u-mt-md","data-testid":"alert-danger"},S.map(((e,t)=>n().createElement("p",{key:t},e)))):null,n().createElement(r.b,{className:t?"pf-v5-u-mb-lg":"pf-v5-u-mt-lg",isExpandable:!0,isInline:!0,role:"alert",variant:r.U.warning,title:"Update available for Machine pools","data-testid":"alert-warning",actionLinks:n().createElement(n().Fragment,null,b&&!t?n().createElement(s.$,{size:"sm","aria-label":"Updating machine pools"}):null,b||t?null:n().createElement(o.Q,{onClick:()=>{return e=void 0,t=void 0,l=function*(){_(!0);const e=yield(0,v.updateAllMachinePools)(P,I,R,y);_(!1),C(e),d((0,h.getMachineOrNodePools)(I,A,R,y))},new((a=void 0)||(a=Promise))((function(n,r){function s(e){try{i(l.next(e))}catch(e){r(e)}}function o(e){try{i(l.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}i((l=l.apply(e,t||[])).next())}));var e,t,a,l},"data-testid":"btn-update-all"},"Update all Machine pools now"),t?n().createElement(u.Link,{to:`/details/${I}#machinePools`},"Go to Machine pools list"):null)},n().createElement("p",null,"You can update all worker nodes to the current control plane version (",null===(l=c().coerce(R))||void 0===l?void 0:l.version,"), or use the CLI to update a specific version."," ",n().createElement(p.default,{href:m.default.ROSA_UPGRADES},"Learn more about updates"))))};var _=a(47173),S=a(10332),C=a(64107),y=a(25967),O=a(76490),I=a(80338),R=a(7046),T=a(59231),A=a(68248);const P=O.default.UPDATE_MACHINE_POOL_VERSION,D=({machinePool:e})=>{var t,a,l;const r=(0,i.useDispatch)(),s=(0,i.useSelector)((e=>(0,v.controlPlaneVersionSelector)(e))),o=(0,i.useSelector)((t=>(0,v.canMachinePoolBeUpgradedSelector)(t,e))),u=(0,v.useIsControlPlaneValidForMachinePool)(e),d=(0,v.isMachinePoolUpgrading)(e);if(o)return n().createElement(_.zx,{variant:_.Wu.link,isInline:!0,onClick:()=>r(R.modalActions.openModal(P,{machinePool:e}))},"Update ",n().createElement(S.OutlinedArrowAltCircleUpIcon,null));if((0,v.isMachinePoolScheduleError)(e))return n().createElement(A.default,{iconClassName:"pf-v5-u-ml-sm",isError:!0,hint:null===(t=e.upgradePolicies)||void 0===t?void 0:t.errorMessage});if(!u)return n().createElement(A.default,{iconClassName:"pf-v5-u-ml-sm",hint:`This machine pool cannot be updated because there isn't a migration path to version ${s}`});if(d){const t="This machine pool is scheduled to be updated",r=null===(l=null===(a=e.upgradePolicies)||void 0===a?void 0:a.items)||void 0===l?void 0:l[0];return(null==r?void 0:r.next_run)&&(null==r?void 0:r.version)?n().createElement(A.default,{iconClassName:"pf-v5-u-ml-sm",hint:n().createElement(n().Fragment,null,t," at ",n().createElement(C.Z,{type:"exact",date:Date.parse(r.next_run)})," ","to version ",r.version)}):n().createElement(A.default,{iconClassName:"pf-v5-u-ml-sm",hint:t})}return null},N=()=>{const[e,t]=n().useState(!1),[a,l]=n().useState(""),s=(0,i.useSelector)((e=>(0,T.isHypershiftCluster)(e.clusters.details.cluster))),o=(0,f.useFeatureGate)(E.HCP_USE_NODE_UPGRADE_POLICIES),u=(0,i.useSelector)(v.controlPlaneIdSelector),d=(0,i.useSelector)((e=>(0,v.controlPlaneVersionSelector)(e))),c=(0,i.useSelector)((e=>(0,I.default)(e,P))),p=(0,i.useSelector)((e=>e.modal.data)),{machinePool:m}=p,g=(0,i.useDispatch)(),b=()=>{g(R.modalActions.closeModal()),l(""),t(!1)};return n().useEffect((()=>function(){b()}),[]),c?n().createElement(y.default,{variant:"small",title:"Update machine pool",onClose:()=>b(),primaryText:"Update machine pool",secondaryText:"Cancel",onPrimaryClick:()=>{return e=void 0,a=void 0,r=function*(){t(!0);const e=yield(0,v.updateAllMachinePools)([m],u,d||"",o);t(!1),l(e[0]||""),g((0,h.getMachineOrNodePools)(u,s,d,o)),e[0]||g(R.modalActions.closeModal())},new((n=void 0)||(n=Promise))((function(t,l){function s(e){try{i(r.next(e))}catch(e){l(e)}}function o(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var a;e.done?t(e.value):(a=e.value,a instanceof n?a:new n((function(e){e(a)}))).then(s,o)}i((r=r.apply(e,a||[])).next())}));var e,a,n,r},onSecondaryClick:()=>b(),isPrimaryDisabled:e||!!a,isPending:e},!e&&a?n().createElement(r.b,{title:`Machine pool ${m.id} could not be updated`,variant:r.U.danger,isExpandable:!0,isInline:!0,role:"alert",className:"pf-v5-u-mt-md"},n().createElement("p",null,a)):n().createElement("p",null,"Update machine pool ",m.id," to version"," ",(0,v.displayControlPlaneVersion)(d),"?")):null}},89902:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canMachinePoolBeUpgradedSelector:()=>C,compareIsMachinePoolBehindControlPlane:()=>f,controlPlaneIdSelector:()=>u,controlPlaneVersionSelector:()=>d,displayControlPlaneVersion:()=>c,isControlPlaneValidForMachinePool:()=>v,isHCPControlPlaneUpdating:()=>p,isMachinePoolBehindControlPlane:()=>E,isMachinePoolScheduleError:()=>S,isMachinePoolUpgrading:()=>_,updateAllMachinePools:()=>h,useHCPControlPlaneUpdating:()=>m,useIsControlPlaneValidForMachinePool:()=>b,useMachinePoolBehindControlPlane:()=>g});var l=a(66338),n=a(81249),r=a.n(n),s=a(51147),o=a(59231),i=a(70769);const u=e=>e.clusters.details.cluster.id||"",d=e=>{var t,a;return(null===(a=null===(t=e.clusters.details.cluster)||void 0===t?void 0:t.version)||void 0===a?void 0:a.id)||""},c=e=>{var t;return null===(t=r().coerce(e))||void 0===t?void 0:t.version},p=e=>{var t;const a=(e=>{var t;const{schedules:a}=e.clusterUpgrades,l=a.items.find((e=>"OSD"===e.upgrade_type&&("manual"===e.schedule_type||"automatic"===e.schedule_type))),n=l&&(null===(t=null==l?void 0:l.state)||void 0===t?void 0:t.value);return n&&("started"===n||"delayed"===n)})(e),l=d(e),n=null===(t=e.machinePools)||void 0===t?void 0:t.getMachinePools;return!(0,o.isHypershiftCluster)(e.clusters.details.cluster)||!l||a||!n.data||!n.fulfilled||n.error},m=()=>(0,l.useSelector)(p),f=(e,t)=>!(!e||!t)&&r().gt(r().coerce(e)||"",r().coerce(t)||""),E=(e,t)=>{var a;if(!t||!(null===(a=t.version)||void 0===a?void 0:a.id))return!1;const l=d(e);return f(l,t.version.id)},g=e=>(0,l.useSelector)((t=>E(t,e))),h=(e,t,a,l)=>{return n=void 0,o=void 0,d=function*(){const n=[];if(!a||""===a)return["Machine pools could not be updated because control plane version is unknown"];const o=e.map((e=>{var n;if(!l)return s.default.patchNodePool(t,e.id||"",{version:{id:a}});const o={schedule_type:i.ScheduleType.MANUAL,next_run:new Date((new Date).getTime()+36e4).toISOString(),version:null===(n=r().coerce(a))||void 0===n?void 0:n.version,node_pool_id:e.id,upgrade_type:i.UpgradeType.NODE_POOL};return s.default.postNodePoolUpgradeSchedule(t,e.id||"",o)}));return(yield Promise.allSettled(o)).forEach((e=>{"rejected"===e.status&&n.push(`${e.reason.response.data.code} - ${e.reason.response.data.reason}`)})),n},new((u=void 0)||(u=Promise))((function(e,t){function a(e){try{r(d.next(e))}catch(e){t(e)}}function l(e){try{r(d.throw(e))}catch(e){t(e)}}function r(t){var n;t.done?e(t.value):(n=t.value,n instanceof u?n:new u((function(e){e(n)}))).then(a,l)}r((d=d.apply(n,o||[])).next())}));var n,o,u,d},v=(e,t)=>{var a;const l=null===(a=null==e?void 0:e.version)||void 0===a?void 0:a.available_upgrades;return!t||!l||l.some((e=>{var a;return r().eq((null===(a=r().coerce(t))||void 0===a?void 0:a.version)||"",e)}))},b=e=>{const t=(0,l.useSelector)(d);return v(e,t||"")},_=e=>{var t,a;return!!(null===(a=null===(t=e.upgradePolicies)||void 0===t?void 0:t.items)||void 0===a?void 0:a.length)},S=e=>{var t;return!!(null===(t=e.upgradePolicies)||void 0===t?void 0:t.errorMessage)},C=(e,t)=>{const a=d(e);return!p(e)&&E(e,t)&&!S(t)&&v(t,a)&&!_(t)}},53736:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(28416),n=a.n(l),r=a(25967),s=a(4651),o=a(66338),i=a(7046);const u=()=>{var e;const t=(0,o.useDispatch)(),a=(0,s.useGlobalState)((e=>e.modal.data)),l="object"==typeof(u=a)&&null!==u;var u;const{performDeleteAction:d}=a;return l?n().createElement(r.default,{title:"Permanently delete machine pool?",primaryText:"Delete",onPrimaryClick:()=>{t((0,i.closeModal)()),d()},secondaryText:"Cancel",onSecondaryClick:()=>t((0,i.closeModal)()),isOpen:!0,onClose:()=>t((0,i.closeModal)())},'"',null===(e=a.machinePool)||void 0===e?void 0:e.id,'" will be lost.'):null}},48997:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ConnectedEditMachinePoolModal:()=>lt,default:()=>nt});var l=a(28416),n=a.n(l),r=a(49739),s=a(83826),o=a(47173),i=a(75696),u=a(83559),d=a(64636),c=a(66338),p=a(18446),m=a.n(p),f=a(25967),E=a(33047),g=a(31125),h=a(7749),v=a(34693),b=a(76490),_=a(4651),S=a(7046),C=a(59231),y=a(38352),O=a(96106),I=a(22305),R=a(50693),T=a(16475),A=a(69996),P=a(59775),D=a(93149),N=a(91885),L=a(86896),w=a(42517),M=a(68248),k=a(31345);const x="autoscaling",j=({cluster:e})=>{var t;const[a]=(0,d.useField)(x),n=(0,k.Z)(null===(t=e.product)||void 0===t?void 0:t.id),r=(0,C.isROSA)(e),s=r?N.default.ROSA_AUTOSCALING:N.default.APPLYING_AUTOSCALING;return n?l.createElement(P.c,{label:"Scaling"},l.createElement(D.X,Object.assign({},a,{label:l.createElement(l.Fragment,null,"Enable autoscaling"," ",l.createElement(M.default,{hint:l.createElement(l.Fragment,null,L.constants.autoscaleHint," ",l.createElement(w.default,{href:s},"Learn more about autoscaling",r?" with ROSA":""))})),isChecked:a.value,onChange:(e,t)=>{a.onChange(e)},id:x,description:"Autoscaling automatically adds and removes worker (compute) nodes from the cluster based on resource requirements."}))):null};var F=a(12952),G=a(27730),U=a(11689),V=a(52758),H=a(69429),z=a(12812),W=a(10506),q=a(87749);const B=({value:e,fieldId:t,onSelect:a,isDisabled:n,children:r})=>{const[s,o]=l.useState(!1);return l.createElement(q.P,{selections:e,id:t,onSelect:(e,t)=>{a(t),o(!1)},isDisabled:n,isOpen:s,onToggle:(e,t)=>o(t),menuAppendTo:document.getElementById("edit-mp-modal")||void 0,maxHeight:300},r)},$="replicas",Z=({minNodesRequired:e,options:t,cluster:a,mpAvailZones:n})=>{var r;const[s]=(0,d.useField)($),o=(0,W.Z)($),i=(0,g.isMPoolAz)(a,n),u=t.includes(s.value);l.useEffect((()=>{t.length>0&&!u&&o(e)}),[u,e,o,t.length]);const c=t.length<1,p=(0,U.iG)(null===(r=a.product)||void 0===r?void 0:r.id)===V.normalizedProducts.ROSA,m=l.createElement(B,{value:`${s.value}`,fieldId:$,onSelect:e=>o(parseInt(e,10)),isDisabled:c},t.map((e=>l.createElement(G.$,{key:e,value:`${e}`},`${i?e/3:e}`))));return l.createElement(P.c,{fieldId:$,label:i?"Compute node count (per zone)":"Compute node count",isRequired:!0,labelIcon:l.createElement(M.default,{hint:l.createElement(l.Fragment,null,L.constants.computeNodeCountHint,p&&l.createElement(l.Fragment,null,l.createElement("br",null),l.createElement(w.default,{href:N.default.ROSA_WORKER_NODE_COUNT},"Learn more about worker/compute node count")))})},c?l.createElement(F.u,{content:H.noQuotaTooltip,position:"right"},m):m,l.createElement(z.FormGroupHelperText,null,i&&`x 3 zones = ${s.value}`))};var Y=a(12146),K=a(87558),Q=a(97655),J=a(31622);const X=({autoscalingEnabled:e,cluster:t,autoScaleMaxNodesValue:a,replicasValue:n,selectedMachinePoolID:r,machinePools:s})=>{const o=(({selectedMachinePoolID:e,requestedNodes:t,cluster:a,machinePools:l})=>{const n=(0,J.default)(a,l),r=n.totalMaxNodesCount;let s=0;const o=l.find((t=>t.id===e));if(o&&(s=o.autoscaling?n.totalMaxNodesCount+(t-(o.autoscaling.max_replicas||0)):n.totalMaxNodesCount+(t-(o.replicas||0))),t&&r){if(r<=100&&s>100)return 100;if(r<=25&&s>25)return 25}return 0})({cluster:t,requestedNodes:e?a:n,selectedMachinePoolID:r,machinePools:s});return o?l.createElement(Q.b,{variant:"warning",isInline:!0,title:e?`Autoscaling to a maximum node count of more than ${o} nodes may trigger manual Red Hat SRE intervention`:`Scaling node count to more than ${o} nodes may trigger manual Red Hat SRE intervention`},l.createElement("p",null,"Node scaling is automatic and will be performed immediately. Scaling node count beyond Red Hat's"," ",l.createElement(w.default,{href:N.default.ROSA_AWS_LIMITS_SCALE,noIcon:!0},"documented thresholds")," ","may trigger manual Red Hat SRE intervention to vertically scale your Infrastructure and Control Plane instances."," ",a&&"Autoscaling nodes will not trigger manual intervention until the actual node count crosses the threshold. ","To request that Red Hat SRE proactively increase your Infrastructure and Control Plane instances, please open a ",l.createElement(K.Link,{to:`/details/${t.id}#support`},"support case"),".")):null};var ee=a(65932),te=a(1321),ae=a(33988);const le="autoscaleMin",ne=({cluster:e,minNodes:t,mpAvailZones:a})=>{const[n,{error:r,touched:s}]=(0,d.useField)(le),o=(0,W.Z)(le),i=(0,g.isMPoolAz)(e,a),u=i?t/3:t,c=i?ae.MAX_NODES/3:ae.MAX_NODES;return l.createElement(P.c,{fieldId:le,label:"Minimum nodes count",isRequired:!0},l.createElement(te.Y,Object.assign({},n,{onPlus:()=>o(n.value+1),onMinus:()=>o(n.value-1),onChange:e=>{const t=e.target.value;o(Number(t))},id:le,min:u,max:c})),l.createElement(z.FormGroupHelperText,{touched:s,error:r},i&&"x 3 zones = "+3*n.value))};var re=a(51077);const se="autoscaleMax",oe=({minNodes:e,cluster:t,options:a,mpAvailZones:n})=>{var r;const[s,{error:o,touched:i}]=(0,d.useField)(se),u=(0,W.Z)(se),c=(0,g.isMPoolAz)(t,n),p=(0,U.iG)(null===(r=t.product)||void 0===r?void 0:r.id)===V.normalizedProducts.ROSA,m=a.length?a[a.length-1]:0,f=c?e/3:e,E=c?m/3:m;return l.createElement(P.c,{fieldId:se,label:"Maximum nodes count",isRequired:!0,labelIcon:l.createElement(M.default,{buttonAriaLabel:"Compute node count information",hint:l.createElement(l.Fragment,null,(0,re.computeNodeHintText)(!1,(0,C.isHypershiftCluster)(t)),p&&l.createElement(l.Fragment,null,l.createElement("br",null),l.createElement(w.default,{href:N.default.ROSA_WORKER_NODE_COUNT},"Learn more about worker/compute node count")))})},l.createElement(te.Y,Object.assign({},s,{onPlus:()=>u(s.value+1),onMinus:()=>u(s.value-1),onChange:e=>{const t=e.target.value;u(Number(t))},id:se,min:f||1,max:E})),l.createElement(z.FormGroupHelperText,{touched:i,error:o},c&&"x 3 zones = "+3*s.value))},ie=({machinePool:e,machinePools:t,cluster:a,machineTypes:n})=>{var r,s,o;const{values:i}=(0,d.useFormikContext)(),u=(0,_.useGlobalState)((e=>e.clusterAutoscaler.hasAutoscaler)),c=(0,_.useGlobalState)((e=>e.userProfile.organization)),p=(0,Y.getClusterMinNodes)({cluster:a,machineTypesResponse:n,machinePool:e,machinePools:t}),m=l.useMemo((()=>(0,A.getNodeOptions)({cluster:a,machinePool:e,machinePools:t,machineTypeId:i.instanceType,machineTypes:n,quota:c.quotaList,minNodes:p,editMachinePoolId:null==e?void 0:e.id})),[a,e,t,i.instanceType,n,c.quotaList,p]);return l.createElement(l.Fragment,null,l.createElement(j,{cluster:a}),c.pending?l.createElement("div",null,l.createElement(I.$,{size:"md"}),"Loading quota..."):l.createElement(l.Fragment,null,i.autoscaling?l.createElement(R.r,{hasGutter:!0},l.createElement(T.P,{span:5},l.createElement(ne,{minNodes:p,cluster:a,mpAvailZones:null===(r=null==e?void 0:e.availability_zones)||void 0===r?void 0:r.length})),l.createElement(T.P,{span:5},l.createElement(oe,{mpAvailZones:null===(s=null==e?void 0:e.availability_zones)||void 0===s?void 0:s.length,minNodes:p,cluster:a,options:m}))):l.createElement(Z,{mpAvailZones:null===(o=null==e?void 0:e.availability_zones)||void 0===o?void 0:o.length,minNodesRequired:p,cluster:a,options:m}),!(0,C.isHypershiftCluster)(a)&&l.createElement(ee.Z,{hasClusterAutoScaler:u,hasAutoscalingMachinePools:t.some((e=>!!e.autoscaling)),isEnabledOnCurrentPool:i.autoscaling,warningType:e?"editMachinePool":"addMachinePool"}),(null==e?void 0:e.id)&&l.createElement(X,{autoscalingEnabled:i.autoscaling,autoScaleMaxNodesValue:i.autoscaleMax,cluster:a,machinePools:t,selectedMachinePoolID:e.id,replicasValue:i.replicas})))};var ue=a(24234),de=a(99646);const ce="useSpotInstances",pe=({children:e,isDisabled:t})=>{const[a]=(0,d.useField)(ce);return l.createElement(de.default,{showTooltip:t,content:"This option cannot be edited from its original setting selection."},l.createElement(r.K,{hasGutter:!0},l.createElement(s.v,null,l.createElement(D.X,Object.assign({},a,{label:"Use Amazon EC2 Spot Instance",isChecked:a.value,onChange:(e,t)=>{a.onChange(e)},id:ce,body:a.value&&e,description:"You can save on costs by creating a machine pool running on AWS that deploys machines as non-guaranteed Spot Instances. This cannot be changed after machine pool is created.",isDisabled:t}))),a.value&&l.createElement(s.v,null,l.createElement(Q.b,{variant:"warning",title:"Your Spot Instance may be interrupted at any time. Use Spot Instances for workloads that can tolerate interruptions.",isInline:!0},l.createElement(w.default,{href:N.default.AWS_SPOT_INSTANCES},"Learn more about Spot instances")))))},me="maxPrice",fe=({isEdit:e})=>{const[t,{error:a,touched:n}]=(0,d.useField)(me),r=(0,W.Z)(me);return l.createElement(P.c,{fieldId:"maxPrice",isRequired:!0},l.createElement(te.Y,Object.assign({},t,{id:"maxPrice",onPlus:()=>{const e=Number((parseFloat(`${t.value}`)+.01).toFixed(2));r(e)},onMinus:()=>{const e=Number((parseFloat(`${t.value}`)-.01).toFixed(2));r(e)},onChange:e=>{const t=parseFloat(e.target.value),a=Number(t.toFixed(2));r(a)},unit:l.createElement("span",{className:"ocm-spot-instances__unit"},"$ Hourly"),widthChars:8,min:ae.SPOT_MIN_PRICE,isDisabled:e})),l.createElement(z.FormGroupHelperText,{touched:n,error:a}))},Ee=({isEdit:e})=>{const[t]=(0,d.useField)({name:"spotInstanceType",value:"onDemand",type:"radio"}),[a]=(0,d.useField)({name:"spotInstanceType",value:"maximum",type:"radio"});return l.createElement(T.P,null,l.createElement(P.c,{fieldId:"spotInstances",label:"Cost saving"}),l.createElement(pe,{isDisabled:e},l.createElement(i.l,null,l.createElement(ue.Y,Object.assign({},t,{isChecked:t.checked,id:"spotinstance-ondemand",onChange:(e,a)=>t.onChange(e),label:"Use On-Demand instance price",description:"The maximum price defaults to charge up to the On-Demand Instance price.",isDisabled:e})),l.createElement(ue.Y,Object.assign({},a,{isChecked:a.checked,onChange:(e,t)=>a.onChange(e),id:"spotinstance-max",label:l.createElement(l.Fragment,null,"Set maximum price"," ",l.createElement(M.default,{headerContent:"Maximum hourly price for a Spot Instance",hint:"This value should be lower or equal to the On-Demand Instance price. This cannot be changed after the machine pool is created."})),description:"Specify the maximum hourly price for a Spot Instance.",isDisabled:e,body:a.checked&&l.createElement(fe,{isEdit:e})})))))};var ge=a(83090),he=a(90181),ve=a(77589),be=a(98371);const _e=e=>e===Math.floor(e),Se=({machinePool:e,cluster:t,machineTypes:a,machinePools:n})=>{var r,s;const o=(0,g.isMPoolAz)(t,null===(r=null==e?void 0:e.availability_zones)||void 0===r?void 0:r.length),i=(0,C.isROSA)(t),u=(0,Y.getClusterMinNodes)({cluster:t,machineTypesResponse:a,machinePool:e,machinePools:n.data||[]}),d=l.useMemo((()=>{var t,a,l,n,r,s,i,d,c,p,m,f,E;let g,h,v,b,_,S="onDemand";g=(null===(t=null==e?void 0:e.autoscaling)||void 0===t?void 0:t.min_replicas)||u,h=(null===(a=null==e?void 0:e.autoscaling)||void 0===a?void 0:a.max_replicas)||u;const C=null==e?void 0:e.instance_type;var y;return"MachinePool"===(null==(y=e)?void 0:y.kind)&&(v=!!(null===(l=e.aws)||void 0===l?void 0:l.spot_market_options),S=(null===(r=null===(n=e.aws)||void 0===n?void 0:n.spot_market_options)||void 0===r?void 0:r.max_price)?"maximum":"onDemand",b=null===(i=null===(s=e.aws)||void 0===s?void 0:s.spot_market_options)||void 0===i?void 0:i.max_price,_=(null===(c=null===(d=e.root_volume)||void 0===d?void 0:d.aws)||void 0===c?void 0:c.size)||(null===(m=null===(p=e.root_volume)||void 0===p?void 0:p.gcp)||void 0===m?void 0:m.size)),o&&(g/=3,h/=3),{name:(null==e?void 0:e.id)||"",autoscaling:!!(null==e?void 0:e.autoscaling),autoscaleMin:g,autoscaleMax:h||1,replicas:(null==e?void 0:e.replicas)||u,labels:(null==e?void 0:e.labels)?Object.keys(e.labels).map((t=>{var a;return{key:t,value:null===(a=e.labels)||void 0===a?void 0:a[t]}})):[{key:"",value:""}],taints:(null===(f=null==e?void 0:e.taints)||void 0===f?void 0:f.map((e=>({key:e.key||"",value:e.value||"",effect:e.effect||"NoSchedule"}))))||[{key:"",value:"",effect:"NoSchedule"}],useSpotInstances:!!v,spotInstanceType:S,maxPrice:b||ae.SPOT_MIN_PRICE,diskSize:_||ve.defaultWorkerNodeVolumeSizeGiB,instanceType:C,privateSubnetId:void 0,securityGroupIds:(null===(E=null==e?void 0:e.aws)||void 0===E?void 0:E.additional_security_group_ids)||[]}}),[e,o,u]),p=(0,C.isHypershiftCluster)(t),m=(0,ve.getWorkerNodeVolumeSizeMaxGiB)((null===(s=t.version)||void 0===s?void 0:s.raw_id)||""),f=!!e,E=(()=>{const e=(0,c.useDispatch)();return l.useEffect((()=>{e((0,be.getOrganizationAndQuota)())}),[e]),(0,_.useGlobalState)((e=>e.userProfile.organization))})(),h=l.useMemo((()=>ge.lazy((l=>{const r=o?u/3:u,s=(0,he.validateSecurityGroups)(l.securityGroupIds),d=(0,A.getNodeOptions)({cluster:t,machinePools:n.data||[],machinePool:e,machineTypes:a,quota:E.quotaList,minNodes:u,machineTypeId:l.instanceType,editMachinePoolId:l.name}),c=d.length?d[d.length-1]:0;return ge.object({name:ge.string().test("mp-name","",(e=>{var t;const a=p?(0,he.checkNodePoolName)(e):(0,he.checkMachinePoolName)(e);return a?new ge.ValidationError(a,e,"name"):!(f||!(null===(t=n.data)||void 0===t?void 0:t.some((t=>t.id===e))))&&new ge.ValidationError("Name has to be unique.",e,"name")})),labels:ge.array().of(ge.object().shape({key:ge.string().test("label-key","",(function(e){if(1===l.labels.length&&(!e||0===e.length))return!1;const t=(0,he.checkLabelKey)(e);return t?new ge.ValidationError(t,e,this.path):l.labels.filter((({key:t})=>t===e)).length>1&&new ge.ValidationError("Each label must have a different key.",e,this.path)})),value:ge.string().test("label-value","",(function(e){const t=(0,he.checkLabelValue)(e);if(t)return new ge.ValidationError(t,e,this.path);const a=this.parent.key;return!(!e||a)&&new ge.ValidationError("Label key has to be defined",e,this.path)}))})),taints:ge.array().of(ge.object().shape({key:ge.string().test("taint-key","",(function(e){if(1===l.taints.length&&(!e||0===e.length))return!1;const t=(0,he.checkTaintKey)(e);return!!t&&new ge.ValidationError(t,e,this.path)})),value:ge.string().test("taint-value","",(function(e){const t=(0,he.checkTaintValue)(e);if(t)return new ge.ValidationError(t,e,this.path);const a=this.parent.key;return!(!e||a)&&new ge.ValidationError("Taint key has to be defined",e,this.path)}))})),autoscaleMin:l.autoscaling?ge.number().test("whole-number","Decimals are not allowed. Enter a whole number.",_e).min(r,`Input cannot be less than ${r}.`).max(l.autoscaleMax,"Min nodes cannot be more than max nodes."):ge.number(),autoscaleMax:l.autoscaling?ge.number().test("autoscale-max","",(e=>_e(e)?e<1&&new ge.ValidationError("Max nodes must be greater than 0.",e,"autoscaleMax"):new ge.ValidationError("Decimals are not allowed. Enter a whole number.",e,"autoscaleMax"))).min(l.autoscaleMin,"Max nodes cannot be less than min nodes.").max(o?c/3:c,`Input cannot be more than ${o?c/3:c}.`):ge.number(),autoscaling:ge.boolean(),diskSize:i?ge.number().min(ve.workerNodeVolumeSizeMinGiB,`Disk size must be at least ${ve.workerNodeVolumeSizeMinGiB} GiB`).max(m,`Disk size can not be more than ${m} GiB`).test("whole-number","Decimals are not allowed. Enter a whole number.",_e):ge.number(),spotInstanceType:ge.mixed(),maxPrice:"maximum"===l.spotInstanceType?ge.number().min(ae.SPOT_MIN_PRICE,`Price has to be at least ${ae.SPOT_MIN_PRICE}`):ge.number(),instanceType:f?ge.string():ge.string().required("Compute node instance type is a required field."),replicas:ge.number(),useSpotInstances:ge.boolean(),privateSubnetId:!f&&p?ge.string().required("Please select a subnet."):ge.string(),securityGroupIds:p?ge.mixed():ge.array().of(ge.string()).test("max-security-groups",s||"",(()=>void 0===s))})}))),[p,u,o,i,m,f,e,n.data,E,t,a]);return{initialValues:d,validationSchema:h}},Ce="diskSize",ye=({cluster:e,isEdit:t})=>{var a,n;const r=(0,U.iG)(null===(a=e.product)||void 0===a?void 0:a.id)===V.normalizedProducts.ROSA&&!(0,C.isHypershiftCluster)(e),[s,{error:o,touched:i}]=(0,d.useField)(Ce),u=(0,W.Z)(Ce),c=(0,ve.getWorkerNodeVolumeSizeMaxGiB)((null===(n=e.version)||void 0===n?void 0:n.raw_id)||"");return r?l.createElement(P.c,{fieldId:Ce,label:"Root disk size",isRequired:!0,labelIcon:l.createElement(M.default,{hint:`Root disks are AWS EBS volumes attached as the primary disk for AWS EC2 instances. The root disk size for this machine pool group of nodes must be between ${ve.workerNodeVolumeSizeMinGiB}GiB and ${c}GiB.`})},l.createElement(de.default,{showTooltip:t,content:"This option cannot be edited from its original setting selection."},l.createElement(te.Y,Object.assign({},s,{onPlus:()=>u(s.value+1),onMinus:()=>u(s.value-1),onChange:e=>{const t=e.target.value;u(Number(t))},id:Ce,min:ve.workerNodeVolumeSizeMinGiB,max:c,unit:l.createElement("span",{className:"ocm-disk-size_unit"},"GiB"),isDisabled:t}))),l.createElement(z.FormGroupHelperText,{touched:i,error:o})):null};var Oe=a(68340),Ie=a(88993),Re=a(92607);const Te=({fieldId:e,label:t,isRequired:a,isDisabled:n})=>{const[r,{error:s,touched:o}]=(0,d.useField)(e);return l.createElement(P.c,{fieldId:e,label:t,isRequired:a},l.createElement(Re.oi,Object.assign({},r,{id:e,onChange:(e,t)=>{r.onChange(e)},isDisabled:n})),l.createElement(z.FormGroupHelperText,{touched:o,error:s}))};var Ae=a(71415);const Pe=({input:e,index:t,onRemove:a,onPush:n})=>{const r=0===t&&!e.value[t].key&&!e.value[t].value;return l.createElement(o.zx,{icon:l.createElement(Ae.MinusCircleIcon,null),onClick:()=>{const l=1===e.value.length;a(t),l&&n()},variant:"link",isInline:!0,isDisabled:r})},De=()=>{const[e]=(0,d.useField)("labels");return l.createElement(T.P,null,l.createElement(P.c,{fieldId:"labels",label:"Node labels"},l.createElement(z.FormGroupHelperText,null,l.createElement("div",{className:"uhc-labels-section__description"},"Labels help you organize and select resources. Adding labels below will let you query for objects that have similar, overlapping or dissimilar labels."))),l.createElement(d.FieldArray,{name:"labels",render:({push:t,remove:a})=>l.createElement(l.Fragment,null,l.createElement(R.r,{hasGutter:!0},l.createElement(T.P,{span:4},l.createElement(Oe.x,{component:Oe.q.small},"Key")),l.createElement(T.P,{span:8},l.createElement(Oe.x,{component:Oe.q.small},"Value"))),l.createElement(R.r,{hasGutter:!0},e.value.map(((n,r)=>{const s=`labels[${r}].key`,o=`labels[${r}].value`;return l.createElement(l.Fragment,{key:r},l.createElement(T.P,{span:4},l.createElement(Te,{fieldId:s})),l.createElement(T.P,{span:4},l.createElement(Te,{fieldId:o})),l.createElement(T.P,{span:4},l.createElement(Pe,{input:e,index:r,onRemove:a,onPush:()=>t({key:"",value:""})})))})),l.createElement(T.P,{span:6},l.createElement(o.zx,{icon:l.createElement(Ie.PlusCircleIcon,null),onClick:()=>t({key:"",value:""}),variant:"link",isInline:!0},"Add label"))))}))},Ne=({fieldId:e,isDisabled:t})=>{const[a]=(0,d.useField)(e),n=(0,W.Z)(e);return l.createElement(B,{value:a.value,fieldId:e,onSelect:n,isDisabled:t},l.createElement(G.$,{value:"NoSchedule"},"NoSchedule"),l.createElement(G.$,{value:"NoExecute"},"NoExecute"),l.createElement(G.$,{value:"PreferNoSchedule"},"PreferNoSchedule"))},Le=({machinePoolId:e,cluster:t,machinePools:a,machineTypes:n})=>{const[r]=(0,d.useField)("taints"),s=!!e&&(0,Y.isEnforcedDefaultMachinePool)(e,a,n,t),i=!e||(0,Y.isMinimumCountWithoutTaints)({currentMachinePoolId:e,machinePools:a,cluster:t});let u;return s?u="Machine pool ineligible for taints":i||(u="Taints cannot be added unless there are at least 2 nodes without taints across all machine pools."),l.createElement(T.P,null,l.createElement(P.c,{fieldId:"taints",label:"Taints"}),l.createElement(de.default,{showTooltip:!!u,content:u},l.createElement("div",null,l.createElement(d.FieldArray,{name:"taints",render:({push:e,remove:t})=>l.createElement(l.Fragment,null,l.createElement(R.r,{hasGutter:!0},l.createElement(T.P,{span:4},l.createElement(Oe.x,{component:Oe.q.small},"Key")),l.createElement(T.P,{span:4},l.createElement(Oe.x,{component:Oe.q.small},"Value")),l.createElement(T.P,{span:4},l.createElement(Oe.x,{component:Oe.q.small},"Effect"))),l.createElement(R.r,{hasGutter:!0},r.value.map(((a,n)=>{const s=`taints[${n}].key`,o=`taints[${n}].value`,i=`taints[${n}].effect`;return l.createElement(l.Fragment,{key:n},l.createElement(T.P,{span:4},l.createElement(Te,{fieldId:s,isDisabled:!!u})),l.createElement(T.P,{span:4},l.createElement(Te,{fieldId:o,isDisabled:!!u})),l.createElement(T.P,{span:3},l.createElement(Ne,{fieldId:i,isDisabled:!!u})),l.createElement(T.P,{span:1},l.createElement(Pe,{input:r,index:n,onRemove:t,onPush:()=>e({key:"",value:"",effect:"NoSchedule"})})))})),l.createElement(T.P,{span:6},l.createElement(o.zx,{icon:l.createElement(Ie.PlusCircleIcon,null),onClick:()=>e({key:"",value:"",effect:"NoSchedule"}),variant:"link",isInline:!0,isDisabled:!!u},"Add taint"))))}))))};var we=a(18483),Me=a(82714);const ke="privateSubnetId",xe=({cluster:e})=>{const[t,a,{setValue:n}]=(0,d.useField)(ke),{clusterVpc:r,isLoading:s,hasError:o}=(0,Me.useAWSVPCFromCluster)(e),i=l.useMemo((()=>({input:{onChange:e=>{n(e)},value:t.value,name:t.name},meta:{error:a.touched?a.error:void 0,touched:a.touched}})),[t.value,t.name,a.error,a.touched,n]);return s?l.createElement(I.$,{size:"md"},"Loading the cluster VPC"):!r||o?l.createElement(Q.b,{variant:"danger",isInline:!0,isPlain:!0,title:"Failed to load the machine pool VPC. Please try refreshing the page.",className:"pf-v5-u-mb-sm"}):l.createElement(we.SubnetSelectField,Object.assign({name:ke,privacy:"private",label:"Private subnet name",isRequired:!0,selectedVPC:r},i))};var je=a(1602);const Fe="instanceType",Ge={input:{value:void 0,onChange:()=>{}}},Ue=({cluster:e})=>{var t,a,n;const[r,s]=(0,d.useField)(Fe),o=(0,W.Z)(Fe),i=l.useMemo((()=>({input:{value:r.value,name:r.name,onChange:o},meta:{error:s.error,touched:s.touched}})),[r.value,r.name,s.error,s.touched,o]);return l.createElement(T.P,null,l.createElement(je.default,{machine_type:i,machine_type_force_choice:Ge,isMultiAz:(0,g.isMultiAZ)(e),isBYOC:!!(null===(t=e.ccs)||void 0===t?void 0:t.enabled),cloudProviderID:null===(a=e.cloud_provider)||void 0===a?void 0:a.id,product:(0,U.iG)(null===(n=e.product)||void 0===n?void 0:n.id),isMachinePool:!0,billingModel:e.billing_model||V.billingModels.STANDARD,inModal:!0,menuAppendTo:document.getElementById("edit-mp-modal")}))},Ve=({cluster:e,isEdit:t,machinePools:a,setCurrentMPId:n,currentMPId:r})=>t?l.createElement(P.c,{fieldId:"machine-pool",label:"Machine pool"},l.createElement(B,{fieldId:"machine-pool",onSelect:n,value:r},a.map((e=>l.createElement(G.$,{key:e.id,value:e.id},e.id||""))))):l.createElement(l.Fragment,null,l.createElement(Te,{fieldId:"name",label:"Machine pool name",isRequired:!0}),(0,C.isHypershiftCluster)(e)&&l.createElement(xe,{cluster:e}),l.createElement(Ue,{cluster:e}));var He=a(46786),ze=a(85547),We=a(42820),qe=a(22427),Be=a(94513);const $e=()=>n().createElement(Q.b,{variant:"info",isInline:!0,title:"You cannot add or edit security groups to the machine pool nodes after they are created.",actionLinks:n().createElement(n().Fragment,null,n().createElement(Be.Q,{component:"a",href:N.default.ROSA_SECURITY_GROUPS,target:"_blank"},"View more information"),n().createElement(Be.Q,{component:"a",href:N.default.AWS_CONSOLE_SECURITY_GROUPS,target:"_blank"},"AWS security groups console"))}),Ze="securityGroupIds",Ye=({cluster:e,isReadOnly:t})=>{const[a]=(0,d.useField)(Ze),l=(0,W.Z)(Ze),{clusterVpc:r,isLoading:s}=(0,Me.useAWSVPCFromCluster)(e);return s?n().createElement(I.$,null,"Loading security groups"):r?0===(r.aws_security_groups||[]).length?n().createElement(qe.Z,null):(0,ze.getIncompatibleVersionReason)(He.SupportedFeature.SECURITY_GROUPS,e.openshift_version,{day2:!0})?n().createElement(n().Fragment,null,"incompatibleReason"):n().createElement(n().Fragment,null,n().createElement($e,null),n().createElement(We.Z,{selectedVPC:r,isReadOnly:t,selectedGroupIds:a.value,onChange:l})):n().createElement(Q.b,{variant:Q.U.warning,title:"Could not load the cluster's VPC",isInline:!0},"Please try refreshing the machine pool details")},Ke=({cluster:e,isReadOnly:t})=>(0,O.useFeatureGate)(y.SECURITY_GROUPS_FEATURE)&&(0,He.isCompatibleFeature)(He.SupportedFeature.SECURITY_GROUPS,e,{day2:!0})?n().createElement(u.L,{toggleContent:n().createElement(de.default,{showTooltip:t,content:"This option cannot be edited from its original setting selection."},n().createElement("span",null,"Security groups"))},n().createElement(Ye,{cluster:e,isReadOnly:t})):null,Qe=e=>1!==e.length||e[0].key?e.reduce(((e,{key:t,value:a})=>(e[t]=a,e)),{}):{},Je=e=>1!==e.length||e[0].key?e:[],Xe=(e,t,a)=>{if(e.autoscaling){const l=e.autoscaleMax*(t?3:1),n=e.autoscaleMin*(t?3:1);return{autoscaling:a?{max_replica:l,min_replica:n}:{max_replicas:l,min_replicas:n}}}return{replicas:e.replicas}};var et=a(25670);var tt=a(7076);const at=({cluster:e,onClose:t,onSave:a,machinePoolId:n,isEdit:c,machinePoolsResponse:p,machineTypesResponse:b,shouldDisplayClusterName:_})=>{const S=l.useCallback((()=>!!c||!!n),[c,n]),[y,O]=l.useState(),[I,R]=l.useState(),[T,A]=l.useState(S()),{initialValues:P,validationSchema:D}=Se({machinePool:I,cluster:e,machinePools:p,machineTypes:b}),N=l.useCallback((e=>{var t;return R(null===(t=p.data)||void 0===t?void 0:t.find((t=>t.id===e)))}),[R,p.data]);return l.useEffect((()=>{var e;p.pending?R(void 0):(null===(e=p.data)||void 0===e?void 0:e.length)&&(n?N(n):T&&R(p.data[0]))}),[p.pending,p.data,n,T,N]),l.useEffect((()=>{A(S())}),[S]),l.createElement(d.Formik,{onSubmit:l=>{return n=void 0,r=void 0,o=function*(){O(void 0);try{yield(({cluster:e,values:t,currentMPId:a,currentMachinePool:l})=>{var n;const r=(0,C.isHypershiftCluster)(e),s=(0,g.isMPoolAz)(e,null===(n=null==l?void 0:l.availability_zones)||void 0===n?void 0:n.length),o=r?((e,{isEdit:t,isMultiZoneMachinePool:a})=>{const l=Object.assign({id:e.name,labels:Qe(e.labels),taints:Je(e.taints)},Xe(e,a,!0));return t||(l.subnet=e.privateSubnetId,l.aws_node_pool={instance_type:e.instanceType}),l})(t,{isEdit:!!a,isMultiZoneMachinePool:s}):((e,{isEdit:t,isMultiZoneMachinePool:a,isROSACluster:l})=>{const n=Object.assign({id:e.name,labels:Qe(e.labels),taints:Je(e.taints)},Xe(e,a,!1));if(!t){const t={};n.instance_type=e.instanceType,e.useSpotInstances&&(t.spot_market_options="maximum"===e.spotInstanceType?{max_price:e.maxPrice}:{}),e.securityGroupIds.length>0&&(t.additional_security_group_ids=e.securityGroupIds),l&&(n.root_volume={aws:{size:e.diskSize}}),Object.keys(t).length>0&&(n.aws=t)}return n})(t,{isEdit:!!a,isMultiZoneMachinePool:s,isROSACluster:(0,C.isROSA)(e)});return a?(r?E.clusterService.patchNodePool:E.clusterService.patchMachinePool)(e.id||"",a,o):(r?E.clusterService.addNodePool:E.clusterService.addMachinePool)(e.id||"",o)})({cluster:e,values:l,currentMPId:null==I?void 0:I.id,currentMachinePool:I}),null==a||a(),t()}catch(e){O(e)}},new((s=void 0)||(s=Promise))((function(e,t){function a(e){try{i(o.next(e))}catch(e){t(e)}}function l(e){try{i(o.throw(e))}catch(e){t(e)}}function i(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(a,l)}i((o=o.apply(n,r||[])).next())}));var n,r,s,o},initialValues:P,validationSchema:D,enableReinitialize:!0,validateOnMount:!0},(({isValid:a,submitForm:n,isSubmitting:d,values:c})=>{var E,g,S;return l.createElement(f.default,{id:"edit-mp-modal",title:T?"Edit machine pool":"Add machine pool",secondaryTitle:_?e.name:void 0,onClose:d?void 0:t,isPending:p.pending||!p.error&&!p.fulfilled||!b.error&&!b.fulfilled||T&&b.fulfilled&&p.fulfilled&&!I,modalSize:"large",description:!T&&"A machine pool is a group of machines that are all clones of the same configuration, that can be used on demand by an application running on a pod.",footer:l.createElement(r.K,{hasGutter:!0},y&&l.createElement(s.v,null,l.createElement(h.default,{message:T?"Error editing machine pool":"Error adding machine pool",response:{errorDetails:null===(g=null===(E=y.response)||void 0===E?void 0:E.data)||void 0===g?void 0:g.details,errorMessage:(0,v.getErrorMessage)({payload:y}),operationID:null===(S=y.response)||void 0===S?void 0:S.data.operation_id}})),l.createElement(s.v,null,l.createElement(o.zx,{isDisabled:!a||d||!p.fulfilled||!b.fulfilled||m()(P,c),onClick:n,isLoading:d,className:"pf-v5-u-mr-md","data-testid":"submit-btn"},T?"Save":"Add machine pool"),l.createElement(o.zx,{variant:"secondary",isDisabled:d,onClick:t,"data-testid":"cancel-btn"},"Cancel")))},p.error||b.error?l.createElement(h.default,{message:"Failed to fetch resources",response:p.error?p:b}):l.createElement(i.l,null,l.createElement(Ve,{cluster:e,machinePools:p.data||[],isEdit:T,currentMPId:null==I?void 0:I.id,setCurrentMPId:N}),l.createElement(ie,{cluster:e,machinePool:I,machinePools:p.data||[],machineTypes:b}),l.createElement(ye,{cluster:e,isEdit:T}),l.createElement(u.L,{toggleText:"Edit node labels and taints"},l.createElement(De,null),l.createElement(Le,{cluster:e,machinePools:p.data||[],machinePoolId:null==I?void 0:I.id,machineTypes:b})),l.createElement(Ke,{cluster:e,isReadOnly:T}),(0,Y.canUseSpotInstances)(e)&&l.createElement(Ee,{isEdit:T})))}))},lt=({clearMachinePools:e})=>{var t;const a=(0,_.useGlobalState)((e=>e.modal.data)),n=(0,c.useDispatch)(),r=(0,O.useFeatureGate)(y.HCP_USE_NODE_UPGRADE_POLICIES),{cluster:s,shouldDisplayClusterName:o}=a,i=(e=>{var t;const a=(0,c.useDispatch)(),n=(0,O.useFeatureGate)(y.HCP_USE_NODE_UPGRADE_POLICIES),r=(0,C.isHypershiftCluster)(e);return l.useEffect((()=>{var t;(null==e?void 0:e.id)&&(0,et.getMachineOrNodePools)(e.id,r,null===(t=e.version)||void 0===t?void 0:t.id,n)(a)}),[a,null==e?void 0:e.id,r,null===(t=null==e?void 0:e.version)||void 0===t?void 0:t.id,n]),(0,_.useGlobalState)((e=>e.machinePools.getMachinePools))})(s),u=(()=>{const e=(0,c.useDispatch)();return l.useEffect((()=>{e((0,tt.getMachineTypes)())}),[e]),(0,_.useGlobalState)((e=>e.machineTypes))})(),d=(0,C.isHypershiftCluster)(s),p=d?Object.assign(Object.assign({},i),{data:(null===(t=i.data)||void 0===t?void 0:t.map(Y.normalizeNodePool))||[]}):i;return s?l.createElement(at,{shouldDisplayClusterName:o,cluster:s,onClose:()=>{n((0,S.closeModal)()),e&&(0,et.clearGetMachinePoolsResponse)()(n)},isEdit:!0,machineTypesResponse:u,machinePoolsResponse:p,onSave:()=>{i.pending||(0,et.getMachineOrNodePools)(s.id,d,s.version.raw_id,r)(n)}}):null};lt.modalName=b.default.EDIT_MACHINE_POOL;const nt=at},31345:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var l=a(4651),n=a(52758),r=a(23343);const s=e=>{const t=(0,l.useGlobalState)((e=>(0,r.hasOrgLevelAutoscaleCapability)(e.userProfile.organization.details)));return e===n.normalizedProducts.ROSA||e===n.normalizedProducts.OSD&&t}},26930:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MachinePoolItemList:()=>_,default:()=>S,securityGroupsRenderer:()=>b});var l=a(28416),n=a.n(l),r=a(85583),s=a(40843),o=a(50693),i=a(16475),u=a(41609),d=a.n(u),c=a(69429),p=a(82714),m=a(12146),f=a(79851),E=a(34512);const g=(e,t)=>void 0===e?0:t?e/3:e,h=({isMultiZoneCluster:e,autoscaling:t,isMultiZoneMachinePool:a})=>n().createElement(n().Fragment,null,n().createElement(r.D,{headingLevel:"h4",className:"pf-v5-u-mb-sm pf-v5-u-mt-lg"},"Autoscaling"),n().createElement(f.P,{hasGutter:!0},n().createElement(E.J,null,n().createElement(r.D,{headingLevel:"h4",className:"autoscale__lim"},"Min nodes "+(a?"per zone":"")),g(t.min_replicas,a)),n().createElement(E.J,null,n().createElement(r.D,{headingLevel:"h4",className:"autoscale__lim"},"Max nodes "+(a?"per zone":"")),g(t.max_replicas,a))));var v=a(31125);const b=(e,t)=>e.map((e=>{var a;return(null===(a=t.find((t=>t.id===e)))||void 0===a?void 0:a.name)||e})),_=({title:e,items:t,showSmallTitle:a=!1})=>n().createElement(n().Fragment,null,!a&&n().createElement(r.D,{headingLevel:"h4"},e),a&&n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-font-weight-bold pf-v5-u-disabled-color-100"},e),t.map(((t,a)=>{const l=t.length>50,r=l?(0,c.truncateTextWithEllipsis)(t,50):t;return n().createElement(s._,{color:"blue",key:`${e}-${a}`,className:"pf-v5-c-label--break-word pf-v5-u-m-sm pf-v5-u-ml-0",title:l?t:""},r)}))),S=({cluster:e,isMultiZoneCluster:t,machinePool:a})=>{var l,s,u;const{clusterVpc:c}=(0,p.useAWSVPCFromCluster)(e),f=null===(l=null==a?void 0:a.aws)||void 0===l?void 0:l.spot_market_options,E=(null===(s=a.aws)||void 0===s?void 0:s.additional_security_group_ids)||[],g=(0,v.isMPoolAz)(e,null===(u=a.availability_zones)||void 0===u?void 0:u.length);return n().createElement(o.r,{hasGutter:!0},!d()(a.labels)&&n().createElement(i.P,{md:6},n().createElement(_,{title:"Labels",items:(C=a.labels||{},Object.keys(C||{}).map((e=>{const t=C[e]||"";return`${e}${t?" = ":""}${t}`})))})),a.taints&&n().createElement(i.P,{md:6},n().createElement(_,{title:"Taints",items:(S=a.taints,(S||[]).map((e=>`${e.key} = ${e.value}:${e.effect}`)))})),E.length>0&&n().createElement(i.P,{md:6},n().createElement(_,{title:"Security groups",items:b(E,(null==c?void 0:c.aws_security_groups)||[])})),(0,m.hasSubnets)(a)&&n().createElement(i.P,{md:6},n().createElement(_,{title:"Subnets",items:(0,m.getSubnetIds)(a)})),a.autoscaling&&n().createElement(i.P,{md:6},n().createElement(h,{isMultiZoneMachinePool:g,isMultiZoneCluster:t,autoscaling:a.autoscaling})),f&&n().createElement(i.P,{md:6},n().createElement(r.D,{headingLevel:"h4"},"Spot instance pricing"),f.max_price?`Maximum hourly price: ${f.max_price}`:"On-Demand"));var S,C}},4397:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_DELETE_MACHINE_POOL_RESPONSE:()=>s,CLEAR_GET_MACHINE_POOLS_RESPONSE:()=>r,DELETE_MACHINE_POOL:()=>n,GET_MACHINE_POOLS:()=>l});const l="GET_MACHINE_POOLS",n="DELETE_MACHINE_POOL",r="CLEAR_GET_MACHINE_POOLS_RESPONSE",s="CLEAR_DELETE_MACHINE_POOL_RESPONSE"},12146:(e,t,a)=>{"use strict";a.r(t),a.d(t,{actionResolver:()=>p,canUseSpotInstances:()=>S,getClusterMinNodes:()=>g,getMinNodesRequired:()=>u,getNodeIncrement:()=>h,getNodeIncrementHypershift:()=>v,getSubnetIds:()=>f,hasDefaultOrExplicitAutoscalingMachinePool:()=>_,hasExplicitAutoscalingMachinePool:()=>b,hasSubnets:()=>E,isEnforcedDefaultMachinePool:()=>d,isMinimumCountWithoutTaints:()=>c,normalizeNodePool:()=>m});var l=a(11689),n=a(52758),r=a(59231),s=a(69429),o=a(31125);const i=(e,t,a)=>e?t?a?3:2:a?9:4:0,u=(e,t,a)=>{return e?void 0===(l=null==t?void 0:t.numMachinePools)?1:1===l?2:l||0:i(null==a?void 0:a.isDefaultMachinePool,null==a?void 0:a.isByoc,null==a?void 0:a.isMultiAz);var l},d=(e,t,a,l)=>{var n,s,u,d,c,p,m;if((0,r.isHypershiftCluster)(l))return!1;if(!(null===(n=l.ccs)||void 0===n?void 0:n.enabled))return"worker"===e;const f=null===(u=null===(s=a.types)||void 0===s?void 0:s.aws)||void 0===u?void 0:u.find((e=>"m5.xlarge"===e.id)),E=i(!0,null===(d=null==l?void 0:l.ccs)||void 0===d?void 0:d.enabled,(0,o.isMultiAZ)(l)),g="aws"===(null===(c=l.cloud_provider)||void 0===c?void 0:c.id)?null===(p=a.types)||void 0===p?void 0:p.aws:null===(m=a.types)||void 0===m?void 0:m.gcp;return!t.filter((t=>t.id!==e)).some((e=>{var t,a,l,n,r,s,o,i,u,d,c;const p="NodePool"===e.kind?null===(t=e.aws_node_pool)||void 0===t?void 0:t.instance_type:e.instance_type,m=null==g?void 0:g.find((e=>e.id===p));return m&&!e.taints&&(e.replicas&&e.replicas>=E||(null===(a=e.autoscaling)||void 0===a?void 0:a.min_replicas)&&(null===(l=e.autoscaling)||void 0===l?void 0:l.min_replicas)>=E)&&(null!==(r=null===(n=null==m?void 0:m.cpu)||void 0===n?void 0:n.value)&&void 0!==r?r:0)>=(null!==(o=null===(s=null==f?void 0:f.cpu)||void 0===s?void 0:s.value)&&void 0!==o?o:0)&&(null!==(u=null===(i=null==m?void 0:m.memory)||void 0===i?void 0:i.value)&&void 0!==u?u:0)>=(null!==(c=null===(d=null==f?void 0:f.memory)||void 0===d?void 0:d.value)&&void 0!==c?c:0)}))},c=({currentMachinePoolId:e,machinePools:t,cluster:a})=>!(0,r.isHypershiftCluster)(a)||(null==t?void 0:t.reduce(((t,a)=>{var l,n,r,s;return a.id===e||(null===(l=a.taints)||void 0===l?void 0:l.length)?t:t+(null!==(s=null!==(r=null===(n=a.autoscaling)||void 0===n?void 0:n.min_replicas)&&void 0!==r?r:a.replicas)&&void 0!==s?s:0)}),0))>=2,p=({rowData:e,onClickEdit:t,onClickDelete:a,onClickUpdate:l,canDelete:n,cluster:r,machinePools:s,machineTypes:o})=>{if(!e.machinePool)return[];const i=((e,t,a,l)=>{const n=!e&&"You do not have permissions to delete machine pools",r=1===t.length&&"The last machine pool cannot be deleted";return n||r||a&&"Machine pool ineligible for deletion"||!l&&"There needs to be at least 2 nodes without taints across all machine pools"||void 0})(n,s,d(e.machinePool.id,s,o,r),c({currentMachinePoolId:e.machinePool.id,machinePools:s,cluster:r}));return[{title:"Edit",onClick:t,className:"hand-pointer"},Object.assign({title:"Delete",onClick:a,className:"hand-pointer",isAriaDisabled:!!i},!!i&&{tooltipProps:{content:i}}),...void 0!==l?[{title:"Update version",onClick:l,className:"hand-pointer"}]:[]]},m=e=>{var t,a,l,n,r;const s=Object.assign(Object.assign({},e),{instance_type:null===(t=e.aws_node_pool)||void 0===t?void 0:t.instance_type});return e.autoscaling&&(s.autoscaling=Object.assign({},e.autoscaling),(null===(a=e.autoscaling)||void 0===a?void 0:a.min_replica)&&(null===(l=e.autoscaling)||void 0===l?void 0:l.min_replica)>0&&(s.autoscaling.min_replicas=e.autoscaling.min_replica,delete s.autoscaling.min_replica),(null===(n=e.autoscaling)||void 0===n?void 0:n.max_replica)&&(null===(r=e.autoscaling)||void 0===r?void 0:r.max_replica)>0&&(s.autoscaling.max_replicas=e.autoscaling.max_replica,delete s.autoscaling.max_replica)),s},f=e=>{const{subnet:t,subnets:a}=e;return(0,s.asArray)(t||a||[])},E=e=>f(e).length>0,g=({cluster:e,machineTypesResponse:t,machinePool:a,machinePools:l})=>{var n;if((0,r.isHypershiftCluster)(e))return c({currentMachinePoolId:null==a?void 0:a.id,cluster:e,machinePools:l})?1:2;const s=(0,o.isMultiAZ)(e),u=!!a&&d(a.id,l,t,e);return i(u,!!(null===(n=null==e?void 0:e.ccs)||void 0===n?void 0:n.enabled),s)},h=e=>e?3:1,v=e=>null!=e?e:1,b=(e,t)=>(e||[]).some((e=>!(!e.autoscaling||t&&t===e.id))),_=(e,t,a)=>{var l;return!!(null===(l=null==e?void 0:e.nodes)||void 0===l?void 0:l.autoscale_compute)||b(t,a)},S=e=>{var t,a,s;const o=null===(t=e.cloud_provider)||void 0===t?void 0:t.id,i=(0,l.iG)(null===(a=e.product)||void 0===a?void 0:a.id);return"aws"===o&&!(0,r.isHypershiftCluster)(e)&&(i===n.normalizedProducts.ROSA||i===n.normalizedProducts.OSD&&(null===(s=e.ccs)||void 0===s?void 0:s.enabled))}},23343:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canAutoScaleOnCreateSelector:()=>d,hasMachinePoolsQuotaSelector:()=>o,hasOrgLevelAutoscaleCapability:()=>i,hasOrgLevelBypassPIDsLimitCapability:()=>u});var l=a(27361),n=a.n(l),r=a(52758),s=a(69816);const o=(e,t,a)=>{var l;if(!(null==e?void 0:e.fulfilled))return!1;const o=null===(l=null==t?void 0:t.cloud_provider)||void 0===l?void 0:l.id,i=n()(t,"subscription.cluster_billing_model",r.billingModels.STANDARD);return!(!o||!a)&&n()(a,o,[]).some((a=>((e,t,a,l,n)=>{var r,o,i;const u={product:null===(o=null===(r=null==t?void 0:t.subscription)||void 0===r?void 0:r.plan)||void 0===o?void 0:o.type,cloudProviderID:a,isBYOC:!!(null===(i=null==t?void 0:t.ccs)||void 0===i?void 0:i.enabled),isMultiAz:t.multi_az,resourceName:e.generic_name,billingModel:l};return(0,s.availableNodesFromQuota)(null==n?void 0:n.quotaList,u)>=1})(a,t,o,i,e)))},i=e=>{var t;const a=(null!==(t=null==e?void 0:e.capabilities)&&void 0!==t?t:[]).find((e=>"capability.cluster.autoscale_clusters"===e.name));return!(!a||"true"!==a.value)},u=e=>{var t;return(null!==(t=null==e?void 0:e.capabilities)&&void 0!==t?t:[]).some((e=>"capability.organization.bypass_pids_limits"===e.name&&"true"===e.value))},d=(e,t)=>t===r.normalizedProducts.ROSA||t===r.normalizedProducts.OSD&&i(e)},42957:(e,t,a)=>{"use strict";a.r(t),a.d(t,{alertsSeverity:()=>n,getIssuesAndWarnings:()=>E,hasData:()=>f,hasResourceUsageMetrics:()=>h,maxMetricsTimeDelta:()=>g,monitoringItemLinkProps:()=>_,monitoringItemTypes:()=>o,monitoringStatuses:()=>l,operatorsStatuses:()=>r,resourceUsageIssuesHelper:()=>v,thresholds:()=>s});var l,n,r,s,o,i=a(27484),u=a.n(i),d=a(52758),c=a(78913),p=a(31125);!function(e){e.HEALTHY="HEALTHY",e.HAS_ISSUES="HAS_ISSUES",e.DISCONNECTED="DISCONNECTED",e.NO_METRICS="NO_METRICS",e.UPGRADING="UPGRADING",e.UNKNOWN="UNKNOWN"}(l||(l={})),function(e){e.WARNING="warning",e.CRITICAL="critical",e.INFO="info"}(n||(n={})),function(e){e.AVAILABLE="available",e.FAILING="failing",e.UPGRADING="upgrading",e.DEGRADED="degraded",e.UNKNOWN="unknown"}(r||(r={})),function(e){e[e.WARNING=.8]="WARNING",e[e.DANGER=.95]="DANGER"}(s||(s={})),function(e){e.NODE="node",e.ALERT="alert",e.OPERATOR="operator"}(o||(o={}));const m={rel:"noopener noreferrer",target:"_blank"},f=e=>{var t,a;return(null!==(a=null===(t=e.data)||void 0===t?void 0:t.length)&&void 0!==a?a:0)>0},E=({data:e,criteria:t,issuesMatch:a,warningsMatch:l})=>{if(!e||0===e.length)return{issuesCount:null,warningsCount:null};let n=0,r=l?0:null;return e.forEach((e=>{e[t]===a&&(n+=1),null!==l&&null!==r&&e[t]===l&&(r+=1)})),{issuesCount:n,warningsCount:r}},g=3,h=e=>{var t,a,l,n,r,s;const o=u().utc(null!==(a=null===(t=e.metrics)||void 0===t?void 0:t.cpu.updated_timestamp)&&void 0!==a?a:0),i=u().utc(),m=(null===(l=e.subscription)||void 0===l?void 0:l.status)===d.subscriptionStatuses.ARCHIVED,f=(null===(n=e.subscription)||void 0===n?void 0:n.status)===d.subscriptionStatuses.DISCONNECTED,E=!!c.default.configData.showOldMetrics;return!m&&!f&&(0,p.hasCpuAndMemory)(null===(r=e.metrics)||void 0===r?void 0:r.cpu,null===(s=e.metrics)||void 0===s?void 0:s.memory)&&(E||i.diff(o,"hour")<g)},v=(e,t,a)=>{if(!(0,p.hasCpuAndMemory)(e,t))return null;let l=0;return e&&e.total.value&&e.used.value/e.total.value>a&&(l+=1),t&&t.total.value&&t.used.value/t.total.value>a&&(l+=1),l},b=e=>{if(null==e?void 0:e.url){let t=e.url;return"/"!==t.charAt(t.length-1)&&(t+="/"),t}return null};function _(e,t,a){const l=b(e);let n;if(l){switch(t){case o.ALERT:n=`${l}monitoring/alerts?orderBy=asc&sortBy=Severity&alert-name=${a}`;break;case o.NODE:n=`${l}k8s/cluster/nodes/${a}`;break;case o.OPERATOR:n=`${l}k8s/cluster/config.openshift.io~v1~ClusterOperator/${a}`;break;default:return null}return Object.assign(Object.assign({},m),{href:n})}return null}},29937:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c,excludedNamespacesAsString:()=>d,routeSelectorPairsAsStrings:()=>i,routeSelectorsAsString:()=>u});var l=a(27361),n=a.n(l),r=a(69429),s=a(59442),o=a(96775);const i=(e={})=>Object.entries(e).map((e=>e.join("=")))||[],u=(e={})=>i(e).join(",")||"",d=e=>(0,r.arrayToString)(e)||"",c=e=>{const{clusterRouters:t}=e,a={};return n()(t,"getRouters.routers",[]).forEach((e=>{const t={routerID:e.id,isDefault:!!e.default,isPrivate:"internal"===e.listening,address:e.dns_name,loadBalancer:e.load_balancer_type,routeSelectors:e.route_selectors,excludedNamespaces:e.excluded_namespaces,isNamespaceOwnershipPolicyStrict:e.route_namespace_ownership_policy!==s.NamespaceOwnershipPolicy.INTER_NAMESPACE_ALLOWED,isWildcardPolicyAllowed:e.route_wildcard_policy===o.WildcardPolicy.WILDCARDS_ALLOWED,tlsSecretRef:e.cluster_routes_tls_secret_ref,hostname:e.cluster_routes_hostname};t.isDefault?a.default=t:a.additional=t})),a}},82840:(e,t,a)=>{"use strict";a.d(t,{T:()=>i,r:()=>u});var l=a(68774),n=a(68340),r=a(28416),s=a.n(r),o=a(68248);const i="Optional list of namespaces to exclude routes from exposing. If no values are specified, all namespaces will be exposed. Format is a comma-separated list 'value1, value2...'.",u=()=>s().createElement(o.default,{title:"Excluded namespaces",maxWidth:"30rem",hint:s().createElement(l.D,null,s().createElement(n.x,null,'Supply a list of excluded namespaces that will never have routes exposed by the default ingress controller. If no values are specified, all namespaces will be exposed. Format should be a comma-separated list "value1, value2...".'))})},2441:(e,t,a)=>{"use strict";a.d(t,{E:()=>c});var l=a(68774),n=a(68340),r=a(71130),s=a(10550),o=a(3025),i=a(28416),u=a.n(i),d=a(68248);const c=()=>u().createElement(d.default,{title:"Namespace ownership policy",maxWidth:"30rem",hint:u().createElement(l.D,null,u().createElement(n.x,null,"With ",u().createElement("b",null,"inter-namespace ownership allowed"),", a single hostname can be used in routes of different namespaces. With ",u().createElement("b",null,"strict")," option selected, a hostname can be used in routes of a single namespace only."),u().createElement(n.x,null,u().createElement("b",null,"Mind following example:"),u().createElement("br",null),"hostname.dev/foo in namespace A",u().createElement("br",null),"hostname.dev/bar in namespace B",u().createElement("br",null)),u().createElement(r.o,null,u().createElement(s.M,null,"Inter-namespace ownership allowed"),u().createElement(o.b,null,"possible"),u().createElement(s.M,null,"Strict"),u().createElement(o.b,null,"forbidden")))})},44442:(e,t,a)=>{"use strict";a.d(t,{P:()=>s,q:()=>o});var l=a(28416),n=a.n(l),r=a(68248);const s="Optional list of routes to be exposed. If no selector is specified, all routes will be exposed. Format is a comma-separated list of 'key=value'.",o=()=>n().createElement(r.default,{title:"Router selector",maxWidth:"30rem",hint:n().createElement("div",null,'Exclude routes from the default ingress controller matching a key=value selector. If no selector is specified, all routes will be exposed. Format should be a comma-separated list of "key=value", where the "value" is optional.')})},81780:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var l=a(68774),n=a(68340),r=a(28416),s=a.n(r),o=a(68248);const i=()=>s().createElement(o.default,{title:"Wildcard Policy",maxWidth:"30rem",hint:s().createElement(l.D,null,s().createElement(n.x,null,"If enabled, a route can have subdomains on its route."))})},14059:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>V});var l=a(66338),n=a(70769),r=a(24197),s=a(77589),o=a(59231),i=a(7046),u=a(28416),d=a.n(u),c=a(32203),p=a(70),m=a(62394),f=a(75696),E=a(59775),g=a(92607),h=a(68774),v=a(68340),b=a(91878),_=a(49734),S=a(47814),C=a(12468),y=a(30413),O=a(76490),I=a(80338),R=a(80236),T=a(13539),A=a(25967),P=a(7749);var D=a(47042),N=a(29937);const L=(0,y.Z)({form:"EditApplicationIngress",enableReinitialize:!0})((({isOpen:e=!1,editClusterRoutersResponse:t,closeModal:a=(()=>{}),reset:l,handleSubmit:n,resetResponse:r=(()=>{}),valid:s,pristine:o,hasSufficientIngressEditVersion:i,canEditLoadBalancer:u,canShowLoadBalancer:c,isHypershiftCluster:p})=>{if(!e)return null;const m=(null==t?void 0:t.error)?d().createElement(P.default,{message:"Error editing application ingress",response:t}):null,E=()=>{l(),r(),a()};return d().createElement(A.default,{variant:R.v.medium,primaryText:"Save",secondaryText:"Cancel",title:"Edit application ingress",onClose:E,onPrimaryClick:n,onSecondaryClick:E,isPending:null==t?void 0:t.pending,isPrimaryDisabled:!s||o},m,d().createElement(f.l,null,d().createElement(T.DefaultIngressFields,{isDay2:!0,hasSufficientIngressEditVersion:i,canEditLoadBalancer:u,canShowLoadBalancer:c,areFieldsDisabled:p,isHypershiftCluster:p})))})),w=(0,l.connect)((e=>{var t,a,l,i,u,d,c,p,m,f,E,g,h,v,b;const{cluster:_}=null!==(a=null===(t=e.clusters)||void 0===t?void 0:t.details)&&void 0!==a?a:{},S=null===(l=null==_?void 0:_.cloud_provider)||void 0===l?void 0:l.id,C=S===r.CloudProviderType.Aws,y=!0===(null===(u=null===(i=null==_?void 0:_.aws)||void 0===i?void 0:i.sts)||void 0===u?void 0:u.enabled),R=(0,N.default)(e),T=null===(d=R.default)||void 0===d?void 0:d.tlsSecretRef,A=(null==_?void 0:_.openshift_version)||(null===(c=null==_?void 0:_.version)||void 0===c?void 0:c.raw_id)||"",P=(0,s.canConfigureDayTwoManagedIngress)(A),D=C,L=D&&(0,s.canConfigureLoadBalancer)(A,y),w=P?{defaultRouterSelectors:(0,N.routeSelectorsAsString)(null===(p=R.default)||void 0===p?void 0:p.routeSelectors),defaultRouterExcludedNamespacesFlag:(0,N.excludedNamespacesAsString)(null===(m=R.default)||void 0===m?void 0:m.excludedNamespaces),isDefaultRouterNamespaceOwnershipPolicyStrict:null===(f=R.default)||void 0===f?void 0:f.isNamespaceOwnershipPolicyStrict,isDefaultRouterWildcardPolicyAllowed:null===(E=R.default)||void 0===E?void 0:E.isWildcardPolicyAllowed,clusterRoutesTlsSecretRef:T,clusterRoutesHostname:null===(g=R.default)||void 0===g?void 0:g.hostname}:void 0;return{initialValues:Object.assign({private_default_router:null===(h=R.default)||void 0===h?void 0:h.isPrivate,is_nlb_load_balancer:(null===(v=R.default)||void 0===v?void 0:v.loadBalancer)===n.LoadBalancerFlavor.NLB,default_router_address:null===(b=R.default)||void 0===b?void 0:b.address},w),isOpen:(0,I.default)(e,O.default.EDIT_APPLICATION_INGRESS),clusterID:(null==_?void 0:_.id)||"",provider:S,clusterRouters:R,editClusterRoutersResponse:e.clusterRouters.editRouters,hasSufficientIngressEditVersion:P,canEditLoadBalancer:L,canShowLoadBalancer:D,isHypershiftCluster:(0,o.isHypershiftCluster)(_)}}),(e=>({resetResponse:()=>e((0,D.resetEditRoutersResponse)()),closeModal:()=>e((0,i.closeModal)()),onSubmit:(t,a,l)=>{const n=Object.assign({},a);e((0,D.saveNetworkingConfiguration)(t,n,l))}})),((e,t,a)=>Object.assign(Object.assign(Object.assign(Object.assign({},a),e),t),{onSubmit:a=>{t.onSubmit(a,e.clusterRouters,e.clusterID)}})))(L);var M=a(26746),k=a(28562),x=a(43589),j=a(2441),F=a(81780),G=a(82840),U=a(44442);const V=(0,l.connect)((e=>{var t,a,l,i,u;const{cluster:d}=e.clusters.details,c=(0,N.default)(e),p=null===(t=d.cloud_provider)||void 0===t?void 0:t.id,m=(0,o.isHypershiftCluster)(d),f=p===r.CloudProviderType.Aws,{canEdit:E}=d,g="read_only"===(null===(a=null==d?void 0:d.status)||void 0===a?void 0:a.configuration_mode),h=!0===(null===(i=null===(l=null==d?void 0:d.aws)||void 0===l?void 0:l.sts)||void 0===i?void 0:i.enabled),v=(0,o.isHibernating)(d),b=(null==d?void 0:d.openshift_version)||(null===(u=null==d?void 0:d.version)||void 0===u?void 0:u.raw_id)||"",_=!m&&(0,s.canConfigureDayTwoManagedIngress)(b),S=(0,s.canConfigureLoadBalancer)(b,h),C=f&&!m,{routeSelectors:y,excludedNamespaces:O,loadBalancer:I,address:R,isPrivate:T,tlsSecretRef:A,isWildcardPolicyAllowed:P,isNamespaceOwnershipPolicyStrict:D,hostname:L}=c.default||{};return{provider:p,canEdit:!!E,isReadOnly:g,clusterHibernating:v,isNLB:I===n.LoadBalancerFlavor.NLB,hasSufficientIngressEditVersion:_,canEditLoadBalancer:S,canShowLoadBalancer:C,clusterRoutesTlsSecretRef:A,clusterRoutesHostname:L,defaultRouterAddress:R,isDefaultRouterPrivate:T,defaultRouterSelectors:y,defaultRouterExcludedNamespacesFlag:O,isDefaultIngressWildcardPolicyAllowed:P,isDefaultRouterNamespaceOwnershipPolicyStrict:!!D}}),(e=>({openModal:t=>e((0,i.openModal)(t))})))((({canEdit:e,isReadOnly:t,clusterHibernating:a,isNLB:l,canEditLoadBalancer:r,canShowLoadBalancer:s,hasSufficientIngressEditVersion:o,clusterRoutesTlsSecretRef:i,clusterRoutesHostname:u,defaultRouterAddress:y,isDefaultRouterPrivate:I,defaultRouterSelectors:R,defaultRouterExcludedNamespacesFlag:T,isDefaultIngressWildcardPolicyAllowed:A,isDefaultRouterNamespaceOwnershipPolicyStrict:P,openModal:D})=>{var L;const V=(({canEdit:e,isReadOnly:t,clusterHibernating:a,hasSufficientIngressEditVersion:l,canEditLoadBalancer:n})=>(n||l?t&&"This operation is not available during maintenance":"This operation is available for clusters of version 4.13 or higher.")||a&&"This operation is not available while cluster is hibernating"||!e&&"You do not have permission to edit routers. Only cluster owners, cluster editors, and organization administrators can edit routers.")({canEdit:e,isReadOnly:t,clusterHibernating:a,hasSufficientIngressEditVersion:o,canEditLoadBalancer:r});return d().createElement(c.Z,{className:"ocm-c-networking-application-ingress__card"},d().createElement(p.l,null,"Application ingress"),d().createElement(m.e,null,d().createElement(f.l,{isHorizontal:!0},d().createElement(E.c,{fieldId:"default_router_address",label:"Default application router",isStack:!0},d().createElement(g.oi,{id:"default_router_address",value:`*.${y}`,readOnlyVariant:"default"}),d().createElement(h.D,null,d().createElement(v.x,{component:v.q.small},(I||(0,C.isRestrictedEnv)()?"Private":"Public")+" router"))),o&&d().createElement(d().Fragment,null,d().createElement(E.c,{fieldId:"defaultRouterSelectors",label:"Route selector",labelIcon:d().createElement(U.q,null),isStack:!0},d().createElement(g.oi,{id:"defaultRouterSelectors",value:null!==(L=(0,N.routeSelectorsAsString)(R))&&void 0!==L?L:"",isDisabled:!0})),d().createElement(E.c,{fieldId:"defaultRouterExcludedNamespacesFlag",label:"Excluded namespaces",labelIcon:d().createElement(G.r,null),isStack:!0},d().createElement(g.oi,{id:"defaultRouterExcludedNamespacesFlag",value:(0,N.excludedNamespacesAsString)(T),isDisabled:!0})),d().createElement(E.c,{fieldId:"clusterRoutesTlsSecretRef",label:"TLS Secret name",isStack:!0},d().createElement(g.oi,{id:"clusterRoutesTlsSecretRef",value:i,isDisabled:!0})),d().createElement(E.c,{fieldId:"clusterRoutesHostname",label:"Hostname",isStack:!0},d().createElement(g.oi,{id:"clusterRoutesHostname",value:u,isDisabled:!0})),d().createElement(E.c,{label:"Namespace ownership policy",labelIcon:d().createElement(j.E,null),isStack:!0},d().createElement(b.r,{label:"Strict",labelOff:"Inter-namespace ownership",isChecked:P,isDisabled:!0})),d().createElement(E.c,{label:"Wildcard policy",labelIcon:d().createElement(F.T,null),isStack:!0},d().createElement(b.r,{label:"Allowed",labelOff:"Disallowed",isChecked:A,isDisabled:!0}))),s&&d().createElement(E.c,{label:"Load balancer type",labelIcon:d().createElement(k.Z,null)},d().createElement(b.r,{label:x.c[n.LoadBalancerFlavor.NLB],labelOff:x.c[n.LoadBalancerFlavor.CLASSIC],isChecked:l,isDisabled:!0})),d().createElement(w,null))),d().createElement(_.e,null,d().createElement(S.S,null,d().createElement(M.default,{variant:"secondary",onClick:()=>{D(O.default.EDIT_APPLICATION_INGRESS)},disableReason:V,isAriaDisabled:!!V},"Edit application ingress"))))}))},28562:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var l=a(28416),n=a.n(l),r=a(91885),s=a(42517),o=a(68248);const i=()=>n().createElement(o.default,{title:"Load Balancers",maxWidth:"30rem",hint:n().createElement("div",null,"Load balancers automatically distribute your incoming traffic to multiple servers. If you need features such as static IP, source IP address preservation and other features documented by AWS, we recommend using the Network Load Balancer. If you are using EC2-Classic Network, we recommend using Classic.",n().createElement("br",null),n().createElement(s.default,{href:r.default.AWS_LOAD_BALANCER_FEATURES},"Learn more about AWS load balancers."),n().createElement("br",null),n().createElement(s.default,{href:r.default.MANAGED_INGRESS_KNOWLEDGE_BASE},"Learn more about setting load balancers in OCP."))})},43589:(e,t,a)=>{"use strict";a.d(t,{c:()=>n});var l=a(70769);const n={[l.LoadBalancerFlavor.CLASSIC]:"Classic Load Balancer",[l.LoadBalancerFlavor.NLB]:"Network Load Balancer"}},92241:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var l=a(28416),n=a.n(l),r=a(32203),s=a(70),o=a(85583),i=a(22305),u=a(68340),d=a(62394),c=a(43047),p=a(12990),m=a(96106),f=a(38352),E=a(81979),g=a(59231),h=a(56503);const v=({cluster:e,hasNetworkOndemand:t,hasInflightErrors:a})=>a||e.state===g.default.INSTALLING||e.state===g.default.PENDING||e.state===g.default.VALIDATING||e.state===g.default.WAITING?n().createElement(h.default,{cluster:e,hasNetworkOndemand:t,actionRequiredInitialOpen:!0}):null;var b=a(53763),_=a(45913);const S=({cluster:e})=>{const t=e.state===g.default.ERROR,a=e.state===g.default.PENDING,l=e.state===g.default.VALIDATING,h=e.state===g.default.INSTALLING,S=e.state===g.default.UNINSTALLING,C=(0,g.isWaitingROSAManualMode)(e),y=(0,g.isWaitingHypershiftCluster)(e),O=(a||h||y||l||!C)&&!t,I=(O||S)&&!t,R=(0,g.isHypershiftCluster)(e)?"10":"30 to 60",T=(0,g.hasInflightEgressErrors)(e),A=(0,m.useFeatureGate)(f.NETWORK_VALIDATOR_ONDEMAND_FEATURE);let P;return t?P="Installation error":S?P="Uninstalling cluster":C?P="Action required to continue installation":O&&(P="Installing cluster"),n().createElement(r.Z,null,!T&&n().createElement(s.l,null,n().createElement(o.D,{headingLevel:"h2",size:"lg",className:"card-title pf-v5-u-display-inline-block pf-v5-u-mr-md","data-testid":"installation-header"},I&&n().createElement(i.$,{size:"sm",className:"progressing-icon pf-v5-u-mr-md"}),t&&n().createElement("span",{className:"pf-v5-u-mr-xs"},n().createElement(c.default,{color:p.global_danger_color_100.value})," "),P),(O||C)&&!S&&n().createElement(E.Z,null),O&&!S&&n().createElement(u.x,{component:u.q.p,"data-testid":"expected-cluster-installation-msg",className:"expected-cluster-installation-text"},"Cluster creation usually takes ",R," minutes to complete.")),n().createElement(d.e,null,S?n().createElement(b.Z,{cluster:e}):n().createElement(v,{cluster:e,hasNetworkOndemand:A,hasInflightErrors:T}),n().createElement(_.default,{isExpandable:!S,cluster:e})))}},53644:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ClusterStatus:()=>u});var l=a(28416),n=a.n(l),r=a(28191),s=a(700),o=a(59231);const i=e=>(null==e?void 0:e.filter((e=>{var t;const a=null===(t=e.status)||void 0===t?void 0:t.current_replicas;return void 0!==a&&(e.autoscaling?!(!e.autoscaling.min_replica||!e.autoscaling.max_replica)&&a>=e.autoscaling.min_replica&&a<=e.autoscaling.max_replica:void 0!==e.replicas&&e.replicas===a)})).length)||0,u=({cluster:e,limitedSupport:t,machinePools:a})=>{const[u,d]=(0,l.useState)(),[c,p]=(0,l.useState)();(0,l.useEffect)((()=>{d((0,o.isHypershiftCluster)(e)),p((0,o.getClusterStateAndDescription)(e))}),[e]);const m=()=>{if((null==c?void 0:c.state)===o.default.UNINSTALLING)return o.default.UNINSTALLING;if(a&&0===i(a)&&0===a.length)switch(null==c?void 0:c.state){case o.default.WAITING:return o.default.WAITING;case o.default.INSTALLING:case o.default.VALIDATING:return o.default.PENDING;default:return o.default.DEPROVISIONED}return a&&i(a)===a.length?o.default.READY:o.default.PENDING},f=n().createElement(s.default,{clusterState:null==c?void 0:c.state,limitedSupport:t,animated:!0});return u?n().createElement(n().Fragment,null,n().createElement(r.k,{alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsXs"},"data-testid":"control-plane-status"},n().createElement("span",{className:"pf-v5-u-mr-sm"},"Control plane:"),f,n().createElement("div",null,null==c?void 0:c.description)),a?n().createElement(r.k,{alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsXs"},"data-testid":"machine-pools-status"},n().createElement("span",{className:"pf-v5-u-mr-sm"},"Machine pools:"),n().createElement(s.default,{clusterState:m(),limitedSupport:t,animated:!0}),n().createElement("div",null,(0,o.getStateDescription)(m())," ",i(a)," /"," ",a.length)):null):n().createElement(n().Fragment,null,f,n().createElement("span",{className:"pf-v5-u-ml-xs"},null==c?void 0:c.description))}},42820:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var l=a(28416),n=a.n(l),r=a(16475),s=a(59775),o=a(87749),i=a(27730),u=a(69429),d=a(77031),c=a(90181),p=a(12812),m=a(44692);const f=({label:e="Security groups",selectedVPC:t,selectedGroupIds:a,onChange:l,isReadOnly:f})=>{const[E,g]=n().useState(!1),h=t.aws_security_groups||[],v=!f&&a.some((e=>h.every((t=>t.id!==e)))),b=h.filter((e=>a.includes(e.id||"")));if(b.sort(d.PT),n().useEffect((()=>{v&&l([])}),[l,v]),f)return n().createElement(m.Z,{securityGroups:b,emptyMessage:"This machine pool does not have additional security groups.",isReadOnly:!0});const _=e=>{const t=a.filter((t=>t!==e));l(t)},S=(0,c.validateSecurityGroups)(a);return n().createElement(r.P,null,n().createElement(s.c,{fieldId:"securityGroupIds",label:e,className:"pf-v5-u-mt-md"},n().createElement(n().Fragment,null,n().createElement(m.Z,{securityGroups:b,isReadOnly:!1,onClickItem:_}),n().createElement(o.P,{variant:"checkbox",selections:a,isOpen:E,placeholderText:"Select security groups","aria-labelledby":"Select AWS security groups",onToggle:(e,t)=>g(t),onSelect:(e,t)=>{const n=t;if(a.includes(n))_(n);else{const e=a.concat(n),t=h.filter((t=>e.includes(t.id||"")));t.sort(d.PT),l(t.map((e=>e.id||"")))}},maxHeight:300,menuAppendTo:document.getElementById("edit-mp-modal")||void 0},h.map((({id:e="",name:t=""})=>{const{displayName:a,isCut:l}=(e=>{if(e){const t=50;return{displayName:(0,u.truncateTextWithEllipsis)(e,t),isCut:e.length>t}}return{displayName:"--",isCut:!1}})(t);return n().createElement(i.$,{key:e,value:e,description:e,title:l?t:""},a)}))))),n().createElement(p.FormGroupHelperText,{touched:!0,error:S}))}},9704:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(28416),n=a.n(l),r=a(87558),s=a(26930);const o=e=>{const t=[];return e.forEach((e=>{var a,l,n,r;null!==(n=null===(l=null===(a=null==e?void 0:e.aws)||void 0===a?void 0:a.additional_security_group_ids)||void 0===l?void 0:l.length)&&void 0!==n&&n&&t.push(...(null===(r=null==e?void 0:e.aws)||void 0===r?void 0:r.additional_security_group_ids)||[])})),[...new Set(t)]},i=({securityGroups:e=[],securityGroupIdsForControl:t=[],securityGroupIdsForInfra:a=[],machinePoolData:l=[],showLinkToMachinePools:i=!1,showWorkerNodesTogether:u=!1})=>n().createElement(n().Fragment,null,t.length>0&&n().createElement("dd",{key:"sg-detail-display-controlplane-nodes"},n().createElement(s.MachinePoolItemList,{title:"Control plane nodes",items:(0,s.securityGroupsRenderer)(t,e||[]),showSmallTitle:!0})),t.length>0&&n().createElement("dd",{key:"sg-detail-display-infra-nodes"},n().createElement(s.MachinePoolItemList,{title:"Infrastructure nodes",items:(0,s.securityGroupsRenderer)(a,e||[]),showSmallTitle:!0})),!u&&l.map((t=>{var a,l,r;return((null===(l=null===(a=null==t?void 0:t.aws)||void 0===a?void 0:a.additional_security_group_ids)||void 0===l?void 0:l.length)||0)>0&&n().createElement("dd",{key:`sg-detail-display-compute-nodes-${null==t?void 0:t.id}`},n().createElement(s.MachinePoolItemList,{title:`Compute (${null==t?void 0:t.id}) nodes `,items:(0,s.securityGroupsRenderer)((null===(r=null==t?void 0:t.aws)||void 0===r?void 0:r.additional_security_group_ids)||[],e||[]),showSmallTitle:!0}))})),u&&n().createElement("dd",{key:"sg-detail-display-all-compute-nodes"},n().createElement(s.MachinePoolItemList,{title:"Compute nodes ",items:(0,s.securityGroupsRenderer)(o(l)||[],e||[]),showSmallTitle:!0})),i&&o(l).length>0&&n().createElement("dt",null,"See more information in the ",n().createElement(r.Link,{to:"#machinePools"},"machine pools tab")))},22427:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var l=a(28416),n=a.n(l),r=a(97655),s=a(42517),o=a(91885);const i=()=>n().createElement(r.b,{variant:"info",isInline:!0,title:"There are no security groups for this Virtual Private Cloud"},"To add security groups, go to the"," ",n().createElement(s.default,{href:o.default.AWS_CONSOLE_SECURITY_GROUPS},"Security groups section")," of your AWS console."," ")},44692:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var l=a(28416),n=a.n(l),r=a(72444),s=a(7588);const o=({securityGroups:e,isReadOnly:t,emptyMessage:a,onClickItem:l})=>{const o=e.length;return 0===o?a?n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-disabled-color-100"},a):null:n().createElement(r.Z,{className:"pf-v5-u-mb-lg",numChips:o},e.map((e=>{const{id:a=""}=e,r=l?()=>l(a):void 0;return n().createElement(s.A,{id:a,key:a,isReadOnly:t,onClick:r,textMaxWidth:"50ch"},e.name||a)})))}},22010:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(28416),n=a.n(l),r=a(45468),s=a(30404),o=a(29873),i=a(25332),u=a(12097),d=a(43047),c=a(15034);const p=({tabsInfo:e,onTabSelected:t,initTabOpen:a})=>{const l=(0,i.s0)(),p=(0,i.TH)(),[m,f]=n().useState(),[E,g]=n().useState(),[h,v]=n().useState(),[b,_]=n().useState(),[S,C]=n().useState(!1),y=n().useCallback(((e,a,l=!0)=>{m&&(v(E),g(null==m?void 0:m.find((e=>e.key===a))),_((null==b?void 0:b.key)===a?null:b),C(l),m.forEach((e=>{e.ref&&e.ref.current&&(e.key!==a?e.ref.current.hidden=!0:(e.ref.current.hidden=!1,t(e.id)))})))}),[m,E,b,t]);return n().useEffect((()=>{const t=(e=>[{key:0,title:"Overview",contentId:"overviewTabContent",id:c.ClusterTabsId.OVERVIEW,show:!0,ref:e.overview.ref},{key:1,title:n().createElement(n().Fragment,null,n().createElement(o.T,null,"Monitoring"),e.monitoring.hasIssues?n().createElement(u.f,{id:"monitoring-issues-icon"},n().createElement(d.ExclamationCircleIcon,{className:"danger"})):null),contentId:"monitoringTabContent",id:c.ClusterTabsId.MONITORING,show:void 0===e.monitoring.show||e.monitoring.show,ref:e.monitoring.ref},{key:2,title:"Access control",id:c.ClusterTabsId.ACCESS_CONTROL,contentId:"accessControlTabContent",show:e.accessControl.show,ref:e.accessControl.ref},{key:3,title:"Add-ons",contentId:"addOnsTabContent",id:c.ClusterTabsId.ADD_ONS,show:e.addOns.show,ref:e.addOns.ref},{key:4,title:"Cluster history",contentId:"clusterHistoryTabContent",id:c.ClusterTabsId.CLUSTER_HISTORY,show:e.clusterHistory.show,ref:e.clusterHistory.ref},{key:5,title:"Networking",contentId:"networkingTabContent",id:c.ClusterTabsId.NETWORKING,show:e.networking.show,ref:e.networking.ref},{key:6,title:"Machine pools",contentId:"machinePoolsTabContent",id:c.ClusterTabsId.MACHINE_POOLS,show:e.machinePools.show,ref:e.machinePools.ref},{key:7,title:"Support",contentId:"supportTabContent",id:c.ClusterTabsId.SUPPORT,show:e.support.show,ref:e.support.ref},{key:8,title:"Settings",contentId:"upgradeSettingsTabContent",id:c.ClusterTabsId.UPDATE_SETTINGS,show:e.upgradeSettings.show,ref:e.upgradeSettings.ref},{key:9,title:"Add Hosts",contentId:"addHostsContent",id:c.ClusterTabsId.ADD_ASSISTED_HOSTS,show:e.addAssisted.show,ref:e.addAssisted.ref,isDisabled:e.addAssisted.isDisabled,tooltip:e.addAssisted.tooltip}])(e);f(t),_(((e,t)=>{var a;return null!==(a=e.find((e=>e.id===t)))&&void 0!==a?a:e[0]})(t,a))}),[a]),n().useEffect((()=>{(null==m?void 0:m.length)&&(null===b||!(null==b?void 0:b.isDisabled)&&(null==b?void 0:b.show)||(_(m[0]),y(void 0,0)))}),[m,b,y]),n().useEffect((()=>{if(null==m?void 0:m.length){const e=m.find((e=>`#${e.id}`===p.hash));(null==e?void 0:e.show)&&!e.isDisabled||(""===p.hash?l("/",{replace:!0}):(_(m[0]),l({hash:`#${m[0].id}`},{replace:!0}))),y(void 0,(null==e?void 0:e.isDisabled)||!(null==e?void 0:e.show)?0:e.key,!1)}}),[p.hash]),n().useEffect((()=>{E&&!E.show?(y(void 0,0),e.overview.ref.current.hidden=!1):(null==b?void 0:b.show)&&!(null==b?void 0:b.isDisabled)&&y(void 0,b.key)}),[E,b,y]),n().useEffect((()=>{null===b&&S&&(null==h?void 0:h.key)!==(null==E?void 0:E.key)&&l({hash:`#${null==E?void 0:E.id}`})}),[E,b,S,h,l]),m&&E?n().createElement(r.m,{activeKey:E.key,onSelect:y},m.filter((e=>e.show)).map((e=>n().createElement(s.O,{key:e.key,eventKey:e.key,title:n().createElement(o.T,null,e.title),tabContentId:e.contentId,id:`${e.title}`,ouiaId:`${e.title}`,isAriaDisabled:!!e.isDisabled,tooltip:e.tooltip})))):null}},10355:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(97655),n=a(94513),r=a(28416),s=a.n(r),o=a(66338),i=a(98371),u=a(4651),d=a(44276),c=a(52758);const p=({subscription:e})=>{const t=(0,o.useDispatch)(),a=(0,u.useGlobalState)((e=>e.userProfile.selfTermsReviewResult)),[p,m]=(0,r.useState)(void 0),f=e=>{var t,a;return e.status!==c.subscriptionStatuses.DEPROVISIONED&&[c.normalizedProducts.OSD,c.normalizedProducts.RHMI,c.normalizedProducts.ROSA].includes(null!==(a=null===(t=e.plan)||void 0===t?void 0:t.type)&&void 0!==a?a:"")};return(0,r.useEffect)((()=>{void 0!==p&&e.id===p.id||!f(e)||t((0,i.selfTermsReview)()),m(e)}),[e,p,t]),f(e)&&a.fulfilled&&a.terms_required?s().createElement(l.b,{id:"terms-alert",variant:"warning",isInline:!0,title:"You must accept the Terms and Conditions",actionLinks:s().createElement(n.Q,{key:"terms-alert-link",component:"a",href:(E=a.redirect_url,(0,d.Z)(E,window.location.href,window.location.href)),"data-testid":"terms-alert-link"},"View Terms and Conditions"),"data-testid":"terms-alert"},s().createElement("p",null,"Access to this cluster will be read-only until you accept the Terms and Conditions.")):null;var E}},65835:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(97655),n=a(27361),r=a.n(n),s=a(28416),o=a.n(s),i=a(87558),u=a(52758),d=a(42517);const c=({subscription:e})=>{if(![u.normalizedProducts.OCP,u.normalizedProducts.ARO].includes(r()(e,"plan.type",!1))||!(null==e?void 0:e.released))return null;const t=e.status===u.subscriptionStatuses.DISCONNECTED?o().createElement(o().Fragment,null,"The transfer process will complete after"," ",o().createElement(i.Link,{to:"/register","data-testid":"link"},"registering")," ","the cluster again using the same id."):o().createElement(o().Fragment,null,"The transfer process will complete once the pull secret has been changed in the cluster. See"," ",o().createElement(d.default,{href:"https://access.redhat.com/solutions/4902871","data-testid":"external-link"},"this knowledgebase article")," ","for instructions on how to change the pull secret.");return o().createElement(l.b,{id:"transfer-cluster-ownership-alert",className:"pf-v5-u-mt-md",variant:"info",isInline:!0,title:"Cluster ownership transfer initiated"},t)}},15034:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{ClusterTabsId:()=>l}),function(e){e.OVERVIEW="overview",e.MONITORING="monitoring",e.ACCESS_CONTROL="accessControl",e.ADD_ONS="addOns",e.CLUSTER_HISTORY="clusterHistory",e.NETWORKING="networking",e.MACHINE_POOLS="machinePools",e.SUPPORT="support",e.UPDATE_SETTINGS="updateSettings",e.ADD_ASSISTED_HOSTS="addAssistedHosts"}(l||(l={}))},18917:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var l=a(28416),n=a.n(l),r=a(25332),s=a(47680),o=a(80687),i=a(22025),u=a(46820),d=a(28196),c=a(86718),p=a(8590),m=a(20304),f=a(76889),E=a(52758),g=a(56554);const h=e=>{const t=(0,r.s0)(),[a,h]=(0,l.useState)(!1),{currentFilters:v,setFilter:b,isDisabled:_}=e,S=[{key:"plan_id",label:"Cluster type",options:E.productFilterOptions}],C=(0,l.useRef)(null),y=n().createElement(s.v,{ref:C},n().createElement(o.D,null,S.map((e=>{const a={},l=v[e.key]||[];return l.forEach((e=>{a[e]=!0})),n().createElement(i.k,{label:e.label,key:`filtergroup-${e.key}`},n().createElement(u.q,null,e.options.map((r=>n().createElement(d.s,{hasCheckbox:!0,itemId:r.key,isSelected:a[r.key],"data-testid":"cluster-type-".concat(r.label),onClick:()=>{var a;a=Object.assign(Object.assign({},v),{[e.key]:[...l.filter((e=>e!==r.key)),...l.includes(r.key)?[]:[r.key]]}),t({search:(0,g.buildFilterURLParams)(a)},{replace:!0}),b(a)}},r.label)))))})))),O=(0,l.useRef)(null),I=n().createElement(c.O,{ref:O,icon:n().createElement(p.J,null,n().createElement(f.k1,null)),onClick:()=>h(!a),isExpanded:a,isDisabled:_},"Cluster type");return n().createElement(m.F,{isOpen:a,onOpenChange:e=>h(e),onOpenChangeKeys:["Escape"],menu:y,menuRef:C,toggle:I,toggleRef:O})}},16691:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var l=a(28416),n=a.n(l),r=a(36621),s=a(65673),o=a(47173),i=a(85044),u=a(53139),d=a(85998),c=a(41435),p=a(87558),m=a(96106),f=a(38352),E=a(12468);const g="/create/rosa/getstarted",h=e=>n().createElement(p.Link,Object.assign({},e,{to:g})),v=({toggleId:e})=>{const[t,a]=n().useState(!1),l=n().useRef(null),v=(0,m.useFeatureGate)(f.HCP_ROSA_GETTING_STARTED_PAGE)&&!(0,E.isRestrictedEnv)(),b=[n().createElement(i.h,{key:"getstarted",component:n().createElement(p.Link,{id:"with-cli",to:g},"With CLI",v?n().createElement(r.p,{"data-testid":"cli-helper"},n().createElement(s.u,{variant:"indeterminate"},"Supports ROSA with Hosted Control Plane and Classic.")):null)}),n().createElement(i.h,{key:"wizard",component:n().createElement(p.Link,{id:"with-web",to:"/create/rosa/wizard"},"With web interface",v?n().createElement(r.p,{"data-testid":"wizard-helper"},n().createElement(s.u,{variant:"indeterminate"},"Supports ROSA Classic. ROSA with Hosted Control Plane coming soon.")):null)})];return n().createElement(n().Fragment,null,n().createElement(u.L,{onSelect:()=>{var e;a(!1),null===(e=l.current)||void 0===e||e.focus()},toggle:n().createElement(d.Z,{id:e,ref:l,toggleVariant:o.Wu.primary,onToggle:(e,t)=>a(t),className:"create-button"},"Create cluster"),isOpen:t,dropdownItems:b,position:c.ir.right,"data-testid":"rosa-create-cluster-button"}),n().createElement("br",null),n().createElement(o.zx,{variant:"link",className:"create-button",component:h},"Prerequisites"))}},99326:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(92607),n=a(28416),r=a.n(n),s=a(66338),o=a(92308),i=a(4651);const u=({view:e,isDisabled:t})=>{const a=r().useRef(null),n=(0,s.useDispatch)(),[u,d]=r().useState(""),[c,p]=r().useState(void 0),m=(0,i.useGlobalState)((t=>t.viewOptions[e].filter));return r().useLayoutEffect((()=>{var e;!t&&m&&(null===(e=a.current)||void 0===e||e.focus())}),[t,m]),r().useEffect((()=>(m&&d(m),()=>{d(""),n((0,o.onListFilterSet)("",e))})),[]),r().createElement(l.oi,{type:"text","aria-label":"Filter",className:"cluster-list-filter",ref:a,value:u,placeholder:"Filter by name or ID...","data-testid":"filterInputClusterList",onChange:(t,a)=>{return l=a,void 0!==c&&clearTimeout(c),p(setTimeout((()=>n((0,o.onListFilterSet)(l,e))),300)),void d(l);var l},isDisabled:t})}},70417:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(28416),n=a.n(l),r=a(66338),s=a(22115),o=a(4651);const i=({regionID:e,cloudProviderID:t})=>{const a=(0,r.useDispatch)(),l=(0,o.useGlobalState)((e=>e.cloudProviders));return n().useEffect((()=>{l.pending||l.error||l.fulfilled||a((0,s.getCloudProviders)())}),[a,l]),n().createElement(n().Fragment,null,l.fulfilled&&l.providers[t]?l.providers[t].display_name:t.toUpperCase(),"N/A"!==e&&` (${e})`)}},700:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var l=a(28416),n=a.n(l),r=a(85481),s=a(46716),o=a(68778),i=a(12136),u=a(43047),d=a(11997),c=a(94768),p=a(55705),m=a(17542),f=a(12990),E=a(4088),g=a(8590),h=a(22305),v=a(59231);const b=({clusterState:e,animated:t=!1,limitedSupport:a})=>{const l={className:"clusterstate",size:"md"};if(a&&e!==v.default.ERROR)return n().createElement(g.J,Object.assign({},l),n().createElement(u.ExclamationCircleIcon,{color:f.global_danger_color_100.value,"data-icon-type":"limited-support"}));switch(e){case v.default.WAITING:case v.default.PENDING:case v.default.INSTALLING:case v.default.VALIDATING:case v.default.UPDATING:case v.default.POWERING_DOWN:case v.default.RESUMING:return t?n().createElement(h.$,Object.assign({},l,{size:h.S.md})):n().createElement(g.J,Object.assign({},l),n().createElement(c.InProgressIcon,{"data-icon-type":"inprogress"}));case v.default.DISCONNECTED:return n().createElement(g.J,Object.assign({},l),n().createElement(i.DisconnectedIcon,null));case v.default.READY:return n().createElement(g.J,Object.assign({},l),n().createElement(o.CheckCircleIcon,{color:E.global_success_color_100.value,"data-icon-type":"check"}));case v.default.UNINSTALLING:return t?n().createElement(h.$,Object.assign({},l,{size:h.S.md})):n().createElement(g.J,Object.assign({},l),n().createElement(c.InProgressIcon,{"data-icon-type":"inprogress"}));case v.default.ERROR:return n().createElement(g.J,Object.assign({},l),n().createElement(u.ExclamationCircleIcon,{color:f.global_danger_color_100.value,"data-icon-type":"exclamation"}));case v.default.DEPROVISIONED:return n().createElement(g.J,Object.assign({},l),n().createElement(s.SC,{"data-icon-type":"deprovisioned"}));case v.default.ARCHIVED:return n().createElement(g.J,Object.assign({},l),n().createElement(d.ry,{"data-icon-type":"archived"}));case v.default.HIBERNATING:return n().createElement(g.J,Object.assign({},l),n().createElement(r.AsleepIcon,null));case v.default.STALE:return n().createElement(g.J,Object.assign({},l),n().createElement(p.Ru,null));default:return n().createElement(g.J,Object.assign({},l),n().createElement(m.UnknownIcon,{"data-icon-type":"unknown"}))}}},19466:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var l=a(28416),n=a.n(l),r=a(66338),s=a(70774),o=a(90197),i=a(85583),u=a(8590),d=a(47173),c=a(94697),p=a(43047),m=a(12990),f=a(25967),E=a(7046);const g=({onRetry:e,onClose:t,title:a="Missing prerequisite"})=>{const{goToStepById:l}=n().useContext(c.ks),s=(0,r.useDispatch)(),o=()=>{s((0,E.closeModal)()),t()};return n().createElement(f.default,{header:n().createElement(i.D,{headingLevel:"h2",size:"2xl"},n().createElement(u.J,{className:"pf-v5-u-mr-sm"},n().createElement(p.ExclamationCircleIcon,{color:m.global_danger_color_100.value})),a),modalSize:"medium","aria-label":a,onPrimaryClick:o,onClose:o,actions:[n().createElement(d.zx,{key:"retry",variant:"primary",onClick:e,type:"submit"},"Retry creating cluster"),n().createElement(d.zx,{key:"prereq-guide",variant:"secondary",onClick:()=>{l(21),o()}},"Go back to prerequisites guide"),n().createElement(d.zx,{key:"secondary",variant:"secondary",onClick:o},"Cancel")]},n().createElement("p",null,"The cluster cannot be created because the provided AWS credentials don't belong to the"," ",n().createElement("strong",null,"osdCcsAdmin")," user. To provision a cluster successfully, your AWS account requires an IAM user called ",n().createElement("strong",null,"osdCcsAdmin")," with the"," ",n().createElement("strong",null,"AdministratorAccess")," policy."),n().createElement("p",{className:"pf-v5-u-mt-md"},"Make sure the IAM user exists in your AWS account and try creating the cluster again."))};var h=a(68340),v=a(91885),b=a(42517),_=a(34693);const S=({title:e,errorResponse:t,onClose:a})=>{const l=(0,r.useDispatch)(),s=()=>{l((0,E.closeModal)()),a()},o=(0,_.formatErrorDetails)(t.errorDetails);return n().createElement(f.default,{header:n().createElement(i.D,{headingLevel:"h2",size:"2xl"},n().createElement(p.ExclamationCircleIcon,{color:m.global_danger_color_100.value})," ",e),primaryText:"Close",onPrimaryClick:s,onClose:s,showClose:!1,showSecondary:!1,"aria-label":e},n().createElement("p",null,t.errorMessage),o&&n().createElement("p",null,o),n().createElement(h.x,{className:"pf-v5-u-mt-sm"},`Operation ID: ${t.operationID||"N/A"}`),n().createElement(h.x,{className:"pf-v5-u-mt-sm"},n().createElement(b.default,{href:v.default.OSD_CCS_GCP_SHEILDED_VM},"Learn more about Secure Boot")))},C=({onRetry:e})=>{var t,a;const l=(0,r.useDispatch)(),i=(0,r.useSelector)((e=>e.clusters.createdCluster)),u=()=>l((0,s.resetCreatedClusterResponse)()),{error:d}=i;return d?"AWSCredsNotOSDCCSAdmin"===(null===(a=null===(t=i.errorDetails)||void 0===t?void 0:t[0])||void 0===a?void 0:a.Error_Key)?n().createElement(g,{onRetry:e,onClose:u}):(null==i?void 0:i.errorMessage)&&"string"==typeof(null==i?void 0:i.errorMessage)&&(null==i?void 0:i.errorMessage.includes("SecureBoot feature"))?n().createElement(S,{title:"Error creating cluster",errorResponse:i,onClose:u}):n().createElement(o.default,{title:"Error creating cluster",errorResponse:i,resetResponse:u}):null}},13539:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DefaultIngressFields:()=>v});var l=a(28416),n=a.n(l),r=a(90674),s=a(59775),o=a(94184),i=a.n(o),u=a(79687),d=a(28562),c=a(43589),p=a(70769),m=a(81780),f=a(2441),E=a(90181),g=a(82840),h=a(44442);const v=({className:e,areFieldsDisabled:t,isDay2:a,hasSufficientIngressEditVersion:l,canEditLoadBalancer:o,canShowLoadBalancer:v,isHypershiftCluster:b})=>n().createElement(n().Fragment,null,a&&n().createElement(s.c,{fieldId:"default_router_address",label:"Default application router",isStack:!0,isRequired:!0},n().createElement(r.Z,{component:u.ReduxVerticalFormGroup,name:"default_router_address",type:"text",disabled:!0,helpText:"Address of application routes."}),n().createElement(r.Z,{component:u.ReduxCheckbox,name:"private_default_router",label:"Make router private"})),l&&!b&&n().createElement(s.c,{className:e,label:"Route selector",labelIcon:n().createElement(h.q,null)},n().createElement(r.Z,{component:u.ReduxVerticalFormGroup,name:"defaultRouterSelectors",type:"text",validate:E.checkRouteSelectors,disabled:t,helpText:h.P,showHelpTextOnError:!1})),l&&!b&&n().createElement(s.c,{className:e,label:"Excluded namespaces",labelIcon:n().createElement(g.r,null)},n().createElement(r.Z,{component:u.ReduxVerticalFormGroup,name:"defaultRouterExcludedNamespacesFlag",type:"text",validate:E.validateNamespacesList,disabled:t,helpText:g.T,showHelpTextOnError:!1})),a&&l&&!b&&n().createElement(n().Fragment,null,n().createElement(s.c,{className:e,label:"TLS Secret name"},n().createElement(r.Z,{component:u.ReduxVerticalFormGroup,name:"clusterRoutesTlsSecretRef",type:"text",validate:E.validateTlsSecretName,disabled:t,helpText:"The name of a secret holding custom TLS certificate, in the openshift-config namespace. Optional.",showHelpTextOnError:!1})),n().createElement(s.c,{className:e,label:"Hostname"},n().createElement(r.Z,{component:u.ReduxVerticalFormGroup,name:"clusterRoutesHostname",type:"text",validate:E.validateTlsHostname,disabled:t,helpText:"The cluster routes hostname the TLS certificate is issued for.",showHelpTextOnError:!1}))),l&&!b&&n().createElement(s.c,{className:e,fieldId:"isDefaultRouterNamespaceOwnershipPolicyStrict",label:"Namespace ownership policy",labelIcon:n().createElement(f.E,null)},n().createElement(r.Z,{id:"isDefaultRouterNamespaceOwnershipPolicyStrict",component:u.ReduxCheckbox,name:"isDefaultRouterNamespaceOwnershipPolicyStrict",disabled:t,label:"Strict",labelOff:"Inter-namespace ownership allowed",isSwitch:!0})),l&&!b&&n().createElement(s.c,{className:e,fieldId:"isDefaultRouterWildcardPolicyAllowed",label:"Wildcard policy",labelIcon:n().createElement(m.T,null)},n().createElement(r.Z,{id:"isDefaultRouterWildcardPolicyAllowed",component:u.ReduxCheckbox,name:"isDefaultRouterWildcardPolicyAllowed",disabled:t,label:"Allowed",labelOff:"Disallowed",isSwitch:!0})),v&&!b&&n().createElement(s.c,{fieldId:"load_balancer_group",label:"Load balancer type",className:i()("pf-v5-u-pb-md",e),labelIcon:n().createElement(d.Z,null)},n().createElement(r.Z,{id:"load_balancer_group",component:u.ReduxCheckbox,name:"is_nlb_load_balancer",disabled:!o,label:c.c[p.LoadBalancerFlavor.NLB],labelOff:c.c[p.LoadBalancerFlavor.CLASSIC],isSwitch:!0})))},13803:(e,t,a)=>{"use strict";a.d(t,{N6:()=>i,Vg:()=>s,uI:()=>o});var l=a(28416),n=a.n(l),r=a(68248);const s='Format should be a comma-separated list of "<gpu_type>:<min>:<max>"',o=()=>n().createElement(n().Fragment,null,'Minimum and maximum number of different GPUs in cluster. Cluster autoscaler will not scale the cluster beyond these numbers. Format should be a comma-separated list of "<gpu_type>:<min>:<max>".'),i=()=>n().createElement(r.default,{title:"GPU",maxWidth:"30rem",hint:o})},56574:(e,t,a)=>{"use strict";a.d(t,{Ky:()=>i,P_:()=>o,ie:()=>s});var l=a(28416),n=a.n(l),r=a(68248);const s="Format should be a comma-separated list of labels.",o=()=>n().createElement(n().Fragment,null,"Define a node label that should be ignored when considering node group similarity. Format should be a comma-separated list of labels."),i=()=>n().createElement(r.default,{title:"Balancing ignored labels",maxWidth:"30rem",hint:o})},78348:(e,t,a)=>{"use strict";a.d(t,{IS:()=>s,KG:()=>i,up:()=>o});var l=a(27361),n=a.n(l);const r=(0,a(48578).getDefaultClusterAutoScaling)(),s=[{label:"log-verbosity",name:"log_verbosity",type:"number",defaultValue:r.log_verbosity},{label:"skip-nodes-with-local-storage",name:"skip_nodes_with_local_storage",type:"boolean",defaultValue:r.skip_nodes_with_local_storage},{label:"max-pod-grace-period",name:"max_pod_grace_period",type:"number",defaultValue:r.max_pod_grace_period},{label:"max-node-provision-time",name:"max_node_provision_time",type:"time",defaultValue:r.max_node_provision_time},{label:"pod-priority-threshold",name:"pod_priority_threshold",type:"number",defaultValue:r.pod_priority_threshold},{label:"ignore-daemonsets-utilization",name:"ignore_daemonsets_utilization",type:"boolean",defaultValue:r.ignore_daemonsets_utilization},{label:"balance-similar-node-groups",name:"balance_similar_node_groups",type:"boolean",defaultValue:r.balance_similar_node_groups}],o=[{label:"cores-total-min",name:"resource_limits.cores.min",type:"min-max",defaultValue:r.resource_limits.cores.min},{label:"cores-total-max",name:"resource_limits.cores.max",type:"min-max",defaultValue:r.resource_limits.cores.max},{label:"memory-total-min",name:"resource_limits.memory.min",type:"min-max",defaultValue:n()(r,"resource_limits.memory.min",0)},{label:"memory-total-max",name:"resource_limits.memory.max",type:"min-max",defaultValue:n()(r,"resource_limits.memory.max",0)},{label:"max-nodes-total",name:"resource_limits.max_nodes_total",type:"number",defaultValue:n()(r,"resource_limits.max_nodes_total",0)}],i=[{label:"scale-down-enabled",name:"scale_down.enabled",type:"boolean",defaultValue:r.scale_down.enabled},{label:"scale-down-utilization-threshold",name:"scale_down.utilization_threshold",type:"number",defaultValue:r.scale_down.utilization_threshold},{label:"scale-down-unneeded-time",name:"scale_down.unneeded_time",type:"time",defaultValue:r.scale_down.unneeded_time},{label:"scale-down-delay-after-add",name:"scale_down.delay_after_add",type:"time",defaultValue:r.scale_down.delay_after_add},{label:"scale-down-delay-after-delete",name:"scale_down.delay_after_delete",type:"time",defaultValue:r.scale_down.delay_after_delete},{label:"scale-down-delay-after-failure",name:"scale_down.delay_after_failure",type:"time",defaultValue:r.scale_down.delay_after_failure}]},45058:(e,t,a)=>{"use strict";a.r(t),a.d(t,{EditClusterAutoScalerForDay2:()=>$,default:()=>Z});var l=a(66338),n=a(30413),r=a(67563),s=a(31767),o=a(18135),i=a(80338),u=a(76490),d=a(48578),c=a(24653),p=a(7046),m=a(28416),f=a.n(m),E=a(68340),g=a(91878),h=a(75696),v=a(50399),b=a(50693),_=a(16475),S=a(59775),C=a(91885),y=a(7749),O=a(90674),I=a(13803),R=a(90181),T=a(56574),A=a(65932),P=a(25967),D=a(42517),N=a(78348),L=a(28191),w=a(87749),M=a(27730),k=a(68248),x=a(12812);const j=e=>{var{label:t,helpText:a,meta:{error:l,touched:n},input:r,disabled:s,isFormGroup:o=!0,isRequired:i,formGroupClass:u,extendedHelpText:d}=e,c=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["label","helpText","meta","input","disabled","isFormGroup","isRequired","formGroupClass","extendedHelpText"]);const[p,m]=f().useState(!1),E=f().createElement(w.P,Object.assign({},r,{id:r.name,name:r.name,isDisabled:s,isOpen:p,selections:`${Boolean(r.value)}`,onToggle:(e,t)=>m(t),onSelect:(e,t)=>{r.onChange(t),m(!1)},onBlur:e=>e.stopPropagation()},c),f().createElement(M.$,{value:"true"},f().createElement(L.k,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsSm"},alignItems:{default:"alignItemsCenter"}},"true")),f().createElement(M.$,{value:"false"},f().createElement(L.k,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsSm"},alignItems:{default:"alignItemsCenter"}},"false")));return o?f().createElement(S.c,{fieldId:r.name,label:t,isRequired:i,labelIcon:d?f().createElement(k.default,{hint:d}):void 0,className:u},E,f().createElement(x.FormGroupHelperText,{touched:n,error:l},a)):E},F=({fieldName:e,fieldProps:t})=>f().createElement(O.Z,Object.assign({component:j,parse:e=>"true"===e,name:e},t));var G=a(73269);const U=e=>t=>Number.isNaN(t)?e:Number(t),V=(e,t)=>{if("boolean"===e.type){const a={label:e.label,type:e.type,isRequired:!0,isDisabled:t,helpText:f().createElement("span",{className:"custom-help-text"},"Default value: ",`${e.defaultValue}`)};return f().createElement(F,{fieldName:`cluster_autoscaling.${e.name}`,fieldProps:a})}return f().createElement(O.Z,Object.assign({component:G.default,name:`cluster_autoscaling.${e.name}`,label:e.label},(e=>{let t={type:"text",validate:void 0,parse:void 0};switch(e.type){case"time":t.validate=R.clusterAutoScalingValidators.k8sTimeParameter;break;case"number":{let a;a="scale_down.utilization_threshold"===e.name?R.clusterAutoScalingValidators.k8sScaleDownUtilizationThresholdParameter:"log_verbosity"===e.name?R.clusterAutoScalingValidators.k8sLogVerbosityParameter:"pod_priority_threshold"===e.name?void 0:R.clusterAutoScalingValidators.k8sNumberParameter,t={type:"number",parse:U(e.defaultValue),validate:a};break}case"min-max":t={type:"number",parse:U(e.defaultValue),validate:R.clusterAutoScalingValidators.k8sMinMaxParameter}}return t})(e),{isRequired:!0,props:{disabled:t||!1},helpText:f().createElement("span",{className:"custom-help-text"},"Default value: ",e.defaultValue)}))};function H({isOpen:e,isRosa:t,isWizard:a,closeModal:l,change:n,pristine:r,onSubmitAutoScaling:s,autoScalingValues:o,autoScalingErrors:i,hasAutoscalingMachinePools:u,editAction:c}){var p;const m=i&&Object.keys(i).length>0,L=!1===(null===(p=o.scale_down)||void 0===p?void 0:p.enabled),w=!a&&(null==c?void 0:c.pending),M=a||o.isSelected,k=!M||w;let x={text:"Close",isClose:!0,isDisabled:a&&m};w?x={text:"Saving...",isClose:!1,isDisabled:!0}:a||!o.isSelected||r||(x={text:"Save",isClose:!1,isDisabled:m});const j=e=>{x.isClose?l():s("update"),e&&e.preventDefault()};return f().createElement(P.default,{variant:"large",isOpen:e,title:"Edit cluster autoscaling settings","data-testid":"cluster-autoscaling-dialog",primaryText:x.text,secondaryText:"Revert all to defaults",tertiaryText:"Cancel",onPrimaryClick:j,onSecondaryClick:()=>{const e=(0,d.getDefaultClusterAutoScaling)();n("cluster_autoscaling",Object.assign(Object.assign({},e),{isSelected:o.isSelected}))},onTertiaryClick:l,isPrimaryDisabled:x.isDisabled,isSecondaryDisabled:!M||w,showClose:!a&&!w,showTertiary:!a,onClose:l},f().createElement(f().Fragment,null,f().createElement(E.x,{component:"p"},"The cluster autoscaler adjusts the size of a cluster to meet its current deployment needs. Learn more about"," ",f().createElement(D.default,{href:t?C.default.ROSA_CLUSTER_AUTOSCALING:C.default.OSD_CLUSTER_AUTOSCALING},"cluster autoscaling")," ","or",f().createElement(D.default,{href:C.default.APPLYING_AUTOSCALING_API_DETAIL}," APIs"),"."),!a&&f().createElement("div",{className:"pf-v5-u-mt-md"},f().createElement(g.r,{className:"pf-v5-u-ml-0 pf-v5-u-mb-md",label:"Autoscale cluster",labelOff:"Autoscale cluster",isChecked:M,hasCheckIcon:!0,isDisabled:w,onChange:()=>{a?n("autoscalingEnabled",!1):s(M?"disable":"enable")}}),(null==c?void 0:c.error)?f().createElement(y.default,{message:"Failed to update autoscaler",response:c}):f().createElement(A.Z,{hasClusterAutoScaler:M,hasAutoscalingMachinePools:u,isEnabledOnCurrentPool:!1,warningType:"clusterView"})),f().createElement(h.l,{onSubmit:j,className:"cluster-autoscaling-form"},f().createElement(v.h,{title:"General settings",className:a?"":"autoscaler-inner-section"},f().createElement(b.r,{hasGutter:!0},N.IS.map((e=>f().createElement(_.P,{span:6,key:e.name},V(e,k)))),f().createElement(_.P,{span:6},f().createElement(S.c,{fieldId:"cluster_autoscaling.balancing_ignored_labels",label:"balancing-ignored-labels",labelIcon:f().createElement(T.Ky,null),isStack:!0},f().createElement(O.Z,{component:G.default,name:"cluster_autoscaling.balancing_ignored_labels",type:"text",disabled:k,helpText:T.ie,validate:R.validateListOfBalancingLabels}))))),f().createElement(v.h,{title:"Resource limits",className:a?"":"autoscaler-inner-section"},f().createElement(b.r,{hasGutter:!0},N.up.map((e=>f().createElement(_.P,{span:6,key:e.name},V(e,k)))),f().createElement(_.P,{span:6},f().createElement(S.c,{fieldId:"cluster_autoscaling.resource_limits.gpus",label:"GPUs",labelIcon:f().createElement(I.N6,null),isStack:!0},f().createElement(O.Z,{component:G.default,name:"cluster_autoscaling.resource_limits.gpus",type:"text",disabled:k,helpText:I.Vg,validate:R.clusterAutoScalingValidators.k8sGpuParameter}))))),f().createElement(v.h,{title:"Scale down configuration",className:a?"":"autoscaler-inner-section"},f().createElement(b.r,{hasGutter:!0},N.KG.map((e=>{const t=k||L&&"scale_down.enabled"!==e.name;return f().createElement(_.P,{span:6,key:e.name},V(e,t))})))))))}H.modalName=u.default.EDIT_CLUSTER_AUTOSCALING_V1;const z=H,W="CreateCluster",q="EditClusterAutoScaler",B=(0,n.Z)({form:q,enableReinitialize:!0})(z),$=(0,l.connect)(((e,t)=>{const a=(0,r.Z)(q)(e),l=(0,s.Z)(q)||{},n=t.clusterAutoscalerResponse.getAutoscaler.data||(0,d.getDefaultClusterAutoScaling)(),o=Object.assign(Object.assign({},n),{isSelected:t.clusterAutoscalerResponse.hasAutoscaler});return{isOpen:(0,i.default)(e,u.default.EDIT_CLUSTER_AUTOSCALING_V1),autoScalingValues:l(e,"cluster_autoscaling")||o,autoScalingErrors:a.cluster_autoscaling||{},initialValues:{cluster_autoscaling:o},editAction:t.clusterAutoscalerResponse.editAction}}),((e,t)=>({onSubmitAutoScaling:a=>e(((l,n)=>{const r=(0,o.Z)("EditClusterAutoScaler")(n()).cluster_autoscaling,{clusterId:s}=t;switch(a){case"enable":e(c.clusterAutoscalerActions.enableClusterAutoscaler(s));break;case"disable":e(c.clusterAutoscalerActions.disableClusterAutoscaler(s));break;default:{const t=(0,d.getClusterAutoScalingSubmitSettings)(r);e(c.clusterAutoscalerActions.updateClusterAutoscaler(s,t))}}})),closeModal:()=>{e(c.clusterAutoscalerActions.clearLastAutoscalerActionResult()),e((0,p.closeModal)())}})))(B),Z=(0,l.connect)((e=>{const t=(0,r.Z)(W)(e),a=(0,s.Z)(W)||{};return{isOpen:(0,i.default)(e,u.default.EDIT_CLUSTER_AUTOSCALING_V1),autoScalingValues:a(e,"cluster_autoscaling"),autoScalingErrors:t.cluster_autoscaling||{}}}),(e=>({closeModal:()=>e((0,p.closeModal)())})))(z)},68641:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(69957),n=a(28416),r=a.n(n),s=a(12952),o=a(8590),i=a(37655);const u=({item:e="clusters",errorMessage:t})=>r().createElement(s.u,{content:`An error occurred when fetching ${e}: ${t}`,"data-testid":"error-triangle"},r().createElement(o.J,{size:"lg",className:"cluster-error-triangle"},r().createElement(l.ExclamationTriangleIcon,{color:i.global_warning_color_100.value})))},12766:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(97655),n=a(56715),r=a(28416),s=a.n(r),o=a(66338),i=a(23445),u=a(4651);const d=()=>{const e=(0,o.useDispatch)(),{errorMessage:t,errorTitle:a}=(0,u.useGlobalState)((e=>e.globalError));return t||a?s().createElement(l.b,{variant:"danger",isInline:!0,title:a,actionClose:s().createElement(n.g,{onClose:()=>e((0,i.clearGlobalError)())}),role:"alert"},t):null}},76837:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(28416),n=a.n(l),r=a(68774),s=a(68340),o=a(72936),i=a(49345),u=a(42517),d=a(91885);const c=()=>n().createElement(u.default,{href:d.default.HIBERNATING_CLUSTER},"Learn more about cluster hibernation"),p=({clusterName:e,isHibernating:t})=>t?n().createElement(r.D,null,n().createElement(s.x,null,"Cluster ",n().createElement("strong",null,e)," will move out of Hibernating state and all cluster operations will be resumed."),n().createElement(c,null)):n().createElement(n().Fragment,null,n().createElement(o.aV,null,n().createElement(i.H,null,"Hibernating clusters is not fully supported under Red Hat Subscription Level Agreements, might not be functionally complete, and is not intended for production use."),n().createElement(i.H,null,"It's recommended to hibernate only clusters that run recoverable workloads.")),n().createElement(c,null),n().createElement(r.D,null,n().createElement(s.x,null,"Are you sure you want to hibernate ",n().createElement("strong",null,e),"?")))},76467:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(28416),n=a.n(l),r=a(28191),s=a(92298),o=a(8590),i=a(85583),u=a(53688),d=a(84896);const c=({title:e})=>n().createElement(r.k,{alignItems:{default:"alignItemsCenter"}},n().createElement(s.B,null,n().createElement(o.J,{size:"md"},n().createElement(u.InfoCircleIcon,{className:"info"}))),n().createElement(s.B,null,n().createElement(i.D,{headingLevel:"h2"},e)),n().createElement(s.B,null,n().createElement(d.TechnologyPreview,{className:"pf-v5-u-ml-0"})))},4899:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(28416),n=a.n(l);const r=({clusterName:e})=>n().createElement("p",null,"Moving ",n().createElement("b",null,e)," to Hibernating state is not possible while the cluster is upgrading.")},16534:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(28416),n=a.n(l),r=a(97655),s=a(64107);const o=({clusterName:e,nextRun:t})=>n().createElement(n().Fragment,null,n().createElement("p",null,"Moving ",n().createElement("b",null,e)," cluster to Hibernating state is not possible while there is a scheduled cluster upgrade."),n().createElement(r.b,{variant:"warning",title:n().createElement("p",null,"There is a scheduled update to ",n().createElement(s.Z,{type:"exact",date:Date.parse(t)}),". The scheduled update cannot be executed if the cluster is hibernating.")}),n().createElement("p",null,"Try again after the cluster upgrade is done or cancel the upgrade."))},36615:(e,t,a)=>{"use strict";function l(e){var t,a,l;const n=null===(l=null===(a=null===(t=e.aws)||void 0===t?void 0:t.sts)||void 0===a?void 0:a.operator_iam_roles)||void 0===l?void 0:l[0].role_arn;return n?n.split(":")[4]:""}function n(e){var t,a,l,n;const r=(null===(a=null===(t=e.aws)||void 0===t?void 0:t.sts)||void 0===a?void 0:a.oidc_endpoint_url)?new URL(null===(n=null===(l=e.aws)||void 0===l?void 0:l.sts)||void 0===n?void 0:n.oidc_endpoint_url):void 0;return r?`${r.host}${r.pathname}`:""}function r(e){return`arn:aws:iam::${l(e)}:oidc-provider/${n(e)}`}a.r(t),a.d(t,{getAWSAccountID:()=>l,getOIDCEndpointNoScheme:()=>n,getOIDCProviderARN:()=>r})},19901:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MachineConfiguration:()=>j});var l=a(28416),n=a.n(l),r=a(57557),s=a.n(r),o=a(80236);const i=e=>{const{children:t,onClose:a}=e;return n().createElement(o.u,{title:"Edit machine configuration",description:"Make custom edits to your machine configuration",variant:o.v.medium,isOpen:!0,onClose:a},t)};var u=a(98538),d=a.n(u),c=a(49739),p=a(83826),m=a(75696),f=a(68809),E=a(47173),g=a(59775),h=a(68774),v=a(68340),b=a(1321),_=a(68248),S=a(12812),C=a(69957),y=a(43047);const O=e=>{const{value:t,isValid:a,validationMessage:r,isUnsafe:s,minValue:o,maxValue:i,onChange:u,safeMaxValue:d}=e,[c,p]=(0,l.useState)(null!=t?t:""),m=(0,l.useMemo)((()=>s?{helperText:`Setting a PIDs limit higher than ${d.toLocaleString()} on your cluster could potentially cause your workloads to fail unexpectedly.`,icon:n().createElement(C.default,null),status:"warning"}:a?{helperText:`The safe PIDs limit range is ${o.toLocaleString()} - ${d.toLocaleString()}`,icon:null,status:"default"}:{helperText:r,icon:n().createElement(y.default,null),status:"error"}),[s,a,o,d,r]),f=(e,t,a)=>void 0!==t&&void 0!==a?Math.max(Math.min(e,a),t):e<=t?t:e>=a?a:e;return(0,l.useEffect)((()=>{t&&p(t)}),[c,t]),n().createElement(g.c,{required:!0,label:"Pod process IDs limit (PIDs)",labelIcon:n().createElement(_.default,{title:"Pod process IDs limit (PIDs)",hint:n().createElement("div",null,"Process IDs (PIDs) are a fundamental resource on nodes. Openshift allows you to limit the number of processes running in a POD."),buttonAriaLabel:"More info for PIDs limit field"}),isRequired:!0,fieldId:"pids-limit"},n().createElement(h.D,{className:"pf-v5-u-mb-md"},n().createElement(v.x,{component:v.q.p},"Adjusting the PIDs limit will result in all nodes that are not control plane nodes to reboot, potentially impacting workload downtime.")),n().createElement(b.Y,{id:"pids-limit",name:"pids-limit","aria-describedby":"pids-limit-helper-text",value:c,min:o,max:i,onMinus:()=>{const e=f(c-1,o,i);p(e),u(e)},onChange:e=>{const{value:t}=e.target,a=Number(t);p(""===t?t:a),u(a)},onBlur:e=>{const t=Number(e.target.value);t<o?(p(o),u(o)):t>i&&(p(i),u(i))},onPlus:()=>{const e=f(c+1,o,i);p(e),u(e)},widthChars:12,inputName:"pids-limit",inputAriaLabel:"PIDs limit",minusBtnAriaLabel:"minus",plusBtnAriaLabel:"plus",validated:m.status}),n().createElement(S.FormGroupHelperText,{id:"pids-limit-helper-text",variant:m.status,icon:m.icon},m.helperText))};var I=a(17998);const R=()=>n().createElement(c.K,{hasGutter:!0},n().createElement(p.v,null,n().createElement(I.O,{width:"200px",fontSize:"md"})),n().createElement(p.v,null,n().createElement(I.O,{width:"100%",fontSize:"4xl"})),n().createElement(p.v,null,n().createElement(I.O,{width:"200px",fontSize:"4xl",screenreaderText:"Loading PIDs limit"})));var T=a(7749),A=a(34693),P=a(33988);const D=e=>{var t,a;const l=d().isAxiosError(e)?null===(t=e.response)||void 0===t?void 0:t.data:void 0;return{errorDetails:null!==(a=null==l?void 0:l.details)&&void 0!==a?a:[],errorMessage:(0,A.getErrorMessage)({payload:e}),operationID:null==l?void 0:l.operation_id}},N=e=>{const{config:t,onSave:a,onCancel:r,isLoading:s,isSaving:o,canBypassPIDsLimit:i=!1,savingError:u}=e,d=P.PIDS_LIMIT_MIN,g=i?P.PIDS_LIMIT_MAX_OVERRIDE:P.PIDS_LIMIT_MAX,[h,v]=(0,l.useState)({}),[b,_]=(0,l.useState)(!1);(0,l.useEffect)((()=>{const e={pod_pids_limit:d};(t||null===t)&&(v(t?Object.assign({},t):e),b||_(!0))}),[d,t,s,b]);const S=()=>{a(h)},{isValid:C,isPIDsLimitUnsafe:y,validationMessage:I}=function(e,t,a,n){const[r,s]=(0,l.useState)(!0),o=(0,l.useCallback)((e=>Number.isInteger(e)&&e<=a&&e>=t),[a,t]),i=(0,l.useMemo)((()=>!!(n&&r&&e)&&e>P.PIDS_LIMIT_MAX),[n,e,r]),u=(0,l.useMemo)((()=>void 0===e||o(e)?"":n&&e>a?`Please enter a value between ${t.toLocaleString()} - ${P.PIDS_LIMIT_MAX_OVERRIDE.toLocaleString()}`:`Please enter a value between ${t.toLocaleString()} - ${P.PIDS_LIMIT_MAX.toLocaleString()}`),[a,t,n,e,o]);return(0,l.useEffect)((()=>{s(void 0===e||o(e))}),[e,o]),{isValid:r,isPIDsLimitUnsafe:i,validationMessage:u}}(null==h?void 0:h.pod_pids_limit,d,g,i),A=(0,l.useMemo)((()=>{if(b){const e=null===t?d:null==t?void 0:t.pod_pids_limit;return h.pod_pids_limit!==e}return!1}),[d,t,h.pod_pids_limit,b]),N=(0,l.useMemo)((()=>!b||s||o||!C||!A),[b,s,o,C,A]);return n().createElement(c.K,{hasGutter:!0},u?n().createElement(p.v,null,n().createElement(T.default,{message:"There was an error saving the machine configuration",response:D(u)})):null,n().createElement(p.v,null,n().createElement(m.l,{onSubmit:e=>{e.preventDefault(),N||S()}},b?n().createElement(O,{value:h.pod_pids_limit,minValue:d,maxValue:g,onChange:e=>{e!==h.pod_pids_limit&&v((t=>Object.assign(Object.assign({},t),{pod_pids_limit:e})))},isValid:C,validationMessage:I,isUnsafe:y,safeMaxValue:P.PIDS_LIMIT_MAX}):n().createElement(R,null),n().createElement(f.W,null,n().createElement(E.zx,{variant:"primary",onClick:S,isDisabled:N,isLoading:o},"Save changes"),n().createElement(E.zx,{variant:"link",onClick:r,isDisabled:s||o},"Cancel")))))};var L=a(9947),w=a(73029),M=a(85583),k=a(75106);const x=e=>{const{onClose:t}=e;return n().createElement(L.u,null,n().createElement(w.k,{icon:y.default,color:"var(--pf-global--danger-color--100)"}),n().createElement(M.D,{headingLevel:"h4",size:"lg"},"Unable to retrieve configuration"),n().createElement(k.B,null,"There was an error trying to retrieve the existing machine configuration. Please try again later."),n().createElement(E.zx,{variant:"primary",onClick:t},"Close"))},j=e=>{const{clusterID:t,getMachineConfiguration:a,createMachineConfiguration:r,updateMachineConfiguration:o,canBypassPIDsLimit:u,onClose:d}=e,{getKubeletConfig:c,kubeletConfig:p,isLoading:m,error:f}=function(e){const[t,a]=(0,l.useState)(),[n,r]=(0,l.useState)(),[s,o]=(0,l.useState)(!1);return{getKubeletConfig:(0,l.useCallback)((t=>{o(!0),r(void 0),a(void 0),e(t).then((e=>a(e.data))).catch((e=>{var t;404===(null===(t=e.response)||void 0===t?void 0:t.status)?a(null):r(e)})).finally((()=>o(!1)))}),[e]),isLoading:s,kubeletConfig:t,error:n}}(a),{saveKubeletConfig:E,isSaving:g,kubeletConfig:h,error:v}=function(e,t){const[a,n]=(0,l.useState)(),[r,s]=(0,l.useState)(),[o,i]=(0,l.useState)(!1);return{saveKubeletConfig:(0,l.useCallback)(((a,l,r)=>{i(!0),s(void 0),n(void 0),("post"===r?e:t)(a,l).then((e=>n(e.data))).catch((e=>{s(e)})).finally((()=>i(!1)))}),[e,t]),isSaving:o,kubeletConfig:a,error:r}}(r,o);return(0,l.useEffect)((()=>{c(t)}),[t,c]),(0,l.useEffect)((()=>{h&&d()}),[d,h]),n().createElement(i,{onClose:d},f?n().createElement(x,{onClose:d}):n().createElement(N,{config:p,canBypassPIDsLimit:u,onCancel:d,onSave:e=>{const a=s()(e,["kind","href"]);E(t,a,null===p?"post":"patch")},isLoading:m,isSaving:g,savingError:v}))}},36400:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GA_DATE_STR:()=>i,PreviewLabel:()=>d,createdPostGa:()=>u});var l=a(28416),n=a.n(l),r=a(40843),s=a(53688),o=a(4651);const i="2023-12-04T00:00:00Z",u=(e,t)=>(e?new Date(e):new Date)>=(t?new Date(t):new Date),d=e=>{const{creationDateStr:t,product:a,type:l}=e,d=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["creationDateStr","product","type"]),c=(0,o.useGetTechPreviewStatus)(a||"rosa",l||"hcp"),p=(0,o.useTechPreviewStatus)(a||"rosa",l||"hcp");if(n().useEffect((()=>{p||c()}),[c,p]),null==p?void 0:p.fulfilled){const e=(null==p?void 0:p.end_date)||i;return u(t,e)?null:n().createElement(r._,Object.assign({color:"green",icon:n().createElement(s.default,null),render:({className:e,content:t})=>n().createElement("a",{className:e,href:"https://access.redhat.com/support/offerings/techpreview",target:"_blank",rel:"noreferrer"},t)},d),"Preview")}return null}},75093:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(28416),n=a.n(l),r=a(73960),s=a(79048),o=a(34359),i=a(85583);const u=function({title:e,used:t,total:a,unit:u,humanize:d,donutId:c,type:p}){const m=(0,l.useMemo)((()=>d?r.humanizeValueWithUnit:r.roundValueWithUnit),[d]),f=(0,l.useMemo)((()=>null!=u?u:"B"),[u]),[E,g]=(0,l.useState)(),[h,v]=(0,l.useState)(),[b,_]=(0,l.useState)(),[S,C]=(0,l.useState)(),y=(0,l.useMemo)((()=>({primary:`${S}%`,secondary:`of ${null==h?void 0:h.value} ${null==h?void 0:h.unit} used`})),[null==h?void 0:h.unit,null==h?void 0:h.value,S]);(0,l.useEffect)((()=>{t&&a&&f?(g(m(t,f)),v(m(a,f)),_(m(a-t,f)),C(Math.round(t/a*100*100)/100)):(g(m(0,f)),v(m(0,f)),_(m(0,f)),C(0))}),[t,a,m,f]);const O=(0,l.useMemo)((()=>({labels:({datum:e})=>e.x?`${e.x}`:null,constrainToVisibleArea:!0,legendData:[{name:`Used: ${null==E?void 0:E.value} ${null==E?void 0:E.unit}`},{name:`Available: ${null==b?void 0:b.value} ${null==b?void 0:b.unit}`}],legendOrientation:"vertical",padding:{bottom:20,left:20,right:195,top:20},height:205,width:410})),[null==b?void 0:b.unit,null==b?void 0:b.value,null==E?void 0:E.unit,null==E?void 0:E.value]),I=(0,l.useCallback)((e=>n().createElement(s.z,Object.assign({id:c,title:y.primary,subTitle:y.secondary,data:{x:`${null==E?void 0:E.value} ${null==E?void 0:E.unit}`,y:S},thresholds:[{value:80},{value:95}]},e))),[y.primary,y.secondary,c,null==E?void 0:E.unit,null==E?void 0:E.value,S]),R=(0,l.useCallback)((()=>n().createElement("div",null,n().createElement(i.D,{className:"metrics-chart chart-title",headingLevel:"h4",size:"xl"},e),n().createElement("div",{className:"metrics-chart"},n().createElement(o.l,{ariaDesc:e,data:[{x:"",y:80},{x:"Warning at 80%",y:95},{x:"Danger at 95%",y:100}],labels:({datum:e})=>e.x||null,height:185,width:185,subTitlePosition:"bottom",padding:{bottom:24}},I({}))))),[I,e]),T=(0,l.useCallback)((()=>n().createElement("div",null,n().createElement(i.D,{className:"metrics-chart chart-title-with-legend",headingLevel:"h4",size:"xl"},e),n().createElement("div",{className:"metrics-chart chart-with-legend"},I(O)))),[I,O,e]);return"legend"===p?n().createElement(T,null):n().createElement(R,null)},d=({cpu:e,memory:t,metricsStatusMessage:a,metricsAvailable:l,type:s})=>{const o=({value:e,unit:t})=>(0,r.parseValueWithUnit)(e,t);return l?n().createElement(n().Fragment,null,n().createElement(u,{title:"vCPU",total:e.total.value,used:e.used.value,unit:"Cores",humanize:!1,donutId:"cpu_donut",type:s}),n().createElement(u,{title:"Memory",total:o(t.total),used:o(t.used),unit:"B",humanize:!0,donutId:"memory_donut",type:s})):n().createElement("p",null,a)}},85957:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(28416),n=a.n(l),r=a(73517),s=a(73960);const o=({used:e,total:t,unit:a,humanize:o,donutId:i,usedTitle:u,availableTitle:d})=>{const c=(0,l.useMemo)((()=>o?s.humanizeValueWithUnit:s.roundValueWithUnit),[o]),p=(0,l.useMemo)((()=>null!=a?a:"B"),[a]),[m,f]=(0,l.useState)(),[E,g]=(0,l.useState)(),[h,v]=(0,l.useState)(),[b,_]=(0,l.useState)(),[S,C]=(0,l.useState)();return(0,l.useEffect)((()=>{e&&t&&p?(f(c(e,p)),g(c(t,p)),v(c(t-e,p)),_(Math.round(e/t*100*100)/100),C(Math.round((t-e)/t*100*100)/100)):(f(c(0,p)),g(c(0,p)),v(c(0,p)),_(0),C(0))}),[e,t,p,c]),n().createElement("div",null,n().createElement("div",{className:"small-donut-chart-container"},h&&m&&m?n().createElement(r.H,{name:i,labels:({datum:e})=>`${e.x}`,data:[{x:`${null==m?void 0:m.value} ${null==m?void 0:m.unit}`,y:b},{x:`${null==h?void 0:h.value} ${null==h?void 0:h.unit}`,y:S}],constrainToVisibleArea:!0,legendData:[{name:`${u}: ${null==m?void 0:m.value} ${null==m?void 0:m.unit}`},{name:`${d}: ${null==h?void 0:h.value} ${null==h?void 0:h.unit}`}],legendOrientation:"vertical",padding:{bottom:20,left:20,right:195,top:20},title:`${null==E?void 0:E.value}`,height:205,width:410}):null))}},17074:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clusterDetailConsts:()=>r,metricsStatusMessages:()=>n});var l=a(59231);const n={[l.default.INSTALLING]:"This cluster is installing so some data might not be available. This may take a few minutes.",[l.default.PENDING]:"This cluster is installing so some data might not be available. This may take a few minutes.",[l.default.VALIDATING]:"This cluster is installing so some data might not be available. This may take a few minutes.",[l.default.WAITING]:"This cluster requires user action before installation can start.",[l.default.ERROR]:"An error occured",[l.default.UNINSTALLING]:"This cluster is being deleted so some data might not be available.",[l.default.STALE]:"No metrics sent during the last 24 hours.",[l.default.UNKNOWN]:"The cluster currently does not have any metrics data. Try again later.",archived:"The cluster has been archived and does not have any metrics data.",default:"The cluster currently does not have any metrics data. Try again later."},r={metricsStatusMessages:n}},40848:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(28416),n=a.n(l),r=a(90674),s=a(59775),o=a(10865),i=a(24197),u=a(87788),d=a(38970),c=a(41585);const p=({isDisabled:e,onChangeImds:t,imds:a})=>(n().useEffect((()=>{e&&a!==i.IMDSType.V1AndV2&&t(i.IMDSType.V1AndV2)}),[e,a]),n().createElement(s.c,{label:"Instance Metadata Service",fieldId:"imds",labelIcon:n().createElement(d.i,null)},e?n().createElement(c.l,null):n().createElement(r.Z,{component:o.default,name:"imds",ariaLabel:"Instance Metadata Service",props:{value:a,onChange:t},isDisabled:e,className:"pf-v5-u-mb-md",options:u.x,disableDefaultValueHandling:!0})))},8526:(e,t,a)=>{"use strict";a.r(t),a.d(t,{TreeViewSelect:()=>C,TreeViewSelectMenuItem:()=>S});var l=a(28416),n=a.n(l),r=a(69386),s=a(49739),o=a(83826),i=a(68774),u=a(68340),d=a(78933),c=a(39841),p=a(3314),m=a(91878),f=a(43322),E=a(86718),g=a(93774),h=a(48951),v=a(32510),b=a(114),_=a(20304);function S(e){const{name:t,description:a}=e;return n().createElement("div",null,n().createElement(s.K,null,n().createElement(o.v,null,t),n().createElement(o.v,null,n().createElement(i.D,null,n().createElement(u.x,{component:"small"},a)))))}function C(e){const{includeFilterSwitch:t,setSelected:a,selected:s,treeViewSelectionMap:o,treeViewSwitchActive:i,setTreeViewSwitchActive:u,placeholder:S,searchPlaceholder:C,switchLabelOnText:y,switchLabelOffText:O,ariaLabel:I,allExpanded:R=!1}=e,[T,A]=(0,l.useState)(!1),[P,D]=(0,l.useState)(o),[N,L]=(0,l.useState)(""),w=n().useRef(null),M=n().useRef(null),k=(0,l.useCallback)((()=>{if(""===N)D(o);else{const e=o.map((e=>{if(e.children){let t=1;const a=new r.Z(e.children,{keys:["id","category","descriptionLabel","nameLabel"],shouldSort:!0,threshold:.3,includeScore:!0,ignoreLocation:!0,minMatchCharLength:1}).search(N.trim()).map((({item:e,score:a})=>(a&&a<t&&(t=a),e)));if(a.length>0)return Object.assign(Object.assign({},e),{children:a,sortingScore:t})}})).filter(Boolean);e.sort(((e,t)=>(e.sortingScore||1/0)-(t.sortingScore||1/0))),D(e)}}),[N,o]);(0,l.useEffect)((()=>{k()}),[o,k]);const x=n().createElement(d.o,{style:{padding:0}},n().createElement(c.c,{style:{padding:0}},t&&n().createElement(p.E,{widths:{default:"100%"},className:"pf-u-pt-xs pf-u-pb-sm pf-u-pl-md pf-u-pr-sm"},n().createElement(m.r,{"data-testid":"display-switch",label:y,labelOff:O,isChecked:i,onChange:()=>{u(!i)}})),n().createElement(p.E,{widths:{default:"100%"}},n().createElement(f.X,{autoComplete:"off",className:"pf-u-pt-sm pf-u-pb-sm pf-u-pl-sm pf-u-pr-sm pf-u-w-inherit",placeholder:C,onSearch:e=>{L(e.target.value),k()},"aria-label":I&&`${I} search field`})))),j=n().createElement(E.O,{ref:w,"aria-label":I&&`${I} toggle`,style:{maxWidth:"none",width:"100%"},onClick:e=>{L(""),A(!T)},isExpanded:T},s?`${s}`:`${S}`),F=n().createElement(g.s,{ref:M,isScrollable:!0,variant:"raised",style:{height:"60%"}},n().createElement(h.c,{style:{maxHeight:"100%"}},n().createElement("section",null,n().createElement(v.C,{style:{padding:0}},n().createElement(b.L,{onSelect:(e,t)=>{t.id&&!(null==t?void 0:t.children)&&(a(e,t),A(!1))},toolbar:x,hasSelectableNodes:!1,allExpanded:R||""!==N,data:P,useMemo:!0})))));return n().createElement(_.F,{isOpen:T,onOpenChange:e=>A(e),onOpenChangeKeys:["Escape"],menu:F,menuRef:M,toggle:j,toggleRef:w})}},87472:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(28416),n=a.n(l),r=a(59775),s=a(90674),o=a(77589),i=a(19822),u=a(90181),d=a(68248);const c=({maxWorkerVolumeSizeGiB:e})=>n().createElement(r.c,{className:"worker-node-volume-size-section",label:"Root disk size",isRequired:!0,fieldId:"worker_volume_size_gib",labelIcon:n().createElement(d.default,{hint:`Root disks are AWS EBS volumes attached as the primary disk for AWS EC2 instances. The root disk size for this machine pool group of nodes must be between ${o.workerNodeVolumeSizeMinGiB}GiB and ${e}GiB.`})},n().createElement(s.Z,{component:i.Z,name:"worker_volume_size_gib",inputName:"worker_volume_size_gib",inputAriaLabel:"Worker root disk size",parse:e=>parseFloat(e),validate:u.validateWorkerVolumeSize,min:o.workerNodeVolumeSizeMinGiB,max:e,widthChars:5,unit:"GiB"}))},18483:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SubnetSelectField:()=>c});var l=a(28416),n=a.n(l),r=a(59775),s=a(28191),o=a(92298),i=a(2453),u=a(83384),d=a(12812);const c=({name:e,label:t,input:a,meta:c,isRequired:p,className:m,privacy:f,withAutoSelect:E=!0,selectedVPC:g,allowedAZs:h})=>{const[v,b]=(0,l.useState)(!1),_=a.value,S=c.touched&&(c.error||p&&!_),{subnetsByAZ:C,subnetList:y,hasOptions:O}=(0,l.useMemo)((()=>{var e;const t=[],a={};null===(e=g.aws_subnets)||void 0===e||e.forEach((e=>{const l=e.availability_zone||"";if((0,i.isSubnetMatchingPrivacy)(e,f)&&(void 0===h||h.includes(l))){const n=e.subnet_id,r={groupId:l,entryId:n,label:e.name||n};a[l]?a[l].push(r):a[l]=[r],t.push(e)}}));const l=t.length>0;return{subnetsByAZ:a,subnetList:t,hasOptions:l}}),[g,h,f]);(0,l.useEffect)((()=>{const e=y.some((e=>e.subnet_id===_));let t=null;E?!e&&O&&(t=y[0].subnet_id):e||(t=""),null!==t&&t!==_&&a.onChange(t)}),[E,O,y,_]);const I=(0,l.useCallback)(((e,t)=>{a.onChange(t),b(!1)}),[a]);let R=`Select ${f} subnet`;return(null==g?void 0:g.id)&&!O&&(void 0===h||h.length>0)&&(R=`No ${f} subnets found.`),n().createElement(r.c,{fieldId:e,label:t,id:a.name,isRequired:p,className:m},n().createElement(s.k,null,n().createElement(o.B,{grow:{default:"grow"}},n().createElement(u.default,{label:t,"aria-label":t,isOpen:v,onToggle:(e,t)=>b(t),onSelect:I,selectedEntryId:_,selectionData:C,isDisabled:!(null==g?void 0:g.id)||!O,placeholderText:R,truncation:40,inlineFilterPlaceholderText:"Filter by subnet ID / name",validated:S?"error":void 0}))),n().createElement(d.FormGroupHelperText,{touched:c.touched,error:S}))}},57572:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_DELETE_UPGRADE_SCHEDULE:()=>u,CLEAR_GET_UPGRADE_SCHEDULE:()=>d,CLEAR_POST_UPGRADE_SCHEDULE:()=>s,DELETE_UPGRADE_SCHEDULE:()=>i,GET_UPGRADE_SCHEDULES:()=>o,POST_UPGRADE_SCHEDULE:()=>r,SET_CLUSTER_UPGRADE_POLICY:()=>c,clearDeleteScheduleResponse:()=>h,clearPostedUpgradeScheduleResponse:()=>v,clearSchedulesResponse:()=>b,deleteSchedule:()=>g,editSchedule:()=>E,getSchedules:()=>p,postSchedule:()=>m,replaceSchedule:()=>f,setAutomaticUpgradePolicy:()=>_});var l=a(91757),n=a(51147);const r="POST_UPGRADE_SCHEDULE",s="CLEAR_UPGRADE_SCHEDULE",o="GET_UPGRADE_SCHEDULES",i="DELETE_UPGRADE_SCHEDULE",u="CLEAR_DELETE_UPGRADE_SCHEDULE",d="CLEAR_GET_UPGRADE_SCHEDULE",c="SET_CLUSTER_UPGRADE_POLICY",p=(e,t)=>(0,l.action)(o,t?(0,n.getControlPlaneUpgradeSchedules)(e):(0,n.getUpgradeSchedules)(e).then((e=>{const t=e.data.items||[],a=[];return t.forEach((e=>{e.cluster_id&&e.id&&a.push((0,n.getUpgradeScheduleState)(e.cluster_id,e.id).then((t=>{e.state=t.data})))})),Promise.all(a).then((()=>(e.data.items=t,e)))}))),m=(e,t,a)=>l=>{const s=a?n.postControlPlaneUpgradeSchedule:n.postUpgradeSchedule;l({type:r,payload:s(e,t).then((t=>(l(p(e,a)),t)))})},f=(e,t,a,l)=>s=>{const o=l?n.deleteControlPlaneUpgradeSchedule:n.deleteUpgradeSchedule,i=l?n.postControlPlaneUpgradeSchedule:n.postUpgradeSchedule;s({type:r,payload:o(e,t).then((()=>i(e,a))).then((t=>(s(p(e,l)),t)))})},E=(e,t,a,l)=>s=>{const o=l?n.patchControlPlaneUpgradeSchedule:n.patchUpgradeSchedule;s({type:r,payload:o(e,t,a).then((t=>(s(p(e,l)),t)))})},g=(e,t,a)=>l=>{const r=a?n.deleteControlPlaneUpgradeSchedule:n.deleteUpgradeSchedule;l({type:i,payload:r(e,t).then((t=>(l(p(e,a)),t)))})},h=()=>e=>e({type:u}),v=()=>e=>e({type:s}),b=()=>e=>e({type:d}),_=e=>({type:c,payload:e})},13624:(e,t,a)=>{"use strict";a.d(t,{_:()=>l});const l=e=>["",void 0].includes(e)?void 0:e},48578:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getClusterAutoScalingSubmitSettings:()=>n,getCompleteFormClusterAutoscaling:()=>r,getDefaultClusterAutoScaling:()=>l});const l=()=>({balance_similar_node_groups:!1,balancing_ignored_labels:"",skip_nodes_with_local_storage:!0,log_verbosity:1,ignore_daemonsets_utilization:!1,max_node_provision_time:"15m",max_pod_grace_period:600,pod_priority_threshold:-10,resource_limits:{max_nodes_total:180,cores:{min:0,max:11520},memory:{min:0,max:230400},gpus:""},scale_down:{enabled:!0,delay_after_add:"10m",delay_after_delete:"0s",delay_after_failure:"3m",utilization_threshold:"0.5",unneeded_time:"10m"}}),n=e=>{var t;let a;(null===(t=e.scale_down)||void 0===t?void 0:t.enabled)?(a=Object.assign({},e.scale_down),a.utilization_threshold=`${a.utilization_threshold}`):a={enabled:!1};let l=[];e.resource_limits.gpus&&(l=(e.resource_limits.gpus||"").split(",").map((e=>{const t=e.split(":");return{type:t[0],range:{min:Number(t[1]),max:Number(t[2])}}})));const n=(e.balancing_ignored_labels||"").split(",").filter(Boolean),r=Object.assign(Object.assign({},e),{scale_down:a,balancing_ignored_labels:n,resource_limits:Object.assign(Object.assign({},e.resource_limits),{gpus:l})});return delete r.isSelected,r},r=e=>{var t;const a=Object.assign({},e),n=l();a.scale_down||(a.scale_down=n.scale_down),a.scale_down.delay_after_add||(a.scale_down.delay_after_add=n.scale_down.delay_after_add),a.scale_down.delay_after_delete||(a.scale_down.delay_after_delete=n.scale_down.delay_after_delete),a.scale_down.delay_after_failure||(a.scale_down.delay_after_failure=n.scale_down.delay_after_failure),a.scale_down.unneeded_time||(a.scale_down.unneeded_time=n.scale_down.unneeded_time),a.scale_down.utilization_threshold||(a.scale_down.utilization_threshold=n.scale_down.utilization_threshold);const r=(null===(t=a.resource_limits)||void 0===t?void 0:t.gpus)||[];a.resource_limits.gpus=r.map((e=>{var t,a;return`${e.type}:${(null===(t=e.range)||void 0===t?void 0:t.min)||0}:${(null===(a=e.range)||void 0===a?void 0:a.max)||0}`})).join(",");const s=a.balancing_ignored_labels||[];return a.balancing_ignored_labels=s.join(","),a}},59231:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canViewMachinePoolTab:()=>T,default:()=>P,getClusterAIPermissions:()=>R,getClusterStateAndDescription:()=>u,getInflightChecks:()=>d,getStateDescription:()=>o,hasInflightEgressErrors:()=>p,isAWS:()=>b,isAWSPrivateCluster:()=>A,isCCS:()=>v,isClusterUpgrading:()=>i,isErrorSharedGCPVPCValues:()=>g,isHibernating:()=>c,isHypershiftCluster:()=>S,isOSD:()=>m,isOSDGCPPendingOnHostProject:()=>E,isOSDGCPWaitingForRolesOnHostProject:()=>f,isOffline:()=>I,isROSA:()=>h,isROSAManualMode:()=>_,isWaitingForOIDCProviderOrOperatorRolesMode:()=>C,isWaitingHypershiftCluster:()=>y,isWaitingROSAManualMode:()=>O});var l,n=a(70769),r=a(52758);!function(e){e.UPDATING="updating",e.DISCONNECTED="disconnected",e.DEPROVISIONED="deprovisioned",e.ARCHIVED="archived",e.STALE="stale"}(l||(l={}));const s=Object.assign(Object.assign({},n.ClusterState),l),o=e=>e===s.DEPROVISIONED?"Deleted":e?(e.charAt(0).toUpperCase()+e.slice(1)).replace(/_/g," "):"",i=e=>"running"===(null==e?void 0:e.metrics.upgrade.state),u=e=>{var t,a,l,u,d;let c;return(null===(t=e.subscription)||void 0===t?void 0:t.status)===r.subscriptionStatuses.DISCONNECTED?c=s.DISCONNECTED:(null===(a=e.subscription)||void 0===a?void 0:a.status)===r.subscriptionStatuses.DEPROVISIONED?c=s.DEPROVISIONED:(null===(l=e.subscription)||void 0===l?void 0:l.status)===r.subscriptionStatuses.ARCHIVED?c=s.ARCHIVED:e.state===n.ClusterState.INSTALLING||e.state===n.ClusterState.VALIDATING||e.state===n.ClusterState.PENDING?c=s.INSTALLING:e.state===n.ClusterState.WAITING?c=s.WAITING:e.state===n.ClusterState.UNINSTALLING?c=s.UNINSTALLING:e.state===n.ClusterState.ERROR?c=s.ERROR:e.state===n.ClusterState.HIBERNATING?c=s.HIBERNATING:e.state===n.ClusterState.POWERING_DOWN?c=s.POWERING_DOWN:e.state===n.ClusterState.RESUMING?c=s.RESUMING:(null===(u=e.subscription)||void 0===u?void 0:u.status)===r.subscriptionStatuses.STALE?c=s.STALE:i(e)?c=s.UPDATING:(null===(d=e.subscription)||void 0===d?void 0:d.status)!==r.subscriptionStatuses.ACTIVE&&e.state!==n.ClusterState.READY||(c=s.READY),{state:c,description:o(c)}},d=e=>e&&Array.isArray(e.inflight_checks)?e.inflight_checks:[],c=e=>e.state===n.ClusterState.HIBERNATING||e.state===n.ClusterState.POWERING_DOWN||e.state===n.ClusterState.RESUMING,p=e=>d(e).some((e=>{if(e.state!==n.InflightCheckState.PASSED){const{details:t={}}=e;return Object.keys(t).some((e=>e.startsWith("subnet")&&Object.keys(t[e]).some((e=>e.startsWith("egress_url_errors")))))}return!1})),m=e=>{var t;return[r.normalizedProducts.OSD,r.normalizedProducts.OSDTrial].includes(null===(t=e.product)||void 0===t?void 0:t.id)},f=e=>{var t,a,l,n;return m(e)&&"waiting"===(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.state)&&-1!==(null===(l=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.description)||void 0===l?void 0:l.indexOf(null===(n=null==e?void 0:e.gcp_network)||void 0===n?void 0:n.vpc_project_id))},E=e=>{var t,a;return m(e)&&["validating","pending"].includes(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.state)&&!!(null===(a=null==e?void 0:e.gcp_network)||void 0===a?void 0:a.vpc_project_id)},g=e=>{var t,a;return m(e)&&e.state===n.ClusterState.WAITING&&!!(null===(t=null==e?void 0:e.gcp_network)||void 0===t?void 0:t.vpc_project_id)&&!!(null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.description)&&e.status.description.includes(e.gcp_network.vpc_project_id)&&e.status.description.includes("Could not validate the shared subnets")},h=e=>{var t;return(null===(t=null==e?void 0:e.product)||void 0===t?void 0:t.id)===r.normalizedProducts.ROSA},v=e=>{var t,a;return null!==(a=null===(t=e.ccs)||void 0===t?void 0:t.enabled)&&void 0!==a&&a},b=e=>{var t;return"aws"===(null===(t=e.subscription)||void 0===t?void 0:t.cloud_provider_id)},_=e=>{var t,a,l,n,r;return h(e)&&!(null===(a=null===(t=null==e?void 0:e.aws)||void 0===t?void 0:t.sts)||void 0===a?void 0:a.auto_mode)&&!(null===(r=null===(n=null===(l=null==e?void 0:e.aws)||void 0===l?void 0:l.sts)||void 0===n?void 0:n.oidc_config)||void 0===r?void 0:r.id)},S=e=>{var t,a;return(null===(t=null==e?void 0:e.hypershift)||void 0===t?void 0:t.enabled)||void 0!==(null==e?void 0:e.subscription)&&"plan"in e.subscription&&(null===(a=e.subscription.plan)||void 0===a?void 0:a.id)===r.normalizedProducts.ROSA_HyperShift},C=e=>{var t,a,l;return h(e)&&e.state===n.ClusterState.WAITING&&void 0!==(null===(l=null===(a=null===(t=null==e?void 0:e.aws)||void 0===t?void 0:t.sts)||void 0===a?void 0:a.oidc_config)||void 0===l?void 0:l.id)},y=e=>e.state===n.ClusterState.WAITING&&S(e),O=e=>e.state===n.ClusterState.WAITING&&_(e)&&!S(e),I=e=>c(e)||e.state===n.ClusterState.UNINSTALLING,R=e=>({canEdit:e.canEdit}),T=e=>{var t,a,l;const n=(null===(t=null==e?void 0:e.subscription)||void 0===t?void 0:t.status)===r.subscriptionStatuses.ARCHIVED||(null===(a=null==e?void 0:e.subscription)||void 0===a?void 0:a.status)===r.subscriptionStatuses.DEPROVISIONED;return null!==(l=null==e?void 0:e.managed)&&void 0!==l&&l&&((null==e?void 0:e.state)===s.READY||c(e))&&!n},A=e=>{var t,a,l;return null!==(l=(null==e?void 0:e.aws)&&(null===(t=null==e?void 0:e.ccs)||void 0===t?void 0:t.enabled)&&(null===(a=null==e?void 0:e.aws)||void 0===a?void 0:a.private_link))&&void 0!==l&&l},P=s},58152:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var l=a(52758);const n=e=>{var t,a,n,r,s;const o="Standard";switch(null===(a=null===(t=e.subscription)||void 0===t?void 0:t.plan)||void 0===a?void 0:a.type){case l.normalizedProducts.OSDTrial:return"Free trial, upgradeable";case l.normalizedProducts.OSD:switch(null===(n=e.subscription)||void 0===n?void 0:n.cluster_billing_model){case l.billingModels.STANDARD:return"Annual Red Hat subscriptions";case l.billingModels.MARKETPLACE:case l.billingModels.MARKETPLACE_AWS:return!0===(null===(r=e.ccs)||void 0===r?void 0:r.enabled)?"On-demand via Red Hat Marketplace":o;case l.billingModels.MARKETPLACE_GCP:return!0===(null===(s=e.ccs)||void 0===s?void 0:s.enabled)?"On-demand via Google Cloud Marketplace":o;default:return o}default:return o}}},74685:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var l=a(59231);const n=e=>{var t,a;return((0,l.isClusterUpgrading)(e)?null===(t=e.version)||void 0===t?void 0:t.raw_id:e.openshift_version)||(null===(a=e.version)||void 0===a?void 0:a.raw_id)||"N/A"}},33988:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MAX_NODES:()=>l,MAX_NODES_HCP:()=>n,PIDS_LIMIT_MAX:()=>o,PIDS_LIMIT_MAX_OVERRIDE:()=>i,PIDS_LIMIT_MIN:()=>s,SPOT_MIN_PRICE:()=>r});const l=180,n=51,r=.01,s=4096,o=16384,i=3694303},69996:(e,t,a)=>{"use strict";a.r(t),a.d(t,{buildOptions:()=>c,getAvailableQuota:()=>p,getIncludedNodes:()=>d,getNodeOptions:()=>m});var l=a(96026),n=a.n(l),r=a(31125),s=a(59231),o=a(69816),i=a(33988),u=a(13624);const d=({isMultiAz:e,isHypershift:t})=>t?e?9:4:0,c=({included:e,available:t,isEditingCluster:a,currentNodeCount:l,minNodes:r,increment:s,isHypershift:o})=>{const u=t>0||a;let d=a?t+l:t+e;const c=o?i.MAX_NODES_HCP:i.MAX_NODES;return d>c&&(d=c),o&&a&&d>i.MAX_NODES_HCP-l&&(d=i.MAX_NODES_HCP-l),u?n()(r,d+1,s):[r]},p=({quota:e,isByoc:t,isMultiAz:a,machineTypeId:l,machineTypes:n,cloudProviderID:r,product:s,billingModel:i})=>{var d;if(!l)return 0;const c=null===(d=n.typesByID)||void 0===d?void 0:d[l];if(!c)return 0;const p={product:s,cloudProviderID:r,isBYOC:t,isMultiAz:a,resourceName:c.generic_name,billingModel:(0,u._)(i)};return(0,o.availableNodesFromQuota)(e,p)},m=({cluster:e,quota:t,machineTypes:a,machineTypeId:l,machinePools:n,machinePool:o,minNodes:i,editMachinePoolId:u})=>{var m,f,E,g;const h=(0,r.isMultiAZ)(e),v=(0,r.isMPoolAz)(e,null===(m=null==o?void 0:o.availability_zones)||void 0===m?void 0:m.length),b=p({quota:t,machineTypes:a,machineTypeId:l,isMultiAz:h,isByoc:!!(null===(f=e.ccs)||void 0===f?void 0:f.enabled),cloudProviderID:null===(E=e.cloud_provider)||void 0===E?void 0:E.id,billingModel:e.billing_model,product:null===(g=e.product)||void 0===g?void 0:g.id}),_=(0,s.isHypershiftCluster)(e),S=d({isHypershift:_,isMultiAz:h}),C=n.reduce(((e,t)=>{const a=(t.autoscaling?t.autoscaling.max_replicas:t.replicas)||0;return _&&t.id!==u||!_&&t.instance_type===l?e+a:e}),0);return c({available:b,isEditingCluster:!0,included:S,currentNodeCount:C,minNodes:i,increment:v?3:1,isHypershift:(0,s.isHypershiftCluster)(e)})}},53025:(e,t,a)=>{"use strict";a.r(t),a.d(t,{QuotaTypes:()=>r,defaultQuotaQuery:()=>s});var l=a(70471),n=a(43866);const r={ADD_ON:"add-on",CLUSTER:"cluster",NODE:"compute.node",LOAD_BALANCER:"network.loadbalancer",STORAGE:"pv.storage"},s={resource_type:l.Jd,availability_zone_type:l.Jd,billing_model:n.d8.billing_model.ANY,byoc:l.Jd,cloud_provider:l.Jd,product:l.Jd}},69816:(e,t,a)=>{"use strict";a.r(t),a.d(t,{addOnBillingQuota:()=>g,availableClustersFromQuota:()=>b,availableFromQuotaCostItem:()=>m,availableNodesFromQuota:()=>C,availableQuota:()=>E,getAwsBillingAccountsFromQuota:()=>y,getBillingQuotaModel:()=>c,hasHostedQuotaSelector:()=>S,hasManagedQuotaSelector:()=>_,hasPotentialQuota:()=>h,queryFromCluster:()=>v});var l=a(27361),n=a.n(l),r=a(70471),s=a(43866),o=a(70769),i=a(52758),u=a(53025),d=a(13624);const c=e=>e===o.BillingModel.MARKETPLACE_AWS?s.d8.billing_model.MARKETPLACE:e,p=(e,t)=>(0,r.EQ)(e.resource_type,t.resource_type||r.Jd)&&(0,r.uC)(e.product,t.product||i.normalizedProducts.ANY)&&(0,r.EQ)(e.billing_model,c(t.billing_model||r.Jd))&&(0,r.EQ)(e.cloud_provider,t.cloud_provider||r.Jd)&&(0,r.EQ)(e.byoc,t.byoc||r.Jd)&&(0,r.uC)(e.availability_zone_type,t.availability_zone_type||r.Jd)&&(0,r.EQ)(e.resource_name,t.resource_name||r.Jd),m=(e,t)=>{var a,l;const n=null!==(l=null===(a=e.related_resources)||void 0===a?void 0:a.filter((e=>p(e,t))).map((e=>e.cost)))&&void 0!==l?l:[];if(0===n.length)return 0;const r=Math.min(...n);if(0===r)return 1/0;const s=Math.floor((e.allowed-e.consumed)/r);return s>0?s:0},f=e=>{var t;return Object.assign(Object.assign({},u.defaultQuotaQuery),{resource_type:e.resourceType||r.Jd,product:e.product||i.normalizedProducts.ANY,billing_model:"standard-trial"===(null===(t=e.billingModel)||void 0===t?void 0:t.toString())?s.d8.billing_model.STANDARD:e.billingModel||s.d8.billing_model.ANY,cloud_provider:e.cloudProviderID||r.Jd,byoc:{true:"byoc",false:"rhinfra",undefined:r.Jd}[`${e.isBYOC}`],availability_zone_type:{true:"multi",false:"single",undefined:r.Jd}[`${e.isMultiAz}`],resource_name:e.resourceName||r.Jd})},E=(e,t)=>{if(!e)return 0;if(t.billingModel===s.d8.billing_model.MARKETPLACE_GCP)return 1/0;const a=f(t);return((null==e?void 0:e.items)||[]).reduce(((e,t)=>e+m(t,a)),0)},g=(e,t)=>{var a;const l={},n=Object.assign(Object.assign({},u.defaultQuotaQuery),{resource_name:t.resourceName,resource_type:t.resourceType||r.Jd});return null===(a=e.items)||void 0===a||a.forEach((e=>{var t;null===(t=e.related_resources)||void 0===t||t.forEach((t=>{var a,s,o,u,d,c;p(t,n)&&([r.Jd,i.billingModels.STANDARD].includes(t.billing_model)?l.standard||(l.standard={cost:t.cost,allowed:e.allowed,consumed:e.consumed}):t.billing_model!==i.billingModels.MARKETPLACE||l.marketplace||(l.marketplace={cost:t.cost,cloudAccounts:{rhm:null!==(s=null===(a=e.cloud_accounts)||void 0===a?void 0:a.filter((e=>"rhm"===e.cloud_provider_id)))&&void 0!==s?s:[],aws:null!==(u=null===(o=e.cloud_accounts)||void 0===o?void 0:o.filter((e=>"aws"===e.cloud_provider_id)))&&void 0!==u?u:[],azure:null!==(c=null===(d=e.cloud_accounts)||void 0===d?void 0:d.filter((e=>"azure"===e.cloud_provider_id)))&&void 0!==c?c:[]},allowed:e.allowed,consumed:e.consumed}))}))})),l},h=(e,t)=>{var a;return(null!==(a=e.items)&&void 0!==a?a:[]).some((e=>{var a;return null===(a=e.related_resources)||void 0===a?void 0:a.some((a=>p(a,f(t))&&(0===a.cost||e.allowed>0)))}))},v=e=>{var t,a,l,o,i,u,c;return{product:null===(a=null===(t=e.subscription)||void 0===t?void 0:t.plan)||void 0===a?void 0:a.type,billingModel:null!==(o=(0,d._)(null===(l=e.subscription)||void 0===l?void 0:l.cluster_billing_model))&&void 0!==o?o:s.d8.billing_model.STANDARD,cloudProviderID:null!==(u=null===(i=e.cloud_provider)||void 0===i?void 0:i.id)&&void 0!==u?u:r.Jd,isBYOC:!0===(null===(c=e.ccs)||void 0===c?void 0:c.enabled),isMultiAz:n()(e,"multi_az",!1)}},b=(e,t)=>E(e,Object.assign(Object.assign({},t),{resourceType:u.QuotaTypes.CLUSTER})),_=(e,t)=>b(e,{product:t})>=1,S=e=>b(e,{product:i.normalizedProducts.ROSA,billingModel:s.d8.billing_model.MARKETPLACE})>=1,C=(e,t)=>E(e,Object.assign(Object.assign({},t),{resourceType:u.QuotaTypes.NODE})),y=e=>{var t,a;return(null===(a=null===(t=null==e?void 0:e.find((e=>"cluster|byoc|moa|marketplace"===e.quota_id)))||void 0===t?void 0:t.cloud_accounts)||void 0===a?void 0:a.filter((e=>"aws"===e.cloud_provider_id)))||[]}},31622:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var l=a(59231);const n=(e,t)=>{var a,n;const r=(0,l.isHypershiftCluster)(e);let s=0,o=!1,i=0,u=0;const d=r&&(null==t?void 0:t.length)?t.map((e=>{var t,a;return null!==(a=null===(t=e.status)||void 0===t?void 0:t.current_replicas)&&void 0!==a?a:0})).reduce(((e,t)=>e+t),0):null!==(n=null===(a=e.metrics)||void 0===a?void 0:a.nodes.compute)&&void 0!==n&&n;return t&&t.forEach((e=>{var t,a,l,n,d,c,p,m,f,E,g;e.autoscaling?(o=!0,r?(i+=null!==(a=null===(t=e.autoscaling)||void 0===t?void 0:t.min_replica)&&void 0!==a?a:NaN,u+=null!==(n=null===(l=e.autoscaling)||void 0===l?void 0:l.max_replica)&&void 0!==n?n:NaN):(i+=null!==(c=null===(d=e.autoscaling)||void 0===d?void 0:d.min_replicas)&&void 0!==c?c:NaN,u+=null!==(m=null===(p=e.autoscaling)||void 0===p?void 0:p.max_replicas)&&void 0!==m?m:NaN)):(s+=null!==(f=e.replicas)&&void 0!==f?f:NaN,i+=null!==(E=e.replicas)&&void 0!==E?E:NaN,u+=null!==(g=e.replicas)&&void 0!==g?g:NaN)})),{totalDesiredComputeNodes:s,hasMachinePoolWithAutoscaling:o,totalMinNodesCount:i,totalMaxNodesCount:u,totalActualNodes:d}}},82714:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useAWSVPCFromCluster:()=>d});var l=a(28416),n=a.n(l),r=a(51147),s=a(76727),o=a(77031),i=a(59231),u=function(e,t,a,l){return new(a||(a=Promise))((function(n,r){function s(e){try{i(l.next(e))}catch(e){r(e)}}function o(e){try{i(l.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}i((l=l.apply(e,t||[])).next())}))};const d=e=>{var t,a,l,d;const[c,p]=n().useState(),[m,f]=n().useState(!!e.id),[E,g]=n().useState(!1),h=(0,i.isHypershiftCluster)(e),v=e.id||"",b=(null===(t=e.aws)||void 0===t?void 0:t.subnet_ids)||[],_=b.length>0,S=e=>u(void 0,void 0,void 0,(function*(){g(!1),f(!0);try{const t=yield e;t&&p((e=>{const t=(e.aws_security_groups||[]).filter((e=>!e.red_hat_managed));return t.sort(o.PT),Object.assign(Object.assign({},e),{aws_security_groups:t})})(t))}catch(e){g(!0),p(void 0)}finally{f(!1)}}));n().useEffect((()=>{v&&!h&&_&&u(void 0,void 0,void 0,(function*(){return S((e=>u(void 0,void 0,void 0,(function*(){var t;let a;const l=yield(0,r.getAWSVPCDetails)(e,{includeSecurityGroups:!0});return(null===(t=l.data)||void 0===t?void 0:t.id)&&(a=l.data),a})))(v))}))}),[v,h,_]);const C=b.length>0?b[0]:void 0,y=null===(l=null===(a=e.aws)||void 0===a?void 0:a.sts)||void 0===l?void 0:l.role_arn,O=(null===(d=e.region)||void 0===d?void 0:d.id)||"";return n().useEffect((()=>{h&&y&&C&&O&&u(void 0,void 0,void 0,(function*(){return S((e={awsCredentials:{sts:{role_arn:y}},region:O,subnet:C},u(void 0,void 0,void 0,(function*(){return(e=>{var t;const a=(null===(t=e.data)||void 0===t?void 0:t.items)||[];if(1===a.length)return a[0]})(yield(0,s.getAWSCloudProviderVPCs)(e).payload)}))));var e}))}),[h,C,y,O]),{clusterVpc:c,isLoading:m,hasError:E}}},8493:(e,t,a)=>{"use strict";a.r(t),a.d(t,{vpcInquiryRequestSelector:()=>s,vpcsSelector:()=>r});var l=a(19119);const n=(0,a(31767).Z)("CreateCluster"),r=e=>e.ccsInquiries.vpcs,s=(0,l.P1)([e=>n(e,"cloud_provider"),e=>n(e,"region"),e=>({account_id:n(e,"associated_aws_id"),sts:{role_arn:n(e,"installer_role_arn")}})],((e,t,a)=>({cloudProviderID:e,region:t,credentials:a})))},12549:(e,t,a)=>{"use strict";a.r(t),a.d(t,{InstructionsChooser:()=>_});var l=a(28416),n=a.n(l),r=a(40843),s=a(83668),o=a(25332),i=a(32203),u=a(70),d=a(85583),c=a(28191),p=a(62394),m=a(72936),f=a(49345),E=a(8590),g=a(49734),h=a(98614),v=a(42517);const b=({id:e,href:t,title:a,labels:l,body:r,featureListItems:s,footerLinkHref:b,footerLinkText:_})=>{const S=(0,o.s0)();return n().createElement(i.Z,{id:e,className:"infra-card",isSelectableRaised:!0,role:"link","aria-labelledby":`${e}-title`,"aria-describedby":`${e}-description`,onClick:()=>{S(t)},onKeyUp:e=>{"Enter"===e.key&&S(t)}},n().createElement(u.l,{id:`${e}-title`},n().createElement(d.D,{headingLevel:"h2"},a),n().createElement(c.k,{spaceItems:{default:"spaceItemsSm"}},l)),n().createElement(p.e,{id:`${e}-description`},r,n().createElement(m.aV,{isPlain:!0,className:"pf-v5-u-mt-lg pf-v5-u-ml-0 pf-v5-u-pl-0"},s.map(((e,t)=>n().createElement(f.H,{key:t,icon:n().createElement(E.J,{size:"md"},n().createElement(h.ZP,{color:"var(--pf-v5-global--palette--green-400)"}))},e))))),b&&n().createElement(g.e,null,n().createElement(v.default,{href:b,stopClickPropagation:!0},_)))},_=({aiPageLink:e,aiLearnMoreLink:t,agentBasedPageLink:a,agentBasedLearnMoreLink:l,hideIPI:o=!1,ipiPageLink:i,ipiLearnMoreLink:u,hideUPI:d=!1,recommend:c="ai",upiPageLink:p,upiLearnMoreLink:m,providerSpecificFeatures:f={},name:E})=>n().createElement("div",{className:"pf-v5-c-content ocm-page instructions-chooser","data-ouia-component-id":`${E}-instructions-chooser`},e&&n().createElement(b,{id:"select-interactive",href:e,title:"Interactive",labels:n().createElement(n().Fragment,null,"ai"===c&&n().createElement(r._,{color:"blue",icon:n().createElement(s.default,null)},"Recommended"),n().createElement(r._,{color:"purple"},"Web-based")),body:"Runs Assisted Installer with standard configuration settings to create your cluster.",featureListItems:["Preflight validations","Smart defaults","For connected networks",...f.ai||[]],footerLinkHref:t,footerLinkText:"Learn more about interactive"}),a&&n().createElement(b,{id:"select-agent-based",href:a,title:"Local Agent-based",labels:n().createElement(r._,{color:"purple"},"CLI-based"),body:"Runs Assisted Installer securely and locally to create your cluster.",featureListItems:["Installable ISO","Preflight validations",...f.abi||[]],footerLinkHref:l,footerLinkText:"Learn more about local agent-based"}),!o&&i&&n().createElement(b,{id:"select-automated",href:i,title:"Automated",labels:n().createElement(n().Fragment,null,"ipi"===c&&n().createElement(r._,{color:"blue",icon:n().createElement(s.default,null)},"Recommended"),n().createElement(r._,{color:"purple"},"CLI-based")),body:"Auto-provision your infrastructure with minimal configuration to create your cluster.",featureListItems:["Installer Provisioned Infrastructure",...f.ipi||[]],footerLinkHref:u,footerLinkText:"Learn more about automated"}),!d&&p&&n().createElement(b,{id:"select-full-control",href:p,title:"Full control",labels:n().createElement(r._,{color:"purple"},"CLI-based"),body:"Make all of the decisions when you create your cluster.",featureListItems:["User Provisioned Infrastructure","Highly customizable",...f.upi||[]],footerLinkHref:m,footerLinkText:"Learn more about full control"}))},72135:(e,t,a)=>{"use strict";a.r(t),a.d(t,{InstructionsChooserPageTitle:()=>i});var l=a(28416),n=a.n(l),r=a(68774),s=a(68340),o=a(57816);const i=({cloudName:e,breadcrumbs:t})=>n().createElement(o.default,{title:`Create an OpenShift Cluster: ${e}`,breadcrumbs:t},n().createElement(r.D,{className:"pf-v5-u-mt-sm"},n().createElement(s.x,{component:"p"},"Select the installation type that best fits your needs.")))},98478:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(47173),n=a(28416),r=a.n(n),s=a(70355),o=a(69740),i=a(91885);const u={[i.tools.CRC]:"Download OpenShift Local",[i.tools.OC]:"Download command-line tools",[i.tools.X86INSTALLER]:"Download installer",[i.tools.IBMZINSTALLER]:"Download installer",[i.tools.PPCINSTALLER]:"Download installer",[i.tools.ARMINSTALLER]:"Download installer",[i.tools.MULTIINSTALLER]:"Download installer",[i.tools.OCM]:"Download ocm CLI",[i.tools.ROSA]:"Download the ROSA CLI"},d=({url:e,disabled:t=!1,download:a=!0,tool:n=i.tools.X86INSTALLER,pendoID:d,text:c="",name:p=""})=>{const m=(0,o.default)();return r().createElement(l.zx,Object.assign({component:"a",href:e,variant:"secondary",className:`download-button tool-${n.toLowerCase()}`,onClick:()=>p?m(p,d):m(s.trackEvents[n],{url:e,path:d}),disabled:!e||!0===t,"data-testid":`download-btn-${n}`},!0===a?{download:!0}:{rel:"noreferrer noopener",target:"_blank"}),c||u[n])}},52859:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(28416),n=a.n(l),r=a(91885),s=a(72936),o=a(49345),i=a(68340),u=a(8590),d=a(15265);const c={alibaba:{cloudProvider:"Alibaba Cloud",publicCloud:!0,customizations:r.default.INSTALL_ALIBABA_CUSTOMIZATIONS,title:"Install OpenShift on Alibaba Cloud with installer-provisioned infrastructure",docURL:r.default.INSTALL_ALIBABAIPI_DOCS_LANDING,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE},aws:{cloudProvider:"AWS",publicCloud:!0,customizations:r.default.INSTALL_AWS_CUSTOMIZATIONS,x86:{ipi:{title:"Install OpenShift on AWS with installer-provisioned infrastructure",docURL:r.default.INSTALL_AWSIPI_DOCS_LANDING,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE},upi:{title:"Install OpenShift on AWS with user-provisioned infrastructure",docURL:r.default.INSTALL_AWSUPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE}},multi:{ipi:{title:"Install OpenShift on AWS with multi-architecture compute machines",installer:r.tools.MULTIINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AWS_MULTI_ARCH,preReleasePageLink:"/install/multi/pre-release"}},arm:{ipi:{title:"Install OpenShift on AWS with installer-provisioned ARM infrastructure",docURL:r.default.INSTALL_AWSIPI_DOCS_LANDING,installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,preReleasePageLink:"/install/arm/pre-release"},upi:{title:"Install OpenShift on AWS with user-provisioned ARM infrastructure",docURL:r.default.INSTALL_AWSUPI_GETTING_STARTED,installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,preReleasePageLink:"/install/arm/pre-release"}},getStartedAdditional:"The installer will ask you for the domain or subdomain you wish to use (this can be purchased through AWS but it will take some time for the DNS to propagate)."},gcp:{cloudProvider:"GCP",publicCloud:!0,customizations:r.default.INSTALL_GCP_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on GCP with installer-provisioned infrastructure",docURL:r.default.INSTALL_GCPIPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE},upi:{title:"Install OpenShift on GCP with user-provisioned infrastructure",docURL:r.default.INSTALL_GCPUPI_GETTING_STARTED,rhcos:{learnMoreURL:r.default.INSTALL_GCPUPI_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS tar",name:"OCP-Download-RHCOS-tar",url:r.default.RHCOS_GCPUPI_TAR_X86}]},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE},getStartedAdditional:"The installer will ask you for the domain or subdomain you wish to use (this can be purchased through GCP but it will take some time for the DNS to propagate)."},azure:{cloudProvider:"Azure",publicCloud:!0,customizations:r.default.INSTALL_AZURE_CUSTOMIZATIONS,x86:{ipi:{title:"Install OpenShift on Azure with installer-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AZUREIPI_GETTING_STARTED},upi:{title:"Install OpenShift on Azure with user-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AZUREUPI_GETTING_STARTED}},arm:{ipi:{title:"Install OpenShift on Azure with installer-provisioned ARM infrastructure",installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AZUREIPI_GETTING_STARTED,preReleasePageLink:"/install/arm/pre-release"}},multi:{ipi:{title:"Install OpenShift on Azure with multi-architecture compute machines",installer:r.tools.MULTIINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AZURE_MULTI_ARCH,preReleasePageLink:"/install/multi/pre-release"}},getStartedAdditional:"The installer will ask you for the domain or subdomain you wish to use (this can be purchased through Azure but it will take some time for the DNS to propagate)."},ibmCloud:{cloudProvider:"IBM Cloud",publicCloud:!0,title:"Install OpenShift on IBM Cloud with installer-provisioned infrastructure",docURL:r.default.INSTALL_IBM_CLOUD_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,powervs:{ipi:{title:"Install OpenShift on IBM Power Systems Virtual Server with installer-provisioned infrastructure",installer:r.tools.PPCINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_IBMPOWERVS_GETTING_STARTED,prerequisites:r.default.INSTALL_IBMPOWERVS_PREREQUISITES,preReleasePageLink:"/install/power/pre-release"}}},ash:{cloudProvider:"Azure Stack Hub",customizations:r.default.INSTALL_ASH_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on Azure Stack Hub with installer-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_ASHIPI_GETTING_STARTED},upi:{title:"Install OpenShift on Azure Stack Hub with user-provisioned infrastructure",rhcos:{learnMoreURL:r.default.INSTALL_ASHUPI_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS VHD",name:"OCP-Download-RHCOS-VHD",url:r.default.RHCOS_ASHUPI_VHD_X86}]},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_ASHUPI_GETTING_STARTED}},baremetal:{cloudProvider:"Bare Metal",customizations:r.default.INSTALL_BAREMETAL_CUSTOMIZATIONS,multi:{upi:{title:"Install OpenShift on bare metal with multi-architecture compute machines",installer:r.tools.MULTIINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_MULTI_ARCH,preReleasePageLink:"/install/multi/pre-release"}},x86:{abi:{title:"Install OpenShift on Bare Metal locally with Agent",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},ipi:{title:"Install OpenShift on Bare Metal with installer-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_IPI_GETTING_STARTED},upi:{title:"Install OpenShift on Bare Metal with user-provisioned infrastructure",rhcos:{learnMoreURL:r.default.INSTALL_BAREMETAL_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:r.default.RHCOS_GENERIC_ISO_X86},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_GENERIC_KERNEL_X86},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_GENERIC_INITRAMFS_X86},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_GENERIC_ROOTFS_X86}],additionalInstructions:"Download the installer ISO image, or the kernel, initramfs, and rootfs."},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_UPI_GETTING_STARTED}},arm:{ipi:{title:"Install OpenShift on ARM Bare Metal with installer-provisioned infrastructure",installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_IPI_GETTING_STARTED,preReleasePageLink:"/install/arm/pre-release"},upi:{title:"Install OpenShift on ARM Bare Metal with user-provisioned infrastructure",rhcos:{learnMoreURL:r.default.INSTALL_BAREMETAL_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:r.default.RHCOS_ARM_ISO},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_ARM_KERNEL},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_ARM_INITRAMFS},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_ARM_ROOTFS}],additionalInstructions:"Download the installer ISO image, or the kernel, initramfs, and rootfs."},installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_UPI_GETTING_STARTED,preReleasePageLink:"/install/arm/pre-release"}},ppc:{upi:{title:"Install OpenShift on IBM Power (ppc64le) with user-provisioned infrastructure",installer:r.tools.PPCINSTALLER,channel:r.channels.STABLE,rhcos:{learnMoreURL:r.default.INSTALL_POWER_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:r.default.RHCOS_POWER_ISO},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_POWER_INITRAMFS},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_POWER_KERNEL},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_POWER_ROOTFS}],additionalInstructions:"Download either the installer ISO image or for PXE booting the initramfs, the kernel, and the rootfs files."},preReleasePageLink:"/install/power/pre-release",docURL:r.default.INSTALL_POWER_GETTING_STARTED}},s390x:{upi:{title:"Install OpenShift on IBM Z (s390x) with user-provisioned infrastructure",rhcos:{additionalInstructions:n().createElement((()=>n().createElement(s.aV,null,n().createElement(o.H,null,"If you plan your installation with z/VM, download the initramfs, the kernel, and the rootfs files."," ",n().createElement(i.x,{component:"a",href:r.default.INSTALL_IBMZ_LEARN_MORE_ZVM,target:"_blank",rel:"noreferrer noopener","data-testid":"install-ibmz-zvm-link"},"Learn more"," ",n().createElement(u.J,{size:"sm"},n().createElement(d.ExternalLinkAltIcon,null)),".")),n().createElement(o.H,null,"If you plan your installation with RHEL KVM, depending on the installation type you plan to perform, download the QCOW2 file or the initramfs, the kernel, and the rootfs files."," ",n().createElement(i.x,{component:"a",href:r.default.INSTALL_IBMZ_RHCOS_LEARN_MORE_RHEL_KVM,target:"_blank",rel:"noreferrer noopener","data-testid":"install-ibmz-rhcos-link"},"Learn more"," ",n().createElement(u.J,{size:"sm"},n().createElement(d.ExternalLinkAltIcon,null)),"."," ")))),null),downloads:[{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_IBMZ_INITRAMFS},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_IBMZ_KERNEL},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_IBMZ_ROOTFS},{buttonText:"Download QCOW2 image",name:"OCP-Download-RHCOS-qcow2",url:r.default.RHCOS_IBMZ_QCOW}]},docURL:r.default.INSTALL_IBMZ_GETTING_STARTED,preReleasePageLink:"/install/ibmz/pre-release",installer:r.tools.IBMZINSTALLER,channel:r.channels.STABLE}}},generic:{cloudProvider:"Platform Agnostic",abi:{title:"Install OpenShift on any x86_64 platform locally with Agent",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},upi:{title:"Install OpenShift on any x86_64 platform with user-provisioned infrastructure",rhcos:{learnMoreURL:r.default.INSTALL_GENERIC_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:r.default.RHCOS_GENERIC_ISO_X86},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_GENERIC_KERNEL_X86},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_GENERIC_INITRAMFS_X86},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_GENERIC_ROOTFS_X86}],additionalInstructions:"Download the installer ISO image, or the kernel, initramfs, and rootfs."},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_GENERIC_GETTING_STARTED}},nutanix:{cloudProvider:"Nutanix AOS",ipi:{title:"Install OpenShift on Nutanix AOS with installer-provisioned infrastructure",docURL:r.default.INSTALL_NUTANIXIPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE}},vsphere:{cloudProvider:"VMware vSphere",customizations:r.default.INSTALL_VSPHERE_CUSTOMIZATIONS,abi:{title:"Install OpenShift on vSphere locally with Agent",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},upi:{title:"Install OpenShift on vSphere with user-provisioned infrastructure",docURL:r.default.INSTALL_VSPHEREUPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,rhcos:{downloads:[{buttonText:"Download RHCOS OVA",name:"OCP-Download-RHCOS-OVA",url:r.default.RHCOS_VSPHERE_OVA_X86}],learnMoreURL:r.default.INSTALL_VSPHERE_RHCOS_LEARN_MORE}},ipi:{title:"Install OpenShift on vSphere with installer-provisioned infrastructure",docURL:r.default.INSTALL_VSPHEREIPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE}},openstack:{cloudProvider:"Red Hat OpenStack Platform",customizations:r.default.INSTALL_OSP_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on Red Hat OpenStack Platform with installer-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_OSPIPI_GETTING_STARTED},upi:{title:"Install OpenShift on Red Hat OpenStack Platform with user-provisioned infrastructure",docURL:r.default.INSTALL_OSPUPI_GETTING_STARTED,rhcos:{learnMoreURL:r.default.INSTALL_OSPUPI_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS QCOW",name:"OCP-Download-RHCOS-QCOW",url:r.default.RHCOS_OSPUPI_QCOW_X86}]},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE}}}},34431:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AutoScale:()=>te});var l=a(28416),n=a.n(l),r=a(16475),s=a(59775),o=a(47173),i=a(66338),u=a(91885),d=a(52758),c=a(86896),p=a(41769),m=a(18955),f=a(94989),E=a(42517),g=a(7046),h=a(76490),v=a(68248),b=a(65673),_=a(28191),S=a(64636),C=a(90181),y=a(12146),O=a(51077),I=a(33988),R=a(12812),T=a(1321);const A=({min:e,max:t,input:a,meta:{error:l},displayError:r,hideError:s,limit:o,ariaLabel:i})=>{n().useEffect((()=>{l?r(o,l):s(o)}),[l,o,r,s]);const u=l=>()=>Number.isNaN(parseInt(a.value,10))||parseInt(a.value,10)<e?a.onChange(e):parseInt(a.value,10)>t?a.onChange(t):l?a.onChange(parseInt(a.value,10)+1):a.onChange(parseInt(a.value,10)-1);return n().createElement(T.Y,{value:parseInt(a.value,10),min:e,max:t,onMinus:u(!1),onChange:e=>a.onChange(Number(e.target.value)),onPlus:u(!0),inputAriaLabel:i,minusBtnAriaLabel:`${i} minus`,plusBtnAriaLabel:`${i} plus`,widthChars:4,inputProps:{onBlur:e=>{e.target.value=Number(e.target.value).toString(),a.onBlur(e)}}})},P=()=>{const{setFieldValue:e,setFieldTouched:t,getFieldProps:a,getFieldMeta:r,values:{[f.FieldId.Hypershift]:o,[f.FieldId.AutoscalingEnabled]:i,[f.FieldId.MachinePoolsSubnets]:p,[f.FieldId.MultiAz]:g,[f.FieldId.MinReplicas]:h,[f.FieldId.MaxReplicas]:T,[f.FieldId.Product]:P,[f.FieldId.Byoc]:D}}=(0,m.c)(),N=(0,l.useMemo)((()=>{var e;return null!==(e=null==p?void 0:p.length)&&void 0!==e?e:1}),[null==p?void 0:p.length]),[L,w]=(0,l.useState)(),[M,k]=(0,l.useState)(),x="true"===g,j="true"===o,F="true"===D,G=P===d.normalizedProducts.ROSA,U=(0,l.useMemo)((()=>j?"Minimum nodes per machine pool":x?"Minimum nodes per zone":"Minimum node count"),[j,x]),V=(0,l.useMemo)((()=>j?"Maximum nodes per machine pool":x?"Maximum nodes per zone":"Maximum node count"),[j,x]),H=(0,l.useMemo)((()=>(0,y.getMinNodesRequired)(j,{numMachinePools:N},{isDefaultMachinePool:!j,isByoc:F,isMultiAz:x})),[N,j,F,x]),z=(0,l.useMemo)((()=>j?N>1?1:2:H),[j,H,N]),W=(e,t="default",a=!1)=>n().createElement(R.FormGroupHelperText,{touched:!0,variant:t,hasIcon:a},e),q=(0,l.useCallback)(((e="0")=>j?W(`x ${N} machine pools = ${parseInt(e,10)*N}`):x?W("x 3 zones = "+3*parseInt(e,10)):null),[j,x,N]),B=e=>e?n().createElement(b.u,{variant:"error",hasIcon:!0},e):null,$=(0,l.useMemo)((()=>{const e=(0,O.default)({isDefaultMachinePool:!j,product:P,isBYOC:F,isMultiAz:x,autoScaleMinNodesValue:void 0,defaultMinAllowed:z,isHypershiftWizard:j});if(e)return e/(x&&!j?3:1)}),[P,F,x,z,j]);(0,l.useEffect)((()=>{if(i&&$){const t=h?parseInt(h,10):0,a=t<$?$:t;a&&e(f.FieldId.MinReplicas,a),T||e(f.FieldId.MaxReplicas,a)}}),[i,x,$,e]),(0,l.useEffect)((()=>{T&&e(f.FieldId.MaxReplicas,T,!0)}),[h]);const Z=e=>{const t=null==e?void 0:e.toString(),a=(0,C.required)(t),l=(0,C.validateNumericInput)(t,{min:$,allowZero:!0}),n=(0,C.validateNumericInput)(t,{max:x?I.MAX_NODES/3:I.MAX_NODES,allowZero:!0});return a||l||n||void 0};return n().createElement(_.k,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsMd"},className:"pf-v5-u-mt-md"},n().createElement(s.c,{label:U,isRequired:!0,fieldId:"nodes_min",className:"autoscaling__nodes-formGroup"},n().createElement(S.Field,{component:A,name:f.FieldId.MinReplicas,type:"text",ariaLabel:"Minimum nodes",validate:e=>B(Z(e)),displayError:(e,t)=>w(t),hideError:()=>w(void 0),limit:"min",min:$,max:x?I.MAX_NODES/3:I.MAX_NODES,input:Object.assign(Object.assign({},a(f.FieldId.MinReplicas)),{onChange:a=>{e(f.FieldId.MinReplicas,a,!0),t(f.FieldId.MinReplicas,!0,!1)}}),meta:r(f.FieldId.MinReplicas)}),L?W(L,"error",!0):q(h)),n().createElement(s.c,{label:V,isRequired:!0,fieldId:"nodes_max",className:"autoscaling__nodes-formGroup",labelIcon:n().createElement(v.default,{hint:n().createElement(n().Fragment,null,c.constants.computeNodeCountHint,n().createElement("br",null),G?n().createElement(n().Fragment,null,n().createElement(E.default,{href:u.default.ROSA_WORKER_NODE_COUNT},"Learn more about worker/compute node count"),n().createElement("br",null)):null)})},n().createElement(S.Field,{component:A,name:f.FieldId.MaxReplicas,type:"text",ariaLabel:"Maximum nodes",validate:e=>B((e=>Z(e)||(h&&e<h?"Max nodes cannot be less than min nodes.":void 0))(e)),displayError:(e,t)=>k(t),hideError:()=>k(void 0),limit:"max",min:$,max:x?I.MAX_NODES/3:I.MAX_NODES,input:Object.assign(Object.assign({},a(f.FieldId.MaxReplicas)),{onChange:a=>{e(f.FieldId.MaxReplicas,a,!0),t(f.FieldId.MaxReplicas,!0,!1)}}),meta:r(f.FieldId.MaxReplicas)}),M?W(M,"error"):q(T)))};var D=a(68340),N=a(75696),L=a(50399),w=a(50693),M=a(4651),k=a(25967),x=a(28047),j=a(30604),F=a(87749),G=a(27730);const U=e=>"true"===e.toString(),V={toString:()=>"true",compareTo:U},H={toString:()=>"false",compareTo:e=>"false"===e.toString()},z=[V,H],W=({name:e,label:t,helperText:a})=>{const[l,{touched:r,error:o}]=(0,S.useField)(e),{setFieldValue:i,setFieldTouched:u}=(0,S.useFormikContext)(),[d,c]=n().useState(!1);return n().createElement(s.c,{role:"group",fieldId:e,label:t},n().createElement(F.P,{onToggle:()=>{c(!d)},onSelect:(t,a)=>{i(e,U(a)),u(e),c(!1)},isOpen:d,selections:l.value?V:H},z.map((e=>n().createElement(G.$,{value:e,key:e.toString()})))),n().createElement(R.FormGroupHelperText,{touched:r,error:o},a))};var q=a(78348),B=a(48578),$=a(56574),Z=a(13803);const Y=e=>{const t=Number(e);if(Number.isNaN(t))return"Value must be a number."},K=e=>Y(e)||(Number(e)<0?"Value cannot be a negative number.":void 0),Q=e=>{const t=Y(e);if(t)return t;const a=Number(e);return a<1||a>6?"Value must be between 1 and 6.":void 0},J=e=>K(e)||(+e<0||+e>1?"Value must be between 0 and 1.":void 0),X=(e,t)=>{if("boolean"===e.type)return n().createElement(W,{name:`cluster_autoscaling.${e.name}`,label:e.label,helperText:n().createElement("span",{className:"custom-help-text"},"Default value: ",`${e.defaultValue}`)});const a="number"===e.type||"min-max"===e.type?"number":"text",l=(e=>{let t;switch(e.name){case"log_verbosity":t=Q;break;case"pod_priority_threshold":t=Y;break;case"scale_down.utilization_threshold":t=J}return t||("time"===e.type?t=C.clusterAutoScalingValidators.k8sTimeParameter:"number"!==e.type&&"min-max"!==e.type||(t=K),t)})(e);return n().createElement(j.Y,{name:`cluster_autoscaling.${e.name}`,label:e.label,type:a,isDisabled:t,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},"Default value: ",`${e.defaultValue}`),validate:l})},ee=({isWizard:e,isRosa:t})=>{var a;const l=(0,i.useDispatch)(),s=(0,M.useGlobalState)((e=>e.modal.modalName===h.default.EDIT_CLUSTER_AUTOSCALING_V2)),{values:{[x.FieldId.ClusterAutoscaling]:o},errors:{[x.FieldId.ClusterAutoscaling]:d},setFieldValue:c}=(0,m.c)(),p=t=>{e&&l((0,g.closeModal)()),t&&t.preventDefault()},f=Object.keys(d||{}).length>0,v=!1===(null===(a=null==o?void 0:o.scale_down)||void 0===a?void 0:a.enabled);return n().createElement(k.default,{variant:"large",isOpen:s,title:"Edit cluster autoscaling settings","data-testid":"cluster-autoscaling-dialog",primaryText:"Close",secondaryText:"Revert all to defaults",onPrimaryClick:p,onSecondaryClick:()=>{c(x.FieldId.ClusterAutoscaling,(0,B.getDefaultClusterAutoScaling)(),!0)},isPrimaryDisabled:f,showClose:!1},n().createElement(n().Fragment,null,n().createElement(D.x,{component:"p"},"The cluster autoscaler adjusts the size of a cluster to meet its current deployment needs. Learn more about"," ",n().createElement(E.default,{href:t?u.default.ROSA_CLUSTER_AUTOSCALING:u.default.OSD_CLUSTER_AUTOSCALING},"cluster autoscaling")," ","or",n().createElement(E.default,{href:u.default.APPLYING_AUTOSCALING_API_DETAIL}," APIs"),"."),n().createElement(N.l,{onSubmit:p,className:"cluster-autoscaling-form"},n().createElement(L.h,{title:"General settings"},n().createElement(w.r,{hasGutter:!0},q.IS.map((e=>n().createElement(r.P,{span:6,key:e.name},X(e)))),n().createElement(r.P,{span:6},n().createElement(j.Y,{name:"cluster_autoscaling.balancing_ignored_labels",label:"balancing-ignored-labels",type:"text",tooltip:$.P_,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},$.ie),validate:C.validateListOfBalancingLabels})))),n().createElement(L.h,{title:"Resource limits"},n().createElement(w.r,{hasGutter:!0},q.up.map((e=>n().createElement(r.P,{span:6,key:e.name},X(e)))),n().createElement(r.P,{span:6},n().createElement(j.Y,{name:"cluster_autoscaling.resource_limits.gpus",label:"GPUs",type:"text",tooltip:Z.uI,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},Z.Vg),validate:C.clusterAutoScalingValidators.k8sGpuParameter})))),n().createElement(L.h,{title:"Scale down configuration"},n().createElement(w.r,{hasGutter:!0},q.KG.map((e=>{const t=v&&"scale_down.enabled"!==e.name;return n().createElement(r.P,{span:6,key:e.name},X(e,t))})))))))},te=()=>{const{values:{[f.FieldId.Hypershift]:e,[f.FieldId.Byoc]:t,[f.FieldId.AutoscalingEnabled]:a,[f.FieldId.Product]:b,[f.FieldId.CloudProviderId]:_}}=(0,m.c)(),S=(0,i.useDispatch)(),C=b===d.normalizedProducts.ROSA,y=C?u.default.ROSA_AUTOSCALING:u.default.APPLYING_AUTOSCALING,O="true"===e,I="true"===t,R=(0,l.useMemo)((()=>"aws"===_&&!O&&I),[_,I,O]);return n().createElement(r.P,{id:"autoscaling"},n().createElement(s.c,{fieldId:"autoscaling",label:"Autoscaling",labelIcon:n().createElement(v.default,{hint:n().createElement(n().Fragment,null,c.constants.autoscaleHint," ",n().createElement(E.default,{href:y},"Learn more about autoscaling",C?" with ROSA":""))})}),n().createElement(p.j,{name:f.FieldId.AutoscalingEnabled,label:"Enable autoscaling",helperText:R?"The cluster autoscaler uses declarative, Kubernetes-style arguments to adjust the size of the cluster to meet its deployment needs.":"Autoscaling automatically adds and removes compute nodes from the cluster based on resource requirements."}),R?n().createElement(r.P,{md:3},n().createElement(o.zx,{"data-testid":"set-cluster-autoscaling-btn",variant:"secondary",className:"pf-v5-u-mt-md",onClick:()=>S((0,g.openModal)(h.default.EDIT_CLUSTER_AUTOSCALING_V2)),isDisabled:!a},"Edit cluster autoscaling settings")):null,n().createElement(ee,{isWizard:!0,isRosa:C}),a?n().createElement(P,null):null)}},41585:(e,t,a)=>{"use strict";a.d(t,{l:()=>s});var l=a(28416),n=a.n(l),r=a(97655);const s=()=>n().createElement(r.b,{variant:r.U.info,isInline:!0,title:"In order to use the IMDS settings, a cluster version of at least 4.11 must be selected in the previous step.",className:"pf-v5-u-mb-sm"})},38970:(e,t,a)=>{"use strict";a.d(t,{i:()=>u});var l=a(28416),n=a.n(l),r=a(84896),s=a(68340),o=a(91885),i=a(68248);const u=()=>n().createElement(i.default,{minWidth:"30rem",title:"Amazon EC2 Instance Metadata Service (IMDS)",bodyContent:n().createElement(n().Fragment,null,n().createElement(s.x,{component:s.q.p},"Instance metadata is data that is related to an Amazon Elastic Compute Cloud (Amazon EC2) instance that applications can use to configure or manage the running instance."),n().createElement(s.x,{component:s.q.p},n().createElement(r.ExternalLink,{href:o.default.AWS_IMDS},"Learn more about IMDS")))})},87788:(e,t,a)=>{"use strict";a.d(t,{x:()=>s});var l=a(28416),n=a.n(l),r=a(28047);const s=[{value:r.IMDSType.V1AndV2,ariaLabel:"Both IMDSv1 and IMDSv2",label:n().createElement(n().Fragment,null,"Use both IMDSv1 and IMDSv2",n().createElement("div",{className:"ocm-c--reduxradiobutton-description pf-v5-u-mb-sm"},"Allows use of both IMDS versions for backward compatibility"))},{value:r.IMDSType.V2Only,ariaLabel:"IMDSv2 only",label:n().createElement(n().Fragment,null,"Use IMDSv2 only",n().createElement("div",{className:"ocm-c--reduxradiobutton-description pf-v5-u-mb-sm"},"A session-oriented method with enhanced security"))}]},79085:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DebugClusterRequest:()=>u});var l=a(28416),n=a.n(l),r=a(16475),s=a(55498),o=a(83559),i=a(19561);const u=({cloudProvider:e,product:t,formValues:a})=>{let l,u;try{l=(0,i.createClusterRequest)({product:t,cloudProviderID:e},a)}catch(e){l=`error computing cluster request: ${e}`}try{u=(0,i.upgradeScheduleRequest)(a),u||(u="Manual upgrade strategy, no request to be made.")}catch(e){u=`error computing upgrade request: ${e}`}return n().createElement(r.P,null,n().createElement(s.j,{variant:"blue"},n().createElement(o.L,{toggleText:"Debug: cluster request to be sent"},n().createElement("pre",null,JSON.stringify(l,null,2))),n().createElement(o.L,{toggleText:"Debug: upgrade schedule request to be sent"},n().createElement("pre",null,JSON.stringify(u,null,2)))))}},6889:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(28416),n=a.n(l),r=a(16475),s=a(97655),o=a(90674),i=a(73269),u=a(42517),d=a(91885),c=a(90181),p=a(86896);const m=({fieldName:e,region:t,keyArn:a})=>n().createElement(n().Fragment,null,n().createElement(r.P,{md:6},n().createElement(o.Z,{component:i.default,name:e,type:"text",label:"Key ARN",placeholder:"Key ARN",validate:e=>(0,c.validateAWSKMSKeyARN)(e,t),isRequired:!0,helpText:a?"":"Provide a custom key ARN",extendedHelpText:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-sm"},p.constants.awsKeyARN),n().createElement(u.default,{href:d.default.AWS_FINDING_KEY_ARN},"Finding the key ID and ARN")),showHelpTextOnError:!1})),n().createElement(r.P,{md:6},n().createElement(s.b,{className:"key-arn-alert",isInline:!0,isLiveRegion:!0,variant:"info",title:"If you delete the ARN key, the cluster will no longer be available."})),n().createElement(r.P,{md:6}))},22393:(e,t,a)=>{"use strict";a.d(t,{z:()=>u});var l=a(28416),n=a.n(l),r=a(83559),s=a(90181),o=a(41769),i=a(28047);const u=e=>{var{initiallyExpanded:t,children:a,acknowledgementRequired:u=!1,toggleText:d="Prerequisites",fieldName:c="acknowledge_prerequisites"}=e,p=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["initiallyExpanded","children","acknowledgementRequired","toggleText","fieldName"]);const[m,f]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{f(t)}),[t]),n().createElement(n().Fragment,null,n().createElement(r.L,Object.assign({className:"prerequisites-expandable-section",toggleText:d,isExpanded:m,onToggle:()=>{f(!m)}},p),n().createElement("div",{className:"prerequisites-section"},a)),u&&n().createElement(o.j,{name:i.FieldId.AcknowledgePrereq,label:"I've read and completed all the prerequisites and am ready to continue creating my cluster.",validate:s.acknowledgePrerequisites}))}},26616:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(28416),n=a.n(l),r=a(50693),s=a(16475);const o=(e,t)=>{var a;const l=null===(a=e.aws_subnets)||void 0===a?void 0:a.find((e=>e.subnet_id===t));return(null==l?void 0:l.name)||t},i=({vpc:e,machinePoolsSubnets:t,hasPublicSubnets:a})=>{const l=a?2:3,i=a?5:9;return n().createElement(r.r,null,n().createElement(s.P,{md:l},n().createElement("strong",null,"Availability zone")),n().createElement(s.P,{md:i},n().createElement("strong",null,"Private subnet")),a&&n().createElement(s.P,{md:i},n().createElement("strong",null,"Public subnet")),t.map((t=>n().createElement(n().Fragment,{key:t.privateSubnetId},n().createElement(s.P,{md:l},t.availabilityZone),n().createElement(s.P,{md:i},o(e,t.privateSubnetId)),a&&n().createElement(s.P,{md:i},o(e,t.publicSubnetId))))))}},18717:(e,t,a)=>{"use strict";a.r(t),a.d(t,{buildSecurityGroups:()=>i,default:()=>d});var l=a(28416),n=a.n(l),r=a(28191),s=a(92298),o=a(44692);const i=(e,t)=>t.map((t=>{const a=e.find((e=>e.id===t))||{name:t};return{id:t,name:a.name}})),u=({vpcGroups:e,selectedGroupIds:t,nodeType:a})=>n().createElement(r.k,{direction:{default:"column"}},n().createElement(s.B,null,n().createElement("strong",null,a," nodes")),n().createElement(s.B,{wrap:"wrap"},n().createElement(o.Z,{securityGroups:i(e,t),isReadOnly:!0}))),d=({vpcGroups:e,formGroups:t})=>n().createElement(n().Fragment,null,t.controlPlane.length>0&&n().createElement(u,{nodeType:t.applyControlPlaneToAll?"All":"Control plane",vpcGroups:e,selectedGroupIds:t.controlPlane}),!t.applyControlPlaneToAll&&n().createElement(n().Fragment,null,t.infra.length>0&&n().createElement(u,{nodeType:"Infrastructure",vpcGroups:e,selectedGroupIds:t.infra}),t.worker.length>0&&n().createElement(u,{nodeType:"Worker",vpcGroups:e,selectedGroupIds:t.worker})))},35732:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var l=a(28416),n=a.n(l),r=a(66338),s=a(59775),o=a(28191),i=a(92298),u=a(12952),d=a(47173),c=a(7749),p=a(83384),m=a(31990),f=a(2453),E=a(76727);const g=(e,t)=>e.disabled&&!t.disabled?1:t.disabled&&!e.disabled?-1:e.label.localeCompare(t.label),h=e=>{var t,{selectedVPC:a}=e,l=e.input,{onBlur:h}=l,v=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(l,["onBlur"]),{meta:{error:b,touched:_},showRefresh:S=!1,isHypershift:C=!1,isOSD:y=!1,isRosaV1:O=!0,usePrivateLink:I}=e;const R=(0,r.useDispatch)(),[T,A]=n().useState(!1),{vpcs:P,requestParams:D}=(0,m.L8)(y,O),N=n().useMemo((()=>{var e;return(0,f.filterOutRedHatManagedVPCs)((null===(e=P.data)||void 0===e?void 0:e.items)||[])}),[null===(t=P.data)||void 0===t?void 0:t.items]),L=n().useMemo((()=>{let e="Select a VPC";return P.pending?e="Loading...":0===N.length&&(e="No VPCs found"),{placeholder:e,options:N.map((e=>{const t=!(0,f.vpcHasRequiredSubnets)(e,I),a=e.id;return{entryId:a,label:e.name||a,description:t?"This VPC does not have all necessary subnets":"",disabled:t}}))}}),[P.pending,N,I]);return n().useEffect((()=>{if(!a)return;const e=N.some((e=>(null==e?void 0:e.id)===a.id));N.length>0&&a.id&&!e&&v.onChange({id:"",name:""})}),[a,N]),n().createElement(s.c,{label:`Select a VPC to install your ${C?"machine pools":"cluster"} into your selected region: ${D.region||""}`,isRequired:!0},n().createElement(o.k,null,n().createElement(i.B,{flex:{default:"flex_1"},style:{minWidth:0}},n().createElement(p.default,{label:"Select a VPC","aria-label":"select VPC",isOpen:T,onToggle:()=>{A(!T)},onSelect:(e,t)=>{const a=N.find((e=>e.id===t));a&&(v.onChange(a),A(!1))},sortFn:g,selectedEntryId:null==a?void 0:a.id,selectionData:L.options,isDisabled:P.pending||0===L.options.length,placeholderText:L.placeholder,inlineFilterPlaceholderText:"Filter by VPC ID / name",validated:_&&b?"error":"default"})),S&&n().createElement(i.B,null,n().createElement(u.u,{content:n().createElement("p",null,"Refresh")},n().createElement(d.zx,{"data-testid":"refresh-vpcs",isLoading:P.pending,isDisabled:P.pending,isInline:!0,size:"sm",variant:"secondary",onClick:()=>{"aws"===D.cloudProviderID&&(v.onChange({id:"",name:""}),R((0,E.getAWSCloudProviderVPCs)({region:D.region,awsCredentials:D.credentials,options:C?void 0:{includeSecurityGroups:!0}})))}},"Refresh")))),P.error&&n().createElement(o.k,null,n().createElement(i.B,{flex:{default:"flex_1"},style:{minWidth:0,marginTop:10}},n().createElement(c.default,{message:"Error retrieving VPCs",response:P}))))}},54075:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ValuesCodeEditor:()=>s});var l=a(28416),n=a.n(l),r=a(58568);const s=({code:e})=>n().createElement(r.p,{isLineNumbersVisible:!1,isReadOnly:!0,code:e,language:r.S.json,onEditorDidMount:e=>{e.layout(),e.focus()},height:"400px"})},28047:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{CloudProviderType:()=>r,FieldId:()=>l,IMDSType:()=>o,UpgradePolicyType:()=>s,initialValues:()=>n}),function(e){e.Byoc="byoc",e.Product="product",e.CloudProvider="cloud_provider",e.BillingModel="billing_model",e.AcknowledgePrereq="acknowledge_prerequisites",e.CidrDefaultValuesEnabled="cidr_default_values_enabled",e.CidrDefaultValuesToggle="cidr_default_values_toggle",e.NetworkMachineCidr="network_machine_cidr",e.NetworkServiceCidr="network_service_cidr",e.NetworkPodCidr="network_pod_cidr",e.NetworkHostPrefix="network_host_prefix",e.UpgradePolicy="upgrade_policy",e.AutomaticUpgradeSchedule="automatic_upgrade_schedule",e.NodeDrainGracePeriod="node_drain_grace_period",e.MachineType="machine_type",e.AutoscalingEnabled="autoscalingEnabled",e.ClusterAutoscaling="cluster_autoscaling",e.NodeLabels="node_labels",e.MinReplicas="min_replicas",e.MaxReplicas="max_replicas",e.MultiAz="multi_az",e.NodesCompute="nodes_compute",e.MachineTypeForceChoice="machine_type_force_choice",e.FipsCryptography="fips",e.IMDS="imds",e.ApplicationIngress="applicationIngress",e.DefaultRouterSelectors="defaultRouterSelectors",e.DefaultRouterExcludedNamespacesFlag="defaultRouterExcludedNamespacesFlag",e.IsDefaultRouterNamespaceOwnershipPolicyStrict="isDefaultRouterNamespaceOwnershipPolicyStrict",e.IsDefaultRouterWildcardPolicyAllowed="isDefaultRouterWildcardPolicyAllowed",e.SecurityGroupIds="securityGroupIds",e.ComputeSubnet="compute_subnet",e.ControlPlaneSubnet="control_plane_subnet",e.MachinePoolsSubnets="machinePoolsSubnets",e.Region="region",e.VpcName="vpc_name",e.SelectedVpc="selected_vpc",e.ClusterName="name",e.ClusterVersion="cluster_version",e.CustomerManagedKey="customer_managed_key",e.KmsKeyArn="kms_key_arn",e.EtcdEncryption="etcd_encryption",e.ConfigureProxy="configure_proxy",e.UsePrivateLink="use_privatelink",e.InstallerRoleArn="installer_role_arn",e.InstallToVpc="install_to_vpc",e.GcpServiceAccount="gcp_service_account",e.AccountId="account_id",e.AccessKeyId="access_key_id",e.SecretAccessKey="secret_access_key",e.SecurityGroups="securityGroups",e.HttpProxyUrl="http_proxy_url",e.HttpsProxyUrl="https_proxy_url",e.AdditionalTrustBundle="additional_trust_bundle",e.NoProxyDomains="no_proxy_domains",e.CustomOperatorRolesPrefix="custom_operator_roles_prefix",e.RosaRolesProviderCreationMode="rosa_roles_provider_creation_mode",e.ByoOidcConfigId="byo_oidc_config_id",e.ByoOidcConfigIdManaged="byo_oidc_config_id_managed",e.DetectedOcmRole="detected_ocm_role",e.RosaCreatorArn="rosa_creator_arn"}(l||(l={}));const n={[l.AutomaticUpgradeSchedule]:"0 0 * * 0"};var r,s,o;!function(e){e.Aws="aws",e.Gcp="gcp"}(r||(r={})),function(e){e.Automatic="automatic",e.Manual="manual"}(s||(s={})),function(e){e.V1AndV2="optional",e.V2Only="required"}(o||(o={}))},24197:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CloudProviderType:()=>l.CloudProviderType,ClusterSettingsMachinePool:()=>ae,ClusterUpdates:()=>oe,FieldId:()=>l.FieldId,IMDSType:()=>l.IMDSType,Prerequisites:()=>n.z,UpgradePolicyType:()=>l.UpgradePolicyType,ValidationIconButton:()=>p,ValidationItem:()=>f,initialValues:()=>l.initialValues});var l=a(28047),n=a(22393),r=a(28416),s=a.n(r),o=a(47173),i=a(68778),u=a(43047),d=a(53688),c=a(16074);const p=({isValid:e,hasFailures:t,isValidating:a,touched:l,onClick:n})=>{let r=s().createElement(d.InfoCircleIcon,{className:"validation-icon_info"}),p="Validation rules",m="validation-icon-button_info";return l&&(a?(r=s().createElement(c.SpinnerIcon,{className:"validation-icon_info"}),p="Validation in progress"):e?(r=s().createElement(i.CheckCircleIcon,{className:"validation-icon_success"}),p="All validation rules met",m="validation-icon-button_valid"):t&&(r=s().createElement(u.ExclamationCircleIcon,{className:"validation-icon_danger"}),p="Not all validation rules met",m="validation-icon-button_not-valid")),s().createElement(o.zx,{variant:"control","aria-label":p,tabIndex:-1,className:`${m} validation-icon-button`,onClick:n},r)};var m=a(65673);const f=({text:e,touched:t,isValid:a,isValidating:l,isInitialized:n})=>{if(!e)return null;let r="default",o="";return t&&(!n||l?(r="indeterminate",o="Pending: "):(r=a?"success":"error",o=a?"Satisfied: ":"Not met: ")),s().createElement(m.u,{variant:r,hasIcon:!0,isDynamic:!0,component:"li",key:e},s().createElement("span",{className:"pf-v5-u-screen-reader"},o),e)};var E=a(66338),g=a(64636),h=a(83559),v=a(85583),b=a(16475),_=a(75696),S=a(68340),C=a(50693),y=a(90181),O=a(1602),I=a(7076),R=a(18955),T=a(42517),A=a(86896),P=a(91885),D=a(72815),N=a(52758),L=a(51077),w=a(12146),M=a(31345),k=a(94184),x=a.n(k),j=a(49739),F=a(83826),G=a(79851),U=a(34512),V=a(71415),H=a(88993),z=a(30604),W=a(69429),q=a(26746);const B=()=>{const{values:e}=(0,R.c)(),t=e[l.FieldId.NodeLabels],a=e=>a=>t.length>1&&t.reduce(((t,a,l)=>(a.key&&e!==l&&t.push(a.key),t)),[]).includes(a)?"Each label must have a different key.":a.length>0?(0,y.checkLabelKey)(a):void 0,n=e=>{if(e.length>0)return(0,y.checkLabelValue)(e)};return s().createElement(j.K,{hasGutter:!0,className:"label-split-layout"},s().createElement(g.FieldArray,{name:l.FieldId.NodeLabels,validateOnChange:!0,render:({push:e,remove:r})=>s().createElement(s().Fragment,null,null==t?void 0:t.map(((e,i)=>{const u=0===i&&1===t.length,d=`${l.FieldId.NodeLabels}.${i}`,c=`${d}.key`,p=`${d}.value`;return s().createElement(F.v,null,s().createElement(G.P,{hasGutter:!0,className:"node-label-split-layout"},s().createElement(U.J,{className:"node-label-split-item"},s().createElement(z.Y,{name:c,validate:a(i),label:0===i?"Key":void 0,formGroup:{isRequired:!1}})),s().createElement(U.J,{className:"node-label-split-item"},s().createElement(z.Y,{name:p,validate:n,label:0===i?"Value":void 0,formGroup:{isRequired:!1}})),s().createElement(U.J,null,s().createElement(o.zx,{onClick:()=>r(i),icon:s().createElement(V.MinusCircleIcon,null),variant:"link",isInline:!0,isDisabled:u,className:`${x()(u&&"pf-v5-u-disabled-color-200")} ${x()(0===i?"label-button-padding-lg":"label-button-padding-sm")}`}))))})),s().createElement(F.v,null,s().createElement(q.default,{onClick:()=>e({key:"",value:""}),icon:s().createElement(H.PlusCircleIcon,null),variant:"link",isInline:!0,disableReason:t.some((e=>!e.key))&&W.nodeKeyValueTooltipText},"Add additional label")))}))};var $=a(59775),Z=a(10865),Y=a(77589),K=a(38970),Q=a(87788),J=a(41585);const X=()=>{const{values:{[l.FieldId.ClusterVersion]:e,[l.FieldId.IMDS]:t},getFieldProps:a,setFieldValue:n}=(0,R.c)(),r=!(0,Y.canSelectImds)(e.raw_id),o=e=>{n(l.FieldId.IMDS,e)};return s().useEffect((()=>{r&&t!==l.IMDSType.V1AndV2&&o(l.IMDSType.V1AndV2)}),[r,t]),s().createElement($.c,{label:"Instance Metadata Service",fieldId:"imds",labelIcon:s().createElement(K.i,null)},r?s().createElement(J.l,null):s().createElement(g.Field,{component:Z.default,name:"imds",id:"imds",ariaLabel:"Instance Metadata Service",isDisabled:r,className:"pf-v5-u-mb-md",input:Object.assign(Object.assign({},a(l.FieldId.IMDS)),{onChange:o}),options:Q.x,disableDefaultValueHandling:!0}))};var ee=a(34431),te=a(34161);const ae=()=>{const e=(0,E.useDispatch)(),{values:{[l.FieldId.BillingModel]:t,[l.FieldId.Product]:a,[l.FieldId.CloudProvider]:n,[l.FieldId.MachineType]:r,[l.FieldId.AutoscalingEnabled]:o,[l.FieldId.MultiAz]:i,[l.FieldId.Byoc]:u,[l.FieldId.NodesCompute]:d,[l.FieldId.NodeLabels]:c,[l.FieldId.Region]:p},values:m,errors:f,getFieldProps:k,setFieldValue:x,getFieldMeta:j,setFieldTouched:F}=(0,R.c)(),G="true"===i,U="true"===u,V=a===N.normalizedProducts.ROSA,H=n===l.CloudProviderType.Aws,z=(0,M.Z)(a),[W,q]=s().useState(!1),$=s().useMemo((()=>(0,te.oU)(m)),[m]),[Z,Y]=s().useState(!1),K=(0,E.useSelector)((e=>e.machineTypesByRegion));s().useEffect((()=>{K.region&&(U&&H&&n!==l.CloudProviderType.Gcp&&!V||e((0,I.clearMachineTypesByRegion)()))}),[n,V,K.region,U,H,e,p,x]),s().useEffect((()=>{var e;H&&U&&(K.region&&(null===(e=K.region)||void 0===e?void 0:e.id)===p||(Y(!0),x(l.FieldId.MachineTypeForceChoice,!1)))}),[K.region,H,U,p,x]),s().useEffect((()=>{d||x(l.FieldId.NodesCompute,(0,L.getNodesCount)(U,G))}),[U,G,d,x]),s().useEffect((()=>{!W&&f[l.FieldId.NodeLabels]&&q(!0)}),[f[l.FieldId.NodeLabels],W]),s().useEffect((()=>{var e;(null===(e=c[0])||void 0===e?void 0:e.key)&&F(l.FieldId.NodeLabels,!0,!0)}),[]),s().useEffect((()=>{e((0,I.getMachineTypes)())}),[e]),s().useEffect((()=>{var e;(null===(e=c[0])||void 0===e?void 0:e.key)&&q(!0)}),[c]),s().useEffect((()=>{Z&&(null==$?void 0:$.access_key_id)&&(null==$?void 0:$.account_id)&&(null==$?void 0:$.secret_access_key)&&p&&(e((0,I.getMachineTypesByRegion)(null==$?void 0:$.access_key_id,null==$?void 0:$.account_id,null==$?void 0:$.secret_access_key,p)),Y(!1))}),[e,Z,null==$?void 0:$.access_key_id,null==$?void 0:$.account_id,null==$?void 0:$.secret_access_key,p]);const Q=s().createElement(h.L,{toggleText:"Add node labels",className:"pf-v5-u-mt-md",onToggle:(e,t)=>q(t),isExpanded:W,"data-testid":"node-labels-toggle"},s().createElement(v.D,{headingLevel:"h3"},"Node labels (optional)"),s().createElement("p",{className:"pf-v5-u-mb-md"},"Configure labels that will apply to all nodes in this machine pool."),s().createElement(B,null)),J=H&&U&&s().createElement(s().Fragment,null,s().createElement(b.P,{md:8},s().createElement(X,null)),s().createElement(b.P,{md:4}));return s().createElement(_.l,null,s().createElement(b.P,null,s().createElement(v.D,{headingLevel:"h3"},"Default machine pool"),s().createElement(S.x,{component:"p",className:"pf-v5-u-mt-sm"},"Select a compute node instance type and count for your default machine pool. After cluster creation, your selected default machine pool instance type is permanent.")),s().createElement(C.r,{hasGutter:!0},s().createElement(b.P,{md:6},s().createElement(g.Field,{component:O.default,name:l.FieldId.MachineType,validate:y.required,isMultiAz:G,isBYOC:U,cloudProviderID:n,product:a,isMachinePool:!1,billingModel:t,inModal:!1,machine_type:{input:Object.assign(Object.assign({},k(l.FieldId.MachineType)),{onChange:e=>x(l.FieldId.MachineType,e)}),meta:j(l.FieldId.MachineType)},machine_type_force_choice:{input:Object.assign(Object.assign({},k(l.FieldId.MachineTypeForceChoice)),{onChange:e=>x(l.FieldId.MachineTypeForceChoice,e)})}})),s().createElement(b.P,{md:6}),z&&s().createElement(s().Fragment,null,s().createElement(b.P,null,s().createElement(ee.AutoScale,null)),o&&J,o&&Q),!o&&s().createElement(s().Fragment,null,s().createElement(b.P,{md:6},s().createElement(g.Field,{component:D.default,name:l.FieldId.NodesCompute,label:G?"Compute node count (per zone)":"Compute node count",isMultiAz:G,isByoc:U,machineType:r,extendedHelpText:s().createElement(s().Fragment,null,A.constants.computeNodeCountHint," ",s().createElement(T.default,{href:V?P.default.ROSA_SERVICE_DEFINITION_COMPUTE:P.default.OSD_SERVICE_DEFINITION_COMPUTE},"Learn more about compute node count")),cloudProviderID:n,product:a,isMachinePool:!1,billingModel:t,input:Object.assign(Object.assign({},k(l.FieldId.NodesCompute)),{onChange:e=>x(l.FieldId.NodesCompute,e)}),minNodes:(0,w.getMinNodesRequired)(!1,{},{isDefaultMachinePool:!0,isByoc:U,isMultiAz:G})})),J,Q,s().createElement(b.P,{md:6}))))};var le=a(28191),ne=a(14899),re=a(61816),se=a(47174);const oe=()=>{const{values:{[l.FieldId.UpgradePolicy]:e},setFieldValue:t,getFieldProps:a}=(0,R.c)(),n=[{value:l.UpgradePolicyType.Manual,label:"Individual updates",description:r.createElement(r.Fragment,null,"Schedule each update individually. Take into consideration end of life dates from the"," ",r.createElement(T.default,{href:P.default.OSD_LIFE_CYCLE},"lifecycle policy")," when planning updates.")},{value:l.UpgradePolicyType.Automatic,label:"Recurring updates",description:r.createElement(r.Fragment,null,"The cluster will be automatically updated based on your preferred day and start time when new patch updates (",r.createElement(T.default,{href:P.default.OSD_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version.")}];return r.createElement(_.l,null,r.createElement(b.P,null,r.createElement(v.D,{headingLevel:"h3"},"Cluster update strategy"),r.createElement(S.x,{component:S.q.p,className:"pf-v5-u-mt-sm"},"In the event of"," ",r.createElement(T.default,{href:"https://access.redhat.com/security/updates/classification/#critical"},"Critical security concerns")," ","(CVEs) that significantly impact the security or stability of the cluster, updates may be automatically scheduled by Red Hat SRE to the latest z-stream version not impacted by the CVE within 2 business days after customer notifications.")),r.createElement(C.r,{hasGutter:!0,md:6},r.createElement(le.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},r.createElement(b.P,null,r.createElement(ne.o,{name:l.FieldId.UpgradePolicy,options:n,onChange:(e,a)=>{a===l.UpgradePolicyType.Manual&&t(l.FieldId.AutomaticUpgradeSchedule,l.initialValues[l.FieldId.AutomaticUpgradeSchedule])}}),e===l.UpgradePolicyType.Automatic&&r.createElement(g.Field,{component:re.default,name:l.FieldId.AutomaticUpgradeSchedule,input:Object.assign(Object.assign({},a(l.FieldId.AutomaticUpgradeSchedule)),{onChange:e=>t(l.FieldId.AutomaticUpgradeSchedule,e)}),className:"pf-v5-u-mt-md"})))),r.createElement(b.P,null,r.createElement(v.D,{headingLevel:"h4",className:"ocm-c-upgrade-node-draining-title"},"Node draining"),r.createElement(S.x,{component:S.q.p},"You may set a grace period for how long pod disruption budget-protected workloads will be respected during updates. After this grace period, any workloads protected by pod disruption budgets that have not been successfully drained from a node will be forcibly evicted."),r.createElement(g.Field,{name:l.FieldId.NodeDrainGracePeriod,component:se.default,input:Object.assign(Object.assign({},a(l.FieldId.NodeDrainGracePeriod)),{onChange:e=>t(l.FieldId.NodeDrainGracePeriod,e)})})))}},34161:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>c,Gn:()=>p,ZV:()=>d,oU:()=>u});var l=a(18446),n=a.n(l),r=a(76727),s=a(28047),o=a(52758),i=a(95591);const u=e=>{const{[s.FieldId.Product]:t,[s.FieldId.AccountId]:a,[s.FieldId.AccessKeyId]:l,[s.FieldId.SecretAccessKey]:n,[s.FieldId.InstallerRoleArn]:r}=e;return t===o.normalizedProducts.ROSA?{account_id:a,sts:{role_arn:r}}:{account_id:a,access_key_id:l,secret_access_key:n}},d=e=>{const{[s.FieldId.GcpServiceAccount]:t}=e;return t},c=(e,t)=>e[s.FieldId.CloudProvider]===s.CloudProviderType.Gcp?t((0,r.getGCPCloudProviderVPCs)(r.VALIDATE_CLOUD_PROVIDER_CREDENTIALS,d(e),i.GCP_DEFAULT_REGION)):t((0,r.getAWSCloudProviderRegions)(r.VALIDATE_CLOUD_PROVIDER_CREDENTIALS,u(e))),p=(e,t)=>{const a=t.fulfilled&&t.cloudProvider===e[s.FieldId.CloudProvider]&&n()(t.credentials,e[s.FieldId.CloudProvider]===s.CloudProviderType.Aws?u(e):d(e));return"true"===e[s.FieldId.Byoc]&&!a}},41769:(e,t,a)=>{"use strict";a.d(t,{j:()=>c});var l=a(28416),n=a.n(l),r=a(64636),s=a(59775),o=a(28191),i=a(93149),u=a(68248),d=a(12812);const c=({name:e,label:t,validate:a,isDisabled:l,tooltip:c,field:p,formGroup:m,input:f,helperText:E})=>n().createElement(r.Field,Object.assign({name:e,validate:a},p),(({field:r,form:p,meta:g})=>n().createElement(s.c,Object.assign({fieldId:r.name},a&&{isRequired:!0},m),n().createElement(o.k,{flexWrap:{default:"nowrap"}},n().createElement(i.X,Object.assign({id:r.name,label:c?n().createElement(o.k,{flexWrap:{default:"nowrap"}},t,n().createElement("div",{className:"pf-v5-u-ml-md"},c&&n().createElement(u.default,{hint:c}))):t,isChecked:r.value,isDisabled:l,onBlur:()=>p.setFieldTouched(e,!0),onChange:(e,t)=>r.onChange(e),value:r.value||!1},!(null==m?void 0:m.label)&&a&&{isRequired:!0},f))),n().createElement(d.FormGroupHelperText,{touched:g.touched,error:g.error},E))))},14899:(e,t,a)=>{"use strict";a.d(t,{o:()=>g});var l=a(28416),n=a.n(l),r=a(94184),s=a.n(r),o=a(59775),i=a(28191),u=a(12952),d=a(68248),c=a(18955),p=a(24234),m=a(64636);const f=e=>{var{name:t,label:a,value:l,onChange:r,shouldCheck:s}=e,o=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["name","label","value","onChange","shouldCheck"]);const[i,{touched:u,error:d}]=(0,m.useField)(t),{setFieldValue:c,setFieldTouched:f}=(0,m.useFormikContext)(),E=`form-radiobutton-${null==(g=`${t}-${l}`)?void 0:g.replace(/\./g,"-")}-field`;var g;const h=!(u&&d);return n().createElement(p.Y,Object.assign({},i,o,{id:E,value:l,label:a,isChecked:s?s(i.value,l):i.value===l,isValid:h,isDisabled:o.isDisabled,"aria-label":`${E}-${a}`,onChange:()=>{r?r(l):c(t,l),f(t,!0)}}))};var E;!function(e){e.Row="row",e.Column="column"}(E||(E={}));const g=({name:e,label:t,options:a,onChange:l,isRequired:r,direction:p=E.Column})=>{const{setFieldValue:m}=(0,c.c)();return n().createElement(o.c,{label:t,fieldId:e,isRequired:r},n().createElement(i.k,{direction:{default:p},spaceItems:{default:"spaceItems"+(p===E.Column?"Md":"Lg")}},a.map((t=>{const a=n().createElement(f,{name:e,label:t.label,value:t.value,isDisabled:t.disabled,description:t.description,className:s()("pf-v5-u-mb-md",{"pf-v5-u-mr-sm":!!t.popoverHint}),onChange:t=>{m(e,t),null==l||l(null,null==t?void 0:t.toString())},shouldCheck:t.shouldCheck});return n().createElement(i.k,{alignItems:{default:"alignItemsFlexStart"},key:t.value,className:"pf-m-nowrap"},t.tooltip?n().createElement(u.u,{content:t.tooltip,position:"right"},a):a,t.popoverHint&&n().createElement(d.default,{hint:t.popoverHint}))}))))}},30604:(e,t,a)=>{"use strict";a.d(t,{Y:()=>d});var l=a(28416),n=a.n(l),r=a(64636),s=a(59775),o=a(92607),i=a(68248),u=a(12812);const d=({name:e,textInputClassName:t,formGroupClassName:a,label:l,validate:d,isDisabled:c,helperText:p,tooltip:m,field:f,formGroup:E,input:g,type:h,onChange:v})=>n().createElement(r.Field,Object.assign({name:e,validate:d},f),(({field:r,form:f,meta:b})=>n().createElement(s.c,Object.assign({fieldId:r.name,label:l,className:a},m&&{labelIcon:n().createElement(i.default,{hint:m})},d&&{isRequired:!0},E),n().createElement(o.oi,Object.assign({id:r.name,className:t,isDisabled:c,validated:b.touched&&b.error?"error":"default",onBlur:()=>f.setFieldTouched(e,!0),onChange:(e,t)=>{v&&v(e),r.onChange(e)},value:r.value||("number"===h?0:""),type:h},g)),n().createElement(u.FormGroupHelperText,{touched:b.touched,error:b.error},p))))},26087:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getScrollErrorIds:()=>l});const l=e=>Object.entries(e).reduce(((e,[t,a])=>(Array.isArray(a)?a.forEach(((a,l)=>{Object.keys(a||{}).forEach((a=>{e.push(`${t}.${l}.${a}`)}))})):e.push(t),e)),[])},98021:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useFormState:()=>l.c});var l=a(18955)},18955:(e,t,a)=>{"use strict";a.d(t,{c:()=>l});const l=a(64636).useFormikContext},75374:(e,t,a)=>{"use strict";var l,n;a.r(t),a.d(t,{ApplicationIngressType:()=>n,ClusterPrivacyType:()=>l}),function(e){e.Internal="internal",e.External="external"}(l||(l={})),function(e){e.Default="default",e.Custom="custom"}(n||(n={}))},48968:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FieldId:()=>c,MIN_SECURE_BOOT_VERSION:()=>S,OsdFieldId:()=>l,StepId:()=>m,StepName:()=>p,UrlPath:()=>f,ariaLabel:()=>_,breadcrumbs:()=>E,clusterNameHint:()=>v,documentTitle:()=>b,initialTouched:()=>h,initialValues:()=>g});var l,n=a(52758),r=a(70946),s=a(28047),o=a(95591),i=a(83768),u=a(48578),d=a(75374);!function(e){e.PersistentStorage="persistent_storage",e.LoadBalancers="load_balancers",e.SecureBoot="secure_boot",e.EnableUserWorkloadMonitoring="enable_user_workload_monitoring",e.ClusterPrivacy="cluster_privacy",e.InstallToSharedVpc="install_to_shared_vpc",e.SharedHostProjectID="shared_host_project_id",e.KeyLocation="key_location",e.KeyRing="key_ring",e.KeyName="key_name",e.KmsServiceAccount="kms_service_account",e.DisableScpChecks="disable_scp_checks",e.NetworkMachineCidr="network_machine_cidr",e.NetworkServiceCidr="network_service_cidr",e.NetworkPodCidr="network_pod_cidr",e.NetworkHostPrefix="network_host_prefix",e.NetworkMachineCidrSingleAz="network_machine_cidr_single_az",e.NetworkMachineCidrMultiAz="network_machine_cidr_multi_az",e.MarketplaceSelection="marketplace_selection"}(l||(l={}));const c=Object.assign(Object.assign({},s.FieldId),l);var p,m,f;!function(e){e.BillingModel="Billing model",e.ClusterSettings="Cluster settings",e.CloudProvider="Cloud provider",e.Details="Details",e.MachinePool="Machine pool",e.Networking="Networking",e.Configuration="Configuration",e.VpcSettings="VPC settings",e.ClusterProxy="Cluster-wide proxy",e.CidrRanges="CIDR ranges",e.ClusterUpdates="Cluster updates",e.Review="Review and create"}(p||(p={})),function(e){e.BillingModel="billing-model",e.ClusterSettings="cluster-settings",e.ClusterSettingsCloudProvider="cluster-settings-cloud-provider",e.ClusterSettingsDetails="cluster-settings-details",e.ClusterSettingsMachinePool="cluster-settings-machine-pool",e.Networking="networking",e.NetworkingConfiguration="networking-config",e.NetworkingVpcSettings="networking-vpc-settings",e.NetworkingClusterProxy="networking-cluster-proxy",e.NetworkingCidrRanges="networking-cidr-ranges",e.ClusterUpdates="cluster-updates",e.Review="review"}(m||(m={})),function(e){e.Create="/create",e.CreateOsd="/create/osd",e.CreateCloud="/create/cloud"}(f||(f={}));const E=[{label:"Clusters"},{label:"Cluster Type",path:f.Create},{label:"OpenShift Dedicated",path:f.CreateOsd}],g={[c.Product]:n.normalizedProducts.OSD,[c.Byoc]:"true",[c.CloudProvider]:s.CloudProviderType.Aws,[c.AcknowledgePrereq]:!1,[c.BillingModel]:n.billingModels.STANDARD,[c.MultiAz]:"false",[c.SelectedVpc]:{id:"",name:""},[c.MachinePoolsSubnets]:[(0,o.emptyAWSSubnet)()],[c.SecurityGroups]:(0,i.getDefaultSecurityGroupsSettings)(),[c.InstallToSharedVpc]:!1,[c.SecureBoot]:!1,[c.EnableUserWorkloadMonitoring]:!0,[c.NodeLabels]:[{key:"",value:""}],[c.ClusterPrivacy]:d.ClusterPrivacyType.External,[c.CidrDefaultValuesEnabled]:!0,[c.NetworkMachineCidr]:r.MACHINE_CIDR_DEFAULT,[c.NetworkServiceCidr]:r.SERVICE_CIDR_DEFAULT,[c.NetworkHostPrefix]:r.HOST_PREFIX_DEFAULT,[c.UpgradePolicy]:s.UpgradePolicyType.Manual,[c.AutomaticUpgradeSchedule]:"0 0 * * 0",[c.NodeDrainGracePeriod]:60,[c.PersistentStorage]:"107374182400",[c.LoadBalancers]:0,[c.DisableScpChecks]:!1,[c.CustomerManagedKey]:"false",[c.IMDS]:s.IMDSType.V1AndV2,[c.ApplicationIngress]:d.ApplicationIngressType.Default,[c.DefaultRouterExcludedNamespacesFlag]:"",[c.IsDefaultRouterNamespaceOwnershipPolicyStrict]:!0,[c.IsDefaultRouterWildcardPolicyAllowed]:!1,[c.ClusterAutoscaling]:(0,u.getDefaultClusterAutoScaling)()},h={[c.AcknowledgePrereq]:!0},v="This name identifies your cluster in OpenShift Cluster Manager and forms part of the cluster console subdomain.",b="Create an OpenShift Dedicated cluster | Red Hat OpenShift Cluster Manager",_="Create OpenShift Dedicated cluster wizard",S="4.13.0"},77589:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FieldId:()=>o,RosaFieldId:()=>l,StepId:()=>u,StepName:()=>i,UrlPath:()=>d,breadcrumbs:()=>c,canConfigureAdditionalRouter:()=>S,canConfigureDayOneManagedIngress:()=>v,canConfigureDayTwoManagedIngress:()=>b,canConfigureLoadBalancer:()=>_,canSelectImds:()=>m,defaultWorkerNodeVolumeSizeGiB:()=>E,getWorkerNodeVolumeSizeMaxGiB:()=>h,initialValues:()=>p,maxAdditionalSecurityGroups:()=>f,workerNodeVolumeSizeMinGiB:()=>g});var l,n=a(52758),r=a(28047),s=a(72132);l||(l={});const o=Object.assign(Object.assign({},r.FieldId),l);var i,u,d;!function(e){e.AccountsAndRoles="Accounts and roles",e.ClusterSettings="Cluster settings",e.Details="Details",e.MachinePool="Machine pool",e.Networking="Networking",e.Configuration="Configuration",e.VpcSettings="VPC settings",e.ClusterProxy="Cluster-wide proxy",e.CidrRanges="CIDR ranges",e.ClusterRolesAndPolicies="Cluster roles and policies",e.ClusterUpdates="Cluster updates",e.Review="Review and create"}(i||(i={})),function(e){e.AccountsAndRoles="accounts-and-roles",e.ClusterSettings="cluster-settings",e.ClusterSettingsDetails="cluster-settings-details",e.ClusterSettingsMachinePool="cluster-settings-machine-pool",e.Networking="networking",e.NetworkingConfiguration="networking-config",e.NetworkingVpcSettings="networking-vpc-settings",e.NetworkingClusterProxy="networking-cluster-proxy",e.NetworkingCidrRanges="networking-cidr-ranges",e.ClusterRolesAndPolicies="cluster-roles-and-policies",e.ClusterUpdates="cluster-updates",e.Review="review"}(u||(u={})),function(e){e.Create="/create",e.CreateGetStarted="/create/rosa/getstarted"}(d||(d={}));const c=[{label:"Clusters"},{label:"Cluster Type",path:d.Create},{label:"Set up ROSA",path:d.CreateGetStarted},{label:"Create a ROSA Cluster"}],p={[o.Product]:n.normalizedProducts.ROSA,[o.CloudProvider]:r.CloudProviderType.Aws,[o.Byoc]:"true",[o.BillingModel]:n.billingModels.STANDARD,[o.NodeLabels]:[{key:"",value:""}],[o.IMDS]:r.IMDSType.V1AndV2},m=e=>{const[t,a]=(0,s.splitVersion)(e);return t>4||4===t&&a>=11},f=5,E=300,g=128,h=e=>{const[t,a]=(0,s.splitVersion)(e);return 1024*(t>4||4===t&&a>=14?16:1)},v=e=>(0,s.isMajorMinorEqualOrGreater)(e,4,14),b=e=>(0,s.isMajorMinorEqualOrGreater)(e,4,13),_=(e,t)=>!t||b(e),S=e=>(0,s.isExactMajorMinor)(e,4,11)||(0,s.isExactMajorMinor)(e,4,12)},70375:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ce,getUserRoleForSelectedAWSAccount:()=>de,isUserRoleForSelectedAWSAccount:()=>ue});var l=a(28416),n=a.n(l),r=a(27361),s=a.n(r),o=a(75696),i=a(50693),u=a(16475),d=a(68774),c=a(68340),p=a(47173),m=a(90674),f=a(90181),E=a(52758),g=a(70355),h=a(69740),v=a(7749),b=a(94248),_=a(3784),S=a(19953),C=a(77642),y=a(35029),O=a(9947),I=a(67880),R=a(75106),T=a(59775),A=a(28191),P=a(92298),D=a(12952),N=a(91885),L=a(12812),w=a(68248);const M=["control_plane","four_vcpu_hour"],k=e=>{const{contracts:t}=e;if(!t||0===t.length)return null;const a=t[0];return(a.dimensions||[]).some((e=>M.includes(e.name||"")&&Number(e.value||0)>0))?a:null},x=(e,t)=>{var a;return(null===(a=e.find((e=>(null==e?void 0:e.name)===t)))||void 0===a?void 0:a.value)||0};var j=a(52378),F=a(83384);function G(){return n().createElement(O.u,{"data-testid":"no_associated_accounts",className:"no-associated-aws-accounts_empty-state"},n().createElement(I.t,{titleText:"No associated accounts were found.",headingLevel:"h6"}),n().createElement(R.B,null,"Associate an AWS account to your Red Hat account."))}function U(e,t){return t.label.length-e.label.length||t.label.localeCompare(e.label)}const V=function(e){var t=e.input,{onBlur:a}=t,r=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(t,["onBlur"]),{isDisabled:s,isLoading:o,label:i,meta:{error:u,touched:d},extendedHelpText:c,selectedAWSAccountID:m,accounts:f,isBillingAccount:E=!1,refresh:g,clearGetAWSAccountIDsResponse:h,required:v=!0}=e;const[b,_]=(0,l.useState)(!1),C=(0,l.createRef)(),y=(null==f?void 0:f.length)>0,{onRefresh:O,text:I}=g,{onChange:R}=r,{openDrawer:M}=(0,j.C)();(0,l.useEffect)((()=>{var e;!0!==b||y||null===(e=C.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[b,y]);const x=(0,l.useCallback)(((e,t)=>{_(t)}),[_]),V=(0,l.useCallback)(((e,t)=>{_(!1),R(t),localStorage.setItem(S.AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY,t)}),[_,R]),H=(0,l.useMemo)((()=>f.map((e=>{const t=e.cloud_account_id;return{entryId:t,label:t,description:E&&k(e)?"Contract enabled":""}}))),[f]),z=(0,l.useCallback)((()=>{_(!1),M({onClose:h})}),[M,_]),W=(0,l.useMemo)((()=>{const e=E?{component:"a",href:N.default.AWS_CONSOLE_ROSA_HOME,target:"_blank"}:{onClick:z};return n().createElement(n().Fragment,null,!y&&n().createElement(G,null),n().createElement(p.zx,Object.assign({ref:C,variant:"secondary"},e),E?"Connect ROSA to a new AWS billing account":"How to associate a new AWS account"))}),[y,E,C]);return n().createElement(T.c,{label:i,labelIcon:c?n().createElement(w.default,{hint:c}):void 0,className:"aws-account-selection",isRequired:!0},n().createElement(A.k,null,n().createElement(P.B,{grow:{default:"grow"}},n().createElement(F.default,{label:i,isOpen:b,selectedEntryId:y?m:"",selectionData:H,onToggle:x,onSelect:V,sortFn:U,isDisabled:s,placeholderText:"Select an account",inlineFilterPlaceholderText:"Filter by account ID",filterValidate:{pattern:/^\d*$/,message:"Please enter numeric digits only."},validated:d&&u?"error":void 0,footer:W,"aria-describedby":"aws-infra-accounts"})),O&&n().createElement(P.B,null,n().createElement(D.u,{content:n().createElement("p",null,I)},n().createElement(p.zx,{"data-testid":"refresh-aws-accounts",isLoading:o,isDisabled:s,isInline:!0,size:"sm",variant:"secondary",onClick:()=>{O()}},"Refresh")))),n().createElement(L.FormGroupHelperText,{touched:d,error:u}))};var H=a(85583),z=a(49739),W=a(83826),q=a(33942),B=a(97655),$=a(66338),Z=a(91290),Y=a(69429),K=a(69816),Q=a(3189),J=a(96106),X=a(38352),ee=a(42517),te=a(72457),ae=a(71130),le=a(58844),ne=a(10550),re=a(3025),se=a(64107);const oe=({contract:e})=>n().createElement(ae.o,{id:"contract-info",isHorizontal:!0},n().createElement(le.g,null,n().createElement(ne.M,null,"Start date:"),n().createElement(re.b,null,e.start_date?n().createElement(se.Z,{type:"onlyDate",date:new Date(e.start_date)}):"N/A")),n().createElement(le.g,null,n().createElement(ne.M,null,"End date:"),n().createElement(re.b,null,e.end_date?n().createElement(se.Z,{type:"onlyDate",date:new Date(e.end_date)}):"N/A")),n().createElement(le.g,null,n().createElement(ne.M,null,"Number of vCPUs"),n().createElement(re.b,null,x(e.dimensions,"four_vcpu_hour"))),n().createElement(le.g,null,n().createElement(ne.M,null,"Number of clusters"),n().createElement(re.b,null,x(e.dimensions,"control_plane")))),ie=({change:e,selectedAWSBillingAccountID:t,selectedAWSAccountID:a})=>{const r=(0,$.useDispatch)(),s=(0,J.useFeatureGate)(X.HCP_AWS_BILLING_SHOW),o=(0,J.useFeatureGate)(X.HCP_AWS_BILLING_REQUIRED),i=(0,Q.j)((e=>e.userProfile.organization)),d=(0,Q.j)((e=>e.rosaReducer.getAWSBillingAccountsResponse)),[E,g]=(0,l.useState)([]),h=(0,l.useCallback)((()=>{var e;r((0,te.getAWSBillingAccountIDs)(null===(e=i.details)||void 0===e?void 0:e.id))}),[r]);(0,l.useEffect)((()=>{var e;(0,Y.shouldRefetchQuota)(i)?h():g((0,K.getAwsBillingAccountsFromQuota)(null===(e=i.quotaList)||void 0===e?void 0:e.items))}),[]),(0,l.useEffect)((()=>{d.fulfilled&&(g(d.data),t&&!d.data.some((e=>e.cloud_account_id===t))&&e("billing_account_id",""))}),[d]),(0,l.useEffect)((()=>{1!==(null==E?void 0:E.length)||t||e("billing_account_id",E[0].cloud_account_id||"")}),[E,t]);const b=n().createElement(ee.default,{isButton:!0,variant:"secondary",className:"pf-v5-u-mt-md",href:N.default.AWS_CONSOLE_ROSA_HOME,noIcon:!0},"Connect ROSA to a new AWS billing account"),_=E.find((e=>e.cloud_account_id===t)),S=_?k(_):null;return s?n().createElement(n().Fragment,null,n().createElement(u.P,{span:8},n().createElement(H.D,{headingLevel:"h3"},"AWS billing account"),n().createElement(c.x,{component:c.q.p},"This account will be charged for your subscription usage. You can select an already connected AWS account or sign in to a different AWS account that you want to connect to ROSA.")),n().createElement(u.P,{span:4}),n().createElement(u.P,{sm:12,md:7},(i.error||d.error)&&n().createElement(v.default,{message:"Error getting associated AWS billing account id(s)",response:i.error?i:d}),n().createElement(m.Z,{component:V,name:"billing_account_id",label:"AWS billing account",validate:o?f.required:void 0,required:o,refresh:{onRefresh:h,text:"Refresh to view any new AWS billing accounts. It can take up to 5 minutes to sync new accounts."},extendedHelpText:n().createElement(n().Fragment,null,"Connect ROSA to a new billing account. To add a different AWS account, log in to the account, and click get started."),accounts:E,selectedAWSAccountID:t,isLoading:i.pending||d.pending,isDisabled:i.pending||d.pending,isBillingAccount:!0}),S?n().createElement(z.K,null,n().createElement(W.v,null,n().createElement(q.J,{bodyContent:n().createElement(oe,{contract:S})},n().createElement(p.zx,{variant:"link",icon:n().createElement(Z.OutlinedQuestionCircleIcon,null)},"Contract enabled for this billing account"))),n().createElement(W.v,null,b)):b),n().createElement(u.P,{span:7}),n().createElement(u.P,{sm:12,md:12},t!==a&&t&&a?n().createElement(B.b,{isInline:!0,variant:B.U.info,component:"p",role:"alert",title:"The selected AWS billing account is a different account than your AWS infrastructure account.\n            The AWS billing account will be charged for subscription usage.  The AWS infrastructure account will be used for managing the cluster."}):null)):null},ue=(e,t)=>null==e?void 0:e.some((e=>e.aws_id===t)),de=(e,t)=>e.find((e=>e.aws_id===t)),ce=function({touch:e,change:t,organizationID:a,selectedAWSAccountID:r,selectedAWSBillingAccountID:O,selectedInstallerRoleARN:I,rosaMaxOSVersion:R,getAWSAccountIDs:T,getAWSAccountIDsResponse:A,getAWSAccountRolesARNs:P,getAWSAccountRolesARNsResponse:D,getUserRoleResponse:N,clearGetAWSAccountRolesARNsResponse:L,clearGetAWSAccountIDsResponse:w,clearGetUserRoleResponse:M,isHypershiftEnabled:k,isHypershiftSelected:x}){const[F,G]=(0,l.useState)([]),[U,H]=(0,l.useState)(!1),[z,W]=(0,l.useState)(!1),[q,B]=(0,l.useState)(!1),$=(0,l.useRef)(null),Z=F.length>0,Y=(0,h.default)(),{openDrawer:K}=(0,j.C)(x),Q=()=>{w(),L(),M()};(0,l.useEffect)((()=>{t("cloud_provider","aws"),t("product",E.normalizedProducts.ROSA),t("byoc","true"),Q()}),[]),(0,l.useEffect)((()=>{if(N.fulfilled&&r){const e=ue(N.data,r);W(!e),M()}}),[N.fulfilled,r]),(0,l.useEffect)((()=>{if(Z&&!r){let e=localStorage.getItem(S.AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY);e&&F.includes(e)||([e]=F),t("associated_aws_id",e)}}),[Z,r]),(0,l.useEffect)((()=>{if(A.pending)H(!1);else if(A.fulfilled){const e=s()(A,"data",[]);G(e),r&&!e.includes(r)&&t("associated_aws_id",""),H(!0)}else A.error?H(!0):T(a)}),[A]),(0,l.useEffect)((()=>{((null==N?void 0:N.error)||z)&&Y(g.trackEvents.MissingUserRole)}),[null==N?void 0:N.error,z]);const J=(0,l.useCallback)((e=>{K({focusOnClose:e.target,onClose:w})}),[w,K]);return n().createElement(o.l,{onSubmit:()=>!1},n().createElement(i.r,{hasGutter:!0,className:"pf-v5-u-mt-md"},!k&&n().createElement(n().Fragment,null,n().createElement(u.P,{span:12},n().createElement(_.A,null)),n().createElement(u.P,{span:12},n().createElement(b.Z,{showRosaCliRequirement:!1}))),n().createElement(u.P,{span:8},n().createElement(d.D,null,n().createElement(c.x,{component:c.q.h3},"AWS infrastructure account"),n().createElement(c.x,{component:c.q.p},"Select an AWS account that is associated with your Red Hat account or associate a new account. This account will contain the ROSA infrastructure."))),n().createElement(u.P,{span:4}),n().createElement(u.P,{sm:12,md:7},A.error?n().createElement(v.default,{message:"Error getting associated AWS account id(s)",response:A}):null,n().createElement(m.Z,{component:V,name:"associated_aws_id",label:"Associated AWS infrastructure account",refresh:{onRefresh:()=>{B(!0),Q()},text:"Refresh to view newly associated AWS accounts and account-roles."},validate:U?f.required:void 0,extendedHelpText:n().createElement(n().Fragment,null,"A list of associated AWS infrastructure accounts. You must associate at least one account to proceed."),accounts:F.map((e=>({cloud_account_id:e}))),selectedAWSAccountID:r,isLoading:q&&A.pending,isDisabled:A.pending,clearGetAWSAccountIDsResponse:w}),n().createElement(p.zx,{variant:"secondary",className:"pf-v5-u-mt-md","data-testid":"launch-associate-account-btn",ref:$,onClick:J},"How to associate a new AWS account")),n().createElement(u.P,{span:7}),x&&n().createElement(ie,{change:t,selectedAWSBillingAccountID:O||"",selectedAWSAccountID:r||""}),r&&Z&&n().createElement(C.Z,{touch:e,change:t,selectedAWSAccountID:r,selectedInstallerRoleARN:I,rosaMaxOSVersion:R,getAWSAccountRolesARNs:P,getAWSAccountRolesARNsResponse:D,clearGetAWSAccountRolesARNsResponse:L,isHypershiftSelected:x,onAccountChanged:()=>{W(!1),M()}}),((null==N?void 0:N.error)||z)&&n().createElement(u.P,{span:8,className:"pf-v5-u-mt-sm"},n().createElement(y.AwsRoleErrorAlert,{title:"A user-role could not be detected",targetRole:"user"}))))}},52378:(e,t,a)=>{"use strict";a.d(t,{C:()=>G});var l=a(28416),n=a.n(l),r=a(1659),s=a(58409),o=a(85583),i=a(76770),u=a(28985),d=a(29821),c=a(32045),p=a(49739),m=a(83826),f=a(68340),E=a(47173),g=a(70355),h=a(69740),v=a(58593),b=a(58622),_=a(97655),S=a(59484),C=a(72938),y=a(42517),O=a(91885),I=a(42227),R=a(83559);const T=({title:e,headingLevel:t,children:a,expandable:l,initiallyExpanded:r})=>{const[s,i]=n().useState(r),u=t||"h3";return l?n().createElement(R.L,{onToggle:(e,t)=>((e,t)=>{i(t)})(0,t),isExpanded:s,isActive:s,toggleContent:n().createElement(o.D,{headingLevel:u,size:"md"},e)},a):n().createElement(n().Fragment,null,a)};var A=a(45468),P=a(30404),D=a(29873),N=a(47457);const L=({tabs:e})=>{const[t,a]=n().useState(0);return n().createElement(A.m,{activeKey:t,onSelect:(e,t)=>a(t),isBox:!0,className:"pf-v5-u-mt-lg associate-roles-drawer__tabs pf-v5-u-mb-sm"},e.map(((e,t)=>n().createElement(P.O,{eventKey:t,title:n().createElement(D.T,null,e.title)},n().createElement(N.H,{className:"ocm-instruction-block"},e.body)))))},w=e=>{const{expandable:t}=e;return n().createElement(T,Object.assign({},e),n().createElement(o.D,{headingLevel:"h4",className:"pf-v5-u-mb-md",size:"md"},"First, check if a role exists and is linked with:"),n().createElement(S.default,{textAriaLabel:`Copyable ROSA ${I.RosaCliCommand.ListOcmRole} command`,className:"pf-v5-u-mb-lg"},I.RosaCliCommand.ListOcmRole),n().createElement(_.b,{variant:_.U.info,isInline:!0,isPlain:!0,title:`If there is an existing role and it's already linked to your Red Hat account, ${t?"you can continue to step 2":"no further action is needed"}.`,className:"pf-v5-u-mb-lg"}),n().createElement(o.D,{headingLevel:"h3",size:"md"},"Next, is there an existing role that isn't linked?"),n().createElement(C.default,{title:"Why do I need to link my account?",bodyContent:n().createElement(n().Fragment,null,"The link creates a trust policy between the role and the link cluster installer."," ",n().createElement(y.default,{href:O.default.ROSA_AWS_ACCOUNT_ASSOCIATION,noIcon:!0},"Review the AWS policy permissions for the basic and admin OCM roles."))}),n().createElement(L,{tabs:[{title:"No, create new role",body:n().createElement(n().Fragment,null,n().createElement("strong",null,"Basic OCM role"),n().createElement(S.default,{textAriaLabel:"Copyable ROSA create ocm-role",trackEvent:g.trackEvents.CopyOCMRoleCreateBasic},I.RosaCliCommand.OcmRole),n().createElement("div",{className:"pf-v5-u-mt-md pf-v5-u-mb-md"},"OR"),n().createElement("strong",null,"Admin OCM role"),n().createElement(S.default,{textAriaLabel:"Copyable ROSA create ocm-role --admin",trackEvent:g.trackEvents.CopyOCMRoleCreateAdmin},I.RosaCliCommand.AdminOcmRole),n().createElement(C.default,{title:"Help me decide",bodyContent:n().createElement(n().Fragment,null,n().createElement(f.x,{component:f.q.p,className:"pf-v5-u-mb-md"},"The ",n().createElement("strong",null,"basic role")," enables OpenShift Cluster Manager to detect the AWS IAM roles and policies required by ROSA."),n().createElement(f.x,{component:f.q.p},"The ",n().createElement("strong",null,"admin role")," also enables the detection of the roles and policies. In addition, the admin role enables automatic deployment of the cluster-specific Operator roles and OpenID Connect (OIDC) provider by using OpenShift Cluster Manager."))}))},{title:"Yes, link existing role",body:n().createElement(n().Fragment,null,n().createElement("strong",null," If a role exists but is not linked, link it with:"),n().createElement(S.default,{textAriaLabel:`Copyable ${I.RosaCliCommand.LinkOcmRole} command`,trackEvent:g.trackEvents.CopyOCMRoleLink},I.RosaCliCommand.LinkOcmRole),n().createElement(_.b,{variant:_.U.info,isInline:!0,isPlain:!0,className:"ocm-instruction-block_alert pf-v5-u-mt-lg",title:"You must have organization administrator privileges in your Red Hat account to run this command. After you link the OCM role with your Red Hat organization, it is visible for all users in the organization."}))}]}))};var M=a(68248);const k=e=>{const{expandable:t}=e;return n().createElement(T,Object.assign({},e),n().createElement(o.D,{headingLevel:"h3",className:"pf-v5-u-mb-md",size:"md"},"First, check if a role exists and is linked with:"),n().createElement(S.default,{textAriaLabel:`Copyable ROSA ${I.RosaCliCommand.ListUserRole} command`,className:"pf-v5-u-mb-lg"},I.RosaCliCommand.ListUserRole),n().createElement(_.b,{variant:_.U.info,isInline:!0,isPlain:!0,title:`If there is an existing role and it's already linked to your Red Hat account, ${t?"you can continue to step 3":"no further action is needed"}.`,className:"pf-v5-u-mb-lg"}),n().createElement(o.D,{headingLevel:"h3",size:"md",className:"pf-v5-u-mb-lg"},"Next, is there an existing role that isn't linked?"),n().createElement(L,{tabs:[{title:"No, create new role",body:n().createElement(n().Fragment,null,n().createElement("strong",null,"User role "),n().createElement(M.default,{bodyContent:"The user role is necessary to validate that your Red Hat user account has permissions to install a cluster in the AWS account."}),n().createElement(S.default,{textAriaLabel:"Copyable ROSA create user-role",trackEvent:g.trackEvents.CopyUserRoleCreate},I.RosaCliCommand.UserRole))},{title:"Yes, link existing role",body:n().createElement(S.default,{textAriaLabel:"Copyable ROSA link user-role --arn",trackEvent:g.trackEvents.CopyUserRoleLink},I.RosaCliCommand.LinkUserRole)}]}))};var x=a(4651);const j=e=>{const t="true"===(0,x.useGlobalState)((e=>{var t,a;return null===(a=null===(t=e.form.CreateCluster)||void 0===t?void 0:t.values)||void 0===a?void 0:a.hypershift}))?I.RosaCliCommand.CreateAccountRolesHCP:I.RosaCliCommand.CreateAccountRoles;return n().createElement(T,Object.assign({},e),n().createElement(f.x,{component:f.q.p,className:"pf-v5-u-mb-lg"},"To create the necessary account-wide roles and policies quickly, use the default auto method that's provided by the ROSA CLI."),n().createElement(S.default,{trackEvent:g.trackEvents.CopyCreateAccountRoles,textAriaLabel:`Copyable ROSA ${t} command`,className:"pf-v5-u-mb-lg"},t),n().createElement(_.b,{variant:_.U.info,isInline:!0,isPlain:!0,className:"pf-v5-u-mb-lg",title:n().createElement(n().Fragment,null,"If you would prefer to manually create the required roles and policies within your AWS account, then follow"," ",n().createElement(y.default,{href:O.default.AWS_CLI_GETTING_STARTED_MANUAL,noIcon:!0},"these instructions"),".")}))},F=(0,l.forwardRef)((({targetRole:e,showRosaCliRequirement:t},a)=>{const{closeDrawer:g}=(0,l.useContext)(v.AppDrawerContext);let h,_;switch(e){case"ocm":h="Create OCM role",_=n().createElement(n().Fragment,null,"After you've created the role, close this guide and click the"," ",n().createElement("strong",null,"Refresh")," button.");break;case"user":h="Create user role",_="After you've created the role, close this guide and try again.";break;case"account":h="Create account roles",_=n().createElement(n().Fragment,null,"After running the command, close this guide and click the ",n().createElement("strong",null,"Refresh ARNs")," ","button to populate the ARN fields.");break;default:h="How to associate a new AWS account",_="After you've completed all the steps, close this guide and choose your account."}const S=!e,C=(0,l.useCallback)((()=>{g()}),[g]);return n().createElement(r.S,{isResizable:!0},n().createElement(s.h,null,n().createElement(o.D,{headingLevel:"h2",size:"2xl"},n().createElement("span",{tabIndex:0,ref:a},h)),n().createElement(i.x,null,n().createElement(u.c,{onClick:C}))),n().createElement(d.F,{hasNoPadding:!0},n().createElement(c.NP,{variant:"light"},n().createElement(p.K,{hasGutter:!0},n().createElement(m.v,null,n().createElement(f.x,{component:f.q.p},"ROSA cluster deployments use the AWS Security Token Service for added security. Run the following required steps from a CLI authenticated with both AWS and ROSA."),t&&n().createElement(f.x,{component:f.q.p},"You must use ROSA CLI version ",b.ROSA_HOSTED_CLI_MIN_VERSION," or above.")),(S||"ocm"===e)&&n().createElement(m.v,null,n().createElement(w,{title:"Step 1: OCM role",expandable:S,initiallyExpanded:!0})),(S||"user"===e)&&n().createElement(m.v,null,n().createElement(k,{title:"Step 2: User role",expandable:S})),(S||"account"===e)&&n().createElement(m.v,null,n().createElement(j,{title:"Step 3: Account roles",expandable:S})),n().createElement(m.v,null,n().createElement(f.x,{component:f.q.p,className:"pf-v5-u-mr-md"},_)),n().createElement(m.v,null,n().createElement(E.zx,{variant:E.Wu.secondary,"data-testid":"close-associate-account-btn",onClick:C},"Close"))))))})),G=(e=!1)=>{const{openDrawer:t}=(0,l.useContext)(v.AppDrawerContext),a=(0,h.default)(),r=(0,l.useRef)(null),s=(0,l.useCallback)((()=>{r.current&&r.current.focus()}),[r]);return{openDrawer:(0,l.useCallback)(((l={})=>{const{focusOnClose:o,onClose:i,targetRole:u}=l;a(g.trackEvents.AssociateAWS),t({drawerProps:{onExpand:s},drawerPanelContent:n().createElement(F,{ref:r,targetRole:u,showRosaCliRequirement:e}),onClose:i,focusOnClose:o})}),[s,t,a,e])}}},35029:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AwsRoleErrorAlert:()=>d});var l=a(28416),n=a.n(l),r=a(97655),s=a(68774),o=a(68340),i=a(47173),u=a(52378);const d=({title:e,targetRole:t})=>{const{openDrawer:a}=(0,u.C)(),d=(0,l.useCallback)((e=>{a({focusOnClose:e.target,targetRole:t})}),[a,t]);return n().createElement(r.b,{variant:"danger",isInline:!0,title:e},n().createElement(s.D,{className:"pf-v5-u-font-size-sm"},n().createElement(o.x,{component:o.q.p},"To continue,"," ",n().createElement(i.zx,{variant:"link",isInline:!0,onClick:d},"create the required role")," ","with the ROSA CLI.")))}},42227:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{RosaCliCommand:()=>l}),function(e){e.UserRole="rosa create user-role",e.LinkUserRole="rosa link user-role <arn>",e.OcmRole="rosa create ocm-role",e.AdminOcmRole="rosa create ocm-role --admin",e.ListOcmRole="rosa list ocm-role",e.LinkOcmRole="rosa link ocm-role <arn>",e.ListUserRole="rosa list user-role",e.VerifyQuota="rosa verify quota",e.WhoAmI="rosa whoami",e.CreateAccountRoles="rosa create account-roles --mode auto",e.CreateAccountRolesHCP="rosa create account-roles --hosted-cp --mode auto",e.CreateCluster="rosa create cluster"}(l||(l={}))},30313:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getForcedByoOidcReason:()=>r,getOperatorRolesCommand:()=>n});var l=a(90181);const n=({forcedByoOidcType:e,byoOidcConfigID:t,customOperatorRolesPrefix:a,installerRoleArn:n,sharedVpcRoleArn:r})=>{if(!t||!a||(0,l.checkCustomOperatorRolesPrefix)(a))return"";const s=`rosa create operator-roles --prefix "${a}" --oidc-config-id "${t}"`,o=n?`--installer-role-arn ${n}`:"";return"Hypershift"===e?`${s} --hosted-cp ${o}`:"SharedVPC"===e?`${s} ${o} --shared-vpc-role-arn ${r}`:`${s} ${o}`},r=e=>{let t;switch(e){case"Hypershift":t="Hosted control plane clusters require a specified OIDC provider.";break;case"SharedVPC":t="When using Shared VPC, OIDC provider and operator roles must be created prior to the cluster creation."}return t}},46493:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(28416),n=a.n(l),r=a(97655),s=a(25834),o=a(78140),i=a(68340),u=a(94362),d=a(59484);const c=({isHypershiftSelected:e})=>n().createElement(r.b,{className:"pf-v5-u-ml-lg",variant:"danger",isInline:!0,role:"alert",title:"There is no version compatible with the selected ARNs in previous step"},n().createElement(s.G,{component:s.F.ol,className:"ocm-c-wizard-alert-steps"},n().createElement(o.T,{className:"pf-v5-u-mb-sm"},n().createElement(i.x,{component:i.q.p,className:"pf-v5-u-mb-sm"},"Please select different ARNs or create new account roles using the following command in the ROSA CLI")),n().createElement(o.T,{className:"pf-v5-u-mb-sm"},n().createElement(i.x,{component:i.q.p,className:"pf-v5-u-mb-sm"},n().createElement(d.default,{textAriaLabel:"Copyable ROSA create account-roles command"},e?u.RosaCliCommand.CreateAccountRolesHCP:u.RosaCliCommand.CreateAccountRoles)))))},19705:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var l=a(66338),n=a(18135),r=a(39466),s=a(69816),o=a(28416),i=a.n(o),u=a(75696),d=a(50693),c=a(16475),p=a(85583),m=a(68340),f=a(90674),E=a(91885),g=a(42517),h=a(26606),v=a(87046),b=a(75374),_=a(94248),S=a(3784),C=a(95591),y=a(32539),O=a(72936),I=a(49345),R=a(98614);const T="pf-v5-u-mb-md",A=({children:e})=>i().createElement(I.H,{icon:i().createElement(R.nQ,{className:"pf-v5-u-active-color-100"})},e),P=({handleChange:e,isSelected:t})=>i().createElement(y.n,{title:"Classic",isDisplayLarge:!0,isStacked:!0,onClick:()=>e("false"),isSelected:t,className:"controlPlaneScreenTile","data-testid":"standalone-control-planes"},i().createElement(m.x,{component:m.q.p,className:T},"Run an OpenShift cluster where the control plane and data plane are coupled. The control plane is hosted by a dedicated group of physical or virtual nodes and the network stack is shared."),i().createElement(O.aV,{isPlain:!0,className:T},i().createElement(A,null,"Control plane resources are hosted in your own AWS account"),i().createElement(A,null,"Full compliance certifications"),i().createElement(A,null,"Red Hat SRE managed")));var D=a(97655);const N=({handleChange:e,isSelected:t,isHostedDisabled:a})=>i().createElement(y.n,{title:"Hosted",isDisplayLarge:!0,isStacked:!0,onClick:()=>!a&&e("true"),isSelected:t,isDisabled:a,className:"controlPlaneScreenTile","data-testid":"hosted-control-planes"},a&&i().createElement(D.b,{variant:"info",title:i().createElement(i().Fragment,null,"To create hosted control plane clusters, you'll need to"," ",i().createElement(g.default,{href:E.default.AWS_CONSOLE_ROSA_HOME_GET_STARTED},"enable ROSA hosted control plane")),className:T}),i().createElement(m.x,{component:m.q.p,className:T},"Run an OpenShift cluster where the control plane is decoupled from the data plane, and is treated like a multi-tenant workload on a hosted service cluster. The data plane is on a separate network domain that allows segmentation between management and workload traffic."),i().createElement(O.aV,{isPlain:!0,className:T},i().createElement(A,null,"Control plane resources are hosted in a Red Hat-owned AWS account"),i().createElement(A,null,"Better resource utilization with faster cluster creation"),i().createElement(A,null,"Lower AWS infrastructure costs"),i().createElement(A,null,"Red Hat SRE managed")),i().createElement(D.b,{variant:"warning",isInline:!0,isPlain:!0,title:"Compliance certifications available soon",className:T}),i().createElement(D.b,{variant:"warning",isInline:!0,isPlain:!0,title:"Virtual Private Cloud is required",className:T},i().createElement(m.x,{component:m.q.p},"To create a ROSA cluster that is hosted by Red Hat, you must be able to create clusters on a VPC."),i().createElement(m.x,{component:m.q.p},i().createElement(g.default,{href:E.default.VIRTUAL_PRIVATE_CLOUD_URL},"Learn more about Virtual Private Cloud")))),L=({input:{value:e,onChange:t},change:a,formValues:l,hasHostedProductQuota:n})=>{const r=!n;i().useEffect((()=>{e||t(r?"false":"true")}),[]);const s=e=>{t(e),a("install_to_vpc",!1),a("shared_vpc",{is_allowed:!e,is_selected:!1,base_dns_domain:"",hosted_zone_id:"",hosted_zone_role_arn:""}),a("configure_proxy",!1),a("machinePoolsSubnets",[(0,C.emptyAWSSubnet)()]),"true"===e&&(a("node_labels",[{}]),"true"===l.multi_az&&a("multi_az","false"),l.applicationIngress===b.ApplicationIngressType.Custom&&a("applicationIngress",b.ApplicationIngressType.Default)),"false"===e&&l.cluster_privacy_public_subnet_id&&a("cluster_privacy_public_subnet_id","")};return i().createElement(i().Fragment,null,i().createElement(N,{handleChange:s,isSelected:"true"===e,isHostedDisabled:r}),i().createElement(P,{handleChange:s,isSelected:"false"===e}))},w=(0,l.connect)((e=>{const t=(0,n.Z)("CreateCluster")(e),{quotaList:a}=e.userProfile.organization;return{formValues:t,hasHostedProductQuota:(0,s.hasHostedQuotaSelector)(a)}}))((0,r.default)((({change:e,formValues:t,hasHostedProductQuota:a})=>i().createElement(u.l,{onSubmit:e=>(e.preventDefault(),!1)},i().createElement("div",{className:"ocm-c-wizard-intro-image-container"},i().createElement("img",{src:v,className:"ocm-c-wizard-intro-image-top","aria-hidden":"true",alt:""}),i().createElement("img",{src:h,className:"ocm-c-wizard-intro-image-bottom","aria-hidden":"true",alt:""})),i().createElement(d.r,{hasGutter:!0,className:"pf-v5-u-mt-md"},i().createElement(c.P,{span:10},i().createElement(S.A,null)),i().createElement(c.P,{span:10},i().createElement(_.Z,null)),i().createElement(c.P,{span:10},i().createElement(p.D,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"Select an AWS control plane type"),i().createElement(m.x,{component:m.q.p},"Not sure what to choose?"," ",i().createElement(g.default,{href:E.default.AWS_CONTROL_PLANE_URL},"Learn more about AWS control plane types")))),i().createElement(f.Z,{name:"hypershift",component:L,validate:e=>e?void 0:"Control plane is required.",change:e,formValues:t,hasHostedProductQuota:a})))))},68138:(e,t,a)=>{"use strict";a.d(t,{Z:()=>re,N:()=>ae});var l=a(68774),n=a(68340),r=a(32045),s=a(49739),o=a(83826),i=a(32203),u=a(62394),d=a(83559),c=a(85583),p=a(47173),m=a(79851),f=a(34512),E=a(14386),g=a(70),h=a(97655),v=a(50693),b=a(16475),_=a(68778),S=a(98048),C=a(28416),y=a.n(C),O=a(25332),I=a(91885),R=a(2101),T=a(42517),A=a(57816),P=a(50813),D=a(13908),N=a(96106),L=a(12468),w=a(38352),M=a(27849),k=a(66338),x=a(72457),j=a(72936),F=a(49345),G=a(38611),U=a(70355),V=a(74092),H=a(59484),z=a(42227),W=a(55140);const q=(0,k.connect)((e=>{const{offlineToken:t}=e.rosaReducer;return{offlineToken:t}}),(e=>({setOfflineToken:t=>e((0,x.setOfflineToken)(t))})))((({offlineToken:e,setOfflineToken:t})=>{const a=(0,W.Z)(),l=(0,L.isRestrictedEnv)(a),[n,r]=y().useState("");y().useEffect((()=>{l?(0,L.getRefreshToken)(a).then((e=>r(e))):e&&r(e)}),[a,l,e]);const s=`rosa login${l?" --govcloud":""}${"int"===a.getEnvironment()?" --env=integration":""} --token="${n}"`;return y().useEffect((()=>{l||e||(0,V.o)(((e,a)=>{t(a||e)}),window.location.origin)}),[]),y().createElement(y().Fragment,null,y().createElement(c.D,{headingLevel:"h3"},"Log in to the ROSA CLI with your Red Hat account token and create AWS account roles and policies"),y().createElement(j.aV,{component:j.ns.ol,type:j.mr.number},y().createElement(F.H,{className:"pf-v5-u-mb-lg"},"To authenticate, run this command:",y().createElement("div",{className:"pf-v5-u-mt-md"},y().createElement(G.Z,{token:n,command:s,textAriaLabel:"Copyable ROSA login command",trackEvent:U.trackEvents.ROSALogin}))),y().createElement(F.H,null,"To create the necessary account-wide roles and policies quickly, use the default auto method that's provided in the ROSA CLI:",y().createElement(H.default,{trackEvent:U.trackEvents.CopyCreateAccountRoles,textAriaLabel:"Copyable ROSA create account-roles command",className:"pf-v5-u-mt-md"},z.RosaCliCommand.CreateAccountRoles),y().createElement(h.b,{variant:"info",isInline:!0,isPlain:!0,title:y().createElement(y().Fragment,null,"If you would prefer to manually create the required roles and policies within your AWS account, follow"," ",y().createElement(T.default,{href:I.default.AWS_CLI_GETTING_STARTED_MANUAL,noIcon:!0},"these instructions"),".")}))))}));var B=a(25834),$=a(78140),Z=a(13736);const Y=()=>y().createElement(l.D,null,y().createElement(n.x,{component:"h3"},"Download and install the ROSA and AWS command line tools (CLI) and add it to your"," ",y().createElement("code",null,"PATH"),"."),y().createElement(B.G,{component:"ol"},y().createElement($.T,{className:"pf-v5-u-mb-lg"},y().createElement(n.x,{component:n.q.p},"Download the latest version of the ROSA CLI"),y().createElement(n.x,{component:n.q.p,className:"pf-v5-u-mt-md"},y().createElement(Z.default,{tool:I.tools.ROSA,channel:I.channels.STABLE})),y().createElement(n.x,{component:"p"},y().createElement(T.default,{href:I.default.ROSA_CLI_DOCS},"Help with ROSA CLI setup"))),y().createElement($.T,null,y().createElement(n.x,{component:n.q.p},"Download the AWS CLI version 2"),y().createElement(n.x,{component:n.q.p,className:"pf-v5-u-mt-md"},y().createElement(T.default,{href:I.default.AWS_CLI},"Instructions to install the AWS CLI")))));var K=a(49734),Q=a(43696);const J=()=>y().createElement(i.Z,{isFlat:!0,isFullHeight:!0},y().createElement(g.l,null,y().createElement(c.D,{headingLevel:"h3",size:"lg"},y().createElement(Q.CodeIcon,{className:"ocm-c-wizard-get-started--card-icon"}),"Deploy with CLI")),y().createElement(u.e,null,y().createElement(n.x,{component:n.q.p,className:"pf-v5-u-mb-sm"},"Run the create command in your terminal to begin setup in interactive mode."),y().createElement(H.default,{textAriaLabel:"Copyable ROSA create cluster command",trackEvent:U.trackEvents.CopyRosaCreateCluster},z.RosaCliCommand.CreateCluster)),y().createElement(K.e,null,y().createElement(T.default,{href:I.default.AWS_CLI_INSTRUCTIONS},"More information on CLI instruction")));var X=a(47288),ee=a(87558);const te=()=>{const e=(0,C.useCallback)((e=>y().createElement(ee.Link,Object.assign({},e,{to:"/create/rosa/wizard"}))),[]);return y().createElement(i.Z,{isFlat:!0,isFullHeight:!0},y().createElement(g.l,null,y().createElement(c.D,{headingLevel:"h3",size:"lg"},y().createElement(X.ug,{className:"ocm-c-wizard-get-started--card-icon"}),"Deploy with web interface")),y().createElement(u.e,null,y().createElement(n.x,{component:n.q.p,className:"pf-v5-u-mb-sm"},"You can deploy your cluster with the web interface."),y().createElement(h.b,{variant:"info",isInline:!0,isPlain:!0,title:"Your AWS account will need to be associated with your Red Hat account."})),y().createElement(K.e,null,y().createElement(p.zx,{variant:p.Wu.secondary,component:e},y().createElement(X.ug,null)," Create with web interface")))},ae="Red Hat OpenShift Service on AWS",le=(e="")=>`Set up ${e} (ROSA)`,ne=y().createElement(R.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Set up ROSA"}]}),re=()=>{const{search:e}=(0,O.TH)(),t=-1!==e.indexOf("source=aws"),[a,C]=y().useState(!t),R=(0,N.useFeatureGate)(w.HCP_ROSA_GETTING_STARTED_PAGE)&&!(0,L.isRestrictedEnv)();return y().createElement(M.AppPage,null,y().createElement(A.default,{breadcrumbs:ne,title:le(ae)},y().createElement(l.D,{className:"pf-v5-u-mt-md"},y().createElement(n.x,{component:n.q.p},y().createElement(T.default,{href:I.default.WHAT_IS_ROSA},"Learn more about ROSA")," or"," ",y().createElement(T.default,{href:I.default.ROSA_COMMUNITY_SLACK},"Slack us")))),y().createElement(r.NP,null,y().createElement(s.K,{hasGutter:!0},y().createElement(o.v,null,y().createElement(i.Z,null,y().createElement(u.e,null,y().createElement(d.L,{onToggle:()=>C(!a),isExpanded:a,toggleContent:y().createElement("div",null,y().createElement("span",null,"Complete AWS prerequisites"),y().createElement("span",{className:"pf-v5-u-ml-sm"},a?y().createElement(S.T6,{className:"warning"}):y().createElement(_.CheckCircleIcon,{className:"success"})))},y().createElement(l.D,{className:"pf-v5-u-mt-md"},y().createElement(c.D,{headingLevel:"h2"},"Have you prepared your AWS account?"),y().createElement(n.x,{component:n.q.p},"You will need to enable ROSA on AWS, configure Elastic Load Balancer (ELB), and verify your quotas on AWS console. If you have already prepared your AWS account, you can continue to complete ROSA prerequisites."),y().createElement(T.default,{href:I.default.AWS_CONSOLE_ROSA_HOME_GET_STARTED,isButton:!0,variant:p.Wu.secondary},"Open AWS Console")))))),y().createElement(o.v,null,y().createElement(i.Z,null,y().createElement(u.e,null,y().createElement(m.P,{className:"pf-v5-u-mb-lg"},y().createElement(f.J,{isFilled:!0},y().createElement(c.D,{headingLevel:"h2"},"Complete ROSA prerequisites")),y().createElement(f.J,null,y().createElement(T.default,{href:I.default.AWS_ROSA_GET_STARTED},"More information on ROSA setup"))),y().createElement(D.default,{wide:!0},y().createElement(P.default,{simple:!0},y().createElement(Y,null)),y().createElement(P.default,{simple:!0},y().createElement(q,null)))))),y().createElement(o.v,null,y().createElement(i.Z,null,y().createElement(E.O,{className:"rosa-get-started",actions:{actions:y().createElement(T.default,{href:I.default.ROSA_GET_STARTED},"More information on ROSA cluster creation"),hasNoOffset:!1}},y().createElement(g.l,null,y().createElement(c.D,{headingLevel:"h2",size:"xl"},"Deploy the cluster and set up access"),y().createElement(n.x,{component:n.q.p,className:"pf-v5-u-font-weight-normal"},"Select a deployment method"))),y().createElement(u.e,null,R?y().createElement(h.b,{variant:h.U.info,isInline:!0,className:"pf-v5-u-mb-md",component:"p",title:"For now, you can only create ROSA with Hosted Control Plane clusters using the CLI.  You'll be able to create ROSA with Hosted Control Plane clusters using the web interface soon.","data-testid":"hcp-directions"}):null,y().createElement(v.r,{hasGutter:!0},y().createElement(b.P,{span:6},y().createElement(J,null)),y().createElement(b.P,{span:6},y().createElement(te,null)))))))))}},3143:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(28416),n=a.n(l),r=a(50693),s=a(16475),o=a(90674),i=a(57252),u=a(40549),d=a(35732);const c=(e,t)=>{var a,l;const n=null===(a=null==t?void 0:t.machinePoolsSubnets)||void 0===a?void 0:a.map((e=>e.privateSubnetId)).filter((e=>!!e)),r=((null===(l=null==t?void 0:t.selected_vpc)||void 0===l?void 0:l.aws_subnets)||[]).filter((e=>{var t;return null==n?void 0:n.includes(null!==(t=e.subnet_id)&&void 0!==t?t:"")})).map((e=>e.availability_zone));return new Set(n).size>1&&1===new Set(r).size?`Your cluster will not be highly available because all the subnets are in the same availability zone (${r[0]}). To improve security and uptime, it's recommended to select subnets from different availability zones`:void 0},p=({selectedVPC:e})=>n().createElement(r.r,{hasGutter:!0},n().createElement(s.P,{span:6},n().createElement(o.Z,{component:d.default,name:"selected_vpc",validate:e=>(null==e?void 0:e.id)?void 0:"error",selectedVPC:e,showRefresh:!0,isHypershift:!0,isRosaV1:!0})),((null==e?void 0:e.id)||(null==e?void 0:e.name))&&n().createElement(i.Z,{name:"machinePoolsSubnets",component:u.Z,selectedVPC:e,warn:c}))},3810:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>z});var l=a(28416),n=a.n(l),r=a(85583),s=a(68340),o=a(97655),i=a(90674),u=a(85547),d=a(46786),c=a(79687),p=a(42517),m=a(91885),f=a(12468),E=a(27361),g=a.n(E),h=a(68774),v=a(50693),b=a(16475),_=a(13908),S=a(50813),C=a(90181),y=a(22305),O=a(59775),I=a(28191),R=a(92298),T=a(47173),A=a(12952),P=a(27730),D=a(87749),N=a(44008),L=a(37355),w=a(74855),M=a(66338),k=a(25011),x=a(4651),j=a(7749),F=a(12812);const G="Reserving new base DNS domain...",U=({label:e,input:t,meta:a})=>{const[l,r]=n().useState(!1),[s,o]=n().useState(""),i=(0,M.useDispatch)();n().useEffect((()=>{i(k.r.getAvailableSharedVpcDnsDomains()),i(k.r.clearLastCreatedBaseDnsDomain())}),[i]);const u=(0,x.useGlobalState)((e=>e.dnsDomains)),{pending:d,isUpdatingDomains:c,createdDnsId:p,deletedDnsId:m,items:f=[]}=u,E=d||c;n().useEffect((()=>{!c&&p&&t.value!==p&&(t.onChange(p),i(k.r.clearLastCreatedBaseDnsDomain()))}),[c,p,t.value,i]),n().useEffect((()=>{t.value===m&&t.onChange("")}),[m]);const g=f.map((e=>n().createElement(P.$,{key:e.id,value:e.id,isDisabled:E},e.id)));return c&&g.unshift(n().createElement(P.$,{key:"loader",value:s,isPlaceholder:!0},n().createElement("div",{className:"shared-vpc-loading-content"},s," ",n().createElement(y.$,{size:"md"})))),n().createElement(O.c,{label:e,isRequired:!0,className:"shared-vpc-domain-select"},n().createElement(I.k,null,n().createElement(R.B,{flex:{default:"flex_1"},className:"pf-v5-u-m-0"},n().createElement(D.P,{isOpen:l,selections:t.value||(c?s:"Select base DNS domain"),onToggle:(e,t)=>(e=>{E||r(e)})(t),onSelect:(e,a)=>{E||(r(!1),t.onChange(a))},onFilter:(e,t)=>""===t?g:g.filter((e=>e.props.value.includes(t))),maxHeight:250,hasInlineFilter:g.length>1,inlineFilterPlaceholderText:"Filter by domain name",isDisabled:E,validated:t.value?"success":void 0,footer:n().createElement(T.zx,{isInline:!0,variant:"link",className:"pf-v5-u-py-sm",onClick:()=>{t.onChange(""),r(!1),o(G),i(k.r.createNewBaseDnsDomain())},isDisabled:E},"Reserve new base DNS domain")},g)),n().createElement(R.B,{grow:{default:void 0},className:"dns-domain-action-icon"},n().createElement(w.CopyToClipboard,{text:t.value||""},n().createElement(T.zx,{variant:"link",type:"button",tabIndex:0,isAriaDisabled:!t.value,icon:n().createElement(N.CopyIcon,null)})),n().createElement(A.u,{content:"Clicking the icon will permanently delete the selected Base DNS domain"},n().createElement(T.zx,{variant:"tertiary",type:"button",tabIndex:0,isAriaDisabled:!t.value,onClick:()=>{const e=t.value;o("Deleting a base DNS domain..."),i(k.r.deleteBaseDnsDomain(e))},icon:n().createElement(L.XH,null)},"Delete")))),!c&&!p&&u.error&&n().createElement(j.default,{message:`Error ${s===G?"creating":"deleting"} the DNS domain`,response:u,showCloseBtn:!0,onCloseAlert:()=>{i(k.r.clearLastCreatedBaseDnsDomain())}}),n().createElement(F.FormGroupHelperText,{touched:a.touched,error:a.error}))};function V({domainName:e}){return n().createElement(h.D,null,n().createElement(s.x,{component:s.q.small,className:"pf-v5-u-color-100"},"Enter the private hosted zone ID that's linked to the AWS owner account you want to use. The private hosted zone must have been created with",n().createElement("strong",{className:"pf-v5-u-font-size-md"}," ",e," "),"as the domain name.",n().createElement(p.default,{href:m.default.AWS_CONSOLE_HOSTED_ZONES}," AWS console")))}const H=({hostedZoneDomainName:e,meta:t})=>{const a=e=>({error:g()(t.error,e),touched:g()(t,`${e}.touched`,!1)});return n().createElement(v.r,null,n().createElement(b.P,{span:10},n().createElement(_.default,{wide:!0},n().createElement(S.default,{simple:!0},n().createElement(h.D,{className:"pf-v5-u-pb-md"},n().createElement(s.x,{component:s.q.p},"Select an existing base DNS domain or reserve a new base DNS domain.")),n().createElement(i.Z,{label:"Base DNS domain",name:"shared_vpc.base_dns_domain",validate:C.required,component:U,meta:a("base_dns_domain"),isRequired:!0})),n().createElement(S.default,{simple:!0},n().createElement(h.D,{className:"pf-v5-u-pb-md"},n().createElement(s.x,{component:s.q.p},"Associate your DNS domain with a private hosted zone.")),n().createElement(i.Z,{label:"Private hosted zone ID",name:"shared_vpc.hosted_zone_id",component:c.ReduxVerticalFormGroup,validate:C.validatePrivateHostedZoneId,meta:a("hosted_zone_id"),showHelpTextOnError:!1,helpText:n().createElement(V,{domainName:e}),isRequired:!0})),n().createElement(S.default,{simple:!0},n().createElement(h.D,{className:"pf-v5-u-pb-md"},n().createElement(s.x,{component:s.q.p},"Provide the role ARN for the existing VPC.")),n().createElement(i.Z,{label:"Shared VPC role",name:"shared_vpc.hosted_zone_role_arn",component:c.ReduxVerticalFormGroup,validate:C.validateRoleARN,meta:a("hosted_zone_role_arn"),isRequired:!0})))))},z=({hostedZoneDomainName:e,isSelected:t,openshiftVersion:a})=>{const l=(0,u.getIncompatibleVersionReason)(d.SupportedFeature.AWS_SHARED_VPC,a,{day1:!0});return l?n().createElement(n().Fragment,null,n().createElement(r.D,{headingLevel:"h3",className:"pf-v5-u-mt-lg"},"AWS shared VPC"),n().createElement(s.x,null,l)):n().createElement(n().Fragment,null,n().createElement(r.D,{headingLevel:"h3"},"AWS shared VPC"),!(0,f.isRestrictedEnv)()&&n().createElement(i.Z,{component:c.ReduxCheckbox,name:"shared_vpc.is_selected",label:"Install into AWS shared VPC",extendedHelpText:n().createElement(n().Fragment,null,"Install into a non-default subnet shared by another account in your AWS organization.",n().createElement("br",null),n().createElement(p.default,{href:m.default.AWS_SHARED_VPC},"Learn more about AWS shared VPC"))}),t&&n().createElement("section",{className:"shared-vpc-instructions"},n().createElement(o.b,{className:"pf-v5-u-mb-md",variant:"info",isInline:!0,title:n().createElement(n().Fragment,null,"NOTE: To continue, you'll need to fill out all of the information. Some of the information, such as Private Hosted Zone ID and Shared VPC Role ARN, must be provided by the VPC owner of the AWS account you want to use. If you aren't the VPC owner, reach out to them now.")},n().createElement(p.default,{href:m.default.ROSA_SHARED_VPC},"View instructions on configuring shared VPC for ROSA clusters")),n().createElement(i.Z,{component:H,name:"shared_vpc",hostedZoneDomainName:e})))}},63667:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ROSAWizardContext:()=>l});const l=(0,a(28416).createContext)({forceLeaveWizard:void 0,setForceLeaveWizard:e=>{}})},105:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var l=a(28416),n=a.n(l),r=a(83559),s=a(97655),o=a(94513),i=a(31767),u=a(90674),d=a(96106),c=a(46786),p=a(59539),m=a(85547),f=a(90181),E=a(38352),g=a(42820),h=a(22427),v=a(4651),b=a(91885);const _="securityGroups",S=(0,i.Z)("CreateCluster"),C=({input:{onChange:e,value:t},label:a,selectedVPC:l})=>n().createElement(g.Z,{label:a,selectedVPC:l,selectedGroupIds:t,isReadOnly:!1,onChange:e}),y=({openshiftVersion:e,selectedVPC:t})=>{const a=(0,d.useFeatureGate)(E.SECURITY_GROUPS_FEATURE_DAY1),i=(0,v.useGlobalState)((e=>S(e,_))),g=i.applyControlPlaneToAll?i.controlPlane:i.controlPlane.concat(i.infra).concat(i.worker),[y,O]=(0,l.useState)(g.length>0);if(!a||!t.id)return null;const I=(0,m.getIncompatibleVersionReason)(c.SupportedFeature.SECURITY_GROUPS,e,{day1:!0}),R=!I&&0===(t.aws_security_groups||[]).length;return n().createElement(r.L,{toggleText:"Additional security groups",isExpanded:y,onToggle:()=>{O(!y)}},I&&n().createElement("div",null,I),R&&n().createElement(h.Z,null),!I&&!R&&n().createElement(n().Fragment,null,n().createElement(s.b,{variant:"info",isInline:!0,title:"You cannot add or edit security groups to the machine pools created by default after you create the cluster.",actionLinks:n().createElement(n().Fragment,null,n().createElement(o.Q,{component:"a",href:b.default.ROSA_SECURITY_GROUPS,target:"_blank"},"View more information"),n().createElement(o.Q,{component:"a",href:b.default.AWS_CONSOLE_SECURITY_GROUPS,target:"_blank"},"AWS security groups console"))}),n().createElement("br",null),n().createElement(u.Z,{component:p.default,name:`${_}.applyControlPlaneToAll`,label:"Apply the same security groups to all node types (control plane, infrastructure, worker)"}),n().createElement(u.Z,{component:C,name:`${_}.controlPlane`,label:i.applyControlPlaneToAll?"":"Control plane nodes",selectedVPC:t,validate:f.validateSecurityGroups}),!i.applyControlPlaneToAll&&n().createElement(n().Fragment,null,n().createElement(u.Z,{component:C,name:`${_}.infra`,label:"Infrastructure nodes",selectedVPC:t,validate:f.validateSecurityGroups}),n().createElement(u.Z,{component:C,name:`${_}.worker`,label:"Worker nodes",selectedVPC:t,validate:f.validateSecurityGroups}))))}},94248:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var l=a(28416),n=a.n(l),r=a(63564),s=a(12084),o=a(20012),i=a(87558),u=a(68138),d=a(58622),c=a(63667);const p=e=>{const{showRosaCliRequirement:t=!0}=e,{setForceLeaveWizard:a}=(0,l.useContext)(c.ROSAWizardContext),p=(0,l.useCallback)((()=>{a(!0)}),[a]);return n().createElement(r.k,null,n().createElement(s.q,null,n().createElement("strong",null,"Did you complete your prerequisites?")),n().createElement(o.b,null,n().createElement("p",null,"To create a ",u.N," (ROSA) cluster via the web interface, you must complete the prerequisite steps on the"," ",n().createElement(i.Link,{to:"/create/rosa/getstarted",onClick:p},"Set up ROSA page"),"."),t&&n().createElement("p",null,"Make sure you are using ROSA CLI version ",d.ROSA_HOSTED_CLI_MIN_VERSION,' or above for "Hosted" control plane.')))}},3784:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l=a(28416),n=a.n(l),r=a(68774),s=a(68340);const o=()=>n().createElement(r.D,null,n().createElement(s.x,{component:s.q.h2},"Welcome to Red Hat OpenShift Service on AWS (ROSA)"),n().createElement(s.x,{component:s.q.p},"Create a managed OpenShift cluster on an existing Amazon Web Services (AWS) account."))},58622:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE:()=>o,CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE:()=>i,CLEAR_GET_OCM_ROLE_RESPONSE:()=>u,CLEAR_GET_USER_ROLE_RESPONSE:()=>d,GET_AWS_ACCOUNT_ROLES_ARNS:()=>n,GET_AWS_BILLING_ACCOUNTS:()=>f,GET_OCM_ROLE:()=>r,GET_USER_ROLE:()=>s,LIST_ASSOCIATED_AWS_IDS:()=>l,LIST_USER_OIDC_CONFIGURATIONS:()=>p,MIN_MANAGED_POLICY_VERSION:()=>m,ROSA_HOSTED_CLI_MIN_VERSION:()=>E,SET_OFFLINE_TOKEN:()=>c});const l="LIST_ASSOCIATED_AWS_IDS",n="GET_AWS_ACCOUNT_ROLES_ARNS",r="GET_OCM_ROLE",s="GET_USER_ROLE",o="CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE",i="CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE",u="CLEAR_GET_OCM_ROLE_RESPONSE",d="CLEAR_GET_USER_ROLE_RESPONSE",c="SET_OFFLINE_TOKEN",p="LIST_USER_OIDC_CONFIGURATIONS",m="4.11.4",f="GET_AWS_BILLING_ACCOUNTS",E="1.2.31"},61732:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Ae,getUserRoleForSelectedAWSAccount:()=>Te,isUserRoleForSelectedAWSAccount:()=>Re});var l=a(28416),n=a.n(l),r=a(27361),s=a.n(r),o=a(75696),i=a(50693),u=a(16475),d=a(68774),c=a(68340),p=a(47173),m=a(64636),f=a(18955),E=a(90181),g=a(52758),h=a(70355),v=a(69740),b=a(7749),_=a(63564),S=a(12084),C=a(20012),y=a(87558),O=a(91885),I=a(2101),R=a(42517),T=(a(57816),a(50813),a(13908),a(96106)),A=(a(27849),a(66338)),P=a(72457),D=a(85583),N=a(72936),L=a(49345),w=a(97655),M=a(38611),k=a(74092),x=a(59484),j=a(94362),F=a(12468),G=a(55140);(0,A.connect)((e=>{const{offlineToken:t}=e.rosaReducer;return{offlineToken:t}}),(e=>({setOfflineToken:t=>e((0,P.setOfflineToken)(t))})))((({offlineToken:e,setOfflineToken:t})=>{const a=(0,G.Z)(),l=(0,F.isRestrictedEnv)(a),[r,s]=n().useState("");n().useEffect((()=>{l?(0,F.getRefreshToken)(a).then((e=>s(e))):e&&s(e)}),[a,l,e]);const o=`rosa login${l?" --govcloud":""}${"int"===a.getEnvironment()?" --env=integration":""} --token="${r}"`;return n().useEffect((()=>{l||e||(0,k.o)(((e,a)=>{t(a||e)}),window.location.origin)}),[]),n().createElement(n().Fragment,null,n().createElement(D.D,{headingLevel:"h3"},"Log in to the ROSA CLI with your Red Hat account token and create AWS account roles and policies"),n().createElement(N.aV,{component:N.ns.ol,type:N.mr.number},n().createElement(L.H,{className:"pf-v5-u-mb-lg"},"To authenticate, run this command:",n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(M.Z,{token:r,command:o,textAriaLabel:"Copyable ROSA login command",trackEvent:h.trackEvents.ROSALogin}))),n().createElement(L.H,null,"To create the necessary account-wide roles and policies quickly, use the default auto method that's provided in the ROSA CLI:",n().createElement(x.default,{trackEvent:h.trackEvents.CopyCreateAccountRoles,textAriaLabel:"Copyable ROSA create account-roles command",className:"pf-v5-u-mt-md"},j.RosaCliCommand.CreateAccountRoles),n().createElement(w.b,{variant:"info",isInline:!0,isPlain:!0,title:n().createElement(n().Fragment,null,"If you would prefer to manually create the required roles and policies within your AWS account, follow"," ",n().createElement(R.default,{href:O.default.AWS_CLI_GETTING_STARTED_MANUAL,noIcon:!0},"these instructions"),".")}))))})),a(13736);n().createElement(I.default,{path:[{label:"Clusters"},{label:"Cluster Type",path:"/create"},{label:"Set up ROSA"}]});var U=a(12595),V=a(1481);const H=e=>{const{showRosaCliRequirement:t=!0}=e,{setForceLeaveWizard:a}=(0,l.useContext)(V.ROSAWizardContext),r=(0,l.useCallback)((()=>{a(!0)}),[a]);return n().createElement(_.k,null,n().createElement(S.q,null,n().createElement("strong",null,"Did you complete your prerequisites?")),n().createElement(C.b,null,n().createElement("p",null,"To create a ","Red Hat OpenShift Service on AWS"," (ROSA) cluster via the web interface, you must complete the prerequisite steps on the"," ",n().createElement(y.Link,{to:"/create/rosa/getstarted",onClick:r},"Set up ROSA page"),"Ok , ."),t&&n().createElement("p",null,"Make sure you are using ROSA CLI version ",U.ROSA_HOSTED_CLI_MIN_VERSION,' or above for "Hosted" control plane.')))},z=()=>n().createElement(d.D,null,n().createElement(c.x,{component:c.q.h2},"Welcome to Red Hat OpenShift Service on AWS (ROSA)"),n().createElement(c.x,{component:c.q.p},"Create a managed OpenShift cluster on an existing Amazon Web Services (AWS) account."));var W=a(19953),q=a(83802),B=a(31067),$=a(9947),Z=a(67880),Y=a(75106),K=a(59775),Q=a(28191),J=a(92298),X=a(12952),ee=a(12812),te=a(68248);const ae=["control_plane","four_vcpu_hour"],le=e=>{const{contracts:t}=e;if(!t||0===t.length)return null;const a=t[0];return(a.dimensions||[]).some((e=>ae.includes(e.name||"")&&Number(e.value||0)>0))?a:null},ne=(e,t)=>{var a;return(null===(a=e.find((e=>(null==e?void 0:e.name)===t)))||void 0===a?void 0:a.value)||0};var re=a(17975),se=a(83384);function oe(){return n().createElement($.u,{"data-testid":"no_associated_accounts",className:"no-associated-aws-accounts_empty-state"},n().createElement(Z.t,{titleText:"No associated accounts were found.",headingLevel:"h6"}),n().createElement(Y.B,null,"Associate an AWS account to your Red Hat account."))}function ie(e,t){return t.label.length-e.label.length||t.label.localeCompare(e.label)}const ue=function(e){var t=e.input,{onBlur:a}=t,r=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(t,["onBlur"]),{meta:{error:s,touched:o},isDisabled:i,isLoading:u,label:d,extendedHelpText:c,selectedAWSAccountID:m,accounts:f,isBillingAccount:E=!1,refresh:g,clearGetAWSAccountIDsResponse:h,required:v=!0}=e;const[b,_]=(0,l.useState)(!1),S=(0,l.createRef)(),C=(null==f?void 0:f.length)>0,{onRefresh:y,text:I}=g,{onChange:R}=r,{openDrawer:T}=(0,re.C)();(0,l.useEffect)((()=>{var e;!0!==b||C||null===(e=S.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[b,C]);const A=(0,l.useCallback)(((e,t)=>{_(t)}),[_]),P=(0,l.useCallback)(((e,t)=>{_(!1),R(t),localStorage.setItem(W.AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY,t)}),[_,R]),D=(0,l.useMemo)((()=>f.map((e=>{const t=e.cloud_account_id;return{entryId:t,label:t,description:E&&le(e)?"Contract enabled":""}}))),[f]),N=(0,l.useCallback)((()=>{_(!1),T({onClose:h})}),[T,_]),L=(0,l.useMemo)((()=>{const e=E?{component:"a",href:O.default.AWS_CONSOLE_ROSA_HOME,target:"_blank"}:{onClick:N};return n().createElement(n().Fragment,null,!C&&n().createElement(oe,null),n().createElement(p.zx,Object.assign({ref:S,variant:"secondary"},e),E?"Connect ROSA to a new AWS billing account":"How to associate a new AWS account"))}),[C,E,S]);return n().createElement(K.c,{label:d,labelIcon:c?n().createElement(te.default,{hint:c}):void 0,className:"aws-account-selection",isRequired:!0},n().createElement(Q.k,null,n().createElement(J.B,{grow:{default:"grow"}},n().createElement(se.default,{label:d,isOpen:b,selectedEntryId:C?m:"",selectionData:D,onToggle:A,onSelect:P,sortFn:ie,isDisabled:i,placeholderText:"Select an account",inlineFilterPlaceholderText:"Filter by account ID",filterValidate:{pattern:/^\d*$/,message:"Please enter numeric digits only."},validated:o&&s?"error":void 0,footer:L,"aria-describedby":"aws-infra-accounts"})),y&&n().createElement(J.B,null,n().createElement(X.u,{content:n().createElement("p",null,I)},n().createElement(p.zx,{"data-testid":"refresh-aws-accounts",isLoading:u,isDisabled:i,isInline:!0,size:"sm",variant:"secondary",onClick:()=>{y()}},"Refresh")))),n().createElement(ee.FormGroupHelperText,{touched:o,error:s}))};var de=a(49739),ce=a(83826),pe=a(33942),me=a(91290),fe=a(69429),Ee=a(69816),ge=a(3189),he=a(38352),ve=a(71130),be=a(58844),_e=a(10550),Se=a(3025),Ce=a(64107);const ye=({contract:e})=>n().createElement(ve.o,{id:"contract-info",isHorizontal:!0},n().createElement(be.g,null,n().createElement(_e.M,null,"Start date:"),n().createElement(Se.b,null,e.start_date?n().createElement(Ce.Z,{type:"onlyDate",date:new Date(e.start_date)}):"N/A")),n().createElement(be.g,null,n().createElement(_e.M,null,"End date:"),n().createElement(Se.b,null,e.end_date?n().createElement(Ce.Z,{type:"onlyDate",date:new Date(e.end_date)}):"N/A")),n().createElement(be.g,null,n().createElement(_e.M,null,"Number of vCPUs"),n().createElement(Se.b,null,ne(e.dimensions,"four_vcpu_hour"))),n().createElement(be.g,null,n().createElement(_e.M,null,"Number of clusters"),n().createElement(Se.b,null,ne(e.dimensions,"control_plane"))));var Oe=a(94989);const Ie=({selectedAWSBillingAccountID:e,selectedAWSAccountID:t})=>{const{setFieldValue:a,getFieldProps:r,getFieldMeta:s,setFieldTouched:o}=(0,f.c)(),i=(0,A.useDispatch)(),d=(0,T.useFeatureGate)(he.HCP_AWS_BILLING_SHOW),g=(0,T.useFeatureGate)(he.HCP_AWS_BILLING_REQUIRED),h=(0,ge.j)((e=>e.userProfile.organization)),v=(0,ge.j)((e=>e.rosaReducer.getAWSBillingAccountsResponse)),[_,S]=(0,l.useState)([]),C=(0,l.useCallback)((()=>{var e;i((0,P.getAWSBillingAccountIDs)(null===(e=h.details)||void 0===e?void 0:e.id))}),[i]);(0,l.useEffect)((()=>{var e;(0,fe.shouldRefetchQuota)(h)?C():S((0,Ee.getAwsBillingAccountsFromQuota)(null===(e=h.quotaList)||void 0===e?void 0:e.items))}),[]),(0,l.useEffect)((()=>{v.fulfilled&&(S(v.data),e&&!v.data.some((t=>t.cloud_account_id===e))&&(a(Oe.FieldId.BillingAccountId,""),o(Oe.FieldId.BillingAccountId)))}),[v]),(0,l.useEffect)((()=>{1!==(null==_?void 0:_.length)||e||a(Oe.FieldId.BillingAccountId,_[0].cloud_account_id||"")}),[_,e]);const y=n().createElement(R.default,{isButton:!0,variant:"secondary",className:"pf-v5-u-mt-md",href:O.default.AWS_CONSOLE_ROSA_HOME,noIcon:!0},"Connect ROSA to a new AWS billing account"),I=_.find((t=>t.cloud_account_id===e)),N=I?le(I):null;return d?n().createElement(n().Fragment,null,n().createElement(u.P,{span:8},n().createElement(D.D,{headingLevel:"h3"},"AWS billing account"),n().createElement(c.x,{component:c.q.p},"This account will be charged for your subscription usage. You can select an already connected AWS account or sign in to a different AWS account that you want to connect to ROSA.")),n().createElement(u.P,{span:4}),n().createElement(u.P,{sm:12,md:7},(h.error||v.error)&&n().createElement(b.default,{message:"Error getting associated AWS billing account id(s)",response:h.error?h:v}),n().createElement(m.Field,{component:ue,name:Oe.FieldId.BillingAccountId,input:Object.assign(Object.assign({},r(Oe.FieldId.BillingAccountId)),{onChange:e=>a(Oe.FieldId.BillingAccountId,e)}),meta:s(Oe.FieldId.BillingAccountId),label:"AWS billing account",validate:g?E.required:void 0,required:g,refresh:{onRefresh:C,text:"Refresh to view any new AWS billing accounts. It can take up to 5 minutes to sync new accounts."},extendedHelpText:n().createElement(n().Fragment,null,"Connect ROSA to a new billing account. To add a different AWS account, log in to the account, and click get started."),accounts:_,selectedAWSAccountID:e,isLoading:h.pending||v.pending,isDisabled:h.pending||v.pending,isBillingAccount:!0}),N?n().createElement(de.K,null,n().createElement(ce.v,null,n().createElement(pe.J,{bodyContent:n().createElement(ye,{contract:N})},n().createElement(p.zx,{variant:"link",icon:n().createElement(me.OutlinedQuestionCircleIcon,null)},"Contract enabled for this billing account"))),n().createElement(ce.v,null,y)):y),n().createElement(u.P,{span:7}),n().createElement(u.P,{sm:12,md:12},e!==t&&e&&t?n().createElement(w.b,{isInline:!0,variant:w.U.info,component:"p",role:"alert",title:"The selected AWS billing account is a different account than your AWS infrastructure account.\n            The AWS billing account will be charged for subscription usage.  The AWS infrastructure account will be used for managing the cluster."}):null)):null},Re=(e,t)=>null==e?void 0:e.some((e=>e.aws_id===t)),Te=(e,t)=>e.find((e=>e.aws_id===t)),Ae=function({organizationID:e,getAWSAccountIDs:t,getAWSAccountIDsResponse:a,getAWSAccountRolesARNs:r,getAWSAccountRolesARNsResponse:_,getUserRoleResponse:S,clearGetAWSAccountRolesARNsResponse:C,clearGetAWSAccountIDsResponse:y,clearGetUserRoleResponse:O,isHypershiftEnabled:I,isHypershiftSelected:R}){const{setFieldValue:T,getFieldProps:A,getFieldMeta:P,values:{[Oe.FieldId.AssociatedAwsId]:D,[Oe.FieldId.BillingAccountId]:N,[Oe.FieldId.InstallerRoleArn]:L,[Oe.FieldId.RosaMaxOsVersion]:w}}=(0,f.c)(),[M,k]=(0,l.useState)([]),[x,j]=(0,l.useState)(!1),[F,G]=(0,l.useState)(!1),[U,V]=(0,l.useState)(!1),$=(0,l.useRef)(null),Z=M.length>0,Y=(0,v.default)(),{openDrawer:K}=(0,re.C)(R),Q=()=>{y(),C(),O()};(0,l.useEffect)((()=>{T(Oe.FieldId.CloudProvider,"aws"),T(Oe.FieldId.Product,g.normalizedProducts.ROSA),T(Oe.FieldId.Byoc,"true"),Q()}),[]),(0,l.useEffect)((()=>{if(S.fulfilled&&D){const e=Re(S.data,D);G(!e),O()}}),[S.fulfilled,D]),(0,l.useEffect)((()=>{if(Z&&!D){let e=localStorage.getItem(W.AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY);e&&M.includes(e)||([e]=M),T(Oe.FieldId.AssociatedAwsId,e)}}),[Z,D]),(0,l.useEffect)((()=>{if(a.pending)j(!1);else if(a.fulfilled){const e=s()(a,"data",[]);k(e),D&&!e.includes(D)&&T(Oe.FieldId.AssociatedAwsId,""),j(!0)}else a.error?j(!0):t(e)}),[a]),(0,l.useEffect)((()=>{((null==S?void 0:S.error)||F)&&Y(h.trackEvents.MissingUserRole)}),[null==S?void 0:S.error,F]);const J=(0,l.useCallback)((e=>{K({focusOnClose:e.target,onClose:y})}),[y,K]);return n().createElement(o.l,{onSubmit:()=>!1},n().createElement(i.r,{hasGutter:!0,className:"pf-v5-u-mt-md"},!I&&n().createElement(n().Fragment,null,n().createElement(u.P,{span:12},n().createElement(z,null)),n().createElement(u.P,{span:12},n().createElement(H,{showRosaCliRequirement:!1}))),n().createElement(u.P,{span:8},n().createElement(d.D,null,n().createElement(c.x,{component:c.q.h3},"AWS infrastructure account"),n().createElement(c.x,{component:c.q.p},"Select an AWS account that is associated with your Red Hat account or associate a new account. This account will contain the ROSA infrastructure."))),n().createElement(u.P,{span:4}),n().createElement(u.P,{sm:12,md:7},a.error?n().createElement(b.default,{message:"Error getting associated AWS account id(s)",response:a}):null,n().createElement(m.Field,{component:ue,name:Oe.FieldId.AssociatedAwsId,input:Object.assign(Object.assign({},A(Oe.FieldId.AssociatedAwsId)),{onChange:e=>T(Oe.FieldId.AssociatedAwsId,e)}),meta:P(Oe.FieldId.AssociatedAwsId),label:"Associated AWS infrastructure account",refresh:{onRefresh:()=>{V(!0),Q()},text:"Refresh to view newly associated AWS accounts and account-roles."},validate:x?E.required:void 0,extendedHelpText:n().createElement(n().Fragment,null,"A list of associated AWS infrastructure accounts. You must associate at least one account to proceed."),accounts:M.map((e=>({cloud_account_id:e}))),selectedAWSAccountID:D,isLoading:U&&a.pending,isDisabled:a.pending,clearGetAWSAccountIDsResponse:y}),n().createElement(p.zx,{variant:"secondary",className:"pf-v5-u-mt-md","data-testid":"launch-associate-account-btn",ref:$,onClick:J},"How to associate a new AWS account")),n().createElement(u.P,{span:7}),R&&n().createElement(Ie,{selectedAWSBillingAccountID:N||"",selectedAWSAccountID:D||""}),D&&Z&&n().createElement(q.Z,{selectedAWSAccountID:D,selectedInstallerRoleARN:L,rosaMaxOSVersion:w,getAWSAccountRolesARNs:r,getAWSAccountRolesARNsResponse:_,clearGetAWSAccountRolesARNsResponse:C,isHypershiftSelected:R,onAccountChanged:()=>{G(!1),O()}}),((null==S?void 0:S.error)||F)&&n().createElement(u.P,{span:8,className:"pf-v5-u-mt-sm"},n().createElement(B.AwsRoleErrorAlert,{title:"A user-role could not be detected",targetRole:"user"}))))}},17975:(e,t,a)=>{"use strict";a.d(t,{C:()=>G});var l=a(28416),n=a.n(l),r=a(1659),s=a(58409),o=a(85583),i=a(76770),u=a(28985),d=a(29821),c=a(32045),p=a(49739),m=a(83826),f=a(68340),E=a(47173),g=a(70355),h=a(69740),v=a(58593),b=a(12595),_=a(97655),S=a(59484),C=a(72938),y=a(42517),O=a(91885),I=a(94362),R=a(83559);const T=({title:e,headingLevel:t,children:a,expandable:l,initiallyExpanded:r})=>{const[s,i]=n().useState(r),u=t||"h3";return l?n().createElement(R.L,{onToggle:(e,t)=>((e,t)=>{i(t)})(0,t),isExpanded:s,isActive:s,toggleContent:n().createElement(o.D,{headingLevel:u,size:"md"},e)},a):n().createElement(n().Fragment,null,a)};var A=a(45468),P=a(30404),D=a(29873),N=a(47457);const L=({tabs:e})=>{const[t,a]=n().useState(0);return n().createElement(A.m,{activeKey:t,onSelect:(e,t)=>a(t),isBox:!0,className:"pf-v5-u-mt-lg associate-roles-drawer__tabs pf-v5-u-mb-sm"},e.map(((e,t)=>n().createElement(P.O,{eventKey:t,title:n().createElement(D.T,null,e.title)},n().createElement(N.H,{className:"ocm-instruction-block"},e.body)))))},w=e=>{const{expandable:t}=e;return n().createElement(T,Object.assign({},e),n().createElement(o.D,{headingLevel:"h4",className:"pf-v5-u-mb-md",size:"md"},"First, check if a role exists and is linked with:"),n().createElement(S.default,{textAriaLabel:`Copyable ROSA ${I.RosaCliCommand.ListOcmRole} command`,className:"pf-v5-u-mb-lg"},I.RosaCliCommand.ListOcmRole),n().createElement(_.b,{variant:_.U.info,isInline:!0,isPlain:!0,title:`If there is an existing role and it's already linked to your Red Hat account, ${t?"you can continue to step 2":"no further action is needed"}.`,className:"pf-v5-u-mb-lg"}),n().createElement(o.D,{headingLevel:"h3",size:"md"},"Next, is there an existing role that isn't linked?"),n().createElement(C.default,{title:"Why do I need to link my account?",bodyContent:n().createElement(n().Fragment,null,"The link creates a trust policy between the role and the link cluster installer."," ",n().createElement(y.default,{href:O.default.ROSA_AWS_ACCOUNT_ASSOCIATION,noIcon:!0},"Review the AWS policy permissions for the basic and admin OCM roles."))}),n().createElement(L,{tabs:[{title:"No, create new role",body:n().createElement(n().Fragment,null,n().createElement("strong",null,"Basic OCM role"),n().createElement(S.default,{textAriaLabel:"Copyable ROSA create ocm-role",trackEvent:g.trackEvents.CopyOCMRoleCreateBasic},I.RosaCliCommand.OcmRole),n().createElement("div",{className:"pf-v5-u-mt-md pf-v5-u-mb-md"},"OR"),n().createElement("strong",null,"Admin OCM role"),n().createElement(S.default,{textAriaLabel:"Copyable ROSA create ocm-role --admin",trackEvent:g.trackEvents.CopyOCMRoleCreateAdmin},I.RosaCliCommand.AdminOcmRole),n().createElement(C.default,{title:"Help me decide",bodyContent:n().createElement(n().Fragment,null,n().createElement(f.x,{component:f.q.p,className:"pf-v5-u-mb-md"},"The ",n().createElement("strong",null,"basic role")," enables OpenShift Cluster Manager to detect the AWS IAM roles and policies required by ROSA."),n().createElement(f.x,{component:f.q.p},"The ",n().createElement("strong",null,"admin role")," also enables the detection of the roles and policies. In addition, the admin role enables automatic deployment of the cluster-specific Operator roles and OpenID Connect (OIDC) provider by using OpenShift Cluster Manager."))}))},{title:"Yes, link existing role",body:n().createElement(n().Fragment,null,n().createElement("strong",null," If a role exists but is not linked, link it with:"),n().createElement(S.default,{textAriaLabel:`Copyable ${I.RosaCliCommand.LinkOcmRole} command`,trackEvent:g.trackEvents.CopyOCMRoleLink},I.RosaCliCommand.LinkOcmRole),n().createElement(_.b,{variant:_.U.info,isInline:!0,isPlain:!0,className:"ocm-instruction-block_alert pf-v5-u-mt-lg",title:"You must have organization administrator privileges in your Red Hat account to run this command. After you link the OCM role with your Red Hat organization, it is visible for all users in the organization."}))}]}))};var M=a(68248);const k=e=>{const{expandable:t}=e;return n().createElement(T,Object.assign({},e),n().createElement(o.D,{headingLevel:"h3",className:"pf-v5-u-mb-md",size:"md"},"First, check if a role exists and is linked with:"),n().createElement(S.default,{textAriaLabel:`Copyable ROSA ${I.RosaCliCommand.ListUserRole} command`,className:"pf-v5-u-mb-lg"},I.RosaCliCommand.ListUserRole),n().createElement(_.b,{variant:_.U.info,isInline:!0,isPlain:!0,title:`If there is an existing role and it's already linked to your Red Hat account, ${t?"you can continue to step 3":"no further action is needed"}.`,className:"pf-v5-u-mb-lg"}),n().createElement(o.D,{headingLevel:"h3",size:"md",className:"pf-v5-u-mb-lg"},"Next, is there an existing role that isn't linked?"),n().createElement(L,{tabs:[{title:"No, create new role",body:n().createElement(n().Fragment,null,n().createElement("strong",null,"User role "),n().createElement(M.default,{bodyContent:"The user role is necessary to validate that your Red Hat user account has permissions to install a cluster in the AWS account."}),n().createElement(S.default,{textAriaLabel:"Copyable ROSA create user-role",trackEvent:g.trackEvents.CopyUserRoleCreate},I.RosaCliCommand.UserRole))},{title:"Yes, link existing role",body:n().createElement(S.default,{textAriaLabel:"Copyable ROSA link user-role --arn",trackEvent:g.trackEvents.CopyUserRoleLink},I.RosaCliCommand.LinkUserRole)}]}))};var x=a(4651);const j=e=>{const t="true"===(0,x.useGlobalState)((e=>{var t,a;return null===(a=null===(t=e.form.CreateCluster)||void 0===t?void 0:t.values)||void 0===a?void 0:a.hypershift}))?I.RosaCliCommand.CreateAccountRolesHCP:I.RosaCliCommand.CreateAccountRoles;return n().createElement(T,Object.assign({},e),n().createElement(f.x,{component:f.q.p,className:"pf-v5-u-mb-lg"},"To create the necessary account-wide roles and policies quickly, use the default auto method that's provided by the ROSA CLI."),n().createElement(S.default,{trackEvent:g.trackEvents.CopyCreateAccountRoles,textAriaLabel:`Copyable ROSA ${t} command`,className:"pf-v5-u-mb-lg"},t),n().createElement(_.b,{variant:_.U.info,isInline:!0,isPlain:!0,className:"pf-v5-u-mb-lg",title:n().createElement(n().Fragment,null,"If you would prefer to manually create the required roles and policies within your AWS account, then follow"," ",n().createElement(y.default,{href:O.default.AWS_CLI_GETTING_STARTED_MANUAL,noIcon:!0},"these instructions"),".")}))},F=(0,l.forwardRef)((({targetRole:e,showRosaCliRequirement:t},a)=>{const{closeDrawer:g}=(0,l.useContext)(v.AppDrawerContext);let h,_;switch(e){case"ocm":h="Create OCM role",_=n().createElement(n().Fragment,null,"After you've created the role, close this guide and click the"," ",n().createElement("strong",null,"Refresh")," button.");break;case"user":h="Create user role",_="After you've created the role, close this guide and try again.";break;case"account":h="Create account roles",_=n().createElement(n().Fragment,null,"After running the command, close this guide and click the ",n().createElement("strong",null,"Refresh ARNs")," ","button to populate the ARN fields.");break;default:h="How to associate a new AWS account",_="After you've completed all the steps, close this guide and choose your account."}const S=!e,C=(0,l.useCallback)((()=>{g()}),[g]);return n().createElement(r.S,{isResizable:!0},n().createElement(s.h,null,n().createElement(o.D,{headingLevel:"h2",size:"2xl"},n().createElement("span",{tabIndex:0,ref:a},h)),n().createElement(i.x,null,n().createElement(u.c,{onClick:C}))),n().createElement(d.F,{hasNoPadding:!0},n().createElement(c.NP,{variant:"light"},n().createElement(p.K,{hasGutter:!0},n().createElement(m.v,null,n().createElement(f.x,{component:f.q.p},"ROSA cluster deployments use the AWS Security Token Service for added security. Run the following required steps from a CLI authenticated with both AWS and ROSA."),t&&n().createElement(f.x,{component:f.q.p},"You must use ROSA CLI version ",b.ROSA_HOSTED_CLI_MIN_VERSION," or above.")),(S||"ocm"===e)&&n().createElement(m.v,null,n().createElement(w,{title:"Step 1: OCM role",expandable:S,initiallyExpanded:!0})),(S||"user"===e)&&n().createElement(m.v,null,n().createElement(k,{title:"Step 2: User role",expandable:S})),(S||"account"===e)&&n().createElement(m.v,null,n().createElement(j,{title:"Step 3: Account roles",expandable:S})),n().createElement(m.v,null,n().createElement(f.x,{component:f.q.p,className:"pf-v5-u-mr-md"},_)),n().createElement(m.v,null,n().createElement(E.zx,{variant:E.Wu.secondary,"data-testid":"close-associate-account-btn",onClick:C},"Close"))))))})),G=(e=!1)=>{const{openDrawer:t}=(0,l.useContext)(v.AppDrawerContext),a=(0,h.default)(),r=(0,l.useRef)(null),s=(0,l.useCallback)((()=>{r.current&&r.current.focus()}),[r]);return{openDrawer:(0,l.useCallback)(((l={})=>{const{focusOnClose:o,onClose:i,targetRole:u}=l;a(g.trackEvents.AssociateAWS),t({drawerProps:{onExpand:s},drawerPanelContent:n().createElement(F,{ref:r,targetRole:u,showRosaCliRequirement:e}),onClose:i,focusOnClose:o})}),[s,t,a,e])}}},31067:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AwsRoleErrorAlert:()=>d});var l=a(28416),n=a.n(l),r=a(97655),s=a(68774),o=a(68340),i=a(47173),u=a(17975);const d=({title:e,targetRole:t})=>{const{openDrawer:a}=(0,u.C)(),d=(0,l.useCallback)((e=>{a({focusOnClose:e.target,targetRole:t})}),[a,t]);return n().createElement(r.b,{variant:"danger",isInline:!0,title:e},n().createElement(s.D,{className:"pf-v5-u-font-size-sm"},n().createElement(o.x,{component:o.q.p},"To continue,"," ",n().createElement(i.zx,{variant:"link",isInline:!0,onClick:d},"create the required role")," ","with the ROSA CLI.")))}},94362:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{RosaCliCommand:()=>l}),function(e){e.UserRole="rosa create user-role",e.LinkUserRole="rosa link user-role <arn>",e.OcmRole="rosa create ocm-role",e.AdminOcmRole="rosa create ocm-role --admin",e.ListOcmRole="rosa list ocm-role",e.LinkOcmRole="rosa link ocm-role <arn>",e.ListUserRole="rosa list user-role",e.VerifyQuota="rosa verify quota",e.WhoAmI="rosa whoami",e.CreateAccountRoles="rosa create account-roles --mode auto",e.CreateAccountRolesHCP="rosa create account-roles --hosted-cp --mode auto",e.CreateCluster="rosa create cluster"}(l||(l={}))},82525:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getForcedByoOidcReason:()=>r,getOperatorRolesCommand:()=>n});var l=a(90181);const n=({forcedByoOidcType:e,byoOidcConfigID:t,customOperatorRolesPrefix:a,installerRoleArn:n,sharedVpcRoleArn:r})=>{if(!t||!a||(0,l.checkCustomOperatorRolesPrefix)(a))return"";const s=`rosa create operator-roles --prefix "${a}" --oidc-config-id "${t}"`,o=n?`--installer-role-arn ${n}`:"";return"Hypershift"===e?`${s} --hosted-cp ${o}`:"SharedVPC"===e?`${s} ${o} --shared-vpc-role-arn ${r}`:`${s} ${o}`},r=e=>{let t;switch(e){case"Hypershift":t="Hosted control plane clusters require a specified OIDC provider.";break;case"SharedVPC":t="When using Shared VPC, OIDC provider and operator roles must be created prior to the cluster creation."}return t}},87841:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(28416),n=a.n(l),r=a(97655),s=a(25834),o=a(78140),i=a(68340),u=a(94362),d=a(59484);const c=({isHypershiftSelected:e})=>n().createElement(r.b,{className:"pf-v5-u-ml-lg",variant:"danger",isInline:!0,role:"alert",title:"There is no version compatible with the selected ARNs in previous step"},n().createElement(s.G,{component:s.F.ol,className:"ocm-c-wizard-alert-steps"},n().createElement(o.T,{className:"pf-v5-u-mb-sm"},n().createElement(i.x,{component:i.q.p,className:"pf-v5-u-mb-sm"},"Please select different ARNs or create new account roles using the following command in the ROSA CLI")),n().createElement(o.T,{className:"pf-v5-u-mb-sm"},n().createElement(i.x,{component:i.q.p,className:"pf-v5-u-mb-sm"},n().createElement(d.default,{textAriaLabel:"Copyable ROSA create account-roles command"},e?u.RosaCliCommand.CreateAccountRolesHCP:u.RosaCliCommand.CreateAccountRoles)))))},77995:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var l=a(66338),n=a(69816),r=a(28416),s=a.n(r),o=a(75696),i=a(50693),u=a(16475),d=a(85583),c=a(68340),p=a(18955),m=a(64636),f=a(91885),E=a(42517),g=a(26606),h=a(87046),v=a(75374),b=a(94248),_=a(3784),S=a(95591),C=a(32539),y=a(72936),O=a(49345),I=a(98614);const R="pf-v5-u-mb-md",T=({children:e})=>s().createElement(O.H,{icon:s().createElement(I.nQ,{className:"pf-v5-u-active-color-100"})},e),A=({handleChange:e,isSelected:t})=>s().createElement(C.n,{title:"Classic",isDisplayLarge:!0,isStacked:!0,onClick:()=>e("false"),isSelected:t,className:"controlPlaneScreenTile","data-testid":"standalone-control-planes"},s().createElement(c.x,{component:c.q.p,className:R},"Run an OpenShift cluster where the control plane and data plane are coupled. The control plane is hosted by a dedicated group of physical or virtual nodes and the network stack is shared."),s().createElement(y.aV,{isPlain:!0,className:R},s().createElement(T,null,"Control plane resources are hosted in your own AWS account"),s().createElement(T,null,"Full compliance certifications"),s().createElement(T,null,"Red Hat SRE managed")));var P=a(97655);const D=({handleChange:e,isSelected:t,isHostedDisabled:a})=>s().createElement(C.n,{title:"Hosted",isDisplayLarge:!0,isStacked:!0,onClick:()=>!a&&e("true"),isSelected:t,isDisabled:a,className:"controlPlaneScreenTile","data-testid":"hosted-control-planes"},a&&s().createElement(P.b,{variant:"info",title:s().createElement(s().Fragment,null,"To create hosted control plane clusters, you'll need to"," ",s().createElement(E.default,{href:f.default.AWS_CONSOLE_ROSA_HOME_GET_STARTED},"enable ROSA hosted control plane")),className:R}),s().createElement(c.x,{component:c.q.p,className:R},"Run an OpenShift cluster where the control plane is decoupled from the data plane, and is treated like a multi-tenant workload on a hosted service cluster. The data plane is on a separate network domain that allows segmentation between management and workload traffic."),s().createElement(y.aV,{isPlain:!0,className:R},s().createElement(T,null,"Control plane resources are hosted in a Red Hat-owned AWS account"),s().createElement(T,null,"Better resource utilization with faster cluster creation"),s().createElement(T,null,"Lower AWS infrastructure costs"),s().createElement(T,null,"Red Hat SRE managed")),s().createElement(P.b,{variant:"warning",isInline:!0,isPlain:!0,title:"Compliance certifications available soon",className:R}),s().createElement(P.b,{variant:"warning",isInline:!0,isPlain:!0,title:"Virtual Private Cloud is required",className:R},s().createElement(c.x,{component:c.q.p},"To create a ROSA cluster that is hosted by Red Hat, you must be able to create clusters on a VPC."),s().createElement(c.x,{component:c.q.p},s().createElement(E.default,{href:f.default.VIRTUAL_PRIVATE_CLOUD_URL},"Learn more about Virtual Private Cloud"))));var N=a(94989);const L=({input:{value:e,onChange:t},hasHostedProductQuota:a})=>{const{values:l,setFieldValue:n}=(0,p.c)(),r=!a;s().useEffect((()=>{e||t(r?"false":"true")}),[]);const o=e=>{t(e),n("install_to_vpc",!1),n("shared_vpc",{is_allowed:!e,is_selected:!1,base_dns_domain:"",hosted_zone_id:"",hosted_zone_role_arn:""}),n("configure_proxy",!1),n("machinePoolsSubnets",[(0,S.emptyAWSSubnet)()]),"true"===e&&(n("node_labels",[{}]),"true"===l.multi_az&&n("multi_az","false"),l.applicationIngress===v.ApplicationIngressType.Custom&&n("applicationIngress",v.ApplicationIngressType.Default)),"false"===e&&l.cluster_privacy_public_subnet_id&&n("cluster_privacy_public_subnet_id","")};return s().createElement(s().Fragment,null,s().createElement(D,{handleChange:o,isSelected:"true"===e,isHostedDisabled:r}),s().createElement(A,{handleChange:o,isSelected:"false"===e}))},w=(0,l.connect)((e=>{const{quotaList:t}=e.userProfile.organization;return{hasHostedProductQuota:(0,n.hasHostedQuotaSelector)(t)}}))((({hasHostedProductQuota:e})=>{const{setFieldValue:t,getFieldProps:a,setFieldTouched:l}=(0,p.c)();return s().createElement(o.l,{onSubmit:e=>(e.preventDefault(),!1)},s().createElement("div",{className:"ocm-c-wizard-intro-image-container"},s().createElement("img",{src:h,className:"ocm-c-wizard-intro-image-top","aria-hidden":"true",alt:""}),s().createElement("img",{src:g,className:"ocm-c-wizard-intro-image-bottom","aria-hidden":"true",alt:""})),s().createElement(i.r,{hasGutter:!0,className:"pf-v5-u-mt-md"},s().createElement(u.P,{span:10},s().createElement(_.A,null)),s().createElement(u.P,{span:10},s().createElement(b.Z,null)),s().createElement(u.P,{span:10},s().createElement(d.D,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"Select an AWS control plane type"),s().createElement(c.x,{component:c.q.p},"Not sure what to choose?"," ",s().createElement(E.default,{href:f.default.AWS_CONTROL_PLANE_URL},"Learn more about AWS control plane types")))),s().createElement(m.Field,{name:N.FieldId.Hypershift,component:L,validate:e=>e?void 0:"Control plane is required.",input:Object.assign(Object.assign({},a(N.FieldId.Hypershift)),{onChange:e=>{l(N.FieldId.Hypershift),t(N.FieldId.Hypershift,e,!1)}}),hasHostedProductQuota:e}))}))},55565:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var l=a(28416),n=a.n(l),r=a(75696),s=a(50693),o=a(18955),i=a(94989),u=a(46994),d=a(16475),c=a(85583),p=a(68340);const m=()=>n().createElement(s.r,null,n().createElement(d.P,null,n().createElement(c.D,{headingLevel:"h3"},"Machine pools")),n().createElement(d.P,null,n().createElement(p.x,{component:"p"},"Create machine pools and specify the private subnet for each machine pool. To make your cluster highly available, add machine pools on different availability zones. Additional machine pools can be created after cluster creation."))),f=()=>n().createElement(s.r,null,n().createElement(d.P,null,n().createElement(c.D,{headingLevel:"h3"},"Default machine pool")),n().createElement(d.P,null,n().createElement(p.x,{component:"p"},"Select a compute node instance type and count for your default machine pool."),n().createElement(p.x,{component:"p"},"After cluster creation, your selected default machine pool instance type is permanent."))),E=({isHypershiftSelected:e})=>e?n().createElement(m,null):n().createElement(f,null);var g=a(64636),h=a(97655),v=a(47173),b=a(71415),_=a(88993),S=a(90181),C=a(18483),y=a(95591);const O=({selectedVPC:e,warning:t})=>{const{values:{[i.FieldId.MachinePoolsSubnets]:a},getFieldProps:r,setFieldValue:u,getFieldMeta:c}=(0,o.c)();return(0,l.useEffect)((()=>{void 0===a&&u(i.FieldId.MachinePoolsSubnets,[(0,y.emptyAWSSubnet)()])}),[a,u]),n().createElement(s.r,{hasGutter:!0},t&&n().createElement(d.P,null,n().createElement(h.b,{variant:"warning",isPlain:!0,isInline:!0,title:t})),n().createElement(d.P,{span:2,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Machine pool"),n().createElement(d.P,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Private subnet name"),n().createElement(d.P,{span:6}),null==a?void 0:a.map(((t,l)=>{const s=1===a.length,o=`${i.FieldId.MachinePoolsSubnets}[${l}].privateSubnetId`;return e?n().createElement(n().Fragment,{key:`${a.indexOf(l).privateSubnetId}_${l}`},n().createElement(d.P,{span:2},"Machine pool ",l+1),n().createElement(d.P,{span:4},n().createElement(g.Field,{component:C.SubnetSelectField,name:o,validate:e=>{var t;return(0,S.validateMultipleMachinePoolsSubnets)(e,{machinePoolsSubnets:a},{pristine:null===(t=c(o))||void 0===t?void 0:t.touched})},isRequired:!0,privacy:"private",selectedVPC:e,withAutoSelect:!1,isNewCluster:!0,input:Object.assign(Object.assign({},r(o)),{onChange:e=>{u(o,e),((e,t)=>{const l=a.map(((a,l)=>l===e?Object.assign(Object.assign({},a),{privateSubnetId:t}):a));u(i.FieldId.MachinePoolsSubnets,l,!1)})(l,e)}}),meta:c(o)})),n().createElement(d.P,{span:1},n().createElement(v.zx,{onClick:()=>{return e=l,u(i.FieldId.MachinePoolsSubnets,a.filter(((t,a)=>a!==e)));var e},icon:n().createElement(b.MinusCircleIcon,null),variant:"link",isDisabled:s,className:s?"machinePoolSubnetsForm-removeBtn-disabled":"machinePoolSubnetsForm-removeBtn"})),n().createElement(d.P,{span:5})):null})),n().createElement(d.P,null,n().createElement(v.zx,{onClick:()=>{return e=(0,y.emptyAWSSubnet)(),u(i.FieldId.MachinePoolsSubnets,[...a,e],!1);var e},icon:n().createElement(_.PlusCircleIcon,null),variant:"link",isInline:!0,className:"machinePoolSubnetsForm-addBtn",isDisabled:!(null==e?void 0:e.id)},"Add machine pool")))};var I=a(35732);const R=()=>{const{values:{[i.FieldId.SelectedVpc]:e,[i.FieldId.MachinePoolsSubnets]:t},getFieldProps:a,setFieldValue:r,getFieldMeta:u}=(0,o.c)(),c=(0,l.useMemo)((()=>{if(t){const a=t.map((e=>e.privateSubnetId)).filter((e=>!!e)),l=((null==e?void 0:e.aws_subnets)||[]).filter((e=>e.subnet_id&&a.includes(e.subnet_id))).map((e=>e.availability_zone));return new Set(a).size>1&&1===new Set(l).size?`Your cluster will not be highly available because all the subnets are in the same availability zone (${l[0]}). To improve security and uptime, it's recommended to select subnets from different availability zones`:void 0}}),[t,e]),p=(0,l.useCallback)((t=>n().createElement(O,Object.assign({selectedVPC:e},t,{warning:c}))),[e,c]);return n().createElement(s.r,{hasGutter:!0},n().createElement(d.P,{span:6},n().createElement(g.Field,{component:I.default,name:i.FieldId.SelectedVpc,validate:e=>(null==e?void 0:e.id)?void 0:"error",selectedVPC:e,showRefresh:!0,isHypershift:!0,isRosaV1:!1,input:Object.assign(Object.assign({},a(i.FieldId.SelectedVpc)),{onChange:e=>r(i.FieldId.SelectedVpc,e,!1)}),meta:u(i.FieldId.SelectedVpc)})),((null==e?void 0:e.id)||(null==e?void 0:e.name))&&n().createElement(g.FieldArray,{component:p,name:i.FieldId.MachinePoolsSubnets}))},T=()=>{const{values:{[i.FieldId.Hypershift]:e}}=(0,o.c)(),t="true"===e;return n().createElement(r.l,{onSubmit:e=>(e.preventDefault(),!1)},n().createElement(s.r,{hasGutter:!0},n().createElement(E,{isHypershiftSelected:t}),t?n().createElement(R,null):null,n().createElement(u.Z,null)))}},75204:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var l=a(28416),n=a.n(l),r=a(59775),s=a(64636),o=a(10865),i=a(24197),u=a(87788),d=a(38970),c=a(41585),p=a(94989),m=a(18955);const f=({isDisabled:e,onChangeImds:t,imds:a})=>{const{setFieldValue:l,getFieldProps:f,getFieldMeta:E}=(0,m.c)();return n().useEffect((()=>{e&&a!==i.IMDSType.V1AndV2&&t(i.IMDSType.V1AndV2)}),[e,a]),n().createElement(r.c,{label:"Instance Metadata Service",fieldId:"imds",labelIcon:n().createElement(d.i,null)},e?n().createElement(c.l,null):n().createElement(s.Field,{component:o.default,name:p.FieldId.Imds,ariaLabel:"Instance Metadata Service",props:{value:a,onChange:t},isDisabled:e,className:"pf-v5-u-mb-md",options:u.x,disableDefaultValueHandling:!0,input:Object.assign(Object.assign({},f(p.FieldId.Imds)),{onChange:e=>l(p.FieldId.Imds,e,!1)}),meta:E(p.FieldId.Imds)}))}},5017:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(28416),n=a.n(l),r=a(59775),s=a(64636),o=a(90181),i=a(18955),u=a(77589),d=a(94989),c=a(19822),p=a(68248);const m=({maxWorkerVolumeSizeGiB:e})=>{const{values:{[d.FieldId.WorkerVolumeSizeGib]:t},setFieldValue:a,setFieldTouched:m,getFieldProps:f,getFieldMeta:E}=(0,i.c)();return(0,l.useEffect)((()=>{void 0===t&&a(d.FieldId.WorkerVolumeSizeGib,u.defaultWorkerNodeVolumeSizeGiB,!0)}),[a,t]),n().createElement(r.c,{className:"worker-node-volume-size-section",label:"Root disk size",isRequired:!0,fieldId:d.FieldId.WorkerVolumeSizeGib,labelIcon:n().createElement(p.default,{hint:`Root disks are AWS EBS volumes attached as the primary disk for AWS EC2 instances. The root disk size for this machine pool group of nodes must be between ${u.workerNodeVolumeSizeMinGiB}GiB and ${e}GiB.`})},n().createElement(s.Field,{component:c.Z,name:d.FieldId.WorkerVolumeSizeGib,inputName:d.FieldId.WorkerVolumeSizeGib,inputAriaLabel:"Worker root disk size",validate:t=>(0,o.validateWorkerVolumeSize)(t,{},{maxWorkerVolumeSizeGiB:e}),min:u.workerNodeVolumeSizeMinGiB,max:e,widthChars:5,unit:"GiB",input:Object.assign(Object.assign({},f(d.FieldId.WorkerVolumeSizeGib)),{value:t,onChange:e=>{a(d.FieldId.WorkerVolumeSizeGib,parseFloat(e),!0),setTimeout((()=>m(d.FieldId.WorkerVolumeSizeGib,!1)),1)}}),meta:E(d.FieldId.WorkerVolumeSizeGib)}))}},42599:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DefaultIngressFieldsFormik:()=>b});var l=a(28416),n=a.n(l),r=a(64636),s=a(59775),o=a(94184),i=a.n(o),u=a(79687),d=a(28562),c=a(43589),p=a(70769),m=a(81780),f=a(2441),E=a(90181),g=a(82840),h=a(44442),v=a(18955);const b=({className:e,areFieldsDisabled:t,isDay2:a,hasSufficientIngressEditVersion:l,canEditLoadBalancer:o,canShowLoadBalancer:b,isHypershiftCluster:_})=>{const{getFieldProps:S,getFieldMeta:C}=(0,v.c)();return n().createElement(n().Fragment,null,a&&n().createElement(s.c,{fieldId:"default_router_address",label:"Default application router",isStack:!0,isRequired:!0},n().createElement(r.Field,{component:u.ReduxVerticalFormGroup,name:"default_router_address",type:"text",disabled:!0,helpText:"Address of application routes.",input:S("default_router_address"),meta:C("default_router_address")}),n().createElement(r.Field,{component:u.ReduxCheckbox,name:"private_default_router",label:"Make router private",input:S("private_default_router"),meta:C("private_default_router")})),l&&!_&&n().createElement(s.c,{className:e,label:"Route selector",labelIcon:n().createElement(h.q,null)},n().createElement(r.Field,{component:u.ReduxVerticalFormGroup,name:"defaultRouterSelectors",type:"text",validate:E.checkRouteSelectors,disabled:t,helpText:h.P,showHelpTextOnError:!1,input:S("defaultRouterSelectors"),meta:C("defaultRouterSelectors")})),l&&!_&&n().createElement(s.c,{className:e,label:"Excluded namespaces",labelIcon:n().createElement(g.r,null)},n().createElement(r.Field,{component:u.ReduxVerticalFormGroup,name:"defaultRouterExcludedNamespacesFlag",type:"text",validate:E.validateNamespacesList,disabled:t,helpText:g.T,showHelpTextOnError:!1,input:S("defaultRouterExcludedNamespacesFlag"),meta:C("defaultRouterExcludedNamespacesFlag")})),a&&l&&!_&&n().createElement(n().Fragment,null,n().createElement(s.c,{className:e,label:"TLS Secret name"},n().createElement(r.Field,{component:u.ReduxVerticalFormGroup,name:"clusterRoutesTlsSecretRef",type:"text",validate:E.validateTlsSecretName,disabled:t,helpText:"The name of a secret holding custom TLS certificate, in the openshift-config namespace. Optional.",showHelpTextOnError:!1,input:S("clusterRoutesTlsSecretRef"),meta:C("clusterRoutesTlsSecretRef")})),n().createElement(s.c,{className:e,label:"Hostname"},n().createElement(r.Field,{component:u.ReduxVerticalFormGroup,name:"clusterRoutesHostname",type:"text",validate:E.validateTlsHostname,disabled:t,helpText:"The cluster routes hostname the TLS certificate is issued for.",showHelpTextOnError:!1,input:S("clusterRoutesHostname"),meta:C("clusterRoutesHostname")}))),l&&!_&&n().createElement(s.c,{className:e,fieldId:"isDefaultRouterNamespaceOwnershipPolicyStrict",label:"Namespace ownership policy",labelIcon:n().createElement(f.E,null)},n().createElement(r.Field,{id:"isDefaultRouterNamespaceOwnershipPolicyStrict",component:u.ReduxCheckbox,name:"isDefaultRouterNamespaceOwnershipPolicyStrict",disabled:t,label:"Strict",labelOff:"Inter-namespace ownership allowed",isSwitch:!0,input:S("isDefaultRouterNamespaceOwnershipPolicyStrict"),meta:C("isDefaultRouterNamespaceOwnershipPolicyStrict")})),l&&!_&&n().createElement(s.c,{className:e,fieldId:"isDefaultRouterWildcardPolicyAllowed",label:"Wildcard policy",labelIcon:n().createElement(m.T,null)},n().createElement(r.Field,{id:"isDefaultRouterWildcardPolicyAllowed",component:u.ReduxCheckbox,name:"isDefaultRouterWildcardPolicyAllowed",disabled:t,label:"Allowed",labelOff:"Disallowed",isSwitch:!0,input:S("isDefaultRouterWildcardPolicyAllowed"),meta:C("isDefaultRouterWildcardPolicyAllowed")})),b&&!_&&n().createElement(s.c,{fieldId:"load_balancer_group",label:"Load balancer type",className:i()("pf-v5-u-pb-md",e),labelIcon:n().createElement(d.Z,null)},n().createElement(r.Field,{id:"load_balancer_group",component:u.ReduxCheckbox,name:"is_nlb_load_balancer",disabled:!o,label:c.c[p.LoadBalancerFlavor.NLB],labelOff:c.c[p.LoadBalancerFlavor.CLASSIC],isSwitch:!0,input:S("is_nlb_load_balancer"),meta:C("is_nlb_load_balancer")})))}},7792:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>z});var l=a(28416),n=a.n(l),r=a(85583),s=a(68340),o=a(97655),i=a(64636),u=a(18955),d=a(85547),c=a(46786),p=a(79687),m=a(42517),f=a(91885),E=a(12468),g=a(68774),h=a(50693),v=a(16475),b=a(13908),_=a(50813),S=a(90181),C=a(22305),y=a(59775),O=a(28191),I=a(92298),R=a(47173),T=a(12952),A=a(27730),P=a(87749),D=a(44008),N=a(37355),L=a(74855),w=a(66338),M=a(25011),k=a(4651),x=a(7749),j=a(12812);const F="Reserving new base DNS domain...",G=({label:e,input:t,meta:a})=>{const[l,r]=n().useState(!1),[s,o]=n().useState(""),i=(0,w.useDispatch)();n().useEffect((()=>{i(M.r.getAvailableSharedVpcDnsDomains()),i(M.r.clearLastCreatedBaseDnsDomain())}),[i]);const u=(0,k.useGlobalState)((e=>e.dnsDomains)),{pending:d,isUpdatingDomains:c,createdDnsId:p,deletedDnsId:m,items:f=[]}=u,E=d||c;n().useEffect((()=>{!c&&p&&t.value!==p&&(t.onChange(p),i(M.r.clearLastCreatedBaseDnsDomain()))}),[c,p,t.value,i]),n().useEffect((()=>{t.value===m&&t.onChange("")}),[m]);const g=f.map((e=>n().createElement(A.$,{key:e.id,value:e.id,isDisabled:E},e.id)));return c&&g.unshift(n().createElement(A.$,{key:"loader",value:s,isPlaceholder:!0},n().createElement("div",{className:"shared-vpc-loading-content"},s," ",n().createElement(C.$,{size:"md"})))),n().createElement(y.c,{label:e,isRequired:!0,className:"shared-vpc-domain-select"},n().createElement(O.k,null,n().createElement(I.B,{flex:{default:"flex_1"},className:"pf-v5-u-m-0"},n().createElement(P.P,{isOpen:l,selections:t.value||(c?s:"Select base DNS domain"),onToggle:(e,t)=>(e=>{E||r(e)})(t),onSelect:(e,a)=>{E||(r(!1),t.onChange(a))},onFilter:(e,t)=>""===t?g:g.filter((e=>e.props.value.includes(t))),maxHeight:250,hasInlineFilter:g.length>1,inlineFilterPlaceholderText:"Filter by domain name",isDisabled:E,validated:t.value?"success":void 0,footer:n().createElement(R.zx,{isInline:!0,variant:"link",className:"pf-v5-u-py-sm",onClick:()=>{t.onChange(""),r(!1),o(F),i(M.r.createNewBaseDnsDomain())},isDisabled:E},"Reserve new base DNS domain")},g)),n().createElement(I.B,{grow:{default:void 0},className:"dns-domain-action-icon"},n().createElement(L.CopyToClipboard,{text:t.value||""},n().createElement(R.zx,{variant:"link",type:"button",tabIndex:0,isAriaDisabled:!t.value,icon:n().createElement(D.CopyIcon,null)})),n().createElement(T.u,{content:"Clicking the icon will permanently delete the selected Base DNS domain"},n().createElement(R.zx,{variant:"tertiary",type:"button",tabIndex:0,isAriaDisabled:!t.value,onClick:()=>{const e=t.value;o("Deleting a base DNS domain..."),i(M.r.deleteBaseDnsDomain(e))},icon:n().createElement(N.XH,null)},"Delete")))),!c&&!p&&u.error&&n().createElement(x.default,{message:`Error ${s===F?"creating":"deleting"} the DNS domain`,response:u,showCloseBtn:!0,onCloseAlert:()=>{i(M.r.clearLastCreatedBaseDnsDomain())}}),n().createElement(j.FormGroupHelperText,{touched:a.touched,error:a.error}))};var U=a(94989);function V({domainName:e}){return n().createElement(g.D,null,n().createElement(s.x,{component:s.q.small,className:"pf-v5-u-color-100"},"Enter the private hosted zone ID that's linked to the AWS owner account you want to use. The private hosted zone must have been created with",n().createElement("strong",{className:"pf-v5-u-font-size-md"}," ",e," "),"as the domain name.",n().createElement(m.default,{href:f.default.AWS_CONSOLE_HOSTED_ZONES}," AWS console")))}const H=({hostedZoneDomainName:e})=>{const{setFieldValue:t,setFieldTouched:a,getFieldProps:l,getFieldMeta:r}=(0,u.c)(),o=`${U.FieldId.SharedVpc}.base_dns_domain`,d=`${U.FieldId.SharedVpc}.hosted_zone_id`,c=`${U.FieldId.SharedVpc}.hosted_zone_role_arn`;return n().createElement(h.r,null,n().createElement(v.P,{span:10},n().createElement(b.default,{wide:!0},n().createElement(_.default,{simple:!0},n().createElement(g.D,{className:"pf-v5-u-pb-md"},n().createElement(s.x,{component:s.q.p},"Select an existing base DNS domain or reserve a new base DNS domain.")),n().createElement(i.Field,{label:"Base DNS domain",name:o,validate:S.required,component:G,isRequired:!0,input:Object.assign(Object.assign({},l(o)),{onChange:e=>t(o,e)}),meta:r(o)})),n().createElement(_.default,{simple:!0},n().createElement(g.D,{className:"pf-v5-u-pb-md"},n().createElement(s.x,{component:s.q.p},"Associate your DNS domain with a private hosted zone.")),n().createElement(i.Field,{label:"Private hosted zone ID",name:d,component:p.ReduxVerticalFormGroup,validate:S.validatePrivateHostedZoneId,showHelpTextOnError:!1,helpText:n().createElement(V,{domainName:e}),isRequired:!0,input:Object.assign(Object.assign({},l(d)),{onChange:(e,l)=>{a(d),t(d,l)}}),meta:r(d)})),n().createElement(_.default,{simple:!0},n().createElement(g.D,{className:"pf-v5-u-pb-md"},n().createElement(s.x,{component:s.q.p},"Provide the role ARN for the existing VPC.")),n().createElement(i.Field,{label:"Shared VPC role",name:c,component:p.ReduxVerticalFormGroup,validate:S.validateRoleARN,isRequired:!0,input:Object.assign(Object.assign({},l(c)),{onChange:(e,l)=>{a(c),t(c,l)}}),meta:r(c)})))))},z=({hostedZoneDomainName:e,isSelected:t,openshiftVersion:a})=>{const{getFieldProps:l,getFieldMeta:g}=(0,u.c)(),h=(0,d.getIncompatibleVersionReason)(c.SupportedFeature.AWS_SHARED_VPC,a,{day1:!0});return h?n().createElement(n().Fragment,null,n().createElement(r.D,{headingLevel:"h3",className:"pf-v5-u-mt-lg"},"AWS shared VPC"),n().createElement(s.x,null,h)):n().createElement(n().Fragment,null,n().createElement(r.D,{headingLevel:"h3"},"AWS shared VPC"),!(0,E.isRestrictedEnv)()&&n().createElement(i.Field,{component:p.ReduxCheckbox,name:"shared_vpc.is_selected",label:"Install into AWS shared VPC",extendedHelpText:n().createElement(n().Fragment,null,"Install into a non-default subnet shared by another account in your AWS organization.",n().createElement("br",null),n().createElement(m.default,{href:f.default.AWS_SHARED_VPC},"Learn more about AWS shared VPC")),input:l("shared_vpc.is_selected"),meta:g("shared_vpc.is_selected")}),t&&n().createElement("section",{className:"shared-vpc-instructions"},n().createElement(o.b,{className:"pf-v5-u-mb-md",variant:"info",isInline:!0,title:n().createElement(n().Fragment,null,"NOTE: To continue, you'll need to fill out all of the information. Some of the information, such as Private Hosted Zone ID and Shared VPC Role ARN, must be provided by the VPC owner of the AWS account you want to use. If you aren't the VPC owner, reach out to them now.")},n().createElement(m.default,{href:f.default.ROSA_SHARED_VPC},"View instructions on configuring shared VPC for ROSA clusters")),n().createElement(H,{hostedZoneDomainName:e})))}},1481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ROSAWizardContext:()=>l});const l=(0,a(28416).createContext)({forceLeaveWizard:void 0,setForceLeaveWizard:e=>{}})},4435:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var l=a(28416),n=a.n(l),r=a(83559),s=a(97655),o=a(94513),i=a(64636),u=a(96106),d=a(46786),c=a(59539),p=a(85547),m=a(90181),f=a(38352),E=a(42820),g=a(22427),h=a(18955),v=a(91885),b=a(94989);const _=({input:{onChange:e,value:t},label:a,selectedVPC:l})=>n().createElement(E.Z,{label:a,selectedVPC:l,selectedGroupIds:t,isReadOnly:!1,onChange:e}),S=({openshiftVersion:e,selectedVPC:t})=>{const{setFieldValue:a,getFieldProps:E,getFieldMeta:S,values:{[b.FieldId.SecurityGroups]:C}}=(0,h.c)(),y=`${b.FieldId.SecurityGroups}.applyControlPlaneToAll`,O=`${b.FieldId.SecurityGroups}.controlPlane`,I=`${b.FieldId.SecurityGroups}.infra`,R=`${b.FieldId.SecurityGroups}.worker`,T=(0,u.useFeatureGate)(f.SECURITY_GROUPS_FEATURE_DAY1),A=C.applyControlPlaneToAll?C.controlPlane:C.controlPlane.concat(C.infra).concat(C.worker),[P,D]=(0,l.useState)(A.length>0);if(!T||!t.id)return null;const N=(0,p.getIncompatibleVersionReason)(d.SupportedFeature.SECURITY_GROUPS,e,{day1:!0}),L=!N&&0===(t.aws_security_groups||[]).length;return n().createElement(r.L,{toggleText:"Additional security groups",isExpanded:P,onToggle:()=>{D(!P)}},N&&n().createElement("div",null,N),L&&n().createElement(g.Z,null),!N&&!L&&n().createElement(n().Fragment,null,n().createElement(s.b,{variant:"info",isInline:!0,title:"You cannot add or edit security groups to the machine pools created by default after you create the cluster.",actionLinks:n().createElement(n().Fragment,null,n().createElement(o.Q,{component:"a",href:v.default.ROSA_SECURITY_GROUPS,target:"_blank"},"View more information"),n().createElement(o.Q,{component:"a",href:v.default.AWS_CONSOLE_SECURITY_GROUPS,target:"_blank"},"AWS security groups console"))}),n().createElement("br",null),n().createElement(i.Field,{component:c.default,name:y,label:"Apply the same security groups to all node types (control plane, infrastructure, worker)",input:Object.assign(Object.assign({},E(y)),{onChange:(e,t)=>a(y,t)}),meta:S(y)}),n().createElement(i.Field,{component:_,name:O,label:C.applyControlPlaneToAll?"":"Control plane nodes",selectedVPC:t,validate:m.validateSecurityGroups,input:Object.assign(Object.assign({},E(O)),{onChange:e=>a(O,e)}),meta:S(O)}),!C.applyControlPlaneToAll&&n().createElement(n().Fragment,null,n().createElement(i.Field,{component:_,name:I,label:"Infrastructure nodes",selectedVPC:t,validate:m.validateSecurityGroups,input:Object.assign(Object.assign({},E(I)),{onChange:e=>a(I,e)}),meta:S(I)}),n().createElement(i.Field,{component:_,name:R,label:"Worker nodes",selectedVPC:t,validate:m.validateSecurityGroups,input:Object.assign(Object.assign({},E(R)),{onChange:e=>a(R,e)}),meta:S(R)}))))}},94989:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FieldId:()=>o,RosaFieldId:()=>l,StepId:()=>u,StepName:()=>i,initialTouched:()=>c,initialValues:()=>d,testCIDRInitialValues:()=>p});var l,n=a(28047),r=a(70946),s=a(95591);!function(e){e.Hypershift="hypershift",e.AssociatedAwsId="associated_aws_id",e.BillingAccountId="billing_account_id",e.SupportRoleArn="support_role_arn",e.WorkerRoleArn="worker_role_arn",e.ControlPlaneRoleArn="control_plane_role_arn",e.RosaMaxOsVersion="rosa_max_os_version",e.UsePrivatelink="use_privatelink",e.SharedVpc="shared_vpc",e.DetectedOcmAndUserRoles="detected_ocm_and_user_roles",e.EtcdKeyArn="etcd_key_arn",e.CloudProviderId="cloud_provider",e.Imds="imds",e.ClusterPrivacy="cluster_privacy",e.ClusterPrivacyPublicSubnetId="cluster_privacy_public_subnet_id",e.WorkerVolumeSizeGib="worker_volume_size_gib"}(l||(l={}));const o=Object.assign(Object.assign({},n.FieldId),l);var i,u;!function(e){e.AccountsAndRoles="Accounts and roles",e.ClusterSettings="Cluster settings",e.Details="Details",e.MachinePool="Machine pool",e.Networking="Networking",e.Configuration="Configuration",e.VpcSettings="VPC settings",e.ClusterProxy="Cluster-wide proxy",e.CidrRanges="CIDR ranges",e.ClusterRolesAndPolicies="Cluster roles and policies",e.ClusterUpdates="Cluster updates",e.Review="Review and create"}(i||(i={})),function(e){e.AccountsAndRoles="accounts-and-roles",e.ClusterSettings="cluster-settings",e.ClusterSettingsDetails="cluster-settings-details",e.ClusterSettingsMachinePool="cluster-settings-machine-pool",e.Networking="networking",e.NetworkingConfiguration="networking-config",e.NetworkingVpcSettings="networking-vpc-settings",e.NetworkingClusterProxy="networking-cluster-proxy",e.NetworkingCidrRanges="networking-cidr-ranges",e.ClusterRolesAndPolicies="cluster-roles-and-policies",e.ClusterUpdates="cluster-updates",e.Review="review"}(u||(u={}));const d={[o.Hypershift]:"true",[o.MultiAz]:"false",[o.CustomerManagedKey]:"false",[o.KmsKeyArn]:"",[o.EtcdEncryption]:!1,[o.EtcdKeyArn]:"",[o.FipsCryptography]:!1,[o.CidrDefaultValuesToggle]:!0,[o.NetworkMachineCidr]:r.MACHINE_CIDR_DEFAULT,[o.NetworkServiceCidr]:r.SERVICE_CIDR_DEFAULT,[o.NetworkPodCidr]:r.POD_CIDR_DEFAULT,[o.NetworkHostPrefix]:r.HOST_PREFIX_DEFAULT,[o.MachinePoolsSubnets]:[(0,s.emptyAWSSubnet)()]},c={[o.Hypershift]:!0},p={hypershift:"false",install_to_vpc:!1,shared_vpc:{is_allowed:!0,is_selected:!1,base_dns_domain:"",hosted_zone_id:"",hosted_zone_role_arn:""},configure_proxy:!1,machinePoolsSubnets:[{availabilityZone:"",privateSubnetId:"",publicSubnetId:""}],cloud_provider:"aws",product:"ROSA",byoc:"true",associated_aws_id:"269733383066",installer_role_arn:"arn:aws:iam::269733383066:role/ManagedOpenShift-Installer-Role",support_role_arn:"arn:aws:iam::269733383066:role/ManagedOpenShift-Support-Role",worker_role_arn:"arn:aws:iam::269733383066:role/ManagedOpenShift-Worker-Role",control_plane_role_arn:"arn:aws:iam::269733383066:role/ManagedOpenShift-ControlPlane-Role",rosa_max_os_version:"4.14",node_drain_grace_period:60,upgrade_policy:"manual",automatic_upgrade_schedule:"0 0 * * 0",multi_az:"false",persistent_storage:"107374182400",load_balancers:"0",nodes_compute:2,node_labels:[{}],name:"re-test",dns_base_domain:"",aws_access_key_id:"",aws_secret_access_key:"",network_configuration_toggle:"basic",cluster_privacy:"external",use_privatelink:!1,disable_scp_checks:!1,billing_model:"standard",cluster_autoscaling:{balance_similar_node_groups:!1,balancing_ignored_labels:"",skip_nodes_with_local_storage:!0,log_verbosity:1,ignore_daemonsets_utilization:!1,max_node_provision_time:"15m",max_pod_grace_period:600,pod_priority_threshold:-10,resource_limits:{max_nodes_total:180,cores:{min:0,max:11520},memory:{min:0,max:230400},gpus:""},scale_down:{enabled:!0,delay_after_add:"10m",delay_after_delete:"0s",delay_after_failure:"3m",utilization_threshold:"0.5",unneeded_time:"10m"}},imds:"optional",etcd_encryption:!1,fips:!1,applicationIngress:"default",defaultRouterSelectors:"",defaultRouterExcludedNamespacesFlag:"",isDefaultRouterWildcardPolicyAllowed:!1,isDefaultRouterNamespaceOwnershipPolicyStrict:!0,selected_vpc:{id:"",name:""},securityGroups:{applyControlPlaneToAll:!0,controlPlane:[],infra:[],worker:[]},enable_user_workload_monitoring:"true",worker_volume_size_gib:300,region:"us-east-1",customer_managed_key:"false",cluster_version:{kind:"Version",id:"openshift-v4.14.12",href:"/api/clusters_mgmt/v1/versions/openshift-v4.14.12",raw_id:"4.14.12",enabled:!0,default:!0,channel_group:"stable",rosa_enabled:!0,hosted_control_plane_enabled:!0,hosted_control_plane_default:!0,gcp_marketplace_enabled:!0,end_of_life_timestamp:"2025-02-28T00:00:00Z",image_overrides:{aws:[{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"sa-east-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/sa-east-1"},ami:"ami-0ea74c113800ca0d2"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"eu-central-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/eu-central-1"},ami:"ami-06e39a701e2b23dd5"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"us-west-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/us-west-1"},ami:"ami-04eda993afcf68041"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"me-south-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/me-south-1"},ami:"ami-02d91107af59d29a2"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"ap-northeast-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/ap-northeast-1"},ami:"ami-0ec5f732a717b9d7e"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"ap-east-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/ap-east-1"},ami:"ami-0cac00e174222f885"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"ap-southeast-3",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/ap-southeast-3"},ami:"ami-05ebb895e2d189a92"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"us-west-2",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/us-west-2"},ami:"ami-0ca469d02b829bed2"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"ap-northeast-3",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/ap-northeast-3"},ami:"ami-087bfb06897e9e17e"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"ap-northeast-2",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/ap-northeast-2"},ami:"ami-0144a4f381fc1606c"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"ap-south-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/ap-south-1"},ami:"ami-01347c0f82aa8ccea"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"ca-central-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/ca-central-1"},ami:"ami-03e3d037fa56ba391"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"ap-southeast-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/ap-southeast-1"},ami:"ami-053bbe72294a548d1"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"ap-southeast-4",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/ap-southeast-4"},ami:"ami-0edf2b052abc2af7d"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"us-east-2",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/us-east-2"},ami:"ami-04737283ac19b8635"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"us-gov-west-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/us-gov-west-1"},ami:"ami-0ffc34293b8b3b5ad"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"ap-south-2",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/ap-south-2"},ami:"ami-0b13f44eee5d62cba"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"eu-south-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/eu-south-1"},ami:"ami-037df250c060f1a85"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"eu-central-2",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/eu-central-2"},ami:"ami-04c6ff1edabf3f212"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"eu-west-2",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/eu-west-2"},ami:"ami-05c3f2ad7963594f3"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"eu-west-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/eu-west-1"},ami:"ami-0eba9f75078b5554a"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"ap-southeast-2",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/ap-southeast-2"},ami:"ami-0348c3bd1f92719ae"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"eu-south-2",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/eu-south-2"},ami:"ami-0f3ad9b25036a95dc"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"me-central-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/me-central-1"},ami:"ami-08984cd1e1423187e"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"us-east-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/us-east-1"},ami:"ami-06f3dda44132a8cc9"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"us-gov-east-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/us-gov-east-1"},ami:"ami-0e037be3a87e73ae0"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"af-south-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/af-south-1"},ami:"ami-0d401016e8a21cecb"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"eu-north-1",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/eu-north-1"},ami:"ami-0fb33a85b51cb99ef"},{product:{kind:"ProductLink",id:"rosa",href:"/api/clusters_mgmt/v1/products/rosa"},region:{kind:"CloudRegionLink",id:"eu-west-3",href:"/api/clusters_mgmt/v1/cloud_providers/aws/regions/eu-west-3"},ami:"ami-05967a4e65a8356d9"}],gcp:[{product:{kind:"ProductLink",id:"osd",href:"/api/clusters_mgmt/v1/products/osd"},billing_model:{kind:"BillingModel",id:"marketplace-gcp",href:"/api/accounts_mgmt/v1/billing_models/marketplace-gcp"},image_id:"redhat-coreos-osd-414-x86-64-202310170514",project_id:"redhat-marketplace-dev"}]},release_image:"quay.io/openshift-release-dev/ocp-release@sha256:671bc35e8fc2027d6f4c2c756d19909d83d55d1c591e8f9ea790ec8da744d171"},custom_operator_roles_prefix:"re-test-gl0m",machine_type:"m5.xlarge",cidr_default_values_toggle:!0,network_machine_cidr:r.MACHINE_CIDR_DEFAULT,network_service_cidr:r.SERVICE_CIDR_DEFAULT,network_pod_cidr:r.POD_CIDR_DEFAULT,network_host_prefix:r.HOST_PREFIX_DEFAULT}},12595:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE:()=>o,CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE:()=>i,CLEAR_GET_OCM_ROLE_RESPONSE:()=>u,CLEAR_GET_USER_ROLE_RESPONSE:()=>d,GET_AWS_ACCOUNT_ROLES_ARNS:()=>n,GET_AWS_BILLING_ACCOUNTS:()=>f,GET_OCM_ROLE:()=>r,GET_USER_ROLE:()=>s,LIST_ASSOCIATED_AWS_IDS:()=>l,LIST_USER_OIDC_CONFIGURATIONS:()=>p,MIN_MANAGED_POLICY_VERSION:()=>m,ROSA_HOSTED_CLI_MIN_VERSION:()=>E,SET_OFFLINE_TOKEN:()=>c});const l="LIST_ASSOCIATED_AWS_IDS",n="GET_AWS_ACCOUNT_ROLES_ARNS",r="GET_OCM_ROLE",s="GET_USER_ROLE",o="CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE",i="CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE",u="CLEAR_GET_OCM_ROLE_RESPONSE",d="CLEAR_GET_USER_ROLE_RESPONSE",c="SET_OFFLINE_TOKEN",p="LIST_USER_OIDC_CONFIGURATIONS",m="4.11.4",f="GET_AWS_BILLING_ACCOUNTS",E="1.2.31"},30921:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(28416),n=a.n(l);const r=({children:e})=>n().createElement("div",{style:{textAlign:"right"}},n().createElement("span",{style:{display:"inline-block"}},e))},2101:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(28416),n=a.n(l),r=a(64029),s=a(32835),o=a(87558);const i=({path:e})=>n().createElement(r.a,null,e.map(((t,a)=>{const l=t.label;if(a<e.length-1){const e=t.path;return n().createElement(s.g,{key:l,render:({className:t,ariaCurrent:a})=>n().createElement(o.Link,{to:`${e||"/"}`,className:t,"aria-current":a},l)})}return n().createElement(s.g,{key:l,isActive:!0},l)})))},26746:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(28416),n=a.n(l),r=a(12952),s=a(47173);const o=e=>{var{disableReason:t,isAriaDisabled:a,tooltipProps:l={}}=e,o=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["disableReason","isAriaDisabled","tooltipProps"]);return t?n().createElement(r.u,Object.assign({},l,{content:t}),n().createElement(s.zx,Object.assign({isAriaDisabled:!0},o))):n().createElement(s.zx,Object.assign({isAriaDisabled:a},o))}},8980:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(28416),n=a.n(l),r=a(12952),s=a(47173),o=a(74855);const i=({text:e,className:t,children:a,isDisabled:l})=>{const[i,u]=n().useState(!1),d=n().useRef(),c=n().useCallback((()=>{d.current&&window.clearTimeout(d.current),u(!0),d.current=window.setTimeout((()=>{u(!1),d.current=void 0}),2500)}),[]);return n().createElement(r.u,{trigger:"mouseenter focus click",entryDelay:100,exitDelay:500,content:n().createElement("div",null,i?"Successfuly copied to clipboard!":"Copy to clipboard")},n().createElement(o.CopyToClipboard,{text:e,onCopy:c},n().createElement(s.zx,{className:t,variant:"link",isAriaDisabled:l},a)))}},74556:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var l=a(28416),n=a.n(l),r=a(22608),s=a(97655),o=a(68774),i=a(68340),u=a(47173),d=a(59775),c=a(90784),p=a(12812),m=a(7749);class f extends n().Component{constructor(){super(...arguments),this.loadIfNeeded=()=>{const{hasDependencies:e,matchesDependencies:t,requestStatus:a,loadData:l}=this.props;!e||t||a.pending||l()},this.currentValueIrrelevant=()=>{const{hasDependencies:e,matchesDependencies:t,requestStatus:a,items:l,input:n}=this.props;return!(!n.value||e&&(!t||!a.fulfilled||l.includes(n.value)))}}componentDidMount(){if(this.loadIfNeeded(),this.currentValueIrrelevant()){const{input:e}=this.props;e.onChange("")}}componentDidUpdate(){if(this.loadIfNeeded(),this.currentValueIrrelevant()){const{input:e}=this.props;e.onChange("")}}render(){const{loadData:e,requestStatus:t,items:a,matchesDependencies:l,meta:f,input:E,isRequired:g,label:h,labelIcon:v,helperText:b,placeholder:_,emptyAlertTitle:S,emptyAlertBody:C,refreshButtonText:y,noDependenciesPlaceholder:O,requestErrorTitle:I}=this.props,R=l&&t.fulfilled;let T=null,A=null;R?a.length>0?A=n().createElement(n().Fragment,null,n().createElement(r.j,{isDisabled:!0,isPlaceholder:!0,value:"",label:_}),a.map((e=>n().createElement(r.j,{key:e,value:e,label:e})))):(T=n().createElement(s.b,{isInline:!0,variant:"danger",title:S,role:"alert"},n().createElement(o.D,null,C,y&&n().createElement(i.x,null,n().createElement(u.zx,{variant:"secondary",onClick:e},y)))),A=n().createElement(r.j,{isDisabled:!0,isPlaceholder:!0,value:"",label:""})):t.pending?A=n().createElement(r.j,{isDisabled:!0,value:"",label:"Loading..."}):l&&t.error?(T=n().createElement(m.default,{message:I,response:t}),A=n().createElement(r.j,{isDisabled:!0,isPlaceholder:!0,value:"",label:""})):A=n().createElement(r.j,{isDisabled:!0,value:"",label:O||""});const P=this.currentValueIrrelevant()?"":E.value,{onChange:D}=E,N=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(E,["onChange"]);return n().createElement(d.c,{label:h,labelIcon:v,fieldId:E.name,isRequired:g},T,n().createElement(c.i,Object.assign({"aria-label":h,isDisabled:!(R&&a.length>0),validated:f.touched&&f.error?"error":"default"},N,{onChange:(e,t)=>D(t),value:P}),A),n().createElement(p.FormGroupHelperText,{touched:f.touched,error:f.error},b))}}const E=f},7749:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(28416),n=a.n(l),r=a(56715),s=a(97655),o=a(83559),i=a(34693);const u=({message:e,variant:t="danger",response:a,children:l,isExpandable:u,showCloseBtn:d=!1,onCloseAlert:c})=>{const p=(0,i.formatErrorDetails)(a.errorDetails),m=n().createElement(n().Fragment,null,a.errorMessage&&n().createElement("span",null,a.errorMessage),p,n().createElement("br",null),n().createElement("span",null,`Operation ID: ${a.operationID||"N/A"}`)),f={actionClose:n().createElement(r.g,{onClose:c})};return n().createElement(s.b,Object.assign({variant:t,isInline:!0,title:e,role:"danger"===t?"alert":void 0,className:"error-box","data-testid":"alert-error"},d&&f),l&&n().createElement(n().Fragment,null,l,n().createElement("br",null)),u||l?n().createElement(o.L,{toggleText:l?"More details":"Error details"},m):m)}},90197:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(66338),n=a(7046),r=a(28416),s=a.n(r),o=a(85583),i=a(43047),u=a(12990),d=a(34693),c=a(25967);const p=(0,l.connect)(null,(e=>({closeModal:()=>{e((0,n.closeModal)())}})))((({title:e,errorResponse:t,resetResponse:a,closeModal:l})=>{const n=s().useCallback((()=>{a(),l()}),[a,l]),r=(0,d.formatErrorDetails)(t.errorDetails);return s().createElement(c.default,{header:s().createElement(o.D,{headingLevel:"h2",size:"2xl"},s().createElement(i.ExclamationCircleIcon,{color:u.global_danger_color_100.value})," ",e),primaryText:"Close",onPrimaryClick:n,onClose:n,showClose:!1,showSecondary:!1,"aria-label":e},s().createElement("p",null,t.errorMessage),r&&s().createElement("p",null,r),s().createElement("p",null,`Operation ID: ${t.operationID||"N/A"}`))}))},42517:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(28416),n=a.n(l),r=a(47173),s=a(8590),o=a(15265),i=a(70355),u=a(69740);const d=({href:e,children:t,noIcon:a,noTarget:l,className:d,stopClickPropagation:c,isButton:p,variant:m=r.Wu.secondary,customTrackProperties:f={},"data-testid":E})=>{const g=(0,u.default)(),h=()=>{const t=window.location.pathname;let a;a=t.includes("/rosa")?"moa":t.includes("/osdtrial")?"osdtrial":t.includes("/osd")?"osd":t.includes("/crc")?"crc":"all",g(i.trackEvents.ExternalLink,{customProperties:Object.assign({link_url:e,module:"openshift",ocm_resource_type:a},f)})},v={href:e,target:l?"":"_blank",rel:"noreferrer noopener",className:d,onClick:e=>{c?(h(),e.stopPropagation()):h()},"data-testid":E},b=n().createElement(n().Fragment,null,t,l?null:n().createElement("span",{className:"pf-v5-u-screen-reader"}," (new window or tab)"),!a&&n().createElement(s.J,{size:"md",className:"external-link-alt-icon"},n().createElement(o.ExternalLinkAltIcon,{color:"#0066cc","data-testid":"openInNewWindowIcon"})));return p?n().createElement(r.zx,Object.assign({component:"a"},v,{variant:m}),b):n().createElement("a",Object.assign({},v),b)}},19822:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var l=a(28416),n=a.n(l),r=a(49739),s=a(83826),o=a(1321);const i=e=>{var{meta:t,input:a}=e,l=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["meta","input"]);const i=e=>{let t=a.value;const{min:n,max:r}=l;e?t<n?t=n:t+=1:t>r?t=r:t-=1,a.onChange(t)};return n().createElement(r.K,null,n().createElement(s.v,null,n().createElement(o.Y,Object.assign({},l,{validated:t.error?"error":"default",value:a.value,onChange:e=>{a.onChange(e.currentTarget.value)},onPlus:()=>i(!0),onMinus:()=>i(!1)}))),t.error&&n().createElement(s.v,{className:"pf-v5-u-danger-color-100 pf-v5-u-font-size-sm"},t.error))}},12812:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FormGroupHelperText:()=>u});var l=a(28416),n=a.n(l),r=a(36621),s=a(65673),o=a(87828),i=a(43047);const u=({children:e,id:t,error:a,touched:u,variant:d="default",icon:c,hasIcon:p=void 0!==c})=>{const m=n().useMemo((()=>"string"==typeof e?n().createElement(r.p,{id:t},n().createElement(s.u,{icon:c,variant:d,hasIcon:p},e)):n().createElement(r.p,null,e)),[e,t,c,d,p]);if(!a&&!e)return null;const f="string"==typeof a||(0,l.isValidElement)(a);return n().createElement(o.Q,null,u&&a&&f?n().createElement(r.p,{id:t},n().createElement(s.u,{variant:"error",icon:n().createElement(i.default,null),hasIcon:p},a)):m)}},28369:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var l=a(28416),n=a.n(l),r=a(50693),s=a(16475),o=a(47173),i=a(71415),u=a(88993),d=a(64636),c=a(18955),p=a(69429),m=a(90181),f=a(94989),E=a(26746),g=a(92607);const h=({input:e,meta:{touched:t,error:a}})=>n().createElement(n().Fragment,null,n().createElement(g.oi,{"aria-label":"Key-value list key",validated:t&&a?"error":"default",onChange:(t,a)=>e.onChange(a),value:e.value}),t&&a&&n().createElement("span",{className:"pf-v5-c-form__helper-text pf-m-error"},a)),v=({input:e,meta:{touched:t,error:a}})=>n().createElement(n().Fragment,null,n().createElement(g.oi,{"aria-label":"Key-value list value",validated:t&&a?"error":"default",onChange:(t,a)=>e.onChange(a),value:e.value}),t&&a&&n().createElement("span",{className:"pf-v5-c-form__helper-text pf-m-error"},a)),b=({push:e,remove:t})=>{const{values:{[f.FieldId.NodeLabels]:a},setFieldValue:g,setFieldTouched:b,getFieldProps:_,getFieldMeta:S}=(0,c.c)();return(0,l.useEffect)((()=>{(null==a?void 0:a.length)||g(f.FieldId.NodeLabels,[{}])}),[a,g]),n().createElement(r.r,{hasGutter:!0},n().createElement(s.P,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Key"),n().createElement(s.P,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Value"),n().createElement(s.P,{span:4}),null==a?void 0:a.map(((e,l)=>{const r=0===l&&1===a.length,u=`${f.FieldId.NodeLabels}[${l}].key`,c=`${f.FieldId.NodeLabels}[${l}].value`;return n().createElement(n().Fragment,{key:`${a.indexOf(l).key}_${l}`},n().createElement(s.P,{span:4},n().createElement(d.Field,{name:u,type:"text",component:h,index:l,validate:e=>{const t=[...a];return t[l]=Object.assign(Object.assign({},t[l]),{key:e}),(0,m.validateLabelKey)(e,{node_labels:t},void 0,u)},input:Object.assign(Object.assign({},_(u)),{onChange:e=>{g(u,e,!0),b(u,!0,!1)}}),meta:S(u)})),n().createElement(s.P,{span:4},n().createElement(d.Field,{name:c,type:"text",component:v,index:l,validate:e=>{const t=[...a];return t[l]=Object.assign(Object.assign({},t[l]),{value:e}),(0,m.validateLabelValue)(e,{node_labels:t},void 0,u)},input:Object.assign(Object.assign({},_(c)),{onChange:e=>{g(c,e,!0),b(c,!0,!1)}}),meta:S(c)})),n().createElement(s.P,{span:4},n().createElement(o.zx,{onClick:()=>t(l),icon:n().createElement(i.MinusCircleIcon,null),variant:"link",isDisabled:r,"aria-label":"Remove item",className:r?"formKeyValueList-removeBtn-disabled":"formKeyValueList-removeBtn"})))})),n().createElement(s.P,null,n().createElement(E.default,{onClick:()=>e({}),icon:n().createElement(u.PlusCircleIcon,null),variant:"link",isInline:!0,className:"formKeyValueList-addBtn",disableReason:(C=a,(!C||C.some((e=>!e.key)))&&p.nodeKeyValueTooltipText)},"Add additional label")));var C}},83384:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var l=a(28416),n=a.n(l),r=a(42800),s=a(27730),o=a(73947),i=a(87749),u=a(65619),d=a(69386);const c=(e,t)=>{let a="";const l=e.length,n=t.length,r=new Array(l);let s=0,o=0,i=0,u=0;for(;i<l;){const e=new Array(n);for(u=0;u<n;)e[u]=0,u+=1;r[i]=e,i+=1}let d=null;for(i=0;i<l;){for(u=0;u<n;)e[i]!==t[u]||" "===e[i]&&" "===t[u]?r[i][u]=0:(r[i][u]=0===i||0===u?1:1+r[i-1][u-1],r[i][u]>s&&(s=r[i][u],d=i-r[i][u]+1,o===d?a+=e[i]:(o=d,a=e.substring(o,i+1)))),u+=1;i+=1}return a},p=(e,t)=>{let a,l=e,n=t,r=[];do{let e;a=[];let t=c(l,n);if(t.length>0){const{length:s}=t;t=t.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");const o=new RegExp(t,"g");do{e=o.exec(l),e&&a.push(e)}while(null!==e);a.length&&(r=[...r,...a.map((e=>{const t=e.index;return{beg:t,end:t+e[0].length-1}}))],l=l.replace(o,(()=>" ".repeat(s))),n=n.replace(o,(()=>" ".repeat(s))))}}while(n.length&&a.length);return r.sort((({beg:e},{beg:t})=>e-t)),r};var m=a(69429);const f=(e,t)=>e.label.localeCompare(t.label),E=(e,t)=>n().createElement(s.$,{className:"pf-v5-c-dropdown__menu-item pf-v5-u-text-wrap",key:e.entryId,value:e.entryId,description:e.description,isDisabled:e.disabled},t),g=({entry:e,filterText:t})=>n().createElement(n().Fragment,null,((e,t)=>{const a=p(e,t),l=[];let n=0;return a.forEach((({beg:t,end:a})=>{l.push({text:e.slice(n,t),isBold:!1}),l.push({text:e.slice(t,a+1),isBold:!0}),n=a+1})),n<e.length&&l.push({text:e.slice(n),isBold:!1}),l})(e.label,t).map(((e,t)=>n().createElement("span",{key:`slice-${t}`,className:e.isBold?"pf-u-font-weight-bold":""},e.text)))),h=function(e){const{fuzziness:t,selectedEntryId:a="",sortFn:c=f,filterValidate:p,truncation:h,selectionData:v,isOpen:b,toggleId:_}=e,S=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["fuzziness","selectedEntryId","sortFn","filterValidate","truncation","selectionData","isOpen","toggleId"]),C=(0,l.useRef)(null),y=(0,l.useRef)(null);(0,l.useEffect)((()=>{var e;if(b){if(y.current){const e=y.current.querySelector(".pf-v5-c-select__menu-search input");e&&(e.onkeydown=e=>{e.key!==r.yu.ArrowLeft&&e.key!==r.yu.ArrowRight||e.stopPropagation()})}}else C.current&&(null===(e=C.current)||void 0===e||e.onClose())}),[b]);const{selectionList:O,isGrouped:I,groupOrder:R}=(0,l.useMemo)((()=>{if(Array.isArray(v))return{selectionList:v,isGrouped:!1,groupOrder:[]};let e=[];Object.entries(v||{}).forEach((([t,a])=>{e=[...e,...a]}));const t=Object.keys(v);return{selectionList:e,isGrouped:!0,groupOrder:t}}),[v]),T=(0,l.useMemo)((()=>Array.isArray(v)?v.sort(c).map((e=>{const t=(0,m.truncateTextWithEllipsis)(e.label,h);return E(e,n().createElement(n().Fragment,null,t))})):Object.entries(v||{}).map((([e,t])=>n().createElement(o.D,{label:e,key:e},t.map((e=>{const t=(0,m.truncateTextWithEllipsis)(e.label,h);return E(e,n().createElement(n().Fragment,null,t))})))))),[v,c,h]),A=(0,l.useCallback)(((e,a)=>{if(""===a)return T;if(p&&(p.pattern.lastIndex=0,!p.pattern.test(a)))return[n().createElement(s.$,{isDisabled:!0,key:0,style:{color:"var(--pf-v5-global--danger-color--100)"},isNoResultsOption:!0},n().createElement("div",null,n().createElement("span",{className:"pf-v5-u-mr-sm"},n().createElement(u.g_,null)),n().createElement("span",null,p.message)))];const l=a.toLowerCase(),r=O.find((({label:e})=>e===l))?0:t||.3,i=new d.Z(O,{ignoreLocation:!0,threshold:r,includeScore:!0,includeMatches:!0,keys:["label","entryId"]}).search(l).sort((({score:e=0,item:t},{score:a=0,item:l})=>e-a||c(t,l))),m=[],f={};let h=!1;return i.forEach((({item:e,matches:t})=>{e&&!e.disabled&&t&&(e.groupId?(h=!0,f[e.groupId]?f[e.groupId].push(e):f[e.groupId]=[e]):m.push(e))})),m.length?m.map((e=>E(e,n().createElement(g,{key:e.entryId,entry:e,filterText:l})))):h?Object.entries(f).sort((([e],[t])=>R.indexOf(e)-R.indexOf(t))).map((([e,t])=>n().createElement(o.D,{label:e,key:e},t.map((e=>E(e,n().createElement(g,{key:e.entryId,entry:e,filterText:l}))))))):[]}),[O,T,h]);return n().createElement("div",{ref:y},n().createElement(i.P,Object.assign({isOpen:b,onFilter:A,selections:a,style:{maxHeight:"300px",overflowY:"auto"},ref:C,hasInlineFilter:!0,isGrouped:I,toggleId:_},S),T))}},50813:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(28416),n=a.n(l),r=a(78140);const s=({children:e,simple:t})=>n().createElement(r.T,{className:t?"ocm-instructions__list-item-simple":"ocm-instructions__list-item"},n().createElement("div",{className:"ocm-instructions__list-item-contents"},e))},59484:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(28416),n=a.n(l),r=a(68340),s=a(30046),o=a(69740);const i=({children:e,textAriaLabel:t,trackEvent:a,className:l,outerClassName:i})=>{const u=(0,o.default)();return n().createElement(r.x,{component:"pre",className:i},n().createElement(s.M5,{isReadOnly:!0,textAriaLabel:t,onCopy:(e,t)=>{a&&u(a),(0,s.lY)(e,t)},className:l},e))}},13908:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(28416),n=a.n(l),r=a(68774),s=a(25834);const o=({children:e,wide:t})=>n().createElement(r.D,{className:"ocm-instructions"},n().createElement(s.G,{component:s.F.ol,className:"ocm-instructions__list "+(t?"pf-v5-u-max-width":"")},e))},12658:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ListTextLabelLinkCard:()=>d});var l=a(28416),n=a.n(l),r=a(32203),s=a(72936),o=a(49345),i=a(79851),u=a(34512);function d(e){const{cardClassName:t,textLabelLinkItems:a}=e;return n().createElement(r.Z,{className:t},n().createElement(s.aV,{isPlain:!0,isBordered:!0},a.length&&a.map((({listItemText:e,listItemLabel:t,listItemLink:l,dataTestId:r},s)=>{let d="pf-v5-u-pt-md pf-v5-u-pr-md pf-v5-u-pb-md pf-v5-u-pl-md";return s===a.length-1&&(d+=" pf-v5-u-pb-lg"),0===s&&(d+=" pf-v5-u-pt-lg"),n().createElement(o.H,{key:e},n().createElement(i.P,{className:d,hasGutter:!0,"data-testid":r},n().createElement(u.J,{style:{width:"60%"}},n().createElement(i.P,null,n().createElement(u.J,null,e),n().createElement(u.J,{isFilled:!0}))),n().createElement(u.J,{style:{width:"40%"}},n().createElement(i.P,null,n().createElement(u.J,{"data-testtag":"label"},t),n().createElement(u.J,{isFilled:!0}),n().createElement(u.J,null,l)))))}))))}},32892:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(66338),n=a(80338),r=a(28416),s=a.n(r);const o=(0,l.connect)(((e,t)=>({isOpen:(0,n.default)(e,t.ModalComponent.modalName)})))((e=>{var{ModalComponent:t,isOpen:a}=e,l=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["ModalComponent","isOpen"]);if(!t.modalName)throw new Error("Modal component missing name");return a?s().createElement(t,Object.assign({},l)):null}))},25967:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(28416),n=a.n(l),r=a(80236),s=a(49739),o=a(83826),i=a(85583),u=a(79851),d=a(34512),c=a(47173),p=a(35564);const m=e=>{var{title:t="",secondaryTitle:a="",onClose:l,showPrimary:m=!0,primaryText:f="Confirm",showSecondary:E=!0,secondaryText:g="Cancel",showTertiary:h,tertiaryText:v,onPrimaryClick:b,onSecondaryClick:_,onTertiaryClick:S,isSmall:C=!0,modalSize:y=r.v.default,isPrimaryDisabled:O,isSecondaryDisabled:I,isPending:R,children:T,primaryVariant:A="primary",primaryLink:P,secondaryLink:D}=e,N=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["title","secondaryTitle","onClose","showPrimary","primaryText","showSecondary","secondaryText","showTertiary","tertiaryText","onPrimaryClick","onSecondaryClick","onTertiaryClick","isSmall","modalSize","isPrimaryDisabled","isSecondaryDisabled","isPending","children","primaryVariant","primaryLink","secondaryLink"]);const L=a?n().createElement(s.K,null,n().createElement(o.v,null,n().createElement(i.D,{headingLevel:"h1"},t)),n().createElement(o.v,{className:"modal-secondary-title"},n().createElement(u.P,null,n().createElement(d.J,null,"Cluster"),n().createElement(d.J,null,a)))):void 0;return n().createElement(r.u,Object.assign({className:R?"pending-modal":void 0,"aria-label":t,variant:C?r.v.small:y,title:t,header:L,isOpen:!0,onClose:l,actions:R?[]:[m&&!P&&n().createElement(c.zx,{key:"confirm",variant:A,onClick:b,type:"submit",isDisabled:O,"data-testid":"btn-primary"},f),m&&P&&n().createElement(c.zx,{key:"confirm",variant:A,component:"a",target:"_blank",href:P,isDisabled:O,"data-testid":"btn-primary"},f),E&&!D&&n().createElement(c.zx,{key:"secondary",variant:"secondary",onClick:_,isDisabled:I,"data-testid":"btn-secondary"},g),E&&D&&n().createElement(c.zx,{key:"secondary",variant:"secondary",component:"a",target:"_blank",href:D,isDisabled:I,"data-testid":"btn-secondary"},g),h&&n().createElement(c.zx,{key:"tertiary",variant:"secondary",onClick:S,"data-testid":"btn-tertiary"},v)]},N),R?n().createElement(p.Z,{centered:!0}):T)}},7046:(e,t,a)=>{"use strict";a.r(t),a.d(t,{closeModal:()=>s,modalActions:()=>o,openModal:()=>r});var l=a(91757),n=a(21439);const r=(e,t)=>(0,l.action)(n.a,{name:e,data:t}),s=()=>(0,l.action)(n.e),o={openModal:r,closeModal:s}},21439:(e,t,a)=>{"use strict";a.d(t,{a:()=>l,e:()=>n});const l="OPEN_MODAL",n="CLOSE_MODAL"},80338:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});const l=(e,t)=>e.modal.modalName===t},76490:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});const l={ARCHIVE_CLUSTER:"archive-cluster",UNARCHIVE_CLUSTER:"unarchive-cluster",SCALE_CLUSTER:"edit-cluster",EDIT_CLUSTER_WIDE_PROXY:"EDIT_CLUSTER_WIDE_PROXY",EDIT_DISPLAY_NAME:"edit-display-name",EDIT_CONSOLE_URL:"edit-console-url",EDIT_CLUSTER_INGRESS:"edit-cluster-ingress",EDIT_MACHINE_POOL:"edit-machine-pool",EDIT_APPLICATION_INGRESS:"edit-application-ingress",EDIT_CLUSTER_AUTOSCALING_V1:"edit-cluster-autoscaling-v1",EDIT_CLUSTER_AUTOSCALING_V2:"edit-cluster-autoscaling-v2",DELETE_CLUSTER:"delete-cluster",UPGRADE_WIZARD:"upgrade-wizard",TRANSFER_CLUSTER_OWNERSHIP:"transfer-cluster-ownership",UPGRADE_TRIAL_CLUSTER:"upgrade-trial-cluster",EDIT_SUBSCRIPTION_SETTINGS:"edit-subscription-settings",HIBERNATE_CLUSTER:"hibernate-cluster",RESUME_CLUSTER:"resume-cluster",DELETE_MACHINE_POOL:"delete-machine-pool",OCM_ROLES:"ocm-roles",UPDATE_MACHINE_POOL_VERSION:"update-machine-pool-version"}},57816:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(28416),n=a.n(l),r=a(79851),s=a(34512),o=a(81925),i=a(39173);const u=({title:e,breadcrumbs:t,children:a})=>n().createElement(o.Z,null,t,n().createElement(r.P,null,n().createElement(s.J,{isFilled:!0},n().createElement(i.Z,{className:"ocm-page-title",title:e}))),a)},68248:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(28416),n=a.n(l),r=a(33942),s=a(47173),o=a(91290),i=a(43047);const u=e=>{var{title:t,hint:a,iconClassName:l,footer:u,bodyContent:d,buttonAriaLabel:c,isError:p}=e,m=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["title","hint","iconClassName","footer","bodyContent","buttonAriaLabel","isError"]);return n().createElement(r.J,Object.assign({headerContent:t,footerContent:u,"aria-label":"help",bodyContent:null!=d?d:a},m),n().createElement(s.zx,{className:"popover-hint-button","aria-label":c||(p?"Error":"More information"),variant:"plain"},n().createElement("span",{className:l},p?n().createElement(i.ExclamationCircleIcon,{className:"danger"}):n().createElement(o.OutlinedQuestionCircleIcon,null))))}},72938:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(28416),n=a.n(l),r=a(68340),s=a(33942),o=a(47173),i=a(43047),u=a(91290);const d=e=>{var{title:t,bodyContent:a,footer:l,isErrorHint:d}=e,c=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["title","bodyContent","footer","isErrorHint"]);return n().createElement("div",{className:"popover-with-title-div"},n().createElement(r.x,{component:r.q.p},n().createElement(s.J,Object.assign({bodyContent:a,footerContent:l,"aria-label":"help"},c),n().createElement(o.zx,{className:"popover-with-title-button","aria-label":`More information on ${t}`,variant:"plain"},n().createElement("span",{className:"popover-with-title-span"},d?n().createElement(o.zx,{isInline:!0,variant:"link"},n().createElement(i.ExclamationCircleIcon,{className:"status-icon danger"}),` ${t}`):n().createElement(n().Fragment,null,n().createElement(u.OutlinedQuestionCircleIcon,null),` ${t}`))))))}},99093:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ProductBanner:()=>g});var l=a(79851),n=a(34512),r=a(62394),s=a(12518),o=a(49739),i=a(83826),u=a(70),d=a(85583),c=a(68340),p=a(49734),m=a(28416),f=a.n(m),E=a(81925);const g=e=>{const{icon:t,learnMoreLink:a,title:m,text:g,iconCardBodyClassName:h,breadcrumbs:v,dataTestId:b}=e;return f().createElement(E.Z,null,v,f().createElement(l.P,{"data-testid":b},f().createElement(n.J,{className:"pf-v5-u-pr-md"},f().createElement(r.e,{className:h},t)),f().createElement(s.i,{orientation:{default:"vertical"}}),f().createElement(n.J,{className:"pf-v5-u-pl-md"},f().createElement(o.K,{hasGutter:!0},f().createElement(i.v,{isFilled:!0},f().createElement(u.l,null,f().createElement(d.D,{headingLevel:"h1"},m))),f().createElement(i.v,{isFilled:!0},f().createElement(r.e,null,f().createElement(c.x,null,g))),f().createElement(i.v,null,f().createElement(p.e,null,a))))))}},96482:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ReduxSelectDropdown:()=>c});var l=a(28416),n=a.n(l),r=a(28191),s=a(59775),o=a(87749),i=a(27730),u=a(68248),d=a(12812);const c=e=>{var{options:t,label:a,helpText:l,meta:{error:c,touched:p},input:m,disabled:f,isFormGroup:E=!0,isRequired:g,extendedHelpText:h}=e,v=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["options","label","helpText","meta","input","disabled","isFormGroup","isRequired","extendedHelpText"]);const[b,_]=n().useState(!1),S=n().createElement(o.P,Object.assign({},m,{id:m.name,name:m.name,isDisabled:f,isOpen:b,selections:m.value,onToggle:(e,t)=>_(t),onSelect:(e,t)=>{m.onChange(t),_(!1)},onBlur:e=>e.stopPropagation()},v),t.map((e=>n().createElement(i.$,{key:e.value,value:e.value},e.label?n().createElement(r.k,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsSm"},alignItems:{default:"alignItemsCenter"}},n().createElement("span",null,e.name),e.label):e.name))));return E?n().createElement(s.c,{fieldId:m.name,label:a,isRequired:g,labelIcon:h?n().createElement(u.default,{hint:h}):void 0},S,n().createElement(d.FormGroupHelperText,{touched:p,error:c},l)):S}},47092:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(28416),n=a.n(l),r=a(7766),s=a(12952),o=a(47173);const i=({classOptions:e,refreshFunc:t,clickRefreshFunc:a,autoRefresh:l,isDisabled:i,ouiaId:u,useShortTimer:d})=>{const[c,p]=n().useState(0),[m,f]=n().useState(0);return((e,t)=>{const a=n().useRef(e);n().useEffect((()=>{a.current=e}),[e]),n().useEffect((()=>{const e=setInterval((function(){a.current()}),t);return()=>clearInterval(e)}),[t])})((()=>{10===m&&(c<2?p(c+1):(f(60),p(0))),l&&"visible"===document.visibilityState&&navigator.onLine&&!i&&t()}),1e3*m),n().useEffect((()=>{f(d?10:60)}),[d]),n().createElement(s.u,{position:s.D.bottom,content:"Refresh"},n().createElement(o.zx,{variant:"plain","aria-label":"Refresh",className:e,onClick:a||t,isAriaDisabled:i,ouiaId:u},n().createElement(r.RedoIcon,null)))}},2968:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(28416),n=a.n(l),r=a(43200);const s=(e=10,t=6,a="lg")=>{const l={cells:[{props:{colSpan:t},title:n().createElement(r.Z,{size:a})}]},s=[];for(let t=0;t<e;t+=1)s.push(l);return s}},5948:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SupportLevelType:()=>l,default:()=>m});var l,n=a(28416),r=a.n(n),s=a(33942),o=a(40843),i=a(8590),u=a(53688),d=a(91885),c=a(42517);!function(e){e.devPreview="DEV_PREVIEW",e.cooperativeCommunity="COOPERATIVE_COMMUNITY"}(l||(l={}));const p={[l.devPreview]:{title:"Developer Preview",link:d.default.INSTALL_PRE_RELEASE_SUPPORT_KCS,text:"Developer preview features provide early access to upcoming product innovations, enabling\nyou to test functionality and provide feedback during the development process."},[l.cooperativeCommunity]:{title:"Cooperative Community",link:d.default.COOPERATIVE_COMMUNITY_SUPPORT_KCS,text:"Cooperative Community Support provides assistance to Red Hat customers that have questions\nabout community-provided software that is often used with our Red Hat products"}},m=({type:e})=>{const t=p[e],a=r().createElement(r().Fragment,null,r().createElement("div",{className:"pf-v5-u-mb-sm"},t.text),r().createElement(c.default,{href:t.link},"Learn more"));return r().createElement(s.J,{position:s.I.top,bodyContent:a},r().createElement(o._,{style:{cursor:"pointer"},color:"orange",onClick:e=>{e.preventDefault()},icon:r().createElement(i.J,null,r().createElement(u.InfoCircleIcon,{color:"var(--pf-v5-c-label__content--Color)"})),className:"pf-v5-u-ml-md pf-v5-u-display-inline"},t.title))}},69066:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(28416),n=a.n(l),r=a(40843),s=a(33942),o=a(42517);const i=({status:e})=>{let t,a,l,i="blue";switch(e.toLowerCase()){case"full support":t="Full support",a="This minor version of OpenShift is fully supported. In order to receive security and bug fixes, continue to install patch (z-stream) updates to your cluster or upgrade to the latest minor version when available.",l="full-support";break;case"maintenance support":t="Maintenance support",a="This minor version of OpenShift has reached the maintenance support phase. Critical and selected high priority fixes will continue to be delivered in patch (z-stream) releases.",l="maintenance-support";break;case"extended update support":t="Extended update support",a="This minor version of OpenShift has reached the extended update support phase. Critical and selected high priority fixes will continue to be delivered in patch (z-stream) releases.",l="extended-update-support";break;case"end of life":i="red",t="End of life",a="This minor version of OpenShift has reached the end of life and is no longer supported. Upgrade to a newer version so that this cluster is supportable.",l="end-of-life";break;default:return n().createElement(r._,{color:i,variant:"outline",className:"support-status-label"},e)}return n().createElement(s.J,{className:"support-status-popover","aria-label":t,bodyContent:a,footerContent:n().createElement(n().Fragment,null,"See"," ",n().createElement(o.default,{href:"https://access.redhat.com/support/policy/updates/openshift",noIcon:!0},"this resource")," ","to learn more about the support lifecycle."),id:l},n().createElement(r._,{color:i,variant:"outline",className:"support-status-label support-status-label--clickable",onClick:e=>{e.preventDefault()}},t))}},39747:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(28416),n=a.n(l);const r=({value:e})=>{let t="N/A";if(e){const a=new Date(e),l=a.getTime();Number.isNaN(l)?console.error("Can't parse date '%s'",e):t=`${a.toLocaleDateString()} ${a.toLocaleTimeString()}`}return n().createElement("span",{"data-testid":"createdAt"},t)}},96343:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var l=a(28416),n=a.n(l),r=a(83826),s=a(49739),o=a(85583),i=a(9947),u=a(75106),d=a(83559),c=a(20167),p=a(64487),m=a(34693);const f=({errors:e,message:t="",response:a})=>{n().useEffect((()=>{const t=e=>{p.$e((t=>{var a;t.setTag("operationID",null!==(a=e.operationID)&&void 0!==a?a:""),p.Tb(new Error(`${e.errorCode} error from server: ${e.internalErrorCode} - ${e.errorMessage}`))}))};e?e.forEach((e=>{const{response:a}=e;t(a)})):t(a)}),[]);const l=({response:e,message:t,key:a=""})=>n().createElement(r.v,{key:a},n().createElement(s.K,null,t&&n().createElement(r.v,null,n().createElement(o.D,{headingLevel:"h6"},t)),n().createElement(r.v,null,`Error code: ${e.errorCode}`),n().createElement(r.v,null,e.errorMessage),n().createElement(r.v,null,(0,m.formatErrorDetails)(e.errorDetails)),n().createElement(r.v,null,`Operation ID: ${e.operationID||"N/A"}`)));return n().createElement(i.u,null,n().createElement(u.B,null,n().createElement(c.Z,null),n().createElement(d.L,{id:"error-expand",toggleText:"Error details"},n().createElement(s.K,{hasGutter:!0},e?e.map(l):l({response:a,message:t})))))}},99646:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(12952),n=a(28416);const r=({showTooltip:e,content:t,children:a})=>e?n.createElement(l.u,{content:t},a):a},60859:(e,t,a)=>{"use strict";function l(e){const t={title:"Open console",key:`${e.id}.menu.adminconsole`},a=e.console_url;let l;return l=a?Object.assign(Object.assign({},t),{to:a,isExternalLink:!0,rel:"noopener noreferrer"}):Object.assign(Object.assign({},t),{component:"button",isAriaDisabled:!0,tooltipProps:{content:"Admin console is not yet available for this cluster"}}),[l]}a.r(t),a.d(t,{actionResolver:()=>l,default:()=>n});const n=l},10791:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var l=a(28416),n=a.n(l),r=a(87558),s=a(47173),o=a(32045),i=a(9947),u=a(67880),d=a(73029),c=a(75106),p=a(80315),m=a(7065),f=a(88993),E=a(38352);const g=(0,a(30832).default)((()=>n().createElement(r.Link,{to:"/assisted-installer"},n().createElement(s.zx,{variant:"link"},"Assisted Installer clusters"))),E.ASSISTED_INSTALLER_FEATURE,(()=>null)),h=function(){return n().createElement(o.NP,null,n().createElement(i.u,{variant:i.I.lg,className:"cluster-list-empty-state"},n().createElement(u.t,{titleText:"Let's create your first cluster",icon:n().createElement(d.k,{icon:f.default}),headingLevel:"h4"}),n().createElement(c.B,null,"You don't have any clusters yet, but you can easily create or register your first OpenShift 4 cluster."),n().createElement(p.O,null,n().createElement(r.Link,{to:"/create"},n().createElement(s.zx,{"data-testid":"create_cluster_btn",className:"pf-v5-u-mt-xl"},"Create cluster")),n().createElement(m.U,null,n().createElement(r.Link,{to:"/register"},n().createElement(s.zx,{variant:"link"},"Register cluster")),n().createElement(r.Link,{to:"/archived"},n().createElement(s.zx,{variant:"link"},"View cluster archives")),n().createElement(g,null)))))}},52437:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var l=a(28416),n=a.n(l),r=a(62394),s=a(9947),o=a(67880),i=a(75106),u=a(16475),d=a(32203),c=a(70),p=a(52643),m=a(85583),f=a(87558),E=a(75093),g=a(8590),h=a(43047),v=a(53086),b=a(12990),_=a(4088);const S=({totalUnhealthyClusters:e,totalConnectedClusters:t,isError:a})=>{if(a)return n().createElement(d.Z,{className:"ocm-overview-clusters__card","data-testid":"cluster-with-issues-error"},n().createElement(c.l,null,"Clusters with issues"),n().createElement(r.e,null,n().createElement(p.b,null,n().createElement(m.D,{headingLevel:"h2"},"No data available"),n().createElement("span",{className:"empty-state-color"},"There was an error fetching the data. Try refreshing the page."))));if(!t)return n().createElement(d.Z,{className:"ocm-overview-clusters__card","data-testid":"cluster-with-issues-no-data"},n().createElement(c.l,null,"Clusters with issues"),n().createElement(r.e,null,n().createElement(p.b,null,n().createElement("span",{className:"empty-state-color"},"No data available"))));const l=n().createElement(g.J,{className:"status-icon",size:"sm"},0===e?n().createElement(v.xX,{color:_.global_success_color_100.value,"data-testid":"ok-icon"}):n().createElement(h.ExclamationCircleIcon,{color:b.global_danger_color_100.value,"data-testid":"exclamation-icon"})),s=e>0?"clusters-with-issues-non-zero":"clusters-with-issues-zero",o=n().createElement("span",{className:s},e);return n().createElement(d.Z,{className:"ocm-overview-clusters__card","data-testid":"cluster-with-issues-unhealthy"},n().createElement(c.l,null,"Clusters with issues"),n().createElement(r.e,null,n().createElement(p.b,null,o,l)))},C=({totalClusters:e,totalUnhealthyClusters:t,totalConnectedClusters:a,totalCPU:l,usedCPU:g,totalMem:h,usedMem:v,isError:b})=>{const _=n().createElement(r.e,null,n().createElement(s.u,null,n().createElement(o.t,{titleText:"No data available",headingLevel:"h2"}),n().createElement(i.B,null,"There was an error fetching the data. Try refreshing the page.")));if(b)return n().createElement(n().Fragment,null,n().createElement(u.P,{md:3},n().createElement(d.Z,{className:"ocm-overview-clusters__card"},n().createElement(c.l,null,"Clusters"),_)),n().createElement(u.P,{md:9,rowSpan:2},n().createElement(d.Z,{className:"ocm-c-metrics-charts__card"},n().createElement(c.l,null,"CPU and Memory utilization"),_)),n().createElement(u.P,{md:3},n().createElement(S,{isError:b,totalUnhealthyClusters:t,totalConnectedClusters:a})));const C=a>0&&((null==l?void 0:l.value)>0||h.value>0)?n().createElement(r.e,null,n().createElement(E.default,{cpu:{total:l,used:g,updated_timestamp:""},memory:{total:{value:h.value,unit:"B"},used:{value:v.value,unit:"B"},updated_timestamp:""},metricsAvailable:!0,type:"legend"})):n().createElement(r.e,null,n().createElement(s.u,null,n().createElement(o.t,{titleText:"No data available",headingLevel:"h2"}),n().createElement(i.B,null,"Check individual clusters web console if you expect that they should be sending metrics. Note that data is not available for clusters that are installing.")));return n().createElement(n().Fragment,null,n().createElement(u.P,{md:3},n().createElement(f.Link,{to:"/",className:"overview-clusters-link"},n().createElement(d.Z,{className:"ocm-overview-clusters__card"},n().createElement(c.l,null,"Clusters"),n().createElement(r.e,null,n().createElement(p.b,null,n().createElement(m.D,{headingLevel:"h1",size:"3xl"},e)))))),n().createElement(u.P,{md:9,rowSpan:2},n().createElement(d.Z,{className:"ocm-c-metrics-charts__card"},n().createElement(c.l,null,"CPU and Memory utilization"),C)),n().createElement(u.P,{md:3},n().createElement(S,{isError:b,totalUnhealthyClusters:t,totalConnectedClusters:a})))}},38406:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,getIssuesCount:()=>o,getSeverityName:()=>s,groupTagHitsByGroups:()=>i});var l=a(31125),n=a(42957);const r={1:"Low",2:"Moderate",3:"Important",4:"Critical"},s=e=>r[e],o=e=>{var t,a,r;const s=null!==(t=null==e?void 0:e.metrics)&&void 0!==t?t:void 0;if(!s)return 0;const{cpu:o,memory:i}=s,u=null!==(a=s.critical_alerts_firing)&&void 0!==a?a:0,d=null!==(r=s.operators_condition_failing)&&void 0!==r?r:0,c=e&&(0,l.hasCpuAndMemory)(o,i)&&(0,n.hasResourceUsageMetrics)(e)?(0,n.resourceUsageIssuesHelper)(o,i,n.thresholds.DANGER):0;return u+(null!=c?c:0)+d},i=(e,t)=>null==t?void 0:t.sort(((e,t)=>e.title.localeCompare(t.title))).reduce(((t,{tags:a,title:l})=>Object.assign(Object.assign({},t),{[l]:{count:a.reduce(((t,a)=>{var l;return t+(null!==(l=null==e?void 0:e[a])&&void 0!==l?l:0)}),0),tags:a.join(",")}})),{}),u=o},42223:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(47173),n=a(93162),r=a.n(n),s=a(41609),o=a.n(s),i=a(28416),u=a.n(i),d=a(70355),c=a(69740);const p=({token:e,pendoID:t,text:a="Download pull secret"})=>{const n=(0,c.default)(),[s,i]=u().useState(!0),[p,m]=u().useState("");return u().useEffect((()=>{i(!e||!!e.error||o()(e)),m(e.error?"":`${JSON.stringify(e)}\n`)}),[e]),u().createElement(l.zx,{"data-testid":"download-pull-secret",variant:"secondary",onClick:()=>{n(d.trackEvents.DownloadPullSecret,{path:t});const e=new Blob([p],{type:"text/plain;charset=utf-8"});r().saveAs(e,"pull-secret")},isDisabled:s,style:{display:"inline"}},a)}},30832:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(28416),n=a.n(l),r=a(66338),s=a(35564),o=a(32045),i=a(77994);const u=(e,t,a=i.Z)=>(0,r.connect)((e=>t=>({enabled:t.features[e],allEnabledFeatures:Object.assign({},t.features)}))(t),void 0,((e,t,a)=>({stateProps:e,ownProps:a})))((({stateProps:{enabled:t,allEnabledFeatures:l},ownProps:r})=>void 0===t?n().createElement(o.NP,null,n().createElement(s.Z,{centered:!0})):t?n().createElement(e,Object.assign({},r,{allEnabledFeatures:l})):n().createElement(a,Object.assign({},r,{allEnabledFeatures:l}))))},45653:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>$});var l=a(28416),n=a.n(l),r=a(40843),s=a(32045),o=a(85583),i=a(28191),u=a(92298),d=a(47173),c=a(87558),p=a(42517),m=a(69740),f=a(70355),E=a(99093),g=a(91885),h=a(12658),v=a(18788),b=a(32203),_=a(14386),S=a(79851),C=a(34512),y=a(62394),O=a(68774),I=a(68340),R=a(71130),T=a(58844),A=a(10550),P=a(3025),D=a(49734),N=a(27440),L=a(55424);const w=e=>{const{height:t,width:a,className:l}=e;return n().createElement("svg",{className:l,height:t||".9em",width:a,"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 145","aria-label":"Red Hat logo"},n().createElement("defs",null,n().createElement("style",null)),n().createElement("title",null,"RedHat-Logo-Hat-Color"),n().createElement("path",{d:"M157.77,62.61a14,14,0,0,1,.31,3.42c0,14.88-18.1,17.46-30.61,17.46C78.83,83.49,42.53,53.26,42.53,44a6.43,6.43,0,0,1,.22-1.94l-3.66,9.06a18.45,18.45,0,0,0-1.51,7.33c0,18.11,41,45.48,87.74,45.48,20.69,0,36.43-7.76,36.43-21.77,0-1.08,0-1.94-1.73-10.13Z"}),n().createElement("path",{fill:"#e00",className:"cls-1",d:"M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"}))},M="/create/rosa/getstarted",k="/overview/rosa",x="/create/osd",j="/create",F="/register",G=e=>n().createElement(c.Link,Object.assign({},e,{"data-testid":"create-cluster",to:M})),U=e=>n().createElement(c.Link,Object.assign({},e,{"data-testid":"create-cluster",to:x})),V=e=>n().createElement(c.Link,Object.assign({},e,{"data-testid":"create-cluster",to:j})),H=()=>n().createElement(p.default,{noTarget:!0,noIcon:!0,href:"/openshift/sandbox"},"View details");function z(e){const t=(0,m.default)(),{offeringType:a}=e;let s,E,h,z,W,q,B="Managed service";const $=(0,l.useCallback)((e=>n().createElement(c.Link,{onClick:()=>{t(f.trackEvents.RegisterCluster,{url:F,path:window.location.pathname})},to:F},"Register cluster")),[t]),Z=(0,l.useCallback)((e=>n().createElement(c.Link,{onClick:()=>{t(f.trackEvents.RosaOverview,{url:k,path:window.location.pathname})},to:k},"View details")),[t]);switch(a){case"AWS":s="Red Hat OpenShift Service on AWS (ROSA)",E=[{descriptionListTerm:"Runs on",descriptionListDescription:"Amazon Web Services"},{descriptionListTerm:"Purchase through",descriptionListDescription:"Amazon Web Services"},{descriptionListTerm:"Billing type",descriptionListDescription:"Flexible hourly"}],W=n().createElement(d.zx,{variant:"secondary",onClick:()=>{t(f.trackEvents.CreateClusterROSA,{url:M,path:window.location.pathname})},component:G},"Create cluster"),z=n().createElement(d.zx,{variant:d.Wu.link,component:Z}),q=n().createElement(L.default,{className:"offering-logo"});break;case"Azure":s="Azure Red Hat OpenShift (ARO)",E=[{descriptionListTerm:"Runs on",descriptionListDescription:"Microsoft Azure"},{descriptionListTerm:"Purchase through",descriptionListDescription:"Microsoft"},{descriptionListTerm:"Billing type",descriptionListDescription:"Flexible hourly"}],z=n().createElement(p.default,{href:g.default.AZURE_OPENSHIFT_GET_STARTED},"Learn more on Azure"),q=n().createElement("img",{className:"offering-logo",src:N,alt:"Microsoft Azure logo"});break;case"RHOSD":s="Red Hat OpenShift Dedicated",E=[{descriptionListTerm:"Runs on",descriptionListDescription:"AWS or Google Cloud"},{descriptionListTerm:"Purchase through",descriptionListDescription:"Red Hat"},{descriptionListTerm:"Billing type",descriptionListDescription:"Flexible or fixed"}],W=n().createElement(d.zx,{variant:"secondary",onClick:()=>{t(f.trackEvents.CreateClusterOSD,{url:x,path:window.location.pathname})},component:U},"Create cluster"),z=n().createElement(p.default,{href:g.default.OPENSHIFT_DEDICATED_LEARN_MORE},"Learn more"),q=n().createElement(w,{className:"offering-logo"});break;case"RHOCP":s="Red Hat OpenShift Container Platform",B="Self-managed service",E=[{descriptionListTerm:"Runs on",descriptionListDescription:"Supported infrastructures"},{descriptionListTerm:"Purchase through",descriptionListDescription:"Red Hat"},{descriptionListTerm:"Billing type",descriptionListDescription:"Annual subscription"}],W=n().createElement(d.zx,{variant:"secondary",onClick:()=>{t(f.trackEvents.CreateClusterRHOCP,{url:j,path:window.location.pathname})},component:V},"Create cluster"),z=n().createElement(d.zx,{variant:d.Wu.link,component:$}),q=n().createElement("img",{className:"offering-logo",src:v,alt:"OpenShift product logo"});break;case"RHOIBM":s="Red Hat OpenShift on IBM Cloud",E=[{descriptionListTerm:"Runs on",descriptionListDescription:"IBM Cloud"},{descriptionListTerm:"Purchase through",descriptionListDescription:"IBM"},{descriptionListTerm:"Billing type",descriptionListDescription:"Flexible hourly"}],z=n().createElement(p.default,{href:"https://cloud.ibm.com/kubernetes/catalog/create?platformType=openshift"},"Learn more on IBM"),q=n().createElement("img",{className:"offering-logo",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCI+PGRlZnM+PGZpbHRlciBpZD0iQSIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSI3OS4zIiB5PSI4Ni4yIiB3aWR0aD0iMTg4LjEiIGhlaWdodD0iMTY2LjIiPjxmZUNvbG9yTWF0cml4IHZhbHVlcz0iLTEgMCAwIDAgMSAwIC0xIDAgMCAxIDAgMCAtMSAwIDEgMCAwIDAgMSAwIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiLz48L2ZpbHRlcj48L2RlZnM+PG1hc2sgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iNzkuMyIgeT0iODYuMiIgd2lkdGg9IjE4OC4xIiBoZWlnaHQ9IjE2Ni4yIiBpZD0iQiI+PGcgZmlsdGVyPSJ1cmwoI0EpIj48cGF0aCBkPSJNMTA0LjQgMTUyLjVjLS42IDAtMS4yLS4yLTEuOC0uNWwtMTYuOC05LjdjLTEuNi0uOC0yLjMtMi43LTEuNy00LjQuNy0xLjggMi43LTIuOCA0LjYtMi4xbC42LjMgMTYuOCA5LjdjMS43LjkgMi40IDMuMSAxLjUgNC44LS42IDEuMi0xLjggMS45LTMuMiAxLjl6bTI5LjEtMjljLTEuMyAwLTIuNC0uNy0zLjEtMS44bC05LjctMTYuOGMtLjktMS41LS42LTMuNS43LTQuNyAxLjUtMS4zIDMuNy0xLjEgNSAuNC4xLjIuMy4zLjQuNWw5LjcgMTYuOGMxIDEuNi42IDMuNy0uOSA0LjktLjcuNS0xLjQuNy0yLjEuN3ptMzYtMTQuNFY5MGMwLTIgMS40LTMuNiAzLjQtMy44IDItLjEgMy42IDEuNCAzLjcgMy40djE5LjhjMCAyLTEuNiAzLjYtMy42IDMuNmgtLjJjLTEuOC0uMy0zLjMtMi0zLjMtMy45em00My4yIDE0LjRjLS43IDAtMS40LS4yLTItLjYtMS41LTEuMS0xLjktMy4zLS45LTQuOWw5LjctMTYuOGMxLTEuNyAzLjItMi4zIDQuOS0xLjMuMi4xLjQuMi41LjQgMS4zIDEuMiAxLjYgMy4yLjcgNC43bC05LjcgMTYuOGMtLjcgMS0xLjkgMS43LTMuMiAxLjd6bTI5IDI5Yy0xLjMgMC0yLjUtLjctMy4yLTEuOS0uOC0xLjgtLjItMy45IDEuNS00LjhsMTYuNi05LjZjMS41LS45IDMuNC0uNiA0LjYuNyAxLjMgMS41IDEuMSAzLjctLjQgNS0uMi4xLS4zLjMtLjUuNGwtMTcgOS44Yy0uMy4yLS45LjQtMS42LjR6Ii8+PGxpbmVhckdyYWRpZW50IGlkPSJDIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjE3OS41NCIgeTE9IjE5Ny42MjMiIHgyPSIxMzYuNTc4IiB5Mj0iMTM2LjI2OCI+PHN0b3Agb2Zmc2V0PSIuMiIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIuMjg3IiBzdG9wLW9wYWNpdHk9Ii4wMyIvPjxzdG9wIG9mZnNldD0iLjUwMSIgc3RvcC1vcGFjaXR5PSIuMiIvPjxzdG9wIG9mZnNldD0iLjc5MyIgc3RvcC1vcGFjaXR5PSIuNzQyIi8+PHN0b3Agb2Zmc2V0PSIxIi8+PC9saW5lYXJHcmFkaWVudD48cGF0aCBkPSJNMTI4IDIzMy43Yy0yNC45LTI0LjktMjQuOS02NS4zIDAtOTAuMnM2NS4zLTI0LjkgOTAuMiAwYTY5LjEgNjkuMSAwIDAgMSA1LjEgNS43YzEuMSAxLjQgMi4xIDIuOCAzLjEgNC4zbC01LjkgMy45Yy0uOS0xLjMtMS44LTIuNi0yLjgtMy44LTEuNC0xLjgtMi45LTMuNS00LjUtNS4xLTIyLjEtMjIuMS01OC0yMi4xLTgwLjIgMC0yMi4xIDIyLjEtMjIuMSA1OCAwIDgwLjJ6IiBmaWxsPSJ1cmwoI0MpIi8+PHBhdGggZD0iTTIxOC42IDI1Mi40aC05OC4yYy0yMi44LS4yLTQxLjEtMTguNy00MC45LTQxLjVsNy4xLjFjLS4xIDE4LjggMTUgMzQuMiAzMy44IDM0LjRoOTguMWMyMyAwIDQxLjYtMTguNiA0MS43LTQxLjYgMC0xMC4yLTMuOC0yMC4xLTEwLjYtMjcuOGw1LjMtNC43YzE3LjkgMjAuMSAxNi4yIDUwLjktMy44IDY4LjgtOSA3LjktMjAuNSAxMi4zLTMyLjUgMTIuM3oiLz48bGluZWFyR3JhZGllbnQgaWQ9IkQiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iNzUuMjU0IiB5MT0iMjAzLjYxOCIgeDI9IjExOC40OCIgeTI9IjE3OC42NjEiPjxzdG9wIG9mZnNldD0iLjA4Ii8+PHN0b3Agb2Zmc2V0PSIuNzUzIiBzdG9wLW9wYWNpdHk9Ii4wNyIvPjxzdG9wIG9mZnNldD0iLjg3NSIgc3RvcC1vcGFjaXR5PSIwIi8+PC9saW5lYXJHcmFkaWVudD48cGF0aCBkPSJNODYuNiAyMTAuOWwtNy4xLS4xYy4xLTIwIDE0LjYtMzcgMzQuMy00MC4zbDEuMiA3Yy0xNi4zIDIuOC0yOC4zIDE2LjktMjguNCAzMy40eiIgZmlsbD0idXJsKCNEKSIvPjxsaW5lYXJHcmFkaWVudCBpZD0iRSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxNzQuMDU5IiB5MT0iMjA4LjMyNyIgeDI9IjIzOS44MSIgeTI9IjE1My4xNTUiPjxzdG9wIG9mZnNldD0iLjEzOCIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIuMzIiIHN0b3Atb3BhY2l0eT0iLjA3Ii8+PHN0b3Agb2Zmc2V0PSIuODQ3IiBzdG9wLW9wYWNpdHk9Ii43NjQiLz48c3RvcCBvZmZzZXQ9Ii45NDciLz48L2xpbmVhckdyYWRpZW50PjxwYXRoIGQ9Ik0xNzYuOSAyMDMuM2wtNy4xLS4xYy4yLTI2LjkgMjIuMi00OC42IDQ5LjEtNDguNCAxMy43LjEgMjYuOCA2IDM2IDE2LjJsLTUuMyA0LjdjLTE1LjMtMTcuMS00MS43LTE4LjYtNTguOC0zLjMtOC43IDgtMTMuOCAxOS4yLTEzLjkgMzAuOXoiIGZpbGw9InVybCgjRSkiLz48L2c+PC9tYXNrPjxsaW5lYXJHcmFkaWVudCBpZD0iRiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIyMzQuMzY3IiB5MT0iNjUuNjEzIiB4Mj0iMTIwLjE2NCIgeTI9IjI1OS40OTEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzUwZmZkMiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzAwNjRmZiIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdGggZD0iTTc5LjMgODYuMmgxODguMXYxNjYuMkg3OS4zeiIgbWFzaz0idXJsKCNCKSIgdHJhbnNmb3JtPSJtYXRyaXgoLjM0MDI0NSAwIDAgLjMyMDY4NiAtMjYuOTgxMzkzIC0yMi4yOTIwNykiIGZpbGw9InVybCgjRikiLz48L3N2Zz4=",alt:"IBM logo"});break;case"DEVSNBX":s="Developer Sandbox",h="Instant free access to your own minimal, preconfigured environment for development and testing.",z=n().createElement(d.zx,{variant:d.Wu.link,component:H},"View details"),q=n().createElement(w,{className:"offering-logo"})}return n().createElement(b.Z,{className:"offering-card"},n().createElement(_.O,null,n().createElement(S.P,{hasGutter:!0,style:{width:"100%"}},n().createElement(C.J,null,q),n().createElement(C.J,{isFilled:!0}),n().createElement(C.J,null,n().createElement(r._,{"data-testtag":"label",color:"blue"},B)))),n().createElement(y.e,{className:"card-title"},n().createElement(o.D,{headingLevel:"h2"},s)),n().createElement(y.e,{className:"pf-v5-u-mt-md"},n().createElement(O.D,null,h&&n().createElement(I.x,null,h),(null==E?void 0:E.length)&&n().createElement(R.o,{isHorizontal:!0,isCompact:!0,isAutoFit:!0},n().createElement(T.g,null,E.map((({descriptionListTerm:e,descriptionListDescription:t})=>n().createElement(n().Fragment,{key:e},n().createElement(A.M,null,n().createElement(I.x,{component:"small"},e)),n().createElement(P.b,null,n().createElement(I.x,{component:"small"},t))))))))),n().createElement(D.e,null,n().createElement(i.k,null,W&&n().createElement(u.B,null,W),z&&n().createElement(u.B,null,z))))}var W=a(27849);const q={cardClassName:"pf-v5-u-mb-lg",textLabelLinkItems:[{listItemText:"Using Red Hat OpenShift Cluster Manager to work with your OpenShift clusters",listItemLabel:n().createElement(r._,{color:"gold"},"Documentation"),listItemLink:n().createElement(p.default,{href:g.default.OCM_DOCS_MANAGING_CLUSTERS},"Learn More"),dataTestId:"recommendedContent_OCM"},{listItemText:"OpenShift Serverless overview",listItemLabel:n().createElement(r._,{color:"gold"},"Documentation"),listItemLink:n().createElement(p.default,{href:g.default.SERVERLESS_ABOUT},"Learn More"),dataTestId:"recommendedContent_ServerLess"},{listItemText:"Understanding Service Mesh",listItemLabel:n().createElement(r._,{color:"gold"},"Documentation"),listItemLink:n().createElement(p.default,{href:g.default.SERVICE_MESH_ABOUT},"Learn More"),dataTestId:"recommendedContent_ServiceMesh"},{listItemText:"About OpenShift Virtualization",listItemLabel:n().createElement(r._,{color:"gold"},"Documentation"),listItemLink:n().createElement(p.default,{href:g.default.VIRT_ABOUT},"Learn More"),dataTestId:"recommendedContent_OVIRT"}]},B={icon:n().createElement("img",{src:v,alt:"OpenShift product icon"}),learnMoreLink:n().createElement(p.default,{href:g.default.WHAT_IS_OPENSHIFT},"Learn more about OpenShift"),title:"Get started with OpenShift",text:n().createElement(n().Fragment,null,"Focus on work that matters with the industry's leading hybrid cloud application platform powered by Kubernetes.",n().createElement("br",null),"Develop, modernize, deploy, run, and manage your applications faster and easier."),dataTestId:"OverviewHeader"},$=function(){const e=(0,m.default)(),t="/create",a=(0,l.useCallback)((a=>n().createElement(c.Link,Object.assign({},a,{onClick:()=>{e(f.trackEvents.CreateCluster,{url:t,path:window.location.pathname})},"data-testid":"create-cluster",to:t}))),[e]);return n().createElement(W.AppPage,{title:"Overview | Red Hat OpenShift Cluster Manager"},n().createElement(E.ProductBanner,{icon:B.icon,learnMoreLink:B.learnMoreLink,title:B.title,text:B.text,dataTestId:B.dataTestId}),n().createElement(s.NP,null,n().createElement(o.D,{size:"xl",headingLevel:"h2",className:"pf-v5-u-mt-lg"},"Featured OpenShift cluster types"),n().createElement(i.k,{className:"pf-v5-u-mb-lg"},n().createElement(u.B,{className:"pf-v5-u-pt-md","data-testid":"offering-card_RHOSD"},n().createElement(z,{offeringType:"RHOSD"})),n().createElement(u.B,{className:"pf-v5-u-pt-md","data-testid":"offering-card_AWS"},n().createElement(z,{offeringType:"AWS"})),n().createElement(u.B,{className:"pf-v5-u-pt-md","data-testid":"offering-card_Azure"},n().createElement(z,{offeringType:"Azure"})),n().createElement(u.B,{className:"pf-v5-u-pt-md","data-testid":"offering-card_RHOCP"},n().createElement(z,{offeringType:"RHOCP"})),n().createElement(u.B,{className:"pf-v5-u-pt-md","data-testid":"offering-card_RHOIBM"},n().createElement(z,{offeringType:"RHOIBM"})),n().createElement(u.B,{className:"pf-v5-u-pt-md","data-testid":"offering-card_DEVSNBX"},n().createElement(z,{offeringType:"DEVSNBX"}))),n().createElement(d.zx,{variant:"link",component:a},"View all OpenShift cluster types"),n().createElement(o.D,{size:"xl",headingLevel:"h2",className:"pf-v5-u-mt-lg pf-v5-u-mb-lg"},"Recommended Content"),n().createElement(h.ListTextLabelLinkCard,Object.assign({},q)),n().createElement(p.default,{"data-testid":"recommendedContentFooterLink",href:"/openshift/learning-resources"},"Browse all OpenShift learning resources")))}},64112:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useOCPLatestVersion:()=>m,useOCPLatestVersionInChannel:()=>p,useOCPLifeCycleStatusData:()=>c});var l=a(28416),n=a(81249),r=a.n(n),s=a(85384),o=a(98538),i=a.n(o),u=a(78913);var d=function(e,t,a,l){return new(a||(a=Promise))((function(n,r){function s(e){try{i(l.next(e))}catch(e){r(e)}}function o(e){try{i(l.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}i((l=l.apply(e,t||[])).next())}))};const c=()=>{const[e,t]=l.useState();return l.useEffect((()=>{d(void 0,void 0,void 0,(function*(){const e=yield(0,s.default)();t(e.data.data)}))}),[]),[e,void 0!==e]},p=e=>{const[t,a]=l.useState(void 0);return l.useEffect((()=>{a(void 0),e&&d(void 0,void 0,void 0,(function*(){var t,l,n;const s=yield(d=e,i().get("/api/upgrades_info/v1/graph",{baseURL:u.default.configData.apiGateway,headers:{Accept:"application/json"},params:{channel:d,arch:"amd64"}})),o=null===(l=null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.nodes)||void 0===l?void 0:l.sort((({version:e},{version:t})=>r().rcompare(e,t)));var d;o&&a(null===(n=o[0])||void 0===n?void 0:n.version)}))}),[e]),[t,void 0!==t]},m=(e="stable")=>{var t,a;const[l,n]=c();let r;if(n){const n=((null===(t=null==l?void 0:l[0])||void 0===t?void 0:t.versions)||[]).filter((e=>!e.name.includes("EUS"))),s=n.length>0?null===(a=n[0])||void 0===a?void 0:a.name:void 0;r=s&&`${e}-${s}`}return p(r)}},78913:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(27484),n=a.n(l),r=a(70178),s=a.n(r),o=a(26192),i=a.n(o),u=a(28734),d=a.n(u),c=a(19953);const p={};p.production=Promise.resolve().then(a.t.bind(a,68923,19)),p.stageSSO=Promise.resolve().then(a.t.bind(a,93723,19)),p.staging=Promise.resolve().then(a.t.bind(a,90860,19)),p.integration=Promise.resolve().then(a.t.bind(a,16706,19)),p.default=p.staging;const m={configData:{},envOverride:void 0,fakeOSD:!1,rosaV2:!1,loadConfig(e){var t;this.configData=Object.assign(Object.assign({},e),{apiGateway:e.apiGateway.replace("$SELF_PATH$",window.location.host),insightsGateway:(null===(t=e.insightsGateway)||void 0===t?void 0:t.replace("$SELF_PATH$",window.location.host))||void 0}),window.ocmConfig=this},fetchConfig(){const e=this;return new Promise((t=>{var a;(()=>{let e=!1;return window.location.search.substring(1).split("&").forEach((t=>{const[a,l]=t.split("=");"fake"===a&&"true"===l&&(e=!0)})),e})()&&(e.fakeOSD=!0),(()=>{let e=!1;return window.location.search.substring(1).split("&").forEach((t=>{const[a,l]=t.split("=");"rosav2"===a.toLowerCase()&&"true"===l&&(e=!0)})),e})()&&(e.rosaV2=!0);const l=(()=>{let e;return window.location.search.substring(1).split("&").forEach((t=>{const[a,l]=t.split("=");"env"===a&&p[l]?e=l:"env"===a&&"mockserver"===l&&p.mockdata&&(e="mockdata")})),e})()||localStorage.getItem(c.ENV_OVERRIDE_LOCALSTORAGE_KEY);l&&p[l]?p[l].then((a=>{this.loadConfig(a),console.info(`Loaded override config: ${l}`),e.envOverride=l,localStorage.setItem(c.ENV_OVERRIDE_LOCALSTORAGE_KEY,l),t()})):null===(a=p.default)||void 0===a||a.then((e=>{this.loadConfig(e),console.info("Loaded default config: staging"),t()}))}))},dateConfig(){n().extend(s()),n().extend(i()),n().extend(d())}}},15933:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(28416),n=a.n(l),r=a(69740);const s=e=>t=>n().createElement(e,Object.assign({},t,{track:(0,r.default)()}))},69740:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(55140),n=a(28416),r=a(70355);const s=()=>{const{analytics:e}=(0,l.Z)();return(0,n.useCallback)(((t,a)=>{if("string"==typeof t)e.track(t,"string"==typeof a?{type:a}:a);else{const l=(0,r.getTrackEvent)(t,a);e.track(l.event,l.properties)}}),[e])}},96106:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,featureGateSelector:()=>s,useFeatureGate:()=>r});var l=a(3189);const n=(e,t)=>e&&e[t]||!1,r=e=>{const t=(0,l.j)((e=>e.features));return n(t,e)},s=(e,t)=>n(e.features,t),o=r},10506:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var l=a(28416),n=a(64636);const r=e=>{const[t,a,{setValue:r,setTouched:s}]=(0,n.useField)(e);return l.useCallback(((e,t)=>{r(void 0!==t?t:e),setTimeout((()=>s(!0,!0)))}),[])}},62656:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(28416),n=a.n(l);const r=(e=!0)=>{n().useEffect((()=>(window.onbeforeunload=e?()=>{var e;const{activeElement:t}=document;return!(null==t?void 0:t.hasAttribute("download"))&&!(null===(e=null==t?void 0:t.dataset)||void 0===e?void 0:e.noNavPrompt)||null}:null,()=>{window.onbeforeunload=null})),[e])}},3606:(e,t,a)=>{"use strict";a.r(t),a.d(t,{usePreviousProps:()=>r});var l=a(28416),n=a.n(l);const r=e=>{const t=n().useRef();return n().useEffect((()=>{t.current=e})),t.current}},26398:(e,t,a)=>{"use strict";var l=a(35032),n=a(41819),r=a(93919);const s=new Intl.DateTimeFormat("default",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",year:"numeric"});l.Z.use(n.Db).init({lng:"en",resources:{en:{translation:r}},supportedLngs:["en"],fallbackLng:"en",load:"languageOnly",detection:{caches:[]},defaultNS:"translation",nsSeparator:"~",keySeparator:!1,debug:!1,interpolation:{format:(e,t,a)=>"number"===t?new Intl.NumberFormat(a).format(e):e instanceof Date?s.format(e):e,escapeValue:!1},react:{useSuspense:!0,transSupportBasicHtmlNodes:!0},missingKeyHandler(e,t,a){const l=`Missing i18n key '${a}' in namespace '${t}' and language '${e}.'`;window.windowError=l,console.error(l)}})},76727:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_ALL_CLOUD_PROVIDER_INQUIRIES:()=>m,CLEAR_CCS_CREDENTIALS_INQUIRY:()=>f,CLEAR_LIST_VPCS:()=>p,LIST_GCP_KEYS:()=>c,LIST_GCP_KEY_RINGS:()=>d,LIST_REGIONS:()=>u,LIST_VPCS:()=>i,VALIDATE_CLOUD_PROVIDER_CREDENTIALS:()=>o,clearAllCloudProviderInquiries:()=>S,clearCcsCredientialsInquiry:()=>C,clearListVpcs:()=>y,getAWSCloudProviderRegions:()=>v,getAWSCloudProviderVPCs:()=>g,getGCPCloudProviderVPCs:()=>h,getGCPKeyRings:()=>b,getGCPKeys:()=>_});var l=a(78718),n=a.n(l),r=a(91757),s=a(51147);const o="VALIDATE_CLOUD_PROVIDER_CREDENTIALS",i="LIST_VPCS",u="LIST_REGIONS",d="LIST_GCP_KEY_RINGS",c="LIST_GCP_KEYS",p="CLEAR_LIST_VPCS",m="CLEAR_ALL_CLOUD_PROVIDER_INQUIRIES",f="CLEAR_CCS_CREDENTIALS_INQUIRY",E=e=>{return t=void 0,a=void 0,r=function*(){const t=JSON.parse(e);return n()(t,["type","project_id","private_key_id","private_key","client_email","client_id","auth_uri","token_uri","auth_provider_x509_cert_url","client_x509_cert_url"])},new((l=void 0)||(l=Promise))((function(e,n){function s(e){try{i(r.next(e))}catch(e){n(e)}}function o(e){try{i(r.throw(e))}catch(e){n(e)}}function i(t){var a;t.done?e(t.value):(a=t.value,a instanceof l?a:new l((function(e){e(a)}))).then(s,o)}i((r=r.apply(t,a||[])).next())}));var t,a,l,r},g=({awsCredentials:e,region:t,subnet:a,options:l})=>(0,r.action)(i,(0,s.listAWSVPCs)(e,t,a,l),{credentials:e,cloudProvider:"aws",region:t,subnet:a}),h=(e,t,a)=>(0,r.action)(e,E(t).then((e=>(0,s.listGCPVPCs)(e,a))),{credentials:t,cloudProvider:"gcp",region:a,subnet:void 0}),v=(e,t,a)=>(0,r.action)(e,(0,s.listAWSRegions)(t,a),{credentials:t,cloudProvider:"aws",openshiftVersionId:a}),b=(e,t)=>(0,r.action)(d,E(e).then((e=>(0,s.listGCPKeyRings)(e,t))),{credentials:e,keyLocation:t,cloudProvider:"gcp"}),_=(e,t,a)=>(0,r.action)(c,E(e).then((e=>(0,s.listGCPKeys)(e,t,a))),{credentials:e,keyLocation:t,keyRing:a,cloudProvider:"gcp"}),S=()=>(0,r.action)(m),C=()=>(0,r.action)(f),y=()=>(0,r.action)(p)},22115:(e,t,a)=>{"use strict";a.r(t),a.d(t,{cloudProviderActions:()=>o,getCloudProviders:()=>s});var l=a(91757),n=a(33174),r=a(33047);const s=()=>(0,l.action)(n.cloudProviderConstants.GET_CLOUD_PROVIDERS,r.clusterService.getCloudProviders().then((e=>{var t;const a={};return null===(t=e.data.items)||void 0===t||t.forEach((e=>{if(e.id){const t={};void 0!==e.regions&&e.regions.forEach((e=>{e.id&&(t[e.id]={id:e.id,display_name:e.display_name,enabled:e.enabled,supports_multi_az:e.supports_multi_az,kms_location_id:e.kms_location_id,ccs_only:e.ccs_only,supports_hypershift:e.supports_hypershift})})),a[e.id]=Object.assign(Object.assign({},e),{regions:t})}})),a}))),o={getCloudProviders:s}},24653:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clusterAutoscalerActions:()=>o});var l=a(91757),n=a(48578),r=a(33174),s=a(33047);const o={getClusterAutoscaler:e=>(0,l.action)(r.clusterAutoscalerConstants.GET_CLUSTER_AUTOSCALER,s.clusterService.getClusterAutoscaler(e).then((e=>e.data))),enableClusterAutoscaler:e=>(0,l.action)(r.clusterAutoscalerConstants.ENABLE_CLUSTER_AUTOSCALER,s.clusterService.enableClusterAutoscaler(e,(0,n.getClusterAutoScalingSubmitSettings)((0,n.getDefaultClusterAutoScaling)())).then((e=>e.data))),disableClusterAutoscaler:e=>(0,l.action)(r.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER,s.clusterService.disableClusterAutoscaler(e).then((e=>e.data))),updateClusterAutoscaler:(e,t)=>(0,l.action)(r.clusterAutoscalerConstants.UPDATE_CLUSTER_AUTOSCALER,s.clusterService.updateClusterAutoscaler(e,t).then((e=>e.data))),clearLastAutoscalerActionResult:()=>(0,l.action)(r.clusterAutoscalerConstants.CLEAR_LAST_ACTION_RESULT),clearClusterAutoscalerResponse:()=>(0,l.action)(r.clusterAutoscalerConstants.CLEAR_GET_CLUSTER_AUTOSCALER_RESPONSE),setHasInitialClusterAutoscaler:e=>(0,l.action)(r.clusterAutoscalerConstants.SET_HAS_INITIAL_AUTOSCALER,e)}},70774:(e,t,a)=>{"use strict";a.r(t),a.d(t,{archiveCluster:()=>N,clearClusterArchiveResponse:()=>L,clearClusterResponse:()=>T,clearClusterUnarchiveResponse:()=>U,clearHibernateClusterResponse:()=>x,clearInflightChecks:()=>Q,clearInstallableVersions:()=>J,clearResumeClusterResponse:()=>F,clearUpgradeTrialClusterResponse:()=>M,clustersActions:()=>X,createCluster:()=>I,editCluster:()=>A,editClusterConsoleURL:()=>V,editClusterDisplayName:()=>P,fetchClusterDetails:()=>W,fetchClusters:()=>z,getClusterStatus:()=>$,getInflightChecks:()=>Z,getRerunInflightChecks:()=>K,hibernateCluster:()=>k,invalidateClusters:()=>O,registerDisconnectedCluster:()=>R,rerunInflightChecks:()=>Y,resetCreatedClusterResponse:()=>B,resumeCluster:()=>j,setClusterDetails:()=>q,unarchiveCluster:()=>G,upgradeTrialCluster:()=>w});var l=a(64487),n=a(41609),r=a.n(n),s=a(91757),o=a(98538),i=a.n(o),u=a(59231),d=a(43866),c=a(30310),p=a(33174),m=a(33047),f=a(52220),E=a(52758),g=a(11689),h=a(57572),v=a(30366),b=a(24501),_=a(38352),S=function(e,t,a,l){return new(a||(a=Promise))((function(n,r){function s(e){try{i(l.next(e))}catch(e){r(e)}}function o(e){try{i(l.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}i((l=l.apply(e,t||[])).next())}))};const C=[E.knownProducts.ROSA,E.knownProducts.ROSA_HyperShift],y=[E.knownProducts.OSD,E.knownProducts.OSDTrial],O=()=>(0,s.action)((0,f.INVALIDATE_ACTION)(p.clustersConstants.GET_CLUSTERS)),I=(e,t)=>a=>{return a((l=((e,t,a)=>S(void 0,void 0,void 0,(function*(){const l=yield m.clusterService.postNewCluster(e);if(t){const n=l.data.id;n&&a((0,h.postSchedule)(n,t,(0,u.isHypershiftCluster)(e)))}return a(O()),l})))(e,t,a),(0,s.action)(p.clustersConstants.CREATE_CLUSTER,l)));var l},R=(e,t)=>a=>a((0,s.action)(p.clustersConstants.CREATE_CLUSTER,((e,t,a)=>S(void 0,void 0,void 0,(function*(){const l=yield m.accountsService.registerDisconnected(e);return t&&201===l.status&&l.data.id&&a((0,v.editSubscriptionSettings)(l.data.id,t)),a(O()),l})))(e,t,a))),T=()=>(0,s.action)(p.clustersConstants.CLEAR_DISPLAY_NAME_RESPONSE),A=(e,t)=>(0,s.action)(p.clustersConstants.EDIT_CLUSTER,m.clusterService.editCluster(e,t)),P=(e,t)=>(0,s.action)(p.clustersConstants.EDIT_CLUSTER,m.accountsService.editSubscription(e,{display_name:t})),D=(e,t)=>({notifications:{fulfilled:{variant:"success",title:`Cluster ${e} has been ${t?"archived":"unarchived"}`,dismissDelay:8e3,dismissable:!1}}}),N=(e,t)=>(0,s.action)(p.clustersConstants.ARCHIVE_CLUSTER,m.clusterService.archiveCluster(e),D(t,!0)),L=()=>(0,s.action)(p.clustersConstants.CLEAR_CLUSTER_ARCHIVE_RESPONSE),w=(e,t)=>(0,s.action)(p.clustersConstants.UPGRADE_TRIAL_CLUSTER,m.clusterService.upgradeTrialCluster(e,t)),M=()=>(0,s.action)(p.clustersConstants.CLEAR_UPGRADE_TRIAL_CLUSTER_RESPONSE),k=e=>(0,s.action)(p.clustersConstants.HIBERNATE_CLUSTER,m.clusterService.hibernateCluster(e)),x=()=>(0,s.action)(p.clustersConstants.CLEAR_CLUSTER_HIBERNATE_RESPONSE),j=e=>(0,s.action)(p.clustersConstants.RESUME_CLUSTER,m.clusterService.resumeCluster(e)),F=()=>(0,s.action)(p.clustersConstants.CLEAR_RESUME_CLUSTER_RESPONSE),G=(e,t)=>(0,s.action)(p.clustersConstants.UNARCHIVE_CLUSTER,m.clusterService.unarchiveCluster(e),D(t,!1)),U=()=>(0,s.action)(p.clustersConstants.CLEAR_CLUSTER_UNARCHIVE_RESPONSE),V=(e,t,a)=>(0,s.action)(p.clustersConstants.EDIT_CLUSTER,m.clusterService.editCluster(e,{console:{url:a}}).then((()=>m.accountsService.editSubscription(t,{console_url:a})))),H=(e,t,a)=>{const l=[];return e.forEach((e=>{let n;n=e.subscription.managed&&e.subscription.status!==E.subscriptionStatuses.DEPROVISIONED&&(null==e?void 0:e.cluster)&&!r()(null==e?void 0:e.cluster)?Object.assign(Object.assign({},(0,g.Y0)(e.cluster)),{subscription:e.subscription,metrics:(0,g.a8)(e.subscription.metrics)}):(0,b.default)(e.subscription)?(0,g.LZ)(e.subscription,e.aiCluster):(0,g.My)(e.subscription),n.partialCS=n.managed&&(!(null==e?void 0:e.cluster)||r()(null==e?void 0:e.cluster)),n.canEdit=!n.partialCS&&(t["*"]||!!n.id&&!!t[n.id])&&e.subscription.status!==E.subscriptionStatuses.DEPROVISIONED,n.canDelete=!n.partialCS&&(a["*"]||!!n.id&&!!a[n.id]),n.subscription=e.subscription,l.push(n)})),l},z=e=>(t,a)=>{(0,c.OM)(a(),"rosa","hcp")||(0,c.ah)(t,"rosa","hcp"),t(((e,t)=>{return(0,s.action)(p.clustersConstants.GET_CLUSTERS,(a=e,n=t,S(void 0,void 0,void 0,(function*(){var e,t;const[r,s,o]=yield Promise.all([m.accountsService.getSubscriptions(a).then((e=>(0,g.WY)(e,g.gI))),m.authorizationsService.selfResourceReview({action:d.uw.action.DELETE,resource_type:d.WF.resource_type.CLUSTER}).then((e=>(0,f.buildPermissionDict)(e))),m.authorizationsService.selfResourceReview({action:d.uw.action.UPDATE,resource_type:d.WF.resource_type.CLUSTER}).then((e=>(0,f.buildPermissionDict)(e)))]),i=null===(t=null===(e=null==r?void 0:r.data)||void 0===e?void 0:e.items)||void 0===t?void 0:t.filter((e=>n||!(0,b.default)(e)));if(!i)return{data:{items:[],page:0,total:0,queryParams:Object.assign({},a)}};const u=new Map;i.forEach((e=>{e.cluster_id&&u.set(e.cluster_id,{subscription:e})}));const c=[];n&&u.forEach((({subscription:e})=>{(0,b.default)(e)&&e.id&&c.push(e.id)})),c.length>0&&(yield m.assistedService.getAIClustersBySubscription(c).then((e=>e.data)).catch((e=>(l.Tb(e),[])))).forEach((e=>{const t=u.get(e.id);t&&(t.aiCluster=e)}));const p=i.filter((e=>e.managed&&e.status!==E.subscriptionStatuses.DEPROVISIONED));let h;if(p.length>0){const e=((e,t)=>{const a=new Set;return e.forEach((e=>{const t=e.cluster_id;t&&a.add(`'${t}'`)})),`id in (${Array.from(a).join(",")})`})(p);try{yield m.clusterService.getClusters(e).then((e=>{var t;const a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.items;null==a||a.forEach((e=>{if(e.id){const t=u.get(e.id);void 0!==t&&(t.cluster=e)}}))}))}catch(e){h=e}}return{data:Object.assign({items:H(u,o,s),page:r.data.page,total:r.data.total||0,queryParams:Object.assign({},a)},h?{meta:{clustersServiceError:h}}:{})}}))));var a,n})(e,a().features[_.ASSISTED_INSTALLER_MERGE_LISTS_FEATURE]))},W=e=>(0,s.action)(p.clustersConstants.GET_CLUSTER_DETAILS,(e=>S(void 0,void 0,void 0,(function*(){var t,a,n,r,s,o,u,c,p,f,h,v,_;const O=[d.JF.action.CREATE,d.JF.action.UPDATE,d.JF.action.GET,d.JF.action.LIST,d.JF.action.DELETE];let I=!1,R=!1,T=!1,A=!1;const P=(e,t)=>(e[t]=!1,e),D=O.reduce(P,{}),N=O.reduce(P,{}),L=O.reduce(P,{}),w=yield m.accountsService.getSubscription(e);w.data=(0,g.gI)(w.data);const M=(null===(a=null===(t=null==w?void 0:w.data)||void 0===t?void 0:t.plan)||void 0===a?void 0:a.type)===E.knownProducts.ARO,k=C.includes((null===(r=null===(n=null==w?void 0:w.data)||void 0===n?void 0:n.plan)||void 0===r?void 0:r.type)||""),x=y.includes((null===(o=null===(s=null==w?void 0:w.data)||void 0===s?void 0:s.plan)||void 0===o?void 0:o.type)||"");if(w.data.status!==E.subscriptionStatuses.DEPROVISIONED&&(yield m.authorizationsService.selfAccessReview({action:d.JF.action.UPDATE,resource_type:d.JF.resource_type.SUBSCRIPTION,subscription_id:e}).then((e=>{I=e.data.allowed})),O.forEach((t=>S(void 0,void 0,void 0,(function*(){yield m.authorizationsService.selfAccessReview({action:t,resource_type:d.JF.resource_type.IDP,subscription_id:e}).then((e=>{D[t]=e.data.allowed}))})))),yield m.authorizationsService.selfAccessReview({action:d.JF.action.UPDATE,resource_type:d.JF.resource_type.CLUSTER_AUTOSCALER,subscription_id:e}).then((e=>{T=e.data.allowed})),yield m.authorizationsService.selfAccessReview({action:d.JF.action.CREATE,resource_type:d.JF.resource_type.SUBSCRIPTION_ROLE_BINDING,subscription_id:e}).then((e=>{R=e.data.allowed})),yield m.authorizationsService.selfAccessReview({action:d.JF.action.GET,resource_type:d.JF.resource_type.SUBSCRIPTION_ROLE_BINDING,subscription_id:e}).then((e=>{A=e.data.allowed})),O.forEach((t=>S(void 0,void 0,void 0,(function*(){yield m.authorizationsService.selfAccessReview({action:t,resource_type:d.JF.resource_type.MACHINE_POOL,subscription_id:e}).then((e=>{N[t]=e.data.allowed}))})))),O.map((t=>S(void 0,void 0,void 0,(function*(){yield m.authorizationsService.selfAccessReview({action:t,resource_type:d.JF.resource_type.CLUSTER_KUBELET_CONFIG,subscription_id:e}).then((e=>{L[t]=e.data.allowed}))}))))),(w.data.managed||M)&&w.data.status!==E.subscriptionStatuses.DEPROVISIONED){const e=yield m.clusterService.getClusterDetails(w.data.cluster_id),t={data:Object.assign(Object.assign({},(0,g.Y0)(e.data)),{subscription:w.data,metrics:(0,g.a8)(null===(u=w.data.metrics)||void 0===u?void 0:u[0])})},a=yield m.clusterService.getClusterGateAgreements(w.data.cluster_id);t.data.upgradeGates=(null===(c=a.data)||void 0===c?void 0:c.items)||[];const l=yield m.authorizationsService.selfAccessReview({action:d.JF.action.DELETE,resource_type:d.JF.resource_type.CLUSTER,cluster_id:w.data.cluster_id}),n=yield m.clusterService.getLimitedSupportReasons(w.data.cluster_id);if(t.data.limitedSupportReasons=(null===(p=n.data)||void 0===p?void 0:p.items)||[],k||x){const e=yield m.clusterService.getInflightChecks(w.data.cluster_id);t.data.inflight_checks=(null===(f=e.data)||void 0===f?void 0:f.items)||[]}return t.data.canEdit=I,t.data.idpActions=D,t.data.canEditOCMRoles=R,t.data.canViewOCMRoles=A,t.data.canEditClusterAutoscaler=T,t.data.machinePoolsActions=N,t.data.kubeletConfigActions=L,t.data.canDelete=!!(null===(h=null==l?void 0:l.data)||void 0===h?void 0:h.allowed),t}let j;if((0,b.default)(w.data)&&w.data.cluster_id){try{const e=yield m.assistedService.getAICluster(w.data.cluster_id);j=(0,g.LZ)(w.data,(null==e?void 0:e.data)||null),j.aiCluster=e.data}catch(e){if(!i().isAxiosError(e)||404!==(null===(v=e.response)||void 0===v?void 0:v.status))throw e;console.info("Failed to query assisted-installer cluster id: ",w.data.cluster_id),j=(0,g.My)(w.data)}try{const e=yield m.assistedService.getAIFeatureSupportLevels(j.openshift_version||"",j.cpu_architecture);j.aiSupportLevels=e}catch(e){l.Tb(new Error(`Failed to query feature support levels: ${i().isAxiosError(e)?JSON.stringify(null===(_=e.response)||void 0===_?void 0:_.data):""}`))}}else j=(0,g.My)(w.data);return j.canEdit=I,j.canEditOCMRoles=R,j.canViewOCMRoles=A,j.canDelete=!1,j.subscription=w.data,{data:j}})))(e)),q=(e,t=!1)=>(0,s.action)(p.clustersConstants.SET_CLUSTER_DETAILS,{cluster:e,mergeDetails:t}),B=()=>(0,s.action)(p.clustersConstants.RESET_CREATED_CLUSTER_RESPONSE),$=e=>(0,s.action)(p.clustersConstants.GET_CLUSTER_STATUS,m.clusterService.getClusterStatus(e)),Z=e=>(0,s.action)(p.clustersConstants.GET_INFLIGHT_CHECKS,m.clusterService.getInflightChecks(e)),Y=e=>(0,s.action)(p.clustersConstants.RERUN_INFLIGHT_CHECKS,m.clusterService.rerunInflightChecks(e)),K=e=>(0,s.action)(p.clustersConstants.GET_RERUN_INFLIGHT_CHECKS,(e=>S(void 0,void 0,void 0,(function*(){const t=e.map((e=>m.clusterService.getTriggeredInflightCheckState(e)));return{data:{items:(yield Promise.allSettled(t)).filter((e=>"rejected"!==e.status)).map((e=>{var t;return null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.data})),page:0,total:0}}})))(e)),Q=()=>(0,s.action)(p.clustersConstants.CLEAR_INFLIGHT_CHECKS),J=()=>(0,s.action)(p.clustersConstants.CLEAR_CLUSTER_VERSIONS_RESPONSE),X={clearClusterResponse:T,createCluster:I,registerDisconnectedCluster:R,editCluster:A,fetchClusters:z,fetchClusterDetails:W,setClusterDetails:q,clearClusterDetails:()=>(0,s.action)(p.clustersConstants.CLEAR_CLUSTER_DETAILS),invalidateClusters:O,resetCreatedClusterResponse:B,editClusterDisplayName:P,archiveCluster:N,unarchiveCluster:G,getClusterStatus:$,getInflightChecks:Z,rerunInflightChecks:Y,clearInflightChecks:Q,getRerunInflightChecks:K,clearInstallableVersions:J,getInstallableVersions:(e,t,a=!1)=>{const l=m.clusterService.getInstallableVersions(e,t,a);return(0,s.action)(p.clustersConstants.GET_CLUSTER_VERSIONS,l)}}},89479:(e,t,a)=>{"use strict";a.r(t),a.d(t,{costActions:()=>u,getReport:()=>s,getSources:()=>o,getUserAccess:()=>i});var l=a(91757),n=a(33174),r=a(33047);const s=e=>(0,l.action)(n.costConstants.GET_REPORT,r.costService.getReport(e)),o=e=>(0,l.action)(n.costConstants.GET_SOURCES,r.costService.getSources(e)),i=e=>(0,l.action)(n.costConstants.GET_USER_ACCESS,r.costService.getUserAccess(e)),u={getReport:s,getSources:o,getUserAccess:i}},95696:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,getSummaryDashboard:()=>s,getUnhealthyClusters:()=>o});var l=a(91757),n=a(33174),r=a(33047);const s=()=>(0,l.action)(n.dashboardsConstants.GET_SUMMARY_DASHBOARD,r.accountsService.getCurrentAccount().then((e=>{var t,a;return null===(a=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id})).then((e=>e?r.accountManager.getDashboard(e):Promise.reject(new Error("No logged in user")))).then((e=>{const t={},a={};return e.data.metrics.forEach((e=>{var a;e.name&&(t[e.name]=null!==(a=e.vector)&&void 0!==a?a:[])})),e.data.name&&(a[e.data.name]=t),a}))),o=e=>(0,l.action)(n.dashboardsConstants.GET_UNHEALTHY_CLUSTERS,(e=>r.accountsService.getCurrentAccount().then((e=>{var t,a;return null===(a=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id})).then((t=>t?r.accountsService.getUnhealthyClusters(t,e):Promise.reject(new Error("No logged in user")))))(e)),i={getSummaryDashboard:s,getUnhealthyClusters:o}},25011:(e,t,a)=>{"use strict";a.d(t,{r:()=>s});var l=a(91757),n=a(33174),r=a(33047);const s={getAvailableSharedVpcDnsDomains:()=>(0,l.action)(n.dnsDomainsConstants.GET_DNS_DOMAINS,r.clusterService.getDnsDomains({userDefined:!0,hasCluster:!1})),createNewBaseDnsDomain:()=>(0,l.action)(n.dnsDomainsConstants.CREATE_DNS_DOMAIN,r.clusterService.createNewDnsDomain()),deleteBaseDnsDomain:e=>(0,l.action)(n.dnsDomainsConstants.DELETE_DNS_DOMAIN,r.clusterService.deleteDnsDomain(e),{deletedDnsId:e}),clearLastCreatedBaseDnsDomain:()=>(0,l.action)(n.dnsDomainsConstants.CLEAR_CREATED_DNS_DOMAIN)}},38432:(e,t,a)=>{"use strict";a.d(t,{R2:()=>u,c6:()=>d});var l=a(91757),n=a(43866),r=a(38352),s=a(84353);const o=(e,t)=>(0,l.action)(r.SET_FEATURE,{feature:e,enabled:t}),i=(e,t)=>({name:t,action:()=>s.Z.selfFeatureReview(e).then((e=>e.data.enabled))}),u=[i("hypershift-creation-wizard",r.HYPERSHIFT_WIZARD_FEATURE),i("rosa-v2-creation-wizard",r.ROSA_WIZARD_V2_ENABLED),i("hcp-rosa-getting-started-page",r.HCP_ROSA_GETTING_STARTED_PAGE),i("hcp-aws-billing-show",r.HCP_AWS_BILLING_SHOW),i("hcp-use-unmanaged-policies",r.HCP_USE_UNMANAGED),i("hcp-aws-billing-required",r.HCP_AWS_BILLING_REQUIRED),i("hcp-use-node-upgrade-policies",r.HCP_USE_NODE_UPGRADE_POLICIES),i("assisted-installer-merge-lists",r.ASSISTED_INSTALLER_MERGE_LISTS_FEATURE),i("osd-google-marketplace",r.OSD_GOOGLE_MARKETPLACE_FEATURE),i("osd-gcp-shared-vpc",r.OSD_GCP_SHARED_VPC_FEATURE),i("network-validator-ondemand",r.NETWORK_VALIDATOR_ONDEMAND_FEATURE),i("security-groups-feature-day1",r.SECURITY_GROUPS_FEATURE_DAY1),i("security-groups-feature",r.SECURITY_GROUPS_FEATURE),i("enable-machine-configuration",r.ENABLE_MACHINE_CONFIGURATION),i("cli-sso-authorization",r.CLI_SSO_AUTHORIZATION),{name:r.ASSISTED_INSTALLER_FEATURE,action:()=>Promise.all([s.Z.selfAccessReview({action:n.JF.action.CREATE,resource_type:"BareMetalCluster"}),s.Z.selfFeatureReview("assisted-installer")]).then((([e,t])=>e.data.allowed&&t.data.enabled))}],d=()=>e=>{u.forEach((({name:t,action:a})=>a().then((a=>e(o(t,a)))).catch((()=>e(o(t,!1))))))}},37668:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DEFAULT_FLAVOUR_ID:()=>s,getDefaultFlavour:()=>o});var l=a(91757),n=a(33174),r=a(33047);const s="osd-4",o=()=>(0,l.action)(n.flavourConstants.GET_DEFAULT_FLAVOUR,r.clusterService.getFlavour(s))},61771:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GITHUB_GET_LATEST_RELEASE:()=>s,getLatestRelease:()=>o});var l=a(91757),n=a(98538),r=a.n(n);const s="GITHUB_GET_LATEST_RELEASE",o=e=>(0,l.action)(s,(e=>r().get(`https://api.github.com/repos/${e}/releases/latest`))(e),{repo:e})},23445:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clearGlobalError:()=>s,setGlobalError:()=>r});var l=a(91757),n=a(79251);const r=(e,t,a)=>(0,l.action)(n.F,{errorTitle:e,errorMessage:a,sourceComponent:t}),s=e=>(0,l.action)(n.P,e)},5498:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clusterLogActions:()=>s.clusterLogActions,clustersActions:()=>l.clustersActions,costActions:()=>n.costActions,githubActions:()=>i,tollboothActions:()=>o.u,userActions:()=>r.userActions});var l=a(70774),n=a(89479),r=a(98371),s=a(60800),o=a(79726),i=a(61771)},92810:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(91757),n=a(33174),r=a(33047);const s=()=>(0,l.action)(n.loadBalancerConstants.GET_LOAD_BALANCER_VALUES,r.clusterService.getLoadBalancerQuotaValues().then((e=>e.data.items)))},7076:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clearMachineTypesByRegion:()=>d,getMachineTypes:()=>o,getMachineTypesByRegion:()=>u,groupByCloudProvider:()=>s,machineTypesActions:()=>i,machineTypesByRegionActions:()=>c});var l=a(91757),n=a(33174),r=a(33047);const s=e=>{const t={};return null==e||e.forEach((e=>{var a;const l=null===(a=e.cloud_provider)||void 0===a?void 0:a.id;l&&(t[l]?t[l].push(e):t[l]=[e])})),t},o=()=>(0,l.action)(n.machineTypesConstants.GET_MACHINE_TYPES,r.clusterService.getMachineTypes().then((e=>s(e.data.items)))),i={getMachineTypes:o},u=(e,t,a,o)=>(0,l.action)(n.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION,r.clusterService.getMachineTypesByRegion(e,t,a,o).then((e=>s(e.data.items))),{region:{id:o}}),d=()=>(0,l.action)(n.machineTypesConstants.RESET_INITIAL_STATE),c={getMachineTypesByRegion:u,clearMachineTypesByRegion:d}},31855:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(91757),n=a(33174),r=a(33047);const s=()=>(0,l.action)(n.persistentStorageConstants.GET_PERSISTENT_STORAGE_VALUES,r.clusterService.getStorageQuotaValues().then((e=>e.data.items)))},30366:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clearEditSubscriptionSettingsResponse:()=>o,editSubscriptionSettings:()=>s,subscriptionSettingsActions:()=>i});var l=a(91757),n=a(33174),r=a(33047);const s=(e,t)=>(0,l.action)(n.subscriptionSettingsConstants.EDIT_SUBSCRIPTION_SETTINGS,r.accountsService.editSubscription(e,t)),o=()=>(0,l.action)(n.subscriptionSettingsConstants.CLEAR_EDIT_SUBSCRIPTION_SETTINGS_RESPONSE),i={editSubscriptionSettings:s,clearEditSubscriptionSettingsResponse:o}},82069:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clearSubscriptionIDForCluster:()=>f,fetchAccount:()=>u,fetchQuotaCost:()=>p,fetchSubscriptionIDForCluster:()=>m,getSubscriptions:()=>d,invalidateSubscriptions:()=>c,subscriptionsActions:()=>E});var l=a(68697),n=a(91757),r=a(43866),s=a(33174),o=a(33047),i=a(52220);const u=()=>(0,n.action)(s.subscriptionsConstants.GET_ACCOUNT,o.accountsService.getCurrentAccount()),d=e=>(0,n.action)(s.subscriptionsConstants.GET_SUBSCRIPTIONS,(e=>{return t=void 0,a=void 0,n=function*(){let t={};const a=yield o.authorizationsService.selfResourceReview({action:r.uw.action.UPDATE,resource_type:r.uw.resource_type.CLUSTER});return t=(0,i.buildPermissionDict)(a),o.accountsService.getSubscriptions(e).then((e=>{var a;return null===(a=e.data.items)||void 0===a||a.forEach((e=>{e.canEdit=t["*"]||!!e.cluster_id&&!!t[e.cluster_id]})),e}))},new((l=void 0)||(l=Promise))((function(e,r){function s(e){try{i(n.next(e))}catch(e){r(e)}}function o(e){try{i(n.throw(e))}catch(e){r(e)}}function i(t){var a;t.done?e(t.value):(a=t.value,a instanceof l?a:new l((function(e){e(a)}))).then(s,o)}i((n=n.apply(t,a||[])).next())}));var t,a,l,n})(e)),c=()=>(0,n.action)((0,i.INVALIDATE_ACTION)(s.subscriptionsConstants.GET_SUBSCRIPTIONS)),p=e=>(0,n.action)(s.subscriptionsConstants.GET_QUOTA_COST,o.accountsService.getOrganizationQuota(e)),m=e=>(0,n.action)(s.subscriptionsConstants.GET_SUBSCRIPTION_ID,(e=>(0,l.Z)(e)?o.accountsService.fetchSubscriptionByExternalId(e).then((e=>{var t,a,l;return null===(l=null===(a=null===(t=e.data)||void 0===t?void 0:t.items)||void 0===a?void 0:a[0])||void 0===l?void 0:l.id})):o.clusterService.getClusterDetails(e).then((e=>{var t;return null===(t=e.data.subscription)||void 0===t?void 0:t.id})))(e)),f=()=>(0,n.action)(s.subscriptionsConstants.CLEAR_SUBSCRIPTION_ID),E={fetchAccount:u,fetchQuotaCost:p,getSubscriptions:d,invalidateSubscriptions:c,fetchSubscriptionIDForCluster:m,clearSubscriptionIDForCluster:f}},79726:(e,t,a)=>{"use strict";a.d(t,{K:()=>r,u:()=>s});var l=a(91757),n=a(68236);const r="FETCH_AUTHORIZATION_TOKEN",s={createAuthToken:()=>(0,l.action)(r,(0,n.v)())}},18460:(e,t,a)=>{"use strict";a.r(t),a.d(t,{fetchUpgradeGates:()=>i,rejectGateAction:()=>d,setClusterUpgradeGate:()=>u,upgradeGateActions:()=>c});var l=a(91757),n=a(33174),r=a(33047),s=a(52220),o=a(57572);const i=()=>(0,l.action)(n.clustersConstants.GET_UPGRADE_GATES,r.clusterService.getUpgradeGates().then((e=>e.data.items))),u=e=>(0,l.action)(n.clustersConstants.SET_CLUSTER_UPGRADE_GATE,e),d=e=>({type:(0,s.REJECTED_ACTION)(o.POST_UPGRADE_SCHEDULE),error:e,payload:e}),c={fetchUpgradeGates:i,setClusterUpgradeGate:u,rejectGateAction:d}},98371:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getOrganizationAndQuota:()=>c,selfTermsReview:()=>p,userActions:()=>m,userInfoResponse:()=>o});var l=a(91757),n=a(33174),r=a(33047),s=a(11689);const o=e=>(0,l.action)(n.userConstants.USER_INFO_RESPONSE,e),i=e=>{var t,a;return{items:(null!==(a=null===(t=e.data)||void 0===t?void 0:t.items)&&void 0!==a?a:[]).map(s.ME)}},u=e=>r.accountsService.getOrganizationQuota(e).then(i),d=(e,t)=>{const a=[u(e),t?Promise.resolve({data:t}):r.accountsService.getOrganization(e)];return Promise.all(a).then((([e,t])=>({quota:e,organization:t.data})))},c=()=>(e,t)=>{var a;const{userProfile:s}=t(),o=(null==s?void 0:s.organization.fulfilled)?null===(a=null==s?void 0:s.organization)||void 0===a?void 0:a.details:void 0,i=null==o?void 0:o.id;var u;e((u=void 0!==i?d(i,o):r.accountsService.getCurrentAccount().then((e=>{var t,a;const l=null===(a=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id;return void 0!==l?d(l):Promise.reject(Error("No organization"))})),(0,l.action)(n.userConstants.GET_ORGANIZATION,u)))},p=()=>(0,l.action)(n.userConstants.SELF_TERMS_REVIEW,r.authorizationsService.selfTermsReview()),m={userInfoResponse:o,getOrganizationAndQuota:c,processQuota:i,selfTermsReview:p}},92308:(e,t,a)=>{"use strict";a.r(t),a.d(t,{onClearFiltersAndFlags:()=>m,onFirstPage:()=>r,onLastPage:()=>s,onListFilterSet:()=>c,onListFlagsSet:()=>p,onListSortBy:()=>f,onNextPage:()=>i,onPageInput:()=>u,onPerPageSelect:()=>d,onPreviousPage:()=>o,viewActions:()=>E});var l=a(91757),n=a(33174);const r=e=>(0,l.action)(n.viewPaginationConstants.VIEW_FIRST_PAGE,{viewType:e}),s=e=>(0,l.action)(n.viewPaginationConstants.VIEW_LAST_PAGE,{viewType:e}),o=e=>(0,l.action)(n.viewPaginationConstants.VIEW_PREVIOUS_PAGE,{viewType:e}),i=e=>(0,l.action)(n.viewPaginationConstants.VIEW_NEXT_PAGE,{viewType:e}),u=(e,t)=>(0,l.action)(n.viewPaginationConstants.VIEW_PAGE_NUMBER,{viewType:t,pageNumber:e}),d=(e,t)=>(0,l.action)(n.viewPaginationConstants.SET_PER_PAGE,{viewType:t,pageSize:e}),c=(e,t)=>(0,l.action)(n.viewPaginationConstants.VIEW_SET_LIST_FILTER,{viewType:t,filter:e}),p=(e,t,a)=>(0,l.action)(n.viewPaginationConstants.VIEW_SET_LIST_FLAGS,{viewType:a,key:e,value:t}),m=e=>(0,l.action)(n.viewPaginationConstants.VIEW_CLEAR_FILTERS_AND_FLAGS,{viewType:e}),f=(e,t)=>(0,l.action)(n.viewPaginationConstants.VIEW_CHANGE_SORT,{viewType:t,sorting:e}),E={onFirstPage:r,onLastPage:s,onPreviousPage:o,onNextPage:i,onPageInput:u,onPerPageSelect:d,onListFilterSet:c,onListFlagsSet:p,onListSortBy:f,onClearFiltersAndFlags:m}},33115:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});const l={GET_OCM_ROLES:"GET_OCM_ROLES",GRANT_OCM_ROLE:"GRANT_OCM_ROLE",DELETE_OCM_ROLE:"DELETE_OCM_ROLE",CLEAR_GET_OCM_ROLES_RESPONSE:"CLEAR_GET_OCM_ROLES_RESPONSE",CLEAR_GRANT_OCM_ROLE_RESPONSE:"CLEAR_GRANT_OCM_ROLE_RESPONSE",CLEAR_DELETE_OCM_ROLE_RESPONSE:"CLEAR_DELETE_OCM_ROLE_RESPONSE"}},25830:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});const l="CREATE_ENTITLEMENT_CONFIG"},38352:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ASSISTED_INSTALLER_FEATURE:()=>n,ASSISTED_INSTALLER_MERGE_LISTS_FEATURE:()=>r,ASSISTED_INSTALLER_PLATFORM_OCI:()=>_,CLI_SSO_AUTHORIZATION:()=>b,ENABLE_MACHINE_CONFIGURATION:()=>v,HCP_AWS_BILLING_REQUIRED:()=>E,HCP_AWS_BILLING_SHOW:()=>f,HCP_ROSA_GETTING_STARTED_PAGE:()=>m,HCP_USE_NODE_UPGRADE_POLICIES:()=>h,HCP_USE_UNMANAGED:()=>g,HYPERSHIFT_WIZARD_FEATURE:()=>s,NETWORK_VALIDATOR_ONDEMAND_FEATURE:()=>p,OSD_GCP_SHARED_VPC_FEATURE:()=>c,OSD_GOOGLE_MARKETPLACE_FEATURE:()=>d,ROSA_WIZARD_V2_ENABLED:()=>o,SECURITY_GROUPS_FEATURE:()=>i,SECURITY_GROUPS_FEATURE_DAY1:()=>u,SET_FEATURE:()=>l});const l="SET_FEATURE",n="ASSISTED_INSTALLER_FEATURE",r="ASSISTED_INSTALLER_MERGE_LISTS_FEATURE",s="HYPERSHIFT_WIZARD_FEATURE",o="ROSA_WIZARD_V2_ENABLED",i="SECURITY_GROUPS_FEATURE",u="SECURITY_GROUPS_FEATURE_DAY1",d="OSD_GOOGLE_MARKETPLACE_FEATURE",c="OSD_GCP_SHARED_VPC_FEATURE",p="NETWORK_VALIDATOR_ONDEMAND_FEATURE",m="HCP_ROSA_GETTING_STARTED_PAGE",f="HCP_AWS_BILLING_SHOW",E="HCP_AWS_BILLING_REQUIRED",g="HCP_USE_UNMANAGED",h="HCP_USE_NODE_UPGRADE_POLICIES",v="ENABLE_MACHINE_CONFIGURATION",b="CLI_SSO_AUTHORIZATION",_="ASSISTED_INSTALLER_PLATFORM_OCI"},34562:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GET_DEFAULT_FLAVOUR:()=>l});const l="GET_DEFAULT_FLAVOUR"},79251:(e,t,a)=>{"use strict";a.d(t,{F:()=>l,P:()=>n});const l="SET_GLOBAL_ERROR",n="CLEAR_GLOBAL_ERROR"},33174:(e,t,a)=>{"use strict";a.r(t),a.d(t,{cloudProviderConstants:()=>u,clusterAutoscalerConstants:()=>n,clusterLogConstants:()=>Ie,clustersConstants:()=>l,costConstants:()=>d,dashboardsConstants:()=>g,dnsDomainsConstants:()=>h,featureConstants:()=>et,flavourConstants:()=>Ne,loadBalancerConstants:()=>f,machineTypesConstants:()=>c,persistentStorageConstants:()=>m,subscriptionSettingsConstants:()=>E,subscriptionsConstants:()=>p,userConstants:()=>i,viewConstants:()=>r,viewOptionsConstants:()=>s,viewPaginationConstants:()=>o});var l={};a.r(l),a.d(l,{ARCHIVE_CLUSTER:()=>S,CLEAR_CLUSTER_ARCHIVE_RESPONSE:()=>C,CLEAR_CLUSTER_DETAILS:()=>P,CLEAR_CLUSTER_HIBERNATE_RESPONSE:()=>U,CLEAR_CLUSTER_UNARCHIVE_RESPONSE:()=>O,CLEAR_CLUSTER_VERSIONS_RESPONSE:()=>x,CLEAR_DISPLAY_NAME_RESPONSE:()=>v,CLEAR_INFLIGHT_CHECKS:()=>M,CLEAR_RESUME_CLUSTER_RESPONSE:()=>H,CLEAR_UPGRADE_TRIAL_CLUSTER_RESPONSE:()=>W,CREATE_CLUSTER:()=>b,EDIT_CLUSTER:()=>_,GET_CLUSTERS:()=>I,GET_CLUSTERS_WITH_PARAMS:()=>R,GET_CLUSTER_AWS_ACCOUNT_ID:()=>F,GET_CLUSTER_DETAILS:()=>T,GET_CLUSTER_STATUS:()=>N,GET_CLUSTER_UPGRADE_GATES:()=>B,GET_CLUSTER_VERSIONS:()=>j,GET_INFLIGHT_CHECKS:()=>L,GET_RERUN_INFLIGHT_CHECKS:()=>k,GET_TECH_PREVIEW:()=>Z,GET_UPGRADE_GATES:()=>q,HIBERNATE_CLUSTER:()=>G,RERUN_INFLIGHT_CHECKS:()=>w,RESET_CREATED_CLUSTER_RESPONSE:()=>D,RESUME_CLUSTER:()=>V,SET_CLUSTER_DETAILS:()=>A,SET_CLUSTER_UPGRADE_GATE:()=>$,UNARCHIVE_CLUSTER:()=>y,UPGRADE_TRIAL_CLUSTER:()=>z});var n={};a.r(n),a.d(n,{CLEAR_GET_CLUSTER_AUTOSCALER_RESPONSE:()=>te,CLEAR_LAST_ACTION_RESULT:()=>ee,DISABLE_CLUSTER_AUTOSCALER:()=>Q,ENABLE_CLUSTER_AUTOSCALER:()=>K,GET_CLUSTER_AUTOSCALER:()=>Y,SET_HAS_INITIAL_AUTOSCALER:()=>X,UPDATE_CLUSTER_AUTOSCALER:()=>J,default:()=>ae});var r={};a.r(r),a.d(r,{ARCHIVED_CLUSTERS_VIEW:()=>ne,CLUSTERS_VIEW:()=>le,CLUSTER_LOGS_VIEW:()=>re,OVERVIEW_EXPIRED_TRIALS:()=>oe,OVERVIEW_VIEW:()=>se,default:()=>ie});var s={};a.r(s),a.d(s,{VIEW_MY_CLUSTERS_ONLY_CHANGED:()=>ue,default:()=>de});var o={};a.r(o),a.d(o,{SET_PER_PAGE:()=>ge,VIEW_CHANGE_SORT:()=>_e,VIEW_CLEAR_FILTERS_AND_FLAGS:()=>be,VIEW_FIRST_PAGE:()=>ce,VIEW_LAST_PAGE:()=>pe,VIEW_NEXT_PAGE:()=>fe,VIEW_PAGE_NUMBER:()=>Ee,VIEW_PREVIOUS_PAGE:()=>me,VIEW_SET_LIST_FILTER:()=>he,VIEW_SET_LIST_FLAGS:()=>ve});var i={};a.r(i),a.d(i,{GET_ORGANIZATION:()=>Ce,SELF_TERMS_REVIEW:()=>ye,USER_INFO_RESPONSE:()=>Se,default:()=>Oe});var u={};a.r(u),a.d(u,{GET_CLOUD_PROVIDERS:()=>Re,default:()=>Te});var d={};a.r(d),a.d(d,{GET_REPORT:()=>Ae,GET_SOURCES:()=>Pe,GET_USER_ACCESS:()=>De});var c={};a.r(c),a.d(c,{GET_MACHINE_TYPES:()=>Le,GET_MACHINE_TYPES_BY_REGION:()=>we,RESET_INITIAL_STATE:()=>Me,default:()=>ke});var p={};a.r(p),a.d(p,{CLEAR_SUBSCRIPTION_ID:()=>Ue,GET_ACCOUNT:()=>xe,GET_QUOTA_COST:()=>Fe,GET_SUBSCRIPTIONS:()=>je,GET_SUBSCRIPTION_ID:()=>Ge});var m={};a.r(m),a.d(m,{GET_PERSISTENT_STORAGE_VALUES:()=>Ve,default:()=>He});var f={};a.r(f),a.d(f,{GET_LOAD_BALANCER_VALUES:()=>ze,default:()=>We});var E={};a.r(E),a.d(E,{CLEAR_EDIT_SUBSCRIPTION_SETTINGS_RESPONSE:()=>Be,EDIT_SUBSCRIPTION_SETTINGS:()=>qe});var g={};a.r(g),a.d(g,{GET_SUMMARY_DASHBOARD:()=>$e,GET_UNHEALTHY_CLUSTERS:()=>Ze,SUMMARY_DASHBOARD:()=>Ye});var h={};a.r(h),a.d(h,{CLEAR_CREATED_DNS_DOMAIN:()=>Xe,CREATE_DNS_DOMAIN:()=>Qe,DELETE_DNS_DOMAIN:()=>Je,GET_DNS_DOMAINS:()=>Ke});const v="CLEAR_DISPLAY_NAME_RESPONSE",b="CREATE_CLUSTER",_="EDIT_CLUSTER",S="ARCHIVE_CLUSTER",C="CLEAR_CLUSTER_ARCHIVE_RESPONSE",y="UNARCHIVE_CLUSTER",O="CLEAR_CLUSTER_UNARCHIVE_RESPONSE",I="GET_CLUSTERS",R="GET_CLUSTERS_WITH_PARAMS",T="GET_CLUSTER_DETAILS",A="SET_CLUSTER_DETAILS",P="CLEAR_CLUSTER_DETAILS",D="RESET_CREATED_CLUSTER_RESPONSE",N="GET_CLUSTER_STATUS",L="GET_INFLIGHT_CHECKS",w="RERUN_INFLIGHT_CHECKS",M="CLEAR_INFLIGHT_CHECKS",k="GET_RERUN_INFLIGHT_CHECKS",x="CLEAR_CLUSTER_VERSIONS_RESPONSE",j="GET_CLUSTER_VERSIONS",F="GET_CLUSTER_AWS_ACCOUNT_ID",G="HIBERNATE_CLUSTER",U="CLEAR_CLUSTER_HIBERNATE_RESPONSE",V="RESUME_CLUSTER",H="CLEAR_RESUME_CLUSTER_RESPONSE",z="UPGRADE_TRIAL_CLUSTER",W="CLEAR_UPGRADE_TRIAL_CLUSTER_RESPONSE",q="GET_UPGRADE_GATES",B="GET_CLUSTER_UPGRADE_GATES",$="SET_CLUSTER_UPGRADE_GATE",Z="GET_TECH_PREVIEW",Y="GET_CLUSTER_AUTOSCALER",K="ENABLE_CLUSTER_AUTOSCALER",Q="DISABLE_CLUSTER_AUTOSCALER",J="UPDATE_CLUSTER_AUTOSCALER",X="SET_HAS_INITIAL_AUTOSCALER",ee="CLEAR_LAST_ACTION_RESULT",te="CLEAR_GET_CLUSTER_AUTOSCALER_RESPONSE",ae=Y,le="CLUSTERS_VIEW",ne="ARCHIVED_CLUSTERS_VIEW",re="CLUSTER_LOGS_VIEW",se="OVERVIEW_VIEW",oe="OVERVIEW_EXPIRED_TRIALS",ie={CLUSTERS_VIEW:le,ARCHIVED_CLUSTERS_VIEW:ne,CLUSTER_LOGS_VIEW:re,OVERVIEW_VIEW:se,OVERVIEW_EXPIRED_TRIALS:oe},ue="VIEW_MY_CLUSTERS_ONLY_CHANGED",de={VIEW_MY_CLUSTERS_ONLY_CHANGED:ue},ce="VIEW_FIRST_PAGE",pe="VIEW_LAST_PAGE",me="VIEW_PREVIOUS_PAGE",fe="VIEW_NEXT_PAGE",Ee="VIEW_PAGE_NUMBER",ge="SET_PER_PAGE",he="VIEW_SET_LIST_FILTER",ve="VIEW_SET_LIST_FLAGS",be="VIEW_CLEAR_FILTERS_AND_FLAGS",_e="VIEW_CHANGE_SORT",Se="USER_INFO_RESPONSE",Ce="GET_ORGANIZATION",ye="SELF_TERMS_REVIEW",Oe={USER_INFO_RESPONSE:Se,GET_ORGANIZATION:Ce,SELF_TERMS_REVIEW:ye};var Ie=a(61758);const Re="GET_CLOUD_PROVIDERS",Te=Re,Ae="GET_REPORT",Pe="GET_SOURCES",De="GET_USER_ACCESS";var Ne=a(34562);const Le="GET_MACHINE_TYPES",we="GET_MACHINE_TYPES_BY_REGION",Me="RESET_INITIAL_STATE",ke=Le,xe="GET_ACCOUNT",je="GET_SUBSCRIPTIONS",Fe="GET_QUOTA_COST",Ge="GET_SUBSCRIPTION_ID",Ue="CLEAR_SUBSCRIPTION_ID",Ve="GET_PERSISTENT_STORAGE_VALUES",He=Ve,ze="GET_LOAD_BALANCER_VALUES",We=ze,qe="EDIT_SUBSCRIPTION_SETTINGS",Be="CLEAR_EDIT_SUBSCRIPTION_SETTINGS_RESPONSE",$e="GET_SUMMARY_DASHBOARD",Ze="GET_UNHEALTHY_CLUSTERS",Ye="summary",Ke="GET_DNS_DOMAINS",Qe="CREATE_DNS_DOMAIN",Je="DELETE_DNS_DOMAIN",Xe="CLEAR_CREATED_DNS_DOMAIN";var et=a(38352)},30310:(e,t,a)=>{"use strict";a.d(t,{ah:()=>m,OM:()=>c,TO:()=>f,xq:()=>p});var l=a(66338),n=a(33047),r=a(91757),s=a(52220),o=a(33174);const i=(e,t)=>(0,r.action)((0,s.PENDING_ACTION)(o.clustersConstants.GET_TECH_PREVIEW),{product:e,type:t}),u=(e,t)=>(0,r.action)((0,s.REJECTED_ACTION)(o.clustersConstants.GET_TECH_PREVIEW),{product:e,type:t}),d=(e,t,a)=>(0,r.action)((0,s.FULFILLED_ACTION)(o.clustersConstants.GET_TECH_PREVIEW),{product:e,type:t,data:a});const c=(e,t,a)=>e.clusters.techPreview[t]&&e.clusters.techPreview[t][a],p=(e,t)=>(0,l.useSelector)((a=>c(a,e,t))),m=(e,t,a)=>{return l=void 0,r=void 0,o=function*(){return e(i(t,a)),n.clusterService.getTechPreviewStatus(t,a).then((l=>e(d(t,a,l.data)))).catch((l=>e(u(t,a))))},new((s=void 0)||(s=Promise))((function(e,t){function a(e){try{i(o.next(e))}catch(e){t(e)}}function n(e){try{i(o.throw(e))}catch(e){t(e)}}function i(t){var l;t.done?e(t.value):(l=t.value,l instanceof s?l:new s((function(e){e(l)}))).then(a,n)}i((o=o.apply(l,r||[])).next())}));var l,r,s,o},f=(e,t)=>{const a=(0,l.useDispatch)();return()=>m(a,e,t)}},4651:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useGetTechPreviewStatus:()=>n.TO,useGlobalState:()=>l.j,useTechPreviewStatus:()=>n.xq});var l=a(3189),n=a(30310)},3189:(e,t,a)=>{"use strict";a.d(t,{j:()=>l});const l=a(66338).useSelector},77031:(e,t,a)=>{"use strict";a.d(t,{PT:()=>i,ZP:()=>c});var l=a(93513),n=a(52220),r=a(34693),s=a(76727);const o={ccsCredentialsValidity:Object.assign(Object.assign({},n.baseRequestState),{cloudProvider:void 0,credentials:void 0}),gcpKeyRings:Object.assign(Object.assign({},n.baseRequestState),{cloudProvider:void 0,credentials:void 0,keyLocation:void 0,data:{items:[]}}),gcpKeys:Object.assign(Object.assign({},n.baseRequestState),{cloudProvider:void 0,credentials:void 0,keyLocation:void 0,keyRing:void 0,data:{items:[]}}),regions:Object.assign(Object.assign({},n.baseRequestState),{cloudProvider:void 0,credentials:void 0,openshiftVersionId:void 0,data:{byID:{}}}),vpcs:Object.assign(Object.assign({},n.baseRequestState),{cloudProvider:void 0,credentials:void 0,region:void 0,data:{items:[]}})},i=(e,t)=>{if(e.name&&!t.name)return-1;if(t.name&&!e.name)return 1;const a=e.name||e.id||"",l=t.name||t.id||"";return a.localeCompare(l)},u=e=>{const t={};return(e.items||[]).forEach((e=>{e.id&&(t[e.id]=e)})),t};function d(e=o,t){return(0,l.Uy)(e,(a=>{var l,d,c,p,m,f,E,g,h,v,b,_,S,C,y,O,I,R,T,A,P,D,N,L,w,M,k,x,j,F;switch(t.type){case(0,n.PENDING_ACTION)(s.VALIDATE_CLOUD_PROVIDER_CREDENTIALS):a.ccsCredentialsValidity.pending=!0;break;case(0,n.FULFILLED_ACTION)(s.VALIDATE_CLOUD_PROVIDER_CREDENTIALS):a.ccsCredentialsValidity=Object.assign(Object.assign({},n.baseRequestState),{fulfilled:!0,credentials:t.meta.credentials,cloudProvider:t.meta.cloudProvider});break;case(0,n.REJECTED_ACTION)(s.VALIDATE_CLOUD_PROVIDER_CREDENTIALS):a.ccsCredentialsValidity=Object.assign(Object.assign(Object.assign({},o.ccsCredentialsValidity),(0,r.getErrorState)(t)),{credentials:null===(l=t.meta)||void 0===l?void 0:l.credentials,cloudProvider:null===(d=t.meta)||void 0===d?void 0:d.cloudProvider});break;case s.CLEAR_CCS_CREDENTIALS_INQUIRY:return Object.assign(Object.assign({},e),{ccsCredentialsValidity:Object.assign({},o.ccsCredentialsValidity)});case(0,n.PENDING_ACTION)(s.LIST_GCP_KEY_RINGS):a.gcpKeyRings.pending=!0;break;case(0,n.FULFILLED_ACTION)(s.LIST_GCP_KEY_RINGS):a.gcpKeyRings=Object.assign(Object.assign({},n.baseRequestState),{fulfilled:!0,cloudProvider:null===(c=t.meta)||void 0===c?void 0:c.cloudProvider,credentials:null===(p=t.meta)||void 0===p?void 0:p.credentials,keyLocation:null===(m=t.meta)||void 0===m?void 0:m.keyLocation,data:{items:t.payload.data.items||[]}});break;case(0,n.REJECTED_ACTION)(s.LIST_GCP_KEY_RINGS):a.gcpKeyRings=Object.assign(Object.assign(Object.assign({},o.gcpKeyRings),(0,r.getErrorState)(t)),{cloudProvider:null===(f=t.meta)||void 0===f?void 0:f.cloudProvider,credentials:null===(E=t.meta)||void 0===E?void 0:E.credentials,keyLocation:null===(g=t.meta)||void 0===g?void 0:g.keyLocation});break;case(0,n.PENDING_ACTION)(s.LIST_GCP_KEYS):a.gcpKeys.pending=!0;break;case(0,n.FULFILLED_ACTION)(s.LIST_GCP_KEYS):a.gcpKeys=Object.assign(Object.assign({},n.baseRequestState),{fulfilled:!0,cloudProvider:null===(h=t.meta)||void 0===h?void 0:h.cloudProvider,credentials:null===(v=t.meta)||void 0===v?void 0:v.credentials,keyLocation:null===(b=t.meta)||void 0===b?void 0:b.keyLocation,keyRing:null===(_=t.meta)||void 0===_?void 0:_.keyRing,data:{items:t.payload.data.items||[]}});break;case(0,n.REJECTED_ACTION)(s.LIST_GCP_KEYS):a.gcpKeys=Object.assign(Object.assign(Object.assign({},o.gcpKeys),(0,r.getErrorState)(t)),{cloudProvider:null===(S=t.meta)||void 0===S?void 0:S.cloudProvider,credentials:null===(C=t.meta)||void 0===C?void 0:C.credentials,keyLocation:null===(y=t.meta)||void 0===y?void 0:y.keyLocation,keyRing:null===(O=t.meta)||void 0===O?void 0:O.keyRing});break;case(0,n.PENDING_ACTION)(s.LIST_REGIONS):a.regions.pending=!0;break;case(0,n.FULFILLED_ACTION)(s.LIST_REGIONS):a.regions=Object.assign(Object.assign({},n.baseRequestState),{fulfilled:!0,cloudProvider:null===(I=t.meta)||void 0===I?void 0:I.cloudProvider,credentials:null===(R=t.meta)||void 0===R?void 0:R.credentials,openshiftVersionId:null===(T=t.meta)||void 0===T?void 0:T.openshiftVersionId,data:{byID:u(t.payload.data)}});break;case(0,n.REJECTED_ACTION)(s.LIST_REGIONS):a.regions=Object.assign(Object.assign(Object.assign({},o.regions),(0,r.getErrorState)(t)),{cloudProvider:null===(A=t.meta)||void 0===A?void 0:A.cloudProvider,credentials:null===(P=t.meta)||void 0===P?void 0:P.credentials,openshiftVersionId:null===(D=t.meta)||void 0===D?void 0:D.openshiftVersionId});break;case(0,n.PENDING_ACTION)(s.LIST_VPCS):a.vpcs.pending=!0;break;case(0,n.FULFILLED_ACTION)(s.LIST_VPCS):{const e=t.payload.data.items||[],l="aws"===(null===(N=t.meta)||void 0===N?void 0:N.cloudProvider)?{items:e.map((e=>{if(e.aws_security_groups){const t=e.aws_security_groups.filter((e=>!e.red_hat_managed));return t.sort(i),Object.assign(Object.assign({},e),{aws_security_groups:t})}return e}))}:{items:e};a.vpcs=Object.assign(Object.assign({},n.baseRequestState),{fulfilled:!0,credentials:null===(L=t.meta)||void 0===L?void 0:L.credentials,cloudProvider:null===(w=t.meta)||void 0===w?void 0:w.cloudProvider,region:null===(M=t.meta)||void 0===M?void 0:M.region,subnet:null===(k=t.meta)||void 0===k?void 0:k.subnet,data:l});break}case(0,n.REJECTED_ACTION)(s.LIST_VPCS):a.vpcs=Object.assign(Object.assign(Object.assign({},o.vpcs),(0,r.getErrorState)(t)),{credentials:null===(x=t.meta)||void 0===x?void 0:x.credentials,cloudProvider:null===(j=t.meta)||void 0===j?void 0:j.cloudProvider,region:null===(F=t.meta)||void 0===F?void 0:F.region});break;case s.CLEAR_LIST_VPCS:return Object.assign(Object.assign({},e),{vpcs:o.vpcs});case s.CLEAR_ALL_CLOUD_PROVIDER_INQUIRIES:return Object.assign({},o)}}))}d.initialState=o;const c=d},52220:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FULFILLED_ACTION:()=>n,INVALIDATE_ACTION:()=>l,PENDING_ACTION:()=>r,REJECTED_ACTION:()=>s,actionTypes:()=>i,baseRequestState:()=>u,buildPermissionDict:()=>o});const l=e=>`${e}_INVALIDATE`,n=e=>`${e}_FULFILLED`,r=e=>`${e}_PENDING`,s=e=>`${e}_REJECTED`,o=e=>{const t={};return e&&e.data&&e.data.cluster_ids?(e.data.cluster_ids.forEach((e=>{t[e]=!0})),t):t},i={INVALIDATE_ACTION:l,FULFILLED_ACTION:n,PENDING_ACTION:r,REJECTED_ACTION:s},u={error:!1,pending:!1,fulfilled:!1}},98003:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>mt,history:()=>dt,store:()=>pt});var l=a(8206),n=a(53894),r=a(57283),s=a.n(r),o=a(10810),i=a(82717),u=a(72796),d=a(70505),c=a(17420),p=a(53252),m=a(91659),f=a(82492),E=a.n(f),g=a(93513),h=a(98538),v=a.n(h),b=a(52220),_=a(34693),S=a(7488),C=a(33174);const y=Object.assign(Object.assign({},b.baseRequestState),{valid:!0}),O={managed:!1,ccs:{enabled:!1}},I={clusters:Object.assign(Object.assign({},y),{valid:!1,meta:{},clusters:[],queryParams:{page:0,page_size:0}}),clusterStatus:Object.assign(Object.assign({},y),{status:{}}),inflightChecks:Object.assign(Object.assign({},y),{checks:[]}),clusterVersions:Object.assign(Object.assign({},y),{versions:[],params:{}}),details:Object.assign(Object.assign({},y),{cluster:O}),createdCluster:Object.assign(Object.assign({},y),{cluster:O}),editedCluster:Object.assign({},y),archivedCluster:Object.assign({},y),unarchivedCluster:Object.assign({},y),hibernatingCluster:Object.assign({},y),resumeHibernatingCluster:Object.assign({},y),rerunInflightCheckReq:Object.assign({},y),rerunInflightCheckRes:Object.assign(Object.assign({},y),{checks:[]}),upgradeGates:Object.assign(Object.assign({},y),{gates:[]}),upgradedCluster:Object.assign(Object.assign({},y),{cluster:O}),techPreview:{}},R=e=>{const t=Date.now();return e.filter((e=>!e.end_of_life_timestamp||new Date(e.end_of_life_timestamp).getTime()>t)).sort(((e,t)=>(0,S.versionComparator)(t.raw_id,e.raw_id)))},T=(e=I,t)=>(0,g.Uy)(e,(a=>{var l,n,r;switch(t.type){case(0,b.INVALIDATE_ACTION)(C.clustersConstants.GET_CLUSTERS):a.clusters=Object.assign({},I.clusters);break;case(0,b.REJECTED_ACTION)(C.clustersConstants.GET_CLUSTERS):a.clusters=Object.assign(Object.assign(Object.assign({},I.clusters),(0,_.getErrorState)(t)),{valid:!0,clusters:e.clusters.clusters});break;case(0,b.PENDING_ACTION)(C.clustersConstants.GET_CLUSTERS):a.clusters=Object.assign(Object.assign({},I.clusters),{pending:!0,valid:!0,clusters:e.clusters.clusters});break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.GET_CLUSTERS):{const{data:e}=t.payload,n="meta"in e&&(null===(l=e.meta)||void 0===l?void 0:l.clustersServiceError)?(0,_.getErrorState)({payload:v().isAxiosError(e.meta.clustersServiceError)?e.meta.clustersServiceError:void 0}):void 0;a.clusters=Object.assign(Object.assign({},y),{clusters:e.items,queryParams:e.queryParams,meta:{clustersServiceError:!0===(null==n?void 0:n.error)?n:void 0},fulfilled:!0});break}case C.clustersConstants.SET_CLUSTER_DETAILS:{const{cluster:l,mergeDetails:n}=t.payload;a.details=Object.assign(Object.assign({},y),{cluster:n?E()({},e.details.cluster,l):l,fulfilled:!0});break}case(0,b.REJECTED_ACTION)(C.clustersConstants.GET_CLUSTER_DETAILS):a.details=Object.assign(Object.assign(Object.assign({},I.details),(0,_.getErrorState)(t)),{cluster:e.details.cluster});break;case(0,b.PENDING_ACTION)(C.clustersConstants.GET_CLUSTER_DETAILS):a.details=Object.assign(Object.assign({},I.details),{pending:!0,cluster:e.details.cluster});break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.GET_CLUSTER_DETAILS):a.details=Object.assign(Object.assign({},y),{fulfilled:!0,cluster:t.payload.data});break;case C.clustersConstants.CLEAR_CLUSTER_DETAILS:a.details=Object.assign({},I.details);break;case(0,b.REJECTED_ACTION)(C.clustersConstants.CREATE_CLUSTER):a.createdCluster=Object.assign(Object.assign({},I.createdCluster),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.clustersConstants.CREATE_CLUSTER):a.createdCluster=Object.assign(Object.assign({},I.createdCluster),{pending:!0});break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.CREATE_CLUSTER):a.createdCluster=Object.assign(Object.assign({},y),{cluster:t.payload.data,fulfilled:!0});break;case C.clustersConstants.RESET_CREATED_CLUSTER_RESPONSE:a.createdCluster=Object.assign({},I.createdCluster);break;case(0,b.REJECTED_ACTION)(C.clustersConstants.EDIT_CLUSTER):a.editedCluster=Object.assign(Object.assign({},I.editedCluster),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.clustersConstants.EDIT_CLUSTER):a.editedCluster=Object.assign(Object.assign({},I.editedCluster),{pending:!0});break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.EDIT_CLUSTER):a.editedCluster=Object.assign(Object.assign({},y),{fulfilled:!0});break;case C.clustersConstants.CLEAR_DISPLAY_NAME_RESPONSE:a.editedCluster=Object.assign({},I.editedCluster);break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.ARCHIVE_CLUSTER):a.archivedCluster=Object.assign(Object.assign({},y),{fulfilled:!0});break;case(0,b.REJECTED_ACTION)(C.clustersConstants.ARCHIVE_CLUSTER):a.archivedCluster=Object.assign(Object.assign({},I.archivedCluster),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.clustersConstants.ARCHIVE_CLUSTER):a.archivedCluster=Object.assign(Object.assign({},I.archivedCluster),{pending:!0});break;case C.clustersConstants.CLEAR_CLUSTER_ARCHIVE_RESPONSE:a.archivedCluster=Object.assign({},I.archivedCluster);break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.HIBERNATE_CLUSTER):a.hibernatingCluster=Object.assign(Object.assign({},y),{fulfilled:!0});break;case(0,b.REJECTED_ACTION)(C.clustersConstants.HIBERNATE_CLUSTER):a.hibernatingCluster=Object.assign(Object.assign({},I.hibernatingCluster),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.clustersConstants.HIBERNATE_CLUSTER):a.hibernatingCluster=Object.assign(Object.assign({},I.hibernatingCluster),{pending:!0});break;case C.clustersConstants.CLEAR_CLUSTER_HIBERNATE_RESPONSE:a.hibernatingCluster=Object.assign({},I.hibernatingCluster);break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.RESUME_CLUSTER):a.resumeHibernatingCluster=Object.assign(Object.assign({},y),{fulfilled:!0});break;case(0,b.REJECTED_ACTION)(C.clustersConstants.RESUME_CLUSTER):a.resumeHibernatingCluster=Object.assign(Object.assign({},I.resumeHibernatingCluster),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.clustersConstants.RESUME_CLUSTER):a.resumeHibernatingCluster=Object.assign(Object.assign({},I.resumeHibernatingCluster),{pending:!0});break;case C.clustersConstants.CLEAR_RESUME_CLUSTER_RESPONSE:a.resumeHibernatingCluster=Object.assign({},I.resumeHibernatingCluster);break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.UNARCHIVE_CLUSTER):a.unarchivedCluster=Object.assign(Object.assign({},y),{fulfilled:!0});break;case(0,b.REJECTED_ACTION)(C.clustersConstants.UNARCHIVE_CLUSTER):a.unarchivedCluster=Object.assign(Object.assign({},I.unarchivedCluster),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.clustersConstants.UNARCHIVE_CLUSTER):a.unarchivedCluster=Object.assign(Object.assign({},I.unarchivedCluster),{pending:!0});break;case C.clustersConstants.CLEAR_CLUSTER_UNARCHIVE_RESPONSE:a.unarchivedCluster=Object.assign({},I.unarchivedCluster);break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.UPGRADE_TRIAL_CLUSTER):a.upgradedCluster=Object.assign(Object.assign({},y),{cluster:t.payload.data,fulfilled:!0});break;case(0,b.REJECTED_ACTION)(C.clustersConstants.UPGRADE_TRIAL_CLUSTER):a.upgradedCluster=Object.assign(Object.assign({},I.upgradedCluster),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.clustersConstants.UPGRADE_TRIAL_CLUSTER):a.upgradedCluster=Object.assign(Object.assign({},I.upgradedCluster),{pending:!0});break;case C.clustersConstants.CLEAR_UPGRADE_TRIAL_CLUSTER_RESPONSE:a.upgradedCluster=Object.assign({},I.upgradedCluster);break;case(0,b.REJECTED_ACTION)(C.clustersConstants.GET_CLUSTER_STATUS):a.clusterStatus=Object.assign(Object.assign({},I.clusterStatus),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.clustersConstants.GET_CLUSTER_STATUS):a.clusterStatus=Object.assign(Object.assign({},I.clusterStatus),{pending:!0,status:e.clusterStatus.status});break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.GET_CLUSTER_STATUS):a.clusterStatus=Object.assign(Object.assign({},y),{fulfilled:!0,status:t.payload.data});break;case(0,b.REJECTED_ACTION)(C.clustersConstants.GET_INFLIGHT_CHECKS):a.inflightChecks=Object.assign(Object.assign({},I.inflightChecks),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.clustersConstants.GET_INFLIGHT_CHECKS):a.inflightChecks=Object.assign(Object.assign({},I.inflightChecks),{pending:!0,checks:e.inflightChecks.checks});break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.GET_INFLIGHT_CHECKS):a.inflightChecks=Object.assign(Object.assign({},y),{fulfilled:!0,checks:t.payload.data.items||[]});break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckReq=Object.assign(Object.assign({},y),{fulfilled:!0});break;case(0,b.REJECTED_ACTION)(C.clustersConstants.RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckReq=Object.assign(Object.assign({},I.rerunInflightCheckReq),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.clustersConstants.RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckRes=Object.assign({},I.rerunInflightCheckRes),a.rerunInflightCheckReq=Object.assign(Object.assign({},I.rerunInflightCheckReq),{pending:!0});break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.GET_RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckRes=Object.assign(Object.assign({},y),{checks:t.payload.data.items||[],fulfilled:!0});break;case(0,b.REJECTED_ACTION)(C.clustersConstants.GET_RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckRes=Object.assign(Object.assign({},I.rerunInflightCheckRes),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.clustersConstants.GET_RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckRes=Object.assign(Object.assign({},I.rerunInflightCheckRes),{pending:!0,checks:e.rerunInflightCheckRes.checks});break;case C.clustersConstants.CLEAR_INFLIGHT_CHECKS:a.inflightChecks=Object.assign({},I.inflightChecks),a.rerunInflightCheckReq=Object.assign({},I.rerunInflightCheckReq),a.rerunInflightCheckRes=Object.assign({},I.rerunInflightCheckRes);break;case(0,b.REJECTED_ACTION)(C.clustersConstants.GET_CLUSTER_VERSIONS):a.clusterVersions=Object.assign(Object.assign({},I.clusterVersions),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.clustersConstants.GET_CLUSTER_VERSIONS):a.clusterVersions=Object.assign(Object.assign({},I.clusterVersions),{pending:!0});break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.GET_CLUSTER_VERSIONS):a.clusterVersions=Object.assign(Object.assign({},y),{fulfilled:!0,params:t.payload.config.params,versions:t.payload.data.items?R(t.payload.data.items):[]});break;case(0,b.REJECTED_ACTION)(C.clustersConstants.GET_TECH_PREVIEW):a.techPreview[t.payload.product]||(a.techPreview[t.payload.product]={}),a.techPreview[t.payload.product][t.payload.type]=Object.assign(Object.assign({},y),{error:!0});break;case(0,b.PENDING_ACTION)(C.clustersConstants.GET_TECH_PREVIEW):a.techPreview[t.payload.product]||(a.techPreview[t.payload.product]={}),a.techPreview[t.payload.product][t.payload.type]=Object.assign(Object.assign({},y),{pending:!0});break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.GET_TECH_PREVIEW):a.techPreview[t.payload.product]||(a.techPreview[t.payload.product]={}),a.techPreview[t.payload.product][t.payload.type]=Object.assign(Object.assign(Object.assign({},y),{fulfilled:!0}),t.payload.data);break;case C.clustersConstants.CLEAR_CLUSTER_VERSIONS_RESPONSE:a.clusterVersions=Object.assign({},I.clusterVersions);break;case(0,b.REJECTED_ACTION)(C.clustersConstants.GET_UPGRADE_GATES):a.upgradeGates=Object.assign(Object.assign({},I.upgradeGates),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.clustersConstants.GET_UPGRADE_GATES):a.upgradeGates.pending=!0;break;case(0,b.FULFILLED_ACTION)(C.clustersConstants.GET_UPGRADE_GATES):a.upgradeGates=Object.assign(Object.assign({},y),{gates:null!==(n=t.payload)&&void 0!==n?n:[],fulfilled:!0});break;case C.clustersConstants.SET_CLUSTER_UPGRADE_GATE:a.details.cluster.upgradeGates=[...null!==(r=e.details.cluster.upgradeGates)&&void 0!==r?r:[],{version_gate:{id:t.payload}}];break;default:return e}}));T.initialState=I;var A=a(61758);const P={requestState:Object.assign({},b.baseRequestState),logs:[],fetchedClusterLogsAt:void 0},D=(e=P,t)=>(0,g.Uy)(e,(e=>{switch(t.type){case(0,b.PENDING_ACTION)(A.GET_CLUSTER_LOGS):e.requestState=Object.assign(Object.assign({},b.baseRequestState),{pending:!0});break;case(0,b.FULFILLED_ACTION)(A.GET_CLUSTER_LOGS):e.requestState=Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0}),e.logs=t.payload.logs.data.items,e.fetchedClusterLogsAt=new Date;break;case(0,b.REJECTED_ACTION)(A.GET_CLUSTER_LOGS):e.requestState=Object.assign({},(0,_.getErrorState)(t)),e.fetchedClusterLogsAt=new Date;break;case C.viewPaginationConstants.VIEW_CLEAR_FILTERS_AND_FLAGS:case A.RESET_CLUSTER_HISTORY:e.requestState=b.baseRequestState}}));D.initialState=P;var N=a(95214),L=a(19953);const w={currentPage:1,pageSize:50,totalCount:0,totalPages:0,filter:"",sorting:{sortField:"created_at",isAscending:!1,sortIndex:3},flags:{showArchived:!1}},M=Object.assign(Object.assign({},w),{sorting:{sortField:"name",isAscending:!0,sortIndex:0},flags:Object.assign(Object.assign({},w.flags),{showMyClustersOnly:"true"===localStorage.getItem(L.ONLY_MY_CLUSTERS_TOGGLE_CLUSTER_ARCHIVES_LIST)})}),k=Object.assign(Object.assign({},w),{flags:Object.assign(Object.assign({},w.flags),{showMyClustersOnly:"true"===localStorage.getItem(L.ONLY_MY_CLUSTERS_TOGGLE_CLUSTERS_LIST)})}),x={currentPage:1,pageSize:20,totalCount:0,totalPages:0,filter:{description:"",loggedBy:""},sorting:{sortIndex:0,sortField:"timestamp",isAscending:!1},flags:{conditionalFilterFlags:{severityTypes:[],logTypes:[]}}},j=Object.assign(Object.assign({},w),{currentPage:1,pageSize:5,totalCount:0,totalPages:0}),F={};F[C.viewConstants.CLUSTERS_VIEW]=Object.assign(k),F[C.viewConstants.ARCHIVED_CLUSTERS_VIEW]=Object.assign(M),F[C.viewConstants.CLUSTER_LOGS_VIEW]=Object.assign(x),F[C.viewConstants.OVERVIEW_VIEW]=Object.assign(j),F[C.viewConstants.OVERVIEW_EXPIRED_TRIALS]=Object.assign(j);const G=(e=F,t)=>{const a={},l=(t,l)=>{const n=l,r=Math.ceil(n/e[t].pageSize);a[t]=Object.assign(Object.assign({},e[t]),{totalCount:n,totalPages:r,currentPage:Math.min(e[t].currentPage,r||1)})};switch(t.type){case C.viewOptionsConstants.VIEW_MY_CLUSTERS_ONLY_CHANGED:return a[t.viewType]=Object.assign(Object.assign({},e[t.viewType]),{flags:Object.assign(Object.assign({},e[t.viewType].flags),{showMyClustersOnly:t.payload.showMyClustersOnly})}),Object.assign(Object.assign({},e),a);case C.viewPaginationConstants.VIEW_FIRST_PAGE:return a[t.payload.viewType]=Object.assign(Object.assign({},e[t.payload.viewType]),{currentPage:1}),Object.assign(Object.assign({},e),a);case C.viewPaginationConstants.VIEW_LAST_PAGE:return a[t.payload.viewType]=Object.assign(Object.assign({},e[t.payload.viewType]),{currentPage:e[t.payload.viewType].totalPages}),Object.assign(Object.assign({},e),a);case C.viewPaginationConstants.VIEW_PREVIOUS_PAGE:return e[t.payload.viewType].currentPage<2?e:(a[t.payload.viewType]=Object.assign(Object.assign({},e[t.payload.viewType]),{currentPage:e[t.payload.viewType].currentPage-1}),Object.assign(Object.assign({},e),a));case C.viewPaginationConstants.VIEW_NEXT_PAGE:return e[t.payload.viewType].currentPage>=e[t.payload.viewType].totalPages?e:(a[t.payload.viewType]=Object.assign(Object.assign({},e[t.payload.viewType]),{currentPage:e[t.payload.viewType].currentPage+1}),Object.assign(Object.assign({},e),a));case C.viewPaginationConstants.VIEW_PAGE_NUMBER:return!Number.isInteger(t.payload.pageNumber)||t.payload.pageNumber<1||t.payload.pageNumber>e[t.payload.viewType].totalPages?e:(a[t.payload.viewType]=Object.assign(Object.assign({},e[t.payload.viewType]),{currentPage:t.payload.pageNumber}),Object.assign(Object.assign({},e),a));case C.viewPaginationConstants.SET_PER_PAGE:return a[t.payload.viewType]=Object.assign(Object.assign({},e[t.payload.viewType]),{pageSize:t.payload.pageSize,currentPage:1}),Object.assign(Object.assign({},e),a);case(0,b.FULFILLED_ACTION)(C.clustersConstants.GET_CLUSTERS):return l(C.viewConstants.CLUSTERS_VIEW,t.payload.data.total),l(C.viewConstants.ARCHIVED_CLUSTERS_VIEW,t.payload.data.total),Object.assign(Object.assign({},e),a);case(0,b.FULFILLED_ACTION)(C.dashboardsConstants.GET_UNHEALTHY_CLUSTERS):return l(C.viewConstants.OVERVIEW_VIEW,t.payload.data.total),Object.assign(Object.assign({},e),a);case(0,b.FULFILLED_ACTION)(C.subscriptionsConstants.GET_SUBSCRIPTIONS):return l(C.viewConstants.OVERVIEW_EXPIRED_TRIALS,t.payload.data.total),Object.assign(Object.assign({},e),a);case(0,b.FULFILLED_ACTION)(A.GET_CLUSTER_LOGS):return l(C.viewConstants.CLUSTER_LOGS_VIEW,t.payload.logs.data.total),Object.assign(Object.assign({},e),a);case(0,b.REJECTED_ACTION)(A.GET_CLUSTER_LOGS):return l(C.viewConstants.CLUSTER_LOGS_VIEW,0),Object.assign(Object.assign({},e),a);case C.viewPaginationConstants.VIEW_SET_LIST_FILTER:return a[t.payload.viewType]=Object.assign(Object.assign({},e[t.payload.viewType]),{filter:t.payload.filter,currentPage:1}),Object.assign(Object.assign({},e),a);case C.viewPaginationConstants.VIEW_CHANGE_SORT:return a[t.payload.viewType]=Object.assign(Object.assign({},e[t.payload.viewType]),{sorting:t.payload.sorting}),Object.assign(Object.assign({},e),a);case C.viewPaginationConstants.VIEW_SET_LIST_FLAGS:return a[t.payload.viewType]=Object.assign(Object.assign({},e[t.payload.viewType]),{flags:Object.assign(Object.assign({},e[t.payload.viewType].flags),{[t.payload.key]:t.payload.value})}),Object.assign(Object.assign({},e),a);case C.viewPaginationConstants.VIEW_CLEAR_FILTERS_AND_FLAGS:return a[t.payload.viewType]=Object.assign(Object.assign({},e[t.payload.viewType]),{flags:x.flags,filter:x.filter}),Object.assign(Object.assign({},e),a);default:return e}};G.initialState=F;const U={keycloakProfile:{},organization:Object.assign(Object.assign({},b.baseRequestState),{quotaList:{items:[]},timestamp:0}),selfTermsReviewResult:Object.assign(Object.assign({},b.baseRequestState),{terms_available:!1,terms_required:!1,redirect_url:""})};var V=a(79726);const H={token:{auths:void 0}},z={summary:Object.assign({},b.baseRequestState),unhealthyClusters:Object.assign(Object.assign({},b.baseRequestState),{subscriptions:[]})};function W(e=z,t){return(0,g.Uy)(e,(e=>{var a;switch(t.type){case(0,b.REJECTED_ACTION)(C.dashboardsConstants.GET_SUMMARY_DASHBOARD):e.summary=Object.assign(Object.assign({},z.summary),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.dashboardsConstants.GET_SUMMARY_DASHBOARD):e.summary.pending=!0;break;case(0,b.FULFILLED_ACTION)(C.dashboardsConstants.GET_SUMMARY_DASHBOARD):e.summary=Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0,metrics:t.payload.summary});break;case(0,b.REJECTED_ACTION)(C.dashboardsConstants.GET_UNHEALTHY_CLUSTERS):e.unhealthyClusters=Object.assign(Object.assign({},z.unhealthyClusters),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.dashboardsConstants.GET_UNHEALTHY_CLUSTERS):e.unhealthyClusters.pending=!0;break;case(0,b.FULFILLED_ACTION)(C.dashboardsConstants.GET_UNHEALTHY_CLUSTERS):{const l=null===(a=t.payload.data.items)||void 0===a?void 0:a.map((e=>{var t,a;const l=null!==(a=null===(t=null==e?void 0:e.metrics)||void 0===t?void 0:t[0])&&void 0!==a?a:{};return Object.assign(Object.assign({},e),{metrics:l})}));e.unhealthyClusters=Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0,subscriptions:null!=l?l:[]});break}}}))}W.initialState=z;const q=Object.assign(Object.assign({},b.baseRequestState),{providers:{}}),B=(e=q,t)=>{switch(t.type){case(0,b.REJECTED_ACTION)(C.cloudProviderConstants.GET_CLOUD_PROVIDERS):return Object.assign(Object.assign({},q),(0,_.getErrorState)(t));case(0,b.PENDING_ACTION)(C.cloudProviderConstants.GET_CLOUD_PROVIDERS):return Object.assign(Object.assign({},e),{pending:!0});case(0,b.FULFILLED_ACTION)(C.cloudProviderConstants.GET_CLOUD_PROVIDERS):return Object.assign(Object.assign({},q),{providers:t.payload,fulfilled:!0});default:return e}};B.initialState=q;const $={report:Object.assign({},b.baseRequestState),sources:Object.assign({},b.baseRequestState),userAccess:Object.assign({},b.baseRequestState)};function Z(e=$,t){return(0,g.Uy)(e,(e=>{switch(t.type){case(0,b.REJECTED_ACTION)(C.costConstants.GET_REPORT):e.report=Object.assign(Object.assign({},$.report),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.costConstants.GET_REPORT):e.report.pending=!0;break;case(0,b.FULFILLED_ACTION)(C.costConstants.GET_REPORT):e.report=Object.assign(Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0}),t.payload.data);break;case(0,b.REJECTED_ACTION)(C.costConstants.GET_SOURCES):e.sources=Object.assign(Object.assign({},$.sources),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.costConstants.GET_SOURCES):e.sources.pending=!0;break;case(0,b.FULFILLED_ACTION)(C.costConstants.GET_SOURCES):e.sources=Object.assign(Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0}),t.payload.data);break;case(0,b.REJECTED_ACTION)(C.costConstants.GET_USER_ACCESS):e.userAccess=Object.assign(Object.assign({},$.userAccess),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.costConstants.GET_USER_ACCESS):e.userAccess.pending=!0;break;case(0,b.FULFILLED_ACTION)(C.costConstants.GET_USER_ACCESS):e.userAccess=Object.assign(Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0}),t.payload.data)}}))}Z.initialState=$;var Y=a(21439);const K={modalName:null,data:{}};function Q(e=K,t){return(0,g.Uy)(e,(e=>{switch(t.type){case Y.a:e.modalName=t.payload.name,e.data=t.payload.data||{};break;case Y.e:return K}return e}))}Q.initialState=K;const J=Q;var X=a(73133),ee=a(51048),te=a(21902),ae=a(33877),le=a(3461),ne=a(14115),re=a(4266),se=a(79251);const oe={errorMessage:void 0,errorTitle:void 0,sourceComponent:void 0};var ie=a(37668),ue=a(34562);const de=Object.assign(Object.assign({},b.baseRequestState),{byID:{}});var ce=a(24350),pe=a.n(ce);const me=Object.assign(Object.assign({},b.baseRequestState),{types:{},typesByID:{}});function fe(e=me,t){switch(t.type){case(0,b.REJECTED_ACTION)(C.machineTypesConstants.GET_MACHINE_TYPES):return Object.assign(Object.assign(Object.assign({},me),e),(0,_.getErrorState)(t));case(0,b.PENDING_ACTION)(C.machineTypesConstants.GET_MACHINE_TYPES):return Object.assign(Object.assign(Object.assign({},me),e),{pending:!0});case(0,b.FULFILLED_ACTION)(C.machineTypesConstants.GET_MACHINE_TYPES):return Object.assign(Object.assign({},b.baseRequestState),{types:t.payload,typesByID:(a=t.payload,pe()([...null!==(l=a.aws)&&void 0!==l?l:[],...null!==(n=a.gcp)&&void 0!==n?n:[]],"id")),fulfilled:!0});default:return e}var a,l,n}fe.initialState=me;const Ee=fe,ge=Object.assign(Object.assign({},b.baseRequestState),{types:{},typesByID:{},region:void 0});function he(e=ge,t){switch(t.type){case(0,b.REJECTED_ACTION)(C.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION):return Object.assign(Object.assign(Object.assign(Object.assign({},ge),e),{region:t.meta.region}),(0,_.getErrorState)(t));case(0,b.PENDING_ACTION)(C.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION):return Object.assign(Object.assign({},ge),{region:t.meta.region,pending:!0});case(0,b.FULFILLED_ACTION)(C.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION):return Object.assign(Object.assign({},b.baseRequestState),{types:t.payload,typesByID:(a=t.payload,pe()([...null!==(l=a.aws)&&void 0!==l?l:[],...null!==(n=a.gcp)&&void 0!==n?n:[]],"id")),fulfilled:!0,region:t.meta.region});case C.machineTypesConstants.RESET_INITIAL_STATE:return Object.assign(Object.assign({},b.baseRequestState),{types:void 0,typesByID:void 0,fulfilled:!1,region:void 0});default:return e}var a,l,n}he.initialState=ge;const ve=he;var be=a(89734),_e=a.n(be);const Se=Object.assign(Object.assign({},b.baseRequestState),{items:[],createdDnsId:"",deletedDnsId:"",isUpdatingDomains:!1});function Ce(e=Se,t){switch(t.type){case(0,b.REJECTED_ACTION)(C.dnsDomainsConstants.GET_DNS_DOMAINS):return Object.assign(Object.assign(Object.assign({},Se),e),(0,_.getErrorState)(t));case(0,b.PENDING_ACTION)(C.dnsDomainsConstants.GET_DNS_DOMAINS):return Object.assign(Object.assign(Object.assign({},Se),e),{isUpdatingDomains:!1,pending:!0});case(0,b.FULFILLED_ACTION)(C.dnsDomainsConstants.GET_DNS_DOMAINS):return Object.assign(Object.assign({},b.baseRequestState),{items:_e()(t.payload.data.items||[],["id"]),isUpdatingDomains:!1,fulfilled:!0});case(0,b.REJECTED_ACTION)(C.dnsDomainsConstants.CREATE_DNS_DOMAIN):return Object.assign(Object.assign(Object.assign(Object.assign({},Se),e),(0,_.getErrorState)(t)),{isUpdatingDomains:!1});case(0,b.PENDING_ACTION)(C.dnsDomainsConstants.CREATE_DNS_DOMAIN):return Object.assign(Object.assign(Object.assign({},Se),e),{pending:!0,isUpdatingDomains:!0});case(0,b.FULFILLED_ACTION)(C.dnsDomainsConstants.CREATE_DNS_DOMAIN):{const a=t.payload.data,l=(e.items||[]).concat([a]);return Object.assign(Object.assign({},e),{items:_e()(l,["id"]),error:!1,pending:!1,fulfilled:!0,isUpdatingDomains:!1,createdDnsId:a.id})}case(0,b.PENDING_ACTION)(C.dnsDomainsConstants.DELETE_DNS_DOMAIN):return Object.assign(Object.assign(Object.assign({},Se),e),{deletedDnsId:t.meta.deletedDnsId,pending:!0,isUpdatingDomains:!0});case(0,b.FULFILLED_ACTION)(C.dnsDomainsConstants.DELETE_DNS_DOMAIN):return Object.assign(Object.assign({},e),{items:(e.items||[]).filter((e=>e.id!==t.meta.deletedDnsId)),error:!1,pending:!1,fulfilled:!0,isUpdatingDomains:!1,createdDnsId:""});case(0,b.REJECTED_ACTION)(C.dnsDomainsConstants.DELETE_DNS_DOMAIN):return Object.assign(Object.assign(Object.assign(Object.assign({},Se),e),(0,_.getErrorState)(t)),{isUpdatingDomains:!1});case C.dnsDomainsConstants.CLEAR_CREATED_DNS_DOMAIN:return Object.assign(Object.assign(Object.assign({},e),b.baseRequestState),{createdDnsId:"",isUpdatingDomains:!1});default:return e}}Ce.initialState=Se;const ye=Ce;var Oe=a(66157),Ie=a(48578);const Re={hasAutoscaler:!1,getAutoscaler:Object.assign(Object.assign({},b.baseRequestState),{data:void 0}),editAction:Object.assign({},b.baseRequestState)};function Te(e=Re,t){return(0,g.Uy)(e,(e=>{switch(t.type){case C.clusterAutoscalerConstants.SET_HAS_INITIAL_AUTOSCALER:e.hasAutoscaler=t.payload;break;case C.clusterAutoscalerConstants.CLEAR_LAST_ACTION_RESULT:e.editAction=Re.editAction;break;case C.clusterAutoscalerConstants.CLEAR_GET_CLUSTER_AUTOSCALER_RESPONSE:return Re;case(0,b.PENDING_ACTION)(C.clusterAutoscalerConstants.GET_CLUSTER_AUTOSCALER):e.getAutoscaler.pending=!0,e.getAutoscaler.data=void 0,e.hasAutoscaler=!1;break;case(0,b.FULFILLED_ACTION)(C.clusterAutoscalerConstants.GET_CLUSTER_AUTOSCALER):e.getAutoscaler.fulfilled=!0,e.getAutoscaler.pending=!1,e.getAutoscaler.data=(0,Ie.getCompleteFormClusterAutoscaling)(t.payload),e.hasAutoscaler=!0;break;case(0,b.REJECTED_ACTION)(C.clusterAutoscalerConstants.GET_CLUSTER_AUTOSCALER):e.getAutoscaler.data=void 0,e.getAutoscaler.pending=!1,e.getAutoscaler.fulfilled=!1,e.getAutoscaler.error=!0,e.hasAutoscaler=!1;break;case(0,b.PENDING_ACTION)(C.clusterAutoscalerConstants.ENABLE_CLUSTER_AUTOSCALER):case(0,b.PENDING_ACTION)(C.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER):case(0,b.PENDING_ACTION)(C.clusterAutoscalerConstants.UPDATE_CLUSTER_AUTOSCALER):e.editAction={pending:!0,fulfilled:!1,error:!1};break;case(0,b.FULFILLED_ACTION)(C.clusterAutoscalerConstants.ENABLE_CLUSTER_AUTOSCALER):case(0,b.FULFILLED_ACTION)(C.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER):case(0,b.FULFILLED_ACTION)(C.clusterAutoscalerConstants.UPDATE_CLUSTER_AUTOSCALER):t.type===(0,b.FULFILLED_ACTION)(C.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER)?(e.getAutoscaler.data=void 0,e.hasAutoscaler=!1):(e.getAutoscaler.data=(0,Ie.getCompleteFormClusterAutoscaling)(t.payload),e.hasAutoscaler=!0),e.editAction={pending:!1,fulfilled:!0,error:!1};break;case(0,b.REJECTED_ACTION)(C.clusterAutoscalerConstants.ENABLE_CLUSTER_AUTOSCALER):case(0,b.REJECTED_ACTION)(C.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER):case(0,b.REJECTED_ACTION)(C.clusterAutoscalerConstants.UPDATE_CLUSTER_AUTOSCALER):e.editAction=(0,_.getErrorState)(t)}}))}Te.initialState=Re;var Ae=a(11689);const Pe={account:Object.assign(Object.assign({},b.baseRequestState),{valid:!1,data:{}}),subscriptions:Object.assign(Object.assign({},b.baseRequestState),{valid:!1,items:[]}),quotaSummary:Object.assign(Object.assign({},b.baseRequestState),{valid:!1,items:[]}),quotaCost:Object.assign(Object.assign({},b.baseRequestState),{valid:!1,items:[]}),subscriptionID:Object.assign(Object.assign({},b.baseRequestState),{id:void 0})};function De(e=Pe,t){return(0,g.Uy)(e,(a=>{var l,n,r;switch(t.type){case(0,b.REJECTED_ACTION)(C.subscriptionsConstants.GET_ACCOUNT):a.account=Object.assign(Object.assign(Object.assign({},Pe.account),(0,_.getErrorState)(t)),{valid:!0});break;case(0,b.PENDING_ACTION)(C.subscriptionsConstants.GET_ACCOUNT):a.account.pending=!0;break;case(0,b.FULFILLED_ACTION)(C.subscriptionsConstants.GET_ACCOUNT):a.account=Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0,valid:!0,data:t.payload.data});break;case(0,b.INVALIDATE_ACTION)(C.subscriptionsConstants.GET_SUBSCRIPTIONS):a.subscriptions=Object.assign(Object.assign({},Pe.subscriptions),{valid:!1});break;case(0,b.REJECTED_ACTION)(C.subscriptionsConstants.GET_SUBSCRIPTIONS):a.subscriptions=Object.assign(Object.assign(Object.assign({},Pe.subscriptions),(0,_.getErrorState)(t)),{valid:!0,items:e.subscriptions.items});break;case(0,b.PENDING_ACTION)(C.subscriptionsConstants.GET_SUBSCRIPTIONS):a.subscriptions.pending=!0;break;case(0,b.FULFILLED_ACTION)(C.subscriptionsConstants.GET_SUBSCRIPTIONS):a.subscriptions=Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0,valid:!0,items:null!==(l=t.payload.data.items)&&void 0!==l?l:[]});break;case(0,b.REJECTED_ACTION)(C.subscriptionsConstants.GET_SUBSCRIPTION_ID):a.subscriptionID=Object.assign(Object.assign({},Pe.subscriptionID),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.subscriptionsConstants.GET_SUBSCRIPTION_ID):a.subscriptionID.pending=!0;break;case(0,b.FULFILLED_ACTION)(C.subscriptionsConstants.GET_SUBSCRIPTION_ID):a.subscriptionID=Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0,id:t.payload});break;case C.subscriptionsConstants.CLEAR_SUBSCRIPTION_ID:a.subscriptionID=Object.assign({},Pe.subscriptionID);break;case(0,b.REJECTED_ACTION)(C.subscriptionsConstants.GET_QUOTA_COST):a.quotaCost=Object.assign(Object.assign(Object.assign({},Pe.quotaCost),(0,_.getErrorState)(t)),{valid:!0,items:e.quotaCost.items});break;case(0,b.PENDING_ACTION)(C.subscriptionsConstants.GET_QUOTA_COST):a.quotaCost.pending=!0;break;case(0,b.FULFILLED_ACTION)(C.subscriptionsConstants.GET_QUOTA_COST):a.quotaCost=Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0,valid:!0,items:null!==(r=null===(n=t.payload.data.items)||void 0===n?void 0:n.map(Ae.ME))&&void 0!==r?r:[]})}}))}De.initialState=Pe;const Ne=Object.assign(Object.assign({},b.baseRequestState),{values:[]});function Le(e=Ne,t){switch(t.type){case(0,b.REJECTED_ACTION)(C.loadBalancerConstants.GET_LOAD_BALANCER_VALUES):return Object.assign(Object.assign({},Ne),(0,_.getErrorState)(t));case(0,b.PENDING_ACTION)(C.loadBalancerConstants.GET_LOAD_BALANCER_VALUES):return Object.assign(Object.assign({},e),{pending:!0});case(0,b.FULFILLED_ACTION)(C.loadBalancerConstants.GET_LOAD_BALANCER_VALUES):return Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0,values:t.payload});default:return e}}Le.initialState=Ne;const we=Object.assign(Object.assign({},b.baseRequestState),{values:[]});function Me(e=we,t){switch(t.type){case(0,b.REJECTED_ACTION)(C.persistentStorageConstants.GET_PERSISTENT_STORAGE_VALUES):return Object.assign(Object.assign({},we),(0,_.getErrorState)(t));case(0,b.PENDING_ACTION)(C.persistentStorageConstants.GET_PERSISTENT_STORAGE_VALUES):return Object.assign(Object.assign({},e),{pending:!0});case(0,b.FULFILLED_ACTION)(C.persistentStorageConstants.GET_PERSISTENT_STORAGE_VALUES):return Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0,values:t.payload});default:return e}}Me.initialState=we;const ke={requestState:b.baseRequestState,data:{}};function xe(e=ke,t){return(0,g.Uy)(e,(e=>{switch(t.type){case(0,b.PENDING_ACTION)(C.subscriptionSettingsConstants.EDIT_SUBSCRIPTION_SETTINGS):e.requestState=Object.assign(Object.assign({},b.baseRequestState),{pending:!0});break;case(0,b.REJECTED_ACTION)(C.subscriptionSettingsConstants.EDIT_SUBSCRIPTION_SETTINGS):e.requestState=(0,_.getErrorState)(t);break;case(0,b.FULFILLED_ACTION)(C.subscriptionSettingsConstants.EDIT_SUBSCRIPTION_SETTINGS):e.requestState=Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0}),e.data=t.payload.data;break;case C.subscriptionSettingsConstants.CLEAR_EDIT_SUBSCRIPTION_SETTINGS_RESPONSE:e.requestState=b.baseRequestState,e.data={}}}))}xe.initialState=ke;var je=a(19511),Fe=a(54605),Ge=a(16338),Ue=a(25830);const Ve=Object.assign({},b.baseRequestState);var He=a(67258),ze=a(4397);const We={getMachinePools:Object.assign(Object.assign({},b.baseRequestState),{data:[]}),deleteMachinePoolResponse:Object.assign({},b.baseRequestState)};function qe(e=We,t){return(0,g.Uy)(e,(e=>{var a;switch(t.type){case(0,b.PENDING_ACTION)(ze.GET_MACHINE_POOLS):e.getMachinePools.pending=!0;break;case(0,b.FULFILLED_ACTION)(ze.GET_MACHINE_POOLS):e.getMachinePools=Object.assign(Object.assign({},We.getMachinePools),{fulfilled:!0,error:!1,data:(null===(a=t.payload.data)||void 0===a?void 0:a.items)||[]});break;case(0,b.REJECTED_ACTION)(ze.GET_MACHINE_POOLS):e.getMachinePools=Object.assign(Object.assign({},We.getMachinePools),(0,_.getErrorState)(t));break;case ze.CLEAR_GET_MACHINE_POOLS_RESPONSE:e.getMachinePools=Object.assign({},We.getMachinePools);break;case(0,b.PENDING_ACTION)(ze.DELETE_MACHINE_POOL):e.deleteMachinePoolResponse.pending=!0;break;case(0,b.FULFILLED_ACTION)(ze.DELETE_MACHINE_POOL):e.deleteMachinePoolResponse=Object.assign(Object.assign({},We.deleteMachinePoolResponse),{fulfilled:!0,error:!1});break;case(0,b.REJECTED_ACTION)(ze.DELETE_MACHINE_POOL):e.deleteMachinePoolResponse=Object.assign(Object.assign({},We.deleteMachinePoolResponse),(0,_.getErrorState)(t));break;case ze.CLEAR_DELETE_MACHINE_POOL_RESPONSE:e.deleteMachinePoolResponse=Object.assign({},We.deleteMachinePoolResponse)}}))}qe.initialState=We;const Be=qe;var $e=a(91885),Ze=a(61771);const Ye={};$e.githubReleasesToFetch.forEach((e=>{Ye[e]=b.baseRequestState}));var Ke=a(77031),Qe=a(33115);const Je={getOCMRolesResponse:Object.assign(Object.assign({},b.baseRequestState),{data:{}}),grantOCMRoleResponse:Object.assign({},b.baseRequestState),editOCMRoleResponse:Object.assign({},b.baseRequestState),deleteOCMRoleResponse:Object.assign({},b.baseRequestState)};function Xe(e=Je,t){return(0,g.Uy)(e,(e=>{switch(t.type){case(0,b.PENDING_ACTION)(Qe.Z.GET_OCM_ROLES):e.getOCMRolesResponse.pending=!0;break;case(0,b.FULFILLED_ACTION)(Qe.Z.GET_OCM_ROLES):e.getOCMRolesResponse=Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0,data:t.payload.data});break;case(0,b.REJECTED_ACTION)(Qe.Z.GET_OCM_ROLES):e.getOCMRolesResponse=Object.assign(Object.assign(Object.assign({},b.baseRequestState),(0,_.getErrorState)(t)),{data:{}});break;case(0,b.PENDING_ACTION)(Qe.Z.GRANT_OCM_ROLE):e.grantOCMRoleResponse.pending=!0;break;case(0,b.FULFILLED_ACTION)(Qe.Z.GRANT_OCM_ROLE):e.grantOCMRoleResponse=Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0});break;case(0,b.REJECTED_ACTION)(Qe.Z.GRANT_OCM_ROLE):e.grantOCMRoleResponse=Object.assign(Object.assign({},b.baseRequestState),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(Qe.Z.DELETE_OCM_ROLE):e.deleteOCMRoleResponse.pending=!0;break;case(0,b.FULFILLED_ACTION)(Qe.Z.DELETE_OCM_ROLE):e.deleteOCMRoleResponse=Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0});break;case(0,b.REJECTED_ACTION)(Qe.Z.DELETE_OCM_ROLE):e.deleteOCMRoleResponse=Object.assign(Object.assign({},b.baseRequestState),(0,_.getErrorState)(t));break;case Qe.Z.CLEAR_GET_OCM_ROLES_RESPONSE:e.getOCMRolesResponse=Object.assign(Object.assign({},b.baseRequestState),{data:{}});break;case Qe.Z.CLEAR_GRANT_OCM_ROLE_RESPONSE:e.grantOCMRoleResponse=Object.assign({},b.baseRequestState);break;case Qe.Z.CLEAR_DELETE_OCM_ROLE_RESPONSE:e.deleteOCMRoleResponse=Object.assign({},b.baseRequestState)}}))}Xe.initialState=Je;const et=Xe;var tt=a(38352),at=a(38432);const lt={};at.R2.forEach((e=>{lt[e.name]=!1}));var nt=a(40748);const rt={clusters:T,deleteCluster:N.yQ,cloudProviders:B,viewOptions:G,userProfile:(e=U,t)=>(0,g.Uy)(e,(e=>{var a;switch(t.type){case C.userConstants.USER_INFO_RESPONSE:e.keycloakProfile=t.payload;break;case(0,b.REJECTED_ACTION)(C.userConstants.GET_ORGANIZATION):e.organization=Object.assign(Object.assign({},U.organization),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.userConstants.GET_ORGANIZATION):e.organization.pending=!0;break;case(0,b.FULFILLED_ACTION)(C.userConstants.GET_ORGANIZATION):e.organization=Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0,details:t.payload.organization,quotaList:t.payload.quota,timestamp:(new Date).getTime()});break;case(0,b.REJECTED_ACTION)(C.userConstants.SELF_TERMS_REVIEW):e.selfTermsReviewResult=Object.assign(Object.assign({},U.selfTermsReviewResult),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(C.userConstants.SELF_TERMS_REVIEW):e.selfTermsReviewResult.pending=!0;break;case(0,b.FULFILLED_ACTION)(C.userConstants.SELF_TERMS_REVIEW):e.selfTermsReviewResult=Object.assign(Object.assign(Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0}),t.payload.data),{redirect_url:null!==(a=t.payload.data.redirect_url)&&void 0!==a?a:""})}})),form:d.Z,tollbooth:(e=H,t)=>{switch(t.type){case(0,b.FULFILLED_ACTION)(V.K):return Object.assign(Object.assign({},e),{token:t.payload.data});case(0,b.REJECTED_ACTION)(V.K):return Object.assign(Object.assign({},e),{token:(0,_.getErrorState)(t)});default:return e}},modal:J,logs:X.mg,identityProviders:ee.U5,clusterAutoscaler:Te,clusterUsers:le.ZP,clusterSupport:ne.ZP,dnsDomains:ye,addOns:re.ZP,globalError:function(e=oe,t){switch(t.type){case se.F:return t.payload;case se.P:return t.payload&&t.payload!==e.sourceComponent?e:oe;default:return e}},flavours:function(e=de,t){switch(t.type){case(0,b.PENDING_ACTION)(ue.GET_DEFAULT_FLAVOUR):return Object.assign(Object.assign({},e),{pending:!0});case(0,b.REJECTED_ACTION)(ue.GET_DEFAULT_FLAVOUR):return Object.assign(Object.assign({},de),(0,_.getErrorState)(t));case(0,b.FULFILLED_ACTION)(ue.GET_DEFAULT_FLAVOUR):return Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0,byID:{[ie.DEFAULT_FLAVOUR_ID]:t.payload.data}});default:return e}},machineTypes:Ee,machineTypesByRegion:ve,monitoring:ae.QS,subscriptions:De,persistentStorageValues:Me,loadBalancerValues:Le,clusterLogs:D,notifications:p.notificationsReducer,networkSelfService:te.Z,subscriptionSettings:xe,subscriptionReleased:je.Vu,insightsData:Oe.Z,clusterRouters:Fe.ZT,cost:Z,dashboards:W,supportStatus:Ge.ZP,entitlementConfig:function(e=Ve,t){switch(t.type){case(0,b.REJECTED_ACTION)(Ue.Z):return Object.assign(Object.assign({},Ve),{error:!0,errorCode:-1,fulfilled:!1,errorMessage:""});case(0,b.PENDING_ACTION)(Ue.Z):return Object.assign(Object.assign({},e),{pending:!0});case(0,b.FULFILLED_ACTION)(Ue.Z):return Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0});default:return e}},features:(e=lt,t)=>t.type===tt.SET_FEATURE?Object.assign(Object.assign({},e),{[t.payload.feature]:t.payload.enabled}):e,clusterUpgrades:He.ZP,apiError:(e=null,t)=>{switch(t.type){case nt.tZ:return t.payload;case nt.c:return null;default:return e}},machinePools:Be,githubReleases:function(e=Ye,t){return(0,g.Uy)(e,(e=>{switch(t.type){case(0,b.REJECTED_ACTION)(Ze.GITHUB_GET_LATEST_RELEASE):e[t.meta.repo]=Object.assign(Object.assign({},Ye[t.meta.repo]),(0,_.getErrorState)(t));break;case(0,b.PENDING_ACTION)(Ze.GITHUB_GET_LATEST_RELEASE):e[t.meta.repo].pending=!0;break;case(0,b.FULFILLED_ACTION)(Ze.GITHUB_GET_LATEST_RELEASE):e[t.meta.repo]=Object.assign(Object.assign({},b.baseRequestState),{fulfilled:!0,data:t.payload.data})}}))},ccsInquiries:Ke.ZP,ocmRoles:et,rosaReducer:m.ZP};var st=a(64487),ot=a(75982),it=a(66448);var ut=a(34716);const dt=(0,i.lX)(),ct=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.compose,pt=(0,l.createStore)((ft=dt,(0,l.combineReducers)(Object.assign(Object.assign({},rt),{router:(0,c.iz)(ft)}))),ct((0,l.applyMiddleware)((0,o.Z)(dt),n.Z,(()=>e=>t=>(0,ut.Z)(t.payload)?e(t).catch((e=>e)):e(t)),s(),(0,u.uv)(Object.assign({},{dispatchDefaultFailure:!1})),(()=>e=>t=>{let a={};switch(t.type){case ot.nk:a.location=t.payload.location;break;case it.ZP.DESTROY:a.form=t.meta.form;break;case Y.a:a.modalName=t.payload.name;break;default:a=void 0}return(0,st.n_)({category:"redux",message:`Dispatching ${t.type}`,data:a,level:"info"}),e(t)})))),mt=pt;var ft},12468:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SUPPORTED_RESTRICTED_ENV_OCP_VERSIONS:()=>s,SUPPORT_CASE_URL:()=>r,getRefreshToken:()=>o,getRestrictedEnvApi:()=>n,isRestrictedEnv:()=>l});const l=e=>["int","scr","frh","frhStage"].includes((e||insights.chrome).getEnvironment()),n=e=>{const t=(e||insights.chrome).getEnvironment();return"frh"===t?"https://api.openshiftusgov.com":"frhStage"===t?"https://api.stage.openshiftusgov.com":"https://api.int.openshiftusgov.com"},r="https://redhatgov.servicenowservices.com/css",s=["4.11"],o=e=>e.auth.getRefreshToken()},68236:(e,t,a)=>{"use strict";a.d(t,{v:()=>n,Z:()=>r});var l=a(34677);const n=()=>l.Z.post("/api/accounts_mgmt/v1/access_token"),r={createAuthorizationToken:n,getDashboard:e=>l.Z.get(`/api/accounts_mgmt/v1/organizations/${e}/summary_dashboard`)}},61810:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var l=a(34677);const n={getCurrentAccount:()=>l.Z.get("/api/accounts_mgmt/v1/current_account"),getOrganization:e=>l.Z.get(`/api/accounts_mgmt/v1/organizations/${e}`,{params:{fetchCapabilities:!0}}),getSubscription:e=>l.Z.get(`/api/accounts_mgmt/v1/subscriptions/${e}`,{params:{fetchAccounts:!0,fetchCpuAndSocket:!0,fetchCapabilities:!0}}),getSubscriptions:e=>l.Z.get("/api/accounts_mgmt/v1/subscriptions",{params:{page:e.page,size:e.page_size,orderBy:e.order,search:e.filter,fields:e.fields,fetchAccounts:!0,fetchCapabilities:!0}}),getUnhealthyClusters:(e,t)=>{let a=`\n    organization_id = '${e}'\n    and status NOT IN ('Deprovisioned', 'Archived')\n    and metrics.health_state = 'unhealthy'\n  `;return t.filter&&""!==t.filter&&(a+=` and ${t.filter}`),l.Z.get("/api/accounts_mgmt/v1/subscriptions",{params:{page:t.page,size:t.page_size,order:t.order,search:a}})},getNotificationContacts:e=>l.Z.get(`/api/accounts_mgmt/v1/subscriptions/${e}/notification_contacts`),addNotificationContact:(e,t)=>l.Z.post(`/api/accounts_mgmt/v1/subscriptions/${e}/notification_contacts`,{account_identifier:t}),deleteNotificationContact:(e,t)=>l.Z.delete(`/api/accounts_mgmt/v1/subscriptions/${e}/notification_contacts/${t}`),getOrganizationQuota:e=>l.Z.get(`/api/accounts_mgmt/v1/organizations/${e}/quota_cost`,{params:{fetchRelatedResources:!0,fetchCloudAccounts:!0}}),editSubscription:(e,t)=>l.Z.patch(`/api/accounts_mgmt/v1/subscriptions/${e}`,t),registerDisconnected:e=>l.Z.post("/api/accounts_mgmt/v1/subscriptions",e),getOnDemandMetrics:e=>l.Z.get(`/api/accounts_mgmt/v1/subscriptions/${e}/ondemand_metrics`),getSupportCases:e=>l.Z.get(`/api/accounts_mgmt/v1/subscriptions/${e}/support_cases`),fetchSubscriptionByExternalId:e=>l.Z.get("/api/accounts_mgmt/v1/subscriptions",{params:{search:`external_cluster_id='${e}'`,fetchAccounts:!0,fetchCpuAndSocket:!0,fetchCapabilities:!0,fetchMetrics:!0}}),createRosaEntitlement:()=>l.Z.post("/api/accounts_mgmt/v1/self_entitlement/rosa"),getSubscriptionRoleBindings:e=>l.Z.get(`/api/accounts_mgmt/v1/subscriptions/${e}/role_bindings`,{params:{fetchAccounts:!0}}),createSubscriptionRoleBinding:(e,t,a)=>(0,l.Z)({method:"post",data:{account_username:t,role_id:a},url:`/api/accounts_mgmt/v1/subscriptions/${e}/role_bindings`}),deleteSubscriptionRoleBinding:(e,t)=>(0,l.Z)({method:"delete",url:`/api/accounts_mgmt/v1/subscriptions/${e}/role_bindings/${t}`}),getOrganizationLabels:e=>l.Z.get(`/api/accounts_mgmt/v1/organizations/${e}/labels`),getAWSAccountARNs:e=>l.Z.post("/api/clusters_mgmt/v1/aws_inquiries/sts_account_roles",{account_id:e}),getOCMRole:e=>l.Z.post("/api/clusters_mgmt/v1/aws_inquiries/sts_ocm_role",{account_id:e}),getUserRole:e=>l.Z.get(`/api/accounts_mgmt/v1/accounts/${e}/labels/sts_user_role`),getPolicies:()=>l.Z.get("/api/clusters_mgmt/v1/aws_inquiries/sts_policies"),getCredentialRequests:()=>l.Z.get("/api/clusters_mgmt/v1/aws_inquiries/sts_credential_requests")}},34677:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u,w:()=>i});var l=a(64487),n=a(98538),r=a.n(n),s=a(12468),o=a(78913);const i=e=>(e.interceptors.request.use((e=>{return t=void 0,a=void 0,r=function*(){yield insights.chrome.auth.getUser();const t=yield insights.chrome.auth.getToken(),a=(n=e.baseURL,(0,s.isRestrictedEnv)()?(0,s.getRestrictedEnvApi)():n||(o.default.configData.apiGateway?o.default.configData.apiGateway:""));var n;const r=Object.assign(Object.assign({},e),{url:`${a}${e.url}`});return t?r.headers=Object.assign(Object.assign({},r.headers),{Authorization:`Bearer ${t}`}):setTimeout((()=>{l.$e((e=>{e.setFingerprint(["empty token"]),l.Tb(new Error("Got empty token from Insights"))}))}),15e3),delete r.customHost,r},new((n=void 0)||(n=Promise))((function(e,l){function s(e){try{i(r.next(e))}catch(e){l(e)}}function o(e){try{i(r.throw(e))}catch(e){l(e)}}function i(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(s,o)}i((r=r.apply(t,a||[])).next())}));var t,a,n,r})),e),u=i(r().create())},84353:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var l=a(34677);const n={selfResourceReview:e=>l.Z.post("/api/authorizations/v1/self_resource_review",e),selfAccessReview:e=>l.Z.post("/api/authorizations/v1/self_access_review",e),selfTermsReview:e=>l.Z.post("/api/authorizations/v1/self_terms_review",e),selfFeatureReview:e=>l.Z.post("/api/authorizations/v1/self_feature_review",{feature:e})}},51147:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b,deleteControlPlaneUpgradeSchedule:()=>p,deleteUpgradeSchedule:()=>c,getAWSVPCDetails:()=>m,getControlPlaneUpgradeSchedules:()=>u,getUpgradeScheduleState:()=>d,getUpgradeSchedules:()=>i,listAWSRegions:()=>v,listAWSVPCs:()=>f,listGCPKeyRings:()=>g,listGCPKeys:()=>h,listGCPVPCs:()=>E,patchControlPlaneUpgradeSchedule:()=>o,patchUpgradeSchedule:()=>s,postControlPlaneUpgradeSchedule:()=>r,postUpgradeSchedule:()=>n});var l=a(34677);const n=(e,t)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/upgrade_policies`,t),r=(e,t)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/control_plane/upgrade_policies`,t),s=(e,t,a)=>l.Z.patch(`/api/clusters_mgmt/v1/clusters/${e}/upgrade_policies/${t}`,a),o=(e,t,a)=>l.Z.patch(`/api/clusters_mgmt/v1/clusters/${e}/control_plane/upgrade_policies/${t}`,a),i=e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/upgrade_policies`,{params:{search:"upgrade_type='OSD'"}}),u=e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/control_plane/upgrade_policies`,{params:{}}),d=(e,t)=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/upgrade_policies/${t}/state`),c=(e,t)=>l.Z.delete(`/api/clusters_mgmt/v1/clusters/${e}/upgrade_policies/${t}`),p=(e,t)=>l.Z.delete(`/api/clusters_mgmt/v1/clusters/${e}/control_plane/upgrade_policies/${t}`),m=(e,t)=>{const a=(null==t?void 0:t.includeSecurityGroups)?"?fetchSecurityGroups=true":"";return l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/vpc${a}`)},f=(e,t,a,n)=>{const r=(null==n?void 0:n.includeSecurityGroups)?"?fetchSecurityGroups=true":"";return l.Z.post(`/api/clusters_mgmt/v1/aws_inquiries/vpcs${r}`,{aws:e,region:{id:t},subnets:a?[a]:void 0})},E=(e,t)=>l.Z.post("/api/clusters_mgmt/v1/gcp_inquiries/vpcs",{gcp:e,region:{id:t}}),g=(e,t)=>l.Z.post("/api/clusters_mgmt/v1/gcp_inquiries/key_rings",{gcp:e,key_location:t}),h=(e,t,a)=>l.Z.post("/api/clusters_mgmt/v1/gcp_inquiries/encryption_keys",{gcp:e,key_location:t,key_ring_name:a}),v=(e,t)=>l.Z.post("/api/clusters_mgmt/v1/aws_inquiries/regions",Object.assign({aws:e},t&&{version:{id:t}})),b={getClusters:(e,t=-1)=>l.Z.post("/api/clusters_mgmt/v1/clusters?method=get",{size:t,search:e}),postNewCluster:e=>l.Z.post("/api/clusters_mgmt/v1/clusters",e),getClusterDetails:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}`),editCluster:(e,t)=>l.Z.patch(`/api/clusters_mgmt/v1/clusters/${e}`,t),getCloudProviders:()=>l.Z.get("/api/clusters_mgmt/v1/cloud_providers",{params:{size:-1,fetchRegions:!0}}),deleteCluster:e=>l.Z.delete(`/api/clusters_mgmt/v1/clusters/${e}`),getLogs:(e,t,a)=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/logs/${a}`,{params:{offset:t}}),getIdentityProviders:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/identity_providers`),createClusterIdentityProvider:(e,t)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/identity_providers`,t),getClusterGroupUsers:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/groups`,{params:{size:-1}}),addClusterGroupUser:(e,t,a)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/groups/${t}/users`,{id:a}),deleteClusterGroupUser:(e,t,a)=>l.Z.delete(`/api/clusters_mgmt/v1/clusters/${e}/groups/${t}/users/${encodeURIComponent(a)}`),deleteIdentityProvider:(e,t)=>l.Z.delete(`/api/clusters_mgmt/v1/clusters/${e}/identity_providers/${t}`),getFlavour:e=>l.Z.get(`/api/clusters_mgmt/v1/flavours/${e}`),getMachineTypes:()=>l.Z.get("/api/clusters_mgmt/v1/machine_types",{params:{size:-1}}),getMachineTypesByRegion:(e,t,a,n)=>l.Z.post("/api/clusters_mgmt/v1/aws_inquiries/machine_types",{aws:{access_key_id:e,account_id:t,secret_access_key:a},region:{id:n}},{params:{size:-1}}),archiveCluster:e=>l.Z.patch(`/api/accounts_mgmt/v1/subscriptions/${e}`,'{"status":"Archived"}'),hibernateCluster:e=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/hibernate`),resumeCluster:e=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/resume`),unarchiveCluster:e=>l.Z.patch(`/api/accounts_mgmt/v1/subscriptions/${e}`,'{"status":"Disconnected"}'),getDnsDomains:e=>{const t=`user_defined='${e.userDefined}' AND cluster.id${e.hasCluster?"!=''":"=''"}`;return l.Z.get("/api/clusters_mgmt/v1/dns_domains",{params:{search:t}})},createNewDnsDomain:()=>l.Z.post("/api/clusters_mgmt/v1/dns_domains",{}),deleteDnsDomain:e=>l.Z.delete(`/api/clusters_mgmt/v1/dns_domains/${e}`,{}),getEnabledAddOns:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/addon_inquiries`,{params:{size:-1,search:"enabled='t'"}}),getClusterAddOns:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/addons`),addClusterAddOn:(e,t)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/addons`,t),updateClusterAddOn:(e,t,a)=>l.Z.patch(`/api/clusters_mgmt/v1/clusters/${e}/addons/${t}`,a),deleteClusterAddOn:(e,t)=>l.Z.delete(`/api/clusters_mgmt/v1/clusters/${e}/addons/${t}`),getStorageQuotaValues:()=>l.Z.get("/api/clusters_mgmt/v1/storage_quota_values"),getLoadBalancerQuotaValues:()=>l.Z.get("/api/clusters_mgmt/v1/load_balancer_quota_values"),getRoles:()=>l.Z.get("/api/clusters_mgmt/v1/aws_infrastructure_access_roles/?search=state='valid'"),getInstallableVersions:(e,t,a=!1)=>l.Z.get("/api/clusters_mgmt/v1/versions/",{params:{order:"end_of_life_timestamp desc",product:a?"hcp":void 0,search:`enabled='t' AND channel_group='stable'${e?" AND rosa_enabled='t'":""}${t?" AND gcp_marketplace_enabled='t'":""}`,size:-1}}),getGrants:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/aws_infrastructure_access_role_grants`),addGrant:(e,t,a)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/aws_infrastructure_access_role_grants/`,{role:{id:t},user_arn:a}),deleteGrant:(e,t)=>l.Z.delete(`/api/clusters_mgmt/v1/clusters/${e}/aws_infrastructure_access_role_grants/${t}`),getIngresses:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/ingresses`),editIngresses:(e,t)=>l.Z.patch(`/api/clusters_mgmt/v1/clusters/${e}/ingresses`,t),editIngress:(e,t,a)=>l.Z.patch(`/api/clusters_mgmt/v1/clusters/${e}/ingresses/${t}`,a),addAdditionalIngress:(e,t)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/ingresses`,t),deleteAdditionalIngress:(e,t)=>l.Z.delete(`/api/clusters_mgmt/v1/clusters/${e}/ingresses/${t}`),editClusterIdentityProvider:(e,t)=>l.Z.patch(`/api/clusters_mgmt/v1/clusters/${e}/identity_providers/${t.id}`,t),getClusterStatus:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/status`),getInflightChecks:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/inflight_checks`),rerunInflightChecks:e=>l.Z.post("/api/clusters_mgmt/v1/network_verifications",{cluster_id:e}),getTriggeredInflightCheckState:e=>l.Z.get(`/api/clusters_mgmt/v1/network_verifications/${e}`),getMachinePools:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/machine_pools`),getNodePools:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/node_pools`),getNodePoolUpgradePolicies:(e,t)=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/node_pools/${t}/upgrade_policies`),patchNodePool:(e,t,a)=>l.Z.patch(`/api/clusters_mgmt/v1/clusters/${e}/node_pools/${t}`,a),patchMachinePool:(e,t,a)=>l.Z.patch(`/api/clusters_mgmt/v1/clusters/${e}/machine_pools/${t}`,a),addMachinePool:(e,t)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/machine_pools`,t),addNodePool:(e,t)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/node_pools`,t),deleteMachinePool:(e,t)=>l.Z.delete(`/api/clusters_mgmt/v1/clusters/${e}/machine_pools/${t}`),deleteNodePool:(e,t)=>l.Z.delete(`/api/clusters_mgmt/v1/clusters/${e}/node_pools/${t}`),getClusterAutoscaler:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/autoscaler`),enableClusterAutoscaler:(e,t)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/autoscaler`,t),disableClusterAutoscaler:e=>l.Z.delete(`/api/clusters_mgmt/v1/clusters/${e}/autoscaler`),updateClusterAutoscaler:(e,t)=>l.Z.patch(`/api/clusters_mgmt/v1/clusters/${e}/autoscaler`,t),upgradeTrialCluster:(e,t)=>l.Z.patch(`/api/clusters_mgmt/v1/clusters/${e}`,t),getUpgradeGates:()=>l.Z.get("/api/clusters_mgmt/v1/version_gates"),getClusterGateAgreements:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/gate_agreements`),postClusterGateAgreement:(e,t)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/gate_agreements`,{version_gate:{id:t}}),getOperatorRoleCommands:(e,t,a)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${t}/sts_commands`,{account_id:e,sts:{role_arn:a}}),getLimitedSupportReasons:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/limited_support_reasons`),getOidcConfigurations:e=>l.Z.get("/api/clusters_mgmt/v1/oidc_configs",{params:{search:`aws.account_id='${e}' or aws.account_id=''`}}),postNodePoolUpgradeSchedule:(e,t,a)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/node_pools/${t}/upgrade_policies`,a),getKubeletConfiguration:e=>l.Z.get(`/api/clusters_mgmt/v1/clusters/${e}/kubelet_config`),postKubeletConfiguration:(e,t)=>l.Z.post(`/api/clusters_mgmt/v1/clusters/${e}/kubelet_config`,Object.assign({},t)),patchKubeletConfiguration:(e,t)=>l.Z.patch(`/api/clusters_mgmt/v1/clusters/${e}/kubelet_config`,Object.assign({},t)),deleteKubeletConfiguration:e=>l.Z.patch(`/api/clusters_mgmt/v1/clusters/${e}/kubelet_config`),getTechPreviewStatus:(e,t)=>l.Z.get(`/api/clusters_mgmt/v1/products/${e}/technology_previews/${t}`)}},33047:(e,t,a)=>{"use strict";a.r(t),a.d(t,{accountManager:()=>i.Z,accountsService:()=>d.default,assistedService:()=>g,authorizationsService:()=>u.Z,clusterService:()=>l.default,costService:()=>o,default:()=>h,insightsService:()=>p,serviceLogService:()=>c.Z});var l=a(51147),n=a(80129),r=a(34677),s=a(78913);const o={getReport:e=>{const t=Object.assign(Object.assign({},e),{filter:Object.assign({limit:5,resolution:"monthly",time_scope_units:"month",time_scope_value:"-1"},null==e?void 0:e.filter),group_by:{cluster:"*"}}),a=(0,n.stringify)(t,{encode:!1,indices:!1});return r.Z.get(`/cost-management/v1/reports/openshift/costs/?${a}`,{baseURL:s.default.configData.insightsGateway,headers:{Accept:"application/json"}})},getSources:e=>r.Z.get("/cost-management/v1/sources/",{baseURL:s.default.configData.insightsGateway,headers:{Accept:"application/json"},params:{type:`${null==e?void 0:e.type}`}}),getUserAccess:e=>r.Z.get("/cost-management/v1/user-access/",{baseURL:s.default.configData.insightsGateway,headers:{Accept:"application/json"},params:{type:`${null==e?void 0:e.type}`}})};var i=a(68236),u=a(84353),d=a(61810),c=a(44202);const p={getClusterInsights:e=>r.Z.get(`/cluster/${e}/reports`,{baseURL:`${s.default.configData.insightsGateway}/insights-results-aggregator/v2`}),getOrganizationInsights:()=>r.Z.get("/org_overview",{baseURL:`${s.default.configData.insightsGateway}/insights-results-aggregator/v1`})};var m=a(84896);const{Services:{APIs:{ClustersAPI:f},NewFeatureSupportLevelsService:E}}=m,g={getAIClustersBySubscription:f.listBySubscriptionIds,getAICluster:f.get,getAIFeatureSupportLevels:E.getFeaturesSupportLevel},h={clusterService:l.default,costService:o,accountsService:d.default,accountManager:i.Z,authorizationsService:u.Z,serviceLogService:c.Z,insightsService:p,assistedService:g}},85384:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(98538),n=a.n(l);const r=()=>n().get("https://access.redhat.com/product-life-cycles/api/v1/products",{params:{name:"Openshift Container Platform 4"}})},44202:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var l=a(34677);const n={getClusterHistory:(e,t,a)=>l.Z.get("/api/service_logs/v1/clusters/cluster_logs",{params:{cluster_uuid:e,cluster_id:t,size:a.page_size,page:a.page,orderBy:a.order,search:a.filter,query:a.query,format:a.format}})}},55424:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(28416),n=a.n(l);const r=e=>{const{height:t,width:a,className:l}=e;return n().createElement("svg",{className:l,role:"img",version:"1.1","data-name":"Layer 1",height:t||".9em",width:a,viewBox:"0 0 304 182","aria-label":"Amazon Web Service logo"},n().createElement("g",null,n().createElement("path",{className:"st0",d:"M86.4,66.4c0,3.7,0.4,6.7,1.1,8.9c0.8,2.2,1.8,4.6,3.2,7.2c0.5,0.8,0.7,1.6,0.7,2.3c0,1-0.6,2-1.9,3l-6.3,4.2\n        c-0.9,0.6-1.8,0.9-2.6,0.9c-1,0-2-0.5-3-1.4C76.2,90,75,88.4,74,86.8c-1-1.7-2-3.6-3.1-5.9c-7.8,9.2-17.6,13.8-29.4,13.8\n        c-8.4,0-15.1-2.4-20-7.2c-4.9-4.8-7.4-11.2-7.4-19.2c0-8.5,3-15.4,9.1-20.6c6.1-5.2,14.2-7.8,24.5-7.8c3.4,0,6.9,0.3,10.6,0.8\n        c3.7,0.5,7.5,1.3,11.5,2.2v-7.3c0-7.6-1.6-12.9-4.7-16c-3.2-3.1-8.6-4.6-16.3-4.6c-3.5,0-7.1,0.4-10.8,1.3c-3.7,0.9-7.3,2-10.8,3.4\n        c-1.6,0.7-2.8,1.1-3.5,1.3c-0.7,0.2-1.2,0.3-1.6,0.3c-1.4,0-2.1-1-2.1-3.1v-4.9c0-1.6,0.2-2.8,0.7-3.5c0.5-0.7,1.4-1.4,2.8-2.1\n        c3.5-1.8,7.7-3.3,12.6-4.5c4.9-1.3,10.1-1.9,15.6-1.9c11.9,0,20.6,2.7,26.2,8.1c5.5,5.4,8.3,13.6,8.3,24.6V66.4z M45.8,81.6\n        c3.3,0,6.7-0.6,10.3-1.8c3.6-1.2,6.8-3.4,9.5-6.4c1.6-1.9,2.8-4,3.4-6.4c0.6-2.4,1-5.3,1-8.7v-4.2c-2.9-0.7-6-1.3-9.2-1.7\n        c-3.2-0.4-6.3-0.6-9.4-0.6c-6.7,0-11.6,1.3-14.9,4c-3.3,2.7-4.9,6.5-4.9,11.5c0,4.7,1.2,8.2,3.7,10.6\n        C37.7,80.4,41.2,81.6,45.8,81.6z M126.1,92.4c-1.8,0-3-0.3-3.8-1c-0.8-0.6-1.5-2-2.1-3.9L96.7,10.2c-0.6-2-0.9-3.3-0.9-4\n        c0-1.6,0.8-2.5,2.4-2.5h9.8c1.9,0,3.2,0.3,3.9,1c0.8,0.6,1.4,2,2,3.9l16.8,66.2l15.6-66.2c0.5-2,1.1-3.3,1.9-3.9c0.8-0.6,2.2-1,4-1\n        h8c1.9,0,3.2,0.3,4,1c0.8,0.6,1.5,2,1.9,3.9l15.8,67l17.3-67c0.6-2,1.3-3.3,2-3.9c0.8-0.6,2.1-1,3.9-1h9.3c1.6,0,2.5,0.8,2.5,2.5\n        c0,0.5-0.1,1-0.2,1.6c-0.1,0.6-0.3,1.4-0.7,2.5l-24.1,77.3c-0.6,2-1.3,3.3-2.1,3.9c-0.8,0.6-2.1,1-3.8,1h-8.6c-1.9,0-3.2-0.3-4-1\n        c-0.8-0.7-1.5-2-1.9-4L156,23l-15.4,64.4c-0.5,2-1.1,3.3-1.9,4c-0.8,0.7-2.2,1-4,1H126.1z M254.6,95.1c-5.2,0-10.4-0.6-15.4-1.8\n        c-5-1.2-8.9-2.5-11.5-4c-1.6-0.9-2.7-1.9-3.1-2.8c-0.4-0.9-0.6-1.9-0.6-2.8v-5.1c0-2.1,0.8-3.1,2.3-3.1c0.6,0,1.2,0.1,1.8,0.3\n        c0.6,0.2,1.5,0.6,2.5,1c3.4,1.5,7.1,2.7,11,3.5c4,0.8,7.9,1.2,11.9,1.2c6.3,0,11.2-1.1,14.6-3.3c3.4-2.2,5.2-5.4,5.2-9.5\n        c0-2.8-0.9-5.1-2.7-7c-1.8-1.9-5.2-3.6-10.1-5.2L246,52c-7.3-2.3-12.7-5.7-16-10.2c-3.3-4.4-5-9.3-5-14.5c0-4.2,0.9-7.9,2.7-11.1\n        c1.8-3.2,4.2-6,7.2-8.2c3-2.3,6.4-4,10.4-5.2c4-1.2,8.2-1.7,12.6-1.7c2.2,0,4.5,0.1,6.7,0.4c2.3,0.3,4.4,0.7,6.5,1.1\n        c2,0.5,3.9,1,5.7,1.6c1.8,0.6,3.2,1.2,4.2,1.8c1.4,0.8,2.4,1.6,3,2.5c0.6,0.8,0.9,1.9,0.9,3.3v4.7c0,2.1-0.8,3.2-2.3,3.2\n        c-0.8,0-2.1-0.4-3.8-1.2c-5.7-2.6-12.1-3.9-19.2-3.9c-5.7,0-10.2,0.9-13.3,2.8c-3.1,1.9-4.7,4.8-4.7,8.9c0,2.8,1,5.2,3,7.1\n        c2,1.9,5.7,3.8,11,5.5l14.2,4.5c7.2,2.3,12.4,5.5,15.5,9.6c3.1,4.1,4.6,8.8,4.6,14c0,4.3-0.9,8.2-2.6,11.6\n        c-1.8,3.4-4.2,6.4-7.3,8.8c-3.1,2.5-6.8,4.3-11.1,5.6C264.4,94.4,259.7,95.1,254.6,95.1z"}),n().createElement("g",null,n().createElement("path",{className:"st1",d:"M273.5,143.7c-32.9,24.3-80.7,37.2-121.8,37.2c-57.6,0-109.5-21.3-148.7-56.7c-3.1-2.8-0.3-6.6,3.4-4.4\n          c42.4,24.6,94.7,39.5,148.8,39.5c36.5,0,76.6-7.6,113.5-23.2C274.2,133.6,278.9,139.7,273.5,143.7z"}),n().createElement("path",{className:"st1",d:"M287.2,128.1c-4.2-5.4-27.8-2.6-38.5-1.3c-3.2,0.4-3.7-2.4-0.8-4.5c18.8-13.2,49.7-9.4,53.3-5\n          c3.6,4.5-1,35.4-18.6,50.2c-2.7,2.3-5.3,1.1-4.1-1.9C282.5,155.7,291.4,133.4,287.2,128.1z"}))))}},43866:(e,t,a)=>{"use strict";var l,n,r,s,o,i,u,d,c,p,m,f,E,g,h,v,b,_,S,C,y,O,I,R,T,A,P,D,N,L,w;a.d(t,{d8:()=>b,JF:()=>T,WF:()=>A,uw:()=>P}),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.ADD_ON="AddOn",e.FLAVOUR="Flavour",e.ACCOUNT="Account",e.ACCOUNT_POOL="AccountPool",e.CLUSTER="Cluster",e.PLAN="Plan",e.SUBSCRIPTION="Subscription",e.ORGANIZATION="Organization",e.ROLE="Role",e.PERMISSION="Permission",e.ROLE_BINDING="RoleBinding",e.REGISTRY="Registry",e.REGISTRY_CREDENTIAL="RegistryCredential",e.CURRENT_ACCOUNT="CurrentAccount",e.ACCESS_REVIEW="AccessReview",e.SELF_ACCCESS_REVIEW="SelfAcccessReview",e.RESOURCE_REVIEW="ResourceReview",e.SELF_RESOURCE_REVIEW="SelfResourceReview",e.CLUSTER_REGISTRATION="ClusterRegistration",e.ACCESS_TOKEN="AccessToken",e.CLUSTER_AUTHORIZATION="ClusterAuthorization",e.SELF_MANAGED_CLUSTER="SelfManagedCluster",e.REDHAT_MANAGED_CLUSTER="RedhatManagedCluster",e.EXPORT_CONTROL_REVIEW="ExportControlReview",e.CLUSTER_LOG="ClusterLog",e.CLUSTER_CREDENTIAL="ClusterCredential",e.CLUSTER_METRIC="ClusterMetric",e.RESOURCE_QUOTA="ResourceQuota",e.RESERVED_RESOURCE="ReservedResource",e.DASHBOARD="Dashboard",e.CLUSTER_PROVIDER_AND_REGION="ClusterProviderAndRegion",e.SERVICE_LOG="ServiceLog",e.INTERNAL_SERVICE_LOG="InternalServiceLog",e.CSLOGS="CSLogs",e.SUBSCRIPTION_LABEL="SubscriptionLabel",e.ORGANIZATION_LABEL="OrganizationLabel",e.SUBSCRIPTION_LABEL_INTERNAL="SubscriptionLabelInternal",e.SELF_ACCESS_REVIEW="SelfAccessReview",e.SUBSCRIPTION_INTERNAL="SubscriptionInternal",e.SUBSCRIPTION_ROLE_BINDING="SubscriptionRoleBinding",e.CLUSTER_SELF_MANAGED="ClusterSelfManaged",e.CLUSTER_SELF_MANAGED_ADDON="ClusterSelfManagedAddon",e.CLUSTER_SELF_MANAGED_LABEL="ClusterSelfManagedLabel",e.CLUSTER_SELF_MANAGED_STATUS="ClusterSelfManagedStatus"}(a=e.resource_type||(e.resource_type={}))}(l||(l={})),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.ADD_ON="AddOn",e.FLAVOUR="Flavour",e.ACCOUNT="Account",e.ACCOUNT_POOL="AccountPool",e.CLUSTER="Cluster",e.PLAN="Plan",e.SUBSCRIPTION="Subscription",e.ORGANIZATION="Organization",e.ROLE="Role",e.PERMISSION="Permission",e.ROLE_BINDING="RoleBinding",e.REGISTRY="Registry",e.REGISTRY_CREDENTIAL="RegistryCredential",e.CURRENT_ACCOUNT="CurrentAccount",e.ACCESS_REVIEW="AccessReview",e.SELF_ACCCESS_REVIEW="SelfAcccessReview",e.RESOURCE_REVIEW="ResourceReview",e.SELF_RESOURCE_REVIEW="SelfResourceReview",e.CLUSTER_REGISTRATION="ClusterRegistration",e.ACCESS_TOKEN="AccessToken",e.CLUSTER_AUTHORIZATION="ClusterAuthorization",e.SELF_MANAGED_CLUSTER="SelfManagedCluster",e.REDHAT_MANAGED_CLUSTER="RedhatManagedCluster",e.EXPORT_CONTROL_REVIEW="ExportControlReview",e.CLUSTER_LOG="ClusterLog",e.CLUSTER_CREDENTIAL="ClusterCredential",e.CLUSTER_METRIC="ClusterMetric",e.RESOURCE_QUOTA="ResourceQuota",e.RESERVED_RESOURCE="ReservedResource",e.DASHBOARD="Dashboard",e.CLUSTER_PROVIDER_AND_REGION="ClusterProviderAndRegion",e.SERVICE_LOG="ServiceLog",e.INTERNAL_SERVICE_LOG="InternalServiceLog",e.CSLOGS="CSLogs",e.SUBSCRIPTION_LABEL="SubscriptionLabel",e.ORGANIZATION_LABEL="OrganizationLabel",e.SUBSCRIPTION_LABEL_INTERNAL="SubscriptionLabelInternal",e.SELF_ACCESS_REVIEW="SelfAccessReview",e.SUBSCRIPTION_INTERNAL="SubscriptionInternal",e.SUBSCRIPTION_ROLE_BINDING="SubscriptionRoleBinding",e.CLUSTER_SELF_MANAGED="ClusterSelfManaged",e.CLUSTER_SELF_MANAGED_ADDON="ClusterSelfManagedAddon",e.CLUSTER_SELF_MANAGED_LABEL="ClusterSelfManagedLabel",e.CLUSTER_SELF_MANAGED_STATUS="ClusterSelfManagedStatus"}(a=e.resource_type||(e.resource_type={}))}(n||(n={})),function(e){let t;!function(e){e.SSO="SSO",e.OCM="OCM",e.RBAC="RBAC"}(t=e.managed_by||(e.managed_by={}))}(r||(r={})),function(e){let t;!function(e){e.OCM="OCM",e.RBAC="RBAC"}(t=e.managed_by||(e.managed_by={}))}(s||(s={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model_type||(e.billing_model_type={}))}(o||(o={})),function(e){let t,a;!function(e){e.MANAGE_CLUSTER_ADMIN="manage_cluster_admin"}(t=e.capability||(e.capability={})),function(e){e.CLUSTER="Cluster"}(a=e.type||(e.type={}))}(i||(i={})),function(e){let t,a;!function(e){e.X86="x86",e.X86_64="x86_64",e.PPC="ppc",e.PPC64="ppc64",e.PPC64LE="ppc64le",e.S390="s390",e.S390X="s390x",e.IA64="ia64",e.AARCH64="aarch64"}(t=e.arch||(e.arch={})),function(e){e.SCA="sca"}(a=e.type||(e.type={}))}(u||(u={})),function(e){let t;!function(e){e.ADDON="addon",e.COMPUTE_NODE="compute.node",e.CLUSTER="cluster",e.NETWORK_IO="network.io",e.NETWORK_LOADBALANCER="network.loadbalancer",e.PV_STORAGE="pv.storage"}(t=e.resource_type||(e.resource_type={}))}(d||(d={})),function(e){let t,a;!function(e){e.ASSISTED_INSTALL="assistedInstall",e.HOSTED_CONTROL_PLANE="HostedControlPlane"}(t=e.product_category||(e.product_category={})),function(e){e.OCP="OCP",e.OSD="OSD",e.OSDTRIAL="OSDTrial",e.MOA="MOA",e.RHMI="RHMI",e.RHOSAK="RHOSAK",e.RHOSAKTRIAL="RHOSAKTrial",e.RHOSR="RHOSR",e.RHOSRTRIAL="RHOSRTrial",e.RHOSE="RHOSE",e.RHOSETRIAL="RHOSETrial",e.RHACS="RHACS",e.RHACSTRIAL="RHACSTrial",e.ARO="ARO"}(a=e.product_id||(e.product_id={}))}(c||(c={})),function(e){let t;!function(e){e.PENDING="Pending",e.ACCEPTED="Accepted",e.DECLINED="Declined",e.RESCINDED="Rescinded",e.COMPLETED="Completed"}(t=e.status||(e.status={}))}(p||(p={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={}))}(m||(m={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={}))}(f||(f={})),function(e){let t;!function(e){e.CONFIG="Config",e.USER="User"}(t=e.managed_by||(e.managed_by={}))}(E||(E={})),function(e){let t;!function(e){e.HEALTHY="healthy",e.UNHEALTHY="unhealthy",e.UNKNOWN="unknown"}(t=e.health_state||(e.health_state={}))}(g||(g={})),function(e){let t;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={}))}(h||(h={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={}))}(v||(v={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp",e.ANY="any"}(t=e.billing_model||(e.billing_model={}))}(b||(b={})),function(e){let t,a;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={})),function(e){e.COMPUTE_NODE_AWS="compute.node.aws",e.PV_STORAGE_AWS="pv.storage.aws",e.CLUSTER_AWS="cluster.aws",e.NETWORK_IO_AWS="network.io.aws",e.NETWORK_LOADBALANCER_AWS="network.loadbalancer.aws",e.COMPUTE_NODE_GCP="compute.node.gcp",e.PV_STORAGE_GCP="pv.storage.gcp",e.CLUSTER_GCP="cluster.gcp",e.NETWORK_IO_GCP="network.io.gcp",e.NETWORK_GCP_LOADBALANCER_GCP="network-gcp.loadbalancer.gcp",e.ADDON="addon",e.COMPUTE_NODE="compute.node",e.PV_STORAGE="pv.storage",e.CLUSTER="cluster",e.NETWORK_IO="network.io",e.NETWORK_LOADBALANCER="network.loadbalancer"}(a=e.resource_type||(e.resource_type={}))}(_||(_={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={}))}(S||(S={})),function(e){let t;!function(e){e.CONFIG="Config",e.MANUAL="Manual",e.SUBSCRIPTION="Subscription"}(t=e.type||(e.type={}))}(C||(C={})),function(e){let t;!function(e){e.CONFIG="Config",e.MANUAL="Manual",e.SUBSCRIPTION="Subscription"}(t=e.type||(e.type={}))}(y||(y={})),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.CLUSTER="Cluster",e.SUBSCRIPTION="Subscription"}(a=e.resource_type||(e.resource_type={}))}(O||(O={})),function(e){let t,a;!function(e){e.GET="get",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.CLUSTER="Cluster",e.SUBSCRIPTION="Subscription"}(a=e.resource_type||(e.resource_type={}))}(I||(I={})),function(e){let t,a;!function(e){e.CONFIG="Config",e.USER="User",e.RBAC="RBAC"}(t=e.managed_by||(e.managed_by={})),function(e){e.APPLICATION="Application",e.SUBSCRIPTION="Subscription",e.ORGANIZATION="Organization"}(a=e.type||(e.type={}))}(R||(R={})),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.ADD_ON="AddOn",e.FLAVOUR="Flavour",e.ACCOUNT="Account",e.ACCOUNT_POOL="AccountPool",e.CLUSTER="Cluster",e.IDP="Idp",e.PLAN="Plan",e.SUBSCRIPTION="Subscription",e.ORGANIZATION="Organization",e.ROLE="Role",e.PERMISSION="Permission",e.ROLE_BINDING="RoleBinding",e.REGISTRY="Registry",e.REGISTRY_CREDENTIAL="RegistryCredential",e.CURRENT_ACCOUNT="CurrentAccount",e.ACCESS_REVIEW="AccessReview",e.SELF_ACCCESS_REVIEW="SelfAcccessReview",e.RESOURCE_REVIEW="ResourceReview",e.SELF_RESOURCE_REVIEW="SelfResourceReview",e.CLUSTER_REGISTRATION="ClusterRegistration",e.ACCESS_TOKEN="AccessToken",e.CLUSTER_AUTHORIZATION="ClusterAuthorization",e.SELF_MANAGED_CLUSTER="SelfManagedCluster",e.REDHAT_MANAGED_CLUSTER="RedhatManagedCluster",e.EXPORT_CONTROL_REVIEW="ExportControlReview",e.CLUSTER_LOG="ClusterLog",e.CLUSTER_CREDENTIAL="ClusterCredential",e.CLUSTER_METRIC="ClusterMetric",e.CLUSTER_AUTOSCALER="ClusterAutoscaler",e.RESOURCE_QUOTA="ResourceQuota",e.RESERVED_RESOURCE="ReservedResource",e.DASHBOARD="Dashboard",e.CLUSTER_PROVIDER_AND_REGION="ClusterProviderAndRegion",e.SERVICE_LOG="ServiceLog",e.INTERNAL_SERVICE_LOG="InternalServiceLog",e.CSLOGS="CSLogs",e.SUBSCRIPTION_LABEL="SubscriptionLabel",e.ORGANIZATION_LABEL="OrganizationLabel",e.SUBSCRIPTION_LABEL_INTERNAL="SubscriptionLabelInternal",e.SELF_ACCESS_REVIEW="SelfAccessReview",e.SUBSCRIPTION_INTERNAL="SubscriptionInternal",e.SUBSCRIPTION_ROLE_BINDING="SubscriptionRoleBinding",e.CLUSTER_SELF_MANAGED="ClusterSelfManaged",e.CLUSTER_SELF_MANAGED_ADDON="ClusterSelfManagedAddon",e.CLUSTER_SELF_MANAGED_LABEL="ClusterSelfManagedLabel",e.CLUSTER_SELF_MANAGED_STATUS="ClusterSelfManagedStatus",e.CLUSTER_KUBELET_CONFIG="ClusterKubeletConfig",e.MACHINE_POOL="MachinePool"}(a=e.resource_type||(e.resource_type={}))}(T||(T={})),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.CLUSTER="Cluster",e.SUBSCRIPTION="Subscription"}(a=e.resource_type||(e.resource_type={}))}(A||(A={})),function(e){let t,a;!function(e){e.GET="get",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.CLUSTER="Cluster",e.SUBSCRIPTION="Subscription"}(a=e.resource_type||(e.resource_type={}))}(P||(P={})),function(e){let t,a,l,n,r;!function(e){e.OPENSHIFT="Openshift",e.JBOSS_MIDDLEWARE="JBoss-Middleware",e.IBM_CLOUD_PAK="IBM-CloudPak"}(t=e.product_bundle||(e.product_bundle={})),function(e){e.L1_L3="L1-L3",e.L3_ONLY="L3-only"}(a=e.service_level||(e.service_level={})),function(e){e.EVAL="Eval",e.STANDARD="Standard",e.PREMIUM="Premium",e.SELF_SUPPORT="Self-Support",e.NONE="None"}(l=e.support_level||(e.support_level={})),function(e){e.CORES_V_CPU="Cores/vCPU",e.SOCKETS="Sockets"}(n=e.system_units||(e.system_units={})),function(e){e.PRODUCTION="Production",e.DEVELOPMENT_TEST="Development/Test",e.DISASTER_RECOVERY="Disaster Recovery",e.ACADEMIC="Academic"}(r=e.usage||(e.usage={}))}(D||(D={})),function(e){let t,a;!function(e){e.OCP="OCP"}(t=e.plan_id||(e.plan_id={})),function(e){e.DISCONNECTED="Disconnected"}(a=e.status||(e.status={}))}(N||(N={})),function(e){let t,a,l,n,r,s;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.cluster_billing_model||(e.cluster_billing_model={})),function(e){e.OPENSHIFT="Openshift",e.JBOSS_MIDDLEWARE="JBoss-Middleware",e.IBM_CLOUD_PAK="IBM-CloudPak"}(a=e.product_bundle||(e.product_bundle={})),function(e){e.L1_L3="L1-L3",e.L3_ONLY="L3-only"}(l=e.service_level||(e.service_level={})),function(e){e.EVAL="Eval",e.STANDARD="Standard",e.PREMIUM="Premium",e.SELF_SUPPORT="Self-Support",e.NONE="None"}(n=e.support_level||(e.support_level={})),function(e){e.CORES_V_CPU="Cores/vCPU",e.SOCKETS="Sockets"}(r=e.system_units||(e.system_units={})),function(e){e.PRODUCTION="Production",e.DEVELOPMENT_TEST="Development/Test",e.DISASTER_RECOVERY="Disaster Recovery",e.ACADEMIC="Academic"}(s=e.usage||(e.usage={}))}(L||(L={})),function(e){let t;!function(e){e._1_URGENT_="1 (Urgent)",e._2_HIGH_="2 (High)",e._3_NORMAL_="3 (Normal)",e._4_LOW_="4 (Low)"}(t=e.severity||(e.severity={}))}(w||(w={}))},70769:(e,t,a)=>{"use strict";var l,n,r,s,o,i,u,d,c,p,m,f,E,g,h,v,b,_,S;a.r(t),a.d(t,{AWSInfrastructureAccessRoleGrantState:()=>s,AWSInfrastructureAccessRoleState:()=>o,AddOnInstallMode:()=>n,AddOnInstallationState:()=>l,AlertSeverity:()=>r,BillingModel:()=>i,ClusterConfigurationMode:()=>u,ClusterHealthState:()=>d,ClusterOperatorState:()=>c,ClusterState:()=>p,DetectionType:()=>m,Ec2MetadataHttpTokens:()=>f,IdentityProviderMappingMethod:()=>E,IdentityProviderType:()=>g,InflightCheckState:()=>h,ListeningMethod:()=>v,LoadBalancerFlavor:()=>b,MachineTypeCategory:()=>_,MachineTypeSize:()=>S,NamespaceOwnershipPolicy:()=>A.NamespaceOwnershipPolicy,NodeType:()=>C,Platform:()=>y,ProvisionShardTopology:()=>O,ScheduleType:()=>I,UpgradePolicyStateValue:()=>R,UpgradeType:()=>T,WildcardPolicy:()=>P.WildcardPolicy}),function(e){e.DELETING="deleting",e.FAILED="failed",e.INSTALLING="installing",e.PENDING="pending",e.READY="ready"}(l||(l={})),function(e){e.ALL_NAMESPACES="all_namespaces",e.OWN_NAMESPACE="own_namespace"}(n||(n={})),function(e){e.CRITICAL="critical",e.NONE="none",e.WARNING="warning"}(r||(r={})),function(e){e.DELETING="deleting",e.FAILED="failed",e.PENDING="pending",e.READY="ready",e.REMOVED="removed"}(s||(s={})),function(e){e.INVALID="invalid",e.REMOVED="removed",e.VALID="valid"}(o||(o={})),function(e){e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_GCP="marketplace-gcp",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.STANDARD="standard"}(i||(i={})),function(e){e.FULL="full",e.READ_ONLY="read_only"}(u||(u={})),function(e){e.HEALTHY="healthy",e.UNHEALTHY="unhealthy",e.UNKNOWN="unknown"}(d||(d={})),function(e){e.AVAILABLE="available",e.DEGRADED="degraded",e.FAILING="failing",e.UPGRADING="upgrading"}(c||(c={})),function(e){e.ERROR="error",e.HIBERNATING="hibernating",e.INSTALLING="installing",e.PENDING="pending",e.POWERING_DOWN="powering_down",e.READY="ready",e.RESUMING="resuming",e.UNINSTALLING="uninstalling",e.UNKNOWN="unknown",e.VALIDATING="validating",e.WAITING="waiting"}(p||(p={})),function(e){e.AUTO="auto",e.MANUAL="manual"}(m||(m={})),function(e){e.OPTIONAL="optional",e.REQUIRED="required"}(f||(f={})),function(e){e.ADD="add",e.CLAIM="claim",e.GENERATE="generate",e.LOOKUP="lookup"}(E||(E={})),function(e){e.LDAPIDENTITY_PROVIDER="LDAPIdentityProvider",e.GITHUB_IDENTITY_PROVIDER="GithubIdentityProvider",e.GITLAB_IDENTITY_PROVIDER="GitlabIdentityProvider",e.GOOGLE_IDENTITY_PROVIDER="GoogleIdentityProvider",e.HTPASSWD_IDENTITY_PROVIDER="HTPasswdIdentityProvider",e.OPEN_IDIDENTITY_PROVIDER="OpenIDIdentityProvider"}(g||(g={})),function(e){e.FAILED="failed",e.PASSED="passed",e.PENDING="pending",e.RUNNING="running"}(h||(h={})),function(e){e.EXTERNAL="external",e.INTERNAL="internal"}(v||(v={})),function(e){e.CLASSIC="classic",e.NLB="nlb"}(b||(b={})),function(e){e.ACCELERATED_COMPUTING="accelerated_computing",e.COMPUTE_OPTIMIZED="compute_optimized",e.GENERAL_PURPOSE="general_purpose",e.MEMORY_OPTIMIZED="memory_optimized"}(_||(_={})),function(e){e.LARGE="large",e.MEDIUM="medium",e.SMALL="small"}(S||(S={}));var C,y,O,I,R,T,A=a(59442);!function(e){e.COMPUTE="compute",e.INFRA="infra",e.MASTER="master"}(C||(C={})),function(e){e.AWS="aws",e.AWS_CLASSIC="aws-classic",e.AWS_HOSTED_CP="aws-hosted-cp",e.GCP="gcp",e.HOSTEDCLUSTER="hostedcluster"}(y||(y={})),function(e){e.DEDICATED="dedicated"}(O||(O={})),function(e){e.AUTOMATIC="automatic",e.MANUAL="manual"}(I||(I={})),function(e){e.CANCELLED="cancelled",e.COMPLETED="completed",e.DELAYED="delayed",e.FAILED="failed",e.PENDING="pending",e.SCHEDULED="scheduled",e.STARTED="started"}(R||(R={})),function(e){e.OSD="OSD",e.ADDON="ADDON",e.CONTROL_PLANE="ControlPlane",e.NODE_POOL="NodePool"}(T||(T={}));var P=a(96775)},59442:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{NamespaceOwnershipPolicy:()=>l}),function(e){e.INTER_NAMESPACE_ALLOWED="InterNamespaceAllowed",e.STRICT="Strict"}(l||(l={}))},96775:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{WildcardPolicy:()=>l}),function(e){e.WILDCARDS_ALLOWED="WildcardsAllowed",e.WILDCARDS_DISALLOWED="WildcardsDisallowed"}(l||(l={}))},97543:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyNzggMjE3IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyNzggMjE3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0VEMUMyNDt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMDIuNCwxNTUuNmMtMC44LTAuOC0xLjktMS41LTMuNS0xLjVoLTMuNWM1LjgtNy4zLDguOC0xNS43LDguOC0yNS4zYzAtNy43LTEuOS0xNC42LTUuNC0yMC43CgljLTMuOC02LjEtOC44LTExLjEtMTUtMTVjLTYuMS0zLjgtMTMtNS40LTIwLjctNS40cy0xNC42LDEuOS0yMC43LDUuNGMtNi4xLDMuOC0xMS4xLDguOC0xNSwxNWMtMy44LDYuMS01LjQsMTMtNS40LDIwLjcKCWMwLDcuNywxLjksMTQuNiw1LjQsMjAuN2MzLjgsNi4xLDguOCwxMS4xLDE1LDE1YzYuMSwzLjgsMTMsNS40LDIwLjcsNS40YzkuNiwwLDE4LTMuMSwyNS4zLTguOHYzLjFjMCwxLjIsMC40LDIuMywxLjUsMy41bDIzLDIyLjMKCWMwLjgsMC44LDEuOSwxLjUsMy41LDEuNWMxLjIsMCwyLjMtMC40LDMuNS0xLjVsNS40LTUuNGMwLjgtMC44LDEuNS0xLjksMS41LTMuNWMwLTEuMi0wLjQtMi4zLTEuNS0zLjVMMjAyLjQsMTU1LjZ6IE0xODcuOSwxNDIuOQoJYy0yLjcsNC4yLTYuMSw3LjctMTAuNCwxMC40Yy00LjIsMi43LTkuMiwzLjgtMTQuNiwzLjhjLTUuNCwwLTEwLTEuMi0xNC42LTMuOGMtNC4yLTIuNy03LjctNi4xLTEwLjQtMTAuNAoJYy0yLjctNC4yLTMuOC05LjItMy44LTE0LjZjMC01LjQsMS4yLTEwLDMuOC0xNC42YzIuNy00LjIsNi4xLTcuNywxMC40LTEwLjRjNC4yLTIuNyw5LjItMy44LDE0LjYtMy44YzUuNCwwLDEwLDEuMiwxNC42LDMuOAoJYzQuMiwyLjcsNy43LDYuMSwxMC40LDEwLjRjMi43LDQuMiwzLjgsOS4yLDMuOCwxNC42QzE5MS43LDEzNC4xLDE5MC41LDEzOC43LDE4Ny45LDE0Mi45eiIvPgo8cGF0aCBpZD0iRmlsbC00XzExXyIgY2xhc3M9InN0MCIgZD0iTTE2Ny45LDEyNi40YzEuNSwwLjQsMy4xLDEuNSw0LjIsMi43YzEuMiwxLjIsMS45LDIuNywyLjMsNC42YzAuNCwxLjUsMC40LDMuNS0wLjQsNQoJYy0wLjgsMS45LTEuOSwzLjUtMy41LDQuNmMtMS41LDEuMi0zLjUsMS41LTUuNCwxLjl2NC4yYzAsMC40LDAsMC44LTAuNCwxLjJjLTAuNCwwLjQtMC40LDAuNC0wLjgsMC40aC0yLjdjLTAuNCwwLTAuOCwwLTAuOC0wLjQKCWMtMC40LTAuNC0wLjQtMC44LTAuNC0xLjJ2LTQuMmMtMi43LDAtNS0wLjgtNy4zLTIuN2MtMC40LTAuNC0wLjQtMC44LTAuNC0xLjJzMC0wLjgsMC40LTEuMmwyLjctMy4xYzAuNCwwLDAuNC0wLjQsMC44LTAuNAoJYzAuNCwwLDAuOCwwLDAuOCwwLjRjMC44LDAuNCwxLjksMC44LDIuNywwLjhoNS40YzAuOCwwLDEuMi0wLjQsMS41LTAuOHMwLjgtMS4yLDAuOC0xLjljMC0wLjQsMC0xLjItMC40LTEuNQoJYy0wLjQtMC40LTAuOC0wLjgtMS4yLTAuOGwtOC40LTIuN2MtMS45LTAuOC0zLjUtMS41LTQuNi0zLjFjLTEuMi0xLjUtMS45LTMuMS0yLjMtNWMwLTEuOSwwLjQtMy41LDEuMi01YzAuOC0xLjUsMS45LTIuNywzLjUtMy44CgljMS41LTAuOCwzLjEtMS41LDQuNi0xLjVsMCwwdi00LjJjMC0wLjQsMC0wLjgsMC40LTEuMmMwLjQtMC40LDAuNC0wLjQsMC44LTAuNGgyLjdjMC40LDAsMC44LDAsMC44LDAuNGMwLjQsMC40LDAuNCwwLjgsMC40LDEuMgoJdjQuMmMyLjcsMCw1LDAuOCw2LjksMi43YzAuNCwwLjQsMC40LDAuOCwwLjgsMS4yYzAuNCwwLjQsMCwwLjgtMC40LDEuMmwtMi43LDMuMWMtMC40LDAtMC40LDAuNC0wLjgsMC40Yy0wLjQsMC0wLjgsMC0wLjgsMAoJYy0wLjgtMC44LTEuOS0wLjgtMi43LTAuOGgtNS40Yy0wLjgsMC0xLjIsMC40LTEuNSwwLjhjLTAuNCwwLjQtMC44LDEuMi0wLjgsMS45YzAsMC40LDAsMS4yLDAuNCwxLjVjMC40LDAuNCwwLjgsMC44LDEuMiwwLjgKCUwxNjcuOSwxMjYuNHoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIxOC45LDg4LjFMMjE4LjksODguMWMtMy41LTQwLjMtMzguOC03MC4yLTc4LjctNjYuOGMtMjIuNiwxLjktNDMsMTQuMi01NS4zLDMzYy0xLjksMC0zLjUsMC01LjQsMAoJYy0zMS4xLDAtNTYuNCwyNS4zLTU2LjQsNTYuNHMyNS4zLDU2LjQsNTYuNCw1Ni40aDQ0LjVjLTIuMy0yLjctNC42LTUuOC02LjUtOS4yYy0wLjgtMS4yLTEuNS0yLjctMS45LTMuOEg4MAoJYy0yNC4yLDAtNDMuOC0xOS42LTQzLjgtNDMuNHMxOS4yLTQ0LjEsNDMuNC00NC4xYzIuNywwLDUsMC40LDcuMywwLjhjMi43LDAuNCw1LjQtMC44LDYuNS0zLjFjMTYuNS0yOC44LDUzLTM5LjEsODIuMS0yMi42CgljMTguOCwxMC43LDMwLjMsMzAuNywzMC43LDUyLjJjMCwzLjUsMi43LDYuNSw2LjUsNi41YzE1LTAuOCwyNy42LDEwLjQsMjguNCwyNS4zYzAuOCwxMy40LTguOCwyNS4zLTIxLjUsMjhsMTAuNCwxMAoJYzEzLjQtNi4xLDIzLTE5LjYsMjMtMzUuM0MyNTIuNywxMDgsMjM4LjUsOTEuMSwyMTguOSw4OC4xeiIvPgo8L3N2Zz4K"},26606:(e,t,a)=>{"use strict";e.exports=a.p+"images/AWS.f6085b0c4a4d5430..png"},7865:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAAEiCAYAAADwEwVaAAAACXBIWXMAABYlAAAWJQFJUiTwAAAck0lEQVR4nO3dfYwdV33G8WeCCbaJsr7WKo4a/AalEJXIm0JBFQE7ElQICDGoav8hsqNKFbQ0MRIqElIbG6RKICTstFLVSig2RqXtH7BJGoQaUHZDKgSNyLou6gsq2XVqFKOtrzei2WAST3X2nvGO79x7986dt3PmfD+SRbKzODuzu+eZ33mN4jgWACA8m/ieI0TdKDos6aCkA5KmBjyCM5IuSZqTtGD+dOJ4MfNZgMeoABCUbhQdkWT+7J7gvpdsGJhQmOvE8ULmMwCPEAAIQjeKZiSdlLSvxPtdSsJA0mwnji9lPgNwGAEQsG4UbZM00/cELrXtzdZ29xwf0tVTpjM2ZKgO4AUCICDdKEr6vE2jv3+DO093d8z62v/djSLT8N+fuVA98/xmTSAQBnAVAdBy9i0/6fcu8gacvN16EwbdKDJf76HMhfoRBnASAdBSJTb8gzxsulQ6cTw34Frj7L3PjlHlNIEwgDMIgBayA56zE850ycM0Zkc7cXzSladoG/+5kgd7q0IYoFEEQMvYAc+Har4rJ4LAs8a/n3ddbPAfAdAi3Sg6KumBBu+osSCoseqpw3wqDJhaisoQAC3R4GyXQZZsA3a8jgbMzm46WcM0z7qtpLqInBxvgd8IgBZoqNtnHCt2/v3Jqro1HAu+KiWhWtmzRHgIAM91o8jM63/Cg7s4VeabrL3vky3p8snrYds95MzgO/xEAHjMDnouetb1UWjmi+3uOeLoFM+6raS62qgKkBsB4LFuFM153hCupFYbL9jdNxeScYPUVhV77Armgy3s5y/LvA1VqgKMjQDwlN3V8kuhPwdkUBVgbASAhzzt+kH9HrZVwSzPHoMQAB5yaI8b+GEpNRuLdQW4igDwTDeKTH/4s6E/B0wkWVdwlO4hGNdlPgLXMciHSU3ZyvFZM4HAzqhCwKgAPOLRnH/4Y237DradCBMVgF8Oh/4AULrddhX5otlLyk4wQCCoADxB3z9qdIpxgjBQAfjjaOgPALVJxglO2l1W0VJUAB5g3j8aNm8rAnYkbRkqAD+wBQKaZLYbecLOHDrAd6I9qAA80I2iBU9PuUI7URG0BAHgONsH+0zozwFOIgg8RxeQ+5j6CVclXUMn7Sw1eIYKwHHdKFoM9NAT+Ifpo56hAnCYXapP4w9fmOmjCywo8wcB4Db2aoFvzGy1B2wQ0H3pOLqAHNaNoktM/4TnzEDxkUmO/0T1qAAcZbt/aPzhOzNQ/AzdQm4iANxF+Yw2SbqFWEjmELqAHGTflLqhPwe01rFOHLO3lQOoANzE4C/a7AGzup21A80jANxEAKDt9tEl1Dy6gBzDvv8I0L2dOOao0wZQAbiHt3+E5iGznQTf9foRAO5h9g9CdIgQqB9dQA6h+wfQqU4c8xJUEyoAt/CDj9AdYguJ+lABOISdP4Gr7uScgeoRAI7g4BfgGiuS9nTi+BKPpTp0AbmDshdYZ/bBOs7zqBYVgCPo/gEGoiuoQlQADuDgF2Ao9gyqEAHgBhZ/AYPtZ7uI6tAF5AAOfgFGmu/EMSFQASqAhnHwC7Ch/ewcWg0CoHnM/gE2doRnVD66gBrEwS/A2JY6cUwVUDIqgGYx+AuMZ7ddLIkSEQDNIgCA8fH7UjK6gBrCzp9Abmc6cUwVUCIqgObwNgPks8+Om6EkBEBzmP0D5Md6gBIRAA2w3T/7grtxoDgCoEQEQDPo/gEmQwCUiEHgBrDzJzC5ThxHPL5yUAHUzM5lpvEHJsTmcOUhAOrH4C9QDAFQEgKgfvT/A8UQACUhAGpE9w9QChaDlYQAqBc7GgLFTbEvUDkIgHrR/QOUg26gEhAANeHgF6BUVAAlIADqw9s/UB4qgBKwEKwmnPsLlG5vJ44XeayTowKoQTeKDtP4A6WjG6ggAqAedP8A5aMbqCC6gCrGub9AZTggpiAqgOrx9g9Ugy3VCyIAqkcAABVhY7hiCIAK2e6fu1t7g0DzCIACCIBq8fYPVIsAKIAAqBZbPwPVYhC4AAKgIvbc3/2tvDnAHWwMVwABUB26f4B60A00IQKgOnT/APWgApgQAVAB2/3DHGWgHlQAEyIAqkH3D1Cf3falCzkRABX4qfSx1t0U4Da6gSZAAJQsiqKZX5He1KqbAtxHN9AECIDyce4vUD8qgAmwG2iJot7WD4sX2fsfqF0njiOeej5UAOXi3F+gIWwMlx8BUC66f4DmEAA5EQAliXrL0dfm/v9YOt+GewI8wzhATgRAea6+/X9N2tqC+wF8QwWQE4PAJYj6jn3cJWnB5xsC/HV7J4759RsTFUA5rtn355ykb0oXPL4fwFd0A+VAAJQjM/j7GWmHp/cC+IxuoBwIgIKi3tSz3f1/C1UA0AgCIAcCoLih2z7/kbTjF9JLmQsAqrLbnsWNMRAABdjB30PD/oYVSX8gXclcAFAlqoAxEQDFDH37TzwqbX1KWs5cAFAVAmBMBEAxmcHfQe6Rpi/1CgIA1WMm0JhYBzAhO/j7xLj/79skzWc+CqAKbAw3HiqAyeU68/espPul1cwFAKVjY7jxbPLhi6yLPVYufbRc+odoW1Jarkqbd0nvOJfz6zotbXmPdPEuaXvmIoAymd/dOZ7oaEEEgJ0WlvQLJo36jG3Ut+U9wP0X0krexj9xSNr+iLR8hzSduQigLIwDjKFVAWDLvuQtPmng92c+saAHC07tNIPCT0oXd1IJAFWhC2gMXg4C266aGfsnafQzq3GrMmNX+hZhTo0hBIBKsTHcBryoAOyb/YFUg9/YqVvPSxfOlbDPj5kT+m5p+zPSyjZOEQOqMMPGvKM5GQDd3uEqB21jX3oXThFz0stl/V0mBO6Wph6XVq+XtmQ+AUARpv04yRMczpkA6EbRQdvoO32u7mPSLZkPFmCmh75X2kIIAKVjHGADjY4B+NLop+1VNUt6d/W2jWBMAChXpxPHl3img9W+EMwM4Haj6Hg3isw35Rt2MzUvGv8XpG5V+zmcs2MCz0kXMxcBTIoqYITaAqAbRYe7UWQWZjzbWxTr38DnBenFzAdLtEIIAGUjAEaoPABsw78o6SHXBnTzeqLEAeBhkhBgB1GgFCwIG6GyAOhr+Gubo98GJgQ+JE0/SiUAFOX1S2fVSg8AM7Db1ob/R9JNmQ9WyGwb8WecKAYUwsZww5UWAHZwd84O7Lbyjf/ZBqZp/qW02ewi+suKxx+AFiMAhiglALpRdMSuuKPcqoDdRXQrh8oAE2EcYIhCAWB22bRv/V/ycVaPT8yCsdulKWYIAblRAQwxcQDY7RoWeeuvz0pv3+rtX2WGEJDHlN1AEn0mCgAzw0fSM6G99b9vbSlA8+6TphkXAHKhChggdwB0o+ioneETnE0OzchJxgXOUw0A4yAABsgVAN0oMjvrPZC5EIg7Hds91YwL3MF6AWAcDAQPMPZmcGb/HruFQ7AuS6s3O7pj5z3S6hel+NXS1sxFAGJjuKyxKgDb5x9042+Y7Zp3ZT7qBtMl9JvSVmYJAUPRDdRnwwCwq+iC7PMfZL+0OuDDTjhnZwmdYL0AMAjdQH1GBoCdOjWbuRCwezwYdD0mTZm5uSwcA9b9b+/cEaSMHAOwi7yY59+nqkNhymbm6H5OWv6oNO3BlwtUrhPHEU953dAKwG7vQOM/wIcc7gZKW7FrBj5ENQCseWsUfZAnsW5gANiun6OZC1jzJ9L/+fQknrLbSDA2gNDdJv1O6M8gbWAA2MafvX2GuEWavmPwJWetpMYGWDyGUP2MgeBrZALAvv0fynwmrvHH0nM+PpGzvbegaXPOAFtJIDQvSr/KN31dJgDo+hnPe6Wdrq4JGIc5Z8CsG+DoSYTkFem1UW8jy+CpPwB4+8/nzx3ZHG5S5+zRkwwSIzAsCLP6K4DDmc/AUO+Xdvg2FjCIGSR+vR0kplsIASAALAKgoM97XgWkmUFi0y30zRbdEzAAAWBdDQB7wEsrz/Kt0q3Sjns8WRcwDtMt9FFph+kW+neCAC1zrnc7UxEHxKxJVwC8/U/oC1LUtjmzplvondKOQ9KLjA+gLc6t30fwVYD6AoAHMqHXSJtPt3Q2zaPSVjM+YKaNXm5RpYPwvCB1UzcdfHunJADM4e69jSQxKXMwy10tHkA100bfJG0xA8UEAXz0X9LPU1928AGgVAXAvNgS/I10XZuXTyeriQkC+OgHa0d6XLWbcYD1ACANS2C6gh4NYGFVOgiYMQRf/L20o+9LDf7FNwmA4JOwLG+Rph8IZNB0xc4YMr9FJgioCOAq87N5Nvu1Bf/iSwBU4H5pqs3jAf2SqaN0DcFV314bA84IPgDWDoTpRtEiawDKZRrB90pbBrx1tJ4ZBzkirXxcuv56Rw/RR1j2240QB+jEAR8Un1QANP4lMw3f30rLIe6pnR4juF9aZR0BmmQWNA5p/PVT6T+6URTsGqhBu4GiJObcgCeli6EerGBa/dPSFrOOwAQBK4vRhE9nB3+vsq/+D3Wj6FI3io7aKfHBIAAqtlPa/qB0sdU3OQYTBO+0W0w87ulZCvCPeel4asRXfXatt3aNeU97QNKiDYIgxkUJgBrcJW0/RQisMb+MvyftNDOHGDBG1T424u3f+J50Q9+HkiB4thtFJ9seBARATQiBa52z4wQ323ECuodQNvOCMazvP/EdqZP54LpDNgha2zWUzAKKM1dQCbOnjtlWgaebZU5Y+5S0/LvSa5k9hCKeky7uk7aP81eM+VZmhrSOmz+dFs0aIgAaYN54T9PAjWS22P6Y9MKtG5TwQL9fSC+9Wdo87tSzp6Wl148/E9L8tUc6cXwyc8VDdAE14IS05RPSS8HdeA7JoHEyVtC3kyMwkBlT+u0cjb96ewRtynxwuCk7a2ihG0XeLySjAmjQo9LFQ2OWqZBu603pu/Ae6Ua6iNBv0sWXpto8MfnP08O2IljMXPFAUgHM89NUPwaG8zlrt5wwA8f32OmkzCKCCq68Xyj2MnG3+SvMQHHmigeSCmDOrpZGA6gEivmApD+Unn+rNEVlEB4z4Gteps4VuPOS3sLO2GpgLnPFUUkF4M0X3Ebmh/dMwCuGi3qsFwI3UxmEx7w8vbtg42/8RFrKfDA/c6jWE90oOu7LtNEkALzsv2oTs2LYbBuxK/QHUdBjdqFZEgZ/J51nALl9zEwfc161qZzL2Gjqv8udEHO/7RZyfpA4uemFzBXUzoTAD6TV23j0pXis1zV0yx6pY/o3Pyt1fyydb8GtBc2cPfHm3uFLW8t6DgNWBBe1O6kGXP5erY0BqHcu8CU7xQkN+6X04qekiLUC1ZjqneFsuo3Ov1/aeuPo1aBwhFktbrZ2qGKLdfPz8Ejmo6UxYwOHO3Hs3It2OgBm7Yg2HPFVafk+aZrvR7V29WZArH5QWn6HdAOB4BbT8JsdPUdt6laUeSl4ttq7dnIBWToAjkj6UuYz0Kh/k5bvkqbZUL8+6UC4Tbr+ZlYjN8J09Xy+ojf+QWqaj33KBoET20mkA2BP9SGISZgDVe6WpkI8XcwFSZfRu6SlO6VNu6XtTDetxnlp+a+lG07nXM1bhpxbQhThTJfQ1QBQLwQW7FQmOIiN5NxhBupnpNXfki6+XXr5ddJNhMJkTKP/ZelVX5c6RadzFlFjAMh2CZkQmM1cqVF/ANAN5LinpOV76BJy0i4bDKZS+A3putfRfTSQmZb7fenn/yhNPyJtceVnueYASBzrxHFjq4j7A4BuIA/QJeSX22w30vukC2+ULr9BuhJSxWAWWZkN174nbZ+XtjT5lj9KQwGgJscFrgkA9UKAbSE8YXbJPMbUXa8l4fA2qXuz9IKpHLZLV7ZKm32rHkxDf1G67ofSle9Ku8/Z/Zt80WAAyI4LHKg7BAYFgDkh/6HMZ8JJZpbQR6VpV9+qUNxtqQU6SVCYf75R2mTGH9L/gbIri+elCy/arctfkTY9Yf97z0s3Pm2ny1Y5PbNODQeAbAgcrHNn0UwAiEVh3jELxz4nXccAMTA5BwJAdnD4QF0zhIbtf+H08mVc69XS1s9Km5+UltlLCJjM9FpR1Tjz4j3XjaKZOr6QYRUAg8GeohoAJuPYwRy1VAIDKwDbB3UqcwHOoxoA8nNwA8ZaKoGBAWB5ecINet4iTZtXhwd6bxIARphx8/yIykNgaABQBbTD/dLUT6SVO0J/EMAIZt+n4VcbVWkIDBwDSNhTbRaZEdQOZhXxJ5gyCmQsSl3Hd4GtZExgaAWgXhVwiRlB7XGHNP0v0ot0CwHrdvXWVLi+Bbh5CT9Z9lGTIwPAMgFQxnmZcIAZJE66he6SXuR7gtB9xJ8jQ/fZ7qDSQmDDALBVwJHMBXhtmzR1Str6z9IFxgcQsvvKPQ+4avvK7JUZ68btlqXzmQvw3q3Sjkd6p49dYNooQnOHfRny7LYPdaOolFmaIweB0+zisAUGhNvNHEP5p2w3jUCYCvhWf7fs/nDR8wTGDgBxXkAwLkurfyVdPi5NEQRoq4oPgq+D+fWcKbJ5XK4AENtFB4UgQJt5/vafONOJ44nXCEwy+HFYTCMMgtlW2MwY+k9p1Uwdpe8PbWFmwLWg8Tf2daNo4kHh3BWAODMgWFQEaAPzIvOMtOLh4O8od3bieG7E9YEmCgD1QuCkGY3OXEDrJUHwkDTFqmL45kF7iFLLvnHmnWxP3hPFigSAWYwwZ+elIlDflC58RtpBEMAHpuvHrH9p6Tfr4U4cH8x8dISJA0C9EJixIUD3cOCelp77rLSzLccDon3Mls+PS6stP4w/V1dQoQAQ4wHoc15a/oL02tPt/iWDZ6bsZoi3tK/rp99SJ473ZD46ROEl0J04NmMBJzIXECTzC3ZC2vK8nTnE6mI0zTT+T0oXA2j8jd15VgkXrgASrA/AMI9Lz/0F3UNoQNL475S2B/T8x14gVmYAMCiMkS5JKw9KVx6SOkwjRdUCbfwTpzpxfDjz0T6lBYDYLwg5mKrgK9LOx3hoqEDgjX9i70ZVQKkBIGYGIacXpO4j0itf5KQylMTM9vkn6aXXSJsDf6YbVgGlB4B6IWDmon4jcwEYwcwg+rL0KrqIMKl7pNUTzEBLG1kFVBIAYnooCjLrCk5L049IWwgDbMR0N5yWlu8IY6ZPHiOrgMoCQIQASkIYYBSzrfNX2re3T5mGVgGVHoXGGgGU4W3STlPWP9vr233OlPn8pmOqt5//8iN+nupVp2YqgAQbx6EKP5bOf03a+nWpwwByWMwiw49L17d8W4eyrHTieOBB8rUEgAgBVOx56cK3pVf9gzTNgrP2MtXfMekyb/y5DTw+srYAECGAmpjtqv9VWjbjBvPSFqoD/9HwFzZwp9BaA0CEABpg1hp8X/r5V+x2FAwk+8G09EeklXulKzdKndCfRwk6/ecF1B4AIgTQMNNdNCe9/Jh0y1lJVAhuMQu5Pi1deH87jmx0yb12Ys5VjQSAmCIKhyQVwvekG74jdc7yzamd2TX2I1L3Puk6unkqk+kGaiwARAjAYWaG0RPSy9+VdlMlVCNp9H9feiWQrZqblpkN1GgAiBCAJ8zA8pJ00YTCj6SbFqQtVAr5faD35/z7pa306zfimhPDGg8AsYEcPGbGE/5HuvxD6YqpFkylQDD0TNlVuu+Slu6UNr1x7bwgNOxYJ46vHhjjRACIEEDLmHGFZemFH0ibLkqbvmUHNNu6RmGX/fM+6cLbpcu/Jt3AG76T5jtxfCD5wpwJAHGoDALyE2nJ3K0JiBekl5+XbnzaNphnHZ2qmjTyU/atfq903RukK6+Xdmc+Ga66ZhzAqQDQegjMcrwksF5JmH9+RdpkxiDSj+VlafO3SpguuVda/XXpZ6l/X2vczT+/TrqJLRda5ermcM4FQIK1AgBQiasDwZXuBlqE3cP6Xr7/AFCqmeQvczYAtL6d9J2s3geA0lwdA3A6ANQLgTmbWGcyFwEAee1JPt/5AFAvBMyAhZm6dCpzEQCQh18BoF4IXLLjAp/MXAQA5OZNACQ6cXxc0u2MCwBAMd4FgHohsGDLmPnMRQDAWLwMAK13CZlxgWOZiwCADXkbAAm7sRFTRQEgJ+8DQOtTRU2X0MOZiwCAgVoRAFrvEjpoZwlRDQDABloTAAk7S+gAC8cAYLTWBYDsLKFOHJvVwycyFwEgbFdPBGtlACQ6cXzEDhAvZS4CQOBaHQC6di8hqgEAkBaTZ9D6AND6ADHVAACEFgAJqgEAWA8AZ08Eq1o3isxMIXPeAOeZAghGJ46j5F6DqgDSqAYABOia/dOCDQBdOzZwO+sGAARgMX2LQQdAIrVu4BiriAG02EL61giAFLux3Ax7CgFoqbn0bQU7CLyRbhSZfYWOM0gMoCVWOnG8LX0rVABDdOJ41lYDnDcAoA3m+u+BABjBDhKbbqG9nD4GwHOZAKALKAfWDgDw2N5OHDMLaFJm7UAnjvcwWwiAZ5b6G38RAJOx3UImCE75+PUDCM5s5iMEwOTs+MBhu4iM8QEALjs56GtjDKAkjA8AcNQZu9A1gwqgJKnxgXvZchqAQ44P+1KoACrQjSKz2OKI/TPVuhsE4AszWWWP6bIe9PVSAVQgtX6AGUMAmjQ7rPEXFUA9ulFkgsAEwqEQ7heAMzJz/9OoAGpgvgF2xtBepo4CqMmpUY2/qACaQUUAoAYj3/5FBdAMKgIAFdvw7V9UAG6gIgBQsg3f/kUF4AYqAgAlOjFO4y8qADdREQCY0Mh5//2oABzUVxGcYB0BgDEdGbfxFxWAH1hZDGAM8504PpDnQREAHrFBcNB2D7HpHICE6SWYGbfvP0EAeKobRaaLyPzZH/qzAKAP23PMcyEAPGe3oT7MgDEQrFN2zDA3AqAl7MyhIzYMGCcAwnBG0oE8A79pBEDLME4ABGOifv80AqDFbPeQqQruDv1ZAC10pzmIqshtEQABoHsIaJ17O3E88JzfPAiAwNjZQyYM9oX+LABPfbITx0OPecyDAAhUN4pmbBAcpCoAvDHxjJ9BCIDApQaNqQoAt5Xa+IsAQJqtCg4zVgA4p/TGXwQAhrFjBQeZQQQ0rrQ+/34EAEayM4iSLiLWFQD1KmW2zzAEAMZGFxFQG7PI62DRef4bIQAwkW4UHbSVAXsQAeUy2zsc7sTxQtXPlQBAIalZRIwXAMU9bBv/ifb2yYsAQGlSYcA21UB+lQ32DkMAoBKpwePDrC8ARqqty6cfAYDKpcLgIJUBcI1jnTg+2tQjIQBQK8YMgDWNvfWnEQBoTCoMDrAnEQJhpncerbuvfxgCAM6wU0uTMGDRGdrmlFlQWdcMn3EQAHCSXXR2gHEDtMC8bfgb7e4ZhACA82xX0YFUdxHVAXwwb7t7Kl3NWwQBAO+kqoMDDCTDQc43/AkCAN6zZx8n1QFrDtAU08d/0oeGP0EAoFVS3UUHCATUwMzqMbt1Hu/E8aJvD5wAQKsRCKiImcdvpnLOujSrJy8CAEGxgZAeQ2CGEca1ZBp8X9/2ByEAELy+QeUZZhkhZcU2+l717Y+LAAD6pLqNZlL/yyrlcCRv+nOdOJ5t810TAMAY7IZ2M4RCa82nGn3nFmxVhQAAJmRDYU8qEPYwyOwNM4g7F8Jb/igEAFAyuy4hHQ57GFdolOnHX0g1+K3ry58UAQDUxA4270lVC3voSipdurE3/7vQlhk7VSAAAAfYqkG2Ykimqm6jS2koM1C7aBv5xVRj7+2c/CYQAIAHUgGRBEMSEmppF5Ppo79kG/dF+8+mkb8U0iBt1QgAoEVsN9M2e0dJN5OG/LtqCI+kIU9bSH0sadhF414/AgAAQiTp/wGp07dbIvUIVgAAAABJRU5ErkJggg=="},87046:(e,t,a)=>{"use strict";e.exports=a.p+"images/Logo-Red_Hat-B-Standard-RGB.5bd5efa3348769a0..png"},27440:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMyAyMyI+PHBhdGggZmlsbD0iI2YzZjNmMyIgZD0iTTAgMGgyM3YyM0gweiIvPjxwYXRoIGZpbGw9IiNmMzUzMjUiIGQ9Ik0xIDFoMTB2MTBIMXoiLz48cGF0aCBmaWxsPSIjODFiYzA2IiBkPSJNMTIgMWgxMHYxMEgxMnoiLz48cGF0aCBmaWxsPSIjMDVhNmYwIiBkPSJNMSAxMmgxMHYxMEgxeiIvPjxwYXRoIGZpbGw9IiNmZmJhMDgiIGQ9Ik0xMiAxMmgxMHYxMEgxMnoiLz48L3N2Zz4="},18788:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgdmlld0JveD0iMCAwIDM4IDM4Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZmZmO30uYntmaWxsOiNlMDA7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik0yOCwxSDEwYTksOSwwLDAsMC05LDlWMjhhOSw5LDAsMCwwLDksOUgyOGE5LDksMCwwLDAsOS05VjEwYTksOSwwLDAsMC05LTlaIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xMC4wOTg2MywyMi4xODk5NGEuNjI1LjYyNSwwLDAsMS0uMjU0ODgtMS4xOTU4bDIuNzQwNzItMS4yMjAyMWEuNjI0OTIuNjI0OTIsMCwxLDEsLjUwODc5LDEuMTQxNmwtMi43NDA3MiwxLjIyMDIxQS42MTkuNjE5LDAsMCwxLDEwLjA5ODYzLDIyLjE4OTk0WiIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNOC44MzIsMjUuNDkwNzJhLjYyNS42MjUsMCwwLDEtLjI1NDg4LTEuMTk1OGwyLjc0MDIzLTEuMjIwMjFhLjYyNDkyLjYyNDkyLDAsMSwxLC41MDg3OSwxLjE0MTZMOS4wODU5NCwyNS40MzY1MkEuNjE3MzEuNjE3MzEsMCwwLDEsOC44MzIsMjUuNDkwNzJaIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yNi40Mjc3MywxNC45MTk0M2EuNjI0NzMuNjI0NzMsMCwwLDEtLjI1MzktMS4xOTU4TDI4LjkxNSwxMi41MDM0MmEuNjI0NzIuNjI0NzIsMCwxLDEsLjUwNzgxLDEuMTQxNmwtMi43NDEyMSwxLjIyMDIxQS42MTU2My42MTU2MywwLDAsMSwyNi40Mjc3MywxNC45MTk0M1oiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTI1LjE2MTEzLDE4LjIyMDIxYS42MjQ3My42MjQ3MywwLDAsMS0uMjUzOS0xLjE5NThsMi43NDAyMy0xLjIyMDIxYS42MjQ3Mi42MjQ3MiwwLDEsMSwuNTA3ODEsMS4xNDE2TDI1LjQxNSwxOC4xNjZBLjYxNTgxLjYxNTgxLDAsMCwxLDI1LjE2MTEzLDE4LjIyMDIxWiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNMTguOTUxNjYsMjguNjMzNzlBOS41OTMsOS41OTMsMCwwLDEsMTIuODI5MSwyNi40MTY1YS42MjUuNjI1LDAsMCwxLC43OTU5LS45NjM4Niw4LjM3OTQzLDguMzc5NDMsMCwwLDAsMTMuNzEyODktNi4xMDQ1LjYxMDA2LjYxMDA2LDAsMCwxLC42NTAzOS0uNTk4MTQuNjI0OS42MjQ5LDAsMCwxLC41OTc2Ni42NTA4OCw5LjY1NTIxLDkuNjU1MjEsMCwwLDEtOS42MzQyOCw5LjIzMjkxWiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNOS45NzQ2MSwxOS4yMjYwN2wtLjAyODgxLS4wMDA0OGEuNjI1MzkuNjI1MzksMCwwLDEtLjU5NjE5LS42NTI4NEE5LjYyOTEsOS42MjkxLDAsMCwxLDI1LjEwNTQ3LDExLjU4MzVhLjYyNTMxLjYyNTMxLDAsMCwxLS43OTY4OC45NjM4Niw4LjM3ODE1LDguMzc4MTUsMCwwLDAtMTMuNzEsNi4wODJBLjYyNTMyLjYyNTMyLDAsMCwxLDkuOTc0NjEsMTkuMjI2MDdaIi8+PC9zdmc+"},93228:(e,t,a)=>{"use strict";e.exports=a.p+"images/RH_BRAND_7764_01_MECH_Training.960eb62d49bee65d..svg"},29405:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAALXklEQVR42u1af3CV5ZV+nvN9Nzc3NxBCyA9CCAmERhpFMRaqqa601e5SVzu7SqUzutUK2F3tVqd23dnZNtPVdq3TdrfVdixStzpMZ0Drdmf9QXdsKf7oikS7rNEAkUAgISU/biDc5N7c7z1n/7gBDRAgcJNsnDx/5E7e733P957nO+855z3vC0xhClOYwhQmAGZS17L741fu2bN4IqfBiXrxVbv3XGuwzaRBnCvcUl3dNRHz8CfMAJyLGAUgkQTCEzUPmagXO+fDlDCd2JV4zgRcsrWtrva11s+dlxUoYEoAOec0/iYz71MdO29e3tZUPa4ELN7cEQXsN+r47JKXW28/NxMAcJ4W0H1g1z/C8RdCPjuuBOy4trifirdNCZh8d+nrBwrORX8zwIzAwDk40f3vLTTj/aaAOdk5vkuANKf212ZUUxQkE/bQ6M1f3DEfIGo26okH+qgpw6bsD5y7d9x9wI5Pzn1dletMCShvv+Q3bXWjGe/1y2um2G7K519dMrdjVF+/ufnzprzGFIDhwa0VF7RMSB5w0cv78jnoN4EoIu1tf1rHpQ2XXZYaS69d19Q0zZPQu6DNAbErarb4hYULkxMSBv/3ynkxqNyXNmVeGByefeeYZ270v6mGOWY0Aneej/IZyQN2fLrkKVW+ZEo4s5KxT6A435RQw89/V1X124nPBEnzNnfc4GhL0HN425m6X/1b8+PSPtt8l0cgYtQAoVC/kd0NtbO7QZ7WIQYh/aKX8v4lq731tUmxF6h+pXNaOJX8DIA6IS6GoIyEAy0JIkkiQVgCRBzEYRHbReG7cPLOvH1z3tu0km5SboYu3Nx2BT1+GcA1pPGYsqAlSSRBJIWWVEFcaP2gxAGNC6yflDjExY2I+fQavUT8nVc/cUHfpCDggv9sr/U8PgRiGWlJkkkQ/aC9SurrBmmkL/udSmf2tNZkIhIhDhVm+eFkHlRnePSKIVoowlzA+iGI0ywuIWk9mnVkX2NNzWDGCah4IlZB0cdBNpkLHth7W1HHaAWVbdwfyY2E/pnEHUKkjJYg0WhiP8vKSj73h+WVvaORV7u9PQfJYLZ5Ugi4lE8XiC+DfogdryyeFzsXZa9ubr5QBV8jcKSocsE9m0hHACj/WeyvSPs30MD0WvxeNNs93Liy6OjZCF709KGF6tszJCqHTHwXYA+8e13JC2dyamdROOHSbW0zaTYz8E2BVMpz4fi2pXN6zlb21bt3lwVOvkXBraB5JAzAvK1VVfsJADUbLavvaO/9ELuPQO4QEX804bdmxfPXNazliMlN9TN/rDNwI4gc0gYg9mMX6nu4ecX5xedTVZCWbmvLN6ZCtFAqnpuVbPxoYfx0JNRufy8vOyL3g/a3ICKkAUSbCP5u68IFG07yAZXrjharDH7DBKtJhIaI2GXEbftuKTgp7FRt7L4c0GdJ843o9o1rm24q3DKWXrvq+d3hcCQvVIh40Det242UeS77w55bRPgDEAVDih+m2EOJeORfGy4r7T+tE5zz086PeCH/24D9BQmK2HMttxZcN4yspzqrxcevQYRJdNC4avfNs94dr3pibUODN39PrW66CXoqK1j21t52ErNBGyTxYxcKPbBtUVn3qKLAnHXdHxdPbvQNT7V8Kf9/jrUXP9kRzRFvM4UVgHWLL6uaVxa8M85FVZ7O/Je9sXeFeXYVPD627eKKloyGwYqfd30H5BdIDMDD3S1fKPivMVe43qT20wfL1AUVoFdq0Gkebbp54kg7CnEHQ2qN/3155d4xzQMq18cuVs+eBi0F2oZ9t856cCz1XvLr1tLA5yUwuUgEMwiLgIiYIOIR2SoWESAy5IRngOgj7QUKnnzjY/P2ZJyAuetjj5O2FET7QDS4sfMsQ+VoUfPi/pkw72MgyukjQlqEQDYJgyAG2iDIkJiFQauAYD4FBQBmkDaDRBTksyGHv//9FXPbMkLAvHVdixy8DSSThPt+6x0Fm8ZibV/03KHKwNMLxJBDsYjRUibYSaf7Gj9TFjvl2jfjkpdbF8HjnxL8SxJVoM0gLQnKPduXzV1/3gSUPtZ7H2k3EOjKTsz4fPNXmNlYv9G8mnBnZQArFg8REdPA95p2XjPr4GgSqqrnd4fz8sK3G+TrpJaB8EFbN7+1/Msnbq5kNE4IyjoL2GeOL2RceTNWh7uKk+ayqJIQx72FkeKtO68tbB9tNtm8YmGyoa78JwH8Zeb4kikVytV75h54cHT1gHrzq2bCay5BUHjwyHx1IMmYOPdapi2/+j+6ciWAGSShWalDTX9eet5HZTvqSg7VNDZenxWb/ijAcgB3Xfr71iNvXl7+7dNbQL1llfwgVlGanyjt7o9lV8QR8oCFUPaaQ0+25e/KdHaXSnoiLitJXzp3ZUD5Y2isqRl8q65srRmyTRGF8p8ufaX1yhEJKH64r6goO75cU96cpAbRnFzf3zsIp4p8U/YCbMmo+deb9LuoFwo79RIDyZ03FGZ+30+qqLtZVTpMIQQfr92+PXQSAXnfTSxIBfI5heU7SkRSjLXdNb0ba5kyMGyKXihbMzm3q/8EktWV1N7DTnfsKR7AGKHhqoqDEuhdpoQqP+IGilYPIyC3vq/IS7lbTC3PgX7Kc292fj33eF2ATlKq7DXHnkxObEsnLBqt0EVzi5Oo55gelb61vOyXZrLNFIDKPTCTNAGPWcijd68qZ8K8UJDQF4/cmzdMUecsTkUMcPGMzuomaCPgtixnMObpNGlQ/d7QiVTVpVvalvoAMK1t4DqIVJuzHhPd3Fc//WQnpOhVoQJ+MuOTsvE7JI8nIi/mhBODALOc4M8EaywEk9VOLWrA/sPfiDacaqBT9lC116V0cEy+zDiheUXBEShfHbKCpZJbEFxhikqqRAPn/WqkgWLSnVI5gg8BTNE8dKpcJU71OlNGTS3obwrtGHFUEDnsOU2KhlL4oYUnMwFqPJi2ACsQMS41IKrA29g08iFED3DUMZQI1JKzBpA1qS3AQU0BM6GootQco1B2nz5hoTovdSQVuGRKD/uTewmw3JQwZz1ixvdM8aY5dp5p4NHB3D4PbjAkeQHqTSYzAVDAjC1iilJTXm4mNWdOW5nIxfRE1wEMYgJvmJ0PFm/uiJrhCjNCjQ2iyo60R7TysxHQDiRQkL7iNBkJSPbJZ02Zk84G9UWfam8YeQ2Iq7DGcvBT9p/JF6SvN41f7M5wBFgDNYBs25Uq2SoW+L8cSgqiWRH32bPMXCal8lW/6LzeFJ9K32vCo1hJJ6mf4E0YdpoRqqxHvU1qDz8S5m/syVPj99OXM9EeMvxoaDdIM5X7hx581O/Sr37YlK99zEI2aE+bYkH6biPvOnbwe7woyjv1JSE+CZoD7Xr3qP/8h0H5qh9aODW95wkSq0CA5CMtt8y8+6SKkIGrTNFiSg8qG72/CVZOduUrnohVDOb2vGLGVWaEKf+9JZw/zMKHl8XvsEUU+x2JQhBG2iNuUOqxPrNFkLHGrPWd0yKB9xUTfo3EjPSXtycLU/l3nHjUf/K5wBorp+IZiF1GAkMXlx6hJ8+kfsS3/t9qXW9+SUHvJ8TjChC3kZg1pHgMsLsPrJm54ZTx7JTCvmjZCOEfSHwVtNwhIkBaO2jNAu4HLQ4BRIZLogAQPd4mUIzcLx1NZahN5AOLkpru6qerMWlZGCaLwhCoRUbOFlgVaNPfnyuSoG2g777ZtrrgwIgB/bSs3mlFcLiXtBtBLGBaMIYuThwj5dgLT2gfud+Iz2Q0Mj743mH/N1Lwq1TIe6RrbfTgGTOaszaxL9lM+IMlYFYugBxfkD3suZ8u6XnH/xxr/8CPd4JM3w3rd/zxCf18/wPlQu/9H2dwnqcD5nn9lKAvlD29rX3tGTLZKUxhClOYwvv4P3jAdNqPaWaOAAAAAElFTkSuQmCC"},51371:()=>{},96127:()=>{},24654:()=>{},75347:()=>{},31777:()=>{},34017:()=>{},59905:()=>{},64604:()=>{},91885:(e,t,a)=>{"use strict";a.r(t),a.d(t,{architectureOptions:()=>x,architectures:()=>k,channels:()=>M,default:()=>z,getFlatUrls:()=>H,githubReleasesToFetch:()=>U,operatingSystemOptions:()=>F,operatingSystems:()=>j,tools:()=>w,urls:()=>G,urlsSelector:()=>V});const l="https://mirror.openshift.com/pub/openshift-v4/clients/butane/latest",n="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/stable/",r="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/candidate/",s="https://mirror.openshift.com/pub/openshift-v4/s390x/clients/ocp/stable/",o="https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/ocp/stable/",i="https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/ocp/stable/",u="https://mirror.openshift.com/pub/openshift-v4/multi/clients/ocp/stable/",d="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp-dev-preview/pre-release/",c="https://mirror.openshift.com/pub/openshift-v4/s390x/clients/ocp-dev-preview/pre-release/",p="https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/ocp-dev-preview/pre-release/",m="https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/ocp-dev-preview/pre-release/",f="https://mirror.openshift.com/pub/openshift-v4/multi/clients/ocp-dev-preview/pre-release/",E="https://mirror.openshift.com/pub/openshift-v4/clients/coreos-installer/latest",g="https://developers.redhat.com/content-gateway/rest/mirror/pub/openshift-v4/clients/crc/latest",h="https://mirror.openshift.com/pub/openshift-v4/clients/helm/latest",v="https://mirror.openshift.com/pub/openshift-v4/clients/serverless/latest",b="https://mirror.openshift.com/pub/openshift-v4/clients/pipeline/latest",_="https://developers.redhat.com/content-gateway/rest/mirror/pub/openshift-v4/clients/odo/latest",S="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/operator-sdk/latest",C="https://mirror.openshift.com/pub/openshift-v4/x86_64/dependencies/rhcos/latest",y="https://mirror.openshift.com/pub/openshift-v4/s390x/dependencies/rhcos/latest",O="https://mirror.openshift.com/pub/openshift-v4/ppc64le/dependencies/rhcos/latest",I="https://mirror.openshift.com/pub/openshift-v4/aarch64/dependencies/rhcos/latest",R="https://mirror.openshift.com/pub/openshift-v4/clients/rosa/latest",T="https://docs.openshift.com/container-platform/4.15",A="https://docs.openshift.com/dedicated",P="https://docs.openshift.com/rosa",D="https://access.redhat.com/documentation/en-us/red_hat_openshift_service_on_aws/4/html",N="https://access.redhat.com/documentation/en-us/openshift_cluster_manager/2023",L={ROSA_CP_DOCS:"https://access.redhat.com/documentation/en-us/red_hat_openshift_service_on_aws/4",DOCS_ENTRY:`${T}/welcome/index.html`,ROSA_TROUBLESHOOTING_INSTALLATIONS:`${D}/troubleshooting/rosa-troubleshooting-installations`,ROSA_DEFINITION_DOC:`${D}/introduction_to_rosa/policies-and-service-definition#rosa-service-definition`,WHAT_IS_OPENSHIFT:"https://www.redhat.com/en/technologies/cloud-computing/openshift",WHAT_IS_ROSA:"https://www.redhat.com/en/technologies/cloud-computing/openshift/aws",ROSA_COMMUNITY_SLACK:"https://red.ht/rosa-slack",ROSA_QUICKSTART:`${D}/getting_started/rosa-quickstart-guide-ui`,ROSA_PRICING:"https://aws.amazon.com/rosa/pricing",IDP_HTPASSWD:`${T}/authentication/identity_providers/configuring-htpasswd-identity-provider.html`,IDP_LDAP:`${T}/authentication/identity_providers/configuring-ldap-identity-provider.html`,IDP_GITHUB:`${T}/authentication/identity_providers/configuring-github-identity-provider.html`,IDP_GITLAB:`${T}/authentication/identity_providers/configuring-gitlab-identity-provider.html`,IDP_GOOGLE:`${T}/authentication/identity_providers/configuring-google-identity-provider.html`,IDP_OPENID:`${T}/authentication/identity_providers/configuring-oidc-identity-provider.html`,CCO_MANUAL_MODE:`${T}/authentication/managing_cloud_provider_credentials/cco-mode-manual.html`,UNDERSTANDING_AUTHENTICATION:`${T}/authentication/understanding-authentication.html`,UNDERSTANDING_IDENTITY_PROVIDER:`${T}/authentication/understanding-identity-provider.html`,APPLYING_AUTOSCALING:`${T}/machine_management/applying-autoscaling.html`,APPLYING_AUTOSCALING_API_DETAIL:`${T}/rest_api/autoscale_apis/clusterautoscaler-autoscaling-openshift-io-v1.html`,AWS_SPOT_INSTANCES:`${T}/machine_management/creating_machinesets/creating-machineset-aws.html#machineset-non-guaranteed-instance_creating-machineset-aws`,ENCRYPTING_ETCD:`${T}/security/encrypting-etcd.html`,GETTING_SUPPORT:`${T}/support/getting-support.html`,TELEMETRY_INFORMATION:`${T}/support/remote_health_monitoring/about-remote-health-monitoring.html`,REMOTE_HEALTH_INSIGHTS:`${T}/support/remote_health_monitoring/using-insights-to-identify-issues-with-your-cluster.html`,UPDATING_CLUSTER:`${T}/updating/updating_a_cluster/updating-cluster-web-console.html`,HIBERNATING_CLUSTER:"https://access.redhat.com/articles/7012966",MIGRATING_FROM_3_TO_4:`${T}/migrating_from_ocp_3_to_4/about-migrating-from-3-to-4.html`,SERVERLESS_ABOUT:`${T}/serverless/about/about-serverless.html`,SERVICE_MESH_ABOUT:`${T}/service_mesh/v2x/ossm-architecture.html`,SERVICE_MESH_OCP_DOC:"https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html/service_mesh/index",VIRT_ABOUT:`${T}/virt/about_virt/about-virt.html`,SUBSCRIPTION_EVAL_INFORMATION:"https://access.redhat.com/articles/4389911",MANAGED_INGRESS_KNOWLEDGE_BASE:"https://access.redhat.com/articles/7028653",OSD_DEDICATED_ADMIN_ROLE:`${A}/authentication/osd-admin-roles.html`,OSD_CCS_AWS:`${A}/osd_planning/aws-ccs.html`,OSD_CCS_AWS_LIMITS:`${A}/osd_planning/aws-ccs.html#aws-limits_aws-ccs`,OSD_CCS_AWS_SCP:`${A}/osd_planning/aws-ccs.html#ccs-aws-scp_aws-ccs`,OSD_CCS_AWS_CUSTOMER_REQ:`${A}/osd_planning/aws-ccs.html#ccs-aws-customer-requirements_aws-ccs`,OSD_CCS_GCP:`${A}/osd_planning/gcp-ccs.html`,OSD_CCS_GCP_LIMITS:`${A}/osd_planning/gcp-ccs.html#gcp-limits_gcp-ccs`,OSD_CCS_GCP_SCP:`${A}/osd_planning/gcp-ccs.html#ccs-gcp-customer-procedure_gcp-ccs`,OSD_CCS_GCP_SHEILDED_VM:`${A}/osd_install_access_delete_cluster/creating-a-gcp-cluster.html#:~:text=constraints/compute.requireShieldedVm`,OSD_LIFE_CYCLE:`${A}/osd_architecture/osd_policy/osd-life-cycle.html`,OSD_Z_STREAM:`${A}/osd_architecture/osd_policy/osd-life-cycle.html#rosa-patch-versions_osd-life-cycle`,OSD_SERVICE_DEFINITION_COMPUTE:`${A}/osd_architecture/osd_policy/osd-service-definition.html#instance-types_osd-service-definition`,ROSA_SERVICE_DEFINITION_COMPUTE:`${P}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html#rosa-sdpolicy-instance-types_rosa-service-definition`,OSD_ETCD_ENCRYPTION:`${A}/osd_architecture/osd_policy/osd-service-definition.html#etcd-encryption_osd-service-definition`,OSD_AWS_PRIVATE_CONNECTIONS:`${A}/osd_cluster_admin/osd_private_connections/aws-private-connections.html`,OSD_PRIVATE_CLUSTER:`${A}/osd_cluster_admin/osd_private_connections/private-cluster.html`,OSD_CLUSTER_WIDE_PROXY:`${A}/networking/configuring-cluster-wide-proxy.html`,OSD_UPGRADES:`${A}/upgrading/osd-upgrades.html`,OSD_LIMITED_SUPPORT_DEFINITION:`${A}/osd_architecture/osd_policy/osd-service-definition.html#limited-support_osd-service-definition`,OSD_MONITORING_STACK:`${A}/monitoring/monitoring-overview.html#understanding-the-monitoring-stack_monitoring-overview`,OSD_CIDR_MACHINE:`${A}/networking/cidr-range-definitions.html#machine-cidr-description`,ROSA_CIDR_MACHINE:`${P}/networking/cidr-range-definitions.html#machine-cidr-description`,OSD_CIDR_SERVICE:`${A}/networking/cidr-range-definitions.html#service-cidr-description`,ROSA_CIDR_SERVICE:`${P}/networking/cidr-range-definitions.html#service-cidr-description`,OSD_CIDR_POD:`${A}/networking/cidr-range-definitions.html#pod-cidr-description`,ROSA_CIDR_POD:`${P}/networking/cidr-range-definitions.html#pod-cidr-description`,OSD_CIDR_HOST:`${A}/networking/cidr-range-definitions.html#host-prefix-description`,ROSA_CIDR_HOST:`${P}/networking/cidr-range-definitions.html#host-prefix-description`,OSD_CLUSTER_AUTOSCALING:`${A}/osd_cluster_admin/osd-cluster-autoscaling.html`,ROSA_CLUSTER_AUTOSCALING:`${P}/rosa_cluster_admin/rosa-cluster-autoscaling.html`,OSD_SECURITY_GROUPS:`${A}/osd_planning/aws-ccs.html#osd-security-groups-custom_aws-ccs `,CLI_TOOLS_OCP_GETTING_STARTED:`${T}/cli_reference/openshift_cli/getting-started-cli.html`,INSTALL_DOCS_ENTRY:`${T}/installing/index.html`,INSTALL_ASSISTED_LEARN_MORE:`${T}/installing/installing_on_prem_assisted/installing-on-prem-assisted.html`,INSTALL_AGENT_LEARN_MORE:`${T}/installing/installing_with_agent_based_installer/preparing-to-install-with-agent-based-installer.html`,INSTALL_ALIBABAIPI_DOCS_LANDING:`${T}/installing/installing_alibaba/preparing-to-install-on-alibaba.html`,INSTALL_ALIBABA_CUSTOMIZATIONS:`${T}/installing/installing_alibaba/installing-alibaba-customizations.html`,INSTALL_AWSIPI_DOCS_LANDING:`${T}/installing/installing_aws/installing-aws-account.html`,INSTALL_AWSIPI_DOCS_ENTRY:`${T}/welcome/index.html`,INSTALL_AWSIPI_LEARN_MORE:`${T}/installing/installing_aws/installing-aws-default.html`,INSTALL_AWSUPI_GETTING_STARTED:`${T}/installing/installing_aws/installing-aws-user-infra.html`,INSTALL_AWS_CUSTOMIZATIONS:`${T}/installing/installing_aws/installing-aws-customizations.html`,INSTALL_AWS_VPC:`${T}/installing/installing_aws/installing-aws-vpc.html`,INSTALL_AWS_CUSTOM_VPC_REQUIREMENTS:`${T}/installing/installing_aws/installing-aws-vpc.html#installation-custom-aws-vpc-requirements_installing-aws-vpc`,INSTALL_AWS_MULTI_ARCH:`${T}/post_installation_configuration/configuring-multi-arch-compute-machines/creating-multi-arch-compute-nodes-aws.html`,INSTALL_AZUREUPI_GETTING_STARTED:`${T}/installing/installing_azure/installing-azure-user-infra.html`,INSTALL_AZUREIPI_GETTING_STARTED:`${T}/installing/installing_azure/installing-azure-default.html`,INSTALL_AZURE_CUSTOMIZATIONS:`${T}/installing/installing_azure/installing-azure-customizations.html`,INSTALL_AZURE_MULTI_ARCH:`${T}/post_installation_configuration/configuring-multi-arch-compute-machines/creating-multi-arch-compute-nodes-azure.html`,INSTALL_ASHIPI_GETTING_STARTED:`${T}/installing/installing_azure_stack_hub/installing-azure-stack-hub-default.html`,INSTALL_ASHUPI_GETTING_STARTED:`${T}/installing/installing_azure_stack_hub/installing-azure-stack-hub-user-infra.html`,INSTALL_ASHUPI_RHCOS_LEARN_MORE:`${T}/installing/installing_azure_stack_hub/installing-azure-stack-hub-user-infra.html#installation-azure-user-infra-uploading-rhcos_installing-azure-stack-hub-user-infra`,INSTALL_ASH_CUSTOMIZATIONS:`${T}/installing/installing_azure_stack_hub/installing-azure-stack-hub-network-customizations.html`,RHCOS_ASHUPI_VHD_X86:`${C}/rhcos-azurestack.x86_64.vhd.gz`,INSTALL_BAREMETAL_UPI_GETTING_STARTED:`${T}/installing/installing_bare_metal/installing-bare-metal.html`,INSTALL_BAREMETAL_IPI_GETTING_STARTED:`${T}/installing/installing_bare_metal_ipi/ipi-install-installation-workflow.html`,INSTALL_BAREMETAL_IPI_LEARN_MORE:`${T}/installing/installing_bare_metal_ipi/ipi-install-overview.html`,INSTALL_BAREMETAL_RHCOS_LEARN_MORE:`${T}/installing/installing_bare_metal/installing-bare-metal.html#creating-machines-bare-metal`,INSTALL_BAREMETAL_CUSTOMIZATIONS:`${T}/installing/installing_bare_metal/installing-bare-metal-network-customizations.html`,RHCOS_BAREMETAL_ISO_X86:`${C}/rhcos-live.x86_64.iso`,RHCOS_BAREMETAL_RAW_X86:`${C}/rhcos-metal.x86_64.raw.gz`,INSTALL_BAREMETAL_MULTI_ARCH:`${T}/post_installation_configuration/configuring-multi-arch-compute-machines/creating-multi-arch-compute-nodes-bare-metal.html`,INSTALL_CRC_GETTING_STARTED:"https://access.redhat.com/documentation/en-us/red_hat_openshift_local",INSTALL_GCPIPI_GETTING_STARTED:`${T}/installing/installing_gcp/installing-gcp-account.html`,INSTALL_GCPIPI_LEARN_MORE:`${T}/installing/installing_gcp/installing-gcp-default.html`,INSTALL_GCPUPI_GETTING_STARTED:`${T}/installing/installing_gcp/installing-gcp-user-infra.html`,INSTALL_GCPUPI_RHCOS_LEARN_MORE:`${T}/installing/installing_gcp/installing-gcp-user-infra.html#installation-gcp-user-infra-rhcos_installing-gcp-user-infra`,INSTALL_GCP_CUSTOMIZATIONS:`${T}/installing/installing_gcp/installing-gcp-customizations.html`,INSTALL_GCP_VPC:`${T}/installing/installing_gcp/installing-gcp-vpc.html`,RHCOS_GCPUPI_TAR_X86:`${C}/rhcos-gcp.x86_64.tar.gz`,INSTALL_NUTANIXIPI_GETTING_STARTED:`${T}/installing/installing_nutanix/preparing-to-install-on-nutanix.html`,INSTALL_OSPIPI_GETTING_STARTED:`${T}/installing/installing_openstack/installing-openstack-installer-custom.html`,INSTALL_OSPUPI_GETTING_STARTED:`${T}/installing/installing_openstack/installing-openstack-user.html`,INSTALL_OSPUPI_RHCOS_LEARN_MORE:`${T}/installing/installing_openstack/installing-openstack-user.html#installation-osp-creating-image_installing-openstack-user`,INSTALL_OSP_CUSTOMIZATIONS:`${T}/installing/installing_openstack/installing-openstack-installer-custom.html`,RHCOS_OSPUPI_QCOW_X86:`${C}/rhcos-openstack.x86_64.qcow2.gz`,RHCOS_OSPUPI_QCOW_PPC:`${O}/rhcos-openstack.ppc64le.qcow2.gz`,INSTALL_VSPHEREUPI_GETTING_STARTED:`${T}/installing/installing_vsphere/upi/installing-vsphere.html`,INSTALL_VSPHEREIPI_GETTING_STARTED:`${T}/installing/installing_vsphere/ipi/installing-vsphere-installer-provisioned.html`,INSTALL_VSPHERE_RHCOS_LEARN_MORE:`${T}/installing/installing_vsphere/upi/installing-vsphere.html#installation-vsphere-machines_installing-vsphere`,INSTALL_VSPHERE_CUSTOMIZATIONS:`${T}/installing/installing_vsphere/ipi/installing-vsphere-installer-provisioned-customizations.html`,RHCOS_VSPHERE_OVA_X86:`${C}/rhcos-vmware.x86_64.ova`,INSTALL_IBM_CLOUD_GETTING_STARTED:`${T}/installing/installing_ibm_cloud_public/preparing-to-install-on-ibm-cloud.html`,INSTALL_IBMZ_GETTING_STARTED:`${T}/installing/installing_ibm_z/installing-ibm-z.html`,INSTALL_IBMZ_RHCOS_LEARN_MORE_RHEL_KVM:`${T}/installing/installing_ibm_z/installing-ibm-z-kvm.html#installation-user-infra-machines-iso-ibm-z_kvm_installing-ibm-z-kvm`,INSTALL_IBMZ_LEARN_MORE_ZVM:`${T}/installing/installing_ibm_z/installing-ibm-z.html#installation-user-infra-machines-iso-ibm-z_installing-ibm-z`,INSTALL_IBMZ_UPI_GETTING_STARTED:`${T}/installing/installing_ibm_z/preparing-to-install-on-ibm-z.html`,INSTALL_IBMPOWERVS_GETTING_STARTED:`${T}/installing/installing_ibm_powervs/preparing-to-install-on-ibm-power-vs.html`,INSTALL_IBMPOWERVS_PREREQUISITES:`${T}/installing/installing_ibm_powervs/preparing-to-install-on-ibm-power-vs.html`,RHCOS_IBMZ_ISO:`${y}/rhcos-live.s390x.iso`,RHCOS_IBMZ_INITRAMFS:`${y}/rhcos-live-initramfs.s390x.img`,RHCOS_IBMZ_KERNEL:`${y}/rhcos-live-kernel-s390x`,RHCOS_IBMZ_ROOTFS:`${y}/rhcos-live-rootfs.s390x.img`,RHCOS_IBMZ_QCOW:`${y}/rhcos-qemu.s390x.qcow2.gz`,INSTALL_GENERIC_GETTING_STARTED:`${T}/installing/installing_platform_agnostic/installing-platform-agnostic.html`,INSTALL_GENERIC_NON_TESTED_PLATFORMS:"https://access.redhat.com/articles/4207611",INSTALL_GENERIC_RHCOS_LEARN_MORE:`${T}/installing/installing_platform_agnostic/installing-platform-agnostic.html#creating-machines-platform-agnostic`,RHCOS_GENERIC_ISO_X86:`${C}/rhcos-live.x86_64.iso`,RHCOS_GENERIC_KERNEL_X86:`${C}/rhcos-live-kernel-x86_64`,RHCOS_GENERIC_INITRAMFS_X86:`${C}/rhcos-live-initramfs.x86_64.img`,RHCOS_GENERIC_ROOTFS_X86:`${C}/rhcos-live-rootfs.x86_64.img`,INSTALL_PRE_RELEASE_INSTALLER_DOC:"https://github.com/openshift/installer/tree/master/docs/user",INSTALL_PRE_RELEASE_FEEDBACK:"https://issues.redhat.com/projects/OCPBUGS/issues",INSTALL_PRE_RELEASE_SUPPORT_KCS:"https://access.redhat.com/support/offerings/devpreview",COOPERATIVE_COMMUNITY_SUPPORT_KCS:"https://access.redhat.com/solutions/5893251",INSTALL_POWER_GETTING_STARTED:`${T}/installing/installing_ibm_power/installing-ibm-power.html`,INSTALL_POWER_RHCOS_LEARN_MORE:`${T}/installing/installing_ibm_power/installing-ibm-power.html#creating-machines-bare-metal-power`,INSTALL_POWER_UPI_GETTING_STARTED:`${T}/installing/installing_ibm_power/installing-ibm-power.html`,RHCOS_POWER_ISO:`${O}/rhcos-live.ppc64le.iso`,RHCOS_POWER_INITRAMFS:`${O}/rhcos-live-initramfs.ppc64le.img`,RHCOS_POWER_KERNEL:`${O}/rhcos-live-kernel-ppc64le`,RHCOS_POWER_ROOTFS:`${O}/rhcos-live-rootfs.ppc64le.img`,RHCOS_ARM_ISO:`${I}/rhcos-live.aarch64.iso`,RHCOS_ARM_INITRAMFS:`${I}/rhcos-live-initramfs.aarch64.img`,RHCOS_ARM_KERNEL:`${I}/rhcos-live-kernel-aarch64`,RHCOS_ARM_ROOTFS:`${I}/rhcos-live-rootfs.aarch64.img`,RHCOS_ARM_RAW:`${I}/rhcos-metal.aarch64.raw.gz`,OCM_CLI_DOCS:"https://access.redhat.com/articles/6114701",OCM_CLI_RELEASES_LATEST:"https://github.com/openshift-online/ocm-cli/releases/latest",RHOAS_CLI_DOCS:"https://access.redhat.com/documentation/en-us/red_hat_openshift_application_services/1/guide/bb30ee92-9e0a-4fd6-a67f-aed8910d7da3",RHOAS_CLI_RELEASES_LATEST:"https://github.com/redhat-developer/app-services-cli/releases/latest",HELM_DOCS:`${T}/applications/working_with_helm_charts/understanding-helm.html`,KN_DOCS:`${T}/cli_reference/kn-cli-tools.html`,TKN_DOCS:`${T}/cli_reference/tkn_cli/installing-tkn.html#installing-tkn`,ODO_DOCS:"https://odo.dev/docs/introduction",OPM_DOCS:`${T}/cli_reference/opm/cli-opm-install.html`,OSDK_DOCS:`${T}/cli_reference/osdk/cli-osdk-install.html`,BUTANE_DOCS:`${T}/installing/install_config/installing-customizing.html`,COREOS_INSTALLER_DOCS:`${T}/installing/installing_platform_agnostic/installing-platform-agnostic.html`,INSTALL_MIRROR_REGISTRY_LEARN_MORE:`${T}/installing/disconnected_install/installing-mirroring-installation-images.html#installation-about-mirror-registry_installing-mirroring-installation-images`,INSTALL_OC_MIRROR_PLUGIN_LEARN_MORE:`${T}/installing/disconnected_install/installing-mirroring-disconnected.html`,OPENSHIFT_DEDICATED_LEARN_MORE:"https://www.redhat.com/en/technologies/cloud-computing/openshift/dedicated",AWS_OPENSHIFT_LEARN_MORE:"https://cloud.redhat.com/products/amazon-openshift",AZURE_OPENSHIFT_GET_STARTED:"https://azure.microsoft.com/en-us/products/openshift/",ROSA_GET_STARTED:"https://cloud.redhat.com/learn/getting-started-red-hat-openshift-service-aws-rosa",ROSA_DOCS_ENTRY:`${P}/welcome/index.html`,ROSA_MONITORING:`${P}/monitoring/monitoring-overview.html#understanding-the-monitoring-stack_monitoring-overview`,ROSA_AUTOSCALING:`${P}/rosa_cluster_admin/rosa_nodes/rosa-nodes-about-autoscaling-nodes.html`,ROSA_SECURITY_GROUPS:`${P}/rosa_planning/rosa-sts-aws-prereqs.html#rosa-security-groups-custom_rosa-sts-aws-prereqs `,ROSA_CLI_DOCS:`${D}/rosa_cli/rosa-get-started-cli`,ROSA_AWS_PREREQUISITES:`${P}/rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-aws-prereqs.html`,ROSA_INSTALLING:`${P}/rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-installing-rosa.html`,ROSA_LIFE_CYCLE:`${P}/rosa_architecture/rosa_policy_service_definition/rosa-life-cycle.html`,ROSA_Z_STREAM:`${P}/rosa_architecture/rosa_policy_service_definition/rosa-life-cycle.html#rosa-patch-versions_rosa-life-cycle`,ROSA_RESPONSIBILITY_MATRIX:`${P}/rosa_architecture/rosa_policy_service_definition/rosa-policy-responsibility-matrix.html`,ROSA_SERVICE_DEFINITION:`${P}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html`,ROSA_WORKER_NODE_COUNT:`${P}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html#rosa-sdpolicy-compute_rosa-service-definition`,ROSA_SERVICE_ETCD_ENCRYPTION:`${P}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html#rosa-sdpolicy-etcd-encryption_rosa-service-definition`,ROSA_CLUSTER_WIDE_PROXY:`${P}/networking/configuring-cluster-wide-proxy.html`,ROSA_UPGRADES:`${P}/upgrading/rosa-upgrading-sts.html`,ROSA_LIMITED_SUPPORT_DEFINITION:`${P}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html#rosa-limited-support_rosa-service-definition`,ROSA_SHARED_VPC:`${P}/rosa_install_access_delete_clusters/rosa-shared-vpc-config.html`,ROSA_AWS_STS_PREREQUISITES:`${P}/rosa_planning/rosa-sts-aws-prereqs.html`,ROSA_AWS_ACCOUNT_ASSOCIATION:`${P}/rosa_planning/rosa-sts-aws-prereqs.html#rosa-associating-account_rosa-sts-aws-prereqs`,ROSA_AWS_MULTIPLE_ACCOUNT_ASSOCIATION:`${P}/rosa_planning/rosa-sts-aws-prereqs.html#rosa-associating-multiple-account_rosa-sts-aws-prereqs`,ROSA_AWS_SERVICE_QUOTAS:`${D}/prepare_your_environment/rosa-sts-required-aws-service-quotas#rosa-required-aws-service-quotas_rosa-sts-required-aws-service-quotas`,ROSA_AWS_LIMITS_SCALE:`${P}/rosa_planning/rosa-limits-scalability.html#node-scaling-after-installation_rosa-limits-scalability`,ROSA_AWS_IAM_RESOURCES:`${D}/introduction_to_rosa/rosa-sts-about-iam-resources`,ROSA_AWS_IAM_ROLES:`${P}/rosa_architecture/rosa-sts-about-iam-resources.html#rosa-sts-account-wide-roles-and-policies_rosa-sts-about-iam-resources`,ROSA_AWS_ACCOUNT_ROLES:`${P}/rosa_architecture/rosa-sts-about-iam-resources.html#rosa-sts-understanding-ocm-role_rosa-sts-about-iam-resources`,ROSA_AWS_OPERATOR_ROLE_PREFIX:`${P}/rosa_architecture/rosa-sts-about-iam-resources.html#rosa-sts-about-operator-role-prefixes_rosa-sts-about-iam-resources`,AWS_CONSOLE_ROSA_HOME:"https://console.aws.amazon.com/rosa/home",AWS_CONSOLE_ROSA_HOME_GET_STARTED:"https://console.aws.amazon.com/rosa/home#/get-started",AWS_CONSOLE_HOSTED_ZONES:"https://console.aws.amazon.com/route53/v2/hostedzones",AWS_CONSOLE_SECURITY_GROUPS:"https://console.aws.amazon.com/ec2/home#SecurityGroups",AWS_CLI:"https://aws.amazon.com/cli/",AWS_CLI_INSTRUCTIONS:"https://docs.aws.amazon.com/ROSA/latest/userguide/getting-started-sts-auto.html",AWS_CLI_GETTING_STARTED_MANUAL:"https://docs.aws.amazon.com/ROSA/latest/userguide/getting-started-sts-manual.html",AWS_ROSA_GET_STARTED:"https://docs.aws.amazon.com/ROSA/latest/userguide/getting-started.html",AWS_FINDING_KEY_ARN:"https://docs.aws.amazon.com/kms/latest/developerguide/find-cmk-id-arn.html",AWS_IMDS:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-options.html",AWS_LOAD_BALANCER_FEATURES:"https://aws.amazon.com/elasticloadbalancing/features/#Product_comparisons",AWS_SHARED_VPC:"https://docs.aws.amazon.com/vpc/latest/userguide/vpc-sharing.html",GCP_CONSOLE_OSD_HOME:"https://console.cloud.google.com/marketplace/agreements/redhat-marketplace/red-hat-openshift-dedicated",OCM_DOCS_MANAGING_CLUSTERS:`${N}/html/managing_clusters/assembly-managing-clusters`,OCM_DOCS_PULL_SECRETS:`${N}/html/managing_clusters/assembly-managing-clusters#downloading_and_updating_pull_secrets`,OCM_DOCS_ROLES_AND_ACCESS:`${N}/html/managing_clusters/assembly-user-management-ocm`,OCM_DOCS_SUBSCRIPTIONS:`${N}/html/managing_clusters/assembly-cluster-subscriptions`,OCM_DOCS_UPGRADING_OSD_TRIAL:`${N}/html/managing_clusters/assembly-cluster-subscriptions#upgrading-osd-trial-cluster_assembly-cluster-subscriptions`,COSTMGMT_ADDING_OCP:"https://access.redhat.com/documentation/en-us/cost_management_service/2023/html/adding_an_openshift_container_platform_source_to_cost_management/assembly-adding-openshift-container-platform-source",FINDING_AWS_ACCOUNT_IDENTIFIERS:"https://docs.aws.amazon.com/accounts/latest/reference/manage-acct-identifiers.html",CIDR_RANGE_DEFINITIONS_ROSA:"https://docs.openshift.com/rosa/networking/cidr-range-definitions.html",CIDR_RANGE_DEFINITIONS_OSD:"https://docs.openshift.com/dedicated/networking/cidr-range-definitions.html",CONFIGURE_PROXY_URL:"https://docs.openshift.com/dedicated/networking/configuring-cluster-wide-proxy.html",VIRTUAL_PRIVATE_CLOUD_URL:"https://docs.openshift.com/rosa/rosa_planning/rosa-sts-aws-prereqs.html#rosa-vpc_rosa-sts-aws-prereqs",AWS_CONTROL_PLANE_URL:`${T}/architecture/control-plane.html#hosted-control-planes-architecture_control-plane`},w={OC:"oc",BUTANE:"butane",CCOCTL:"ccoctl",COREOS_INSTALLER:"coreos-installer",CRC:"crc",HELM:"helm",X86INSTALLER:"x86_64-openshift-install",IBMZINSTALLER:"s390x-openshift-install",PPCINSTALLER:"ppc64le-openshift-install",ARMINSTALLER:"aarch64-openshift-install",MULTIINSTALLER:"multi-openshift-install",KN:"kn",OCM:"ocm",ODO:"odo",OPM:"opm",OPERATOR_SDK:"operator-sdk",RHCOS:"rhcos",RHOAS:"rhoas",ROSA:"rosa",MIRROR_REGISTRY:"mirror-registry",OC_MIRROR_PLUGIN:"oc-mirror-plugin",TKN:"tkn"},M={PRE_RELEASE:"preRelease",CANDIDATE:"candidate",STABLE:"stable"},k={arm:"arm",x86:"x86",ppc:"ppc",s390x:"s390x"},x=[{value:k.x86,label:"x86_64",path:"x86_64"},{value:k.arm,label:"aarch64",path:"aarch64"},{value:k.ppc,label:"ppc64le",path:"ppc64le"},{value:k.s390x,label:"s390x",path:"s390x"}],j={linux:"linux",mac:"mac",windows:"windows"},F=[{value:j.linux,label:"Linux"},{value:j.mac,label:"MacOS"},{value:j.windows,label:"Windows"}],G={[w.OC]:{[M.STABLE]:{[k.x86]:{[j.windows]:`${n}openshift-client-windows.zip`,[j.linux]:`${n}openshift-client-linux.tar.gz`,[j.mac]:`${n}openshift-client-mac.tar.gz`},[k.s390x]:{[j.linux]:`${s}openshift-client-linux.tar.gz`},[k.ppc]:{[j.linux]:`${o}openshift-client-linux.tar.gz`},[k.arm]:{[j.linux]:`${i}openshift-client-linux.tar.gz`,[j.mac]:`${i}openshift-client-mac-arm64.tar.gz`}},[M.CANDIDATE]:{[k.x86]:{[j.windows]:`${r}openshift-client-windows.zip`,[j.linux]:`${r}openshift-client-linux.tar.gz`,[j.mac]:`${r}openshift-client-mac.tar.gz`},[k.arm]:{[j.linux]:`${i}openshift-client-linux.tar.gz`,[j.mac]:`${i}openshift-client-mac-arm64.tar.gz`}},[M.PRE_RELEASE]:{[k.x86]:{[j.windows]:`${d}openshift-client-windows.zip`,[j.linux]:`${d}openshift-client-linux.tar.gz`,[j.mac]:`${d}openshift-client-mac.tar.gz`},[k.s390x]:{[j.linux]:`${c}openshift-client-linux.tar.gz`},[k.ppc]:{[j.linux]:`${p}openshift-client-linux.tar.gz`},[k.arm]:{[j.linux]:`${m}openshift-client-linux.tar.gz`,[j.mac]:`${m}openshift-client-mac-arm64.tar.gz`}}},[w.BUTANE]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${l}/butane-amd64`,[j.mac]:`${l}/butane-darwin-amd64`,[j.windows]:`${l}/butane-windows-amd64.exe`},[k.s390x]:{[j.linux]:`${l}/butane-s390x`},[k.ppc]:{[j.linux]:`${l}/butane-ppc64le`},[k.arm]:{[j.linux]:`${l}/butane-aarch64`}}},[w.CCOCTL]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${n}ccoctl-linux.tar.gz`},[k.s390x]:{[j.linux]:`${s}ccoctl-linux.tar.gz`},[k.ppc]:{[j.linux]:`${o}ccoctl-linux.tar.gz`},[k.arm]:{[j.linux]:`${i}ccoctl-linux.tar.gz`}}},[w.COREOS_INSTALLER]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${E}/coreos-installer_amd64`},[k.s390x]:{[j.linux]:`${E}/coreos-installer_s390x`},[k.ppc]:{[j.linux]:`${E}/coreos-installer_ppc64le`},[k.arm]:{[j.linux]:`${E}/coreos-installer_arm64`}}},[w.CRC]:{[M.STABLE]:{[k.x86]:{[j.windows]:`${g}/crc-windows-installer.zip`,[j.mac]:`${g}/crc-macos-installer.pkg`,[j.linux]:`${g}/crc-linux-amd64.tar.xz`},[k.arm]:{[j.mac]:`${g}/crc-macos-installer.pkg`}}},[w.HELM]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${h}/helm-linux-amd64.tar.gz`,[j.mac]:`${h}/helm-darwin-amd64.tar.gz`,[j.windows]:`${h}/helm-windows-amd64.exe.zip`},[k.s390x]:{[j.linux]:`${h}/helm-linux-s390x.tar.gz`},[k.ppc]:{[j.linux]:`${h}/helm-linux-ppc64le.tar.gz`},[k.arm]:{[j.linux]:`${h}/helm-linux-arm64.tar.gz`,[j.mac]:`${h}/helm-darwin-arm64.tar.gz`}}},[w.X86INSTALLER]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${n}openshift-install-linux.tar.gz`,[j.mac]:`${n}openshift-install-mac.tar.gz`},[k.arm]:{[j.mac]:`${n}openshift-install-mac-arm64.tar.gz`}},[M.CANDIDATE]:{[k.x86]:{[j.linux]:`${r}openshift-install-linux.tar.gz`,[j.mac]:`${r}openshift-install-mac.tar.gz`},[k.arm]:{[j.mac]:`${r}openshift-install-mac-arm64.tar.gz`}},[M.PRE_RELEASE]:{[k.x86]:{[j.linux]:`${d}openshift-install-linux.tar.gz`,[j.mac]:`${d}openshift-install-mac.tar.gz`},[k.arm]:{[j.linux]:`${d}openshift-install-linux-arm64.tar.gz`,[j.mac]:`${d}openshift-install-mac-arm64.tar.gz`}}},[w.IBMZINSTALLER]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${s}openshift-install-linux-amd64.tar.gz`,[j.mac]:`${s}openshift-install-mac.tar.gz`},[k.s390x]:{[j.linux]:`${s}openshift-install-linux.tar.gz`},[k.arm]:{[j.mac]:`${s}openshift-install-mac-arm64.tar.gz`}},[M.PRE_RELEASE]:{[k.x86]:{[j.linux]:`${c}openshift-install-linux-amd64.tar.gz`,[j.mac]:`${c}openshift-install-mac.tar.gz`},[k.s390x]:{[j.linux]:`${c}openshift-install-linux.tar.gz`},[k.arm]:{[j.linux]:`${c}openshift-install-linux-arm64.tar.gz`,[j.mac]:`${c}openshift-install-mac-arm64.tar.gz`}}},[w.PPCINSTALLER]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${o}openshift-install-linux-amd64.tar.gz`,[j.mac]:`${o}openshift-install-mac.tar.gz`},[k.ppc]:{[j.linux]:`${o}openshift-install-linux.tar.gz`},[k.arm]:{[j.linux]:`${o}openshift-install-linux-arm64.tar.gz`,[j.mac]:`${o}openshift-install-mac-arm64.tar.gz`}},[M.PRE_RELEASE]:{[k.x86]:{[j.linux]:`${p}openshift-install-linux-amd64.tar.gz`,[j.mac]:`${p}openshift-install-mac.tar.gz`},[k.ppc]:{[j.linux]:`${p}openshift-install-linux.tar.gz`},[k.arm]:{[j.linux]:`${p}openshift-install-linux-arm64.tar.gz`,[j.mac]:`${p}openshift-install-mac-arm64.tar.gz`}}},[w.ARMINSTALLER]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${i}openshift-install-linux-amd64.tar.gz`,[j.mac]:`${i}openshift-install-mac.tar.gz`},[k.arm]:{[j.linux]:`${i}openshift-install-linux.tar.gz`,[j.mac]:`${i}openshift-install-mac-arm64.tar.gz`}},[M.PRE_RELEASE]:{[k.x86]:{[j.linux]:`${m}openshift-install-linux-amd64.tar.gz`,[j.mac]:`${m}openshift-install-mac.tar.gz`},[k.arm]:{[j.linux]:`${m}openshift-install-linux.tar.gz`,[j.mac]:`${m}openshift-install-mac-arm64.tar.gz`}}},[w.MULTIINSTALLER]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${u}amd64/openshift-install-linux.tar.gz`,[j.mac]:`${u}amd64/openshift-install-mac.tar.gz`},[k.arm]:{[j.linux]:`${u}arm64/openshift-install-linux.tar.gz`,[j.mac]:`${u}arm64/openshift-install-mac-arm64.tar.gz`}},[M.PRE_RELEASE]:{[k.x86]:{[j.linux]:`${f}amd64/openshift-install-linux.tar.gz`,[j.mac]:`${f}amd64/openshift-install-mac.tar.gz`},[k.arm]:{[j.linux]:`${f}arm64/openshift-install-linux.tar.gz`,[j.mac]:`${f}arm64/openshift-install-mac-arm64.tar.gz`},[k.ppc]:{[j.linux]:`${f}ppc64le/openshift-install-linux.tar.gz`},[k.s390x]:{[j.linux]:`${f}s390x/openshift-install-linux.tar.gz`}}},[w.KN]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${v}/kn-linux-amd64.tar.gz`,[j.mac]:`${v}/kn-darwin-amd64.tar.gz`,[j.windows]:`${v}/kn-windows-amd64.zip`},[k.s390x]:{[j.linux]:`${v}/kn-linux-s390x.tar.gz`},[k.ppc]:{[j.linux]:`${v}/kn-linux-ppc64le.tar.gz`}}},[w.TKN]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${b}/tkn-linux-amd64.tar.gz`,[j.mac]:`${b}/tkn-macos-amd64.tar.gz`,[j.windows]:`${b}/tkn-windows-amd64.zip`},[k.s390x]:{[j.linux]:`${b}/tkn-linux-s390x.tar.gz`},[k.ppc]:{[j.linux]:`${b}/tkn-linux-ppc64le.tar.gz`},[k.arm]:{[j.linux]:`${b}/tkn-linux-arm64.tar.gz`,[j.mac]:`${b}/tkn-macos-arm64.tar.gz`,[j.windows]:`${b}/tkn-windows-arm64.zip`}}},[w.ODO]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${_}/odo-linux-amd64.tar.gz`,[j.mac]:`${_}/odo-darwin-amd64.tar.gz`,[j.windows]:`${_}/odo-windows-amd64.exe.zip`},[k.arm]:{[j.linux]:`${_}/odo-linux-arm64.tar.gz`,[j.mac]:`${_}/odo-darwin-arm64.tar.gz`},[k.s390x]:{[j.linux]:`${_}/odo-linux-s390x.tar.gz`},[k.ppc]:{[j.linux]:`${_}/odo-linux-ppc64le.tar.gz`}}},[w.ROSA]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${R}/rosa-linux.tar.gz`,[j.mac]:`${R}/rosa-macosx.tar.gz`,[j.windows]:`${R}/rosa-windows.zip`}}},[w.OPM]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${n}opm-linux.tar.gz`,[j.mac]:`${n}opm-mac.tar.gz`,[j.windows]:`${n}opm-windows.tar.gz`},[k.s390x]:{[j.linux]:`${s}opm-linux.tar.gz`},[k.ppc]:{[j.linux]:`${o}opm-linux.tar.gz`},[k.arm]:{[j.linux]:`${i}opm-linux.tar.gz`}}},[w.OPERATOR_SDK]:{[M.STABLE]:{[k.x86]:{[j.linux]:`${S}/operator-sdk-linux-x86_64.tar.gz`,[j.mac]:`${S}/operator-sdk-darwin-x86_64.tar.gz`},[k.arm]:{[j.linux]:"https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/operator-sdk/latest/operator-sdk-linux-aarch64.tar.gz"},[k.s390x]:{[j.linux]:"https://mirror.openshift.com/pub/openshift-v4/s390x/clients/operator-sdk/latest/operator-sdk-linux-s390x.tar.gz"},[k.ppc]:{[j.linux]:"https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/operator-sdk/latest/operator-sdk-linux-ppc64le.tar.gz"}}},[w.MIRROR_REGISTRY]:{[M.STABLE]:{[k.x86]:{[j.linux]:"https://developers.redhat.com/content-gateway/rest/mirror/pub/openshift-v4/clients/mirror-registry/latest/mirror-registry.tar.gz"}}},[w.OC_MIRROR_PLUGIN]:{[M.STABLE]:{[k.x86]:{[j.linux]:"https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/latest/oc-mirror.tar.gz"},[k.arm]:{[j.linux]:"https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/ocp/latest/oc-mirror.tar.gz"},[k.s390x]:{[j.linux]:"https://mirror.openshift.com/pub/openshift-v4/s390x/clients/ocp/latest/oc-mirror.tar.gz"},[k.ppc]:{[j.linux]:"https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/ocp/latest/oc-mirror.tar.gz"}}}},U=["openshift-online/ocm-cli","redhat-developer/app-services-cli"],V=e=>{const t={...G,[w.OCM]:{[M.STABLE]:{fallbackNavigateURL:L.OCM_CLI_RELEASES_LATEST}},[w.RHOAS]:{[M.STABLE]:{fallbackNavigateURL:L.RHOAS_CLI_RELEASES_LATEST}}},a=e["openshift-online/ocm-cli"];if(a?.fulfilled){const e=`https://github.com/openshift-online/ocm-cli/releases/download/${a.data.tag_name}`;t[w.OCM]={[M.STABLE]:{[k.x86]:{[j.linux]:`${e}/ocm-linux-amd64`,[j.mac]:`${e}/ocm-darwin-amd64`,[j.windows]:`${e}/ocm-windows-amd64`},[k.s390x]:{[j.linux]:`${e}/ocm-linux-s390x`},[k.ppc]:{[j.linux]:`${e}/ocm-linux-ppc64le`},[k.arm]:{[j.linux]:`${e}/ocm-linux-arm64`}}}}const l=e["redhat-developer/app-services-cli"];if(l?.fulfilled){const e=l.data.tag_name,a=e.replace(/^v/,""),n=`https://github.com/redhat-developer/app-services-cli/releases/download/${e}`;t[w.RHOAS]={[M.STABLE]:{[k.x86]:{[j.linux]:`${n}/rhoas_${a}_linux_amd64.tar.gz`,[j.mac]:`${n}/rhoas_${a}_macOS_amd64.tar.gz`,[j.windows]:`${n}/rhoas_${a}_windows_amd64.zip`},[k.arm]:{[j.linux]:`${n}/rhoas_${a}_linux_arm64.tar.gz`,[j.mac]:`${n}/rhoas_${a}_macOS_arm64.tar.gz`}}}}return t},H=async()=>[...new Set([...Object.values(L),...Object.values(G).flatMap(Object.values).flatMap(Object.values).flatMap(Object.values)])].sort(),z=L},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"cloud.openshift.com","version":"0.0.0","description":"OpenShift Cluster Manager","repository":{"type":"git","url":"git://github.com/openshift/cloud.openshift.com"},"license":"Apache-2.0","dependencies":{"@openshift-assisted/locales":"2.31.0","@openshift-assisted/types":"2.31.0","@openshift-assisted/ui-lib":"2.31.0","@patternfly/patternfly":"5.2.0","@patternfly/react-charts":"7.2.0","@patternfly/react-code-editor":"5.2.0","@patternfly/react-core":"5.2.0","@patternfly/react-icons":"5.2.0","@patternfly/react-table":"5.2.0","@patternfly/react-tokens":"5.2.0","@react-hook/resize-observer":"^1.2.6","@redhat-cloud-services/frontend-components":"^4.2.0","@redhat-cloud-services/frontend-components-config-utilities":"^3.0.4","@redhat-cloud-services/frontend-components-notifications":"^4.1.0","@redhat-cloud-services/rbac-client":"^1.2.12","@reduxjs/toolkit":"^1.9.1","@sentry/browser":"^7.77.0","@sentry/integrations":"^7.77.0","@types/file-saver":"^2.0.5","@types/humanize-duration":"^3.27.1","@wojtekmaj/enzyme-adapter-react-17":"^0.8.0","axios":">=0.22.0 <2.0.0","cidr-tools":"^9.0.0","classnames":"^2.2.6","connected-react-router":"^6.8.0","dayjs":"^1.11.10","file-saver":"^2.0.5","filesize":"^10.0.0","formik":"^2.2.9","fuse.js":"^7.0.0","history":"^5.0.0","humanize-duration":"^3.30.0","i18next":"^20.4.0","immer":"^10.0.0","imports-loader":"^5.0.0","ip-cidr":"3.1.0","is-promise":"^4.0.0","jsonschema":"^1.2.10","jszip":"^3.9.0","keycloak-js":"^23.0.0","lodash":"^4.17.19","monaco-editor":"0.45.0","object.fromentries":"^2.0.5","path-browserify":"^1.0.1","prop-types":"^15.7.2","qs":"6.11.2","react":"^18.2.0","react-content-loader":"^6.2.0","react-copy-to-clipboard":"^5.1.0","react-datepicker":"^5.0.0","react-dom":"^18.2.0","react-i18next":"^11.11.4","react-markdown":"^8.0.7","react-monaco-editor":"^0.55.0","react-redux":"^8.0.5","react-router":"^5.0.0","react-router-dom":"^5.3.0","react-router-dom-v5-compat":"^6.21.2","react-router-hash-link":"^2.0.0","react-tagsinput":"3.20.x","redux":"^4.2.1","redux-form":"^8.3.10","redux-promise-middleware":"^6.1.2","redux-thunk":"^2.3.0","rehype-raw":"^5.1.0","remark-gfm":"^1","reselect":"^5.0.0","screenfull":"^6.0.0","semver":"^7.3.4","typesafe-actions":"^5.1.0","urijs":"^1.19.11","url":"^0.11.0","uuid":"^9.0.0","yup":"^0.28.3"},"devDependencies":{"@babel/core":"^7.23.9","@babel/plugin-transform-object-assign":"^7.23.3","@babel/plugin-transform-runtime":"^7.23.9","@babel/preset-env":"^7.23.9","@babel/preset-react":"^7.23.3","@cypress/code-coverage":"^3.10.4","@cypress/grep":"^4","@redhat-cloud-services/types":"^1.0.6","@sentry/cli":"^2.21.2","@testing-library/jest-dom":"^6.4.2","@testing-library/react":"^14.0.0","@testing-library/user-event":"^14.0.4","@types/enzyme":"3.10.12","@types/history":"^4.7.2","@types/jest":"^29.5.12","@types/jest-axe":"^3.5.9","@types/lodash":"^4.14.168","@types/react":"17.0.x","@types/react-copy-to-clipboard":"^5.0.1","@types/react-router-dom":"5.3.0","@types/react-router-hash-link":"^2.0.0","@types/redux-form":"^8.3.5","@types/redux-mock-store":"^1.0.6","@types/semver":"^7.3.4","@types/sprintf-js":"^1.1.2","@types/urijs":"^1.19.19","@types/uuid":"^8.3.4","@types/yup":"^0.28.3","@typescript-eslint/eslint-plugin":"^6.20.0","@typescript-eslint/parser":"^6.20.0","babel-jest":"^29.7.0","babel-loader":"^9.1.3","babel-plugin-transform-class-properties":"^6.24.1","babel-plugin-transform-imports":"^2.0.0","chalk":"^5.0.1","concurrently":"^7.2.0","copy-webpack-plugin":"^8.1.1","css-loader":"^6.7.3","cypress":"^13.6.2","enzyme":"^3.11.0","enzyme-to-json":"^3.4.3","eslint":"^8.56.0","eslint-config-airbnb":"^19.0.4","eslint-config-prettier":"^9.1.0","eslint-import-resolver-alias":"^1.1.2","eslint-plugin-import":"^2.29.1","eslint-plugin-jsx-a11y":"^6.8.0","eslint-plugin-no-snapshot-testing":"^1.0.61","eslint-plugin-react":"7.33.2","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-testing-library":"^6.2.0","fork-ts-checker-webpack-plugin":"^7.2.13","html-webpack-plugin":"^5.3.1","husky":"^9.0.0","jest":"^29.7.0","jest-axe":"^8.0.0","jest-cli":"^29.7.0","jest-environment-jsdom":"^29.7.0","json5":"2.2.3","lint-staged":"^12.5.0","list-git-remotes":"^1.0.1","mini-css-extract-plugin":"^2.7.5","node-fetch":"^3.0.0","nyc":"^15.1.0","openapi-typescript-codegen":"^0.23.0","ora":"^8.0.0","porty":"^3.1.1","prettier":"3.2.4","progress":"^2.0.3","redux-mock-store":"^1.5.4","sass":"^1.70.0","sass-loader":"^14.0.1","shell-quote":"^1.7.3","simple-git":"3.22.0","sprintf-js":"^1.1.2","transform-class-properties":"^1.0.0-beta","ts-jest":"^29.1.2","ts-loader":"^9.3.1","typescript":"^4.7.4","wait-on":"^4.0.1","webpack":"^5.89.0","webpack-bundle-analyzer":"^4.10.1","webpack-cli":"^5.1.4","webpack-dev-server":"^4.15.1","yargs":"^15.0.0"},"resolutions":{"@types/react":"17.0.3","@cypress/webpack-preprocessor":"5.17.0","victory-area":"36.8.1","victory-axis":"36.8.1","victory-bar":"36.8.1","victory-box-plot":"36.8.1","victory-brush-container":"36.8.1","victory-chart":"36.8.1","victory-core":"36.8.1","victory-create-container":"36.8.1","victory-cursor-container":"36.8.1","victory-group":"36.8.1","victory-legend":"36.8.1","victory-line":"36.8.1","victory-pie":"36.8.1","victory-polar-axis":"36.8.1","victory-scatter":"36.8.1","victory-selection-container":"36.8.1","victory-shared-events":"36.8.1","victory-stack":"36.8.1","victory-tooltip":"36.8.1","victory-vendor":"36.8.1","victory-voronoi-container":"36.8.1","victory-zoom-container":"36.8.1"},"scripts":{"build":"webpack $(run/progress-flag-if-tty.sh)","start":"concurrently --kill-others --prefix=name --names=SERVER,MOCK --prefix-colors=cyan,reset --passthrough-arguments \'yarn dev-server --env noproxy api-env=staging {@}\' \'mockdata/mockserver.py\' --","dev-server":"webpack serve $(run/progress-flag-if-tty.sh)","insights-proxy":"make insights-proxy-check && run/insights-proxy.sh","stop-insights-proxy":"run/podman-or-docker.sh kill insightsproxy; run/podman-or-docker.sh rm --force insightsproxy; true","lint":"eslint src --ext js,jsx,ts,tsx && yarn  prettier","lint-staged":"lint-staged","prettier":"prettier --check \'{src,cypress}/**/*.{js,ts,mjs,jsx,tsx}\'","prettier:fix":"prettier --write \'{src,cypress}/**/*.{js,ts,mjs,jsx,tsx}\'","test":"TZ=America/New_York LC_ALL=en_US.utf8 node --no-compilation-cache --expose-gc ./node_modules/.bin/jest --logHeapUsage","test-local":"yarn test --maxWorkers=50%","test-no-cache":"yarn test --no-cache","test:debug":"node --nolazy --inspect-brk ./node_modules/jest/bin/jest.js --runInBand --colors --verbose","e2e-test":"rm -rf ./coverage/* && yarn cypress-headless --env grepTags=ci","stop":"yarn stop-insights-proxy; run/podman-or-docker.sh rm --force browser; pkill --full \'concurrently.*SERVER(prevent self match){0},MOCK\'; pkill --full \'concurrently.*BROWSER(prevent self match){0},TEST\'; true","prepare":"husky","gen-types":"node scripts/gen-openapi-typescript.js && prettier --write \'src/types/**/*.ts\'","cypress-ui":"cypress open","cypress-headless":"cypress run --browser chrome","code-coverage":"nyc report --reporter=text-summary","analyze":"rm -rf dist && BUNDLE_ANALYZER=true webpack $(run/progress-flag-if-tty.sh) --mode=production","sentry:sourcemaps":"sentry-cli sourcemaps inject ./dist/","sentry:release":"sentry-cli --url https://glitchtip.devshift.net/ releases --org ocm"},"insights":{"appname":"openshift"},"nyc":{"include":["src/**/*"]},"engines":{"node":">= 18.12.0"}}')},93723:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.apps.ssotest01ue1.a7a5.p1.openshiftapps.com","insightsGateway":"https://ci.console.redhat.com/api"}')},16706:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.integration.openshift.com","fedrampGateway":"https://console.redhat.com/api","fedrampS3":"https://fedramp-customer-interest-rob-stage.s3.us-east-1.amazonaws.com","demoExperience":"https://api.demo-experience.stage.demo.redhat.com"}')},68923:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.openshift.com","insightsGateway":"https://console.redhat.com/api","sentryDSN":"https://be858a1cf3a245a9a1190986e0379b4a@glitchtip.devshift.net/65","fedrampGateway":"https://console.redhat.com/api","fedrampS3":"https://fedramp-customer-interest-rob-production.s3.us-east-1.amazonaws.com","demoExperience":"https://api.demo-experience.demo.redhat.com"}')},90860:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.stage.openshift.com","insightsGateway":"https://$SELF_PATH$/api","sentryDSN":"https://8e90d77ef3604f1bb1d1bf28c899a24b@glitchtip.devshift.net/64","fedrampGateway":"https://console.stage.redhat.com/api","fedrampS3":"https://fedramp-customer-interest-rob-stage.s3.us-east-1.amazonaws.com","demoExperience":"https://api.demo-experience.stage.demo.redhat.com"}')}}]);
//# sourceMappingURL=bundle.697.db1afcfe92d9196d.js.map
//# debugId=259d4696-d5d1-535a-acf0-be23cd0b83db
