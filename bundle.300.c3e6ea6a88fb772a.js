
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="7604da50-5d05-5e1f-933a-06da2dcacf48")}catch(e){}}();
(self.webpackChunkopenshift=self.webpackChunkopenshift||[]).push([[300],{29476:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(62193)),i=l(a(47091)),s=l(a(5556)),o=a(97419),u=a(65589),d=l(a(67080)),c=a(51513),m=a(69304),p=a(33366),f=a(10135),E=a(22916),g=l(a(7691)),v=l(a(48609)),h=l(a(67716)),b=l(a(71299)),S=l(a(60993)),_=l(a(96497)),C=l(a(4846)),y=l(a(2333)),I=l(a(62779)),A=l(a(40902)),R=l(a(84465)),T=l(a(96346)),O=l(a(55082));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}a(29);const D="Cluster Archives | Red Hat OpenShift Cluster Manager";class L extends n.Component{constructor(e){super(e),this.refresh=this.refresh.bind(this)}componentDidMount(){const{getCloudProviders:e,cloudProviders:t,setListFlag:a,invalidateClusters:l}=this.props;a("showArchived",!0),l(),t.fulfilled||t.pending||e()}componentDidUpdate(e){const{viewOptions:t,valid:a,pending:l}=this.props;(!a&&!l||(0,f.viewPropsChanged)(t,e.viewOptions))&&this.refresh()}componentWillUnmount(){const{closeModal:e,invalidateClusters:t,clearGlobalError:a}=this.props;e(),t(),a("archivedClusterList")}refresh(){const{fetchClusters:e,viewOptions:t,username:a}=this.props;e((0,f.createViewQueryObject)(t,a))}render(){const{error:e,errorCode:t,valid:a,pending:l,clusters:s,viewOptions:f,setSorting:P,openModal:L,invalidateClusters:N,errorMessage:w,operationID:M}=this.props,k=n.default.createElement(g.default,{path:[{label:"Cluster List"},{label:"Cluster Archives"}]}),F=n.default.createElement(u.PageHeader,null,k,n.default.createElement(u.PageHeaderTitle,{title:"Cluster Archives"}));return e&&!(0,i.default)(s)?n.default.createElement(p.AppPage,{title:D},n.default.createElement(o.PageSection,null,n.default.createElement(b.default,{message:"Error retrieving cluster archives",response:{errorMessage:w,operationID:M,errorCode:t}}))):!(0,i.default)(s)&&l&&(0,r.default)(f.filter)||!a?n.default.createElement(p.AppPage,{title:D},F,n.default.createElement(o.PageSection,null,n.default.createElement(o.Card,null,n.default.createElement("div",{className:"cluster-list"},n.default.createElement("div",{className:"cluster-loading-container"},n.default.createElement(d.default,{centered:!0})))))):n.default.createElement(p.AppPage,{title:D},F,n.default.createElement(o.PageSection,null,n.default.createElement(o.Card,null,n.default.createElement("div",{className:"cluster-list"},n.default.createElement(A.default,null),n.default.createElement(o.Toolbar,{id:"cluster-list-top"},n.default.createElement(o.ToolbarContent,null,n.default.createElement(o.ToolbarItem,null,n.default.createElement(y.default,{view:E.viewConstants.ARCHIVED_CLUSTERS_VIEW})),n.default.createElement(o.ToolbarItem,{className:"pf-v5-l-split__item split-margin-left","data-testid":"cluster-list-filter-dropdown"},n.default.createElement(_.default,{view:E.viewConstants.ARCHIVED_CLUSTERS_VIEW,isDisabled:l})),n.default.createElement(o.ToolbarItem,{className:"pf-v5-l-split__item split-margin-left"},n.default.createElement(C.default,{view:E.viewConstants.ARCHIVED_CLUSTERS_VIEW,bodyContent:"Show only the clusters you previously archived, or all archived clusters in your organization.",localStorageKey:c.ONLY_MY_CLUSTERS_TOGGLE_CLUSTER_ARCHIVES_LIST})),n.default.createElement(o.ToolbarItem,{className:"pf-v5-l-split__item split-margin-left"},n.default.createElement("div",{className:"show-active-clusters-link"},n.default.createElement(m.Link,{to:"/cluster-list"},"Show active clusters"))),n.default.createElement(o.ToolbarItem,{className:"spinner-fit-container"},l&&n.default.createElement(d.default,{className:"cluster-list-spinner"}),e&&n.default.createElement(I.default,{errorMessage:w,className:"cluster-list-warning"})),n.default.createElement(o.ToolbarItem,{align:{default:"alignRight"},variant:"pagination",className:"pf-m-hidden visible-on-lgplus"},n.default.createElement(T.default,{viewType:E.viewConstants.ARCHIVED_CLUSTERS_VIEW,currentPage:f.currentPage,pageSize:f.pageSize,totalCount:f.totalCount,totalPages:f.totalPages,variant:"top"})),n.default.createElement(o.ToolbarItem,null,n.default.createElement(h.default,{autoRefresh:!0,refreshFunc:this.refresh,classOptions:"cluster-list-top"})))),n.default.createElement(S.default,{view:E.viewConstants.ARCHIVED_CLUSTERS_VIEW}),n.default.createElement(O.default,{clusters:s||[],viewOptions:f,setSorting:P,openModal:L}),n.default.createElement(T.default,{viewType:E.viewConstants.ARCHIVED_CLUSTERS_VIEW,currentPage:f.currentPage,pageSize:f.pageSize,totalCount:f.totalCount,totalPages:f.totalPages,variant:"bottom"}),n.default.createElement(v.default,{ModalComponent:R.default,onClose:N})))))}}L.propTypes={username:s.default.string.isRequired,invalidateClusters:s.default.func.isRequired,fetchClusters:s.default.func.isRequired,valid:s.default.bool.isRequired,clusters:s.default.array.isRequired,error:s.default.bool.isRequired,errorCode:s.default.number,errorMessage:s.default.oneOfType([s.default.string,s.default.node,s.default.element]).isRequired,pending:s.default.bool.isRequired,viewOptions:s.default.object.isRequired,setSorting:s.default.func.isRequired,getCloudProviders:s.default.func.isRequired,cloudProviders:s.default.object.isRequired,openModal:s.default.func.isRequired,closeModal:s.default.func.isRequired,setListFlag:s.default.func.isRequired,operationID:s.default.string,clearGlobalError:s.default.func.isRequired},t.default=L},29068:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(43693)),r=a(73729),i=a(10138),s=a(24239),o=a(9059),u=a(27241),d=a(22916),c=a(91089),m=l(a(29476));function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const E={invalidateClusters:()=>s.clustersActions.invalidateClusters(),fetchClusters:e=>s.clustersActions.fetchClusters(e),setSorting:e=>u.viewActions.onListSortBy(e,d.viewConstants.ARCHIVED_CLUSTERS_VIEW),setListFlag:(e,t)=>u.viewActions.onListFlagsSet(e,t,d.viewConstants.ARCHIVED_CLUSTERS_VIEW),getCloudProviders:i.cloudProviderActions.getCloudProviders,openModal:c.modalActions.openModal,closeModal:c.modalActions.closeModal,clearGlobalError:o.clearGlobalError};t.A=(0,r.connect)((e=>f(f({},e.clusters.clusters),{},{username:e.userProfile.keycloakProfile.username,viewOptions:e.viewOptions[d.viewConstants.ARCHIVED_CLUSTERS_VIEW],cloudProviders:e.cloudProviders,sortByIndex:e.sortByIndex})),E)(m.default)},29487:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(62193)),i=l(a(47091)),s=l(a(5556)),o=a(73729),u=a(97419),d=a(45646),c=a(51513),m=a(69304),p=a(33366),f=a(22637),E=a(27241),g=a(67285),v=a(62384),h=l(a(93413)),b=a(10135),S=a(75166),_=a(22916),C=l(a(7691)),y=l(a(55816)),I=l(a(48609)),A=l(a(71299)),R=l(a(84197)),T=l(a(32742)),O=a(20230),P=a(29015),D=l(a(46823)),L=l(a(2333)),N=l(a(62779)),w=l(a(40902)),M=l(a(17779)),k=l(a(84465)),F=l(a(15077));a(22608);const x=n.default.createElement(C.default,{path:[{label:"Cluster List"},{label:"Cluster Archives"}]}),G=()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(M.default,null),n.default.createElement(u.PageSection,{variant:u.PageSectionVariants.light},n.default.createElement(u.Split,null,n.default.createElement(u.SplitItem,{className:"pf-v5-u-pb-md"},x)),n.default.createElement(u.Split,null,n.default.createElement(u.SplitItem,null,n.default.createElement(u.Title,{headingLevel:"h1"},"Cluster Archives")))));G.propTypes={};const U=e=>{let{getCloudProviders:t,cloudProviders:a,closeModal:l,clearGlobalError:s,openModal:C}=e;const M=(0,o.useDispatch)(),x=_.viewConstants.ARCHIVED_CLUSTERS_VIEW,{isLoading:U,data:j,refetch:H,isError:V,errors:q,isFetching:z,isFetched:B}=(0,f.useFetchClusters)(!0,!0),W=null==j?void 0:j.items,$=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[x])||void 0===t?void 0:t.totalCount}));n.default.useEffect((()=>{(!U||(null==j?void 0:j.itemsCount)>0)&&M((0,E.onSetTotalClusters)(null==j?void 0:j.itemsCount,x))}),[null==j?void 0:j.itemsCount]);const Y=(q||[]).reduce(((e,t)=>t.reason?[...e,`${t.reason}.${t.region?` While getting clusters for ${t.region.region}.`:""}${t.operation_id?` (Operation ID: ${t.operation_id})`:""}`]:e),[]),K=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[x])||void 0===t?void 0:t.currentPage})),Q=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[x])||void 0===t?void 0:t.pageSize})),Z=K&&Q&&$>0?(K-1)*Q+1:0,X=K&&Q?Math.min(K*Q,$):0,J=n.default.useCallback((()=>{a.fulfilled||a.pending||!B||t()}),[a.fulfilled,a.pending,t,B]),ee=n.default.useCallback(((e,t)=>{M((0,E.onPageInput)(t,x))}),[M,x]);n.default.useEffect((()=>{if(W&&$<Z&&!U){const e=Math.ceil($/Q);ee(void 0,e)}}),[W,Z,K,Q,ee,$,U]);const te=(e,t,a)=>{M((0,E.onPageInput)(a,x)),M((0,E.onPerPageSelect)(t,x,!0))},ae=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[x])||void 0===t?void 0:t.sorting})),le=ae.sortField,ne=ae.isAscending?d.SortByDirection.asc:d.SortByDirection.desc;n.default.useEffect((()=>{J(),(0,v.isRestrictedEnv)()&&M((0,E.onListFlagsSet)("subscriptionFilter",{plan_id:[S.normalizedProducts.ROSA]},x));const e=(0,b.getQueryParam)("plan_id")||"";if(!(0,r.default)(e)){const t={};S.productFilterOptions.forEach((e=>{t[e.key]=!0}));const a=e.split(",").filter((e=>t[e]));M((0,E.onListFlagsSet)("subscriptionFilter",{plan_id:a},x))}return()=>{l(),s("archivedClusterList")}}),[]);const re=(0,o.useSelector)((e=>e.viewOptions.CLUSTERS_VIEW)),{showMyClustersOnly:ie,subscriptionFilter:se}=re.flags,oe=h.default.nestedIsEmpty(se)&&!ie&&!re.filter,ue=!(0,i.default)(W)&&(U||!B),de=z||U;return n.default.createElement(p.AppPage,{title:"Cluster Archives | Red Hat OpenShift Cluster Manager"},n.default.createElement(G,{showSpinner:de,error:V,errorDetails:Y,isPendingNoData:ue,refresh:H}),n.default.createElement(u.PageSection,null,n.default.createElement(u.Card,null,n.default.createElement("div",{className:"cluster-list"},n.default.createElement(w.default,null),V&&W.length>0&&n.default.createElement(y.default,{variant:"warning",message:"Some operations are unavailable, try again later",response:{errorDetails:[{items:Y}]},isExpandable:!0,hideOperationID:!0,forceAsAlert:!0}),n.default.createElement(u.Toolbar,{id:"cluster-list-toolbar"},n.default.createElement(u.ToolbarContent,null,n.default.createElement(u.ToolbarItem,{className:"ocm-c-toolbar__item-cluster-filter-list"},n.default.createElement(L.default,{isDisabled:ue&&oe,view:g.ARCHIVED_CLUSTERS_VIEW})),(0,v.isRestrictedEnv)()?null:n.default.createElement(u.ToolbarItem,{className:"ocm-c-toolbar__item-cluster-list-filter-dropdown","data-testid":"cluster-list-filter-dropdown"},n.default.createElement(T.default,{view:g.ARCHIVED_CLUSTERS_VIEW,isDisabled:U||z})),n.default.createElement(D.default,{view:g.ARCHIVED_CLUSTERS_VIEW,bodyContent:"Show only the clusters you previously created, or all clusters in your organization.",localStorageKey:c.ONLY_MY_CLUSTERS_TOGGLE_CLUSTER_ARCHIVES_LIST}),n.default.createElement(u.ToolbarItem,{className:"pf-v5-l-split__item split-margin-left"},n.default.createElement("div",{className:"show-active-clusters-link"},n.default.createElement(m.Link,{to:"/cluster-list"},"Show active clusters"))),n.default.createElement(u.ToolbarItem,null,de&&n.default.createElement(u.Spinner,{size:"lg",className:"cluster-list-spinner","aria-label":"Loading cluster list data"}),V&&n.default.createElement(N.default,{className:"cluster-list-warning",item:"clusters"})),n.default.createElement(u.ToolbarItem,{align:{default:"alignRight"},variant:"pagination",className:"pf-m-hidden visible-on-lgplus"},n.default.createElement(O.PaginationRow,{currentPage:K,pageSize:Q,itemCount:$,variant:"top",isDisabled:ue,itemsStart:Z,itemsEnd:X,onPerPageSelect:te,onPageChange:ee})),n.default.createElement(u.ToolbarItem,{spacer:{default:"spacerNone"}},n.default.createElement(P.RefreshButton,{isDisabled:de,refreshFunc:H})))),(0,v.isRestrictedEnv)()?null:n.default.createElement(R.default,null),V&&!(0,i.default)(W)&&B?n.default.createElement(A.default,{message:"Error retrieving clusters",response:{errorMessage:"",operationID:"",errorCode:"",errorDetails:Y}}):n.default.createElement(F.default,{openModal:C,clusters:W||[],isPending:ue,activeSortIndex:le,activeSortDirection:ne,setSort:(e,t)=>{const a={isAscending:t===d.SortByDirection.asc,sortField:e};M(E.viewActions.onListSortBy(a,x))}}),n.default.createElement(O.PaginationRow,{currentPage:K,pageSize:Q,itemCount:$,variant:"bottom",isDisabled:ue,itemsStart:Z,itemsEnd:X,onPerPageSelect:te,onPageChange:ee}),n.default.createElement(I.default,{ModalComponent:k.default,onClose:()=>{H()}})))))};U.propTypes={getCloudProviders:s.default.func.isRequired,cloudProviders:s.default.object.isRequired,openModal:s.default.func.isRequired,closeModal:s.default.func.isRequired,queryParams:s.default.shape({has_filters:s.default.bool}),clearGlobalError:s.default.func.isRequired},t.default=U},45745:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=a(73729),r=a(10138),i=a(9059),s=a(91089),o=l(a(29487));const u={getCloudProviders:r.cloudProviderActions.getCloudProviders,openModal:s.modalActions.openModal,closeModal:s.modalActions.closeModal,clearGlobalError:i.clearGlobalError};t.A=(0,n.connect)((e=>({cloudProviders:e.cloudProviders})),u)(o.default)},12982:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(95376),o=z(a(25247)),u=a(97419),d=a(67080),c=a(69304),m=a(33366),p=a(62384),f=a(59067),E=l(a(6071)),g=a(93413),v=a(22902),h=a(11009),b=a(75166),S=l(a(59759)),_=l(a(71299)),C=z(a(23271)),y=l(a(87814)),I=l(a(17779)),A=l(a(2311)),R=l(a(97730)),T=l(a(9203)),O=l(a(36918)),P=l(a(25985)),D=l(a(84290)),L=l(a(90090)),N=a(16968),w=l(a(4716)),M=l(a(70606)),k=l(a(96192)),F=l(a(68012)),x=l(a(92946)),G=l(a(98935)),U=l(a(73850)),j=l(a(81297)),H=l(a(68927)),V=a(38260);function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(q=function(e){return e?a:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=q(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}const{HostsClusterDetailTab:B,getAddHostsTabState:W}=o,$="Red Hat OpenShift Cluster Manager",Y=e=>{var t,a,l;const{clusterDetails:i,cloudProviders:o,getCloudProviders:q,clearGlobalError:z,getUserAccess:Y,resetIdentityProvidersState:K,closeModal:Q,resetClusterHistory:Z,resetAccessRequests:X,resetAccessRequest:J,resetAccessProtection:ee,clearGetMachinePoolsResponse:te,clearGetClusterAutoscalerResponse:ae,clearFiltersAndFlags:le,clearListVpcs:ne,invalidateClusters:re,getClusterIdentityProviders:ie,clusterIdentityProviders:se,fetchDetails:oe,getAddOns:ue,getUsers:de,getOnDemandMetrics:ce,getClusterAddOns:me,getOrganizationAndQuota:pe,getGrants:fe,accessRequestsViewOptions:Ee,pendingAccessRequests:ge,clusterLogsViewOptions:ve,getClusterHistory:he,getAccessRequests:be,getPendingAccessRequests:Se,getAccessProtection:_e,getClusterRouters:Ce,organization:ye,getMachineOrNodePools:Ie,getSchedules:Ae,fetchClusterInsights:Re,fetchUpgradeGates:Te,useNodeUpgradePolicies:Oe,notificationContacts:Pe,getNotificationContacts:De,openModal:Le,setGlobalError:Ne,displayClusterLogs:we,insightsData:Me,logs:ke,canSubscribeOCP:Fe,canTransferClusterOwnership:xe,canHibernateCluster:Ge,anyModalOpen:Ue,hasIssues:je,toggleSubscriptionReleased:He,userAccess:Ve,gotRouters:qe,hasNetworkOndemand:ze,accessProtectionState:Be,chromeHistory:We}=e,$e=(0,s.useLocation)().hash.replace("#",""),Ye=(0,c.useNavigate)(),Ke=(0,s.useParams)(),Qe=Ke.id,[Ze,Xe]=n.default.useState(""),[Je,et]=n.default.useState({type:V.eventTypes.NONE}),{cluster:tt}=i,at=n.default.useMemo((()=>null==Be?void 0:Be.enabled),[null==Be?void 0:Be.enabled]),lt=Ke.id,nt=n.default.useRef(),rt=n.default.useRef(),it=n.default.useRef(),st=n.default.useRef(),ot=n.default.useRef(),ut=n.default.useRef(),dt=n.default.useRef(),ct=n.default.useRef(),mt=n.default.useRef(),pt=n.default.useRef(),ft=n.default.useRef(),Et=n.default.useRef(null===(t=i.cluster)||void 0===t?void 0:t.id),gt=()=>{var e;const t=null==i||null===(e=i.cluster)||void 0===e?void 0:e.id;!(0,g.isValid)(t)||se.pending||se.error||ie(t)},vt=e=>{var t;const a=(0,r.default)(i,"cluster.id"),l=null===(t=i.cluster)||void 0===t||null===(t=t.version)||void 0===t?void 0:t.id,n=(0,r.default)(i,"cluster.managed",!1);(0,g.shouldRefetchQuota)(ye)&&pe();const s=(0,r.default)(i,"cluster.external_id");if(s&&(Re(s),(()=>{var e;const t=null===(e=i.cluster)||void 0===e||null===(e=e.subscription)||void 0===e?void 0:e.id;(0,g.isValid)(t)&&(Pe.pending||De(t))})()),(s||a)&&he(s,a,ve),!Qe||null!=Be&&Be.pending||(0,p.isRestrictedEnv)()||_e(Qe),n)ue(a),me(a),de(a),Ce(a),gt(),Ie(a,(0,C.isHypershiftCluster)(null==i?void 0:i.cluster),l,Oe),Ae(a,(0,C.isHypershiftCluster)(null==i?void 0:i.cluster)),Te(),"gcp"!==(0,r.default)(i,"cluster.cloud_provider.id")&&fe(a);else{var o;const e=null===(o=i.cluster)||void 0===o||null===(o=o.subscription)||void 0===o?void 0:o.id;ce(e)}et({type:e||V.eventTypes.AUTO})},ht=e=>{(0,g.isValid)(Qe)&&oe(Qe);const t=(0,r.default)(tt,"id"),a=(0,r.default)(tt,"subscription.status");(0,g.isValid)(t)&&a!==f.SubscriptionCommonFields.status.DEPROVISIONED&&vt(e)};n.default.useEffect((()=>(z("clusterDetails"),ht(),o.pending||o.error||o.fulfilled||q(),Y({type:"OCP"}),()=>{K(),Q(),Z(),X(),ee(),te(),ae(),le(),ne()})),[]),n.default.useEffect((()=>{!Qe||null!=Be&&Be.pending||_e(Qe)}),[Qe]),n.default.useEffect((()=>{var e;const t=Ke.id;if((0,r.default)(i,"cluster.subscription.id")===t){const e=(0,E.default)(i.cluster);document.title=`${e} | Red Hat OpenShift Cluster Manager`}var a;!Et.current&&i.fulfilled&&null!==(e=i.cluster)&&void 0!==e&&e.id&&(vt(),Et.current=null===(a=i.cluster)||void 0===a?void 0:a.id)}),[Ke,i,Qe]),n.default.useEffect((()=>{(null==Be||!Be.pending)&&null!=Be&&Be.enabled&&Qe&&Ee&&(be(Qe,Ee),Se(Qe))}),[null==Be?void 0:Be.pending,null==Be?void 0:Be.enabled,be,Se,Qe]);const bt=(0,r.default)(tt,"subscription.id")!==lt&&!i.error;if(bt||!ye.fulfilled&&!i.error)return n.default.createElement(m.AppPage,{title:$},n.default.createElement("div",{id:"clusterdetails-content"},n.default.createElement("div",{className:"cluster-loading-container"},n.default.createElement(d.Spinner,{centered:!0}))));if(i.error&&(!tt||(0,r.default)(tt,"subscription.id")!==lt))return 404===i.errorCode||403===i.errorCode?(J(),ee(),Ne(n.default.createElement(n.default.Fragment,null,"Cluster with subscription ID ",n.default.createElement("b",null,lt)," was not found, it might have been deleted or you don't have permission to see it."),"clusterDetails",i.errorMessage),n.default.createElement(c.Navigate,{to:"/cluster-list"})):n.default.createElement(m.AppPage,{title:$},n.default.createElement(_.default,{message:"Error retrieving cluster details",response:i}),bt&&n.default.createElement(d.Spinner,null));const St=(0,C.isHibernating)(tt),_t=(0,r.default)(tt,"subscription.status",!1)===f.SubscriptionCommonFields.status.ARCHIVED||(0,r.default)(tt,"subscription.status",!1)===f.SubscriptionCommonFields.status.DEPROVISIONED,Ct=(0,r.default)(tt,"subscription.plan.type","")===b.knownProducts.ARO,yt=(0,r.default)(tt,"subscription.plan.type","")===b.knownProducts.OSDTRIAL,It=(0,r.default)(tt,"subscription.plan.type","")===b.knownProducts.RHOIC,At=tt.managed,Rt=(0,C.isHypershiftCluster)(tt),Tt=tt.state===C.default.WAITING,Ot=tt.state===C.default.PENDING,Pt=tt.state===C.default.INSTALLING,Dt=tt.state===C.default.READY,Lt=tt.state===C.default.UPDATING,Nt="read_only"===(null==tt||null===(a=tt.status)||void 0===a?void 0:a.configuration_mode),wt=(0,h.hasCapability)(ye.details,h.subscriptionCapabilities.CREATE_GCP_NON_CCS_CLUSTER),Mt=!Pt&&!Ot&&!Tt&&tt.managed&&!_t&&!(0,p.isRestrictedEnv)(),kt=!(_t||tt.managed||Ct||It||(0,v.isUninstalledAICluster)(tt)||(0,p.isRestrictedEnv)()),Ft=!_t,xt=(0,r.default)(tt,"cloud_provider.id"),Gt=(Dt||Lt||St)&&tt.managed&&!!(0,r.default)(tt,"api.url")&&("aws"===xt||"gcp"===xt&&((0,r.default)(tt,"ccs.enabled")||qe&&wt))&&!_t,Ut=!(!(0,p.isRestrictedEnv)()&&tt.managed&&void 0===(null===(l=tt.subscription)||void 0===l?void 0:l.external_cluster_id)||yt),jt=tt.managed&&!Ct&&tt.canEdit&&!_t;let Ht={showTab:!1,isDisabled:!1,tabTooltip:""};return(0,v.isAssistedInstallCluster)(tt)&&!_t&&(Ht=W(tt)),n.default.createElement(m.AppPage,{title:$},n.default.createElement(I.default,{isReadOnly:Nt}),n.default.createElement(u.PageSection,{id:"clusterdetails-content"},n.default.createElement(D.default,{cluster:tt,openModal:Le,pending:i.pending,refreshFunc:ht,clickRefreshFunc:()=>ht(V.eventTypes.CLICKED),clusterIdentityProviders:se,organization:ye,error:i.error,errorMessage:i.errorMessage,canSubscribeOCP:Fe,canTransferClusterOwnership:xe,canHibernateCluster:Ge,autoRefreshEnabled:!Ue,toggleSubscriptionReleased:He,showPreviewLabel:Rt,logs:ke},n.default.createElement(j.default,{tabsInfo:{overview:{ref:nt,hasIssues:!1},monitoring:{ref:rt,show:kt,hasIssues:tt.state!==C.default.INSTALLING&&je},accessControl:{ref:it,show:Ft},addOns:{ref:st,show:Mt},clusterHistory:{ref:ot,show:we},networking:{ref:ut,show:Gt},machinePools:{ref:ct,show:(0,C.canViewMachinePoolTab)(tt)},support:{ref:dt,show:Ut},upgradeSettings:{ref:mt,show:jt},addAssisted:{ref:pt,show:Ht.showTab,isDisabled:Ht.isDisabled,tooltip:Ht.tabTooltip},accessRequest:{ref:ft,show:at,tooltip:n.default.createElement(u.Tooltip,{content:(null==ge?void 0:ge.total)>0?`${ge.total} pending request${ge.total>1?"s":""}`:"No pending requests"}),hasIssues:(null==ge?void 0:ge.total)>0,numberOfIssues:null==ge?void 0:ge.total,isLoading:null==ge?void 0:ge.pending}},initTabOpen:$e,onTabSelected:e=>{Xe(e)}})),n.default.createElement(u.TabContent,{eventKey:0,id:"overviewTabContent",ref:nt,"aria-label":"Overview",ouiaId:"overviewTabContent"},n.default.createElement(S.default,null,n.default.createElement(x.default,{cluster:tt,cloudProviders:o,refresh:ht,openModal:Le,insightsData:Me[tt.external_id],hasNetworkOndemand:ze,userAccess:Ve,chromeHistory:We}))),kt&&n.default.createElement(u.TabContent,{eventKey:1,id:"monitoringTabContent",ref:rt,"aria-label":"Monitoring",hidden:!0},n.default.createElement(S.default,null,n.default.createElement(k.default,{cluster:tt}))),Ft&&n.default.createElement(u.TabContent,{eventKey:2,id:"accessControlTabContent",ref:it,"aria-label":"Access Control",hidden:!0},n.default.createElement(S.default,null,n.default.createElement(R.default,{cluster:tt,refreshEvent:Je}))),At&&n.default.createElement(u.TabContent,{eventKey:3,id:"addOnsTabContent",ref:st,"aria-label":"Add-ons",hidden:!0},n.default.createElement(S.default,null,n.default.createElement(P.default,{clusterID:tt.id,isHypershift:Rt}))),we&&n.default.createElement(u.TabContent,{eventKey:4,id:"clusterHistoryTabContent",ref:ot,"aria-label":"Cluster history",hidden:!0},n.default.createElement(S.default,null,n.default.createElement(L.default,{externalClusterID:tt.external_id,clusterID:tt.id,createdAt:tt.creation_timestamp,refreshEvent:{type:Je.type,reset:()=>et({type:V.eventTypes.NONE})},isVisible:Ze===N.ClusterTabsId.CLUSTER_HISTORY}))),Gt&&n.default.createElement(u.TabContent,{eventKey:5,id:"networkingTabContent",ref:ut,"aria-label":"Networking",hidden:!0},n.default.createElement(S.default,null,n.default.createElement(F.default,{clusterID:tt.id,refreshCluster:ht}))),n.default.createElement(u.TabContent,{eventKey:7,id:"supportTabContent",ref:dt,"aria-label":"Support",hidden:!0},n.default.createElement(S.default,null,n.default.createElement(G.default,{isDisabled:_t}))),(0,C.canViewMachinePoolTab)(tt)&&n.default.createElement(u.TabContent,{eventKey:6,id:"machinePoolsContent",ref:ct,"aria-label":"Machine pools",hidden:!0},n.default.createElement(S.default,null,n.default.createElement(M.default,{cluster:tt}))),jt&&n.default.createElement(u.TabContent,{eventKey:8,id:"upgradeSettingsContent",ref:mt,"aria-label":"Upgrade settings",hidden:!0},n.default.createElement(S.default,null,n.default.createElement(H.default,null))),Ht.showTab&&!Ht.isDisabled&&n.default.createElement(u.TabContent,{eventKey:9,id:"addHostsContent",ref:pt,"aria-label":"Add Hosts",hidden:!0},n.default.createElement(S.default,null,n.default.createElement(B,{cluster:tt,isVisible:Ze===N.ClusterTabsId.ADD_ASSISTED_HOSTS}))),at?n.default.createElement(u.TabContent,{eventKey:10,id:"accessRequestsContent",ref:ft,"aria-label":"Access Requests",hidden:!0},n.default.createElement(S.default,null,n.default.createElement(O.default,{subscriptionId:Qe}))):null,n.default.createElement(y.default,{onClose:()=>{(0,g.isValid)(Qe)&&oe(Qe)},onClusterDeleted:()=>{re(),Ye("/cluster-list")}}),n.default.createElement(w.default,{refreshParent:gt}),n.default.createElement(U.default,null),n.default.createElement(T.default,{clusterID:tt.id}),n.default.createElement(A.default,{isHypershift:Rt})))};Y.propTypes={fetchDetails:i.default.func.isRequired,fetchClusterInsights:i.default.func.isRequired,getCloudProviders:i.default.func.isRequired,getOrganizationAndQuota:i.default.func.isRequired,getOnDemandMetrics:i.default.func.isRequired,getAddOns:i.default.func.isRequired,getClusterAddOns:i.default.func.isRequired,getUsers:i.default.func.isRequired,invalidateClusters:i.default.func.isRequired,cloudProviders:i.default.object.isRequired,gotRouters:i.default.bool.isRequired,displayClusterLogs:i.default.bool.isRequired,openModal:i.default.func.isRequired,closeModal:i.default.func.isRequired,resetClusterHistory:i.default.func.isRequired,resetAccessRequests:i.default.func.isRequired,resetAccessRequest:i.default.func.isRequired,resetAccessProtection:i.default.func.isRequired,getClusterIdentityProviders:i.default.func.isRequired,insightsData:i.default.object,logs:i.default.arrayOf(i.default.shape({summary:i.default.string,description:i.default.string})),clusterIdentityProviders:i.default.object.isRequired,organization:i.default.object.isRequired,clusterDetails:i.default.shape({cluster:i.default.object,error:i.default.bool,errorCode:i.default.oneOfType([i.default.number,i.default.string]),errorMessage:i.default.oneOfType([i.default.string,i.default.node,i.default.element]),fulfilled:i.default.bool,history:i.default.object,pending:i.default.bool.isRequired}),resetIdentityProvidersState:i.default.func.isRequired,setGlobalError:i.default.func.isRequired,clearGlobalError:i.default.func.isRequired,getGrants:i.default.func.isRequired,accessRequestsViewOptions:i.default.object,pendingAccessRequests:i.default.object.isRequired,clusterLogsViewOptions:i.default.object.isRequired,getClusterHistory:i.default.func.isRequired,getAccessRequests:i.default.func.isRequired,getPendingAccessRequests:i.default.func.isRequired,getAccessProtection:i.default.func.isRequired,getMachineOrNodePools:i.default.func.isRequired,clearGetMachinePoolsResponse:i.default.func.isRequired,clearGetClusterAutoscalerResponse:i.default.func.isRequired,clearListVpcs:i.default.func.isRequired,canSubscribeOCP:i.default.bool.isRequired,canTransferClusterOwnership:i.default.bool.isRequired,canHibernateCluster:i.default.bool.isRequired,getClusterRouters:i.default.func.isRequired,anyModalOpen:i.default.bool,hasIssues:i.default.bool.isRequired,toggleSubscriptionReleased:i.default.func.isRequired,notificationContacts:i.default.object.isRequired,getNotificationContacts:i.default.func.isRequired,hasNetworkOndemand:i.default.bool.isRequired,getSchedules:i.default.func,getUserAccess:i.default.func.isRequired,userAccess:i.default.shape({data:i.default.bool,pending:i.default.bool,fulfilled:i.default.bool}).isRequired,fetchUpgradeGates:i.default.func,clearFiltersAndFlags:i.default.func.isRequired,useNodeUpgradePolicies:i.default.bool,accessProtectionState:i.default.shape({enabled:i.default.bool,pending:i.default.bool,fulfilled:i.default.bool}).isRequired,chromeHistory:i.default.any},Y.defaultProps={insightsData:{},clusterDetails:{cluster:null,error:!1,errorMessage:"",fulfilled:!1}},t.default=Y},94023:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(95376),i=l(a(90617)),s=l(a(34158));t.A=e=>"#insights"===(0,r.useLocation)().hash?n.default.createElement(s.default,e):n.default.createElement(i.default,e)},18618:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(95376),i=l(a(34158)),s=l(a(67068));t.A=e=>"#insights"===(0,r.useLocation)().hash?n.default.createElement(i.default,e):n.default.createElement(s.default,e)},97730:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(97419),o=a(23271),u=a(38260),d=a(71676),c=l(a(50016)),m=l(a(10308)),p=l(a(85989)),f=l(a(49225));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function g(e){let{cluster:t,refreshEvent:a=null}=e;const[l,i]=n.default.useState(0),[E,g]=(0,n.useState)(!0),[v,h]=(0,n.useState)(""),[b,S]=(0,n.useState)(""),_={console:(0,r.default)(t,"console.url"),api:(0,r.default)(t,"api.url")},[C,y]=(0,n.useState)(!1),[I,A]=(0,n.useState)(!1),[R,T]=(0,n.useState)(!1),[O,P]=(0,n.useState)(!1),[D,L]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=window.matchMedia?window.matchMedia("(min-width: 768px)"):null,t=e=>{e.matches?(g(!0),h("")):(g(!1),h("pf-m-scrollable"))};return window.matchMedia&&(t(e),e.addEventListener("change",t)),()=>{e&&e.removeEventListener("change",t)}}),[]),(0,n.useEffect)((()=>{var e;const a=!(0,u.isReadyForExternalActions)(t)||!(0,u.isExtenalAuthenicationActive)(t),l=!(0,u.isReadyForRoleAccessActions)(t)||(0,u.isExtenalAuthenicationActive)(t),n=!(0,u.isReadyForIdpActions)(t)||(0,u.isExtenalAuthenicationActive)(t),r=!(0,u.isReadyForAwsAccessActions)(t);A(l),T(n),P(r),y("read_only"===(null==t||null===(e=t.status)||void 0===e?void 0:e.configuration_mode)),L(a),S(l&&n&&r?"single-tab":"")}),[t]),n.default.createElement(s.Card,null,n.default.createElement(s.CardBody,{id:"cluster-details-access-control-tab-contents",className:b},n.default.createElement(s.Tabs,{activeKey:l,onSelect:(e,t)=>i(t),isVertical:E,className:v,isBox:!0},n.default.createElement(s.Tab,{eventKey:0,id:"identity-providers",title:n.default.createElement(s.TabTitleText,null,"Identity providers"),isHidden:R},n.default.createElement(c.default,{clusterID:(0,r.default)(t,"id"),isHypershift:(0,o.isHypershiftCluster)(t),clusterUrls:_,idpActions:t.idpActions,clusterHibernating:(0,o.isHibernating)(t),isReadOnly:C})),n.default.createElement(s.Tab,{eventKey:1,id:"cluster-roles-access",title:n.default.createElement(s.TabTitleText,null,"Cluster Roles and Access"),isHidden:I},n.default.createElement(f.default,{cluster:t,clusterHibernating:(0,o.isHibernating)(t),isReadOnly:C})),n.default.createElement(s.Tab,{eventKey:2,id:"ocm-roles-access",title:n.default.createElement(s.TabTitleText,null,"OCM Roles and Access")},n.default.createElement(p.default,{subscription:t.subscription,canEditOCMRoles:t.canEditOCMRoles,canViewOCMRoles:t.canViewOCMRoles,refreshEvent:a})),n.default.createElement(s.Tab,{eventKey:3,id:"aws-infra-access",isHidden:O,title:n.default.createElement(s.TabTitleText,null,"AWS infrastructure access")},n.default.createElement(m.default,{clusterID:(0,r.default)(t,"id"),canEdit:t.canEdit,clusterHibernating:(0,o.isHibernating)(t),isReadOnly:C})),n.default.createElement(s.Tab,{eventKey:4,id:"external-authentication",title:n.default.createElement(s.TabTitleText,null,"External authentication"),isHidden:D},n.default.createElement(d.ExternalAuthenticationSection,null)))))}g.propTypes={cluster:i.default.object.isRequired,refreshEvent:i.default.object},t.default=g},38396:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(97419),s=a(45646),o=l(a(29564)),u=a(69304),d=l(a(65702)),c=l(a(97932)),m=a(45255);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}const f=e=>{let{clusterID:t,subscriptionID:a,clusterUrls:l,identityProviders:r,openModal:p,idpActions:f={},clusterHibernating:E,isReadOnly:g,isHypershift:v}=e;const h=(0,u.useNavigate)(),[b,S]=n.default.useState(!1),_=n.default.createElement("a",{rel:"noopener noreferrer",href:d.default.UNDERSTANDING_IDENTITY_PROVIDER,target:"_blank"},"Learn more."),C=!r.fulfilled&&!r.error||r.pending,y=!!r.clusterIDPList.length,I=g?"This operation is not available during maintenance":E&&"This operation is not available while cluster is hibernating",A=I||!f.create&&`You do not have permission to ${"add"} an identity provider. Only cluster owners, cluster editors, identity provider editors, and Organization Administrators can add identity providers.`;const R=n.default.createElement(i.DropdownList,null,Object.values(m.IDPTypeNames).map((e=>n.default.createElement(i.DropdownItem,{key:e,onClick:()=>h(`/details/s/${a}/add-idp/${e.toLowerCase()}`)},e)))),T=(0,n.useRef)();let O=n.default.createElement(i.Dropdown,{isOpen:b,onOpenChange:e=>S(e),toggle:{toggleRef:T,toggleNode:n.default.createElement(i.MenuToggle,{id:"add-identity-provider",ref:T,isDisabled:A,isExpanded:b,onClick:()=>{S(!b)}},"Add identity provider")}},R);A&&(O=n.default.createElement(i.Tooltip,{content:A},O));const P="Name",D="Type",L="Auth callback URL";return C?n.default.createElement(i.Card,null,n.default.createElement(i.CardTitle,null,n.default.createElement(o.default,{size:"md"})),n.default.createElement(i.CardBody,null,n.default.createElement(o.default,{size:"lg"})),n.default.createElement(i.CardFooter,null,n.default.createElement(o.default,{size:"md"}))):n.default.createElement(i.Card,null,n.default.createElement(i.CardBody,null,n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,null,n.default.createElement(i.Title,{headingLevel:"h2",size:"lg",className:"card-title"},"Identity providers"),n.default.createElement("p",null,"Configure identity providers to allow users to log into the cluster. ",_)),n.default.createElement(i.StackItem,null,O),n.default.createElement(i.StackItem,null,y&&f.list&&n.default.createElement(s.Table,{"aria-label":"Identity Providers",variant:s.TableVariant.compact},n.default.createElement(s.Thead,null,n.default.createElement(s.Tr,null,n.default.createElement(s.Th,{width:30},P),n.default.createElement(s.Th,{width:30},D),n.default.createElement(s.Th,{width:30},L),n.default.createElement(s.Th,{screenReaderText:"Action"}))),n.default.createElement(s.Tbody,null,r.clusterIDPList.map((e=>{var r;const i=(e=>{const l={title:"Edit",isAriaDisabled:!f.update,onClick:()=>{h(`/details/s/${a}/edit-idp/${e.name}`)}},n={title:"Delete",isAriaDisabled:!f.delete,onClick:()=>{p("delete-idp",{clusterID:t,idpID:e.id,idpName:e.name,idpType:m.IDPTypeNames[e.type]})}};return m.IDPTypeNames[e.type]===m.IDPTypeNames[m.IDPformValues.HTPASSWD]?[n]:[l,n]})(e);return n.default.createElement(s.Tr,{key:e.id},n.default.createElement(s.Td,{dataLabel:P},e.name),n.default.createElement(s.Td,{dataLabel:D},null!==(r=m.IDPTypeNames[e.type])&&void 0!==r?r:e.type),n.default.createElement(s.Td,{dataLabel:L},(0,m.IDPNeedsOAuthURL)(e.type)?n.default.createElement(c.default,{className:"access-control-tables-copy",text:(0,m.getOauthCallbackURL)(l,e.name,v)},"Copy URL to clipboard"):"N/A"),n.default.createElement(s.Td,{isActionCell:!0},n.default.createElement(s.ActionsColumn,{items:i,isDisabled:!!I})))}))))))))};f.propTypes={clusterID:r.default.string.isRequired,subscriptionID:r.default.string.isRequired,clusterUrls:r.default.shape({console:r.default.string,api:r.default.string}).isRequired,identityProviders:r.default.object.isRequired,openModal:r.default.func.isRequired,idpActions:r.default.shape({get:r.default.bool,list:r.default.bool,create:r.default.bool,update:r.default.bool,delete:r.default.bool}).isRequired,clusterHibernating:r.default.bool.isRequired,isReadOnly:r.default.bool.isRequired,isHypershift:r.default.bool.isRequired},t.default=f},50016:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=a(89070),s=l(a(38396));const o={getClusterIdentityProviders:i.getClusterIdentityProviders,openModal:r.openModal};t.default=(0,n.connect)((e=>{var t;return{identityProviders:e.identityProviders.clusterIdentityProviders,subscriptionID:null===(t=e.clusters.details.cluster.subscription)||void 0===t?void 0:t.id}}),o)(s.default)},96145:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(97419),o=a(38715),u=a(84037),d=l(a(55816)),c=l(a(28592)),m=l(a(55213));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}a(95718);const f={selectedRole:"",arn:"",arnTouched:!1};class E extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"state",f),(0,n.default)(this,"setArnValue",(e=>{this.setState({arn:e,arnTouched:!0})})),(0,n.default)(this,"setRoleValue",((e,t)=>{this.setState({selectedRole:t.target.value})}))}componentDidUpdate(e){const{selectedRole:t}=this.state,{roles:a}=this.props;!t&&a.length&&this.setState({selectedRole:a[0].id});const{addGrantResponse:l,clearAddGrantResponse:n,closeModal:r}=this.props;!e.addGrantResponse.fulfilled&&l.fulfilled&&(r(),n(),this.setState(f))}render(){const{isOpen:e,closeModal:t,submit:a,addGrantResponse:l,clearAddGrantResponse:n,roles:i}=this.props,{selectedRole:p,arn:f,arnTouched:E}=this.state,g=()=>{n(),t()},v=l.error&&r.default.createElement(d.default,{message:"Error adding grant",response:l}),h=(0,u.validateUserOrGroupARN)(f),b=()=>{!h&&p&&a(p,f)},S=e=>r.default.createElement(s.Radio,{className:"radio-button",key:e.id,isChecked:p===e.id,name:e.id,onChange:(e,t)=>this.setRoleValue(t,e),label:r.default.createElement(r.default.Fragment,null,e.displayName,r.default.createElement("div",{className:"radio-helptext"},e.description)),id:e.id,value:e.id});return e&&r.default.createElement(c.default,{title:"Grant AWS infrastructure role",onClose:g,primaryText:"Grant role",secondaryText:"Cancel",onPrimaryClick:b,onSecondaryClick:g,isPrimaryDisabled:!!h||l.pending,isPending:l.pending},r.default.createElement(r.default.Fragment,null,v,r.default.createElement(s.Form,{className:"control-form-cursor",onSubmit:e=>{b(),e.preventDefault()}},r.default.createElement(s.FormGroup,{label:"AWS IAM ARN",isRequired:!0,fieldId:"aws-iam-arn",labelIcon:r.default.createElement(m.default,{hint:r.default.createElement("div",null,r.default.createElement("p",null,"Need help configuring ARNs?"),r.default.createElement("a",{href:"https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html",target:"_blank",rel:"noreferrer noopener"},"Check the AWS documentation.")),iconClassName:"hand-pointer"})},r.default.createElement(s.TextInput,{value:f,isRequired:!0,id:"aws-iam-arn-input",type:"text",validated:E&&h?"error":"default",placeholder:"arn:aws:iam::123456789012:user/name",onChange:(e,t)=>this.setArnValue(t),"aria-label":"AWS IAM ARN"}),r.default.createElement(o.FormGroupHelperText,{touched:E,error:h})),r.default.createElement("h3",{id:"grant-role-select"},"Role"),i.map((e=>S(e))))))}}E.propTypes={roles:i.default.array.isRequired,closeModal:i.default.func.isRequired,submit:i.default.func.isRequired,clearAddGrantResponse:i.default.func.isRequired,addGrantResponse:i.default.object,isOpen:i.default.bool},E.defaultProps={addGrantResponse:{},isOpen:!1},t.default=E},9203:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=l(a(14419)),s=a(69534),o=l(a(96145));t.default=(0,n.connect)((e=>({isOpen:(0,i.default)(e,"grant-modal"),addGrantResponse:e.networkSelfService.addGrantResponse,roles:e.networkSelfService.roles.data})),((e,t)=>({closeModal:()=>e((0,r.closeModal)()),clearAddGrantResponse:()=>e((0,s.clearAddGrantResponse)()),submit:(a,l)=>{e((0,s.addGrant)(t.clusterID,a,l))}})))(o.default)},69534:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRoles=t.getGrants=t.deleteGrant=t.default=t.clearAddGrantResponse=t.addGrant=void 0;var l=a(73410),n=a(68868);const r=()=>e=>e({type:n.GET_ROLES,payload:l.clusterService.getRoles()});t.getRoles=r;const i=e=>t=>t({type:n.GET_GRANTS,payload:l.clusterService.getGrants(e)});t.getGrants=i;const s=(e,t,a)=>r=>r({type:n.ADD_GRANT,payload:l.clusterService.addGrant(e,t,a)});t.addGrant=s;const o=(e,t)=>a=>a({type:n.DELETE_GRANT,payload:l.clusterService.deleteGrant(e,t)});t.deleteGrant=o;const u=()=>e=>e({type:n.CLEAR_ADD_GRANT_RESPONSE});t.clearAddGrantResponse=u;const d={getRoles:r,getGrants:i,addGrant:s,clearAddGrantResponse:u,deleteGrant:o};t.default=d},68868:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GET_ROLES=t.GET_GRANTS=t.DELETE_GRANT=t.CLEAR_GET_ROLES_RESPONSE=t.CLEAR_GET_GRANTS_RESPONSE=t.CLEAR_ADD_GRANT_RESPONSE=t.ADD_GRANT=void 0;const a=t.GET_ROLES="GET_ROLES",l=t.GET_GRANTS="GET_GRANTS",n=t.ADD_GRANT="ADD_GRANT",r=t.DELETE_GRANT="DELETE_GRANT",i={GET_ROLES:a,GET_GRANTS:l,ADD_GRANT:n,CLEAR_GET_ROLES_RESPONSE:t.CLEAR_GET_ROLES_RESPONSE="CLEAR_GET_ROLES_RESPONSE",CLEAR_GET_GRANTS_RESPONSE:t.CLEAR_GET_GRANTS_RESPONSE="CLEAR_GET_GRANTS_RESPONSE",CLEAR_ADD_GRANT_RESPONSE:t.CLEAR_ADD_GRANT_RESPONSE="CLEAR_ADD_GRANT_RESPONSE",DELETE_GRANT:r};t.default=i},7525:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(43693)),r=a(89407),i=l(a(33031)),s=a(89217),o=a(95762),u=a(68868);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const m={roles:c(c({},o.baseRequestState),{},{data:[]}),grants:c(c({},o.baseRequestState),{},{data:[]}),addGrantResponse:c({},o.baseRequestState),deleteGrantResponse:c({},o.baseRequestState)};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,o.PENDING_ACTION)(u.GET_ROLES):e.roles.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.GET_ROLES):e.roles=c(c({},m.roles),{},{fulfilled:!0,data:t.payload.data.items.map((e=>({id:e.id,displayName:e.display_name||e.id,description:e.description})))});break;case(0,o.REJECTED_ACTION)(u.GET_ROLES):e.roles=c(c({},m.roles),(0,s.getErrorState)(t));break;case(0,o.PENDING_ACTION)(u.GET_GRANTS):e.grants.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.GET_GRANTS):e.grants=c(c({},m.grants),{},{fulfilled:!0,data:(0,i.default)(t.payload.data.items,["user_arn","role.id"])});break;case(0,o.REJECTED_ACTION)(u.GET_GRANTS):e.grants=c(c({},m.grants),(0,s.getErrorState)(t));break;case(0,o.PENDING_ACTION)(u.ADD_GRANT):e.addGrantResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.ADD_GRANT):e.addGrantResponse=c(c({},m.addGrantResponse),{},{fulfilled:!0});break;case(0,o.REJECTED_ACTION)(u.ADD_GRANT):e.addGrantResponse=c(c({},m.addGrantResponse),(0,s.getErrorState)(t));break;case u.CLEAR_ADD_GRANT_RESPONSE:e.addGrantResponse=c({},m.addGrantResponse);break;case(0,o.PENDING_ACTION)(u.DELETE_GRANT):e.deleteGrantResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.DELETE_GRANT):e.deleteGrantResponse=c(c({},m.deleteGrantResponse),{},{fulfilled:!0});break;case(0,o.REJECTED_ACTION)(u.DELETE_GRANT):e.deleteGrantResponse=c(c({},m.addGrantResponse),(0,s.getErrorState)(t))}}))}p.initialState=m,t.A=p},70694:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(19202),u=a(31003),d=a(40167),c=a(31358),m=a(21888),p=a(48266),f=a(45646),E=l(a(29564)),g=l(a(12200)),v=l(a(97932)),h=l(a(55816));class b extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{deletedRowIndex:void 0})}componentDidMount(){const{getRoles:e,getGrants:t}=this.props;e(),t()}componentDidUpdate(e){const{deleteGrantResponse:t,addGrantResponse:a,getGrants:l,grants:n,addNotification:r}=this.props,{deletedRowIndex:i}=this.state;if((t.fulfilled&&e.deleteGrantResponse.pending||a.fulfilled&&e.addGrantResponse.pending)&&!n.pending&&l(),n.fulfilled&&e.grants.pending&&0!==n.data.length){const t=e.grants.data.reduce(((e,t)=>(e[t.id]=t.state,e)),{});n.data.forEach((e=>{t[e.id]&&e.state!==t[e.id]&&("failed"===e.state?r({variant:"danger",title:`Role creation failed for ${e.user_arn}`,description:e.state_description,dismissDelay:8e3,dismissable:!1}):"ready"===e.state&&r({variant:"success",title:`${e.roleName} role successfully created for ${e.user_arn}`,dismissDelay:8e3,dismissable:!1}))}))}void 0!==i&&n.fulfilled&&e.grants.pending&&this.setState({deletedRowIndex:void 0})}render(){const{grants:e,deleteGrant:t,deleteGrantResponse:a,openAddGrantModal:l,canEdit:n,clusterHibernating:i,isReadOnly:b}=this.props,{deletedRowIndex:S}=this.state;if(e.error)return r.default.createElement(s.EmptyState,null,r.default.createElement(h.default,{message:"Error getting cluster users",response:e}));const _=r.default.createElement("a",{rel:"noopener noreferrer",href:"https://console.aws.amazon.com/console/home",target:"_blank"},"Log in to your aws account."),C=!!e.data.length,y=(b?"This operation is not available during maintenance":i&&"This operation is not available while cluster is hibernating")||!n&&"You do not have permission to grant a role. Only cluster owners, cluster editors, and Organization Administrators can grant roles.",I=r.default.createElement(g.default,{onClick:()=>{setTimeout((()=>l()),0)},variant:"secondary",className:"access-control-add",disableReason:y},"Grant role"),A="Role",R="Status",T="AWS OSD console URL",O=(e,a)=>[{title:"Delete",onClick:()=>{this.setState({deletedRowIndex:a}),t(e.id)}}];return e.pending&&!C?r.default.createElement(s.Card,null,r.default.createElement(s.CardTitle,null,r.default.createElement(E.default,{size:"md"})),r.default.createElement(s.CardBody,null,r.default.createElement(E.default,{size:"lg"})),r.default.createElement(s.CardFooter,null,r.default.createElement(E.default,{size:"md"}))):r.default.createElement(s.Card,{id:"networkSelfService"},r.default.createElement(s.CardBody,null,a.error&&r.default.createElement(h.default,{message:"Error deleting grant",response:a}),r.default.createElement(s.Title,{size:"lg",className:"card-title",headingLevel:"h3"},"AWS infrastructure access"),r.default.createElement("p",null,"Grant permission to view or manage the AWS infrastructure of the cluster to IAM users defined in your AWS account. ",_,r.default.createElement(d.ExternalLinkAltIcon,{color:"#0066cc",size:"sm"})),C&&r.default.createElement(f.Table,{"aria-label":"Grants",variant:f.TableVariant.compact},r.default.createElement(f.Thead,null,r.default.createElement(f.Tr,null,r.default.createElement(f.Th,null,r.default.createElement(r.default.Fragment,null,"ARN",r.default.createElement(s.Popover,{position:s.PopoverPosition.top,"aria-label":"ARNs",bodyContent:r.default.createElement("p",null,"Amazon Resource Names (ARNs) uniquely identify AWS resources.")},r.default.createElement(s.Button,{variant:"plain",isInline:!0},r.default.createElement(s.Icon,{size:"md"},r.default.createElement(c.HelpIcon,null)))))),r.default.createElement(f.Th,null,A),r.default.createElement(f.Th,null,R),r.default.createElement(f.Th,null,T),r.default.createElement(f.Th,{screenReaderText:"Grant action"}))),r.default.createElement(f.Tbody,null,e.data.map(((e,t)=>{const a=O(e,t);return r.default.createElement(f.Tr,{key:e.id},r.default.createElement(f.Td,{dataLabel:"ARN"},e.user_arn),r.default.createElement(f.Td,{dataLabel:A},e.roleName),r.default.createElement(f.Td,{dataLabel:R},((e,t)=>{let a,l;switch(e){case"ready":a=r.default.createElement(o.CheckCircleIcon,{className:"status-icon success"}),l="Ready";break;case"failed":a=r.default.createElement(u.ExclamationCircleIcon,{className:"status-icon danger"}),l="Failed";break;case"pending":a=r.default.createElement(m.InProgressIcon,{className:"status-icon"}),l="Pending";break;case"deleting":a=r.default.createElement(m.InProgressIcon,{className:"status-icon"}),l="Deleting";break;case"removed":a=r.default.createElement(p.UnknownIcon,{className:"status-icon"}),l="Removed";break;default:a=r.default.createElement(p.UnknownIcon,{className:"status-icon"}),l="Unknown"}return"failed"===e?r.default.createElement("span",null,r.default.createElement(s.Popover,{position:s.PopoverPosition.top,bodyContent:t,"aria-label":"grant-failed"},r.default.createElement(s.Button,{className:"self-service-failed",variant:"link",isInline:!0,icon:a},l))):r.default.createElement(r.default.Fragment,null,a," ",r.default.createElement("span",null,l)," ")})(S===t?"deleting":e.state,e.state_description)),r.default.createElement(f.Td,{dataLabel:T},r.default.createElement(v.default,{className:"access-control-tables-copy",text:e.console_url,isDisabled:!e.console_url},"Copy URL to clipboard")),r.default.createElement(f.Td,{isActionCell:!0},r.default.createElement(f.ActionsColumn,{items:a,isDisabled:"deleting"===e.state||!!y})))})))),I))}}b.propTypes={getRoles:i.default.func.isRequired,getGrants:i.default.func.isRequired,grants:i.default.object.isRequired,addGrantResponse:i.default.object,deleteGrant:i.default.func.isRequired,deleteGrantResponse:i.default.object,openAddGrantModal:i.default.func.isRequired,addNotification:i.default.func.isRequired,canEdit:i.default.bool.isRequired,clusterHibernating:i.default.bool.isRequired,isReadOnly:i.default.bool.isRequired},t.default=b},10544:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=e=>{const{roles:t,grants:a}=e.networkSelfService,l=e=>{const a=t.data.find((t=>t.id===e));return a?a.displayName:e};return a.data.map((e=>({id:e.id,user_arn:e.user_arn,state:e.state,state_description:e.state_description,console_url:e.console_url,roleName:l(e.role.id)})))}},10308:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=a(73729),i=a(58274),s=a(91089),o=l(a(14419)),u=a(69534),d=l(a(70694)),c=l(a(10544));function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=(0,r.connect)((e=>({isModalOpen:(0,o.default)(e,"grant-modal"),grants:p(p({},e.networkSelfService.grants),{},{data:(0,c.default)(e)}),addGrantResponse:e.networkSelfService.addGrantResponse,deleteGrantResponse:e.networkSelfService.deleteGrantResponse,roles:e.networkSelfService.roles})),((e,t)=>({openAddGrantModal:()=>e((0,s.openModal)("grant-modal")),closeModal:()=>e((0,s.closeModal)()),getRoles:()=>e((0,u.getRoles)()),getGrants:()=>e((0,u.getGrants)(t.clusterID)),clearAddGrantResponse:()=>e((0,u.clearAddGrantResponse)()),submit:(a,l)=>{e((0,u.addGrant)(t.clusterID,a,l))},deleteGrant:a=>e((0,u.deleteGrant)(t.clusterID,a)),addNotification:t=>e((0,i.addNotification)(t))})))(d.default)},75995:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(97419),o=a(38715),u=l(a(65702)),d=a(84037),c=l(a(55816)),m=l(a(8888)),p=l(a(28592));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}const E={selectedGroup:"dedicated-admins",userId:"",userIdTouched:!1};class g extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"state",E),(0,n.default)(this,"setUserIdValue",(e=>{this.setState({userId:e,userIdTouched:!0})})),(0,n.default)(this,"setGroupValue",((e,t)=>{this.setState({selectedGroup:t.target.value})})),(0,n.default)(this,"cancelAddUser",(()=>{const{clearAddUserResponses:e,closeModal:t}=this.props;this.setState(E),e(),t()}))}componentDidUpdate(){const{addUserResponse:e,clearAddUserResponses:t,closeModal:a}=this.props;e.fulfilled&&(a(),t(),this.setState(E))}render(){const{isOpen:e,submit:t,addUserResponse:a,clusterID:l,canAddClusterAdmin:n}=this.props,{selectedGroup:i,userId:f,userIdTouched:E}=this.state,g=a.error&&r.default.createElement(c.default,{message:"Error adding grant",response:a}),v=(0,d.checkUserID)(f),h=()=>{!v&&i&&t(l,i,f)},b="dedicated-admins",S="cluster-admins";return e&&r.default.createElement(p.default,{title:"Add cluster user",onClose:this.cancelAddUser,primaryText:"Add user",secondaryText:"Cancel",onPrimaryClick:h,onSecondaryClick:this.cancelAddUser,isPrimaryDisabled:!!v||a.pending,isPending:a.pending},r.default.createElement(r.default.Fragment,null,g,r.default.createElement(s.Form,{className:"control-form-cursor",onSubmit:e=>{h(),e.preventDefault()}},r.default.createElement(s.FormGroup,{label:"User ID",isRequired:!0,fieldId:"user-id"},r.default.createElement(s.TextInput,{value:f,isRequired:!0,id:"user-id",type:"text",validated:E&&v?"error":"default",onChange:(e,t)=>this.setUserIdValue(t),"aria-label":"user id"}),r.default.createElement(o.FormGroupHelperText,{touched:E,error:v})),r.default.createElement("h3",{id:"user-group-select"},"Group"),r.default.createElement(s.Radio,{className:"radio-button",key:b,isChecked:i===b,name:b,onChange:(e,t)=>this.setGroupValue(t,e),label:r.default.createElement(r.default.Fragment,null,b,r.default.createElement("div",{className:"radio-helptext"},"Grants standard administrative privileges for OpenShift Dedicated. Users can perform administrative actions listed in the"," ",r.default.createElement(m.default,{href:u.default.OSD_DEDICATED_ADMIN_ROLE},"documentation"),".")),id:b,value:b}),n&&r.default.createElement(s.Radio,{className:"radio-button",key:S,isChecked:i===S,name:S,onChange:(e,t)=>this.setGroupValue(t,e),label:r.default.createElement(r.default.Fragment,null,S,r.default.createElement("div",{className:"radio-helptext"}," ","Gives users full administrative access to the cluster. This is the highest level of privilege available to users. It should be granted with extreme care, because it is possible with this level of access to get the cluster into an unsupportable state.")),id:S,value:S}))))}}g.propTypes={closeModal:i.default.func.isRequired,submit:i.default.func.isRequired,clearAddUserResponses:i.default.func.isRequired,addUserResponse:i.default.object,isOpen:i.default.bool,canAddClusterAdmin:i.default.bool.isRequired,clusterID:i.default.string.isRequired},g.defaultProps={addUserResponse:{},isOpen:!1},t.default=g},76610:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58156)),r=a(73410),i=l(a(6696));const s={getUsers:e=>t=>t({type:i.default.GET_USERS,payload:r.clusterService.getClusterGroupUsers(e).then((e=>(e.data.items=(0,n.default)(e,"data.items",[]).map((e=>{const t=e;return t.users&&(t.users.items=(0,n.default)(t,"users.items",[]).filter((e=>"cluster-admin"!==e.id))),t})),e)))}),addUser:(e,t,a)=>l=>l({type:i.default.ADD_USER,payload:r.clusterService.addClusterGroupUser(e,t,a)}),deleteUser:(e,t,a)=>l=>l({type:i.default.DELETE_USER,payload:r.clusterService.deleteClusterGroupUser(e,t,a)}),clearUsersResponses:()=>({type:i.default.CLEAR_USER_RESPONSES}),clearAddUserResponses:()=>({type:i.default.CLEAR_ADD_USER_RESPONSES})};t.default=s},6696:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={GET_USERS:"GET_USERS",GET_CLUSTER_ADMINS:"GET_CLUSTER_ADMINS",GET_DEDICATED_ADMNIS:"GET_DEDICATED_ADMNIS",DELETE_USER:"DELETE_USER",ADD_USER:"ADD_USER",CLEAR_USER_RESPONSES:"CLEAR_USER_RESPONSES",CLEAR_ADD_USER_RESPONSES:"CLEAR_ADD_USER_RESPONSES"}},1457:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(43693)),r=a(89407),i=l(a(58156)),s=a(89217),o=a(95762),u=l(a(6696));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const m={groupUsers:c(c({},o.baseRequestState),{},{clusterID:void 0,users:[]}),deleteUserResponse:c({},o.baseRequestState),addUserResponse:c({},o.baseRequestState)};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,o.PENDING_ACTION)(u.default.GET_USERS):e.groupUsers.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.default.GET_USERS):{const a=[];t.payload.data.items.forEach((e=>(0,i.default)(e,"users.items",[]).forEach((t=>a.push(c(c({},t),{},{group:e.id})))))),e.groupUsers=c(c({},o.baseRequestState),{},{fulfilled:!0,clusterID:t.payload.clusterID,users:a});break}case(0,o.REJECTED_ACTION)(u.default.GET_DEDICATED_ADMNIS):e.groupUsers=c(c({},m.groupUsers),(0,s.getErrorState)(t));break;case(0,o.PENDING_ACTION)(u.default.ADD_USER):e.addUserResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.default.ADD_USER):e.addUserResponse={pending:!1,fulfilled:!0};break;case(0,o.REJECTED_ACTION)(u.default.ADD_USER):e.addUserResponse=c(c({},m),(0,s.getErrorState)(t));break;case(0,o.PENDING_ACTION)(u.default.DELETE_USER):e.deleteUserResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.default.DELETE_USER):e.deleteUserResponse={pending:!1,fulfilled:!0};break;case(0,o.REJECTED_ACTION)(u.default.DELETE_USER):e.deleteUserResponse=c(c({},m),(0,s.getErrorState)(t));break;case u.default.CLEAR_ADD_USER_RESPONSES:e.addUserResponse=c({},o.baseRequestState);break;case u.default.CLEAR_USER_RESPONSES:return m}}))}p.initialState=m,t.Ay=p},13978:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(31358),u=a(45646),d=l(a(29564)),c=l(a(65702)),m=l(a(12200)),p=l(a(55816)),f=l(a(8888)),E=l(a(75995));class g extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{deletedRowIndex:null})}componentDidMount(){const{clusterGroupUsers:e,cluster:t,getUsers:a}=this.props;e.clusterID===t.id&&e.pending||a()}componentDidUpdate(e){const{deleteUserResponse:t,addUserResponse:a,getUsers:l,clusterGroupUsers:n}=this.props,{deletedRowIndex:r}=this.state;(t.fulfilled&&e.deleteUserResponse.pending||a.fulfilled&&e.addUserResponse.pending)&&!n.pending&&l(),e.clusterGroupUsers.pending&&n.fulfilled&&null!==r&&this.setState({deletedRowIndex:null})}componentWillUnmount(){const{clearUsersResponses:e}=this.props;e()}render(){const{clusterGroupUsers:e,addUserResponse:t,deleteUserResponse:a,cluster:l,clusterHibernating:n,isReadOnly:i,deleteUser:g,addUser:v,isAddUserModalOpen:h,openModal:b,closeModal:S,clearAddUserResponses:_,canAddClusterAdmin:C,hasUsers:y}=this.props,{deletedRowIndex:I}=this.state;if(!y&&e.error)return r.default.createElement(s.EmptyState,null,r.default.createElement(p.default,{message:"Error getting cluster users",response:e}));const A=!y&&e.pending,R=i&&"This operation is not available during maintenance",T=n&&"This operation is not available while cluster is hibernating",O=!l.canEdit&&"You do not have permission to add a user. Only cluster owners, cluster editors, and Organization Administrators can add users.",P=R||T||O,D=r.default.createElement(m.default,{onClick:()=>{setTimeout((()=>b("add-user")),0)},variant:"secondary",className:"access-control-add",disableReason:P},"Add user"),L="User ID",N="Group",w=r.default.createElement(r.default.Fragment,null,L,r.default.createElement(s.Popover,{position:s.PopoverPosition.top,"aria-label":"User IDs",bodyContent:r.default.createElement("p",null,"User IDs are matched by the cluster's identity providers.")},r.default.createElement(s.Button,{variant:"plain",isInline:!0,"aria-label":"Help"},r.default.createElement(s.Icon,{size:"md"},r.default.createElement(o.HelpIcon,null))))),M=r.default.createElement(r.default.Fragment,null,N,r.default.createElement(s.Popover,{position:s.PopoverPosition.top,"aria-label":"Groups",bodyContent:r.default.createElement("p",null,"Groups are mapped to role bindings on the cluster. For more information check the"," ",r.default.createElement(f.default,{href:c.default.UNDERSTANDING_AUTHENTICATION},"OpenShift 4 documentation"))},r.default.createElement(s.Button,{variant:"plain",isInline:!0,"aria-label":"Help"},r.default.createElement(s.Icon,{size:"md"},r.default.createElement(o.HelpIcon,null)))));return A?r.default.createElement(s.Card,null,r.default.createElement(s.CardTitle,null,r.default.createElement(d.default,{size:"md"})),r.default.createElement(s.CardBody,null,r.default.createElement(d.default,{size:"lg"})),r.default.createElement(s.CardFooter,null,r.default.createElement(d.default,{size:"md"}))):r.default.createElement(s.Card,null,e.error&&r.default.createElement(p.default,{message:"Error getting cluster users",response:e}),r.default.createElement(s.CardBody,null,r.default.createElement(s.Title,{className:"card-title",headingLevel:"h3",size:"lg"},"Cluster administrative users"),r.default.createElement("p",null,"Grant permission to manage this cluster to users defined in your identity provider."," ",r.default.createElement(f.default,{href:c.default.OSD_DEDICATED_ADMIN_ROLE},"Learn more.")),t.error&&r.default.createElement(p.default,{message:"Error adding user",response:t}),a.error&&r.default.createElement(p.default,{message:"Error deleting user",response:a}),y&&r.default.createElement(u.Table,{"aria-label":"Users",variant:u.TableVariant.compact},r.default.createElement(u.Thead,null,r.default.createElement(u.Tr,null,r.default.createElement(u.Th,null,w),r.default.createElement(u.Th,null,M),r.default.createElement(u.Th,{screenReaderText:"User action"}))),r.default.createElement(u.Tbody,null,e.users.map(((e,t)=>I===t?r.default.createElement(u.Tr,{key:e.id},r.default.createElement(u.Td,{dataLabel:L},r.default.createElement(d.default,{size:"md"})),r.default.createElement(u.Td,{dataLabel:N},r.default.createElement(d.default,{size:"md"})),r.default.createElement(u.Td,{isActionCell:!0})):r.default.createElement(u.Tr,{key:e.id},r.default.createElement(u.Td,{dataLabel:L},e.id),r.default.createElement(u.Td,{dataLabel:N},e.group),r.default.createElement(u.Td,{isActionCell:!0},r.default.createElement(u.ActionsColumn,{items:[{title:"Delete",onClick:()=>{this.setState({deletedRowIndex:t}),g(l.id,e.group,e.id)}}],isDisabled:!!P}))))))),D,r.default.createElement(E.default,{isOpen:h,closeModal:S,clearAddUserResponses:_,addUserResponse:t,submit:v,clusterID:l.id,canAddClusterAdmin:C})))}}g.propTypes={cluster:i.default.object.isRequired,isAddUserModalOpen:i.default.bool.isRequired,addUser:i.default.func.isRequired,addUserResponse:i.default.object,getUsers:i.default.func.isRequired,deleteUser:i.default.func.isRequired,deleteUserResponse:i.default.object,clusterGroupUsers:i.default.object.isRequired,openModal:i.default.func.isRequired,canAddClusterAdmin:i.default.bool.isRequired,closeModal:i.default.func.isRequired,clearUsersResponses:i.default.func.isRequired,clearAddUserResponses:i.default.func.isRequired,hasUsers:i.default.bool.isRequired,clusterHibernating:i.default.bool.isRequired,isReadOnly:i.default.bool.isRequired},t.default=g},39820:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58156)),r=a(75166),i=l(a(23271));t.default=e=>{const t=(0,n.default)(e,"clusters.details.cluster.subscription.plan.type",r.normalizedProducts.OSD),a=(0,n.default)(e,"clusters.details.cluster.state");if(t===r.normalizedProducts.RHMI||a!==i.default.READY)return!1;if((0,n.default)(e,"clusters.details.cluster.ccs.enabled",!1))return!0;const l=(0,n.default)(e,"clusters.details.cluster.subscription.capabilities",[]).find((e=>"capability.cluster.manage_cluster_admin"===e.name));return!(!l||"true"!==l.value)}},49225:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=l(a(14419)),s=l(a(76610)),o=l(a(13978)),u=l(a(39820));t.default=(0,n.connect)((e=>{const{groupUsers:t,addUserResponse:a,deleteUserResponse:l}=e.clusterUsers,n=(0,u.default)(e);return{clusterGroupUsers:t,hasUsers:t.users.length>0,addUserResponse:a,deleteUserResponse:l,isAddUserModalOpen:(0,i.default)(e,"add-user"),canAddClusterAdmin:n}}),((e,t)=>({openModal:t=>e((0,r.openModal)(t)),closeModal:()=>e((0,r.closeModal)()),getUsers:()=>e(s.default.getUsers(t.cluster.id)),addUser:(t,a,l)=>e(s.default.addUser(t,a,l)),deleteUser:(t,a,l)=>e(s.default.deleteUser(t,a,l)),clearUsersResponses:()=>e(s.default.clearUsersResponses()),clearAddUserResponses:()=>e(s.default.clearAddUserResponses())})))(o.default)},34350:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(19202),o=a(3913),u=a(31003),d=a(21888),c=a(48266),m=l(a(5221)),p=a(87558);function f(e){const{addOn:t,installedAddOn:a,requirements:l}=e;if((0,p.hasRequirements)(t)&&!l.fulfilled)return n.default.createElement(i.Label,{variant:"outline",color:"red",icon:n.default.createElement(o.CubesIcon,{"data-icon":"cubes"})},"Prerequisites not met");if(!a)return"";switch(a.state){case void 0:return"";case m.default.INSTALLATION_STATE.PENDING:case m.default.INSTALLATION_STATE.INSTALLING:return n.default.createElement(i.Label,{variant:"outline",icon:n.default.createElement(d.InProgressIcon,{"data-icon":"inProgress"})},"Installing");case m.default.INSTALLATION_STATE.UPDATING:return n.default.createElement(i.Label,{variant:"outline",icon:n.default.createElement(d.InProgressIcon,{"data-icon":"inProgress"})},"Updating");case m.default.INSTALLATION_STATE.DELETED:case m.default.INSTALLATION_STATE.DELETING:return n.default.createElement(i.Label,{variant:"outline",icon:n.default.createElement(d.InProgressIcon,{"data-icon":"inProgress"})},"Uninstalling");case m.default.INSTALLATION_STATE.FAILED:return n.default.createElement(i.Label,{variant:"outline",color:"red",icon:n.default.createElement(u.ExclamationCircleIcon,{"data-icon":"exclamationCircle"})},"Add-on failed");case m.default.INSTALLATION_STATE.READY:return n.default.createElement(i.Label,{variant:"outline",color:"green",icon:n.default.createElement(s.CheckCircleIcon,{"data-icon":"checkCircle"})},"Installed");default:return n.default.createElement(i.Label,{variant:"outline",icon:n.default.createElement(c.UnknownIcon,{"data-icon":"unknown"})},"Unknown")}}f.propTypes={addOn:r.default.object,installedAddOn:r.default.object,requirements:r.default.object},t.default=f},43322:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(3913),o=a(56862),u=a(67080),d=l(a(55816)),c=l(a(1920)),m=a(87558);class p extends n.default.Component{componentDidMount(){const{clusterID:e,getAddOns:t,getClusterAddOns:a,clusterAddOns:l}=this.props;l.pending||(t(e),a(e))}componentDidUpdate(e){const{clusterID:t,getClusterAddOns:a,clusterAddOns:l,addClusterAddOnResponse:n,updateClusterAddOnResponse:r,getOrganizationAndQuota:i,deleteClusterAddOnResponse:s}=this.props;(n.fulfilled&&e.addClusterAddOnResponse.pending||r.fulfilled&&e.updateClusterAddOnResponse.pending||s.fulfilled&&e.deleteClusterAddOnResponse.pending)&&(l.pending||a(t),i())}componentWillUnmount(){const{clearClusterAddOnsResponses:e}=this.props;e()}render(){const{addOns:e,cluster:t,clusterAddOns:a,clusterMachinePools:l,addClusterAddOnResponse:r,organization:p,quota:f,isHypershift:E}=this.props;if(E)return n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateHeader,{titleText:"Coming soon",icon:n.default.createElement(i.EmptyStateIcon,{icon:s.CubesIcon}),headingLevel:"h5"}),n.default.createElement(i.EmptyStateBody,null,"Add-ons will be available soon for hosted control plane clusters."),n.default.createElement(i.EmptyStateFooter,null,n.default.createElement(i.EmptyStateActions,null,n.default.createElement(i.Button,{variant:"link",onClick:()=>{document.location.hash="overview"}},"Go back to overview"))));if(a.pending&&0===a.items.length)return n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateBody,null,n.default.createElement(u.Spinner,{centered:!0})));const g=(0,m.availableAddOns)(e,t,a,p,f);return g.length>0?a.error?n.default.createElement(i.EmptyState,null,n.default.createElement(d.default,{message:"Error getting cluster add-ons",response:a})):n.default.createElement(n.default.Fragment,null,r.error&&n.default.createElement(d.default,{message:"Error adding add-ons",response:r}),n.default.createElement(c.default,{addOnsList:g,clusterAddOns:a,cluster:t,clusterMachinePools:l,organization:p,quota:f})):n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateHeader,{titleText:"No add-ons available for this cluster",icon:n.default.createElement(i.EmptyStateIcon,{icon:o.PlusCircleIcon}),headingLevel:"h5"}),e.error&&n.default.createElement(d.default,{message:"Error getting add-ons",response:e}),n.default.createElement(i.EmptyStateBody,null,"There are no add-ons available for this cluster."))}}p.propTypes={clusterID:r.default.string.isRequired,cluster:r.default.object.isRequired,addOns:r.default.object.isRequired,clusterAddOns:r.default.object.isRequired,clusterMachinePools:r.default.object.isRequired,organization:r.default.object.isRequired,quota:r.default.object.isRequired,getOrganizationAndQuota:r.default.func.isRequired,getClusterAddOns:r.default.func.isRequired,addClusterAddOnResponse:r.default.object.isRequired,updateClusterAddOnResponse:r.default.object.isRequired,deleteClusterAddOnResponse:r.default.object.isRequired,clearClusterAddOnsResponses:r.default.func.isRequired,getAddOns:r.default.func.isRequired,isHypershift:r.default.bool.isRequired},t.default=p},11307:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.updateClusterAddOn=t.setAddonsDrawer=t.getClusterAddOns=t.getAddOns=t.deleteClusterAddOn=t.clearClusterAddOnsResponses=t.addOnsActions=t.addClusterAddOn=void 0;var n=l(a(58156)),r=a(73410),i=l(a(5221));const s=e=>t=>t({type:i.default.GET_ADDONS,payload:r.clusterService.getEnabledAddOns(e).then((e=>{const t=(0,n.default)(e,"data.items",[]);return{items:t,resourceNames:t.map((e=>e.resource_name))}}))});t.getAddOns=s;const o=e=>t=>t({type:i.default.GET_CLUSTER_ADDONS,payload:r.clusterService.getClusterAddOns(e).then((t=>{const a=(0,n.default)(t,"data.items",[]);return{clusterID:e,items:a}}))});t.getClusterAddOns=o;const u=(e,t)=>a=>a({type:i.default.ADD_CLUSTER_ADDON,payload:r.clusterService.addClusterAddOn(e,t)});t.addClusterAddOn=u;const d=(e,t,a)=>l=>l({type:i.default.UPDATE_CLUSTER_ADDON,payload:r.clusterService.updateClusterAddOn(e,t,a).then((t=>(l(o(e)),t)))});t.updateClusterAddOn=d;const c=(e,t)=>a=>a({type:i.default.DELETE_CLUSTER_ADDON,payload:r.clusterService.deleteClusterAddOn(e,t)});t.deleteClusterAddOn=c;const m=()=>({type:i.default.CLEAR_CLUSTER_ADDON_RESPONSES});t.clearClusterAddOnsResponses=m,t.setAddonsDrawer=e=>t=>t({type:i.default.SET_ADDONS_DRAWER,payload:e}),t.addOnsActions={getAddOns:s,getClusterAddOns:o,addClusterAddOn:u,updateClusterAddOn:d,deleteClusterAddOn:c,clearClusterAddOnsResponses:m}},6985:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(97419),o=l(a(34350));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}a(57387);class d extends r.Component{render(){const{addOn:e,installedAddOn:t,requirements:a,activeCard:l,onClick:n}=this.props;return r.default.createElement(s.Card,{isSelectableRaised:!0,isSelected:l===e.id,key:e.id,ouiaId:`card-addon-${e.id}`,onClick:n,className:"ocm-c-addons__card","data-testid":"addOnCard"},r.default.createElement(s.CardHeader,{className:"ocm-c-addons__card--header"},e.icon&&r.default.createElement("img",{alt:e.name,src:`data:image/png;base64,${e.icon}`})),r.default.createElement(s.CardTitle,null,e.name),r.default.createElement(s.CardBody,{className:"ocm-c-addons__card--body","data-testid":"cardBody"},d.reduceCardDescription(e)),r.default.createElement(s.CardFooter,null,r.default.createElement(o.default,{addOn:e,requirements:a,installedAddOn:t})))}}(0,n.default)(d,"reduceCardDescription",(e=>e.description.length>60?`${e.description.substring(0,57)}...`:e.description)),d.propTypes={addOn:i.default.object.isRequired,installedAddOn:i.default.object,requirements:i.default.object.isRequired,onClick:i.default.func.isRequired,activeCard:i.default.string},t.default=d},51961:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=a(11307),s=l(a(6985));const o={addClusterAddOn:i.addClusterAddOn,openModal:r.modalActions.openModal,closeModal:r.modalActions.closeModal};t.default=(0,n.connect)((e=>({cluster:e.clusters.details.cluster,addClusterAddOnResponse:e.addOns.addClusterAddOnResponse})),o)(s.default)},5221:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={GET_ADDONS:"GET_ADDONS",GET_CLUSTER_ADDONS:"GET_CLUSTER_ADDONS",UPDATE_CLUSTER_ADDON:"UPDATE_CLUSTER_ADDON",ADD_CLUSTER_ADDON:"ADD_CLUSTER_ADDON",DELETE_CLUSTER_ADDON:"DELETE_CLUSTER_ADDON",CLEAR_CLUSTER_ADDON_RESPONSES:"CLEAR_CLUSTER_ADDON_RESPONSES",INSTALLATION_STATE:{PENDING:"pending",INSTALLING:"installing",UPDATING:"updating",DELETING:"deleting",DELETED:"deleted",FAILED:"failed",READY:"ready"},SET_ADDONS_DRAWER:"SET_ADDONS_DRAWER"}},22998:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(97419),o=l(a(55816)),u=l(a(28592));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}a(56839);class c extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{addOnNameInput:""}),(0,n.default)(this,"setValue",(e=>{this.setState({addOnNameInput:e})})),(0,n.default)(this,"handleClose",(()=>{const{closeModal:e,clearClusterAddOnsResponses:t}=this.props;t(),this.setState({addOnNameInput:""}),e()}))}componentDidUpdate(e){const{deleteClusterAddOnResponse:t}=this.props;!e.deleteClusterAddOnResponse.fulfilled&&t.fulfilled&&this.handleClose()}render(){const{isOpen:e,modalData:t,deleteClusterAddOn:a,deleteClusterAddOnResponse:l}=this.props,{addOnNameInput:n}=this.state,{addOnName:i,addOnID:d,clusterID:c}=t,m=n===i,p=()=>{a(c,d)},f=l.error&&r.default.createElement(o.default,{message:"Error uninstalling add-on",response:l}),E=l.pending;return e&&r.default.createElement(u.default,{title:`Uninstall ${i}`,onClose:this.handleClose,primaryText:"Uninstall",primaryVariant:"danger",isPrimaryDisabled:!m,onPrimaryClick:p,onSecondaryClick:this.handleClose,isPending:E},r.default.createElement("p",null,f,"This action will uninstall the add-on, removing add-on data from cluster can not be undone."),r.default.createElement(s.Form,{onSubmit:e=>{e.preventDefault(),m&&p()}},r.default.createElement("p",null,"Confirm deletion by typing"," ",r.default.createElement("span",{className:"addon-delete-modal-textinput"},i)," below:"),r.default.createElement(s.TextInput,{type:"text",value:n,placeholder:"Enter name",onChange:(e,t)=>this.setValue(t),"aria-label":"addon name"})))}}c.propTypes={isOpen:i.default.bool.isRequired,modalData:i.default.shape({addOnName:i.default.string,addOnID:i.default.string,clusterID:i.default.string}),closeModal:i.default.func.isRequired,deleteClusterAddOn:i.default.func.isRequired,deleteClusterAddOnResponse:i.default.object.isRequired,clearClusterAddOnsResponses:i.default.func.isRequired},t.default=c},30743:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=l(a(14419)),s=a(11307),o=l(a(22998));t.default=(0,n.connect)((e=>({isOpen:(0,i.default)(e,"add-ons-delete-modal"),modalData:e.modal.data,deleteClusterAddOnResponse:e.addOns.deleteClusterAddOnResponse})),(e=>({deleteClusterAddOn:(t,a)=>e(s.addOnsActions.deleteClusterAddOn(t,a)),closeModal:()=>e((0,r.closeModal)()),clearClusterAddOnsResponses:()=>e((0,s.clearClusterAddOnsResponses)())})))(o.default)},9912:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=l(a(51961)),u=l(a(5221)),d=l(a(30743)),c=a(87558),m=l(a(4290)),p=l(a(34350)),f=l(a(48064)),E=l(a(72152)),g=l(a(54891)),v=l(a(46664)),h=l(a(93980)),b=l(a(3592));a(561);class S extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"getHasQuota",(e=>{const{cluster:t,organization:a,quota:l}=this.props;return null!==e&&(0,c.hasQuota)(e,t,a,l)})),(0,n.default)(this,"getInstalledAddon",(e=>{const{clusterAddOns:t}=this.props;return(0,c.getInstalled)(e,t)})),(0,n.default)(this,"handleTabClick",((e,t)=>{const{setAddonsDrawer:a}=this.props;a({activeTabKey:t}),e.preventDefault()})),(0,n.default)(this,"handleCardClick",(e=>()=>{var t;const{clusterAddOns:a,quota:l,setAddonsDrawer:n,drawer:r}=this.props;if(e.id===(null===(t=r.activeCard)||void 0===t?void 0:t.id))return void this.handleCloseDrawer();const i=(0,c.getInstalled)(e,a),s=(0,c.validateAddOnRequirements)(e),o=(0,c.getAddOnBillingQuota)(e,l);n({activeCard:e,activeCardRequirementsFulfilled:s.fulfilled,activeCardRequirements:s.errorMsgs,installedAddOn:i,billingQuota:o,open:!0,activeTabKey:0})})),(0,n.default)(this,"handleCloseDrawer",(()=>{const{setAddonsDrawer:e}=this.props;e({activeCard:null,activeCardRequirements:null,activeCardRequirementsFulfilled:!0,open:!1,activeTabKey:0})}))}componentDidUpdate(e){const{addClusterAddOnResponse:t,deleteClusterAddOnResponse:a,submitClusterAddOnResponse:l,drawer:n,setAddonsDrawer:r}=this.props;(t.fulfilled&&e.addClusterAddOnResponse.pending||a.fulfilled&&e.deleteClusterAddOnResponse.pending||l.fulfilled&&e.submitClusterAddOnResponse.pending)&&n.open&&r({open:!1,activeCard:null})}render(){var e;const{addClusterAddOn:t,addClusterAddOnResponse:a,updateClusterAddOn:l,addOnsList:n,cluster:i,openModal:S,setAddonsDrawer:_,drawer:C}=this.props,{open:y,activeCard:I,installedAddOn:A,activeCardRequirements:R,activeCardRequirementsFulfilled:T,billingQuota:O,activeTabKey:P,subscriptionModels:D}=C,L=r.default.createElement(s.DrawerPanelContent,{className:"ocm-c-addons__drawer--panel-content"},r.default.createElement(s.DrawerHead,{className:"ocm-c-addons__drawer--header"},r.default.createElement(s.Grid,{hasGutter:!0},r.default.createElement(s.GridItem,{span:3},(null==I?void 0:I.icon)&&r.default.createElement("img",{alt:null==I?void 0:I.name,src:`data:image/png;base64,${null==I?void 0:I.icon}`})),r.default.createElement(s.GridItem,{span:9},r.default.createElement(s.Title,{headingLevel:"h2",size:"xl"},null==I?void 0:I.name))),r.default.createElement(s.DrawerActions,null,r.default.createElement(s.DrawerCloseButton,{onClick:this.handleCloseDrawer}))),r.default.createElement(s.DrawerPanelBody,null,r.default.createElement(p.default,{addOn:I,requirements:(0,c.validateAddOnRequirements)(I),installedAddOn:A}),r.default.createElement(f.default,{installedAddOn:A})),r.default.createElement("div",null,r.default.createElement(s.Tabs,{activeKey:P,onSelect:this.handleTabClick,inset:{default:"insetNone",md:"insetSm",xl:"inset2xl","2xl":"insetLg"}},r.default.createElement(s.Tab,{eventKey:0,title:r.default.createElement(s.TabTitleText,null,"Details")},r.default.createElement(s.DrawerPanelBody,{className:"ocm-addons-tab--drawer-panel-body"},r.default.createElement(s.Flex,{spaceItems:{default:"spaceItemsLg"},direction:{default:"column"}},r.default.createElement(s.FlexItem,null,null==I?void 0:I.description),r.default.createElement(E.default,{activeCardDocsLink:null==I?void 0:I.docs_link,installedAddOnOperatorVersion:null==A?void 0:A.operator_version,addonID:null==I?void 0:I.id,clusterID:null==i?void 0:i.id,externalClusterID:null==i?void 0:i.external_id,subscriptionPlanID:null==i||null===(e=i.subscription)||void 0===e||null===(e=e.plan)||void 0===e?void 0:e.id}),r.default.createElement(g.default,{installedAddOn:A,activeCard:I,activeCardID:null==I?void 0:I.id,installedAddOnState:null==A?void 0:A.state,cluster:i,openModal:S}),r.default.createElement(b.default,{activeCardId:null==I?void 0:I.id,billingQuota:O,installedAddOn:A,subscriptionModels:D,setAddonsDrawer:_}))),(null==A?void 0:A.state)===u.default.INSTALLATION_STATE.DELETING?null:r.default.createElement(s.DrawerPanelBody,null,r.default.createElement(v.default,{activeCard:I,activeCardRequirementsFulfilled:T,addClusterAddOn:t,addClusterAddOnResponse:a,updateClusterAddOn:l,cluster:i,hasQuota:this.getHasQuota(I),installedAddOn:A,installedAddOnOperatorVersion:null==A?void 0:A.operator_version,openModal:S,subscriptionModels:D}))),!T&&r.default.createElement(s.Tab,{eventKey:1,title:r.default.createElement(s.TabTitleText,null,"Prerequisites")},r.default.createElement(s.DrawerPanelBody,{className:"ocm-addons-tab--drawer-panel-body"},r.default.createElement(s.Flex,{spaceItems:{default:"spaceItemsLg"},direction:{default:"column"}},r.default.createElement(s.FlexItem,null,r.default.createElement(h.default,{activeCardRequirements:R}))))))));return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Drawer,{isExpanded:y,isInline:!0,className:"ocm-addons-tab--addon-drawer pf-m-inline-on-2xl"},r.default.createElement(s.DrawerContent,{panelContent:I?L:null,className:"pf-m-no-background ocm-c-addons__drawer--panel-gallery"},r.default.createElement(s.DrawerContentBody,null,r.default.createElement(s.Gallery,{hasGutter:!0},n.map((e=>r.default.createElement(o.default,{key:e.id,addOn:e,installedAddOn:this.getInstalledAddon(e),requirements:(0,c.validateAddOnRequirements)(e),onClick:this.handleCardClick(e),activeCard:null==I?void 0:I.id}))))))),r.default.createElement(m.default,{clusterID:i.id}),r.default.createElement(d.default,null))}}S.propTypes={addOnsList:i.default.array.isRequired,clusterAddOns:i.default.object.isRequired,cluster:i.default.object.isRequired,organization:i.default.object.isRequired,quota:i.default.object.isRequired,openModal:i.default.func.isRequired,addClusterAddOn:i.default.func.isRequired,addClusterAddOnResponse:i.default.object.isRequired,deleteClusterAddOnResponse:i.default.object.isRequired,submitClusterAddOnResponse:i.default.object.isRequired,drawer:i.default.object.isRequired,setAddonsDrawer:i.default.func.isRequired,updateClusterAddOn:i.default.func.isRequired},t.default=S},48064:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(8888));function o(e){const{installedAddOn:t}=e;return"failed"===(null==t?void 0:t.state)?n.default.createElement(i.Alert,{variant:"danger",isInline:!0,title:"Add-on failed",className:"ocm-addons-failed--error-box",role:"alert"},n.default.createElement(i.Flex,{direction:{default:"column"}},n.default.createElement(i.FlexItem,null,null==t?void 0:t.state_description),n.default.createElement(i.FlexItem,null,n.default.createElement(s.default,{noIcon:!0,href:"https://access.redhat.com/support/cases/#/case/new"},"Contact support")))):null}o.propTypes={installedAddOn:r.default.object},t.default=o},54891:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(7019),o=a(53966),u=a(87558),d=l(a(4290));function c(e){const{installedAddOn:t,activeCard:a,activeCardID:l,cluster:r,openModal:c}=e;if(t&&a&&(0,u.hasParameters)(a)){const e=(0,u.parameterAndValue)(t,a,r),m=Object.entries(e.parameters).map((e=>{let[t,a]=e;return n.default.createElement("p",{key:t},n.default.createElement("b",{className:"parameter-list-key"},a.name)," ",n.default.createElement(i.Popover,{"aria-label":"param-popover",headerContent:n.default.createElement("div",null,a.name),bodyContent:n.default.createElement("div",null,a.description)},n.default.createElement(i.Button,{isInline:!0,variant:"link",icon:n.default.createElement(s.OutlinedQuestionCircleIcon,{className:"ocm-addons-tab--parameter-tooltip-icon"})}))," ",a.value)}));return n.default.createElement(i.FlexItem,null,n.default.createElement("p",{className:"ocm-addons-tab--configuration-title"},"Configuration",n.default.createElement(i.Button,{ouiaId:`update-addon-${l}`,variant:"link",isDisabled:!r.canEdit,icon:n.default.createElement(o.PencilAltIcon,{className:"ocm-addons-tab--configuration-title-icon"}),onClick:()=>c("add-ons-parameters-modal",{clusterID:r.id,addOn:a,addOnInstallation:t,isUpdateForm:!0})})),m,n.default.createElement(d.default,{clusterID:r.id}))}return null}a(561),c.propTypes={installedAddOn:r.default.object,activeCard:r.default.object,activeCardID:r.default.string,cluster:r.default.object,openModal:r.default.func.isRequired},t.default=c},46664:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(40167),u=a(93413),d=l(a(12200)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),m=l(a(5221)),p=a(87558);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(e){var t,a;const{activeCard:l,activeCardRequirementsFulfilled:n,addClusterAddOn:i,addClusterAddOnResponse:f,updateClusterAddOn:E,cluster:v,hasQuota:h,installedAddOn:b,openModal:S,subscriptionModels:_}=e,C=_[l.id],y=()=>{(0,p.hasParameters)(l)?S("add-ons-parameters-modal",{clusterID:v.id,addOn:l,isUpdateForm:!1}):i(v.id,{addon:{id:null==l?void 0:l.id},billing:g({billing_model:C.billingModel},C.cloudAccount&&{billing_marketplace_account:C.cloudAccount})})},I=!v.canEdit&&"You do not have permission to install add ons. Only cluster owners, cluster editors, and Organization Administrators can install add ons.",A="read_only"===(null==v||null===(t=v.status)||void 0===t?void 0:t.configuration_mode)&&"This operation is not available during maintenance",R=(0,c.isHibernating)(v)&&"This operation is not available while cluster is hibernating",T=v.state!==c.default.READY&&"This cluster is not ready",O=!n&&"Prerequisites not met",P=(!h||"no-quota"===(null==C?void 0:C.billingModel))&&u.noQuotaTooltip,D="marketplace"===(null==C?void 0:C.billingModel)&&"Select a subscription type",L=(null==b||null===(a=b.billing)||void 0===a||a.billing_model,null==C||C.billingModel,d.default,s.ButtonSize.sm,function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return r.default.createElement(d.default,{ouiaId:`uninstall-addon-${null==l?void 0:l.id}`,variant:"secondary",isDanger:!0,disableReason:A||R||T||I,size:s.ButtonSize.sm,onClick:()=>S("add-ons-delete-modal",{addOnName:null==l?void 0:l.name,addOnID:null==l?void 0:l.id,clusterID:v.id}),className:e&&"pf-v5-u-ml-xs"},"Uninstall")});if(!b){const e=f.pending&&"installing...";return r.default.createElement(d.default,{disableReason:A||R||T||O||I||P||e||D,ouiaId:`install-addon-${null==l?void 0:l.id}`,variant:"primary","aria-label":"Install",onClick:y,size:s.ButtonSize.sm},"Install")}let N;switch(null==b?void 0:b.state){case m.default.INSTALLATION_STATE.PENDING:case m.default.INSTALLATION_STATE.INSTALLING:case m.default.INSTALLATION_STATE.UPDATING:return r.default.createElement(r.default.Fragment,null,L(!1));case void 0:return"";case m.default.INSTALLATION_STATE.FAILED:return N="https://access.redhat.com/support/cases/#/case/new",r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Button,{component:"a",variant:"secondary",href:N,target:"_blank",rel:"noopener noreferrer",size:s.ButtonSize.sm},"Contact support")," ",L());case m.default.INSTALLATION_STATE.READY:return null!=v&&v.console.url?(N=`${v.console.url}/k8s/ns/${null==l?void 0:l.target_namespace}/operators.coreos.com~v1alpha1~ClusterServiceVersion/${null==b?void 0:b.csv_name}`,r.default.createElement("div",null,r.default.createElement(s.Button,{component:"a",variant:"primary",href:N,target:"_blank",rel:"noopener noreferrer",size:s.ButtonSize.sm},"Open in Console ",r.default.createElement(o.ExternalLinkAltIcon,{className:"link-icon"}))," ",L())):"";default:return""}}a(561),v.propTypes={activeCard:i.default.object,activeCardRequirementsFulfilled:i.default.bool,addClusterAddOn:i.default.func.isRequired,addClusterAddOnResponse:i.default.object,cluster:i.default.object,hasQuota:i.default.bool,installedAddOn:i.default.object,openModal:i.default.func,updateClusterAddOn:i.default.func,subscriptionModels:i.default.object},t.default=v},93980:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419);function s(e){const{activeCardRequirements:t}=e;return n.default.createElement(i.List,null,null==t?void 0:t.map((e=>n.default.createElement(i.ListItem,{key:e},e))))}a(561),s.propTypes={activeCardRequirements:r.default.array},t.default=s},1920:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=a(11307),s=l(a(9912));const o={addClusterAddOn:i.addClusterAddOn,updateClusterAddOn:i.updateClusterAddOn,openModal:r.modalActions.openModal,setAddonsDrawer:i.setAddonsDrawer};t.default=(0,n.connect)((e=>({cluster:e.clusters.details.cluster,addClusterAddOnResponse:e.addOns.addClusterAddOnResponse,deleteClusterAddOnResponse:e.addOns.deleteClusterAddOnResponse,submitClusterAddOnResponse:e.modal.data.isUpdateForm?e.addOns.updateClusterAddOnResponse:e.addOns.addClusterAddOnResponse,drawer:e.addOns.drawer})),o)(s.default)},87558:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.validateAddOnRequirements=t.quotaCostOptions=t.parameterValuesForEditing=t.parameterAndValue=t.minQuotaCount=t.isInstalled=t.isAvailable=t.hasRequirements=t.hasQuota=t.hasParameters=t.getParameters=t.getParameterValue=t.getParameter=t.getInstalled=t.getAddOnBillingQuota=t.availableAddOns=void 0;var n=l(a(43693)),r=l(a(58156)),i=a(38046),s=a(98229);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const d=(e,t,a,l)=>!(!e.enabled||!a.fulfilled)&&(0,s.hasPotentialQuota)(l,u(u({},(0,s.queryFromCluster)(t)),{},{resourceType:i.QuotaTypes.ADD_ON,resourceName:e.resource_name,billingModel:"any"}))>=1;t.isAvailable=d;const c=(e,t)=>!!(0,r.default)(t,"items.length",!1)&&t.items.some((t=>t.addon.id===e.id));t.isInstalled=c,t.getInstalled=(e,t)=>t.items.find((t=>t.addon.id===e.id));const m=e=>{if(void 0===e)return"";const t=[];return Object.entries(e).forEach((e=>{let[a,l]=e;Array.isArray(l)?t.push(`${a} is ${l.join(" or ")}`):"number"==typeof l?t.push(`${a} >= ${l}`):t.push(`${a} is ${l}`)})),`where ${t.join(" and ")}`};t.validateAddOnRequirements=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={fulfilled:!0,errorMsgs:[]};return e.length>0&&e.every((e=>{const[l,n]=(e=>{const t=(0,r.default)(e,"status.fulfilled",!1),a=(0,r.default)(e,"status.error_msgs",[]);return t||0===(0,r.default)(a,"length",0)&&("addon"===e.resource?a.push(`This addon requires another addon to be installed ${m(e.data)}`):"machine_pool"===e.resource?a.push(`This addon requires a machine pool to exist ${m(e.data)}`):a.push(`This addon requires a ${e.resource} ${m(e.data)}`)),[t,a]})(e);return l||a.errorMsgs.push(...n),a.fulfilled&&(a.fulfilled=l),!(!a.fulfilled&&t)})),a}((0,r.default)(e,"requirements",[]),t)};const p=e=>(0,r.default)(e,"parameters.items",[]);t.getParameters=p;const f=e=>(0,r.default)(p(e),"length",0)>0;t.hasParameters=f;const E=e=>{let t=1;return f(e)&&e.parameters.items.forEach((a=>{if("resource"===a.value_type&&a.id===e.resource_name&&void 0!==a.options&&a.options.length>0){const e=a.options.map((e=>Number(e.value))).filter((e=>!Number.isNaN(e)));t=Math.min(...e)}})),t};t.minQuotaCount=E,t.hasQuota=(e,t,a,l)=>{if(!d(e,t,a,l))return!1;const n=E(e);return(0,s.availableQuota)(l,u(u({},(0,s.queryFromCluster)(t)),{},{resourceType:i.QuotaTypes.ADD_ON,resourceName:e.resource_name,billingModel:"any"}))>=n},t.getAddOnBillingQuota=(e,t)=>(0,s.addOnBillingQuota)(t,{resourceType:i.QuotaTypes.ADD_ON,resourceName:e.resource_name}),t.quotaCostOptions=function(e,t,a,l){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;n=Number.isNaN(n)?0:n;const r=u(u({},(0,s.queryFromCluster)(t)),{},{resourceType:i.QuotaTypes.ADD_ON,resourceName:e,billingModel:"any"});if(!(0,s.hasPotentialQuota)(a,r))return l;const o=(0,s.availableQuota)(a,r);return l.filter((e=>o+n>=e.value))},t.availableAddOns=(e,t,a,l,n)=>(0,r.default)(e,"items.length",!1)?e.items.filter((e=>d(e,t,l,n)||c(e,a))):[],t.hasRequirements=e=>(0,r.default)(e,"requirements.length",0)>0;const g=(e,t)=>{if(f(e))return e.parameters.items.find((e=>e.id===t))};t.getParameter=g;const v=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const l=g(e,t);return l?l.value:a};t.getParameterValue=v,t.parameterValuesForEditing=(e,t)=>{const a={parameters:{}};return f(t)&&(a.parameters=p(t).reduce(((t,a)=>{let l=v(e,a.id);return"boolean"===a.value_type&&(l="true"===(l||"").toLowerCase()),void 0!==a.options&&a.options.length>0&&(l=l||void 0),void 0!==l&&(t[a.id]=l),t}),{})),a},t.parameterAndValue=(e,t)=>{const a={parameters:{}};return f(t)&&(a.parameters=p(t).reduce(((t,a)=>{let l=v(e,a.id);if("boolean"===a.value_type&&(l="true"===(l||"").toString().toLowerCase()),a.options){const e=a.options.find((e=>e.value===l));null!=e&&e.name&&(l=e.name)}if(void 0!==l){const e=u({value:l.toString()},a);t[a.id]=e}return t}),{})),a}},89754:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(43693)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),s=l(a(5556)),o=a(72740),u=a(97419),d=a(44537),c=a(84037),m=a(2786),p=l(a(55816)),f=l(a(28592)),E=a(77218),g=a(87558);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}a(56839);class h extends i.Component{constructor(){super(...arguments),(0,r.default)(this,"handleClose",(()=>{const{closeModal:e,resetForm:t,clearClusterAddOnsResponses:a}=this.props;a(),t(),e()})),(0,r.default)(this,"isFieldDisabled",(e=>{const{isUpdateForm:t,addOnInstallation:a}=this.props;return t&&!e.editable&&void 0!==a.parameters&&void 0!==a.parameters.items.find((t=>t.id===e.id))})),(0,r.default)(this,"getParamDefault",(e=>{const{isUpdateForm:t}=this.props;return t||void 0===e.default_value?"":e.default_value})),(0,r.default)(this,"getHelpText",(e=>{const{isUpdateForm:t}=this.props;return t&&t&&e.default_value&&e.editable?`${e.description}. For example "${e.default_value}"`:e.description})),(0,r.default)(this,"setDefaultParamValue",(e=>{const{change:t}=this.props;let a=e.default_value;"boolean"===e.value_type&&(a="true"===(a||"").toLowerCase()),t(`parameters.${e.id}`,a)})),(0,r.default)(this,"getFieldProps",(e=>{const{cluster:t,quota:a,addOn:l,addOnInstallation:n,isUpdateForm:r}=this.props;if(void 0!==e.options&&e.options.length>0){let i;if("resource"===e.value_type){let s;r&&e.id===l.resource_name&&(s=1);const o=Number((0,g.getParameterValue)(n,e.id,s));i=(0,g.quotaCostOptions)(e.id,t,a,e.options,o)}else i=e.options;return{component:E.ReduxFormDropdown,options:[{name:"-- Please Select --",value:void 0},...i],type:"text"}}switch(e.value_type){case"number":default:return{component:E.ReduxVerticalFormGroup,type:"text"};case"boolean":return{component:E.ReduxCheckbox,isHelperTextBeforeField:!0}}})),(0,r.default)(this,"fieldForParam",(e=>e.value_type&&"boolean"===e.value_type?i.default.createElement(i.default.Fragment,null,i.default.createElement(o.Field,(0,n.default)({},this.getFieldProps(e),{key:e.id,id:`field-addon-${e.id}`,name:`parameters.${e.id}`,label:e.name,placeholder:this.getParamDefault(e),isRequired:e.required,isDisabled:this.isFieldDisabled(e),validate:h.validationsForParameterField(e)})),i.default.createElement(m.CheckboxDescription,null,this.getHelpText(e))):i.default.createElement(o.Field,(0,n.default)({},this.getFieldProps(e),{key:e.id,id:`field-addon-${e.id}`,name:`parameters.${e.id}`,label:e.name,placeholder:this.getParamDefault(e),isRequired:e.required,isDisabled:this.isFieldDisabled(e),helpText:this.getHelpText(e),validate:h.validationsForParameterField(e)}))))}componentDidUpdate(){const{submitClusterAddOnResponse:e}=this.props;e.fulfilled&&this.handleClose()}render(){const{isOpen:e,handleSubmit:t,addOn:a,isUpdateForm:l,submitClusterAddOnResponse:n,pristine:r}=this.props,s=n.pending;return e&&i.default.createElement(f.default,{title:`Configure ${a.name}`,width:810,variant:"large",onClose:this.handleClose,primaryText:l?"Update":"Install",secondaryText:"Cancel",onPrimaryClick:t,onSecondaryClick:this.handleClose,isPrimaryDisabled:l&&r,isPending:s},n.error&&i.default.createElement(p.default,{message:"Error adding add-ons",response:n}),i.default.createElement(u.Form,{id:`form-addon-${a.id}`},(0,g.getParameters)(a).map((e=>i.default.createElement(u.FormGroup,{key:e.id},this.fieldForParam(e),(l&&e.editable&&e.default_value||!l&&e.default_value)&&i.default.createElement(u.Button,{onClick:()=>this.setDefaultParamValue(e),id:`reset-addon-${e.id}`,variant:"link",icon:i.default.createElement(d.LevelUpAltIcon,null),iconPosition:"right",className:"addon-parameter-default-button"},"Use default: ",h.getDefaultValueText(e)))))))}}(0,r.default)(h,"validationsForParameterField",(e=>{const t=[];return"boolean"===e.value_type?(void 0!==e.validation&&"^true$"===e.validation||e.required)&&t.push(c.requiredTrue):e.required&&t.push(c.required),"number"===e.value_type&&t.push(c.validateNumericInput),t})),(0,r.default)(h,"getDefaultValueText",(e=>{if(void 0!==e.options&&e.options.length>0){const t=e.options.find((t=>t.value===e.default_value));if(void 0!==t)return t.name}return e.default_value})),h.propTypes={isOpen:s.default.bool.isRequired,closeModal:s.default.func.isRequired,resetForm:s.default.func.isRequired,handleSubmit:s.default.func.isRequired,addOn:s.default.object,addOnInstallation:s.default.object,cluster:s.default.object.isRequired,quota:s.default.object.isRequired,isUpdateForm:s.default.bool,submitClusterAddOnResponse:s.default.object,clearClusterAddOnsResponses:s.default.func.isRequired,pristine:s.default.bool.isRequired,change:s.default.func},t.default=h},4290:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.reduxFormConfig=t.default=void 0;var n=l(a(43693)),r=a(73729),i=a(72740),s=a(91089),o=l(a(14419)),u=a(11307),d=a(87558),c=l(a(89754));function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const f=t.reduxFormConfig={form:"AddOnsParameters",enableReinitialize:!0},E=(0,i.reduxForm)(f)(c.default);t.default=(0,r.connect)((e=>({isOpen:(0,o.default)(e,"add-ons-parameters-modal"),addOn:e.modal.data.addOn,subscriptionModel:e.addOns.drawer.subscriptionModels,addOnInstallation:e.modal.data.addOnInstallation,isUpdateForm:e.modal.data.isUpdateForm,submitClusterAddOnResponse:e.modal.data.isUpdateForm?e.addOns.updateClusterAddOnResponse:e.addOns.addClusterAddOnResponse,initialValues:(0,d.parameterValuesForEditing)(e.modal.data.addOnInstallation,e.modal.data.addOn,e.clusters.details.cluster),cluster:e.clusters.details.cluster,quota:e.userProfile.organization.quotaList})),(e=>({closeModal:()=>e((0,s.closeModal)()),addClusterAddOn:()=>e((0,u.addClusterAddOn)()),updateClusterAddOn:()=>e((0,u.updateClusterAddOn)()),clearClusterAddOnsResponses:()=>e((0,u.clearClusterAddOnsResponses)()),resetForm:()=>e((0,i.reset)("AddOnsParameters")),onSubmit:(t,a,l)=>{const{billingModel:n}=l.subscriptionModel[l.addOn.id],r={addon:{id:l.addOn.id},billing:p({billing_model:n},l.subscriptionModel[l.addOn.id].cloudAccount&&{billing_marketplace_account:l.subscriptionModel[l.addOn.id].cloudAccount})};void 0!==t.parameters&&(r.parameters={items:Object.entries(t.parameters).map((e=>{let[t,a]=e;return{id:t,value:a.toString()}}))}),l.isUpdateForm?e((0,u.updateClusterAddOn)(l.clusterID,l.addOn.id,r)):e((0,u.addClusterAddOn)(l.clusterID,r))}})))(E)},56868:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(43693)),r=a(89407),i=a(89217),s=a(95762),o=l(a(5221));function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={addOns:d(d({},s.baseRequestState),{},{items:[],resourceNames:[]}),clusterAddOns:d(d({},s.baseRequestState),{},{clusterID:void 0,items:[]}),drawer:{open:!1,activeCard:null,activeCardRequirementsFulfilled:!0,activeCardRequirements:null,installedAddOn:null,billingQuota:null,activeTabKey:0,subscriptionModels:{}},addClusterAddOnResponse:d({},s.baseRequestState),updateClusterAddOnResponse:d({},s.baseRequestState),deleteClusterAddOnResponse:d({},s.baseRequestState)};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(a=>{switch(t.type){case o.default.SET_ADDONS_DRAWER:return d(d({},e),{},{drawer:d(d({},e.drawer),t.payload)});case o.default.CLEAR_CLUSTER_ADDON_RESPONSES:return d(d({},c),{},{addOns:e.addOns,clusterAddOns:e.clusterAddOns});case(0,s.REJECTED_ACTION)(o.default.GET_ADDONS):a.addOns=d(d({},c.addOns),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.default.GET_ADDONS):a.addOns.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.default.GET_ADDONS):a.addOns=d(d({},c.addOns),{},{fulfilled:!0,items:t.payload.items,resourceNames:t.payload.resourceNames});break;case(0,s.REJECTED_ACTION)(o.default.GET_CLUSTER_ADDONS):a.clusterAddOns=d(d({},c.clusterAddOns),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.default.GET_CLUSTER_ADDONS):a.clusterAddOns.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.default.GET_CLUSTER_ADDONS):a.clusterAddOns=d(d({},c.clusterAddOns),{},{fulfilled:!0,clusterID:t.payload.clusterID,items:t.payload.items});break;case(0,s.REJECTED_ACTION)(o.default.ADD_CLUSTER_ADDON):a.addClusterAddOnResponse=d(d({},c.addClusterAddOnResponse),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.default.ADD_CLUSTER_ADDON):a.addClusterAddOnResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.default.ADD_CLUSTER_ADDON):a.addClusterAddOnResponse=d(d({},c.addClusterAddOnResponse),{},{fulfilled:!0});break;case(0,s.REJECTED_ACTION)(o.default.UPDATE_CLUSTER_ADDON):a.updateClusterAddOnResponse=d(d({},c.updateClusterAddOnResponse),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.default.UPDATE_CLUSTER_ADDON):a.updateClusterAddOnResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.default.UPDATE_CLUSTER_ADDON):a.updateClusterAddOnResponse=d(d({},c.updateClusterAddOnResponse),{},{fulfilled:!0});break;case(0,s.REJECTED_ACTION)(o.default.DELETE_CLUSTER_ADDON):a.deleteClusterAddOnResponse=d(d({},c.deleteClusterAddOnResponse),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.default.DELETE_CLUSTER_ADDON):a.deleteClusterAddOnResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.default.DELETE_CLUSTER_ADDON):a.deleteClusterAddOnResponse=d(d({},c),{},{fulfilled:!0})}}))}m.initialState=c,t.Ay=m},25985:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(2479),i=a(91089),s=a(80697),o=l(a(43322)),u=a(11307);const d={getOrganizationAndQuota:r.getOrganizationAndQuota,getAddOns:u.getAddOns,getClusterAddOns:u.getClusterAddOns,getMachineOrNodePools:s.getMachineOrNodePools,addClusterAddOn:u.addClusterAddOn,clearClusterAddOnsResponses:u.clearClusterAddOnsResponses,openModal:i.modalActions.openModal,closeModal:i.modalActions.closeModal};t.default=(0,n.connect)((e=>({addOns:e.addOns.addOns,cluster:e.clusters.details.cluster,clusterAddOns:e.addOns.clusterAddOns,clusterMachinePools:e.machinePools.getMachinePools,addClusterAddOnResponse:e.addOns.addClusterAddOnResponse,updateClusterAddOnResponse:e.addOns.updateClusterAddOnResponse,deleteClusterAddOnResponse:e.addOns.deleteClusterAddOnResponse,organization:e.userProfile.organization,quota:e.userProfile.organization.quotaList})),d)(o.default)},84290:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=l(a(58156)),s=l(a(5556)),o=a(97419),u=a(67080),d=l(a(6071)),c=a(93413),m=F(a(22902)),p=a(69304),f=a(75166),E=a(903),g=l(a(7691)),v=l(a(12200)),h=l(a(43775)),b=l(a(67716)),S=a(59067),_=l(a(84518)),C=F(a(23271)),y=l(a(62779)),I=l(a(43202)),A=a(38260),R=a(2509),T=l(a(37263)),O=l(a(83861)),P=l(a(76815)),D=l(a(13028)),L=l(a(49791)),N=l(a(57650)),w=l(a(11027)),M=l(a(10402));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(k=function(e){return e?a:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=k(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}const x=()=>{const e=(0,p.useNavigate)();return r.default.createElement(o.Alert,{id:"idpHint",className:"pf-v5-u-mt-md",isInline:!0,title:"Create an identity provider to access cluster"},"Identity providers determine how you can log into the cluster. You'll need to set this up so you can access your cluster"," ",r.default.createElement("p",null,r.default.createElement(o.Button,{variant:"link",isInline:!0,onClick:()=>e({hash:"#accessControl"})},"Create identity provider")," "))};function G(e){var t;const{cluster:a,openModal:l,pending:s,refreshFunc:p,clickRefreshFunc:k,clusterIdentityProviders:F,organization:G,error:U,errorMessage:j,children:H,canSubscribeOCP:V,canTransferClusterOwnership:q,canHibernateCluster:z,autoRefreshEnabled:B,toggleSubscriptionReleased:W,showPreviewLabel:$,logs:Y}=e;let K=null;(0,C.isHibernating)(a)?K=r.default.createElement(I.default,{cluster:a,openModal:l}):a&&!(0,m.default)(a.subscription)&&((0,R.shouldShowLogs)(a)||(0,C.hasInflightEgressErrors)(a))&&(K=r.default.createElement(O.default,{cluster:a}));const Q=(0,i.default)(a,"subscription.plan.type","")===f.normalizedProducts.OSDTRIAL,Z=(0,i.default)(a,"subscription.plan.type","")===f.normalizedProducts.OSD&&(0,i.default)(a,"subscription.cluster_billing_model","")===f.billingModels.MARKETPLACE,X=(0,i.default)(a,"subscription.plan.type")===f.normalizedProducts.OSD,J=(0,i.default)(a,"subscription.plan.type")===f.normalizedProducts.ROSA,ee=(0,d.default)(a),te=!!a.console&&a.console.url,ae=(0,i.default)(a,"creation_timestamp",""),le=F.clusterIDPList.length>0,ne=a.managed&&(null===(t=a.idpActions)||void 0===t?void 0:t.create)&&a.state===C.default.READY&&F.fulfilled&&!le&&!(0,A.isExtenalAuthenicationActive)(a),re=(0,i.default)(a,"subscription.status",!1)===S.SubscriptionCommonFields.status.ARCHIVED,ie=(0,i.default)(a,"subscription.status",!1)===S.SubscriptionCommonFields.status.DEPROVISIONED,se=a.state===C.default.READY&&a.canEdit?{trialExpiration:!0,openModal:l,cluster:a}:{};let oe;te&&!(0,C.isOffline)(a)?oe=r.default.createElement("a",{href:te,target:"_blank",rel:"noopener noreferrer",className:"pull-left","data-testid":"console-url-link"},r.default.createElement(o.Button,{variant:"primary"},"Open console")):a.managed?oe=r.default.createElement(o.Button,{variant:"primary",isDisabled:!0,title:a.state===C.default.UNINSTALLING?"The cluster is being uninstalled":"Admin console is not yet available for this cluster"},"Open console"):a.canEdit&&!(0,m.isUninstalledAICluster)(a)&&(oe=r.default.createElement(o.Button,{variant:"primary",onClick:()=>l(h.default.EDIT_CONSOLE_URL,a)},"Add console URL"));const ue=!(0,m.isUninstalledAICluster)(a)&&r.default.createElement(_.default,{disabled:!a.canEdit&&!a.canDelete,cluster:a,organization:G.details,showConsoleButton:!1,canSubscribeOCP:V,canTransferClusterOwnership:q,toggleSubscriptionReleased:W,canHibernateCluster:z,refreshFunc:p}),de=r.default.createElement(g.default,{path:[{label:"Cluster List"},(re||ie)&&{label:"Cluster Archives",path:"/archived"},{label:ee}].filter(Boolean)}),ce=s||G.pending||F.pending,me=Q&&(0,i.default)(a,"subscription.trial_end_date"),pe=Z&&(0,c.goZeroTime2Null)((0,i.default)(a,"subscription.billing_expiration_date")),fe=!a.canEdit&&"You do not have permissions to unarchive this cluster",Ee=r.default.createElement(v.default,{variant:"secondary",onClick:()=>{l(h.default.UNARCHIVE_CLUSTER,{subscriptionID:a.subscription?a.subscription.id:"",name:ee})},disableReason:fe},"Unarchive"),ge=null==Y?void 0:Y.find((e=>{var t,a;return(null===(t=e.summary)||void 0===t?void 0:t.includes("Please enable the Org Policy API for the GCP project"))||(null===(a=e.summary)||void 0===a?void 0:a.includes("GCP Organization Policy Service"))})),ve=ge&&!ie&&a.state!==C.default.READY&&a.state!==C.default.UNINSTALLING;return r.default.createElement("div",{id:"cl-details-top",className:"top-row"},r.default.createElement(o.Split,null,r.default.createElement(o.SplitItem,{className:"pf-v5-u-pb-md"},de)),r.default.createElement(o.Split,{id:"cl-details-top-row"},r.default.createElement(o.SplitItem,null,r.default.createElement(o.Title,{size:"2xl",headingLevel:"h1",className:"cl-details-page-title"},ee,$&&r.default.createElement(E.PreviewLabel,{creationDateStr:ae,className:"pf-v5-u-ml-sm"}))),r.default.createElement(o.SplitItem,null,ce&&r.default.createElement(u.Spinner,{className:"cluster-details-spinner"}),U&&r.default.createElement(y.default,{errorMessage:j,className:"cluster-details-warning"})),r.default.createElement(o.SplitItem,{isFilled:!0}),r.default.createElement(o.SplitItem,null,r.default.createElement(o.Flex,{flexWrap:{default:"nowrap"},alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsSm"},id:"cl-details-btns"},re||ie?!ie&&Ee:r.default.createElement(r.default.Fragment,null,oe,ue),!ie&&!re&&r.default.createElement(b.default,{id:"refresh",autoRefresh:B,refreshFunc:p,clickRefreshFunc:k,useShortTimer:!Object.values(C.default).includes(a.state)})))),K,r.default.createElement(L.default,{limitedSupportReasons:a.limitedSupportReasons,isOSD:X,isROSA:J}),ne&&r.default.createElement(o.Split,null,r.default.createElement(o.SplitItem,{isFilled:!0},r.default.createElement(x,null))),a.expiration_timestamp&&r.default.createElement(P.default,{expirationTimestamp:a.expiration_timestamp}),me&&!ie&&r.default.createElement(P.default,(0,n.default)({expirationTimestamp:me},se)),pe&&!ie&&r.default.createElement(P.default,{expirationTimestamp:pe,OSDRHMExpiration:!0}),ve&&r.default.createElement(D.default,{summary:null==ge?void 0:ge.summary}),r.default.createElement(N.default,{cluster:a,openModal:l,canSubscribeOCP:V}),!a.canEdit&&(0,m.isAvailableAssistedInstallCluster)(a)&&r.default.createElement(T.default,null),r.default.createElement(M.default,{subscription:a.subscription}),r.default.createElement(w.default,{subscription:a.subscription}),H)}G.propTypes={cluster:s.default.object,openModal:s.default.func.isRequired,refreshFunc:s.default.func.isRequired,clickRefreshFunc:s.default.func,pending:s.default.bool.isRequired,clusterIdentityProviders:s.default.object.isRequired,organization:s.default.object.isRequired,error:s.default.bool,errorMessage:s.default.oneOfType([s.default.string,s.default.node,s.default.element]),children:s.default.any,canSubscribeOCP:s.default.bool.isRequired,canHibernateCluster:s.default.bool.isRequired,canTransferClusterOwnership:s.default.bool.isRequired,autoRefreshEnabled:s.default.bool,toggleSubscriptionReleased:s.default.func.isRequired,showPreviewLabel:s.default.bool.isRequired,logs:s.default.arrayOf(s.default.shape({summary:s.default.string,description:s.default.string}))},t.default=G},57650:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(97419),o=a(68720),u=l(a(6071)),d=a(75166),c=l(a(43775)),m=a(59067),p=a(38260);function f(e){let{cluster:t,openModal:a,canSubscribeOCP:l=!1}=e;const i=(0,r.default)(t,"subscription");if((0,r.default)(i,"plan.type")!==d.normalizedProducts.OCP)return null;const f=(0,r.default)(i,"support_level");if(f!==m.SubscriptionCommonFields.support_level.EVAL&&f!==m.SubscriptionCommonFields.support_level.NONE)return null;const E=(0,r.default)(i,"status");if(E===m.SubscriptionCommonFields.status.ARCHIVED||E===m.SubscriptionCommonFields.status.DEPROVISIONED)return null;const g=(0,p.getSubscriptionLastReconciledDate)(i),v=(0,u.default)(t),h=g?n.default.createElement("p",null,"Last checked:",g):"",b=l?n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Button,{variant:"link",isInline:!0,onClick:()=>{a(c.default.EDIT_SUBSCRIPTION_SETTINGS,{subscription:i})}},"Edit subscription settings")," for non-evaluation use. "):n.default.createElement(n.default.Fragment,null,n.default.createElement("a",{href:"https://www.redhat.com/en/contact",target:"_blank",rel:"noreferrer noopener"},"Contact sales")," to purchase an OpenShift subscription."),S=n.default.createElement(n.default.Fragment,null,"The cluster owner or an Organization Administrator can edit subscription settings for non-evaluation use.");return f===m.SubscriptionCommonFields.support_level.NONE?n.default.createElement(s.Alert,{className:"subscription-settings compliancy-alert pf-v5-u-mt-md",isInline:!0,variant:"danger",title:"Your 60-day OpenShift evaluation has expired"},h,n.default.createElement("p",null,"Your cluster is not supported and you may stop receiving updates."," ",t.canEdit?n.default.createElement(n.default.Fragment,null,b," ",n.default.createElement(s.Button,{variant:"link",isInline:!0,onClick:()=>{const e={subscriptionID:(0,r.default)(i,"id"),name:v};a(c.default.ARCHIVE_CLUSTER,e)}},"Archive this cluster")," if it no longer exists. "):S)):n.default.createElement(s.Alert,{className:"subscription-settings compliancy-alert pf-v5-u-mt-md",isInline:!0,variant:"warning",title:"OpenShift evaluation expiration date"},h,n.default.createElement("p",null,"Your OpenShift evaluation will expire at",n.default.createElement(o.DateFormat,{date:i.eval_expiration_date,type:"onlyDate"}),".",t.canEdit?b:S))}f.propTypes={cluster:i.default.shape({creation_timestamp:i.default.string,canEdit:i.default.bool}),openModal:i.default.func.isRequired,canSubscribeOCP:i.default.bool.isRequired},t.default=f},78990:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(95376),o=l(a(13495)),u=a(90280),d=a(69304),c=a(10135),m=a(8028);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const E=e=>{const{currentFilter:t,currentFlags:a,setFilter:l,setFlags:n}=e,i=(0,d.useNavigate)(),p=(0,s.useLocation)(),[E,g]=r.default.useState(null),[v,h]=r.default.useState({description:"",loggedBy:""}),[b,S]=r.default.useState({severityTypes:[],logTypes:[]}),_=r.default.useRef(v),C=r.default.useRef(b);r.default.useEffect((()=>{_.current=v,C.current=b}),[v,b]),r.default.useEffect((()=>{t&&h(f({},t)),a&&S({severityTypes:a.severityTypes,logTypes:a.logTypes})}),[a,t]);const y=()=>{l(f(f({},t),_.current))},I=(e,t)=>{null!==E&&clearTimeout(E),h({[t]:e});const a=setTimeout(y,300);g(a)},A=()=>{const{severityTypes:e,logTypes:t}=C.current;n({severityTypes:e,logTypes:t}),i(f(f({},p),{},{search:(0,c.buildFilterURLParams)({logTypes:t,severityTypes:e})}),{replace:!0})},R=(e,t)=>{null!==E&&clearTimeout(E),S(f(f({},b),{},{[t]:e}));const a=setTimeout(A,300);g(a)},{description:T,loggedBy:O}=v,{severityTypes:P,logTypes:D}=b,L={type:u.conditionalFilterType.text,value:"Description",label:"Description",filterValues:{"aria-label":"Description Filter Input",onChange:(e,t)=>I(t,"description"),value:T}},N={type:u.conditionalFilterType.checkbox,label:"Severity",value:"Severity",filterValues:{onChange:(e,t)=>R(t,"severityTypes"),items:m.SEVERITY_TYPES.map((e=>({label:e,value:e}))),value:P}},w={type:u.conditionalFilterType.checkbox,label:"Type",value:"Type",filterValues:{onChange:(e,t)=>R(t,"logTypes"),items:m.LOG_TYPES.map((e=>({label:e,value:e}))),value:D}},M={type:u.conditionalFilterType.text,value:"Logged by",label:"Logged by",filterValues:{"aria-label":"Logged by Filter Input",onChange:(e,t)=>I(t,"loggedBy"),value:O}};return r.default.createElement(o.default,{items:[L,N,w,M]})};E.propTypes={currentFilter:i.default.shape({description:i.default.string,loggedBy:i.default.string,timestampFrom:i.default.string,timestampTo:i.default.string}).isRequired,currentFlags:i.default.shape({severityTypes:i.default.arrayOf(i.default.string),logTypes:i.default.arrayOf(i.default.string)}).isRequired,setFilter:i.default.func.isRequired,setFlags:i.default.func.isRequired},t.default=E},61252:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.onDateChangeFromFilter=t.getTimestampFrom=t.default=t.dateParse=t.dateFormat=void 0;var n=l(a(94634)),r=l(a(43693)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),s=l(a(74353)),o=l(a(5556)),u=a(97419),d=a(22416);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}a(52285);const p=/^\d{4}-\d{2}-\d{2}$/,f=e=>e.replace(/T.*/,"").split("-").filter((e=>""!==e&&0!==Number.parseInt(e,10))),E=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=f(e);if(3!==a.length)return"";const l=a[0],n=a[1],r=a[2],i=`${l.padStart(4,"0")}-${n.padStart(2,"0")}-${r.padStart(2,"0")}`;return t?new Date(l,Number.parseInt(n,10)-1,r):i};let g;t.dateParse=E;const v=function(){if(!g||arguments.length>0&&void 0!==arguments[0]&&arguments[0]){const e=E((new Date).toISOString()),t=new Date(e);t.setMonth(t.getMonth()-1);const a=new Date(e);a.setDate(a.getDate()-7);const l=new Date(e);return l.setDate(l.getDate()-3),g={now:e,lastMonthStart:t,lastWeekStart:a,last72HoursStart:l},g}return g},h=e=>{const{lastMonthStart:t}=v();return e<t?t:e};t.getTimestampFrom=h;const b="Last month",S="Last week",_="Last 72 hours",C="Custom",y=e=>{const t=e.getFullYear(),a=e.getMonth()+1,l=e.getDate();return`${t}-${a.toString().padStart(2,"0")}-${l.toString().padStart(2,"0")}`};t.dateFormat=y;const I=e=>({date:`${e}T00:00:00.000Z`,key:"timestampFrom",symbol:">="});t.onDateChangeFromFilter=I;const A=e=>({date:`${e}T23:59:59.999Z`,key:"timestampTo",symbol:"<="}),R=e=>{let{setFilter:t,currentFilter:a,createdAt:l}=e;const{now:o,lastMonthStart:c,lastWeekStart:g,last72HoursStart:R}=v(),T=E(l),O=[{value:b},{value:S},{value:_},{value:C}],[P,D]=(0,i.useState)(y(h(T))),[L,N]=(0,i.useState)(y(o)),[w,M]=(0,i.useState)(!1),[k,F]=(0,i.useState)(!1),[x,G]=(0,i.useState)(!1),[U,j]=(0,i.useState)(O[0].value),[H,V]=(0,i.useState)(0),q=E(L),z=E(P);let B;B=z>q&&z<=o&&q<=o&&q>=T?"The end date cannot be before the start date.":"";const W=e=>{const l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a);e.forEach((e=>{let{key:t,symbol:a,date:n}=e;l[t]=`${a} '${n}'`})),t(l)},$=e=>{D(e),W([I(E(e,!1))])},Y=e=>{N(e),W([A(E(e,!1))])},K=[e=>e<T&&!w?"The start date cannot be before the cluster creation date.":"",e=>e>o?"The start date cannot be in the future.":""],Q=[e=>e<T&&!k?"The end date cannot be before the cluster creation date.":"",e=>e>o?"The end date cannot be in the future.":""],Z=e=>(0,u.isValidDate)(new Date(e)),X=(e,t)=>{M(!1),j(C),3===f(e).length&&t&&(Z(e)&&p.test(e)?$(e):M(!0))},J=(e,t)=>{F(!1),j(C),3===f(e).length&&t&&(Z(e)&&p.test(e)?Y(e):F(!0))},ee="YYYY-MM-DD",te={className:"cluster-log__date-picker",placeholder:ee,invalidFormatText:`Invalid: ${ee}`,dateFormat:y,popoverProps:{position:"right"},key:H},ae=i.default.createElement(u.DatePicker,(0,n.default)({onChange:(e,t,a)=>X(t,a),onBlur:(e,t,a)=>X(t,a),value:P,dateParse:E,validators:K},te)),le=i.default.createElement(u.DatePicker,(0,n.default)({onChange:(e,t,a)=>J(t,a),onBlur:(e,t,a)=>J(t,a),value:L,dateParse:E,validators:Q},te)),ne=e=>e<T?T:e,re=i.default.createElement(d.Select,{onToggle:(e,t)=>G(t),onSelect:(e,t)=>{let a;switch(j(t),G(!1),V(H+1),t){case b:a=ne(c);break;case S:a=ne(g);break;case _:a=ne(R);break;default:return}D(y(a)),N(y(o)),W([I(y(a)),A(y(o))])},selections:U,isOpen:x,"aria-label":"Select a date range","aria-labelledby":"select-date-range"},O.map(((e,t)=>i.default.createElement(d.SelectOption,{key:t,value:e.value,isDisabled:e.isDisabled}))));return(0,i.useEffect)((()=>W([I(P),A(L)])),[]),(0,i.useEffect)((()=>{if(a.timestampFrom){const e=(0,s.default)(a.timestampFrom.replaceAll("'","").split(" ")[1]).utcOffset(0).format("YYYY-MM-DD");e!==P&&($(e),j(O[3].value))}if(a.timestampTo){const e=(0,s.default)(a.timestampTo.replaceAll("'","").split(" ")[1]).utcOffset(0).format("YYYY-MM-DD");e!==L&&(Y(e),j(O[3].value))}}),[a.timestampFrom,a.timestampTo]),i.default.createElement(i.default.Fragment,null,i.default.createElement(u.ToolbarItem,null,re),i.default.createElement(u.ToolbarItem,null,ae," ",w?i.default.createElement(u.HelperText,null,i.default.createElement(u.HelperTextItem,{variant:"error"},`Invalid: ${ee}`)):void 0),i.default.createElement(u.ToolbarItem,null,le," ",B?i.default.createElement(u.HelperText,null,i.default.createElement(u.HelperTextItem,{variant:"error"},B)):void 0,k?i.default.createElement(u.HelperText,null,i.default.createElement(u.HelperTextItem,{variant:"error"},`Invalid: ${ee}`)):void 0))};R.propTypes={currentFilter:o.default.shape({description:o.default.string,timestampFrom:o.default.string,timestampTo:o.default.string}).isRequired,setFilter:o.default.func.isRequired,createdAt:o.default.string.isRequired},t.default=R},44501:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(91847)),r=l(a(43693)),i=l(a(93345)),s=l(a(62193)),o=l(a(5556)),u=a(95376),d=a(97419),c=a(69304),m=l(a(93413)),p=a(10135),f=a(8028);const E=["timestampFrom","timestampTo"];function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const h=[{key:"severityTypes",label:"Severity Type",optionLabels:f.SEVERITY_TYPES.reduce(((e,t)=>(e[t]=t,e)),{})},{key:"logTypes",label:"Type",optionLabels:f.LOG_TYPES.reduce(((e,t)=>(e[t]=t,e)),{})}];function b(e){let{currentFilter:t,setFilter:a,currentFlags:l,setFlags:r,clearFiltersAndFlags:o}=e;const f=(0,u.useLocation)(),g=(0,c.useNavigate)(),{timestampFrom:b,timestampTo:S}=t,_=(0,n.default)(t,E);return m.default.nestedIsEmpty(_)&&m.default.nestedIsEmpty(l)?null:i.default.createElement(d.Split,null,i.default.createElement(d.SplitItem,null,i.default.createElement(d.ChipGroup,null,[{key:"description",label:"Description"},{key:"loggedBy",label:"Logged by"}].map((e=>((e,t,a,l,n)=>{const{key:r}=e,o=t[r]||[];return(0,s.default)(o)?null:i.default.createElement(d.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},i.default.createElement(d.Chip,{key:r,onClick:()=>{((e,t)=>{l({pathname:n.path,hash:n.hash,search:(0,p.buildFilterURLParams)({[e]:[t]})},{replace:!0}),a(t)})(r,v(v({},t),{},{[e.key]:""}))}},o))})(e,t,a,g,f))).filter(Boolean)),i.default.createElement(d.ChipGroup,null,h.map((e=>((e,t,a,l,n)=>{const r=t[e.key]||[];return(0,s.default)(r)?null:i.default.createElement(d.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},r.map((s=>{const o=e.optionLabels[s];return i.default.createElement(d.Chip,{key:s,onClick:()=>{var i;i=v(v({},t),{},{[e.key]:r.filter((e=>e!==s))}),l({pathname:n.path,hash:n.hash,search:(0,p.buildFilterURLParams)(i)},{replace:!0}),a(i)}},o)})))})(e,l,r,g,f))).filter(Boolean))),i.default.createElement(d.SplitItem,null,i.default.createElement(d.Button,{variant:"link",onClick:()=>((e,t,a)=>{const l=(0,p.getQueryParam)("timestampFrom")||"",n=(0,p.getQueryParam)("timestampTo")||"";e({hash:a.hash,search:(0,p.buildFilterURLParams)({timestampFrom:[l],timestampTo:[n]})},{replace:!0}),t()})(g,o,f)},"Clear filters")))}b.propTypes={setFilter:o.default.func.isRequired,currentFilter:o.default.shape({description:o.default.string,loggedBy:o.default.string,timestampFrom:o.default.string,timestampTo:o.default.string}).isRequired,setFlags:o.default.func.isRequired,currentFlags:o.default.shape({severityTypes:o.default.arrayOf(o.default.string),logTypes:o.default.arrayOf(o.default.string)}).isRequired,clearFiltersAndFlags:o.default.func.isRequired},t.default=b},62313:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(22916),o=l(a(96346)),u=l(a(78990)),d=l(a(61252)),c=l(a(83784)),m=l(a(44501));class p extends n.default.PureComponent{render(){const{viewOptions:e,history:t,setFlags:a,setFilter:l,externalClusterID:r,currentFilter:p,currentFlags:f,clearFiltersAndFlags:E,isPendingNoData:g,createdAt:v,clusterID:h,logs:b}=this.props;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Toolbar,{className:"cluster-log__toolbar","data-testid":"cluster-history-toolbar"},n.default.createElement(i.ToolbarContent,null,n.default.createElement(i.ToolbarGroup,{variant:"filter-group"},n.default.createElement(d.default,{currentFilter:p,currentFlags:f,setFilter:l,setFlags:a,createdAt:v})),n.default.createElement(i.ToolbarItem,null,n.default.createElement(u.default,{view:s.viewConstants.CLUSTER_LOGS_VIEW,history:t,currentFilter:p,currentFlags:f,setFilter:l,setFlags:a})),n.default.createElement(i.ToolbarItem,null,n.default.createElement(c.default,{externalClusterID:r,clusterID:h,viewOptions:e,logs:b})),n.default.createElement(i.ToolbarItem,{align:{default:"alignRight"},variant:"pagination"},n.default.createElement(o.default,{viewType:s.viewConstants.CLUSTER_LOGS_VIEW,currentPage:e.currentPage,pageSize:e.pageSize,totalCount:e.totalCount,totalPages:e.totalPages,variant:"top",isDisabled:g})))),n.default.createElement(m.default,{view:s.viewConstants.CLUSTER_LOGS_VIEW,currentFilter:p,currentFlags:f,setFilter:l,setFlags:a,clearFiltersAndFlags:E}))}}p.propTypes={setFilter:r.default.func.isRequired,currentFilter:r.default.shape({description:r.default.string,timestampFrom:r.default.string,timestampTo:r.default.string}).isRequired,setFlags:r.default.func.isRequired,currentFlags:r.default.shape({severityTypes:r.default.arrayOf(r.default.string),logTypes:r.default.arrayOf(r.default.string)}).isRequired,clearFiltersAndFlags:r.default.func.isRequired,history:r.default.shape({push:r.default.func.isRequired}).isRequired,externalClusterID:r.default.string.isRequired,viewOptions:r.default.object.isRequired,isPendingNoData:r.default.bool.isRequired,createdAt:r.default.string.isRequired,clusterID:r.default.string.isRequired,logs:r.default.number.isRequired},t.default=p},80931:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(58156)),r=a(73729),i=a(27241),s=a(22916),o=l(a(62313));t.A=(0,r.connect)(((e,t)=>{const a=(0,n.default)(e,"clusters.details.cluster",{});return{viewOptions:e.viewOptions[s.viewConstants.CLUSTER_LOGS_VIEW],currentFilter:e.viewOptions[t.view].filter||{conditionalFilterFlags:{}},currentFlags:e.viewOptions[t.view].flags.conditionalFilterFlags||{},createdAt:(0,n.default)(a,"creation_timestamp","")}}),((e,t)=>({setFilter:a=>e((0,i.onListFilterSet)(a,t.view)),setFlags:a=>e((0,i.onListFlagsSet)("conditionalFilterFlags",a,t.view)),clearFiltersAndFlags:()=>e((0,i.onClearFiltersAndFlags)(t.view))})))(o.default)},88549:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=l(a(55816)),s=l(a(28592));class o extends n.default.Component{componentDidUpdate(){const{deletedIDPResponse:e}=this.props;e.fulfilled&&this.closeDialog(!0)}closeDialog(e){const{clearDeleteIDPResponse:t,close:a,refreshParent:l}=this.props;t(),a(),e&&l()}render(){const{isOpen:e,modalData:t,deleteIDP:a,deletedIDPResponse:l}=this.props,{clusterID:r,idpID:o,idpName:u,idpType:d}=t,c=l.error&&n.default.createElement(i.default,{message:"Error removing identity provider",response:l}),m=l.pending,p=()=>this.closeDialog(!1);return e&&n.default.createElement(s.default,{onClose:p,primaryText:"Remove",primaryVariant:"danger",onPrimaryClick:()=>a(r,o),onSecondaryClick:p,title:"Remove identity provider",isPending:m},c,n.default.createElement("p",null,"You're about to remove the ",n.default.createElement("b",null,d)," identity provider"," ",n.default.createElement("b",null,'"',u,'"')," ","from this cluster."),n.default.createElement("p",null,"You may lose access to this cluster if you remove this identity provider. At least one identity provider is required to access the cluster."))}}o.propTypes={isOpen:r.default.bool.isRequired,modalData:r.default.object,clearDeleteIDPResponse:r.default.func.isRequired,close:r.default.func.isRequired,deleteIDP:r.default.func.isRequired,deletedIDPResponse:r.default.object,refreshParent:r.default.func},t.default=o},4716:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=l(a(14419)),s=a(89070),o=l(a(88549));const u={clearDeleteIDPResponse:()=>(0,s.resetDeletedIDPResponse)(),deleteIDP:(e,t)=>(0,s.deleteIDP)(e,t),close:()=>(0,r.closeModal)()};t.default=(0,n.connect)((e=>({isOpen:(0,i.default)(e,"delete-idp"),modalData:e.modal.data,deletedIDPResponse:e.identityProviders.deletedIDP})),u)(o.default)},89070:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.resetIdentityProvidersState=t.resetDeletedIDPResponse=t.resetCreatedClusterIDPResponse=t.getClusterIdentityProviders=t.editClusterIdentityProvider=t.deleteIDP=t.createClusterIdentityProvider=t.clusterIdentityActions=void 0;var n=l(a(58156)),r=a(73410),i=a(35156);const s=e=>t=>t({type:i.identityProvidersConstants.GET_CLUSTER_IDENTITY_PROVIDERS,payload:r.clusterService.getIdentityProviders(e).then((e=>(e.data.items=(0,n.default)(e.data,"items",[]),e)))});t.getClusterIdentityProviders=s;const o=(e,t)=>a=>a({type:i.identityProvidersConstants.CREATE_CLUSTER_IDENTITY_PROVIDER,payload:r.clusterService.createClusterIdentityProvider(e,t).then((e=>e))});t.createClusterIdentityProvider=o;const u=(e,t)=>a=>a({type:i.identityProvidersConstants.UPDATE_CLUSTER_IDENTITY_PROVIDER,payload:r.clusterService.editClusterIdentityProvider(e,t).then((e=>e))});t.editClusterIdentityProvider=u;const d=()=>e=>e({type:i.identityProvidersConstants.RESET_CREATED_CLUSTER_IDP_RESPONSE});t.resetCreatedClusterIDPResponse=d;const c=(e,t)=>a=>a({type:i.identityProvidersConstants.DELETE_IDENTITY_PROVIDER,payload:r.clusterService.deleteIdentityProvider(e,t)});t.deleteIDP=c;const m=()=>e=>e({type:i.identityProvidersConstants.RESET_DELETED_IDP_RESPONSE});t.resetDeletedIDPResponse=m;const p=()=>e=>e({type:i.identityProvidersConstants.RESET_IDENTITY_PROVIDERS_STATE});t.resetIdentityProvidersState=p,t.clusterIdentityActions={getClusterIdentityProviders:s,createClusterIdentityProvider:o,resetCreatedClusterIDPResponse:d,deleteIDP:c,resetDeletedIDPResponse:m,resetIdentityProvidersState:p,editClusterIdentityProvider:u}},35156:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identityProvidersConstants=t.UPDATE_CLUSTER_IDENTITY_PROVIDER=t.RESET_IDENTITY_PROVIDERS_STATE=t.RESET_DELETED_IDP_RESPONSE=t.RESET_CREATED_CLUSTER_IDP_RESPONSE=t.GET_CLUSTER_IDENTITY_PROVIDERS=t.DELETE_IDENTITY_PROVIDER=t.CREATE_CLUSTER_IDENTITY_PROVIDER=void 0;const a=t.GET_CLUSTER_IDENTITY_PROVIDERS="GET_CLUSTER_IDENTITY_PROVIDERS",l=t.CREATE_CLUSTER_IDENTITY_PROVIDER="CREATE_CLUSTER_IDENTITY_PROVIDER",n=t.RESET_CREATED_CLUSTER_IDP_RESPONSE="RESET_CREATED_CLUSTER_IDP_RESPONSE",r=t.DELETE_IDENTITY_PROVIDER="DELETE_IDENTITY_PROVIDER",i=t.RESET_DELETED_IDP_RESPONSE="RESET_DELETED_IDP_RESPONSE",s=t.RESET_IDENTITY_PROVIDERS_STATE="RESET_IDENTITY_PROVIDERS_STATE",o=t.UPDATE_CLUSTER_IDENTITY_PROVIDER="UPDATE_CLUSTER_IDENTITY_PROVIDER";t.identityProvidersConstants={GET_CLUSTER_IDENTITY_PROVIDERS:a,CREATE_CLUSTER_IDENTITY_PROVIDER:l,RESET_CREATED_CLUSTER_IDP_RESPONSE:n,DELETE_IDENTITY_PROVIDER:r,RESET_DELETED_IDP_RESPONSE:i,RESET_IDENTITY_PROVIDERS_STATE:s,UPDATE_CLUSTER_IDENTITY_PROVIDER:o}},96661:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(73729),o=a(95376),u=a(72740),d=a(97419),c=a(65589),m=a(67080),p=a(69304),f=a(33366),E=a(23271),g=a(59067),v=l(a(6071)),h=a(93413),b=a(24239),S=a(9059),_=l(a(7691)),C=l(a(71299)),y=l(a(60381)),I=a(89070),A=a(45255);const R="Red Hat OpenShift Cluster Manager",T=e=>{const{clusterIDPs:t,handleSubmit:a,clusterDetails:l,submitIDPResponse:i,selectedMappingMethod:T,change:O,clearFields:P,IDPList:D,initialValues:L,idpEdited:N,editedType:w,isEditForm:M,selectedIDP:k,pristine:F,invalid:x,HTPasswdErrors:G}=e,U=(0,o.useParams)(),j=(0,s.useDispatch)(),{cluster:H}=l,V=n.default.useRef(l);if(n.default.useEffect((()=>{document.title="Red Hat OpenShift Cluster Manager";const e=U.id;return(0,h.isValid)(e)&&(0,r.default)(H,"subscription.id","")!==e?j((0,b.fetchClusterDetails)(e)):(0,r.default)(H,"subscription.id","")===e&&j((0,I.getClusterIdentityProviders)(H.id)),()=>{j((0,I.resetCreatedClusterIDPResponse)()),j((0,u.reset)("CreateIdentityProvider"))}}),[]),n.default.useEffect((()=>{var e,t;const a=U.id;if((0,r.default)(V.current,"cluster.subscription.id")===a){const e=(0,v.default)(l.cluster);document.title=`${e} | Red Hat OpenShift Cluster Manager`}if((null===(e=V.current)||void 0===e||null===(e=e.cluster)||void 0===e||!e.id)&&l.fulfilled&&null!=l&&null!==(t=l.cluster)&&void 0!==t&&t.id){const{cluster:e}=l,t=(0,r.default)(e,"id"),a=(0,r.default)(l,"cluster.managed",!1),n=(0,r.default)(e,"subscription.status");(0,h.isValid)(t)&&n!==g.SubscriptionCommonFields.status.DEPROVISIONED&&a&&j((0,I.getClusterIdentityProviders)(t)),V.current=l}}),[j,U.id,l]),i.fulfilled)return n.default.createElement(p.Navigate,{replace:!0,to:`/details/s/${H.subscription.id}#accessControl`});const q=U.id,z=(0,r.default)(H,"subscription.id")!==q&&!l.error,B=(0,r.default)(t,"pending",!1);if((z||B)&&!l.error)return n.default.createElement(f.AppPage,{title:R},n.default.createElement("div",{id:"clusterdetails-content"},n.default.createElement("div",{className:"cluster-loading-container"},n.default.createElement(m.Spinner,{centered:!0}))));if(l.error&&(!H||(0,r.default)(H,"subscription.id")!==q))return 404===l.errorCode||403===l.errorCode?(j((0,S.setGlobalError)(n.default.createElement(n.default.Fragment,null,"Cluster with subscription ID ",n.default.createElement("b",null,q)," was not found, it might have been deleted or you don't have permission to see it."),"identityProvidersPage",l.errorMessage)),n.default.createElement(p.Navigate,{replace:!0,to:"/cluster-list"})):n.default.createElement(f.AppPage,{title:R},n.default.createElement(C.default,{message:"Error retrieving IDP page",response:l}),z&&n.default.createElement(m.Spinner,null));if(!(0,r.default)(l,"cluster.managed",!1))return j((0,S.setGlobalError)(n.default.createElement(n.default.Fragment,null,"Cluster with subscription ID ",n.default.createElement("b",null,q)," is not a managed cluster."),"identityProvidersPage","Go to the cluster's console to see and edit identity providers.")),n.default.createElement(p.Navigate,{replace:!0,to:"/cluster-list"});if(!M&&!k&&!U.idpTypeName||M&&t.fulfilled&&!w)return n.default.createElement(p.Navigate,{replace:!0,to:`/details/s/${H.subscription.id}#accessControl`});const W=A.IDPTypeNames[k],$=M?`Edit identity provider: ${N.name}`:`Add identity provider: ${W}`,Y=(0,v.default)(l.cluster),K=M?$:`Add ${A.singularFormIDP[k]} identity provider`;return n.default.createElement(f.AppPage,{title:R},n.default.createElement(c.PageHeader,null,n.default.createElement(_.default,{path:[{label:"Cluster List"},{label:Y,path:`/details/s/${H.subscription.id}`},{label:"Access control",path:`/details/s/${H.subscription.id}#accessControl`},{label:$}]}),n.default.createElement(c.PageHeaderTitle,{title:$})),n.default.createElement(d.PageSection,null,n.default.createElement(d.Card,null,n.default.createElement(d.CardBody,null,n.default.createElement(d.Grid,null,n.default.createElement(d.GridItem,{md:8},t.fulfilled?n.default.createElement(y.default,{selectedIDP:k,idpTypeName:W,formTitle:K,submitIDPResponse:i,selectedMappingMethod:T,clusterUrls:{console:(0,r.default)(H,"console.url"),api:(0,r.default)(H,"api.url")},change:O,clearFields:P,IDPList:D,isEditForm:M,idpEdited:N,idpName:L.name,isHypershift:(0,E.isHypershiftCluster)(H),HTPasswdErrors:G}):n.default.createElement(m.Spinner,null)))),n.default.createElement(d.CardFooter,null,n.default.createElement(d.Split,{hasGutter:!0},n.default.createElement(d.SplitItem,null,n.default.createElement(d.Button,{variant:"primary",type:"submit",isDisabled:F||x,onClick:a},M?"Save":"Add")),n.default.createElement(d.SplitItem,null,n.default.createElement(p.Link,{to:`/details/s/${H.subscription.id}#accessControl`},n.default.createElement(d.Button,{variant:"secondary"},"Cancel"))))))))};T.propTypes={isEditForm:i.default.bool,clusterIDPs:i.default.object.isRequired,clusterDetails:i.default.shape({cluster:i.default.object,error:i.default.bool,errorCode:i.default.oneOfType([i.default.number,i.default.string]),errorMessage:i.default.oneOfType([i.default.string,i.default.node,i.default.element]),fulfilled:i.default.bool,pending:i.default.bool}),handleSubmit:i.default.func.isRequired,selectedMappingMethod:i.default.string,change:i.default.func.isRequired,clearFields:i.default.func.isRequired,IDPList:i.default.array.isRequired,idpEdited:i.default.object,editedType:i.default.string,initialValues:i.default.shape({idpId:i.default.string,name:i.default.string}).isRequired,selectedIDP:i.default.oneOfType([i.default.string,i.default.bool]),pristine:i.default.bool.isRequired,invalid:i.default.bool.isRequired,HTPasswdErrors:i.default.object.isRequired,submitIDPResponse:i.default.object},T.defaultProps={clusterDetails:{cluster:null,error:!1,errorMessage:"",fulfilled:!1},isEditForm:!1},t.default=T},14421:(e,t,a)=>{"use strict";var l=a(24994);t.Fu=m;var n=l(a(43693)),r=a(89407),i=a(89217),s=a(95762),o=a(35156);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={clusterIdentityProviders:d(d({},s.baseRequestState),{},{clusterIDPList:[]}),createdClusterIDP:d(d({},s.baseRequestState),{},{data:{}}),deletedIDP:d({},s.baseRequestState),editClusterIDP:d(d({},s.baseRequestState),{},{data:{}})};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case o.identityProvidersConstants.RESET_IDENTITY_PROVIDERS_STATE:return c;case(0,s.REJECTED_ACTION)(o.identityProvidersConstants.GET_CLUSTER_IDENTITY_PROVIDERS):e.clusterIdentityProviders=d(d({},c.clusterIdentityProviders),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.identityProvidersConstants.GET_CLUSTER_IDENTITY_PROVIDERS):e.clusterIdentityProviders.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.identityProvidersConstants.GET_CLUSTER_IDENTITY_PROVIDERS):e.clusterIdentityProviders=d(d({},c.clusterIdentityProviders),{},{clusterIDPList:t.payload.data.items||[],fulfilled:!0});break;case(0,s.REJECTED_ACTION)(o.identityProvidersConstants.CREATE_CLUSTER_IDENTITY_PROVIDER):e.createdClusterIDP=d(d({},c.createdClusterIDP),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.identityProvidersConstants.CREATE_CLUSTER_IDENTITY_PROVIDER):e.createdClusterIDP.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.identityProvidersConstants.CREATE_CLUSTER_IDENTITY_PROVIDER):e.createdClusterIDP=d(d({},c.createdClusterIDP),{},{fulfilled:!0,clusterIdentityProviders:t.payload.data});break;case(0,s.REJECTED_ACTION)(o.identityProvidersConstants.UPDATE_CLUSTER_IDENTITY_PROVIDER):e.editClusterIDP=d(d({},c.editClusterIDP),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.identityProvidersConstants.UPDATE_CLUSTER_IDENTITY_PROVIDER):e.editClusterIDP.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.identityProvidersConstants.UPDATE_CLUSTER_IDENTITY_PROVIDER):e.editClusterIDP=d(d({},c.editClusterIDP),{},{fulfilled:!0,clusterIdentityProviders:t.payload.data});break;case o.identityProvidersConstants.RESET_CREATED_CLUSTER_IDP_RESPONSE:e.createdClusterIDP=d({},c.createdClusterIDP),e.editClusterIDP=d({},c.editClusterIDP);break;case(0,s.PENDING_ACTION)(o.identityProvidersConstants.DELETE_IDENTITY_PROVIDER):e.deletedIDP.pending=!0;break;case(0,s.REJECTED_ACTION)(o.identityProvidersConstants.DELETE_IDENTITY_PROVIDER):e.deletedIDP=d(d({},c.deletedIDP),(0,i.getErrorState)(t));break;case(0,s.FULFILLED_ACTION)(o.identityProvidersConstants.DELETE_IDENTITY_PROVIDER):e.deletedIDP=d(d({},c.deletedIDP),{},{fulfilled:!0});break;case o.identityProvidersConstants.RESET_DELETED_IDP_RESPONSE:e.deletedIDP=d({},c.deletedIDP)}}))}m.initialState=c},60381:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(72740),o=a(97419),u=l(a(65702)),d=a(84037),c=l(a(55816)),m=l(a(8888)),p=a(77218),f=a(45255),E=a(13934);class g extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{IDPName:"",isExpanded:!1}),(0,n.default)(this,"checkDuplicateName",(e=>{const{IDPList:t,isEditForm:a}=this.props;if(t.map((e=>e.name)).includes(e)&&!a)return`The name "${e}" is already taken. Identity provider names must not be duplicate.`})),(0,n.default)(this,"updateIsExpanded",(()=>{const{isExpanded:e}=this.state;this.setState({isExpanded:!e})}))}componentDidMount(){const{selectedIDP:e,isEditForm:t,idpEdited:a,idpName:l}=this.props;this.setState({IDPName:l}),t&&this.setState({isExpanded:g.checkIfExpandable(e,a)})}componentDidUpdate(e){const{selectedIDP:t,change:a,IDPList:l,isEditForm:n}=this.props,{IDPName:r}=this.state;if(!n&&t!==e.selectedIDP){const e=(0,f.generateIDPName)(t,l);e!==r&&(a("name",e),this.setState({IDPName:e}))}}render(){const{submitIDPResponse:e,selectedMappingMethod:t,clusterUrls:a,isEditForm:l,idpEdited:n,change:i,clearFields:g,selectedIDP:v,idpTypeName:h,formTitle:b,HTPasswdErrors:S,isHypershift:_}=this.props,{IDPName:C,isExpanded:y}=this.state,I=e.pending;let A;e.error&&(A=r.default.createElement(c.default,{title:`Error ${l?"updating":"creating"} Identity Provider`,response:e}));const R={OpenIDIdentityProvider:E.OpenIDForm,LDAPIdentityProvider:E.LDAPForm},T={LDAPIdentityProvider:E.LDAPFormRequired,OpenIDIdentityProvider:E.OpenIDFormRequired,GithubIdentityProvider:E.GithubForm,GoogleIdentityProvider:E.GoogleFormRequired,GitlabIdentityProvider:E.GitlabForm,HTPasswdIdentityProvider:E.HTPasswdForm},O={LDAPIdentityProvider:u.default.IDP_LDAP,OpenIDIdentityProvider:u.default.IDP_OPENID,GithubIdentityProvider:u.default.IDP_GITHUB,GoogleIdentityProvider:u.default.IDP_GOOGLE,GitlabIdentityProvider:u.default.IDP_GITLAB,HTPasswdIdentityProvider:u.default.IDP_HTPASSWD},P=T[v],D=R[v],L=v===f.IDPformValues.HTPASSWD?11:8;return r.default.createElement(o.Form,null,r.default.createElement(o.Grid,{id:"identity-provider-form",hasGutter:!0},r.default.createElement(o.GridItem,{span:L},r.default.createElement(o.Title,{headingLevel:"h3",size:"xl"},b)),A&&r.default.createElement(o.GridItem,{span:8},A),(e=>{let t=null;switch(e){case f.IDPformValues.HTPASSWD:t=r.default.createElement(r.default.Fragment,null,"Define an ",r.default.createElement("code",null,"htpasswd")," identity provider for your managed cluster to create one or multiple static users that can log in to your cluster and troubleshoot it. If these users need elevated permissions, add it to an"," ",r.default.createElement(m.default,{href:u.default.OSD_DEDICATED_ADMIN_ROLE},"administrative group")," ","within your organization.");break;case f.IDPformValues.OPENID:t=r.default.createElement(r.default.Fragment,null,"Configure an ",r.default.createElement("code",null,"oidc")," identity provider to integrate with an OpenID Connect identity provider using an"," ",r.default.createElement(m.default,{href:"http://openid.net/specs/openid-connect-core-1_0.html#CodeFlowAuth"},"Authorization Code Flow"),".");break;case f.IDPformValues.LDAP:t=r.default.createElement(r.default.Fragment,null,"Configure the ",r.default.createElement("code",null,"ldap")," identity provider to validate user names and passwords against an LDAPv3 server, using simple bind authentication.");break;case f.IDPformValues.GITHUB:t=r.default.createElement(r.default.Fragment,null,"Configure a ",r.default.createElement("code",null,"github")," identity provider to validate user names and passwords against GitHub or GitHub Enterprises OAuth authentication server.");break;case f.IDPformValues.GITLAB:t=r.default.createElement(r.default.Fragment,null,"Configure a ",r.default.createElement("code",null,"gitlab")," identity provider to use"," ",r.default.createElement(m.default,{href:"https://gitlab.com/"},"GitLab.com")," or any other GitLab instance as an identity provider.");break;case f.IDPformValues.GOOGLE:t=r.default.createElement(r.default.Fragment,null,"Configure a ",r.default.createElement("code",null,"google")," identity provider using"," ",r.default.createElement(m.default,{href:"https://developers.google.com/identity/protocols/OpenIDConnect"},"Googles OpenID Connect integration"),".");break;default:return null}return r.default.createElement(o.GridItem,{span:L+1},t)})(v),!l&&r.default.createElement(o.GridItem,{span:L},r.default.createElement(m.default,{href:O[v]},"Learn more about ",h," identity providers")),r.default.createElement(o.GridItem,{span:L},r.default.createElement(s.Field,{component:p.ReduxVerticalFormGroup,name:"name",label:"Name",type:"text",validate:[d.checkIdentityProviderName,this.checkDuplicateName],isRequired:!0,disabled:I||l,onChange:(e,t)=>this.setState({IDPName:t}),helpText:"Unique name for the identity provider. This cannot be changed later."})),(0,f.IDPNeedsOAuthURL)(v)&&r.default.createElement(o.GridItem,{span:L},r.default.createElement("div",null,r.default.createElement("span",{className:"pf-v5-c-form__label pf-v5-c-form__label-text pf-v5-u-mb-sm"},"OAuth callback URL"),r.default.createElement(o.ClipboardCopy,{isReadOnly:!0},(0,f.getOauthCallbackURL)(a,C,_)))),v!==f.IDPformValues.HTPASSWD&&r.default.createElement(o.GridItem,{span:L},r.default.createElement(s.Field,{component:p.ReduxFormDropdown,options:f.mappingMethods,name:"mappingMethod",label:"Mapping method",helpText:"Specifies how new identities are mapped to users when they log in. Claim is recommended in most cases.",value:n.mapping_method})),P&&r.default.createElement(P,{isPending:I,isRequired:v===f.IDPformValues.GOOGLE&&!(t===f.mappingMethodsformValues.LOOKUP),isEditForm:l,idpEdited:n,change:i,clearFields:g,HTPasswdErrors:S}),D&&r.default.createElement(o.GridItem,{span:L},r.default.createElement(o.ExpandableSection,{toggleTextCollapsed:"Show advanced options",toggleTextExpanded:"Hide advanced options",isExpanded:y,onToggle:()=>this.updateIsExpanded()},r.default.createElement(D,{isPending:I,isEditForm:l,idpEdited:n})))))}}(0,n.default)(g,"checkIfExpandable",((e,t)=>{if(e===f.IDPformValues.OPENID){if(""!==t.open_id.openid_extra_scopes||""!==t.open_id.openid_ca)return!0}else if(e===f.IDPformValues.LDAP&&(""!==t.ldap.ldap_ca||""!==t.ldap.ldap_insecure))return!0;return!1})),g.propTypes={clusterUrls:i.default.shape({console:i.default.string,api:i.default.string}).isRequired,submitIDPResponse:i.default.object,selectedIDP:i.default.string,selectedMappingMethod:i.default.string,change:i.default.func.isRequired,clearFields:i.default.func.isRequired,IDPList:i.default.array.isRequired,isEditForm:i.default.bool,isHypershift:i.default.bool,idpEdited:i.default.object,idpName:i.default.string,HTPasswdErrors:i.default.func.isRequired,idpTypeName:i.default.string,formTitle:i.default.string},g.defaultProps={selectedIDP:"GithubIdentityProvider"},t.default=g},85687:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(72740),o=a(97419),u=a(93413),d=a(84037),c=l(a(33076)),m=l(a(74311)),p=l(a(38871)),f=l(a(20021)),E=l(a(19436));a(2664);class g extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{authMode:"",hostnameRequired:!1}),(0,n.default)(this,"toggleHostnameRequired",((e,t)=>{t&&""!==t.trim()?this.setState({hostnameRequired:!0}):this.setState({hostnameRequired:!1})})),(0,n.default)(this,"onAuthModeChange",((e,t)=>{this.setState({authMode:t})}))}componentDidMount(){const{isEditForm:e,idpEdited:t}=this.props;e?(t.github.ca&&this.setState({hostnameRequired:!0}),this.setState({authMode:t.github.organizations?"organizations":"teams"})):this.setState({authMode:"organizations"})}render(){const{isPending:e,idpEdited:t,isEditForm:a}=this.props,{authMode:l,hostnameRequired:n}=this.state;return r.default.createElement(r.default.Fragment,null,r.default.createElement(E.default,null),r.default.createElement(o.GridItem,{span:8},r.default.createElement(s.Field,{component:p.default,name:"hostname",label:"Hostname",type:"text",disabled:e,validate:n?d.required:u.noop,isRequired:n,extendedHelpText:"You can use the GitHub integration to connect to either GitHub or GitHub Enterprise. For GitHub Enterprise, you must provide the hostname of your instance and, optionally, provide a CA certificate bundle to use in requests to the server.",helpText:"Optional domain to use with a hosted instance of GitHub Enterprise."})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(s.Field,{component:f.default,name:"github_ca",label:"CA file",type:"text",helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured GitHub Enterprise URL.",isDisabled:e,onChange:(e,t)=>this.toggleHostnameRequired(e,t),certValue:a?t.github.ca:""})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(o.Divider,null),r.default.createElement(o.Title,{headingLevel:"h3",size:"xl",className:"pf-v5-u-mt-lg"},"Organizations or teams"),r.default.createElement("p",null,"Github authentication lets you use either GitHub organizations or GitHub teams to restrict access."),r.default.createElement("p",{className:"idp-github-auth-mode-selection-question"},"Do you want to use GitHub organizations, or GitHub teams?"),r.default.createElement(s.Field,{component:c.default,name:"github_auth_mode",defaultValue:l,options:[{value:"organizations",label:"Use organizations"},{value:"teams",label:"Use teams"}],onChange:this.onAuthModeChange})),"organizations"===l?r.default.createElement(m.default,{fieldName:"organizations",label:"Organizations",type:"text",isRequired:!0,placeholderText:"e.g. org",disabled:e,helpText:"Only users that are members of at least one of the listed organizations will be allowed to log in.",validate:(0,d.atLeastOneRequired)("organizations")}):r.default.createElement(m.default,{fieldName:"teams",label:"Teams",type:"text",isRequired:!0,placeholderText:"e.g. org/team",disabled:e,helpText:"Only users that are members of at least one of the listed teams will be allowed to log in. The format is <org>/<team>.",validateField:d.checkGithubTeams,key:"teams",validate:(0,d.atLeastOneRequired)("teams")}))}}g.propTypes={isPending:i.default.bool,isEditForm:i.default.bool,idpEdited:i.default.object},g.defaultProps={isPending:!1},t.default=g},85999:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(72740),s=a(97419),o=a(84037),u=l(a(38871)),d=l(a(20021)),c=l(a(19436));const m=e=>{let{isPending:t,isEditForm:a,idpEdited:l}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(c.default,null),n.default.createElement(s.GridItem,{span:8},n.default.createElement(i.Field,{component:u.default,name:"gitlab_url",label:"URL",type:"text",validate:[o.required,o.validateUrlHttpsAndHttp],isRequired:!0,disabled:t,helpText:"The URL of your GitLab provider.This would be https://gitlab.com/ if you do not have hosted GitLab."})),n.default.createElement(s.GridItem,{span:8},n.default.createElement(i.Field,{component:d.default,name:"gitlab_ca",label:"CA file",type:"text",disabled:t,helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured Gitlab URL.",certValue:a?l.gitlab.ca:""})))};m.propTypes={isPending:r.default.bool,isEditForm:r.default.bool,idpEdited:r.default.object},m.defaultProps={isPending:!1},t.default=m},26844:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(72740),s=a(97419),o=a(84037),u=l(a(38871)),d=l(a(19436));function c(e){let{isPending:t,isRequired:a}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(d.default,null),n.default.createElement(s.GridItem,{span:8},n.default.createElement(i.Field,{component:u.default,name:"hosted_domain",label:"Hosted domain",type:"text",helpText:"Restrict users to a Google Apps domain",disabled:t,isRequired:a,validate:o.checkHostDomain})))}c.propTypes={isPending:r.default.bool,isRequired:r.default.bool},c.defaultProps={isPending:!1,isRequired:!1},t.default=c},90812:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(19202),o=a(31003),u=a(36165),d=a(84037),c=a(77218);a(90637);const m=()=>{const e="abcdefghijklmnopqrstuvwxyz",t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a="0123456789\\!\"#$%&'()*+,-./:;<=>?@[]^_`{|}~",l=`${e}${t}${a}`,n=e=>{const t=(e=>{const t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]%e.length})(e);return{index:t,value:e[t]}},r=new Array(14).fill(null).map((()=>n(l).value)),i=r.map(((e,t)=>t)),s=n(i);r[s.value]=n(t).value,i.splice(s.index,1);const o=n(i);return r[o.value]=n(e).value,i.splice(o.index,1),r[n(i).value]=n(a).value,i.splice(o.index,1),r.join("")},p=(e,t)=>(null==t?void 0:t.emptyPassword)?"default":void 0===t?"success":t[e]?"error":"success",f=e=>{let{passwordErrors:t}=e;const a=e=>p(e,t),l=e=>((e,t)=>{switch(p(e,t)){case"success":return n.default.createElement(s.CheckCircleIcon,null);case"error":return n.default.createElement(o.ExclamationCircleIcon,null);default:return n.default.createElement("span",null,"")}})(e,t);return n.default.createElement(i.HelperText,null,n.default.createElement(i.HelperTextItem,{isDynamic:!0,variant:a("baseRequirements"),icon:l("baseRequirements")},"At least 14 characters (ASCII-standard) without whitespaces"),n.default.createElement(i.HelperTextItem,{isDynamic:!0,variant:a("lowercase"),icon:l("lowercase")},"Include lowercase letters"),n.default.createElement(i.HelperTextItem,{isDynamic:!0,variant:a("uppercase"),icon:l("uppercase")},"Include uppercase letters"),n.default.createElement(i.HelperTextItem,{isDynamic:!0,variant:a("numbersOrSymbols"),icon:l("numbersOrSymbols")},"Include numbers or symbols (ASCII-standard characters only)"))};f.propTypes={passwordErrors:r.default.shape({emptyPassword:r.default.bool,baseRequirements:r.default.bool,uppercase:r.default.bool,lowercase:r.default.bool,numbers:r.default.bool,numbersOrTypes:r.default.bool})};const E=e=>{let{isPending:t,HTPasswdErrors:a,change:l}=e;const r=!!(0,u.useGlobalState)((e=>{var t;return null===(t=e.form)||void 0===t||null===(t=t.CreateIdentityProvider)||void 0===t?void 0:t.syncErrors}));return n.default.createElement(n.default.Fragment,null,n.default.createElement(c.ReduxFieldArray,{fieldName:"users",fieldSpan:11,component:c.RenderCompoundArrayFields,compoundFields:[{name:"username",label:"Username",type:"text",helpText:"Unique name of the user within the cluster.",isRequired:!0,getPlaceholderText:e=>`Unique username ${e+1}`,validate:[d.required,d.validateHTPasswdUsername]},{name:"password",label:"Password",type:"password",isRequired:!0,getHelpText:e=>{var t;const l=null==a||null===(t=a[e])||void 0===t?void 0:t.password;return n.default.createElement(f,{passwordErrors:l})},onAutocomplete:(e,t)=>{l(`${t}-confirm`,e)},getAutocompleteValue:m,getAutocompleteText:e=>n.default.createElement("div",null,"Use suggested password:",n.default.createElement("br",null),n.default.createElement("b",null,`${e}`)),validate:d.validateHTPasswdPassword},{name:"password-confirm",label:"Confirm password",type:"password",isRequired:!0,helpText:"Retype the password to confirm.",validate:[d.required,d.validateHTPasswdPasswordConfirm]}],label:"Users list",addMoreTitle:"Add user",isRequired:!0,disabled:t,validate:[d.validateUniqueHTPasswdUsername],addMoreButtonDisabled:r,minusButtonDisabledMessage:"To delete the static user, add another user first."}),n.default.createElement(i.GridItem,{span:11},n.default.createElement(i.Alert,{isInline:!0,variant:"info",title:"Securely store your usernames and passwords"},"If you lose these credentials, you will have to delete and recreate the users.")))};E.propTypes={isPending:r.default.bool,change:r.default.func.isRequired,HTPasswdErrors:r.default.arrayOf(r.default.shape({password:r.default.shape({emptyPassword:r.default.bool,baseRequirements:r.default.bool,uppercase:r.default.bool,lowercase:r.default.bool,numbers:r.default.bool,numbersOrSymbols:r.default.bool})}))},E.defaultProps={isPending:!1},t.default=E},81653:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(72740),o=a(97419),u=a(77218),d=l(a(20021));class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{isInsecure:!1,caDisabledHelpText:""}),(0,n.default)(this,"toggleCADisabled",((e,t)=>{t?this.setState({isInsecure:!0,caDisabledHelpText:"Cannot be used if insecure is set."}):this.setState({isInsecure:!1,caDisabledHelpText:""})}))}componentDidMount(){const{isEditForm:e,idpEdited:t}=this.props;this.setState({isInsecure:!!e&&t.ldap.insecure,caDisabledHelpText:""})}render(){const{isPending:e,isEditForm:t,idpEdited:a}=this.props,{isInsecure:l,caDisabledHelpText:n}=this.state;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{span:8},r.default.createElement(s.Field,{component:d.default,name:"ldap_ca",label:"CA file",helpText:`PEM encoded certificate bundle to use to validate server certificates for the configured URL. ${n}`,isDisabled:l||e,certValue:t&&!l?a.ldap.ca:""})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(s.Field,{component:u.ReduxCheckbox,name:"ldap_insecure",label:"Insecure",isDisabled:e,onChange:this.toggleCADisabled})))}}c.propTypes={isPending:i.default.bool,isEditForm:i.default.bool,idpEdited:i.default.object},c.defaultProps={isPending:!1},t.default=c},16190:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(72740),o=a(97419),u=a(84037),d=l(a(74311)),c=l(a(38871));class m extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{hasBindDN:!1}),(0,n.default)(this,"toggleBindPasswordDisabled",((e,t)=>{t?this.setState({hasBindDN:!0}):this.setState({hasBindDN:!1})}))}componentDidMount(){const{isEditForm:e,idpEdited:t}=this.props;e&&t.ldap.bind_dn&&""!==t.ldap.bind_dn&&this.setState({hasBindDN:!0})}render(){const{isPending:e}=this.props,{hasBindDN:t}=this.state;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{span:8},r.default.createElement(s.Field,{component:c.default,name:"ldap_url",label:"LDAP URL",type:"text",disabled:e,validate:u.required,isRequired:!0,helpText:"An RFC 2255 URL which specifies the LDAP search parameters to use."})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(s.Field,{component:c.default,name:"bind_dn",label:"Bind DN",type:"text",disabled:e,onChange:this.toggleBindPasswordDisabled,helpText:"DN to bind with during the search phase."})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(s.Field,{component:c.default,name:"bind_password",label:"Bind password",type:"password",helpText:t?"Password to bind with during the search phase.":"Cannot be used if Bind DN is not set",disabled:!t||e,validate:t?u.required:void 0,isRequired:t})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(o.Divider,null),r.default.createElement(o.Title,{headingLevel:"h3",size:"xl",className:"idp-helptext-heading"},"Attributes"),r.default.createElement("p",null,"Attributes map LDAP attributes to identities.")),r.default.createElement(d.default,{fieldName:"ldap_id",label:"ID",type:"text",placeholderText:"e.g. id",disabled:e,isRequired:!0,validateField:u.required,helpText:"The list of attributes whose values should be used as the user ID."}),r.default.createElement(d.default,{fieldName:"ldap_preferred_username",label:"Preferred username",type:"text",placeholderText:"e.g. preferred_username",disabled:e,helpText:"The list of attributes whose values should be used as the preferred username."}),r.default.createElement(d.default,{fieldName:"ldap_name",label:"Name",type:"text",placeholderText:"e.g. name",disabled:e,helpText:"The list of attributes whose values should be used as the display name."}),r.default.createElement(d.default,{fieldName:"ldap_email",label:"Email",type:"text",placeholderText:"e.g. email",disabled:e,helpText:"The list of attributes whose values should be used as the email address."}))}}m.propTypes={isPending:i.default.bool,isEditForm:i.default.bool,idpEdited:i.default.object},m.defaultProps={isPending:!1},t.default=m},64381:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(72740),s=a(97419),o=l(a(38871)),u=l(a(20021));function d(e){let{isPending:t,isEditForm:a,idpEdited:l}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.GridItem,{span:8},n.default.createElement(i.Field,{component:u.default,name:"openid_ca",label:"CA file",helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured URL",isDisabled:t,certValue:a?l.open_id.ca:""})),n.default.createElement(s.GridItem,{span:8},n.default.createElement(i.Field,{component:o.default,name:"openid_extra_scopes",label:"Additional scopes",type:"text",placeholder:"e.g. scope1, scope2",disabled:t})))}d.propTypes={isPending:r.default.bool,isEditForm:r.default.bool,idpEdited:r.default.object},d.defaultProps={isPending:!1},t.default=d},53494:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(72740),o=a(97419),u=a(84037),d=l(a(74311)),c=l(a(38871)),m=a(45255),p=l(a(19436));class f extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{isGroupError:!1}),(0,n.default)(this,"onValueChange",(()=>{this.setState({isGroupError:!0})}))}render(){const{isPending:e}=this.props,{isGroupError:t}=this.state;return r.default.createElement(r.default.Fragment,null,r.default.createElement(p.default,null),r.default.createElement(o.GridItem,{span:8},r.default.createElement(s.Field,{component:c.default,name:"issuer",label:"Issuer URL",type:"text",disabled:e,validate:u.checkOpenIDIssuer,isRequired:!0,helpText:"The URL that the OpenID provider asserts as the issuer identifier. It must use the https scheme with no URL query parameters or fragment."})),r.default.createElement(o.GridItem,{span:8},r.default.createElement("h4",null,"Claims mappings")),r.default.createElement(d.default,{fieldName:"openid_email",label:"Email",type:"text",placeholderText:"e.g. email",disabled:e,helpText:"The list of attributes whose values should be used as the email address.",validate:f.validate,isGroupError:t,onFormChange:this.onValueChange,isRequired:!0}),r.default.createElement(d.default,{fieldName:"openid_name",label:"Name",type:"text",placeholderText:"e.g. name",disabled:e,validate:f.validate,isGroupError:t,onFormChange:this.onValueChange,helpText:"The end user's full name including all name parts, ordered according to the end user's locale and preferences.",isRequired:!0}),r.default.createElement(d.default,{fieldName:"openid_preferred_username",label:"Preferred username",type:"text",placeholderText:"e.g. preferred_username",disabled:e,validate:f.validate,isGroupError:t,onFormChange:this.onValueChange,helpText:"Shorthand name by which the end user wishes to be referred to at the RP, such as janedone or j.doe.",isRequired:!0}))}}(0,n.default)(f,"validate",((e,t)=>{if((0,m.isEmptyReduxArray)(t.openid_preferred_username,"openid_preferred_username")&&(0,m.isEmptyReduxArray)(t.openid_name,"openid_name")&&(0,m.isEmptyReduxArray)(t.openid_email,"openid_email"))return"At least one claim is required"})),f.propTypes={isPending:i.default.bool},f.defaultProps={isPending:!1},t.default=f},13934:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GithubForm",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"GitlabForm",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"GoogleFormRequired",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"HTPasswdForm",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"IDPBasicFields",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"LDAPForm",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"LDAPFormRequired",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"OpenIDForm",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"OpenIDFormRequired",{enumerable:!0,get:function(){return m.default}});var n=l(a(85687)),r=l(a(85999)),i=l(a(26844)),s=l(a(90812)),o=l(a(19436)),u=l(a(81653)),d=l(a(16190)),c=l(a(64381)),m=l(a(53494))},78399:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=l(a(93345)),i=l(a(58156)),s=l(a(5556)),o=a(73729),u=a(95376),d=a(72740),c=a(25514),m=a(93413),p=a(89070),f=a(45255),E=l(a(96661));const g={form:"CreateIdentityProvider",enableReinitialize:!0,onSubmitFail:m.scrollToFirstField},v=(0,d.reduxForm)(g)(E.default),h=e=>{const t=(0,u.useParams)(),a=(0,o.useDispatch)(),l=(0,c.useGlobalState)((e=>e)),{isEditForm:s}=e,m=(0,d.formValueSelector)("CreateIdentityProvider"),E=(0,d.getFormSyncErrors)("CreateIdentityProvider"),g=(0,c.useGlobalState)((e=>e.clusters.details.cluster.id)),h=(0,c.useGlobalState)((e=>e.clusters.details)),b=(0,c.useGlobalState)((e=>e.identityProviders.editClusterIDP)),S=(0,c.useGlobalState)((e=>e.identityProviders.createdClusterIDP)),_=(0,c.useGlobalState)((e=>e.identityProviders.clusterIdentityProviders)),C=s?b:S;let y={},I="",A="";const R=_.clusterIDPList||[],T=f.IDPformValues.GITHUB;s?_.fulfilled&&(y=R.find((e=>e.name===t.idpName))||{},I=(0,i.default)(f.IDPObjectNames,y.type,""),A=y.type):!s&&t.idpTypeName&&(A=(0,i.default)(f.IDPformValues,t.idpTypeName.toUpperCase(),!1));const O=s?(0,f.getInitialValuesForEditing)(y,I):{idpId:null,type:A||T,name:(0,f.generateIDPName)(A||T,R),client_id:"",client_secret:"",mappingMethod:"claim",selectedIDP:A||T,ldap_id:[{ldap_id:"dn",id:"default"}],ldap_preferred_username:[{ldap_preferred_username:"uid",id:"default"}],ldap_name:[{ldap_name:"cn",id:"default"}]},P=m(l,"mappingMethod"),D=(0,i.default)(E(l),"users");return r.default.createElement(v,(0,n.default)({clusterID:g,IDPList:R,HTPasswdErrors:D,clusterIDPs:_,clusterIDPList:R,isEditForm:s,idpEdited:y,editedType:I,selectedIDP:A,initialValues:O,selectedMappingMethod:P,onSubmit:e=>{const t=(0,f.getCreateIDPRequestData)(e);t.id?a((0,p.editClusterIdentityProvider)(g,t)):a((0,p.createClusterIdentityProvider)(g,t))},submitIDPResponse:C,clusterDetails:h},e))};h.propTypes={isEditForm:s.default.bool},t.Ay=h},53383:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchOrganizationInsights=t.fetchClusterInsights=void 0;var n=l(a(58156)),r=a(73410),i=a(20899);const s=e=>r.insightsService.getClusterInsights(e).then((t=>({insightsData:(0,n.default)(t,"data.report",{}),clusterId:e,status:t.status})));t.fetchClusterInsights=e=>t=>t({type:i.GET_CLUSTER_INSIGHTS,payload:s(e),meta:{clusterId:e}}),t.fetchOrganizationInsights=()=>e=>e({type:i.GET_ORGANIZATION_INSIGHTS,payload:r.insightsService.getOrganizationInsights()})},70952:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(43693)),r=a(89407),i=a(95762),s=a(20899);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const d={insightsData:{},groups:{groups:[],rejected:!1,pending:!1,fulfilled:!1},overview:{overview:null,rejected:!1,pending:!1,fulfilled:!1}};function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{var a;switch(t.type){case(0,i.FULFILLED_ACTION)(s.GET_CLUSTER_INSIGHTS):e.insightsData[t.meta.clusterId]=u(u({},t.payload.insightsData),{},{status:t.payload.status});break;case(0,i.REJECTED_ACTION)(s.GET_CLUSTER_INSIGHTS):e.insightsData[t.meta.clusterId]={status:null===(a=t.payload.response)||void 0===a?void 0:a.status};break;case(0,i.FULFILLED_ACTION)(s.GET_ORGANIZATION_INSIGHTS):e.overview.overview=t.payload.data.overview,e.overview.fulfilled=!0,e.overview.pending=!1;break;case(0,i.PENDING_ACTION)(s.GET_ORGANIZATION_INSIGHTS):e.overview.pending=!0;break;case(0,i.REJECTED_ACTION)(s.GET_ORGANIZATION_INSIGHTS):e.overview.rejected=!0,e.overview.pending=!1}}))}c.initialState=d,t.A=c},4858:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.labelBorderColor=t.groupRulesByRisk=t.default=void 0;var n=l(a(43693)),r=l(a(58156));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const o=e=>e.reduce(((e,t)=>{let{total_risk:a}=t;return s(s({},e),{},{[a]:e[a]?e[a]+1:1})}),{1:0,2:0,3:0,4:0});t.groupRulesByRisk=o,t.labelBorderColor={1:"blue",2:"orange",3:"orange",4:"red"},t.default=(e,t)=>{const a=(0,r.default)(e,`insightsData.insightsData[${t}].data`),l=a?a.filter((e=>!e.disabled)):[];return o(l)}},31656:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(89407),s=l(a(58156)),o=l(a(62193)),u=l(a(5556)),d=a(97419),c=a(45646),m=a(36509),p=l(a(29564)),f=a(93413),E=a(88851),g=a(38260),v=a(43445),h=a(68835),b=a(73410),S=l(a(12200)),_=l(a(55816)),C=l(a(43775)),y=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),I=l(a(51594)),A=l(a(92980)),R=l(a(89340)),T=l(a(84692)),O=a(41682),P=a(45492);function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}a(209);const L=(e,t)=>{const a=(0,s.default)(e,"version.id","");return a?r.default.createElement(r.default.Fragment,null,(0,E.versionFormatter)(a)||a," ",t?null:r.default.createElement(P.UpdatePoolButton,{machinePool:e})):"N/A"},N={deletedRowIndex:null,openedRows:[],hideDeleteMachinePoolError:!1,editMachinePoolId:void 0,addMachinePool:!1,showMachinePoolsConfigModal:!1};class w extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",N),(0,n.default)(this,"onCollapse",((e,t,a,l)=>{this.setState((0,i.produce)((e=>{a?e.openedRows.includes(l.machinePool.id)||e.openedRows.push(l.machinePool.id):e.openedRows=e.openedRows.filter((e=>e!==l.machinePool.id))})))}))}componentDidMount(){const{machinePoolsList:e,getMachinePools:t,getOrganizationAndQuota:a,machineTypes:l,getMachineTypes:n,useNodeUpgradePolicies:r}=this.props;e.pending||t(r),l.fulfilled||l.pending||n(),a()}componentDidUpdate(e){const{deleteMachinePoolResponse:t,getClusterAutoscaler:a,clusterAutoscalerResponse:l,getMachinePools:n,machinePoolsList:r,getOrganizationAndQuota:s,cluster:o,useNodeUpgradePolicies:u}=this.props,{deletedRowIndex:d}=this.state;t.fulfilled&&e.deleteMachinePoolResponse.pending&&!r.pending&&(s(),n(u)),(e.machinePoolsList.pending&&r.fulfilled||t.error)&&null!==d&&this.setState((0,i.produce)((e=>{e.deletedRowIndex=null}))),(0,y.isHypershiftCluster)(o)||!l.hasAutoscaler||l.getAutoscaler.data||l.getAutoscaler.pending||a()}componentWillUnmount(){const{clearGetMachinePoolsResponse:e,clearDeleteMachinePoolResponse:t}=this.props;e(),t()}render(){var e;const{cluster:t,machinePoolsList:a,openModal:l,isDeleteMachinePoolModalOpen:n,deleteMachinePool:s,deleteMachinePoolResponse:u,hasMachinePoolsQuota:E,clusterAutoscalerResponse:D,canMachinePoolBeUpdated:N,machineTypes:w,getMachinePools:M,isClusterAutoscalingModalOpen:k,useNodeUpgradePolicies:F,hasMachineConfiguration:x,canBypassPIDsLimit:G}=this.props,{deletedRowIndex:U,openedRows:j,hideDeleteMachinePoolError:H,addMachinePool:V,editMachinePoolId:q,showMachinePoolsConfigModal:z}=this.state,B=(null==t?void 0:t.machinePoolsActions)||{},W=!!a.data.length,$=(0,g.isMultiAZ)(t),Y=(0,O.hasDefaultOrExplicitAutoscalingMachinePool)(t,null==a?void 0:a.data),K=(0,y.isHypershiftCluster)(t),Q=(null==t?void 0:t.kubeletConfigActions)||{},Z=(0,y.isROSA)(t),X=(0,y.isOSD)(t),J=(0,y.isCCS)(t),ee=(0,y.isAWS)(t),te=x&&(Z&&!K||X&&J&&ee),ae=Q.create&&Q.update,le=((null==t?void 0:t.state)!==y.default.READY||!ae)&&(ae?"Machine configuration is only available when the cluster is ready.":"You do not have permission to edit the machine configuration. Only cluster owners and cluster editors can edit machine configuration.");if(W&&a.error)return r.default.createElement(d.EmptyState,null,r.default.createElement(_.default,{message:"Error retrieving machine pools",response:a}));const ne=[{title:"Machine pool",cellFormatters:[c.expandable]},{title:"Instance type"},{title:"Availability zones",transforms:[(0,c.cellWidth)(15)]}];ne.push({title:"Node count"}),ne.push({title:"Autoscaling",transforms:[(0,c.cellWidth)(15)]}),K&&ne.push({title:"Version",transforms:[(0,c.cellWidth)(15)]});const re="read_only"===(null==t||null===(e=t.status)||void 0===e?void 0:e.configuration_mode)&&"This operation is not available during maintenance",ie=!E&&f.noQuotaTooltip,se=(0,y.isHibernating)(t)&&"This operation is not available while cluster is hibernating",oe=!B.update&&"You do not have permission to add or edit machine pools. Only cluster owners, cluster editors, machine pool editors and Organization Administrators can edit machine pools.",ue=null!=t&&t.canEditClusterAutoscaler?D.hasAutoscaler&&!D.getAutoscaler.data&&"The cluster autoscaler is loading.":"You do not have permission to edit the cluster autoscaler.",de=!!(re||se||oe),ce=[];a.data.forEach((e=>{const a=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(0,o.default)(t.labels)||(null===(e=t.taints)||void 0===e?void 0:e.length)>0||t.autoscaling||t.aws||(0,O.hasSubnets)(t)}(e),l=function(e){var t,a,l;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={cells:[n.id,{title:r.default.createElement(r.default.Fragment,null,K?null===(t=n.aws_node_pool)||void 0===t?void 0:t.instance_type:n.instance_type,(null===(a=n.aws)||void 0===a?void 0:a.spot_market_options)&&r.default.createElement(d.Label,{variant:"outline",className:"ocm-c-machine-pools__spot-label"},"Spot"))},(null===(l=n.availability_zones)||void 0===l?void 0:l.join(", "))||n.availability_zone,{title:r.default.createElement(T.default,{isMultiZoneCluster:$,machinePool:n})},{title:n.autoscaling?"Enabled":"Disabled"},K?{title:L(n,de)}:null].filter((e=>null!==e)),key:n.id,machinePool:n};return e&&(i.isOpen=j.includes(n.id)),i}(a,e);if(ce.push(l),a){const a=((e,a)=>({parent:a,fullWidth:!0,cells:[{title:r.default.createElement(R.default,{cluster:t,isMultiZoneCluster:$,machinePool:e})}],key:`${e.id}-child`}))(e,ce.length-1);ce.push(a)}}));const me=(e,t)=>{this.setState((0,i.produce)((a=>{u.error&&(a.hideDeleteMachinePoolError=!1),a.deletedRowIndex=e,a.openedRows=a.openedRows.filter((e=>e!==t.machinePool.id))}))),s(t.machinePool.id)},pe=(e,t,a)=>{l(C.default.DELETE_MACHINE_POOL,{machinePool:a.machinePool,performDeleteAction:()=>me(t,a)})},fe=(e,t,a)=>this.setState((0,i.produce)((e=>{e.editMachinePoolId=a.machinePool.id}))),Ee=(e,t,a)=>l(C.default.UPDATE_MACHINE_POOL_VERSION,{machinePool:a.machinePool}),ge=!W&&a.pending,ve={cells:[{props:{colSpan:4},title:r.default.createElement(p.default,{size:"lg"})}]};var he;return W&&a.pending&&null===U&&ce.push(ve),W&&null!==U&&(null!==(he=ce[U+1])&&void 0!==he&&he.parent&&ce.splice(U+1,1),ce[U]=ve),r.default.createElement(r.default.Fragment,null,ge?r.default.createElement(d.Card,null,r.default.createElement(d.CardTitle,null,r.default.createElement(p.default,{size:"lg"})),r.default.createElement(d.CardBody,null,r.default.createElement(p.default,{size:"lg"})),r.default.createElement(d.CardFooter,null,r.default.createElement(p.default,{size:"lg"}))):r.default.createElement(r.default.Fragment,null,!de&&r.default.createElement(P.UpdateAllMachinePools,null),r.default.createElement(d.Card,{className:"ocm-c-machine-pools__card"},r.default.createElement(d.CardBody,{className:"ocm-c-machine-pools__card--body"},a.error&&r.default.createElement(_.default,{message:"Error retrieving machine pools",response:a}),r.default.createElement(d.Toolbar,null,r.default.createElement(d.ToolbarContent,null,r.default.createElement(d.ToolbarItem,null,r.default.createElement(S.default,{disableReason:re||se||oe||ie,id:"add-machine-pool",onClick:()=>this.setState((0,i.produce)((e=>{e.addMachinePool=!0}))),variant:d.ButtonVariant.secondary},"Add machine pool")),!K&&r.default.createElement(d.ToolbarItem,null,r.default.createElement(S.default,{id:"edit-existing-cluster-autoscaling",disableReason:re||se||ue,onClick:()=>l(C.default.EDIT_CLUSTER_AUTOSCALING_V1),variant:d.ButtonVariant.secondary},"Edit cluster autoscaling")),te&&r.default.createElement(d.ToolbarItem,null,r.default.createElement(S.default,{disableReason:le,onClick:()=>this.setState((0,i.produce)((e=>{e.showMachinePoolsConfigModal=!0}))),variant:d.ButtonVariant.secondary},"Edit machine configuration")))),r.default.createElement(d.Divider,null),u.error&&!H&&r.default.createElement(_.default,{message:"Error deleting machine pool",response:u,showCloseBtn:!0,onCloseAlert:()=>this.setState((0,i.produce)((e=>{e.hideDeleteMachinePoolError=!0})))}),B.list&&r.default.createElement(m.Table,{"aria-label":"Machine pools",cells:ne,rows:ce,onCollapse:this.onCollapse,actionResolver:e=>(0,O.actionResolver)({rowData:e,onClickDelete:pe,onClickUpdate:N(e.machinePool)?Ee:void 0,canDelete:B.delete,cluster:t,machinePools:a.data,machineTypes:w,onClickEdit:fe}),areActionsDisabled:()=>de},r.default.createElement(m.TableHeader,{"data-testid":"header-machinepool"}),r.default.createElement(m.TableBody,null))))),n&&r.default.createElement(I.default,null),(!!q||V)&&r.default.createElement(A.default,{cluster:t,onSave:()=>{a.pending||M(F)},onClose:()=>this.setState((0,i.produce)((e=>{e.editMachinePoolId=void 0,e.addMachinePool=!1}))),isHypershift:K,machinePoolId:q,machinePoolsResponse:a,machineTypesResponse:w}),r.default.createElement(P.UpdateMachinePoolModal,null),k&&r.default.createElement(v.EditClusterAutoScalerForDay2,{isWizard:!1,isRosa:Z,clusterId:t.id,hasAutoscalingMachinePools:Y,clusterAutoscalerResponse:D}),z&&r.default.createElement(h.MachineConfiguration,{clusterID:t.id,getMachineConfiguration:b.clusterService.getKubeletConfiguration,createMachineConfiguration:b.clusterService.postKubeletConfiguration,updateMachineConfiguration:b.clusterService.patchKubeletConfiguration,onClose:()=>this.setState((0,i.produce)((e=>{e.showMachinePoolsConfigModal=!1}))),canBypassPIDsLimit:G}))}}w.propTypes={cluster:u.default.object.isRequired,clusterAutoscalerResponse:u.default.shape({editAction:u.default.object.isRequired,getAutoscaler:u.default.object.isRequired,hasAutoscaler:u.default.bool}).isRequired,openModal:u.default.func.isRequired,hasMachinePoolsQuota:u.default.bool.isRequired,isDeleteMachinePoolModalOpen:u.default.bool.isRequired,isClusterAutoscalingModalOpen:u.default.bool.isRequired,deleteMachinePoolResponse:u.default.object.isRequired,machinePoolsList:u.default.object.isRequired,getMachinePools:u.default.func.isRequired,deleteMachinePool:u.default.func.isRequired,getClusterAutoscaler:u.default.func.isRequired,clearGetMachinePoolsResponse:u.default.func.isRequired,clearDeleteMachinePoolResponse:u.default.func.isRequired,getOrganizationAndQuota:u.default.func.isRequired,getMachineTypes:u.default.func.isRequired,machineTypes:u.default.object.isRequired,canMachinePoolBeUpdated:u.default.func,useNodeUpgradePolicies:u.default.bool,hasMachineConfiguration:u.default.bool,canBypassPIDsLimit:u.default.bool},t.default=w},80697:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.getMachineOrNodePools=t.deleteMachinePool=t.clearGetMachinePoolsResponse=t.clearDeleteMachinePoolResponse=void 0;var n=l(a(43693)),r=l(a(99589)),i=a(73410),s=a(3290),o=a(66059);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c=async(e,t)=>{const a=await i.clusterService.getNodePools(e),l=a.data.items.map((async a=>{if(!(t&&a.version&&r.default.gt(r.default.coerce(t),r.default.coerce(a.version.id))&&(0,s.isControlPlaneValidForMachinePool)(a,t)))return a;try{const t=await i.clusterService.getNodePoolUpgradePolicies(e,a.id);return d(d({},a),{},{upgradePolicies:t.data})}catch(e){var l;return d(d({},a),{},{upgradePolicies:{errorMessage:(null===(l=e.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.reason)||e.message||"There was an error fetching upgrade policies for this machine pool.",items:[]}})}})),n=(await Promise.allSettled(l)).map((e=>e.value));return d(d({},a),{},{data:d(d({},a.data),{},{items:n})})};t.getMachineOrNodePools=(e,t,a)=>l=>l({type:o.GET_MACHINE_POOLS,payload:t?c(e,a):i.clusterService.getMachinePools(e)}),t.deleteMachinePool=(e,t,a)=>l=>l({type:o.DELETE_MACHINE_POOL,payload:a?i.clusterService.deleteNodePool(e,t):i.clusterService.deleteMachinePool(e,t)}),t.clearGetMachinePoolsResponse=()=>e=>e({type:o.CLEAR_GET_MACHINE_POOLS_RESPONSE}),t.clearDeleteMachinePoolResponse=()=>e=>e({type:o.CLEAR_DELETE_MACHINE_POOL_RESPONSE})},70606:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(58156)),i=a(73729),s=a(23271),o=l(a(43775)),u=a(11243),d=a(976),c=a(85825),m=a(11912),p=a(2479),f=a(91089),E=l(a(14419)),g=a(3290),v=l(a(31656)),h=a(80697),b=a(41682),S=a(72646);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=(0,i.connect)((e=>{var t;const a=(0,r.default)(e,"clusters.details.cluster",{}),l=(0,S.hasOrgLevelBypassPIDsLimitCapability)(null===(t=e.userProfile.organization)||void 0===t?void 0:t.details),n={isDeleteMachinePoolModalOpen:(0,E.default)(e,o.default.DELETE_MACHINE_POOL),isClusterAutoscalingModalOpen:(0,E.default)(e,o.default.EDIT_CLUSTER_AUTOSCALING_V1),machinePoolsList:e.machinePools.getMachinePools,deleteMachinePoolResponse:e.machinePools.deleteMachinePoolResponse,hasMachinePoolsQuota:(0,S.hasMachinePoolsQuotaSelector)(e.userProfile.organization,e.clusters.details.cluster,e.machineTypes.types),machineTypes:e.machineTypes,organization:e.userProfile.organization,canMachinePoolBeUpdated:t=>(0,g.canMachinePoolBeUpgradedSelector)(e,t),hasMachineConfiguration:(0,u.featureGateSelector)(e,d.ENABLE_MACHINE_CONFIGURATION),canBypassPIDsLimit:l},i=(0,s.isHypershiftCluster)(a)?C(C({},n.machinePoolsList),{},{data:n.machinePoolsList.data.map(b.normalizeNodePool)}):n.machinePoolsList;return C(C({},n),{},{clusterAutoscalerResponse:e.clusterAutoscaler,machinePoolsList:i})}),((e,t)=>{const a=(0,s.isHypershiftCluster)(t.cluster);return{openModal:(t,a)=>e((0,f.openModal)(t,a)),closeModal:()=>e((0,f.closeModal)()),getMachinePools:l=>{e((0,h.getMachineOrNodePools)(t.cluster.id,a,t.cluster.version.id,l)),e(c.clusterAutoscalerActions.setHasInitialClusterAutoscaler(!!t.cluster.autoscaler))},clearGetMachinePoolsResponse:()=>e((0,h.clearGetMachinePoolsResponse)(t.clusterID)),clearDeleteMachinePoolResponse:()=>e((0,h.clearDeleteMachinePoolResponse)(t.clusterID)),deleteMachinePool:l=>e((0,h.deleteMachinePool)(t.cluster.id,l,a)),getOrganizationAndQuota:()=>e((0,p.getOrganizationAndQuota)()),getMachineTypes:()=>e((0,m.getMachineTypes)()),getClusterAutoscaler:()=>e(c.clusterAutoscalerActions.getClusterAutoscaler(t.cluster.id))}}))(v.default)},5596:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(93413),o=l(a(58717)),u=l(a(97979)),d=l(a(94145)),c=a(68206);a(11693);class m extends n.default.Component{componentWillUnmount(){const{clearMonitoringState:e}=this.props;e()}render(){const{cluster:e,alerts:t,nodes:a,operators:l,lastCheckIn:r,resourceUsage:s,healthStatus:m,discoveredIssues:p}=this.props;return m===c.monitoringStatuses.DISCONNECTED?n.default.createElement(n.default.Fragment,null,n.default.createElement(o.default,{lastCheckIn:r,status:m,discoveredIssues:p}),n.default.createElement(u.default,{lastCheckIn:r})):m===c.monitoringStatuses.NO_METRICS?n.default.createElement(u.default,{lastCheckIn:r},n.default.createElement("p",null,"Monitoring data is not available if a cluster goes more than three hours without sending metrics.",n.default.createElement("br",null),"Check the cluster's web console if you think that this cluster should be sending metrics.")):m===c.monitoringStatuses.UNKNOWN?n.default.createElement(u.default,{hideLastCheckIn:!0},n.default.createElement("p",null,"Monitoring data is not available - cluster did not send any metrics.",n.default.createElement("br",null),"Check the cluster's web console if you think that this cluster should be sending metrics.")):n.default.createElement(n.default.Fragment,null,n.default.createElement(o.default,{lastCheckIn:r,status:m,discoveredIssues:p}),n.default.createElement(i.Card,{className:"ocm-c-monitoring-status__card"},n.default.createElement(i.CardTitle,{className:"ocm-c-monitoring-status__card--header"},n.default.createElement(i.Title,{headingLevel:"h2",className:"card-title"},"Status")),n.default.createElement(i.CardBody,{className:"ocm-c-monitoring-status__card--body"},n.default.createElement(d.default,{cluster:e,alerts:t,nodes:a,operators:l,resourceUsage:s}))))}}m.propTypes={cluster:r.default.object,clearMonitoringState:r.default.func,alerts:r.default.object,nodes:r.default.object,operators:r.default.object,resourceUsage:r.default.object,lastCheckIn:r.default.instanceOf(Date).isRequired,healthStatus:r.default.string,discoveredIssues:r.default.number},m.defaultProps={cluster:{},alerts:{},nodes:{},operators:{},clearMonitoringState:s.noop,discoveredIssues:null},t.default=m},66213:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.getOnDemandMetrics=t.clearMonitoringState=void 0;var n=a(73410),r=l(a(77975));t.getOnDemandMetrics=e=>t=>t({type:r.default.GET_ONDEMAND_METRICS,payload:n.accountsService.getOnDemandMetrics(e)}),t.clearMonitoringState=()=>e=>e({type:r.default.CLEAR_MONITORING_STATE})},77975:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={GET_ONDEMAND_METRICS:"GET_ONDEMAND_METRICS",CLEAR_MONITORING_STATE:"CLEAR_MONITORING_STATE"}},42586:(e,t,a)=>{"use strict";var l=a(24994);t.Fo=m;var n=l(a(43693)),r=a(89407),i=a(89217),s=a(95762),o=l(a(77975));function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={alerts:d(d({},s.baseRequestState),{},{data:[]}),nodes:d(d({},s.baseRequestState),{},{data:[]}),operators:d(d({},s.baseRequestState),{},{data:[]})};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,s.REJECTED_ACTION)(o.default.GET_ONDEMAND_METRICS):e.alerts=d(d({},c.alerts),(0,i.getErrorState)(t)),e.nodes=d(d({},c.nodes),(0,i.getErrorState)(t)),e.operators=d(d({},c.operators),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.default.GET_ONDEMAND_METRICS):e.alerts.pending=!0,e.operators.pending=!0,e.nodes.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.default.GET_ONDEMAND_METRICS):e.alerts=d(d({},c.alerts),{},{fulfilled:!0,data:t.payload.data.alerts}),e.nodes=d(d({},c.nodes),{},{fulfilled:!0,data:t.payload.data.nodes}),e.operators=d(d({},c.operators),{},{fulfilled:!0,data:t.payload.data.cluster_operators});break;case o.default.CLEAR_MONITORING_STATE:return c}}))}m.initialState=c},91756:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.lastCheckInSelector=t.issuesAndWarningsSelector=t.clusterHealthSelector=void 0;var n=l(a(58156)),r=a(23271),i=a(59067),s=l(a(7028)),o=a(68206);t.lastCheckInSelector=e=>{const t=(0,n.default)(e,"clusters.details.cluster.activity_timestamp","0001-01-01");return new Date(t)},t.clusterHealthSelector=(e,t,a)=>{const l=(0,n.default)(e,"clusters.details.cluster",null);if(!l)return o.monitoringStatuses.NO_METRICS;const u=((new Date).getTime()-t.getTime())/1e3/60/60,d=!!s.default.configData.showOldMetrics||u<o.maxMetricsTimeDelta;return t.getUTCFullYear()<=1?o.monitoringStatuses.UNKNOWN:(0,n.default)(l,"subscription.status",!1)===i.SubscriptionCommonFields.status.DISCONNECTED?o.monitoringStatuses.DISCONNECTED:d?(0,r.isClusterUpgrading)(l)?o.monitoringStatuses.UPGRADING:a>0?o.monitoringStatuses.HAS_ISSUES:o.monitoringStatuses.HEALTHY:o.monitoringStatuses.NO_METRICS},t.issuesAndWarningsSelector=e=>{const{alerts:t,nodes:a,operators:l}=e.monitoring,r=(0,n.default)(e,"clusters.details.cluster.metrics.cpu",null),i=(0,n.default)(e,"clusters.details.cluster.metrics.memory",null),s=(0,o.getIssuesAndWarnings)({data:t.data,criteria:"severity",issuesMatch:o.alertsSeverity.CRITICAL,warningsMatch:o.alertsSeverity.WARNING}),u=(0,o.getIssuesAndWarnings)({data:a.data,criteria:"up",issuesMatch:!1}),d=(0,o.getIssuesAndWarnings)({data:l.data,criteria:"condition",issuesMatch:o.operatorsStatuses.FAILING,warningsMatch:o.operatorsStatuses.DEGRADED}),c={issuesCount:(0,o.resourceUsageIssuesHelper)(r,i,o.thresholds.DANGER),warningsCount:(0,o.resourceUsageIssuesHelper)(r,i,o.thresholds.WARNING)};return{issues:{alerts:s.issuesCount,nodes:u.issuesCount,operators:d.issuesCount,resourceUsage:c.issuesCount,totalCount:s.issuesCount+u.issuesCount+d.issuesCount+c.issuesCount},warnings:{alerts:s.warningsCount,operators:d.warningsCount,resourceUsage:c.warningsCount}}}},73891:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(19202),o=a(31003),u=a(99851),d=a(29962),c=a(45646),m=a(68206);function p(e){let{alerts:t=[],clusterConsole:a}=e;const l=n.default.createElement(n.default.Fragment,null,n.default.createElement(o.ExclamationCircleIcon,{className:"status-icon danger"}),n.default.createElement("span",null,"Critical")),r=n.default.createElement(n.default.Fragment,null,n.default.createElement(u.ExclamationTriangleIcon,{className:"status-icon warning"}),n.default.createElement("span",null,"Warning")),p=n.default.createElement(n.default.Fragment,null,n.default.createElement(d.InfoCircleIcon,{className:"status-icon info"}),n.default.createElement("span",null,"Info")),f=e=>"Watchdog"===e||"DeadMansSwitch"===e;if(t.every((e=>f(e.name))))return n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateHeader,{titleText:"No alerts firing",icon:n.default.createElement(i.EmptyStateIcon,{icon:s.CheckCircleIcon}),headingLevel:"h5"}));const E=t.map((e=>{if(f(e.name))return null;let t=null;e.severity===m.alertsSeverity.WARNING&&(t=r),e.severity===m.alertsSeverity.CRITICAL&&(t=l),e.severity===m.alertsSeverity.INFO&&(t=p);const i=(0,m.monitoringItemLinkProps)(a,m.monitoringItemTypes.ALERT,e.name);return{alertName:null!==i?n.default.createElement("a",i,e.name):e.name,severityIcon:t,alertKey:e.name}})).filter(Boolean);return n.default.createElement(c.Table,{"aria-label":"alerts",variant:c.TableVariant.compact,borders:!1},n.default.createElement(c.Thead,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Th,null,"Name"),n.default.createElement(c.Th,null,"Severity"))),n.default.createElement(c.Tbody,null,E.map((e=>n.default.createElement(c.Tr,{key:e.alertKey},n.default.createElement(c.Td,null,e.alertName),n.default.createElement(c.Td,null,e.severityIcon))))))}p.propTypes={alerts:r.default.arrayOf(r.default.shape({name:r.default.string.isRequired,severity:r.default.string})),clusterConsole:r.default.shape({url:r.default.string})},t.default=p},58717:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(19202),o=a(19598),u=a(31003),d=a(99851),c=a(21888),m=a(48266),p=a(68720),f=a(68206);function E(e){let t,a,{status:l=f.monitoringStatuses.NO_METRICS,discoveredIssues:r=null,lastCheckIn:E}=e;switch(l){case f.monitoringStatuses.DISCONNECTED:t=n.default.createElement(o.DisconnectedIcon,null),a=n.default.createElement(i.Title,{headingLevel:"h2"},"Disconnected cluster");break;case f.monitoringStatuses.UPGRADING:t=n.default.createElement(c.InProgressIcon,null),a=n.default.createElement(i.Title,{headingLevel:"h2"},"Cluster is updating");break;case f.monitoringStatuses.NO_METRICS:t=n.default.createElement(d.ExclamationTriangleIcon,{className:"warning"}),a=n.default.createElement(i.Title,{headingLevel:"h2"},"Cluster has no metrics");break;case f.monitoringStatuses.HEALTHY:t=n.default.createElement(s.CheckCircleIcon,{className:"success"}),a=n.default.createElement(i.Title,{headingLevel:"h2"},"No issues detected");break;case f.monitoringStatuses.HAS_ISSUES:t=n.default.createElement(u.ExclamationCircleIcon,{className:"status-icon danger"}),a=n.default.createElement(i.Title,{headingLevel:"h2"},r," ",1===r?"issue":"issues"," detected");break;default:t=n.default.createElement(m.UnknownIcon,null),a=n.default.createElement(i.Title,{headingLevel:"h2"},"Cluster health is unknown")}return n.default.createElement(i.Card,{className:"ocm-c-monitoring-health__card"},n.default.createElement(i.CardTitle,{className:"ocm-c-monitoring-health__card--header"},n.default.createElement(i.Split,null,n.default.createElement(i.SplitItem,null,t),n.default.createElement(i.SplitItem,{isFilled:!0},a),n.default.createElement(i.SplitItem,{className:"last-checkin"},l===f.monitoringStatuses.UNKNOWN&&n.default.createElement(u.ExclamationCircleIcon,{className:"danger",size:"md"}),void 0!==E&&n.default.createElement(n.default.Fragment,null,"Last check-in: ",n.default.createElement(p.DateFormat,{date:E,type:"relative"}))))))}E.propTypes={status:r.default.string,discoveredIssues:r.default.number,lastCheckIn:r.default.instanceOf(Date)},t.default=E},72978:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(19202),s=a(31003),o=a(99851),u=a(21888),d=a(48266),c=a(45646),m=a(68206);function p(e){let{operators:t=[],clusterConsole:a}=e;const l=t.map((e=>{const t=(0,m.monitoringItemLinkProps)(a,m.monitoringItemTypes.OPERATOR,e.name);return{operatorName:null!==t?n.default.createElement("a",t,e.name):e.name,operatorCondition:(e=>{let t,a;switch(e){case m.operatorsStatuses.AVAILABLE:t=n.default.createElement(i.CheckCircleIcon,{className:"status-icon success"}),a="Available";break;case m.operatorsStatuses.FAILING:t=n.default.createElement(s.ExclamationCircleIcon,{className:"status-icon danger"}),a="Failing";break;case m.operatorsStatuses.UPGRADING:t=n.default.createElement(u.InProgressIcon,{className:"status-icon"}),a="Updating";break;case m.operatorsStatuses.DEGRADED:t=n.default.createElement(o.ExclamationTriangleIcon,{className:"status-icon warning"}),a="Degraded";break;default:t=n.default.createElement(d.UnknownIcon,{className:"status-icon"}),a="Unknown"}return n.default.createElement(n.default.Fragment,null,t,n.default.createElement("span",null,a)," ")})(e.condition),operatorVersion:e.version,operatorKey:e.name}}));return n.default.createElement(c.Table,{variant:c.TableVariant.compact,borders:!1,"aria-label":"operators"},n.default.createElement(c.Thead,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Th,null,"Name"),n.default.createElement(c.Th,null,"Status"),n.default.createElement(c.Th,null,"Version"))),n.default.createElement(c.Tbody,null,l.map((e=>n.default.createElement(c.Tr,{key:e.operatorKey},n.default.createElement(c.Td,null,e.operatorName),n.default.createElement(c.Td,null,e.operatorCondition),n.default.createElement(c.Td,null,e.operatorVersion))))))}p.propTypes={operators:r.default.array,clusterConsole:r.default.object},t.default=p},97979:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(99851),o=a(68720);function u(e){let{children:t=null,hideLastCheckIn:a=!1,lastCheckIn:l=null,hideIcon:r=!1,title:u="Monitoring data is not available"}=e;return n.default.createElement(i.EmptyState,null,!r&&n.default.createElement(i.EmptyStateIcon,{icon:s.ExclamationTriangleIcon}),n.default.createElement(i.EmptyStateHeader,{titleText:u,headingLevel:"h5"}),n.default.createElement(i.EmptyStateBody,null,t,!a&&n.default.createElement("p",null,"Last Check-in: ",n.default.createElement(o.DateFormat,{date:l,type:"relative"}))))}u.propTypes={children:r.default.node,hideLastCheckIn:r.default.bool,lastCheckIn:r.default.instanceOf(Date),hideIcon:r.default.bool,title:r.default.string},t.default=u},94145:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(58156)),s=l(a(5556)),o=a(97419),u=a(59067),d=a(59910),c=l(a(36447)),m=a(68206),p=l(a(73891)),f=l(a(72978)),E=l(a(97979)),g=l(a(73224)),v=l(a(31598));class h extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{expanded:[]}),(0,n.default)(this,"toggle",(e=>{const{expanded:t}=this.state,a=t.indexOf(e),l=a>=0?[...t.slice(0,a),...t.slice(a+1,t.length)]:[...t,e];this.setState((()=>({expanded:l})))}))}render(){const{cluster:e,alerts:t,nodes:a,operators:l,resourceUsage:n}=this.props,{expanded:s}=this.state,h=(0,m.hasResourceUsageMetrics)(e),b=(0,i.default)(e,"subscription.status",!1)===u.SubscriptionCommonFields.status.ARCHIVED?d.metricsStatusMessages.archived:d.metricsStatusMessages[e.state]||d.metricsStatusMessages.default,S=r.default.createElement(E.default,{hideLastCheckIn:!0,hideIcon:!0,title:"No data available for this metric"},r.default.createElement("p",null,"Please check back later"));return r.default.createElement(o.DataList,{"aria-label":"monitoring-table"},r.default.createElement(g.default,{title:"Alerts firing",numOfIssues:t.numOfIssues,numOfWarnings:t.numOfWarnings,toggle:this.toggle,expanded:s,hasData:t.hasData},t.hasData?r.default.createElement(p.default,{alerts:t.data,clusterConsole:e.console}):S),a.hasData&&r.default.createElement(g.default,{title:"Nodes",numOfIssues:a.numOfIssues,toggle:this.toggle,expanded:s,hasData:a.hasData},r.default.createElement(v.default,{nodes:a.data,clusterConsole:e.console})),r.default.createElement(g.default,{title:"Cluster operators",numOfIssues:l.numOfIssues,numOfWarnings:l.numOfWarnings,toggle:this.toggle,expanded:s,hasData:l.hasData},l.hasData?r.default.createElement(f.default,{operators:l.data,clusterConsole:e.console}):S),r.default.createElement(g.default,{title:"Resource usage",numOfIssues:n.numOfIssues,numOfWarnings:n.numOfWarnings,toggle:this.toggle,expanded:s,hasData:n.hasData},n.hasData?r.default.createElement("div",{className:"metrics-chart"},r.default.createElement(c.default,{cpu:{used:e.metrics.cpu.used,total:e.metrics.cpu.total},memory:{used:e.metrics.memory.used,total:e.metrics.memory.total},metricsAvailable:h,metricsStatusMessage:b,type:"threshold"})):S))}}h.propTypes={cluster:s.default.object,alerts:s.default.object,nodes:s.default.object,resourceUsage:s.default.object,operators:s.default.object},h.defaultProps={cluster:{},alerts:{},nodes:{},resourceUsage:{},operators:{}},t.default=h},73224:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(19202),o=a(31003),u=a(99851);function d(e){let{title:t="",numOfIssues:a=null,numOfWarnings:l=null,toggle:r,expanded:d,hasData:c,children:m}=e;const p=t.replace(/\s+/g,"-").toLowerCase();return n.default.createElement(i.DataListItem,{"aria-labelledby":p,isExpanded:d.includes(p)},n.default.createElement(i.DataListItemRow,null,n.default.createElement(i.DataListToggle,{onClick:()=>r(p),isExpanded:d.includes(p),id:`${p}-toggle`,"aria-controls":`${p}-toggle-expand`}),n.default.createElement(i.DataListItemCells,{dataListCells:[n.default.createElement(i.DataListCell,{key:`title-${p}`},n.default.createElement(i.Title,{headingLevel:"h4",className:"item-title"},t)),n.default.createElement(i.DataListCell,{key:`summary-${p}`,className:"item-summary"},c?a>0?n.default.createElement(n.default.Fragment,null,n.default.createElement(o.ExclamationCircleIcon,{className:"status-icon danger"}),n.default.createElement("span",null,a," discovered ",1===a?"issue":"issues")):l>0?n.default.createElement(n.default.Fragment,null,n.default.createElement(u.ExclamationTriangleIcon,{className:"status-icon warning"}),n.default.createElement("span",null,l," ",1===l?"warning":"warnings")):n.default.createElement(n.default.Fragment,null,n.default.createElement(s.CheckCircleIcon,{className:"status-icon success"}),n.default.createElement("span",null,a," discovered issues")):n.default.createElement(n.default.Fragment,null,n.default.createElement(u.ExclamationTriangleIcon,{className:"status-icon warning"}),n.default.createElement("span",null,"Metrics not available")))]})),n.default.createElement(i.DataListContent,{"aria-label":"Primary Content Details",id:`${p}-expand`,isHidden:!d.includes(p)},m))}d.propTypes={title:r.default.string,numOfIssues:r.default.number,numOfWarnings:r.default.number,expanded:r.default.array,toggle:r.default.func,children:r.default.node,hasData:r.default.bool},d.defaultProps={expanded:[]},t.default=d},31598:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(19202),s=a(31003),o=a(45646),u=a(68206);function d(e){let{nodes:t=[],clusterConsole:a}=e;const l=t.map((e=>{const t=(0,u.monitoringItemLinkProps)(a,u.monitoringItemTypes.NODE,e.hostname),l=null!==t?n.default.createElement("a",t,e.hostname):e.hostname,r=e.hostname;return{nodeName:l,nodeUpStatus:e.up?n.default.createElement(n.default.Fragment,null,n.default.createElement(i.CheckCircleIcon,{className:"status-icon success"}),n.default.createElement("span",null,"Ready")):n.default.createElement(n.default.Fragment,null,n.default.createElement(s.ExclamationCircleIcon,{className:"status-icon danger"}),n.default.createElement("span",null,"Not Ready")," "),nodeIpAddress:`Internal IP: ${e.internal_ip}`,nodeKey:r}}));return n.default.createElement(o.Table,{variant:o.TableVariant.compact,borders:!1,"aria-label":"nodes"},n.default.createElement(o.Thead,null,n.default.createElement(o.Tr,null,n.default.createElement(o.Th,null,"Name"),n.default.createElement(o.Th,null,"Status"),n.default.createElement(o.Th,null,"Node address"))),n.default.createElement(o.Tbody,null,l.map((e=>n.default.createElement(o.Tr,{key:e.nodeKey},n.default.createElement(o.Td,null,e.nodeName),n.default.createElement(o.Td,null,e.nodeUpStatus),n.default.createElement(o.Td,null,e.nodeIpAddress))))))}d.propTypes={nodes:r.default.array,clusterConsole:r.default.object},t.default=d},96192:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=a(73729),i=l(a(5596)),s=a(66213),o=a(68206),u=a(91756);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const m={clearMonitoringState:s.clearMonitoringState};t.default=(0,r.connect)((e=>{const{cluster:t}=e.clusters.details,{alerts:a,nodes:l,operators:n}=e.monitoring,r=(0,u.issuesAndWarningsSelector)(e),{issues:i,warnings:s}=r,d=r.issues.totalCount,m=(0,u.lastCheckInSelector)(e),p=(0,u.clusterHealthSelector)(e,m,d);return{alerts:c(c({},a),{},{numOfIssues:i.alerts,numOfWarnings:s.alerts,hasData:(0,o.hasData)(a)}),nodes:c(c({},l),{},{numOfIssues:i.nodes,hasData:(0,o.hasData)(l)}),operators:c(c({},n),{},{numOfIssues:i.operators,numOfWarnings:s.operators,hasData:(0,o.hasData)(n)}),resourceUsage:{numOfIssues:i.resourceUsage,numOfWarnings:s.resourceUsage,hasData:(0,o.hasResourceUsageMetrics)(t)},discoveredIssues:i.totalCount,lastCheckIn:m,healthStatus:p}}),m)(i.default)},57772:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(67080),o=l(a(67842)),u=l(a(74817)),d=l(a(34497)),c=l(a(70575)),m=l(a(65259));a(2813);class p extends n.default.Component{componentWillUnmount(){const{resetRouters:e}=this.props;e()}render(){const{network:e,refreshCluster:t,gotRouters:a,provider:l}=this.props;return a?n.default.createElement(i.Grid,{hasGutter:!0},n.default.createElement(i.GridItem,{lg:9,md:12,className:"networking-grid-item"},n.default.createElement(u.default,{refreshCluster:t,provider:l})),n.default.createElement(i.GridItem,{lg:3,md:12,className:"networking-grid-item"},n.default.createElement(d.default,{network:e})),n.default.createElement(i.GridItem,{lg:9,md:12,className:"networking-grid-item"},n.default.createElement(o.default,{provider:l})),n.default.createElement(i.GridItem,{lg:3,md:12,className:"networking-grid-item"},n.default.createElement(m.default,null)),n.default.createElement(i.GridItem,{lg:9,md:12,className:"networking-grid-item"},n.default.createElement(c.default,null))):n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateBody,null,n.default.createElement(s.Spinner,{centered:!0})))}}p.propTypes={network:r.default.object.isRequired,resetRouters:r.default.func.isRequired,refreshCluster:r.default.func.isRequired,gotRouters:r.default.bool.isRequired,provider:r.default.string},t.default=p},44021:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.sendNetworkConfigRequests=t.saveNetworkingConfiguration=t.resetEditRoutersResponse=t.resetClusterRouters=t.networkingActions=t.getClusterRouters=t.editClusterRouters=t.createDefaultRouterRequest=void 0;var n=l(a(61448)),r=l(a(2404)),i=a(93413),s=a(82399),o=a(58826),u=a(92868),d=a(24239),c=a(73410),m=a(24647);const p=e=>t=>t({type:m.networkingConstants.GET_CLUSTER_ROUTERS,payload:c.clusterService.getIngresses(e)});t.getClusterRouters=p;const f=(e,t)=>a=>a({type:m.networkingConstants.EDIT_CLUSTER_ROUTERS,payload:c.clusterService.editIngresses(e,t)});t.editClusterRouters=f;const E=()=>e=>e({type:m.networkingConstants.RESET_EDIT_ROUTERS_RESPONSE});t.resetEditRoutersResponse=E;const g=()=>e=>e({type:m.networkingConstants.RESET_CLUSTER_ROUTERS});t.resetClusterRouters=g;const v=(e,t)=>{const a={id:t.default.routerID};return void 0!==e.private_default_router&&e.private_default_router!==t.default.isPrivate&&(a.listening=e.private_default_router?"internal":"external"),void 0===e.defaultRouterSelectors||(0,r.default)((0,i.strToKeyValueObject)(e.defaultRouterSelectors,""),t.default.routeSelectors||{})||(a.route_selectors=(0,i.strToKeyValueObject)(e.defaultRouterSelectors,"")),void 0===e.defaultRouterExcludedNamespacesFlag||(0,r.default)((0,i.stringToArrayTrimmed)(e.defaultRouterExcludedNamespacesFlag),t.default.excludedNamespaces||[])||(a.excluded_namespaces=(0,i.stringToArrayTrimmed)(e.defaultRouterExcludedNamespacesFlag)),void 0!==e.isDefaultRouterNamespaceOwnershipPolicyStrict&&e.isDefaultRouterNamespaceOwnershipPolicyStrict!==t.default.isNamespaceOwnershipPolicyStrict&&(a.route_namespace_ownership_policy=e.isDefaultRouterNamespaceOwnershipPolicyStrict?o.NamespaceOwnershipPolicy.STRICT:o.NamespaceOwnershipPolicy.INTER_NAMESPACE_ALLOWED),void 0!==e.isDefaultRouterWildcardPolicyAllowed&&e.isDefaultRouterWildcardPolicyAllowed!==t.default.isWildcardPolicyAllowed&&(a.route_wildcard_policy=e.isDefaultRouterWildcardPolicyAllowed?u.WildcardPolicy.WILDCARDS_ALLOWED:u.WildcardPolicy.WILDCARDS_DISALLOWED),void 0!==e.is_nlb_load_balancer&&e.is_nlb_load_balancer!==(t.default.loadBalancer===s.LoadBalancerFlavor.NLB)&&(a.load_balancer_type=e.is_nlb_load_balancer?s.LoadBalancerFlavor.NLB:s.LoadBalancerFlavor.CLASSIC),void 0!==e.clusterRoutesTlsSecretRef&&e.clusterRoutesTlsSecretRef!==(t.default.tlsSecretRef||"")&&(a.cluster_routes_tls_secret_ref=e.clusterRoutesTlsSecretRef),void 0!==e.clusterRoutesHostname&&e.clusterRoutesHostname!==(t.default.hostname||"")&&(a.cluster_routes_hostname=e.clusterRoutesHostname,a.cluster_routes_tls_secret_ref=e.clusterRoutesTlsSecretRef),a};t.createDefaultRouterRequest=v;const h=async(e,t,a,l)=>{let r;if(t.APIPrivate!==e.private_api){const t={api:{listening:e.private_api?"internal":"external"}};r=await c.clusterService.editCluster(a,t),204===r.status&&l((0,d.setClusterDetails)(t,!0))}const s=(0,n.default)(t,"additional"),o=s&&!1===e.enable_additional_router,u=v(e,t);let m;return!o&&s&&(m=((e,t)=>{var a,l;const n={};var r,s;return void 0!==e.private_additional_router&&e.private_additional_router!==(null===(a=t.additional)||void 0===a?void 0:a.isPrivate)&&(n.listening=e.private_additional_router?"internal":"external",n.id=null===(r=t.additional)||void 0===r?void 0:r.routerID),void 0!==e.labels_additional_router&&e.labels_additional_router!==(null===(l=t.additional)||void 0===l?void 0:l.routeSelectors)&&(n.route_selectors=(0,i.strToKeyValueObject)(e.labels_additional_router,""),n.id=null===(s=t.additional)||void 0===s?void 0:s.routerID),n})(e,t)),Object.getOwnPropertyNames(u).length>1&&(r=await c.clusterService.editIngress(a,u.id,u)),o&&(r=await c.clusterService.deleteAdditionalIngress(a,t.additional.routerID,u)),m&&Object.getOwnPropertyNames(m).length>0&&(r=await c.clusterService.editIngress(a,m.id,m)),r};t.sendNetworkConfigRequests=h;const b=(e,t,a)=>l=>l({type:m.networkingConstants.EDIT_CLUSTER_ROUTERS,payload:h(e,t,a,l)});t.saveNetworkingConfiguration=b,t.networkingActions={getClusterRouters:p,editClusterRouters:f,saveNetworkingConfiguration:b,resetClusterRouters:g,resetEditRoutersResponse:E}},24647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networkingConstants=t.RESET_EDIT_ROUTERS_RESPONSE=t.RESET_CLUSTER_ROUTERS=t.GET_CLUSTER_ROUTERS=t.EDIT_CLUSTER_ROUTERS=void 0;const a=t.GET_CLUSTER_ROUTERS="GET_CLUSTER_ROUTERS",l=t.EDIT_CLUSTER_ROUTERS="EDIT_CLUSTER_ROUTER",n=t.RESET_EDIT_ROUTERS_RESPONSE="RESET_EDIT_ROUTERS_RESPONSE",r=t.RESET_CLUSTER_ROUTERS="RESET_CLUSTER_ROUTERS";t.networkingConstants={GET_CLUSTER_ROUTERS:a,EDIT_CLUSTER_ROUTERS:l,RESET_EDIT_ROUTERS_RESPONSE:n,RESET_CLUSTER_ROUTERS:r}},23178:(e,t,a)=>{"use strict";var l=a(24994);t.FK=m;var n=l(a(43693)),r=a(89407),i=a(89217),s=a(95762),o=a(24647);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={getRouters:d(d({},s.baseRequestState),{},{routers:[]}),editRouters:d({},s.baseRequestState)};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,s.REJECTED_ACTION)(o.networkingConstants.GET_CLUSTER_ROUTERS):e.getRouters=d(d({},c),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.networkingConstants.GET_CLUSTER_ROUTERS):e.getRouters.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.networkingConstants.GET_CLUSTER_ROUTERS):e.getRouters=d(d({},c),{},{routers:t.payload.data.items||[],fulfilled:!0});break;case(0,s.REJECTED_ACTION)(o.networkingConstants.EDIT_CLUSTER_ROUTERS):e.editRouters=d(d({},c),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.networkingConstants.EDIT_CLUSTER_ROUTERS):e.editRouters.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.networkingConstants.EDIT_CLUSTER_ROUTERS):e.editRouters=d(d({},s.baseRequestState),{},{fulfilled:!0});break;case o.networkingConstants.RESET_EDIT_ROUTERS_RESPONSE:e.editRouters=d({},s.baseRequestState);break;case o.networkingConstants.RESET_CLUSTER_ROUTERS:return c}}))}m.initialState=c},72586:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(62384),u=l(a(12200)),d=l(a(43775)),c=l(a(80984));a(62663);class m extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"handleEditSettings",(()=>{const{openModal:e}=this.props;e(d.default.EDIT_CLUSTER_INGRESS)}))}render(){const{provider:e,consoleURL:t,controlPlaneAPIEndpoint:a,additionalRouterAddress:l,additionalRouterLabels:n,refreshCluster:i,isApiPrivate:d,isAdditionalRouterPrivate:m,hasAdditionalRouter:p,showConsoleLink:f,canEdit:E,isReadOnly:g,isSTSEnabled:v,clusterHibernating:h,isHypershiftCluster:b}=this.props,S=(e=>{let{canEdit:t,isReadOnly:a,isSTSEnabled:l,clusterHibernating:n,isHypershiftCluster:r}=e;return(l&&!r?"Cluster ingress can only be edited for ROSA hosted control plane clusters or clusters not using Security Token Service (STS)":a&&"This operation is not available during maintenance")||n&&"This operation is not available while cluster is hibernating"||!t&&"You do not have permission to edit routers. Only cluster owners, cluster editors, and organization administrators can edit routers."})({canEdit:E,isReadOnly:g,isSTSEnabled:v,clusterHibernating:h,isHypershiftCluster:b});return r.default.createElement(s.Card,{className:"ocm-c-networking-cluster-ingress__card"},r.default.createElement(s.CardTitle,null,"Cluster ingress"),r.default.createElement(s.CardBody,{className:"ocm-c-networking-cluster-ingress__card--body"},r.default.createElement(s.Form,{isHorizontal:!0},r.default.createElement(s.FormGroup,{fieldId:"console_url",label:"Cluster console URL",isStack:!0},null!=t&&t.length?r.default.createElement(r.default.Fragment,null,r.default.createElement(s.ClipboardCopy,{name:"console_url",isReadOnly:!0},t),f&&r.default.createElement(s.TextContent,null,r.default.createElement(s.Text,{component:s.TextVariants.small},r.default.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},"Open console")))):r.default.createElement(s.TextInput,{value:"N/A",type:"text",readOnlyVariant:"default"})),r.default.createElement(s.FormGroup,{fieldId:"control_plane_api_endpoint",label:"Control Plane API endpoint",isStack:!0},r.default.createElement(s.ClipboardCopy,{name:"control_plane_api_endpoint",isReadOnly:!0},a),r.default.createElement(s.TextContent,null,r.default.createElement(s.Text,{component:s.TextVariants.small},(d||(0,o.isRestrictedEnv)()?"Private":"Public")+" API"))),p&&r.default.createElement(r.default.Fragment,null,r.default.createElement(s.FormGroup,{fieldId:"additional_router_address",label:"Additional router",isStack:!0},r.default.createElement(s.TextInput,{id:"additional_router_address",value:`*.${l}`,readOnlyVariant:"default"}),r.default.createElement(s.TextContent,null,r.default.createElement(s.Text,{component:s.TextVariants.small},(m||(0,o.isRestrictedEnv)()?"Private":"Public")+" router"))),r.default.createElement(s.FormGroup,{fieldId:"labels_additional_router",label:"Label match",isStack:!0},Array.isArray(n)&&r.default.createElement(s.LabelGroup,{isCompact:!0},n.map((e=>r.default.createElement(s.Label,{isCompact:!0,color:"blue"},e)))))),r.default.createElement(c.default,{provider:e,refreshCluster:i}))),!(0,o.isRestrictedEnv)()&&r.default.createElement(s.CardFooter,null,r.default.createElement(s.ActionList,null,r.default.createElement(u.default,{variant:"secondary",onClick:this.handleEditSettings,disableReason:S,isAriaDisabled:!!S,"data-testid":"edit-cluster-ingress"},"Edit cluster ingress"))))}}m.propTypes={provider:i.default.string,consoleURL:i.default.string,controlPlaneAPIEndpoint:i.default.string.isRequired,additionalRouterAddress:i.default.string.isRequired,additionalRouterLabels:i.default.arrayOf(i.default.string),openModal:i.default.func.isRequired,refreshCluster:i.default.func.isRequired,isApiPrivate:i.default.bool.isRequired,isAdditionalRouterPrivate:i.default.bool.isRequired,hasAdditionalRouter:i.default.bool.isRequired,canEdit:i.default.bool.isRequired,isReadOnly:i.default.bool.isRequired,isSTSEnabled:i.default.bool.isRequired,isHypershiftCluster:i.default.bool.isRequired,clusterHibernating:i.default.bool.isRequired,showConsoleLink:i.default.bool.isRequired},t.default=m},74817:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=a(23271),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(14539)),o=l(a(72586));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}t.default=(0,n.connect)((e=>{var t,a,l,n,r,o,u,d;const{cluster:c}=e.clusters.details,m=(0,s.default)(e),p=2===Object.keys(m).length,f=null===(t=c.console)||void 0===t?void 0:t.url,E=null===(a=c.api)||void 0===a?void 0:a.url,g=p?m.additional.address:`apps2${m.default.address.substr(4)}`,v=(0,s.routeSelectorPairsAsStrings)(null==m||null===(l=m.additional)||void 0===l?void 0:l.routeSelectors),h=null===(n=c.cloud_provider)||void 0===n?void 0:n.id,b="internal"===(null===(r=c.api)||void 0===r?void 0:r.listening),S=!(null==m||null===(o=m.additional)||void 0===o||!o.isPrivate),{canEdit:_}=c;return{consoleURL:f,controlPlaneAPIEndpoint:E,additionalRouterAddress:g,additionalRouterLabels:v,isApiPrivate:b,isAdditionalRouterPrivate:S,hasAdditionalRouter:p,canEdit:_,isReadOnly:"read_only"===(null==c||null===(u=c.status)||void 0===u?void 0:u.configuration_mode),isSTSEnabled:!0===(null==c||null===(d=c.aws)||void 0===d||null===(d=d.sts)||void 0===d?void 0:d.enabled),clusterHibernating:(0,i.isHibernating)(c),showConsoleLink:f&&!(0,i.isOffline)(c),provider:h,isHypershiftCluster:(0,i.isHypershiftCluster)(c)}}),(e=>({openModal:(t,a)=>e((0,r.openModal)(t,a))})))(o.default)},18550:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(72740),o=a(97419),u=l(a(65702)),d=a(84037),c=l(a(55816)),m=l(a(8888)),p=l(a(28592)),f=a(77218);class E extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"onClose",(()=>{const{closeModal:e,reset:t,resetResponse:a}=this.props;t(),a(),e()}))}componentDidUpdate(e){const{editClusterRoutersResponse:t,refreshCluster:a}=this.props;e.editClusterRoutersResponse.pending&&t.fulfilled&&(a(),this.onClose())}render(){const{provider:e,controlPlaneAPIEndpoint:t,additionalRouterAddress:a,editClusterRoutersResponse:l,isOpen:n,hideAdvancedOptions:i,canEditAdditionalRouter:E,showRouterVisibilityWarning:g,valid:v,pristine:h,handleSubmit:b}=this.props,S="aws"===e,_=l.error?r.default.createElement(c.default,{message:"Error editing cluster ingress",response:l}):null,C=r.default.createElement(o.Alert,{id:"privacySettingsWarningBox",title:"Editing the privacy settings may require additional actions in your cloud provider account to maintain access.",variant:o.AlertVariant.warning,isPlain:!0,isInline:!0},S&&r.default.createElement(m.default,{href:u.default.OSD_PRIVATE_CLUSTER},"Learn more about cluster privacy")),y=g?r.default.createElement(o.Alert,{id:"routerVisibilityWarningBox",title:"All routers will be exposed publicly because there is no label match on the additional application router. This is a potential security risk.",variant:o.AlertVariant.warning,isPlain:!0,isInline:!0}):null,I=i?null:r.default.createElement(o.ExpandableSection,{toggleText:"Advanced options"},r.default.createElement(o.Form,null,r.default.createElement(o.FormGroup,{fieldId:"enable_additional_router",isStack:!0},r.default.createElement(s.Field,{component:f.ReduxCheckbox,name:"enable_additional_router",label:"Enable additional router",extendedHelpText:"The use of an additional router is deprecated in favor of the single application ingress. Since it has already been enabled, the additional router can be still edited for 4.11 and 4.12 versions but once disabled, it can not be re-enabled again. In the 4.13+ versions, the additional router can not be edited but disabled only."})),r.default.createElement(o.FormGroup,{fieldId:"additional_router_address",isStack:!0},r.default.createElement(o.TextInput,{id:"additional_router_address",value:`*.${a}`,readOnlyVariant:"default"}),r.default.createElement(s.Field,{component:f.ReduxCheckbox,name:"private_additional_router",label:"Make router private",isDisabled:!E})),r.default.createElement(s.Field,{component:f.ReduxVerticalFormGroup,"aria-label":"Additional Router Labels",name:"labels_additional_router",label:"Label match for additional router (optional)",type:"text",helpText:"Comma separated pairs in key=value format. If no label is specified, all routes will be exposed on both routers.",validate:d.checkLabelsAdditionalRouter,key:"route_selectors",readOnlyVariant:E?void 0:"default"})));return n&&r.default.createElement(p.default,{width:"max(35%, 550px)",primaryText:"Save",secondaryText:"Cancel",title:"Edit cluster ingress",onClose:this.onClose,onPrimaryClick:b,onSecondaryClick:this.onClose,isPending:l.pending,isPrimaryDisabled:!v||h},_,r.default.createElement(o.Form,null,C,y,r.default.createElement(o.FormGroup,{fieldId:"control_plane_api_endpoint",label:"Control Plane API endpoint",isStack:!0},r.default.createElement(o.ClipboardCopy,{name:"control_plane_api_endpoint",isReadOnly:!0},t),r.default.createElement(s.Field,{component:f.ReduxCheckbox,name:"private_api",label:"Make API private"})),I))}}E.propTypes={provider:i.default.string,controlPlaneAPIEndpoint:i.default.string.isRequired,additionalRouterAddress:i.default.string.isRequired,initialValues:i.default.shape({private_api:i.default.bool,enable_additional_router:i.default.bool,private_additional_router:i.default.bool,labels_additional_router:i.default.string}).isRequired,editClusterRoutersResponse:i.default.shape({error:i.default.bool,fulfilled:i.default.bool,pending:i.default.bool}).isRequired,reset:i.default.func.isRequired,closeModal:i.default.func.isRequired,handleSubmit:i.default.func.isRequired,resetResponse:i.default.func.isRequired,refreshCluster:i.default.func.isRequired,isOpen:i.default.bool.isRequired,valid:i.default.bool.isRequired,pristine:i.default.bool.isRequired,hideAdvancedOptions:i.default.bool.isRequired,canEditAdditionalRouter:i.default.bool.isRequired,showRouterVisibilityWarning:i.default.bool.isRequired},t.default=E},80984:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=a(73729),i=a(72740),s=a(88851),o=a(75166),u=a(91089),d=l(a(43775)),c=l(a(14419)),m=a(44021),p=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(14539)),f=l(a(18550));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const h=(0,i.reduxForm)({form:"EditClusterIngress",enableReinitialize:!0})(f.default);t.default=(0,r.connect)((e=>{var t,a,l,n,r,u,m,f,E;const{cluster:g}=e.clusters.details,v=(0,p.default)(e),h=2===Object.keys(v).length,b=null===(t=g.cloud_provider)||void 0===t?void 0:t.id,S=(null==g?void 0:g.openshift_version)||(null==g||null===(a=g.version)||void 0===a?void 0:a.raw_id)||"",_=(0,i.formValueSelector)("EditClusterIngress"),C=!!_(e,"enable_additional_router"),y="internal"===(null===(l=g.api)||void 0===l?void 0:l.listening),I=null===(n=g.subscription)||void 0===n||null===(n=n.plan)||void 0===n?void 0:n.type,A=C&&(R=S,(0,s.isExactMajorMinor)(R,4,11)||(0,s.isExactMajorMinor)(R,4,12));var R;return{editClusterRoutersResponse:e.clusterRouters.editRouters,controlPlaneAPIEndpoint:null===(r=g.api)||void 0===r?void 0:r.url,defaultRouterAddress:null===(u=v.default)||void 0===u?void 0:u.address,additionalRouterAddress:h?v.additional.address:`apps2${null===(m=v.default)||void 0===m?void 0:m.address.substr(4)}`,initialValues:{private_api:y,enable_additional_router:h,private_additional_router:!(null==v||null===(f=v.additional)||void 0===f||!f.isPrivate),labels_additional_router:(0,p.routeSelectorsAsString)(null==v||null===(E=v.additional)||void 0===E?void 0:E.routeSelectors)},clusterID:g.id,clusterRouters:v,APIPrivate:y,canEditAdditionalRouter:A,hideAdvancedOptions:!h||I===o.knownProducts.ROSA,provider:b,isOpen:(0,c.default)(e,d.default.EDIT_CLUSTER_INGRESS),showRouterVisibilityWarning:C&&!_(e,"labels_additional_router")&&_(e,"private_additional_router")}}),(e=>({resetResponse:()=>e((0,m.resetEditRoutersResponse)()),closeModal:()=>e((0,u.closeModal)(d.default.EDIT_CLUSTER_INGRESS)),onSubmit:(t,a,l,n)=>{const r=v(v({},a),{},{APIPrivate:l});e((0,m.saveNetworkingConfiguration)(t,r,n))}})),((e,t,a)=>v(v(v(v({},a),e),t),{},{onSubmit:a=>{t.onSubmit(a,e.clusterRouters,e.APIPrivate,e.clusterID)}})))(h)},16578:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(72740),s=a(97419),o=a(93413),u=l(a(65702)),d=a(84037),c=a(69122),m=l(a(55816)),p=l(a(8888)),f=l(a(28592)),E=l(a(55213)),g=l(a(75885)),v=l(a(38871)),h=a(20021);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const S=e=>(0,d.validateUrl)(e,"http"),_=e=>(0,d.validateUrl)(e,["http","https"]),C=(e,t)=>{if(!t.http_proxy_url&&!t.https_proxy_url&&!t.additional_trust_bundle)return"Configure at least one of the cluster-wide proxy fields."},y=e=>{const{isOpen:t,closeModal:a,sendError:l,reset:r,handleSubmit:b,editClusterProxyResponse:y,clearClusterProxyResponse:I,additionalTrustBundle:A,anyTouched:R,noClusterProxyValues:T,noUrlValues:O,change:P}=e,D=y.error&&n.default.createElement(m.default,{message:"Error editing cluster-wide proxy",response:y}),[L,N]=(0,n.useState)(!A),w=(0,n.useCallback)((()=>{r(),N(!A),I(),a()}),[]);(0,n.useEffect)((()=>{O&&P("no_proxy_domains","")}),[O]),(0,n.useEffect)((()=>{!y.fulfilled||y.pending||y.error||w()}),[y]);const M=n.default.createElement(s.Alert,{isInline:!0,variant:"warning",title:"Complete at least 1 of the fields above."});return t&&n.default.createElement(f.default,{onClose:w,title:"Edit cluster-wide Proxy",onPrimaryClick:b,primaryText:"Save",onSecondaryClick:w,isPending:y.pending,width:"max(30%, 600px)"},D,n.default.createElement(s.Form,null,n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,null,n.default.createElement(s.Text,null,"Enable an HTTP or HTTPS proxy to deny direct access to the Internet from your cluster"),n.default.createElement(s.Text,{className:"pf-v5-u-mt-sm"},n.default.createElement(p.default,{href:u.default.CONFIGURE_PROXY_URL},"Learn more about configuring a cluster-wide proxy"))),n.default.createElement(s.GridItem,null,n.default.createElement(s.Alert,{variant:"info",isInline:!0,isPlain:!0,title:"Configure at least 1 of the following fields:"})),n.default.createElement(s.GridItem,{sm:12,md:10,xl2:11},n.default.createElement(i.Field,{component:v.default,name:"http_proxy_url",label:"HTTP Proxy URL",placeholder:c.HTTP_PROXY_PLACEHOLDER,type:"text",validate:[S,C],helpText:"Specify a proxy URL to use for HTTP connections outside the cluster.",showHelpTextOnError:!1})),n.default.createElement(s.GridItem,{sm:12,md:10,xl2:11},n.default.createElement(i.Field,{component:v.default,name:"https_proxy_url",label:"HTTPS Proxy URL",placeholder:c.HTTPS_PROXY_PLACEHOLDER,type:"text",validate:[_,C],helpText:"Specify a proxy URL to use for HTTPS connections outside the cluster.",showHelpTextOnError:!1})),n.default.createElement(s.GridItem,{sm:12,md:10,xl2:11},n.default.createElement(i.Field,{component:v.default,name:"no_proxy_domains",label:"No Proxy domains",placeholder:O?c.DISABLED_NO_PROXY_PLACEHOLDER:c.NO_PROXY_PLACEHOLDER,type:"text",normalize:e=>(0,o.stringToArray)(e),validate:d.checkNoProxyDomains,helpText:c.NO_PROXY_HELPER_TEXT,showHelpTextOnError:!1,isDisabled:O})),n.default.createElement(s.GridItem,{sm:12,md:10,xl2:11},L?n.default.createElement(i.Field,{component:g.default,name:"additional_trust_bundle",label:"Additional trust bundle",placeholder:c.TRUST_BUNDLE_PLACEHOLDER,extendedHelpTitle:"Additional trust bundle",extendedHelpText:"An additional trust bundle is a PEM encoded X.509 certificate bundle that will be added to the nodes' trusted certificate store.",validate:[d.validateCA,C],dropzoneProps:{accept:h.ACCEPT,maxSize:h.MAX_FILE_SIZE,onDropRejected:()=>{l()}},helpText:"Upload or paste a PEM encoded X.509 certificate."}):n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Text,{className:"ocm-c-networking-vpc-details__card pf-v5-c-form__label-text pf-v5-c-form__group-label"},"Additional Trust Bundle"," ",n.default.createElement(E.default,{headerContent:"Additional trust bundle",bodyContent:c.TRUST_BUNDLE_HELPER_TEXT})),n.default.createElement(s.Text,null,"File Uploaded Successfully"," ",n.default.createElement(s.Button,{onClick:()=>N(!0),variant:"link",isInline:!0,className:"ocm-c-networking-vpc-details__card--replace-button"},"Replace file")))),n.default.createElement(s.GridItem,{sm:0,md:2,xl2:4}),n.default.createElement(s.GridItem,null,R&&T&&M))))};y.propTypes={closeModal:r.default.func.isRequired,isOpen:r.default.bool,reset:r.default.func.isRequired,handleSubmit:r.default.func.isRequired,additionalTrustBundle:r.default.string,editClusterProxyResponse:r.default.shape({error:r.default.bool,fulfilled:r.default.bool,pending:r.default.bool}).isRequired,sendError:r.default.func,anyTouched:r.default.bool,clearClusterProxyResponse:r.default.func,noClusterProxyValues:r.default.bool,noUrlValues:r.default.bool,change:r.default.func},t.default=y},74750:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=a(73729),i=a(72740),s=a(93413),o=a(91089),u=l(a(43775)),d=l(a(14419)),c=a(24239),m=l(a(16578));function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const E=(0,i.reduxForm)({form:"EditClusterWideProxy",enableReinitialize:!0,touchOnChange:!0,touchOnBlur:!0})(m.default),g=(e,t)=>e!==t?e:void 0;t.default=(0,r.connect)((e=>{var t,a,l;const{cluster:n}=e.clusters.details,r=(0,i.formValueSelector)("EditClusterWideProxy"),o=!r(e,"http_proxy_url")&&!r(e,"https_proxy_url"),c=r(e,"additional_trust_bundle")||(null==n?void 0:n.additional_trust_bundle);return{isOpen:(0,d.default)(e,u.default.EDIT_CLUSTER_WIDE_PROXY),initialValues:{clusterID:n.id,http_proxy_url:null===(t=n.proxy)||void 0===t?void 0:t.http_proxy,https_proxy_url:null===(a=n.proxy)||void 0===a?void 0:a.https_proxy,no_proxy_domains:(0,s.stringToArray)(null===(l=n.proxy)||void 0===l?void 0:l.no_proxy)},additionalTrustBundle:c,editClusterProxyResponse:e.clusters.editedCluster,meta:(0,i.getFormMeta)("EditClusterWideProxy")(e),noUrlValues:o,noClusterProxyValues:o&&!c}}),(e=>({clearClusterProxyResponse:()=>e((0,c.clearClusterResponse)()),closeModal:()=>e((0,o.closeModal)()),onSubmit:(t,a)=>{const l={proxy:{http_proxy:g(t.http_proxy_url,a.http_proxy_url),https_proxy:g(t.https_proxy_url,a.https_proxy_url),no_proxy:g((0,s.arrayToString)(t.no_proxy_domains),(0,s.arrayToString)(a.no_proxy_domains))},additional_trust_bundle:g(t.additional_trust_bundle,a.additional_trust_bundle)};e((0,c.editCluster)(t.clusterID,l))},sendError:()=>{e((0,i.change)("EditClusterWideProxy","additional_trust_bundle","Invalid file"))},change:i.change})),((e,t,a)=>f(f(f(f({},a),e),t),{},{onSubmit:a=>{t.onSubmit(a,e.initialValues)}})))(E)},34497:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419);function s(e){let{network:t}=e;return n.default.createElement(i.Card,{className:"ocm-c-networking-network-configuration__card"},n.default.createElement(i.CardTitle,null,"CIDR ranges"),n.default.createElement(i.CardBody,{className:"ocm-c-networking-network-configuration__card--body"},n.default.createElement(i.DescriptionList,null,n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Machine CIDR"),n.default.createElement(i.DescriptionListDescription,null,t.machine_cidr||"N/A")),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Service CIDR"),n.default.createElement(i.DescriptionListDescription,null,t.service_cidr||"N/A")),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Pod CIDR"),n.default.createElement(i.DescriptionListDescription,null,t.pod_cidr||"N/A")),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Host prefix"),n.default.createElement(i.DescriptionListDescription,null,`/${t.host_prefix}`||"N/A")))))}a(27966),s.propTypes={network:r.default.object.isRequired},t.default=s},31114:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(43775)),o=a(62384),u=l(a(74750));a(27127);const d=e=>{const{privateLink:t,httpProxyUrl:a,httpsProxyUrl:l,noProxyDomains:r,additionalTrustBundle:d,openModal:c,gcpVPCName:m,isBYOVPC:p}=e,f=void 0!==t,E=r?r.map((e=>n.default.createElement(i.Label,{isCompact:!0,color:"blue"},e))):"N/A";return p?n.default.createElement(i.Card,{className:"ocm-c-networking-vpc-details__card"},n.default.createElement(i.CardTitle,null,n.default.createElement(i.Title,{headingLevel:"h2",className:"card-title"},"Virtual Private Cloud (VPC)")),n.default.createElement(i.CardBody,{className:"ocm-c-networking-vpc-details__card--body pf-v5-l-stack pf-m-gutter"},m||f?n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Title,{headingLevel:"h3",className:"pf-v5-l-stack__item"},"VPC Details"),n.default.createElement(i.DescriptionList,{isHorizontal:!0,className:"pf-v5-l-stack__item pf-m-auto-column-widths details-card-dl"},m?n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"VPC name"),n.default.createElement(i.DescriptionListDescription,null,m)):null,f?n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"PrivateLink"),n.default.createElement(i.DescriptionListDescription,null,t?"Enabled":"Disabled")):null)):null,n.default.createElement(i.Title,{headingLevel:"h3",className:"pf-v5-l-stack__item --"},"Cluster-wide Proxy"),n.default.createElement(i.DescriptionList,{isHorizontal:!0,className:"pf-v5-l-stack__item details-card-dl"},n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"HTTP proxy URL"),n.default.createElement(i.DescriptionListDescription,null,a||"N/A")),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"HTTPS proxy URL"),n.default.createElement(i.DescriptionListDescription,null,l||"N/A")),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Additional trust bundle"),n.default.createElement(i.DescriptionListDescription,null,("REDACTED"===d?"Uploaded":d)||"N/A")),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"No Proxy domains"),n.default.createElement(i.DescriptionListDescription,null,n.default.createElement(i.LabelGroup,{isCompact:!0},E)))),n.default.createElement(u.default,null)),!(0,o.isRestrictedEnv)()&&n.default.createElement(i.CardFooter,null,n.default.createElement(i.Button,{variant:"secondary",onClick:()=>{c(s.default.EDIT_CLUSTER_WIDE_PROXY)}},"Edit cluster-wide proxy"))):null};d.propTypes={openModal:r.default.func.isRequired,privateLink:r.default.bool,httpProxyUrl:r.default.string,httpsProxyUrl:r.default.string,noProxyDomains:r.default.string,additionalTrustBundle:r.default.string,gcpVPCName:r.default.string,isBYOVPC:r.default.bool},t.default=d},70575:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(72740),i=a(93413),s=a(91089),o=l(a(31114));t.default=(0,n.connect)((e=>{var t,a,l,n,s,o;const{cluster:u}=e.clusters.details;return{privateLink:null===(t=u.aws)||void 0===t?void 0:t.private_link,formValues:(0,r.getFormValues)("EditClusterWideProxy")(e),httpProxyUrl:null===(a=u.proxy)||void 0===a?void 0:a.http_proxy,httpsProxyUrl:null===(l=u.proxy)||void 0===l?void 0:l.https_proxy,noProxyDomains:(0,i.stringToArray)(null===(n=u.proxy)||void 0===n?void 0:n.no_proxy),additionalTrustBundle:u.additional_trust_bundle,gcpVPCName:null===(s=u.gcp_network)||void 0===s?void 0:s.vpc_name,isBYOVPC:(null===(o=u.aws)||void 0===o?void 0:o.subnet_ids)||u.gcp_network}}),(e=>({openModal:(t,a)=>e((0,s.openModal)(t,a))})))(o.default)},21494:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419);function s(e){let{awsSubnets:t,gcpNetwork:a}=e;return 0!==t.length||a?n.default.createElement(i.Card,{className:"ocm-c-networking-network-configuration__card"},n.default.createElement(i.CardTitle,null,"VPC subnets (",((e,t)=>t?2:e)(t.length,a),")"),n.default.createElement(i.CardBody,{className:"ocm-c-networking-network-configuration__card--body"},t.length>0?n.default.createElement(i.List,{isPlain:!0},t.map((e=>n.default.createElement(i.ListItem,null,e)))):null,a?n.default.createElement(i.DescriptionList,null,n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Control plane subnet"),n.default.createElement(i.DescriptionListDescription,null,a.control_plane_subnet)),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Compute subnet"),n.default.createElement(i.DescriptionListDescription,null,a.compute_subnet))):null)):null}s.propTypes={awsSubnets:r.default.arrayOf(r.default.string),gcpNetwork:r.default.shape({control_plane_subnet:r.default.string,compute_subnet:r.default.string})},s.defaultProps={awsSubnets:[]},t.default=s},65259:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=l(a(21494));t.default=(0,n.connect)((e=>{var t;const{cluster:a}=e.clusters.details;return{awsSubnets:null===(t=a.aws)||void 0===t?void 0:t.subnet_ids,gcpNetwork:a.gcp_network}}))(r.default)},68012:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58156)),r=a(73729),i=l(a(57772)),s=a(44021);t.default=(0,r.connect)((e=>{const{clusterRouters:t}=e,{cluster:a}=e.clusters.details;return{network:a.network||{},provider:(0,n.default)(a,"cloud_provider.id","N/A"),gotRouters:(0,n.default)(t,"getRouters.routers.length",0)>0}}),(e=>({resetRouters:()=>e((0,s.resetClusterRouters)())})))(i.default)},66251:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419);function s(e){let{cluster:t}=e;return t.managed&&t.network&&n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Network"),n.default.createElement(i.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},t.network.machine_cidr&&n.default.createElement(i.Flex,null,n.default.createElement("dt",null,"Machine CIDR: "),n.default.createElement("dd",{"data-testid":"machineCIDR"},t.network.machine_cidr)),t.network.service_cidr&&n.default.createElement(i.Flex,null,n.default.createElement("dt",null,"Service CIDR: "),n.default.createElement("dd",{"data-testid":"serviceCIDR"},t.network.service_cidr)),t.network.pod_cidr&&n.default.createElement(i.Flex,null,n.default.createElement("dt",null,"Pod CIDR: "),n.default.createElement("dd",{"data-testid":"podCIDR"},t.network.pod_cidr)),t.network.host_prefix&&n.default.createElement(i.Flex,null,n.default.createElement("dt",null,"Host prefix: "),n.default.createElement("dd",{"data-testid":"hostPrefix"},t.network.host_prefix)))))||null}s.propTypes={cluster:r.default.object.isRequired},t.default=s},78072:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(23158)),o=l(a(56862)),u=a(45646),d=a(51513),c=a(77969),m=a(69304),p=l(a(10501)),f=a(82399),E=l(a(6071)),g=a(91167),v=l(a(91497)),h=l(a(8888)),b=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}const _=e=>{const{resetInflightChecks:t,cluster:a,getClusterStatus:l,getInflightChecks:r,getRerunInflightChecks:S,hasNetworkOndemand:_,status:C,inflightChecks:y,rerunInflightChecks:I,rerunInflightCheckReq:A,rerunInflightCheckRes:R,addNotification:T,refresh:O}=e,P=(0,m.useNavigate)(),[D,L]=n.default.useState(null),[N,w]=n.default.useState(!1),[M,k]=n.default.useState(!1),[F,x]=n.default.useState(!1),[G,U]=n.default.useState(!1),j=(0,g.usePreviousProps)(C),H=(0,g.usePreviousProps)(y),V=(0,g.usePreviousProps)(A),q=(0,g.usePreviousProps)(R),z=()=>{var e;l(a.id),r(a.id),null!=a&&null!==(e=a.aws)&&void 0!==e&&e.subnet_ids&&S(a.aws.subnet_ids),L(null)};n.default.useEffect((()=>(t(),z(),()=>{null!==D&&(clearTimeout(D),L(null))})),[]),n.default.useEffect((()=>{if(j&&j.pending&&!C.pending||H&&H.pending&&!y.pending){null!==D&&(clearTimeout(D),L(null));const e=e=>e===b.default.INSTALLING||e===b.default.PENDING||e===b.default.VALIDATING||e===b.default.WAITING,t=()=>y.checks.some((e=>e.state===f.InflightCheckState.RUNNING||e.state===f.InflightCheckState.FAILED));if(C.fulfilled&&y.fulfilled){const l=C.status.state;(l!==a.state||t())&&O(),(e(l)||l===b.default.UNINSTALLING||t())&&L(setTimeout(z,5e3))}else C.error&&(e(a.state)?L(setTimeout(z,5e3)):a.state===b.default.UNINSTALLING&&404===C.errorCode&&(T({title:`Successfully uninstalled cluster ${(0,E.default)(a)}`,variant:"success"}),P("/cluster-list")))}if(V&&V.pending&&!A.pending&&(A.error&&(k(!0),x(!0)),A.fulfilled&&setTimeout((()=>{x(!1)}),1e4)),q&&q.pending&&!R.pending&&R.fulfilled){const e=R.checks.some((e=>e.state===f.InflightCheckState.RUNNING||e.state===f.InflightCheckState.PENDING));U(e)}}),[C,y,A,R,a,O,T,H,V,q,j,D,P]);if(C.status.id===a.id){const e=C.status.provision_error_code||"",t=[];return C.status.state===b.default.ERROR&&t.push(n.default.createElement(i.Alert,{variant:"danger",isInline:!0,title:`${e} Cluster installation failed`},n.default.createElement("p",null,"This cluster cannot be recovered, however you can use the logs and network validation to diagnose the problem:"),n.default.createElement(p.default,{clusterStatus:C.status,showDescription:!0}))),_&&t.push((()=>{if(a.state!==b.default.VALIDATING&&a.state!==b.default.PENDING){const e=y.checks.find((e=>e.state===f.InflightCheckState.FAILED));if((0,b.hasInflightEgressErrors)(a)&&e){let t,l,r,c=[];const m=`${d.HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY}_${a.id}`;localStorage.setItem(m,!!e);const p="To allow this cluster to be fully-managed, add these URLs to the allowlist of these subnet firewalls. For more information review the egress requirements or contact Red Hat support.",{details:f}=e;if(Object.keys(f).forEach((e=>{if("documentation_link"===e)t=f[e];else if(e.startsWith("subnet")){const t=[];c.push({name:e,egressErrors:t}),Object.keys(f[e]).forEach((a=>{if(a.startsWith("egress_url_errors")){const l=/(https?:\/\/[^\s)]+)/,n=f[e][a].match(l);n&&t.push(n[0])}})),t.sort(((e,t)=>{var a,l;const n=e.split(":"),r=t.split(":"),i=null===(a=n[1])||void 0===a?void 0:a.localeCompare(r[1]);return 0===i?null===(l=n[0])||void 0===l?void 0:l.localeCompare(r[0]):i}))}})),c.length){const e=c.length>1;e&&!N&&(c=c.slice(0,1));const t=[{title:"Subnet"},{title:"URLs"}],d=e=>{let{name:t,egressErrors:a}=e;return n.default.createElement(u.Tbody,null,n.default.createElement(u.Tr,null,n.default.createElement(u.Td,null),n.default.createElement(u.Td,{modifier:"nowrap"},t),n.default.createElement(u.Td,{style:{whiteSpace:"break-spaces"}},a.join(",   "))))};l=n.default.createElement(n.default.Fragment,null,n.default.createElement(u.Table,{"aria-label":"Missing allowlist URLs",variant:u.TableVariant.compact,style:{backgroundColor:"unset"}},n.default.createElement(u.Thead,null,n.default.createElement(u.Tr,null,n.default.createElement(u.Th,null),t.map((e=>n.default.createElement(u.Th,{key:e.title},e.title))))),c.map((e=>d(e)))),e&&n.default.createElement(i.Button,{variant:"link",icon:N?n.default.createElement(s.default,null):n.default.createElement(o.default,null),onClick:()=>(e=>{w(e)})(!N)},N?"Show less":"Show more")),r=()=>{x(!0),I(a.id)}}const E=F||G;return n.default.createElement(i.Alert,{variant:"warning",isInline:!0,title:"User action required"},n.default.createElement(i.Flex,{direction:{default:"column"}},n.default.createElement(i.FlexItem,null,`${p}`),l&&n.default.createElement(i.FlexItem,null,l),n.default.createElement(i.FlexItem,null,n.default.createElement(i.Flex,{direction:{default:"row"}},t&&n.default.createElement(i.FlexItem,null,n.default.createElement(h.default,{noIcon:!0,href:t},"Review egress requirements")),n.default.createElement(i.FlexItem,null,n.default.createElement(h.default,{noIcon:!0,href:"https://access.redhat.com/support/cases/#/case/new"},"Contact support")),n.default.createElement(i.FlexItem,null,E&&n.default.createElement("span",{className:"pf-v5-u-mr-sm"},n.default.createElement(i.Spinner,{size:"sm"})),n.default.createElement(i.Button,{variant:i.ButtonVariant.link,isInline:!0,isDisabled:E,onClick:r},G?"Network validation in progress":"Rerun network validation"),M&&n.default.createElement(v.default,{title:"Error Rerunning Validator ",errorResponse:A,resetResponse:()=>k(!1)}))))))}}return null})()),t.push((()=>{if((0,b.isOSDGCPWaitingForRolesOnHostProject)(a)){var e,t;const l=null==a||null===(e=a.gcp_network)||void 0===e?void 0:e.vpc_project_id,r=null==a||null===(t=a.status)||void 0===t||null===(t=t.description)||void 0===t?void 0:t.match(c.emailRegex),s=r?r.length:0,o=r?n.default.createElement(n.default.Fragment,null,r.map(((e,t)=>n.default.createElement(n.default.Fragment,{key:e},n.default.createElement("strong",null,e),t<r.length-1&&", ")))):n.default.createElement("strong",null,"unknown"),u=[];return u.push("To continue cluster installation, contact the VPC owner of the "),u.push(n.default.createElement("strong",null,l)),u.push(" host project, who must grant the "),u.push(o),u.push(` service account${s>1?"s":""} the following roles: `),u.push(n.default.createElement("strong",null,"Compute Network Administrator, ")),u.push(n.default.createElement("strong",null,"Compute Security Administrator, ")),u.push(n.default.createElement("strong",null,"DNS Administrator.")),n.default.createElement(i.Alert,{variant:"warning",isInline:!0,title:"Permissions needed:"},n.default.createElement(i.Flex,{direction:{default:"column"}},n.default.createElement(i.FlexItem,null,u),n.default.createElement(i.FlexItem,null,n.default.createElement(h.default,{href:"https://cloud.google.com/vpc/docs/provisioning-shared-vpc#migs-service-accounts"},"Learn more about permissions"))))}return null})()),C.status.state!==b.default.ERROR&&(C.status.provision_error_code||C.status.provision_error_message)&&t.push(n.default.createElement(i.Alert,{variant:"warning",isInline:!0,title:`${e} Installation is taking longer than expected`,"data-testid":"alert-long-install"},n.default.createElement(p.default,{clusterStatus:C.status}))),n.default.createElement(n.default.Fragment,null,t.filter((e=>e)))}return null};_.propTypes={cluster:r.default.shape({id:r.default.string,state:r.default.string,status:r.default.shape({description:r.default.string}),aws:r.default.shape({subnet_ids:r.default.array}),gcp_network:r.default.shape({vpc_project_id:r.default.string})}),refresh:r.default.func,addNotification:r.default.func,getClusterStatus:r.default.func,getInflightChecks:r.default.func,rerunInflightChecks:r.default.func,getRerunInflightChecks:r.default.func,resetInflightChecks:r.default.func,inflightChecks:r.default.shape({pending:r.default.bool,fulfilled:r.default.bool,error:r.default.bool,checks:r.default.array}),rerunInflightCheckReq:r.default.shape({pending:r.default.bool,fulfilled:r.default.bool,error:r.default.bool,errorMessage:r.default.string,operationID:r.default.string}),rerunInflightCheckRes:r.default.shape({pending:r.default.bool,fulfilled:r.default.bool,error:r.default.bool,checks:r.default.array}),hasNetworkOndemand:r.default.bool,status:r.default.shape({pending:r.default.bool,fulfilled:r.default.bool,error:r.default.bool,errorCode:r.default.string,status:r.default.shape({id:r.default.string,description:r.default.string,state:r.default.string,provision_error_code:r.default.string,provision_error_message:r.default.string})})},t.default=_},23420:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(3678),i=a(11243),s=a(976),o=a(24239),u=l(a(78072));t.default=(0,n.connect)((e=>({status:e.clusters.clusterStatus,inflightChecks:e.clusters.inflightChecks,rerunInflightCheckReq:e.clusters.rerunInflightCheckReq,rerunInflightCheckRes:e.clusters.rerunInflightCheckRes,hasNetworkOndemand:(0,i.featureGateSelector)(e,s.NETWORK_VALIDATOR_ONDEMAND_FEATURE)})),(e=>({getClusterStatus:t=>e((0,o.getClusterStatus)(t)),getInflightChecks:t=>e((0,o.getInflightChecks)(t)),rerunInflightChecks:t=>e((0,o.rerunInflightChecks)(t)),resetInflightChecks:()=>e((0,o.clearInflightChecks)()),getRerunInflightChecks:t=>e((0,o.getRerunInflightChecks)(t)),addNotification:t=>e((0,r.addNotification)(t))})))(u.default)},90408:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(58156)),s=l(a(5556)),o=a(97419),u=a(7019),d=a(23271),c=l(a(81621)),m=l(a(71210)),p=l(a(16309)),f=l(a(26675)),E=l(a(56362));class g extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{popoverOpen:!1})}componentDidMount(){const{cluster:e,getSchedules:t}=this.props;e&&e.id&&e.managed&&t(e.id,(0,d.isHypershiftCluster)(e))}componentDidUpdate(e){const{cluster:t,getSchedules:a}=this.props;e.cluster.id!==t.id&&t.managed&&a(t.id,(0,d.isHypershiftCluster)(t))}componentWillUnmount(){const{clearSchedulesResponse:e}=this.props;e()}render(){var e;const{cluster:t,openModal:a,schedules:l}=this.props,{popoverOpen:n}=this.state,s=(0,d.isClusterUpgrading)(t),g=(0,c.default)(t),v=(0,i.default)(t,"metrics.channel"),h=l.items.find((e=>{var a;return e.version!==(null===(a=t.version)||void 0===a?void 0:a.raw_id)}));return r.default.createElement("div",null,r.default.createElement("dl",{className:"pf-v5-l-stack"},r.default.createElement(o.Flex,null,r.default.createElement("dt",null,"OpenShift: "),r.default.createElement("dd",null,g,r.default.createElement(m.default,{cluster:t,openModal:a,hideOSDUpdates:!!h}),h&&"automatic"===h.schedule_type&&!s?r.default.createElement(p.default,{clusterId:t.id}):null)),h&&"manual"===h.schedule_type&&r.default.createElement("div",null,r.default.createElement(o.Flex,null,r.default.createElement("dt",null,"Update scheduled: "),r.default.createElement("dd",null,r.default.createElement(o.Popover,{headerContent:"Update status",isVisible:n,shouldOpen:()=>this.setState({popoverOpen:!0}),shouldClose:()=>this.setState({popoverOpen:!1}),bodyContent:r.default.createElement(f.default,{clusterID:t.id,canEdit:t.canEdit,clusterVersion:g,scheduledUpgrade:h,openModal:a,availableUpgrades:null===(e=t.version)||void 0===e?void 0:e.available_upgrades,onCancelClick:()=>this.setState({popoverOpen:!1})})},r.default.createElement(o.Button,{variant:"link",className:"cluster-inline-link pf-v5-u-mt-0"},"View details ",r.default.createElement(u.OutlinedQuestionCircleIcon,null)))))),!t.managed&&!s&&r.default.createElement("div",null,r.default.createElement(o.Flex,null,r.default.createElement("dt",null,"Life cycle state: "),r.default.createElement("dd",null,r.default.createElement(E.default,{clusterVersion:g})))),v&&r.default.createElement("div",null,r.default.createElement(o.Flex,null,r.default.createElement("dt",null,"Update channel: "),r.default.createElement("dd",null,v)))))}}g.propTypes={cluster:s.default.shape({id:s.default.string.isRequired,openshift_version:s.default.string,managed:s.default.bool,version:s.default.shape({channel_group:s.default.string,available_upgrades:s.default.arrayOf(s.default.string),raw_id:s.default.string}),canEdit:s.default.bool}),versionInfo:s.default.shape({fulfilled:s.default.bool,pending:s.default.bool,error:s.default.bool,version:s.default.string,channelGroup:s.default.string,availableUpgrades:s.default.arrayOf(s.default.string)}).isRequired,schedules:s.default.shape({fulfilled:s.default.bool,pending:s.default.bool,error:s.default.bool,items:s.default.array}).isRequired,openModal:s.default.func.isRequired,getSchedules:s.default.func.isRequired,clearSchedulesResponse:s.default.func.isRequired},t.default=g},43931:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=a(99908),s=l(a(90408));t.default=(0,n.connect)((e=>({versionInfo:e.clusterUpgrades.versionInfo,schedules:e.clusterUpgrades.schedules})),(e=>({getSchedules:(t,a)=>e((0,i.getSchedules)(t,a)),clearSchedulesResponse:()=>e((0,i.clearSchedulesResponse)()),openModal:(t,a)=>e((0,r.openModal)(t,a))})))(s.default)},17458:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(97419),o=a(23271),u=l(a(26765)),d=a(11243),c=a(976),m=a(75166),p=l(a(55213)),f=l(a(4605)),E=l(a(56859)),g=l(a(40633)),v=l(a(43931));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function b(e){var t,a,l,i;let{cluster:h,cloudProviders:b,showAssistedId:S}=e;const _=h.cloud_provider?h.cloud_provider.id:null,C=null==h||null===(t=h.region)||void 0===t?void 0:t.id,y=(0,r.default)(h,"subscription.plan.type")===m.normalizedProducts.ROSA,I=(0,o.isHypershiftCluster)(h),A=(null==h||null===(a=h.subscription)||void 0===a||null===(a=a.plan)||void 0===a?void 0:a.type)===m.normalizedProducts.RHOIC,R=(0,d.useFeatureGate)(c.OSD_GCP_WIF)&&(0,o.isGCP)(h)&&(0,o.isCCS)(h),T="WifConfig"===(null==h||null===(l=h.gcp)||void 0===l||null===(l=l.authentication)||void 0===l?void 0:l.kind)?"Workload Identity Federation":"Service Account";let O;O=_&&b.fulfilled&&b.providers[_]?b.providers[_].display_name||"N/A":_?_.toUpperCase():"N/A";const{id:P,idLabel:D}=((e,t)=>{let a="Cluster ID",l=(0,r.default)(e,"external_id","N/A");const n=(0,r.default)(e,"aiCluster.id","N/A");return t&&n&&(a=`Assisted cluster ID / ${a}`,l=`${n} / ${l}`),{id:l,idLabel:a}})(h,S),L=I?"Hosted":"Classic",N=(0,r.default)(h,"aws.private_hosted_zone_id",!1),w=null==h?void 0:h.domain_prefix,M=(0,n.useMemo)((()=>"boolean"==typeof h.multi_az?h.multi_az?"Multi-zone":"Single zone":"N/A"),[h.multi_az]);return n.default.createElement(s.DescriptionList,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,D),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"clusterID"},P))),w&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Domain prefix"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"domainPrefix"},w))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Type"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(E.default,{cluster:h}))),I&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Control plane type"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"controlType"},n.default.createElement("span",{"data-testid":"controlPlaneType"},L))),!A||A&&C?n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Region"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"region"},C||"N/A"))):null,!y&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Provider"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"provider"},O))),R&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Authentication type"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",null,T))),h.managed&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Availability"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"availability"},M))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Version",I&&n.default.createElement(p.default,{iconClassName:"pf-v5-u-ml-sm",hint:"This version is only for the control plane. Worker nodes may have a different version."})),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(v.default,{cluster:h}))),!!N&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Shared VPC hosted zone ID"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",null,N))),!I&&h.fips&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Encryption level"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},n.default.createElement("dt",{"data-testid":"fipsCryptographyStatus"},"FIPS Cryptography enabled")))),null!=h&&null!==(i=h.aws)&&void 0!==i&&i.kms_key_arn?n.default.createElement(n.default.Fragment,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Encrypt volumes with custom keys"),n.default.createElement(s.DescriptionListDescription,null,"Enabled")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Custom KMS key ARN"),n.default.createElement(s.DescriptionListDescription,null,h.aws.kms_key_arn))):null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Created at"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(f.default,{value:(0,r.default)(h,"creation_timestamp","N/A")}))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Owner"),n.default.createElement(s.DescriptionListDescription,null,(0,r.default)(h,"subscription.creator.name")||(0,r.default)(h,"subscription.creator.username","N/A"))),h.managed&&!y&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Subscription billing model"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"subscription-billing-model"},(0,u.default)(h))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Infrastructure billing model"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"infrastructure-billing-model"},n.default.createElement(g.default,{cluster:h})))))}b.propTypes={cluster:i.default.any,cloudProviders:i.default.object.isRequired,showAssistedId:i.default.bool.isRequired},t.default=b},88004:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(97419),o=a(10135),u=a(94675),d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=L(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),c=l(a(10501)),m=a(98552),p=a(54910),f=l(a(9435)),E=l(a(55909)),g=a(62384),v=a(59067),h=l(a(65702)),b=a(22902),S=a(74688),_=l(a(8888)),C=l(a(55213)),y=l(a(4605)),I=a(74706),A=a(49484),R=a(38260),T=l(a(12807)),O=l(a(66251)),P=l(a(51503)),D=a(79824);function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(L=function(e){return e?a:t})(e)}function N(e){var t,a,l,i,L,N,w,M,k,F,x,G,U,j,H;let{cluster:V,totalDesiredComputeNodes:q,hasAutoscaleMachinePools:z,hasAutoscaleCluster:B,totalMinNodesCount:W,totalMaxNodesCount:$,limitedSupport:Y,totalActualNodes:K,machinePools:Q,isDeprovisioned:Z}=e;const X=(0,E.default)(null==V||null===(t=V.subscription)||void 0===t||null===(t=t.plan)||void 0===t?void 0:t.type,null==V||null===(a=V.subscription)||void 0===a?void 0:a.cluster_billing_model,null==V||null===(l=V.subscription)||void 0===l?void 0:l.capabilities),J="aws"===(null===(i=V.subscription)||void 0===i?void 0:i.cloud_provider_id),ee="gcp"===(null===(L=V.subscription)||void 0===L?void 0:L.cloud_provider_id),te=(0,d.isHypershiftCluster)(V),ae=(0,d.isROSA)(V),le=(null===(N=V.subscription)||void 0===N?void 0:N.cloud_account_id)||null,ne=te&&(null===(w=V.aws)||void 0===w||null===(w=w.etcd_encryption)||void 0===w?void 0:w.kms_key_arn),{clusterVpc:re}=(0,m.useAWSVPCFromCluster)(V),ie=(0,S.humanizeValueWithUnit)((0,r.default)(V,"metrics.memory.total.value",0),(0,r.default)(V,"metrics.memory.total.unit","B")),se="true"===(0,o.getQueryParam)("showWorkerNodesTogether"),oe=(0,r.default)(V,"subscription.status","")===v.SubscriptionCommonFields.status.DISCONNECTED,ue=(0,r.default)(V,"subscription.billing_marketplace_account",""),de=V.managed,ce=!te&&(!V.managed&&(0,r.default)(V,"metrics.nodes.infra",null)||(0,r.default)(V,"nodes.infra",0)>0),me=(0,r.default)(V,"metrics.sockets.total.value",0)>0,pe=V.managed&&V.storage_quota&&(0,S.humanizeValueWithUnitGiB)(V.storage_quota.value),fe=!oe&&!me&&!(0,g.isRestrictedEnv)(),Ee=!oe&&!(0,g.isRestrictedEnv)(),ge=(0,r.default)(V,"metrics.nodes.master","-"),ve=(0,r.default)(V,"nodes.master","-"),he=(0,r.default)(V,"metrics.nodes.infra","-"),be=(0,r.default)(V,"nodes.infra","-"),Se=(0,r.default)(V,"cloud_provider.id","-"),_e=!1===K?"-":K,Ce=q||"-",ye=null===(M=V.aws)||void 0===M||null===(M=M.sts)||void 0===M?void 0:M.oidc_config,Ie=(null===(k=V.aws)||void 0===k?void 0:k.ec2_metadata_http_tokens)||p.IMDSType.V1AndV2,Ae=ee&&!Z,Re=ee&&(null===(F=V.gcp)||void 0===F||null===(F=F.security)||void 0===F?void 0:F.secure_boot),Te=V.managed&&!(0,R.isArchivedSubscription)(V),Oe=V.state===d.default.UNINSTALLING;return n.default.createElement(s.DescriptionList,null,Te?n.default.createElement(P.default,{clusterID:V.id,protectionEnabled:null===(x=V.delete_protection)||void 0===x?void 0:x.enabled,canToggle:V.canUpdateClusterResource,isUninstalling:Oe}):null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Status"),n.default.createElement(s.DescriptionListDescription,{style:V.state.style},(0,b.isAISubscriptionWithoutMetrics)(V.subscription)?n.default.createElement("div",{"data-testid":"aiSubscriptionWithoutMetric"},n.default.createElement(f.default,{status:V.metrics.state,className:"clusterstate"})):n.default.createElement(n.default.Fragment,null,n.default.createElement(D.ClusterStatus,{cluster:V,limitedSupport:Y,machinePools:Q}),Y?" - Limited support":null,(null==V||null===(G=V.status)||void 0===G?void 0:G.provision_error_code)&&n.default.createElement(s.DescriptionList,null," ",n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Details:"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(c.default,{clusterStatus:V.status,showErrorCode:!0}))))))),fe&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Total vCPU"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"total-vcpu"},V.metrics.cpu.total.value," vCPU")),Ee&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Total memory"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"total-memory"},ie.value," ",ie.unit)),le&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,`Infrastructure ${Se.toUpperCase()} account`),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":`infrastructure${Se.toUpperCase()}Account`},le))),ne&&n.default.createElement(s.DescriptionListGroup,{"data-testid":"hs-etcd-encryption"},n.default.createElement(s.DescriptionListTerm,null,"KMS etcd encryption key ARN"),n.default.createElement(s.DescriptionListDescription,null,ne)),ae&&!te&&n.default.createElement(s.DescriptionListGroup,{"data-testid":"etcd-encryption-key"},n.default.createElement(s.DescriptionListTerm,null,"Additional encryption "),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"etcEncryptionStatus"},V.etcd_encryption?"Enabled":"Disabled"))),ue&&n.default.createElement(I.OverviewBillingAccount,null),V.managed&&!(null!==(U=V.ccs)&&void 0!==U&&U.enabled)&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Load balancers"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"load-balancers"},V.load_balancer_quota||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Persistent storage"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"persistent-storage"},pe?`${pe.value}  ${pe.unit}`:"N/A"))),!(0,g.isRestrictedEnv)()&&(de&&!z?n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Nodes",n.default.createElement("span",{className:"font-weight-normal"}," (actual/desired)"),n.default.createElement(C.default,{id:"cluster-scaling-hint",iconClassName:"nodes-hint",hint:"The actual number of compute nodes may not always match with the number of desired when the cluster is scaling."})),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},!te&&n.default.createElement(s.Flex,{"data-testid":"controlPlaneNodesCountContainer"},n.default.createElement("dt",null,"Control plane: "),n.default.createElement("dd",{"data-testid":"controlPlaneNodesCount"},"-"!==ge||"-"!==ve?`${ge}/${ve}`:"N/A")),ce&&n.default.createElement(s.Flex,{"data-testid":"InfraNodesCountContainer"},n.default.createElement("dt",null,"Infra: "),n.default.createElement("dd",{"data-testid":"infraNodesCount"},"-"!==he||"-"!==be?`${he}/${be}`:"N/A")),n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Compute: "),n.default.createElement("dd",{"data-testid":"computeNodeCount"},"-"!==_e||"-"!==Ce?`${_e}/${Ce}`:"N/A"))))):n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Nodes"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},!te&&n.default.createElement(s.Flex,{"data-testid":"controlPlaneNodesCountContainer"},n.default.createElement("dt",null,"Control plane: "),n.default.createElement("dd",null,(0,r.default)(V,"metrics.nodes.master","N/A"))),ce&&n.default.createElement(s.Flex,{"data-testid":"InfraNodesCountContainer"},n.default.createElement("dt",null,"Infra: "),n.default.createElement("dd",null,(0,r.default)(V,"metrics.nodes.infra","N/A"))),n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Compute: "),n.default.createElement("dd",null,K||"N/A")))))),(0,u.hasSecurityGroupIds)(V,Q)&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Additional security groups"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-l-stack","data-testid":"securityGroupsByNode"},n.default.createElement(T.default,{securityGroups:(null==re?void 0:re.aws_security_groups)||[],securityGroupIdsForControl:null==V||null===(j=V.aws)||void 0===j?void 0:j.additional_control_plane_security_group_ids,securityGroupIdsForInfra:null==V||null===(H=V.aws)||void 0===H?void 0:H.additional_infra_security_group_ids,machinePoolData:Q,showLinkToMachinePools:(0,d.canViewMachinePoolTab)(V),showWorkerNodesTogether:se})))),V.aiCluster&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Created at"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(y.default,{value:(0,r.default)(V,"creation_timestamp","N/A")}))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Owner"),n.default.createElement(s.DescriptionListDescription,null,(0,r.default)(V,"subscription.creator.name")||(0,r.default)(V,"subscription.creator.username","N/A")))),X&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Cluster autoscaling"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"clusterAutoscalingStatus"},B?"Enabled":"Disabled"))),z&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Autoscale",n.default.createElement(C.default,{id:"autoscaling-hint",iconClassName:"nodes-hint",hint:n.default.createElement(n.default.Fragment,null,A.constants.autoscaleHint," ",n.default.createElement(_.default,{href:h.default.APPLYING_AUTOSCALING},"Learn more about autoscaling"))})),n.default.createElement(s.DescriptionListDescription,null,"Enabled"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{className:"autoscale-data-t"},"Min:")," ",W,n.default.createElement("span",{className:"pf-v5-u-ml-lg autoscale-data-t"},"Max: "),$)),J&&!te&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Instance Metadata Service (IMDS)"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"instanceMetadataService"},Ie===p.IMDSType.V1AndV2?"IMDSv1 and IMDSv2":"IMDSv2 only"))),n.default.createElement(O.default,{cluster:V}),Ae&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Secure Boot support for Shielded VMs"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"secureBootSupportForShieldedVMs"},Re?"Enabled":"Disabled"))),ye&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"OIDC Configuration"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Type:"),n.default.createElement("dd",null,null!=ye&&ye.managed?"Red Hat managed":"Self-managed")),n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"ID:"),n.default.createElement("dd",null,null==ye?void 0:ye.id))))))}N.propTypes={cluster:i.default.any,totalDesiredComputeNodes:i.default.number,totalMinNodesCount:i.default.number,totalMaxNodesCount:i.default.number,hasAutoscaleMachinePools:i.default.bool.isRequired,hasAutoscaleCluster:i.default.bool.isRequired,limitedSupport:i.default.bool,totalActualNodes:i.default.oneOfType([i.default.number,i.default.bool]),machinePools:i.default.array,isDeprovisioned:i.default.bool},t.default=N},74290:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=l(a(52865)),i=l(a(88004));t.default=(0,n.connect)((e=>{var t;const{cluster:a}=e.clusters.details,l=e.machinePools.getMachinePools.data,n=(0,r.default)(a,l),i=!(null==a||!a.autoscaler),{hasMachinePoolWithAutoscaling:s,totalMinNodesCount:o,totalMaxNodesCount:u,totalDesiredComputeNodes:d,totalActualNodes:c}=n;return s?{hasAutoscaleMachinePools:!0,hasAutoscaleCluster:i,totalMinNodesCount:o,totalMaxNodesCount:u,totalActualNodes:c,machinePools:l}:{hasAutoscaleMachinePools:!1,hasAutoscaleCluster:i,totalDesiredComputeNodes:d,totalActualNodes:c,limitedSupport:(null==a||null===(t=a.status)||void 0===t?void 0:t.limited_support_reason_count)>0,machinePools:l}}),null)(i.default)},67039:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(93179),s=a(95887);const o=e=>{let{entries:t,issueCount:a,externalId:l}=e;return n.default.createElement(i.ChartDonut,{data:t.map((e=>{let[t,a]=e;return{label:`${s.riskLabels[t]} ${a}`,x:t,y:a}})),title:`${a}`,titleComponent:n.default.createElement(s.InsightsTitleComponent,{style:{}}),subTitle:"Total "+(1===a?"issue":"issues"),subTitleComponent:n.default.createElement(s.InsightsSubtitleComponent,{externalId:l,style:{}}),legendData:t.map((e=>{let[t,a]=e;return{name:`${a} ${s.riskLabels[t]}`}})),legendOrientation:"vertical",legendPosition:"right",constrainToVisibleArea:!0,width:350,height:200,colorScale:s.chartColorScale,legendComponent:n.default.createElement(i.ChartLegend,{data:t.map((e=>{let[t,a]=e;return{name:`${a} ${s.riskLabels[t]}`,id:t,value:a}})),labelComponent:n.default.createElement(s.InsightsLabelComponent,{externalId:l,style:{}}),dataComponent:n.default.createElement(s.InsightsLegendIconComponent,null),x:200}),radius:80,padAngle:0,padding:{bottom:0,left:10,right:170,top:20}})};t.default=o,o.propTypes={entries:r.default.array.isRequired,issueCount:r.default.number.isRequired,externalId:r.default.string.isRequired}},86413:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345));t.default=e=>n.default.createElement("svg",{x:"3.5",y:"2.5"},n.default.createElement("svg",e,n.default.createElement("polygon",{points:"10 10, 10 3, 5 0, 0 3, 0 10, 5 8"})))},60970:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(5556),i=a(97419),s=l(a(42601)),o=a(4858),u=l(a(67039));a(22407);const d=e=>{let{insightsData:t,externalId:a}=e;const l=t.data?t.data.filter((e=>!e.disabled)):[],r=Object.entries((0,o.groupRulesByRisk)(l)).reverse();return n.default.createElement(i.Flex,null,n.default.createElement(i.FlexItem,null,n.default.createElement(i.Title,{className:"ocm-c-overview-advisor--card__title",size:"lg",headingLevel:"h2"},"Advisor recommendations"),n.default.createElement(s.default,null)),n.default.createElement(i.FlexItem,null,n.default.createElement(u.default,{entries:r,issueCount:l.length,externalId:a})))};d.propTypes={insightsData:r.PropTypes.object,externalId:r.PropTypes.string.isRequired},t.default=d},95887:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.riskLabels=t.riskIcons=t.legendColorScale=t.chartColorScale=t.InsightsTitleComponent=t.InsightsSubtitleComponent=t.InsightsLegendIconComponent=t.InsightsLabelComponent=void 0;var n=l(a(94634)),r=l(a(43693)),i=l(a(91847)),s=l(a(93345)),o=a(5556),u=a(93179),d=a(80613),c=a(16082),m=a(39636),p=a(95832),f=a(27468),E=a(61927),g=a(4966),v=a(53242),h=a(69304),b=l(a(86413));const S=["style"],_=["style"],C=["externalId","style"];function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.riskLabels={1:"Low",2:"Moderate",3:"Important",4:"Critical"};const A=t.riskIcons={1:d.AngleDoubleDownIcon,2:m.EqualsIcon,3:c.AngleDoubleUpIcon,4:b.default},R=t.legendColorScale={1:f.global_palette_blue_300.value,2:E.global_palette_gold_400.value,3:g.global_palette_orange_300.value,4:v.global_palette_red_200.value},T=(t.chartColorScale=[v.global_palette_red_200.value,g.global_palette_orange_300.value,E.global_palette_gold_400.value,p.global_palette_blue_50.value],e=>{let{style:t}=e,a=(0,i.default)(e,S);return s.default.createElement(u.ChartLabel,(0,n.default)({},a,{style:I(I({},t),{},{fontSize:30,fontWeight:"bold"})}))});t.InsightsTitleComponent=T;const O=e=>{let{style:t}=e,a=(0,i.default)(e,_);const{datum:l,externalId:r}=a,o=`${h.advisorBaseName}/clusters/${r}?total_risk=${l.id}`;return s.default.createElement("a",{href:o},s.default.createElement(u.ChartLabel,(0,n.default)({},a,{style:I(I({},t),{},{fontSize:15}),className:r&&(null==l?void 0:l.value)>0?"ocm-c-overview-advisor--enabled-link":"ocm-c-overview-advisor--disabled-link"})))};t.InsightsLabelComponent=O;const P=e=>{let{x:t,y:a,datum:l}=e;const n=A[l.id];return s.default.createElement(n,{x:t-5,y:a-7,fill:R[l.id]})};t.InsightsLegendIconComponent=P;const D=e=>{let{externalId:t,style:a}=e,l=(0,i.default)(e,C);const r=`${h.advisorBaseName}/clusters/${t}`;return s.default.createElement("a",{href:r},s.default.createElement(u.ChartLabel,(0,n.default)({},l,{style:I(I({},a),{},{fontSize:15}),dy:5,className:"ocm-c-overview-advisor--enabled-link"})))};t.InsightsSubtitleComponent=D,D.propTypes={externalId:o.PropTypes.string.isRequired,style:o.PropTypes.object.isRequired},O.propTypes={datum:o.PropTypes.shape({value:o.PropTypes.number,id:o.PropTypes.string}),externalId:o.PropTypes.string.isRequired,style:o.PropTypes.object.isRequired},T.propTypes={style:o.PropTypes.object.isRequired},P.propTypes={x:o.PropTypes.number,y:o.PropTypes.number,datum:o.PropTypes.shape({id:o.PropTypes.string})}},75567:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.installationLogActions=t.getLogs=t.clearLogs=void 0;var n=l(a(43693)),r=a(73410),i=a(14434);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"install";return l=>l({type:i.installationLogConstants.GET_LOGS,payload:r.clusterService.getLogs(e,t,a).then((e=>o(o({},e),{},{logType:a})))})};t.getLogs=u;const d=()=>e=>e({type:i.installationLogConstants.CLEAR_LOGS});t.clearLogs=d,t.installationLogActions={getLogs:u,clearLogs:d}},14434:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.installationLogConstants=t.GET_LOGS=t.CLEAR_LOGS=void 0;const a=t.GET_LOGS="GET_LOGS",l=t.CLEAR_LOGS="CLEAR_LOGS";t.installationLogConstants={GET_LOGS:a,CLEAR_LOGS:l}},14231:(e,t,a)=>{"use strict";var l=a(24994);t.To=m;var n=l(a(43693)),r=a(89407),i=a(89217),s=a(95762),o=a(14434);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c=d(d({},s.baseRequestState),{},{lines:"",len:0,logType:void 0});function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(a=>{switch(t.type){case(0,s.PENDING_ACTION)(o.GET_LOGS):a.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.GET_LOGS):{let a,l;return t.payload.logType===e.logType?(a=t.payload.data.content?e.lines+t.payload.data.content:e.lines,l=t.payload.data.content?e.len+t.payload.data.content.split("\n").length:e.len):(a=t.payload.data.content||"",l=t.payload.data.content?t.payload.data.content.split("\n").length:0),d(d({},c),{},{lines:a,len:l,fulfilled:!0,logType:t.payload.logType})}case(0,s.REJECTED_ACTION)(o.GET_LOGS):return d(d(d({},c),(0,i.getErrorState)(t)),{},{lines:e.lines,len:e.len});case o.CLEAR_LOGS:return c}}))}m.initialState=c},95338:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(46942)),s=l(a(5556)),o=l(a(45041)),u=a(97419),d=a(87503),c=l(a(23271)),m=a(59910);class p extends r.default.Component{constructor(e){super(e),(0,n.default)(this,"state",{userScrolled:!1,isFullScreen:!1,isExpanded:!1}),(0,n.default)(this,"isShown",(()=>{const{isExpanded:e}=this.state,{isExpandable:t}=this.props;return!t||e})),(0,n.default)(this,"toggleExpanded",(e=>{this.setState({isExpanded:e})})),(0,n.default)(this,"scrollToEnd",(()=>{const{lines:e}=this.props;if(e){const e=this.logPaneRef.current;e&&e.scrollTo&&e.scrollTo({top:e.scrollHeight})}})),(0,n.default)(this,"onScroll",(e=>{const{userScrolled:t}=this.state,a=e.target,l=a.scrollHeight-a.clientHeight-a.scrollTop;!t&&l>20&&this.isPageVisible&&this.isShown()&&this.setState({userScrolled:!0}),t&&l<=20&&this.setState({userScrolled:!1})})),(0,n.default)(this,"onFullscreenChange",(()=>{const{userScrolled:e}=this.state,t=o.default.isFullscreen;this.setState({isFullScreen:t}),e||this.scrollToEnd()})),(0,n.default)(this,"onVisibilityChange",(()=>{null!==this.updateTimer&&window.clearInterval(this.updateTimer),this.isPageVisible="visible"===document.visibilityState,this.isShown()&&(this.isPageVisible?(this.updateTimer=window.setInterval(this.update,2e3),this.update()):this.updateTimer=window.setInterval(this.update,15e3))})),(0,n.default)(this,"update",(()=>{const{getLogs:e,cluster:t,lines:a,len:l,logType:n,pending:r,errorCode:i}=this.props;if(!r&&403!==i){const r=t.state!==c.default.UNINSTALLING?"install":"uninstall";let i=a?l:0;n!==r&&(i=0),e(t.id,i,r)}})),(0,n.default)(this,"fullScreen",(()=>{const{userScrolled:e}=this.state;if(o.default.isFullscreen)o.default.exit().then((()=>{this.setState({isFullScreen:!1})}));else{const t=this.cardRef.current;o.default.request(t).then((()=>{e||setTimeout((()=>{this.scrollToEnd()}),100),this.setState({isFullScreen:!0})}))}})),this.logPaneRef=r.default.createRef(),this.cardRef=r.default.createRef()}componentDidMount(){this.isShown()&&(this.update(),this.updateTimer=window.setInterval(this.update,2e3)),o.default.isEnabled&&o.default.on("change",this.onFullscreenChange),document.addEventListener("visibilitychange",this.onVisibilityChange),this.isPageVisible="visible"===document.visibilityState}shouldComponentUpdate(e,t){return t.userScrolled!==this.state.userScrolled||t.isExpanded!==this.state.isExpanded||t.isFullScreen!==this.state.isFullScreen||e.lines!==this.props.lines||e.cluster.state!==this.props.cluster.state||e.cluster.id!==this.props.cluster.id||e.errorCode!==this.props.errorCode||e.logType!==this.props.logType||e.isExpandable!==this.props.isExpandable}componentDidUpdate(e,t){const{lines:a,errorCode:l,cluster:n}=this.props,{isExpanded:r}=this.state;!e.lines&&a&&this.setState({userScrolled:!1}),(403!==e.errorCode&&403===l||n.state===c.default.ERROR)&&null!==this.updateTimer&&window.clearInterval(this.updateTimer),r!==t.isExpanded&&(r&&this.setState({userScrolled:!1}),this.onVisibilityChange())}componentWillUnmount(){const{clearLogs:e}=this.props;null!==this.updateTimer&&window.clearInterval(this.updateTimer),o.default.isEnabled&&o.default.off("change",this.onFullscreenChange),document.removeEventListener("visibilitychange",this.onVisibilityChange),e(),o.default.isFullscreen&&o.default.exit()}render(){const{lines:e,len:t,errorCode:a,cluster:l,isExpandable:n}=this.props,{userScrolled:s,isFullScreen:p,isExpanded:f}=this.state,E=e?t-1:0;let g;!s&&E&&this.isShown()&&requestAnimationFrame(this.scrollToEnd),g=l.state===c.default.UNINSTALLING?403===a?m.metricsStatusMessages.uninstalling:"Cluster uninstallation has started. Uninstallation log will appear here once it becomes available.":403===a?m.metricsStatusMessages.installing:"Cluster installation has started. Installation log will appear here once it becomes available.";const v=r.default.createElement("div",{className:(0,i.default)("log-window-container",!!E&&"log-window-container--with-lines"),ref:this.cardRef},!!E&&o.default.isEnabled&&r.default.createElement("div",{className:"logview-buttons"},r.default.createElement(u.Button,{onClick:this.fullScreen,variant:"link",icon:r.default.createElement(d.ExpandIcon,null)},p?"Exit full screen":"Full screen")),E?r.default.createElement("div",{className:"log-window"},r.default.createElement("div",{className:"log-window__header"},E," lines"),r.default.createElement("div",{className:"log-window__body"},r.default.createElement("div",{className:"log-window__scroll-pane",ref:this.logPaneRef,onScroll:this.onScroll},r.default.createElement("div",{className:"log-window__contents"},e||"")))):l.state!==c.default.ERROR&&r.default.createElement("p",{className:"pf-v5-u-mt-sm"},g));return n?r.default.createElement(u.ExpandableSection,{id:"toggle-logs",toggleTextCollapsed:"View logs",toggleTextExpanded:"Hide logs",onToggle:(e,t)=>this.toggleExpanded(t),isExpanded:f,isActive:!p},v):v}}p.propTypes={isExpandable:s.default.bool,clearLogs:s.default.func.isRequired,getLogs:s.default.func.isRequired,pending:s.default.bool,lines:s.default.string,len:s.default.number,logType:s.default.oneOf(["install","uninstall"]),cluster:s.default.shape({id:s.default.string,state:s.default.string}),errorCode:s.default.number},t.default=p},2509:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Object.defineProperty(t,"shouldShowLogs",{enumerable:!0,get:function(){return s.default}});var n=a(73729),r=a(75567),i=l(a(95338)),s=l(a(9120));const o={clearLogs:r.clearLogs,getLogs:r.getLogs};t.default=(0,n.connect)((e=>({lines:e.logs.lines,len:e.logs.len,pending:e.logs.pending,errorCode:e.logs.errorCode,logType:e.logs.logType})),o)(i.default)},9120:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(23271));t.default=e=>e.managed&&e.canEdit&&(e.state===n.default.WAITING||e.state===n.default.PENDING||e.state===n.default.INSTALLING||e.state===n.default.VALIDATING||e.state===n.default.ERROR||e.state===n.default.UNINSTALLING)},92946:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(58156)),s=l(a(5556)),o=T(a(25247)),u=a(97419),d=a(51513),c=a(69304),m=a(62384),p=a(59067),f=T(a(22902)),E=T(a(23271)),g=a(59910),v=l(a(36447)),h=a(68206),b=l(a(60970)),S=l(a(23420)),_=l(a(15113)),C=l(a(17458)),y=l(a(74290)),I=a(2509),A=l(a(49818));function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(60687);const{AssistedInstallerDetailCard:D,AssistedInstallerExtraDetailCard:L}=o;class N extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{showInstallSuccessAlert:!1})}componentDidUpdate(e){const{cluster:t}=this.props;e.cluster.state!==E.default.INSTALLING&&e.cluster.state!==E.default.PENDING&&e.cluster.state!==E.default.WAITING||t.state!==E.default.READY||!t.managed||e.cluster.id!==t.id||this.setState({showInstallSuccessAlert:!0})}render(){const{cluster:e,cloudProviders:t,refresh:a,insightsData:l,userAccess:n,hasNetworkOndemand:s,chromeHistory:o}=this.props,{showInstallSuccessAlert:R}=this.state,T=(0,i.default)(e,"subscription.status",!1)===p.SubscriptionCommonFields.status.ARCHIVED,O=(0,i.default)(e,"subscription.status",!1)===p.SubscriptionCommonFields.status.DEPROVISIONED,N=(0,h.hasResourceUsageMetrics)(e)&&(e.canEdit||e.state!==E.default.WAITING&&e.state!==E.default.PENDING&&e.state!==E.default.INSTALLING),w=T?g.metricsStatusMessages.archived:g.metricsStatusMessages[e.state]||g.metricsStatusMessages.default,M=e.state===E.default.WAITING||e.state===E.default.PENDING||e.state===E.default.INSTALLING||e.state===E.default.ERROR||e.state===E.default.UNINSTALLING||(0,E.hasInflightEgressErrors)(e)&&s,k=`${d.HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY}_${e.id}`,F=!(0,E.hasInflightEgressErrors)(e)&&e.state!==E.default.ERROR&&"true"===localStorage.getItem(k),x=!(0,m.isRestrictedEnv)()&&200===(null==l?void 0:l.status)&&(null==l?void 0:l.data)&&!O&&!T,G=!((0,E.isHibernating)(e)||(0,f.default)(e.subscription)||(0,I.shouldShowLogs)(e)||O||T||(0,m.isRestrictedEnv)()||(0,E.hasInflightEgressErrors)(e)),U=!e.managed&&n.fulfilled&&void 0!==n.data&&!0===n.data&&!O&&!T,j=x||U,H=(0,f.isAvailableAssistedInstallCluster)(e),V=!e.aiCluster||!(0,f.isUninstalledAICluster)(e),q=!O&&!T,z=r.default.createElement(u.Card,{className:"ocm-c-overview-resource-usage__card","data-testid":"resource-usage"},r.default.createElement(u.CardTitle,{className:"ocm-c-overview-resource-usage__card--header"},r.default.createElement(u.Title,{headingLevel:"h2",className:"card-title"},"Resource usage")),r.default.createElement(u.CardBody,{className:"ocm-c-overview-resource-usage__card--body"},r.default.createElement(v.default,{metricsAvailable:N,metricsStatusMessage:w,cpu:{used:e.metrics.cpu.used,total:e.metrics.cpu.total},memory:{used:e.metrics.memory.used,total:e.metrics.memory.total},type:"threshold"})));return r.default.createElement(u.Grid,{hasGutter:!0},r.default.createElement(u.GridItem,{xl2:j?9:12},r.default.createElement(u.Grid,{hasGutter:!0},R&&r.default.createElement(u.Alert,{variant:"success",isInline:!0,title:"Cluster installed successfully"}),F&&r.default.createElement(u.Alert,{variant:"success",isInline:!0,title:"This cluster can now be fully-managed",actionClose:r.default.createElement(u.AlertActionCloseButton,{onClose:()=>{localStorage.removeItem(k),a()}})}),M&&r.default.createElement(S.default,{refresh:a,cluster:e}),H&&r.default.createElement(D,{permissions:(0,E.getClusterAIPermissions)(e),aiClusterId:e.aiCluster.id,history:o,basename:c.ocmBaseName}),G&&!j&&z,V&&r.default.createElement(u.Card,{className:"ocm-c-overview-details__card"},r.default.createElement(u.CardTitle,{className:"ocm-c-overview-details__card--header"},r.default.createElement(u.Title,{headingLevel:"h2",className:"card-title"},"Details")),r.default.createElement(u.CardBody,{className:"ocm-c-overview-details__card--body"},r.default.createElement(u.Grid,null,r.default.createElement(u.GridItem,{sm:6},r.default.createElement(C.default,{cluster:e,cloudProviders:t,showAssistedId:H})),r.default.createElement(u.GridItem,{sm:6},r.default.createElement(y.default,{cluster:P({},e),isDeprovisioned:O}))),H&&r.default.createElement(L,null))),q&&r.default.createElement(A.default,null))),j&&r.default.createElement(u.GridItem,{xl2:3},r.default.createElement(u.Grid,{hasGutter:!0},G&&r.default.createElement(u.GridItem,{sm:6,xl2:12},z),x&&r.default.createElement(u.GridItem,{sm:6,xl2:12},r.default.createElement(u.Card,{className:"ocm-c-overview-advisor--card",ouiaId:"insightsAdvisor","data-testid":"insights-advisor"},r.default.createElement(u.CardBody,null,r.default.createElement(b.default,{insightsData:l,externalId:null==e?void 0:e.external_id})))),U&&r.default.createElement(u.GridItem,{sm:6,xl2:12},r.default.createElement(_.default,{clusterId:e.external_id})))))}}N.propTypes={cluster:s.default.object,cloudProviders:s.default.object.isRequired,refresh:s.default.func,hasNetworkOndemand:s.default.bool,insightsData:s.default.object,userAccess:s.default.shape({data:s.default.bool,pending:s.default.bool,fulfilled:s.default.bool}).isRequired,chromeHistory:s.default.object},t.default=N},5616:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(97419),o=a(31003),u=a(99851),d=a(54144),c=l(a(43775)),m=a(59067),p=a(75166),f=l(a(8888));function E(e){let{subscription:t,openModal:a,canEdit:l=!1,canSubscribeOCP:i=!1,isSubscriptionSettingsRequestPending:E,isClusterDetailsPending:g}=e;if((0,r.default)(t,"plan.type")!==p.normalizedProducts.OCP)return null;const v=(0,r.default)(t,"status"),h=l&&v!==m.SubscriptionCommonFields.status.ARCHIVED&&v!==m.SubscriptionCommonFields.status.DEPROVISIONED,b=(0,r.default)(t,p.subscriptionSettings.SUPPORT_LEVEL,"Not set");let S=b,_=null;b===m.SubscriptionCommonFields.support_level.EVAL?(S="Self-Support 60-day evaluation",h&&(_=n.default.createElement(u.ExclamationTriangleIcon,{className:"subscription-settings warning-title-icon"}))):b===m.SubscriptionCommonFields.support_level.NONE&&(S="Evaluation expired",h&&(_=n.default.createElement(o.ExclamationCircleIcon,{className:"subscription-settings danger-title-icon"})));const C=(0,r.default)(t,p.subscriptionSettings.CLUSTER_BILLING_MODEL);let y="Not set";C===p.billingModels.STANDARD?y="Annual: Fixed capacity subscription from Red Hat":C===p.billingModels.MARKETPLACE&&(y="On-Demand (Hourly)");const I=(0,r.default)(t,p.subscriptionSettings.USAGE,"Not set"),A=(0,r.default)(t,p.subscriptionSettings.SERVICE_LEVEL);let R="Not set";A===m.SubscriptionCommonFields.service_level.L1_L3?R="Red Hat support (L1-L3)":A===m.SubscriptionCommonFields.service_level.L3_ONLY&&(R="Partner support (L3)");const T=(0,r.default)(t,p.subscriptionSettings.CPU_TOTAL,void 0),O=`${T} core${1===T?"":"s"}`,P=(0,r.default)(t,p.subscriptionSettings.SOCKET_TOTAL,void 0),D=`${P} socket${1===P?"":"s"}`;let L=(0,r.default)(t,p.subscriptionSettings.SYSTEM_UNITS,void 0);void 0===L&&(L=void 0!==T?m.SubscriptionCommonFields.system_units.CORES_V_CPU:void 0!==P?m.SubscriptionCommonFields.system_units.SOCKETS:"Not set");let N="Not set";L===m.SubscriptionCommonFields.system_units.SOCKETS&&void 0!==P?N="Sockets":L===m.SubscriptionCommonFields.system_units.CORES_V_CPU&&void 0!==T&&(N="Cores or vCPUs");const w=void 0!==T||void 0!==P,M=L===m.SubscriptionCommonFields.system_units.SOCKETS?"Number of compute sockets":"Number of compute cores",k=L===m.SubscriptionCommonFields.system_units.SOCKETS?D:O,F=E||g;return n.default.createElement(s.Card,{className:"ocm-c-overview-subscription-settings__card"},n.default.createElement(s.CardTitle,{className:"ocm-c-overview-subscription-settings__card--header"},n.default.createElement(s.Title,{headingLevel:"h2",className:"card-title"},"Subscription settings",_)),!i&&n.default.createElement(s.CardBody,null,n.default.createElement(s.Alert,{id:"subscription-settings-contact-sales-alert",variant:"info",isInline:!0,title:"Your organization doesn't have an active subscription. Purchase an OpenShift subscription by contacting sales."},n.default.createElement(f.default,{href:"https://www.redhat.com/en/contact"},"Contact sales"))),n.default.createElement(s.CardBody,{className:"ocm-c-overview-subscription-settings__card--body"},F?n.default.createElement(d.Skeleton,null):n.default.createElement(s.Grid,null,n.default.createElement(s.GridItem,{md:6},n.default.createElement(s.DescriptionList,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Subscription type"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"subscription-type"},y)),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Service level agreement (SLA)"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"service-level-agreement"},S)),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Support type"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"support-type"},R),h&&n.default.createElement(s.DescriptionListDescription,{class:"pf-v5-u-mt-lg"},n.default.createElement(s.Button,{variant:"link",isDisabled:!i,isInline:!0,onClick:()=>{a(c.default.EDIT_SUBSCRIPTION_SETTINGS,{subscription:t})}},"Edit subscription settings"))))),n.default.createElement(s.GridItem,{md:6},n.default.createElement(s.DescriptionList,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Cluster usage"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"cluster-usage"},I)),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Subscription units"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"subscription-units"},N)),w&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,M),n.default.createElement(s.DescriptionListDescription,{"data-testid":"cores-or-sockets"},k)))))))}E.propTypes={subscription:i.default.object.isRequired,canEdit:i.default.bool.isRequired,canSubscribeOCP:i.default.bool.isRequired,isSubscriptionSettingsRequestPending:i.default.bool,isClusterDetailsPending:i.default.bool,openModal:i.default.func.isRequired},t.default=E},49818:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58156)),r=a(73729),i=a(91089),s=a(9225),o=l(a(5616));const u={openModal:i.modalActions.openModal};t.default=(0,r.connect)((e=>({canEdit:(0,n.default)(e,"clusters.details.cluster.canEdit",!1),canSubscribeOCP:(0,s.canSubscribeOCPSelector)(e),subscription:(0,n.default)(e,"clusters.details.cluster.subscription",{}),isClusterDetailsPending:(0,n.default)(e,"clusters.details.pending",!1),isSubscriptionSettingsRequestPending:(0,n.default)(e,"subscriptionSettings.requestState.pending",!1)})),u)(o.default)},84801:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=l(a(81621)),u=l(a(6071)),d=l(a(12200)),c=l(a(55816)),m=l(a(43775)),p=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),f=l(a(81551)),E=l(a(89037)),g=l(a(87461)),v=l(a(26675)),h=l(a(13058)),b=a(45492);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}a(48346);class _ extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{confirmationModalOpen:!1}),(0,n.default)(this,"closeConfirmationModal",(()=>{this.setState({confirmationModalOpen:!1})}))}componentDidMount(){const{getSchedules:e,cluster:t,upgradeScheduleRequest:a}=this.props;t.id&&!a.pending&&e(t.id,(0,p.isHypershiftCluster)(t))}componentDidUpdate(e){const{isAutomatic:t,schedules:a,pristine:l,getClusterDetails:n,editClusterRequest:r,cluster:i}=this.props,s=a.items.find((e=>"manual"===e.schedule_type&&"OSD"===e.upgrade_type));!e.isAutomatic&&t&&!l&&s&&this.setState({confirmationModalOpen:!0}),e.editClusterRequest.pending&&r.fulfilled&&n(i.subscription.id)}componentWillUnmount(){const{clearResponses:e}=this.props;e()}render(){var e,t,a,l,n,i;const{isAutomatic:S,handleSubmit:_,pristine:C,schedules:y,upgradeScheduleRequest:I,deleteScheduleRequest:A,editClusterRequest:R,reset:T,cluster:O,openModal:P,change:D,initialValues:L,clusterHibernating:N,isReadOnly:w,isAROCluster:M}=this.props,{confirmationModalOpen:k}=this.state,F=!y.fulfilled||I.pending,x=w&&"This operation is not available during maintenance",G=N&&"This operation is not available while cluster is hibernating",U=O.state!==p.default.READY&&"This cluster is not ready",j=C&&"No changes to save",H=x||G,V=(0,p.isHypershiftCluster)(O),q=(0,o.default)(O),z=y.items.find((e=>"manual"===e.schedule_type&&e.upgrade_type===(V?"ControlPlane":"OSD"))),B=y.items.find((e=>["manual","automatic"].includes(e.schedule_type)&&e.upgrade_type===(V?"ControlPlane":"OSD"))),W=B&&("started"===(null===(e=B.state)||void 0===e?void 0:e.value)||"delayed"===(null===(t=B.state)||void 0===t?void 0:t.value)),$=null==O||null===(a=O.version)||void 0===a?void 0:a.available_upgrades,Y=(!!O.openshift_version||!(null==O||null===(l=O.version)||void 0===l||!l.id))&&(null==$?void 0:$.length)>0&&!B&&!N,K=I.pending||A.pending||R.pending,Q=r.default.createElement(d.default,{disableReason:H||j,isAriaDisabled:F||W,variant:"primary",onClick:_,isLoading:K},"Save"),Z=r.default.createElement(d.default,{isDisabled:C,variant:"link",onClick:T},"Cancel"),X=!!(x||G||U),J=r.default.createElement(s.Alert,{variant:"info",className:"pf-v5-u-mb-md",isInline:!0,title:"Version updates will not occur while this cluster is Hibernating. Once resumed, updates will start according to the selected updates strategy."});return r.default.createElement(s.Grid,{hasGutter:!0,className:"ocm-c-upgrade-monitoring"},R.error&&r.default.createElement(s.GridItem,null,r.default.createElement(c.default,{response:R,message:"Error processing request"})),!M&&!V&&r.default.createElement(s.GridItem,null,r.default.createElement(s.Card,null,r.default.createElement(s.CardBody,null,r.default.createElement(h.default,{parent:"details",disableUVM:X,planType:null===(n=O.subscription)||void 0===n||null===(n=n.plan)||void 0===n?void 0:n.type})))),r.default.createElement(s.GridItem,{lg:9,md:12,className:"ocm-c-upgrade-monitoring-top"},r.default.createElement(s.Card,null,r.default.createElement(s.CardTitle,null,"Update strategy"),r.default.createElement(s.CardBody,null,z&&k&&r.default.createElement(s.Modal,{variant:"small",title:"Recurring updates",isOpen:!0,onClose:()=>{this.closeConfirmationModal(),T()},actions:[r.default.createElement(s.Button,{key:"confirm",variant:"primary",onClick:this.closeConfirmationModal},"Yes, cancel scheduled update"),r.default.createElement(s.Button,{key:"cancel",variant:"secondary",onClick:()=>{this.closeConfirmationModal(),T()}},"No, keep scheduled update")]},"By choosing recurring updates, any individually scheduled update will be"," ","cancelled. Are you sure you want to continue?"),N&&J,I.error&&r.default.createElement(c.default,{response:I,message:"Can't schedule upgrade"}),A.error&&r.default.createElement(c.default,{response:A,message:"Can't unschedule upgrade"}),r.default.createElement(E.default,null),r.default.createElement(f.default,null),r.default.createElement(b.UpdateAllMachinePools,{goToMachinePoolTab:!0}),r.default.createElement(s.Form,null,r.default.createElement(s.Grid,{hasGutter:!0},r.default.createElement(g.default,{isAutomatic:S,isDisabled:!!H,change:D,initialScheduleValue:L.automatic_upgrade_schedule,showDivider:!0,isHypershift:V,product:null==O||null===(i=O.product)||void 0===i?void 0:i.id})))),r.default.createElement(s.CardFooter,null,r.default.createElement(s.Flex,null,r.default.createElement(s.FlexItem,null,Q),r.default.createElement(s.FlexItem,null,Z))))),r.default.createElement(s.GridItem,{lg:3,md:12,className:"ocm-c-upgrade-monitoring-top"},r.default.createElement(s.Card,null,r.default.createElement(s.CardTitle,null,"Update status"),r.default.createElement(s.CardBody,null,r.default.createElement(v.default,{clusterID:O.id,canEdit:O.canEdit,clusterVersion:q,scheduledUpgrade:B,availableUpgrades:$,openModal:P}),Y&&r.default.createElement(s.Button,{variant:"secondary",onClick:()=>P(m.default.UPGRADE_WIZARD,{clusterName:(0,u.default)(O),subscriptionID:O.subscription.id})},"Update")))))}}_.propTypes={pristine:i.default.bool,isAutomatic:i.default.bool,isAROCluster:i.default.bool,clusterHibernating:i.default.bool,isReadOnly:i.default.bool.isRequired,cluster:i.default.shape({canEdit:i.default.bool,openshift_version:i.default.string,id:i.default.string,subscription:i.default.shape({id:i.default.string,plan:i.default.shape({type:i.default.string})}),version:i.default.shape({channel_group:i.default.string,available_upgrades:i.default.arrayOf(i.default.string),raw_id:i.default.string,id:i.default.string}),state:i.default.string,product:i.default.shape({id:i.default.string})}),getSchedules:i.default.func.isRequired,getClusterDetails:i.default.func.isRequired,handleSubmit:i.default.func.isRequired,schedules:i.default.shape({fulfilled:i.default.bool,pending:i.default.bool,items:i.default.array}),upgradeScheduleRequest:i.default.shape({fulfilled:i.default.bool,pending:i.default.bool,error:i.default.bool}),deleteScheduleRequest:i.default.shape({pending:i.default.bool,error:i.default.bool}),editClusterRequest:i.default.shape({pending:i.default.bool,error:i.default.bool,fulfilled:i.default.bool}),reset:i.default.func,openModal:i.default.func,clearResponses:i.default.func,change:i.default.func,initialValues:i.default.shape({automatic_upgrade_schedule:i.default.string})},t.default=_},68927:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(58156)),i=l(a(62193)),s=a(73729),o=a(72740),u=a(75166),d=a(24239),c=a(91089),m=a(23271),p=a(99908),f=l(a(84801));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const v=(0,o.reduxForm)({form:"ClusterUpgradeSettings",enableReinitialize:!0})(f.default),h=(0,o.formValueSelector)("ClusterUpgradeSettings");t.default=(0,s.connect)((e=>{var t,a;const l=e.clusterUpgrades.schedules.items.find((e=>"automatic"===e.schedule_type)),{cluster:n}=e.clusters.details;return{cluster:n,isAROCluster:(0,r.default)(n,"subscription.plan.type","")===u.knownProducts.ARO,clusterHibernating:(0,m.isHibernating)(n),isReadOnly:"read_only"===(null==n||null===(t=n.status)||void 0===t?void 0:t.configuration_mode),isAutomatic:"automatic"===h(e,"upgrade_policy"),schedules:e.clusterUpgrades.schedules,upgradeScheduleRequest:e.clusterUpgrades.postedUpgradeSchedule,deleteScheduleRequest:e.clusterUpgrades.deleteScheduleRequest,editClusterRequest:e.clusters.editedCluster,isHypershift:(0,m.isHypershiftCluster)(n),initialValues:{upgrade_policy:l?"automatic":"manual",automatic_upgrade_schedule:(null==l?void 0:l.schedule)||"0 0 * * 0",node_drain_grace_period:null===(a=n.node_drain_grace_period)||void 0===a?void 0:a.value,enable_user_workload_monitoring:!n.disable_user_workload_monitoring}}}),(e=>({clearResponses:()=>{e((0,p.clearPostedUpgradeScheduleResponse)()),e((0,p.clearDeleteScheduleResponse)()),e((0,d.clearClusterResponse)())},openModal:(t,a)=>e((0,c.openModal)(t,a)),getSchedules:(t,a)=>e((0,p.getSchedules)(t,a)),getClusterDetails:t=>e((0,d.fetchClusterDetails)(t)),onSubmit:(t,a,l,n,r,s)=>{const o=l.items.find((e=>"automatic"===e.schedule_type)),u=l.items.find((e=>"manual"===e.schedule_type));if("automatic"===t.upgrade_policy){if(o&&o!==t.automatic_upgrade_schedule)e((0,p.editSchedule)(a,o.id,{schedule:t.automatic_upgrade_schedule},s));else if(!o){const l={schedule_type:"automatic",schedule:t.automatic_upgrade_schedule};e(u?(0,p.replaceSchedule)(a,u.id,l,s):(0,p.postSchedule)(a,l,s))}}else o&&e((0,p.deleteSchedule)(a,o.id,s));const c={};n!==t.node_drain_grace_period&&(c.node_drain_grace_period={value:t.node_drain_grace_period}),r!==t.enable_user_workload_monitoring&&(c.disable_user_workload_monitoring=!t.enable_user_workload_monitoring),(0,i.default)(c)||e((0,d.editCluster)(a,c))}})),((e,t,a)=>g(g(g(g({},a),e),t),{},{getSchedules:(e,a)=>{t.getSchedules(e,a)},onSubmit:a=>{var l;t.onSubmit(a,e.cluster.id,e.schedules,null===(l=e.cluster.node_drain_grace_period)||void 0===l?void 0:l.value,!e.cluster.disable_user_workload_monitoring,e.isHypershift)}})))(v)},67068:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58156)),r=a(73729),i=a(28895),s=a(3678),o=a(11243),u=a(30593),d=a(25883),c=a(52202),m=a(85825),p=a(27241),f=a(976),E=a(56349),g=a(10138),v=a(24239),h=a(23557),b=a(9059),S=a(5368),_=a(13683),C=a(33799),y=a(22916),I=a(91089),A=a(9225),R=a(71626),T=a(38544),O=a(99908),P=a(86386),D=a(69534),L=l(a(76610)),N=a(11307),w=a(1122),M=a(89070),k=a(53383),F=a(80697),x=a(66213),G=a(91756),U=a(44021),j=l(a(12982));t.default=(0,r.connect)((e=>{var t;const{details:a}=e.clusters,{cloudProviders:l,clusterRouters:r}=e,{addOns:i}=e.addOns,{clusterIdentityProviders:s}=e.identityProviders,{organization:u}=e.userProfile,{insightsData:d}=e.insightsData,{logs:c}=e.clusterLogs,{notificationContacts:m={pending:!1},supportCases:p={pending:!1}}=e.clusterSupport;return{cloudProviders:l,clusterDetails:a,addOns:i,clusterIdentityProviders:s,organization:u,displayClusterLogs:!!(0,n.default)(a,"cluster.external_id")||!(null==a||null===(t=a.cluster)||void 0===t||!t.id),clusterLogsViewOptions:e.viewOptions[y.viewConstants.CLUSTER_LOGS_VIEW],accessRequestsViewOptions:e.viewOptions[y.viewConstants.ACCESS_REQUESTS_VIEW],pendingAccessRequests:e.accessRequest.pendingAccessRequests,insightsData:d,logs:c,canSubscribeOCP:(0,A.canSubscribeOCPSelector)(e),canTransferClusterOwnership:(0,T.canTransferClusterOwnershipSelector)(e),canHibernateCluster:(0,R.userCanHibernateClustersSelector)(e),anyModalOpen:!!e.modal.modalName,hasIssues:(0,G.issuesAndWarningsSelector)(e).issues.totalCount>0,notificationContacts:m,supportCases:p,userAccess:e.cost.userAccess,gotRouters:(0,n.default)(r,"getRouters.routers.length",0)>0,upgradeGates:(0,P.getUpgradeGates)(e),hasNetworkOndemand:(0,o.featureGateSelector)(e,f.NETWORK_VALIDATOR_ONDEMAND_FEATURE),accessProtectionState:e.accessProtection.accessProtection}}),(e=>(0,i.bindActionCreators)({fetchDetails:v.fetchClusterDetails,fetchClusterInsights:k.fetchClusterInsights,getCloudProviders:g.cloudProviderActions.getCloudProviders,getOrganizationAndQuota:E.userActions.getOrganizationAndQuota,invalidateClusters:v.invalidateClusters,openModal:I.modalActions.openModal,closeModal:I.modalActions.closeModal,getClusterIdentityProviders:M.getClusterIdentityProviders,getUsers:L.default.getUsers,resetIdentityProvidersState:M.resetIdentityProvidersState,resetClusterHistory:w.clusterLogActions.resetClusterHistory,resetAccessRequests:d.accessRequestActions.resetAccessRequests,resetAccessRequest:d.accessRequestActions.resetAccessRequest,getAccessProtection:u.accessProtectionActions.getAccessProtection,resetAccessProtection:u.accessProtectionActions.resetAccessProtection,clearGlobalError:b.clearGlobalError,setGlobalError:b.setGlobalError,getOnDemandMetrics:x.getOnDemandMetrics,getAddOns:N.getAddOns,getClusterAddOns:N.getClusterAddOns,getGrants:D.getGrants,getClusterRouters:U.getClusterRouters,getMachineOrNodePools:F.getMachineOrNodePools,clearGetMachinePoolsResponse:F.clearGetMachinePoolsResponse,clearGetClusterAutoscalerResponse:m.clusterAutoscalerActions.clearClusterAutoscalerResponse,clearListVpcs:c.clearListVpcs,getClusterHistory:w.clusterLogActions.getClusterHistory,getAccessRequests:d.accessRequestActions.getAccessRequests,getPendingAccessRequests:d.accessRequestActions.getPendingAccessRequests,toggleSubscriptionReleased:S.toggleSubscriptionReleased,getNotificationContacts:_.getNotificationContacts,getSupportCases:_.getSupportCases,getSchedules:O.getSchedules,getUserAccess:h.getUserAccess,addNotification:s.addNotification,fetchUpgradeGates:C.fetchUpgradeGates,clearFiltersAndFlags:()=>(0,p.onClearFiltersAndFlags)(y.viewConstants.CLUSTER_LOGS_VIEW)},e)))(j.default)},60183:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(73729),o=a(95376),u=_e(a(25247)),d=a(97419),c=a(67080),m=a(69304),p=a(33366),f=a(91089),E=a(11243),g=a(73848),v=a(41955),h=a(52045),b=a(21481),S=a(57189),_=a(30593),C=a(25883),y=a(52202),I=a(85825),A=a(27241),R=a(36165),T=a(62384),O=a(59067),P=l(a(6071)),D=a(93413),L=a(22902),N=a(11009),w=a(75166),M=a(56349),k=a(23557),F=a(9059),x=a(13683),G=a(33799),U=a(22916),j=a(976),H=l(a(59759)),V=l(a(71299)),q=_e(a(23271)),z=l(a(87814)),B=a(9225),W=a(71626),$=l(a(17779)),Y=a(38544),K=a(99908),Q=l(a(85336)),Z=l(a(11779)),X=a(61465),J=l(a(15493)),ee=l(a(62148)),te=a(20542),ae=l(a(98579)),le=l(a(7245)),ne=a(47349),re=l(a(95871)),ie=a(82198),se=l(a(15179)),oe=a(87624),ue=l(a(42461)),de=a(77944),ce=a(43885),me=l(a(96533)),pe=a(91916),fe=l(a(30739)),Ee=l(a(62622)),ge=l(a(75439)),ve=l(a(81586)),he=l(a(47956)),be=a(48539);function Se(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Se=function(e){return e?a:t})(e)}function _e(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=Se(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}const{HostsClusterDetailTab:Ce,getAddHostsTabState:ye}=u,Ie="Red Hat OpenShift Cluster Manager",Ae=e=>{var t,a,l,i;const u=(0,o.useLocation)(),{toggleSubscriptionReleased:Se}=e,[_e,Ae]=n.default.useState(""),Re=(0,R.useGlobalState)((e=>e.monitoring)),Te=(0,E.useFeatureGate)(j.MULTIREGION_PREVIEW_ENABLED),Oe=(0,m.useNavigate)(),Pe=(0,o.useParams)(),De=(0,s.useDispatch)(),Le=Pe.id,{isLoading:Ne,cluster:we,isError:Me,error:ke,isFetching:Fe}=(0,v.useFetchClusterDetails)(Le),{isLoading:xe,clusterIdentityProviders:Ge,isError:Ue}=(0,h.useFetchClusterIdentityProviders)(null==we?void 0:we.id,null==we||null===(t=we.subscription)||void 0===t?void 0:t.xcm_id),{isLoading:je,data:He,isError:Ve}=(0,S.useFetchCloudProviders)(),{mutate:qe,isSuccess:ze,isPending:Be,error:We,status:$e}=(0,g.useAddNotificationContact)(Le),Ye=(0,r.default)(we,"external_id"),Ke=(0,B.canSubscribeOCPMultiRegion)(we),Qe=(0,Y.canTransferClusterOwnershipMultiRegion)(we),Ze=(0,ce.issuesAndWarningsSelector)(Re,we).issues.totalCount>0,{organization:Xe}=(0,s.useSelector)((e=>e.userProfile)),{insightsData:Je}=(0,s.useSelector)((e=>e.insightsData)),{notificationContacts:et={pending:!1}}=(0,s.useSelector)((e=>e.clusterSupport)),{clusterRouters:tt}=(0,s.useSelector)((e=>e.clusterRouters)),at=we&&(!!we.external_id||!!we.id),lt=(0,s.useSelector)((e=>e.viewOptions[U.viewConstants.ACCESS_REQUESTS_VIEW])),nt=(0,s.useSelector)((e=>(0,W.userCanHibernateClustersSelector)(e))),rt=(0,s.useSelector)((e=>!!e.modal.modalName)),it=(0,s.useSelector)((e=>e.cost.userAccess)),st=(0,r.default)(tt,"getRouters.routers.length",0)>0,ot=(0,s.useSelector)((e=>(0,E.featureGateSelector)(e,j.NETWORK_VALIDATOR_ONDEMAND_FEATURE))),ut=u.hash.replace("#",""),[dt,ct]=n.default.useState(""),[mt,pt]=n.default.useState({type:be.eventTypes.NONE}),ft=(0,s.useSelector)((e=>e.accessRequest.pendingAccessRequests)),Et=(0,s.useSelector)((e=>e.accessProtection.accessProtection)),gt=n.default.useMemo((()=>Et.enabled),[Et.enabled]),vt=(0,s.useSelector)((e=>(0,r.default)(e,"subscriptionSettings.requestState.pending",!1))),ht=n.default.useRef(),bt=n.default.useRef(),St=n.default.useRef(),_t=n.default.useRef(),Ct=n.default.useRef(),yt=n.default.useRef(),It=n.default.useRef(),At=n.default.useRef(),Rt=n.default.useRef(),Tt=n.default.useRef(),Ot=n.default.useRef(),Pt=n.default.useRef(null==we?void 0:we.id),Dt=()=>{const e=null==we?void 0:we.id;!(0,D.isValid)(e)||xe||Ue||(0,h.invalidateClusterIdentityProviders)(e)},Lt=e=>{var t;const a=(0,r.default)(we,"id"),l=null==we||null===(t=we.version)||void 0===t?void 0:t.id,n=(0,r.default)(we,"managed",!1);if((0,D.shouldRefetchQuota)(Xe)&&De(M.userActions.getOrganizationAndQuota()),Ye&&(De((0,ie.fetchClusterInsights)(Ye)),(()=>{var e;const t=null==we||null===(e=we.subscription)||void 0===e?void 0:e.id;(0,D.isValid)(t)&&(et.pending||De((0,x.getNotificationContacts)(t)))})()),(Ye||a)&&(0,b.refetchClusterLogsQueries)(),Le&&!(0,T.isRestrictedEnv)()&&De((0,_.getAccessProtection)(Le)),n)De((0,te.getAddOns)(a)),De((0,te.getClusterAddOns)(a)),De(J.default.getUsers(a)),De((0,pe.getClusterRouters)(a)),Dt(),De((0,oe.getMachineOrNodePools)(a,(0,q.isHypershiftCluster)(we),l)),De((0,K.getSchedules)(a,(0,q.isHypershiftCluster)(we))),De((0,G.fetchUpgradeGates)()),"gcp"!==(0,r.default)(we,"cloud_provider.id")&&De((0,X.getGrants)(a));else{var i;const e=null==we||null===(i=we.subscription)||void 0===i?void 0:i.id;De((0,de.getOnDemandMetrics)(e))}pt({type:e||be.eventTypes.AUTO})},Nt=e=>{(0,D.isValid)(Le)&&(0,v.invalidateClusterDetailsQueries)();const t=(0,r.default)(we,"id"),a=(0,r.default)(we,"subscription.status");(0,D.isValid)(t)&&a!==O.SubscriptionCommonFields.status.DEPROVISIONED&&Lt(e)};n.default.useEffect((()=>(De((0,F.clearGlobalError)("clusterDetails")),Nt(),je||Ve||He||(0,S.invalidateCloudProviders)(),De((0,k.getUserAccess)({type:"OCP"})),()=>{(0,h.invalidateClusterIdentityProviders)(),De(f.modalActions.closeModal()),(0,b.refetchClusterLogsQueries)(),De(C.accessRequestActions.resetAccessRequests()),De(_.accessProtectionActions.resetAccessProtection()),De((0,oe.clearGetMachinePoolsResponse)()),De(I.clusterAutoscalerActions.clearClusterAutoscalerResponse()),De((0,A.onClearFiltersAndFlags)(U.viewConstants.CLUSTER_LOGS_VIEW)),De((0,y.clearListVpcs)())})),[]),n.default.useEffect((()=>{const e=Pe.id;if((0,r.default)(we,"subscription.id")===e){const e=(0,P.default)(we);document.title=`${e} | Red Hat OpenShift Cluster Manager`}!Pt.current&&!Ne&&we&&null!=we&&we.id&&(Lt(),Pt.current=null==we?void 0:we.id)}),[Pe,we,Le]),n.default.useEffect((()=>{!Et.pending&&Et.enabled&&Le&&lt&&(De((0,C.getAccessRequests)(Le,lt)),De((0,C.getPendingAccessRequests)(Le)))}),[Et.pending,Et.enabled,Le]);const wt=Pe.id,Mt=(0,r.default)(we,"subscription.id")!==wt;if(Ne||!Xe.fulfilled&&!ke&&!Me)return n.default.createElement(p.AppPage,{title:Ie},n.default.createElement("div",{id:"clusterdetails-content"},n.default.createElement("div",{className:"cluster-loading-container"},n.default.createElement(c.Spinner,{centered:!0}))));if(Me&&(!we||(0,r.default)(we,"subscription.id")!==wt))return 404===(null==ke?void 0:ke.errorCode)||403===(null==ke?void 0:ke.errorCode)?(De(C.accessRequestActions.resetAccessRequest()),De(_.accessProtectionActions.resetAccessProtection()),De((0,F.setGlobalError)(n.default.createElement(n.default.Fragment,null,"Cluster with subscription ID ",n.default.createElement("b",null,wt)," was not found, it might have been deleted or you don't have permission to see it."),"clusterDetails",`${null==ke?void 0:ke.errorMessage}`)),n.default.createElement(m.Navigate,{to:"/cluster-list"})):n.default.createElement(p.AppPage,{title:Ie},n.default.createElement(V.default,{message:"Error retrieving cluster details",response:ke}),Mt&&n.default.createElement(c.Spinner,null));const kt=(0,q.isHibernating)(we),Ft=(0,r.default)(we,"subscription.status",!1)===O.SubscriptionCommonFields.status.ARCHIVED||(0,r.default)(we,"subscription.status",!1)===O.SubscriptionCommonFields.status.DEPROVISIONED,xt=(0,r.default)(we,"subscription.plan.type","")===w.knownProducts.ARO,Gt=(0,r.default)(we,"subscription.plan.type","")===w.knownProducts.OSDTRIAL,Ut=(0,r.default)(we,"subscription.plan.type","")===w.knownProducts.RHOIC,jt=we.managed,Ht=(0,q.isHypershiftCluster)(we),Vt=we.state===q.default.WAITING,qt=we.state===q.default.PENDING,zt=we.state===q.default.INSTALLING,Bt=we.state===q.default.READY,Wt=we.state===q.default.UPDATING,$t="read_only"===(null==we||null===(a=we.status)||void 0===a?void 0:a.configuration_mode),Yt=((0,N.hasCapability)(Xe.details,N.subscriptionCapabilities.CREATE_GCP_NON_CCS_CLUSTER),!zt&&!qt&&!Vt&&we.managed&&!Ft&&!(0,T.isRestrictedEnv)()),Kt=!(Ft||we.managed||xt||Ut||(0,L.isUninstalledAICluster)(we)||(0,T.isRestrictedEnv)()),Qt=!Ft,Zt=(0,r.default)(we,"cloud_provider.id"),Xt=(Bt||Wt||kt)&&we.managed&&!!(0,r.default)(we,"api.url")&&("aws"===Zt||"gcp"===Zt&&((0,r.default)(we,"ccs.enabled")||st))&&!Ft,Jt=!(!(0,T.isRestrictedEnv)()&&we.managed&&void 0===(null===(l=we.subscription)||void 0===l?void 0:l.external_cluster_id)||Gt),ea=we.managed&&!xt&&we.canEdit&&!Ft;let ta={showTab:!1,isDisabled:!1,tabTooltip:""};return(0,L.isAssistedInstallCluster)(we)&&!Ft&&(ta=ye(we)),n.default.createElement(p.AppPage,{title:Ie},n.default.createElement($.default,{isReadOnly:$t}),n.default.createElement(d.PageSection,{id:"clusterdetails-content"},n.default.createElement(ae.default,{cluster:we,isRefetching:Fe,pending:Ne,refreshFunc:Nt,clickRefreshFunc:()=>Nt(be.eventTypes.CLICKED),clusterIdentityProviders:Ge,organization:Xe,error:Me,errorMessage:null==ke?void 0:ke.errorObj.response.data.reason,canSubscribeOCP:Ke,canTransferClusterOwnership:Qe,canHibernateCluster:nt,autoRefreshEnabled:!rt,toggleSubscriptionReleased:Se,showPreviewLabel:Ht,isClusterIdentityProvidersLoading:xe,clusterIdentityProvidersError:Ue,gcpOrgPolicyWarning:_e},n.default.createElement(ve.default,{tabsInfo:{overview:{ref:ht,hasIssues:!1},monitoring:{ref:bt,show:Kt,hasIssues:we.state!==q.default.INSTALLING&&Ze},accessControl:{ref:St,show:Qt},addOns:{ref:_t,show:Yt},clusterHistory:{ref:Ct,show:at},networking:{ref:yt,show:Xt},machinePools:{ref:At,show:(0,q.canViewMachinePoolTab)(we)},support:{ref:It,show:Jt},upgradeSettings:{ref:Rt,show:ea},addAssisted:{ref:Tt,show:!Te&&ta.showTab,isDisabled:ta.isDisabled,tooltip:ta.tabTooltip},accessRequest:{ref:Ot,show:gt,tooltip:n.default.createElement(d.Tooltip,{content:(null==ft?void 0:ft.total)>0?`${ft.total} pending requests`:"No pending requests"}),hasIssues:(null==ft?void 0:ft.total)>0,numberOfIssues:null==ft?void 0:ft.total,isLoading:null==ft?void 0:ft.pending}},initTabOpen:ut,onTabSelected:e=>{ct(e)}})),n.default.createElement(d.TabContent,{eventKey:0,id:"overviewTabContent",ref:ht,"aria-label":"Overview",ouiaId:"overviewTabContent"},n.default.createElement(H.default,null,n.default.createElement(fe.default,{cluster:we,region:we.subscription.xcm_id,clusterDetailsLoading:Ne,subscription:we.subscription,cloudProviders:He,refresh:Nt,insightsData:Je[we.external_id],hasNetworkOndemand:ot,userAccess:it,canSubscribeOCP:Ke,isSubscriptionSettingsRequestPending:vt}))),n.default.createElement(d.TabContent,{eventKey:7,id:"supportTabContent",ref:It,"aria-label":"Support",hidden:!0},n.default.createElement(H.default,null,we?n.default.createElement(Ee.default,{isDisabled:Ft,cluster:we,addNotificationStatus:$e,isAddNotificationContactSuccess:ze,isAddNotificationContactPending:Be}):null)),Kt&&n.default.createElement(d.TabContent,{eventKey:1,id:"monitoringTabContent",ref:bt,"aria-label":"Monitoring",hidden:!0},n.default.createElement(H.default,null,n.default.createElement(ue.default,{cluster:we}))),Qt&&n.default.createElement(d.TabContent,{eventKey:2,id:"accessControlTabContent",ref:St,"aria-label":"Access Control",hidden:!0},n.default.createElement(H.default,null,n.default.createElement(Z.default,{cluster:we,refreshEvent:mt,region:we.subscription.xcm_id}))),jt&&n.default.createElement(d.TabContent,{eventKey:3,id:"addOnsTabContent",ref:_t,"aria-label":"Add-ons",hidden:!0},n.default.createElement(H.default,null,n.default.createElement(ee.default,{clusterID:we.id,isHypershift:Ht,region:we.subscription.xcm_id,cluster:we}))),at&&n.default.createElement(d.TabContent,{eventKey:4,id:"clusterHistoryTabContent",ref:Ct,"aria-label":"Cluster history",hidden:!0},n.default.createElement(H.default,null,n.default.createElement(le.default,{externalClusterID:we.external_id,clusterID:we.id,region:null===(i=we.subscription)||void 0===i?void 0:i.xcm_id,createdAt:we.creation_timestamp,refreshEvent:{type:mt.type,reset:()=>pt({type:be.eventTypes.NONE})},isVisible:dt===ne.ClusterTabsId.CLUSTER_HISTORY,findGcpOrgPolicyWarning:"gcp"===Zt?e=>{var t;let a="";a=null==e?void 0:e.find((e=>{var t,a;return(null===(t=e.summary)||void 0===t?void 0:t.includes("Please enable the Org Policy API for the GCP project"))||(null===(a=e.summary)||void 0===a?void 0:a.includes("GCP Organization Policy Service"))})),Ae(null===(t=a)||void 0===t?void 0:t.summary)}:void 0}))),(0,q.canViewMachinePoolTab)(we)&&n.default.createElement(d.TabContent,{eventKey:6,id:"machinePoolsContent",ref:At,"aria-label":"Machine pools",hidden:!0},n.default.createElement(H.default,null,n.default.createElement(se.default,{cluster:we}))),ea&&n.default.createElement(d.TabContent,{eventKey:8,id:"upgradeSettingsContent",ref:Rt,"aria-label":"Upgrade settings",hidden:!0},n.default.createElement(H.default,null,n.default.createElement(he.default,{cluster:we}))),Xt&&n.default.createElement(d.TabContent,{eventKey:5,id:"networkingTabContent",ref:yt,"aria-label":"Networking",hidden:!0},n.default.createElement(H.default,null,n.default.createElement(me.default,{clusterID:we.id,refreshCluster:Nt,cluster:we,isManaged:we.managed,region:we.subscription.xcm_id}))),ta.showTab&&!ta.isDisabled&&n.default.createElement(d.TabContent,{eventKey:9,id:"addHostsContent",ref:Tt,"aria-label":"Add Hosts",hidden:!0},n.default.createElement(H.default,null,n.default.createElement(Ce,{cluster:we,isVisible:dt===ne.ClusterTabsId.ADD_ASSISTED_HOSTS}))),n.default.createElement(z.default,{isMultiRegionPreviewEnabled:Te,onClose:()=>{(0,D.isValid)(Le)&&(0,v.invalidateClusterDetailsQueries)()},onClusterDeleted:()=>{(0,v.invalidateClusterDetailsQueries)(),Oe("/cluster-list")}}),n.default.createElement(re.default,{refreshParent:Dt}),we?n.default.createElement(ge.default,{cluster:we,addNotificationMutation:qe,isAddNotificationContactSuccess:ze,isAddNotificationContactPending:Be,addNotificationContactError:We}):null,n.default.createElement(Q.default,{isHypershift:Ht})))};Ae.propTypes={toggleSubscriptionReleased:i.default.func.isRequired},t.default=Ae},98240:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(95376),i=l(a(34158)),s=l(a(28673));t.A=e=>"#insights"===(0,r.useLocation)().hash?n.default.createElement(i.default,e):n.default.createElement(s.default,e)},11779:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(97419),o=a(23271),u=a(48539),d=a(22118),c=l(a(68281)),m=l(a(71939)),p=l(a(78045)),f=l(a(60948));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function g(e){var t,a;let{cluster:l,refreshEvent:i=null}=e;const[E,g]=n.default.useState(0),v=null==l?void 0:l.id,h=null==l||null===(t=l.subscription)||void 0===t?void 0:t.id,b=null==l||null===(a=l.subscription)||void 0===a?void 0:a.xcm_id,S=null==l?void 0:l.canUpdateClusterResource,[_,C]=(0,n.useState)(!0),[y,I]=(0,n.useState)(""),[A,R]=(0,n.useState)(""),T={console:(0,r.default)(l,"console.url"),api:(0,r.default)(l,"api.url")},[O,P]=(0,n.useState)(!1),[D,L]=(0,n.useState)(!1),[N,w]=(0,n.useState)(!1),[M,k]=(0,n.useState)(!1),[F,x]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=window.matchMedia?window.matchMedia("(min-width: 768px)"):null,t=e=>{e.matches?(C(!0),I("")):(C(!1),I("pf-m-scrollable"))};return window.matchMedia&&(t(e),e.addEventListener("change",t)),()=>{e&&e.removeEventListener("change",t)}}),[]),(0,n.useEffect)((()=>{var e;const t=!(0,u.isReadyForExternalActions)(l)||!(0,u.isExtenalAuthenicationActive)(l),a=!(0,u.isReadyForRoleAccessActions)(l)||(0,u.isExtenalAuthenicationActive)(l),n=!(0,u.isReadyForIdpActions)(l)||(0,u.isExtenalAuthenicationActive)(l),r=!(0,u.isReadyForAwsAccessActions)(l);L(a),w(n),k(r),P("read_only"===(null==l||null===(e=l.status)||void 0===e?void 0:e.configuration_mode)),x(t),R(a&&n&&r?"single-tab":"")}),[l]),n.default.createElement(s.Card,null,n.default.createElement(s.CardBody,{id:"cluster-details-access-control-tab-contents",className:A},n.default.createElement(s.Tabs,{activeKey:E,onSelect:(e,t)=>g(t),isVertical:_,className:y,isBox:!0},n.default.createElement(s.Tab,{eventKey:0,id:"identity-providers",title:n.default.createElement(s.TabTitleText,null,"Identity providers"),isHidden:N},n.default.createElement(c.default,{clusterID:v,isHypershift:(0,o.isHypershiftCluster)(l),clusterUrls:T,idpActions:l.idpActions,clusterHibernating:(0,o.isHibernating)(l),isReadOnly:O})),n.default.createElement(s.Tab,{eventKey:1,id:"cluster-roles-access",title:n.default.createElement(s.TabTitleText,null,"Cluster Roles and Access"),isHidden:D},n.default.createElement(f.default,{cluster:l,clusterHibernating:(0,o.isHibernating)(l),isReadOnly:O,region:b})),n.default.createElement(s.Tab,{eventKey:2,id:"ocm-roles-access",title:n.default.createElement(s.TabTitleText,null,"OCM Roles and Access")},n.default.createElement(p.default,{subscription:l.subscription,canEditOCMRoles:l.canEditOCMRoles,canViewOCMRoles:l.canViewOCMRoles,refreshEvent:i})),n.default.createElement(s.Tab,{eventKey:3,id:"aws-infra-access",isHidden:M,title:n.default.createElement(s.TabTitleText,null,"AWS infrastructure access")},n.default.createElement(m.default,{clusterID:(0,r.default)(l,"id"),canEdit:l.canEdit,clusterHibernating:(0,o.isHibernating)(l),isReadOnly:O,region:b})),n.default.createElement(s.Tab,{eventKey:4,id:"external-authentication",title:n.default.createElement(s.TabTitleText,null,"External authentication"),isHidden:F},n.default.createElement(d.ExternalAuthenticationSection,{canUpdateClusterResource:S,clusterID:v,subscriptionID:h,region:b})))))}g.propTypes={cluster:i.default.object.isRequired,refreshEvent:i.default.object},t.default=g},32697:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(45646),u=l(a(29564)),d=a(69304),c=a(52045),m=l(a(65702)),p=l(a(97932)),f=a(91089),E=a(47208);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}const v=e=>{let{clusterID:t,clusterUrls:a,idpActions:l={},clusterHibernating:r,isReadOnly:g,isHypershift:v,subscriptionID:h}=e;const b=(0,d.useNavigate)(),S=(0,i.useDispatch)(),[_,C]=n.default.useState(!1),{clusterIdentityProviders:y,isLoading:I,isError:A}=(0,c.useFetchClusterIdentityProviders)(t),R=n.default.createElement("a",{rel:"noopener noreferrer",href:m.default.UNDERSTANDING_IDENTITY_PROVIDER,target:"_blank"},"Learn more."),T=!y&&!A||I,O=!(null==y||!y.length),P=g?"This operation is not available during maintenance":r&&"This operation is not available while cluster is hibernating",D=P||!l.create&&`You do not have permission to ${"add"} an identity provider. Only cluster owners, cluster editors, identity provider editors, and Organization Administrators can add identity providers.`;const L=n.default.createElement(s.DropdownList,null,Object.values(E.IDPTypeNames).map((e=>n.default.createElement(s.DropdownItem,{key:e,onClick:()=>b(`/details/s/${h}/add-idp/${e.toLowerCase()}`)},e)))),N=(0,n.useRef)();let w=n.default.createElement(s.Dropdown,{isOpen:_,onOpenChange:e=>C(e),toggle:{toggleRef:N,toggleNode:n.default.createElement(s.MenuToggle,{id:"add-identity-provider",ref:N,isDisabled:D,isExpanded:_,onClick:()=>{C(!_)}},"Add identity provider")}},L);D&&(w=n.default.createElement(s.Tooltip,{content:D},w));const M="Name",k="Type",F="Auth callback URL";return T?n.default.createElement(s.Card,null,n.default.createElement(s.CardTitle,null,n.default.createElement(u.default,{size:"md"})),n.default.createElement(s.CardBody,null,n.default.createElement(u.default,{size:"lg"})),n.default.createElement(s.CardFooter,null,n.default.createElement(u.default,{size:"md"}))):n.default.createElement(s.Card,null,n.default.createElement(s.CardBody,null,n.default.createElement(s.Stack,{hasGutter:!0},n.default.createElement(s.StackItem,null,n.default.createElement(s.Title,{headingLevel:"h2",size:"lg",className:"card-title"},"Identity providers"),n.default.createElement("p",null,"Configure identity providers to allow users to log into the cluster. ",R)),n.default.createElement(s.StackItem,null,w),n.default.createElement(s.StackItem,null,O&&l.list&&n.default.createElement(o.Table,{"aria-label":"Identity Providers",variant:o.TableVariant.compact},n.default.createElement(o.Thead,null,n.default.createElement(o.Tr,null,n.default.createElement(o.Th,{width:30},M),n.default.createElement(o.Th,{width:30},k),n.default.createElement(o.Th,{width:30},F),n.default.createElement(o.Th,{screenReaderText:"Action"}))),n.default.createElement(o.Tbody,null,y.map((e=>{var r;const i=(e=>{const a={title:"Edit",isAriaDisabled:!l.update,onClick:()=>{b(`/details/s/${h}/edit-idp/${e.name}`)}},n={title:"Delete",isAriaDisabled:!l.delete,onClick:()=>{S(f.modalActions.openModal("delete-idp",{clusterID:t,idpID:e.id,idpName:e.name,idpType:E.IDPTypeNames[e.type]}))}};return E.IDPTypeNames[e.type]===E.IDPTypeNames[E.IDPformValues.HTPASSWD]?[n]:[a,n]})(e);return n.default.createElement(o.Tr,{key:e.id},n.default.createElement(o.Td,{dataLabel:M},e.name),n.default.createElement(o.Td,{dataLabel:k},null!==(r=E.IDPTypeNames[e.type])&&void 0!==r?r:e.type),n.default.createElement(o.Td,{dataLabel:F},(0,E.IDPNeedsOAuthURL)(e.type)?n.default.createElement(p.default,{className:"access-control-tables-copy",text:(0,E.getOauthCallbackURL)(a,e.name,v)},"Copy URL to clipboard"):"N/A"),n.default.createElement(o.Td,{isActionCell:!0},n.default.createElement(o.ActionsColumn,{items:i,isDisabled:!!P})))}))))))))};v.propTypes={clusterID:r.default.string.isRequired,clusterUrls:r.default.shape({console:r.default.string,api:r.default.string}).isRequired,idpActions:r.default.shape({get:r.default.bool,list:r.default.bool,create:r.default.bool,update:r.default.bool,delete:r.default.bool}).isRequired,clusterHibernating:r.default.bool.isRequired,isReadOnly:r.default.bool.isRequired,isHypershift:r.default.bool.isRequired,subscriptionID:r.default.string},t.default=v},68281:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32697));t.default=n.default},61204:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(38715),u=l(a(14419)),d=a(32347),c=a(25514),m=a(84037),p=l(a(55816)),f=l(a(28592)),E=a(91089),g=l(a(55213));a(46181);const v=e=>{let{addGrantsMutate:t,roles:a,isAddGrantsPending:l,isAddGrantsError:r,addGrantsError:v,resetAddGrantsMutate:h}=e;const b=(0,i.useDispatch)(),[S,_]=n.default.useState(""),[C,y]=n.default.useState(""),[I,A]=n.default.useState(!1),R=!(null==a||!a.length),T=(0,c.useGlobalState)((e=>(0,u.default)(e,"grant-modal"))),O=()=>{_(""),y(""),A(!1),h()};n.default.useEffect((()=>{!S&&R&&_(a[0].id)}),[a,S,R]);const P=()=>{h(),O(),b(E.modalActions.closeModal())},D=r&&n.default.createElement(p.default,{message:"Error adding grant",response:v.error}),L=(0,m.validateUserOrGroupARN)(C),N=()=>{!L&&S&&t({roleId:S,arn:C},{onSuccess:()=>{(0,d.refetchGrants)(),b(E.modalActions.closeModal()),O()}})};return T&&n.default.createElement(f.default,{title:"Grant AWS infrastructure role",onClose:P,primaryText:"Grant role",secondaryText:"Cancel",onPrimaryClick:N,onSecondaryClick:P,isPrimaryDisabled:!!L||l,isPending:l},n.default.createElement(n.default.Fragment,null,D,n.default.createElement(s.Form,{className:"control-form-cursor",onSubmit:e=>{N(),e.preventDefault()}},n.default.createElement(s.FormGroup,{label:"AWS IAM ARN",isRequired:!0,fieldId:"aws-iam-arn",labelIcon:n.default.createElement(g.default,{hint:n.default.createElement("div",null,n.default.createElement("p",null,"Need help configuring ARNs?"),n.default.createElement("a",{href:"https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html",target:"_blank",rel:"noreferrer noopener"},"Check the AWS documentation.")),iconClassName:"hand-pointer"})},n.default.createElement(s.TextInput,{value:C,isRequired:!0,id:"aws-iam-arn-input",type:"text",validated:I&&L?"error":"default",placeholder:"arn:aws:iam::123456789012:user/name",onChange:(e,t)=>(e=>{y(e),A(!0)})(t),"aria-label":"AWS IAM ARN"}),n.default.createElement(o.FormGroupHelperText,{touched:I,error:L})),n.default.createElement("h3",{id:"grant-role-select"},"Role"),a.map((e=>(e=>n.default.createElement(s.Radio,{className:"radio-button",key:e.id,isChecked:S===e.id,name:e.id,onChange:(e,t)=>((e,t)=>{_(t.target.value)})(0,e),label:n.default.createElement(n.default.Fragment,null,e.displayName,n.default.createElement("div",{className:"radio-helptext"},e.description)),id:e.id,value:e.id}))(e))))))};v.propTypes={addGrantsMutate:r.default.func,roles:r.default.array,isAddGrantsPending:r.default.bool,isAddGrantsError:r.default.bool,addGrantsError:r.default.object,resetAddGrantsMutate:r.default.func},t.default=v},61465:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRoles=t.getGrants=t.deleteGrant=t.default=t.clearAddGrantResponse=t.addGrant=void 0;var l=a(73410),n=a(5643);const r=()=>e=>e({type:n.GET_ROLES,payload:l.clusterService.getRoles()});t.getRoles=r;const i=e=>t=>t({type:n.GET_GRANTS,payload:l.clusterService.getGrants(e)});t.getGrants=i;const s=(e,t,a)=>r=>r({type:n.ADD_GRANT,payload:l.clusterService.addGrant(e,t,a)});t.addGrant=s;const o=(e,t)=>a=>a({type:n.DELETE_GRANT,payload:l.clusterService.deleteGrant(e,t)});t.deleteGrant=o;const u=()=>e=>e({type:n.CLEAR_ADD_GRANT_RESPONSE});t.clearAddGrantResponse=u;const d={getRoles:r,getGrants:i,addGrant:s,clearAddGrantResponse:u,deleteGrant:o};t.default=d},5643:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GET_ROLES=t.GET_GRANTS=t.DELETE_GRANT=t.CLEAR_GET_ROLES_RESPONSE=t.CLEAR_GET_GRANTS_RESPONSE=t.CLEAR_ADD_GRANT_RESPONSE=t.ADD_GRANT=void 0;const a=t.GET_ROLES="GET_ROLES",l=t.GET_GRANTS="GET_GRANTS",n=t.ADD_GRANT="ADD_GRANT",r=t.DELETE_GRANT="DELETE_GRANT",i={GET_ROLES:a,GET_GRANTS:l,ADD_GRANT:n,CLEAR_GET_ROLES_RESPONSE:t.CLEAR_GET_ROLES_RESPONSE="CLEAR_GET_ROLES_RESPONSE",CLEAR_GET_GRANTS_RESPONSE:t.CLEAR_GET_GRANTS_RESPONSE="CLEAR_GET_GRANTS_RESPONSE",CLEAR_ADD_GRANT_RESPONSE:t.CLEAR_ADD_GRANT_RESPONSE="CLEAR_ADD_GRANT_RESPONSE",DELETE_GRANT:r};t.default=i},88971:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.grantsDataAggregator=void 0,t.grantsDataAggregator=(e,t)=>{const a=e=>{const a=null==t?void 0:t.find((t=>t.id===e));return a?a.displayName:e};return null==e?void 0:e.map((e=>({id:e.id,user_arn:e.user_arn,state:e.state,state_description:e.state_description,console_url:e.console_url,roleName:a(e.role.id)})))}},12843:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(19202),d=a(31003),c=a(31358),m=a(21888),p=a(48266),f=a(45646),E=l(a(29564)),g=a(58274),v=l(a(8888)),h=a(91167),b=a(33365),S=a(64671),_=a(32347),C=a(13551),y=l(a(12200)),I=l(a(97932)),A=l(a(55816)),R=a(91089),T=l(a(61204)),O=a(88971);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const N=e=>{var t;let{clusterID:a,canEdit:l,clusterHibernating:n,isReadOnly:i,region:P}=e;const D=(0,s.useDispatch)(),[N,w]=r.default.useState(void 0),{data:M,isLoading:k,isError:F,error:x,isFetching:G}=(0,_.useFetchGrants)(a,P),{data:U}=(0,C.useFetchRoles)(P),{data:j,isPending:H,isError:V,error:q,mutate:z,reset:B}=(0,b.useAddGrant)(a,P),{isError:W,error:$,mutate:Y,reset:K}=(0,S.useDeleteGrant)(a,P),Q=(0,r.useMemo)((()=>L(L({},M),{},{data:(0,O.grantsDataAggregator)(M,U)})),[M,U]),Z=(0,h.usePreviousProps)(Q),X=(0,h.usePreviousProps)(G);if(r.default.useEffect((()=>{var e;if(!G&&X&&0!==(null==Q||null===(e=Q.data)||void 0===e?void 0:e.length)){var t;const e=null==Z?void 0:Z.data,a=null==e?void 0:e.reduce(((e,t)=>L(L({},e),{},{[t.id]:t.state})),{});null==Q||null===(t=Q.data)||void 0===t||t.forEach((e=>{a&&a[e.id]&&e.state!==a[e.id]&&("failed"===e.state?D((0,g.addNotification)({variant:"danger",title:`Role creation failed for ${e.user_arn}`,description:e.state_description,dismissDelay:8e3,dismissable:!1})):"ready"===e.state&&D((0,g.addNotification)({variant:"success",title:`${e.roleName} role successfully created for ${e.user_arn}`,dismissDelay:8e3,dismissable:!1})))}))}void 0===N||k||w(void 0)}),[a,N,M,D,Q,X,Z,G,k]),F)return r.default.createElement(o.EmptyState,null,r.default.createElement(A.default,{message:"Error getting cluster users",response:x.error}));const J=r.default.createElement(v.default,{href:"https://console.aws.amazon.com/console/home"},"Log in to your aws account."),ee=!(null==Q||null===(t=Q.data)||void 0===t||!t.length),te=(i?"This operation is not available during maintenance":n&&"This operation is not available while cluster is hibernating")||!l&&"You do not have permission to grant a role. Only cluster owners, cluster editors, and Organization Administrators can grant roles.",ae=r.default.createElement(y.default,{onClick:()=>{setTimeout((()=>D(R.modalActions.openModal("grant-modal"))),0)},variant:"secondary",className:"access-control-add",disableReason:te},"Grant role"),le="Role",ne="Status",re="AWS OSD console URL";return k&&!ee?r.default.createElement(o.Card,null,r.default.createElement(o.CardTitle,null,r.default.createElement(E.default,{size:"md"})),r.default.createElement(o.CardBody,null,r.default.createElement(E.default,{size:"lg"})),r.default.createElement(o.CardFooter,null,r.default.createElement(E.default,{size:"md"}))):r.default.createElement(o.Card,{id:"networkSelfService"},r.default.createElement(o.CardBody,null,W&&r.default.createElement(A.default,{message:"Error deleting grant",response:$.error}),r.default.createElement(o.Title,{size:"lg",className:"card-title",headingLevel:"h3"},"AWS infrastructure access"),r.default.createElement("p",null,"Grant permission to view or manage the AWS infrastructure of the cluster to IAM users defined in your AWS account. ",J),ee&&r.default.createElement(f.Table,{"aria-label":"Grants",variant:f.TableVariant.compact},r.default.createElement(f.Thead,null,r.default.createElement(f.Tr,null,r.default.createElement(f.Th,null,r.default.createElement(r.default.Fragment,null,"ARN",r.default.createElement(o.Popover,{position:o.PopoverPosition.top,"aria-label":"ARNs",bodyContent:r.default.createElement("p",null,"Amazon Resource Names (ARNs) uniquely identify AWS resources.")},r.default.createElement(o.Button,{variant:"plain",isInline:!0},r.default.createElement(o.Icon,{size:"md"},r.default.createElement(c.HelpIcon,null)))))),r.default.createElement(f.Th,null,le),r.default.createElement(f.Th,null,ne),r.default.createElement(f.Th,null,re),r.default.createElement(f.Th,{screenReaderText:"Grant action"}))),r.default.createElement(f.Tbody,null,Q.data.map(((e,t)=>{const a=((e,t)=>[{title:"Delete",onClick:()=>{w(t),Y(e.id,{onSuccess:()=>{K(),(0,_.refetchGrants)()}})}}])(e,t);return r.default.createElement(f.Tr,{key:e.id},r.default.createElement(f.Td,{dataLabel:"ARN"},e.user_arn),r.default.createElement(f.Td,{dataLabel:le},e.roleName),r.default.createElement(f.Td,{dataLabel:ne},((e,t)=>{let a,l;switch(e){case"ready":a=r.default.createElement(u.CheckCircleIcon,{className:"status-icon success"}),l="Ready";break;case"failed":a=r.default.createElement(d.ExclamationCircleIcon,{className:"status-icon danger"}),l="Failed";break;case"pending":a=r.default.createElement(m.InProgressIcon,{className:"status-icon"}),l="Pending";break;case"deleting":a=r.default.createElement(m.InProgressIcon,{className:"status-icon"}),l="Deleting";break;case"removed":a=r.default.createElement(p.UnknownIcon,{className:"status-icon"}),l="Removed";break;default:a=r.default.createElement(p.UnknownIcon,{className:"status-icon"}),l="Unknown"}return"failed"===e?r.default.createElement("span",null,r.default.createElement(o.Popover,{position:o.PopoverPosition.top,bodyContent:t,"aria-label":"grant-failed"},r.default.createElement(o.Button,{className:"self-service-failed",variant:"link",isInline:!0,icon:a},l))):r.default.createElement(r.default.Fragment,null,a," ",r.default.createElement("span",null,l)," ")})(N===t?"deleting":e.state,e.state_description)),r.default.createElement(f.Td,{dataLabel:re},r.default.createElement(I.default,{className:"access-control-tables-copy",text:e.console_url,isDisabled:!e.console_url},"Copy URL to clipboard")),r.default.createElement(f.Td,{isActionCell:!0},r.default.createElement(f.ActionsColumn,{items:a,isDisabled:"deleting"===e.state||!!te})))})))),ae),r.default.createElement(T.default,{clusterID:a,addGrantsMutate:z,roles:U,addGrantsData:j,isAddGrantsPending:H,isAddGrantsError:V,addGrantsError:q,resetAddGrantsMutate:B}))};N.propTypes={region:i.default.string,clusterID:i.default.string,canEdit:i.default.bool.isRequired,clusterHibernating:i.default.bool.isRequired,isReadOnly:i.default.bool.isRequired},t.default=N},71939:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(12843));t.default=n.default},18124:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(38715),u=a(9638),d=l(a(65702)),c=a(84037),m=l(a(55816)),p=l(a(8888)),f=l(a(28592)),E=a(91089);const g=e=>{let{isOpen:t,canAddClusterAdmin:a,addUserMutate:l,isAddUserPending:r,isAddUserError:g,addUserError:v,isAddUserSuccess:h}=e;const b=(0,i.useDispatch)(),[S,_]=n.default.useState("dedicated-admins"),[C,y]=n.default.useState(""),[I,A]=n.default.useState(!1),R=()=>{_("dedicated-admins"),y(""),A(!1)};n.default.useEffect((()=>{h&&(b(E.modalActions.closeModal()),R())}),[h,b]);const T=(e,t)=>{_(t.target.value)},O=()=>{R(),b(E.modalActions.closeModal())},P=g&&n.default.createElement(m.default,{message:"Error adding grant",response:v.error}),D=(0,c.checkUserID)(C),L=()=>{!D&&S&&l({selectedGroup:S,userId:C},{onSuccess:()=>(0,u.refetchUsers)()})},N="dedicated-admins",w="cluster-admins";return t&&n.default.createElement(f.default,{title:"Add cluster user",onClose:O,primaryText:"Add user",secondaryText:"Cancel",onPrimaryClick:L,onSecondaryClick:O,isPrimaryDisabled:!!D||r,isPending:r},n.default.createElement(n.default.Fragment,null,P,n.default.createElement(s.Form,{className:"control-form-cursor",onSubmit:e=>{L(),e.preventDefault()}},n.default.createElement(s.FormGroup,{label:"User ID",isRequired:!0,fieldId:"user-id"},n.default.createElement(s.TextInput,{value:C,isRequired:!0,id:"user-id",type:"text",validated:I&&D?"error":"default",onChange:(e,t)=>(e=>{y(e),A(!0)})(t),"aria-label":"user id"}),n.default.createElement(o.FormGroupHelperText,{touched:I,error:D})),n.default.createElement("h3",{id:"user-group-select"},"Group"),n.default.createElement(s.Radio,{className:"radio-button",key:N,isChecked:S===N,name:N,onChange:(e,t)=>T(0,e),label:n.default.createElement(n.default.Fragment,null,N,n.default.createElement("div",{className:"radio-helptext"},"Grants standard administrative privileges for OpenShift Dedicated. Users can perform administrative actions listed in the"," ",n.default.createElement(p.default,{href:d.default.OSD_DEDICATED_ADMIN_ROLE},"documentation"),".")),id:N,value:N}),a&&n.default.createElement(s.Radio,{className:"radio-button",key:w,isChecked:S===w,name:w,onChange:(e,t)=>T(0,e),label:n.default.createElement(n.default.Fragment,null,w,n.default.createElement("div",{className:"radio-helptext"}," ","Gives users full administrative access to the cluster. This is the highest level of privilege available to users. It should be granted with extreme care, because it is possible with this level of access to get the cluster into an unsupportable state.")),id:w,value:w}))))};g.propTypes={isOpen:r.default.bool,canAddClusterAdmin:r.default.bool.isRequired,addUserMutate:r.default.func.isRequired,isAddUserPending:r.default.bool.isRequired,isAddUserError:r.default.bool.isRequired,addUserError:r.default.object,isAddUserSuccess:r.default.bool.isRequired},g.defaultProps={isOpen:!1},t.default=g},15493:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58156)),r=a(73410),i=l(a(93175));const s={getUsers:e=>t=>t({type:i.default.GET_USERS,payload:r.clusterService.getClusterGroupUsers(e).then((e=>(e.data.items=(0,n.default)(e,"data.items",[]).map((e=>{const t=e;return t.users&&(t.users.items=(0,n.default)(t,"users.items",[]).filter((e=>"cluster-admin"!==e.id))),t})),e)))}),addUser:(e,t,a)=>l=>l({type:i.default.ADD_USER,payload:r.clusterService.addClusterGroupUser(e,t,a)}),deleteUser:(e,t,a)=>l=>l({type:i.default.DELETE_USER,payload:r.clusterService.deleteClusterGroupUser(e,t,a)}),clearUsersResponses:()=>({type:i.default.CLEAR_USER_RESPONSES}),clearAddUserResponses:()=>({type:i.default.CLEAR_ADD_USER_RESPONSES})};t.default=s},93175:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={GET_USERS:"GET_USERS",GET_CLUSTER_ADMINS:"GET_CLUSTER_ADMINS",GET_DEDICATED_ADMNIS:"GET_DEDICATED_ADMNIS",DELETE_USER:"DELETE_USER",ADD_USER:"ADD_USER",CLEAR_USER_RESPONSES:"CLEAR_USER_RESPONSES",CLEAR_ADD_USER_RESPONSES:"CLEAR_ADD_USER_RESPONSES"}},12071:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(31358),u=a(45646),d=l(a(29564)),c=l(a(14419)),m=a(38823),p=a(9206),f=a(9638),E=a(25514),g=l(a(65702)),v=l(a(12200)),h=l(a(55816)),b=l(a(8888)),S=a(91089),_=l(a(18124)),C=l(a(6894));const y=e=>{var t,a;const{cluster:l,clusterHibernating:r,isReadOnly:y,region:I}=e,A=(0,i.useDispatch)(),{data:R,isLoading:T,isError:O,error:P,isSuccess:D,isRefetching:L}=(0,f.useFetchUsers)(l.id,I),{isPending:N,isError:w,error:M,mutate:k,isSuccess:F}=(0,m.useAddUser)(l.id,I),{isError:x,error:G,mutate:U}=(0,p.useDeleteUser)(l.id,I),j=(0,E.useGlobalState)((e=>(0,c.default)(e,"add-user"))),H=(0,C.default)(l),V=R,q=(null==R||null===(t=R.users)||void 0===t?void 0:t.length)>0,[z,B]=n.default.useState(null);if(n.default.useEffect((()=>{V.clusterID===l.id&&T||(0,f.refetchUsers)()}),[]),n.default.useEffect((()=>{L&&D&&null!==z&&B(null)}),[L,D,z]),!q&&O)return n.default.createElement(s.EmptyState,null,n.default.createElement(h.default,{message:"Error getting cluster users",response:P.error}));const W=!q&&L,$=y&&"This operation is not available during maintenance",Y=r&&"This operation is not available while cluster is hibernating",K=!l.canEdit&&"You do not have permission to add a user. Only cluster owners, cluster editors, and Organization Administrators can add users.",Q=$||Y||K,Z=n.default.createElement(v.default,{onClick:()=>{setTimeout((()=>A(S.modalActions.openModal("add-user"))),0)},variant:"secondary",className:"access-control-add",disableReason:Q},"Add user"),X="User ID",J="Group",ee=n.default.createElement(n.default.Fragment,null,X,n.default.createElement(s.Popover,{position:s.PopoverPosition.top,"aria-label":"User IDs",bodyContent:n.default.createElement("p",null,"User IDs are matched by the cluster's identity providers.")},n.default.createElement(s.Button,{variant:"plain",isInline:!0,"aria-label":"Help"},n.default.createElement(s.Icon,{size:"md"},n.default.createElement(o.HelpIcon,null))))),te=n.default.createElement(n.default.Fragment,null,J,n.default.createElement(s.Popover,{position:s.PopoverPosition.top,"aria-label":"Groups",bodyContent:n.default.createElement("p",null,"Groups are mapped to role bindings on the cluster. For more information check the"," ",n.default.createElement(b.default,{href:g.default.UNDERSTANDING_AUTHENTICATION},"OpenShift 4 documentation"))},n.default.createElement(s.Button,{variant:"plain",isInline:!0,"aria-label":"Help"},n.default.createElement(s.Icon,{size:"md"},n.default.createElement(o.HelpIcon,null)))));return W?n.default.createElement(s.Card,null,n.default.createElement(s.CardTitle,null,n.default.createElement(d.default,{size:"md"})),n.default.createElement(s.CardBody,null,n.default.createElement(d.default,{size:"lg"})),n.default.createElement(s.CardFooter,null,n.default.createElement(d.default,{size:"md"}))):n.default.createElement(s.Card,null,O&&n.default.createElement(h.default,{message:"Error getting cluster users",response:P.error}),n.default.createElement(s.CardBody,null,n.default.createElement(s.Title,{className:"card-title",headingLevel:"h3",size:"lg"},"Cluster administrative users"),n.default.createElement("p",null,"Grant permission to manage this cluster to users defined in your identity provider."," ",n.default.createElement(b.default,{href:g.default.OSD_DEDICATED_ADMIN_ROLE},"Learn more.")),w&&n.default.createElement(h.default,{message:"Error adding user",response:M.error}),x&&n.default.createElement(h.default,{message:"Error deleting user",response:G.error}),q&&n.default.createElement(u.Table,{"aria-label":"Users",variant:u.TableVariant.compact},n.default.createElement(u.Thead,null,n.default.createElement(u.Tr,null,n.default.createElement(u.Th,null,ee),n.default.createElement(u.Th,null,te),n.default.createElement(u.Th,{screenReaderText:"User action"}))),n.default.createElement(u.Tbody,null,null==R||null===(a=R.users)||void 0===a?void 0:a.map(((e,t)=>z===t?n.default.createElement(u.Tr,{key:e.id},n.default.createElement(u.Td,{dataLabel:X},n.default.createElement(d.default,{size:"md"})),n.default.createElement(u.Td,{dataLabel:J},n.default.createElement(d.default,{size:"md"})),n.default.createElement(u.Td,{isActionCell:!0})):n.default.createElement(u.Tr,{key:e.id},n.default.createElement(u.Td,{dataLabel:X},e.id),n.default.createElement(u.Td,{dataLabel:J},e.group),n.default.createElement(u.Td,{isActionCell:!0},n.default.createElement(u.ActionsColumn,{items:[{title:"Delete",onClick:()=>{B(t),U({groupID:e.group,userID:e.id},{onSuccess:()=>{(0,f.refetchUsers)()}})}}],isDisabled:!!Q}))))))),Z,n.default.createElement(_.default,{addUserMutate:k,isAddUserSuccess:F,isAddUserPending:N,isAddUserError:w,addUserError:M,isOpen:j,clusterID:l.id,canAddClusterAdmin:H})))};y.propTypes={region:r.default.string,cluster:r.default.object.isRequired,clusterHibernating:r.default.bool.isRequired,isReadOnly:r.default.bool.isRequired},t.default=y},60948:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(12071));t.default=n.default},9557:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(19202),o=a(3913),u=a(31003),d=a(21888),c=a(48266),m=l(a(1508)),p=a(43245);function f(e){const{addOn:t,installedAddOn:a,requirements:l}=e;if((0,p.hasRequirements)(t)&&!l.fulfilled)return n.default.createElement(i.Label,{variant:"outline",color:"red",icon:n.default.createElement(o.CubesIcon,{"data-icon":"cubes"})},"Prerequisites not met");if(!a)return"";switch(a.state){case void 0:return"";case m.default.INSTALLATION_STATE.PENDING:case m.default.INSTALLATION_STATE.INSTALLING:return n.default.createElement(i.Label,{variant:"outline",icon:n.default.createElement(d.InProgressIcon,{"data-icon":"inProgress"})},"Installing");case m.default.INSTALLATION_STATE.UPDATING:return n.default.createElement(i.Label,{variant:"outline",icon:n.default.createElement(d.InProgressIcon,{"data-icon":"inProgress"})},"Updating");case m.default.INSTALLATION_STATE.DELETED:case m.default.INSTALLATION_STATE.DELETING:case m.default.INSTALLATION_STATE.DELETE_PENDING:return n.default.createElement(i.Label,{variant:"outline",icon:n.default.createElement(d.InProgressIcon,{"data-icon":"inProgress"})},"Uninstalling");case m.default.INSTALLATION_STATE.FAILED:return n.default.createElement(i.Label,{variant:"outline",color:"red",icon:n.default.createElement(u.ExclamationCircleIcon,{"data-icon":"exclamationCircle"})},"Add-on failed");case m.default.INSTALLATION_STATE.READY:return n.default.createElement(i.Label,{variant:"outline",color:"green",icon:n.default.createElement(s.CheckCircleIcon,{"data-icon":"checkCircle"})},"Installed");default:return n.default.createElement(i.Label,{variant:"outline",icon:n.default.createElement(c.UnknownIcon,{"data-icon":"unknown"})},"Unknown")}}f.propTypes={addOn:r.default.object,installedAddOn:r.default.object,requirements:r.default.object},t.default=f},50795:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(3913),u=a(56862),d=a(67080),c=a(81123),m=a(9097),p=a(29327),f=a(98703),E=a(64407),g=a(25514),v=a(2479),h=l(a(55816)),b=l(a(97843)),S=a(43245);const _=e=>{let{clusterID:t,region:a,cluster:l,isHypershift:r}=e;const _=(0,i.useDispatch)(),C=(0,g.useGlobalState)((e=>e.userProfile.organization)),y=(0,g.useGlobalState)((e=>e.userProfile.organization.quotaList)),{data:I,isError:A,error:R}=(0,p.useFetchAddOns)(t,a),{data:T,isLoading:O,isError:P,error:D}=(0,f.useFetchClusterAddOns)(t,a),{isPending:L,isError:N,error:w,isSuccess:M,mutate:k}=(0,c.useAddClusterAddOn)(a),{isPending:F,isError:x,error:G,isSuccess:U,mutate:j}=(0,E.useUpdateClusterAddOn)(a),{isPending:H,isError:V,error:q,isSuccess:z,mutate:B}=(0,m.useDeleteClusterAddOn)(a);if(n.default.useEffect((()=>{O||((0,p.refetchAddOns)(),(0,f.refetchClusterAddOns)()),_((0,v.getOrganizationAndQuota)())}),[]),r)return n.default.createElement(s.EmptyState,null,n.default.createElement(s.EmptyStateHeader,{titleText:"Coming soon",icon:n.default.createElement(s.EmptyStateIcon,{icon:o.CubesIcon}),headingLevel:"h5"}),n.default.createElement(s.EmptyStateBody,null,"Add-ons will be available soon for hosted control plane clusters."),n.default.createElement(s.EmptyStateFooter,null,n.default.createElement(s.EmptyStateActions,null,n.default.createElement(s.Button,{variant:"link",onClick:()=>{document.location.hash="overview"}},"Go back to overview"))));if((!T||0===T.items.length)&&O)return n.default.createElement(s.EmptyState,null,n.default.createElement(s.EmptyStateBody,null,n.default.createElement(d.Spinner,{centered:!0})));const W=(0,S.availableAddOns)(I,l,T,C,y);return W.length>0?P?n.default.createElement(s.EmptyState,null,n.default.createElement(h.default,{message:"Error getting cluster add-ons",response:D})):n.default.createElement(n.default.Fragment,null,N&&n.default.createElement(h.default,{message:"Error adding add-ons",response:w}),n.default.createElement(b.default,{addOnsList:W,clusterAddOns:T,cluster:l,organization:C,quota:y,addClusterAddOn:k,isAddClusterAddOnError:N,addClusterAddOnError:w,isAddClusterAddOnPending:L,updateClusterAddOn:j,isUpdateClusterAddOnError:x,updateClusterAddOnError:G,isUpdateClusterAddOnPending:F,deleteClusterAddOn:B,isDeleteClusterAddOnPending:H,isDeleteClusterAddOnError:V,deleteClusterAddOnError:q,isDeleteClusterAddOnSuccess:z,isUpdateClusterAddOnSuccess:U,isAddClusterAddOnSuccess:M})):n.default.createElement(s.EmptyState,null,n.default.createElement(s.EmptyStateHeader,{titleText:"No add-ons available for this cluster",icon:n.default.createElement(s.EmptyStateIcon,{icon:u.PlusCircleIcon}),headingLevel:"h5"}),A&&n.default.createElement(h.default,{message:"Error getting add-ons",response:R}),n.default.createElement(s.EmptyStateBody,null,"There are no add-ons available for this cluster."))};_.propTypes={clusterID:r.default.string.isRequired,cluster:r.default.object.isRequired,region:r.default.string,isHypershift:r.default.bool.isRequired},t.default=_},20542:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.updateClusterAddOn=t.setAddonsDrawer=t.getClusterAddOns=t.getAddOns=t.deleteClusterAddOn=t.clearClusterAddOnsResponses=t.addOnsActions=t.addClusterAddOn=void 0;var n=l(a(58156)),r=a(73410),i=l(a(1508));const s=e=>t=>t({type:i.default.GET_ADDONS,payload:r.clusterService.getEnabledAddOns(e).then((e=>{const t=(0,n.default)(e,"data.items",[]);return{items:t,resourceNames:t.map((e=>e.resource_name))}}))});t.getAddOns=s;const o=e=>t=>t({type:i.default.GET_CLUSTER_ADDONS,payload:r.clusterService.getClusterAddOns(e).then((t=>{const a=(0,n.default)(t,"data.items",[]);return{clusterID:e,items:a}}))});t.getClusterAddOns=o;const u=(e,t)=>a=>a({type:i.default.ADD_CLUSTER_ADDON,payload:r.clusterService.addClusterAddOn(e,t)});t.addClusterAddOn=u;const d=(e,t,a)=>l=>l({type:i.default.UPDATE_CLUSTER_ADDON,payload:r.clusterService.updateClusterAddOn(e,t,a).then((t=>(l(o(e)),t)))});t.updateClusterAddOn=d;const c=(e,t)=>a=>a({type:i.default.DELETE_CLUSTER_ADDON,payload:r.clusterService.deleteClusterAddOn(e,t)});t.deleteClusterAddOn=c;const m=()=>({type:i.default.CLEAR_CLUSTER_ADDON_RESPONSES});t.clearClusterAddOnsResponses=m,t.setAddonsDrawer=e=>t=>t({type:i.default.SET_ADDONS_DRAWER,payload:e}),t.addOnsActions={getAddOns:s,getClusterAddOns:o,addClusterAddOn:u,updateClusterAddOn:d,deleteClusterAddOn:c,clearClusterAddOnsResponses:m}},70329:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(9557));a(53790);const o=e=>{let{addOn:t,installedAddOn:a,requirements:l,activeCard:r,onClick:o}=e;return n.default.createElement(i.Card,{isSelectableRaised:!0,isSelected:r===t.id,key:t.id,ouiaId:`card-addon-${t.id}`,onClick:o,className:"ocm-c-addons__card","data-testid":"addOnCard"},n.default.createElement(i.CardHeader,{className:"ocm-c-addons__card--header"},t.icon&&n.default.createElement("img",{alt:t.name,src:`data:image/png;base64,${t.icon}`})),n.default.createElement(i.CardTitle,null,t.name),n.default.createElement(i.CardBody,{className:"ocm-c-addons__card--body","data-testid":"cardBody"},(e=>e.description.length>60?`${e.description.substring(0,57)}...`:e.description)(t)),n.default.createElement(i.CardFooter,null,n.default.createElement(s.default,{addOn:t,requirements:l,installedAddOn:a})))};o.propTypes={addOn:r.default.object.isRequired,installedAddOn:r.default.object,requirements:r.default.object.isRequired,onClick:r.default.func.isRequired,activeCard:r.default.string},t.default=o},23180:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(70329));t.default=n.default},1508:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={GET_ADDONS:"GET_ADDONS",GET_CLUSTER_ADDONS:"GET_CLUSTER_ADDONS",UPDATE_CLUSTER_ADDON:"UPDATE_CLUSTER_ADDON",ADD_CLUSTER_ADDON:"ADD_CLUSTER_ADDON",DELETE_CLUSTER_ADDON:"DELETE_CLUSTER_ADDON",CLEAR_CLUSTER_ADDON_RESPONSES:"CLEAR_CLUSTER_ADDON_RESPONSES",INSTALLATION_STATE:{PENDING:"pending",INSTALLING:"installing",UPDATING:"updating",DELETING:"deleting",DELETED:"deleted",DELETE_PENDING:"delete-pending",FAILED:"failed",READY:"ready"},SET_ADDONS_DRAWER:"SET_ADDONS_DRAWER"}},21433:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(2479),u=a(25514),d=l(a(55816)),c=l(a(28592)),m=a(91089),p=l(a(14419)),f=a(20542);a(20524);const E=e=>{let{deleteClusterAddOn:t,isDeleteClusterAddOnError:a,deleteClusterAddOnError:l,isDeleteClusterAddOnPending:r}=e;const E=(0,i.useDispatch)(),g=(0,u.useGlobalState)((e=>(0,p.default)(e,"add-ons-delete-modal"))),{addOnName:v,addOnID:h,clusterID:b}=(0,u.useGlobalState)((e=>e.modal.data)),[S,_]=n.default.useState(""),C=n.default.useCallback((()=>{_(""),E((0,m.closeModal)()),E((0,f.setAddonsDrawer)({open:!1,activeCard:null}))}),[E,_]),y=S===v,I=()=>{t({clusterID:b,addOnID:h},{onSuccess:()=>{E((0,o.getOrganizationAndQuota)()),C(),E((0,f.setAddonsDrawer)({open:!1,activeCard:null}))}})},A=a&&n.default.createElement(d.default,{message:"Error uninstalling add-on",response:l}),R=r;return g&&n.default.createElement(c.default,{title:`Uninstall ${v}`,onClose:C,primaryText:"Uninstall",primaryVariant:"danger",isPrimaryDisabled:!y,onPrimaryClick:I,onSecondaryClick:C,isPending:R},n.default.createElement("p",null,A,"This action will uninstall the add-on, removing add-on data from cluster can not be undone."),n.default.createElement(s.Form,{onSubmit:e=>{e.preventDefault(),y&&I()}},n.default.createElement("p",null,"Confirm deletion by typing"," ",n.default.createElement("span",{className:"addon-delete-modal-textinput"},v)," below:"),n.default.createElement(s.TextInput,{type:"text",value:S,placeholder:"Enter name",onChange:(e,t)=>(e=>{_(e)})(t),"aria-label":"addon name"})))};E.propTypes={isDeleteClusterAddOnError:r.default.bool.isRequired,isDeleteClusterAddOnPending:r.default.bool.isRequired,deleteClusterAddOn:r.default.func.isRequired,deleteClusterAddOnError:r.default.object.isRequired},t.default=E},9846:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(21433));t.default=n.default},37907:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(36165),u=a(20542),d=l(a(23180)),c=l(a(1508)),m=l(a(9846)),p=a(43245),f=l(a(98353)),E=l(a(9557)),g=l(a(66533)),v=l(a(89691)),h=l(a(78562)),b=l(a(8001)),S=l(a(87795)),_=l(a(18273));a(64180);const C=e=>{var t;let{cluster:a,organization:l,quota:r,clusterAddOns:C,addClusterAddOn:y,isAddClusterAddOnError:I,addClusterAddOnError:A,isAddClusterAddOnPending:R,addOnsList:T,updateClusterAddOn:O,isUpdateClusterAddOnError:P,updateClusterAddOnError:D,isUpdateClusterAddOnPending:L,deleteClusterAddOn:N,isDeleteClusterAddOnPending:w,isDeleteClusterAddOnError:M,deleteClusterAddOnError:k}=e;const F=(0,i.useDispatch)(),x=(0,o.useGlobalState)((e=>e.addOns.drawer)),G=e=>(0,p.getInstalled)(e,C),U=()=>{F((0,u.setAddonsDrawer)({activeCard:null,activeCardRequirements:null,activeCardRequirementsFulfilled:!0,open:!1,activeTabKey:0}))},j=e=>()=>{var t;if(e.id===(null===(t=x.activeCard)||void 0===t?void 0:t.id))return void U();const a=(0,p.getInstalled)(e,C),l=(0,p.validateAddOnRequirements)(e),n=(0,p.getAddOnBillingQuota)(e,r);F((0,u.setAddonsDrawer)({activeCard:e,activeCardRequirementsFulfilled:l.fulfilled,activeCardRequirements:l.errorMsgs,installedAddOn:a,billingQuota:n,open:!0,activeTabKey:0}))},{open:H,activeCard:V,installedAddOn:q,activeCardRequirements:z,activeCardRequirementsFulfilled:B,billingQuota:W,activeTabKey:$,subscriptionModels:Y}=x,K=n.default.createElement(s.DrawerPanelContent,{className:"ocm-c-addons__drawer--panel-content"},n.default.createElement(s.DrawerHead,{className:"ocm-c-addons__drawer--header"},n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,{span:3},(null==V?void 0:V.icon)&&n.default.createElement("img",{alt:null==V?void 0:V.name,src:`data:image/png;base64,${null==V?void 0:V.icon}`})),n.default.createElement(s.GridItem,{span:9},n.default.createElement(s.Title,{headingLevel:"h2",size:"xl"},null==V?void 0:V.name))),n.default.createElement(s.DrawerActions,null,n.default.createElement(s.DrawerCloseButton,{onClick:U}))),n.default.createElement(s.DrawerPanelBody,null,n.default.createElement(E.default,{addOn:V,requirements:(0,p.validateAddOnRequirements)(V),installedAddOn:q}),n.default.createElement(g.default,{installedAddOn:q})),n.default.createElement("div",null,n.default.createElement(s.Tabs,{activeKey:$,onSelect:(e,t)=>{F((0,u.setAddonsDrawer)({activeTabKey:t})),e.preventDefault()},inset:{default:"insetNone",md:"insetSm",xl:"inset2xl","2xl":"insetLg"}},n.default.createElement(s.Tab,{eventKey:0,title:n.default.createElement(s.TabTitleText,null,"Details")},n.default.createElement(s.DrawerPanelBody,{className:"ocm-addons-tab--drawer-panel-body"},n.default.createElement(s.Flex,{spaceItems:{default:"spaceItemsLg"},direction:{default:"column"}},n.default.createElement(s.FlexItem,null,null==V?void 0:V.description),n.default.createElement(v.default,{activeCardDocsLink:null==V?void 0:V.docs_link,installedAddOnOperatorVersion:null==q?void 0:q.operator_version,addonID:null==V?void 0:V.id,clusterID:null==a?void 0:a.id,externalClusterID:null==a?void 0:a.external_id,subscriptionPlanID:null==a||null===(t=a.subscription)||void 0===t||null===(t=t.plan)||void 0===t?void 0:t.id}),n.default.createElement(h.default,{installedAddOn:q,activeCard:V,activeCardID:null==V?void 0:V.id,installedAddOnState:null==q?void 0:q.state,cluster:a}),n.default.createElement(_.default,{activeCardId:null==V?void 0:V.id,billingQuota:W,installedAddOn:q,subscriptionModels:Y}))),(null==q?void 0:q.state)===c.default.INSTALLATION_STATE.DELETING?null:n.default.createElement(s.DrawerPanelBody,null,n.default.createElement(b.default,{activeCard:V,activeCardRequirementsFulfilled:B,addClusterAddOn:y,isAddClusterAddOnPending:R,cluster:a,hasQuota:(Q=V,null!==Q&&(0,p.hasQuota)(Q,a,l,r)),installedAddOn:q,installedAddOnOperatorVersion:null==q?void 0:q.operator_version,subscriptionModels:Y,updateClusterAddOn:O}))),!B&&n.default.createElement(s.Tab,{eventKey:1,title:n.default.createElement(s.TabTitleText,null,"Prerequisites")},n.default.createElement(s.DrawerPanelBody,{className:"ocm-addons-tab--drawer-panel-body"},n.default.createElement(s.Flex,{spaceItems:{default:"spaceItemsLg"},direction:{default:"column"}},n.default.createElement(s.FlexItem,null,n.default.createElement(S.default,{activeCardRequirements:z}))))))));var Q;return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Drawer,{isExpanded:H,isInline:!0,className:"ocm-addons-tab--addon-drawer pf-m-inline-on-2xl"},n.default.createElement(s.DrawerContent,{panelContent:V?K:null,className:"pf-m-no-background ocm-c-addons__drawer--panel-gallery"},n.default.createElement(s.DrawerContentBody,null,n.default.createElement(s.Gallery,{hasGutter:!0},T.map((e=>n.default.createElement(d.default,{key:e.id,addOn:e,installedAddOn:G(e),requirements:(0,p.validateAddOnRequirements)(e),onClick:j(e),activeCard:null==V?void 0:V.id}))))))),n.default.createElement(f.default,{clusterID:a.id,cluster:a,quota:r,updateClusterAddOn:O,isUpdateClusterAddOnError:P,updateClusterAddOnError:D,isUpdateClusterAddOnPending:L,addClusterAddOn:y,isAddClusterAddOnError:I,addClusterAddOnError:A,isAddClusterAddOnPending:R}),n.default.createElement(m.default,{deleteClusterAddOn:N,isDeleteClusterAddOnPending:w,isDeleteClusterAddOnError:M,deleteClusterAddOnError:k}))};C.propTypes={addOnsList:r.default.array.isRequired,clusterAddOns:r.default.object.isRequired,cluster:r.default.object.isRequired,organization:r.default.object.isRequired,quota:r.default.object.isRequired,addClusterAddOn:r.default.func.isRequired,updateClusterAddOn:r.default.func.isRequired,deleteClusterAddOnError:r.default.object.isRequired,isDeleteClusterAddOnError:r.default.bool.isRequired,isDeleteClusterAddOnPending:r.default.bool.isRequired,isAddClusterAddOnError:r.default.bool.isRequired,addClusterAddOnError:r.default.object.isRequired,isAddClusterAddOnPending:r.default.bool.isRequired,isUpdateClusterAddOnError:r.default.bool.isRequired,updateClusterAddOnError:r.default.object.isRequired,isUpdateClusterAddOnPending:r.default.bool.isRequired,deleteClusterAddOn:r.default.func.isRequired},t.default=C},66533:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(8888));function o(e){const{installedAddOn:t}=e;return"failed"===(null==t?void 0:t.state)?n.default.createElement(i.Alert,{variant:"danger",isInline:!0,title:"Add-on failed",className:"ocm-addons-failed--error-box",role:"alert"},n.default.createElement(i.Flex,{direction:{default:"column"}},n.default.createElement(i.FlexItem,null,null==t?void 0:t.state_description),n.default.createElement(i.FlexItem,null,n.default.createElement(s.default,{noIcon:!0,href:"https://access.redhat.com/support/cases/#/case/new"},"Contact support")))):null}o.propTypes={installedAddOn:r.default.object},t.default=o},78562:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(7019),u=a(53966),d=a(91089),c=a(43245),m=l(a(98353));function p(e){const t=(0,i.useDispatch)(),{installedAddOn:a,activeCard:l,activeCardID:r,cluster:p}=e;if(a&&l&&(0,c.hasParameters)(l)){const e=(0,c.parameterAndValue)(a,l,p),i=Object.entries(e.parameters).map((e=>{let[t,a]=e;return n.default.createElement("p",{key:t},n.default.createElement("b",{className:"parameter-list-key"},a.name)," ",n.default.createElement(s.Popover,{"aria-label":"param-popover",headerContent:n.default.createElement("div",null,a.name),bodyContent:n.default.createElement("div",null,a.description)},n.default.createElement(s.Button,{isInline:!0,variant:"link",icon:n.default.createElement(o.OutlinedQuestionCircleIcon,{className:"ocm-addons-tab--parameter-tooltip-icon"})}))," ",a.value)}));return n.default.createElement(s.FlexItem,null,n.default.createElement("p",{className:"ocm-addons-tab--configuration-title"},"Configuration",n.default.createElement(s.Button,{ouiaId:`update-addon-${r}`,variant:"link",isDisabled:!p.canEdit,icon:n.default.createElement(u.PencilAltIcon,{className:"ocm-addons-tab--configuration-title-icon"}),onClick:()=>t((0,d.openModal)("add-ons-parameters-modal",{clusterID:p.id,addOn:l,addOnInstallation:a,isUpdateForm:!0}))})),i,n.default.createElement(m.default,{clusterID:p.id}))}return null}a(64180),p.propTypes={installedAddOn:r.default.object,activeCard:r.default.object,activeCardID:r.default.string,cluster:r.default.object},t.default=p},8001:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(40167),d=a(93413),c=l(a(12200)),m=a(91089),p=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),f=l(a(1508)),E=a(43245);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e){var t,a;const{activeCard:l,activeCardRequirementsFulfilled:n,addClusterAddOn:i,isAddClusterAddOnPending:g,updateClusterAddOn:v,cluster:b,hasQuota:S,installedAddOn:_,subscriptionModels:C}=e,y=(0,s.useDispatch)(),I=C[null==l?void 0:l.id],A=async()=>{(0,E.hasParameters)(l)?y((0,m.openModal)("add-ons-parameters-modal",{clusterID:b.id,addOn:l,isUpdateForm:!1})):i(b.id,{addon:{id:null==l?void 0:l.id},billing:h({billing_model:I.billingModel},I.cloudAccount&&{billing_marketplace_account:I.cloudAccount})})},R=!b.canEdit&&"You do not have permission to install add ons. Only cluster owners, cluster editors, and Organization Administrators can install add ons.",T="read_only"===(null==b||null===(t=b.status)||void 0===t?void 0:t.configuration_mode)&&"This operation is not available during maintenance",O=(0,p.isHibernating)(b)&&"This operation is not available while cluster is hibernating",P=b.state!==p.default.READY&&"This cluster is not ready",D=!n&&"Prerequisites not met",L=(!S||"no-quota"===(null==I?void 0:I.billingModel))&&d.noQuotaTooltip,N="marketplace"===(null==I?void 0:I.billingModel)&&"Select a subscription type",w=(null==_||null===(a=_.billing)||void 0===a||a.billing_model,null==I||I.billingModel,c.default,o.ButtonSize.sm,function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return r.default.createElement(c.default,{ouiaId:`uninstall-addon-${null==l?void 0:l.id}`,variant:"secondary",isDanger:!0,disableReason:T||O||P||R,size:o.ButtonSize.sm,onClick:()=>y((0,m.openModal)("add-ons-delete-modal",{addOnName:null==l?void 0:l.name,addOnID:null==l?void 0:l.id,clusterID:b.id})),className:e&&"pf-v5-u-ml-xs"},"Uninstall")});if(!_){const e=g?"installing...":null;return r.default.createElement(c.default,{disableReason:T||O||P||D||R||L||e||N,ouiaId:`install-addon-${null==l?void 0:l.id}`,variant:"primary","aria-label":"Install",onClick:A,size:o.ButtonSize.sm},"Install")}let M;switch(null==_?void 0:_.state){case f.default.INSTALLATION_STATE.PENDING:case f.default.INSTALLATION_STATE.INSTALLING:case f.default.INSTALLATION_STATE.UPDATING:return r.default.createElement(r.default.Fragment,null,w(!1));case void 0:return"";case f.default.INSTALLATION_STATE.FAILED:return M="https://access.redhat.com/support/cases/#/case/new",r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Button,{component:"a",variant:"secondary",href:M,target:"_blank",rel:"noopener noreferrer",size:o.ButtonSize.sm},"Contact support")," ",w());case f.default.INSTALLATION_STATE.READY:return null!=b&&b.console.url?(M=`${b.console.url}/k8s/ns/${null==l?void 0:l.target_namespace}/operators.coreos.com~v1alpha1~ClusterServiceVersion/${null==_?void 0:_.csv_name}`,r.default.createElement("div",null,r.default.createElement(o.Button,{component:"a",variant:"primary",href:M,target:"_blank",rel:"noopener noreferrer",size:o.ButtonSize.sm},"Open in Console ",r.default.createElement(u.ExternalLinkAltIcon,{className:"link-icon"}))," ",w())):"";default:return""}}a(64180),b.propTypes={activeCard:i.default.object,activeCardRequirementsFulfilled:i.default.bool.isRequired,addClusterAddOn:i.default.func.isRequired,cluster:i.default.object.isRequired,hasQuota:i.default.bool.isRequired,installedAddOn:i.default.object,updateClusterAddOn:i.default.func.isRequired,subscriptionModels:i.default.object.isRequired,isAddClusterAddOnPending:i.default.bool},t.default=b},87795:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419);function s(e){const{activeCardRequirements:t}=e;return n.default.createElement(i.List,null,null==t?void 0:t.map((e=>n.default.createElement(i.ListItem,{key:e},e))))}a(64180),s.propTypes={activeCardRequirements:r.default.array},t.default=s},97843:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(37907));t.default=n.default},43245:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.validateAddOnRequirements=t.quotaCostOptions=t.parameterValuesForEditing=t.parameterAndValue=t.minQuotaCount=t.isInstalled=t.isAvailable=t.hasRequirements=t.hasQuota=t.hasParameters=t.getParameters=t.getParameterValue=t.getParameter=t.getInstalled=t.getAddOnBillingQuota=t.availableAddOns=void 0;var n=l(a(43693)),r=l(a(58156)),i=a(38046),s=a(98229);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const d=(e,t,a,l)=>!(!e.enabled||!a.fulfilled)&&(0,s.hasPotentialQuota)(l,u(u({},(0,s.queryFromCluster)(t)),{},{resourceType:i.QuotaTypes.ADD_ON,resourceName:e.resource_name,billingModel:"any"}))>=1;t.isAvailable=d;const c=(e,t)=>!!(0,r.default)(t,"items.length",!1)&&t.items.some((t=>t.addon.id===e.id));t.isInstalled=c,t.getInstalled=(e,t)=>t.items.find((t=>t.addon.id===e.id));const m=e=>{if(void 0===e)return"";const t=[];return Object.entries(e).forEach((e=>{let[a,l]=e;Array.isArray(l)?t.push(`${a} is ${l.join(" or ")}`):"number"==typeof l?t.push(`${a} >= ${l}`):t.push(`${a} is ${l}`)})),`where ${t.join(" and ")}`};t.validateAddOnRequirements=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={fulfilled:!0,errorMsgs:[]};return e.length>0&&e.every((e=>{const[l,n]=(e=>{const t=(0,r.default)(e,"status.fulfilled",!1),a=(0,r.default)(e,"status.error_msgs",[]);return t||0===(0,r.default)(a,"length",0)&&("addon"===e.resource?a.push(`This addon requires another addon to be installed ${m(e.data)}`):"machine_pool"===e.resource?a.push(`This addon requires a machine pool to exist ${m(e.data)}`):a.push(`This addon requires a ${e.resource} ${m(e.data)}`)),[t,a]})(e);return l||a.errorMsgs.push(...n),a.fulfilled&&(a.fulfilled=l),!(!a.fulfilled&&t)})),a}((0,r.default)(e,"requirements",[]),t)};const p=e=>(0,r.default)(e,"parameters.items",[]);t.getParameters=p;const f=e=>(0,r.default)(p(e),"length",0)>0;t.hasParameters=f;const E=e=>{let t=1;return f(e)&&e.parameters.items.forEach((a=>{if("resource"===a.value_type&&a.id===e.resource_name&&void 0!==a.options&&a.options.length>0){const e=a.options.map((e=>Number(e.value))).filter((e=>!Number.isNaN(e)));t=Math.min(...e)}})),t};t.minQuotaCount=E,t.hasQuota=(e,t,a,l)=>{if(!d(e,t,a,l))return!1;const n=E(e);return(0,s.availableQuota)(l,u(u({},(0,s.queryFromCluster)(t)),{},{resourceType:i.QuotaTypes.ADD_ON,resourceName:e.resource_name,billingModel:"any"}))>=n},t.getAddOnBillingQuota=(e,t)=>(0,s.addOnBillingQuota)(t,{resourceType:i.QuotaTypes.ADD_ON,resourceName:e.resource_name}),t.quotaCostOptions=function(e,t,a,l){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;n=Number.isNaN(n)?0:n;const r=u(u({},(0,s.queryFromCluster)(t)),{},{resourceType:i.QuotaTypes.ADD_ON,resourceName:e,billingModel:"any"});if(!(0,s.hasPotentialQuota)(a,r))return l;const o=(0,s.availableQuota)(a,r);return l.filter((e=>o+n>=e.value))},t.availableAddOns=(e,t,a,l,n)=>(0,r.default)(e,"items.length",!1)?e.items.filter((e=>d(e,t,l,n)||c(e,a))):[],t.hasRequirements=e=>(0,r.default)(e,"requirements.length",0)>0;const g=(e,t)=>{if(f(e))return e.parameters.items.find((e=>e.id===t))};t.getParameter=g;const v=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const l=g(e,t);return l?l.value:a};t.getParameterValue=v,t.parameterValuesForEditing=(e,t)=>{const a={parameters:{}};return f(t)&&(a.parameters=t.parameters.items.reduce(((t,a)=>{let l=v(e,a.id);return"boolean"===a.value_type&&(l="true"===(l||"").toLowerCase()),void 0!==a.options&&a.options.length>0&&(l=l||void 0),void 0!==l&&(t[a.id]=l),t}),{})),a},t.parameterAndValue=(e,t)=>{const a={parameters:{}};return f(t)&&(a.parameters=p(t).reduce(((t,a)=>{let l=v(e,a.id);if("boolean"===a.value_type&&(l="true"===(l||"").toString().toLowerCase()),a.options){const e=a.options.find((e=>e.value===l));null!=e&&e.name&&(l=e.name)}if(void 0!==l){const e=u({value:l.toString()},a);t[a.id]=e}return t}),{})),a}},45656:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validationsForParameterField=t.setDefaultParamValue=t.isFieldDisabled=t.getParamDefault=t.getHelpText=t.getFieldProps=t.getDropdownParamOptions=t.getDefaultValueText=void 0;var l=a(84037),n=a(55576),r=a(29568),i=a(77051),s=a(43245);t.isFieldDisabled=(e,t,a)=>t&&!e.editable&&void 0!==a.parameters&&void 0!==a.parameters.items.find((t=>t.id===e.id)),t.getParamDefault=(e,t)=>t||void 0===e.default_value?"":e.default_value,t.getHelpText=(e,t)=>t&&t&&e.default_value&&e.editable?`${e.description}. For example "${e.default_value}"`:e.description,t.setDefaultParamValue=(e,t)=>{let a=e.default_value;"boolean"===e.value_type&&(a="true"===(a||"").toLowerCase()),t(e.id,a)},t.getDropdownParamOptions=(e,t,a,l,n,r)=>{if(void 0!==e.options&&e.options.length>0){let i;if("resource"===e.value_type){let o;t&&e.id===n.resource_name&&(o=1);const u=Number((0,s.getParameterValue)(r,e.id,o));i=(0,s.quotaCostOptions)(e.id,a,l,e.options,u)}else i=e.options;return i}},t.getFieldProps=(e,t,a,l,o,u)=>{if(void 0!==e.options&&e.options.length>0){let n;if("resource"===e.value_type){let r;t&&e.id===a.resource_name&&(r=1);const i=Number((0,s.getParameterValue)(u,e.id,r));n=(0,s.quotaCostOptions)(e.id,l,o,e.options,i)}else n=e.options;return{component:r.AddOnsFormDropdown,options:[...n],type:"select"}}switch(e.value_type){case"number":return{component:i.NumberInputField,type:"text"};case"boolean":return{component:n.CheckboxField,isHelperTextBeforeField:!0};default:return{component:n.TextInputField,type:"text"}}},t.validationsForParameterField=(e,t)=>{let a="";return"boolean"===e.value_type?(void 0!==e.validation&&"^true$"===e.validation||e.required)&&(a=(0,l.requiredTrue)(t)):e.required&&(a=(0,l.required)(t)),"number"===e.value_type&&(a=(0,l.validateNumericInput)(t)),a},t.getDefaultValueText=e=>{if(void 0!==e.options&&e.options.length>0){const t=e.options.find((t=>t.value===e.default_value));if(void 0!==t)return t.name}return e.default_value}},741:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(43693)),i=l(a(93345)),s=a(88139),o=l(a(5556)),u=a(73729),d=a(97419),c=a(44537),m=a(55576),p=a(2786),f=l(a(55816)),E=a(29568),g=l(a(75913)),v=l(a(28592)),h=a(2479),b=a(25514),S=a(91089),_=l(a(14419)),C=a(20542),y=a(43245),I=a(45656);function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(20524);const T=e=>{let{clusterID:t,cluster:a,quota:l,updateClusterAddOn:r,isUpdateClusterAddOnError:o,updateClusterAddOnError:A,isUpdateClusterAddOnPending:T,addClusterAddOn:O,isAddClusterAddOnError:P,addClusterAddOnError:D,isAddClusterAddOnPending:L}=e;const N=(0,u.useDispatch)(),w=(0,b.useGlobalState)((e=>(0,_.default)(e,"add-ons-parameters-modal"))),M=(0,b.useGlobalState)((e=>e.addOns.drawer.subscriptionModels)),{addOn:k,isUpdateForm:F,addOnInstallation:x}=(0,b.useGlobalState)((e=>e.modal.data)),G=(0,y.parameterValuesForEditing)(x,k),U=e=>{e.resetForm(),N((0,S.closeModal)())},j=L||T;return w?i.default.createElement(s.Formik,{initialValues:G.parameters,onSubmit:async(e,a)=>{((e,a)=>{const l=k.id,{billingModel:n}=M[l],i={addon:{id:l},billing:R({billing_model:n},M[l].cloudAccount&&{billing_marketplace_account:M[l].cloudAccount})};e&&(i.parameters={items:Object.entries(e).map((e=>{let[t,a]=e;return{id:t,value:a.toString()}}))});const s={clusterID:t,addOnData:i};F?r(R({},{clusterID:t,addOnID:l,addOnData:i}),{onSuccess:()=>{N((0,h.getOrganizationAndQuota)()),U(a),N((0,C.setAddonsDrawer)({open:!1,activeCard:null}))}}):O(R({},s),{onSuccess:()=>{N((0,h.getOrganizationAndQuota)()),U(a),N((0,C.setAddonsDrawer)({open:!1,activeCard:null}))}})})(e,a)}},(e=>i.default.createElement(v.default,{title:`Configure ${k.name}`,width:810,variant:"large",onClose:()=>U(e),primaryText:F?"Update":"Install",secondaryText:"Cancel",onPrimaryClick:e.submitForm,onSecondaryClick:()=>U(e),isPrimaryDisabled:F&&!e.dirty,isPending:j},(o||P)&&i.default.createElement(f.default,{message:"Error adding add-ons",response:A||D}),i.default.createElement(s.Form,{id:`form-addon-${k.id}`},(0,y.getParameters)(k).map((t=>i.default.createElement(d.FormGroup,{key:t.id},((e,t)=>{if(e.value_type&&"boolean"===e.value_type&&e.required)return i.default.createElement(i.default.Fragment,null,i.default.createElement(m.CheckboxField,(0,n.default)({fieldId:`${e.id}`},(0,I.getFieldProps)(e,F,k,a,l,x),{key:e.id,name:`${e.id}`,label:e.name,placeholder:(0,I.getParamDefault)(e,F),isRequired:e.required,isDisabled:(0,I.isFieldDisabled)(e,F,x),validate:t=>(0,I.validationsForParameterField)(e,t),description:(0,I.getHelpText)(e,F)})),i.default.createElement(p.CheckboxDescription,null,(0,I.getHelpText)(e,F)));if(e.value_type&&"boolean"===e.value_type&&!e.required)return i.default.createElement(i.default.Fragment,null,i.default.createElement(m.CheckboxField,(0,n.default)({fieldId:`${e.id}`},(0,I.getFieldProps)(e,F,k,a,l,x),{key:e.id,name:`${e.id}`,label:e.name,placeholder:(0,I.getParamDefault)(e,F),isRequired:e.required,isDisabled:(0,I.isFieldDisabled)(e,F,x),description:(0,I.getHelpText)(e,F)})),i.default.createElement(p.CheckboxDescription,null,(0,I.getHelpText)(e,F)));if(e.options&&e.options.length>0){let r;if("resource"===e.value_type){let t;F&&e.id===k.resource_name&&(t=1);const n=Number((0,y.getParameterValue)(x,e.id,t));r=(0,y.quotaCostOptions)(e.id,a,l,e.options,n)}else r=e.options;return i.default.createElement(s.Field,(0,n.default)({component:E.AddOnsFormDropdown,options:[...r],fieldId:`${e.id}`},(0,I.getFieldProps)(e,F,k,a,l,x),{key:e.id,name:`${e.id}`,label:e.name,placeholder:(0,I.getParamDefault)(e,F),isRequired:e.required,helperText:(0,I.getHelpText)(e,F),isDisabled:(0,I.isFieldDisabled)(e,F,x),placeHolderText:(0,I.getParamDefault)(e,F),validateOnSubmit:!0,validate:t=>(0,I.validationsForParameterField)(e,t),meta:t.getFieldMeta(e.id)}))}return e.required?i.default.createElement(m.TextInputField,{validate:t=>(0,I.validationsForParameterField)(e,t),key:e.id,name:`${e.id}`,label:e.name,helperText:(0,I.getHelpText)(e,F),isDisabled:(0,I.isFieldDisabled)(e,F,x),placeHolderText:(0,I.getParamDefault)(e,F),meta:t.getFieldMeta(e.id),validateOnSubmit:!0}):i.default.createElement(g.default,{key:e.id,name:`${e.id}`,label:e.name,isRequired:e.required,helpText:(0,I.getHelpText)(e,F),isDisabled:(0,I.isFieldDisabled)(e,F,x),placeHolderText:(0,I.getParamDefault)(e,F),meta:t.getFieldMeta(e.id),fieldId:e.id})})(t,e),(F&&t.editable&&t.default_value||!F&&t.default_value)&&i.default.createElement(d.Button,{onClick:()=>(0,I.setDefaultParamValue)(t,e.setFieldValue),id:`reset-addon-${t.id}`,variant:"link",icon:i.default.createElement(c.LevelUpAltIcon,null),iconPosition:"right",className:"addon-parameter-default-button"},"Use default: ",(0,I.getDefaultValueText)(t))))))))):null};T.propTypes={clusterID:o.default.string.isRequired,updateClusterAddOn:o.default.func.isRequired,isUpdateClusterAddOnError:o.default.bool.isRequired,isUpdateClusterAddOnPending:o.default.bool.isRequired,addClusterAddOn:o.default.func.isRequired,isAddClusterAddOnError:o.default.bool.isRequired,isAddClusterAddOnPending:o.default.bool.isRequired,updateClusterAddOnError:o.default.object.isRequired,addClusterAddOnError:o.default.object.isRequired,addOn:o.default.object,addOnInstallation:o.default.object,cluster:o.default.object.isRequired,quota:o.default.object.isRequired,isUpdateForm:o.default.bool,submitClusterAddOnResponse:o.default.object,change:o.default.func},t.default=T},98353:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(741));t.default=n.default},62148:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(50795));t.default=n.default},98579:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=l(a(58156)),s=l(a(5556)),o=a(73729),u=a(97419),d=a(67080),c=l(a(6071)),m=a(93413),p=x(a(22902)),f=a(75166),E=a(903),g=l(a(7691)),v=l(a(12200)),h=a(91089),b=l(a(43775)),S=l(a(67716)),_=a(36291),C=a(59067),y=l(a(84518)),I=x(a(23271)),A=l(a(62779)),R=l(a(43202)),T=a(83280),O=l(a(73068)),P=l(a(71642)),D=l(a(94696)),L=l(a(13767)),N=l(a(80116)),w=l(a(12627)),M=l(a(47434)),k=l(a(40507));function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(F=function(e){return e?a:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=F(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}const G=()=>r.default.createElement(u.Alert,{id:"idpHint",className:"pf-v5-u-mt-md",variant:"warning",isInline:!0,title:"Missing identity providers"},"Identity providers determine how users log into the cluster.",r.default.createElement(u.Button,{variant:"link",isInline:!0,onClick:()=>{window.location.hash="accessControl"}},"Add OAuth configuration")," ","to allow others to log in.");function U(e){var t,a;const{cluster:l,pending:s,clusterIdentityProviders:F,organization:x,error:U,errorMessage:j,children:H,canSubscribeOCP:V,canTransferClusterOwnership:q,canHibernateCluster:z,autoRefreshEnabled:B,toggleSubscriptionReleased:W,showPreviewLabel:$,isClusterIdentityProvidersLoading:Y,clusterIdentityProvidersError:K,isRefetching:Q,gcpOrgPolicyWarning:Z}=e;let X=null;const{openModal:J}=h.modalActions;(0,I.isHibernating)(l)?X=r.default.createElement(R.default,{cluster:l,openModal:J}):l&&!(0,p.default)(l.subscription)&&((0,T.shouldShowLogs)(l)||(0,I.hasInflightEgressErrors)(l))&&(X=r.default.createElement(P.default,{cluster:l}));const ee=(0,o.useDispatch)(),te=(0,i.default)(l,"subscription.plan.type","")===f.normalizedProducts.OSDTRIAL,ae=(0,i.default)(l,"subscription.plan.type","")===f.normalizedProducts.OSD&&(0,i.default)(l,"subscription.cluster_billing_model","")===f.billingModels.MARKETPLACE,le=(0,i.default)(l,"subscription.plan.type")===f.normalizedProducts.OSD,ne=(0,i.default)(l,"subscription.plan.type")===f.normalizedProducts.ROSA,re=(0,c.default)(l),ie=!!l.console&&l.console.url,se=(0,i.default)(l,"creation_timestamp",""),oe=(null==F||null===(t=F.items)||void 0===t?void 0:t.length)>0,ue=l.managed&&(null===(a=l.idpActions)||void 0===a?void 0:a.create)&&l.state===I.default.READY&&!Y&&!K&&!oe,de=(0,i.default)(l,"subscription.status",!1)===C.SubscriptionCommonFields.status.ARCHIVED,ce=(0,i.default)(l,"subscription.status",!1)===C.SubscriptionCommonFields.status.DEPROVISIONED,me=l.state===I.default.READY&&l.canEdit?{trialExpiration:!0,openModal:J,cluster:l}:{};let pe;ie&&!(0,I.isOffline)(l)?pe=r.default.createElement("a",{href:ie,target:"_blank",rel:"noopener noreferrer",className:"pull-left","data-testid":"console-url-link"},r.default.createElement(u.Button,{variant:"primary"},"Open console")):l.managed?pe=r.default.createElement(u.Button,{variant:"primary",isDisabled:!0,title:l.state===I.default.UNINSTALLING?"The cluster is being uninstalled":"Admin console is not yet available for this cluster"},"Open console"):l.canEdit&&!(0,p.isUninstalledAICluster)(l)&&(pe=r.default.createElement(u.Button,{variant:"primary",onClick:()=>{ee(h.modalActions.openModal(b.default.EDIT_CONSOLE_URL,l))}},"Add console URL")),!(0,p.isUninstalledAICluster)(l)&&(y.default,!l.canEdit&&l.canDelete,x.details,_.refreshClusterDetails);const fe=r.default.createElement(g.default,{path:[{label:"Cluster List"},(de||ce)&&{label:"Cluster Archives",path:"/archived"},{label:re}].filter(Boolean)}),Ee=s||x.pending||Y||Q,ge=te&&(0,i.default)(l,"subscription.trial_end_date"),ve=ae&&(0,m.goZeroTime2Null)((0,i.default)(l,"subscription.billing_expiration_date")),he=!l.canEdit&&"You do not have permissions to unarchive this cluster",be=r.default.createElement(v.default,{variant:"secondary",onClick:()=>{J(b.default.UNARCHIVE_CLUSTER,{subscriptionID:l.subscription?l.subscription.id:"",name:re})},disableReason:he},"Unarchive"),Se=Z&&!ce&&l.state!==I.default.READY&&l.state!==I.default.UNINSTALLING;return r.default.createElement("div",{id:"cl-details-top",className:"top-row"},r.default.createElement(u.Split,null,r.default.createElement(u.SplitItem,{className:"pf-v5-u-pb-md"},fe)),r.default.createElement(u.Split,{id:"cl-details-top-row"},r.default.createElement(u.SplitItem,null,r.default.createElement(u.Title,{size:"2xl",headingLevel:"h1",className:"cl-details-page-title"},re,$&&r.default.createElement(E.PreviewLabel,{creationDateStr:se,className:"pf-v5-u-ml-sm"}))),r.default.createElement(u.SplitItem,null,Ee&&r.default.createElement(d.Spinner,{className:"cluster-details-spinner"}),U&&r.default.createElement(A.default,{errorMessage:j,className:"cluster-details-warning"})),r.default.createElement(u.SplitItem,{isFilled:!0}),r.default.createElement(u.SplitItem,null,r.default.createElement(u.Flex,{flexWrap:{default:"nowrap"},alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsSm"},id:"cl-details-btns"},de||ce?!ce&&be:r.default.createElement(r.default.Fragment,null,pe),!ce&&!de&&r.default.createElement(S.default,{id:"refresh",autoRefresh:B,refreshFunc:_.refreshClusterDetails,clickRefreshFunc:_.refreshClusterDetails,useShortTimer:!Object.values(I.default).includes(l.state)})))),X,r.default.createElement(N.default,{limitedSupportReasons:l.limitedSupportReasons,isOSD:le,isROSA:ne}),ue&&r.default.createElement(u.Split,null,r.default.createElement(u.SplitItem,{isFilled:!0},r.default.createElement(G,null))),l.expiration_timestamp&&r.default.createElement(D.default,{expirationTimestamp:l.expiration_timestamp}),ge&&!ce&&r.default.createElement(D.default,(0,n.default)({expirationTimestamp:ge},me)),ve&&!ce&&r.default.createElement(D.default,{expirationTimestamp:ve,OSDRHMExpiration:!0}),Se&&r.default.createElement(L.default,{summary:Z}),r.default.createElement(w.default,{cluster:l,openModal:J,canSubscribeOCP:V}),!l.canEdit&&(0,p.isAvailableAssistedInstallCluster)(l)&&r.default.createElement(O.default,null),r.default.createElement(k.default,{subscription:l.subscription}),r.default.createElement(M.default,{subscription:l.subscription}),H)}U.propTypes={cluster:s.default.object,pending:s.default.bool.isRequired,clusterIdentityProviders:s.default.object,organization:s.default.object.isRequired,error:s.default.bool,errorMessage:s.default.oneOfType([s.default.string,s.default.node,s.default.element]),children:s.default.any,canSubscribeOCP:s.default.bool.isRequired,canHibernateCluster:s.default.bool.isRequired,canTransferClusterOwnership:s.default.bool.isRequired,autoRefreshEnabled:s.default.bool,toggleSubscriptionReleased:s.default.func.isRequired,showPreviewLabel:s.default.bool.isRequired,isClusterIdentityProvidersLoading:s.default.bool.isRequired,clusterIdentityProvidersError:s.default.bool,isRefetching:s.default.bool.isRequired,gcpOrgPolicyWarning:s.default.string},t.default=U},12627:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(97419),o=a(68720),u=l(a(6071)),d=a(75166),c=l(a(43775)),m=a(59067),p=a(48539);function f(e){let{cluster:t,openModal:a,canSubscribeOCP:l=!1}=e;const i=(0,r.default)(t,"subscription");if((0,r.default)(i,"plan.type")!==d.normalizedProducts.OCP)return null;const f=(0,r.default)(i,"support_level");if(f!==m.SubscriptionCommonFields.support_level.EVAL&&f!==m.SubscriptionCommonFields.support_level.NONE)return null;const E=(0,r.default)(i,"status");if(E===m.SubscriptionCommonFields.status.ARCHIVED||E===m.SubscriptionCommonFields.status.DEPROVISIONED)return null;const g=(0,p.getSubscriptionLastReconciledDate)(i),v=(0,u.default)(t),h=g?n.default.createElement("p",null,"Last checked:",g):"",b=l?n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Button,{variant:"link",isInline:!0,onClick:()=>{a(c.default.EDIT_SUBSCRIPTION_SETTINGS,{subscription:i})}},"Edit subscription settings")," for non-evaluation use. "):n.default.createElement(n.default.Fragment,null,n.default.createElement("a",{href:"https://www.redhat.com/en/contact",target:"_blank",rel:"noreferrer noopener"},"Contact sales")," to purchase an OpenShift subscription."),S=n.default.createElement(n.default.Fragment,null,"The cluster owner or an Organization Administrator can edit subscription settings for non-evaluation use.");return f===m.SubscriptionCommonFields.support_level.NONE?n.default.createElement(s.Alert,{className:"subscription-settings compliancy-alert pf-v5-u-mt-md",isInline:!0,variant:"danger",title:"Your 60-day OpenShift evaluation has expired"},h,n.default.createElement("p",null,"Your cluster is not supported and you may stop receiving updates."," ",t.canEdit?n.default.createElement(n.default.Fragment,null,b," ",n.default.createElement(s.Button,{variant:"link",isInline:!0,onClick:()=>{const e={subscriptionID:(0,r.default)(i,"id"),name:v};a(c.default.ARCHIVE_CLUSTER,e)}},"Archive this cluster")," if it no longer exists. "):S)):n.default.createElement(s.Alert,{className:"subscription-settings compliancy-alert pf-v5-u-mt-md",isInline:!0,variant:"warning",title:"OpenShift evaluation expiration date"},h,n.default.createElement("p",null,"Your OpenShift evaluation will expire at",n.default.createElement(o.DateFormat,{date:i.eval_expiration_date,type:"onlyDate"}),".",t.canEdit?b:S))}f.propTypes={cluster:i.default.shape({creation_timestamp:i.default.string,canEdit:i.default.bool}),openModal:i.default.func.isRequired,canSubscribeOCP:i.default.bool.isRequired},t.default=f},64765:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(95376),o=l(a(13495)),u=a(90280),d=a(69304),c=a(10135),m=a(79915);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const E=e=>{const{currentFilter:t,currentFlags:a,setFilter:l,setFlags:n}=e,i=(0,d.useNavigate)(),p=(0,s.useLocation)(),[E,g]=r.default.useState(null),[v,h]=r.default.useState({description:"",loggedBy:""}),[b,S]=r.default.useState({severityTypes:[],logTypes:[]}),_=r.default.useRef(v),C=r.default.useRef(b);r.default.useEffect((()=>{_.current=v,C.current=b}),[v,b]),r.default.useEffect((()=>{t&&h(f({},t)),a&&S({severityTypes:a.severityTypes,logTypes:a.logTypes})}),[a,t]);const y=()=>{l(f(f({},t),_.current))},I=(e,t)=>{null!==E&&clearTimeout(E),h({[t]:e});const a=setTimeout(y,300);g(a)},A=()=>{const{severityTypes:e,logTypes:t}=C.current;n({severityTypes:e,logTypes:t}),i(f(f({},p),{},{search:(0,c.buildFilterURLParams)({logTypes:t,severityTypes:e})}),{replace:!0})},R=(e,t)=>{null!==E&&clearTimeout(E),S(f(f({},b),{},{[t]:e}));const a=setTimeout(A,300);g(a)},{description:T,loggedBy:O}=v,{severityTypes:P,logTypes:D}=b,L={type:u.conditionalFilterType.text,value:"Description",label:"Description",filterValues:{"aria-label":"Description Filter Input",onChange:(e,t)=>I(t,"description"),value:T}},N={type:u.conditionalFilterType.checkbox,label:"Severity",value:"Severity",filterValues:{onChange:(e,t)=>R(t,"severityTypes"),items:m.SEVERITY_TYPES.map((e=>({label:e,value:e}))),value:P}},w={type:u.conditionalFilterType.checkbox,label:"Type",value:"Type",filterValues:{onChange:(e,t)=>R(t,"logTypes"),items:m.LOG_TYPES.map((e=>({label:e,value:e}))),value:D}},M={type:u.conditionalFilterType.text,value:"Logged by",label:"Logged by",filterValues:{"aria-label":"Logged by Filter Input",onChange:(e,t)=>I(t,"loggedBy"),value:O}};return r.default.createElement(o.default,{items:[L,N,w,M]})};E.propTypes={currentFilter:i.default.shape({description:i.default.string,loggedBy:i.default.string,timestampFrom:i.default.string,timestampTo:i.default.string}).isRequired,currentFlags:i.default.shape({severityTypes:i.default.arrayOf(i.default.string),logTypes:i.default.arrayOf(i.default.string)}).isRequired,setFilter:i.default.func.isRequired,setFlags:i.default.func.isRequired},t.default=E},12773:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.onDateChangeFromFilter=t.getTimestampFrom=t.default=t.dateParse=t.dateFormat=void 0;var n=l(a(94634)),r=l(a(43693)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),s=l(a(74353)),o=l(a(5556)),u=a(97419),d=a(22416);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}a(27722);const p=/^\d{4}-\d{2}-\d{2}$/,f=e=>e.replace(/T.*/,"").split("-").filter((e=>""!==e&&0!==Number.parseInt(e,10))),E=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=f(e);if(3!==a.length)return"";const l=a[0],n=a[1],r=a[2],i=`${l.padStart(4,"0")}-${n.padStart(2,"0")}-${r.padStart(2,"0")}`;return t?new Date(l,Number.parseInt(n,10)-1,r):i};let g;t.dateParse=E;const v=function(){if(!g||arguments.length>0&&void 0!==arguments[0]&&arguments[0]){const e=E((new Date).toISOString()),t=new Date(e);t.setMonth(t.getMonth()-1);const a=new Date(e);a.setDate(a.getDate()-7);const l=new Date(e);return l.setDate(l.getDate()-3),g={now:e,lastMonthStart:t,lastWeekStart:a,last72HoursStart:l},g}return g},h=e=>{const{lastMonthStart:t}=v();return e<t?t:e};t.getTimestampFrom=h;const b="Last month",S="Last week",_="Last 72 hours",C="Custom",y=e=>{const t=e.getFullYear(),a=e.getMonth()+1,l=e.getDate();return`${t}-${a.toString().padStart(2,"0")}-${l.toString().padStart(2,"0")}`};t.dateFormat=y;const I=e=>({date:`${e}T00:00:00.000Z`,key:"timestampFrom",symbol:">="});t.onDateChangeFromFilter=I;const A=e=>({date:`${e}T23:59:59.999Z`,key:"timestampTo",symbol:"<="}),R=e=>{let{setFilter:t,currentFilter:a,createdAt:l}=e;const{now:o,lastMonthStart:c,lastWeekStart:g,last72HoursStart:R}=v(),T=E(l),O=[{value:b},{value:S},{value:_},{value:C}],[P,D]=(0,i.useState)(y(h(T))),[L,N]=(0,i.useState)(y(o)),[w,M]=(0,i.useState)(!1),[k,F]=(0,i.useState)(!1),[x,G]=(0,i.useState)(!1),[U,j]=(0,i.useState)(O[0].value),[H,V]=(0,i.useState)(0),q=E(L),z=E(P);let B;B=z>q&&z<=o&&q<=o&&q>=T?"The end date cannot be before the start date.":"";const W=e=>{const l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a);e.forEach((e=>{let{key:t,symbol:a,date:n}=e;l[t]=`${a} '${n}'`})),t(l)},$=e=>{D(e),W([I(E(e,!1))])},Y=e=>{N(e),W([A(E(e,!1))])},K=[e=>e<T&&!w?"The start date cannot be before the cluster creation date.":"",e=>e>o?"The start date cannot be in the future.":""],Q=[e=>e<T&&!k?"The end date cannot be before the cluster creation date.":"",e=>e>o?"The end date cannot be in the future.":""],Z=e=>(0,u.isValidDate)(new Date(e)),X=(e,t)=>{M(!1),j(C),3===f(e).length&&t&&(Z(e)&&p.test(e)?$(e):M(!0))},J=(e,t)=>{F(!1),j(C),3===f(e).length&&t&&(Z(e)&&p.test(e)?Y(e):F(!0))},ee="YYYY-MM-DD",te={className:"cluster-log__date-picker",placeholder:ee,invalidFormatText:`Invalid: ${ee}`,dateFormat:y,popoverProps:{position:"right"},key:H},ae=i.default.createElement(u.DatePicker,(0,n.default)({onChange:(e,t,a)=>X(t,a),onBlur:(e,t,a)=>X(t,a),value:P,dateParse:E,validators:K},te)),le=i.default.createElement(u.DatePicker,(0,n.default)({onChange:(e,t,a)=>J(t,a),onBlur:(e,t,a)=>J(t,a),value:L,dateParse:E,validators:Q},te)),ne=e=>e<T?T:e,re=i.default.createElement(d.Select,{onToggle:(e,t)=>G(t),onSelect:(e,t)=>{let a;switch(j(t),G(!1),V(H+1),t){case b:a=ne(c);break;case S:a=ne(g);break;case _:a=ne(R);break;default:return}D(y(a)),N(y(o)),W([I(y(a)),A(y(o))])},selections:U,isOpen:x,"aria-label":"Select a date range","aria-labelledby":"select-date-range"},O.map(((e,t)=>i.default.createElement(d.SelectOption,{key:t,value:e.value,isDisabled:e.isDisabled}))));return(0,i.useEffect)((()=>W([I(P),A(L)])),[]),(0,i.useEffect)((()=>{if(a.timestampFrom){const e=(0,s.default)(a.timestampFrom.replaceAll("'","").split(" ")[1]).utcOffset(0).format("YYYY-MM-DD");e!==P&&($(e),j(O[3].value))}if(a.timestampTo){const e=(0,s.default)(a.timestampTo.replaceAll("'","").split(" ")[1]).utcOffset(0).format("YYYY-MM-DD");e!==L&&(Y(e),j(O[3].value))}}),[a.timestampFrom,a.timestampTo]),i.default.createElement(i.default.Fragment,null,i.default.createElement(u.ToolbarItem,null,re),i.default.createElement(u.ToolbarItem,null,ae," ",w?i.default.createElement(u.HelperText,null,i.default.createElement(u.HelperTextItem,{variant:"error"},`Invalid: ${ee}`)):void 0),i.default.createElement(u.ToolbarItem,null,le," ",B?i.default.createElement(u.HelperText,null,i.default.createElement(u.HelperTextItem,{variant:"error"},B)):void 0,k?i.default.createElement(u.HelperText,null,i.default.createElement(u.HelperTextItem,{variant:"error"},`Invalid: ${ee}`)):void 0))};R.propTypes={currentFilter:o.default.shape({description:o.default.string,timestampFrom:o.default.string,timestampTo:o.default.string}).isRequired,setFilter:o.default.func.isRequired,createdAt:o.default.string.isRequired},t.default=R},50018:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(91847)),r=l(a(43693)),i=l(a(93345)),s=l(a(62193)),o=l(a(5556)),u=a(95376),d=a(97419),c=a(69304),m=l(a(93413)),p=a(10135),f=a(79915);const E=["timestampFrom","timestampTo"];function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const h=[{key:"severityTypes",label:"Severity Type",optionLabels:f.SEVERITY_TYPES.reduce(((e,t)=>(e[t]=t,e)),{})},{key:"logTypes",label:"Type",optionLabels:f.LOG_TYPES.reduce(((e,t)=>(e[t]=t,e)),{})}];function b(e){let{currentFilter:t,setFilter:a,currentFlags:l,setFlags:r,clearFiltersAndFlags:o}=e;const f=(0,u.useLocation)(),g=(0,c.useNavigate)(),{timestampFrom:b,timestampTo:S}=t,_=(0,n.default)(t,E);return m.default.nestedIsEmpty(_)&&m.default.nestedIsEmpty(l)?null:i.default.createElement(d.Split,null,i.default.createElement(d.SplitItem,null,i.default.createElement(d.ChipGroup,null,[{key:"description",label:"Description"},{key:"loggedBy",label:"Logged by"}].map((e=>((e,t,a,l,n)=>{const{key:r}=e,o=t[r]||[];return(0,s.default)(o)?null:i.default.createElement(d.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},i.default.createElement(d.Chip,{key:r,onClick:()=>{((e,t)=>{l({pathname:n.path,hash:n.hash,search:(0,p.buildFilterURLParams)({[e]:[t]})},{replace:!0}),a(t)})(r,v(v({},t),{},{[e.key]:""}))}},o))})(e,t,a,g,f))).filter(Boolean)),i.default.createElement(d.ChipGroup,null,h.map((e=>((e,t,a,l,n)=>{const r=t[e.key]||[];return(0,s.default)(r)?null:i.default.createElement(d.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},r.map((s=>{const o=e.optionLabels[s];return i.default.createElement(d.Chip,{key:s,onClick:()=>{var i;i=v(v({},t),{},{[e.key]:r.filter((e=>e!==s))}),l({pathname:n.path,hash:n.hash,search:(0,p.buildFilterURLParams)(i)},{replace:!0}),a(i)}},o)})))})(e,l,r,g,f))).filter(Boolean))),i.default.createElement(d.SplitItem,null,i.default.createElement(d.Button,{variant:"link",onClick:()=>((e,t,a)=>{const l=(0,p.getQueryParam)("timestampFrom")||"",n=(0,p.getQueryParam)("timestampTo")||"";e({hash:a.hash,search:(0,p.buildFilterURLParams)({timestampFrom:[l],timestampTo:[n]})},{replace:!0}),t()})(g,o,f)},"Clear filters")))}b.propTypes={setFilter:o.default.func.isRequired,currentFilter:o.default.shape({description:o.default.string,loggedBy:o.default.string,timestampFrom:o.default.string,timestampTo:o.default.string}).isRequired,setFlags:o.default.func.isRequired,currentFlags:o.default.shape({severityTypes:o.default.arrayOf(o.default.string),logTypes:o.default.arrayOf(o.default.string)}).isRequired,clearFiltersAndFlags:o.default.func.isRequired},t.default=b},53778:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(22916),o=l(a(13945)),u=l(a(64765)),d=l(a(12773)),c=l(a(87857)),m=l(a(50018));class p extends n.default.PureComponent{render(){const{viewOptions:e,history:t,setFlags:a,setFilter:l,externalClusterID:r,currentFilter:p,currentFlags:f,clearFiltersAndFlags:E,isPendingNoData:g,createdAt:v,clusterID:h,logs:b,itemCount:S,page:_,perPage:C,itemsStart:y,itemsEnd:I,onSetPage:A,onPerPageSelect:R}=this.props;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Toolbar,{className:"cluster-log__toolbar","data-testid":"cluster-history-toolbar"},n.default.createElement(i.ToolbarContent,null,n.default.createElement(i.ToolbarGroup,{variant:"filter-group"},n.default.createElement(d.default,{currentFilter:p,currentFlags:f,setFilter:l,setFlags:a,createdAt:v})),n.default.createElement(i.ToolbarItem,null,n.default.createElement(u.default,{view:s.viewConstants.CLUSTER_LOGS_VIEW,history:t,currentFilter:p,currentFlags:f,setFilter:l,setFlags:a})),n.default.createElement(i.ToolbarItem,null,n.default.createElement(c.default,{externalClusterID:r,clusterID:h,viewOptions:e,logs:b})),n.default.createElement(i.ToolbarItem,{align:{default:"alignRight"},variant:"pagination"},n.default.createElement(o.default,{itemCount:S,isDisabled:g,page:_,perPage:C,itemsStart:y,itemsEnd:I,variant:i.PaginationVariant.top,onSetPage:A,onPerPageSelect:R})))),n.default.createElement(m.default,{view:s.viewConstants.CLUSTER_LOGS_VIEW,currentFilter:p,currentFlags:f,setFilter:l,setFlags:a,clearFiltersAndFlags:E}))}}p.propTypes={setFilter:r.default.func.isRequired,currentFilter:r.default.shape({description:r.default.string,timestampFrom:r.default.string,timestampTo:r.default.string}).isRequired,setFlags:r.default.func.isRequired,currentFlags:r.default.shape({severityTypes:r.default.arrayOf(r.default.string),logTypes:r.default.arrayOf(r.default.string)}).isRequired,clearFiltersAndFlags:r.default.func.isRequired,history:r.default.shape({push:r.default.func.isRequired}),externalClusterID:r.default.string.isRequired,viewOptions:r.default.object.isRequired,isPendingNoData:r.default.bool.isRequired,createdAt:r.default.string.isRequired,clusterID:r.default.string.isRequired,logs:r.default.number.isRequired,itemCount:r.default.number,page:r.default.number,perPage:r.default.number,itemsStart:r.default.number,itemsEnd:r.default.number,onSetPage:r.default.func,onPerPageSelect:r.default.func},t.default=p},86395:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(58156)),r=a(73729),i=a(27241),s=a(22916),o=l(a(53778));t.A=(0,r.connect)(((e,t)=>{const a=(0,n.default)(e,"clusters.details.cluster",{});return{viewOptions:e.viewOptions[s.viewConstants.CLUSTER_LOGS_VIEW],currentFilter:e.viewOptions[t.view].filter||{conditionalFilterFlags:{}},currentFlags:e.viewOptions[t.view].flags.conditionalFilterFlags||{},createdAt:(0,n.default)(a,"creation_timestamp","")}}),((e,t)=>({setFilter:a=>e((0,i.onListFilterSet)(a,t.view)),setFlags:a=>e((0,i.onListFlagsSet)("conditionalFilterFlags",a,t.view)),clearFiltersAndFlags:()=>e((0,i.onClearFiltersAndFlags)(t.view))})))(o.default)},84683:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=l(a(55816)),s=l(a(28592));class o extends n.default.Component{componentDidUpdate(){const{deletedIDPResponse:e}=this.props;e.fulfilled&&this.closeDialog(!0)}closeDialog(e){const{clearDeleteIDPResponse:t,close:a,refreshParent:l}=this.props;t(),a(),e&&l()}render(){const{isOpen:e,modalData:t,deleteIDP:a,deletedIDPResponse:l}=this.props,{clusterID:r,idpID:o,idpName:u,idpType:d}=t,c=l.error&&n.default.createElement(i.default,{message:"Error removing identity provider",response:l}),m=l.pending,p=()=>this.closeDialog(!1);return e&&n.default.createElement(s.default,{onClose:p,primaryText:"Remove",primaryVariant:"danger",onPrimaryClick:()=>a(r,o),onSecondaryClick:p,title:"Remove identity provider",isPending:m},c,n.default.createElement("p",null,"You're about to remove the ",n.default.createElement("b",null,d)," identity provider"," ",n.default.createElement("b",null,'"',u,'"')," ","from this cluster."),n.default.createElement("p",null,"You may lose access to this cluster if you remove this identity provider. At least one identity provider is required to access the cluster."))}}o.propTypes={isOpen:r.default.bool.isRequired,modalData:r.default.object,clearDeleteIDPResponse:r.default.func.isRequired,close:r.default.func.isRequired,deleteIDP:r.default.func.isRequired,deletedIDPResponse:r.default.object,refreshParent:r.default.func},t.default=o},95871:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=l(a(14419)),s=a(61411),o=l(a(84683));const u={clearDeleteIDPResponse:()=>(0,s.resetDeletedIDPResponse)(),deleteIDP:(e,t)=>(0,s.deleteIDP)(e,t),close:()=>(0,r.closeModal)()};t.default=(0,n.connect)((e=>({isOpen:(0,i.default)(e,"delete-idp"),modalData:e.modal.data,deletedIDPResponse:e.identityProviders.deletedIDP})),u)(o.default)},61411:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.resetIdentityProvidersState=t.resetDeletedIDPResponse=t.resetCreatedClusterIDPResponse=t.getClusterIdentityProviders=t.editClusterIdentityProvider=t.deleteIDP=t.createClusterIdentityProvider=t.clusterIdentityActions=void 0;var n=l(a(58156)),r=a(73410),i=a(47581);const s=e=>t=>t({type:i.identityProvidersConstants.GET_CLUSTER_IDENTITY_PROVIDERS,payload:r.clusterService.getIdentityProviders(e).then((e=>(e.data.items=(0,n.default)(e.data,"items",[]),e)))});t.getClusterIdentityProviders=s;const o=(e,t)=>a=>a({type:i.identityProvidersConstants.CREATE_CLUSTER_IDENTITY_PROVIDER,payload:r.clusterService.createClusterIdentityProvider(e,t).then((e=>e))});t.createClusterIdentityProvider=o;const u=(e,t)=>a=>a({type:i.identityProvidersConstants.UPDATE_CLUSTER_IDENTITY_PROVIDER,payload:r.clusterService.editClusterIdentityProvider(e,t).then((e=>e))});t.editClusterIdentityProvider=u;const d=()=>e=>e({type:i.identityProvidersConstants.RESET_CREATED_CLUSTER_IDP_RESPONSE});t.resetCreatedClusterIDPResponse=d;const c=(e,t)=>a=>a({type:i.identityProvidersConstants.DELETE_IDENTITY_PROVIDER,payload:r.clusterService.deleteIdentityProvider(e,t)});t.deleteIDP=c;const m=()=>e=>e({type:i.identityProvidersConstants.RESET_DELETED_IDP_RESPONSE});t.resetDeletedIDPResponse=m;const p=()=>e=>e({type:i.identityProvidersConstants.RESET_IDENTITY_PROVIDERS_STATE});t.resetIdentityProvidersState=p,t.clusterIdentityActions={getClusterIdentityProviders:s,createClusterIdentityProvider:o,resetCreatedClusterIDPResponse:d,deleteIDP:c,resetDeletedIDPResponse:m,resetIdentityProvidersState:p,editClusterIdentityProvider:u}},47581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identityProvidersConstants=t.UPDATE_CLUSTER_IDENTITY_PROVIDER=t.RESET_IDENTITY_PROVIDERS_STATE=t.RESET_DELETED_IDP_RESPONSE=t.RESET_CREATED_CLUSTER_IDP_RESPONSE=t.GET_CLUSTER_IDENTITY_PROVIDERS=t.DELETE_IDENTITY_PROVIDER=t.CREATE_CLUSTER_IDENTITY_PROVIDER=void 0;const a=t.GET_CLUSTER_IDENTITY_PROVIDERS="GET_CLUSTER_IDENTITY_PROVIDERS",l=t.CREATE_CLUSTER_IDENTITY_PROVIDER="CREATE_CLUSTER_IDENTITY_PROVIDER",n=t.RESET_CREATED_CLUSTER_IDP_RESPONSE="RESET_CREATED_CLUSTER_IDP_RESPONSE",r=t.DELETE_IDENTITY_PROVIDER="DELETE_IDENTITY_PROVIDER",i=t.RESET_DELETED_IDP_RESPONSE="RESET_DELETED_IDP_RESPONSE",s=t.RESET_IDENTITY_PROVIDERS_STATE="RESET_IDENTITY_PROVIDERS_STATE",o=t.UPDATE_CLUSTER_IDENTITY_PROVIDER="UPDATE_CLUSTER_IDENTITY_PROVIDER";t.identityProvidersConstants={GET_CLUSTER_IDENTITY_PROVIDERS:a,CREATE_CLUSTER_IDENTITY_PROVIDER:l,RESET_CREATED_CLUSTER_IDP_RESPONSE:n,DELETE_IDENTITY_PROVIDER:r,RESET_DELETED_IDP_RESPONSE:i,RESET_IDENTITY_PROVIDERS_STATE:s,UPDATE_CLUSTER_IDENTITY_PROVIDER:o}},82198:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchOrganizationInsights=t.fetchClusterInsights=void 0;var n=l(a(58156)),r=a(73410),i=a(68842);const s=e=>r.insightsService.getClusterInsights(e).then((t=>({insightsData:(0,n.default)(t,"data.report",{}),clusterId:e,status:t.status})));t.fetchClusterInsights=e=>t=>t({type:i.GET_CLUSTER_INSIGHTS,payload:s(e),meta:{clusterId:e}}),t.fetchOrganizationInsights=()=>e=>e({type:i.GET_ORGANIZATION_INSIGHTS,payload:r.insightsService.getOrganizationInsights()})},26839:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.labelBorderColor=t.groupRulesByRisk=t.default=void 0;var n=l(a(43693)),r=l(a(58156));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const o=e=>e.reduce(((e,t)=>{let{total_risk:a}=t;return s(s({},e),{},{[a]:e[a]?e[a]+1:1})}),{1:0,2:0,3:0,4:0});t.groupRulesByRisk=o,t.labelBorderColor={1:"blue",2:"orange",3:"orange",4:"red"},t.default=(e,t)=>{const a=(0,r.default)(e,`insightsData.insightsData[${t}].data`),l=a?a.filter((e=>!e.disabled)):[];return o(l)}},93901:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(62193)),s=l(a(5556)),o=a(73729),u=a(97419),d=a(45646),c=a(36509),m=l(a(29564)),p=a(93413),f=a(88851),E=a(48539),g=a(11611),v=a(68835),h=a(11243),b=a(47385),S=a(60216),_=a(23492),C=a(81773),y=a(976),I=a(25514),A=a(73410),R=a(16236),T=a(2479),O=l(a(12200)),P=l(a(55816)),D=a(91089),L=l(a(43775)),N=l(a(14419)),w=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=q(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),M=a(54913),k=l(a(9155)),F=l(a(60288)),x=l(a(60034)),G=a(46013),U=l(a(2167)),j=a(57109),H=a(85927),V=a(56723);function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(q=function(e){return e?a:t})(e)}a(77434);const z=(e,t,a,l)=>{const i=(0,r.default)(e,"version.id","");return i?n.default.createElement(n.default.Fragment,null,(0,f.versionFormatter)(i)||i," ",t?null:n.default.createElement(V.UpdatePoolButton,{machinePool:e,isMachinePoolError:a,isHypershift:l})):"N/A"},B=e=>{var t,a,l;let{cluster:r}=e;const s=(0,o.useDispatch)(),f=(0,I.useGlobalState)((e=>(0,N.default)(e,L.default.DELETE_MACHINE_POOL))),q=(0,I.useGlobalState)((e=>(0,N.default)(e,L.default.EDIT_CLUSTER_AUTOSCALING_V2))),B=(0,I.useGlobalState)((e=>e.clusterUpgrades.schedules)),W=(0,h.useFeatureGate)(y.ENABLE_MACHINE_CONFIGURATION),$=(0,I.useGlobalState)((e=>e.userProfile.organization)),Y=(0,H.hasOrgLevelBypassPIDsLimitCapability)(null==$?void 0:$.details),K=(0,w.isHypershiftCluster)(r),Q=null==r||null===(t=r.subscription)||void 0===t?void 0:t.xcm_id,Z=null==r?void 0:r.id,X=null==r||null===(a=r.version)||void 0===a?void 0:a.id,[J,ee]=n.default.useState(null),[te,ae]=n.default.useState([]),[le,ne]=n.default.useState(!1),[re,ie]=n.default.useState(void 0),[se,oe]=n.default.useState(!1),[ue,de]=n.default.useState(!1),{data:ce,isLoading:me,isError:pe,error:fe,refetch:Ee}=(0,S.useFetchMachineTypes)(Q),{data:ge,isLoading:ve,isError:he,error:be,refetch:Se}=(0,C.useFetchMachineOrNodePools)(Z,K,X,Q),{data:_e,isLoading:Ce,hasClusterAutoscaler:ye,isStale:Ie,isRefetching:Ae}=(0,b.useFetchClusterAutoscaler)(Z,Q),{mutate:Re,isPending:Te,isError:Oe,isSuccess:Pe,error:De}=(0,_.useDeleteMachinePool)(Z,K,Q);n.default.useEffect((()=>{Ee(),s((0,T.getOrganizationAndQuota)())}),[]),n.default.useEffect((()=>{Te||!Pe||ve||(s((0,T.getOrganizationAndQuota)()),Se()),(Pe||Oe)&&null!==J&&ee(null),!(0,w.isHypershiftCluster)(r)&&ye&&Ie&&!Ce&&(0,b.refetchClusterAutoscalerData)(Z)}),[Te,Oe,Pe,ve,J,_e,ye,Ce,Se,b.refetchClusterAutoscalerData]);const Le=(0,H.hasMachinePoolsQuotaSelector)($,r,ce.types),Ne=(null==r?void 0:r.machinePoolsActions)||{},we=!(null==ge||!ge.length),Me=(0,E.isMultiAZ)(r),ke=(0,j.hasDefaultOrExplicitAutoscalingMachinePool)(r,ge),Fe=(null==r?void 0:r.kubeletConfigActions)||{},xe=(0,w.isROSA)(r),Ge=(0,w.isOSD)(r),Ue=(0,w.isCCS)(r),je=(0,w.isAWS)(r),He=W&&(xe&&!K||Ge&&Ue&&je),Ve=Fe.create&&Fe.update,qe=((null==r?void 0:r.state)!==w.default.READY||!Ve)&&(Ve?"Machine configuration is only available when the cluster is ready.":"You do not have permission to edit the machine configuration. Only cluster owners and cluster editors can edit machine configuration.");if(we&&null!=be&&be.error)return n.default.createElement(u.EmptyState,null,n.default.createElement(P.default,{message:"Error retrieving machine pools",response:be.error}));const ze=[{title:"Machine pool",cellFormatters:[d.expandable]},{title:"Instance type"},{title:"Availability zones",transforms:[(0,d.cellWidth)(15)]}];ze.push({title:"Node count"}),ze.push({title:"Autoscaling",transforms:[(0,d.cellWidth)(15)]}),K&&ze.push({title:"Version",transforms:[(0,d.cellWidth)(15)]});const Be="read_only"===(null==r||null===(l=r.status)||void 0===l?void 0:l.configuration_mode)&&"This operation is not available during maintenance",We=!Le&&p.noQuotaTooltip,$e=(0,w.isHibernating)(r)&&"This operation is not available while cluster is hibernating",Ye=!Ne.update&&"You do not have permission to add or edit machine pools. Only cluster owners, cluster editors, machine pool editors and Organization Administrators can edit machine pools.",Ke=null!=r&&r.canEditClusterAutoscaler?ye&&Ce&&"The cluster autoscaler is loading.":"You do not have permission to edit the cluster autoscaler.",Qe=!!(Be||$e||Ye),Ze=[];null==ge||ge.forEach((e=>{const t=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(0,i.default)(t.labels)||(null===(e=t.taints)||void 0===e?void 0:e.length)>0||t.autoscaling||t.aws||(0,j.hasSubnets)(t)}(e),a=function(e){var t,a,l;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={cells:[r.id,{title:n.default.createElement(n.default.Fragment,null,K?null===(t=r.aws_node_pool)||void 0===t?void 0:t.instance_type:r.instance_type,(null===(a=r.aws)||void 0===a?void 0:a.spot_market_options)&&n.default.createElement(u.Label,{variant:"outline",className:"ocm-c-machine-pools__spot-label"},"Spot"))},(null===(l=r.availability_zones)||void 0===l?void 0:l.join(", "))||r.availability_zone,{title:n.default.createElement(U.default,{isMultiZoneCluster:Me,machinePool:r})},{title:r.autoscaling?"Enabled":"Disabled"},K?{title:z(r,he,K,Qe)}:null].filter((e=>null!==e)),key:r.id,machinePool:r};return e&&(i.isOpen=te.includes(r.id)),i}(t,e);if(Ze.push(a),t){const t=((e,t)=>({parent:t,fullWidth:!0,cells:[{title:n.default.createElement(x.default,{region:Q,cluster:r,isMultiZoneCluster:Me,machinePool:e})}],key:`${e.id}-child`}))(e,Ze.length-1);Ze.push(t)}}));const Xe=(e,t,a)=>{s((0,D.openModal)(L.default.DELETE_MACHINE_POOL,{machinePool:a.machinePool,performDeleteAction:()=>(async(e,t)=>{Oe&&ne(!1),ee(e),ae(null==te?void 0:te.filter((e=>e!==t.machinePool.id))),Re(t.machinePool.id)})(t,a)}))},Je=(e,t,a)=>ie(a.machinePool.id),et=(e,t,a)=>s((0,D.openModal)(L.default.UPDATE_MACHINE_POOL_VERSION,{machinePool:a.machinePool})),tt=!we&&ve,at={cells:[{props:{colSpan:4},title:n.default.createElement(m.default,{size:"lg"})}]};var lt;we&&ve&&null===J&&Ze.push(at),we&&null!==J&&(null!==(lt=Ze[J+1])&&void 0!==lt&&lt.parent&&Ze.splice(J+1,1),Ze[J]=at);const nt=(0,g.getDefaultClusterAutoScaling)();return n.default.createElement(n.default.Fragment,null,tt?n.default.createElement(u.Card,null,n.default.createElement(u.CardTitle,null,n.default.createElement(m.default,{size:"lg"})),n.default.createElement(u.CardBody,null,n.default.createElement(m.default,{size:"lg"})),n.default.createElement(u.CardFooter,null,n.default.createElement(m.default,{size:"lg"}))):n.default.createElement(n.default.Fragment,null,!Qe&&n.default.createElement(V.UpdateAllMachinePools,{isMachinePoolError:he,isHypershift:K}),n.default.createElement(u.Card,{className:"ocm-c-machine-pools__card"},n.default.createElement(u.CardBody,{className:"ocm-c-machine-pools__card--body"},he&&n.default.createElement(P.default,{message:"Error retrieving machine pools",response:be}),n.default.createElement(u.Toolbar,null,n.default.createElement(u.ToolbarContent,null,n.default.createElement(u.ToolbarItem,null,n.default.createElement(O.default,{disableReason:Be||$e||Ye||We,id:"add-machine-pool",onClick:()=>oe(!0),variant:u.ButtonVariant.secondary},"Add machine pool")),!K&&n.default.createElement(u.ToolbarItem,null,n.default.createElement(O.default,{id:"edit-existing-cluster-autoscaling",disableReason:Be||$e||Ke,onClick:()=>s((0,D.openModal)(L.default.EDIT_CLUSTER_AUTOSCALING_V2)),variant:u.ButtonVariant.secondary},"Edit cluster autoscaling")),He&&n.default.createElement(u.ToolbarItem,null,n.default.createElement(O.default,{disableReason:qe,onClick:()=>de(!0),variant:u.ButtonVariant.secondary},"Edit machine configuration")))),n.default.createElement(u.Divider,null),Oe&&!le&&n.default.createElement(P.default,{message:"Error deleting machine pool",response:null==De?void 0:De.error,showCloseBtn:!0,onCloseAlert:()=>ne(!0)}),Ne.list&&n.default.createElement(c.Table,{"aria-label":"Machine pools",cells:ze,rows:Ze,onCollapse:(e,t,a,l)=>{let n=[];a?te.includes(l.machinePool.id)||(n.push(l.machinePool.id),ae(n)):(n=te.filter((e=>e!==l.machinePool.id)),ae(n))},actionResolver:e=>{var t;return(0,j.actionResolver)({rowData:e,onClickDelete:Xe,onClickUpdate:(0,G.canMachinePoolBeUpgradedSelector)(B,(null==r||null===(t=r.version)||void 0===t?void 0:t.id)||"",e.machinePool,he,K)?et:void 0,canDelete:Ne.delete,cluster:r,machinePools:ge,machineTypes:ce,onClickEdit:Je})},areActionsDisabled:()=>Qe},n.default.createElement(c.TableHeader,null),n.default.createElement(c.TableBody,null))))),f&&n.default.createElement(k.default,null),(!!re||se)&&n.default.createElement(F.default,{region:Q,cluster:r,onSave:()=>{ve||Se()},onClose:()=>{ie(void 0),oe(!1)},isHypershift:K,machinePoolId:re,machinePoolsResponse:ge,machinePoolsLoading:ve,machinePoolsError:he,machinePoolsErrorResponse:be,machineTypesResponse:ce,machineTypesLoading:me,machineTypesError:pe,machineTypesErrorResponse:fe}),n.default.createElement(V.UpdateMachinePoolModal,{region:Q}),q&&n.default.createElement(M.ClusterAutoscalerForm,{clusterAutoscalerData:_e,hasClusterAutoscaler:ye,clusterId:Z,initialValues:nt,isWizard:!1,hasAutoscalingMachinePools:ke,isClusterAutoscalerRefetching:Ae}),ue&&n.default.createElement(v.MachineConfiguration,{clusterID:r.id,getMachineConfiguration:Q?(0,R.getClusterServiceForRegion)(Q).getKubeletConfiguration:A.clusterService.getKubeletConfiguration,createMachineConfiguration:Q?(0,R.getClusterServiceForRegion)(Q).postKubeletConfiguration:A.clusterService.postKubeletConfiguration,updateMachineConfiguration:Q?(0,R.getClusterServiceForRegion)(Q).patchKubeletConfiguration:A.clusterService.patchKubeletConfiguration,onClose:()=>de(!1),canBypassPIDsLimit:Y}))};B.propTypes={cluster:s.default.object.isRequired},t.default=B},87624:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.getMachineOrNodePools=t.deleteMachinePool=t.clearGetMachinePoolsResponse=t.clearDeleteMachinePoolResponse=void 0;var n=l(a(43693)),r=l(a(99589)),i=a(73410),s=a(46013),o=a(87590);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c=async(e,t,a)=>{const l=await i.clusterService.getNodePools(e),n=l.data.items.map((async l=>{if(!(t&&l.version&&a&&r.default.gt(r.default.coerce(t),r.default.coerce(l.version.id))&&(0,s.isControlPlaneValidForMachinePool)(l,t)))return l;try{const t=await i.clusterService.getNodePoolUpgradePolicies(e,l.id);return d(d({},l),{},{upgradePolicies:t.data})}catch(e){var n;return d(d({},l),{},{upgradePolicies:{errorMessage:(null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.reason)||e.message||"There was an error fetching upgrade policies for this machine pool.",items:[]}})}})),o=(await Promise.allSettled(n)).map((e=>e.value));return d(d({},l),{},{data:d(d({},l.data),{},{items:o})})};t.getMachineOrNodePools=(e,t,a,l)=>n=>n({type:o.GET_MACHINE_POOLS,payload:t?c(e,a,l):i.clusterService.getMachinePools(e)}),t.deleteMachinePool=(e,t,a)=>l=>l({type:o.DELETE_MACHINE_POOL,payload:a?i.clusterService.deleteNodePool(e,t):i.clusterService.deleteMachinePool(e,t)}),t.clearGetMachinePoolsResponse=()=>e=>e({type:o.CLEAR_GET_MACHINE_POOLS_RESPONSE}),t.clearDeleteMachinePoolResponse=()=>e=>e({type:o.CLEAR_DELETE_MACHINE_POOL_RESPONSE})},15179:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=a(73729),i=a(23271),s=l(a(43775)),o=a(11243),u=a(976),d=a(85825),c=a(11912),m=l(a(14419)),p=a(46013),f=l(a(93901)),E=a(87624),g=a(85927);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=(0,r.connect)((e=>{var t;const a=(0,g.hasOrgLevelBypassPIDsLimitCapability)(null===(t=e.userProfile.organization)||void 0===t?void 0:t.details);return h(h({},{isDeleteMachinePoolModalOpen:(0,m.default)(e,s.default.DELETE_MACHINE_POOL),isClusterAutoscalingModalOpen:(0,m.default)(e,s.default.EDIT_CLUSTER_AUTOSCALING_V1),machinePoolsList:e.machinePools.getMachinePools,deleteMachinePoolResponse:e.machinePools.deleteMachinePoolResponse,hasMachinePoolsQuota:(0,g.hasMachinePoolsQuotaSelector)(e.userProfile.organization,e.clusters.details.cluster,e.machineTypes.types),machineTypes:e.machineTypes,organization:e.userProfile.organization,canMachinePoolBeUpdated:t=>(0,p.canMachinePoolBeUpgradedSelector)(e,t),hasMachineConfiguration:(0,o.featureGateSelector)(e,u.ENABLE_MACHINE_CONFIGURATION),canBypassPIDsLimit:a}),{},{clusterAutoscalerResponse:e.clusterAutoscaler})}),((e,t)=>{const a=(0,i.isHypershiftCluster)(t.cluster);return{getMachinePools:l=>{e((0,E.getMachineOrNodePools)(t.cluster.id,a,t.cluster.version.id,l)),e(d.clusterAutoscalerActions.setHasInitialClusterAutoscaler(!!t.cluster.autoscaler))},clearGetMachinePoolsResponse:()=>e((0,E.clearGetMachinePoolsResponse)(t.clusterID)),clearDeleteMachinePoolResponse:()=>e((0,E.clearDeleteMachinePoolResponse)(t.clusterID)),deleteMachinePool:l=>e((0,E.deleteMachinePool)(t.cluster.id,l,a)),getMachineTypes:()=>e((0,c.getMachineTypes)()),getClusterAutoscaler:()=>e(d.clusterAutoscalerActions.getClusterAutoscaler(t.cluster.id))}}))(f.default)},24925:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(25514),u=l(a(81936)),d=l(a(9484)),c=l(a(818)),m=a(77944),p=a(74149),f=a(43885);a(93021);const E=e=>{let{cluster:t}=e;const a=(0,i.useDispatch)(),l=(0,o.useGlobalState)((e=>e.monitoring)),r=(0,f.issuesAndWarningsSelector)(l,t),{issues:E,warnings:g}=r,v=r.issues.totalCount,h=(0,f.lastCheckInSelector)(t),b=(0,f.clusterHealthSelector)(t,h,v),S=E.totalCount,{alerts:_,nodes:C,operators:y,resourceUsage:I}=(0,f.alertsNodesOperatorsSelector)(l,E,g,t);return n.default.useEffect((()=>()=>{a((0,m.clearMonitoringState)())}),[]),b===p.monitoringStatuses.DISCONNECTED?n.default.createElement(n.default.Fragment,null,n.default.createElement(u.default,{lastCheckIn:h,status:b,discoveredIssues:S}),n.default.createElement(d.default,{lastCheckIn:h})):b===p.monitoringStatuses.NO_METRICS?n.default.createElement(d.default,{lastCheckIn:h},n.default.createElement("p",null,"Monitoring data is not available if a cluster goes more than three hours without sending metrics.",n.default.createElement("br",null),"Check the cluster's web console if you think that this cluster should be sending metrics.")):b===p.monitoringStatuses.UNKNOWN?n.default.createElement(d.default,{hideLastCheckIn:!0},n.default.createElement("p",null,"Monitoring data is not available - cluster did not send any metrics.",n.default.createElement("br",null),"Check the cluster's web console if you think that this cluster should be sending metrics.")):n.default.createElement(n.default.Fragment,null,n.default.createElement(u.default,{lastCheckIn:h,status:b,discoveredIssues:S}),n.default.createElement(s.Card,{className:"ocm-c-monitoring-status__card"},n.default.createElement(s.CardTitle,{className:"ocm-c-monitoring-status__card--header"},n.default.createElement(s.Title,{headingLevel:"h2",className:"card-title"},"Status")),n.default.createElement(s.CardBody,{className:"ocm-c-monitoring-status__card--body"},n.default.createElement(c.default,{cluster:t,alerts:_,nodes:C,operators:y,resourceUsage:I}))))};E.propTypes={cluster:r.default.object},E.defaultProps={cluster:{}},t.default=E},77944:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.getOnDemandMetrics=t.clearMonitoringState=void 0;var n=a(73410),r=l(a(28318));t.getOnDemandMetrics=e=>t=>t({type:r.default.GET_ONDEMAND_METRICS,payload:n.accountsService.getOnDemandMetrics(e)}),t.clearMonitoringState=()=>e=>e({type:r.default.CLEAR_MONITORING_STATE})},28318:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={GET_ONDEMAND_METRICS:"GET_ONDEMAND_METRICS",CLEAR_MONITORING_STATE:"CLEAR_MONITORING_STATE"}},43885:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.lastCheckInSelector=t.issuesAndWarningsSelector=t.clusterHealthSelector=t.alertsNodesOperatorsSelector=void 0;var n=l(a(43693)),r=a(23271),i=a(59067),s=l(a(7028)),o=a(74149);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.lastCheckInSelector=e=>{const t=e.activity_timestamp?e.activity_timestamp:"0001-01-01";return new Date(t)},t.clusterHealthSelector=(e,t,a)=>{if(!e)return o.monitoringStatuses.NO_METRICS;const l=((new Date).getTime()-t.getTime())/1e3/60/60,n=!!s.default.configData.showOldMetrics||l<o.maxMetricsTimeDelta;return t.getUTCFullYear()<=1?o.monitoringStatuses.UNKNOWN:e.subscription.status===i.SubscriptionCommonFields.status.DISCONNECTED?o.monitoringStatuses.DISCONNECTED:n?(0,r.isClusterUpgrading)(e)?o.monitoringStatuses.UPGRADING:a>0?o.monitoringStatuses.HAS_ISSUES:o.monitoringStatuses.HEALTHY:o.monitoringStatuses.NO_METRICS},t.alertsNodesOperatorsSelector=(e,t,a,l)=>{const{alerts:n,nodes:r,operators:i}=e;return{alerts:d(d({},n),{},{numOfIssues:t.alerts,numOfWarnings:a.alerts,hasData:(0,o.hasData)(n)}),nodes:d(d({},r),{},{numOfIssues:t.nodes,hasData:(0,o.hasData)(r)}),operators:d(d({},i),{},{numOfIssues:t.operators,numOfWarnings:a.operators,hasData:(0,o.hasData)(i)}),resourceUsage:{numOfIssues:t.resourceUsage,numOfWarnings:a.resourceUsage,hasData:(0,o.hasResourceUsageMetrics)(l)}}},t.issuesAndWarningsSelector=(e,t)=>{var a,l,n,r;const{alerts:i,nodes:s,operators:u}=e,d=(0,o.getIssuesAndWarnings)({data:i.data,criteria:"severity",issuesMatch:o.alertsSeverity.CRITICAL,warningsMatch:o.alertsSeverity.WARNING}),c=(0,o.getIssuesAndWarnings)({data:s.data,criteria:"up",issuesMatch:!1}),m=(0,o.getIssuesAndWarnings)({data:u.data,criteria:"condition",issuesMatch:o.operatorsStatuses.FAILING,warningsMatch:o.operatorsStatuses.DEGRADED}),p={issuesCount:(0,o.resourceUsageIssuesHelper)(null==t||null===(a=t.metrics)||void 0===a?void 0:a.cpu,null==t||null===(l=t.metrics)||void 0===l?void 0:l.memory,o.thresholds.DANGER),warningsCount:(0,o.resourceUsageIssuesHelper)(null==t||null===(n=t.metrics)||void 0===n?void 0:n.cpu,null==t||null===(r=t.metrics)||void 0===r?void 0:r.memory,o.thresholds.WARNING)};return{issues:{alerts:d.issuesCount,nodes:c.issuesCount,operators:m.issuesCount,resourceUsage:p.issuesCount,totalCount:d.issuesCount+c.issuesCount+m.issuesCount+p.issuesCount},warnings:{alerts:d.warningsCount,operators:m.warningsCount,resourceUsage:p.warningsCount}}}},49425:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(19202),o=a(31003),u=a(99851),d=a(29962),c=a(45646),m=a(74149);function p(e){let{alerts:t=[],clusterConsole:a}=e;const l=n.default.createElement(n.default.Fragment,null,n.default.createElement(o.ExclamationCircleIcon,{className:"status-icon danger"}),n.default.createElement("span",null,"Critical")),r=n.default.createElement(n.default.Fragment,null,n.default.createElement(u.ExclamationTriangleIcon,{className:"status-icon warning"}),n.default.createElement("span",null,"Warning")),p=n.default.createElement(n.default.Fragment,null,n.default.createElement(d.InfoCircleIcon,{className:"status-icon info"}),n.default.createElement("span",null,"Info")),f=e=>"Watchdog"===e||"DeadMansSwitch"===e;if(t.every((e=>f(e.name))))return n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateHeader,{titleText:"No alerts firing",icon:n.default.createElement(i.EmptyStateIcon,{icon:s.CheckCircleIcon}),headingLevel:"h5"}));const E=t.map((e=>{if(f(e.name))return null;let t=null;e.severity===m.alertsSeverity.WARNING&&(t=r),e.severity===m.alertsSeverity.CRITICAL&&(t=l),e.severity===m.alertsSeverity.INFO&&(t=p);const i=(0,m.monitoringItemLinkProps)(a,m.monitoringItemTypes.ALERT,e.name);return{alertName:null!==i?n.default.createElement("a",i,e.name):e.name,severityIcon:t,alertKey:e.name}})).filter(Boolean);return n.default.createElement(c.Table,{"aria-label":"alerts",variant:c.TableVariant.compact,borders:!1},n.default.createElement(c.Thead,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Th,null,"Name"),n.default.createElement(c.Th,null,"Severity"))),n.default.createElement(c.Tbody,null,E.map((e=>n.default.createElement(c.Tr,{key:e.alertKey},n.default.createElement(c.Td,null,e.alertName),n.default.createElement(c.Td,null,e.severityIcon))))))}p.propTypes={alerts:r.default.arrayOf(r.default.shape({name:r.default.string.isRequired,severity:r.default.string})),clusterConsole:r.default.shape({url:r.default.string})},t.default=p},81936:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(19202),o=a(19598),u=a(31003),d=a(99851),c=a(21888),m=a(48266),p=a(68720),f=a(74149);function E(e){let t,a,{status:l=f.monitoringStatuses.NO_METRICS,discoveredIssues:r=null,lastCheckIn:E}=e;switch(l){case f.monitoringStatuses.DISCONNECTED:t=n.default.createElement(o.DisconnectedIcon,null),a=n.default.createElement(i.Title,{headingLevel:"h2"},"Disconnected cluster");break;case f.monitoringStatuses.UPGRADING:t=n.default.createElement(c.InProgressIcon,null),a=n.default.createElement(i.Title,{headingLevel:"h2"},"Cluster is updating");break;case f.monitoringStatuses.NO_METRICS:t=n.default.createElement(d.ExclamationTriangleIcon,{className:"warning"}),a=n.default.createElement(i.Title,{headingLevel:"h2"},"Cluster has no metrics");break;case f.monitoringStatuses.HEALTHY:t=n.default.createElement(s.CheckCircleIcon,{className:"success"}),a=n.default.createElement(i.Title,{headingLevel:"h2"},"No issues detected");break;case f.monitoringStatuses.HAS_ISSUES:t=n.default.createElement(u.ExclamationCircleIcon,{className:"status-icon danger"}),a=n.default.createElement(i.Title,{headingLevel:"h2"},r," ",1===r?"issue":"issues"," detected");break;default:t=n.default.createElement(m.UnknownIcon,null),a=n.default.createElement(i.Title,{headingLevel:"h2"},"Cluster health is unknown")}return n.default.createElement(i.Card,{className:"ocm-c-monitoring-health__card"},n.default.createElement(i.CardTitle,{className:"ocm-c-monitoring-health__card--header"},n.default.createElement(i.Split,null,n.default.createElement(i.SplitItem,null,t),n.default.createElement(i.SplitItem,{isFilled:!0},a),n.default.createElement(i.SplitItem,{className:"last-checkin"},l===f.monitoringStatuses.UNKNOWN&&n.default.createElement(u.ExclamationCircleIcon,{className:"danger",size:"md"}),void 0!==E&&n.default.createElement(n.default.Fragment,null,"Last check-in: ",n.default.createElement(p.DateFormat,{date:E,type:"relative"}))))))}E.propTypes={status:r.default.string,discoveredIssues:r.default.number,lastCheckIn:r.default.instanceOf(Date)},t.default=E},96633:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(19202),s=a(31003),o=a(99851),u=a(21888),d=a(48266),c=a(45646),m=a(74149);function p(e){let{operators:t=[],clusterConsole:a}=e;const l=t.map((e=>{const t=(0,m.monitoringItemLinkProps)(a,m.monitoringItemTypes.OPERATOR,e.name);return{operatorName:null!==t?n.default.createElement("a",t,e.name):e.name,operatorCondition:(e=>{let t,a;switch(e){case m.operatorsStatuses.AVAILABLE:t=n.default.createElement(i.CheckCircleIcon,{className:"status-icon success"}),a="Available";break;case m.operatorsStatuses.FAILING:t=n.default.createElement(s.ExclamationCircleIcon,{className:"status-icon danger"}),a="Failing";break;case m.operatorsStatuses.UPGRADING:t=n.default.createElement(u.InProgressIcon,{className:"status-icon"}),a="Updating";break;case m.operatorsStatuses.DEGRADED:t=n.default.createElement(o.ExclamationTriangleIcon,{className:"status-icon warning"}),a="Degraded";break;default:t=n.default.createElement(d.UnknownIcon,{className:"status-icon"}),a="Unknown"}return n.default.createElement(n.default.Fragment,null,t,n.default.createElement("span",null,a)," ")})(e.condition),operatorVersion:e.version,operatorKey:e.name}}));return n.default.createElement(c.Table,{variant:c.TableVariant.compact,borders:!1,"aria-label":"operators"},n.default.createElement(c.Thead,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Th,null,"Name"),n.default.createElement(c.Th,null,"Status"),n.default.createElement(c.Th,null,"Version"))),n.default.createElement(c.Tbody,null,l.map((e=>n.default.createElement(c.Tr,{key:e.operatorKey},n.default.createElement(c.Td,null,e.operatorName),n.default.createElement(c.Td,null,e.operatorCondition),n.default.createElement(c.Td,null,e.operatorVersion))))))}p.propTypes={operators:r.default.array,clusterConsole:r.default.object},t.default=p},9484:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(99851),o=a(68720);function u(e){let{children:t=null,hideLastCheckIn:a=!1,lastCheckIn:l=null,hideIcon:r=!1,title:u="Monitoring data is not available"}=e;return n.default.createElement(i.EmptyState,null,!r&&n.default.createElement(i.EmptyStateIcon,{icon:s.ExclamationTriangleIcon}),n.default.createElement(i.EmptyStateHeader,{titleText:u,headingLevel:"h5"}),n.default.createElement(i.EmptyStateBody,null,t,!a&&n.default.createElement("p",null,"Last Check-in: ",n.default.createElement(o.DateFormat,{date:l,type:"relative"}))))}u.propTypes={children:r.default.node,hideLastCheckIn:r.default.bool,lastCheckIn:r.default.instanceOf(Date),hideIcon:r.default.bool,title:r.default.string},t.default=u},818:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(58156)),s=l(a(5556)),o=a(97419),u=a(59067),d=a(59910),c=l(a(36447)),m=a(74149),p=l(a(49425)),f=l(a(96633)),E=l(a(9484)),g=l(a(10859)),v=l(a(44597));class h extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{expanded:[]}),(0,n.default)(this,"toggle",(e=>{const{expanded:t}=this.state,a=t.indexOf(e),l=a>=0?[...t.slice(0,a),...t.slice(a+1,t.length)]:[...t,e];this.setState((()=>({expanded:l})))}))}render(){const{cluster:e,alerts:t,nodes:a,operators:l,resourceUsage:n}=this.props,{expanded:s}=this.state,h=(0,m.hasResourceUsageMetrics)(e),b=(0,i.default)(e,"subscription.status",!1)===u.SubscriptionCommonFields.status.ARCHIVED?d.metricsStatusMessages.archived:d.metricsStatusMessages[e.state]||d.metricsStatusMessages.default,S=r.default.createElement(E.default,{hideLastCheckIn:!0,hideIcon:!0,title:"No data available for this metric"},r.default.createElement("p",null,"Please check back later"));return r.default.createElement(o.DataList,{"aria-label":"monitoring-table"},r.default.createElement(g.default,{title:"Alerts firing",numOfIssues:t.numOfIssues,numOfWarnings:t.numOfWarnings,toggle:this.toggle,expanded:s,hasData:t.hasData},t.hasData?r.default.createElement(p.default,{alerts:t.data,clusterConsole:e.console}):S),a.hasData&&r.default.createElement(g.default,{title:"Nodes",numOfIssues:a.numOfIssues,toggle:this.toggle,expanded:s,hasData:a.hasData},r.default.createElement(v.default,{nodes:a.data,clusterConsole:e.console})),r.default.createElement(g.default,{title:"Cluster operators",numOfIssues:l.numOfIssues,numOfWarnings:l.numOfWarnings,toggle:this.toggle,expanded:s,hasData:l.hasData},l.hasData?r.default.createElement(f.default,{operators:l.data,clusterConsole:e.console}):S),r.default.createElement(g.default,{title:"Resource usage",numOfIssues:n.numOfIssues,numOfWarnings:n.numOfWarnings,toggle:this.toggle,expanded:s,hasData:n.hasData},n.hasData?r.default.createElement("div",{className:"metrics-chart"},r.default.createElement(c.default,{cpu:{used:e.metrics.cpu.used,total:e.metrics.cpu.total},memory:{used:e.metrics.memory.used,total:e.metrics.memory.total},metricsAvailable:h,metricsStatusMessage:b,type:"threshold"})):S))}}h.propTypes={cluster:s.default.object,alerts:s.default.object,nodes:s.default.object,resourceUsage:s.default.object,operators:s.default.object},h.defaultProps={cluster:{},alerts:{},nodes:{},resourceUsage:{},operators:{}},t.default=h},10859:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(19202),o=a(31003),u=a(99851);function d(e){let{title:t="",numOfIssues:a=null,numOfWarnings:l=null,toggle:r,expanded:d,hasData:c,children:m}=e;const p=t.replace(/\s+/g,"-").toLowerCase();return n.default.createElement(i.DataListItem,{"aria-labelledby":p,isExpanded:d.includes(p)},n.default.createElement(i.DataListItemRow,null,n.default.createElement(i.DataListToggle,{onClick:()=>r(p),isExpanded:d.includes(p),id:`${p}-toggle`,"aria-controls":`${p}-toggle-expand`}),n.default.createElement(i.DataListItemCells,{dataListCells:[n.default.createElement(i.DataListCell,{key:`title-${p}`},n.default.createElement(i.Title,{headingLevel:"h4",className:"item-title"},t)),n.default.createElement(i.DataListCell,{key:`summary-${p}`,className:"item-summary"},c?a>0?n.default.createElement(n.default.Fragment,null,n.default.createElement(o.ExclamationCircleIcon,{className:"status-icon danger"}),n.default.createElement("span",null,a," discovered ",1===a?"issue":"issues")):l>0?n.default.createElement(n.default.Fragment,null,n.default.createElement(u.ExclamationTriangleIcon,{className:"status-icon warning"}),n.default.createElement("span",null,l," ",1===l?"warning":"warnings")):n.default.createElement(n.default.Fragment,null,n.default.createElement(s.CheckCircleIcon,{className:"status-icon success"}),n.default.createElement("span",null,a," discovered issues")):n.default.createElement(n.default.Fragment,null,n.default.createElement(u.ExclamationTriangleIcon,{className:"status-icon warning"}),n.default.createElement("span",null,"Metrics not available")))]})),n.default.createElement(i.DataListContent,{"aria-label":"Primary Content Details",id:`${p}-expand`,isHidden:!d.includes(p)},m))}d.propTypes={title:r.default.string,numOfIssues:r.default.number,numOfWarnings:r.default.number,expanded:r.default.array,toggle:r.default.func,children:r.default.node,hasData:r.default.bool},d.defaultProps={expanded:[]},t.default=d},44597:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(19202),s=a(31003),o=a(45646),u=a(74149);function d(e){let{nodes:t=[],clusterConsole:a}=e;const l=t.map((e=>{const t=(0,u.monitoringItemLinkProps)(a,u.monitoringItemTypes.NODE,e.hostname),l=null!==t?n.default.createElement("a",t,e.hostname):e.hostname,r=e.hostname;return{nodeName:l,nodeUpStatus:e.up?n.default.createElement(n.default.Fragment,null,n.default.createElement(i.CheckCircleIcon,{className:"status-icon success"}),n.default.createElement("span",null,"Ready")):n.default.createElement(n.default.Fragment,null,n.default.createElement(s.ExclamationCircleIcon,{className:"status-icon danger"}),n.default.createElement("span",null,"Not Ready")," "),nodeIpAddress:`Internal IP: ${e.internal_ip}`,nodeKey:r}}));return n.default.createElement(o.Table,{variant:o.TableVariant.compact,borders:!1,"aria-label":"nodes"},n.default.createElement(o.Thead,null,n.default.createElement(o.Tr,null,n.default.createElement(o.Th,null,"Name"),n.default.createElement(o.Th,null,"Status"),n.default.createElement(o.Th,null,"Node address"))),n.default.createElement(o.Tbody,null,l.map((e=>n.default.createElement(o.Tr,{key:e.nodeKey},n.default.createElement(o.Td,null,e.nodeName),n.default.createElement(o.Td,null,e.nodeUpStatus),n.default.createElement(o.Td,null,e.nodeIpAddress))))))}d.propTypes={nodes:r.default.array,clusterConsole:r.default.object},t.default=d},42461:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(24925));t.default=n.default},95273:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(67080),o=a(79466),u=l(a(28397)),d=l(a(58336)),c=l(a(42398)),m=l(a(16262)),p=l(a(54014));a(74446);const f=e=>{var t;let{cluster:a,refreshCluster:l,clusterID:r,isManaged:f,region:E}=e;const{data:g,isLoading:v,isError:h}=(0,o.useGetClusterRouters)(r,f,E),b=a.network||{},S=a.cloud_provider.id?a.cloud_provider.id:"N/A";return v&&!h?n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateBody,null,n.default.createElement(s.Spinner,{centered:!0}))):n.default.createElement(i.Grid,{hasGutter:!0},n.default.createElement(i.GridItem,{lg:9,md:12,className:"networking-grid-item"},n.default.createElement(d.default,{refreshCluster:l,provider:S,cluster:a,clusterRoutersData:g})),n.default.createElement(i.GridItem,{lg:3,md:12,className:"networking-grid-item"},n.default.createElement(c.default,{network:b})),n.default.createElement(i.GridItem,{lg:9,md:12,className:"networking-grid-item"},n.default.createElement(u.default,{provider:S,cluster:a,refreshCluster:l,clusterRoutersData:g})),n.default.createElement(i.GridItem,{lg:3,md:12,className:"networking-grid-item"},n.default.createElement(p.default,{awsSubnets:null===(t=a.aws)||void 0===t?void 0:t.subnet_ids,gcpNetwork:a.gcp_network})),n.default.createElement(i.GridItem,{lg:9,md:12,className:"networking-grid-item"},n.default.createElement(m.default,{cluster:a})))};f.propTypes={cluster:r.default.object.isRequired,region:r.default.string,isManaged:r.default.bool,clusterID:r.default.string.isRequired,refreshCluster:r.default.func.isRequired},t.default=f},91916:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.sendNetworkConfigRequests=t.saveNetworkingConfiguration=t.resetEditRoutersResponse=t.resetClusterRouters=t.networkingActions=t.getClusterRouters=t.editClusterRouters=t.createDefaultRouterRequest=void 0;var n=l(a(61448)),r=l(a(2404)),i=a(93413),s=a(41955),o=a(82399),u=a(58826),d=a(92868),c=a(73410),m=a(55730);const p=e=>t=>t({type:m.networkingConstants.GET_CLUSTER_ROUTERS,payload:c.clusterService.getIngresses(e)});t.getClusterRouters=p;const f=(e,t)=>a=>a({type:m.networkingConstants.EDIT_CLUSTER_ROUTERS,payload:c.clusterService.editIngresses(e,t)});t.editClusterRouters=f;const E=()=>e=>e({type:m.networkingConstants.RESET_EDIT_ROUTERS_RESPONSE});t.resetEditRoutersResponse=E;const g=()=>e=>e({type:m.networkingConstants.RESET_CLUSTER_ROUTERS});t.resetClusterRouters=g;const v=(e,t)=>{const a={id:t.default.routerID};return void 0!==e.private_default_router&&e.private_default_router!==t.default.isPrivate&&(a.listening=e.private_default_router?"internal":"external"),void 0===e.defaultRouterSelectors||(0,r.default)((0,i.strToKeyValueObject)(e.defaultRouterSelectors,""),t.default.routeSelectors||{})||(a.route_selectors=(0,i.strToKeyValueObject)(e.defaultRouterSelectors,"")),void 0===e.defaultRouterExcludedNamespacesFlag||(0,r.default)((0,i.stringToArrayTrimmed)(e.defaultRouterExcludedNamespacesFlag),t.default.excludedNamespaces||[])||(a.excluded_namespaces=(0,i.stringToArrayTrimmed)(e.defaultRouterExcludedNamespacesFlag)),void 0!==e.isDefaultRouterNamespaceOwnershipPolicyStrict&&e.isDefaultRouterNamespaceOwnershipPolicyStrict!==t.default.isNamespaceOwnershipPolicyStrict&&(a.route_namespace_ownership_policy=e.isDefaultRouterNamespaceOwnershipPolicyStrict?u.NamespaceOwnershipPolicy.STRICT:u.NamespaceOwnershipPolicy.INTER_NAMESPACE_ALLOWED),void 0!==e.isDefaultRouterWildcardPolicyAllowed&&e.isDefaultRouterWildcardPolicyAllowed!==t.default.isWildcardPolicyAllowed&&(a.route_wildcard_policy=e.isDefaultRouterWildcardPolicyAllowed?d.WildcardPolicy.WILDCARDS_ALLOWED:d.WildcardPolicy.WILDCARDS_DISALLOWED),void 0!==e.is_nlb_load_balancer&&e.is_nlb_load_balancer!==(t.default.loadBalancer===o.LoadBalancerFlavor.NLB)&&(a.load_balancer_type=e.is_nlb_load_balancer?o.LoadBalancerFlavor.NLB:o.LoadBalancerFlavor.CLASSIC),void 0!==e.clusterRoutesTlsSecretRef&&e.clusterRoutesTlsSecretRef!==(t.default.tlsSecretRef||"")&&(a.cluster_routes_tls_secret_ref=e.clusterRoutesTlsSecretRef),void 0!==e.clusterRoutesHostname&&e.clusterRoutesHostname!==(t.default.hostname||"")&&(a.cluster_routes_hostname=e.clusterRoutesHostname,a.cluster_routes_tls_secret_ref=e.clusterRoutesTlsSecretRef),a};t.createDefaultRouterRequest=v;const h=async(e,t,a,l)=>{let r;if(t.APIPrivate!==e.private_api){const t={api:{listening:e.private_api?"internal":"external"}};r=await l.editCluster(a,t),204===r.status&&(0,s.invalidateClusterDetailsQueries)()}const o=(0,n.default)(t,"additional"),u=o&&!1===e.enable_additional_router,d=v(e,t);let c;return!u&&o&&(c=((e,t)=>{var a,l;const n={};var r,s;return void 0!==e.private_additional_router&&e.private_additional_router!==(null===(a=t.additional)||void 0===a?void 0:a.isPrivate)&&(n.listening=e.private_additional_router?"internal":"external",n.id=null===(r=t.additional)||void 0===r?void 0:r.routerID),void 0!==e.labels_additional_router&&e.labels_additional_router!==(null===(l=t.additional)||void 0===l?void 0:l.routeSelectors)&&(n.route_selectors=(0,i.strToKeyValueObject)(e.labels_additional_router,""),n.id=null===(s=t.additional)||void 0===s?void 0:s.routerID),n})(e,t)),Object.getOwnPropertyNames(d).length>1&&(r=await l.editIngress(a,d.id,d)),u&&(r=await l.deleteAdditionalIngress(a,t.additional.routerID,d)),c&&Object.getOwnPropertyNames(c).length>0&&(r=await l.editIngress(a,c.id,c)),r};t.sendNetworkConfigRequests=h;const b=(e,t,a)=>l=>l({type:m.networkingConstants.EDIT_CLUSTER_ROUTERS,payload:h(e,t,a,l)});t.saveNetworkingConfiguration=b,t.networkingActions={getClusterRouters:p,editClusterRouters:f,saveNetworkingConfiguration:b,resetClusterRouters:g,resetEditRoutersResponse:E}},55730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networkingConstants=t.RESET_EDIT_ROUTERS_RESPONSE=t.RESET_CLUSTER_ROUTERS=t.GET_CLUSTER_ROUTERS=t.EDIT_CLUSTER_ROUTERS=void 0;const a=t.GET_CLUSTER_ROUTERS="GET_CLUSTER_ROUTERS",l=t.EDIT_CLUSTER_ROUTERS="EDIT_CLUSTER_ROUTER",n=t.RESET_EDIT_ROUTERS_RESPONSE="RESET_EDIT_ROUTERS_RESPONSE",r=t.RESET_CLUSTER_ROUTERS="RESET_CLUSTER_ROUTERS";t.networkingConstants={GET_CLUSTER_ROUTERS:a,EDIT_CLUSTER_ROUTERS:l,RESET_EDIT_ROUTERS_RESPONSE:n,RESET_CLUSTER_ROUTERS:r}},37731:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(62384),u=l(a(12200)),d=a(91089),c=l(a(43775)),m=a(23271),p=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(82788)),f=l(a(18370));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}a(84900);const g=e=>{var t,a,l,r,E,g,v;let{refreshCluster:h,clusterRoutersData:b,cluster:S}=e;const _=S.cloud_provider.id?S.cloud_provider.id:"N/A",C=null===(t=S.console)||void 0===t?void 0:t.url,y=null===(a=S.api)||void 0===a?void 0:a.url,I="internal"===(null===(l=S.api)||void 0===l?void 0:l.listening),A=(0,p.default)(b),R=2===Object.keys(A).length,T=R?A.additional.address:`apps2${A.default.address.substr(4)}`,O=(0,p.routeSelectorPairsAsStrings)(null==A||null===(r=A.additional)||void 0===r?void 0:r.routeSelectors),P=!(null==A||null===(E=A.additional)||void 0===E||!E.isPrivate),{canEdit:D}=S,L="read_only"===(null==S||null===(g=S.status)||void 0===g?void 0:g.configuration_mode),N=!0===(null==S||null===(v=S.aws)||void 0===v||null===(v=v.sts)||void 0===v?void 0:v.enabled),w=(0,m.isHibernating)(S),M=C&&!(0,m.isOffline)(S),k=(0,m.isHypershiftCluster)(S),F=(0,i.useDispatch)(),x=(e=>{let{canEdit:t,isReadOnly:a,isSTSEnabled:l,clusterHibernating:n,hypershiftCluster:r}=e;return(l&&!r?"Cluster ingress can only be edited for ROSA hosted control plane clusters or clusters not using Security Token Service (STS)":a&&"This operation is not available during maintenance")||n&&"This operation is not available while cluster is hibernating"||!t&&"You do not have permission to edit routers. Only cluster owners, cluster editors, and organization administrators can edit routers."})({canEdit:D,isReadOnly:L,isSTSEnabled:N,clusterHibernating:w,hypershiftCluster:k});return n.default.createElement(s.Card,{className:"ocm-c-networking-cluster-ingress__card"},n.default.createElement(s.CardTitle,null,"Cluster ingress"),n.default.createElement(s.CardBody,{className:"ocm-c-networking-cluster-ingress__card--body"},n.default.createElement(s.Form,{isHorizontal:!0},n.default.createElement(s.FormGroup,{fieldId:"console_url",label:"Cluster console URL",isStack:!0},null!=C&&C.length?n.default.createElement(n.default.Fragment,null,n.default.createElement(s.ClipboardCopy,{name:"console_url",isReadOnly:!0},C),M&&n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:s.TextVariants.small},n.default.createElement("a",{href:C,target:"_blank",rel:"noopener noreferrer"},"Open console")))):n.default.createElement(s.TextInput,{value:"N/A",type:"text",readOnlyVariant:"default"})),n.default.createElement(s.FormGroup,{fieldId:"control_plane_api_endpoint",label:"Control Plane API endpoint",isStack:!0},n.default.createElement(s.ClipboardCopy,{name:"control_plane_api_endpoint",isReadOnly:!0},y),n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:s.TextVariants.small},(I||(0,o.isRestrictedEnv)()?"Private":"Public")+" API"))),R&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.FormGroup,{fieldId:"additional_router_address",label:"Additional router",isStack:!0},n.default.createElement(s.TextInput,{id:"additional_router_address",value:`*.${T}`,readOnlyVariant:"default"}),n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:s.TextVariants.small},(P||(0,o.isRestrictedEnv)()?"Private":"Public")+" router"))),n.default.createElement(s.FormGroup,{fieldId:"labels_additional_router",label:"Label match",isStack:!0},Array.isArray(O)&&n.default.createElement(s.LabelGroup,{isCompact:!0},O.map((e=>n.default.createElement(s.Label,{isCompact:!0,color:"blue"},e)))))),n.default.createElement(f.default,{provider:_,refreshCluster:h,cluster:S,clusterRoutersData:b}))),!(0,o.isRestrictedEnv)()&&n.default.createElement(s.CardFooter,null,n.default.createElement(s.ActionList,null,n.default.createElement(u.default,{variant:"secondary",onClick:()=>{F(d.modalActions.openModal(c.default.EDIT_CLUSTER_INGRESS))},disableReason:x,isAriaDisabled:!!x,"data-testid":"edit-cluster-ingress"},"Edit cluster ingress"))))};g.propTypes={refreshCluster:r.default.func.isRequired,clusterRoutersData:r.default.array,cluster:r.default.object},t.default=g},58336:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(37731));t.default=n.default},43967:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(73729),u=a(97419),d=a(88851),c=a(5330),m=a(23196),p=a(79466),f=a(25514),E=l(a(65702)),g=a(75166),v=a(84037),h=l(a(55816)),b=l(a(8888)),S=l(a(28592)),_=a(91089),C=l(a(43775)),y=l(a(14419)),I=a(77218),A=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(82788));function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const P=e=>{var t,a,l,n,s,R,T,P,D;let{provider:L,cluster:N,refreshCluster:w,clusterRoutersData:M}=e;const k=null==N?void 0:N.id,F=null==N||null===(t=N.subscription)||void 0===t?void 0:t.xcm_id,{isPending:x,isError:G,error:U,mutate:j}=(0,m.useEditClusterIngressMutation)(k,F),H=(0,o.useDispatch)(),V=(0,f.useGlobalState)((e=>(0,y.default)(e,C.default.EDIT_CLUSTER_INGRESS))),q=(0,A.default)(M),z=2===Object.keys(q).length,B=null===(a=N.subscription)||void 0===a||null===(a=a.plan)||void 0===a?void 0:a.type,W="internal"===(null===(l=N.api)||void 0===l?void 0:l.listening),$=null===(n=N.api)||void 0===n?void 0:n.url,Y=!z||B===g.knownProducts.ROSA,K=z?q.additional.address:`apps2${null===(s=q.default)||void 0===s?void 0:s.address.substr(4)}`,Q=(null==N?void 0:N.openshift_version)||(null==N||null===(R=N.version)||void 0===R?void 0:R.raw_id)||"",Z=()=>{(0,p.refetchGetClusterRouters)(),H(_.modalActions.closeModal())},X="aws"===L,J=G?r.default.createElement(h.default,{message:"Error editing cluster ingress",response:U}):null,ee=r.default.createElement(u.Alert,{id:"privacySettingsWarningBox",title:"Editing the privacy settings may require additional actions in your cloud provider account to maintain access.",variant:u.AlertVariant.warning,isPlain:!0,isInline:!0},X&&r.default.createElement(b.default,{href:E.default.OSD_PRIVATE_CLUSTER},"Learn more about cluster privacy"));return V?r.default.createElement(i.Formik,{initialValues:{control_plane_api_endpoint:(null===(T=N.api)||void 0===T?void 0:T.url)||void 0,private_api:W,enable_additional_router:z,private_additional_router:!(null==q||null===(P=q.additional)||void 0===P||!P.isPrivate),labels_additional_router:(0,A.routeSelectorsAsString)(null==q||null===(D=q.additional)||void 0===D?void 0:D.routeSelectors)},onSubmit:e=>{const t=O(O({},q),{},{APIPrivate:W}),a=O({},e);j({formData:a,currentData:t},{onSuccess:()=>{w(),Z()}})}},(e=>{let{handleSubmit:t,isValid:a,dirty:l,getFieldProps:n,getFieldMeta:s,initialValues:o}=e;const m=!!o.enable_additional_router,p=m&&(f=Q,(0,d.isExactMajorMinor)(f,4,11)||(0,d.isExactMajorMinor)(f,4,12));var f;const E=m&&!o.labels_additional_router&&o.private_additional_router;return r.default.createElement(S.default,{width:"max(35%, 550px)",primaryText:"Save",secondaryText:"Cancel",title:"Edit cluster ingress",onClose:Z,onPrimaryClick:t,onSecondaryClick:Z,isPending:x,isPrimaryDisabled:!a||!l},J,r.default.createElement(u.Form,{id:"cluster-ingress-form",onSubmit:t},ee,E?r.default.createElement(u.Alert,{id:"routerVisibilityWarningBox",title:"All routers will be exposed publicly because there is no label match on the additional application router. This is a potential security risk.",variant:u.AlertVariant.warning,isPlain:!0,isInline:!0}):null,r.default.createElement(u.FormGroup,{fieldId:"control_plane_api_endpoint",label:"Control Plane API endpoint",isStack:!0},r.default.createElement(u.ClipboardCopy,{name:"control_plane_api_endpoint",isReadOnly:!0},$),r.default.createElement(i.Field,{component:c.CheckboxField,name:"private_api",label:"Make API private"})),Y?null:r.default.createElement(u.ExpandableSection,{toggleText:"Advanced options"},r.default.createElement(u.Form,null,r.default.createElement(u.FormGroup,{fieldId:"enable_additional_router",isStack:!0},r.default.createElement(i.Field,{component:c.CheckboxField,name:"enable_additional_router",label:"Enable additional router",extendedHelpText:"The use of an additional router is deprecated in favor of the single application ingress. Since it has already been enabled, the additional router can be still edited for 4.11 and 4.12 versions but once disabled, it can not be re-enabled again. In the 4.13+ versions, the additional router can not be edited but disabled only."})),r.default.createElement(u.FormGroup,{fieldId:"additional_router_address",isStack:!0},r.default.createElement(u.TextInput,{id:"additional_router_address",value:`*.${K}`,readOnlyVariant:"default"}),r.default.createElement(i.Field,{component:c.CheckboxField,name:"private_additional_router",label:"Make router private",isDisabled:!p})),r.default.createElement(i.Field,{component:I.ReduxVerticalFormGroup,"aria-label":"Additional Router Labels",name:"labels_additional_router",label:"Label match for additional router (optional)",type:"text",helpText:"Comma separated pairs in key=value format. If no label is specified, all routes will be exposed on both routers.",validate:v.checkLabelsAdditionalRouter,key:"route_selectors",readOnlyVariant:p?void 0:"default",meta:s("labels_additional_router"),input:n("labels_additional_router")})))))})):null};P.propTypes={provider:s.default.string,clusterRoutersData:s.default.array,cluster:s.default.object,refreshCluster:s.default.func.isRequired},t.default=P},18370:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43967));t.default=n.default},78859:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=a(88139),i=l(a(5556)),s=a(73729),o=a(93413),u=a(91089),d=l(a(43775)),c=l(a(14419)),m=a(35777),p=a(41955),f=a(25514),E=l(a(15));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}const v=(e,t)=>e!==t?e:void 0,h=e=>{var t,a,l;let{cluster:i,region:g}=e;const h=(0,s.useDispatch)(),b=(0,f.useGlobalState)((e=>(0,c.default)(e,d.default.EDIT_CLUSTER_WIDE_PROXY))),{isPending:S,isError:_,error:C,mutate:y,reset:I}=(0,m.useEditCluster)(i.id,g),A={clusterID:i.id,http_proxy_url:null===(t=i.proxy)||void 0===t?void 0:t.http_proxy,https_proxy_url:null===(a=i.proxy)||void 0===a?void 0:a.https_proxy,no_proxy_domains:(0,o.stringToArray)(null===(l=i.proxy)||void 0===l?void 0:l.no_proxy)},R=(0,n.useCallback)((()=>{h(u.modalActions.closeModal()),I(),(0,p.invalidateClusterDetailsQueries)()}),[]);return b?n.default.createElement(r.Formik,{initialValues:A,onSubmit:async e=>{const t={proxy:{http_proxy:v(e.http_proxy_url,A.http_proxy_url),https_proxy:v(e.https_proxy_url,A.https_proxy_url),no_proxy:v((0,o.arrayToString)(e.no_proxy_domains),(0,o.arrayToString)(A.no_proxy_domains))},additional_trust_bundle:v(e.additional_trust_bundle,A.additional_trust_bundle)};y(t,{onSuccess:()=>R()})}},(e=>{let{submitForm:t}=e;return n.default.createElement(E.default,{submitForm:t,isClusterEditPending:S,isClusterEditError:_,clusterEditError:null==C?void 0:C.error,handleClose:R})})):null};h.propTypes={cluster:i.default.object,region:i.default.string},t.default=h},59172:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(78859));t.default=n.default},42398:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419);a(3707);const s=e=>{let{network:t}=e;return n.default.createElement(i.Card,{className:"ocm-c-networking-network-configuration__card"},n.default.createElement(i.CardTitle,null,"CIDR ranges"),n.default.createElement(i.CardBody,{className:"ocm-c-networking-network-configuration__card--body"},n.default.createElement(i.DescriptionList,null,n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Machine CIDR"),n.default.createElement(i.DescriptionListDescription,null,t.machine_cidr||"N/A")),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Service CIDR"),n.default.createElement(i.DescriptionListDescription,null,t.service_cidr||"N/A")),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Pod CIDR"),n.default.createElement(i.DescriptionListDescription,null,t.pod_cidr||"N/A")),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Host prefix"),n.default.createElement(i.DescriptionListDescription,null,`/${t.host_prefix}`||"N/A")))))};s.propTypes={network:r.default.object.isRequired},t.default=s},12167:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(93413),u=l(a(43775)),d=a(62384),c=a(91089),m=l(a(59172));a(9008);const p=e=>{var t,a,l,r,p,f,E;let{cluster:g}=e;const v=(0,i.useDispatch)(),h=null===(t=g.aws)||void 0===t?void 0:t.private_link,b=null===(a=g.proxy)||void 0===a?void 0:a.http_proxy,S=null===(l=g.proxy)||void 0===l?void 0:l.https_proxy,_=(0,o.stringToArray)(null===(r=g.proxy)||void 0===r?void 0:r.no_proxy),C=g.additional_trust_bundle,y=null===(p=g.gcp_network)||void 0===p?void 0:p.vpc_name,I=(null===(f=g.aws)||void 0===f?void 0:f.subnet_ids)||g.gcp_network,A=null===(E=g.subscription)||void 0===E?void 0:E.xcm_id,R=void 0!==h,T=_?_.map((e=>n.default.createElement(s.Label,{isCompact:!0,color:"blue"},e))):"N/A";return I?n.default.createElement(s.Card,{className:"ocm-c-networking-vpc-details__card"},n.default.createElement(s.CardTitle,null,n.default.createElement(s.Title,{headingLevel:"h2",className:"card-title"},"Virtual Private Cloud (VPC)")),n.default.createElement(s.CardBody,{className:"ocm-c-networking-vpc-details__card--body pf-v5-l-stack pf-m-gutter"},y||R?n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Title,{headingLevel:"h3",className:"pf-v5-l-stack__item"},"VPC Details"),n.default.createElement(s.DescriptionList,{isHorizontal:!0,className:"pf-v5-l-stack__item pf-m-auto-column-widths details-card-dl"},y?n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"VPC name"),n.default.createElement(s.DescriptionListDescription,null,y)):null,R?n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"PrivateLink"),n.default.createElement(s.DescriptionListDescription,null,h?"Enabled":"Disabled")):null)):null,n.default.createElement(s.Title,{headingLevel:"h3",className:"pf-v5-l-stack__item --"},"Cluster-wide Proxy"),n.default.createElement(s.DescriptionList,{isHorizontal:!0,className:"pf-v5-l-stack__item details-card-dl"},n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"HTTP proxy URL"),n.default.createElement(s.DescriptionListDescription,null,b||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"HTTPS proxy URL"),n.default.createElement(s.DescriptionListDescription,null,S||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Additional trust bundle"),n.default.createElement(s.DescriptionListDescription,null,("REDACTED"===C?"Uploaded":C)||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"No Proxy domains"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(s.LabelGroup,{isCompact:!0},T)))),n.default.createElement(m.default,{region:A,cluster:g})),!(0,d.isRestrictedEnv)()&&n.default.createElement(s.CardFooter,null,n.default.createElement(s.Button,{variant:"secondary",onClick:()=>{v(c.modalActions.openModal(u.default.EDIT_CLUSTER_WIDE_PROXY))}},"Edit cluster-wide proxy"))):null};p.propTypes={cluster:r.default.object.isRequired},t.default=p},16262:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(12167));t.default=n.default},81911:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419);function s(e){let{awsSubnets:t,gcpNetwork:a}=e;return 0!==t.length||a?n.default.createElement(i.Card,{className:"ocm-c-networking-network-configuration__card"},n.default.createElement(i.CardTitle,null,"VPC subnets (",((e,t)=>t?2:e)(t.length,a),")"),n.default.createElement(i.CardBody,{className:"ocm-c-networking-network-configuration__card--body"},t.length>0?n.default.createElement(i.List,{isPlain:!0},t.map((e=>n.default.createElement(i.ListItem,null,e)))):null,a?n.default.createElement(i.DescriptionList,null,n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Control plane subnet"),n.default.createElement(i.DescriptionListDescription,null,a.control_plane_subnet)),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Compute subnet"),n.default.createElement(i.DescriptionListDescription,null,a.compute_subnet))):null)):null}s.propTypes={awsSubnets:r.default.arrayOf(r.default.string),gcpNetwork:r.default.shape({control_plane_subnet:r.default.string,compute_subnet:r.default.string})},s.defaultProps={awsSubnets:[]},t.default=s},54014:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(81911));t.default=n.default},96533:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(95273));t.default=n.default},89126:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419);function s(e){let{cluster:t}=e;return t.managed&&t.network&&n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Network"),n.default.createElement(i.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},t.network.machine_cidr&&n.default.createElement(i.Flex,null,n.default.createElement("dt",null,"Machine CIDR: "),n.default.createElement("dd",{"data-testid":"machineCIDR"},t.network.machine_cidr)),t.network.service_cidr&&n.default.createElement(i.Flex,null,n.default.createElement("dt",null,"Service CIDR: "),n.default.createElement("dd",{"data-testid":"serviceCIDR"},t.network.service_cidr)),t.network.pod_cidr&&n.default.createElement(i.Flex,null,n.default.createElement("dt",null,"Pod CIDR: "),n.default.createElement("dd",{"data-testid":"podCIDR"},t.network.pod_cidr)),t.network.host_prefix&&n.default.createElement(i.Flex,null,n.default.createElement("dt",null,"Host prefix: "),n.default.createElement("dd",{"data-testid":"hostPrefix"},t.network.host_prefix)))))||null}s.propTypes={cluster:r.default.object.isRequired},t.default=s},58963:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=l(a(23158)),u=l(a(56862)),d=a(45646),c=a(3678),m=a(51513),p=a(77969),f=a(69304),E=l(a(19268)),g=a(11243),v=a(8116),h=a(77910),b=a(976),S=a(82399),_=l(a(6071)),C=l(a(91497)),y=l(a(8888)),I=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=A(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271));function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(A=function(e){return e?a:t})(e)}const R=e=>{var t;const{cluster:a,refresh:l,region:r}=e,A=(0,g.useFeatureGate)(b.NETWORK_VALIDATOR_ONDEMAND_FEATURE),R=(0,f.useNavigate)(),T=(0,i.useDispatch)(),[O,P]=n.default.useState(!1),{data:D,isLoading:L,isError:N,error:w}=(0,v.useFetchClusterStatus)(a.id,r,O),{checks:M,isLoading:k}=(0,h.useFetchInflightChecks)(a.id,r,O,"fetchClusterStatusMonitorInflightChecks"),{data:F,isLoading:x}=(0,h.useFetchRerunInflightChecks)(null==a||null===(t=a.aws)||void 0===t?void 0:t.subnet_ids,r,O),{data:G,isPending:U,isError:j,error:H,mutateAsync:V}=(0,h.useMutateRerunInflightChecks)(a.id,r),[q,z]=n.default.useState(!1),[B,W]=n.default.useState(!1),[$,Y]=n.default.useState(!1),[K,Q]=n.default.useState(!1);n.default.useEffect((()=>{var e;return(0,v.useInvalidateFetchClusterStatus)(),(0,h.useInvalidateFetchInflightChecks)(),null!=a&&null!==(e=a.aws)&&void 0!==e&&e.subnet_ids&&(0,h.useInvalidateFetchRerunInflightChecks)(),()=>{P(!1)}}),[]),n.default.useEffect((()=>{if(!L&&!k&&D&&M){const e=e=>e===I.default.INSTALLING||e===I.default.PENDING||e===I.default.VALIDATING||e===I.default.WAITING;P(!1);const t=()=>{var e;return null===(e=M.items)||void 0===e?void 0:e.some((e=>e.state===S.InflightCheckState.RUNNING||e.state===S.InflightCheckState.FAILED))};if(L||k)N&&(e(a.state)?P(!0):a.state===I.default.UNINSTALLING&&404===w.errorCode&&(T((0,c.addNotification)({title:`Successfully uninstalled cluster ${(0,_.default)(a)}`,variant:"success"})),R("/cluster-list")));else{const n=D.state;(D.state!==a.state||t())&&l(),(e(n)||n===I.default.UNINSTALLING||t())&&P(!0)}}}),[O,M,D,c.addNotification]),n.default.useEffect((()=>{if(U||(j&&(W(!0),Y(!0)),G&&setTimeout((()=>{Y(!1)}),1e4)),!x&&F){const e=F.data.items.some((e=>e.state===S.InflightCheckState.RUNNING||e.state===S.InflightCheckState.PENDING));Q(e)}}),[x,U,G,F]);if(!L&&D&&D.id===a.id){const e=D.provision_error_code||"",t=[];return D.state===I.default.ERROR&&t.push(n.default.createElement(s.Alert,{variant:"danger",isInline:!0,title:`${e} Cluster installation failed`},n.default.createElement("p",null,"This cluster cannot be recovered, however you can use the logs and network validation to diagnose the problem:"),n.default.createElement(E.default,{clusterStatus:D,showDescription:!0}))),A&&t.push((()=>{if(a.state!==I.default.VALIDATING&&a.state!==I.default.PENDING){var e;const t=null==M||null===(e=M.items)||void 0===e?void 0:e.find((e=>e.state===S.InflightCheckState.FAILED));if((0,I.hasInflightEgressErrors)(a)&&t){let e,l,r,i=[];const c=`${m.HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY}_${a.id}`;localStorage.setItem(c,!!t);const p="To allow this cluster to be fully-managed, add these URLs to the allowlist of these subnet firewalls. For more information review the egress requirements or contact Red Hat support.",{details:f}=t;if(Object.keys(f).forEach((t=>{if("documentation_link"===t)e=f[t];else if(t.startsWith("subnet")){const e=[];i.push({name:t,egressErrors:e}),Object.keys(f[t]).forEach((a=>{if(a.startsWith("egress_url_errors")){const l=/(https?:\/\/[^\s)]+)/,n=f[t][a].match(l);n&&e.push(n[0])}})),e.sort(((e,t)=>{var a,l;const n=e.split(":"),r=t.split(":"),i=null===(a=n[1])||void 0===a?void 0:a.localeCompare(r[1]);return 0===i?null===(l=n[0])||void 0===l?void 0:l.localeCompare(r[0]):i}))}})),i.length){const e=i.length>1;e&&!q&&(i=i.slice(0,1));const t=[{title:"Subnet"},{title:"URLs"}],c=e=>{let{name:t,egressErrors:a}=e;return n.default.createElement(d.Tbody,null,n.default.createElement(d.Tr,null,n.default.createElement(d.Td,null),n.default.createElement(d.Td,{modifier:"nowrap"},t),n.default.createElement(d.Td,{style:{whiteSpace:"break-spaces"}},a.join(",   "))))};l=n.default.createElement(n.default.Fragment,null,n.default.createElement(d.Table,{"aria-label":"Missing allowlist URLs",variant:d.TableVariant.compact,style:{backgroundColor:"unset"}},n.default.createElement(d.Thead,null,n.default.createElement(d.Tr,null,n.default.createElement(d.Th,null),t.map((e=>n.default.createElement(d.Th,{key:e.title},e.title))))),i.map((e=>c(e)))),e&&n.default.createElement(s.Button,{variant:"link",icon:q?n.default.createElement(o.default,null):n.default.createElement(u.default,null),onClick:()=>(e=>{z(e)})(!q)},q?"Show less":"Show more")),r=()=>{Y(!0),V(a.id)}}const E=$||K;return n.default.createElement(s.Alert,{variant:"warning",isInline:!0,title:"User action required"},n.default.createElement(s.Flex,{direction:{default:"column"}},n.default.createElement(s.FlexItem,null,`${p}`),l&&n.default.createElement(s.FlexItem,null,l),n.default.createElement(s.FlexItem,null,n.default.createElement(s.Flex,{direction:{default:"row"}},e&&n.default.createElement(s.FlexItem,null,n.default.createElement(y.default,{noIcon:!0,href:e},"Review egress requirements")),n.default.createElement(s.FlexItem,null,n.default.createElement(y.default,{noIcon:!0,href:"https://access.redhat.com/support/cases/#/case/new"},"Contact support")),n.default.createElement(s.FlexItem,null,E&&n.default.createElement("span",{className:"pf-v5-u-mr-sm"},n.default.createElement(s.Spinner,{size:"sm"})),n.default.createElement(s.Button,{variant:s.ButtonVariant.link,isInline:!0,isDisabled:E,onClick:r},K?"Network validation in progress":"Rerun network validation"),B&&n.default.createElement(C.default,{title:"Error Rerunning Validator ",errorResponse:H,resetResponse:()=>W(!1)}))))))}}return null})()),t.push((()=>{if((0,I.isOSDGCPWaitingForRolesOnHostProject)(a)){var e,t;const l=null==a||null===(e=a.gcp_network)||void 0===e?void 0:e.vpc_project_id,r=null==a||null===(t=a.status)||void 0===t||null===(t=t.description)||void 0===t?void 0:t.match(p.emailRegex),i=r?r.length:0,o=r?n.default.createElement(n.default.Fragment,null,r.map(((e,t)=>n.default.createElement(n.default.Fragment,{key:e},n.default.createElement("strong",null,e),t<r.length-1&&", ")))):n.default.createElement("strong",null,"unknown"),u=[];return u.push("To continue cluster installation, contact the VPC owner of the "),u.push(n.default.createElement("strong",null,l)),u.push(" host project, who must grant the "),u.push(o),u.push(` service account${i>1?"s":""} the following roles: `),u.push(n.default.createElement("strong",null,"Compute Network Administrator, ")),u.push(n.default.createElement("strong",null,"Compute Security Administrator, ")),u.push(n.default.createElement("strong",null,"DNS Administrator.")),n.default.createElement(s.Alert,{variant:"warning",isInline:!0,title:"Permissions needed:"},n.default.createElement(s.Flex,{direction:{default:"column"}},n.default.createElement(s.FlexItem,null,u),n.default.createElement(s.FlexItem,null,n.default.createElement(y.default,{href:"https://cloud.google.com/vpc/docs/provisioning-shared-vpc#migs-service-accounts"},"Learn more about permissions"))))}return null})()),D.state!==I.default.ERROR&&(D.provision_error_code||D.provision_error_message)&&t.push(n.default.createElement(s.Alert,{variant:"warning",isInline:!0,title:`${e} Installation is taking longer than expected`,"data-testid":"alert-long-install"},n.default.createElement(E.default,{clusterStatus:D}))),n.default.createElement(n.default.Fragment,null,t.filter((e=>e)))}return null};R.propTypes={region:r.default.string,cluster:r.default.shape({id:r.default.string,state:r.default.string,status:r.default.shape({description:r.default.string}),aws:r.default.shape({subnet_ids:r.default.array}),gcp_network:r.default.shape({vpc_project_id:r.default.string})}),refresh:r.default.func},t.default=R},64887:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58963));t.default=n.default},52363:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(97419),o=a(7019),u=a(23271),d=l(a(81621)),c=a(98002),m=a(3089),p=l(a(71210)),f=l(a(92216)),E=l(a(68224)),g=l(a(2183));const v=e=>{var t;let{cluster:a}=e;const l=(0,u.isClusterUpgrading)(a),i=(0,d.default)(a),v=(0,r.default)(a,"metrics.channel"),h=(0,u.isHypershiftCluster)(a),b=null==a?void 0:a.id,S=null==a?void 0:a.managed,{data:_}=(0,c.useGetSchedules)(b,h),{data:C}=(0,m.useFetchUpgradeGatesFromApi)(S),[y,I]=n.default.useState(!1),A=null==_?void 0:_.items.find((e=>{var t;return e.version!==(null===(t=a.version)||void 0===t?void 0:t.raw_id)}));return n.default.createElement("div",null,n.default.createElement("dl",{className:"pf-v5-l-stack"},n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"OpenShift: "),n.default.createElement("dd",null,i,n.default.createElement(p.default,{cluster:a,hideOSDUpdates:!!A}),A&&"automatic"===A.schedule_type&&!l?n.default.createElement(f.default,{clusterId:a.id,isHypershift:h,cluster:a,schedules:_,upgradeGates:C}):null)),A&&"manual"===A.schedule_type&&n.default.createElement("div",null,n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Update scheduled: "),n.default.createElement("dd",null,n.default.createElement(s.Popover,{headerContent:"Update status",isVisible:y,shouldOpen:()=>I(!0),shouldClose:()=>I(!1),bodyContent:n.default.createElement(E.default,{schedules:_,upgradeGates:C,cluster:a,clusterID:a.id,canEdit:a.canEdit,clusterVersion:i,scheduledUpgrade:A,availableUpgrades:null===(t=a.version)||void 0===t?void 0:t.available_upgrades,onCancelClick:()=>I(!1)})},n.default.createElement(s.Button,{variant:"link",className:"cluster-inline-link pf-v5-u-mt-0"},"View details ",n.default.createElement(o.OutlinedQuestionCircleIcon,null)))))),!a.managed&&!l&&n.default.createElement("div",null,n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Life cycle state: "),n.default.createElement("dd",null,n.default.createElement(g.default,{clusterVersion:i})))),v&&n.default.createElement("div",null,n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Update channel: "),n.default.createElement("dd",null,v)))))};v.propTypes={cluster:i.default.shape({id:i.default.string.isRequired,openshift_version:i.default.string,managed:i.default.bool,version:i.default.shape({channel_group:i.default.string,available_upgrades:i.default.arrayOf(i.default.string),raw_id:i.default.string}),canEdit:i.default.bool})},t.default=v},73619:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(52363));t.default=n.default},17257:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(97419),o=a(23271),u=l(a(26765)),d=a(11243),c=a(976),m=a(75166),p=l(a(55213)),f=l(a(4605)),E=l(a(56859)),g=l(a(40633)),v=l(a(73619));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function b(e){var t,a,l,i;let{cluster:h,cloudProviders:b,showAssistedId:S}=e;const _=h.cloud_provider?h.cloud_provider.id:null,C=null==h||null===(t=h.region)||void 0===t?void 0:t.id,y=(0,r.default)(h,"subscription.plan.type")===m.normalizedProducts.ROSA,I=(0,o.isHypershiftCluster)(h),A=(null==h||null===(a=h.subscription)||void 0===a||null===(a=a.plan)||void 0===a?void 0:a.type)===m.normalizedProducts.RHOIC,R=(0,d.useFeatureGate)(c.OSD_GCP_WIF)&&(0,o.isGCP)(h)&&(0,o.isCCS)(h),T="WifConfig"===(null==h||null===(l=h.gcp)||void 0===l||null===(l=l.authentication)||void 0===l?void 0:l.kind)?"Workload Identity Federation":"Service Account";let O;O=_&&b&&b[_]?b[_].display_name||"N/A":_?_.toUpperCase():"N/A";const{id:P,idLabel:D}=((e,t)=>{let a="Cluster ID",l=(0,r.default)(e,"external_id","N/A");const n=(0,r.default)(e,"aiCluster.id","N/A");return t&&n&&(a=`Assisted cluster ID / ${a}`,l=`${n} / ${l}`),{id:l,idLabel:a}})(h,S),L=I?"Hosted":"Classic",N=(0,r.default)(h,"aws.private_hosted_zone_id",!1),w=null==h?void 0:h.domain_prefix,M=(0,n.useMemo)((()=>"boolean"==typeof h.multi_az?h.multi_az?"Multi-zone":"Single zone":"N/A"),[h.multi_az]);return n.default.createElement(s.DescriptionList,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,D),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"clusterID"},P))),w&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Domain prefix"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"domainPrefix"},w))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Type"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(E.default,{cluster:h}))),I&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Control plane type"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"controlType"},n.default.createElement("span",{"data-testid":"controlPlaneType"},L))),!A||A&&C?n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Region"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"region"},C||"N/A"))):null,!y&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Provider"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"provider"},O))),R&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Authentication type"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",null,T))),h.managed&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Availability"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"availability"},M))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Version",I&&n.default.createElement(p.default,{iconClassName:"pf-v5-u-ml-sm",hint:"This version is only for the control plane. Worker nodes may have a different version."})),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(v.default,{cluster:h}))),!!N&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Shared VPC hosted zone ID"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",null,N))),!I&&h.fips&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Encryption level"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},n.default.createElement("dt",{"data-testid":"fipsCryptographyStatus"},"FIPS Cryptography enabled")))),null!=h&&null!==(i=h.aws)&&void 0!==i&&i.kms_key_arn?n.default.createElement(n.default.Fragment,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Encrypt volumes with custom keys"),n.default.createElement(s.DescriptionListDescription,null,"Enabled")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Custom KMS key ARN"),n.default.createElement(s.DescriptionListDescription,null,h.aws.kms_key_arn))):null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Created at"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(f.default,{value:(0,r.default)(h,"creation_timestamp","N/A")}))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Owner"),n.default.createElement(s.DescriptionListDescription,null,(0,r.default)(h,"subscription.creator.name")||(0,r.default)(h,"subscription.creator.username","N/A"))),h.managed&&!y&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Subscription billing model"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"subscription-billing-model"},(0,u.default)(h))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Infrastructure billing model"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"infrastructure-billing-model"},n.default.createElement(g.default,{cluster:h})))))}b.propTypes={cluster:i.default.any,cloudProviders:i.default.object.isRequired,showAssistedId:i.default.bool.isRequired},t.default=b},86039:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(97419),o=a(10135),u=a(94675),d=a(74706),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),m=l(a(19268)),p=a(97909),f=a(54910),E=l(a(9435)),g=l(a(55909)),v=a(25514),h=a(62384),b=a(59067),S=l(a(65702)),_=a(22902),C=a(74688),y=l(a(8888)),I=l(a(55213)),A=l(a(4605)),R=a(49484),T=l(a(52865)),O=a(48539),P=l(a(47828)),D=l(a(89126)),L=l(a(58438)),N=a(71785);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function M(e){var t,a,l,i,w,M,k,F,x,G,U,j,H,V,q,z;let{cluster:B,hasAutoscaleCluster:W,isDeprovisioned:$,clusterDetailsLoading:Y}=e;const K=(0,v.useGlobalState)((e=>e.machinePools.getMachinePools.data)),Q=(0,T.default)(B,K),[Z,X]=n.default.useState(),[J,ee]=n.default.useState(),{hasMachinePoolWithAutoscaling:te,totalMinNodesCount:ae,totalMaxNodesCount:le,totalDesiredComputeNodes:ne,totalActualNodes:re}=Q;n.default.useEffect((()=>{var e;te?X(!0):(X(!1),ee((null==B||null===(e=B.status)||void 0===e?void 0:e.limited_support_reason_count)>0))}),[Q,null==B||null===(t=B.status)||void 0===t?void 0:t.limited_support_reason_count,te]);const ie=(0,g.default)(null==B||null===(a=B.subscription)||void 0===a||null===(a=a.plan)||void 0===a?void 0:a.type,null==B||null===(l=B.subscription)||void 0===l?void 0:l.cluster_billing_model,null==B||null===(i=B.subscription)||void 0===i?void 0:i.capabilities),se="aws"===(null===(w=B.subscription)||void 0===w?void 0:w.cloud_provider_id),oe="gcp"===(null===(M=B.subscription)||void 0===M?void 0:M.cloud_provider_id),ue=(0,c.isHypershiftCluster)(B),de=(0,c.isROSA)(B),ce=(null===(k=B.subscription)||void 0===k?void 0:k.cloud_account_id)||null,me=ue&&(null===(F=B.aws)||void 0===F||null===(F=F.etcd_encryption)||void 0===F?void 0:F.kms_key_arn),{clusterVpc:pe}=(0,p.useAWSVPCFromCluster)(B),fe=(0,C.humanizeValueWithUnit)((0,r.default)(B,"metrics.memory.total.value",0),(0,r.default)(B,"metrics.memory.total.unit","B")),Ee="true"===(0,o.getQueryParam)("showWorkerNodesTogether"),ge=(0,r.default)(B,"subscription.status","")===b.SubscriptionCommonFields.status.DISCONNECTED,ve=(0,r.default)(B,"subscription.billing_marketplace_account",""),he=B.managed,be=!ue&&(!B.managed&&(0,r.default)(B,"metrics.nodes.infra",null)||(0,r.default)(B,"nodes.infra",0)>0),Se=(0,r.default)(B,"metrics.sockets.total.value",0)>0,_e=B.managed&&B.storage_quota&&(0,C.humanizeValueWithUnitGiB)(B.storage_quota.value),Ce=!ge&&!Se&&!(0,h.isRestrictedEnv)(),ye=!ge&&!(0,h.isRestrictedEnv)(),Ie=(0,r.default)(B,"metrics.nodes.master","-"),Ae=(0,r.default)(B,"nodes.master","-"),Re=(0,r.default)(B,"metrics.nodes.infra","-"),Te=(0,r.default)(B,"nodes.infra","-"),Oe=(0,r.default)(B,"cloud_provider.id","-"),Pe=!1===re?"-":re,De=ne||"-",Le=null===(x=B.aws)||void 0===x||null===(x=x.sts)||void 0===x?void 0:x.oidc_config,Ne=(null===(G=B.aws)||void 0===G?void 0:G.ec2_metadata_http_tokens)||f.IMDSType.V1AndV2,we=oe&&!$,Me=oe&&(null===(U=B.gcp)||void 0===U||null===(U=U.security)||void 0===U?void 0:U.secure_boot),ke=B.managed&&!(0,O.isArchivedSubscription)(B),Fe=B.state===c.default.UNINSTALLING;return n.default.createElement(s.DescriptionList,null,ke?n.default.createElement(L.default,{clusterID:B.id,protectionEnabled:null===(j=B.delete_protection)||void 0===j?void 0:j.enabled,canToggle:B.canUpdateClusterResource,pending:Y,isUninstalling:Fe}):null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Status"),n.default.createElement(s.DescriptionListDescription,{style:B.state.style},(0,_.isAISubscriptionWithoutMetrics)(B.subscription)?n.default.createElement("div",{"data-testid":"aiSubscriptionWithoutMetric"},n.default.createElement(E.default,{status:B.metrics.state,className:"clusterstate"})):n.default.createElement(n.default.Fragment,null,n.default.createElement(N.ClusterStatus,{cluster:B,limitedSupport:J,machinePools:K}),J?" - Limited support":null,(null==B||null===(H=B.status)||void 0===H?void 0:H.provision_error_code)&&n.default.createElement(s.DescriptionList,null," ",n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Details:"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(m.default,{clusterStatus:B.status,showErrorCode:!0}))))))),Ce&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Total vCPU"),n.default.createElement(s.DescriptionListDescription,null,B.metrics.cpu.total.value," vCPU")),ye&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Total memory"),n.default.createElement(s.DescriptionListDescription,null,fe.value," ",fe.unit)),ce&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,`Infrastructure ${Oe.toUpperCase()} account`),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":`infrastructure${Oe.toUpperCase()}Account`},ce))),me&&n.default.createElement(s.DescriptionListGroup,{"data-testid":"hs-etcd-encryption"},n.default.createElement(s.DescriptionListTerm,null,"KMS etcd encryption key ARN"),n.default.createElement(s.DescriptionListDescription,null,me)),de&&!ue&&n.default.createElement(s.DescriptionListGroup,{"data-testid":"etcd-encryption-key"},n.default.createElement(s.DescriptionListTerm,null,"Additional encryption "),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"etcEncryptionStatus"},B.etcd_encryption?"Enabled":"Disabled"))),ve&&n.default.createElement(d.OverviewBillingAccount,null),B.managed&&!(null!==(V=B.ccs)&&void 0!==V&&V.enabled)&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Load balancers"),n.default.createElement(s.DescriptionListDescription,null,B.load_balancer_quota||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Persistent storage"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"persistent-storage"},_e?`${_e.value}  ${_e.unit}`:"N/A"))),!(0,h.isRestrictedEnv)()&&(he&&!Z?n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Nodes",n.default.createElement("span",{className:"font-weight-normal"}," (actual/desired)"),n.default.createElement(I.default,{id:"cluster-scaling-hint",iconClassName:"nodes-hint",hint:"The actual number of compute nodes may not always match with the number of desired when the cluster is scaling."})),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},!ue&&n.default.createElement(s.Flex,{"data-testid":"controlPlaneNodesCountContainer"},n.default.createElement("dt",null,"Control plane: "),n.default.createElement("dd",{"data-testid":"controlPlaneNodesCount"},"-"!==Ie||"-"!==Ae?`${Ie}/${Ae}`:"N/A")),be&&n.default.createElement(s.Flex,{"data-testid":"InfraNodesCountContainer"},n.default.createElement("dt",null,"Infra: "),n.default.createElement("dd",{"data-testid":"infraNodesCount"},"-"!==Re||"-"!==Te?`${Re}/${Te}`:"N/A")),n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Compute: "),n.default.createElement("dd",{"data-testid":"computeNodeCount"},"-"!==Pe||"-"!==De?`${Pe}/${De}`:"N/A"))))):n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Nodes"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},!ue&&n.default.createElement(s.Flex,{"data-testid":"controlPlaneNodesCountContainer"},n.default.createElement("dt",null,"Control plane: "),n.default.createElement("dd",null,(0,r.default)(B,"metrics.nodes.master","N/A"))),be&&n.default.createElement(s.Flex,{"data-testid":"InfraNodesCountContainer"},n.default.createElement("dt",null,"Infra: "),n.default.createElement("dd",null,(0,r.default)(B,"metrics.nodes.infra","N/A"))),n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Compute: "),n.default.createElement("dd",null,re||"N/A")))))),(0,u.hasSecurityGroupIds)(B,K)&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Additional security groups"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-l-stack","data-testid":"securityGroupsByNode"},n.default.createElement(P.default,{securityGroups:(null==pe?void 0:pe.aws_security_groups)||[],securityGroupIdsForControl:null==B||null===(q=B.aws)||void 0===q?void 0:q.additional_control_plane_security_group_ids,securityGroupIdsForInfra:null==B||null===(z=B.aws)||void 0===z?void 0:z.additional_infra_security_group_ids,machinePoolData:K,showLinkToMachinePools:(0,c.canViewMachinePoolTab)(B),showWorkerNodesTogether:Ee})))),B.aiCluster&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Created at"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(A.default,{value:(0,r.default)(B,"creation_timestamp","N/A")}))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Owner"),n.default.createElement(s.DescriptionListDescription,null,(0,r.default)(B,"subscription.creator.name")||(0,r.default)(B,"subscription.creator.username","N/A")))),ie&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Cluster autoscaling"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"clusterAutoscalingStatus"},W?"Enabled":"Disabled"))),Z&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Autoscale",n.default.createElement(I.default,{id:"autoscaling-hint",iconClassName:"nodes-hint",hint:n.default.createElement(n.default.Fragment,null,R.constants.autoscaleHint," ",n.default.createElement(y.default,{href:S.default.APPLYING_AUTOSCALING},"Learn more about autoscaling"))})),n.default.createElement(s.DescriptionListDescription,null,"Enabled"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{className:"autoscale-data-t"},"Min:")," ",ae,n.default.createElement("span",{className:"pf-v5-u-ml-lg autoscale-data-t"},"Max: "),le)),se&&!ue&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Instance Metadata Service (IMDS)"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"instanceMetadataService"},Ne===f.IMDSType.V1AndV2?"IMDSv1 and IMDSv2":"IMDSv2 only"))),n.default.createElement(D.default,{cluster:B}),we&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Secure Boot support for Shielded VMs"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"secureBootSupportForShieldedVMs"},Me?"Enabled":"Disabled"))),Le&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"OIDC Configuration"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Type:"),n.default.createElement("dd",null,null!=Le&&Le.managed?"Red Hat managed":"Self-managed")),n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"ID:"),n.default.createElement("dd",null,null==Le?void 0:Le.id))))))}M.propTypes={cluster:i.default.any,isDeprovisioned:i.default.bool,hasAutoscaleCluster:i.default.bool,clusterDetailsLoading:i.default.bool},t.default=M},42145:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(86039));t.default=n.default},27596:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(93179),s=a(15626);const o=e=>{let{entries:t,issueCount:a,externalId:l}=e;return n.default.createElement(i.ChartDonut,{data:t.map((e=>{let[t,a]=e;return{label:`${s.riskLabels[t]} ${a}`,x:t,y:a}})),title:`${a}`,titleComponent:n.default.createElement(s.InsightsTitleComponent,{style:{}}),subTitle:"Total "+(1===a?"issue":"issues"),subTitleComponent:n.default.createElement(s.InsightsSubtitleComponent,{externalId:l,style:{}}),legendData:t.map((e=>{let[t,a]=e;return{name:`${a} ${s.riskLabels[t]}`}})),legendOrientation:"vertical",legendPosition:"right",constrainToVisibleArea:!0,width:350,height:200,colorScale:s.chartColorScale,legendComponent:n.default.createElement(i.ChartLegend,{data:t.map((e=>{let[t,a]=e;return{name:`${a} ${s.riskLabels[t]}`,id:t,value:a}})),labelComponent:n.default.createElement(s.InsightsLabelComponent,{externalId:l,style:{}}),dataComponent:n.default.createElement(s.InsightsLegendIconComponent,null),x:200}),radius:80,padAngle:0,padding:{bottom:0,left:10,right:170,top:20}})};t.default=o,o.propTypes={entries:r.default.array.isRequired,issueCount:r.default.number.isRequired,externalId:r.default.string.isRequired}},8978:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345));t.default=e=>n.default.createElement("svg",{x:"3.5",y:"2.5"},n.default.createElement("svg",e,n.default.createElement("polygon",{points:"10 10, 10 3, 5 0, 0 3, 0 10, 5 8"})))},8705:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(5556),i=a(97419),s=l(a(42601)),o=a(26839),u=l(a(27596));a(48646);const d=e=>{let{insightsData:t,externalId:a}=e;const l=t.data?t.data.filter((e=>!e.disabled)):[],r=Object.entries((0,o.groupRulesByRisk)(l)).reverse();return n.default.createElement(i.Flex,null,n.default.createElement(i.FlexItem,null,n.default.createElement(i.Title,{className:"ocm-c-overview-advisor--card__title",size:"lg",headingLevel:"h2"},"Advisor recommendations"),n.default.createElement(s.default,null)),n.default.createElement(i.FlexItem,null,n.default.createElement(u.default,{entries:r,issueCount:l.length,externalId:a})))};d.propTypes={insightsData:r.PropTypes.object,externalId:r.PropTypes.string.isRequired},t.default=d},15626:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.riskLabels=t.riskIcons=t.legendColorScale=t.chartColorScale=t.InsightsTitleComponent=t.InsightsSubtitleComponent=t.InsightsLegendIconComponent=t.InsightsLabelComponent=void 0;var n=l(a(94634)),r=l(a(43693)),i=l(a(91847)),s=l(a(93345)),o=a(5556),u=a(93179),d=a(80613),c=a(16082),m=a(39636),p=a(95832),f=a(27468),E=a(61927),g=a(4966),v=a(53242),h=a(69304),b=l(a(8978));const S=["style"],_=["style"],C=["externalId","style"];function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.riskLabels={1:"Low",2:"Moderate",3:"Important",4:"Critical"};const A=t.riskIcons={1:d.AngleDoubleDownIcon,2:m.EqualsIcon,3:c.AngleDoubleUpIcon,4:b.default},R=t.legendColorScale={1:f.global_palette_blue_300.value,2:E.global_palette_gold_400.value,3:g.global_palette_orange_300.value,4:v.global_palette_red_200.value},T=(t.chartColorScale=[v.global_palette_red_200.value,g.global_palette_orange_300.value,E.global_palette_gold_400.value,p.global_palette_blue_50.value],e=>{let{style:t}=e,a=(0,i.default)(e,S);return s.default.createElement(u.ChartLabel,(0,n.default)({},a,{style:I(I({},t),{},{fontSize:30,fontWeight:"bold"})}))});t.InsightsTitleComponent=T;const O=e=>{let{style:t}=e,a=(0,i.default)(e,_);const{datum:l,externalId:r}=a,o=`${h.advisorBaseName}/clusters/${r}?total_risk=${l.id}`;return s.default.createElement("a",{href:o},s.default.createElement(u.ChartLabel,(0,n.default)({},a,{style:I(I({},t),{},{fontSize:15}),className:r&&(null==l?void 0:l.value)>0?"ocm-c-overview-advisor--enabled-link":"ocm-c-overview-advisor--disabled-link"})))};t.InsightsLabelComponent=O;const P=e=>{let{x:t,y:a,datum:l}=e;const n=A[l.id];return s.default.createElement(n,{x:t-5,y:a-7,fill:R[l.id]})};t.InsightsLegendIconComponent=P;const D=e=>{let{externalId:t,style:a}=e,l=(0,i.default)(e,C);const r=`${h.advisorBaseName}/clusters/${t}`;return s.default.createElement("a",{href:r},s.default.createElement(u.ChartLabel,(0,n.default)({},l,{style:I(I({},a),{},{fontSize:15}),dy:5,className:"ocm-c-overview-advisor--enabled-link"})))};t.InsightsSubtitleComponent=D,D.propTypes={externalId:o.PropTypes.string.isRequired,style:o.PropTypes.object.isRequired},O.propTypes={datum:o.PropTypes.shape({value:o.PropTypes.number,id:o.PropTypes.string}),externalId:o.PropTypes.string.isRequired,style:o.PropTypes.object.isRequired},T.propTypes={style:o.PropTypes.object.isRequired},P.propTypes={x:o.PropTypes.number,y:o.PropTypes.number,datum:o.PropTypes.shape({id:o.PropTypes.string})}},44255:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.installationLogActions=t.getLogs=t.clearLogs=void 0;var n=l(a(43693)),r=a(73410),i=a(99225);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"install";return l=>l({type:i.installationLogConstants.GET_LOGS,payload:r.clusterService.getLogs(e,t,a).then((e=>o(o({},e),{},{logType:a})))})};t.getLogs=u;const d=()=>e=>e({type:i.installationLogConstants.CLEAR_LOGS});t.clearLogs=d,t.installationLogActions={getLogs:u,clearLogs:d}},99225:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.installationLogConstants=t.GET_LOGS=t.CLEAR_LOGS=void 0;const a=t.GET_LOGS="GET_LOGS",l=t.CLEAR_LOGS="CLEAR_LOGS";t.installationLogConstants={GET_LOGS:a,CLEAR_LOGS:l}},89753:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(46942)),s=l(a(5556)),o=l(a(45041)),u=a(97419),d=a(87503),c=l(a(23271)),m=a(59910);class p extends r.default.Component{constructor(e){super(e),(0,n.default)(this,"state",{userScrolled:!1,isFullScreen:!1,isExpanded:!1}),(0,n.default)(this,"isShown",(()=>{const{isExpanded:e}=this.state,{isExpandable:t}=this.props;return!t||e})),(0,n.default)(this,"toggleExpanded",(e=>{this.setState({isExpanded:e})})),(0,n.default)(this,"scrollToEnd",(()=>{const{lines:e}=this.props;if(e){const e=this.logPaneRef.current;e&&e.scrollTo&&e.scrollTo({top:e.scrollHeight})}})),(0,n.default)(this,"onScroll",(e=>{const{userScrolled:t}=this.state,a=e.target,l=a.scrollHeight-a.clientHeight-a.scrollTop;!t&&l>20&&this.isPageVisible&&this.isShown()&&this.setState({userScrolled:!0}),t&&l<=20&&this.setState({userScrolled:!1})})),(0,n.default)(this,"onFullscreenChange",(()=>{const{userScrolled:e}=this.state,t=o.default.isFullscreen;this.setState({isFullScreen:t}),e||this.scrollToEnd()})),(0,n.default)(this,"onVisibilityChange",(()=>{null!==this.updateTimer&&window.clearInterval(this.updateTimer),this.isPageVisible="visible"===document.visibilityState,this.isShown()&&(this.isPageVisible?(this.updateTimer=window.setInterval(this.update,2e3),this.update()):this.updateTimer=window.setInterval(this.update,15e3))})),(0,n.default)(this,"update",(()=>{const{getLogs:e,cluster:t,lines:a,len:l,logType:n,pending:r,errorCode:i}=this.props;if(!r&&403!==i){const r=t.state!==c.default.UNINSTALLING?"install":"uninstall";let i=a?l:0;n!==r&&(i=0),e(t.id,i,r)}})),(0,n.default)(this,"fullScreen",(()=>{const{userScrolled:e}=this.state;if(o.default.isFullscreen)o.default.exit().then((()=>{this.setState({isFullScreen:!1})}));else{const t=this.cardRef.current;o.default.request(t).then((()=>{e||setTimeout((()=>{this.scrollToEnd()}),100),this.setState({isFullScreen:!0})}))}})),this.logPaneRef=r.default.createRef(),this.cardRef=r.default.createRef()}componentDidMount(){this.isShown()&&(this.update(),this.updateTimer=window.setInterval(this.update,2e3)),o.default.isEnabled&&o.default.on("change",this.onFullscreenChange),document.addEventListener("visibilitychange",this.onVisibilityChange),this.isPageVisible="visible"===document.visibilityState}shouldComponentUpdate(e,t){return t.userScrolled!==this.state.userScrolled||t.isExpanded!==this.state.isExpanded||t.isFullScreen!==this.state.isFullScreen||e.lines!==this.props.lines||e.cluster.state!==this.props.cluster.state||e.cluster.id!==this.props.cluster.id||e.errorCode!==this.props.errorCode||e.logType!==this.props.logType||e.isExpandable!==this.props.isExpandable}componentDidUpdate(e,t){const{lines:a,errorCode:l,cluster:n}=this.props,{isExpanded:r}=this.state;!e.lines&&a&&this.setState({userScrolled:!1}),(403!==e.errorCode&&403===l||n.state===c.default.ERROR)&&null!==this.updateTimer&&window.clearInterval(this.updateTimer),r!==t.isExpanded&&(r&&this.setState({userScrolled:!1}),this.onVisibilityChange())}componentWillUnmount(){const{clearLogs:e}=this.props;null!==this.updateTimer&&window.clearInterval(this.updateTimer),o.default.isEnabled&&o.default.off("change",this.onFullscreenChange),document.removeEventListener("visibilitychange",this.onVisibilityChange),e(),o.default.isFullscreen&&o.default.exit()}render(){const{lines:e,len:t,errorCode:a,cluster:l,isExpandable:n}=this.props,{userScrolled:s,isFullScreen:p,isExpanded:f}=this.state,E=e?t-1:0;let g;!s&&E&&this.isShown()&&requestAnimationFrame(this.scrollToEnd),g=l.state===c.default.UNINSTALLING?403===a?m.metricsStatusMessages.uninstalling:"Cluster uninstallation has started. Uninstallation log will appear here once it becomes available.":403===a?m.metricsStatusMessages.installing:"Cluster installation has started. Installation log will appear here once it becomes available.";const v=r.default.createElement("div",{className:(0,i.default)("log-window-container",!!E&&"log-window-container--with-lines"),ref:this.cardRef},!!E&&o.default.isEnabled&&r.default.createElement("div",{className:"logview-buttons"},r.default.createElement(u.Button,{onClick:this.fullScreen,variant:"link",icon:r.default.createElement(d.ExpandIcon,null)},p?"Exit full screen":"Full screen")),E?r.default.createElement("div",{className:"log-window"},r.default.createElement("div",{className:"log-window__header"},E," lines"),r.default.createElement("div",{className:"log-window__body"},r.default.createElement("div",{className:"log-window__scroll-pane",ref:this.logPaneRef,onScroll:this.onScroll},r.default.createElement("div",{className:"log-window__contents"},e||"")))):l.state!==c.default.ERROR&&r.default.createElement("p",{className:"pf-v5-u-mt-sm"},g));return n?r.default.createElement(u.ExpandableSection,{id:"toggle-logs",toggleTextCollapsed:"View logs",toggleTextExpanded:"Hide logs",onToggle:(e,t)=>this.toggleExpanded(t),isExpanded:f,isActive:!p},v):v}}p.propTypes={isExpandable:s.default.bool,clearLogs:s.default.func.isRequired,getLogs:s.default.func.isRequired,pending:s.default.bool,lines:s.default.string,len:s.default.number,logType:s.default.oneOf(["install","uninstall"]),cluster:s.default.shape({id:s.default.string,state:s.default.string}),errorCode:s.default.number},t.default=p},83280:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Object.defineProperty(t,"shouldShowLogs",{enumerable:!0,get:function(){return s.default}});var n=a(73729),r=a(44255),i=l(a(89753)),s=l(a(83939));const o={clearLogs:r.clearLogs,getLogs:r.getLogs};t.default=(0,n.connect)((e=>({lines:e.logs.lines,len:e.logs.len,pending:e.logs.pending,errorCode:e.logs.errorCode,logType:e.logs.logType})),o)(i.default)},83939:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(23271));t.default=e=>e.managed&&e.canEdit&&(e.state===n.default.WAITING||e.state===n.default.PENDING||e.state===n.default.INSTALLING||e.state===n.default.VALIDATING||e.state===n.default.ERROR||e.state===n.default.UNINSTALLING)},30739:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(58156)),s=l(a(5556)),o=R(a(25247)),u=a(97419),d=a(51513),c=a(62384),m=a(59067),p=R(a(22902)),f=R(a(23271)),E=a(59910),g=l(a(36447)),v=a(74149),h=l(a(8705)),b=l(a(64887)),S=l(a(26554)),_=l(a(17257)),C=l(a(42145)),y=a(83280),I=l(a(22493));function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(A=function(e){return e?a:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=A(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(68772);const{AssistedInstallerDetailCard:P,AssistedInstallerExtraDetailCard:D}=o;class L extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{showInstallSuccessAlert:!1})}componentDidUpdate(e){const{cluster:t}=this.props;e.cluster.state!==f.default.INSTALLING&&e.cluster.state!==f.default.PENDING&&e.cluster.state!==f.default.WAITING||t.state!==f.default.READY||!t.managed||e.cluster.id!==t.id||this.setState({showInstallSuccessAlert:!0})}render(){const{cluster:e,cloudProviders:t,refresh:a,insightsData:l,userAccess:n,hasNetworkOndemand:s,subscription:o,canSubscribeOCP:A,clusterDetailsLoading:R,isSubscriptionSettingsRequestPending:T,region:L}=this.props,{showInstallSuccessAlert:N}=this.state,w=(0,i.default)(e,"subscription.status",!1)===m.SubscriptionCommonFields.status.ARCHIVED,M=(0,i.default)(e,"subscription.status",!1)===m.SubscriptionCommonFields.status.DEPROVISIONED,k=(0,v.hasResourceUsageMetrics)(e)&&(e.canEdit||e.state!==f.default.WAITING&&e.state!==f.default.PENDING&&e.state!==f.default.INSTALLING),F=w?E.metricsStatusMessages.archived:E.metricsStatusMessages[e.state]||E.metricsStatusMessages.default,x=e.state===f.default.WAITING||e.state===f.default.PENDING||e.state===f.default.INSTALLING||e.state===f.default.ERROR||e.state===f.default.UNINSTALLING||(0,f.hasInflightEgressErrors)(e)&&s,G=`${d.HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY}_${e.id}`,U=!(0,f.hasInflightEgressErrors)(e)&&e.state!==f.default.ERROR&&"true"===localStorage.getItem(G),j=!(0,c.isRestrictedEnv)()&&200===(null==l?void 0:l.status)&&(null==l?void 0:l.data)&&!M&&!w,H=!((0,f.isHibernating)(e)||(0,p.default)(e.subscription)||(0,y.shouldShowLogs)(e)||M||w||(0,c.isRestrictedEnv)()||(0,f.hasInflightEgressErrors)(e)),V=!e.managed&&n.fulfilled&&void 0!==n.data&&!0===n.data&&!M&&!w,q=j||V,z=(0,p.isAvailableAssistedInstallCluster)(e),B=!e.aiCluster||!(0,p.isUninstalledAICluster)(e),W=!M&&!w,$=r.default.createElement(u.Card,{className:"ocm-c-overview-resource-usage__card","data-testid":"resource-usage"},r.default.createElement(u.CardTitle,{className:"ocm-c-overview-resource-usage__card--header"},r.default.createElement(u.Title,{headingLevel:"h2",className:"card-title"},"Resource usage")),r.default.createElement(u.CardBody,{className:"ocm-c-overview-resource-usage__card--body"},r.default.createElement(g.default,{metricsAvailable:k,metricsStatusMessage:F,cpu:{used:e.metrics.cpu.used,total:e.metrics.cpu.total},memory:{used:e.metrics.memory.used,total:e.metrics.memory.total},type:"threshold"})));return r.default.createElement(u.Grid,{hasGutter:!0},r.default.createElement(u.GridItem,{xl2:q?9:12},r.default.createElement(u.Grid,{hasGutter:!0},N&&r.default.createElement(u.Alert,{variant:"success",isInline:!0,title:"Cluster installed successfully"}),U&&r.default.createElement(u.Alert,{variant:"success",isInline:!0,title:"This cluster can now be fully-managed",actionClose:r.default.createElement(u.AlertActionCloseButton,{onClose:()=>{localStorage.removeItem(G),a()}})}),x&&r.default.createElement(b.default,{region:L,refresh:a,cluster:e}),z&&r.default.createElement(P,{permissions:(0,f.getClusterAIPermissions)(e),aiClusterId:e.aiCluster.id}),H&&!q&&$,B&&r.default.createElement(u.Card,{className:"ocm-c-overview-details__card"},r.default.createElement(u.CardTitle,{className:"ocm-c-overview-details__card--header"},r.default.createElement(u.Title,{headingLevel:"h2",className:"card-title"},"Details")),r.default.createElement(u.CardBody,{className:"ocm-c-overview-details__card--body"},r.default.createElement(u.Grid,null,r.default.createElement(u.GridItem,{sm:6},r.default.createElement(_.default,{cluster:e,cloudProviders:t,showAssistedId:z})),r.default.createElement(u.GridItem,{sm:6},r.default.createElement(C.default,{clusterDetailsLoading:R,cluster:O({},e),isDeprovisioned:M,hasAutoscaleCluster:!(null==e||!e.autoscaler)}))),z&&r.default.createElement(D,null))),W&&r.default.createElement(I.default,{subscription:o,canEdit:e.canEdit,canSubscribeOCP:A,isLoading:T||R}))),q&&r.default.createElement(u.GridItem,{xl2:3},r.default.createElement(u.Grid,{hasGutter:!0},H&&r.default.createElement(u.GridItem,{sm:6,xl2:12},$),j&&r.default.createElement(u.GridItem,{sm:6,xl2:12},r.default.createElement(u.Card,{className:"ocm-c-overview-advisor--card",ouiaId:"insightsAdvisor","data-testid":"insights-advisor"},r.default.createElement(u.CardBody,null,r.default.createElement(h.default,{insightsData:l,externalId:null==e?void 0:e.external_id})))),V&&r.default.createElement(u.GridItem,{sm:6,xl2:12},r.default.createElement(S.default,{clusterId:e.external_id})))))}}L.propTypes={cluster:s.default.object,canSubscribeOCP:s.default.bool,subscription:s.default.object,cloudProviders:s.default.object.isRequired,refresh:s.default.func,hasNetworkOndemand:s.default.bool,insightsData:s.default.object,region:s.default.string,clusterDetailsLoading:s.default.bool,isSubscriptionSettingsRequestPending:s.default.bool,userAccess:s.default.shape({data:s.default.bool,pending:s.default.bool,fulfilled:s.default.bool}).isRequired},t.default=L},25539:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(31003),d=a(99851),c=a(54144),m=a(91089),p=l(a(43775)),f=a(59067),E=a(75166),g=l(a(8888));function v(e){let{subscription:t,canEdit:a=!1,canSubscribeOCP:l=!1,isLoading:i}=e;const v=(0,s.useDispatch)();if((0,r.default)(t,"plan.type")!==E.normalizedProducts.OCP)return null;const h=(0,r.default)(t,"status"),b=a&&h!==f.SubscriptionCommonFields.status.ARCHIVED&&h!==f.SubscriptionCommonFields.status.DEPROVISIONED,S=(0,r.default)(t,E.subscriptionSettings.SUPPORT_LEVEL,"Not set");let _=S,C=null;S===f.SubscriptionCommonFields.support_level.EVAL?(_="Self-Support 60-day evaluation",b&&(C=n.default.createElement(d.ExclamationTriangleIcon,{className:"subscription-settings warning-title-icon"}))):S===f.SubscriptionCommonFields.support_level.NONE&&(_="Evaluation expired",b&&(C=n.default.createElement(u.ExclamationCircleIcon,{className:"subscription-settings danger-title-icon"})));const y=(0,r.default)(t,E.subscriptionSettings.CLUSTER_BILLING_MODEL);let I="Not set";y===E.billingModels.STANDARD?I="Annual: Fixed capacity subscription from Red Hat":y===E.billingModels.MARKETPLACE&&(I="On-Demand (Hourly)");const A=(0,r.default)(t,E.subscriptionSettings.USAGE,"Not set"),R=(0,r.default)(t,E.subscriptionSettings.SERVICE_LEVEL);let T="Not set";R===f.SubscriptionCommonFields.service_level.L1_L3?T="Red Hat support (L1-L3)":R===f.SubscriptionCommonFields.service_level.L3_ONLY&&(T="Partner support (L3)");const O=(0,r.default)(t,E.subscriptionSettings.CPU_TOTAL,void 0),P=`${O} core${1===O?"":"s"}`,D=(0,r.default)(t,E.subscriptionSettings.SOCKET_TOTAL,void 0),L=`${D} socket${1===D?"":"s"}`;let N=(0,r.default)(t,E.subscriptionSettings.SYSTEM_UNITS,void 0);void 0===N&&(N=void 0!==O?f.SubscriptionCommonFields.system_units.CORES_V_CPU:void 0!==D?f.SubscriptionCommonFields.system_units.SOCKETS:"Not set");let w="Not set";N===f.SubscriptionCommonFields.system_units.SOCKETS&&void 0!==D?w="Sockets":N===f.SubscriptionCommonFields.system_units.CORES_VCPU&&void 0!==O&&(w="Cores or vCPUs");const M=void 0!==O||void 0!==D,k=N===f.SubscriptionCommonFields.system_units.SOCKETS?"Number of compute sockets":"Number of compute cores",F=N===f.SubscriptionCommonFields.system_units.SOCKETS?L:P;return n.default.createElement(o.Card,{className:"ocm-c-overview-subscription-settings__card"},n.default.createElement(o.CardTitle,{className:"ocm-c-overview-subscription-settings__card--header"},n.default.createElement(o.Title,{headingLevel:"h2",className:"card-title"},"Subscription settings",C)),!l&&n.default.createElement(o.CardBody,null,n.default.createElement(o.Alert,{id:"subscription-settings-contact-sales-alert",variant:"info",isInline:!0,title:"Your organization doesn't have an active subscription. Purchase an OpenShift subscription by contacting sales."},n.default.createElement(g.default,{href:"https://www.redhat.com/en/contact"},"Contact sales"))),n.default.createElement(o.CardBody,{className:"ocm-c-overview-subscription-settings__card--body"},i?n.default.createElement(c.Skeleton,null):n.default.createElement(o.Grid,null,n.default.createElement(o.GridItem,{md:6},n.default.createElement(o.DescriptionList,null,n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Subscription type"),n.default.createElement(o.DescriptionListDescription,null,I)),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Service level agreement (SLA)"),n.default.createElement(o.DescriptionListDescription,null,_)),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Support type"),n.default.createElement(o.DescriptionListDescription,null,T),b&&n.default.createElement(o.DescriptionListDescription,{class:"pf-v5-u-mt-lg"},n.default.createElement(o.Button,{variant:"link",isDisabled:!l,isInline:!0,onClick:()=>{v(m.modalActions.openModal(p.default.EDIT_SUBSCRIPTION_SETTINGS,{subscription:t}))}},"Edit subscription settings"))))),n.default.createElement(o.GridItem,{md:6},n.default.createElement(o.DescriptionList,null,n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Cluster usage"),n.default.createElement(o.DescriptionListDescription,null,A)),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Subscription units"),n.default.createElement(o.DescriptionListDescription,null,w)),M&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,k),n.default.createElement(o.DescriptionListDescription,null,F)))))))}v.propTypes={subscription:i.default.object,canEdit:i.default.bool,canSubscribeOCP:i.default.bool,isLoading:i.default.bool},t.default=v},22493:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(25539));t.default=n.default},89706:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(88139),i=l(a(62193)),s=l(a(5556)),o=a(73729),u=a(97419),d=a(75166),c=l(a(81621)),m=a(3098),p=a(69565),f=a(98002),E=a(49859),g=a(19735),v=a(35777),h=a(41955),b=a(3089),S=l(a(6071)),_=l(a(12200)),C=l(a(55816)),y=a(91089),I=l(a(43775)),A=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=N(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),R=l(a(84083)),T=l(a(85322)),O=l(a(1604)),P=l(a(49294)),D=l(a(68224)),L=a(56723);function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(N=function(e){return e?a:t})(e)}const w=e=>{var t,a,l,s,N,w,M,k,F;let{cluster:x}=e;const G=(0,o.useDispatch)(),U=(0,A.isHypershiftCluster)(x),j=(0,c.default)(x),H=(0,A.isROSA)(x),{data:V,isLoading:q}=(0,f.useGetSchedules)(x.id,U),z=null==V||null===(t=V.items)||void 0===t?void 0:t.some((e=>"automatic"===e.schedule_type)),[B,W]=n.default.useState(!1),[$,Y]=n.default.useState(!1),K=(null==x||null===(a=x.subscription)||void 0===a?void 0:a.plan.type)===d.knownProducts.ARO,Q="read_only"===(null==x||null===(l=x.status)||void 0===l?void 0:l.configuration_mode),Z=(0,A.isHibernating)(x),X=Q&&"This operation is not available during maintenance",J=Z&&"This operation is not available while cluster is hibernating",ee=x.state!==A.default.READY&&"This cluster is not ready",te=X||J,ae=null==x||null===(s=x.subscription)||void 0===s?void 0:s.xcm_id,le=null==x?void 0:x.id,{data:ne}=(0,b.useFetchUpgradeGatesFromApi)(x.managed,ae),{isPending:re,isError:ie,error:se,mutate:oe}=(0,p.useEditSchedule)(le,U,ae),{isPending:ue,isError:de,error:ce,mutate:me}=(0,g.useReplaceSchedule)(le,U,ae),{isPending:pe,isError:fe,error:Ee,mutate:ge}=(0,E.usePostSchedule)(le,U,ae),{isPending:ve,isError:he,error:be,mutate:Se}=(0,m.useDeleteSchedule)(le,U,ae),{isPending:_e,isError:Ce,error:ye,mutate:Ie,isSuccess:Ae}=(0,v.useEditCluster)(le,ae),Re=q||ue||re||pe,Te=null==V?void 0:V.items.find((e=>"automatic"===e.schedule_type));n.default.useEffect((()=>{x.id&&!q&&(0,f.refetchSchedules)()}),[]),n.default.useEffect((()=>{!_e&&Ae&&((0,h.invalidateClusterDetailsQueries)(),(0,f.refetchSchedules)())}),[Ae,z,_e,x.subscription.id,V]);const Oe=()=>{W(!1)},Pe=null==V?void 0:V.items.find((e=>"manual"===e.schedule_type&&e.upgrade_type===(U?"ControlPlane":"OSD"))),De=null==V?void 0:V.items.find((e=>["manual","automatic"].includes(e.schedule_type)&&e.upgrade_type===(U?"ControlPlane":"OSD"))),Le=De&&("started"===(null===(N=De.state)||void 0===N?void 0:N.value)||"delayed"===(null===(w=De.state)||void 0===w?void 0:w.value)),Ne=null==x||null===(M=x.version)||void 0===M?void 0:M.available_upgrades,we=(!!x.openshift_version||!(null==x||null===(k=x.version)||void 0===k||!k.id))&&(null==Ne?void 0:Ne.length)>0&&!De&&!Z,Me=ue||re||ve||_e,ke=!!(X||J||ee),Fe=n.default.createElement(u.Alert,{variant:"info",className:"pf-v5-u-mb-md",isInline:!0,title:"Version updates will not occur while this cluster is Hibernating. Once resumed, updates will start according to the selected updates strategy."});return n.default.createElement(u.Grid,{hasGutter:!0,className:"ocm-c-upgrade-monitoring"},Ce&&n.default.createElement(u.GridItem,null,n.default.createElement(C.default,{response:ye,message:"Error processing request"})),n.default.createElement(r.Formik,{enableReinitialize:!0,initialValues:{upgrade_policy:Te?"automatic":"manual",automatic_upgrade_schedule:(null==Te?void 0:Te.schedule)||"0 0 * * 0",node_drain_grace_period:(null===(F=x.node_drain_grace_period)||void 0===F?void 0:F.value)||60,enable_user_workload_monitoring:!x.disable_user_workload_monitoring||!1},onSubmit:async e=>{const t=V.items.find((e=>"automatic"===e.schedule_type)),a=V.items.find((e=>"manual"===e.schedule_type));if("automatic"===e.upgrade_policy){if(t&&t!==e.automatic_upgrade_schedule)oe({policyID:t.id,schedule:{schedule:e.automatic_upgrade_schedule}},{onSuccess:()=>(0,f.refetchSchedules)()});else if(!t){const t={schedule_type:"automatic",schedule:e.automatic_upgrade_schedule};if(a){const e=a.id;me({oldScheduleID:e,newSchedule:t},{onSuccess:()=>(0,f.refetchSchedules)()})}else ge(t,{onSuccess:()=>(0,f.refetchSchedules)()})}}else if(t){const e=t.id;Se(e,{onSuccess:()=>(0,f.refetchSchedules)()})}const l={};x.node_drain_grace_period!==e.node_drain_grace_period&&(l.node_drain_grace_period={value:e.node_drain_grace_period}),!x.disable_user_workload_monitoring!==e.enable_user_workload_monitoring&&(l.disable_user_workload_monitoring=!e.enable_user_workload_monitoring),(0,i.default)(l)||Ie(l,{onSuccess:()=>(0,h.invalidateClusterDetailsQueries)()})}},(e=>{var t,a,l;return"automatic"===e.values.upgrade_policy&&e.dirty&&!$&&(W(!0),Y(!0)),n.default.createElement(n.default.Fragment,null,!K&&!U&&n.default.createElement(u.GridItem,null,n.default.createElement(u.Card,null,n.default.createElement(u.CardBody,null,n.default.createElement(R.default,{parent:"details",disableUVM:ke,planType:null===(t=x.subscription)||void 0===t||null===(t=t.plan)||void 0===t?void 0:t.type})))),n.default.createElement(u.GridItem,{lg:9,md:12,className:"ocm-c-upgrade-monitoring-top"},n.default.createElement(u.Card,null,n.default.createElement(u.CardTitle,null,"Update strategy"),n.default.createElement(u.CardBody,null,B&&Pe&&n.default.createElement(u.Modal,{variant:"small",title:"Recurring updates",isOpen:!0,onClose:()=>{Oe(),e.resetForm()},actions:[n.default.createElement(u.Button,{key:"confirm",variant:"primary",onClick:Oe},"Yes, cancel scheduled update"),n.default.createElement(u.Button,{key:"cancel",variant:"secondary",onClick:()=>{Oe(),e.resetForm()}},"No, keep scheduled update")]},"By choosing recurring updates, any individually scheduled update will be cancelled. Are you sure you want to continue?"),Z&&Fe,(fe||de||ie)&&n.default.createElement(C.default,{response:Ee||ce||se,message:"Can't schedule upgrade"}),he&&n.default.createElement(C.default,{response:be,message:"Can't unschedule upgrade"}),n.default.createElement(O.default,{isHypershift:U,isSTSEnabled:null==x||null===(a=x.aws)||void 0===a||null===(a=a.sts)||void 0===a?void 0:a.enabled,upgradeGates:ne,schedules:V,cluster:x}),n.default.createElement(T.default,{clusterId:null==x?void 0:x.id,upgradeGates:ne,schedules:V,cluster:x,isHypershift:U}),n.default.createElement(L.UpdateAllMachinePools,{goToMachinePoolTab:!0}),n.default.createElement(u.Form,null,n.default.createElement(u.Grid,{hasGutter:!0},n.default.createElement(P.default,{isDisabled:!!te,initialScheduleValue:e.initialValues.automatic_upgrade_schedule,showDivider:!0,isHypershift:U,product:null==x||null===(l=x.product)||void 0===l?void 0:l.id,isRosa:H})))),n.default.createElement(u.CardFooter,null,n.default.createElement(u.Flex,null,n.default.createElement(u.FlexItem,null,n.default.createElement(_.default,{disableReason:te||!e.dirty&&"No changes to save",isAriaDisabled:Re||Le,variant:"primary",onClick:e.submitForm,isLoading:Me},"Save")),n.default.createElement(u.FlexItem,null,n.default.createElement(_.default,{isDisabled:!e.dirty,variant:"link",onClick:e.resetForm},"Cancel")))))))})),n.default.createElement(u.GridItem,{lg:3,md:12,className:"ocm-c-upgrade-monitoring-top"},n.default.createElement(u.Card,null,n.default.createElement(u.CardTitle,null,"Update status"),n.default.createElement(u.CardBody,null,n.default.createElement(D.default,{clusterID:x.id,canEdit:x.canEdit,clusterVersion:j,scheduledUpgrade:De,availableUpgrades:Ne,upgradeGates:ne,schedules:V,cluster:x}),we&&n.default.createElement(u.Button,{variant:"secondary",onClick:()=>G((0,y.openModal)(I.default.UPGRADE_WIZARD,{clusterName:(0,S.default)(x),subscriptionID:null==x?void 0:x.subscription.id}))},"Update")))))};w.propTypes={cluster:s.default.shape({node_drain_grace_period:s.default.shape({value:s.default.string}),disable_user_workload_monitoring:s.default.bool,aws:s.default.shape({sts:s.default.shape({enabled:s.default.bool})}),managed:s.default.bool,canEdit:s.default.bool,status:s.default.shape({configuration_mode:s.default.string}),openshift_version:s.default.string,id:s.default.string,subscription:s.default.shape({id:s.default.string,plan:s.default.shape({type:s.default.string}),xcm_id:s.default.string}),version:s.default.shape({channel_group:s.default.string,available_upgrades:s.default.arrayOf(s.default.string),raw_id:s.default.string,id:s.default.string}),state:s.default.string,product:s.default.shape({id:s.default.string})})},t.default=w},47956:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(89706));t.default=n.default},28673:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(28895),i=a(5368),s=l(a(60183));t.default=(0,n.connect)(void 0,(()=>(0,r.bindActionCreators)({toggleSubscriptionReleased:i.toggleSubscriptionReleased})))(s.default)},17720:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(95376),s=a(67080),o=a(69304),u=l(a(71299));const d=e=>{const t=(0,i.useParams)(),a=(0,i.useLocation)(),{fetchSubscriptionIDForCluster:l,clearSubscriptionIDForCluster:r,subscriptionIDResponse:d,setGlobalError:c}=e;return n.default.useEffect((()=>(l(t.id),()=>{r()})),[r,l,t]),d.error?404===d.errorCode||403===d.errorCode?(c(n.default.createElement(n.default.Fragment,null,"Cluster with ID ",n.default.createElement("b",null,t.id)," was not found, it might have been deleted or you don't have permission to see it."),"clusterDetails",d.errorMessage),n.default.createElement(o.Navigate,{replace:!0,to:"/cluster-list"})):n.default.createElement(u.default,{message:"Error retrieving cluster details",response:d}):d.fulfilled?n.default.createElement(o.Navigate,{replace:!0,to:`/details/s/${d.id}${a.hash}`}):n.default.createElement(s.Spinner,{centered:!0})};d.propTypes={fetchSubscriptionIDForCluster:r.default.func.isRequired,clearSubscriptionIDForCluster:r.default.func.isRequired,setGlobalError:r.default.func.isRequired,subscriptionIDResponse:r.default.shape({pending:r.default.bool,fulfilled:r.default.bool,error:r.default.bool,errorCode:r.default.number,errorMessage:r.default.string,id:r.default.string}).isRequired},t.default=d},90617:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(9059),i=a(56540),s=l(a(17720));const o={fetchSubscriptionIDForCluster:i.fetchSubscriptionIDForCluster,clearSubscriptionIDForCluster:i.clearSubscriptionIDForCluster,setGlobalError:r.setGlobalError};t.default=(0,n.connect)((e=>({subscriptionIDResponse:e.subscriptions.subscriptionID})),o)(s.default)},83164:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(62193)),i=l(a(47091)),s=l(a(5556)),o=a(97419),u=l(a(67080)),d=a(51513),c=a(33366),m=a(91167),p=a(62384),f=l(a(93413)),E=a(10135),g=a(75166),v=a(22916),h=l(a(55816)),b=l(a(67716)),S=l(a(71299)),_=l(a(6640)),C=l(a(2333)),y=l(a(87814)),I=l(a(62779)),A=l(a(40902)),R=l(a(17779)),T=l(a(96346)),O=l(a(59761)),P=l(a(84573)),D=l(a(60993)),L=l(a(96497)),N=l(a(27963)),w=l(a(4846));a(6469);const M="Cluster List | Red Hat OpenShift Cluster Manager",k=e=>{let{someReadOnly:t,showSpinner:a,error:l,errorMessage:r,anyModalOpen:i,isPendingNoData:s,refresh:d}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(R.default,{someReadOnly:t}),n.default.createElement(o.PageSection,{variant:o.PageSectionVariants.light},n.default.createElement(o.Flex,null,n.default.createElement(o.FlexItem,{grow:{default:"grow"}},n.default.createElement(o.Title,{headingLevel:"h1"},"Cluster List")),n.default.createElement(o.Toolbar,{id:"cluster-list-refresh-toolbar",isFullHeight:!0,inset:{default:"insetNone"}},n.default.createElement(o.ToolbarContent,null,n.default.createElement(o.ToolbarGroup,{variant:"icon-button-group",align:{default:"alignRight"},spacer:{default:"spacerNone",md:"spacerNone"},spaceItems:{default:"spaceItemsMd"}},a&&n.default.createElement(o.ToolbarItem,null,n.default.createElement(u.default,{size:"lg",className:"cluster-list-spinner"})),l&&n.default.createElement(o.ToolbarItem,null,n.default.createElement(I.default,{errorMessage:r,className:"cluster-list-warning"})),n.default.createElement(o.ToolbarItem,{spacer:{default:"spacerNone"}},n.default.createElement(b.default,{autoRefresh:!i,isDisabled:s,refreshFunc:d}))))))))};k.propTypes={someReadOnly:s.default.bool,showSpinner:s.default.bool,error:s.default.bool,errorMessage:s.default.oneOfType([s.default.string,s.default.node]),anyModalOpen:s.default.bool,isPendingNoData:s.default.bool,refresh:s.default.func};const F=e=>{let{getCloudProviders:t,cloudProviders:a,setListFlag:l,getOrganizationAndQuota:s,organization:u,organizationId:b,pendingOrganizationAccessRequests:I,isOrganizationAccessProtectionEnabled:R,getMachineTypes:F,machineTypes:x,onListFlagsSet:G,closeModal:U,getOrganizationPendingAccessRequests:j,resetOrganizationPendingAccessRequests:H,getOrganizationAccessProtection:V,resetOrganizationAccessProtection:q,clearGlobalError:z,clearClusterDetails:B,fetchClusters:W,viewOptions:$,username:Y,error:K,errorCode:Q,errorDetails:Z,valid:X,pending:J,clusters:ee,setSorting:te,openModal:ae,invalidateClusters:le,errorMessage:ne,operationID:re,setClusterDetails:ie,anyModalOpen:se,queryParams:oe,canSubscribeOCPList:ue,canTransferClusterOwnershipList:de,canHibernateClusterList:ce,toggleSubscriptionReleased:me,meta:{clustersServiceError:pe}}=e;const[fe,Ee]=n.default.useState(!1),ge=n.default.useCallback((()=>{W((0,E.createViewQueryObject)($,Y)),b&&!(0,p.isRestrictedEnv)()&&(q(),V(b))}),[W,q,V,b,Y,$]);n.default.useEffect((()=>{(0,p.isRestrictedEnv)()&&G("subscriptionFilter",{plan_id:[g.normalizedProducts.ROSA]},v.viewConstants.CLUSTERS_VIEW);const e=(0,E.getQueryParam)("plan_id")||"";if((0,r.default)(e))ge();else{const t={};g.productFilterOptions.forEach((e=>{t[e.key]=!0}));const a=e.split(",").filter((e=>t[e]));l("subscriptionFilter",{plan_id:a})}return a.fulfilled||a.pending||t(),x.fulfilled||x.pending||F(),u.fulfilled||u.pending||s(),()=>{U(),B(),z("clusterList"),H(),q()}}),[]),n.default.useEffect((()=>{b&&!(0,p.isRestrictedEnv)()&&V(b)}),[V,b]),n.default.useEffect((()=>{R&&b&&j(b)}),[j,R,b]);const ve=(0,m.usePreviousProps)($)||$,he=(0,m.usePreviousProps)(J);n.default.useEffect((()=>{(!X&&!J||(0,E.viewPropsChanged)($,ve))&&(Ee(!0),ge())}),[J,ve,ge,X,$]),n.default.useEffect((()=>{he&&!J&&Ee(!1)}),[J,he]);const{showMyClustersOnly:be,subscriptionFilter:Se}=$.flags,_e=!oe.has_filters&&f.default.nestedIsEmpty(Se),Ce=!(0,i.default)(ee)&&J&&(_e||!X),ye=!Ce&&J&&!fe,Ie=Ce||J&&fe,Ae=!Ce&&!K&&!(0,i.default)(ee)&&_e&&!be,Re=ee.map((e=>{var t;return null==e||null===(t=e.status)||void 0===t?void 0:t.configuration_mode})).includes("read_only"),Te=!Ie;return Ae?n.default.createElement(c.AppPage,{title:M},n.default.createElement(o.PageSection,null,n.default.createElement(A.default,null),n.default.createElement("div",{"data-ready":!0},n.default.createElement(P.default,null)))):n.default.createElement(c.AppPage,{title:M},n.default.createElement(k,{someReadOnly:Re,showSpinner:ye,error:K,errorMessage:ne,anyModalOpen:se,isPendingNoData:Ce,refresh:ge}),n.default.createElement(o.PageSection,null,n.default.createElement(o.Card,null,n.default.createElement("div",{className:"cluster-list","data-ready":Te},n.default.createElement(A.default,null),pe&&n.default.createElement(h.default,{variant:"warning",message:"Some operations are unavailable, try again later",response:pe,isExpandable:!0}),n.default.createElement(o.Toolbar,{id:"cluster-list-toolbar"},n.default.createElement(o.ToolbarContent,null,n.default.createElement(o.ToolbarItem,{className:"ocm-c-toolbar__item-cluster-filter-list"},n.default.createElement(C.default,{isDisabled:Ce,view:v.viewConstants.CLUSTERS_VIEW})),!(0,p.isRestrictedEnv)()&&n.default.createElement(o.ToolbarItem,{className:"ocm-c-toolbar__item-cluster-list-filter-dropdown","data-testid":"cluster-list-filter-dropdown"},n.default.createElement(L.default,{view:v.viewConstants.CLUSTERS_VIEW,isDisabled:J})),n.default.createElement(O.default,null),n.default.createElement(w.default,{view:v.viewConstants.CLUSTERS_VIEW,bodyContent:"Show only the clusters you previously created, or all clusters in your organization.",localStorageKey:d.ONLY_MY_CLUSTERS_TOGGLE_CLUSTERS_LIST}),n.default.createElement(o.ToolbarItem,{align:{default:"alignRight"},variant:"pagination",className:"pf-m-hidden visible-on-lgplus"},n.default.createElement(T.default,{viewType:v.viewConstants.CLUSTERS_VIEW,currentPage:$.currentPage,pageSize:$.pageSize,totalCount:$.totalCount,totalPages:$.totalPages,variant:"top",isDisabled:Ce})))),!(0,p.isRestrictedEnv)()&&n.default.createElement(D.default,{view:v.viewConstants.CLUSTERS_VIEW}),K&&!(0,i.default)(ee)?n.default.createElement(S.default,{message:"Error retrieving clusters",response:{errorMessage:ne,operationID:re,errorCode:Q,errorDetails:Z}}):n.default.createElement(n.default.Fragment,null,n.default.createElement(_.default,{total:I.total,accessRequests:I.items}),n.default.createElement(N.default,{openModal:ae,clusters:ee||[],viewOptions:$,setSorting:te,isPending:Ie,setClusterDetails:ie,canSubscribeOCPList:ue,canHibernateClusterList:ce,canTransferClusterOwnershipList:de,toggleSubscriptionReleased:me,refreshFunc:ge})),n.default.createElement(T.default,{viewType:v.viewConstants.CLUSTERS_VIEW,currentPage:$.currentPage,pageSize:$.pageSize,totalCount:$.totalCount,totalPages:$.totalPages,variant:"bottom",isDisabled:Ce}),n.default.createElement(y.default,{onClose:le,clearMachinePools:!0})))))};F.propTypes={username:s.default.string.isRequired,invalidateClusters:s.default.func.isRequired,fetchClusters:s.default.func.isRequired,setClusterDetails:s.default.func.isRequired,valid:s.default.bool.isRequired,clusters:s.default.array.isRequired,error:s.default.bool.isRequired,errorMessage:s.default.oneOfType([s.default.string,s.default.node,s.default.element]),meta:s.default.shape({clustersServiceError:s.default.shape({errorMessage:s.default.oneOfType([s.default.string,s.default.node,s.default.element]).isRequired,errorDetails:s.default.array,errorCode:s.default.number})}).isRequired,errorDetails:s.default.array,errorCode:s.default.number,pending:s.default.bool.isRequired,viewOptions:s.default.object.isRequired,setSorting:s.default.func.isRequired,getCloudProviders:s.default.func.isRequired,getMachineTypes:s.default.func.isRequired,getOrganizationAndQuota:s.default.func.isRequired,organization:s.default.object.isRequired,organizationId:s.default.string,pendingOrganizationAccessRequests:s.default.object.isRequired,isOrganizationAccessProtectionEnabled:s.default.bool,cloudProviders:s.default.object.isRequired,machineTypes:s.default.object.isRequired,openModal:s.default.func.isRequired,closeModal:s.default.func.isRequired,getOrganizationPendingAccessRequests:s.default.func.isRequired,resetOrganizationPendingAccessRequests:s.default.func.isRequired,getOrganizationAccessProtection:s.default.func.isRequired,resetOrganizationAccessProtection:s.default.func.isRequired,setListFlag:s.default.func.isRequired,operationID:s.default.string,anyModalOpen:s.default.bool,queryParams:s.default.shape({has_filters:s.default.bool}),canHibernateClusterList:s.default.objectOf(s.default.bool),canSubscribeOCPList:s.default.objectOf(s.default.bool),canTransferClusterOwnershipList:s.default.objectOf(s.default.bool),toggleSubscriptionReleased:s.default.func.isRequired,clearGlobalError:s.default.func.isRequired,clearClusterDetails:s.default.func.isRequired,onListFlagsSet:s.default.func.isRequired},t.default=F},61844:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(74353)),i=l(a(58156)),s=l(a(5556)),o=a(97419),u=a(31003),d=a(99851),c=a(48525),m=a(55611),p=a(68720),f=a(59067),E=a(74780),g=a(75166),v=l(a(8888));function h(e){let{cluster:t}=e;const a=(0,i.default)(t,"product.id")===g.normalizedProducts.OSDTRIAL,l=(0,i.default)(t,"managed"),s=(0,i.default)(t,"subscription.support_level"),h=(0,i.default)(t,"subscription");if(a){const e=(0,E.getTrialExpiresInDays)(t,!0),a=(0,E.getTrialEndDate)(t),l=n.default.createElement(n.default.Fragment,null,n.default.createElement("h1",null,n.default.createElement("strong",null,"Trial Cluster")),n.default.createElement("p",null,"Your free trial cluster will automatically be deleted in",e,"on",n.default.createElement("strong",null,a)));return n.default.createElement(o.Popover,{position:o.PopoverPosition.top,"aria-label":"Trial Expiration date",bodyContent:l},n.default.createElement(o.Button,{variant:"link",isInline:!0,icon:n.default.createElement(o.Icon,null,n.default.createElement(d.ExclamationTriangleIcon,{color:m.global_warning_color_100.value}))},e," left"))}if(l||s!==f.SubscriptionCommonFields.support_level.EVAL&&s!==f.SubscriptionCommonFields.support_level.NONE)return(0,i.default)(t,"creation_timestamp",!1)?(0,r.default)(t.creation_timestamp).format("DD MMM YYYY"):"N/A";if(s===f.SubscriptionCommonFields.support_level.NONE)return n.default.createElement(o.Popover,{position:o.PopoverPosition.top,bodyContent:"Your 60-day evaluation has expired. Edit subscription settings to continue using this cluster, or archive this cluster if it no longer exists.","aria-label":"Evaluation expired"},n.default.createElement(o.Button,{variant:"link",isInline:!0,icon:n.default.createElement(o.Icon,null,n.default.createElement(u.ExclamationCircleIcon,{color:c.global_danger_color_100.value}))},"Evaluation expired"));const b=(0,E.getTrialExpiresInDays)(t,!1),S=n.default.createElement(n.default.Fragment,null,n.default.createElement("h1",null,n.default.createElement("strong",null,"OCP Cluster")),n.default.createElement("p",null,"Your OCP cluster evaluation will expire in",b,"on",n.default.createElement("strong",null,n.default.createElement(p.DateFormat,{date:h.eval_expiration_date,type:"onlyDate"})),".Your cluster is not",n.default.createElement(v.default,{href:"https://access.redhat.com/support/policy/updates/openshift/policies",noIcon:!0},"supported"),". To get Red Hat support for clusters, learn more about"," ",n.default.createElement(v.default,{href:"https://www.redhat.com/en/resources/self-managed-openshift-sizing-subscription-guide",noIcon:!0},"OCP subscriptions"),". Though your cluster will be functional."));return n.default.createElement(o.Popover,{position:o.PopoverPosition.top,bodyContent:S,"aria-label":"Trial Expiration date"},n.default.createElement(o.Button,{variant:"link",isInline:!0,icon:n.default.createElement(o.Icon,null,n.default.createElement(d.ExclamationTriangleIcon,{color:m.global_warning_color_100.value}))},b," left"))}h.propTypes={cluster:s.default.shape({managed:s.default.bool,subscription:s.default.shape({support_level:s.default.string}),creation_timestamp:s.default.string})},t.default=h},25948:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(77459)),o=a(69304),u=a(62384);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const c=n.default.createElement(i.DropdownItem,{key:"registercluster","data-testid":"register-cluster-item"},n.default.createElement(o.Link,{to:"/register",className:"pf-v5-c-dropdown__menu-item"},"Register disconnected cluster")),m=n.default.createElement(i.ToolbarItem,{key:"archived",alignSelf:"center"},n.default.createElement(o.Link,{to:"/archived"},"View cluster archives")),p=n.default.createElement(i.DropdownItem,{key:"archived","data-testid":"archived-cluster-item"},n.default.createElement(o.Link,{to:"/archived",className:"pf-v5-c-dropdown__menu-item"},"View cluster archives")),f=n.default.createElement(i.ToolbarItem,{key:"createcluster"},n.default.createElement(o.Link,{to:"/create",role:"button",className:"pf-v5-c-button pf-m-primary","data-testid":"create_cluster_btn"},"Create cluster")),E=n.default.createElement(i.ToolbarItem,{key:"registercluster"},n.default.createElement(o.Link,{to:"/register",rel:"noopener noreferrer"},n.default.createElement(i.Button,{variant:"secondary","data-testid":"register-cluster-item"},"Register cluster"))),g=e=>{let{className:t,isDashboardView:a}=e;const[l,r]=(0,n.useState)(!1),[o,d]=(e=>{const t=(e=>{if("undefined"==typeof window||void 0===window.matchMedia)return!1;const t=window.matchMedia("(min-width: 900px)"),[a,l]=n.default.useState(!!t.matches);return n.default.useEffect((()=>{const e=()=>l(!!t.matches);return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}),[]),a})(),a=[],l=[];return a.push(f),(0,u.isRestrictedEnv)()||(e?t?(a.push(E),l.push(p)):(l.push(c),l.push(p)):t?(a.push(E),a.push(m)):(l.push(c),l.push(p))),[l,a]})(a),g=(0,n.useRef)();return a?n.default.createElement(i.Split,{hasGutter:!0},d.map((e=>n.default.createElement(i.SplitItem,{key:"toolbar"},e))),n.default.createElement(i.SplitItem,{key:"dropdown"},n.default.createElement(i.Dropdown,{"data-testid":"cluster-list-extra-actions-dropdown",isOpen:l,onOpenChange:e=>r(e),className:t,popperProps:{position:"right"},toggle:{toggleRef:g,toggleNode:n.default.createElement(i.MenuToggle,{id:"cluster-list-extra-actions","aria-label":"Actions",ref:g,isExpanded:l,onClick:()=>{r(!l)},variant:"plain"},n.default.createElement(s.default,null))}},n.default.createElement(i.DropdownList,null,o.map((e=>n.default.createElement(i.DropdownItem,{key:e},e))))))):n.default.createElement(n.default.Fragment,null,d,o.length>0&&n.default.createElement(i.ToolbarItem,null,n.default.createElement(i.Dropdown,{"data-testid":"cluster-list-extra-actions-dropdown",isOpen:l,onOpenChange:e=>r(e),className:t,popperProps:{position:"right"},toggle:{toggleRef:g,toggleNode:n.default.createElement(i.MenuToggle,{id:"cluster-list-extra-actions","aria-label":"Actions",ref:g,isExpanded:l,onClick:()=>{r(!l)},variant:"plain"},n.default.createElement(s.default,null))}},n.default.createElement(i.DropdownList,null,o.map((e=>n.default.createElement(i.DropdownItem,{key:e},e)))))))};g.propTypes={className:r.default.string,isDashboardView:r.default.bool},t.default=g},59761:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=l(a(25948));t.default=(0,n.connect)((()=>({})))(r.default)},84573:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(97419),i=a(56862),s=a(69304);t.default=function(){return n.default.createElement(r.EmptyState,{variant:r.EmptyStateVariant.lg,className:"cluster-list-empty-state"},n.default.createElement(r.EmptyStateHeader,{titleText:"Let's create your first cluster",icon:n.default.createElement(r.EmptyStateIcon,{icon:i.PlusCircleIcon}),headingLevel:"h4"}),n.default.createElement(r.EmptyStateBody,null,"You don't have any clusters yet, but you can easily create or register your first OpenShift 4 cluster."),n.default.createElement(r.EmptyStateFooter,null,n.default.createElement(s.Link,{to:"/create"},n.default.createElement(r.Button,{"data-testid":"create_cluster_btn",className:"pf-v5-u-mt-xl"},"Create cluster")),n.default.createElement(r.EmptyStateActions,null,n.default.createElement(s.Link,{to:"/register"},n.default.createElement(r.Button,{variant:"link","data-testid":"register-cluster-item"},"Register cluster")),n.default.createElement(s.Link,{to:"/archived"},n.default.createElement(r.Button,{variant:"link"},"View cluster archives")),n.default.createElement(s.Link,{to:"/assisted-installer"},n.default.createElement(r.Button,{variant:"link"},"Assisted Installer clusters")))))}},87916:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(62193)),s=l(a(5556)),o=a(97419),u=a(69304),d=l(a(93413)),c=a(10135),m=a(75166);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e){let{currentFilters:t,setFilter:a}=e;const l=(0,u.useNavigate)();if(d.default.nestedIsEmpty(t))return null;const n=e=>{l({search:(0,c.buildFilterURLParams)(e)},{replace:!0}),a(e)},s=[{key:"plan_id",label:"Cluster type",options:m.productFilterOptions}];return r.default.createElement(o.Split,{"data-testid":"cluster-list-filter-chipgroup"},r.default.createElement(o.SplitItem,null,r.default.createElement(o.ChipGroup,null,s.map((e=>{const a=t[e.key]||[];return(0,i.default)(a)?null:r.default.createElement(o.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},a.map((l=>{const{label:i}=e.options.find((e=>e.key===l));return r.default.createElement(o.Chip,{key:l,onClick:()=>{n(f(f({},t),{},{[e.key]:a.filter((e=>e!==l))}))}},i)})))})).filter(Boolean))),r.default.createElement(o.SplitItem,null,r.default.createElement(o.Button,{variant:"link",onClick:()=>n({})},"Clear filters")))}E.propTypes={setFilter:s.default.func.isRequired,currentFilters:s.default.objectOf(s.default.arrayOf(s.default.string))},t.default=E},60993:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(27241),i=l(a(87916));t.default=(0,n.connect)(((e,t)=>({currentFilters:e.viewOptions[t.view].flags.subscriptionFilter||{}})),((e,t)=>({setFilter:a=>e((0,r.onListFlagsSet)("subscriptionFilter",a,t.view))})))(i.default)},96497:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(27241),i=l(a(27982));t.default=(0,n.connect)(((e,t)=>({currentFilters:e.viewOptions[t.view].flags.subscriptionFilter||{}})),((e,t)=>({setFilter:a=>e((0,r.onListFlagsSet)("subscriptionFilter",a,t.view))})))(i.default)},27963:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(58156)),s=l(a(5556)),o=a(97419),u=l(a(99851)),d=l(a(57691)),c=a(45646),m=a(55611),p=a(69304),f=l(a(9435)),E=l(a(6071)),g=a(22902),v=a(89538),h=l(a(49422)),b=l(a(30535)),S=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),_=l(a(56859)),C=l(a(71210)),y=l(a(81621)),I=l(a(5505)),A=l(a(53737)),R=l(a(61844));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function P(e){const{viewOptions:t,setSorting:a,clusters:l,openModal:s,isPending:T,setClusterDetails:P,canSubscribeOCPList:D={},canTransferClusterOwnershipList:L={},toggleSubscriptionReleased:N,canHibernateClusterList:w={},refreshFunc:M}=e;if(!(T||l&&0!==l.length))return r.default.createElement(o.EmptyState,null,r.default.createElement(o.EmptyStateHeader,{titleText:"No clusters found.",icon:r.default.createElement(o.EmptyStateIcon,{icon:d.default}),headingLevel:"h4"}),r.default.createElement(o.EmptyStateBody,null,"This filter criteria matches no clusters.",r.default.createElement("br",null),"Try changing your filter settings."));const k=["visibleOnLg","hiddenOnMd","hiddenOnSm"],F={name:{title:"Name",width:30,sortIndex:"display_name"},status:{title:"Status",width:15},type:{title:"Type",width:10},created:{title:"Created",visibility:k,sortIndex:"created_at"},version:{title:"Version",visibility:k},provider:{title:"Provider (Region)",visibility:k},actions:{title:"",screenReaderText:"cluster actions"}},x=Object.keys(F).map(((e,l)=>{return r.default.createElement(c.Th,{width:F[e].width,visibility:F[e].visibility,sort:F[e].sortIndex?(i=l,s=F[e].sortIndex,{sortBy:{index:t.sorting.sortIndex,direction:t.sorting.isAscending?c.SortByDirection.asc:c.SortByDirection.desc},onSort:(e,l,r)=>{const i=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.sorting);i.isAscending=r===c.SortByDirection.asc,i.sortField=s,i.sortIndex=l,a(i)},columnIndex:i}):void 0,key:l},F[e].screenReaderText?r.default.createElement("span",{className:"pf-v5-screen-reader"},F[e].screenReaderText):null,F[e].title);var i,s})),G=(e,t)=>r.default.createElement(p.Link,{to:`/details/s/${e.subscription.id}`,onClick:()=>{e.partialCS||P(e)}},t);return r.default.createElement(c.Table,{"aria-label":"Cluster List"},r.default.createElement(c.Thead,null,r.default.createElement(c.Tr,null,x)),r.default.createElement(c.Tbody,null,T?[...Array(10)].map(((e,t)=>r.default.createElement(c.Tr,{key:`skeleton-row-${t}`},r.default.createElement(c.Td,{colSpan:7},r.default.createElement(o.Skeleton,null))))):l.map((e=>(e=>{var t;const a=(0,i.default)(e,"cloud_provider.id","N/A"),l=G(e,(0,E.default)(e)),n=r.default.createElement("span",null,(0,y.default)(e),r.default.createElement(C.default,{cluster:e,openModal:s,hideOSDUpdates:!0}));return r.default.createElement(c.Tr,{key:e.id},r.default.createElement(c.Td,{dataLabel:F.name.title,visibility:F.name.visibility},l),r.default.createElement(c.Td,{dataLabel:F.status.title,visibility:F.status.visibility},(()=>{var t;if((0,g.isAISubscriptionWithoutMetrics)(e.subscription))return r.default.createElement(f.default,{status:e.state,className:"clusterstate"});const a=(null===(t=e.status)||void 0===t?void 0:t.limited_support_reason_count)>0,{state:l,description:n}=(0,S.getClusterStateAndDescription)(e),i=r.default.createElement(b.default,{clusterState:l||"",animated:!1,limitedSupport:a});return l===S.default.ERROR?r.default.createElement("span",null,r.default.createElement(o.Popover,{position:o.PopoverPosition.top,bodyContent:r.default.createElement(r.default.Fragment,null,"Your cluster is in error state."," ",r.default.createElement("a",{href:"https://access.redhat.com/support/cases/#/case/new",target:"_blank",rel:"noopener noreferrer"},"Contact Red Hat Support")," ","for further assistance."),"aria-label":"Status: Error"},r.default.createElement(o.Button,{className:"cluster-status-string",variant:"link",isInline:!0,icon:i},n))):(0,S.isWaitingROSAManualMode)(e)||(0,S.isWaitingForOIDCProviderOrOperatorRolesMode)(e)||(0,S.isOSDGCPWaitingForRolesOnHostProject)(e)?r.default.createElement(I.default,{cluster:e,icon:r.default.createElement(u.default,{color:m.global_warning_color_100.value})}):l===S.default.WAITING||l===S.default.PENDING||l===S.default.VALIDATING||l===S.default.INSTALLING?r.default.createElement(o.Popover,{headerContent:r.default.createElement("div",null,"Installation status"),position:o.PopoverPosition.top,bodyContent:r.default.createElement(A.default,{cluster:e}),"aria-label":"Status: installing",maxWidth:"38rem"},r.default.createElement(o.Button,{className:"cluster-status-string status-installing",variant:"link",isInline:!0,icon:i},n)):r.default.createElement("span",{className:"cluster-status-string"},i,n,a?G(e,r.default.createElement(o.Label,{color:"red",className:"pf-v5-u-ml-xs"},"Limited support")):null)})()),r.default.createElement(c.Td,{dataLabel:F.type.title,visibility:F.type.visibility},r.default.createElement(_.default,{cluster:e})),r.default.createElement(c.Td,{dataLabel:F.created.title,visibility:F.created.visibility},r.default.createElement(R.default,{cluster:e})),r.default.createElement(c.Td,{dataLabel:F.version.title,visibility:F.version.visibility},n),r.default.createElement(c.Td,{dataLabel:F.provider.title,visibility:F.provider.visibility},r.default.createElement(h.default,{regionID:(0,i.default)(e,"region.id","N/A"),cloudProviderID:a})),r.default.createElement(c.Td,{isActionCell:!0},!T&&e?r.default.createElement(c.ActionsColumn,{items:(0,v.actionResolver)(e,!0,s,D[e.id]||!1,L[e.id]||!1,w[e.id]||!1,N,M,!0,null===(t=e.delete_protection)||void 0===t?void 0:t.enabled)}):null))})(e)))))}P.propTypes={openModal:s.default.func.isRequired,clusters:s.default.array.isRequired,viewOptions:s.default.object.isRequired,setSorting:s.default.func.isRequired,isPending:s.default.bool,setClusterDetails:s.default.func.isRequired,canSubscribeOCPList:s.default.objectOf(s.default.bool),canTransferClusterOwnershipList:s.default.objectOf(s.default.bool),canHibernateClusterList:s.default.objectOf(s.default.bool),toggleSubscriptionReleased:s.default.func.isRequired,refreshFunc:s.default.func.isRequired},t.default=P},19030:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(7019);function o(e){const{isChecked:t,onChange:a,bodyContent:l}=e;return n.default.createElement(i.Switch,{className:"pf-v5-u-ml-lg pf-v5-u-align-items-center",id:"view-only-my-clusters","aria-label":"View only my clusters",label:n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,"View only my clusters"),n.default.createElement(i.Popover,{bodyContent:l,enableFlip:!1},n.default.createElement(i.Button,{variant:"plain"},n.default.createElement(s.OutlinedQuestionCircleIcon,null)))),hasCheckIcon:!0,isChecked:t,onChange:(e,t)=>a(t)})}o.propTypes={isChecked:r.default.bool,onChange:r.default.func.isRequired,bodyContent:r.default.string},o.defaultProps={isChecked:!1,bodyContent:"Show only the clusters you previously created, or all clusters in your organization."},t.default=o},4846:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(22916),i=l(a(19030));t.default=(0,n.connect)(((e,t)=>({isChecked:e.viewOptions[t.view].flags.showMyClustersOnly})),((e,t)=>({onChange:a=>{e({viewType:t.view,type:r.viewOptionsConstants.VIEW_MY_CLUSTERS_ONLY_CHANGED,payload:{showMyClustersOnly:a}}),localStorage.setItem(t.localStorageKey,a)}})))(i.default)},74617:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(43693)),r=a(73729),i=a(30593),s=a(25883),o=a(10138),u=a(24239),d=a(9059),c=a(11912),m=a(5368),p=a(2479),f=a(27241),E=a(22916),g=a(91089),v=l(a(88285)),h=a(71626),b=a(38544),S=l(a(83164));function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const y={invalidateClusters:()=>u.clustersActions.invalidateClusters(),fetchClusters:e=>u.clustersActions.fetchClusters(e),setClusterDetails:u.clustersActions.setClusterDetails,clearClusterDetails:u.clustersActions.clearClusterDetails,setSorting:e=>f.viewActions.onListSortBy(e,E.viewConstants.CLUSTERS_VIEW),setListFlag:(e,t)=>f.viewActions.onListFlagsSet(e,t,E.viewConstants.CLUSTERS_VIEW),getCloudProviders:o.cloudProviderActions.getCloudProviders,getMachineTypes:c.machineTypesActions.getMachineTypes,getOrganizationAndQuota:p.userActions.getOrganizationAndQuota,getOrganizationPendingAccessRequests:s.accessRequestActions.getOrganizationPendingAccessRequests,resetOrganizationPendingAccessRequests:s.accessRequestActions.resetOrganizationPendingAccessRequests,getOrganizationAccessProtection:i.accessProtectionActions.getOrganizationAccessProtection,resetOrganizationAccessProtection:i.accessProtectionActions.resetOrganizationAccessProtection,openModal:g.modalActions.openModal,closeModal:g.modalActions.closeModal,toggleSubscriptionReleased:m.toggleSubscriptionReleased,clearGlobalError:d.clearGlobalError,onListFlagsSet:f.onListFlagsSet};t.A=(0,r.connect)((e=>{var t;return C(C({},e.clusters.clusters),{},{viewOptions:e.viewOptions[E.viewConstants.CLUSTERS_VIEW],username:e.userProfile.keycloakProfile.username,cloudProviders:e.cloudProviders,machineTypes:e.machineTypes,organization:e.userProfile.organization,organizationId:null===(t=e.userProfile)||void 0===t||null===(t=t.organization)||void 0===t||null===(t=t.details)||void 0===t?void 0:t.id,anyModalOpen:!!e.modal.modalName,features:e.features,pendingOrganizationAccessRequests:e.accessRequest.pendingOrganizationAccessRequests,isOrganizationAccessProtectionEnabled:e.accessProtection.organizationAccessProtection.enabled,canSubscribeOCPList:(0,v.default)(e),canHibernateClusterList:(0,h.canHibernateClusterListSelector)(e),canTransferClusterOwnershipList:(0,b.canTransferClusterOwnershipListSelector)(e)})}),y)(S.default)},74975:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(62193)),i=l(a(47091)),s=l(a(5556)),o=a(73729),u=a(97419),d=a(45646),c=a(51513),m=a(33366),p=a(16519),f=a(13647),E=a(22637),g=a(56349),v=a(27241),h=a(67285),b=a(62384),S=l(a(93413)),_=a(10135),C=a(75166),y=a(22916),I=l(a(55816)),A=l(a(71299)),R=l(a(94699)),T=l(a(2333)),O=l(a(87814)),P=l(a(62779)),D=l(a(40902)),L=l(a(17779)),N=l(a(42944)),w=l(a(77684)),M=l(a(84197)),k=l(a(32742)),F=l(a(63504)),x=a(20230),G=a(29015),U=l(a(46823));a(23184);const j="Cluster List | Red Hat OpenShift Cluster Manager",H=e=>{let{someReadOnly:t,showSpinner:a,error:l,refresh:r}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(L.default,{someReadOnly:t}),n.default.createElement(u.PageSection,{variant:u.PageSectionVariants.light},n.default.createElement(u.Flex,null,n.default.createElement(u.FlexItem,{grow:{default:"grow"}},n.default.createElement(u.Title,{headingLevel:"h1"},"Cluster List")),n.default.createElement(u.Toolbar,{id:"cluster-list-refresh-toolbar",isFullHeight:!0,inset:{default:"insetNone"}},n.default.createElement(u.ToolbarContent,null,n.default.createElement(u.ToolbarGroup,{variant:"icon-button-group",align:{default:"alignRight"},spacer:{default:"spacerNone",md:"spacerNone"},spaceItems:{default:"spaceItemsMd"}},a&&n.default.createElement(u.ToolbarItem,null,n.default.createElement(u.Spinner,{size:"lg",className:"cluster-list-spinner","aria-label":"Loading cluster list data"})),l&&n.default.createElement(u.ToolbarItem,null,n.default.createElement(P.default,{className:"cluster-list-warning",item:"clusters"})),n.default.createElement(u.ToolbarItem,{spacer:{default:"spacerNone"}},n.default.createElement(G.RefreshButton,{isDisabled:a,refreshFunc:r}))))))))};H.propTypes={someReadOnly:s.default.bool,showSpinner:s.default.bool,error:s.default.bool,refresh:s.default.func};const V=e=>{var t,a;let{getCloudProviders:l,cloudProviders:s,getOrganizationAndQuota:P,organization:L,getMachineTypes:G,machineTypes:V,closeModal:q,clearGlobalError:z,openModal:B,getMultiRegion:W}=e;const $=(0,o.useDispatch)(),Y=y.viewConstants.CLUSTERS_VIEW,{enabled:K}=(0,p.useGetAccessProtection)({organizationId:null==L||null===(t=L.details)||void 0===t?void 0:t.id}),{total:Q,items:Z}=(0,f.useGetOrganizationalPendingRequests)(null==L||null===(a=L.details)||void 0===a?void 0:a.id,K),{isLoading:X,data:J,refetch:ee,isError:te,errors:ae,isFetching:le,isFetched:ne}=(0,E.useFetchClusters)(!1,W),re=null==J?void 0:J.items,ie=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[Y])||void 0===t?void 0:t.totalCount}));n.default.useEffect((()=>{(!X||(null==J?void 0:J.itemsCount)>0)&&$((0,v.onSetTotalClusters)(null==J?void 0:J.itemsCount,Y))}),[null==J?void 0:J.itemsCount]);const se=(ae||[]).reduce(((e,t)=>t.reason?[...e,`${t.reason}.${t.region?` While getting clusters for ${t.region.region}.`:""}${t.operation_id?` (Operation ID: ${t.operation_id})`:""}`]:e),[]),oe=n.default.useCallback((()=>{ne&&(s.fulfilled||s.pending||l(),V.fulfilled||V.pending||G(),L.fulfilled||L.pending||P())}),[s.fulfilled,s.pending,l,G,P,ne,V.fulfilled,V.pending,L.fulfilled,L.pending]);n.default.useEffect((()=>{oe(),(0,b.isRestrictedEnv)()&&$((0,v.onListFlagsSet)("subscriptionFilter",{plan_id:[C.normalizedProducts.ROSA]},Y));const e=(0,_.getQueryParam)("plan_id")||"";if(!(0,r.default)(e)){const t={};C.productFilterOptions.forEach((e=>{t[e.key]=!0}));const a=e.split(",").filter((e=>t[e]));$((0,v.onListFlagsSet)("subscriptionFilter",{plan_id:a},Y))}return()=>{q(),$(g.clustersActions.clearClusterDetails()),z("clusterList")}}),[]);const ue=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[Y])||void 0===t?void 0:t.currentPage})),de=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[Y])||void 0===t?void 0:t.pageSize})),ce=ue&&de&&ie>0?(ue-1)*de+1:0,me=ue&&de?Math.min(ue*de,ie):0,pe=n.default.useCallback(((e,t)=>{$((0,v.onPageInput)(t,Y))}),[$,Y]);n.default.useEffect((()=>{if(re&&ie<ce&&!X){const e=Math.ceil(ie/de);pe(void 0,e)}}),[re,ce,ue,de,pe,ie,X]);const fe=(e,t,a)=>{$((0,v.onPageInput)(a,Y)),$((0,v.onPerPageSelect)(t,Y,!0))},Ee=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[Y])||void 0===t?void 0:t.sorting})),ge=Ee.sortField,ve=Ee.isAscending?d.SortByDirection.asc:d.SortByDirection.desc,he=(0,o.useSelector)((e=>e.viewOptions.CLUSTERS_VIEW)),{showMyClustersOnly:be,subscriptionFilter:Se}=he.flags,_e=S.default.nestedIsEmpty(Se)&&!be&&!he.filter,Ce=!(0,i.default)(re)&&(X||!ne),ye=le||X,Ie=!ye&&!te&&!(0,i.default)(re)&&_e,Ae=re&&re.map((e=>{var t;return null==e||null===(t=e.status)||void 0===t?void 0:t.configuration_mode})).includes("read_only"),Re=!Ce;return Ie?n.default.createElement(m.AppPage,{title:j},n.default.createElement(u.PageSection,null,n.default.createElement(D.default,null),n.default.createElement("div",{"data-ready":!0},n.default.createElement(w.default,null)))):n.default.createElement(m.AppPage,{title:j},n.default.createElement(H,{someReadOnly:Ae,showSpinner:ye,error:te,errorDetails:se,isPendingNoData:Ce,refresh:ee}),n.default.createElement(u.PageSection,null,n.default.createElement(u.Card,null,n.default.createElement("div",{className:"cluster-list","data-ready":Re},n.default.createElement(D.default,null),te&&re.length>0&&n.default.createElement(I.default,{variant:"warning",message:"Some operations are unavailable, try again later",response:{errorDetails:[{items:se}]},isExpandable:!0,hideOperationID:!0,forceAsAlert:!0}),n.default.createElement(u.Toolbar,{id:"cluster-list-toolbar"},n.default.createElement(u.ToolbarContent,null,n.default.createElement(u.ToolbarItem,{className:"ocm-c-toolbar__item-cluster-filter-list"},n.default.createElement(T.default,{isDisabled:Ce&&_e,view:h.CLUSTERS_VIEW})),(0,b.isRestrictedEnv)()?null:n.default.createElement(u.ToolbarItem,{className:"ocm-c-toolbar__item-cluster-list-filter-dropdown","data-testid":"cluster-list-filter-dropdown"},n.default.createElement(k.default,{view:h.CLUSTERS_VIEW,isDisabled:X||le})),n.default.createElement(N.default,null),n.default.createElement(U.default,{view:h.CLUSTERS_VIEW,bodyContent:"Show only the clusters you previously created, or all clusters in your organization.",localStorageKey:c.ONLY_MY_CLUSTERS_TOGGLE_CLUSTERS_LIST}),n.default.createElement(u.ToolbarItem,{align:{default:"alignRight"},variant:"pagination",className:"pf-m-hidden visible-on-lgplus"},n.default.createElement(x.PaginationRow,{currentPage:ue,pageSize:de,itemCount:ie,variant:"top",isDisabled:Ce,itemsStart:ce,itemsEnd:me,onPerPageSelect:fe,onPageChange:pe})))),(0,b.isRestrictedEnv)()?null:n.default.createElement(M.default,null),te&&!(0,i.default)(re)&&ne?n.default.createElement(A.default,{message:"Error retrieving clusters",response:{errorMessage:"",operationID:"",errorCode:"",errorDetails:se}}):n.default.createElement(n.default.Fragment,null,n.default.createElement(R.default,{total:Q,accessRequests:Z}),n.default.createElement(F.default,{openModal:B,clusters:re||[],isPending:Ce,activeSortIndex:ge,activeSortDirection:ve,setSort:(e,t)=>{const a={isAscending:t===d.SortByDirection.asc,sortField:e};$(v.viewActions.onListSortBy(a,Y))},refreshFunc:ee})),n.default.createElement(x.PaginationRow,{currentPage:ue,pageSize:de,itemCount:ie,variant:"bottom",isDisabled:Ce,itemsStart:ce,itemsEnd:me,onPerPageSelect:fe,onPageChange:pe}),n.default.createElement(O.default,{onClose:()=>ee(),clearMachinePools:!0})))))};V.propTypes={getCloudProviders:s.default.func.isRequired,getMachineTypes:s.default.func.isRequired,getOrganizationAndQuota:s.default.func.isRequired,organization:s.default.object.isRequired,cloudProviders:s.default.object.isRequired,machineTypes:s.default.object.isRequired,openModal:s.default.func.isRequired,closeModal:s.default.func.isRequired,queryParams:s.default.shape({has_filters:s.default.bool}),clearGlobalError:s.default.func.isRequired,getMultiRegion:s.default.bool},V.defaultProps={getMultiRegion:!0},t.default=V},2493:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(74353)),i=l(a(58156)),s=l(a(5556)),o=a(97419),u=a(31003),d=a(99851),c=a(48525),m=a(55611),p=a(68720),f=a(59067),E=a(74780),g=a(75166),v=l(a(8888));function h(e){let{cluster:t}=e;const a=(0,i.default)(t,"product.id")===g.normalizedProducts.OSDTRIAL,l=(0,i.default)(t,"managed"),s=(0,i.default)(t,"subscription.support_level"),h=(0,i.default)(t,"subscription");if(a){const e=(0,E.getTrialExpiresInDays)(t,!0),a=(0,E.getTrialEndDate)(t),l=n.default.createElement(n.default.Fragment,null,n.default.createElement("h1",null,n.default.createElement("strong",null,"Trial Cluster")),n.default.createElement("p",null,"Your free trial cluster will automatically be deleted in",e,"on",n.default.createElement("strong",null,a)));return n.default.createElement(o.Popover,{position:o.PopoverPosition.top,"aria-label":"Trial Expiration date",bodyContent:l},n.default.createElement(o.Button,{variant:"link",isInline:!0,icon:n.default.createElement(o.Icon,null,n.default.createElement(d.ExclamationTriangleIcon,{color:m.global_warning_color_100.value}))},e," left"))}if(l||s!==f.SubscriptionCommonFields.support_level.EVAL&&s!==f.SubscriptionCommonFields.support_level.NONE)return(0,i.default)(t,"creation_timestamp",!1)?(0,r.default)(t.creation_timestamp).format("DD MMM YYYY"):"N/A";if(s===f.SubscriptionCommonFields.support_level.NONE)return n.default.createElement(o.Popover,{position:o.PopoverPosition.top,bodyContent:"Your 60-day evaluation has expired. Edit subscription settings to continue using this cluster, or archive this cluster if it no longer exists.","aria-label":"Evaluation expired"},n.default.createElement(o.Button,{variant:"link",isInline:!0,icon:n.default.createElement(o.Icon,null,n.default.createElement(u.ExclamationCircleIcon,{color:c.global_danger_color_100.value}))},"Evaluation expired"));const b=(0,E.getTrialExpiresInDays)(t,!1),S=n.default.createElement(n.default.Fragment,null,n.default.createElement("h1",null,n.default.createElement("strong",null,"OCP Cluster")),n.default.createElement("p",null,"Your OCP cluster evaluation will expire in",b,"on",n.default.createElement("strong",null,n.default.createElement(p.DateFormat,{date:h.eval_expiration_date,type:"onlyDate"})),".Your cluster is not",n.default.createElement(v.default,{href:"https://access.redhat.com/support/policy/updates/openshift/policies",noIcon:!0},"supported"),". To get Red Hat support for clusters, learn more about"," ",n.default.createElement(v.default,{href:"https://www.redhat.com/en/resources/self-managed-openshift-sizing-subscription-guide",noIcon:!0},"OCP subscriptions"),". Though your cluster will be functional."));return n.default.createElement(o.Popover,{position:o.PopoverPosition.top,bodyContent:S,"aria-label":"Trial Expiration date"},n.default.createElement(o.Button,{variant:"link",isInline:!0,icon:n.default.createElement(o.Icon,null,n.default.createElement(d.ExclamationTriangleIcon,{color:m.global_warning_color_100.value}))},b," left"))}h.propTypes={cluster:s.default.shape({managed:s.default.bool,subscription:s.default.shape({support_level:s.default.string}),creation_timestamp:s.default.string})},t.default=h},42917:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(77459)),o=a(69304),u=a(62384);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const c=n.default.createElement(i.DropdownItem,{key:"registercluster","data-testid":"register-cluster-item"},n.default.createElement(o.Link,{to:"/register",className:"pf-v5-c-dropdown__menu-item"},"Register disconnected cluster")),m=n.default.createElement(i.ToolbarItem,{key:"archived",alignSelf:"center"},n.default.createElement(o.Link,{to:"/archived"},"View cluster archives")),p=n.default.createElement(i.DropdownItem,{key:"archived","data-testid":"archived-cluster-item"},n.default.createElement(o.Link,{to:"/archived",className:"pf-v5-c-dropdown__menu-item"},"View cluster archives")),f=n.default.createElement(i.ToolbarItem,{key:"createcluster"},n.default.createElement(o.Link,{to:"/create",role:"button",className:"pf-v5-c-button pf-m-primary","data-testid":"create_cluster_btn"},"Create cluster")),E=n.default.createElement(i.ToolbarItem,{key:"registercluster"},n.default.createElement(o.Link,{to:"/register",rel:"noopener noreferrer"},n.default.createElement(i.Button,{variant:"secondary","data-testid":"register-cluster-item"},"Register cluster"))),g=e=>{let{className:t,isDashboardView:a}=e;const[l,r]=(0,n.useState)(!1),[o,d]=(e=>{const t=(e=>{if("undefined"==typeof window||void 0===window.matchMedia)return!1;const t=window.matchMedia("(min-width: 900px)"),[a,l]=n.default.useState(!!t.matches);return n.default.useEffect((()=>{const e=()=>l(!!t.matches);return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}),[]),a})(),a=[],l=[];return a.push(f),(0,u.isRestrictedEnv)()||(e?t?(a.push(E),l.push(p)):(l.push(c),l.push(p)):t?(a.push(E),a.push(m)):(l.push(c),l.push(p))),[l,a]})(a),g=(0,n.useRef)();return a?n.default.createElement(i.Split,{hasGutter:!0},d.map((e=>n.default.createElement(i.SplitItem,{key:"toolbar"},e))),n.default.createElement(i.SplitItem,{key:"dropdown"},n.default.createElement(i.Dropdown,{"data-testid":"cluster-list-extra-actions-dropdown",isOpen:l,onOpenChange:e=>r(e),className:t,popperProps:{position:"right"},toggle:{toggleRef:g,toggleNode:n.default.createElement(i.MenuToggle,{id:"cluster-list-extra-actions","aria-label":"Actions",ref:g,isExpanded:l,onClick:()=>{r(!l)},variant:"plain"},n.default.createElement(s.default,null))}},n.default.createElement(i.DropdownList,null,o.map((e=>n.default.createElement(i.DropdownItem,{key:e},e))))))):n.default.createElement(n.default.Fragment,null,d,o.length>0&&n.default.createElement(i.ToolbarItem,null,n.default.createElement(i.Dropdown,{"data-testid":"cluster-list-extra-actions-dropdown",isOpen:l,onOpenChange:e=>r(e),className:t,popperProps:{position:"right"},toggle:{toggleRef:g,toggleNode:n.default.createElement(i.MenuToggle,{id:"cluster-list-extra-actions","aria-label":"Actions",ref:g,isExpanded:l,onClick:()=>{r(!l)},variant:"plain"},n.default.createElement(s.default,null))}},n.default.createElement(i.DropdownList,null,o.map((e=>n.default.createElement(i.DropdownItem,{key:e},e)))))))};g.propTypes={className:r.default.string,isDashboardView:r.default.bool},t.default=g},42944:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=l(a(42917));t.default=(0,n.connect)((()=>({})))(r.default)},77684:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(97419),i=a(56862),s=a(69304);t.default=function(){return n.default.createElement(r.EmptyState,{variant:r.EmptyStateVariant.lg,className:"cluster-list-empty-state"},n.default.createElement(r.EmptyStateHeader,{titleText:"Let's create your first cluster",icon:n.default.createElement(r.EmptyStateIcon,{icon:i.PlusCircleIcon}),headingLevel:"h4"}),n.default.createElement(r.EmptyStateBody,null,"You don't have any clusters yet, but you can easily create or register your first OpenShift 4 cluster."),n.default.createElement(r.EmptyStateFooter,null,n.default.createElement(s.Link,{to:"/create"},n.default.createElement(r.Button,{"data-testid":"create_cluster_btn",className:"pf-v5-u-mt-xl"},"Create cluster")),n.default.createElement(r.EmptyStateActions,null,n.default.createElement(s.Link,{to:"/register"},n.default.createElement(r.Button,{variant:"link","data-testid":"register-cluster-item"},"Register cluster")),n.default.createElement(s.Link,{to:"/archived"},n.default.createElement(r.Button,{variant:"link"},"View cluster archives")),n.default.createElement(s.Link,{to:"/assisted-installer"},n.default.createElement(r.Button,{variant:"link"},"Assisted Installer clusters")))))}},84197:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(62193)),s=a(73729),o=a(97419),u=a(69304),d=a(27241),c=a(67285),m=l(a(93413)),p=a(10135),f=a(75166);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=function(){const e=(0,u.useNavigate)(),t=(0,s.useDispatch)(),a=(0,s.useSelector)((e=>e.viewOptions[c.CLUSTERS_VIEW].flags.subscriptionFilter))||{};if(m.default.nestedIsEmpty(a))return null;const l=a=>{e({search:(0,p.buildFilterURLParams)(a)},{replace:!0}),(e=>{t((0,d.onListFlagsSet)("subscriptionFilter",e,c.CLUSTERS_VIEW))})(a)},n=[{key:"plan_id",label:"Cluster type",options:f.productFilterOptions}];return r.default.createElement(o.Split,{"data-testid":"cluster-list-filter-chipgroup"},r.default.createElement(o.SplitItem,null,r.default.createElement(o.ChipGroup,null,n.map((e=>{const t=a[e.key]||[];return(0,i.default)(t)?null:r.default.createElement(o.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},t.map((n=>{const{label:i}=e.options.find((e=>e.key===n));return r.default.createElement(o.Chip,{key:n,onClick:()=>{l(g(g({},a),{},{[e.key]:t.filter((e=>e!==n))}))}},i)})))})).filter(Boolean))),r.default.createElement(o.SplitItem,null,r.default.createElement(o.Button,{variant:"link",onClick:()=>l({})},"Clear filters")))}},32742:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(27241),i=l(a(25115));t.default=(0,n.connect)(((e,t)=>({currentFilters:e.viewOptions[t.view].flags.subscriptionFilter||{}})),((e,t)=>({setFilter:a=>e((0,r.onListFlagsSet)("subscriptionFilter",a,t.view))})))(i.default)},63504:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.sortColumns=t.default=t.columns=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(73729),o=a(97419),u=l(a(99851)),d=l(a(57691)),c=a(45646),m=a(55611),p=a(69304),f=l(a(9435)),E=l(a(7028)),g=a(11243),v=a(5368),h=a(976),b=l(a(6071)),S=a(22902),_=a(89538),C=l(a(30535)),y=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),I=l(a(56859)),A=l(a(71210)),R=a(88285),T=l(a(81621)),O=a(71626),P=l(a(5505)),D=l(a(53737)),L=a(38544),N=a(8693),w=l(a(2493));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}const k=t.sortColumns={Name:"display_name",Created:"created_at",Status:"status",Type:"type",Provider:"provider",Version:"version"},F=["visibleOnLg","hiddenOnMd","hiddenOnSm"],x=t.columns={name:{title:"Name",width:30,sortIndex:k.Name,apiSortOption:!0},status:{title:"Status",width:15,sortIndex:k.Status},type:{title:"Type",width:10,sortIndex:k.Type},created:{title:"Created",visibility:F,sortIndex:k.Created,apiSortOption:!0},version:{title:"Version",visibility:F,sortIndex:k.Version},provider:{title:"Provider (Region)",visibility:F,sortIndex:k.Provider},actions:{title:"",screenReaderText:"cluster actions"}};function G(e){const{clusters:t,openModal:a,isPending:l,activeSortIndex:i,activeSortDirection:M,setSort:k,refreshFunc:F}=e,G=(0,g.useFeatureGate)(h.MULTIREGION_PREVIEW_ENABLED),U=(0,s.useDispatch)(),j=(0,R.canSubscribeOCPListFromClusters)(t),H=(0,L.canTransferClusterOwnershipListFromClusters)(t),V=(0,O.useCanHibernateClusterListFromClusters)(t);if(!(l||t&&0!==t.length))return n.default.createElement(o.EmptyState,null,n.default.createElement(o.EmptyStateHeader,{titleText:"No clusters found.",icon:n.default.createElement(o.EmptyStateIcon,{icon:d.default}),headingLevel:"h4"}),n.default.createElement(o.EmptyStateBody,null,"This filter criteria matches no clusters.",n.default.createElement("br",null),"Try changing your filter settings."));const q=Object.keys(x).map(((e,t)=>{const a=x[e],l=a.sortIndex&&a.apiSortOption?(r=a.sortIndex,{sortBy:{index:i,direction:M,defaultDirection:c.SortByDirection.asc},onSort:(e,t,a)=>{k(t,a)},columnIndex:r}):void 0;var r;return n.default.createElement(c.Th,{width:a.width,visibility:a.visibility,sort:l,key:t},a.screenReaderText?n.default.createElement("span",{className:"pf-v5-screen-reader"},a.screenReaderText):null,a.title)})),z=(e,t)=>n.default.createElement(p.Link,{to:`/details/s/${e.subscription.id}`},t);return n.default.createElement(c.Table,{"aria-label":"Cluster List"},n.default.createElement(c.Thead,null,n.default.createElement(c.Tr,null,q)),n.default.createElement(c.Tbody,{"data-testid":"clusterListTableBody"},l?[...Array(10).keys()].map((e=>n.default.createElement(c.Tr,{key:e,"data-testid":"skeleton"},n.default.createElement(c.Td,{colSpan:7},n.default.createElement(o.Skeleton,{screenreaderText:"loading cluster"}))))):t.map((e=>(e=>{var t;const i=(0,r.default)(e,"cloud_provider.id","N/A"),s=z(e,(0,b.default)(e)),d=n.default.createElement("span",null,(0,T.default)(e),n.default.createElement(A.default,{cluster:e,openModal:a,hideOSDUpdates:!0}));return n.default.createElement(c.Tr,{key:e.id},n.default.createElement(c.Td,{dataLabel:x.name.title,visibility:x.name.visibility},s),n.default.createElement(c.Td,{dataLabel:x.status.title,visibility:x.status.visibility},(()=>{var t;if((0,S.isAISubscriptionWithoutMetrics)(e.subscription))return n.default.createElement(f.default,{status:e.state,className:"clusterstate"});const a=(null===(t=e.status)||void 0===t?void 0:t.limited_support_reason_count)>0,{state:l,description:r}=(0,y.getClusterStateAndDescription)(e),i=n.default.createElement(C.default,{clusterState:l||"",animated:!1,limitedSupport:a});return l===y.default.ERROR?n.default.createElement("span",null,n.default.createElement(o.Popover,{position:o.PopoverPosition.top,bodyContent:n.default.createElement(n.default.Fragment,null,"Your cluster is in error state."," ",n.default.createElement("a",{href:"https://access.redhat.com/support/cases/#/case/new",target:"_blank",rel:"noopener noreferrer"},"Contact Red Hat Support")," ","for further assistance."),"aria-label":"Status: Error"},n.default.createElement(o.Button,{className:"cluster-status-string",variant:"link",isInline:!0,icon:i},r))):(0,y.isWaitingROSAManualMode)(e)||(0,y.isWaitingForOIDCProviderOrOperatorRolesMode)(e)||(0,y.isOSDGCPWaitingForRolesOnHostProject)(e)?n.default.createElement(P.default,{cluster:e,icon:n.default.createElement(u.default,{color:m.global_warning_color_100.value})}):l===y.default.WAITING||l===y.default.PENDING||l===y.default.VALIDATING||l===y.default.INSTALLING?n.default.createElement(o.Popover,{headerContent:n.default.createElement("div",null,"Installation status"),position:o.PopoverPosition.top,bodyContent:n.default.createElement(D.default,{cluster:e}),"aria-label":"Status: installing",maxWidth:"38rem"},n.default.createElement(o.Button,{className:"cluster-status-string status-installing",variant:"link",isInline:!0,icon:i},r)):n.default.createElement("span",{className:"cluster-status-string"},i,r,a?z(e,n.default.createElement(o.Label,{color:"red",className:"pf-v5-u-ml-xs"},"Limited support")):null)})()),n.default.createElement(c.Td,{dataLabel:x.type.title,visibility:x.type.visibility},n.default.createElement(I.default,{cluster:e})),n.default.createElement(c.Td,{dataLabel:x.created.title,visibility:x.created.visibility},n.default.createElement(w.default,{cluster:e})),n.default.createElement(c.Td,{dataLabel:x.version.title,visibility:x.version.visibility},d),n.default.createElement(c.Td,{dataLabel:x.provider.title,visibility:x.provider.visibility},n.default.createElement(N.ClusterLocationLabel,{regionID:(0,r.default)(e,"region.id","N/A"),cloudProviderID:i})),n.default.createElement(c.Td,{isActionCell:!0},l||!e||G&&E.default.multiRegion?null:n.default.createElement(c.ActionsColumn,{items:(0,_.actionResolver)(e,!0,a,j[e.id]||!1,H[e.id]||!1,V[e.id]||!1,((e,t)=>U((0,v.toggleSubscriptionReleased)(e,t))),F,!0,null===(t=e.delete_protection)||void 0===t?void 0:t.enabled)})))})(e)))))}G.propTypes={openModal:i.default.func.isRequired,clusters:i.default.array.isRequired,activeSortIndex:i.default.string,activeSortDirection:i.default.string,setSort:i.default.func,isPending:i.default.bool,refreshFunc:i.default.func.isRequired},t.default=G},52687:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(7019);function o(e){const{isChecked:t,onChange:a,bodyContent:l}=e;return n.default.createElement(i.Switch,{className:"pf-v5-u-ml-lg pf-v5-u-align-items-center",id:"view-only-my-clusters","aria-label":"View only my clusters",label:n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,"View only my clusters"),n.default.createElement(i.Popover,{bodyContent:l,enableFlip:!1},n.default.createElement(i.Button,{variant:"plain"},n.default.createElement(s.OutlinedQuestionCircleIcon,null)))),hasCheckIcon:!0,isChecked:t,onChange:(e,t)=>a(t)})}o.propTypes={isChecked:r.default.bool,onChange:r.default.func.isRequired,bodyContent:r.default.string},o.defaultProps={isChecked:!1,bodyContent:"Show only the clusters you previously created, or all clusters in your organization."},t.default=o},46823:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(22916),i=l(a(52687));t.default=(0,n.connect)(((e,t)=>({isChecked:e.viewOptions[t.view].flags.showMyClustersOnly})),((e,t)=>({onChange:a=>{e({viewType:t.view,type:r.viewOptionsConstants.VIEW_MY_CLUSTERS_ONLY_CHANGED,payload:{showMyClustersOnly:a}}),localStorage.setItem(t.localStorageKey,a)}})))(i.default)},98759:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=a(73729),r=a(10138),i=a(9059),s=a(11912),o=a(2479),u=a(91089),d=l(a(74975));const c={getCloudProviders:r.cloudProviderActions.getCloudProviders,getMachineTypes:s.machineTypesActions.getMachineTypes,getOrganizationAndQuota:o.userActions.getOrganizationAndQuota,openModal:u.modalActions.openModal,closeModal:u.modalActions.closeModal,clearGlobalError:i.clearGlobalError};t.A=(0,n.connect)((e=>({cloudProviders:e.cloudProviders,machineTypes:e.machineTypes,organization:e.userProfile.organization})),c)(d.default)},89356:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(86161),u=a(69304),d=a(76884),c=a(54830),m=a(62384);const p=e=>r.default.createElement(u.Link,(0,n.default)({},e,{to:"/quota"})),f=e=>{let{hasOSDQuota:t,trialEnabled:a}=e;return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.PageSection,null,r.default.createElement(s.Stack,{hasGutter:!0},r.default.createElement(s.StackItem,null,r.default.createElement(s.Title,{headingLevel:"h2"},"Managed services")),r.default.createElement(s.StackItem,null,"Create clusters in the cloud using a managed service.",r.default.createElement(d.ManagedServicesTable,{hasOSDQuota:t,isTrialEnabled:a}),!(0,m.isRestrictedEnv)()&&r.default.createElement(s.Button,{variant:s.ButtonVariant.link,id:"subscriptions",component:p},"View your available OpenShift Dedicated quota ",r.default.createElement(o.ArrowRightIcon,null))))),!(0,m.isRestrictedEnv)()&&r.default.createElement(s.PageSection,null,r.default.createElement(s.Stack,{hasGutter:!0},r.default.createElement(s.StackItem,null,r.default.createElement(s.Title,{headingLevel:"h2"},"Run it yourself")),r.default.createElement(s.StackItem,null,"Run OpenShift clusters on your own by installing from another cloud provider.",r.default.createElement(c.RunItYourselfTable,null)))))};t.default=f,f.propTypes={hasOSDQuota:i.default.bool.isRequired,trialEnabled:i.default.bool.isRequired}},7167:(e,t)=>{"use strict";t.A=void 0,t.A={OSD_LEARN_MORE:"https://cloud.redhat.com/products/dedicated/",IBM_CLOUD_LEARN_MORE:"https://www.ibm.com/cloud/openshift",IBM_CLOUD:"https://cloud.ibm.com/kubernetes/catalog/create?platformType=openshift",AZURE:"https://azure.microsoft.com/en-us/services/openshift",AWS:"https://cloud.redhat.com/products/amazon-openshift"}},57536:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(68028),o=a(92731),u=a(40718),d=a(67080),c=a(69304),m=a(33366),p=a(62384),f=a(93413),E=l(a(7691)),g=l(a(65824)),v=l(a(89356)),h=l(a(85019)),b=l(a(58365));a(55233);const S={cloud:0,datacenter:1,local:2},_=Object.entries(S).reduce(((e,t)=>{const[a,l]=t;return e[l]=a,e}),{}),C=e=>{let{getOrganizationAndQuota:t,organization:a,getAuthToken:l,hasOSDQuota:r,hasOSDTrialQuota:C,rosaCreationWizardFeature:y,token:I,activeTab:A}=e;const R=(0,c.useNavigate)();n.default.useEffect((()=>{(0,f.shouldRefetchQuota)(a)&&t(),l()}),[]);const T=S[A]||0,O=n.default.createElement(g.default,{title:"Select an OpenShift cluster type to create",breadcrumbs:n.default.createElement(E.default,{path:[{label:"Cluster List"},{label:"Cluster Type"}]})}),P=e=>{switch(e){case 0:return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.TabTitleIcon,null,n.default.createElement(s.CloudIcon,null)),n.default.createElement(i.TabTitleText,null,"Cloud"));case 1:return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.TabTitleIcon,null,n.default.createElement(u.ServerIcon,null)),n.default.createElement(i.TabTitleText,null,"Datacenter"));case 2:return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.TabTitleIcon,null,n.default.createElement(o.LaptopIcon,null)),n.default.createElement(i.TabTitleText,null,"Local"));default:return null}},D=a.fulfilled||a.error;return n.default.createElement(m.AppPage,{title:"Create an OpenShift cluster | Red Hat OpenShift Cluster Manager"},D?n.default.createElement(n.default.Fragment,null,O,n.default.createElement(i.PageSection,{variant:"light",className:"cluster-create-page"},n.default.createElement(i.Tabs,{isFilled:!0,activeKey:T,onSelect:(e,t)=>{const a=_[t];R(`/create/${a}`)}},[n.default.createElement(i.Tab,{eventKey:0,title:P(0)},n.default.createElement(v.default,{hasOSDQuota:r,rosaCreationWizardFeature:y,trialEnabled:C})),...(0,p.isRestrictedEnv)()?[]:[n.default.createElement(i.Tab,{eventKey:1,title:P(1)},n.default.createElement(h.default,null)),n.default.createElement(i.Tab,{eventKey:2,title:P(2)},n.default.createElement(b.default,{token:I}))]]))):n.default.createElement(n.default.Fragment,null,O,n.default.createElement(i.PageSection,{variant:"light"},n.default.createElement(d.Spinner,{centered:!0}))))};C.propTypes={hasOSDQuota:r.default.bool.isRequired,hasOSDTrialQuota:r.default.bool.isRequired,rosaCreationWizardFeature:r.default.bool,organization:r.default.shape({fulfilled:r.default.bool,error:r.default.bool}).isRequired,getOrganizationAndQuota:r.default.func.isRequired,token:r.default.object.isRequired,getAuthToken:r.default.func.isRequired,activeTab:r.default.string},t.default=C},85019:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(97419),i=l(a(7019)),s=a(36509),o=a(69304);const u=["Infrastructure provider","Installation options"],d=[[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/metal"},"Bare Metal (x86_64)")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/arm"},"Bare Metal (ARM)")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/azure-stack-hub"},"Azure Stack Hub")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/ibmz"},"IBM Z (s390x)")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/power"},"IBM Power (ppc64le)")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/nutanix"},"Nutanix AOS")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/openstack"},"Red Hat OpenStack")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/vsphere"},"vSphere")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/platform-agnostic"},"Platform agnostic (x86_64)")),"Pre-existing infrastructure"]];t.default=()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(r.PageSection,{variant:"light",className:"pf-v5-u-p-lg"},n.default.createElement(r.Stack,{hasGutter:!0},n.default.createElement(r.StackItem,null,n.default.createElement(r.Title,{headingLevel:"h2",className:"ocm-ocp-datacenter-title"},"Assisted Installer")),n.default.createElement(r.StackItem,null,"The easiest way to install OpenShift on your own infrastructure with step-by-step guidance, preflight validations, and smart defaults. This method supports multiple architectures."),n.default.createElement(r.StackItem,null,n.default.createElement(r.Split,{hasGutter:!0},n.default.createElement(r.SplitItem,null,n.default.createElement(r.Button,{component:o.Link,to:"/assisted-installer/clusters/~new"},"Create cluster")),n.default.createElement(r.SplitItem,{className:"pf-v5-u-align-self-center"},n.default.createElement(o.Link,{to:"/install/metal/agent-based"},"Run Agent-based Installer locally"),n.default.createElement(r.Popover,{bodyContent:"Runs Assisted Installer securely and locally to create clusters in disconnected or air-gapped environments."},n.default.createElement(r.Button,{variant:"plain",onClick:e=>e.preventDefault()},n.default.createElement(i.default,null)))))))),n.default.createElement(r.PageSection,null,n.default.createElement(r.Stack,{hasGutter:!0},n.default.createElement(r.StackItem,null,n.default.createElement(r.Title,{headingLevel:"h2"},"Other datacenter options")),n.default.createElement(r.StackItem,null,"Create clusters on supported infrastructure using our extensive documentation and installer program."),n.default.createElement(r.StackItem,null,n.default.createElement(s.Table,{className:"install-options-table","aria-label":"Installation options table",cells:u,rows:d},n.default.createElement(s.TableHeader,null),n.default.createElement(s.TableBody,null))))))},58365:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(40167),o=a(9296),u=l(a(94538)),d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(65702)),c=l(a(11777)),m=l(a(94974)),p=l(a(41612)),f=l(a(79132)),E=l(a(6473));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}const v=window.location.pathname,h=d.default.INSTALL_CRC_GETTING_STARTED,b=e=>{let{token:t}=e;const a=(0,u.default)();return n.default.createElement(i.PageSection,{className:"pf-v5-u-p-lg"},n.default.createElement(i.Split,{hasGutter:!0},n.default.createElement(i.Title,{headingLevel:"h2"},"Red Hat OpenShift Local"),n.default.createElement(i.SplitItem,null,n.default.createElement(i.Label,{variant:"outline"},"local sandbox"))),n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:"p"},"Create a minimal cluster on your desktop/laptop for local development and testing."),n.default.createElement(i.Text,{component:"p",className:"ocm-secondary-text"},n.default.createElement("b",null,"Note: "),"Your OpenShift Local installation won't appear in the OpenShift Cluster Manager unless you enable cluster monitoring and telemetry.")),n.default.createElement(i.Divider,{className:"pf-v5-u-mt-lg pf-v5-u-mb-xl"}),t.error&&n.default.createElement(n.default.Fragment,null,n.default.createElement(E.default,{token:t}),n.default.createElement("div",{className:"pf-v5-u-mb-lg"})),n.default.createElement(m.default,null,n.default.createElement(c.default,null,n.default.createElement(i.Text,{component:"h3"},"Download what you need to get started"),n.default.createElement(i.Text,{component:"h4"},"OpenShift Local"),n.default.createElement(p.default,{tool:d.tools.CRC,channel:d.channels.STABLE,pendoID:v}),n.default.createElement(i.Text,{component:"h3"},"Pull secret"),n.default.createElement(f.default,{token:t,pendoID:v})),n.default.createElement(c.default,null,n.default.createElement(i.Text,{component:"h3"},"Follow the documentation to install OpenShift Local"),n.default.createElement(i.Text,{component:"p"},"Run ",n.default.createElement("code",null,"crc setup")," to set up your host operating system for the OpenShift Local virtual machine."),n.default.createElement(i.Text,{component:"p"},"Then, run ",n.default.createElement("code",null,"crc start")," to create a minimal OpenShift 4 cluster on your computer."),n.default.createElement(i.Text,{component:"p"},n.default.createElement("a",{href:h,rel:"noreferrer noopener",target:"_blank",onClick:()=>{a(o.trackEvents.CRCInstallDocumentation,{url:h,path:v})}},"View the OpenShift Local Getting started guide"," ",n.default.createElement(i.Icon,{size:"sm"},n.default.createElement(s.ExternalLinkAltIcon,{color:"#0066cc"})))))))};b.propTypes={token:r.default.object.isRequired},t.default=b},52025:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=a(73729),r=a(75166),i=a(56349),s=a(2479),o=a(91089),u=a(98229),d=l(a(57536));t.A=(0,n.connect)((e=>({hasOSDQuota:(0,u.hasManagedQuotaSelector)(e.userProfile.organization.quotaList,r.normalizedProducts.OSD),hasOSDTrialQuota:(0,u.hasManagedQuotaSelector)(e.userProfile.organization.quotaList,r.normalizedProducts.OSDTRIAL),organization:e.userProfile.organization,token:e.tollbooth.token})),(()=>e=>({openModal:()=>e(o.modalActions.openModal),getAuthToken:()=>e(i.tollboothActions.createAuthToken()),getOrganizationAndQuota:()=>e((0,s.getOrganizationAndQuota)())})))(d.default)},41461:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(67080);class o extends n.default.Component{componentDidMount(){const{url:e}=this.props;window.location.replace(e)}render(){return n.default.createElement(i.Bullseye,null,n.default.createElement(s.Spinner,{size:"lg",centered:!0}))}}o.propTypes={url:r.default.string.isRequired},t.default=o},47184:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.composeRuleId=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(95376),s=a(22831),o=a(97419),u=a(67080),d=a(69304),c=l(a(41461));const m=(e,t)=>encodeURIComponent(`${decodeURIComponent(e).replace(/\|/g,".").split(".report")[0]}|${decodeURIComponent(t)}`);t.composeRuleId=m;const p=e=>{var t;const a=(0,i.useParams)(),l=(0,i.useLocation)(),{clusterDetails:r,fetchClusterDetails:p,setGlobalError:f}=e;n.default.useEffect((()=>{r.fulfilled||!a.id||(0,s.validate)(a.id)||p(a.id)}),[null==r?void 0:r.fulfilled,null==a?void 0:a.id]);const E=null!=a&&a.id&&(0,s.validate)(a.id)?a.id:null==r||null===(t=r.cluster)||void 0===t?void 0:t.external_id,g=l.pathname;if(E){if((0,i.matchPath)({path:`${d.ocmBaseName}/details/:clusterId`,end:!0},g)||(0,i.matchPath)({path:`${d.ocmBaseName}/details/s/:id`,end:!0},g))return n.default.createElement(c.default,{url:`${d.advisorBaseName}/clusters/${E}`});if((0,i.matchPath)({path:`${d.ocmBaseName}/details/:id/insights/:reportId/:errorKey`,end:!0},g)||(0,i.matchPath)({path:`${d.ocmBaseName}/details/s/:id/insights/:reportId/:errorKey`,end:!0},g)){const{reportId:e,errorKey:t}=a,l=m(e,t);return n.default.createElement(c.default,{url:`${d.advisorBaseName}/clusters/${E}?first=${l}`})}}return r.error?(f(n.default.createElement(n.default.Fragment,null,"Cluster with the subscription ID ",n.default.createElement("b",null,null==a?void 0:a.id)," was not found, it might have been deleted or you don't have permission to see it."),"clusterDetails",null==r?void 0:r.errorMessage),n.default.createElement(d.Navigate,{replace:!0,to:"/cluster-list"})):r.fulfilled&&!E?(f(n.default.createElement(n.default.Fragment,null,"There is no external ID for the cluster with the ",n.default.createElement("b",null,null==a?void 0:a.id)," subscription ID."),"clusterDetails",null==r?void 0:r.errorMessage),n.default.createElement(d.Navigate,{replace:!0,to:"/cluster-list"})):n.default.createElement(o.Bullseye,null,n.default.createElement(u.Spinner,{size:"lg",centered:!0}))};p.propTypes={fetchClusterDetails:r.default.func.isRequired,clusterDetails:r.default.shape({cluster:r.default.object,error:r.default.bool,errorCode:r.default.oneOfType([r.default.number,r.default.string]),errorMessage:r.default.oneOfType([r.default.string,r.default.node,r.default.element]),fulfilled:r.default.bool,history:r.default.object}),setGlobalError:r.default.func.isRequired},t.default=p},34158:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(24239),i=a(9059),s=l(a(47184));const o={fetchClusterDetails:r.fetchClusterDetails,setGlobalError:i.setGlobalError};t.default=(0,n.connect)((e=>({clusterDetails:e.clusters.details})),o)(s.default)},50772:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(55816)),o=l(a(28592)),u=l(a(43775));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}class c extends n.Component{componentDidUpdate(){const{archiveClusterResponse:e,resetResponse:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}render(){const{closeModal:e,submit:t,archiveClusterResponse:a,resetResponse:l,subscriptionID:r,name:u,shouldDisplayClusterName:d}=this.props,c=()=>{l(),e()},m=a.error?n.default.createElement(s.default,{message:"Error archiving cluster",response:a}):null;return n.default.createElement(o.default,{title:"Archive cluster",secondaryTitle:d?u:void 0,"data-testid":"archive-cluster-dialog",onClose:c,primaryText:"Archive cluster",onPrimaryClick:()=>t(r,u),isPending:a.pending,onSecondaryClick:c},n.default.createElement(n.default.Fragment,null,m,n.default.createElement(i.Form,{onSubmit:()=>t(r,u)},n.default.createElement("p",null,"Archiving a cluster will remove it from the cluster list and remove the cluster from subscription management."),n.default.createElement("p",null,"This action will not delete the cluster, only remove it from OpenShift Cluster Manager.",n.default.createElement("a",{href:"https://access.redhat.com/articles/4397891",target:"_blank",rel:"noreferrer noopener"},"Instructions"),"for deleting a cluster may be found in the knowledge base."))))}}c.propTypes={closeModal:r.default.func.isRequired,onClose:r.default.func.isRequired,submit:r.default.func.isRequired,resetResponse:r.default.func.isRequired,archiveClusterResponse:r.default.object,subscriptionID:r.default.string.isRequired,name:r.default.string.isRequired,shouldDisplayClusterName:r.default.bool},c.defaultProps={archiveClusterResponse:{}},c.modalName=u.default.ARCHIVE_CLUSTER,t.default=c},3722:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(24239),i=a(91089),s=l(a(50772));t.default=(0,n.connect)((e=>{const t=e.modal.data;return{archiveClusterResponse:e.clusters.archivedCluster,subscriptionID:t.subscriptionID?t.subscriptionID:"",name:t.name?t.name:"",shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:(t,a)=>{e((0,r.archiveCluster)(t,a))},resetResponse:()=>e((0,r.clearClusterArchiveResponse)()),closeModal:()=>e((0,i.closeModal)())})))(s.default)},18776:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(77459)),o=a(89538);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const d=e=>{const[t,a]=(0,n.useState)(!1),{cluster:l,showConsoleButton:r,openModal:u,isKebab:d,disabled:c,canSubscribeOCP:m,canTransferClusterOwnership:p,toggleSubscriptionReleased:f,canHibernateCluster:E,refreshFunc:g}=e,v=(0,o.dropDownItems)({cluster:l,showConsoleButton:r,openModal:u,canSubscribeOCP:m,canTransferClusterOwnership:p,canHibernateCluster:E,toggleSubscriptionReleased:f,refreshFunc:g,inClusterList:!1}),h=(0,n.useRef)(),b=n.default.createElement(i.Dropdown,{onSelect:()=>{a(!1)},popperProps:{position:"right",appendTo:()=>document.body},onOpenChange:e=>a(e),toggle:{toggleRef:h,toggleNode:n.default.createElement(i.MenuToggle,{ref:h,onClick:()=>{a(!t)},isExpanded:t,isDisabled:c,variant:d?"plain":"default","data-testid":"cluster-actions-dropdown"},d?n.default.createElement(s.default,null):"Actions")},isOpen:t,"data-testid":"cluster-actions-dropdown"},v);return c?n.default.createElement(i.Tooltip,{content:"You do not have permission to make changes in this cluster. Only cluster owners, cluster editors, and Organization Administrators can make these changes.",position:"bottom"},b):b};d.propTypes={cluster:r.default.object.isRequired,showConsoleButton:r.default.bool.isRequired,openModal:r.default.func.isRequired,isKebab:r.default.bool,disabled:r.default.bool,canSubscribeOCP:r.default.bool.isRequired,canTransferClusterOwnership:r.default.bool.isRequired,canHibernateCluster:r.default.bool.isRequired,toggleSubscriptionReleased:r.default.func.isRequired,refreshFunc:r.default.func.isRequired},t.default=d},89538:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.actionResolver=S,t.dropDownItems=function(e){let{cluster:t,showConsoleButton:a,openModal:l,canSubscribeOCP:r,canTransferClusterOwnership:s,canHibernateCluster:u,toggleSubscriptionReleased:d,refreshFunc:c,inClusterList:m}=e;const p=S(t,a,l,r,s,u,d,c,m);return i.default.createElement(o.DropdownList,null,p.map((e=>{let{title:t}=e,a=(0,n.default)(e,E);return i.default.createElement(o.DropdownItem,a,t)})))};var n=l(a(91847)),r=l(a(43693)),i=l(a(93345)),s=l(a(58156)),o=a(97419),u=a(59067),d=l(a(6071)),c=a(22902),m=a(75166),p=l(a(43775)),f=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271));const E=["title"];function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const b=function(e){return e?{isAriaDisabled:!0,tooltipProps:{position:"left",content:e}}:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};function S(e,t,a,l,n,r,o,E,g){var v,S,_;const C={},y=e.state===f.default.UNINSTALLING&&i.default.createElement("span",null,"The cluster is being uninstalled"),I=e.state===f.default.READY,A=!I&&i.default.createElement("span",null,"This cluster is not ready"),R=(0,f.isHibernating)(e)&&(e.state===f.default.RESUMING?i.default.createElement(i.default.Fragment,null,"This cluster is resuming; wait for it to be ready in order to perform actions"):i.default.createElement(i.default.Fragment,null,"This cluster is hibernating; resume cluster in order to perform actions")),T=e.state===f.default.HIBERNATING||e.state===f.default.POWERING_DOWN,O=e.state===f.default.POWERING_DOWN&&i.default.createElement("span",null,"This cluster is powering down; you will be able to resume after it reaches hibernating state."),P="read_only"===(null==e||null===(v=e.status)||void 0===v?void 0:v.configuration_mode)&&i.default.createElement("span",null,"This operation is not available during maintenance"),D=(null===(S=e.delete_protection)||void 0===S?void 0:S.enabled)&&i.default.createElement("span",null,"Cluster is locked and cannot be deleted. To unlock, go to cluster details and disable deletion protection."),L=(0,s.default)(e,"console.url",!1),N=!L&&i.default.createElement("span",null,"Admin console is not yet available for this cluster"),w=t=>`${e.id}.menu.${t}`,M=(0,d.default)(e),k=e.product&&e.product.id===m.normalizedProducts.OSDTRIAL,F=e.canDelete&&e.managed,x=e.canEdit&&e.managed&&!(null!==(_=e.ccs)&&void 0!==_&&_.enabled),G=e.canEdit&&e.managed&&r&&!k&&!(0,f.isHypershiftCluster)(e),U=e.canEdit&&e.managed,j=(0,s.default)(e,"subscription.status",!1)===u.SubscriptionCommonFields.status.ARCHIVED,H=e.canEdit&&!e.managed&&e.subscription&&!j,V=e.canEdit&&!e.managed&&e.subscription&&j,q=!e.managed&&e.canEdit&&(t||L)&&!(0,c.isAssistedInstallCluster)(e),z=(0,s.default)(e,"subscription.plan.type",""),B=z===m.normalizedProducts.OCP&&e.canEdit&&l,W=[m.normalizedProducts.OCP,m.normalizedProducts.ARO,m.normalizedProducts.RHOIC].includes(z),$=e.canEdit&&n&&W&&(0,s.default)(e,"subscription.status")!==u.SubscriptionCommonFields.status.ARCHIVED,Y=I&&e.canEdit&&k;return[t&&h(h({},C),{},{title:"Open console",key:w("adminconsole")},b(y||R||N,{to:L,isExternalLink:!0,rel:"noopener noreferrer"})),e.canEdit&&h(h({},C),{},{title:"Edit display name",key:w("editdisplayname")},b(y,{onClick:()=>a(p.default.EDIT_DISPLAY_NAME,h(h({},e),{},{shouldDisplayClusterName:g}))})),q&&h(h({},C),{},{key:w("editconsoleurl")},b(y,{title:L?"Edit console URL":"Add console URL",onClick:()=>a(p.default.EDIT_CONSOLE_URL,h(h({},e),{},{shouldDisplayClusterName:g}))})),x&&h(h({},C),{},{title:"Edit load balancers and persistent storage",key:w("scalecluster")},b(y||P||R||A,{onClick:()=>a(p.default.SCALE_CLUSTER,h(h({},e),{},{shouldDisplayClusterName:g}))})),U&&h(h({},C),{},{title:"Edit machine pool",key:w("editmachinepools")},b(y||P||R||A,{onClick:()=>a(p.default.EDIT_MACHINE_POOL,{cluster:e,shouldDisplayClusterName:g})})),G&&(()=>{const t=h(h({},C),{},{key:w("hibernatecluster")}),l={clusterID:e.id,clusterName:M,subscriptionID:e.subscription?e.subscription.id:"",shouldDisplayClusterName:g},n=h(h({},t),{},{title:"Hibernate cluster"},b(y||P||A,{onClick:()=>a(p.default.HIBERNATE_CLUSTER,l)})),r=h(h({},t),{},{title:"Resume from Hibernation"},b(O||P,{onClick:()=>a(p.default.RESUME_CLUSTER,l)}));return T?r:n})(),Y&&(()=>{const t={clusterID:e.id,cluster:e},l=h(h({},C),{},{title:"Upgrade cluster from Trial",key:w("upgradetrialcluster")});return h(h({},l),b(P,{onClick:()=>a(p.default.UPGRADE_TRIAL_CLUSTER,h(h({},t),{},{shouldDisplayClusterName:g}))}))})(),F&&h(h({},C),{},{title:"Delete cluster",key:w("deletecluster")},b(y||P||R||D,{onClick:()=>a(p.default.DELETE_CLUSTER,{clusterID:e.id,clusterName:M,shouldDisplayClusterName:g})})),H&&(()=>{const t=h(h({},C),{},{title:"Archive cluster",key:w("archivecluster")}),l={subscriptionID:e.subscription?e.subscription.id:"",name:M};return h(h({},t),b(P,{onClick:()=>a(p.default.ARCHIVE_CLUSTER,h(h({},l),{},{shouldDisplayClusterName:g}))}))})(),V&&(()=>{const t=h(h({},C),{},{title:"Unarchive cluster",key:w("unarchivecluster")}),l={subscriptionID:e.subscription?e.subscription.id:"",name:M};return h(h({},t),b(P,{onClick:()=>a(p.default.UNARCHIVE_CLUSTER,h(h({},l),{},{shouldDisplayClusterName:g}))}))})(),B&&h(h({},C),{},{title:"Edit subscription settings",key:w("editsubscriptionsettings"),onClick:()=>a(p.default.EDIT_SUBSCRIPTION_SETTINGS,{subscription:e.subscription,shouldDisplayClusterName:g})}),$&&(()=>{const t=(0,s.default)(e,"subscription.released",!1),l=t?"Cancel ownership transfer":"Transfer cluster ownership";return h(h({},C),{},{title:l,key:w("transferclusterownership"),onClick:()=>{t?(o((0,s.default)(e,"subscription.id"),!1),E()):a(p.default.TRANSFER_CLUSTER_OWNERSHIP,{subscription:e.subscription,shouldDisplayClusterName:g})}})})()].filter(Boolean)}},84518:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=l(a(18776));const s={openModal:r.openModal};t.default=(0,n.connect)(null,s)(i.default)},56859:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(50927);function o(e){let{cluster:t}=e;const a=(0,s.clusterType)(t);return n.default.createElement(i.Tooltip,{content:a.tooltip},n.default.createElement("span",{"data-testid":"clusterType"},a.name,a.label&&n.default.createElement(n.default.Fragment,null,n.default.createElement("br",null),a.label)))}o.propTypes={cluster:r.default.shape({})},t.default=o},71210:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(29962),u=a(60502),d=l(a(81621)),c=a(59067),m=l(a(6071)),p=l(a(65702)),f=a(91089),E=l(a(43775)),g=a(23271);const v=e=>{var t,a,l;let{cluster:r,hideOSDUpdates:v}=e;const h=(0,i.useDispatch)(),b=(0,d.default)(r),{upgrade:S}=r.metrics,_=r.managed&&(null===(t=r.version)||void 0===t||null===(t=t.available_upgrades)||void 0===t?void 0:t.length)>0&&b&&!v,C=(null==r||null===(a=r.subscription)||void 0===a?void 0:a.status)===c.SubscriptionCommonFields.status.STALE;if("running"===(null==S?void 0:S.state)&&null!=S&&S.version&&(null===(l=r.version)||void 0===l?void 0:l.raw_id)!==S.version)return n.default.createElement("span",null," ","",` ${S.version}`);const y=!r.canEdit||!_||(0,g.isHibernating)(r)||C;return r.managed&&y||!r.managed&&(!S.available||C)||(0,g.isHypershiftCluster)(r)?null:r.managed?n.default.createElement(s.Button,{className:"cluster-inline-link pf-v5-u-mt-0",variant:"link",onClick:()=>h((0,f.openModal)(E.default.UPGRADE_WIZARD,{clusterName:(0,m.default)(r),subscriptionID:r.subscription.id})),icon:n.default.createElement(u.OutlinedArrowAltCircleUpIcon,null)},"Update"):r.console&&r.console.url?n.default.createElement("a",{href:`${r.console.url}/settings/cluster`,target:"_blank",rel:"noopener noreferrer"},n.default.createElement(s.Button,{className:"cluster-inline-link pf-v5-u-mt-0",variant:"link",icon:n.default.createElement(u.OutlinedArrowAltCircleUpIcon,null)},"Update")):n.default.createElement(s.Popover,{position:"top","aria-label":"Update",bodyContent:n.default.createElement("div",null,"An update is available for this cluster. Navigate to the Cluster settings page in the cluster's web console to update."," ",n.default.createElement("a",{href:p.default.UPDATING_CLUSTER,target:"_blank",rel:"noreferrer noopener"},"Learn more"))},n.default.createElement(s.Button,{className:"cluster-inline-link pf-v5-u-mt-0",variant:"link",icon:n.default.createElement(o.InfoCircleIcon,null)},"Update"))};v.propTypes={cluster:r.default.object.isRequired,hideOSDUpdates:r.default.bool},t.default=v},87814:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=l(a(48609)),s=a(92980),o=l(a(65771)),u=l(a(76480)),d=l(a(21508)),c=l(a(67695)),m=l(a(3722)),p=l(a(49509)),f=l(a(55980)),E=l(a(8003)),g=l(a(25971)),v=l(a(53878)),h=l(a(31066)),b=l(a(87380)),S=l(a(84465)),_=l(a(67412));function C(e){let{onClose:t,onClusterDeleted:a,clearMachinePools:l,isMultiRegionPreviewEnabled:r}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.default,{ModalComponent:E.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:f.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:b.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:d.default,onClose:t,isDialog:!0}),n.default.createElement(i.default,{ModalComponent:h.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:m.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:g.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:v.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:S.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:_.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:r?o.default:c.default}),n.default.createElement(i.default,{ModalComponent:u.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:p.default,onClose:e=>{e&&(a?a():t())}}),n.default.createElement(i.default,{ModalComponent:s.ConnectedEditMachinePoolModal,clearMachinePools:l}))}C.propTypes={onClose:r.default.func.isRequired,onClusterDeleted:r.default.func,clearMachinePools:r.default.bool,isMultiRegionPreviewEnabled:r.default.bool},t.default=C},49484:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.billingModelConstants=void 0;var l=a(72230);t.constants={clusterNameHint:"This name identifies your cluster in OpenShift Cluster Manager and forms part of the cluster console subdomain.",availabilityHintSingleZone:"Single zone clusters reside in a singular fault domain and lack the resilience of multi-zone clusters.",availabilityHintMultiZone:"Three availability zones provide resilience to cluster components evenly spread across fault domains.",regionHint:"The data center where your compute pool will be located.",persistentStorageHint:"The storage quota set on the deployed cluster.",loadBalancersHint:"The load balancer quota set on the deployed cluster.",computeNodeInstanceTypeHint:"The instance type for the compute nodes. Instance type\n    determines the amount of memory and vCPU allocated to each compute node.",computeNodeCountHint:"The number of compute nodes to provision per zone. The minimum number of compute nodes will vary depending on which features are enabled.",hcpComputeNodeCountHintWizard:"The number of compute nodes to provision per machine pool. The minimum number of compute nodes will vary depending on which features are enabled and how many machine pools will be created.",hcpComputeNodeCountHint:"The number of compute nodes to provision. The minimum number of compute nodes will vary depending on which features are enabled and how many machine pools exist.",machineCIDRHint:"A block of IP addresses used by the OpenShift Container Platform installation\n    program while installing the cluster. The address block must not overlap with any other network\n    block.",serviceCIDRHint:"A block of IP addresses for services. OpenShiftSDN allows only one\n    serviceNetwork block. The address block must not overlap with any other network block.",podCIDRHint:"A block of IP addresses from which Pod IP addresses are allocated. The OpenShiftSDN\n    network plug-in supports multiple cluster networks. The address blocks for multiple cluster\n    networks must not overlap.  Select address pools large enough to fit your anticipated workload.",hostPrefixHint:"The subnet prefix length to assign to each individual node.  For example, if host\n    prefix is set to /23, then each node is assigned a /23 subnet out of the given CIDR, allowing\n    for 510 (2^(32 - 23) - 2) pod IP addresses.",bypassSCPChecksHint:"Some AWS service control policies (SCP) will cause installation to fail even if\n    the credentials have the correct permissions. Disabling SCP checks allows installation to proceed.\n    The SCP will still be enforced even if the checks are bypassed.",enableAdditionalEtcdHint:"When you enable etcd encryption, encryption keys are created. These keys are rotated on a weekly basis.",enableAdditionalEtcdHypershiftHint:"Etcd is always encrypted by ROSA keys. If you want to provide your own AWS KMS key to encrypt etcd, you may do that here.",autoscaleHint:"Autoscaling automatically adds and removes nodes from the cluster based on resource requirements.",keyRing:"A key ring organizes keys in a specific Google Cloud location and allows you to manage access control on groups of keys.",keyName:"A cryptographic key is a resource that is used for encrypting and decrypting data or for producing and verifying digital signatures",keylocation:"A key location represent the geographical regions where a Cloud KMS resource is stored and can be accessed.",kmsserviceAccount:"Compute Engine default service account.",enableUserWorkloadMonitoringHint:"Monitor your own projects in isolation from Red Hat Site Reliability Engineering (SRE) platform metrics.",enableUserWorkloadMonitoringHelp:"This feature is enabled by default and provides monitoring for user-defined projects. \n This includes metrics provided through service endpoints in user-defined projects as well as pods running in user-defined projects.",cloudKMSTitle:"Cloud Key Management Service",cloudKMS:"Cloud KMS is a REST API that can use a key to encrypt, decrypt, or sign data such as secrets for storage.",amazonEBSTitle:"Amazon EBS encryption",amazonEBS:"Provide your own AWS KMS key ARN for encryption of EBS resources associated with your EC2 instances.",awsKeyARN:"The key ARN is the Amazon Resource Name (ARN) of a CMK. It is a unique, fully qualified identifier for the CMK. A key ARN includes the AWS account, Region, and the key ID.",privateLinkHint:"To provide support, Red Hat Site Reliability Engineering (SRE) connects to the cluster using only AWS PrivateLink endpoints instead of public endpoints.  This option cannot be changed after a cluster is created.",clusterProxyHint:"Enable an HTTP or HTTPS proxy to deny direct access to the internet from your cluster.",enableSecureBootHint:`Secure Boot enables the use of Shielded VMs in the Google Cloud Platform. Shielded VMs help protect enterprise workloads from threats like remote attacks, privilege escalation, and malicious insiders. Secure Boot support requires OpenShift version ${l.MIN_SECURE_BOOT_VERSION} or above.`,domainPrefixHint:"A domain prefix will be used for the subdomain and limited to 15 characters. If you do not create a custom domain prefix, we'll generate one for you."},t.billingModelConstants={standard:"Standard",customerCloudSubscription:"Customer cloud subscription",standardText:"Deploy in cloud provider accounts owned by Red Hat.",customerCloudSubscriptionText:"Leverage your existing cloud provider discounts and settings.",awsCredentialsWarning:"Revoking these credentials in AWS will result in a loss of access to any cluster created with these credentials."}},31802:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(93413),u=l(a(55816)),d=l(a(28592)),c=l(a(43775));class m extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{clusterNameInput:""}),(0,n.default)(this,"setValue",(e=>{this.setState({clusterNameInput:e})}))}componentDidUpdate(e){const{deleteClusterResponse:t,onSuccess:a}=this.props;!e.deleteClusterResponse.fulfilled&&t.fulfilled&&(this.closeDialog(!0),null==a||a())}closeDialog(e){const{clearDeleteClusterResponse:t,close:a,onClose:l}=this.props;this.setState({clusterNameInput:""}),t(),a(),l(e)}render(){const{modalData:e,deleteCluster:t,deleteClusterResponse:a,shouldDisplayClusterName:l,textContent:n,title:i,titleIconVariant:o}=this.props,{clusterID:c,clusterName:m}=e,{clusterNameInput:p}=this.state,f=a.error&&r.default.createElement(u.default,{message:"Error deleting cluster",response:a}),E=a.pending,g=p===m;return r.default.createElement(d.default,{title:i||"Delete cluster",titleIconVariant:o,secondaryTitle:l?m:void 0,onClose:()=>this.closeDialog(!1),primaryText:"Delete",onPrimaryClick:()=>t(c),onSecondaryClick:()=>this.closeDialog(!1),isPrimaryDisabled:!g||E,isPending:E,primaryVariant:"danger","data-testid":"delete-cluster-dialog"},r.default.createElement(s.Flex,{direction:{default:"column"}},f,r.default.createElement("p",null,n||"This action cannot be undone. It will uninstall the cluster, and all data will be deleted."),r.default.createElement("p",null,"Confirm deletion by typing ",r.default.createElement("strong",null,m)," below:"),r.default.createElement(s.Form,{onSubmit:e=>{e.preventDefault(),g&&!E&&t(c)}},r.default.createElement(s.TextInput,{type:"text",value:p,placeholder:"Enter name",onChange:(e,t)=>this.setValue(t),"aria-label":"cluster name"}))))}}m.propTypes={modalData:i.default.shape({clusterName:i.default.string,clusterID:i.default.string}),clearDeleteClusterResponse:i.default.func.isRequired,close:i.default.func.isRequired,deleteCluster:i.default.func.isRequired,deleteClusterResponse:i.default.object,onClose:i.default.func,shouldDisplayClusterName:i.default.bool,textContent:i.default.string,title:i.default.string,titleIconVariant:i.default.string,onSuccess:i.default.func},m.defaultProps={onClose:o.noop},m.modalName=c.default.DELETE_CLUSTER,t.default=m},63307:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deletedClusterResponse=t.deleteClusterDialogActions=t.deleteCluster=void 0;var l=a(73410),n=a(89157);const r=e=>({type:n.deleteClusterDialogConstants.DELETE_CLUSTER,payload:l.clusterService.deleteCluster(e)});t.deleteCluster=r;const i=()=>({type:n.deleteClusterDialogConstants.CLEAR_DELETE_CLUSTER_RESPONSE});t.deletedClusterResponse=i,t.deleteClusterDialogActions={deleteCluster:r,deletedClusterResponse:i}},89157:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteClusterDialogConstants=t.DELETE_CLUSTER=t.CLEAR_DELETE_CLUSTER_RESPONSE=void 0;const a=t.DELETE_CLUSTER="DELETE_CLUSTER",l=t.CLEAR_DELETE_CLUSTER_RESPONSE="CLEAR_DELETE_CLUSTER_RESPONSE";t.deleteClusterDialogConstants={DELETE_CLUSTER:a,CLEAR_DELETE_CLUSTER_RESPONSE:l}},2436:(e,t,a)=>{"use strict";var l=a(24994);t.cr=m;var n=l(a(43693)),r=a(89407),i=a(89217),s=a(95762),o=a(89157);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c=d(d({},s.baseRequestState),{},{cluster:null});function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,s.REJECTED_ACTION)(o.deleteClusterDialogConstants.DELETE_CLUSTER):return d(d({},c),(0,i.getErrorState)(t));case(0,s.PENDING_ACTION)(o.deleteClusterDialogConstants.DELETE_CLUSTER):e.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.deleteClusterDialogConstants.DELETE_CLUSTER):return d(d({},c),{},{cluster:t.payload.data,fulfilled:!0});case o.deleteClusterDialogConstants.CLEAR_DELETE_CLUSTER_RESPONSE:return c}}))}m.initialState=c},49509:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=a(73729),i=a(91089),s=l(a(31802)),o=a(63307);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={clearDeleteClusterResponse:()=>o.deleteClusterDialogActions.deletedClusterResponse(),deleteCluster:e=>o.deleteClusterDialogActions.deleteCluster(e),close:()=>(0,i.closeModal)("delete-cluster")};t.default=(0,r.connect)((e=>({modalData:e.modal.data,deleteClusterResponse:e.deleteCluster,shouldDisplayClusterName:e.modal.data.shouldDisplayClusterName||!1})),c,((e,t,a)=>d(d(d({},e),t),a)))(s.default)},53556:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(97419),o=a(38715),u=a(84037),d=l(a(55816)),c=l(a(28592)),m=l(a(43775));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}class f extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{currentValue:""})}componentDidMount(){const{consoleURL:e}=this.props;this.setState({currentValue:e})}componentDidUpdate(){const{editClusterResponse:e,resetResponse:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}setValue(e){this.setState({currentValue:e})}render(){const{closeModal:e,submit:t,editClusterResponse:a,resetResponse:l,clusterID:n,subscriptionID:i,consoleURL:m,shouldDisplayClusterName:p,clusterDisplayName:f}=this.props,{currentValue:E}=this.state,g=()=>{this.setState({currentValue:""}),l(),e()},v=a.error&&r.default.createElement(d.default,{message:"Error changing console URL",response:a}),h=(0,u.checkClusterConsoleURL)(E,!0),b=()=>{h||t(n,i,E)},S=E!==m;return r.default.createElement(c.default,{"data-testid":"edit-console-url-dialog",title:m?"Edit console URL":"Add console URL",secondaryTitle:p?f:void 0,onClose:g,primaryText:m?"Save":"Add URL",secondaryText:"Cancel",onPrimaryClick:b,onSecondaryClick:g,isPrimaryDisabled:!!h||!S},r.default.createElement(r.default.Fragment,null,v,!m&&r.default.createElement("p",null,"Adding a cluster's web console URL will allow you to launch the web console from the OpenShift Cluster Manager."),r.default.createElement(s.Form,{onSubmit:e=>{b(),e.preventDefault()}},r.default.createElement(s.FormGroup,{label:"Web console URL",fieldId:"edit-console-url-input"},r.default.createElement(s.TextInput,{type:"text",validated:S&&h?"error":"default",value:E,placeholder:"https://console-openshift-console.apps.mycluster.example.com/",onChange:(e,t)=>this.setValue(t),"aria-label":"Web console URL",id:"edit-console-url-input"}),r.default.createElement(o.FormGroupHelperText,{touched:S,error:h})))))}}f.propTypes={closeModal:i.default.func.isRequired,onClose:i.default.func.isRequired,submit:i.default.func.isRequired,resetResponse:i.default.func.isRequired,editClusterResponse:i.default.object,consoleURL:i.default.string,clusterID:i.default.string,subscriptionID:i.default.string,shouldDisplayClusterName:i.default.bool,clusterDisplayName:i.default.string},f.defaultProps={editClusterResponse:{}},f.modalName=m.default.EDIT_CONSOLE_URL,t.default=f},55980:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58156)),r=a(73729),i=l(a(6071)),s=a(24239),o=a(91089),u=l(a(53556));t.default=(0,r.connect)((e=>{const t=e.modal.data;return{editClusterResponse:e.clusters.editedCluster,clusterID:t.id,subscriptionID:(0,n.default)(t,"subscription.id"),consoleURL:t.console_url||(0,n.default)(t,"console.url",""),shouldDisplayClusterName:e.modal.data.shouldDisplayClusterName||!1,clusterDisplayName:(0,i.default)(t)}}),(e=>({submit:(t,a,l)=>{let n=l;l.endsWith("/")&&(n=l.substring(0,l.length-1)),e((0,s.editClusterConsoleURL)(t,a,n))},resetResponse:()=>e((0,s.clearClusterResponse)()),closeModal:()=>e((0,o.closeModal)())})))(u.default)},46018:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(97419),o=a(38715),u=a(84037),d=l(a(55816)),c=l(a(28592)),m=l(a(43775));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}class f extends r.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{currentValue:""})}componentDidMount(){const{displayName:e}=this.props;this.setState({currentValue:e})}componentDidUpdate(){const{editClusterResponse:e,resetResponse:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}setValue(e){this.setState({currentValue:e})}render(){const{closeModal:e,submit:t,editClusterResponse:a,resetResponse:l,subscriptionID:n,shouldDisplayClusterName:i,displayName:m}=this.props,{currentValue:p}=this.state,f=()=>{l(),e()},E=a.error&&r.default.createElement(d.default,{message:"Error changing display name",response:a}),{pending:g}=a,v=(0,u.checkClusterDisplayName)(p),h=()=>{v||t(n,p)};return r.default.createElement(c.default,{title:"Edit display name",secondaryTitle:i?m:void 0,"data-testid":"edit-displayname-modal",onClose:f,primaryText:"Edit",secondaryText:"Cancel",onPrimaryClick:h,onSecondaryClick:f,isPrimaryDisabled:!!v||p===m,isPending:g},r.default.createElement(r.default.Fragment,null,E,r.default.createElement(s.Form,{onSubmit:e=>{h(),e.preventDefault()}},r.default.createElement(s.FormGroup,{fieldId:"edit-display-name-input"},r.default.createElement(s.TextInput,{type:"text",validated:v?"error":"default",value:p,placeholder:"Enter display name",onChange:(e,t)=>this.setValue(t),"aria-label":"Edit display name",id:"edit-display-name-input"}),r.default.createElement(o.FormGroupHelperText,{touched:!0,error:v})))))}}f.propTypes={closeModal:i.default.func.isRequired,onClose:i.default.func.isRequired,submit:i.default.func.isRequired,resetResponse:i.default.func.isRequired,editClusterResponse:i.default.object,displayName:i.default.string,subscriptionID:i.default.string,shouldDisplayClusterName:i.default.bool},f.defaultProps={editClusterResponse:{}},f.modalName=m.default.EDIT_DISPLAY_NAME,t.default=f},8003:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58156)),r=a(73729),i=l(a(6071)),s=a(24239),o=a(91089),u=l(a(46018));t.default=(0,r.connect)((e=>{const t=e.modal.data;return{editClusterResponse:e.clusters.editedCluster,clusterID:t.id,subscriptionID:(0,n.default)(t,"subscription.id"),displayName:(0,i.default)(t),shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:(t,a)=>{e((0,s.editClusterDisplayName)(t,a))},resetResponse:()=>e((0,s.clearClusterResponse)()),closeModal:()=>e((0,o.closeModal)())})))(u.default)},87662:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(97419),s=a(69304),o=l(a(55816)),u=l(a(28592)),d=l(a(43775)),c=l(a(67864)),m=l(a(94560)),p=l(a(53803)),f=l(a(86510));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends n.Component{componentDidMount(){const{getSchedules:e,clusterID:t,clusterUpgrades:a}=this.props;t&&!a.pending&&e(t)}componentDidUpdate(){const{hibernateClusterResponse:e,resetResponses:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}render(){const{closeModal:e,submit:t,hibernateClusterResponse:a,resetResponses:l,clusterID:r,clusterName:d,clusterUpgrades:E,subscriptionID:g,shouldDisplayClusterName:v}=this.props,h=e=>E.items.filter((t=>{var a;return(null===(a=t.state)||void 0===a?void 0:a.value)===e})),b=()=>{l(),e()},S=a.error?n.default.createElement(o.default,{message:"Error hibernating cluster",response:a}):null,_=h("scheduled");let C,y,I="Close";return h("started").length>0?(y=!1,I="See version update details",C=n.default.createElement(p.default,{clusterName:d})):_.length>0?(y=!1,I="Change cluster upgrade policy",C=n.default.createElement(f.default,{clusterName:d,nextRun:_[0].next_run})):(y=!0,C=n.default.createElement(c.default,{clusterName:d,isHibernating:!1})),n.default.createElement(u.default,{"aria-label":"hibernate-cluster-modal",header:n.default.createElement(m.default,{title:"Hibernate cluster"}),titleIconVariant:"danger",secondaryTitle:v?d:void 0,primaryText:y?"Hibernate cluster":"Close",onPrimaryClick:()=>{y?t(r):b()},secondaryText:I,onSecondaryClick:e=>{let{location:t,navigate:a}=e;b(),y||(t.pathname.startsWith(`${s.ocmBaseName}/details/s/`)?a({hash:"#updateSettings"}):a({pathname:`/details/s/${g}`,hash:"#updateSettings"}))},onClose:b,isPending:a.pending||E.pending},n.default.createElement(i.Form,{onSubmit:t},S,C))}}g.propTypes={clusterID:r.default.string.isRequired,subscriptionID:r.default.string.isRequired,clusterName:r.default.string.isRequired,closeModal:r.default.func.isRequired,resetResponses:r.default.func.isRequired,getSchedules:r.default.func.isRequired,clusterUpgrades:r.default.shape({fulfilled:r.default.bool,pending:r.default.bool,items:r.default.array}).isRequired,hibernateClusterResponse:r.default.shape({fulfilled:r.default.bool,pending:r.default.bool,error:r.default.bool}),submit:r.default.func.isRequired,onClose:r.default.func.isRequired,shouldDisplayClusterName:r.default.bool},g.defaultProps={hibernateClusterResponse:{}},g.modalName=d.default.HIBERNATE_CLUSTER,t.default=g},71626:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.userCanHibernateClustersSelector=t.useCanHibernateClusterListFromClusters=t.canHibernateClusterListSelector=void 0;var n=l(a(58156)),r=a(25514);const i=e=>{const t=(0,n.default)(e,"userProfile.organization.details.capabilities",[]).find((e=>"capability.organization.hibernate_cluster"===e.name));return"true"===(null==t?void 0:t.value)};t.userCanHibernateClustersSelector=i,t.canHibernateClusterListSelector=e=>{const t=i(e),a={};return t&&(0,n.default)(e,"clusters.clusters.clusters",[]).forEach((e=>{a[e.id]=!0})),a},t.useCanHibernateClusterListFromClusters=e=>{const t=(0,r.useGlobalState)((e=>i(e))),a={};return t&&e.forEach((e=>{a[e.id]=!0})),a}},25971:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(24239),i=a(91089),s=a(99908),o=l(a(87662));t.default=(0,n.connect)((e=>{const t=e.modal.data;return{hibernateClusterResponse:e.clusters.hibernatingCluster,clusterID:t.clusterID?t.clusterID:"",clusterName:t.clusterName?t.clusterName:"",clusterUpgrades:e.clusterUpgrades.schedules,subscriptionID:t.subscriptionID?t.subscriptionID:"",shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:t=>{e((0,r.hibernateCluster)(t))},resetResponses:()=>{e((0,r.clearHibernateClusterResponse)()),e((0,s.clearPostedUpgradeScheduleResponse)())},getSchedules:t=>e((0,s.getSchedules)(t)),closeModal:()=>e((0,i.closeModal)())})))(o.default)},43202:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(16161),u=a(21888),d=a(91089),c=l(a(12200)),m=l(a(43775)),p=l(a(23271));function f(e){var t;let{cluster:a}=e;const l=(0,i.useDispatch)();let r,f,E,g=!1,v=null;const h="read_only"===(null==a||null===(t=a.status)||void 0===t?void 0:t.configuration_mode)&&"This operation is not available during maintenance",b=!a.canEdit&&"You do not have permission to resume from hibernation. Only cluster owners, cluster editors, and Organization Administrators can change hibernation state.";switch(a.state){case p.default.RESUMING:f="Cluster is resuming from hibernation",E="This might take a few minutes!",r=u.InProgressIcon;break;case p.default.POWERING_DOWN:f="Cluster is powering down and moving to a hibernating state",E="The cluster will not utilize any infrastructure and all operations will not be available",r=u.InProgressIcon;break;default:f="Cluster is currently hibernating",E="The cluster is not utilizing any infrastructure and all operations will not be available",r=o.AsleepIcon,g=!0,v=h||b}return n.default.createElement(s.Card,{isFlat:!0},n.default.createElement(s.CardBody,null,n.default.createElement(s.EmptyState,{variant:s.EmptyStateVariant.sm},n.default.createElement(s.EmptyStateHeader,{titleText:f,icon:n.default.createElement(s.EmptyStateIcon,{icon:r}),headingLevel:"h4"}),n.default.createElement(s.EmptyStateBody,null,E),n.default.createElement(s.EmptyStateFooter,null,n.default.createElement(s.EmptyStateActions,null,g&&n.default.createElement(c.default,{variant:"link",disableReason:v,onClick:()=>{const e={clusterID:a.id,clusterName:a.name,subscriptionID:a.subscription.id};l(d.modalActions.openModal(m.default.RESUME_CLUSTER,e))}},"Resume from Hibernation"))))))}f.propTypes={cluster:r.default.object.isRequired},t.default=f},40633:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58156)),r=l(a(5556)),i=a(75166);function s(e){let{cluster:t}=e;const a=(0,n.default)(t,"subscription.plan.type"),{OSD:l}=i.normalizedProducts,r=(0,n.default)(t,"ccs.enabled");return r?"Customer cloud subscription":a===l?!1===r?"Red Hat cloud account":"N/A":"Standard"}s.propTypes={cluster:r.default.shape({subscription:r.default.shape({plan:r.default.shape({type:r.default.oneOf(Object.values(i.normalizedProducts)).isRequired})})})},t.default=s},28254:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(4213)),i=l(a(71710)),s=l(a(5556)),o=a(97419),u=a(73410),d=a(7252);function c(e){let{cluster:t}=e;const[a,l]=n.default.useState(),[s,c]=n.default.useState(),[m,p]=n.default.useState(),[f,E]=n.default.useState(""),[g,v]=n.default.useState(),h=a&&s&&m;return n.default.useEffect((()=>{const e=(0,d.getAWSAccountID)(t);u.clusterService.getOperatorRoleCommands(e,t.id,t.aws.sts.role_arn).then((e=>{l(e.data.commands)})).catch((e=>{var t,a;E(e.message||"Could not fetch commands.");const l=null!==(t=null===(a=e.response.data.details)||void 0===a?void 0:a[0].Error_Key)&&void 0!==t?t:e.response.data.reason;l&&v(l)}))}),[]),n.default.useEffect((()=>{u.accountsService.getPolicies().then((e=>{c(e.data.items)})).catch((e=>{E(e.message||"Could not fetch policies.")}))}),[]),n.default.useEffect((()=>{u.accountsService.getCredentialRequests().then((e=>{p(e.data.items)})).catch((e=>{E(e.message||"Could not fetch credential requests.")}))}),[]),n.default.createElement(o.Stack,{hasGutter:!0},f&&n.default.createElement(o.StackItem,null,n.default.createElement(o.Alert,{isInline:!0,variant:"danger",title:"Something went wrong"},n.default.createElement(o.List,{isPlain:!0},n.default.createElement(o.ListItem,null,f),n.default.createElement(o.ListItem,null,"You will need to use "," the ROSA CLI to create the operator roles and OIDC provider."),g?n.default.createElement(o.ListItem,null,n.default.createElement(o.ExpandableSection,{toggleTextExpanded:"Show less",toggleTextCollapsed:"Show more",isIndented:!0},g)):null))),n.default.createElement(o.StackItem,null,n.default.createElement(o.TextContent,null,n.default.createElement(o.TextList,{component:o.TextListVariants.ol},n.default.createElement(o.TextListItem,null,"Download and extract the following .zip file."),n.default.createElement(o.TextListItem,null,"In the AWS CLI, run the commands with the included policy files to create the operator roles and OIDC provider.")),n.default.createElement(o.Button,{variant:"secondary",onClick:async()=>{try{const e=new i.default;e.file("README","To create the operator roles and OIDC provider for your ROSA cluster, run the\nAWS commands from commands.txt in the directory containing the policy files\nextracted from the ZIP. Cluster installation will continue automatically when\nthe roles and OIDC provider are available.\n"),e.file("commands.txt",a.map((e=>{let{command:t}=e;return t})).join("\n\n")),function(){const e=s.find((e=>{let{id:t}=e;return"operator_iam_role_policy"===t})),a=(0,d.getOIDCEndpointNoScheme)(t),l=(0,d.getOIDCProviderARN)(t);return t.aws.sts.operator_iam_roles.map((t=>{const n=m.find((e=>e.operator.name===t.name&&e.operator.namespace===t.namespace)),r=n.operator.service_accounts.map((e=>`system:serviceaccount:${t.namespace}:${e}`));return{filename:`operator_${n.name}_policy.json`,content:e.details.replace("%{issuer_url}",a).replace("%{service_accounts}",r.join('", "')).replace("%{oidc_provider_arn}",l)}}))}().forEach((t=>{let{filename:a,content:l}=t;e.file(a,l)}));const l=await e.generateAsync({type:"blob"});r.default.saveAs(l,`${t.name}-manual-commands.zip`)}catch(e){E(e.message||"An error occurred creating the ZIP file.")}},isDisabled:!h},h?n.default.createElement(n.default.Fragment,null,"Download .zip"):n.default.createElement(n.default.Fragment,null,"Preparing .zip")))))}c.propTypes={cluster:s.default.object.isRequired},t.default=c},5505:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(56282));function o(e){let{cluster:t,icon:a,initiallyOpen:l}=e;const[r,o]=n.default.useState(l);return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Button,{variant:"link",isInline:!0,onClick:()=>o(!0),icon:a},"Action required"),n.default.createElement(s.default,{cluster:t,isOpen:r,onClose:()=>o(!1)}))}o.propTypes={cluster:r.default.object.isRequired,initiallyOpen:r.default.bool,icon:r.default.node},t.default=o},56282:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(11243),o=a(976),u=a(48539),d=a(23271),c=l(a(28254)),m=l(a(96370));function p(e){var t,a,l,r;let{cluster:p,isOpen:f,onClose:E}=e;const g=(0,d.isWaitingROSAManualMode)(p),v=(0,d.isHypershiftCluster)(p),h=(0,d.isWaitingForOIDCProviderOrOperatorRolesMode)(p),b=(0,d.isErrorSharedGCPVPCValues)(p),[S,_]=n.default.useState(1),C=(0,s.useFeatureGate)(o.MULTIREGION_PREVIEW_ENABLED)&&v,y=n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,null,"You must create the ",n.default.createElement("b",null,"operator roles")," and ",n.default.createElement("b",null,"OIDC provider")," to complete cluster installation."),n.default.createElement(i.StackItem,null,"Use one of the following methods:"),n.default.createElement(i.StackItem,null,n.default.createElement(i.Tabs,{activeKey:S,onSelect:(e,t)=>_(t),isBox:!0},n.default.createElement(i.Tab,{eventKey:1,title:n.default.createElement(i.TabTitleText,null,"ROSA CLI"),tabContentId:"rosa-cli"}),n.default.createElement(i.Tab,{eventKey:2,title:n.default.createElement(i.TabTitleText,null,"AWS CLI"),tabContentId:"aws-cli"}))),n.default.createElement(i.StackItem,null,n.default.createElement(i.TabContent,{key:1,eventKey:1,id:"rosa-cli",activeKey:S,hidden:1!==S},n.default.createElement(m.default,{cluster:p})),n.default.createElement(i.TabContent,{key:2,eventKey:2,id:"aws-cli",activeKey:S,hidden:2!==S},n.default.createElement(c.default,{cluster:p}))),n.default.createElement(i.StackItem,null,"The options above will be available until the operator roles and OIDC provider are detected.")),I=n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,null,n.default.createElement(i.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(i.Text,{component:i.TextVariants.p},null==p||null===(t=p.status)||void 0===t?void 0:t.description),n.default.createElement(i.Text,{component:i.TextVariants.p},"You entered these values:")),n.default.createElement(i.TextContent,null,n.default.createElement(i.TextList,null,n.default.createElement(i.TextListItem,null,`Existing VPC name: ${null===(a=p.gcp_network)||void 0===a?void 0:a.vpc_name}`),n.default.createElement(i.TextListItem,null,`Control plane subnet name: ${null===(l=p.gcp_network)||void 0===l?void 0:l.control_plane_subnet}`),n.default.createElement(i.TextListItem,null,`Compute subnet name: ${null===(r=p.gcp_network)||void 0===r?void 0:r.compute_subnet}`)))));return n.default.createElement(i.Modal,{title:"Action required to continue installation",isOpen:f,onClose:E,variant:i.ModalVariant.medium},g&&y,h&&(e=>{var t,a,l,r;const s=null===(t=e.aws.sts)||void 0===t||null===(t=t.oidc_config)||void 0===t?void 0:t.id,o=null===(a=e.aws)||void 0===a||null===(a=a.sts)||void 0===a?void 0:a.operator_role_prefix,d=null===(l=e.aws)||void 0===l||null===(l=l.sts)||void 0===l?void 0:l.role_arn,c=null===(r=e.region)||void 0===r?void 0:r.id,m=`rosa login --url https://${(0,u.regionalInstanceUrl)(c)}`,p=`rosa create operator-roles ${v?"--hosted-cp":""} --prefix "${o}" --oidc-config-id "${s}"  --installer-role-arn ${d}`,f=`rosa create oidc-provider --oidc-config-id "${s}"`;return n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,null,n.default.createElement(i.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(i.Text,{component:i.TextVariants.p},"Your cluster will proceed to ready state only after the operator roles and OIDC provider are created."))),C?n.default.createElement(i.StackItem,null,n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:i.TextVariants.p},"To log in to your cluster's region, run the following command:"),n.default.createElement(i.ClipboardCopy,{textAriaLabel:"Copyable ROSA region login",variant:i.ClipboardCopyVariant.expansion,isReadOnly:!0},m))):null,n.default.createElement(i.StackItem,null,n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:i.TextVariants.p},"To create the operator roles, run the following command:"),n.default.createElement(i.ClipboardCopy,{textAriaLabel:"Copyable ROSA create operator-roles",variant:i.ClipboardCopyVariant.expansion,isReadOnly:!0},p))),n.default.createElement(i.StackItem,null,n.default.createElement(i.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(i.Text,{component:i.TextVariants.p}," ","To create an OIDC provider, run the following command:"),n.default.createElement(i.ClipboardCopy,{textAriaLabel:"Copyable ROSA OIDC provider",variant:i.ClipboardCopyVariant.expansion,isReadOnly:!0},f))))})(p),b&&I)}p.propTypes={cluster:r.default.object.isRequired,isOpen:r.default.bool.isRequired,onClose:r.default.func.isRequired},t.default=p},24022:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(73729),i=a(97419),s=a(13331),o=a(17210),u=a(65702);t.A=function(){const e=(0,r.useSelector)((e=>e.githubReleases))||{},t=(0,u.urlsSelector)(e),a=(0,o.detectOS)(),l=(0,o.architecturesForToolOS)(t,u.tools.OC,u.channels.STABLE,a);let d,c;return null!=l&&l.length&&(d=l[0].value,c=t[u.tools.OC][u.channels.STABLE][d][a]),c?n.default.createElement(i.Button,{component:"a","data-testid":"download-oc-cli",href:c,variant:"link",icon:n.default.createElement(s.DownloadIcon,null),isInline:!0},"Download OC CLI"):null}},53737:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=l(a(48266)),u=a(82399),d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),c=l(a(5505));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e){var t,a;let{cluster:l,actionRequiredInitialOpen:n,hasNetworkOndemand:i}=e;const m=(0,d.isROSA)(l),p=(0,d.isOSD)(l),E=(0,d.isOSDGCPPendingOnHostProject)(l),g=(0,d.isOSDGCPWaitingForRolesOnHostProject)(l),v=(0,d.isWaitingROSAManualMode)(l),h=(0,d.isWaitingForOIDCProviderOrOperatorRolesMode)(l),b=l.state===d.default.PENDING,S=l.state===d.default.WAITING,_=l.state===d.default.VALIDATING,C=null==l||null===(t=l.aws)||void 0===t||null===(t=t.sts)||void 0===t?void 0:t.auto_mode,y=null==l||null===(a=l.aws)||void 0===a||null===(a=a.sts)||void 0===a||null===(a=a.oidc_config)||void 0===a?void 0:a.id,I=!(null!=l&&l.status.description)||"Waiting for OIDC configuration"===(null==l?void 0:l.status.description),A=S&&(C||y&&I),R=(()=>{const e={variant:"pending"},t={variant:"info",icon:r.default.createElement(s.Spinner,{size:"sm"}),isCurrent:!0},a={variant:"success",text:"Completed"},S={icon:r.default.createElement(o.default,{className:"icon-space-right"}),text:"Unknown"};if(p&&(l.state===d.default.WAITING||E||g))return{awsAccountSetup:g?{text:"Waiting for permissions",variant:"warning"}:f({text:"Preparing account"},t),DNSSetup:e,networkSettings:e,clusterInstallation:e};const C=(0,d.getInflightChecks)(l),y=(0,d.hasInflightEgressErrors)(l);if(m){if(h)return{awsAccountSetup:a,oidcAndOperatorRolesSetup:{variant:"warning",text:r.default.createElement(c.default,{cluster:l}),isCurrent:!0},networkSettings:e,DNSSetup:e,clusterInstallation:e};if(v)return{awsAccountSetup:a,oidcAndOperatorRolesSetup:{variant:"warning",text:r.default.createElement(c.default,{cluster:l,initiallyOpen:n}),isCurrent:!0},networkSettings:e,DNSSetup:e,clusterInstallation:e};if(A)return{awsAccountSetup:a,oidcAndOperatorRolesSetup:f({text:"Waiting"},t),networkSettings:e,DNSSetup:e,clusterInstallation:e}}if((m||p)&&(b||_||C.some((e=>e.state===u.InflightCheckState.RUNNING))))return{awsAccountSetup:a,oidcAndOperatorRolesSetup:a,networkSettings:f({text:"Validating"},t),DNSSetup:e,clusterInstallation:e};const I=y&&i?{variant:"warning",text:"Validation failed"}:a;return l.state===d.default.INSTALLING?l.status.dns_ready?{awsAccountSetup:a,oidcAndOperatorRolesSetup:a,networkSettings:I,DNSSetup:a,clusterInstallation:f({text:"Installing cluster"},t)}:{awsAccountSetup:a,oidcAndOperatorRolesSetup:a,networkSettings:I,DNSSetup:t,clusterInstallation:e}:l.state===d.default.ERROR||l.state===d.default.READY?{awsAccountSetup:a,oidcAndOperatorRolesSetup:a,DNSSetup:a,networkSettings:I,clusterInstallation:l.state===d.default.ERROR?{variant:"danger",text:"Failed"}:a}:{awsAccountSetup:S,oidcAndOperatorRolesSetup:S,DNSSetup:S,networkSettings:S,clusterInstallation:S}})();return r.default.createElement(s.ProgressStepper,null,r.default.createElement(s.ProgressStep,{variant:R.awsAccountSetup.variant,icon:R.awsAccountSetup.icon,isCurrent:R.awsAccountSetup.isCurrent,description:R.awsAccountSetup.text,id:"awsAccountSetup","data-testid":"account-setup-title",titleId:"awsAccountSetup-title"},"Account setup"),m&&r.default.createElement(s.ProgressStep,{variant:R.oidcAndOperatorRolesSetup.variant,icon:R.oidcAndOperatorRolesSetup.icon,isCurrent:R.oidcAndOperatorRolesSetup.isCurrent,description:R.oidcAndOperatorRolesSetup.text,id:"oidcAndOperatorRolesSetup",titleId:"oidcAndOperatorRoles-title"},"OIDC and operator roles"),(m||p)&&r.default.createElement(s.ProgressStep,{variant:R.networkSettings.variant,icon:R.networkSettings.icon,isCurrent:R.networkSettings.isCurrent,description:R.networkSettings.text,id:"networkSettings",titleId:"networkSettings-title"},"Network settings"),r.default.createElement(s.ProgressStep,{variant:R.DNSSetup.variant,icon:R.DNSSetup.icon,isCurrent:R.DNSSetup.isCurrent,description:R.DNSSetup.text,id:"DNSSetup",titleId:"DNSSetup-title"},"DNS setup"),r.default.createElement(s.ProgressStep,{variant:R.clusterInstallation.variant,icon:R.clusterInstallation.icon,isCurrent:R.clusterInstallation.isCurrent,description:R.clusterInstallation.text,id:"clusterInstallation",titleId:"clusterInstallation-title"},"Cluster installation"))}a(66350),E.propTypes={cluster:i.default.object.isRequired,hasNetworkOndemand:i.default.bool,actionRequiredInitialOpen:i.default.bool},t.default=E},96370:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419);function s(e){let{cluster:t}=e;return n.default.createElement(i.Flex,{direction:{default:"column"},spaceItems:{default:"spaceItemsSm"}},n.default.createElement("p",null,"Copy and run the following commands:"),n.default.createElement(i.FlexItem,null,n.default.createElement(i.ClipboardCopy,{isReadOnly:!0},`rosa create operator-roles --interactive -c ${t.name}`)),n.default.createElement(i.FlexItem,null,n.default.createElement(i.ClipboardCopy,{isReadOnly:!0},`rosa create oidc-provider --interactive -c ${t.name}`)))}s.propTypes={cluster:r.default.object.isRequired},t.default=s},44314:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(91847)),i=l(a(93345)),s=l(a(5556)),o=a(97419),u=a(67080),d=a(93413),c=l(a(55816)),m=a(38046),p=a(98229),f=a(52774);const E=["onChange"];class g extends i.default.Component{componentDidMount(){const{getLoadBalancers:e,loadBalancerValues:t}=this.props;t.pending||t.fulfilled||t.error||e()}render(){const{input:e,loadBalancerValues:t,disabled:a,currentValue:l,quotaList:s,billingModel:g,product:v,cloudProviderID:h,isBYOC:b,isMultiAZ:S}=this.props;if(t.fulfilled){const u={resourceType:m.QuotaTypes.LOAD_BALANCER,billingModel:g,product:v,cloudProviderID:h,isBYOC:b,isMultiAZ:S},c=(0,p.availableQuota)(s,u),_=(0,f.filterLoadBalancerValuesByQuota)(l,t,c),C=_.values.length<=1,y=a||C,{onChange:I}=e,A=(0,r.default)(e,E),R=i.default.createElement(o.FormSelect,(0,n.default)({className:"quota-dropdown","aria-label":"Load Balancers",isDisabled:y,onChange:(e,t)=>I(t)},A),_.values.map((e=>(e=>i.default.createElement(o.FormSelectOption,{key:e,value:e,label:e}))(e.toString()))));return C?i.default.createElement(o.Tooltip,{content:d.noQuotaTooltip,position:"right"},i.default.createElement("div",null,R)):R}return t.error?i.default.createElement(c.default,{message:"Error loading load balancers list",response:t}):i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"spinner-fit-container"},i.default.createElement(u.Spinner,null)),i.default.createElement("div",{className:"spinner-loading-text"},"Loading load balancers list..."))}}g.propTypes={getLoadBalancers:s.default.func.isRequired,loadBalancerValues:s.default.object.isRequired,input:s.default.object.isRequired,disabled:s.default.bool,quotaList:s.default.object.isRequired,currentValue:s.default.number,billingModel:s.default.string.isRequired,product:s.default.string.isRequired,cloudProviderID:s.default.string.isRequired,isBYOC:s.default.bool.isRequired,isMultiAZ:s.default.bool.isRequired},t.default=g},52774:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.filterLoadBalancerValuesByQuota=void 0;var n=l(a(43693));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}t.filterLoadBalancerValuesByQuota=(e,t,a)=>{const l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t);return l.values?(l.values=e?l.values.filter((t=>t<=a+e)):l.values.filter((e=>e<=a)),l):{values:[]}}},92148:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=l(a(44500)),i=l(a(44314));const s={getLoadBalancers:r.default};t.default=(0,n.connect)((e=>({loadBalancerValues:e.loadBalancerValues,quotaList:e.userProfile.organization.quotaList})),s)(i.default)},68835:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MachineConfiguration",{enumerable:!0,get:function(){return l.MachineConfiguration}}),Object.defineProperty(t,"MachineConfigurationProps",{enumerable:!0,get:function(){return l.MachineConfigurationProps}});var l=a(82298)},2942:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(91847)),i=l(a(93345)),s=l(a(5556)),o=a(97419),u=a(41682),d=a(31261),c=a(38715),m=a(93413),p=a(75166),f=l(a(55213));const E=["onChange"],g=e=>{let{isHypershiftWizard:t,poolNumber:a,isMultiAz:l}=e;return t?(0,u.getNodeIncrementHypershift)(a):(0,u.getNodeIncrement)(l)};class v extends i.default.Component{componentDidMount(){const{input:e,minNodes:t,isEditingCluster:a,currentNodeCount:l,increment:n,isHypershiftWizard:r,poolNumber:i,isMultiAz:s,isMachinePool:o,clusterVersion:u,allow500Nodes:c}=this.props,m=(0,d.getIncludedNodes)({isMultiAz:s,isHypershift:!o}),p=this.getAvailableQuota(),f=n||g({isHypershiftWizard:r,poolNumber:i,isMultiAz:s});(0,d.buildOptions)({included:m,available:p,isEditingCluster:a,currentNodeCount:l,minNodes:t,optionValueIncrement:f,isHypershift:r,clusterVersion:u,allow500Nodes:c}).includes(Number(e.value))||e.onChange(t)}componentDidUpdate(e){const{input:t,isEditingCluster:a,minNodes:l,isHypershiftWizard:n,poolNumber:r,currentNodeCount:i,isMultiAz:s,increment:o,isMachinePool:u,clusterVersion:c,allow500Nodes:m}=this.props,p=this.getAvailableQuota(),f=(0,d.getIncludedNodes)({isMultiAz:s,isHypershift:!u}),E=o||g({isHypershiftWizard:n,poolNumber:r,isMultiAz:s}),v=(0,d.buildOptions)({included:f,available:p,isEditingCluster:a,currentNodeCount:i,minNodes:l,optionValueIncrement:E,isHypershift:n,clusterVersion:c,allow500Nodes:m});if(n&&r!==e.poolNumber){var h,b;const a=((null!==(h=null===(b=e.input)||void 0===b?void 0:b.value)&&void 0!==h?h:0)/e.poolNumber||l)*r;a>l&&a<=(0,d.getMaxNodesHCP)(c,m)?t.onChange(a):t.onChange(l)}else 0!==p||t.value===l||a||t.onChange(l);v.includes(Number(t.value))||t.onChange(l)}getAvailableQuota(){const{quota:e,isByoc:t,isMultiAz:a,machineType:l,machineTypes:n,cloudProviderID:r,product:i,billingModel:s}=this.props;return(0,d.getAvailableQuota)({quota:e,isByoc:t,billingModel:s,cloudProviderID:r,isMultiAz:a,machineTypes:n,machineTypeId:l,product:i})}render(){const{input:e,isMultiAz:t,isEditingCluster:a,currentNodeCount:l,label:s,helpText:u,extendedHelpText:p,machineType:v,isByoc:h,isMachinePool:b,minNodes:S,increment:_,isHypershiftWizard:C,poolNumber:y=(t?3:1),buttonAriaLabel:I,clusterVersion:A,allow500Nodes:R}=this.props,T=_||g({isHypershiftWizard:C,poolNumber:y,isMultiAz:t}),O=(0,d.getIncludedNodes)({isMultiAz:t,isHypershift:!b}),P=this.getAvailableQuota(),D=(0,d.buildOptions)({included:O,available:P,isEditingCluster:a,currentNodeCount:l,minNodes:S,increment:T,isHypershift:C,clusterVersion:A,allow500Nodes:R});let L=D.length<1;!h||a||b||(L=!v||D.length<1);const N=e=>{let a=e;return C?a=e/T:t&&(a=e/3),a.toString()},{onChange:w}=e,M=(0,r.default)(e,E),k=i.default.createElement(o.FormSelect,(0,n.default)({"aria-label":"Compute nodes",isDisabled:L,className:"quota-dropdown",onChange:(e,t)=>w(t)},M),D.map((e=>(e=>i.default.createElement(o.FormSelectOption,{key:e,value:e,label:N(e)}))(e))));return i.default.createElement(o.FormGroup,{fieldId:e.name,label:s,labelIcon:p&&i.default.createElement(f.default,{hint:p,buttonAriaLabel:I})},L?i.default.createElement(o.Tooltip,{content:m.noQuotaTooltip,position:"right"},i.default.createElement("div",null,k)):k,C?i.default.createElement("span",{"data-testid":"compute-node-hcp-multizone-details"},"x ",y," machine pools = ",e.value," compute nodes"):t?i.default.createElement("span",{"data-testid":"compute-node-multizone-details"}," 3 zones = ",e.value," compute nodes"):null,i.default.createElement(c.FormGroupHelperText,null,u))}}v.propTypes={isEditingCluster:s.default.bool,currentNodeCount:s.default.number,minNodes:s.default.number,label:s.default.string,helpText:s.default.string,extendedHelpText:s.default.oneOfType([s.default.string,s.default.node]),quota:s.default.object.isRequired,isByoc:s.default.bool,isMachinePool:s.default.bool,isMultiAz:s.default.bool,machineType:s.default.string,machineTypes:s.default.object,input:s.default.shape({name:s.default.string.isRequired,value:s.default.oneOfType([s.default.string,s.default.number]),onChange:s.default.func.isRequired,onBlur:s.default.func.isRequired}),cloudProviderID:s.default.string.isRequired,product:s.default.oneOf(Object.keys(p.normalizedProducts)).isRequired,billingModel:s.default.oneOf(Object.values(p.billingModels)).isRequired,increment:s.default.number,isHypershiftWizard:s.default.bool,poolNumber:s.default.number,buttonAriaLabel:s.default.string,clusterVersion:(e,t,a)=>{const{isHypershiftWizard:l}=e;if(l){if("string"!=typeof e[t])return new Error(`Prop \`${t}\` must be a string when \`isHypershiftWizard\` is true in \`${a}\`.`);if(!e[t])return new Error(`Prop \`${t}\` is required when \`isHypershiftWizard\` is true in \`${a}\`.`)}return null},allow500Nodes:(e,t,a)=>{const{isHypershiftWizard:l}=e;if(l){if("boolean"!=typeof e[t])return new Error(`Prop \`${t}\` must be a boolean when \`isHypershiftWizard\` is true in \`${a}\`.`);if(void 0===e[t])return new Error(`Prop \`${t}\` is required when \`isHypershiftWizard\` is true in \`${a}\`.`)}return null}},t.default=v},60979:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58156)),r=a(73729),i=l(a(2942));t.default=(0,r.connect)((e=>({machineTypes:e.machineTypes,quota:(0,n.default)(e,"userProfile.organization.quotaList",{})})))(i.default)},66086:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.filterPersistentStorageValuesByQuota=void 0;var n=l(a(43693)),r=a(74688);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}const s=107374182400;t.filterPersistentStorageValuesByQuota=(e,t,a)=>{const l=(0,r.parseValueWithUnit)(a,"GiB"),o=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t);return o.values?(o.values=e?o.values.filter((t=>t.value<=l+e)):o.values.filter((e=>e.value<=l+s)),o):{values:[{value:s,unit:"B"}]}}},97626:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(91847)),i=l(a(93345)),s=l(a(5556)),o=a(97419),u=a(67080),d=a(93413),c=a(74688),m=l(a(55816)),p=a(38046),f=a(98229),E=a(66086);const g=["onChange"];class v extends i.default.Component{componentDidMount(){const{getPersistentStorage:e,persistentStorageValues:t}=this.props;t.pending||t.fulfilled||t.error||e()}render(){const{input:e,persistentStorageValues:t,disabled:a,currentValue:l,quotaList:s,billingModel:v,product:h,cloudProviderID:b,isBYOC:S,isMultiAZ:_}=this.props;if(t.fulfilled){const u=(0,f.availableQuota)(s,{resourceType:p.QuotaTypes.STORAGE,billingModel:v,product:h,cloudProviderID:b,isBYOC:S,isMultiAZ:_,resourceName:"gp2"}),m=(0,E.filterPersistentStorageValuesByQuota)(l,t,u),C=m.values.length<=1,y=a||C,{onChange:I}=e,A=(0,r.default)(e,g),R=i.default.createElement(o.FormSelect,(0,n.default)({className:"quota-dropdown","aria-label":"Persistent Storage",isDisabled:y,onChange:(e,t)=>I(t)},A),m.values.map((e=>(e=>{const t=(0,c.humanizeValueWithUnitGiB)(e.value),a=e.value.toString();return i.default.createElement(o.FormSelectOption,{key:a,value:a,label:`${t.value} ${t.unit}`})})(e))));return C?i.default.createElement(o.Tooltip,{content:d.noQuotaTooltip,position:"right"},i.default.createElement("div",null,R)):R}return t.error?i.default.createElement(m.default,{message:"Error loading persistent storage list",response:t}):i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"spinner-fit-container"},i.default.createElement(u.Spinner,null)),i.default.createElement("div",{className:"spinner-loading-text"},"Loading persistent storage list..."))}}v.propTypes={getPersistentStorage:s.default.func.isRequired,persistentStorageValues:s.default.object.isRequired,input:s.default.object.isRequired,disabled:s.default.bool,quotaList:s.default.object.isRequired,currentValue:s.default.number,billingModel:s.default.string.isRequired,product:s.default.string.isRequired,cloudProviderID:s.default.string.isRequired,isBYOC:s.default.bool.isRequired,isMultiAZ:s.default.bool.isRequired},t.default=v},22629:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=l(a(35476)),i=l(a(97626));const s={getPersistentStorage:r.default};t.default=(0,n.connect)((e=>({persistentStorageValues:e.persistentStorageValues,quotaList:e.userProfile.organization.quotaList})),s)(i.default)},17779:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419);function s(e){let{isReadOnly:t,someReadOnly:a}=e;return t?n.default.createElement(i.Banner,{variant:"gold",className:"configuration_mode_read_only"},n.default.createElement(i.Text,null,n.default.createElement("b",null,"You will be unable to configure your cluster during maintenance.")),n.default.createElement(i.Text,null,"Actions like configuring identity providers and updating cluster settings are disabled until maintenance is complete. More information may be available under"," ",n.default.createElement("b",null,"Cluster history")," in Overview tab.")):a?n.default.createElement(i.Banner,{variant:"gold",className:"configuration_mode_read_only"},n.default.createElement(i.Text,null,n.default.createElement("b",null,"You will be unable to configure some of your clusters during maintenance.")),n.default.createElement(i.Text,null,"Actions like configuring identity providers and updating cluster settings are disabled until maintenance is complete.")):null}s.propTypes={isReadOnly:r.default.bool,someReadOnly:r.default.bool},t.default=s},98828:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(55816)),o=l(a(28592)),u=l(a(43775)),d=l(a(67864)),c=l(a(94560));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}class p extends n.Component{componentDidUpdate(){const{resumeClusterResponse:e,resetResponse:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}render(){const{closeModal:e,submit:t,resumeClusterResponse:a,resetResponse:l,clusterID:r,clusterName:u,shouldDisplayClusterName:m}=this.props,p=()=>{l(),e()},f=a.error?n.default.createElement(s.default,{message:"Error hibernating cluster",response:a}):null,E=()=>{t(r)};return n.default.createElement(o.default,{"data-testid":"resume-cluster-modal",header:n.default.createElement(c.default,{title:"Resume from hibernation"}),secondaryTitle:m?u:void 0,onClose:p,primaryText:"Resume cluster",secondaryText:"Close",onPrimaryClick:E,isPending:a.pending,onSecondaryClick:p},n.default.createElement(i.Form,{onSubmit:E},f,n.default.createElement(d.default,{clusterName:u,isHibernating:!0})))}}p.propTypes={clusterID:r.default.string.isRequired,clusterName:r.default.string.isRequired,closeModal:r.default.func,resetResponse:r.default.func,resumeClusterResponse:r.default.shape({fulfilled:r.default.bool,pending:r.default.bool,error:r.default.bool}),submit:r.default.func,onClose:r.default.func,shouldDisplayClusterName:r.default.bool},p.defaultProps={resumeClusterResponse:{}},p.modalName=u.default.RESUME_CLUSTER,t.default=p},53878:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(24239),i=a(91089),s=l(a(98828));t.default=(0,n.connect)((e=>{const t=e.modal.data;return{resumeClusterResponse:e.clusters.resumeHibernatingCluster,clusterID:t.clusterID?t.clusterID:"",clusterName:t.clusterName?t.clusterName:"",shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:t=>{e((0,r.resumeCluster)(t))},resetResponse:()=>e((0,r.clearResumeClusterResponse)()),closeModal:()=>e((0,i.closeModal)())})))(s.default)},2276:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(72740),s=a(97419),o=l(a(55816)),u=l(a(28592)),d=l(a(43775)),c=l(a(92148)),m=l(a(22629));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}class f extends n.Component{componentDidMount(){const{persistentStorageValues:e,loadBalancerValues:t,getLoadBalancers:a,getPersistentStorage:l,organization:n,getOrganizationAndQuota:r}=this.props;e.fulfilled||e.pending||l(),t.fulfilled||t.pending||a(),n.pending||r()}componentDidUpdate(){const{editClusterResponse:e,resetResponse:t,closeModal:a,onClose:l,getOrganizationAndQuota:n}=this.props;!e.fulfilled||e.pending||e.error||(t(),l(),a(),n())}render(){const{closeModal:e,handleSubmit:t,editClusterResponse:a,resetResponse:l,consoleURL:r,showLoadBalancerAlert:d,showPersistentStorageAlert:p,persistentStorageValues:f,loadBalancerValues:E,initialValues:g,organization:v,isByoc:h,pristine:b,cloudProviderID:S,billingModel:_,product:C,isMultiAZ:y,shouldDisplayClusterName:I,clusterDisplayName:A}=this.props,R=()=>{l(),e()},T=a.error?n.default.createElement(o.default,{message:"Error editing cluster",response:a}):null,O=r?n.default.createElement("a",{href:`${r}/k8s/ns/default/resourcequotas`,target:"_blank",rel:"noopener noreferrer"},"Check your usage"):"Check your usage",P=n.default.createElement(s.Alert,{variant:"warning",isInline:!0,title:"Scaling below the current limit can cause problems in your environment"},n.default.createElement("div",null,n.default.createElement("p",null,O," before proceeding to be sure you are not scaling below what is currently being used."))),D=E.pending||f.pending||a.pending||v.pending,L=h?"edit-cluster-modal":"edit-cluster-modal edit-cluster-modal-rhinfra";return n.default.createElement(u.default,{className:L,title:"Edit load balancers and persistent storage",secondaryTitle:I?A:void 0,onClose:R,primaryText:"Apply",onPrimaryClick:t,onSecondaryClick:R,isPrimaryDisabled:D||b,isPending:D,isSmall:!0},n.default.createElement(n.default.Fragment,null,T,n.default.createElement(s.Form,{onSubmit:t},n.default.createElement(s.Grid,{hasGutter:!0},!h&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.GridItem,{span:8},n.default.createElement(s.FormGroup,{fieldId:"load_balancers",label:"Load balancers"},n.default.createElement(i.Field,{label:"Load balancers",name:"load_balancers",component:c.default,disabled:D,currentValue:g.load_balancers,cloudProviderID:S,billingModel:_,product:C,isBYOC:h,isMultiAZ:y}))),n.default.createElement(s.GridItem,{span:4}),d&&P,n.default.createElement(s.GridItem,{span:8},n.default.createElement(s.FormGroup,{fieldId:"persistent_storage",label:"Persistent storage"},n.default.createElement(i.Field,{label:"Persistent storage",name:"persistent_storage",component:m.default,disabled:D,currentValue:g.persistent_storage,cloudProviderID:S,billingModel:_,product:C,isBYOC:h,isMultiAZ:y}))),n.default.createElement(s.GridItem,{span:4}),p&&P)))))}}f.propTypes={closeModal:r.default.func.isRequired,onClose:r.default.func.isRequired,handleSubmit:r.default.func.isRequired,resetResponse:r.default.func.isRequired,editClusterResponse:r.default.object,min:r.default.shape({value:r.default.number,validationMsg:r.default.string}).isRequired,consoleURL:r.default.string,initialValues:r.default.shape({id:r.default.string,nodes_compute:r.default.number,persistent_storage:r.default.number,load_balancers:r.default.number}).isRequired,showLoadBalancerAlert:r.default.bool,showPersistentStorageAlert:r.default.bool,getLoadBalancers:r.default.func.isRequired,getPersistentStorage:r.default.func.isRequired,persistentStorageValues:r.default.object.isRequired,loadBalancerValues:r.default.object.isRequired,organization:r.default.object.isRequired,getOrganizationAndQuota:r.default.func.isRequired,isByoc:r.default.bool,cloudProviderID:r.default.string.isRequired,pristine:r.default.bool,billingModel:r.default.string.isRequired,product:r.default.string.isRequired,isMultiAZ:r.default.bool.isRequired,shouldDisplayClusterName:r.default.bool,clusterDisplayName:r.default.string},f.defaultProps={editClusterResponse:{}},f.modalName=d.default.SCALE_CLUSTER,t.default=f},30704:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowStorageQuotaAlert=t.shouldShowLoadBalancerAlert=t.minValueSelector=void 0;var n=l(a(58156)),r=a(72740);t.minValueSelector=(e,t)=>{const a=t?3:9,l=t?2:4;return e?{value:a,validationMsg:`At least ${a} nodes are required for multiple availability zone cluster.`}:{value:l,validationMsg:`At least ${l} nodes are required`}},t.shouldShowLoadBalancerAlert=e=>{const{data:t}=e.modal,a=(0,n.default)(t,"load_balancer_quota",0),l=(0,r.getFormValues)("ScaleCluster")(e),i=(0,n.default)(l,"load_balancers",0);return!(!i||!a)&&a>parseInt(i,10)},t.shouldShowStorageQuotaAlert=e=>{const{data:t}=e.modal,a=(0,n.default)(t,"storage_quota.value",0),l=(0,r.getFormValues)("ScaleCluster")(e),i=(0,n.default)(l,"persistent_storage",0);return!(!i||!a)&&a>parseInt(i,10)}},31066:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(58156)),i=a(73729),s=a(72740),o=l(a(6071)),u=a(24239),d=l(a(44500)),c=l(a(35476)),m=a(2479),p=a(91089),f=l(a(2276)),E=a(30704);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const h=(0,s.reduxForm)({form:"ScaleCluster",enableReinitialize:!0})(f.default);t.default=(0,i.connect)((e=>{var t,a,l,n;const i=e.modal.data;return{shouldDisplayClusterName:i.shouldDisplayClusterName||!1,editClusterResponse:e.clusters.editedCluster,min:(0,E.minValueSelector)(i.multi_az,null===(t=i.ccs)||void 0===t?void 0:t.enabled),consoleURL:(0,r.default)(i,"console.url",null),clusterDisplayName:(0,o.default)(i),showLoadBalancerAlert:(0,E.shouldShowLoadBalancerAlert)(e),showPersistentStorageAlert:(0,E.shouldShowStorageQuotaAlert)(e),persistentStorageValues:e.persistentStorageValues,loadBalancerValues:e.loadBalancerValues,organization:e.userProfile.organization,isByoc:null===(a=i.ccs)||void 0===a?void 0:a.enabled,billingModel:null===(l=i.subscription)||void 0===l?void 0:l.cluster_billing_model,product:null===(n=i.subscription)||void 0===n?void 0:n.plan.type,isMultiAZ:i.multi_az,cloudProviderID:(0,r.default)(i,"cloud_provider.id",""),initialValues:{id:i.id,nodes_compute:i.nodes?i.nodes.compute:null,load_balancers:i.load_balancer_quota?i.load_balancer_quota:0,persistent_storage:i.storage_quota?i.storage_quota.value:107374182400}}}),(e=>({onSubmit:(t,a)=>{const l={};a||(l.load_balancer_quota=t.load_balancers?parseInt(t.load_balancers,10):null,l.storage_quota=t.persistent_storage?{unit:"B",value:parseFloat(t.persistent_storage)}:null),e((0,u.editCluster)(t.id,l))},resetResponse:()=>e((0,u.clearClusterResponse)()),closeModal:()=>e((0,p.closeModal)()),getOrganizationAndQuota:()=>e((0,m.getOrganizationAndQuota)()),getPersistentStorage:c.default,getLoadBalancers:d.default})),((e,t,a)=>v(v(v(v({},a),e),t),{},{onSubmit:a=>{t.onSubmit(a,e.isByoc)}})))(h)},73553:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.getNodesCount=t.getMinReplicasCount=t.default=t.computeNodeHintText=void 0;var n=l(a(94506)),r=a(75166),i=a(49484);const s=(e,t,a)=>{const l=(t?3:2)**(e?1:2);return a?`${l}`:l};t.getNodesCount=s,t.getMinReplicasCount=function(e,t,a){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=s(e,t),r=t&&!l?n/3:n;return a?`${r}`:r},t.computeNodeHintText=(e,t)=>{switch(!0){case e:return i.constants.hcpComputeNodeCountHintWizard;case t:return i.constants.hcpComputeNodeCountHint;default:return i.constants.computeNodeCountHint}},t.default=e=>{let t,{isDefaultMachinePool:a,product:l,isBYOC:i,isMultiAz:s,autoScaleMinNodesValue:o=null,defaultMinAllowed:u=0,isHypershiftWizard:d=!1}=e,c=parseInt(o,10)||0;return s&&!d&&(c*=3),t=a?i||l===r.normalizedProducts.ROSA?s?3:2:s?9:4:u,(0,n.default)([c,t])}},38156:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(99851)),o=a(93413),u=a(75166),d=a(74688),c=a(49484),m=a(98229),p=a(14115),f=l(a(55816)),E=l(a(8888)),g=a(38715),v=l(a(55213)),h=a(16521),b=a(27164),S=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(3255));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}const C=e=>{if(!e)return"";const t=(0,d.humanizeValueWithUnit)(e.memory.value,e.memory.unit);let a=`${e.cpu.value} ${e.cpu.unit} ${t.value} ${t.unit} RAM`;if("accelerated_computing"===e.category){const t=e.name.match(/\d+ GPU[s]?/g);t&&(a+=` (${t})`)}return a},y=e=>e?e.id:"",I=e=>{var t,a;let{machine_type:l,machine_type_force_choice:r,getDefaultFlavour:d,flavours:_,machineTypes:I,machineTypesByRegion:A,isMultiAz:R,isBYOC:T,isMachinePool:O,inModal:P=!1,cloudProviderID:D,product:L,billingModel:N,quota:w,organization:M,menuAppendTo:k,allExpanded:F=!0}=e;const{input:x,meta:{error:G,touched:U}}=l,{input:j}=r,H=A.fulfilled&&!(null!=A&&null!==(t=A.typesByID[l.input.value])&&void 0!==t&&t.id)&&(null==I||null===(a=I.typesByID[l.input.value])||void 0===a?void 0:a.id),V=M.fulfilled&&I.fulfilled&&(_.fulfilled||_.error),q=A.fulfilled||A.error&&V,z=(T||L===u.normalizedProducts.ROSA)&&D===p.CloudProviderType.Aws&&!P,B=(e,t)=>!(null==t||!t.typesByID[e]),[W,$]=n.default.useState(!H),Y=q&&z&&W?A:I,K=n.default.useCallback((e=>{if(!V||z&&!q||!Y.typesByID)return!1;const t=null==Y?void 0:Y.typesByID[e];if(!t)return!1;const a=t.generic_name;if(!T&&t.ccs_only)return!1;const l={product:L,cloudProviderID:D,isBYOC:T,isMultiAz:R,resourceName:a,billingModel:N},n=(0,m.availableClustersFromQuota)(w,l),r=(0,m.availableNodesFromQuota)(w,l);return O?r>=1:T?n>0&&r>=(R?3:2):n>=1}),[null==Y?void 0:Y.typesByID,N,D,T,V,q,z,O,R,L,w]),Q=n.default.useCallback((()=>{var e;if(j.value)return;const t=null==_||null===(e=_.byID[h.DEFAULT_FLAVOUR_ID])||void 0===e||null===(e=e[D])||void 0===e?void 0:e.compute_instance_type;t&&K(t)&&x.onChange(t)}),[D,null==_?void 0:_.byID,j.value,x,K]),Z=n.default.useCallback((()=>{j.onChange(!0),x.onChange("")}),[j,x]);n.default.useEffect((()=>{d()}),[d]),n.default.useEffect((()=>{V&&(!z||q)&&Y.typesByID&&(x.value||Q(),x.value&&!K(x.value)&&Z())}),[x.value,V,Y.typesByID,z,q,K,Q,Z]);const X=n.default.useCallback(((e,t)=>{x.onChange(t),j.onChange(!1)}),[j,x]),J=n.default.useMemo((()=>(0,S.default)(Y,D)),[D,Y]),ee=n.default.useMemo((()=>J.filter((e=>K(e.id)))),[K,J]),te="OCM does not have access to all AWS account details. Machine node type cannot be verified to be accessible for this AWS user.",ae=n.default.useMemo((()=>n.default.createElement(i.Icon,{status:"warning",size:"md"},n.default.createElement(s.default,null))),[]),le=n.default.useMemo((()=>{const e=(e=>{const t=[],a={};return S.machineCategories.forEach((e=>{let{name:l,label:n}=e;const r=[];a[l]=r,t.push([n,r])})),e.forEach((e=>{a[e.category]&&a[e.category].push(e)})),t})(ee),t=e.map((e=>{let[t,a]=e;if(a.length>0)return{name:t,category:t,children:a.map((e=>{const a=z&&!W&&!B(e.id,A);return{name:n.default.createElement(b.TreeViewSelectMenuItem,{name:y(e),description:C(e),popoverText:a&&te,icon:a&&ae}),category:t,nameLabel:y(e),descriptionLabel:C(e),id:e.id}}))}})).filter(Boolean);return t}),[ee,W,A,z,ae]),ne=e=>{let t;return le.forEach((a=>{a.children.forEach((a=>{a.id===e&&(t=a)}))})),t},re=n.default.useMemo((()=>(e=>e?`${y(e)} - ${C(e)}`:"")(ee.find((e=>e.id===x.value))||null)),[ee,x.value]);if(V&&(!z||q)&&!Y.error){if(0===ee.length)return n.default.createElement(i.Alert,{variant:i.AlertVariant.danger,isInline:!0,title:o.noMachineTypes,role:"alert"},n.default.createElement(E.default,{href:"https://cloud.redhat.com/products/dedicated/contact/"},"Contact sales to purchase additional quota."));const e=z&&x.value&&!B(x.value,A);return n.default.createElement(i.FormGroup,{label:"Compute node instance type",isRequired:!0,fieldId:"node_type",labelIcon:n.default.createElement(v.default,{hint:c.constants.computeNodeInstanceTypeHint})},n.default.createElement(b.TreeViewSelect,{treeViewSelectionMap:le,inModal:P,menuAppendTo:k,selected:ne(x.value),selectionPlaceholderText:re,setSelected:(e,t)=>{X(e,t.id)},menuToggleBadge:e&&ae,treeViewSwitchActive:!W,setTreeViewSwitchActive:e=>{j.onChange(!1),$(!e)},helperText:e&&n.default.createElement(i.HelperText,null,n.default.createElement(i.HelperTextItem,{variant:"warning",hasIcon:!0},te)),placeholder:"Select instance type",searchPlaceholder:"Find an instance size",includeFilterSwitch:z,switchLabelOnText:"Include types that might be unavailable to your account or region",switchLabelOffText:"Include types that might be unavailable to your account or region",allExpanded:F,ariaLabel:"Machine type select"}),n.default.createElement(g.FormGroupHelperText,{touched:U,error:G}))}return Y.error?n.default.createElement(f.default,{message:"Error loading node types",response:Y}):n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"spinner-fit-container"},n.default.createElement(i.Spinner,{size:"md"})),n.default.createElement("div",{className:"spinner-loading-text"},"Loading node types..."))},A=r.default.shape({input:r.default.shape({onChange:r.default.func.isRequired,value:r.default.string}).isRequired,meta:r.default.shape({error:r.default.oneOfType([r.default.bool,r.default.string]),touched:r.default.bool}),id:r.default.string,ccs_only:r.default.bool,generic_name:r.default.string});I.propTypes={machine_type:A,machine_type_force_choice:A,getDefaultFlavour:r.default.func.isRequired,flavours:r.default.object.isRequired,machineTypes:r.default.object.isRequired,machineTypesByRegion:r.default.object.isRequired,isMultiAz:r.default.bool.isRequired,isBYOC:r.default.bool.isRequired,isMachinePool:r.default.bool,inModal:r.default.bool,cloudProviderID:r.default.string,product:r.default.oneOf(Object.keys(u.normalizedProducts)).isRequired,billingModel:r.default.oneOf(Object.values(u.billingModels)).isRequired,quota:r.default.object.isRequired,organization:r.default.object.isRequired,menuAppendTo:r.default.object,allExpanded:r.default.bool},t.default=I},20289:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(16521),i=a(11912),s=l(a(38156));const o={getMachineTypes:i.getMachineTypes,getDefaultFlavour:r.getDefaultFlavour};t.default=(0,n.connect)((e=>({flavours:e.flavours,machineTypes:e.machineTypes,machineTypesByRegion:e.machineTypesByRegion,organization:e.userProfile.organization,quota:e.userProfile.organization.quotaList})),o)(s.default)},3255:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.machineCategories=t.default=void 0;var n=l(a(58156)),r=l(a(55378)),i=a(74688);const s=t.machineCategories=[{name:"general_purpose",label:"General purpose"},{name:"memory_optimized",label:"Memory optimized"},{name:"compute_optimized",label:"Compute optimized"},{name:"storage_optimized",label:"Storage optimized"},{name:"network_optimized",label:"Network optimized"},{name:"burstable",label:"Burstable"},{name:"accelerated_computing",label:"Accelerated computing"}],o=(0,r.default)(s,"name");function u(e,t){if(e.category===t.category){const a=function(e,t){return(0,i.parseValueWithUnit)(e.memory.value,e.memory.unit)-(0,i.parseValueWithUnit)(t.memory.value,t.memory.unit)}(e,t);return 0===a?e.cpu.value-t.cpu.value:a}return o.indexOf(e.category)-o.indexOf(t.category)}const d={gcp:u,aws:u};t.default=(e,t)=>[...(0,n.default)(e.types,t,[])].sort(d[t])},40674:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(55816)),o=l(a(28592)),u=l(a(43775));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}class c extends n.Component{componentDidUpdate(){const{unarchiveClusterResponse:e,resetResponse:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}render(){const{closeModal:e,submit:t,unarchiveClusterResponse:a,resetResponse:l,subscriptionID:r,name:u,shouldDisplayClusterName:d}=this.props,c=()=>{l(),e()},m=a.error?n.default.createElement(s.default,{message:"Error un-archiving cluster",response:a}):null;return n.default.createElement(o.default,{title:"Unarchive cluster",secondaryTitle:d?u:void 0,"data-testid":"unarchive-cluster-dialog",onClose:c,primaryText:"Unarchive cluster",onPrimaryClick:()=>t(r,u),isPending:a.pending,onSecondaryClick:c},n.default.createElement(n.default.Fragment,null,m,n.default.createElement(i.Form,{onSubmit:()=>t(r,u)},n.default.createElement("p",null,"Un-archiving a cluster will make it visible in the active (default) cluster list. You may need to manage subscriptions if the cluster is active."))))}}c.propTypes={closeModal:r.default.func.isRequired,onClose:r.default.func.isRequired,submit:r.default.func.isRequired,resetResponse:r.default.func.isRequired,unarchiveClusterResponse:r.default.object,subscriptionID:r.default.string.isRequired,name:r.default.string.isRequired,shouldDisplayClusterName:r.default.bool},c.defaultProps={unarchiveClusterResponse:{}},c.modalName=u.default.UNARCHIVE_CLUSTER,t.default=c},84465:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(24239),i=a(91089),s=l(a(14419)),o=l(a(40674));t.default=(0,n.connect)((e=>{const t=e.modal.data;return{isOpen:(0,s.default)(e,"unarchive-cluster"),unarchiveClusterResponse:e.clusters.unarchivedCluster,subscriptionID:t.subscriptionID?t.subscriptionID:"",name:t.name?t.name:"",shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:(t,a)=>{e((0,r.unarchiveCluster)(t,a))},resetResponse:()=>e((0,r.clearClusterUnarchiveResponse)()),closeModal:()=>e((0,i.closeModal)())})))(o.default)},54478:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(31003),u=l(a(5221)),d=a(23271);a(75027);class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{showPopover:!1}),(0,n.default)(this,"popOverShouldClose",(()=>{this.setState({showPopover:!1})})),(0,n.default)(this,"popOverShouldOpen",(()=>{this.setState({showPopover:!0})})),(0,n.default)(this,"navToAddOns",(()=>{this.setState({showPopover:!1}),window.location.hash="#addOns"}))}componentDidMount(){const{cluster:e,clusterAddOns:t,getClusterAddOns:a}=this.props;t.clusterID===e.id&&t.pending||a(e.id)}render(){const{cluster:e,clusterAddOns:t,addOns:a}=this.props,{showPopover:l}=this.state,n=(()=>{const e=[];return t.items.forEach((t=>{a.items.forEach((a=>{a.id===t.id&&a.has_external_resources&&e.push(t)}))})),e})(),i=n.some((e=>e.state===u.default.INSTALLATION_STATE.DELETING)),c=n.some((e=>e.state!==u.default.INSTALLATION_STATE.DELETED)),m=n.some((e=>e.state===u.default.INSTALLATION_STATE.FAILED)),p=(()=>{const e=[];return m&&t.items.forEach((t=>{t.state===u.default.INSTALLATION_STATE.FAILED&&e.push(t)})),e})(),f=()=>r.default.createElement(s.Popover,{isVisible:l,shouldClose:()=>this.popOverShouldClose(),shouldOpen:()=>this.popOverShouldOpen(),headerContent:r.default.createElement("div",null,"Add-on uninstallation status"),bodyContent:r.default.createElement("div",null,r.default.createElement(s.Button,{isInline:!0,variant:"link",onClick:()=>this.navToAddOns()},p[0].id)," ","add-on failed to uninstall")},r.default.createElement(s.Button,{isInline:!0,variant:"link"},"Failed")),E=()=>r.default.createElement(s.Popover,{isVisible:l,shouldClose:()=>this.popOverShouldClose(),shouldOpen:()=>this.popOverShouldOpen(),headerContent:r.default.createElement("div",null,"Add-on uninstallation status"),bodyContent:r.default.createElement("div",null,"The following add-ons failed to uninstall:",r.default.createElement(s.List,{className:"uninstall-progress-list--error-list"},p.map((e=>r.default.createElement(s.ListItem,null,r.default.createElement(s.Button,{isInline:!0,variant:"link",onClick:()=>this.navToAddOns()},e.id))))))},r.default.createElement(s.Button,{isInline:!0,variant:"link"},"Failed")),g=(()=>{const a={variant:"pending",text:"Pending"},l={variant:"info",text:"Uninstalling",isCurrent:!0},s=0!==n.length&&0!==t.items.length;return(0,d.isHypershiftCluster)(e)?{addOnCleanUp:{variant:"pending",text:"Not Supported"},clusterUninstall:l}:s&&c?i?{addOnCleanUp:l,clusterUninstall:a}:m?{addOnCleanUp:0===p.length?{icon:r.default.createElement(o.ExclamationCircleIcon,{className:"uninstall-progress-list--icon-error"}),text:"Failed"}:1===p.length?{icon:r.default.createElement(o.ExclamationCircleIcon,{className:"uninstall-progress-list--icon-error"}),text:f()}:{icon:r.default.createElement(o.ExclamationCircleIcon,{className:"uninstall-progress-list--icon-error"}),text:E()},clusterUninstall:a}:{addOnCleanUp:a,clusterUninstall:a}:{addOnCleanUp:{variant:"success",text:"Completed"},clusterUninstall:l}})();return r.default.createElement(s.ProgressStepper,null,r.default.createElement(s.ProgressStep,{variant:g.addOnCleanUp.variant,icon:g.addOnCleanUp.icon,isCurrent:g.addOnCleanUp.isCurrent,description:g.addOnCleanUp.text,id:"addOnCleanUp",titleId:"addOnCleanUp-title"},"Add-on uninstallation"),r.default.createElement(s.ProgressStep,{variant:g.clusterUninstall.variant,icon:g.clusterUninstall.icon,isCurrent:g.clusterUninstall.isCurrent,description:g.clusterUninstall.text,id:"clusterUninstall",titleId:"clusterUninstall-title"},"Cluster uninstallation"))}}c.propTypes={cluster:i.default.object.isRequired,getClusterAddOns:i.default.func.isRequired,clusterAddOns:i.default.object,addOns:i.default.object},t.default=c},82183:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=a(73729),r=a(28895),i=a(11307),s=a(75567),o=l(a(54478));t.A=(0,n.connect)((e=>({clusterAddOns:e.addOns.clusterAddOns,addOns:e.addOns.addOns,logs:e.logs})),(e=>(0,r.bindActionCreators)({getClusterAddOns:i.getClusterAddOns,getLogs:s.getLogs},e)))(o.default)},57010:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(43693)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),s=l(a(58156)),o=l(a(5556)),u=a(97419),d=a(69304),c=l(a(65702)),m=a(75166),p=l(a(57331)),f=l(a(55816)),E=l(a(8888)),g=l(a(28592)),v=l(a(43775)),h=a(98229);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}a(50639);class S extends i.Component{componentDidMount(){const{organization:e,getOrganizationAndQuota:t}=this.props;e.pending||t()}componentDidUpdate(){const{upgradeTrialClusterResponse:e,resetResponse:t,closeModal:a,onClose:l}=this.props;e.fulfilled&&(t(),a(),l())}upgradeModalQuota(){const{cluster:e,machineTypesByID:t,organization:{quotaList:a},machinePools:l}=this.props,{OSD:n}=m.normalizedProducts,{STANDARD:r,MARKETPLACE:i}=m.billingModels,o=(0,s.default)(e,"multi_az"),u=(0,s.default)(e,"cloud_provider.id"),d=l.reduce(((e,a)=>{const l=a.instance_type,n=t[l].generic_name,r=a.autoscaling?a.autoscaling.max_replicas:a.replicas;return e[n]?e[n]+=r:e[n]=r,e}),{}),c={MARKETPLACE:!0,STANDARD:!0};return Object.keys(d).forEach((e=>{const t={product:n,cloudProviderID:u,resourceName:e,isBYOC:!0,isMultiAz:o,billingModel:r},l=(0,h.availableClustersFromQuota)(a,t),s=(0,h.availableNodesFromQuota)(a,t);c.STANDARD=c.STANDARD&&s>=d[e]&&l>0,t.billingModel=i;const m=(0,h.availableClustersFromQuota)(a,t),p=(0,h.availableNodesFromQuota)(a,t);c.MARKETPLACE=c.MARKETPLACE&&p>=d[e]&&m>0})),c}primaryButton(e){const{submit:t,clusterID:a}=this.props,{STANDARD:l,MARKETPLACE:n}=m.billingModels,r=e.MARKETPLACE,i={primaryText:"Contact sales",onPrimaryClick:()=>S.buttonLinkClick("https://cloud.redhat.com/products/dedicated/contact/")};return e.STANDARD&&!e.MARKETPLACE?(i.primaryText="Upgrade using quota",i.primaryLink=null,i.onPrimaryClick=()=>t(a,l),i):r?(i.primaryText="Upgrade using Marketplace billing",i.primaryLink=null,i.onPrimaryClick=()=>t(a,n),i):i}secondaryButton(e){const{submit:t,clusterID:a}=this.props,{STANDARD:l}=m.billingModels,n={showSecondary:!0,secondaryText:"Enable Marketplace billing",onSecondaryClick:()=>S.buttonLinkClick("https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated")};return e.MARKETPLACE&&e.STANDARD&&(n.secondaryText="Upgrade using quota",n.onSecondaryClick=()=>t(a,l)),e.MARKETPLACE&&!e.STANDARD&&(n.showSecondary=!1,n.secondaryLink=null),n}tertiaryButton(){const{closeModal:e,resetResponse:t}=this.props,a=()=>{t(),e()};return{tertiaryText:"Cancel",onTertiaryClick:a,showTertiary:!0,onClose:a}}render(){const{submit:e,upgradeTrialClusterResponse:t,clusterID:a,shouldDisplayClusterName:l,clusterDisplayName:r}=this.props,s=t.error?i.default.createElement(f.default,{message:"Error upgrading cluster",response:t}):null,o=this.upgradeModalQuota(),m=this.primaryButton(o),v=this.secondaryButton(o),h=this.tertiaryButton(),b=!(o.STANDARD||o.MARKETPLACE),S=b?"small":"medium";return i.default.createElement(g.default,(0,n.default)({title:"Upgrade cluster from Trial",secondaryTitle:l?r:void 0,"data-testid":"upgrade-trial-cluster-dialog",modalSize:S,isSmall:!1},m,{className:"upgrade-trial-cluster-dialog"},v,h,{isPending:t.pending}),s,i.default.createElement(u.Form,{onSubmit:()=>e(a)},i.default.createElement("div",null,!b&&i.default.createElement("img",{className:"upgrade-trial-logo",src:p.default,alt:"Red Hat"}),"Convert this trial cluster to a fully supported OpenShift Dedicated cluster.",i.default.createElement("br",null),i.default.createElement("br",null),i.default.createElement(E.default,{href:c.default.OCM_DOCS_UPGRADING_OSD_TRIAL},"Learn more"),b&&i.default.createElement(u.Alert,{variant:"warning",isInline:!0,title:"Your organization doesn't have enough quota to upgrade this cluster.",className:"upgrade-trial-no-quota","data-testid":"no-quota-alert"},i.default.createElement(d.Link,{to:"/quota"},i.default.createElement(u.Button,{id:"subscriptions",variant:"link"},"View your available quota"))))))}}(0,r.default)(S,"buttonLinkClick",(e=>{window.open(e,"_blank")})),S.propTypes={closeModal:o.default.func.isRequired,onClose:o.default.func.isRequired,submit:o.default.func.isRequired,resetResponse:o.default.func.isRequired,clusterID:o.default.string.isRequired,organization:o.default.object.isRequired,cluster:o.default.object.isRequired,getOrganizationAndQuota:o.default.func.isRequired,upgradeTrialClusterResponse:o.default.object,machineTypesByID:o.default.object,clusterDisplayName:o.default.string,shouldDisplayClusterName:o.default.bool,machinePools:o.default.array.isRequired},S.defaultProps={upgradeTrialClusterResponse:{}},S.modalName=v.default.UPGRADE_TRIAL_CLUSTER,t.default=S},67412:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=l(a(6071)),i=a(24239),s=a(2479),o=a(91089),u=l(a(57010));t.default=(0,n.connect)((e=>{const t=e.modal.data;return{upgradeTrialClusterResponse:e.clusters.upgradedCluster,organization:e.userProfile.organization,clusterID:t.clusterID?t.clusterID:"",cluster:t.cluster?t.cluster:"",clusterDisplayName:(0,r.default)(t.cluster),shouldDisplayClusterName:t.shouldDisplayClusterName,machineTypesByID:e.machineTypes.typesByID,machinePools:e.machinePools.getMachinePools.data}}),(e=>({submit:(t,a)=>{e((0,i.upgradeTrialCluster)(t,{billing_model:a,product:{id:"osd"}}))},resetResponse:()=>e((0,i.clearUpgradeTrialClusterResponse)()),closeModal:()=>e((0,o.closeModal)()),getOrganizationAndQuota:()=>e((0,s.getOrganizationAndQuota)())})))(u.default)},72724:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(68720),u=l(a(55816)),d=l(a(28592));class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"close",(()=>{const{clearDeleteScheduleResponse:e,closeModal:t}=this.props;e(),t()})),(0,n.default)(this,"deleteSchedule",(()=>{const{schedule:e,deleteSchedule:t,isHypershift:a}=this.props;t(e.cluster_id,e.id,a)}))}componentDidUpdate(){const{deleteScheduleRequest:e}=this.props;e.fulfilled&&this.close()}render(){const{isOpen:e,deleteScheduleRequest:t,schedule:a}=this.props,l=t.error?r.default.createElement(u.default,{message:"Error cancelling update",response:t}):null;return e&&r.default.createElement(d.default,{title:"Cancel update",onClose:this.close,primaryText:"Cancel this update",secondaryText:"Close",onPrimaryClick:this.deleteSchedule,isPending:t.pending,onSecondaryClick:this.close},r.default.createElement(r.default.Fragment,null,l,r.default.createElement(s.Form,{onSubmit:this.deleteSchedule},r.default.createElement("p",null,"This update to version ",a.version," is scheduled for"," ",r.default.createElement(o.DateFormat,{type:"exact",date:Date.parse(a.next_run)}),"."," "))))}}c.propTypes={isOpen:i.default.bool,closeModal:i.default.func.isRequired,deleteSchedule:i.default.func.isRequired,deleteScheduleRequest:i.default.object,schedule:i.default.shape({id:i.default.string,cluster_id:i.default.string,next_run:i.default.string,version:i.default.string}),clearDeleteScheduleResponse:i.default.func.isRequired,isHypershift:i.default.bool.isRequired},t.default=c},2311:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=l(a(14419)),s=a(99908),o=l(a(72724));const u={deleteSchedule:s.deleteSchedule,clearDeleteScheduleResponse:s.clearDeleteScheduleResponse,closeModal:r.closeModal};t.default=(0,n.connect)((e=>({isOpen:(0,i.default)(e,"cancel-upgrade"),schedule:e.modal.data.schedule,deleteScheduleRequest:e.clusterUpgrades.deleteScheduleRequest})),u)(o.default)},81580:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(19713)),o=l(a(65702)),u=l(a(16236)),d=l(a(8888));const{patchControlPlaneUpgradeSchedule:c,patchUpgradeSchedule:m}=u.default,p=e=>{let{isMinorVersionUpgradesEnabled:t,isAutomatic:a,clusterId:l,hasUnmetUpgradeAcknowledge:r,automaticUpgradePolicyId:u,setUpgradePolicy:p,isNextMinorVersionAvailable:f,isRosa:E,isHypershift:g,isSTSEnabled:v}=e;const[h,b]=n.default.useState(!1),[S,_]=n.default.useState(null);return a&&!r&&u&&l&&f&&!v?S?n.default.createElement(i.Alert,{variant:"danger",className:"automatic-cluster-updates-alert",isInline:!0,title:S,role:"alert","data-testid":"alert-error"}):n.default.createElement(i.Alert,{isExpandable:!0,isInline:!0,className:"automatic-cluster-updates-alert",customIcon:n.default.createElement(s.default,null),title:t?"Next minor version update allowed":"New minor version available",actionLinks:h?n.default.createElement(i.Spinner,{size:"sm","aria-label":"Setting minor version update status"}):(C=async e=>{b(!0),_(null);try{const t=g?c:m,a=await t(l,u,{enable_minor_version_upgrades:e});setTimeout((()=>{p(a.data),b(!1)}),500)}catch(e){_(e.response.data.reason||e.response.data)}},y=t,n.default.createElement(i.AlertActionLink,{onClick:()=>C(!y)},y?"Disallow this minor version update":"Allow the next minor version update")),"data-testid":"alert-success"},t?n.default.createElement("p",{"data-testid":"minorVersionUpgradeAlertDisableMessage"},"Your cluster will be updated to the newest minor version at the time you selected. Minor releases can include new Kubernetes versions or operating system capabilities, improved automation on IaaS providers, and other expanded features."):n.default.createElement("p",{"data-testid":"minorVersionUpgradeAlertEnableMessage"},"Allow your cluster to be updated to the newest minor version at the time you selected."," ",n.default.createElement(d.default,{href:E?o.default.ROSA_UPGRADES:o.default.OSD_UPGRADES},"Learn more about updates"))):null;var C,y};p.propTypes={isMinorVersionUpgradesEnabled:r.default.bool,isAutomatic:r.default.bool,hasUnmetUpgradeAcknowledge:r.default.bool,automaticUpgradePolicyId:r.default.string,clusterId:r.default.string,setUpgradePolicy:r.default.func,isNextMinorVersionAvailable:r.default.bool,isRosa:r.default.bool,isHypershift:r.default.bool,isSTSEnabled:r.default.bool},p.defaultProps={isMinorVersionUpgradesEnabled:!1},t.default=p},21600:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRosa=t.isNextMinorVersionAvailable=t.getUpgradeScheduleId=t.getEnableMinorVersionUpgrades=void 0;var l=a(88851),n=a(75166),r=a(86386);t.getEnableMinorVersionUpgrades=e=>{const t=e.clusterUpgrades.schedules.items.find((e=>"automatic"===e.schedule_type));return!t||t.enable_minor_version_upgrades},t.getUpgradeScheduleId=e=>{var t;return null===(t=e.clusterUpgrades.schedules.items.find((e=>"automatic"===e.schedule_type)))||void 0===t?void 0:t.id},t.isNextMinorVersionAvailable=e=>{var t;const[a,n]=(0,l.splitVersion)((0,r.getFromVersionFromState)(e));return((null===(t=e.clusters.details.cluster)||void 0===t||null===(t=t.version)||void 0===t?void 0:t.available_upgrades)||[]).some((e=>{const[t,r]=(0,l.splitVersion)(e);return t===a&&r>n}))},t.isRosa=e=>{var t;return(null===(t=e.clusters.details.cluster.subscription)||void 0===t?void 0:t.plan.type)===n.normalizedProducts.ROSA}},81551:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(23271),i=a(99908),s=a(86386),o=l(a(81580)),u=a(21600);t.default=(0,n.connect)((e=>{var t;const{cluster:a}=e.clusters.details,l=(0,r.isHypershiftCluster)(a);return{isAutomatic:!(0,s.getIsManual)(e),hasUnmetUpgradeAcknowledge:(0,s.getHasUnMetClusterAcks)(e),isMinorVersionUpgradesEnabled:(0,u.getEnableMinorVersionUpgrades)(e),automaticUpgradePolicyId:(0,u.getUpgradeScheduleId)(e),clusterId:(0,s.getClusterIdFromState)(e),isNextMinorVersionAvailable:(0,u.isNextMinorVersionAvailable)(e),isRosa:(0,u.isRosa)(e),isHypershift:l,isSTSEnabled:null==a||null===(t=a.aws)||void 0===t||null===(t=t.sts)||void 0===t?void 0:t.enabled}}),(e=>({setUpgradePolicy:t=>e((0,i.setAutomaticUpgradePolicy)(t))})))(o.default)},80548:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(29962);const s=e=>{let{getAcks:t,isMinorVersionUpgradesEnabled:a,isNextMinorVersionAvailable:l,isAutomatic:r}=e;const[s]=t;return r&&l&&a&&0===s.length?n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available"},n.default.createElement(i.InfoCircleIcon,null),"Next minor version update allowed."):null};s.propTypes={isAutomatic:r.default.bool,isMinorVersionUpgradesEnabled:r.default.bool,isNextMinorVersionAvailable:r.default.bool,getAcks:r.default.array},t.default=s},66757:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(21600),i=a(86386),s=l(a(80548));t.default=(0,n.connect)((e=>({isAutomatic:!(0,i.getIsManual)(e),isMinorVersionUpgradesEnabled:(0,r.getEnableMinorVersionUpgrades)(e),isNextMinorVersionAvailable:(0,r.isNextMinorVersionAvailable)(e),getAcks:(0,i.getClusterAcks)(e)})),(()=>({})))(s.default)},33196:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(29962),s=l(a(66757)),o=l(a(89037));a(5165);const u=e=>{let{children:t}=e;return n.default.createElement("div",{className:"ocm-upgrade-graph-container"},t)},d=e=>{let{children:t}=e;return n.default.createElement("li",{className:"ocm-upgrade-graph-line"},t)},c=e=>{let{children:t}=e;return n.default.createElement("ul",{className:"ocm-upgrade-graph-path"},t)},m=e=>{let{children:t}=e;return n.default.createElement("span",{className:"ocm-upgrade-graph-version"},t)},p=e=>{let{current:t}=e;return n.default.createElement("div",{className:"ocm-upgrade-graph-version-dot "+(t?"ocm-upgrade-current":"")})},f=e=>{let{currentVersion:t,updateVersion:a,hasMore:l}=e;return n.default.createElement("div",{className:"ocm-upgrade-graph"},n.default.createElement(u,null,n.default.createElement(c,{current:!0},n.default.createElement(d,null,n.default.createElement(m,null,t),n.default.createElement(p,{current:!0})),a&&n.default.createElement(n.default.Fragment,null,n.default.createElement(d,null),n.default.createElement(d,null,n.default.createElement(m,null,a),n.default.createElement(p,null))))),l&&n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available"},n.default.createElement(i.InfoCircleIcon,null),`Additional versions available between ${t} and ${a}`),n.default.createElement(o.default,{isPlain:!0,isInfo:!0,showConfirm:!0}),n.default.createElement(s.default,null))};c.propTypes={children:r.default.node},u.propTypes={children:r.default.node},d.propTypes={children:r.default.node},m.propTypes={children:r.default.node},p.propTypes={current:r.default.bool},f.propTypes={currentVersion:r.default.node,updateVersion:r.default.node,hasMore:r.default.bool},t.default=f},4376:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(99851),o=a(55611),u=a(69304);a(48960);const d=e=>{const{clusterId:t,hasAcks:a}=e;return a?n.default.createElement(u.Link,{to:`/details/${t}#updateSettings`,className:"ocm-upgrade-approval__required-link"},n.default.createElement(i.Icon,null,n.default.createElement(s.ExclamationTriangleIcon,{color:o.global_warning_color_100.value})),n.default.createElement("span",{className:"pf-v5-u-screen-reader"},"Warning")," Approval required"):null};d.propTypes={clusterId:r.default.string,hasAcks:r.default.bool},t.default=d},16309:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(86386),i=l(a(4376));t.default=(0,n.connect)((e=>({hasAcks:(0,r.getHasUnMetClusterAcks)(e)})),{})(i.default)},3529:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(97419),s=a(89217),o=l(a(16236)),u=l(a(55816)),d=l(a(28592)),c=l(a(29384));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const{patchControlPlaneUpgradeSchedule:p,patchUpgradeSchedule:f}=o.default,E=e=>{const[t,a]=(0,n.useState)(!1),[l,r]=(0,n.useState)(!1),[m,E]=(0,n.useState)([]),[g,v]=(0,n.useState)([]),[h,b]=(0,n.useState)(""),[S,_]=(0,n.useState)(""),{modalData:C,closeModal:y,clusterId:I,setGate:A,isOpen:R,automaticUpgradePolicyId:T,setUpgradePolicy:O,isHypershift:P,isSTSEnabled:D}=e;(0,n.useEffect)((()=>{R&&(b(C.fromVersion),_(C.toVersion),v(C.unmetAcknowledgements),E([]))}),[R,C]);const L=()=>{y()};return R?n.default.createElement(d.default,{title:"Administrator acknowledgement",onClose:()=>L(),primaryText:"Approve and continue",secondaryText:"Cancel",onPrimaryClick:()=>(async()=>{a(!0),E([]);const e=[];if(T&&!D)try{const e=P?p:f,t=await e(I,T,{enable_minor_version_upgrades:!0});O(t.data)}catch(t){e.push(t)}if(0===e.length){const t=g.map((e=>e.id)).map((e=>o.default.postClusterGateAgreement(I,e).then((()=>{A(e)})).catch((e=>Promise.reject(e)))));(await Promise.allSettled(t)).forEach((t=>{"rejected"===t.status&&(e.push(t.reason),l&&r(!1))}))}a(!1),0===e.length?y():E(e)})(),onSecondaryClick:()=>L(),isPrimaryDisabled:!l,isPending:t,className:"ocm-upgrade-ack-modal",modalSize:i.ModalVariant.medium},0===m.length?n.default.createElement(c.default,{fromVersion:h,toVersion:S,unmetAcknowledgements:g,confirmed:e=>r(e)}):m.map(((e,t)=>n.default.createElement(u.default,{key:`err-${t}`,message:"Failed to save administrator acknowledgement.",response:(0,s.getErrorState)({payload:e})})))):null};E.propTypes={closeModal:r.default.func,clusterId:r.default.string,automaticUpgradePolicyId:r.default.string,isOpen:r.default.bool,modalData:r.default.shape({fromVersion:r.default.string,toVersion:r.default.string,unmetAcknowledgements:r.default.arrayOf(r.default.object)}),setGate:r.default.func,setUpgradePolicy:r.default.func,isHypershift:r.default.bool,isSTSEnabled:r.default.bool},E.defaultProps={},t.default=E},10266:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(23271),i=a(33799),s=a(91089),o=l(a(14419)),u=a(99908),d=a(86386),c=l(a(3529));t.default=(0,n.connect)((e=>{var t;const{cluster:a}=e.clusters.details,l=(0,r.isHypershiftCluster)(a);return{isOpen:(0,o.default)(e,"ack-upgrade"),modalData:(0,d.getModalDataFromState)(e),automaticUpgradePolicyId:(0,d.getAutomaticUpgradePolicyId)(e),isHypershift:l,isSTSEnabled:null==a||null===(t=a.aws)||void 0===t||null===(t=t.sts)||void 0===t?void 0:t.enabled}}),(e=>({closeModal:()=>e(s.modalActions.closeModal()),setGate:t=>e((0,i.setClusterUpgradeGate)(t)),setUpgradePolicy:t=>e((0,u.setAutomaticUpgradePolicy)(t))})))(c.default)},86386:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUpgradeGates=t.getToVersionFromState=t.getModalDataFromState=t.getIsManual=t.getHasUnMetClusterAcks=t.getHasScheduledManual=t.getFromVersionFromState=t.getClusterUnMetClusterAcks=t.getClusterOpenShiftVersion=t.getClusterIdFromState=t.getClusterAcks=t.getAutomaticUpgradePolicyId=void 0;var l=a(88851);const n=e=>{var t;return null===(t=e.clusters)||void 0===t||null===(t=t.details)||void 0===t||null===(t=t.cluster)||void 0===t?void 0:t.id};t.getClusterIdFromState=n,t.getClusterOpenShiftVersion=e=>{var t;return null===(t=e.clusters)||void 0===t||null===(t=t.details)||void 0===t||null===(t=t.cluster)||void 0===t?void 0:t.openshift_version};const r=e=>{var t;return(null===(t=e.clusters.details.cluster.version)||void 0===t?void 0:t.raw_id)||null};t.getFromVersionFromState=r;const i=e=>{var t;const a=null===(t=e.clusterUpgrades)||void 0===t||null===(t=t.schedules)||void 0===t||null===(t=t.items)||void 0===t?void 0:t.find((t=>t.version&&t.version!==r(e)));if(!a){var l,n;if(null===(l=e.clusters.details.cluster.version)||void 0===l||!l.available_upgrades||0===(null===(n=e.clusters.details.cluster.version)||void 0===n?void 0:n.available_upgrades.length))return null;const t=e.clusters.details.cluster.version.available_upgrades;return t[t.length-1]}return a.version};t.getToVersionFromState=i;const s=e=>!e.clusterUpgrades.schedules.items.some((e=>"automatic"===e.schedule_type));t.getIsManual=s,t.getModalDataFromState=e=>e.modal.data;const o=e=>{var t;return(null===(t=e.clusters.upgradeGates)||void 0===t?void 0:t.gates)||[]};t.getUpgradeGates=o;const u=(e,t)=>{if(!n(e))return[[],[]];const a=t||i(e),s=r(e),u=(e=>e.clusters.details.cluster.upgradeGates||[])(e),d=o(e)||[],[c,m]=(0,l.splitVersion)(a),[p,f]=(0,l.splitVersion)(s);if(!(c&&m&&p&&f))return[[],[]];const E=d.filter((t=>{if(t.sts_only&&!(e=>{var t,a;return(null===(t=e.clusters.details.cluster.aws)||void 0===t||null===(t=t.sts)||void 0===t?void 0:t.role_arn)&&""!==(null===(a=e.clusters.details.cluster.aws)||void 0===a||null===(a=a.sts)||void 0===a?void 0:a.role_arn)})(e))return!1;const[a,n]=(0,l.splitVersion)(t.version_raw_id_prefix);return!(!a||!n)&&(a>p&&a<=c||a===p&&n>f&&n<=m)})),g=[],v=[];return E.forEach((e=>{const t=u.find((t=>t.version_gate.id===e.id));t?v.push(t):g.push(e)})),[g,v]};t.getClusterAcks=u;const d=(e,t)=>{const a=t||i(e);return u(e,a)[0]};t.getClusterUnMetClusterAcks=d,t.getHasUnMetClusterAcks=(e,t)=>d(e,t).length>0,t.getHasScheduledManual=e=>s(e)&&e.clusterUpgrades.schedules.items.some((t=>t.version!==r(e))),t.getAutomaticUpgradePolicyId=e=>{const t=e.clusterUpgrades.schedules.items.find((e=>"automatic"===e.schedule_type));return null==t?void 0:t.id}},29384:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(8888));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}a(16849);const u="Acknowledge",d=e=>{const[t,a]=(0,n.useState)(""),{initiallyConfirmed:l,confirmed:r,fromVersion:o,toVersion:d,unmetAcknowledgements:c}=e;return(0,n.useEffect)((()=>{l&&a(u)}),[]),(0,n.useEffect)((()=>r(t===u)),[t]),n.default.createElement(i.Grid,{hasGutter:!0,className:"ocm-upgrade-ack-step"},n.default.createElement(i.GridItem,null,n.default.createElement(i.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"1. Review and prevent update issues"),n.default.createElement("ul",{className:"wizard-step-body"},c.map(((e,t)=>n.default.createElement("li",{key:`ack-${t}`,"data-testid":"unmetAcknowledgement"},e.description?n.default.createElement("p",null,e.description):null,n.default.createElement(i.Alert,{isPlain:!0,isInline:!0,variant:"warning",title:e.warning_message},e.documentation_url?n.default.createElement(s.default,{href:e.documentation_url},"Learn more"):null)))))),n.default.createElement(i.Divider,null),n.default.createElement(i.GridItem,null,n.default.createElement(i.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"2. Acknowledge"),n.default.createElement("div",{className:"wizard-step-body"},n.default.createElement("p",null,`\n              I acknowledge I have resolved any potential update issues on my cluster, \n              and the cluster is ready to update from OpenShift Container Platform\n              from ${o} to ${d}.\n              `),n.default.createElement(i.Form,{onSubmit:e=>{e.preventDefault()}},n.default.createElement(i.FormGroup,{label:n.default.createElement("span",{className:"ocm-upgrade-ack-step_text-input-label"},"Confirm the above by typing ",n.default.createElement("strong",null,u)," below:"),isRequired:!0,fieldId:"upgradeAcknowledgementModalText"},n.default.createElement(i.TextInput,{value:t,isRequired:!0,id:"upgradeAcknowledgementModalText",type:"text",onChange:(e,t)=>a(t),placeholder:"Type here","data-testid":"acknowledgeTextInput"}))))))};d.propTypes={confirmed:r.default.func,unmetAcknowledgements:r.default.array,fromVersion:r.default.string,toVersion:r.default.string,initiallyConfirmed:r.default.bool},d.defaultProps={initiallyConfirmed:!1},t.default=d},5381:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(29962),o=l(a(10266));a(68410);const u=e=>{const{openModal:t,toVersion:a,fromVersion:l,clusterId:r,getAcks:u,isPlain:d,isManual:c,isInfo:m,showConfirm:p,openshiftVersion:f,hasScheduledManual:E}=e,g=()=>{const[e]=u;t("ack-upgrade",{toVersion:a,fromVersion:l,unmetAcknowledgements:e,clusterId:r})},v=`Administrator acknowledgement is required before updating from ${l} to ${a}`;if(!r||!f)return null;const[h,b]=u,S=p&&0===h.length&&b.length>0;return n.default.createElement(n.default.Fragment,null,h.length>0&&c&&m&&!E?n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available","data-testid":"infoMessageUnmetAcks"},n.default.createElement(s.InfoCircleIcon,null)," ",v):null,h.length>0&&!c?n.default.createElement(n.default.Fragment,null,n.default.createElement(o.default,{clusterId:r}),n.default.createElement(i.Alert,{id:"upgrade-ack-alert",isInline:!0,isPlain:d,variant:"warning",title:v,"data-testid":"alertMessageUnmetAcks",className:d?"":"automatic-cluster-updates-alert",actionLinks:d?null:n.default.createElement(i.AlertActionLink,{onClick:()=>g()},"Provide approval")}),d?n.default.createElement(i.Button,{variant:"secondary",className:"ocm-upgrade-approval__provide-button",onClick:()=>g()},"Provide approval"):null):null,S?n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available","data-testid":"confirmAckReceived"},n.default.createElement(s.InfoCircleIcon,null),"Administrator acknowledgement was received."):null)};u.propTypes={isPlain:r.default.bool,showConfirm:r.default.bool,isInfo:r.default.bool,hasScheduledManual:r.default.bool,openModal:r.default.func,clusterId:r.default.string,openshiftVersion:r.default.string,fromVersion:r.default.string,toVersion:r.default.string,getAcks:r.default.array,isManual:r.default.bool},u.defaultProps={isPlain:!1,showConfirm:!1,isInfo:!1},t.default=u},89037:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=a(86386),s=l(a(5381));const o={openModal:r.modalActions.openModal};t.default=(0,n.connect)((e=>({clusterId:(0,i.getClusterIdFromState)(e),openshiftVersion:(0,i.getClusterOpenShiftVersion)(e),fromVersion:(0,i.getFromVersionFromState)(e),toVersion:(0,i.getToVersionFromState)(e),isManual:(0,i.getIsManual)(e),getAcks:(0,i.getClusterAcks)(e),hasScheduledManual:(0,i.getHasScheduledManual)(e)})),o)(s.default)},58350:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=l(a(35952));a(48346);const u=/00? [0-9][0-9]? \* \* ([0-6]|SUN|MON|TUE|WED|THU|FRI|SAT)/i,d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=Array.from(Array(24).keys());class m extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{daySelectOpen:!1,timeSelectOpen:!1}),(0,n.default)(this,"toggleDaySelect",(e=>{this.setState({daySelectOpen:e})})),(0,n.default)(this,"toggleHourSelect",(e=>{this.setState({timeSelectOpen:e})})),(0,n.default)(this,"onDaySelect",((e,t)=>{const{input:a}=this.props,l=this.parseCurrentValue()[0];a.onChange(`00 ${l} * * ${t}`),this.setState({daySelectOpen:!1})})),(0,n.default)(this,"onHourSelect",((e,t)=>{const{input:a}=this.props,l=this.parseCurrentValue()[1];a.onChange(`00 ${t} * * ${l}`),this.setState({timeSelectOpen:!1})}))}parseCurrentValue(){const{input:e}=this.props;return e.value?(0,o.default)(e.value):["",""]}render(){const{daySelectOpen:e,timeSelectOpen:t}=this.state,{isDisabled:a,input:l,isHypershift:n}=this.props,i="Recurring updates occur when a new patch (z-stream) update becomes available at least 2 days prior to your selected start time.",o="For recurring updates, the control plane will be updated when a new version becomes available at least 2 days prior to your selected start time. Worker nodes will need to be manually updated.";if(l.value&&!u.test(l.value))return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Alert,{id:"automatic-cluster-updates-alert",className:"automatic-cluster-updates-alert inline-alert",isInline:!0,isPlain:!0,variant:"info",title:n?o:i}),r.default.createElement(s.FormGroup,{label:"Select a day and start time",className:"ocm-upgrade-schedule-selection"},"This cluster has a custom schedule which can not be modified from this page. Use the API to set the schedule, or"," ",r.default.createElement(s.Button,{variant:"link",isInline:!0,onClick:()=>l.onChange("")},"reset the schedule"),"."));const[m,p]=this.parseCurrentValue(),f=e=>`${e.toString().padStart(2,"0")}:00 UTC`;return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Alert,{id:"automatic-cluster-updates-alert",className:"automatic-cluster-updates-alert inline-alert",isInline:!0,isPlain:!0,variant:"info",title:n?o:i}),r.default.createElement(s.FormGroup,{label:"Select a day and start time",className:"ocm-upgrade-schedule-selection"},r.default.createElement(s.Grid,{hasGutter:!0},r.default.createElement(s.GridItem,{sm:6,md:6},r.default.createElement(s.Select,{isOpen:e,selected:p,onOpenChange:e=>this.toggleDaySelect(e),onSelect:this.onDaySelect,shouldFocusToggleOnSelect:!0,toggle:t=>{var l;return r.default.createElement(s.MenuToggle,{ref:t,onClick:()=>this.toggleDaySelect(!e),isExpanded:e,isDisabled:a,isFullWidth:!0},null!==(l=d[p])&&void 0!==l?l:"Select day")}},r.default.createElement(s.SelectList,null,d.map(((e,t)=>r.default.createElement(s.SelectOption,{key:e,value:t.toString()},e)))))),r.default.createElement(s.GridItem,{sm:6,md:6},r.default.createElement(s.Select,{isOpen:t,selected:m,onOpenChange:e=>this.toggleHourSelect(e),onSelect:this.onHourSelect,shouldFocusToggleOnSelect:!0,toggle:e=>r.default.createElement(s.MenuToggle,{ref:e,onClick:()=>this.toggleHourSelect(!t),isExpanded:t,isDisabled:a,isFullWidth:!0},m?f(m):"Select hour"),maxMenuHeight:"20em",isScrollable:!0},r.default.createElement(s.SelectList,null,c.map((e=>r.default.createElement(s.SelectOption,{key:e,value:e.toString()},f(e))))))))))}}m.propTypes={input:i.default.shape({value:i.default.string,onChange:i.default.func.isRequired}).isRequired,isDisabled:i.default.bool,isHypershift:i.default.bool},t.default=m},87461:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(72740),s=a(97419),o=l(a(65702)),u=a(75166),d=l(a(8888)),c=l(a(33076)),m=l(a(686)),p=l(a(58350));function f(e){let{isDisabled:t,isAutomatic:a,showDivider:l,change:r,initialScheduleValue:f,product:E,isHypershift:g=!1}=e;const v=E===u.normalizedProducts.ROSA,h=n.default.createElement(n.default.Fragment,null,"The cluster will be automatically updated based on your preferred day and start time when new patch updates (",n.default.createElement(d.default,{href:v?o.default.ROSA_Z_STREAM:o.default.OSD_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version."),b=n.default.createElement(n.default.Fragment,null,"The cluster control plane will be automatically updated based on your preferred day and start time when new patch updates (",n.default.createElement(d.default,{href:v?o.default.ROSA_Z_STREAM:o.default.OSD_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version. The worker nodes will need to be manually updated."),S={value:"automatic",label:"Recurring updates",description:g?b:h,extraField:a&&n.default.createElement(s.Grid,null,n.default.createElement(s.GridItem,{md:6},n.default.createElement(i.Field,{component:p.default,name:"automatic_upgrade_schedule",isDisabled:t,isHypershift:g})))},_={value:"manual",label:"Individual updates",description:n.default.createElement(n.default.Fragment,null,"Schedule each update individually. Take into consideration end of life dates from the"," ",n.default.createElement(d.default,{href:v?o.default.ROSA_LIFE_CYCLE:o.default.OSD_LIFE_CYCLE},"lifecycle policy")," ","when planning updates.")},C=g?[S,_]:[_,S];return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.GridItem,null,n.default.createElement(s.Text,{component:"p"},"Note: In the event of"," ",n.default.createElement(d.default,{href:"https://access.redhat.com/security/updates/classification/#critical"},"Critical security concerns")," ","(CVEs) that significantly impact the security or stability of the cluster, updates may be"," ","automatically scheduled by Red Hat SRE to the latest z-stream version not impacted by the"," ","CVE within 2 business days after customer notifications.")),n.default.createElement(s.GridItem,{className:"ocm-c-upgrade-policy-radios"},n.default.createElement(i.Field,{component:c.default,name:"upgrade_policy",isDisabled:t,onChange:(e,t)=>{r&&"manual"===t&&r("automatic_upgrade_schedule",f)},options:C,defaultValue:"manual",disableDefaultValueHandling:!0})),l&&!g?n.default.createElement(s.Divider,null):null,g?null:n.default.createElement(s.GridItem,null,n.default.createElement(s.Title,{headingLevel:"h4",className:"ocm-c-upgrade-node-draining-title"},"Node draining"),n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:s.TextVariants.p},"Note: You cannot change the node drain grace period after you start the upgrade process."),n.default.createElement(s.Text,{component:s.TextVariants.p},"You may set a grace period for how long pod disruption budget-protected workloads will"," ","be respected during updates. After this grace period, any workloads protected by pod disruption budgets that have not been successfully drained from a node will be forcibly evicted.")),n.default.createElement(i.Field,{name:"node_drain_grace_period",component:m.default,isDisabled:t})))}a(48346),f.propTypes={isAutomatic:r.default.bool,isDisabled:r.default.bool,isHypershift:r.default.bool,showDivider:r.default.bool,change:r.default.func,product:r.default.string,initialScheduleValue:r.default.string},t.default=f},26675:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(19202),o=a(21888),u=a(60502),d=a(68720),c=l(a(33196));function m(e){var t;let{clusterID:a,canEdit:l,clusterVersion:r,scheduledUpgrade:m,availableUpgrades:p=[],onCancelClick:f,openModal:E}=e;const g=p.length>0,v="manual"===(null==m?void 0:m.schedule_type),h=m&&(null===(t=m.state)||void 0===t?void 0:t.value),b=v&&l&&"started"!==h&&"delayed"!==h;return r?n.default.createElement(n.default.Fragment,null,n.default.createElement("div",null,(()=>{let e,t;return"started"===h||"delayed"===h?(e=n.default.createElement(o.InProgressIcon,{class:"ocm-upgrade-in-progress-icon"}),t="delayed"===h?"Update in progress (delayed)":"Update in progress"):g?(e=n.default.createElement(u.OutlinedArrowAltCircleUpIcon,{className:"ocm-upgrade-available-icon"}),t="Update available"):(e=n.default.createElement(s.CheckCircleIcon,{className:"ocm-cluster-up-to-date-icon"}),t="Up to date"),n.default.createElement(n.default.Fragment,null,e," ",t)})(),n.default.createElement(c.default,{currentVersion:r,updateVersion:null!=m&&m.version?m.version:p&&0!==p.length?p[p.length-1]:void 0,hasMore:!v&&p.length>1}),m&&"started"!==h&&"pending"!==h&&n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"ocm-upgrade-status-scheduled-title"},"Upgrade scheduled"),n.default.createElement(d.DateFormat,{type:"exact",date:Date.parse(m.next_run)}))),b&&n.default.createElement(i.Button,{id:"ocm-upgrade-status-cancel",variant:"link",onClick:()=>{f&&f(),E("cancel-upgrade",{clusterID:a,schedule:m})}},"Cancel this update")):n.default.createElement(i.EmptyState,{variant:i.EmptyStateVariant.xs},n.default.createElement(i.EmptyStateHeader,{titleText:"Update status is not available",headingLevel:"h4"}),n.default.createElement(i.EmptyStateBody,null,"Update status is not available. Try again later."))}a(3468),m.propTypes={clusterID:r.default.string.isRequired,canEdit:r.default.bool,clusterVersion:r.default.string,scheduledUpgrade:r.default.shape({version:r.default.string,next_run:r.default.string,state:r.default.shape({value:r.default.string}),schedule_type:r.default.string}),onCancelClick:r.default.func,openModal:r.default.func,availableUpgrades:r.default.arrayOf(r.default.string)},t.default=m},19765:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(19202),o=a(44027),u=a(68720),d=a(67080),c=l(a(55816));function m(e){let{requestStatus:t,close:a,scheduleType:l,upgradeTimestamp:r}=e;return t.error?n.default.createElement(i.Bullseye,null,n.default.createElement(c.default,{message:"Failed to schedule upgrade",response:t})):t.pending||!t.fulfilled?n.default.createElement(d.Spinner,{className:"wizard-step-body",centered:!0}):n.default.createElement(i.EmptyState,{variant:"lg",className:"wizard-step-body"},n.default.createElement(i.EmptyStateHeader,{titleText:"Scheduled cluster update",icon:n.default.createElement(i.EmptyStateIcon,{icon:s.CheckCircleIcon,color:o.global_success_color_100.value}),headingLevel:"h4"}),n.default.createElement(i.EmptyStateBody,null,"Your update was successfully scheduled to start within"," ","now"===l?"the next hour":n.default.createElement(n.default.Fragment,null,"one hour of ",n.default.createElement(u.DateFormat,{type:"exact",date:new Date(r)})),"."),n.default.createElement(i.EmptyStateFooter,null,n.default.createElement(i.EmptyStateActions,null,n.default.createElement(i.Button,{onClick:a},"Close"))))}m.propTypes={requestStatus:r.default.shape({fulfilled:r.default.bool,error:r.default.bool,pending:r.default.bool}).isRequired,close:r.default.func.isRequired,scheduleType:r.default.string,upgradeTimestamp:r.default.string},t.default=m},86870:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(22416),u=a(68720);a(21477);class d extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{timeSelectionOpen:!1}),(0,n.default)(this,"modeChange",(e=>{const{onSet:t,timestamp:a}=this.props;"now"===e.target.value?t({type:"now"}):t({type:"time",timestamp:a||d.getDefaultTimestamp().toISOString()})})),(0,n.default)(this,"setDate",(e=>{const{onSet:t}=this.props,a=d.getDefaultTimestamp();t({type:"time",timestamp:e<a?a:e})})),(0,n.default)(this,"setTime",((e,t)=>{const{onSet:a,timestamp:l}=this.props,n=new Date(l),[r,i]=t.split(":");n.setHours(r),n.setMinutes(i),a({type:"time",timestamp:n.toISOString()}),this.setState({timeSelectionOpen:!1})}))}render(){const{type:e,timestamp:t}=this.props,{timeSelectionOpen:a}=this.state;a&&setTimeout((()=>{requestAnimationFrame((()=>{const e=document.querySelector("#upgrade-time-select-dropdown .pf-v5-c-select__menu-item.pf-m-selected");e&&e.scrollIntoView({block:"center"})}))}),1);const l=new Date((new Date).toDateString()),n=new Date;return n.setMonth(n.getMonth()+6),r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"Schedule update"),r.default.createElement(s.Form,{className:"wizard-step-body",onSubmit:e=>e.preventDefault()},r.default.createElement(s.FormGroup,{fieldId:"upgrade-schedule-now"},r.default.createElement(s.Radio,{isChecked:"now"===e,name:"upgrade-schedule-type",id:"upgrade-schedule-now",value:"now",label:"Update now (update will begin within the next hour)",onChange:this.modeChange})),r.default.createElement(s.FormGroup,{fieldId:"upgrade-schedule-time"},r.default.createElement(s.Radio,{isChecked:"time"===e,name:"upgrade-schedule-type",id:"upgrade-schedule-time",value:"time",label:"Schedule a different time",onChange:this.modeChange})),"time"===e&&r.default.createElement(r.default.Fragment,null,r.default.createElement(s.FormGroup,null,r.default.createElement(s.Split,{className:"upgrade-schedule-datepicker-split"},r.default.createElement(s.SplitItem,null,r.default.createElement(s.DatePicker,{id:"upgrade-schedule-datepicker",className:"upgrade-schedule-datepicker-input",validators:[e=>e<l?"The selected date is before the allowable range.":e>n?"The selected date is after the allowable range.":""],onChange:(e,t,a)=>a instanceof Date&&!Number.isNaN(a)&&this.setDate(a),isDisabled:!t,value:(e=>{const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`})(t),invalidFormatText:"Invalid date format. Use 'YYYY-MM-DD' format."})),r.default.createElement(s.SplitItem,null,r.default.createElement(o.Select,{className:"upgrade-schedule-time-input",selections:(()=>{const e=new Date(t);return`${e.getHours().toString().padStart(2,0)}:${e.getMinutes().toString().padStart(2,0)}`})(),onSelect:this.setTime,onToggle:()=>this.setState((e=>({timeSelectionOpen:!e.timeSelectionOpen}))),isOpen:a,id:"upgrade-time-select-dropdown"},(()=>{const e=[];for(let a=0;a<24;a+=1){const l=`${a.toString().padStart(2,0)}:00`,n=new Date(t);n.setHours(a),n.setMinutes(0),e.push(r.default.createElement(o.SelectOption,{value:l,key:l,isDisabled:d.getDefaultTimestamp()>n},l))}return e})())),r.default.createElement(s.SplitItem,null))),r.default.createElement("dl",{className:"cluster-upgrade-dl"},r.default.createElement("dt",null,"UTC "),r.default.createElement("dd",null,r.default.createElement(u.DateFormat,{type:"exact",date:new Date(t)}))))))}}(0,n.default)(d,"getDefaultTimestamp",(()=>{const e=new Date((new Date).getTime()+36e5);return e.getMinutes()>5&&e.setHours(e.getHours()+1),e.setSeconds(0),e.setMilliseconds(0),e.setMinutes(0),e})),d.propTypes={onSet:i.default.func.isRequired,type:i.default.oneOf(["now","time"]),timestamp:i.default.string},t.default=d},25044:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(22416),u=a(68720),d=a(67080),c=l(a(16236)),m=l(a(43775)),p=a(23271),f=l(a(29384)),E=l(a(19765)),g=l(a(86870)),v=l(a(53250));a(21477);class h extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{selectedVersion:void 0,upgradeTimestamp:void 0,requireAcknowledgement:!1,acknowledged:!1,scheduleType:"now"}),(0,n.default)(this,"close",(()=>{const{closeModal:e,clearPostedUpgradeScheduleResponse:t}=this.props;this.setState({selectedVersion:void 0,upgradeTimestamp:void 0,scheduleType:"now"}),t(),e()})),(0,n.default)(this,"selectVersion",(e=>{const{getUnMetClusterAcknowledgements:t}=this.props,a=t(e).length>0;this.setState({selectedVersion:e,requireAcknowledgement:a})})),(0,n.default)(this,"setSchedule",(e=>{let{timestamp:t,type:a}=e;return this.setState({upgradeTimestamp:t,scheduleType:a})})),(0,n.default)(this,"onNext",(e=>{const{clusterDetails:t,postSchedule:a,getUnMetClusterAcknowledgements:l,setGate:n,rejectGate:r}=this.props,{selectedVersion:i,scheduleType:s,upgradeTimestamp:o}=this.state;if("finish"===e.id){const e="now"===s?new Date((new Date).getTime()+36e4).toISOString():o;let u=null;const d=l(i).map((e=>!!u||c.default.postClusterGateAgreement(t.cluster.id,e.id).then((()=>{n(e.id)})).catch((e=>{u=e}))));Promise.allSettled(d).then((()=>{u?r(u):a(t.cluster.id,{schedule_type:"manual",upgrade_type:(0,p.isHypershiftCluster)(t.cluster)?"ControlPlane":"OSD",next_run:e,version:i},(0,p.isHypershiftCluster)(t.cluster))}))}}))}componentDidMount(){const{fetchClusterDetails:e,subscriptionID:t}=this.props;e(t)}render(){var e,t;const{clusterName:a,upgradeScheduleRequest:l,clusterDetails:n,subscriptionID:i,getUnMetClusterAcknowledgements:c}=this.props,{selectedVersion:m,upgradeTimestamp:p,scheduleType:h,requireAcknowledgement:b,acknowledged:S}=this.state,{cluster:_}=n,C=m&&(p||"now"===h)&&(b&&S||!b),y=[{id:"select-version",name:"Select version",component:n.pending&&!n.fulfilled||(null==_?void 0:_.subscription.id)!==i?r.default.createElement(d.Spinner,{centered:!0}):r.default.createElement(v.default,{availableUpgrades:null===(e=_.version)||void 0===e?void 0:e.available_upgrades,clusterVersion:_.openshift_version||(null==_||null===(t=_.version)||void 0===t?void 0:t.id),clusterChannel:_.version.channel_group,selected:m,onSelect:this.selectVersion,getUnMetClusterAcknowledgements:c}),enableNext:!!m},...m&&b?[{id:"acknowledge_upgrade",name:"Administrator acknowledgement",component:r.default.createElement(f.default,{confirmed:e=>{this.setState({acknowledged:e})},unmetAcknowledgements:c(m),fromVersion:n.cluster.openshift_version,toVersion:m,initiallyConfirmed:S}),canJumpTo:!!m,enableNext:C}]:[],{id:"schedule-upgrade",name:"Schedule update",component:r.default.createElement(g.default,{onSet:this.setSchedule,timestamp:p,type:h}),canJumpTo:!!m&&(!b||S),enableNext:C},{id:"confirmation",name:"Confirmation",component:r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"Confirmation of your update"),r.default.createElement("dl",{className:"wizard-step-body cluster-upgrade-dl"},r.default.createElement("div",null,r.default.createElement("dt",null,"Version"),r.default.createElement("dd",null,_.openshift_version,"  ",m)),b?r.default.createElement("div",null,r.default.createElement("dt",null,"Administrator acknowledgement"),r.default.createElement("dd",null,S?"Approved":"Not approved")):null,r.default.createElement("dt",null,"Scheduled"),r.default.createElement("dd",null,"now"===h?"Within the next hour":r.default.createElement("dl",null,r.default.createElement("dt",null,"UTC"),r.default.createElement("dd",null,r.default.createElement(u.DateFormat,{type:"exact",date:new Date(p)})),r.default.createElement("div",null,r.default.createElement("dt",null,"Local time"),r.default.createElement("dd",null,new Date(p).toString())))))),nextButtonText:"Confirm update",canJumpTo:C},{id:"finish",name:"Finish",component:r.default.createElement(E.default,{onClose:this.closeWizard,scheduleType:h,upgradeTimestamp:p,requestStatus:l,close:this.close}),isFinishedStep:!0}];return r.default.createElement(o.Wizard,{title:"Update cluster",className:"ocm-upgrade-wizard",description:a,isOpen:!0,steps:y,onNext:this.onNext,onClose:this.close})}}h.propTypes={closeModal:i.default.func.isRequired,clusterName:i.default.string,subscriptionID:i.default.string,upgradeScheduleRequest:i.default.object.isRequired,postSchedule:i.default.func.isRequired,clearPostedUpgradeScheduleResponse:i.default.func.isRequired,fetchClusterDetails:i.default.func.isRequired,clusterDetails:i.default.shape({pending:i.default.bool,fulfilled:i.default.bool,cluster:i.default.shape({id:i.default.string,subscription:i.default.shape({id:i.default.string}),openshift_version:i.default.string,version:i.default.shape({channel_group:i.default.string,id:i.default.string,available_upgrades:i.default.arrayOf(i.default.string)})})}),getUnMetClusterAcknowledgements:i.default.func,setGate:i.default.func,rejectGate:i.default.func},h.modalName=m.default.UPGRADE_WIZARD,t.default=h},94692:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(29962),o=a(3995),u=a(10176),d=l(a(8888));const c=e=>{const{isSelected:t,isRecommended:a,version:l,onKeyDown:r,onClick:c,children:m,getUnMetClusterAcknowledgements:p}=e;return n.default.createElement(i.Card,{className:"version-card",id:l,onKeyDown:r,onClick:c,isSelectableRaised:!0,isCompact:!0,isSelected:t},n.default.createElement(i.CardTitle,null,n.default.createElement(i.Split,null,n.default.createElement(i.SplitItem,null,l," ",p(l).length>0?(e=>n.default.createElement(i.Tooltip,{content:`All clusters require an administrator acknowledgement before updating to OpenShift Container Platform ${e}`},n.default.createElement(i.Button,{variant:"link",isInline:!0,"aria-label":"more information"},n.default.createElement(s.InfoCircleIcon,null))))(l):null),n.default.createElement(i.SplitItem,{isFilled:!0}),a&&n.default.createElement(i.SplitItem,null,n.default.createElement(i.Label,{color:"blue",icon:n.default.createElement(o.StarIcon,null)},"Recommended")))),m&&n.default.createElement(i.CardBody,null,m),n.default.createElement(i.CardFooter,null,(e=>{const{groups:t}=u.versionRegEx.exec(e),{major:a,minor:l,revision:r,patch:i}=t;if("4"!==a||void 0!==i)return null;const s=`https://docs.openshift.com/container-platform/${a}.${l}/release_notes/ocp-${a}-${l}-release-notes.html#ocp-${a}-${l}-${r}`;return n.default.createElement(d.default,{href:s,className:"pf-c-button pf-m-link card-footer-button"},"View release notes")})(l)))};c.propTypes={isSelected:r.default.bool,isRecommended:r.default.bool,version:r.default.string.isRequired,onKeyDown:r.default.func.isRequired,onClick:r.default.func.isRequired,children:r.default.node,getUnMetClusterAcknowledgements:r.default.func},c.defaultProps={isRecommended:!1},t.default=c},61726:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(68090)),s=l(a(5556)),o=a(97419),u=a(10176),d=l(a(94692));class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"onKeyDown",(e=>{e.target===e.currentTarget&&[13,32].includes(e.keyCode)&&this.onClick(e)})),(0,n.default)(this,"onClick",(e=>{const{selected:t,onSelect:a}=this.props;a(e.currentTarget.id===t?null:e.currentTarget.id)}))}componentDidMount(){this.selectDefault()}selectDefault(){const{availableUpgrades:e,selected:t,onSelect:a}=this.props;1!==e.length||t||a(e[0])}recommendedCards(e,t){const{selected:a,getUnMetClusterAcknowledgements:l}=this.props,n=u.versionRegEx.exec(t).groups;return r.default.createElement(r.default.Fragment,null,e?r.default.createElement(o.GridItem,{span:6},r.default.createElement(d.default,{isRecommended:!0,isSelected:a===e,version:e,onKeyDown:this.onKeyDown,onClick:this.onClick,getUnMetClusterAcknowledgements:l},"The latest on your current minor version.")):null,t!==e?r.default.createElement(o.GridItem,{span:6},r.default.createElement(d.default,{isRecommended:!0,isSelected:a===t,version:t,onKeyDown:this.onKeyDown,onClick:this.onClick,getUnMetClusterAcknowledgements:l},"Start taking advantage of the new features"," ",`${n.major}.${n.minor}`," has to offer.")):null)}render(){const{availableUpgrades:e,clusterVersion:t,selected:a,getUnMetClusterAcknowledgements:l}=this.props,n=(0,i.default)(e),s=u.versionRegEx.exec(t).groups,c=e.filter((e=>{const t=u.versionRegEx.exec(e).groups;return t.major===s.major&&t.minor===s.minor})),m=(0,i.default)(c),p=e.filter((e=>e!==n&&e!==m));return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Title,{className:"version-select-step-title",size:"lg",headingLevel:"h3"},"Select version"),r.default.createElement("div",{id:"version-grid-wrapper"},r.default.createElement(o.Grid,{hasGutter:!0,className:"version-selection-grid"},this.recommendedCards(m,n),p.length>0&&r.default.createElement(o.GridItem,null,r.default.createElement(o.Divider,null)),p.map((e=>r.default.createElement(o.GridItem,{span:4,key:e},r.default.createElement(d.default,{version:e,onKeyDown:this.onKeyDown,onClick:this.onClick,isSelected:a===e,getUnMetClusterAcknowledgements:l})))))))}}c.propTypes={clusterVersion:s.default.string.isRequired,availableUpgrades:s.default.arrayOf(s.default.string),onSelect:s.default.func.isRequired,selected:s.default.string,getUnMetClusterAcknowledgements:s.default.func},t.default=c},53250:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(61726));t.default=n.default},67695:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(24239),i=a(33799),s=a(91089),o=a(99908),u=a(86386),d=l(a(25044));const c={closeModal:s.closeModal,postSchedule:o.postSchedule,clearPostedUpgradeScheduleResponse:o.clearPostedUpgradeScheduleResponse,fetchClusterDetails:r.fetchClusterDetails,setGate:i.setClusterUpgradeGate,rejectGate:i.rejectGateAction};t.default=(0,n.connect)((e=>({subscriptionID:e.modal.data.subscriptionID,clusterName:e.modal.data.clusterName,clusterDetails:e.clusters.details,upgradeScheduleRequest:e.clusterUpgrades.postedUpgradeSchedule,getUnMetClusterAcknowledgements:t=>(0,u.getClusterUnMetClusterAcks)(e,t)})),c)(d.default)},81441:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(43693)),r=l(a(74353)),i=a(89407),s=a(89217),o=a(95762),u=a(99908);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const m={versionInfo:c(c({},o.baseRequestState),{},{version:void 0,availableUpgrades:[]}),postedUpgradeSchedule:c({},o.baseRequestState),deleteScheduleRequest:c({},o.baseRequestState),schedules:c(c({},o.baseRequestState),{},{items:[]})};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return(0,i.produce)(e,(a=>{switch(t.type){case(0,o.PENDING_ACTION)(u.POST_UPGRADE_SCHEDULE):a.postedUpgradeSchedule.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.POST_UPGRADE_SCHEDULE):a.postedUpgradeSchedule=c(c({},m.upgradeSchedule),{},{fulfilled:!0});break;case(0,o.REJECTED_ACTION)(u.POST_UPGRADE_SCHEDULE):a.postedUpgradeSchedule=c(c({},m),(0,s.getErrorState)(t));break;case u.CLEAR_POST_UPGRADE_SCHEDULE:a.postedUpgradeSchedule=c({},m);break;case(0,o.PENDING_ACTION)(u.GET_UPGRADE_SCHEDULES):a.schedules.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.GET_UPGRADE_SCHEDULES):{var l;const e=(null===(l=t.payload)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.items)||[];e.sort(((e,t)=>(0,r.default)(e.next_run).unix()-(0,r.default)(t.next_run).unix())),a.schedules=c(c({},m.schedules),{},{fulfilled:!0,items:e});break}case(0,o.REJECTED_ACTION)(u.GET_UPGRADE_SCHEDULES):a.schedules=c(c({},m.schedules),(0,s.getErrorState)(t));break;case u.CLEAR_GET_UPGRADE_SCHEDULE:a.schedules=c({},m.schedules);break;case(0,o.PENDING_ACTION)(u.DELETE_UPGRADE_SCHEDULE):a.deleteScheduleRequest.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.DELETE_UPGRADE_SCHEDULE):a.deleteScheduleRequest=c(c({},m.deleteScheduleRequest),{},{fulfilled:!0});break;case(0,o.REJECTED_ACTION)(u.DELETE_UPGRADE_SCHEDULE):a.deleteScheduleRequest=c(c({},m.deleteScheduleRequest),(0,s.getErrorState)(t));break;case u.CLEAR_DELETE_UPGRADE_SCHEDULE:a.deleteScheduleRequest=c({},m.deleteScheduleRequest);break;case u.SET_CLUSTER_UPGRADE_POLICY:a.schedules.items=e.schedules.items.map((e=>e.cluster_id===t.payload.cluster_id&&e.schedule_type===t.payload.schedule_type?t.payload:e))}}))}p.initialState=m,t.Ay=p},35952:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=e=>{const t=e.split(" "),a=["SUN","MON","TUE","WED","THU","FRI","SAT"];let l=t[t.length-1];return a.includes(l)&&(l=a.indexOf(l)),[t[1],l]}},13058:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(72740),s=a(97419),o=l(a(65702)),u=a(75166),d=a(2786),c=l(a(15771)),m=l(a(8888)),p=a(49484);function f(e){let{parent:t,disableUVM:a,planType:l}=e;const r=n.default.createElement(s.Title,{headingLevel:"h4"}," Monitoring "),f=l===u.normalizedProducts.ROSA,E=l===u.normalizedProducts.OSD||l===u.normalizedProducts.OSDTRIAL;return n.default.createElement(n.default.Fragment,null,"create"===t?n.default.createElement(s.GridItem,null,r):r,n.default.createElement(i.Field,{component:c.default,name:"enable_user_workload_monitoring",label:"Enable user workload monitoring",isDisabled:a,extendedHelpText:n.default.createElement(n.default.Fragment,null,p.constants.enableUserWorkloadMonitoringHelp," ",f||E?n.default.createElement(m.default,{href:f?o.default.ROSA_MONITORING:o.default.OSD_MONITORING_STACK},"Learn more"):null)}),n.default.createElement(d.CheckboxDescription,null,p.constants.enableUserWorkloadMonitoringHint))}f.propTypes={parent:r.default.string,disableUVM:r.default.bool,planType:r.default.string},t.default=f},84083:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(88139),i=l(a(5556)),s=a(97419),o=l(a(65702)),u=a(75166),d=a(82693),c=a(16829),m=a(2786),p=l(a(15771)),f=l(a(8888)),E=a(49484);function g(e){let{parent:t,disableUVM:a,planType:l}=e;const{getFieldProps:i,getFieldMeta:g}=(0,d.useFormState)(),v=n.default.createElement(s.Title,{headingLevel:"h4"}," Monitoring "),h=l===u.normalizedProducts.ROSA,b=l===u.normalizedProducts.OSD||l===u.normalizedProducts.OSDTrial;return n.default.createElement(n.default.Fragment,null,"create"===t?n.default.createElement(s.GridItem,null,v):v,n.default.createElement(r.Field,{component:p.default,fieldId:c.FieldId.EnableUserWorkloadMonitoring,name:c.FieldId.EnableUserWorkloadMonitoring,label:"Enable user workload monitoring",isDisabled:a,input:i(c.FieldId.EnableUserWorkloadMonitoring),meta:g(c.FieldId.EnableUserWorkloadMonitoring),extendedHelpText:n.default.createElement(n.default.Fragment,null,E.constants.enableUserWorkloadMonitoringHelp," ",h||b?n.default.createElement(f.default,{href:h?o.default.ROSA_MONITORING:o.default.OSD_MONITORING_STACK},"Learn more"):null)}),n.default.createElement(m.CheckboxDescription,null,E.constants.enableUserWorkloadMonitoringHint))}g.propTypes={parent:i.default.string,disableUVM:i.default.bool,planType:i.default.string},t.default=g},96346:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(27241));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const d=e=>{let{currentPage:t,pageSize:a,totalCount:l,onFirstPage:r,onLastPage:i,onPreviousPage:o,onNextPage:u,onPageInput:d,onPerPageSelect:c,variant:m,isDisabled:p,perPageOptions:f}=e;return n.default.createElement(s.Pagination,{page:t,perPage:a,itemCount:l,itemsStart:(t-1)*a+1,itemsEnd:Math.min(t*a,l),onFirstClick:r,onLastClick:i,onPreviousClick:o,onNextClick:u,onSetPage:d,onPerPageSelect:c,variant:m,dropDirection:"bottom"===m?"up":"down",isCompact:"bottom"!==m,isDisabled:p,perPageOptions:f})};d.propTypes={viewType:r.default.string,currentPage:r.default.number,pageSize:r.default.number,totalCount:r.default.number,onFirstPage:r.default.func,onLastPage:r.default.func,onNextPage:r.default.func,onPreviousPage:r.default.func,onPageInput:r.default.func,onPerPageSelect:r.default.func,variant:r.default.oneOf(["top","bottom"]).isRequired,isDisabled:r.default.bool,perPageOptions:r.default.arrayOf(r.default.shape({title:r.default.string,value:r.default.number}))},t.default=(0,i.connect)(null,((e,t)=>({onFirstPage:()=>e(o.onFirstPage(t.viewType)),onLastPage:()=>e(o.onLastPage(t.viewType)),onNextPage:()=>e(o.onNextPage(t.viewType)),onPreviousPage:()=>e(o.onPreviousPage(t.viewType)),onPageInput:(a,l)=>e(o.onPageInput(l,t.viewType)),onPerPageSelect:(a,l)=>{e(o.onPerPageSelect(l,t.viewType))}})))(d)},69122:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRUST_BUNDLE_PLACEHOLDER=t.TRUST_BUNDLE_HELPER_TEXT=t.SERVICE_CIDR_DEFAULT=t.POD_CIDR_DEFAULT=t.NO_PROXY_PLACEHOLDER=t.NO_PROXY_HELPER_TEXT=t.MACHINE_CIDR_DEFAULT=t.HTTP_PROXY_PLACEHOLDER=t.HTTPS_PROXY_PLACEHOLDER=t.HOST_PREFIX_DEFAULT=t.DISABLED_NO_PROXY_PLACEHOLDER=void 0,t.MACHINE_CIDR_DEFAULT="10.0.0.0/16",t.SERVICE_CIDR_DEFAULT="172.30.0.0/16",t.POD_CIDR_DEFAULT="10.128.0.0/14",t.HOST_PREFIX_DEFAULT="/23",t.HTTP_PROXY_PLACEHOLDER="http://<user>:<password>@<ipaddr>:<port>",t.HTTPS_PROXY_PLACEHOLDER="http(s)://<user>:<password>@<ipaddr>:<port>",t.TRUST_BUNDLE_PLACEHOLDER="-----BEGIN CERTIFICATE-----\n<MY_TRUSTED_CA_CERT>\n-----END CERTIFICATE-----",t.TRUST_BUNDLE_HELPER_TEXT="An additional trust bundle is a PEM encoded X.509 certificate bundle that will be added to the nodes' trusted certificate store.",t.DISABLED_NO_PROXY_PLACEHOLDER="HTTP/HTTPS URL must be provided in order to use No proxy domain",t.NO_PROXY_PLACEHOLDER="domain.com, second.domain.com",t.NO_PROXY_HELPER_TEXT="Preface a domain with . to match subdomains only. For example, .y.com matches x.y.com, but not y.com. Use * to bypass proxy for all destinations."},69202:(e,t,a)=>{"use strict";var l=a(24994);t.v3=void 0;var n=a(93345),r=l(a(2404)),i=a(73729),s=a(76601),o=a(82693),u=a(72230),d=a(16829),c=a(52202);t.v3=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=(0,i.useDispatch)(),l=(0,i.useSelector)(s.vpcsSelector),m=e?(()=>{const{values:e}=(0,o.useFormState)();return{region:e[u.FieldId.Region],cloudProviderID:e[u.FieldId.CloudProvider],credentials:{account_id:e[u.FieldId.AccountId],access_key_id:e[u.FieldId.AccessKeyId],secret_access_key:e[u.FieldId.SecretAccessKey]}}})():(e=>{if(e)return(0,i.useSelector)(s.vpcInquiryRequestSelector);const{values:t}=(0,o.useFormState)();return{region:t[d.FieldId.Region],cloudProviderID:t[d.FieldId.CloudProvider],credentials:{account_id:t[d.FieldId.AssociatedAwsId],sts:{role_arn:t[d.FieldId.InstallerRoleArn]}}}})(t),p=((e,t)=>!!e.fulfilled&&e.cloudProvider===t.cloudProviderID&&e.region===t.region&&(0,r.default)(e.credentials,t.credentials))(l,m),{region:f,cloudProviderID:E,credentials:g}=m;return(0,n.useEffect)((()=>{"aws"!==E||p||(l.error&&a((0,c.clearListVpcs)()),a((0,c.getAWSCloudProviderVPCs)({region:f,awsCredentials:g,options:{includeSecurityGroups:!0}})))}),[E,f,p]),{vpcs:l,requestParams:m}}},86646:(e,t,a)=>{"use strict";var l=a(24994);t.cx=void 0;l(a(94506)),a(75166);var n=a(49484);t.cx=(e,t)=>{switch(!0){case e:return n.constants.hcpComputeNodeCountHintWizard;case t:return n.constants.hcpComputeNodeCountHint;default:return n.constants.computeNodeCountHint}}},41931:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(99851)),o=a(93413),u=a(75166),d=a(74688),c=a(49484),m=a(98229),p=a(14115),f=l(a(55816)),E=l(a(8888)),g=a(38715),v=l(a(55213)),h=a(16521),b=a(25075),S=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(38834));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}const C=e=>{if(!e)return"";const t=(0,d.humanizeValueWithUnit)(e.memory.value,e.memory.unit);let a=`${e.cpu.value} ${e.cpu.unit} ${t.value} ${t.unit} RAM`;if("accelerated_computing"===e.category){const t=e.name.match(/\d+ GPU[s]?/g);t&&(a+=` (${t})`)}return a},y=e=>e?e.id:"",I=e=>{var t,a;let{machine_type:l,machine_type_force_choice:r,getDefaultFlavour:d,flavours:_,machineTypesResponse:I,machineTypesByRegion:A,isMultiAz:R,isBYOC:T,isMachinePool:O,inModal:P=!1,cloudProviderID:D,product:L,billingModel:N,quota:w,organization:M,menuAppendTo:k,allExpanded:F=!0}=e;const{input:x,meta:{error:G,touched:U}}=l,{input:j}=r,H=A.fulfilled&&!(null!=A&&null!==(t=A.typesByID[l.input.value])&&void 0!==t&&t.id)&&(null==I||null===(a=I.typesByID[l.input.value])||void 0===a?void 0:a.id),V=M.fulfilled&&I&&(_.fulfilled||_.error),q=A.fulfilled||A.error&&V,z=(T||L===u.normalizedProducts.ROSA)&&D===p.CloudProviderType.Aws&&!P,B=(e,t)=>!(null==t||!t.typesByID[e]),[W,$]=n.default.useState(!H),Y=q&&z&&W?A:I,K=n.default.useCallback((e=>{if(!V||z&&!q||!Y.typesByID)return!1;const t=null==Y?void 0:Y.typesByID[e];if(!t)return!1;const a=t.generic_name;if(!T&&t.ccs_only)return!1;const l={product:L,cloudProviderID:D,isBYOC:T,isMultiAz:R,resourceName:a,billingModel:N},n=(0,m.availableClustersFromQuota)(w,l),r=(0,m.availableNodesFromQuota)(w,l);return O?r>=1:T?n>0&&r>=(R?3:2):n>=1}),[null==Y?void 0:Y.typesByID,N,D,T,V,q,z,O,R,L,w]),Q=n.default.useCallback((()=>{var e;if(j.value)return;const t=null==_||null===(e=_.byID[h.DEFAULT_FLAVOUR_ID])||void 0===e||null===(e=e[D])||void 0===e?void 0:e.compute_instance_type;t&&K(t)&&x.onChange(t)}),[D,null==_?void 0:_.byID,j.value,x,K]),Z=n.default.useCallback((()=>{j.onChange(!0),x.onChange("")}),[j,x]);n.default.useEffect((()=>{d()}),[d]),n.default.useEffect((()=>{V&&(!z||q)&&Y.typesByID&&(x.value||Q(),x.value&&!K(x.value)&&Z())}),[x.value,V,null==Y?void 0:Y.typesByID,z,q,K,Q,Z]);const X=n.default.useCallback(((e,t)=>{x.onChange(t),j.onChange(!1)}),[j,x]),J=n.default.useMemo((()=>(0,S.default)(Y,D)),[D,Y]),ee=n.default.useMemo((()=>J.filter((e=>K(e.id)))),[K,J]),te="OCM does not have access to all AWS account details. Machine node type cannot be verified to be accessible for this AWS user.",ae=n.default.useMemo((()=>n.default.createElement(i.Icon,{status:"warning",size:"md"},n.default.createElement(s.default,null))),[]),le=n.default.useMemo((()=>{const e=(e=>{const t=[],a={};return S.machineCategories.forEach((e=>{let{name:l,label:n}=e;const r=[];a[l]=r,t.push([n,r])})),e.forEach((e=>{a[e.category]&&a[e.category].push(e)})),t})(ee),t=e.map((e=>{let[t,a]=e;if(a.length>0)return{name:t,category:t,children:a.map((e=>{const a=z&&!W&&!B(e.id,A);return{name:n.default.createElement(b.TreeViewSelectMenuItem,{name:y(e),description:C(e),popoverText:a&&te,icon:a&&ae}),category:t,nameLabel:y(e),descriptionLabel:C(e),id:e.id}}))}})).filter(Boolean);return t}),[ee,W,A,z,ae]),ne=e=>{let t;return le.forEach((a=>{a.children.forEach((a=>{a.id===e&&(t=a)}))})),t},re=n.default.useMemo((()=>(e=>e?`${y(e)} - ${C(e)}`:"")(ee.find((e=>e.id===x.value))||null)),[ee,x.value]);if(V&&(!z||q)&&!Y.error){if(0===ee.length)return n.default.createElement(i.Alert,{variant:i.AlertVariant.danger,isInline:!0,title:o.noMachineTypes,role:"alert"},n.default.createElement(E.default,{href:"https://cloud.redhat.com/products/dedicated/contact/"},"Contact sales to purchase additional quota."));const e=z&&x.value&&!B(x.value,A);return n.default.createElement(i.FormGroup,{label:"Compute node instance type",isRequired:!0,fieldId:"node_type",labelIcon:n.default.createElement(v.default,{hint:c.constants.computeNodeInstanceTypeHint})},n.default.createElement(b.TreeViewSelect,{treeViewSelectionMap:le,inModal:P,menuAppendTo:k,selected:ne(x.value),selectionPlaceholderText:re,setSelected:(e,t)=>{X(e,t.id)},menuToggleBadge:e&&ae,treeViewSwitchActive:!W,setTreeViewSwitchActive:e=>{j.onChange(!1),$(!e)},helperText:e&&n.default.createElement(i.HelperText,null,n.default.createElement(i.HelperTextItem,{variant:"warning",hasIcon:!0},te)),placeholder:"Select instance type",searchPlaceholder:"Find an instance size",includeFilterSwitch:z,switchLabelOnText:"Include types that might be unavailable to your account or region",switchLabelOffText:"Include types that might be unavailable to your account or region",allExpanded:F,ariaLabel:"Machine type select"}),n.default.createElement(g.FormGroupHelperText,{touched:U,error:G}))}return null!=Y&&Y.error?n.default.createElement(f.default,{message:"Error loading node types",response:Y}):n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"spinner-fit-container"},n.default.createElement(i.Spinner,{size:"md"})),n.default.createElement("div",{className:"spinner-loading-text"},"Loading node types..."))},A=r.default.shape({input:r.default.shape({onChange:r.default.func.isRequired,value:r.default.string}).isRequired,meta:r.default.shape({error:r.default.oneOfType([r.default.bool,r.default.string]),touched:r.default.bool}),id:r.default.string,ccs_only:r.default.bool,generic_name:r.default.string});I.propTypes={machineTypesResponse:r.default.object,machine_type:A,machine_type_force_choice:A,getDefaultFlavour:r.default.func.isRequired,flavours:r.default.object.isRequired,machineTypesByRegion:r.default.object.isRequired,isMultiAz:r.default.bool.isRequired,isBYOC:r.default.bool.isRequired,isMachinePool:r.default.bool,inModal:r.default.bool,cloudProviderID:r.default.string,product:r.default.oneOf(Object.keys(u.normalizedProducts)).isRequired,billingModel:r.default.oneOf(Object.values(u.billingModels)).isRequired,quota:r.default.object.isRequired,organization:r.default.object.isRequired,menuAppendTo:r.default.object,allExpanded:r.default.bool},t.default=I},49210:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=a(73729),r=a(16521),i=a(11912),s=l(a(41931));const o={getMachineTypes:i.getMachineTypes,getDefaultFlavour:r.getDefaultFlavour};t.A=(0,n.connect)((e=>({flavours:e.flavours,machineTypes:e.machineTypes,machineTypesByRegion:e.machineTypesByRegion,organization:e.userProfile.organization,quota:e.userProfile.organization.quotaList})),o)(s.default)},38834:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.machineCategories=t.default=void 0;var n=l(a(58156)),r=l(a(55378)),i=a(74688);const s=t.machineCategories=[{name:"general_purpose",label:"General purpose"},{name:"memory_optimized",label:"Memory optimized"},{name:"compute_optimized",label:"Compute optimized"},{name:"storage_optimized",label:"Storage optimized"},{name:"network_optimized",label:"Network optimized"},{name:"burstable",label:"Burstable"},{name:"accelerated_computing",label:"Accelerated computing"}],o=(0,r.default)(s,"name");function u(e,t){if(e.category===t.category){const a=function(e,t){return(0,i.parseValueWithUnit)(e.memory.value,e.memory.unit)-(0,i.parseValueWithUnit)(t.memory.value,t.memory.unit)}(e,t);return 0===a?e.cpu.value-t.cpu.value:a}return o.indexOf(e.category)-o.indexOf(t.category)}const d={gcp:u,aws:u};t.default=(e,t)=>[...(0,n.default)(null==e?void 0:e.types,t,[])].sort(d[t])},34295:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(68720),u=a(3098),d=a(36165),c=l(a(55816)),m=l(a(28592)),p=a(91089),f=l(a(14419));const E=e=>{let{isHypershift:t,clusterID:a,region:l}=e;const r=(0,i.useDispatch)(),{isPending:E,isError:g,error:v,mutate:h,reset:b,isSuccess:S}=(0,u.useDeleteSchedule)(a,t,l),_=(0,d.useGlobalState)((e=>(0,f.default)(e,"cancel-upgrade"))),C=(0,d.useGlobalState)((e=>e.modal.data.schedule)),y=()=>{b(),r((0,p.closeModal)())};n.default.useEffect((()=>{!E&&S&&y()}),[S,E]);const I=()=>{h(C.id)},A=g?n.default.createElement(c.default,{message:"Error cancelling update",response:v}):null;return _&&n.default.createElement(m.default,{title:"Cancel update",onClose:y,primaryText:"Cancel this update",secondaryText:"Close",onPrimaryClick:I,isPending:E,onSecondaryClick:y},n.default.createElement(n.default.Fragment,null,A,n.default.createElement(s.Form,{onSubmit:I},n.default.createElement("p",null,"This update to version ",C.version," is scheduled for"," ",n.default.createElement(o.DateFormat,{type:"exact",date:Date.parse(C.next_run)}),"."," "))))};E.propTypes={isHypershift:r.default.bool.isRequired,clusterID:r.default.string,region:r.default.string},t.default=E},85336:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(34295));t.default=n.default},47699:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=l(a(19713)),u=a(69565),d=l(a(65702)),c=a(75166),m=l(a(8888)),p=a(33597),f=a(21650),E=a(32384);const g=e=>{var t,a,l,r;let{clusterId:g,isHypershift:v,schedules:h,cluster:b,upgradeGates:S}=e;const _=(0,i.useDispatch)(),{mutateAsync:C}=(0,u.useEditSchedule)(g,v),[y,I]=n.default.useState(!1),[A,R]=n.default.useState(null),T=null==h||null===(t=h.items)||void 0===t?void 0:t.some((e=>"automatic"===e.schedule_type)),O=(0,f.getHasUnMetClusterAcks)(h,b,S),P=(0,E.getEnableMinorVersionUpgrades)(h),D=null==h||null===(a=h.items)||void 0===a||null===(a=a.find((e=>"automatic"===e.schedule_type)))||void 0===a?void 0:a.id,L=(0,E.isNextMinorVersionAvailableHelper)(b),N=(null==b||null===(l=b.subscription)||void 0===l?void 0:l.plan.type)===c.normalizedProducts.ROSA,w=null==b||null===(r=b.aws)||void 0===r||null===(r=r.sts)||void 0===r?void 0:r.enabled;return T&&!O&&D&&g&&L&&!w?A?n.default.createElement(s.Alert,{variant:"danger",className:"automatic-cluster-updates-alert",isInline:!0,title:A,role:"alert","data-testid":"alert-error"}):n.default.createElement(s.Alert,{isExpandable:!0,isInline:!0,className:"automatic-cluster-updates-alert",customIcon:n.default.createElement(o.default,null),title:P?"Next minor version update allowed":"New minor version available",actionLinks:y?n.default.createElement(s.Spinner,{size:"sm","aria-label":"Setting minor version update status"}):(M=async e=>{I(!0),R(null);try{const t=await C({policyID:D,schedule:{enable_minor_version_upgrades:e}},{onSuccess:()=>{setTimeout((()=>{_((0,p.setAutomaticUpgradePolicy)(t.data)),I(!1)}),500)}})}catch(e){R(e.response.data.reason||e.response.data)}},k=P,n.default.createElement(s.AlertActionLink,{onClick:()=>M(!k)},k?"Disallow this minor version update":"Allow the next minor version update")),"data-testid":"alert-success"},P?n.default.createElement("p",{"data-testid":"minorVersionUpgradeAlertDisableMessage"},"Your cluster will be updated to the newest minor version at the time you selected. Minor releases can include new Kubernetes versions or operating system capabilities, improved automation on IaaS providers, and other expanded features."):n.default.createElement("p",{"data-testid":"minorVersionUpgradeAlertEnableMessage"},"Allow your cluster to be updated to the newest minor version at the time you selected."," ",n.default.createElement(m.default,{href:N?d.default.ROSA_UPGRADES:d.default.OSD_UPGRADES},"Learn more about updates"))):null;var M,k};g.propTypes={isHypershift:r.default.bool,clusterId:r.default.string,schedules:r.default.object,cluster:r.default.object,upgradeGates:r.default.array},t.default=g},32384:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNextMinorVersionAvailableHelper=t.getUpgradeScheduleId=t.getEnableMinorVersionUpgrades=void 0;var l=a(88851),n=a(21650);t.isNextMinorVersionAvailableHelper=e=>{var t;const[a,r]=(0,l.splitVersion)((0,n.getFromVersionFromHelper)(e));return((null==e||null===(t=e.version)||void 0===t?void 0:t.available_upgrades)||[]).some((e=>{const[t,n]=(0,l.splitVersion)(e);return t===a&&n>r}))},t.getUpgradeScheduleId=e=>{var t;return null==e||null===(t=e.items)||void 0===t||null===(t=t.find((e=>"automatic"===e.schedule_type)))||void 0===t?void 0:t.id},t.getEnableMinorVersionUpgrades=e=>{const t=null==e?void 0:e.items.find((e=>"automatic"===e.schedule_type));return!t||t.enable_minor_version_upgrades}},85322:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(47699));t.default=n.default},79115:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(29962),s=a(32384),o=a(21650);const u=e=>{var t;let{upgradeGates:a,schedules:l,cluster:r}=e;const u=!(null!=l&&null!==(t=l.items)&&void 0!==t&&t.some((e=>"automatic"===e.schedule_type))),d=(0,s.getEnableMinorVersionUpgrades)(l),c=(0,s.isNextMinorVersionAvailableHelper)(r),m=(0,o.getClusterAcks)(l,r,a),[p]=m;return!u&&c&&d&&0===p.length?n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available"},n.default.createElement(i.InfoCircleIcon,null),"Next minor version update allowed."):null};u.propTypes={upgradeGates:r.default.object,schedules:r.default.object,cluster:r.default.object},t.default=u},32572:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(79115));t.default=n.default},89299:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(29962),s=l(a(32572)),o=l(a(1604));a(4644);const u=e=>{let{children:t}=e;return n.default.createElement("div",{className:"ocm-upgrade-graph-container"},t)},d=e=>{let{children:t}=e;return n.default.createElement("li",{className:"ocm-upgrade-graph-line"},t)},c=e=>{let{children:t}=e;return n.default.createElement("ul",{className:"ocm-upgrade-graph-path"},t)},m=e=>{let{children:t}=e;return n.default.createElement("span",{className:"ocm-upgrade-graph-version"},t)},p=e=>{let{current:t}=e;return n.default.createElement("div",{className:"ocm-upgrade-graph-version-dot "+(t?"ocm-upgrade-current":"")})},f=e=>{let{currentVersion:t,updateVersion:a,hasMore:l,upgradeGates:r,schedules:f,cluster:E}=e;return n.default.createElement("div",{className:"ocm-upgrade-graph"},n.default.createElement(u,null,n.default.createElement(c,{current:!0},n.default.createElement(d,null,n.default.createElement(m,null,t),n.default.createElement(p,{current:!0})),a&&n.default.createElement(n.default.Fragment,null,n.default.createElement(d,null),n.default.createElement(d,null,n.default.createElement(m,null,a),n.default.createElement(p,null))))),l&&n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available"},n.default.createElement(i.InfoCircleIcon,null),`Additional versions available between ${t} and ${a}`),n.default.createElement(o.default,{isPlain:!0,isInfo:!0,showConfirm:!0,schedules:f,upgradeGates:r,cluster:E}),n.default.createElement(s.default,{upgradeGates:r,schedules:f,cluster:E}))};c.propTypes={children:r.default.node},u.propTypes={children:r.default.node},d.propTypes={children:r.default.node},m.propTypes={children:r.default.node},p.propTypes={current:r.default.bool},f.propTypes={currentVersion:r.default.node,updateVersion:r.default.node,hasMore:r.default.bool,upgradeGates:r.default.object,schedules:r.default.object,cluster:r.default.object},t.default=f},21650:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getToVersionFromHelper=t.getHasUnMetClusterAcks=t.getHasScheduledManual=t.getFromVersionFromHelper=t.getClusterUnMetClusterAcks=t.getClusterAcks=void 0;var l=a(88851);const n=e=>{var t;return(null===(t=e.version)||void 0===t?void 0:t.raw_id)||null};t.getFromVersionFromHelper=n;const r=(e,t)=>{var a;const l=null==e||null===(a=e.items)||void 0===a?void 0:a.find((e=>e.version&&e.version!==n(t)));if(!l){var r,i;if(null==t||null===(r=t.version)||void 0===r||!r.available_upgrades||0===(null==t||null===(i=t.version)||void 0===i?void 0:i.available_upgrades.length))return null;const e=t.version.available_upgrades;return e[e.length-1]}return l.version};t.getToVersionFromHelper=r;const i=(e,t,a,n)=>{var i,s,o;const u=null==t?void 0:t.id,d=(null==t||null===(i=t.aws)||void 0===i||null===(i=i.sts)||void 0===i?void 0:i.role_arn)&&""!==(null==t||null===(s=t.aws)||void 0===s||null===(s=s.sts)||void 0===s?void 0:s.role_arn);if(!u)return[[],[]];const c=n||r(e,t),m=(null===(o=t.version)||void 0===o?void 0:o.raw_id)||null,p=(null==t?void 0:t.upgradeGates)||[],f=a||[],[E,g]=(0,l.splitVersion)(c),[v,h]=(0,l.splitVersion)(m);if(!(E&&g&&v&&h))return[[],[]];const b=f.filter((e=>{if(e.sts_only&&!d)return!1;const[t,a]=(0,l.splitVersion)(e.version_raw_id_prefix);return!(!t||!a)&&(t>v&&t<=E||t===v&&a>h&&a<=g)})),S=[],_=[];return b.forEach((e=>{const t=p.find((t=>{var a;return(null===(a=t.version_gate)||void 0===a?void 0:a.id)===e.id}));t?_.push(t):S.push(e)})),[S,_]};t.getClusterAcks=i;const s=(e,t,a,l)=>{const n=l||r(e,t);return i(e,t,a,n)[0]};t.getClusterUnMetClusterAcks=s,t.getHasUnMetClusterAcks=(e,t,a,l)=>s(e,t,a,l).length>0,t.getHasScheduledManual=(e,t)=>!(null!=e&&e.items.some((e=>"automatic"===e.schedule_type)))&&(null==e?void 0:e.items.some((e=>e.version!==n(t))))},95642:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(99851),o=a(55611),u=a(69304),d=a(21650);a(42749);const c=e=>{const{clusterId:t,cluster:a,schedules:l,upgradeGates:r}=e;return(0,d.getHasUnMetClusterAcks)(l,a,r)?n.default.createElement(u.Link,{to:`/details/${t}#updateSettings`,className:"ocm-upgrade-approval__required-link"},n.default.createElement(i.Icon,null,n.default.createElement(s.ExclamationTriangleIcon,{color:o.global_warning_color_100.value})),n.default.createElement("span",{className:"pf-v5-u-screen-reader"},"Warning")," Approval required"):null};c.propTypes={clusterId:r.default.string,cluster:r.default.object,schedules:r.default.object,upgradeGates:r.default.object},t.default=c},92216:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(95642));t.default=n.default},18696:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(91089),u=l(a(14419)),d=a(69565),c=a(74409),m=a(25514),p=l(a(55816)),f=l(a(28592)),E=a(33597),g=l(a(2711));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}const h=e=>{var t;const{clusterId:a,isHypershift:l,isSTSEnabled:r,schedules:v,region:h}=e,{mutateAsync:b}=(0,d.useEditSchedule)(a,l,h),{mutateAsync:S}=(0,c.usePostClusterGateAgreementAcknowledgeModal)(a,h),_=(0,i.useDispatch)(),[C,y]=(0,n.useState)(!1),[I,A]=(0,n.useState)(!1),[R,T]=(0,n.useState)([]),[O,P]=(0,n.useState)([]),[D,L]=(0,n.useState)(""),[N,w]=(0,n.useState)(""),M=(0,m.useGlobalState)((e=>(0,u.default)(e,"ack-upgrade"))),k=(0,m.useGlobalState)((e=>e.modal.data)),F=null==v||null===(t=v.items)||void 0===t?void 0:t.find((e=>"automatic"===e.schedule_type)).id;(0,n.useEffect)((()=>{M&&(L(k.fromVersion),w(k.toVersion),P(k.unmetAcknowledgements),T([]))}),[M,k]);const x=()=>{_(o.modalActions.closeModal())};return M?n.default.createElement(f.default,{title:"Administrator acknowledgement",onClose:()=>x(),primaryText:"Approve and continue",secondaryText:"Cancel",onPrimaryClick:()=>(async()=>{y(!0),T([]);const e=[];if(F&&!r)try{const e=await b({policyID:F,schedule:{enable_minor_version_upgrades:!0}});_((0,E.setAutomaticUpgradePolicy)(e.data))}catch(t){e.push(t)}if(0===e.length){const t=O.map((e=>e.id));(await S(t)).forEach((t=>{"rejected"===t.status&&(e.push(t.reason),I&&A(!1))}))}y(!1),0===e.length?_(o.modalActions.closeModal()):T(e)})(),onSecondaryClick:()=>x(),isPrimaryDisabled:!I,isPending:C,className:"ocm-upgrade-ack-modal",modalSize:s.ModalVariant.medium},0===R.length?n.default.createElement(g.default,{fromVersion:D,toVersion:N,unmetAcknowledgements:O,confirmed:e=>A(e)}):R.map(((e,t)=>n.default.createElement(p.default,{key:`err-${t}`,message:"Failed to save administrator acknowledgement.",response:e})))):null};h.propTypes={clusterId:r.default.string,isHypershift:r.default.bool,isSTSEnabled:r.default.bool,schedules:r.default.object,region:r.default.string},h.defaultProps={},t.default=h},28115:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(18696));t.default=n.default},2711:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(8888));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}a(90016);const u="Acknowledge",d=e=>{const[t,a]=(0,n.useState)(""),{initiallyConfirmed:l,confirmed:r,fromVersion:o,toVersion:d,unmetAcknowledgements:c}=e;return(0,n.useEffect)((()=>{l&&a(u)}),[]),(0,n.useEffect)((()=>r(t===u)),[t]),n.default.createElement(i.Grid,{hasGutter:!0,className:"ocm-upgrade-ack-step"},n.default.createElement(i.GridItem,null,n.default.createElement(i.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"1. Review and prevent update issues"),n.default.createElement("ul",{className:"wizard-step-body"},c.map(((e,t)=>n.default.createElement("li",{key:`ack-${t}`,"data-testid":"unmetAcknowledgement"},e.description?n.default.createElement("p",null,e.description):null,n.default.createElement(i.Alert,{isPlain:!0,isInline:!0,variant:"warning",title:e.warning_message},e.documentation_url?n.default.createElement(s.default,{href:e.documentation_url},"Learn more"):null)))))),n.default.createElement(i.Divider,null),n.default.createElement(i.GridItem,null,n.default.createElement(i.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"2. Acknowledge"),n.default.createElement("div",{className:"wizard-step-body"},n.default.createElement("p",null,`\n              I acknowledge I have resolved any potential update issues on my cluster, \n              and the cluster is ready to update from OpenShift Container Platform\n              from ${o} to ${d}.\n              `),n.default.createElement(i.Form,{onSubmit:e=>{e.preventDefault()}},n.default.createElement(i.FormGroup,{label:n.default.createElement("span",{className:"ocm-upgrade-ack-step_text-input-label"},"Confirm the above by typing ",n.default.createElement("strong",null,u)," below:"),isRequired:!0,fieldId:"upgradeAcknowledgementModalText"},n.default.createElement(i.TextInput,{value:t,isRequired:!0,id:"upgradeAcknowledgementModalText",type:"text",onChange:(e,t)=>a(t),placeholder:"Type here","data-testid":"acknowledgeTextInput"}))))))};d.propTypes={confirmed:r.default.func,unmetAcknowledgements:r.default.array,fromVersion:r.default.string,toVersion:r.default.string,initiallyConfirmed:r.default.bool},d.defaultProps={initiallyConfirmed:!1},t.default=d},97284:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(29962),u=a(91089),d=a(21650),c=l(a(28115));a(75485);const m=e=>{var t,a;const l=(0,i.useDispatch)(),{isPlain:r,isInfo:m,showConfirm:p,isSTSEnabled:f,isHypershift:E,schedules:g,upgradeGates:v,cluster:h}=e,b=null==h?void 0:h.id,S=null==h?void 0:h.openshift_version,_=null==h||null===(t=h.subscription)||void 0===t?void 0:t.xcm_id,C=(null==h||null===(a=h.version)||void 0===a?void 0:a.raw_id)||null,y=(0,d.getToVersionFromHelper)(g,h),I=!(null!=g&&g.items.some((e=>"automatic"===e.schedule_type))),A=(0,d.getClusterAcks)(g,h,v),R=(0,d.getHasScheduledManual)(g,h),T=()=>{const[e]=A;l(u.modalActions.openModal("ack-upgrade",{toVersion:y,fromVersion:C,unmetAcknowledgements:e,clusterId:b}))},O=`Administrator acknowledgement is required before updating from ${C} to ${y}`;if(!b||!S)return null;const[P,D]=A,L=p&&0===P.length&&D.length>0;return n.default.createElement(n.default.Fragment,null,P.length>0&&I&&m&&!R?n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available","data-testid":"infoMessageUnmetAcks"},n.default.createElement(o.InfoCircleIcon,null)," ",O):null,P.length>0&&!I?n.default.createElement(n.default.Fragment,null,n.default.createElement(c.default,{clusterId:b,isHypershift:E,isSTSEnabled:f,schedules:g,region:_}),n.default.createElement(s.Alert,{id:"upgrade-ack-alert",isInline:!0,isPlain:r,variant:"warning",title:O,"data-testid":"alertMessageUnmetAcks",className:r?"":"automatic-cluster-updates-alert",actionLinks:r?null:n.default.createElement(s.AlertActionLink,{onClick:()=>T()},"Provide approval")}),r?n.default.createElement(s.Button,{variant:"secondary",className:"ocm-upgrade-approval__provide-button",onClick:()=>T()},"Provide approval"):null):null,L?n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available","data-testid":"confirmAckReceived"},n.default.createElement(o.InfoCircleIcon,null),"Administrator acknowledgement was received."):null)};m.propTypes={isPlain:r.default.bool,showConfirm:r.default.bool,isInfo:r.default.bool,isSTSEnabled:r.default.bool,isHypershift:r.default.bool,schedules:r.default.object,upgradeGates:r.default.array,cluster:r.default.object},m.defaultProps={isPlain:!1,showConfirm:!1,isInfo:!1},t.default=m},1604:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(97284));t.default=n.default},49294:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(97419),u=l(a(65702)),d=l(a(686)),c=l(a(58350)),m=a(82693),p=a(16829),f=l(a(8888)),E=l(a(33076));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e){let{isHypershift:t,isDisabled:a,showDivider:l,isRosa:n,initialScheduleValue:s}=e;const{setFieldValue:g,setFieldTouched:h,getFieldProps:b,values:{[p.FieldId.UpgradePolicy]:S}}=(0,m.useFormState)(),_="automatic"===S,C=r.default.createElement(r.default.Fragment,null,"The cluster will be automatically updated based on your preferred day and start time when new patch updates (",r.default.createElement(f.default,{href:n?u.default.ROSA_Z_STREAM:u.default.OSD_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version."),y=r.default.createElement(r.default.Fragment,null,"The cluster control plane will be automatically updated based on your preferred day and start time when new patch updates (",r.default.createElement(f.default,{href:n?u.default.ROSA_Z_STREAM:u.default.OSD_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version. The worker nodes will need to be manually updated."),I={value:"automatic",label:"Recurring updates",description:t?y:C,extraField:_&&r.default.createElement(o.Grid,null,r.default.createElement(o.GridItem,{md:6},r.default.createElement(i.Field,{component:c.default,name:p.FieldId.AutomaticUpgradeSchedule,input:v(v({},b(p.FieldId.AutomaticUpgradeSchedule)),{},{onChange:e=>{h(p.FieldId.AutomaticUpgradeSchedule),g(p.FieldId.AutomaticUpgradeSchedule,e)}}),isDisabled:a,isHypershift:t})))},A={value:"manual",label:"Individual updates",description:r.default.createElement(r.default.Fragment,null,"Schedule each update individually. Take into consideration end of life dates from the"," ",r.default.createElement(f.default,{href:n?u.default.ROSA_LIFE_CYCLE:u.default.OSD_LIFE_CYCLE},"lifecycle policy")," ","when planning updates.")},R=t?[I,A]:[A,I];return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Text,{component:"p"},"Note: In the event of"," ",r.default.createElement(f.default,{href:"https://access.redhat.com/security/updates/classification/#critical"},"Critical security concerns")," ","(CVEs) that significantly impact the security or stability of the cluster, updates may be"," ","automatically scheduled by Red Hat SRE to the latest z-stream version not impacted by the"," ","CVE within 2 business days after customer notifications.")),r.default.createElement(o.GridItem,{className:"ocm-c-upgrade-policy-radios"},r.default.createElement(i.Field,{component:E.default,name:p.FieldId.UpgradePolicy,isDisabled:a,input:v(v({},b(p.FieldId.UpgradePolicy)),{},{onChange:e=>{h(p.FieldId.UpgradePolicy),g(p.FieldId.UpgradePolicy,e),"manual"===e&&g(p.FieldId.AutomaticUpgradeSchedule,s)}}),options:R,defaultValue:"manual",disableDefaultValueHandling:!0})),l&&!t?r.default.createElement(o.Divider,null):null,t?null:r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h4",className:"ocm-c-upgrade-node-draining-title"},"Node draining"),r.default.createElement(o.TextContent,null,r.default.createElement(o.Text,{component:o.TextVariants.p},"Note: You cannot change the node drain grace period after you start the upgrade process."),r.default.createElement(o.Text,{component:o.TextVariants.p},"You may set a grace period for how long pod disruption budget-protected workloads will"," ","be respected during updates. After this grace period, any workloads protected by pod disruption budgets that have not been successfully drained from a node will be forcibly evicted.")),r.default.createElement(i.Field,{name:p.FieldId.NodeDrainGracePeriod,component:d.default,isDisabled:a,input:v(v({},b(p.FieldId.NodeDrainGracePeriod)),{},{onChange:e=>{h(p.FieldId.NodeDrainGracePeriod),g(p.FieldId.NodeDrainGracePeriod,e)}})})))}a(46731),h.propTypes={isHypershift:s.default.bool,isDisabled:s.default.bool,showDivider:s.default.bool,isRosa:s.default.bool,initialScheduleValue:s.default.string},t.default=h},68224:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(19202),u=a(21888),d=a(60502),c=a(68720),m=a(91089),p=l(a(89299));function f(e){var t;let{clusterID:a,canEdit:l,clusterVersion:r,scheduledUpgrade:f,availableUpgrades:E=[],onCancelClick:g,upgradeGates:v,schedules:h,cluster:b}=e;const S=(0,i.useDispatch)(),_=E.length>0,C="manual"===(null==f?void 0:f.schedule_type),y=f&&(null===(t=f.state)||void 0===t?void 0:t.value),I=C&&l&&"started"!==y&&"delayed"!==y;return r?n.default.createElement(n.default.Fragment,null,n.default.createElement("div",null,(()=>{let e,t;return"started"===y||"delayed"===y?(e=n.default.createElement(u.InProgressIcon,{class:"ocm-upgrade-in-progress-icon"}),t="delayed"===y?"Update in progress (delayed)":"Update in progress"):_?(e=n.default.createElement(d.OutlinedArrowAltCircleUpIcon,{className:"ocm-upgrade-available-icon"}),t="Update available"):(e=n.default.createElement(o.CheckCircleIcon,{className:"ocm-cluster-up-to-date-icon"}),t="Up to date"),n.default.createElement(n.default.Fragment,null,e," ",t)})(),n.default.createElement(p.default,{currentVersion:r,updateVersion:null!=f&&f.version?f.version:E&&0!==E.length?E[E.length-1]:void 0,hasMore:!C&&E.length>1,upgradeGates:v,schedules:h,cluster:b}),f&&"started"!==y&&"pending"!==y&&n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"ocm-upgrade-status-scheduled-title"},"Upgrade scheduled"),n.default.createElement(c.DateFormat,{type:"exact",date:Date.parse(f.next_run)}))),I&&n.default.createElement(s.Button,{id:"ocm-upgrade-status-cancel",variant:"link",onClick:()=>{g&&g(),S(m.modalActions.openModal("cancel-upgrade",{clusterID:a,schedule:f}))}},"Cancel this update")):n.default.createElement(s.EmptyState,{variant:s.EmptyStateVariant.xs},n.default.createElement(s.EmptyStateHeader,{titleText:"Update status is not available",headingLevel:"h4"}),n.default.createElement(s.EmptyStateBody,null,"Update status is not available. Try again later."))}a(22417),f.propTypes={clusterID:r.default.string.isRequired,upgradeGates:r.default.object,schedules:r.default.object,cluster:r.default.object,canEdit:r.default.bool,clusterVersion:r.default.string,scheduledUpgrade:r.default.shape({version:r.default.string,next_run:r.default.string,state:r.default.shape({value:r.default.string}),schedule_type:r.default.string}),onCancelClick:r.default.func,availableUpgrades:r.default.arrayOf(r.default.string)},t.default=f},48932:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(19202),o=a(44027),u=a(68720),d=a(67080),c=l(a(55816));function m(e){let{close:t,scheduleType:a,upgradeTimestamp:l,isPostScheduleError:r,postScheduleError:m,isPostSchedulePending:p}=e;return r?n.default.createElement(i.Bullseye,null,n.default.createElement(c.default,{message:"Failed to schedule upgrade",response:m})):p?n.default.createElement(d.Spinner,{className:"wizard-step-body",centered:!0}):n.default.createElement(i.EmptyState,{variant:"lg",className:"wizard-step-body"},n.default.createElement(i.EmptyStateHeader,{titleText:"Scheduled cluster update",icon:n.default.createElement(i.EmptyStateIcon,{icon:s.CheckCircleIcon,color:o.global_success_color_100.value}),headingLevel:"h4"}),n.default.createElement(i.EmptyStateBody,null,"Your update was successfully scheduled to start within"," ","now"===a?"the next hour":n.default.createElement(n.default.Fragment,null,"one hour of ",n.default.createElement(u.DateFormat,{type:"exact",date:new Date(l)})),"."),n.default.createElement(i.EmptyStateFooter,null,n.default.createElement(i.EmptyStateActions,null,n.default.createElement(i.Button,{onClick:t},"Close"))))}m.propTypes={isPostScheduleError:r.default.bool,postScheduleError:r.default.object,isPostSchedulePending:r.default.bool,close:r.default.func.isRequired,scheduleType:r.default.string,upgradeTimestamp:r.default.string},t.default=m},96891:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(22416),u=a(68720);a(588);class d extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{timeSelectionOpen:!1}),(0,n.default)(this,"modeChange",(e=>{const{onSet:t,timestamp:a}=this.props;"now"===e.target.value?t({type:"now"}):t({type:"time",timestamp:a||d.getDefaultTimestamp().toISOString()})})),(0,n.default)(this,"setDate",(e=>{const{onSet:t}=this.props,a=d.getDefaultTimestamp();t({type:"time",timestamp:e<a?a:e})})),(0,n.default)(this,"setTime",((e,t)=>{const{onSet:a,timestamp:l}=this.props,n=new Date(l),[r,i]=t.split(":");n.setHours(r),n.setMinutes(i),a({type:"time",timestamp:n.toISOString()}),this.setState({timeSelectionOpen:!1})}))}render(){const{type:e,timestamp:t}=this.props,{timeSelectionOpen:a}=this.state;a&&setTimeout((()=>{requestAnimationFrame((()=>{const e=document.querySelector("#upgrade-time-select-dropdown .pf-v5-c-select__menu-item.pf-m-selected");e&&e.scrollIntoView({block:"center"})}))}),1);const l=new Date((new Date).toDateString()),n=new Date;return n.setMonth(n.getMonth()+6),r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"Schedule update"),r.default.createElement(s.Form,{className:"wizard-step-body",onSubmit:e=>e.preventDefault()},r.default.createElement(s.FormGroup,{fieldId:"upgrade-schedule-now"},r.default.createElement(s.Radio,{isChecked:"now"===e,name:"upgrade-schedule-type",id:"upgrade-schedule-now",value:"now",label:"Update now (update will begin within the next hour)",onChange:this.modeChange})),r.default.createElement(s.FormGroup,{fieldId:"upgrade-schedule-time"},r.default.createElement(s.Radio,{isChecked:"time"===e,name:"upgrade-schedule-type",id:"upgrade-schedule-time",value:"time",label:"Schedule a different time",onChange:this.modeChange})),"time"===e&&r.default.createElement(r.default.Fragment,null,r.default.createElement(s.FormGroup,null,r.default.createElement(s.Split,{className:"upgrade-schedule-datepicker-split"},r.default.createElement(s.SplitItem,null,r.default.createElement(s.DatePicker,{id:"upgrade-schedule-datepicker",className:"upgrade-schedule-datepicker-input",validators:[e=>e<l?"The selected date is before the allowable range.":e>n?"The selected date is after the allowable range.":""],onChange:(e,t,a)=>a instanceof Date&&!Number.isNaN(a)&&this.setDate(a),isDisabled:!t,value:(e=>{const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`})(t),invalidFormatText:"Invalid date format. Use 'YYYY-MM-DD' format."})),r.default.createElement(s.SplitItem,null,r.default.createElement(o.Select,{className:"upgrade-schedule-time-input",selections:(()=>{const e=new Date(t);return`${e.getHours().toString().padStart(2,0)}:${e.getMinutes().toString().padStart(2,0)}`})(),onSelect:this.setTime,onToggle:()=>this.setState((e=>({timeSelectionOpen:!e.timeSelectionOpen}))),isOpen:a,id:"upgrade-time-select-dropdown"},(()=>{const e=[];for(let a=0;a<24;a+=1){const l=`${a.toString().padStart(2,0)}:00`,n=new Date(t);n.setHours(a),n.setMinutes(0),e.push(r.default.createElement(o.SelectOption,{value:l,key:l,isDisabled:d.getDefaultTimestamp()>n},l))}return e})())),r.default.createElement(s.SplitItem,null))),r.default.createElement("dl",{className:"cluster-upgrade-dl"},r.default.createElement("dt",null,"UTC "),r.default.createElement("dd",null,r.default.createElement(u.DateFormat,{type:"exact",date:new Date(t)}))))))}}(0,n.default)(d,"getDefaultTimestamp",(()=>{const e=new Date((new Date).getTime()+36e5);return e.getMinutes()>5&&e.setHours(e.getHours()+1),e.setSeconds(0),e.setMilliseconds(0),e.setMinutes(0),e})),d.propTypes={onSet:i.default.func.isRequired,type:i.default.oneOf(["now","time"]),timestamp:i.default.string},t.default=d},65771:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(73729),i=a(97419),s=a(22416),o=a(68720),u=a(67080),d=a(3089),c=a(98002),m=a(74409),p=a(49859),f=a(41955),E=a(36165),g=a(91089),v=l(a(43775)),h=a(23271),b=a(21650),S=l(a(2711)),_=l(a(48932)),C=l(a(96891)),y=l(a(47489));a(588);const I=()=>{var e,t,a,l;const v=(0,r.useDispatch)(),[I,A]=n.default.useState(void 0),[R,T]=n.default.useState(void 0),[O,P]=n.default.useState(void 0),[D,L]=n.default.useState(!1),[N,w]=n.default.useState("now"),M=(0,E.useGlobalState)((e=>e.modal.data.subscriptionID)),k=(0,E.useGlobalState)((e=>e.modal.data.clusterName)),{cluster:F,isLoading:x,isSuccess:G}=(0,f.useFetchClusterDetails)(M),U=null==F?void 0:F.id,j=null==F||null===(e=F.subscription)||void 0===e?void 0:e.xcm_id,H=(0,h.isHypershiftCluster)(F),{data:V}=(0,c.useGetSchedules)(U,H,j),{data:q}=(0,d.useFetchUpgradeGatesFromApi)(null==F?void 0:F.managed,j),z=e=>(0,b.getClusterUnMetClusterAcks)(V,F,q,e),{mutateAsync:B}=(0,m.usePostClusterGateAgreementAcknowledgeModal)(U,j),{mutate:W,isError:$,error:Y,isPending:K}=(0,p.usePostSchedule)(U,H,j),Q=x&&!G||(null==F||null===(t=F.subscription)||void 0===t?void 0:t.id)!==M,Z=I&&(R||"now"===N)&&(O&&D||!O),X=()=>{(0,c.refetchSchedules)(),(0,f.invalidateClusterDetailsQueries)(),A(void 0),T(void 0),w("now"),v(g.modalActions.closeModal())},J=[{id:"select-version",name:"Select version",component:Q?n.default.createElement(u.Spinner,{centered:!0}):n.default.createElement(y.default,{availableUpgrades:null==F||null===(a=F.version)||void 0===a?void 0:a.available_upgrades,clusterVersion:(null==F?void 0:F.openshift_version)||(null==F||null===(l=F.version)||void 0===l?void 0:l.id),clusterChannel:null==F?void 0:F.version.channel_group,selected:I,onSelect:e=>{const t=z(e).length>0;A(e),P(t)},getUnMetClusterAcknowledgements:z}),enableNext:!!I},...I&&O?[{id:"acknowledge_upgrade",name:"Administrator acknowledgement",component:n.default.createElement(S.default,{confirmed:e=>{L(e)},unmetAcknowledgements:z(I),fromVersion:null==F?void 0:F.openshift_version,toVersion:I,initiallyConfirmed:D}),canJumpTo:!!I,enableNext:Z}]:[],{id:"schedule-upgrade",name:"Schedule update",component:n.default.createElement(C.default,{onSet:e=>{let{timestamp:t,type:a}=e;T(t),w(a)},timestamp:R,type:N}),canJumpTo:!!I&&(!O||D),enableNext:Z},{id:"confirmation",name:"Confirmation",component:n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"Confirmation of your update"),n.default.createElement("dl",{className:"wizard-step-body cluster-upgrade-dl"},n.default.createElement("div",null,n.default.createElement("dt",null,"Version"),n.default.createElement("dd",null,null==F?void 0:F.openshift_version,"  ",I)),O?n.default.createElement("div",null,n.default.createElement("dt",null,"Administrator acknowledgement"),n.default.createElement("dd",null,D?"Approved":"Not approved")):null,n.default.createElement("dt",null,"Scheduled"),n.default.createElement("dd",null,"now"===N?"Within the next hour":n.default.createElement("dl",null,n.default.createElement("dt",null,"UTC"),n.default.createElement("dd",null,n.default.createElement(o.DateFormat,{type:"exact",date:new Date(R)})),n.default.createElement("div",null,n.default.createElement("dt",null,"Local time"),n.default.createElement("dd",null,new Date(R).toString())))))),nextButtonText:"Confirm update",canJumpTo:Z},{id:"finish",name:"Finish",component:n.default.createElement(_.default,{scheduleType:N,upgradeTimestamp:R,postScheduleError:Y,isPostScheduleError:$,isPostSchedulePending:K,close:X}),isFinishedStep:!0}];return n.default.createElement(s.Wizard,{title:"Update cluster",className:"ocm-upgrade-wizard",description:k,isOpen:!0,steps:J,onNext:e=>{if("finish"===e.id){const e="now"===N?new Date((new Date).getTime()+36e4).toISOString():R;let t=null,a=null;const l=z(I).map((e=>e.id));t||(a=B(l,{onError:e=>{t=e}})),a.then((()=>{if(!t){const t={schedule_type:"manual",upgrade_type:(0,h.isHypershiftCluster)(F)?"ControlPlane":"OSD",next_run:e,version:I};W(t)}}))}},onClose:X})};I.propTypes={},I.modalName=v.default.UPGRADE_WIZARD,t.default=I},86513:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(29962),o=a(3995),u=a(10176),d=l(a(8888));const c=e=>{const{isSelected:t,isRecommended:a,version:l,onKeyDown:r,onClick:c,children:m,getUnMetClusterAcknowledgements:p}=e;return n.default.createElement(i.Card,{className:"version-card",id:l,onKeyDown:r,onClick:c,isSelectableRaised:!0,isCompact:!0,isSelected:t},n.default.createElement(i.CardTitle,null,n.default.createElement(i.Split,null,n.default.createElement(i.SplitItem,null,l," ",p(l).length>0?(e=>n.default.createElement(i.Tooltip,{content:`All clusters require an administrator acknowledgement before updating to OpenShift Container Platform ${e}`},n.default.createElement(i.Button,{variant:"link",isInline:!0,"aria-label":"more information"},n.default.createElement(s.InfoCircleIcon,null))))(l):null),n.default.createElement(i.SplitItem,{isFilled:!0}),a&&n.default.createElement(i.SplitItem,null,n.default.createElement(i.Label,{color:"blue",icon:n.default.createElement(o.StarIcon,null)},"Recommended")))),m&&n.default.createElement(i.CardBody,null,m),n.default.createElement(i.CardFooter,null,(e=>{const{groups:t}=u.versionRegEx.exec(e),{major:a,minor:l,revision:r,patch:i}=t;if("4"!==a||void 0!==i)return null;const s=`https://docs.openshift.com/container-platform/${a}.${l}/release_notes/ocp-${a}-${l}-release-notes.html#ocp-${a}-${l}-${r}`;return n.default.createElement(d.default,{href:s,className:"pf-c-button pf-m-link card-footer-button"},"View release notes")})(l)))};c.propTypes={isSelected:r.default.bool,isRecommended:r.default.bool,version:r.default.string.isRequired,onKeyDown:r.default.func.isRequired,onClick:r.default.func.isRequired,children:r.default.node,getUnMetClusterAcknowledgements:r.default.func},c.defaultProps={isRecommended:!1},t.default=c},29085:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(68090)),s=l(a(5556)),o=a(97419),u=a(10176),d=l(a(86513));class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"onKeyDown",(e=>{e.target===e.currentTarget&&[13,32].includes(e.keyCode)&&this.onClick(e)})),(0,n.default)(this,"onClick",(e=>{const{selected:t,onSelect:a}=this.props;a(e.currentTarget.id===t?null:e.currentTarget.id)}))}componentDidMount(){this.selectDefault()}selectDefault(){const{availableUpgrades:e,selected:t,onSelect:a}=this.props;1!==e.length||t||a(e[0])}recommendedCards(e,t){const{selected:a,getUnMetClusterAcknowledgements:l}=this.props,n=u.versionRegEx.exec(t).groups;return r.default.createElement(r.default.Fragment,null,e?r.default.createElement(o.GridItem,{span:6},r.default.createElement(d.default,{isRecommended:!0,isSelected:a===e,version:e,onKeyDown:this.onKeyDown,onClick:this.onClick,getUnMetClusterAcknowledgements:l},"The latest on your current minor version.")):null,t!==e?r.default.createElement(o.GridItem,{span:6},r.default.createElement(d.default,{isRecommended:!0,isSelected:a===t,version:t,onKeyDown:this.onKeyDown,onClick:this.onClick,getUnMetClusterAcknowledgements:l},"Start taking advantage of the new features"," ",`${n.major}.${n.minor}`," has to offer.")):null)}render(){const{availableUpgrades:e,clusterVersion:t,selected:a,getUnMetClusterAcknowledgements:l}=this.props,n=(0,i.default)(e),s=u.versionRegEx.exec(t).groups,c=e.filter((e=>{const t=u.versionRegEx.exec(e).groups;return t.major===s.major&&t.minor===s.minor})),m=(0,i.default)(c),p=e.filter((e=>e!==n&&e!==m));return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Title,{className:"version-select-step-title",size:"lg",headingLevel:"h3"},"Select version"),r.default.createElement("div",{id:"version-grid-wrapper"},r.default.createElement(o.Grid,{hasGutter:!0,className:"version-selection-grid"},this.recommendedCards(m,n),p.length>0&&r.default.createElement(o.GridItem,null,r.default.createElement(o.Divider,null)),p.map((e=>r.default.createElement(o.GridItem,{span:4,key:e},r.default.createElement(d.default,{version:e,onKeyDown:this.onKeyDown,onClick:this.onClick,isSelected:a===e,getUnMetClusterAcknowledgements:l})))))))}}c.propTypes={clusterVersion:s.default.string.isRequired,availableUpgrades:s.default.arrayOf(s.default.string),onSelect:s.default.func.isRequired,selected:s.default.string,getUnMetClusterAcknowledgements:s.default.func},t.default=c},47489:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(29085));t.default=n.default},36202:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=l(a(65702)),o=l(a(7691)),u=a(37245),d=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure Stack Hub"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Stack Hub"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"Azure Stack Hub",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/azure-stack-hub/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_ASHIPI_GETTING_STARTED,upiPageLink:"/install/azure-stack-hub/user-provisioned",upiLearnMoreLink:s.default.INSTALL_ASHUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with Azure Provider"]},name:"azure-stack-hub"})))}},44372:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure Stack Hub",path:"/install/azure-stack-hub"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Stack Hub Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.ash.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"ash",customizations:p.default.ash.customizations},p.default.ash.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},77528:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure Stack Hub",path:"/install/azure-stack-hub"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Stack Hub User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.ash.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"ash",isUPI:!0},p.default.ash.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},83069:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=l(a(65702)),o=l(a(7691)),u=a(37245),d=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"AWS",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/aws/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_AWSIPI_LEARN_MORE,upiPageLink:"/install/aws/user-provisioned",upiLearnMoreLink:s.default.INSTALL_AWSUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with AWS Provider"]},name:"aws"})))}},52189:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services",path:"/install/aws"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.aws.x86.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"aws",customizations:p.default.aws.customizations},p.default.aws.x86.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},32937:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services",path:"/install/aws"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.aws.x86.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"aws",isUPI:!0},p.default.aws.x86.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},60311:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=l(a(65702)),o=l(a(7691)),u=l(a(8888)),d=a(37245),c=a(3874);const m=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Alibaba Cloud"}]}),p=n.default.createElement(n.default.Fragment,null,"For",n.default.createElement(u.default,{href:s.default.INSTALL_GENERIC_NON_TESTED_PLATFORMS,stopClickPropagation:!0},"non-tested platforms"));t.A=()=>n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Alibaba Cloud"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"Alibaba Cloud",breadcrumbs:m}),n.default.createElement(r.PageSection,null,n.default.createElement(d.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,hideIPI:!0,ipiPageLink:"",hideUPI:!0,upiPageLink:"",agentBasedPageLink:"/install/platform-agnostic/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:[p,"For air-gapped/restricted networks"],ai:[p],upi:[p]},name:"alibaba-cloud"})))},58349:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=l(a(65702)),o=l(a(7691)),u=a(37245),d=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services (ARM)"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS (ARM)"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"AWS (ARM)",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/aws/arm/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_AWSIPI_LEARN_MORE,upiPageLink:"/install/aws/arm/user-provisioned",upiLearnMoreLink:s.default.INSTALL_AWSUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with AWS Provider"]},name:"aws"})))}},83821:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services (ARM)",path:"/install/aws/arm"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS Installer-Provisioned ARM Infrastructure"},r.default.createElement(m.default,{title:p.default.aws.arm.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"aws",customizations:p.default.aws.customizations},p.default.aws.arm.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},44902:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services (ARM)",path:"/install/aws/arm"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS User-Provisioned ARM Infrastructure"},r.default.createElement(m.default,{title:p.default.aws.arm.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"aws",isUPI:!0},p.default.aws.arm.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},55083:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure (ARM)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Installer-Provisioned ARM Infrastructure"},r.default.createElement(m.default,{title:p.default.azure.arm.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"azure",customizations:p.default.azure.customizations},p.default.azure.arm.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},69387:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=l(a(65702)),o=l(a(7691)),u=a(37245),d=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"ARM Bare Metal"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | ARM Bare Metal"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"ARM Bare Metal",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/arm/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_BAREMETAL_IPI_LEARN_MORE,upiPageLink:"/install/arm/user-provisioned",upiLearnMoreLink:s.default.INSTALL_BAREMETAL_UPI_GETTING_STARTED,aiPageLink:"/assisted-installer/clusters/~new?useArm=true",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,agentBasedPageLink:"/install/arm/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:["For air-gapped/restricted networks"],ipi:["Hosts controlled with baseboard management controller (BMC)","For air-gapped/restricted networks"],upi:["For air-gapped/restricted networks"]},name:"arm"})))}},79425:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"ARM Bare Metal",path:"/install/arm"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal Agent-based installer"},r.default.createElement(m.default,{title:p.default.baremetal.arm.abi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",installationTypeId:"local-agent-based"},p.default.baremetal.arm.abi,{isUPI:!0}))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},67287:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"ARM Bare Metal",path:"/install/arm"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | ARM Bare Metal Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.baremetal.arm.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal"},p.default.baremetal.arm.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},70315:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"ARM Bare Metal",path:"/install/arm"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | ARM Bare Metal User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.baremetal.arm.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.arm.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},48854:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(33366),u=a(65702),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(55258));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"ARM Pre-Release Builds"}]});return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | ARM | Experimental Developer Preview Builds"},n.default.createElement(m.default,{title:"Install OpenShift Container Platform 4 on ARM",breadcrumbs:t}),n.default.createElement(s.PageSection,null,n.default.createElement(p.default,{token:e,installer:u.tools.ARMINSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(E)},34468:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=l(a(65702)),o=l(a(7691)),u=a(37245),d=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"Azure",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/azure/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_AZUREIPI_GETTING_STARTED,upiPageLink:"/install/azure/user-provisioned",upiLearnMoreLink:s.default.INSTALL_AZUREUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with Azure Provider"]},name:"azure"})))}},69275:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure",path:"/install/azure"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.azure.x86.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"azure",customizations:p.default.azure.customizations},p.default.azure.x86.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},9607:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure",path:"/install/azure"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.azure.x86.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"azure",isUPI:!0},p.default.azure.x86.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},24635:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=l(a(65702)),o=l(a(7691)),u=a(37245),d=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Bare Metal"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"Bare Metal",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,ipiPageLink:"/install/metal/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_BAREMETAL_IPI_LEARN_MORE,upiPageLink:"/install/metal/user-provisioned",upiLearnMoreLink:s.default.INSTALL_BAREMETAL_UPI_GETTING_STARTED,agentBasedPageLink:"/install/metal/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:["For air-gapped/restricted networks"],ipi:["Hosts controlled with baseboard management controller (BMC)","For air-gapped/restricted networks"],upi:["For air-gapped/restricted networks"]},name:"metal"})))}},74321:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Bare Metal",path:"/install/metal"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal Agent-based installer"},r.default.createElement(m.default,{title:p.default.baremetal.x86.abi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",installationTypeId:"local-agent-based"},p.default.baremetal.x86.abi,{isUPI:!0}))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},70183:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Bare Metal",path:"/install/metal"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.baremetal.x86.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal"},p.default.baremetal.x86.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},81179:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Bare Metal",path:"/install/metal"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.baremetal.x86.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.x86.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},95740:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=l(a(65702)),o=l(a(7691)),u=a(37245),d=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Google Cloud Platform"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | GCP"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"GCP",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/gcp/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_GCPIPI_LEARN_MORE,upiPageLink:"/install/gcp/user-provisioned",upiLearnMoreLink:s.default.INSTALL_GCPUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with Google Cloud Provider"]},name:"gcp"})))}},45946:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Google Cloud Platform",path:"/install/gcp"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | GCP Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.gcp.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"gcp",customizations:p.default.gcp.customizations},p.default.gcp.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},76638:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Google Cloud Platform",path:"/install/gcp"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | GCP User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.gcp.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"gcp",isUPI:!0},p.default.gcp.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},96581:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Cloud"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Cloud"},r.default.createElement(m.default,{title:p.default.ibmCloud.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"ibmCloud"},p.default.ibmCloud))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},80720:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=l(a(65702)),o=l(a(7691)),u=a(37245),d=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Z (s390x)"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Z (s390x)"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"IBM Z (s390x)",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,upiPageLink:"/install/ibmz/user-provisioned",upiLearnMoreLink:s.default.INSTALL_IBMZ_UPI_GETTING_STARTED,agentBasedPageLink:"/install/ibmz/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,hideIPI:!0,providerSpecificFeatures:{abi:["For connected or air-gapped/restricted networks"],ipi:["Hosts controlled with Ibmz Cloud Provider","For connected or air-gapped/restricted networks"],upi:["For connected or air-gapped/restricted networks"]},name:"Ibmz"})))}},35687:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Z (s390x)",path:"/install/ibmz"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Z (s390x) Agent-based installer"},r.default.createElement(m.default,{title:p.default.baremetal.s390x.abi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",installationTypeId:"local-agent-based"},p.default.baremetal.s390x.abi,{customizations:p.default.baremetal.s390x.customizations,isUPI:!0}))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},59262:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(33366),u=a(65702),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(55258));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Z",path:"/install/ibmz/user-provisioned"},{label:"Pre-Release Builds"}]});return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | IBM Z | Experimental Developer Preview Builds"},n.default.createElement(m.default,{title:"Install OpenShift on IBM Z with user-provisioned infrastructure",breadcrumbs:t}),n.default.createElement(s.PageSection,null,n.default.createElement(p.default,{token:e,installer:u.tools.IBMZINSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(E)},21458:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Z (s390x)",path:"/install/ibmz"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Z (s390x)"},r.default.createElement(m.default,{title:p.default.baremetal.s390x.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.s390x.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},15048:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"AWS (multi-architecture)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS with Multi-Architecture Compute Machines"},r.default.createElement(m.default,{title:p.default.aws.multi.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"aws"},p.default.aws.multi.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},15022:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure (multi-architecture)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure with Multi-Architecture Compute Machines"},r.default.createElement(m.default,{title:p.default.azure.multi.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"azure"},p.default.azure.multi.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},60590:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Baremetal (multi-architecture)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Baremetal with Multi-Architecture Compute Machines"},r.default.createElement(m.default,{title:p.default.baremetal.multi.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,showPreReleaseDocs:!0,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.multi.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},61955:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(33366),u=a(65702),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(55258));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Multi-architecture clusters"},{label:"Pre-Release Builds"}]});return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | Multi-architecture clusters | Experimental Developer Preview Builds"},n.default.createElement(m.default,{title:"Install OpenShift with multi-architecture compute machines",breadcrumbs:t}),n.default.createElement(s.PageSection,null,n.default.createElement(p.default,{token:e,installer:u.tools.MULTIINSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(E)},36245:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=a(37245),o=a(3874),u=l(a(65702)),d=l(a(7691));t.A=()=>{const e=n.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Nutanix AOS"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Nutanix AOS"},n.default.createElement(o.InstructionsChooserPageTitle,{cloudName:"Nutanix AOS",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(s.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:u.default.INSTALL_ASSISTED_LEARN_MORE,ipiPageLink:"/install/nutanix/installer-provisioned",ipiLearnMoreLink:u.default.INSTALL_NUTANIXIPI_GETTING_STARTED,upiPageLink:"",agentBasedPageLink:"",hideUPI:!0,recommend:"ipi",providerSpecificFeatures:{ipi:["Hosts controlled with Nutanix AOS Cloud Provider","For connected or air-gapped/restricted networks"]},name:"nutanix"})))}},35173:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Nutanix AOS",path:"/install/nutanix"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Nutanix AOS Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.nutanix.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"nutanix"},p.default.nutanix.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},57124:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=l(a(65702)),o=l(a(7691)),u=a(37245),d=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Red Hat OpenStack Platform"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | OpenStack"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"OpenStack",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/openstack/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_OSPIPI_GETTING_STARTED,upiPageLink:"/install/openstack/user-provisioned",upiLearnMoreLink:s.default.INSTALL_OSPUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with OpenStack Provider"]},name:"openstack"})))}},17330:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Red Hat OpenStack Platform",path:"/install/openstack"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | OpenStack Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.openstack.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"openstack",customizations:p.default.openstack.customizations},p.default.openstack.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},21958:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Red Hat OpenStack Platform",path:"/install/openstack"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | OpenStack User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.openstack.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"openstack",isUPI:!0},p.default.openstack.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},19901:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=l(a(65702)),o=l(a(7691)),u=l(a(8888)),d=a(37245),c=a(3874);const m=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Platform agnostic (x86_64)"}]}),p=n.default.createElement(n.default.Fragment,null,"For",n.default.createElement(u.default,{href:s.default.INSTALL_GENERIC_NON_TESTED_PLATFORMS,stopClickPropagation:!0},"non-tested platforms"));t.A=()=>n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | x86_64 User-Provisioned Infrastructure"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"Platform agnostic (x86_64)",breadcrumbs:m}),n.default.createElement(r.PageSection,null,n.default.createElement(d.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,hideIPI:!0,upiPageLink:"/install/platform-agnostic/user-provisioned",upiLearnMoreLink:s.default.INSTALL_GENERIC_GETTING_STARTED,agentBasedPageLink:"/install/platform-agnostic/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:[p,"For air-gapped/restricted networks"],ai:[p],upi:[p]},name:"platform-agnostic"})))},4147:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Platform agnostic (x86_64)",path:"/install/platform-agnostic"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | x86_64 Agent-based installer"},r.default.createElement(m.default,{title:p.default.generic.abi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"generic",installationTypeId:"local-agent-based"},p.default.generic.abi,{isUPI:!0}))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},25321:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Platform agnostic (x86_64)",path:"/install/platform-agnostic"},{label:"x86_64 User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | x86_64 User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.generic.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"generic",isUPI:!0},p.default.generic.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},77313:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=l(a(65702)),o=l(a(7691)),u=a(37245),d=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Power (ppc64le)"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Power (ppc64le)"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"IBM Power (ppc64le)",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,upiPageLink:"/install/power/user-provisioned",upiLearnMoreLink:s.default.INSTALL_POWER_UPI_GETTING_STARTED,agentBasedPageLink:"/install/power/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,hideIPI:!0,providerSpecificFeatures:{abi:["For connected or air-gapped/restricted networks"],ipi:["Hosts controlled with IBM Power (ppc64le) Cloud Provider","For connected or air-gapped/restricted networks"],upi:["For connected or air-gapped/restricted networks"]},name:"Power"})))}},72063:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Power (ppc64le)",path:"/install/power"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Power (ppc64le) Agent-based installer"},r.default.createElement(m.default,{title:p.default.baremetal.ppc.abi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",installationTypeId:"local-agent-based"},p.default.baremetal.ppc.abi,{isUPI:!0}))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},555:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(33366),u=a(65702),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(55258));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Power (ppc64le)",path:"/install/power/user-provisioned"},{label:"Pre-Release Builds"}]});return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | IBM Power (ppc64le) | Experimental Developer Preview Builds"},n.default.createElement(m.default,{title:"Install OpenShift on IBM Power (ppc64le) with user-provisioned infrastructure",breadcrumbs:t}),n.default.createElement(s.PageSection,null,n.default.createElement(p.default,{token:e,installer:u.tools.PPCINSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(E)},45437:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Power (ppc64le)",path:"/install/power"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Power (ppc64le)"},r.default.createElement(m.default,{title:p.default.baremetal.ppc.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.ppc.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},36561:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM PowerVS (ppc64le)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Power Systems Virtual Server Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.ibmCloud.powervs.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,showPreReleaseDocs:!0,cloudProviderID:"ibmCloud"},p.default.ibmCloud.powervs.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},74726:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(33366),u=a(65702),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(55258));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Pre-Release Builds"}]});return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | Experimental Developer Preview Builds"},n.default.createElement(m.default,{title:"Install OpenShift Container Platform 4",breadcrumbs:t}),n.default.createElement(s.PageSection,null,n.default.createElement(p.default,{token:e,installer:u.tools.X86INSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(E)},6845:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(33366),u=a(56349),d=l(a(7691)),c=l(a(65824)),m=l(a(33225));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}class f extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(u.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(d.default,{path:[{label:"Downloads",path:"/downloads"},{label:"Pull secret"}]});return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | Pull Secret"},n.default.createElement(c.default,{title:"Install OpenShift Container Platform 4",breadcrumbs:t}),n.default.createElement(s.PageSection,{className:"ocp-instructions"},n.default.createElement(m.default,{token:e})))}}f.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(f)},74724:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(97419),o=a(33366),u=a(56349),d=l(a(8888)),c=l(a(65824)),m=l(a(79132)),p=l(a(6473));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(u.tollboothActions.createAuthToken())}render(){const{token:e}=this.props;return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | Pull Secret"},n.default.createElement(c.default,{title:"Azure Red Hat OpenShift"}),n.default.createElement(s.PageSection,{className:"ocp-instructions"},n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Title,{headingLevel:"h3",size:"2xl"},"Red Hat content access"),n.default.createElement(s.Card,null,n.default.createElement("div",{className:"pf-v5-l-grid pf-m-gutter ocm-page"},e.error&&n.default.createElement(p.default,{token:e}),n.default.createElement("div",{className:"pf-v5-c-content"},n.default.createElement("h3",{className:"pf-v5-c-title pf-m-md downloads-subtitle"},"Pull secret"),n.default.createElement(m.default,{token:e,text:"Download or copy your pull secret. Your pull secret provides your Azure Red Hat OpenShift cluster with access to additional content provided by Red Hat."}),n.default.createElement(s.Alert,{variant:"info",isInline:!0,title:"Connecting your cluster to OpenShift Cluster Manager",className:"bottom-alert"},n.default.createElement("p",null,"Azure Red Hat OpenShift clusters do not connect to OpenShift Cluster Manager at creation time. Follow the"," ",n.default.createElement(d.default,{href:"https://docs.microsoft.com/en-us/azure/openshift/howto-add-update-pull-secret"},"Microsoft documentation")," if you would like to enable telemetry as a day 2 operation."))))))))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(E)},90279:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(97419),i=a(33366),s=l(a(65702)),o=l(a(7691)),u=a(37245),d=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"VMware vSphere"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"VMware vSphere",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,ipiPageLink:"/install/vsphere/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_VSPHEREIPI_GETTING_STARTED,upiPageLink:"/install/vsphere/user-provisioned",upiLearnMoreLink:s.default.INSTALL_VSPHEREUPI_GETTING_STARTED,agentBasedPageLink:"/install/vsphere/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:["For connected or air-gapped/restricted networks"],ipi:["Hosts controlled with vSphere Cloud Provider","For connected or air-gapped/restricted networks"],upi:["For connected or air-gapped/restricted networks"]},name:"vsphere"})))}},15221:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"VMware vSphere",path:"/install/vsphere"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere Agent-based installer"},r.default.createElement(m.default,{title:p.default.vsphere.abi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"vsphere",installationTypeId:"local-agent-based"},p.default.vsphere.abi,{isUPI:!0}))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},21195:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"VMware vSphere",path:"/install/vsphere"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.vsphere.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"vsphere",customizations:p.default.vsphere.customizations},p.default.vsphere.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},9367:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(97419),u=a(33366),d=a(56349),c=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(d.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"VMware vSphere",path:"/install/vsphere"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.vsphere.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"vsphere",isUPI:!0},p.default.vsphere.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},55258:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(61860),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(65702)),u=l(a(8888)),d=l(a(93244)),c=l(a(71734)),m=l(a(39382)),p=l(a(6473));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function E(e){let{token:t,installer:a}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Title,{headingLevel:"h3",size:"2xl"},"Experimental Developer Preview Builds"),n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,null,n.default.createElement(i.Card,{className:"ocm-c-pre-release__card"},n.default.createElement(i.CardTitle,{className:"ocm-c-pre-release__card--header"},n.default.createElement(s.CodeIcon,null)," ",n.default.createElement("span",null,"Developer Preview")),n.default.createElement(i.CardBody,{className:"ocm-c-pre-release__card--body"},t.error&&n.default.createElement(p.default,{token:t}),n.default.createElement(i.TextContent,null,n.default.createElement(m.default,null),n.default.createElement(i.Text,{component:"p"},"As Red Hat OpenShift Container Platform (OCP) has moved to become a more agile and rapidly deployable Kubernetes offering, we want to allow existing and evaluation customers and partners access to the latest pre-release builds to see a real-time view into the next version of OpenShift."),n.default.createElement(d.default,null),n.default.createElement(i.Text,{component:"p"},"These builds are useful for anyone who would like to stay up to date on features being developed in the next release of OpenShift. Such builds are advantageous for planning future deployments, ISV integrations, or other educational, test, and explorational purposes."),n.default.createElement(i.Text,{component:"h3"},"Feature Completion in Developer Preview Versions"),n.default.createElement(i.Text,{component:"p"},"Each OpenShift minor release will target initiatives or focus areas. Because pre-release versions are published before all features have been implemented and tested, some features may be absent, incomplete, or buggy. This is the beauty of the development process, allowing early access, so customers and partners can experiment and provide early feedback."))))),n.default.createElement(i.StackItem,null,n.default.createElement(i.Card,{className:"ocm-c-pre-release-instructions__card"},n.default.createElement(i.CardBody,{className:"ocm-c-pre-release-instructions__card--body"},n.default.createElement(c.default,{token:t,showPreReleaseDocs:!0,showPreReleasePageLink:!1,tool:a,channel:o.channels.PRE_RELEASE})),n.default.createElement(i.CardFooter,{className:"ocm-c-pre-release-instructions__card--footer"},n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:"h3"},"Feedback and Support"),n.default.createElement(i.Text,{component:"p"},"If you are a Red Hat customer or partner and have feedback about these developer preview versions, file an issue via"," ",n.default.createElement(u.default,{href:o.default.INSTALL_PRE_RELEASE_FEEDBACK},"the OpenShift Bugs tracker"),". Do not use the formal Red Hat support service ticket process. You can read more about support handling in the following"," ",n.default.createElement(u.default,{href:o.default.INSTALL_PRE_RELEASE_SUPPORT_KCS},"knowledge article"),".")))))))}a(17404),E.propTypes={token:r.default.object.isRequired,installer:r.default.oneOf(Object.values(o.tools)).isRequired},t.default=E},33225:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(79132)),o=l(a(39382)),u=l(a(6473));function d(e){let{token:t}=e;return n.default.createElement(i.Card,null,n.default.createElement(i.CardBody,null,n.default.createElement("div",{className:"pf-v5-c-content ocm-page"},n.default.createElement(i.Title,{headingLevel:"h3",size:"2xl"},"Pull secret"),n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,{key:"pull-secret"},t.error&&n.default.createElement(u.default,{token:t}),n.default.createElement(i.TextContent,null,n.default.createElement(s.default,{token:t}))),n.default.createElement(i.StackItem,null,n.default.createElement(o.default,null))))))}d.propTypes={token:r.default.object.isRequired},t.default=d},84994:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(65702),o=l(a(11777)),u=l(a(94974)),d=l(a(71734)),c=l(a(91827)),m=l(a(28999)),p=l(a(6473)),f=l(a(26750));const E=e=>{var t;const{token:a,cloudProviderID:l,installationTypeId:r,rhcos:E,installer:g=s.tools.X86INSTALLER,channel:v,docURL:h,customizations:b="",showPreReleaseDocs:S,preReleasePageLink:_,isUPI:C,showPreReleasePageLink:y,prerequisites:I}=e,A=window.location.pathname,R=null!==(t=f.default[l])&&void 0!==t&&t.publicCloud?`Follow the documentation to configure your ${f.default[l].cloudProvider} account and run the installer`:"Follow the instructions to configure your environment and install your cluster";return n.default.createElement(i.Card,{ouiaId:`${l}${r?"-".concat(r):""}`},n.default.createElement(i.CardBody,null,a.error&&n.default.createElement(n.default.Fragment,null,n.default.createElement(p.default,{token:a}),n.default.createElement("div",{className:"pf-v5-u-mb-lg"})),n.default.createElement(u.default,null,n.default.createElement(o.default,null,n.default.createElement(d.default,{showPreReleaseDocs:S,preReleasePageLink:_,token:a,pendoID:A,cloudProviderID:l,rhcos:E,tool:g,channel:v,showPreReleasePageLink:y})),n.default.createElement(o.default,null,n.default.createElement(i.Text,{component:"h2"},R),n.default.createElement(c.default,{docURL:h,pendoID:A,cloudProviderID:l,customizations:b,prerequisites:I,isUPI:C})),n.default.createElement(o.default,null,n.default.createElement(m.default,null)))))};E.propTypes={token:r.default.object.isRequired,cloudProviderID:r.default.string.isRequired,installationTypeId:r.default.string,rhcos:r.default.object,installer:r.default.oneOf(Object.values(s.tools)),channel:r.default.oneOf(Object.values(s.channels)).isRequired,docURL:r.default.string.isRequired,showPreReleaseDocs:r.default.bool,preReleasePageLink:r.default.string,customizations:r.default.string,prerequisites:r.default.string,isUPI:r.default.bool,showPreReleasePageLink:r.default.bool},E.defaultProps={isUPI:!1},t.default=E},81023:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(65702),o=l(a(41612));const u=e=>{let{pendoID:t,channel:a}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Text,{component:"p"},"Download the OpenShift command-line tools and add them to your ",n.default.createElement("code",null,"PATH"),"."),n.default.createElement("div",null,n.default.createElement(o.default,{pendoID:t,tool:s.tools.OC,channel:a})),n.default.createElement(i.Text,{component:"p"}),n.default.createElement(i.Text,{component:"p"},"When the installer is complete you will see the console URL and credentials for accessing your new cluster. A ",n.default.createElement("code",null,"kubeconfig")," file will also be generated for you to use with the"," ",n.default.createElement("code",null,"oc")," CLI tools you downloaded."))};u.propTypes={pendoID:r.default.string,channel:r.default.oneOf(Object.values(s.channels)).isRequired},t.default=u},42577:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(61860),s=a(69304);a(99222);const o=e=>{let{isDevPreview:t=!1,devPreviewLink:a="/install/pre-release"}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement("span",{className:"pf-v5-c-label pf-m-compact dev-preview-label"},n.default.createElement(i.CodeIcon,null)," Developer Preview")," ",n.default.createElement(s.Link,{to:a},t?"About":"Download"," pre-release builds"))};o.propTypes={isDevPreview:r.default.bool,devPreviewLink:r.default.string},t.default=o},93244:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(97419),i=l(a(65702)),s=l(a(8888));t.default=()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(r.Text,{component:"p"},"Because these are"," ",n.default.createElement(s.default,{href:i.default.INSTALL_PRE_RELEASE_SUPPORT_KCS,noIcon:!0},"developer preview")," ","builds:"),n.default.createElement(r.TextList,null,n.default.createElement(r.TextListItem,null,"Production use is not permitted."),n.default.createElement(r.TextListItem,null,"Installation and use is not eligible for Red Hat production support."),n.default.createElement(r.TextListItem,null,"Upgrades to, from, or between developer preview versions are not supported.")))},27211:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(62344),u=a(17210),d=a(65702);const c={[d.operatingSystems.linux]:r.default.createElement(s.Text,null,"Download and extract the OpenShift Local archive for your operating system and place the binary in your ",r.default.createElement("code",null,"$PATH")," ."),[d.operatingSystems.mac]:r.default.createElement(s.Text,null,"Download and open the OpenShift Local file. Opening the file will automatically start a step-by-step installation guide."),[d.operatingSystems.windows]:r.default.createElement(s.Text,null,"Download and extract the OpenShift Local archive on your computer and open the installer. Opening the installer will automatically start a step-by-step installation guide.")};class m extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{selections:{}}),(0,n.default)(this,"setSelections",(e=>{this.setState({selections:e})}))}componentDidMount(){const{githubReleases:e,getLatestRelease:t}=this.props;d.githubReleasesToFetch.forEach((a=>{e[a].fulfilled||t(a)}))}render(){var e;const{pendoID:t,tool:a,channel:l,githubReleases:n}=this.props,{selections:i}=this.state,m=(0,d.urlsSelector)(n),p=(null===(e=i[a])||void 0===e?void 0:e.OS)||(0,u.detectOS)(),f=a===d.tools.CRC,E=(0,o.downloadChoice)(i,this.setSelections,m,a,l,{pendoID:t});return r.default.createElement(r.default.Fragment,null,f&&c[p],r.default.createElement(s.Grid,{hasGutter:!0,className:"os-based-download"},r.default.createElement(s.GridItem,{md:3},E.osDropdown),r.default.createElement(s.GridItem,{md:4},E.archDropdown),r.default.createElement(s.GridItem,{md:5},E.downloadButton)))}}m.propTypes={pendoID:i.default.string,tool:i.default.oneOf(Object.values(d.tools)).isRequired,channel:i.default.oneOf(Object.values(d.channels)).isRequired,githubReleases:i.default.object.isRequired,getLatestRelease:i.default.func.isRequired},t.default=m},41612:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(56349),i=l(a(27211));const s={getLatestRelease:r.githubActions.getLatestRelease};t.default=(0,n.connect)((e=>({token:e.tollbooth.token||{},githubReleases:e.githubReleases})),s)(i.default)},71734:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(40167),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(65702)),u=l(a(52169)),d=l(a(81023)),c=l(a(42577)),m=l(a(41612)),p=l(a(79132));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function E(e){let{token:t,showPreReleaseDocs:a=!1,preReleaseDocsLink:l=o.default.INSTALL_PRE_RELEASE_INSTALLER_DOC,showPreReleasePageLink:r=!0,preReleasePageLink:f="/install/pre-release",children:E,pendoID:g,tool:v,channel:h,rhcos:b}=e;return n.default.createElement("div",null,E,n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,{key:"install"},n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:"h2"},"What you need to get started"),n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Text,{component:"h3"},"OpenShift installer"),n.default.createElement(i.Text,{component:"p"},"Download and extract the install program for your operating system and place the file in the directory where you will store the installation configuration files. Note: The OpenShift install program is only available for Linux and macOS at this time."),a&&n.default.createElement(i.Text,{component:"p"},"For pre-release documentation, refer to the"," ",n.default.createElement(i.Text,{component:"a",href:l,rel:"noreferrer noopener",target:"_blank"},"latest installer documentation"," ",n.default.createElement(i.Icon,{size:"sm"},n.default.createElement(s.ExternalLinkAltIcon,null))),"."),n.default.createElement(m.default,{tool:v,channel:h,pendoID:g}),r&&n.default.createElement("div",null,n.default.createElement(c.default,{devPreviewLink:f}))))),n.default.createElement(i.StackItem,{key:"pull-secret"},n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:"h3"},"Pull secret"),n.default.createElement(p.default,{token:t,pendoID:g}))),n.default.createElement(i.StackItem,{key:"cli"},n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:"h3"},"Command line interface"),n.default.createElement(d.default,{pendoID:g,channel:h}))),b&&n.default.createElement(i.StackItem,{key:"rhcos"},n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:"h3"},"Red Hat Enterprise Linux CoreOS (RHCOS)"),n.default.createElement(u.default,{token:t,pendoID:g,rhcos:b})))))}E.propTypes={showPreReleasePageLink:r.default.bool,showPreReleaseDocs:r.default.bool,preReleaseDocsLink:r.default.string,preReleasePageLink:r.default.string,token:r.default.object,children:r.default.oneOfType([r.default.node,r.default.element]),pendoID:r.default.string,tool:r.default.oneOf(Object.values(o.tools)).isRequired,channel:r.default.oneOf(Object.values(o.channels)).isRequired,rhcos:r.default.object},t.default=E},91827:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(9704),i=l(a(5556)),s=a(97419),o=a(9296),u=l(a(94538)),d=l(a(8888)),c=l(a(26750)),m=l(a(39382));const p=e=>{let{docURL:t,pendoID:a,cloudProviderID:l,customizations:i,prerequisites:p,isUPI:f}=e;const E=(0,u.default)();return n.default.createElement(s.Stack,{hasGutter:!0},n.default.createElement(s.StackItem,null,n.default.createElement(s.TextContent,null,n.default.createElement("div",null,"The installer will take about 45 minutes to run.",(0,r.get)(c.default,`${l}.getStartedAdditional`,null)||"",n.default.createElement(s.Text,{component:"p"},"When the installer is complete you will see the console URL and credentials for accessing your new cluster. A ",n.default.createElement("code",null,"kubeconfig")," file will also be generated for you to use with the ",n.default.createElement("code",null,"oc")," CLI tools you downloaded.")))),n.default.createElement(s.StackItem,null,n.default.createElement(s.Button,{component:"a",href:t,rel:"noreferrer noopener",target:"_blank",variant:"secondary",onClick:()=>{E(o.trackEvents.OCPInstallDocumentation,{url:t,path:a})}},"Get started")),!f&&n.default.createElement(s.StackItem,null,n.default.createElement(s.Text,{component:"p"},"To quickly create a cluster with the default options, run the following command:"),n.default.createElement(s.ClipboardCopy,{id:"copy-command","data-testid":"copy-command",isReadOnly:!0,isCode:!0},"./openshift-install create cluster")),i&&n.default.createElement(s.StackItem,null,n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:"p"},"Refer to the documentation to"," ",n.default.createElement(d.default,{href:i},"install with customizations"),"."))),p&&n.default.createElement(s.StackItem,null,n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:"p"},"Please make sure you"," ",n.default.createElement(d.default,{href:p},"install the pre-requisites")," before proceeding with the cluster installation."))),n.default.createElement(s.StackItem,null,n.default.createElement(m.default,null)))};p.defaultProps={isUPI:!1},p.propTypes={docURL:i.default.string.isRequired,pendoID:i.default.string,cloudProviderID:i.default.string.isRequired,customizations:i.default.string,prerequisites:i.default.string,isUPI:i.default.bool},t.default=p},79132:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(73083)),o=l(a(88832));function u(e){let{token:t,pendoID:a,text:l}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Text,{component:"p"},l||"Download or copy your pull secret. You'll be prompted for this information during installation."),n.default.createElement("div",null,n.default.createElement(o.default,{token:t,pendoID:a}),n.default.createElement(s.default,{token:t,variant:"link-tooltip",pendoID:a})))}u.propTypes={token:r.default.object.isRequired,pendoID:r.default.string,text:r.default.string},t.default=u},62143:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(65702),u=l(a(39358));class d extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{selection:"x86"}),(0,n.default)(this,"options",[{value:"Select architecture",label:"Select architecture",disabled:!0},...o.architectureOptions.map((e=>{let{value:t,label:a}=e;return{value:t,label:a,disabled:!1}}))]),(0,n.default)(this,"onChange",(e=>{this.setState({selection:e})})),(0,n.default)(this,"downloadButtons",(()=>{const{token:e,pendoID:t,rhcosDownloads:a}=this.props,{selection:l}=this.state;return(Array.isArray(a)?a:[a]).map((a=>{const{archURL:n,buttonText:i,name:d}=a;return r.default.createElement(s.SplitItem,{key:d},r.default.createElement(u.default,{disabled:!!e.error,url:n[l],tool:o.tools.RHCOS,text:i,name:d,pendoID:t}))}))}))}render(){const{selection:e}=this.state,t=this.downloadButtons();return r.default.createElement(s.Split,{hasGutter:!0,className:"os-based-download"},r.default.createElement(s.SplitItem,{key:"select-arch"},r.default.createElement(s.FormSelect,{value:e,onChange:(e,t)=>this.onChange(t),"aria-label":"select-arch-dropdown"},this.options.map((e=>r.default.createElement(s.FormSelectOption,{isDisabled:e.disabled,key:`arch.${e.value}`,value:e.value,label:e.label}))))),r.default.createElement(s.SplitItem,{key:"download-buttons"},r.default.createElement(s.Split,{hasGutter:!0},t)))}}d.propTypes={token:i.default.object.isRequired,pendoID:i.default.string,rhcosDownloads:i.default.oneOfType([i.default.array,i.default.object])},t.default=d},52169:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(40167),o=a(65702),u=l(a(39358)),d=l(a(62143));const c=e=>{const{token:t,pendoID:a,rhcos:l}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Text,{component:"p"},"Download RHCOS to create machines for your cluster to use during installation.",l.additionalInstructions&&"string"==typeof l.additionalInstructions&&n.default.createElement(n.default.Fragment,null," ",l.additionalInstructions)," ",l.learnMoreURL&&n.default.createElement(i.Text,{component:"a",href:l.learnMoreURL,rel:"noreferrer noopener",target:"_blank"},"Learn more"," ",n.default.createElement(i.Icon,{size:"sm"},n.default.createElement(s.ExternalLinkAltIcon,null)),".")),l.additionalInstructions&&"string"!=typeof l.additionalInstructions&&n.default.createElement(n.default.Fragment,null," ",l.additionalInstructions),(e=>{const l=e.map((e=>{const{url:l,archURL:r,buttonText:s,name:c}=e;if(!l&&r||Array.isArray(e)){const l=Array.isArray(e)?e.map((e=>e.name)).join("|"):c;return n.default.createElement(d.default,{key:l,rhcosDownloads:e,pendoID:a,token:t})}return n.default.createElement(i.StackItem,{key:c},n.default.createElement(u.default,{url:l,tool:o.tools.RHCOS,text:s,name:c,disabled:!t,pendoID:a}))}));return n.default.createElement(i.Stack,{hasGutter:!0,className:"pf-v5-u-mt-md"},l)})(l.downloads))};c.propTypes={pendoID:r.default.string,token:r.default.object.isRequired,rhcos:r.default.object.isRequired},t.default=c},28999:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(97419);t.default=()=>{const e=n.default.createElement("span",null,'Choose "Edit subscriptions settings " from the actions menu in the upper right of the cluster details pages.'),t=n.default.createElement("span",null,"Select the options that apply to your cluster in the dialog and save.");return n.default.createElement(r.TextContent,null,n.default.createElement(r.Text,{component:"h2"},"Subscription and support"),n.default.createElement(r.Text,{component:"p"},"Your cluster will be automatically registered with a 60 day evaluation subscription which does not include support. In order to receive support for your cluster, you will need to edit the subscription settings from the cluster details page here in OpenShift Cluster Manager."),n.default.createElement(r.List,null,n.default.createElement(r.ListItem,null,e),n.default.createElement(r.ListItem,null,t)))}},39382:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(97419),i=l(a(8888)),s=l(a(65702));t.default=()=>n.default.createElement(r.Text,{component:"small"},"Red Hat collects a limited amount of telemetry data. By installing OpenShift Container Platform 4, you accept our data collection policy."," ",n.default.createElement(i.default,{href:s.default.TELEMETRY_INFORMATION,noIcon:!0},"Learn more")," ","about the data we collect.")},6473:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(41073)),o=l(a(8888)),u=a(89217);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}class c extends n.default.Component{componentDidMount(){const{token:e}=this.props,t=e.errorMessage||"";(e.internalErrorCode||"")!==u.BANNED_USER_CODE&&s.captureException(new Error(`Failed to fetch OCP token: ${t}`))}render(){const{token:e}=this.props,t=e.internalErrorCode||"",a=e.errorMessage||"",l=t===u.BANNED_USER_CODE?a:n.default.createElement(n.default.Fragment,null,a,n.default.createElement("br",null),n.default.createElement("br",null),"Try again by refreshing the page. If the problem persists"," ",n.default.createElement(o.default,{href:"https://access.redhat.com/support/"},"contact our customer support"),".");return n.default.createElement(i.Alert,{variant:"danger",isInline:!0,className:"token-error-alert",title:"Failed to obtain pull secret"},l)}}c.propTypes={token:r.default.object.isRequired},t.default=c},80750:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(91847)),i=l(a(93345)),s=l(a(5556)),o=a(97419);const u=["onChange"];class d extends i.default.Component{componentDidMount(){const{selectedRegion:e,input:t}=this.props;t.onChange(e)}componentDidUpdate(e){const{selectedRegion:t,input:a}=this.props;e.selectedRegion!==t&&a.onChange(t)}render(){const{kmsRegionsArray:e,input:t}=this.props,{onChange:a}=t,l=(0,r.default)(t,u);return i.default.createElement(o.FormSelect,(0,n.default)({"aria-label":"KMS location",onChange:(e,t)=>a(t)},l),e.map((e=>i.default.createElement(o.FormSelectOption,{key:e,value:e,label:e}))))}}d.propTypes={input:s.default.object.isRequired,kmsRegionsArray:s.default.array,selectedRegion:s.default.string},t.default=d},17804:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(58156)),r=a(73729),i=l(a(80750));t.A=(0,r.connect)(((e,t)=>{let a,l=[];const r=(0,n.default)(e,"cloudProviders.providers.gcp.regions",{});return t.selectedRegion&&r[t.selectedRegion]&&(a=r[t.selectedRegion].kms_location_id),a&&(l=a.split(",")),l.push(t.selectedRegion),{kmsRegionsArray:l}}),null)(i.default)},98173:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(38715);a(28842);const u=["a","b","c","d","e","f"];class d extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{isOpen:!1}),(0,n.default)(this,"onToggle",(e=>{this.setState({isOpen:e})})),(0,n.default)(this,"onSelect",((e,t)=>{const{input:a}=this.props;this.setState({isOpen:!1}),a.onChange(t)}))}componentDidUpdate(e){const{input:t,vpcId:a}=this.props;e.vpcId!==a&&t.value&&t.onChange("")}render(){const{isOpen:e}=this.state,{input:t,isDisabled:a,enabledAvailabilityZones:l,region:n,label:i,meta:{error:d,touched:c}}=this.props,m=u.map((e=>({zoneId:`${n}${e}`,isDisabled:l&&!l.includes(`${n}${e}`)}))).sort(((e,t)=>e.isDisabled&&!t.isDisabled?1:t.isDisabled&&!e.isDisabled?-1:e.zoneId.localeCompare(t.zoneId)));return r.default.createElement(s.FormGroup,{fieldId:t.name,label:i,className:"ocm-c-create-osd-az-select",isRequired:!0},r.default.createElement(s.Select,{isOpen:e,selected:t.value,onOpenChange:e=>this.onToggle(e),toggle:l=>r.default.createElement(s.MenuToggle,{ref:l,onClick:()=>this.onToggle(!e),isExpanded:e,isDisabled:a,isFullWidth:!0,"aria-label":"Options menu",className:"availability-zone-select"},t.value?t.value:"Select availability zone"),onSelect:this.onSelect,"aria-label":i},r.default.createElement(s.SelectList,{"aria-label":"availability zone list"},m.map((e=>{let{zoneId:t,isDisabled:a}=e;return r.default.createElement(s.SelectOption,{key:t,value:t,isDisabled:a,description:a?"This zone does not have all required subnets":void 0},t)})))),r.default.createElement(o.FormGroupHelperText,{touched:c,error:d}))}}d.propTypes={isDisabled:i.default.bool,label:i.default.string,region:i.default.string,enabledAvailabilityZones:i.default.arrayOf(i.default.string),vpcId:i.default.string,input:i.default.shape({name:i.default.string,value:i.default.string,onChange:i.default.func}),meta:i.default.shape({touched:i.default.bool,error:i.default.string})},t.default=d},70746:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ExpandableReviewItem=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(97419);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}const o=e=>{let{children:t,initiallyExpanded:a}=e;const[l,r]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{r(a)}),[a]),n.default.createElement(i.ExpandableSection,{className:"review-screen-item-expandable-section",isExpanded:l,onToggle:(e,t)=>{r(t)},toggleText:l?"Show less":"Show more"},t)};t.ExpandableReviewItem=o,o.propTypes={initiallyExpanded:r.default.bool,children:r.default.node},t.default=o},46726:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReviewItem=t.FormikReviewItem=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(97419),o=a(82693),u=a(16829),d=a(70746),c=l(a(73809));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}t.FormikReviewItem=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{values:{[e]:a,[u.FieldId.Hypershift]:l}}=(0,o.useFormState)(),n=c.default[e];let i=a;const m="true"===l;if(!n)return r.default.createElement(s.DescriptionListGroup,null,r.default.createElement(s.DescriptionListTerm,null,e),r.default.createElement(s.DescriptionListDescription,null,a));if(n.isOptional&&!a)return null;let p;n.isBoolean&&void 0===a&&(i="false"),"Availability"===n.title&&m&&(i="true"),p=n.values&&n.values[i]?n.values[i]:n.valueTransform?n.valueTransform(i,t):i;const f=n.isMonospace?r.default.createElement("pre",null,p):p,E=n.isExpandable?r.default.createElement(d.ExpandableReviewItem,{initiallyExpanded:n.initiallyExpanded},f):f;return r.default.createElement(s.DescriptionListGroup,{key:e},r.default.createElement(s.DescriptionListTerm,null,n.title),r.default.createElement(s.DescriptionListDescription,{"data-testid":n.title.replace(/ /g,"-")},E))};const p=e=>{let{name:t,formValues:a}=e;const l=c.default[t];let n=a[t];const i="true"===a.hypershift;if(!l)return r.default.createElement(s.DescriptionListGroup,null,r.default.createElement(s.DescriptionListTerm,null,t),r.default.createElement(s.DescriptionListDescription,null,n));if(l.isOptional&&!n)return null;let o;l.isBoolean&&void 0===n&&(n="false"),"Availability"===l.title&&i&&(n="true"),o=l.values&&l.values[n]?l.values[n]:l.valueTransform?l.valueTransform(n,a):n;const u=l.isMonospace?r.default.createElement("pre",null,o):o,m=l.isExpandable?r.default.createElement(d.ExpandableReviewItem,{initiallyExpanded:l.initiallyExpanded},u):u;return r.default.createElement(s.DescriptionListGroup,{key:t},r.default.createElement(s.DescriptionListTerm,null,l.title),r.default.createElement(s.DescriptionListDescription,{"data-testid":l.title.replace(/ /g,"-")},m))};t.ReviewItem=p;const f=e=>{let{initiallyExpanded:t,title:a,children:l,onGoToStep:i}=e;const[o,u]=(0,r.useState)(!t),d=a.replaceAll(" ",""),c=`${d}-toggle`,m=`${d}-content`;return r.default.createElement(s.GridItem,null,r.default.createElement("div",{className:"review-screen-expandable-section"},r.default.createElement(s.ExpandableSectionToggle,{isExpanded:o,onToggle:e=>{u(e)},toggleId:c,contentId:m,className:"review-screen-expandable-section__toggle-wrapper"},a),r.default.createElement(s.Button,{variant:"link",isInline:!0,className:"pf-v5-u-font-size-sm pf-v5-u-ml-sm","data-testid":a,onClick:e=>{e.stopPropagation(),i()}},"Edit ",r.default.createElement("span",{className:"pf-v5-u-screen-reader"},a)," step"),r.default.createElement(s.ExpandableSection,{isExpanded:o,isDetached:!0,toggleId:c,contentId:m},r.default.createElement(s.DescriptionList,(0,n.default)({isHorizontal:!0},{orientation:{sm:"horizontal"}}),l))))};p.propTypes={name:i.default.string,formValues:i.default.object},f.propTypes={initiallyExpanded:i.default.bool,title:i.default.string.isRequired,children:i.default.node.isRequired,onGoToStep:i.default.func.isRequired},t.default=f},73809:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(97419),i=a(93413),s=a(75166),o=a(74688),u=a(14539),d=l(a(35952)),c=a(54910),m=a(81437),p=a(72230),f=l(a(1477)),E=l(a(38307));const g={billing_model:{title:"Subscription type",values:{[s.billingModels.STANDARD]:"Annual: Fixed capacity subscription from Red Hat",[s.billingModels.MARKETPLACE]:"On-Demand: Flexible usage billed through Red Hat Marketplace",[s.billingModels.MARKETPLACE_GCP]:"On-Demand: Flexible usage billed through Google Cloud Marketplace","standard-trial":"Free trial (upgradeable)"}},byoc:{title:"Infrastructure type",isBoolean:!0,values:{true:"Customer cloud subscription",false:"Red Hat cloud account"}},disable_scp_checks:{title:"AWS service control policy (SCP) checks",valueTransform:e=>e?"Disabled":"Enabled"},cloud_provider:{title:"Cloud provider",valueTransform:e=>"gcp"===e?"Google Cloud Platform (GCP)":null==e?void 0:e.toUpperCase()},[p.FieldId.GcpAuthType]:{title:"Authentication type",valueTransform:e=>e===m.GCPAuthType.ServiceAccounts?"Service Account":"Workload Identity Federation"},name:{title:"Cluster name"},domain_prefix:{title:"Domain prefix"},rosa_roles_provider_creation_mode:{title:"Operator roles and OIDC provider mode"},byo_oidc_config_id:{title:"OIDC Configuration ID"},byo_oidc_config_id_managed:{title:"OIDC Configuration Type",isBoolean:!0,values:{true:"Red Hat managed",false:"Self-managed"}},custom_operator_roles_prefix:{title:"Operator roles prefix"},cluster_version:{title:"Version",valueTransform:e=>null==e?void 0:e.raw_id},hypershift:{title:"Control plane",isBoolean:!0,values:{true:"Hosted",false:"Classic"}},region:{title:"Region"},multi_az:{title:"Availability",isBoolean:!0,values:{true:"Multi-zone",false:"Single zone"}},persistent_storage:{title:"Persistent storage",valueTransform:e=>`${(0,o.humanizeValueWithUnitGiB)(parseFloat(e)).value} GiB`},load_balancers:{title:"Load balancers"},secure_boot:{title:"Secure Boot support for Shielded VMs",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},enable_user_workload_monitoring:{title:"User workload monitoring",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},upgrade_policy:{title:"Update strategy",valueTransform:e=>"manual"===e?"Individual updates":"Recurring updates"},automatic_upgrade_schedule:{title:"Recurring update schedule",valueTransform:e=>{const t=[...Array(24).keys()].map((e=>`${e.toString().padStart(2,0)}:00`)),[a,l]=(0,d.default)(e);return`Every ${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][l]} at ${t[a]} UTC`}},node_drain_grace_period:{title:"Node draining",valueTransform:e=>`${e} minutes`},etcd_encryption:{title:"Additional etcd encryption",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},fips:{title:"FIPS cryptography",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},etcd_key_arn:{title:"Etcd encryption key ARN"},customer_managed_key:{title:"Encrypt volumes with customer keys",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},kms_key_arn:{title:"Custom KMS key ARN",isOptional:!0},network_configuration_toggle:{title:"Networking",values:{basic:"Basic",advanced:"Advanced"}},machine_type:{title:"Node instance type"},autoscalingEnabled:{title:"Autoscaling",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},imds:{title:"Instance Metadata Service (IMDS)",values:{[c.IMDSType.V1AndV2]:"IMDSv1 and IMDSv2",[c.IMDSType.V2Only]:"IMDSv2 only"}},nodes_compute:{title:"Compute node count",valueTransform:(e,t)=>"true"===t.multi_az&&"true"!==t.hypershift?`${e/3} ( 3 zones = ${e} compute nodes)`:e},worker_volume_size_gib:{title:"Worker root disk size",valueTransform:e=>`${e} GiB`},min_replicas:{title:"Compute node range",valueTransform:(e,t)=>n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,"Minimum nodes","true"===t.hypershift?" per machine pool":"","true"===t.multi_az&&"true"!==t.hypershift?" per zone":"",":")," ",e||0,n.default.createElement("span",{className:"pf-v5-u-ml-lg"},"Maximum nodes","true"===t.hypershift?" per machine pool":"","true"===t.multi_az&&"true"!==t.hypershift?" per zone":"",":")," ",t.max_replicas||0)},node_labels:{title:"Node labels",valueTransform:e=>n.default.createElement(r.LabelGroup,null,e.map((e=>n.default.createElement(r.Label,{color:"blue",isTruncated:!0},`${e.key} = ${e.value||""}`))))},install_to_vpc:{title:"Install into existing VPC",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},selected_vpc:{title:"Install to selected VPC",valueTransform:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name||e.id}},use_privatelink:{title:"PrivateLink",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},shared_vpc:{title:"Shared VPC settings",valueTransform:e=>n.default.createElement(r.Grid,null,n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Base DNS domain")),n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Private hosted zone ID")),n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Shared VPC role")),n.default.createElement(r.GridItem,null),n.default.createElement(r.GridItem,{md:3},e.base_dns_domain),n.default.createElement(r.GridItem,{md:3},e.hosted_zone_id),n.default.createElement(r.GridItem,{md:3},e.hosted_zone_role_arn),n.default.createElement(r.GridItem,null))},aws_standalone_vpc:{title:"VPC subnet settings",valueTransform:(e,t)=>n.default.createElement(f.default,{vpc:t.selected_vpc,machinePoolsSubnets:t.machinePoolsSubnets,hasPublicSubnets:!t.use_privatelink})},aws_hosted_machine_pools:{title:"Machine pools",valueTransform:(e,t)=>{const a=t.machinePoolsSubnets.map((e=>{var a;const l=null===(a=t.selected_vpc.aws_subnets)||void 0===a?void 0:a.find((t=>t.subnet_id===e.privateSubnetId));return{availabilityZone:l.availability_zone,privateSubnetId:l.subnet_id,publicSubnetId:""}}));return n.default.createElement(f.default,{vpc:t.selected_vpc,machinePoolsSubnets:a,hasPublicSubnets:!1})}},cluster_privacy_public_subnet_id:{title:"Public subnet",valueTransform:(e,t)=>{var a;const l=null===(a=t.selected_vpc.aws_subnets)||void 0===a?void 0:a.find((t=>t.subnet_id===e));return(null==l?void 0:l.name)||e}},securityGroups:{title:"Security groups",valueTransform:(e,t)=>{var a;return n.default.createElement(E.default,{vpcGroups:(null===(a=t.selected_vpc)||void 0===a?void 0:a.aws_security_groups)||[],formGroups:e})}},applicationIngress:{title:"Application ingress",valueTransform:e=>"default"===e?"Use default settings":"Custom settings"},defaultRouterSelectors:{title:"Route selectors",valueTransform:e=>e?(0,u.routeSelectorsAsString)((0,i.strToKeyValueObject)(e,"")):"None specified"},defaultRouterExcludedNamespacesFlag:{title:"Excluded namespaces",valueTransform:e=>e?(0,i.arrayToString)((0,i.stringToArrayTrimmed)(e)):"None specified"},isDefaultRouterWildcardPolicyAllowed:{title:"Wildcard policy",valueTransform:e=>e?"Allowed":"Disallowed"},isDefaultRouterNamespaceOwnershipPolicyStrict:{title:"Namespace ownership policy",valueTransform:e=>e?"Strict namespace ownership":"Inter-namespace ownership"},gpc_vpc:{title:"VPC subnet settings",valueTransform:(e,t)=>n.default.createElement(r.Grid,null,n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Existing VPC name")),n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Control plane subnet name")),n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Compute subnet name")),n.default.createElement(r.GridItem,{md:3}),n.default.createElement(r.GridItem,{md:3},t.vpc_name),n.default.createElement(r.GridItem,{md:3},t.control_plane_subnet),n.default.createElement(r.GridItem,{md:3},t.compute_subnet),n.default.createElement(r.GridItem,{md:3}))},configure_proxy:{title:"Cluster-wide proxy",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},http_proxy_url:{title:"HTTP proxy URL",isOptional:!0},https_proxy_url:{title:"HTTPS proxy URL",isOptional:!0},no_proxy_domains:{title:"No Proxy domains",isOptional:!0,valueTransform:e=>n.default.createElement(r.LabelGroup,null,e.map((e=>n.default.createElement(r.Label,{color:"blue",isCompact:!0,isTruncated:!0},e))))},additional_trust_bundle:{title:"Additional trust bundle",isMonospace:!0,isOptional:!0,isExpandable:!0,initiallyExpanded:!1},network_machine_cidr:{title:"Machine CIDR"},network_service_cidr:{title:"Service CIDR"},network_pod_cidr:{title:"Pod CIDR"},network_host_prefix:{title:"Host prefix",valueTransform:e=>null!=e&&e.includes("/")?e:`/${e}`},cluster_privacy:{title:"Cluster privacy",values:{external:"Public",internal:"Private",undefined:"Public"}},associated_aws_id:{title:"AWS infrastructure account ID"},shared_host_project_id:{title:"GCP shared host project ID"},billing_account_id:{title:"AWS billing account ID"},installer_role_arn:{title:"Installer role"},support_role_arn:{title:"Support role ARN"},worker_role_arn:{title:"Compute role"},control_plane_role_arn:{title:"Control plane role"},enable_external_authentication:{title:"External Authentication",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}}};t.default=g},41685:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.upgradeScheduleRequest=t.default=t.createClusterRequest=void 0;var n=l(a(43693)),r=l(a(62193)),i=l(a(44383)),s=a(93413),o=a(75166),u=a(11611),d=a(81437),c=a(72230),m=a(95343),p=l(a(7028)),f=a(24239),E=a(16521),g=a(58826),v=a(92868),h=a(14115),b=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(86633));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const y=(e,t)=>{let{isWizard:a=!0,cloudProviderID:l,product:n}=e;const f="true"===t.multi_az,S=t.cloud_provider||l,_=t.product||n,y="true"===t.hypershift,I="true"===(null==t?void 0:t.byo_oidc_config_id_managed),A=C({name:t.name,region:{id:t.region},nodes:{compute_machine_type:{id:t.machine_type}},managed:!0,product:{id:null==_?void 0:_.toLowerCase()},cloud_provider:{id:S},multi_az:f,etcd_encryption:t.etcd_encryption,billing_model:o.billingModels.STANDARD,disable_user_workload_monitoring:y||!t.enable_user_workload_monitoring},!y&&{fips:!!t.fips});if(t.has_domain_prefix&&(A.domain_prefix=t.domain_prefix),y||(A.node_drain_grace_period={value:t.node_drain_grace_period,unit:"minutes"}),y)A.billing_model=o.billingModels.MARKETPLACE_AWS;else if(t.billing_model===o.billingModels.MARKETPLACE_GCP)A.billing_model=o.billingModels.MARKETPLACE_GCP;else if(t.billing_model){const[e]=t.billing_model.split("-");A.billing_model=e}else A.billing_model=o.billingModels.STANDARD;if(t.cluster_version&&(A.version={id:t.cluster_version.id}),t.autoscalingEnabled){const e=parseInt(t.min_replicas,10),a=parseInt(t.max_replicas,10);y?A.nodes.autoscale_compute={min_replicas:e*t.machinePoolsSubnets.length,max_replicas:a*t.machinePoolsSubnets.length}:(A.autoscaler=(0,u.getClusterAutoScalingSubmitSettings)(t.cluster_autoscaling),A.nodes.autoscale_compute={min_replicas:f?3*e:e,max_replicas:f?3*a:a})}else A.nodes.compute=parseInt(t.nodes_compute,10);const R=(0,s.parseReduxFormKeyValueList)(t.node_labels);if((0,r.default)(R)||(A.nodes.compute_labels=R),p.default.fakeOSD&&(A.properties={fake_cluster:"true"}),(a||"advanced"===t.network_configuration_toggle)&&(A.network={machine_cidr:t.network_machine_cidr,service_cidr:t.network_service_cidr,pod_cidr:t.network_pod_cidr,host_prefix:parseInt(t.network_host_prefix,10)},("aws"===S||"gcp"===S&&"true"===t.byoc)&&(A.api={listening:t.cluster_privacy})),"true"===t.byoc){var T;const e=(a||"advanced"===t.network_configuration_toggle)&&t.install_to_vpc,l=!0===t.configure_proxy,n=t.use_privatelink;if(A.ccs={enabled:!0},"aws"===S){if("ROSA"===_){if(A.aws={account_id:t.associated_aws_id,sts:{role_arn:t.installer_role_arn,support_role_arn:t.support_role_arn,instance_iam_roles:C({worker_role_arn:t.worker_role_arn},y?{}:{master_role_arn:t.control_plane_role_arn}),operator_role_prefix:t.custom_operator_roles_prefix}},"auto"!==t.rosa_roles_provider_creation_mode||y||I||(A.aws.sts=C(C({},A.aws.sts),{},{auto_mode:!0})),A.properties=C(C({},A.properties),{},{rosa_creator_arn:t.rosa_creator_arn}),t.byo_oidc_config_id&&(A.aws.sts.oidc_config={id:t.byo_oidc_config_id}),t.worker_volume_size_gib&&(A.nodes.compute_root_volume={aws:{size:t.worker_volume_size_gib}}),e&&!y){const e=t.shared_vpc;e.is_selected&&(A.aws=C(C({},A.aws),{},{private_hosted_zone_id:e.hosted_zone_id,private_hosted_zone_role_arn:e.hosted_zone_role_arn}),A.dns={base_domain:e.base_dns_domain})}}else A.aws={access_key_id:t.access_key_id,account_id:t.account_id,secret_access_key:t.secret_access_key};const a=b.createSecurityGroupsParams(t.securityGroups);e&&!y&&a&&(A.aws=C(C({},A.aws),a)),n&&(A.aws.private_link=!0),"true"===t.customer_managed_key&&(A.aws.kms_key_arn=t.kms_key_arn),y&&(t.etcd_key_arn&&(A.aws.etcd_encryption={kms_key_arn:t.etcd_key_arn}),t.billing_account_id&&(A.aws.billing_account_id=t.billing_account_id)),t.imds&&!y&&(A.aws.ec2_metadata_http_tokens=t.imds),A.ccs.disable_scp_checks=t.disable_scp_checks,A.aws.subnet_ids=b.createClusterAwsSubnetIds({formData:t,isInstallExistingVPC:e}),A.nodes.availability_zones=b.createClusterAzs({formData:t,isInstallExistingVPC:e})}else if("gcp"===S){let a={};if(t[c.FieldId.GcpAuthType]===d.GCPAuthType.ServiceAccounts){const e=JSON.parse(t.gcp_service_account);a=(0,i.default)(e,["type","project_id","private_key_id","private_key","client_email","client_id","auth_uri","token_uri","auth_provider_x509_cert_url","client_x509_cert_url"])}t[c.FieldId.GcpAuthType]===d.GCPAuthType.WorkloadIdentityFederation&&(a={authentication:{kind:"WifConfig",id:t[c.FieldId.GcpWifConfig].id}}),A.gcp=C(C({},a),{},{security:{secure_boot:t.secure_boot}}),A.cloud_provider.display_name="gcp",A.cloud_provider.name="gcp",A.flavour={id:E.DEFAULT_FLAVOUR_ID},e&&(A.gcp_network={vpc_name:t.vpc_name,control_plane_subnet:t.control_plane_subnet,compute_subnet:t.compute_subnet},t.install_to_shared_vpc&&(A.gcp_network.vpc_project_id=t.shared_host_project_id)),"true"===t.customer_managed_key&&(A.gcp_encryption_key={key_name:t.key_name,key_ring:t.key_ring,key_location:t.key_location,kms_key_service_account:t.kms_service_account})}if(t.applicationIngress===m.ApplicationIngressType.Custom&&(0,h.canConfigureDayOneManagedIngress)(null===(T=t.cluster_version)||void 0===T?void 0:T.raw_id)&&(A.ingresses={items:[{default:!0,excluded_namespaces:t.defaultRouterExcludedNamespacesFlag?(0,s.stringToArrayTrimmed)(t.defaultRouterExcludedNamespacesFlag):void 0,route_selectors:(0,s.strToKeyValueObject)(t.defaultRouterSelectors,""),route_wildcard_policy:t.isDefaultRouterWildcardPolicyAllowed?v.WildcardPolicy.WILDCARDS_ALLOWED:v.WildcardPolicy.WILDCARDS_DISALLOWED,route_namespace_ownership_policy:t.isDefaultRouterNamespaceOwnershipPolicyStrict?g.NamespaceOwnershipPolicy.STRICT:g.NamespaceOwnershipPolicy.INTER_NAMESPACE_ALLOWED}]}),e&&l){const e={};t.http_proxy_url&&(e.http_proxy=t.http_proxy_url),t.https_proxy_url&&(e.https_proxy=t.https_proxy_url),t.no_proxy_domains&&(e.no_proxy=t.no_proxy_domains.join(",")),0!==Object.keys(e).length&&(A.proxy=e),t.additional_trust_bundle&&(A.additional_trust_bundle=t.additional_trust_bundle)}}else A.load_balancer_quota=parseInt(t.load_balancers,10),A.storage_quota={unit:"B",value:parseFloat(t.persistent_storage)},"gcp"===S&&(A.gcp={security:{secure_boot:t.secure_boot}});return t.hypershift&&(A.hypershift={enabled:y}),y&&(A.multi_az=!0),t.enable_external_authentication&&(A.external_auth_config={enabled:!0}),A};t.createClusterRequest=y;const I=e=>"manual"===e.upgrade_policy?null:{schedule_type:e.upgrade_policy,schedule:e.automatic_upgrade_schedule};t.upgradeScheduleRequest=I,t.default=(e,t)=>a=>{const{isWizard:l,cloudProviderID:n,product:r}=t,i=y({isWizard:l,cloudProviderID:n,product:r},a),s=I(a);e((0,f.createCluster)(i,s))}},86633:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.createSecurityGroupsParams=t.createClusterAzs=t.createClusterAwsSubnetIds=void 0;var n=l(a(63375));t.createClusterAzs=e=>{let{formData:t,isInstallExistingVPC:a}=e,l=[];if("true"===t.hypershift){const e=t.selected_vpc;t.machinePoolsSubnets.forEach((t=>{var a;const n=null===(a=e.aws_subnets)||void 0===a?void 0:a.find((e=>e.subnet_id===t.privateSubnetId));n&&l.push(n.availability_zone)}))}else a&&(l=t.machinePoolsSubnets.map((e=>e.availabilityZone)));return 0===l.length?void 0:(0,n.default)(l)},t.createClusterAwsSubnetIds=e=>{let{formData:t,isInstallExistingVPC:a}=e;const l=[],{machinePoolsSubnets:n}=t;if("true"===t.hypershift){"external"===t.cluster_privacy&&l.push(t.cluster_privacy_public_subnet_id);const e=n.map((e=>e.privateSubnetId));l.push(...e)}else if(a){const e=!t.use_privatelink;l.push(n[0].privateSubnetId),e&&l.push(n[0].publicSubnetId),"true"===t.multi_az&&(l.push(n[1].privateSubnetId,n[2].privateSubnetId),e&&l.push(n[1].publicSubnetId,n[2].publicSubnetId))}return l.filter((e=>!!e))},t.createSecurityGroupsParams=e=>{if(!e)return;const{applyControlPlaneToAll:t,controlPlane:a,infra:l,worker:n}=e;if(t&&a.length>0)return{additional_control_plane_security_group_ids:a,additional_infra_security_group_ids:a,additional_compute_security_group_ids:a};const r={};return a.length>0&&(r.additional_control_plane_security_group_ids=a),e.infra.length>0&&(r.additional_infra_security_group_ids=l),e.worker.length>0&&(r.additional_compute_security_group_ids=n),0===Object.keys(r).length?void 0:r}},23722:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=t.cw=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=a(88139),s=l(a(58156)),o=l(a(5556)),u=a(97419),d=a(67080),c=a(9296),m=a(93413),p=l(a(65702)),f=a(69304),E=a(82693),g=a(66152),v=l(a(8888)),h=l(a(10046)),b=a(77218),S=l(a(38871)),_=a(62077),C=l(a(94538)),y=a(11243),I=a(976),A=a(16829),R=a(90132),T=l(a(34706));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(82240);const L=t.cw="No role detected",N=(e,t)=>e.Installer&&e.Support&&e.Worker&&(e.ControlPlane||t);function w(e){let{selectedAWSAccountID:t,selectedInstallerRoleARN:a,rosaMaxOSVersion:l,getAWSAccountRolesARNs:n,getAWSAccountRolesARNsResponse:o,clearGetAWSAccountRolesARNsResponse:O,isHypershiftSelected:P,onAccountChanged:w}=e;const{setFieldValue:M,getFieldProps:k,getFieldMeta:F,setFieldTouched:x,validateForm:G,values:{[A.FieldId.AssociatedAwsId]:U}}=(0,E.useFormState)(),j=(0,C.default)(),[H,V]=(0,r.useState)(!0),[q,z]=(0,r.useState)([]),[B,W]=(0,r.useState)([]),[$,Y]=(0,r.useState)(L),[K,Q]=(0,r.useState)(!1),[Z,X]=(0,r.useState)(!1),[J,ee]=(0,r.useState)(!1),te=(0,y.useFeatureGate)(I.HCP_USE_UNMANAGED),ae=(e=>{let{errorDetails:t}=e;return null==t?void 0:t.some((e=>"NoTrustedRelationshipOnClusterRole"===(null==e?void 0:e.Error_Key)))})(o);(0,r.useEffect)((()=>{x(A.FieldId.InstallerRoleArn,!0,!1),x(A.FieldId.SupportRoleArn,!0,!1),x(A.FieldId.WorkerRoleArn,!0,!1),P||x(A.FieldId.ControlPlaneRoleArn,!0,!1)}),[P]);const le=e=>{const t=[M(A.FieldId.InstallerRoleArn,(null==e?void 0:e.Installer)||L,!1),M(A.FieldId.SupportRoleArn,(null==e?void 0:e.Support)||L,!1),M(A.FieldId.WorkerRoleArn,(null==e?void 0:e.Worker)||L,!1)];P||t.push(M(A.FieldId.ControlPlaneRoleArn,(null==e?void 0:e.ControlPlane)||L,!1)),Promise.all(t).then((()=>{setTimeout((()=>{G()}),10)}))};(0,r.useEffect)((()=>{t!==U&&le(null),Y(L),z([]),W([]),Q(!1),O(),w()}),[t]),(0,r.useEffect)((()=>{let e=!0;q.forEach((t=>{t.Installer===$&&(e=!N(t,P),le(t),M(A.FieldId.RosaMaxOsVersion,t.version,!1))})),Q(e)}),[$]);const ne=e=>P?e.hcpManagedPolicies:e.managedPolicies;(0,r.useEffect)((()=>{const e=q.find((e=>e.Installer===$));o.fulfilled&&e&&ee(ne(e))}),[t,o,$]);const re=e=>{const t=e.map((e=>D({name:e.Installer,value:e.Installer},!P&&ne(e)&&{label:r.default.createElement(u.Label,{color:"blue",isCompact:!0},"Recommended")})));0===t.length?(le(null),W([]),M(A.FieldId.RosaMaxOsVersion,void 0),Q(!0)):(W(t.filter((e=>void 0!==e.value))),Q(!1)),z(e),X(!0);const l=((e,t,a)=>{if(e&&e!==L)return e;if(0===t.length)return L;const l=t.find((e=>e.managedPolicies||e.hcpManagedPolicies)),n=t.find((e=>"ManagedOpenShift"===e.prefix)),r=t.find((e=>N(e,a)));return(n||l||r||t[0]).Installer})(a,e,P);Y(l)};(0,r.useEffect)((()=>{if(o.pending||o.fulfilled||o.error)if(o.fulfilled){const e=(0,s.default)(o,"data",[]).filter((e=>!(!P||!te)||(P?e.hcpManagedPolicies&&e.managedPolicies:!e.hcpManagedPolicies&&!e.managedPolicies)));re(e)}else o.error&&re([]);else X(!1),Q(!1),n(t)}),[t,o]),(0,r.useEffect)((()=>{(o.fulfilled||o.error)&&(e=>{const t=ae?"Cannot detect an OCM role":"Error getting AWS account ARNs";j(c.trackEvents.ARNsRefreshed,{customProperties:D({error:!!e.error},e.error&&{error_title:t,error_message:e.errorMessage||void 0,error_code:e.errorCode,error_operation_id:e.operationID})})})(o)}),[o]);const ie=e=>e&&e!==L?void 0:"ARN field is required.",[se,oe]=(0,_.useOCPLatestVersion)("stable"),ue=oe&&!(0,m.isSupportedMinorVersion)(se,l),de=!P&&J,ce=r.default.useMemo((()=>P?"The selected account-wide roles are compatible with all OpenShift versions which support hosted control planes.":de?`The selected account-wide roles are preferred and compatible with OpenShift version ${g.MIN_MANAGED_POLICY_VERSION} and newer.`:`The selected account-wide roles are compatible with OpenShift version ${(0,m.formatMinorVersion)(l)} and earlier.`),[de,P,l]),me=o.error||K&&Z;return r.default.createElement(r.default.Fragment,null,r.default.createElement(u.GridItem,null),r.default.createElement(u.GridItem,null,r.default.createElement(u.Title,{headingLevel:"h3"},"Account roles")),me?r.default.createElement(u.GridItem,{span:8},r.default.createElement(T.default,{getAWSAccountRolesARNsResponse:o,isHypershiftSelected:P,isMissingOCMRole:ae})):null,!Z&&r.default.createElement(u.GridItem,null,r.default.createElement("div",{className:"spinner-fit-container"},r.default.createElement(d.Spinner,null)),r.default.createElement("div",{className:"spinner-loading-text","data-testid":"spinner-loading-arn-text"},"Loading account roles ARNs...")),Z&&r.default.createElement(u.GridItem,{span:12},r.default.createElement(u.ExpandableSection,{isExpanded:H,onToggle:()=>{V(!H)},toggleText:"Account roles ARNs"},r.default.createElement(u.Text,{component:u.TextVariants.p},"The following roles were detected in your AWS account."," ",r.default.createElement(v.default,{href:p.default.ROSA_AWS_IAM_RESOURCES},"Learn more about account roles"),"."),r.default.createElement("br",null),r.default.createElement(u.Button,{variant:"secondary","data-testid":"refresh_arns_btn",onClick:()=>{j(c.trackEvents.RefreshARNs),O(),n(t),X(!1),Q(!1),q.some((e=>e.Installer===$))||(M(A.FieldId.InstallerRoleArn,"",!1),Y(""),M(A.FieldId.ClusterVersion,void 0))}},"Refresh ARNs"),r.default.createElement("br",null),r.default.createElement("br",null),r.default.createElement(u.Grid,null,r.default.createElement(u.GridItem,{span:8},r.default.createElement(i.Field,{component:b.ReduxSelectDropdown,name:A.FieldId.InstallerRoleArn,input:D(D({},k(A.FieldId.InstallerRoleArn)),{},{onChange:e=>{M(A.FieldId.InstallerRoleArn,e),((e,t)=>{M(A.FieldId.ClusterVersion,void 0),Y(t)})(0,e)}}),meta:F(A.FieldId.InstallerRoleArn),label:"Installer role",type:"text",options:B,isDisabled:B.length<=1,validate:ie,isRequired:!0,helpText:"",extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the ROSA installer.",r.default.createElement("br",null),"For more information see"," ",r.default.createElement(v.default,{href:p.default.ROSA_AWS_IAM_ROLES},"Table 1 about the installer role policy"),".")}),r.default.createElement("br",null),r.default.createElement(i.Field,{component:S.default,name:A.FieldId.SupportRoleArn,input:D(D({},k(A.FieldId.SupportRoleArn)),{},{onChange:e=>M(A.FieldId.SupportRoleArn,e,!1)}),meta:F(A.FieldId.SupportRoleArn),label:"Support role",type:"text",validate:ie,isRequired:!0,extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the Red Hat Site Reliability Engineering (SRE) support team.",r.default.createElement("br",null),"For more information see"," ",r.default.createElement(v.default,{href:p.default.ROSA_AWS_IAM_ROLES},"Table 4 about the support role policy"),"."),isDisabled:!0}),r.default.createElement("br",null),r.default.createElement(i.Field,{component:S.default,name:A.FieldId.WorkerRoleArn,input:D(D({},k(A.FieldId.WorkerRoleArn)),{},{onChange:e=>M(A.FieldId.WorkerRoleArn,e,!1)}),meta:F(A.FieldId.WorkerRoleArn),label:"Worker role",type:"text",validate:ie,isRequired:!0,extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the ROSA compute instances.",r.default.createElement("br",null),"For more information see"," ",r.default.createElement(v.default,{href:p.default.ROSA_AWS_IAM_ROLES},"Table 3 about the worker/compute role policy"),"."),isDisabled:!0}),!P&&r.default.createElement(r.default.Fragment,null,r.default.createElement("br",null),r.default.createElement(i.Field,{component:S.default,name:A.FieldId.ControlPlaneRoleArn,input:D(D({},k(A.FieldId.ControlPlaneRoleArn)),{},{onChange:e=>M(A.FieldId.ControlPlaneRoleArn,e,!1)}),meta:F(A.FieldId.ControlPlaneRoleArn),label:"Control plane role",type:"text",validate:ie,isRequired:!0,extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the ROSA control plane.",r.default.createElement("br",null),"For more information see"," ",r.default.createElement(v.default,{href:p.default.ROSA_AWS_IAM_ROLES},"Table 2 about the control plane role policy"),"."),isDisabled:!0}))),(l||de)&&r.default.createElement(u.GridItem,null,r.default.createElement("br",null),r.default.createElement(u.Alert,{variant:"info",isInline:!0,isPlain:de||!ue,title:ce},ue&&!(de||P)&&r.default.createElement(u.TextContent,null,r.default.createElement(u.Text,{component:u.TextVariants.p,className:"pf-v5-u-mt-sm"},r.default.createElement("strong",null,"To update account roles to the latest OpenShift version (",(0,m.formatMinorVersion)(se),"):")),r.default.createElement(u.TextList,{component:u.TextListVariants.ol},r.default.createElement(u.TextListItem,null,r.default.createElement(u.Text,{component:u.TextVariants.p},"Download latest (",(0,m.formatMinorVersion)(se),")"," ",r.default.createElement(f.Link,{to:"/downloads#tool-ocm"},"ocm")," and"," ",r.default.createElement(f.Link,{to:"/downloads#tool-rosa"},"rosa")," CLIs")),r.default.createElement(u.TextListItem,{className:"pf-v5-u-mb-sm"},r.default.createElement(u.Text,{component:u.TextVariants.p},"Recreate ARNs using"),r.default.createElement(u.Text,{component:u.TextVariants.p},r.default.createElement(h.default,{textAriaLabel:"Copyable ROSA create account-roles command"},R.RosaCliCommand.CreateAccountRoles)))))))),r.default.createElement(u.GridItem,{span:4}))))}w.propTypes={selectedAWSAccountID:o.default.string,selectedInstallerRoleARN:o.default.string,rosaMaxOSVersion:o.default.string,getAWSAccountRolesARNs:o.default.func.isRequired,getAWSAccountRolesARNsResponse:o.default.object.isRequired,clearGetAWSAccountRolesARNsResponse:o.default.func.isRequired,isHypershiftSelected:o.default.bool,onAccountChanged:o.default.func.isRequired},t.Ay=w},36368:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(42045),i=a(91089),s=l(a(34876));t.default=(0,n.connect)((e=>{const{getAWSAccountIDsResponse:t,getAWSAccountRolesARNsResponse:a,getUserRoleResponse:l}=e.rosaReducer;return{getAWSAccountIDsResponse:t,getAWSAccountRolesARNsResponse:a,getUserRoleResponse:l}}),(e=>({closeModal:()=>e((0,i.closeModal)()),getAWSAccountIDs:t=>e((0,r.getAWSAccountIDs)(t)),getAWSAccountRolesARNs:t=>e((0,r.getAWSAccountRolesARNs)(t)),clearGetAWSAccountIDsResponse:()=>e((0,r.clearGetAWSAccountIDsResponse)()),clearGetAWSAccountRolesARNsResponse:()=>e((0,r.clearGetAWSAccountRolesARNsResponse)()),clearGetUserRoleResponse:()=>e((0,r.clearGetUserRoleResponse)()),getUserRole:()=>e((0,r.getUserRole)())})))(s.default)},69890:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(97419),u=a(93413),d=l(a(65702)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(84037)),m=a(82693),p=a(16829),f=l(a(8888)),E=a(77218),g=l(a(38871)),v=a(49484),h=a(69122);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const C=c.default.disjointSubnets("network_machine_cidr"),y=c.default.disjointSubnets("network_service_cidr"),I=c.default.disjointSubnets("network_pod_cidr"),A=c.default.awsSubnetMask("network_machine_cidr_single_az"),R=c.default.awsSubnetMask("network_machine_cidr_multi_az"),T=c.default.awsSubnetMask("network_service_cidr");function O(e){let{disabled:t,cloudProviderID:a,isMultiAz:l,installToVpcSelected:n,isDefaultValuesChecked:s,formValues:b}=e;const{getFieldProps:S,getFieldMeta:O,setFieldValue:P,validateForm:D}=(0,m.useFormState)(),L=s||t,N=(0,u.constructSelectedSubnets)(b),w=e=>(0,c.required)(e)||c.default.cidr(e)||c.default.validateRange(e)||void 0,M=l||"true"===b.hypershift?c.default.AWS_MACHINE_CIDR_MAX_MULTI_AZ:c.default.AWS_MACHINE_CIDR_MAX_SINGLE_AZ;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Alert,{id:"advanced-networking-alert",isInline:!0,variant:"info",title:"CIDR ranges cannot be changed after you create your cluster."},r.default.createElement("p",{className:"pf-v5-u-mb-md"},"Specify non-overlapping ranges for machine, service, and pod ranges. Each range should correspond to the first IP address in their subnet."),r.default.createElement(f.default,{href:d.default.CIDR_RANGE_DEFINITIONS_ROSA},"Learn more to avoid conflicts"))),r.default.createElement(o.GridItem,null,r.default.createElement(i.Field,{component:E.ReduxCheckbox,name:p.FieldId.CidrDefaultValuesToggle,label:"Use default values",description:"The below values are safe defaults. However, you must ensure that the Machine CIDR is valid for your chosen subnet(s).",input:_(_({},S(p.FieldId.CidrDefaultValuesToggle)),{},{onChange:(e,t)=>{return a=t,P(p.FieldId.CidrDefaultValuesToggle,a),void(a&&Promise.all([P(p.FieldId.NetworkMachineCidr,h.MACHINE_CIDR_DEFAULT),P(p.FieldId.NetworkServiceCidr,h.SERVICE_CIDR_DEFAULT),P(p.FieldId.NetworkPodCidr,h.POD_CIDR_DEFAULT),P(p.FieldId.NetworkHostPrefix,h.HOST_PREFIX_DEFAULT)]).then((()=>{D()})));var a}}),meta:O(p.FieldId.CidrDefaultValuesToggle)})),r.default.createElement(o.GridItem,{md:6},r.default.createElement(i.Field,{component:g.default,name:p.FieldId.NetworkMachineCidr,label:"Machine CIDR",placeholder:h.MACHINE_CIDR_DEFAULT,type:"text",validate:e=>w(e)||"aws"===a&&c.default.awsMachineCidr(e,b)||c.default.validateRange(e)||"aws"===a&&c.default.subnetCidrs(e,b,p.FieldId.NetworkMachineCidr,N)||C(e,b)||"aws"===a&&!l&&A(e)||"aws"===a&&l&&R(e)||void 0,disabled:L,input:S(p.FieldId.NetworkMachineCidr),meta:O(p.FieldId.NetworkMachineCidr),helpText:r.default.createElement("div",{className:"pf-v5-c-form__helper-text"},`Subnet mask must be between /${c.default.AWS_MACHINE_CIDR_MIN} and /${M}.`,n&&r.default.createElement(o.Alert,{variant:"info",isPlain:!0,isInline:!0,title:"Ensure the Machine CIDR range matches the selected VPC subnets."})),extendedHelpText:r.default.createElement(r.default.Fragment,null,v.constants.machineCIDRHint,r.default.createElement(o.Text,{component:o.TextVariants.p},r.default.createElement(f.default,{href:d.default.ROSA_CIDR_MACHINE},"Learn more"))),showHelpTextOnError:!1})),r.default.createElement(o.GridItem,{md:6}),r.default.createElement(o.GridItem,{md:6},r.default.createElement(i.Field,{component:g.default,name:p.FieldId.NetworkServiceCidr,label:"Service CIDR",placeholder:h.SERVICE_CIDR_DEFAULT,type:"text",validate:e=>w(e)||c.default.serviceCidr(e)||y(e,b)||"aws"===a&&T(e)||"aws"===a&&c.default.subnetCidrs(e,b,p.FieldId.NetworkServiceCidr,N)||void 0,disabled:L,input:S(p.FieldId.NetworkServiceCidr),meta:O(p.FieldId.NetworkServiceCidr),helpText:"aws"===a?`Subnet mask must be at most /${c.default.SERVICE_CIDR_MAX}.`:`Range must be private. Subnet mask must be at most /${c.default.SERVICE_CIDR_MAX}.`,extendedHelpText:r.default.createElement(r.default.Fragment,null,v.constants.serviceCIDRHint,r.default.createElement(o.Text,{component:o.TextVariants.p},r.default.createElement(f.default,{href:d.default.ROSA_CIDR_SERVICE},"Learn more"))),showHelpTextOnError:!1})),r.default.createElement(o.GridItem,{md:6}),r.default.createElement(o.GridItem,{md:6},r.default.createElement(i.Field,{component:g.default,name:p.FieldId.NetworkPodCidr,label:"Pod CIDR",placeholder:h.POD_CIDR_DEFAULT,type:"text",validate:e=>w(e)||c.default.podCidr(e,b)||I(e,b)||"aws"===a&&c.default.subnetCidrs(e,b,p.FieldId.NetworkPodCidr,N)||void 0,disabled:L,input:S(p.FieldId.NetworkPodCidr),meta:O(p.FieldId.NetworkPodCidr),helpText:"aws"===a?`Subnet mask must allow for at least ${c.default.POD_NODES_MIN} nodes.`:`Range must be private. Subnet mask must allow for at least ${c.default.POD_NODES_MIN} nodes.`,extendedHelpText:r.default.createElement(r.default.Fragment,null,v.constants.podCIDRHint,r.default.createElement(o.Text,{component:o.TextVariants.p},r.default.createElement(f.default,{href:d.default.ROSA_CIDR_POD},"Learn more"))),showHelpTextOnError:!1})),r.default.createElement(o.GridItem,{md:6}),r.default.createElement(o.GridItem,{md:6},r.default.createElement(i.Field,{component:g.default,name:p.FieldId.NetworkHostPrefix,label:"Host prefix",placeholder:h.HOST_PREFIX_DEFAULT,type:"text",format:e=>e&&"/"!==e.charAt(0)?`/${e}`:e,normalize:e=>e&&"/"===e.charAt(0)?e.substring(1):e,validate:e=>(0,c.required)(e)||c.default.hostPrefix(e),disabled:L,input:S(p.FieldId.NetworkHostPrefix),meta:O(p.FieldId.NetworkHostPrefix),helpText:`Must be between /${c.default.HOST_PREFIX_MIN} and /${c.default.HOST_PREFIX_MAX}.`,extendedHelpText:r.default.createElement(r.default.Fragment,null,v.constants.hostPrefixHint,r.default.createElement(o.Text,{component:o.TextVariants.p},r.default.createElement(f.default,{href:d.default.ROSA_CIDR_HOST},"Learn more"))),showHelpTextOnError:!1})))}O.propTypes={disabled:s.default.bool,cloudProviderID:s.default.string,isMultiAz:s.default.bool,installToVpcSelected:s.default.bool,isDefaultValuesChecked:s.default.bool,formValues:s.default.object},t.default=O},81105:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(97419),i=a(82693),s=a(16829),o=l(a(69890));t.default=function(){const{values:{[s.FieldId.CloudProvider]:e,[s.FieldId.MultiAz]:t,[s.FieldId.InstallToVpc]:a,[s.FieldId.CidrDefaultValuesToggle]:l},values:u}=(0,i.useFormState)(),d=!0===t;return n.default.createElement(r.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(r.Grid,{hasGutter:!0},n.default.createElement(r.GridItem,null,n.default.createElement(r.Title,{headingLevel:"h3"},"CIDR ranges")),n.default.createElement(o.default,{cloudProviderID:e,isMultiAz:d,installToVpcSelected:a,isDefaultValuesChecked:l,formValues:u})))}},18:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=a(88139),s=a(97419),o=a(93413),u=l(a(65702)),d=a(84037),c=a(20021),m=a(49484),p=a(69122),f=a(82693),E=a(16829),g=l(a(8888)),v=l(a(75885)),h=l(a(38871));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(){const{setFieldTouched:e,setFieldValue:t,getFieldProps:a,getFieldMeta:l,values:{[E.FieldId.HttpProxyUrl]:n,[E.FieldId.HttpsProxyUrl]:b,[E.FieldId.AdditionalTrustBundle]:S}}=(0,f.useFormState)(),[C,y]=r.default.useState(!1),{goToStepByName:I}=(0,s.useWizardContext)(),A=!n&&!b,R=()=>{C||y(!0)},T=()=>{if(!n&&!b&&!S)return"Configure at least one of the cluster-wide proxy fields."},O=r.default.createElement(s.Alert,{isInline:!0,variant:"warning",title:r.default.createElement("span",null,"Complete at least 1 of the fields above. If you don't want to set a cluster-wide proxy, disable this option in the ",r.default.createElement("strong",{style:{fontSize:"var(--pf-v5-global--FontSize--md)"}},"Networking > Configuration")," step."),actionLinks:r.default.createElement(s.AlertActionLink,{onClick:()=>I("Configuration")},"Back to the networking configuration")});(0,r.useEffect)((()=>{A&&t(E.FieldId.NoProxyDomains,"")}),[A]);const P=a(E.FieldId.HttpProxyUrl),D=a(E.FieldId.HttpsProxyUrl),L=a(E.FieldId.AdditionalTrustBundle);return r.default.createElement(s.Form,{onSubmit:e=>(e.preventDefault(),!1)},r.default.createElement(s.Grid,{hasGutter:!0},r.default.createElement(s.GridItem,null,r.default.createElement(s.Title,{headingLevel:"h3"},"Cluster-wide proxy")),r.default.createElement(s.GridItem,null,r.default.createElement(s.Text,null,m.constants.clusterProxyHint),r.default.createElement(s.Text,{className:"pf-v5-u-mt-sm"},r.default.createElement(g.default,{href:u.default.ROSA_CLUSTER_WIDE_PROXY},"Learn more about configuring a cluster-wide proxy"))),r.default.createElement(s.GridItem,null,r.default.createElement(s.Alert,{variant:"info",isInline:!0,isPlain:!0,title:"Configure at least 1 of the following fields:"})),r.default.createElement(s.GridItem,{sm:12,md:10,xl2:8},r.default.createElement(i.Field,{component:h.default,name:E.FieldId.HttpProxyUrl,label:"HTTP proxy URL",placeholder:p.HTTP_PROXY_PLACEHOLDER,type:"text",validate:(0,d.composeValidators)((e=>(0,d.validateUrl)(e,"http")),T),helpText:"Specify a proxy URL to use for HTTP connections outside the cluster.",showHelpTextOnError:!1,input:_(_({},P),{},{onChange:(a,l)=>{t(E.FieldId.HttpProxyUrl,l),setTimeout((()=>e(E.FieldId.HttpProxyUrl)),1)},onBlur:e=>{const{onBlur:t}=P;R(),t(e)}}),meta:l(E.FieldId.HttpProxyUrl)})),r.default.createElement(s.GridItem,{sm:0,md:2,xl2:4}),r.default.createElement(s.GridItem,{sm:12,md:10,xl2:8},r.default.createElement(i.Field,{component:h.default,name:E.FieldId.HttpsProxyUrl,label:"HTTPS proxy URL",placeholder:p.HTTPS_PROXY_PLACEHOLDER,type:"text",validate:(0,d.composeValidators)((e=>(0,d.validateUrl)(e,["http","https"])),T),helpText:"Specify a proxy URL to use for HTTPS connections outside the cluster.",showHelpTextOnError:!1,input:_(_({},D),{},{onChange:(a,l)=>{t(E.FieldId.HttpsProxyUrl,l),setTimeout((()=>e(E.FieldId.HttpsProxyUrl)),1)},onBlur:e=>{const{onBlur:t}=D;R(),t(e)}}),meta:l(E.FieldId.HttpsProxyUrl)})),r.default.createElement(s.GridItem,{sm:0,md:2,xl2:4}),r.default.createElement(s.GridItem,{sm:12,md:10,xl2:8},r.default.createElement(i.Field,{component:h.default,name:E.FieldId.NoProxyDomains,label:"No Proxy domains",placeholder:A?p.DISABLED_NO_PROXY_PLACEHOLDER:p.NO_PROXY_PLACEHOLDER,type:"text",validate:d.checkNoProxyDomains,helpText:p.NO_PROXY_HELPER_TEXT,showHelpTextOnError:!1,isDisabled:A,input:_(_({},a(E.FieldId.NoProxyDomains)),{},{onChange:(a,l)=>{t(E.FieldId.NoProxyDomains,(0,o.stringToArray)(l)),setTimeout((()=>e(E.FieldId.NoProxyDomains)),1)}}),meta:l(E.FieldId.NoProxyDomains)})),r.default.createElement(s.GridItem,{sm:0,md:2,xl2:4}),r.default.createElement(s.GridItem,{sm:12,md:10,xl2:8},r.default.createElement(i.Field,{component:v.default,name:E.FieldId.AdditionalTrustBundle,label:"Additional trust bundle",placeholder:p.TRUST_BUNDLE_PLACEHOLDER,extendedHelpTitle:"Additional trust bundle",extendedHelpText:p.TRUST_BUNDLE_HELPER_TEXT,validate:(0,d.composeValidators)(d.validateCA,T),dropzoneProps:{accept:c.ACCEPT,maxSize:c.MAX_FILE_SIZE,onDropRejected:()=>{t(E.FieldId.AdditionalTrustBundle,"Invalid file")}},helpText:"Upload or paste a PEM encoded X.509 certificate.",input:_(_({},L),{},{onChange:a=>{t(E.FieldId.AdditionalTrustBundle,a),setTimeout((()=>e(E.FieldId.AdditionalTrustBundle)),1)},onBlur:e=>{const{onBlur:t}=L;R(),t(e)}}),meta:l(E.FieldId.AdditionalTrustBundle)})),r.default.createElement(s.GridItem,{sm:0,md:2,xl2:4}),r.default.createElement(s.GridItem,null,C&&A&&!S&&O)))}C.propTypes={},t.default=C},31299:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=a(88139),s=a(97419),o=a(67080),u=a(9296),d=a(82693),c=a(72115),m=a(16829),p=l(a(49383)),f=l(a(94538)),E=a(11243),g=a(96678),v=a(41730),h=a(976),b=l(a(65702)),S=a(84037),_=l(a(55816)),C=l(a(8888)),y=l(a(10046)),I=l(a(55213)),A=l(a(33076)),R=a(21674),T=l(a(24407)),O=l(a(75115));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const N="manual",w="auto";t.default=()=>{const{setFieldValue:e,getFieldProps:t,getFieldMeta:a,validateForm:l,values:{[m.FieldId.ClusterName]:n,[m.FieldId.Hypershift]:P,[m.FieldId.AssociatedAwsId]:D,[m.FieldId.RosaRolesProviderCreationMode]:M,[m.FieldId.CustomOperatorRolesPrefix]:k,[m.FieldId.ByoOidcConfigId]:F,[m.FieldId.InstallerRoleArn]:x,[m.FieldId.RegionalInstance]:G}}=(0,d.useFormState)(),U="true"===P,j=(0,E.useFeatureGate)(h.MULTIREGION_PREVIEW_ENABLED)&&U,[H,V]=(0,r.useState)(!1),[q,z]=(0,r.useState)(!(!U&&!F)),[B,W]=(0,r.useState)(null),$=(0,f.default)(),Y=(0,g.formatRegionalInstanceUrl)(null==G?void 0:G.url),{data:K,error:Q,isPending:Z,isSuccess:X,status:J}=(0,v.useFetchGetOCMRole)(D),ee=t=>()=>{t?e(m.FieldId.RosaRolesProviderCreationMode,H?w:N):(e(m.FieldId.ByoOidcConfigId,""),e(m.FieldId.ByoOidcConfigIdManaged,"")),z(t)};var te;(0,r.useEffect)((()=>{k||e(m.FieldId.CustomOperatorRolesPrefix,(0,c.createOperatorRolesPrefix)(n))}),[k,n]),(0,r.useEffect)((()=>{e(m.FieldId.DetectedOcmRole,!1),(0,v.refetchGetOCMRole)()}),[]),!M&&X&&e(m.FieldId.RosaRolesProviderCreationMode,null!==(te=K.data)&&void 0!==te&&te.isAdmin?w:N),(0,r.useEffect)((()=>{if(Z)W(null);else if(X){var t,a;e(m.FieldId.RosaCreatorArn,null===(t=K.data)||void 0===t?void 0:t.arn),e(m.FieldId.DetectedOcmRole,!0);const l=null===(a=K.data)||void 0===a?void 0:a.isAdmin;V(l),W(null)}else Q?W(r.default.createElement(_.default,{message:"ocm-role is no longer linked to your Red Hat organization",response:null==Q?void 0:Q.errorMessage,isExpandable:!0},r.default.createElement(R.BackToAssociateAwsAccountLink,null))):(0,v.refetchGetOCMRole)()}),[J]);const ae=r.default.createElement(s.Alert,{className:"pf-v5-u-ml-lg",variant:"info",isInline:!0,isExpandable:!0,title:"If you would like to enable auto mode, expand the alert and follow the steps below."},r.default.createElement(s.TextContent,{className:"pf-v5-u-font-size-sm"},r.default.createElement(s.Text,{component:s.TextVariants.p,className:"pf-v5-u-mb-sm"},"Create the Admin OCM role using the following command in the ROSA CLI. Only one OCM role can be linked per Red Hat org."," ",r.default.createElement(I.default,{title:"If an OCM role with basic privileges exists in your account, you might need to delete or unlink the role before creating an OCM role with administrative privileges."})),r.default.createElement(y.default,{textAriaLabel:"Copyable ROSA create ocm-role command",trackEvent:u.trackEvents.CopyOCMRoleCreateAdmin},"rosa create ocm-role --admin"),r.default.createElement(s.Text,{component:s.TextVariants.p,className:"pf-v5-u-mb-sm"},"If not yet linked, run the following command to associate the OCM role with your AWS"," ","account."),r.default.createElement(y.default,{textAriaLabel:"Copyable ROSA link ocm-role command",trackEvent:u.trackEvents.CopyOCMRoleLink},"rosa link ocm-role <arn>"),r.default.createElement(s.Text,{component:s.TextVariants.p,className:"pf-v5-u-mb-sm"},"After running the command, you may need to refresh using the button below to enable auto mode."),r.default.createElement(s.Button,{onClick:()=>{(0,v.refetchGetOCMRole)(),e(m.FieldId.RosaRolesProviderCreationMode,void 0),$(u.trackEvents.OCMRoleRefreshed)},variant:"secondary"},"Refresh to enable auto mode"))),le=[{value:N,label:"Manual",description:r.default.createElement(r.default.Fragment,null,"You can choose from two options to manually generate the necessary roles and policies for your cluster operators and the OIDC provider: ROSA CLI commands, or AWS CLI commands."," ",r.default.createElement("strong",null,"You must complete one of those options after cluster review for your cluster to complete installation."))},{disabled:!H,value:w,label:"Auto",description:"Immediately create the necessary cluster operator roles and OIDC provider. This mode requires an admin privileged OCM role.",extraField:X&&!H&&ae}],ne=(0,c.getOperatorRolesCommand)({isHypershift:U,byoOidcConfigID:F,customOperatorRolesPrefix:k,installerRoleArn:x});return r.default.createElement(s.Form,{onSubmit:()=>!1},r.default.createElement(s.Grid,{hasGutter:!0},r.default.createElement(s.GridItem,null,r.default.createElement(s.Title,{headingLevel:"h3"},"Cluster roles and policies")),U?r.default.createElement(s.Alert,{isInline:!0,id:"rosa-require-byo-oidc",variant:"info",title:"Hosted control plane clusters require a specified OIDC provider."}):r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,null,r.default.createElement(s.Text,{component:s.TextVariants.p},"Set whether you'd like to create the OIDC now or wait to create the OIDC until after installation.")),r.default.createElement(s.GridItem,null,r.default.createElement(s.ToggleGroup,null,r.default.createElement(s.ToggleGroupItem,{text:"Create OIDC Later",buttonId:"managed-oidc-configuration",isSelected:!q,onChange:ee(!1)}),r.default.createElement(s.ToggleGroupItem,{text:"Create OIDC Now",buttonId:"customer-oidc-configuration",isSelected:q,onChange:ee(!0)})))),r.default.createElement(p.default,{name:"detected_ocm_role"}),B&&r.default.createElement(s.GridItem,null,B),Z&&r.default.createElement(s.GridItem,null,r.default.createElement("div",{className:"spinner-fit-container"},r.default.createElement(o.Spinner,null)),r.default.createElement("div",{className:"spinner-loading-text pf-v5-u-ml-xl"},"Checking for admin OCM role...")),X&&!q&&r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,null,r.default.createElement(s.Text,{component:s.TextVariants.p},"Choose the preferred mode for creating the operator roles and OIDC provider."," ",r.default.createElement(C.default,{href:b.default.ROSA_AWS_IAM_ROLES},"Learn more about ROSA roles"))),r.default.createElement(s.GridItem,{span:10},r.default.createElement(s.FormGroup,{isRequired:!0,fieldId:"role_mode"},r.default.createElement(i.Field,{component:A.default,name:m.FieldId.RosaRolesProviderCreationMode,className:"radio-button",disabled:Z,options:le,disableDefaultValueHandling:!0,input:L(L({},t(m.FieldId.RosaRolesProviderCreationMode)),{},{onChange:t=>{t&&(e(m.FieldId.RosaRolesProviderCreationMode,t),$(u.trackEvents.RosaCreationMode,{customProperties:{value:t}}))}}),meta:a(m.FieldId.RosaRolesProviderCreationMode)})))),q?r.default.createElement(i.Field,{component:T.default,name:m.FieldId.ByoOidcConfigId,label:"Config ID",awsAccountID:D,byoOidcConfigID:F,operatorRolesCliCommand:ne,regionSearch:Y,isMultiRegionEnabled:j,validate:S.required,input:L(L({},t(m.FieldId.ByoOidcConfigId)),{},{onChange:t=>{const a=[e(m.FieldId.ByoOidcConfigId,t?t.id:"",!1),e(m.FieldId.ByoOidcConfigIdManaged,!t||t.managed?"true":"false",!1)];Promise.all(a).then((()=>{setTimeout(l)}))}}),meta:a(m.FieldId.ByoOidcConfigId)}):r.default.createElement(O.default,null)))}},75115:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(88139),i=a(97419),s=a(82693),o=a(16829),u=l(a(65702)),d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(84037)),c=l(a(8888)),m=l(a(38871));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}t.default=function(){const{getFieldProps:e,getFieldMeta:t}=(0,s.useFormState)();return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.GridItem,null,n.default.createElement(i.Title,{headingLevel:"h3"},"Name operator roles")),n.default.createElement(i.GridItem,{span:10},n.default.createElement(i.Text,{component:i.TextVariants.p},"To easily identify the Operator IAM roles for a cluster in your AWS account, the Operator role names are prefixed with your cluster name and a random 4-digit hash. You can optionally replace this prefix.")),n.default.createElement(i.GridItem,{span:6},n.default.createElement(r.Field,{component:m.default,name:o.FieldId.CustomOperatorRolesPrefix,label:"Custom operator roles prefix",type:"text",validate:d.default.checkCustomOperatorRolesPrefix,helpText:`Maximum ${d.MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH} characters.  Changing the cluster name will regenerate this value.`,extendedHelpText:n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:i.TextVariants.p},"You can specify a custom prefix for the cluster-specific Operator IAM roles to use."," ",n.default.createElement("br",null),"See examples in"," ",n.default.createElement(c.default,{href:u.default.ROSA_AWS_OPERATOR_ROLE_PREFIX},"Defining a custom Operator IAM role prefix"))),input:e(o.FieldId.CustomOperatorRolesPrefix),meta:t(o.FieldId.CustomOperatorRolesPrefix),showHelpTextOnError:!1})))}},24407:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=_(a(93345)),r=a(88139),i=l(a(5556)),s=a(97419),o=a(82693),u=a(16829),d=l(a(8888)),c=a(38715),m=l(a(35158)),p=l(a(11777)),f=l(a(94974)),E=l(a(55213)),g=a(84526),v=l(a(65702)),h=_(a(84037)),b=l(a(38871));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}function C(e){let{isMultiRegionEnabled:t,regionLoginCommand:a}=e;return n.default.createElement(s.Popover,{"aria-label":"oidc-creation-instructions",position:"top",maxWidth:"25rem",style:{"--pf-v5-c-popover--c-button--sibling--PaddingRight":"2rem"},bodyContent:n.default.createElement(s.TextContent,null,n.default.createElement("p",null,"Create a new OIDC config ID by running the following command",t?"s":""," in your CLI. Then, refresh and select the new config ID from the dropdown."),t?n.default.createElement(s.ClipboardCopy,{className:"pf-v5-u-pb-md",variant:s.ClipboardCopyVariant.expansion,isReadOnly:!0},a):null,n.default.createElement(s.ClipboardCopy,{isReadOnly:!0},"rosa create oidc-config"))},n.default.createElement(s.Button,{variant:"link",isInline:!0},"create a new OIDC config id"))}function y(e){let{awsAccountID:t,byoOidcConfigID:a,operatorRolesCliCommand:l,regionSearch:i,isMultiRegionEnabled:S,input:{onChange:_},meta:{error:y,touched:I}}=e;const{getFieldProps:A,getFieldMeta:R,values:{[u.FieldId.RegionalInstance]:T}}=(0,o.useFormState)(),[O,P]=(0,n.useState)(!1),[D,L]=(0,n.useState)(!1),[N,w]=(0,n.useState)([]),{data:M,isSuccess:k,isFetching:F}=(0,g.useFetchGetUserOidcConfigurations)(t,i,S);(0,n.useEffect)((()=>{if(M&&k){var e;const t=(null==M||null===(e=M.data)||void 0===e?void 0:e.items)||[];w(t)}}),[M,k]),(0,n.useEffect)((()=>{const e=null==N?void 0:N.some((e=>(null==e?void 0:e.id)===a));N.length>0&&a&&!e&&_(null)}),[a,N,_]);const x=(0,n.useMemo)((()=>N.map((e=>({entryId:e.id,label:e.id,description:e.issuer_url?`Issuer URL: ${e.issuer_url}`:void 0})))),[N]),G=`rosa login --url https://${null==T?void 0:T.url}`;return n.default.createElement(f.default,{wide:!0},n.default.createElement(p.default,{simple:!0},n.default.createElement(s.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement("div",null,"Select your existing OIDC config id or"," ",n.default.createElement(C,{isMultiRegionEnabled:S,regionLoginCommand:G}),".")),n.default.createElement(s.FormGroup,{label:"Config ID",labelIcon:n.default.createElement(E.default,{hint:n.default.createElement("span",null,"The OIDC configuration ID created by running the command"," ",n.default.createElement("pre",null,"rosa create oidc-config"))}),isRequired:!0},n.default.createElement(s.Flex,null,n.default.createElement(s.FlexItem,{grow:{default:"grow"}},n.default.createElement(m.default,{label:"Config ID","aria-label":"Config ID",isOpen:O,onToggle:(e,t)=>P(t),onSelect:(e,t)=>{const a=N.find((e=>e.id===t));P(!1),_(a)},selectedEntryId:a,selectionData:x,isDisabled:0===N.length||F||D,placeholderText:N.length>0?"Select a config id":"No OIDC configurations found",inlineFilterPlaceholderText:"Filter by config ID"})),n.default.createElement(s.FlexItem,null,n.default.createElement(s.Button,{variant:"secondary",className:"pf-v5-u-mt-md",onClick:()=>{if(L(!0),(0,g.refetchGetUserOidcConfigurations)(),k&&!F){var e;const t=(null==M||null===(e=M.data)||void 0===e?void 0:e.items)||[];w(t),a&&void 0===t.find((e=>e.id===a))&&_(null)}setTimeout((()=>{L(!1)}),500)},isLoading:F||D,isDisabled:F||D},"Refresh"))),n.default.createElement(c.FormGroupHelperText,{touched:I,error:y}))),n.default.createElement(p.default,{simple:!0},n.default.createElement(s.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(s.Text,{component:s.TextVariants.p},"Enter an Operator role prefix.")),n.default.createElement(r.Field,{component:b.default,name:u.FieldId.CustomOperatorRolesPrefix,label:"Operator roles prefix",type:"text",isRequired:!0,validate:h.default.checkCustomOperatorRolesPrefix,helpText:`Maximum ${h.MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH} characters.  Changing the cluster name will regenerate this value.`,extendedHelpText:n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:s.TextVariants.p},"You can specify a custom prefix for the cluster-specific Operator IAM roles to use."," ",n.default.createElement("br",null),"See examples in"," ",n.default.createElement(d.default,{href:v.default.ROSA_AWS_OPERATOR_ROLE_PREFIX},"Defining a custom Operator IAM role prefix"))),showHelpTextOnError:!1,disabled:!a,input:A(u.FieldId.CustomOperatorRolesPrefix),meta:R(u.FieldId.CustomOperatorRolesPrefix)})),n.default.createElement(p.default,{simple:!0},n.default.createElement(s.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(s.Text,{component:s.TextVariants.p},S?"Run the commands in order to create new Operator Roles.":"Run the command to create new Operator Roles.")),l?n.default.createElement(n.default.Fragment,null,S&&n.default.createElement(s.ClipboardCopy,{className:"pf-v5-u-pb-md",textAriaLabel:"Copyable ROSA region login",isReadOnly:!0},G),n.default.createElement(s.ClipboardCopy,{textAriaLabel:"Copyable ROSA create operator-roles",isReadOnly:!0},l),n.default.createElement("div",{className:"pf-v5-c-clipboard-copy"},n.default.createElement("div",{className:"pf-v5-c-clipboard-copy__expandable-content"},l))):n.default.createElement(s.Skeleton,{fontSize:"md"})))}C.propTypes={isMultiRegionEnabled:i.default.bool.isRequired,regionLoginCommand:i.default.string.isRequired},y.propTypes={awsAccountID:i.default.string,byoOidcConfigID:i.default.string,operatorRolesCliCommand:i.default.string,regionSearch:i.default.string,isMultiRegionEnabled:i.default.bool,input:i.default.object.isRequired,meta:i.default.object.isRequired},t.default=y},87580:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(43693)),i=l(a(93345)),s=a(88139),o=l(a(5556)),u=a(97419),d=a(54144),c=a(9296),m=a(93413),p=a(69304),f=a(83689),E=a(33366),g=a(82693),v=a(72147),h=a(4391),b=l(a(7028)),S=l(a(58787)),_=l(a(94538)),C=a(11243),y=l(a(74585)),I=a(976),A=a(62384),R=l(a(59759)),T=l(a(7691)),O=l(a(65824)),P=l(a(71299)),D=l(a(81105)),L=l(a(31299)),N=l(a(83675)),w=l(a(48483)),M=l(a(96555)),k=l(a(17903)),F=l(a(36368)),x=l(a(18)),G=a(16829),U=l(a(29329)),j=l(a(48861)),H=l(a(81673)),V=l(a(72738)),q=l(a(38599)),z=a(89738);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(58130);const $=i.default.createElement(O.default,{title:"Create a ROSA Cluster",breadcrumbs:i.default.createElement(T.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Set up ROSA",path:"/create/rosa/getstarted"},{label:"Create a ROSA Cluster"}]})}),Y=e=>{var t;let{isHypershiftEnabled:a,isHypershiftSelected:l,getOrganizationAndQuota:n,organization:r,machineTypes:s,cloudProviders:o,getMachineTypes:f,getCloudProviders:E,getInstallableVersionsResponse:v,clearInstallableVersions:S,getUserRoleResponse:C,createClusterResponse:y,getUserRole:I,privateLinkSelected:A,installToVPCSelected:T,configureProxySelected:O,resetResponse:G,closeDrawer:B,hasProductQuota:Y,isErrorModalOpen:K,openModal:Q,selectedAWSAccountID:Z,createCluster:X}=e;const J=(0,p.useNavigate)(),ee=(0,_.default)(),{resetForm:te,values:ae}=(0,g.useFormState)(),le=(0,h.getAccountAndRolesStepId)(a),ne=a?h.stepId.CONTROL_PLANE:le,[re,ie]=i.default.useState(ne),[se,oe]=i.default.useState(),ue=i.default.useRef();if(i.default.useEffect((()=>{var e,t;if(!se)return;const a=null===(e=ue.current)||void 0===e?void 0:e.steps,l=null===(t=ue.current)||void 0===t?void 0:t.setStep;for(let e=se.index;e<a.length;e++){const t=a[e];if(void 0===t.subStepIds&&!t.isHidden){if(!t.isVisited)break;const e=t.id>le&&!Z,a=t.id>re;l(W(W({},t),{},{isVisited:!a&&!e}))}}}),[ae]),i.default.useEffect((()=>((0,m.shouldRefetchQuota)(r)&&n(),o.fulfilled||o.pending||E(),s.fulfilled||s.pending||f(),v.fulfilled&&S(),()=>{G(),te()})),[]),i.default.useEffect((()=>{y.error&&!K&&Q("osd-create-error")}),[y,K,Q]),!r.pending&&r.fulfilled&&!Y)return i.default.createElement(p.Navigate,{replace:!0,to:"/create"});const de=[{data:s,name:"Machine types"},{data:r,name:"Organization & Quota"}];return de.some((e=>e.data.pending))||!r.fulfilled&&!r.error?i.default.createElement(i.default.Fragment,null,$,i.default.createElement(u.PageSection,null,i.default.createElement(d.Spinner,{centered:!0}))):de.some((e=>e.data.error))?i.default.createElement(u.PageSection,null,i.default.createElement(P.default,{errors:de.filter((e=>e.data.error)).map((e=>({key:e.name,message:`Error while loading required form data (${e.name})`,response:e.data})))})):y.fulfilled?i.default.createElement(p.Navigate,{replace:!0,to:`/details/s/${null===(ce=y.cluster.subscription)||void 0===ce?void 0:ce.id}`}):i.default.createElement(i.default.Fragment,null,$,i.default.createElement(u.PageSection,null,b.default.fakeOSD&&i.default.createElement(u.Banner,{variant:"gold"},"On submit, a fake ROSA cluster will be created."),i.default.createElement("div",{className:"ocm-page pf-v5-u-display-flex"},i.default.createElement(u.Wizard,{id:"rosa-wizard",className:"rosa-wizard pf-v5-u-flex-1",onClose:()=>J("/create/cloud"),onStepChange:(e,t,a,l)=>{let n;switch(oe(t),ie(t.id),l){case u.WizardStepChangeScope.Next:n=c.trackEvents.WizardNext;break;case u.WizardStepChangeScope.Back:n=c.trackEvents.WizardBack;break;default:n=c.trackEvents.WizardLinkNav}!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";ee(e,{resourceType:c.ocmResourceType.MOA,customProperties:{step_name:h.stepNameById[t]}})}(n,t.id),B({skipOnClose:!0})},footer:i.default.createElement(i.default.Fragment,null,K&&i.default.createElement(j.default,null),i.default.createElement(H.default,{isHypershiftSelected:l,currentStepId:re,accountAndRolesStepId:le,getUserRoleResponse:C,getUserRoleInfo:()=>I(),isSubmitting:y.pending,onWizardContextChange:e=>{let{steps:t,setStep:a,goToStepById:l}=e;ue.current={steps:t,setStep:a,goToStepById:l}}})),nav:{"aria-label":"Create ROSA cluster wizard steps"},isVisitRequired:!0},a?i.default.createElement(u.WizardStep,{id:h.stepId.CONTROL_PLANE,name:h.stepNameById[h.stepId.CONTROL_PLANE]},i.default.createElement(R.default,null,i.default.createElement(U.default,null))):null,i.default.createElement(u.WizardStep,{id:le,name:h.stepNameById[le]},i.default.createElement(R.default,null,i.default.createElement(F.default,{organizationID:null==r||null===(t=r.details)||void 0===t?void 0:t.id,isHypershiftEnabled:a,isHypershiftSelected:l}))),i.default.createElement(u.WizardStep,{id:h.stepId.CLUSTER_SETTINGS,name:h.stepNameById[h.stepId.CLUSTER_SETTINGS],isExpandable:!0,steps:[i.default.createElement(u.WizardStep,{id:h.stepId.CLUSTER_SETTINGS__DETAILS,name:h.stepNameById[h.stepId.CLUSTER_SETTINGS__DETAILS]},i.default.createElement(R.default,null,i.default.createElement(N.default,null))),i.default.createElement(u.WizardStep,{id:h.stepId.CLUSTER_SETTINGS__MACHINE_POOL,name:h.stepNameById[h.stepId.CLUSTER_SETTINGS__MACHINE_POOL]},i.default.createElement(R.default,null,i.default.createElement(V.default,null)))]}),i.default.createElement(u.WizardStep,{id:h.stepId.NETWORKING,name:h.stepNameById[h.stepId.NETWORKING],isExpandable:!0,steps:[i.default.createElement(u.WizardStep,{id:h.stepId.NETWORKING__CONFIGURATION,name:h.stepNameById[h.stepId.NETWORKING__CONFIGURATION]},i.default.createElement(R.default,null,i.default.createElement(w.default,{showClusterPrivacy:!0,showVPCCheckbox:!0,showClusterWideProxyCheckbox:!0,privateLinkSelected:A,forcePrivateLink:!0}))),i.default.createElement(u.WizardStep,{id:h.stepId.NETWORKING__VPC_SETTINGS,name:h.stepNameById[h.stepId.NETWORKING__VPC_SETTINGS],isHidden:!T||l},i.default.createElement(R.default,null,i.default.createElement(k.default,{privateLinkSelected:A}))),i.default.createElement(u.WizardStep,{id:h.stepId.NETWORKING__CLUSTER_WIDE_PROXY,name:h.stepNameById[h.stepId.NETWORKING__CLUSTER_WIDE_PROXY],isHidden:!O},i.default.createElement(R.default,null,i.default.createElement(x.default,null))),i.default.createElement(u.WizardStep,{id:h.stepId.NETWORKING__CIDR_RANGES,name:h.stepNameById[h.stepId.NETWORKING__CIDR_RANGES]},i.default.createElement(R.default,null,i.default.createElement(D.default,null)))]}),i.default.createElement(u.WizardStep,{id:h.stepId.CLUSTER_ROLES_AND_POLICIES,name:h.stepNameById[h.stepId.CLUSTER_ROLES_AND_POLICIES]},i.default.createElement(R.default,null,i.default.createElement(L.default,null))),i.default.createElement(u.WizardStep,{id:h.stepId.CLUSTER_UPDATES,name:h.stepNameById[h.stepId.CLUSTER_UPDATES]},i.default.createElement(R.default,null,i.default.createElement(M.default,null))),i.default.createElement(u.WizardStep,{id:h.stepId.REVIEW_AND_CREATE,name:h.stepNameById[h.stepId.REVIEW_AND_CREATE]},i.default.createElement(q.default,{createCluster:X,isSubmitPending:null==y?void 0:y.pending}))),b.default.fakeOSD&&i.default.createElement(z.ValuesPanel,null))));var ce};function K(e){(0,y.default)();const{values:{[G.FieldId.InstallToVpc]:t,[G.FieldId.UsePrivateLink]:a,[G.FieldId.ConfigureProxy]:l,[G.FieldId.AssociatedAwsId]:r,[G.FieldId.Hypershift]:s},values:o,isValidating:u,isValid:d,resetForm:c}=(0,g.useFormState)(),m="true"===s,p=W(W({},e),{},{installToVPCSelected:t,privateLinkSelected:a,configureProxySelected:l,selectedAWSAccountID:r,isHypershiftSelected:m}),v=(0,C.useFeatureGate)(I.HYPERSHIFT_WIZARD_FEATURE)&&!(0,A.isRestrictedEnv)();return i.default.createElement(E.AppPage,{title:"Create OpenShift ROSA Cluster"},i.default.createElement(f.AppDrawerContext.Consumer,null,(e=>{let{closeDrawer:t}=e;return i.default.createElement(Y,(0,n.default)({},p,{closeDrawer:t,isHypershiftEnabled:v,formValues:o,isValidating:u,isValid:d,resetForm:c}))})))}const Q=o.default.shape({fulfilled:o.default.bool,error:o.default.bool,pending:o.default.bool});Y.propTypes={installToVPCSelected:o.default.bool,privateLinkSelected:o.default.bool,configureProxySelected:o.default.bool,isErrorModalOpen:o.default.bool,createClusterResponse:o.default.shape({fulfilled:o.default.bool,error:o.default.bool,pending:o.default.bool,cluster:o.default.shape({subscription:o.default.shape({id:o.default.string})})}),machineTypes:Q,organization:o.default.shape({fulfilled:o.default.bool,error:o.default.bool,pending:o.default.bool,details:{id:o.default.string}}),cloudProviders:Q,getMachineTypes:o.default.func,getOrganizationAndQuota:o.default.func,createCluster:o.default.func,getUserRole:o.default.func,getCloudProviders:o.default.func,resetResponse:o.default.func,openModal:o.default.func,getUserRoleResponse:o.default.object,hasProductQuota:o.default.bool,history:o.default.shape({push:o.default.func.isRequired,block:o.default.func}).isRequired,closeDrawer:o.default.func};const Z=e=>{const{onSubmit:t,track:a}=e;return i.default.createElement(s.Formik,{initialValues:(0,A.isRestrictedEnv)()?G.initialValuesRestrictedEnv:(0,G.initialValues)(),initialTouched:G.initialTouched,validate:v.rosaWizardFormValidator,validateOnChange:!0,onSubmit:e=>{!function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e(t,{resourceType:c.ocmResourceType.MOA,customProperties:{step_name:h.stepNameById[a]}})}(a,c.trackEvents.WizardSubmit),t(e)}},i.default.createElement(K,e))};Z.propTypes=W({},Y.propTypes),t.default=(0,S.default)(Z)},81673:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=a(88139),i=l(a(5556)),s=a(73729),o=a(97419),u=a(93413),d=a(12024),c=a(82693),m=a(34876),p=a(16829),f=a(4391);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}const g=e=>{let{isHypershiftSelected:t,currentStepId:a,accountAndRolesStepId:l,getUserRoleResponse:i,getUserRoleInfo:E,isSubmitting:g=!1,onWizardContextChange:v}=e;const{goToNextStep:h,goToPrevStep:b,close:S,activeStep:_,steps:C,setStep:y,goToStepById:I}=(0,o.useWizardContext)(),{values:A,validateForm:R,setTouched:T,isValidating:O,submitForm:P}=(0,c.useFormState)(),[D,L]=(0,n.useState)(!1);(0,n.useEffect)((()=>{v({steps:C,setStep:y,goToStepById:I})}),[C,y]);const N=(0,s.useSelector)((e=>({accountIDsLoading:e.rosaReducer.getAWSAccountIDsResponse.pending||!1,accountARNsLoading:e.rosaReducer.getAWSAccountRolesARNsResponse.pending||!1,userRoleLoading:e.rosaReducer.getUserRoleResponse.pending||!1,oCMRoleLoading:e.rosaReducer.getOCMRoleResponse.pending||!1,vpcsLoading:e.ccsInquiries.vpcs.pending||!1}))),w=N.vpcsLoading&&a===(e=>e?f.stepId.CLUSTER_SETTINGS__MACHINE_POOL:f.stepId.NETWORKING__VPC_SETTINGS)(t),M=N.accountIDsLoading||N.accountARNsLoading||N.userRoleLoading||N.oCMRoleLoading||w,k=O||M,F=D||M,x=async()=>{if(O)return void(D||L(!0));const e=await R(A);if(Object.keys(e||{}).length>0)return T((0,r.setNestedObjectValues)(e,!0)),void(0,u.scrollToFirstField)((0,d.getScrollErrorIds)(e,!0));if(a===l&&(null==i||!i.fulfilled)){const e=await E();if(!(0,m.isUserRoleForSelectedAWSAccount)(e.value,A[p.FieldId.AssociatedAwsId]))return}h()};return(0,n.useEffect)((()=>{D&&!1===O&&(L(!1),x())}),[O,D]),g?null:n.default.createElement(o.WizardFooterWrapper,null,n.default.createElement(n.default.Fragment,null,_.id===f.stepId.REVIEW_AND_CREATE?n.default.createElement(o.Button,{variant:"primary","data-testid":"create-cluster-button",onClick:()=>P()},"Create cluster"):n.default.createElement(o.Button,{variant:"primary","data-testid":"wizard-next-button",onClick:x,isLoading:(0,f.hasLoadingState)(_.id)&&k,isDisabled:(0,f.hasLoadingState)(_.id)&&F},"Next"),n.default.createElement(o.Button,{variant:"secondary","data-testid":"wizard-back-button",onClick:b,isDisabled:0===C.indexOf(_)},"Back"),n.default.createElement(o.Button,{variant:"link","data-testid":"wizard-cancel-button",onClick:S},"Cancel")))};g.propTypes={isHypershiftSelected:i.default.bool,currentStepId:i.default.string,accountAndRolesStepId:i.default.string.isRequired,getUserRoleResponse:i.default.object.isRequired,getUserRoleInfo:i.default.func.isRequired,isSubmitting:i.default.bool,onWizardContextChange:i.default.func.isRequired},t.default=g},85186:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=a(88139),s=a(97419),o=l(a(65702)),u=a(75166),d=a(84037),c=a(41682),m=a(70557),p=l(a(60979)),f=a(73553),E=l(a(20289)),g=a(5537),v=a(14115),h=a(82693),b=a(16829),S=l(a(8888)),_=l(a(7685)),C=l(a(55909)),y=a(11243),I=a(976),A=l(a(2906)),R=l(a(12569));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.A=function(){var e,t,a;const{values:{[b.FieldId.Hypershift]:l,[b.FieldId.MultiAz]:n,[b.FieldId.MachineType]:T,[b.FieldId.CloudProviderId]:O,[b.FieldId.Product]:D,[b.FieldId.AutoscalingEnabled]:L,[b.FieldId.NodeLabels]:N,[b.FieldId.ClusterVersion]:w,[b.FieldId.MachinePoolsSubnets]:M,[b.FieldId.BillingModel]:k,[b.FieldId.IMDS]:F},setFieldValue:x,setFieldTouched:G,getFieldProps:U,getFieldMeta:j}=(0,h.useFormState)(),H=!0,V=null==M?void 0:M.length,q="true"===n,z="true"===l,B=!!L,W=null!==(e=null==N||null===(t=N[0])||void 0===t?void 0:t.key)&&void 0!==e&&e,[$,Y]=(0,r.useState)(!!W),K=null!==(a=(0,C.default)(D,k))&&void 0!==a&&a,Q=(0,y.useFeatureGate)(I.MAX_COMPUTE_NODES_500),Z=null==w?void 0:w.raw_id,X=(0,r.useMemo)((()=>(0,c.getMinNodesRequired)(z,{numMachinePools:V},{isDefaultMachinePool:!0,isByoc:H,isMultiAz:q})),[V,z,H,q]),J=(0,r.useMemo)((()=>(0,m.getWorkerNodeVolumeSizeMaxGiB)(Z)),[Z]),ee=(0,r.useMemo)((()=>null!=k?k:u.billingModels.STANDARD),[k]),te=(0,r.useMemo)((()=>z?(0,c.getNodeIncrementHypershift)(V):(0,c.getNodeIncrement)(q)),[z,q,V]),ae=(0,r.useMemo)((()=>{const e="Compute node count";return z?`${e} (per machine pool)`:q?`${e} (per zone)`:e}),[z,q]),le=(0,r.useCallback)((()=>z?null:r.default.createElement(s.ExpandableSection,{toggleText:"Add node labels",isExpanded:$,onToggle:(e,t)=>Y(t)},r.default.createElement(s.Title,{headingLevel:"h3"},"Node labels (optional)"),r.default.createElement("p",{className:"pf-v5-u-mb-md"},"Configure labels that will apply to all nodes in this machine pool."),r.default.createElement(i.FieldArray,{component:_.default,name:b.FieldId.NodeLabels,validateOnChange:!1}))),[z,$]),ne=(0,r.useCallback)((()=>!z&&F?r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,{md:8},r.default.createElement(R.default,{isDisabled:!(0,v.canSelectImds)(Z),imds:F,onChangeImds:e=>x(b.FieldId.IMDS,e)})),r.default.createElement(s.GridItem,{md:4})):null),[Z,F,z,x]),re=(0,r.useCallback)((()=>z?null:r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,{md:6},r.default.createElement(A.default,{maxWorkerVolumeSizeGiB:J})),r.default.createElement(s.GridItem,{md:6}))),[z,J]);return r.default.createElement(r.default.Fragment,null,z&&r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,null,r.default.createElement(s.Title,{headingLevel:"h3"},"Machine pools settings")),r.default.createElement(s.GridItem,{md:12},r.default.createElement(s.Text,{component:s.TextVariants.p},"These settings apply to all created machine pools. After cluster creation, you can alter your compute machine count at any time, but your selected default machine pool instance type is permanent."))),r.default.createElement(s.GridItem,{md:6},r.default.createElement(i.Field,{component:E.default,name:b.FieldId.MachineType,validate:d.required,isMultiAz:q,isBYOC:H,cloudProviderID:O,product:D,billingModel:ee,machine_type:{input:P(P({},U(b.FieldId.MachineType)),{},{onChange:e=>{x(b.FieldId.MachineType,e,!0),setTimeout((()=>G(b.FieldId.MachineType)),1)}}),meta:j(b.FieldId.MachineType)},machine_type_force_choice:{input:P(P({},U(b.FieldId.MachineTypeForceChoice)),{},{onChange:e=>x(b.FieldId.MachineTypeForceChoice,e)})}})),r.default.createElement(s.GridItem,{md:6}),K&&r.default.createElement(s.GridItem,{md:12},r.default.createElement(g.AutoScale,null)),B?null:r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,{md:6},r.default.createElement(i.Field,{component:p.default,name:b.FieldId.NodesCompute,buttonAriaLabel:"Compute node count information",label:ae,isMultiAz:q,isByoc:H,machineType:T,extendedHelpText:r.default.createElement(r.default.Fragment,null,(0,f.computeNodeHintText)(z,!1)," ",r.default.createElement(S.default,{href:o.default.ROSA_SERVICE_DEFINITION_COMPUTE},"Learn more about compute node count")),cloudProviderID:O,product:D,minNodes:X,increment:te,billingModel:ee,isHypershiftWizard:z,poolNumber:V,clusterVersion:Z,allow500Nodes:Q,input:P(P({},U(b.FieldId.NodesCompute)),{},{onChange:e=>x(b.FieldId.NodesCompute,e)})})),r.default.createElement(s.GridItem,{md:6})),r.default.createElement(ne,null),r.default.createElement(re,null),r.default.createElement(le,null))}},72738:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(11954));t.default=n.default},48483:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(97419),u=a(9296),d=a(94675),c=a(84037),m=a(88851),p=a(32358),f=a(49484),E=a(34108),g=a(14115),v=a(82693),h=a(16829),b=a(70886),S=a(2786),_=l(a(8888)),C=a(77218),y=l(a(94538)),I=a(62384),A=l(a(65702));function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e){const{showClusterPrivacy:t,showVPCCheckbox:a,showClusterWideProxyCheckbox:l,privateLinkSelected:n,forcePrivateLink:s}=e,{setFieldValue:R,getFieldProps:O,getFieldMeta:P,values:{[h.FieldId.CloudProvider]:D,[h.FieldId.ConfigureProxy]:L,[h.FieldId.ClusterPrivacy]:N,[h.FieldId.ClusterVersion]:w,[h.FieldId.Hypershift]:M,[h.FieldId.ApplicationIngress]:k,[h.FieldId.MachinePoolsSubnets]:F,[h.FieldId.SecurityGroups]:x,[h.FieldId.ClusterPrivacyPublicSubnetId]:G,[h.FieldId.InstallToVpc]:U,[h.FieldId.SharedVpc]:j,[h.FieldId.SelectedVpc]:H}}=(0,v.useFormState)(),V="internal"===N,q="true"===M,z=null==w?void 0:w.raw_id,B=r.default.useRef(),W=(0,g.canConfigureDayOneManagedIngress)(z),$=(0,m.isExactMajorMinor)(z,4,13),Y=(0,y.default)(),K=(e,t)=>Y(e,{resourceType:u.ocmResourceType.MOA,customProperties:{checked:t}}),Q=(e,t)=>{R(h.FieldId.UsePrivateLink,t),t&&R(h.FieldId.InstallToVpc,!0)};s&&V&&!n&&(R(h.FieldId.InstallToVpc,!0),R(h.FieldId.UsePrivateLink,!0));const Z=n&&V,X=r.default.createElement(i.Field,{component:C.ReduxCheckbox,name:h.FieldId.InstallToVpc,label:"Install into an existing VPC",isDisabled:Z||L,input:T(T({},O(h.FieldId.InstallToVpc)),{},{onChange:(e,t)=>{return a=t,R(h.FieldId.InstallToVpc,a),a||(j.is_selected&&R(h.FieldId.SharedVpc,{is_allowed:j.is_allowed,is_selected:!1,base_dns_domain:"",hosted_zone_id:"",hosted_zone_role_arn:""}),x&&R(h.FieldId.SecurityGroups,(0,d.getDefaultSecurityGroupsSettings)())),void K(u.trackEvents.InstallIntoVPC,a);var a}}),meta:P(h.FieldId.InstallToVpc)}),J=r.default.createElement(i.Field,{component:C.ReduxCheckbox,name:h.FieldId.ConfigureProxy,label:"Configure a cluster-wide proxy",helpText:r.default.createElement(S.CheckboxDescription,null,f.constants.clusterProxyHint),input:T(T({},O(h.FieldId.ConfigureProxy)),{},{onChange:(e,t)=>{return a=t,K(u.trackEvents.ConfigureClusterWideProxy,a),R(h.FieldId.ConfigureProxy,a),void(a&&!U&&(R(h.FieldId.InstallToVpc,!0),K(u.trackEvents.InstallIntoVPC,a)));var a}}),meta:P(h.FieldId.ConfigureProxy)});return r.default.createElement(o.Form,{onSubmit:e=>(e.preventDefault(),!1)},r.default.createElement(o.Grid,{hasGutter:!0},r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h3"},"Networking configuration")),r.default.createElement(o.GridItem,null,r.default.createElement(o.Text,null,"Configure network access for your cluster.")),t&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Cluster privacy")),r.default.createElement(o.GridItem,null,r.default.createElement(o.Text,null,"Install your cluster with all public or private API endpoints and application routes."," ",q&&"You can customize these options after installation.")),r.default.createElement(i.Field,{component:C.RadioButtons,isDisabled:(0,I.isRestrictedEnv)(),name:h.FieldId.ClusterPrivacy,ariaLabel:"Cluster privacy",input:T(T({},O(h.FieldId.ClusterPrivacy)),{},{onChange:e=>((e,t)=>{R(h.FieldId.ClusterPrivacy,t),"external"===t?(R(h.FieldId.UsePrivateLink,!1),q||F.every((e=>!e.privateSubnetId&&!e.publicSubnetId&&!e.availabilityZone))&&(R(h.FieldId.InstallToVpc,!1),L&&R(h.FieldId.ConfigureProxy,!1),x&&R(h.FieldId.SecurityGroups,(0,d.getDefaultSecurityGroupsSettings)())),B.current&&"internal"===N&&R(h.FieldId.ClusterPrivacyPublicSubnetId,B.current)):(B.current=G,R(h.FieldId.ClusterPrivacyPublicSubnetId,""))})(0,e)}),options:[{value:"external",label:"Public",description:"Access Kubernetes API endpoint and application routes from the internet.",extraField:q&&!V&&r.default.createElement(i.Field,{component:E.SubnetSelectField,name:h.FieldId.ClusterPrivacyPublicSubnetId,input:T(T({},O(h.FieldId.ClusterPrivacyPublicSubnetId)),{},{onChange:e=>R(h.FieldId.ClusterPrivacyPublicSubnetId,e)}),meta:P(h.FieldId.ClusterPrivacyPublicSubnetId),label:"Public subnet name",className:"pf-v5-u-mt-md pf-v5-u-ml-lg",isRequired:!0,validate:e=>(0,c.validateRequiredPublicSubnetId)(e,{}),withAutoSelect:!1,selectedVPC:H,privacy:"public",allowedAZs:(0,p.getSelectedAvailabilityZones)(H,F)})},{value:"internal",label:"Private",description:"Access Kubernetes API endpoint and application routes from direct private connections only."}],disableDefaultValueHandling:!0}),V&&r.default.createElement(o.GridItem,null,r.default.createElement(o.Alert,{variant:"warning",isInline:!0,title:"You will not be able to access your cluster until you edit network settings in your cloud provider."},"aws"===D&&r.default.createElement(_.default,{href:A.default.ROSA_PRIVATE_CONNECTIONS},"Learn more about configuring network settings")))),q&&r.default.createElement(o.GridItem,null,J),a&&!q&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Virtual Private Cloud (VPC)")),r.default.createElement(o.GridItem,null,r.default.createElement(o.Text,null,"By default, a new VPC will be created for your cluster. Alternatively, you may opt to install to an existing VPC below.")),r.default.createElement(o.GridItem,null,r.default.createElement(o.FormGroup,{fieldId:"install-to-vpc"},V?r.default.createElement(o.Tooltip,{position:"top-start",enableFlip:!0,content:r.default.createElement("p",null,"Private clusters must be installed into an existing VPC and have PrivateLink enabled.")},X):X,r.default.createElement(o.FormFieldGroup,null,V&&"aws"===D&&r.default.createElement(o.FormGroup,null,r.default.createElement(i.Field,{component:C.ReduxCheckbox,name:h.FieldId.UsePrivateLink,label:"Use a PrivateLink",onChange:Q,isDisabled:s&&V,helpText:r.default.createElement(S.CheckboxDescription,null,f.constants.privateLinkHint),input:T(T({},O(h.FieldId.UsePrivateLink)),{},{onChange:(e,t)=>Q(0,t)}),meta:P(h.FieldId.UsePrivateLink)})),l&&r.default.createElement(o.FormGroup,null,J))))),!q&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h4",size:"xl"},"Application ingress settings"),r.default.createElement(o.Text,{className:"pf-v5-u-mt-sm"},"Ingress is configured by default."," ",W?"Customize settings if needed.":"It can be customized for 4.14 clusters or newer.",$&&r.default.createElement(r.default.Fragment,null," ","For 4.13 clusters, refer to"," ",r.default.createElement(_.default,{href:A.default.MANAGED_INGRESS_KNOWLEDGE_BASE},"this knowledge base article"),"."))),W&&r.default.createElement(i.Field,{component:C.RadioButtons,name:h.FieldId.ApplicationIngress,ariaLabel:"Use application ingress defaults",isDisabled:!W,disableDefaultValueHandling:!0,input:T(T({},O(h.FieldId.ApplicationIngress)),{},{onChange:e=>R(h.FieldId.ApplicationIngress,e)}),meta:P(h.FieldId.ApplicationIngress),options:[{value:"default",ariaLabel:"Default settings",label:"Default settings"},{value:"custom",ariaLabel:"Custom settings",label:"Custom settings",extraField:"default"!==k&&r.default.createElement(b.DefaultIngressFieldsFormik,{hasSufficientIngressEditVersion:!0,className:"pf-v5-u-mt-md pf-v5-u-ml-lg",isDay2:!1,canShowLoadBalancer:!1})}]}))))}O.propTypes={showClusterPrivacy:s.default.bool,showVPCCheckbox:s.default.bool,showClusterWideProxyCheckbox:s.default.bool,privateLinkSelected:s.default.bool,forcePrivateLink:s.default.bool},t.default=O},13859:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=O(a(93345)),r=l(a(62193)),i=l(a(5556)),s=a(97419),o=a(37979),u=a(94675),d=l(a(71870)),c=a(14115),m=a(82693),p=a(34876),f=a(16829),E=a(4391),g=l(a(49383)),v=a(31591),h=l(a(7028)),b=l(a(55909)),S=a(11243),_=a(976),C=a(57847),y=a(79082),I=O(a(46726)),A=a(41685),R=l(a(2316));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}a(62804);const P="Creating your cluster. Do not refresh this page. This request may take a moment...",D=e=>{let{getUserRole:t,getOCMRole:a,getUserRoleResponse:l,getOCMRoleResponse:i,clearGetUserRoleResponse:T,clearGetOcmRoleResponse:O,createCluster:D,isSubmitPending:L,isCreateClusterYamlEditorEnabled:N,createClusterResponse:w}=e;const{values:{[f.FieldId.ApplicationIngress]:M,[f.FieldId.AssociatedAwsId]:k,[f.FieldId.AutoscalingEnabled]:F,[f.FieldId.ByoOidcConfigId]:x,[f.FieldId.CloudProvider]:G,[f.FieldId.ClusterPrivacy]:U,[f.FieldId.ClusterPrivacyPublicSubnetId]:j,[f.FieldId.ClusterVersion]:H,[f.FieldId.ConfigureProxy]:V,[f.FieldId.EtcdKeyArn]:q,[f.FieldId.HasDomainPrefix]:z,[f.FieldId.Hypershift]:B,[f.FieldId.InstallToVpc]:W,[f.FieldId.KmsKeyArn]:$,[f.FieldId.MachinePoolsSubnets]:Y,[f.FieldId.MaxReplicas]:K,[f.FieldId.MultiAz]:Q,[f.FieldId.NodeLabels]:Z,[f.FieldId.Product]:X,[f.FieldId.SecurityGroups]:J,[f.FieldId.SelectedVpc]:ee,[f.FieldId.SharedVpc]:te,[f.FieldId.UpgradePolicy]:ae,[f.FieldId.UsePrivateLink]:le,[f.FieldId.WorkerVolumeSizeGib]:ne,[f.FieldId.BillingModel]:re,[f.FieldId.CustomerManagedKey]:ie,[f.FieldId.ClusterName]:se},values:oe,setFieldValue:ue}=(0,m.useFormState)(),{goToStepByIndex:de,getStep:ce}=(0,s.useWizardContext)(),me=(0,b.default)(X,re),pe=me&&!!F,fe="true"===B,Ee=fe&&!!q,ge=null==H?void 0:H.raw_id,ve="true"===ie&&!!$,he=(0,u.hasSelectedSecurityGroups)(J),{organization:be}=(0,d.default)(),Se=(0,o.hasExternalAuthenticationCapability)(null==be?void 0:be.capabilities),_e=[f.FieldId.ClusterName,...z?[f.FieldId.DomainPrefix]:[],f.FieldId.ClusterVersion,f.FieldId.Region,f.FieldId.MultiAz,...fe?[]:[f.FieldId.EnableUserWorkloadMonitoring],f.FieldId.CustomerManagedKey,...ve?[f.FieldId.KmsKeyArn]:[],f.FieldId.EtcdEncryption,...fe?[]:[f.FieldId.FipsCryptography],...Ee?[f.FieldId.EtcdKeyArn]:[],...fe&&Se?[f.FieldId.EnableExteranlAuthentication]:[]],[Ce,ye]=(0,n.useState)(""),[Ie,Ae]=(0,n.useState)(""),[Re,Te]=(0,n.useState)(!1),Oe=(0,S.useFeatureGate)(_.HYPERSHIFT_WIZARD_FEATURE),[Pe,De]=(0,n.useState)(!1),Le=(0,n.useMemo)((()=>Pe?n.default.createElement(v.SyncEditorModal,{isOpen:Pe,closeCallback:()=>De(!1),content:C.ClusterRequestTranslatorFactory.createClusterRequestTranslator(X).toYaml((0,A.createClusterRequest)({isWizard:!0},oe)),schema:"schema",submitButtonLabel:"Create Cluster",downloadFileName:`${X}-cluster-${se}.yaml`,onSubmit:e=>{const t=(0,A.upgradeScheduleRequest)(oe);D(e,t)},translatorToObject:C.ClusterRequestTranslatorFactory.createClusterRequestTranslator(X).fromYaml,isRequestPending:w.pending,isRequestFulfilled:w.fulfilled,requestErrorMessage:w.errorMessage,requestPendingMessage:P,closeWarningMessage:"You won't be able to view or download the YAML after cluster creation begins."}):null),[se,D,w.errorMessage,w.fulfilled,w.pending,oe,Pe,X]);(0,n.useEffect)((()=>{T(),O(),ue(f.FieldId.DetectedOcmAndUserRoles,!1)}),[]),(0,n.useEffect)((()=>{if(l.fulfilled){const e=(0,p.getUserRoleForSelectedAWSAccount)(l.data,k);ye(null==e?void 0:e.sts_user)}l.fulfilled||l.pending||l.error||t()}),[l]),(0,n.useEffect)((()=>{var e;i.fulfilled&&Ae(null===(e=i.data)||void 0===e?void 0:e.arn),i.fulfilled||i.pending||i.error||a(k)}),[i]),(0,n.useEffect)((()=>{const e=(null==l?void 0:l.error)||!Ce||(null==i?void 0:i.error)||!Ie;e!==Re&&(Te(e),ue(f.FieldId.DetectedOcmAndUserRoles,!e))}),[l,i,Ce,Ie,Re]);const Ne=e=>{let t=e;return"CLUSTER_SETTINGS"===e&&(t="CLUSTER_SETTINGS__DETAILS"),ce(E.stepId[t]).index},we=e=>E.stepNameById[E.stepId[e]],Me=Oe?"ACCOUNTS_AND_ROLES_AS_SECOND_STEP":"ACCOUNTS_AND_ROLES_AS_FIRST_STEP";return L?n.default.createElement(s.Bullseye,null,n.default.createElement(s.Stack,null,n.default.createElement(s.StackItem,null,n.default.createElement(s.Bullseye,null,n.default.createElement(s.Spinner,{size:"xl"}))),n.default.createElement(s.StackItem,null,n.default.createElement(s.Bullseye,null,P)))):n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"ocm-create-osd-review-screen"},n.default.createElement(s.Flex,null,n.default.createElement(s.FlexItem,null,n.default.createElement(s.Title,{headingLevel:"h2",className:"pf-v5-u-pb-md"},"Review your ROSA cluster")),N?n.default.createElement(s.FlexItem,{align:{default:"alignRight"}},n.default.createElement(s.Button,{variant:"secondary",onClick:()=>De(!0)},"Edit YAML")):null),n.default.createElement(g.default,{name:f.FieldId.DetectedOcmAndUserRoles}),Oe&&n.default.createElement(I.default,{title:we("CONTROL_PLANE"),onGoToStep:()=>de(Ne("CONTROL_PLANE"))},(0,I.FormikReviewItem)(f.FieldId.Hypershift)),n.default.createElement(I.default,{title:we(Me),onGoToStep:()=>de(Ne(Me)),initiallyExpanded:Re},(0,I.FormikReviewItem)(f.FieldId.AssociatedAwsId),fe&&(0,I.FormikReviewItem)(f.FieldId.BillingAccountId),(0,R.default)({name:"ocm-role",getRoleResponse:i,content:Ie}),(0,R.default)({name:"user-role",getRoleResponse:l,content:Ce}),(0,I.FormikReviewItem)(f.FieldId.InstallerRoleArn),(0,I.FormikReviewItem)(f.FieldId.SupportRoleArn),!fe&&(0,I.FormikReviewItem)(f.FieldId.ControlPlaneRoleArn),(0,I.FormikReviewItem)(f.FieldId.WorkerRoleArn)),n.default.createElement(I.default,{title:we("CLUSTER_SETTINGS"),onGoToStep:()=>de(Ne("CLUSTER_SETTINGS"))},_e.map((e=>(0,I.FormikReviewItem)(e)))),n.default.createElement(I.default,{title:"Default machine pool",onGoToStep:()=>de(Ne("CLUSTER_SETTINGS__MACHINE_POOL"))},(0,I.FormikReviewItem)(f.FieldId.MachineType),me&&(0,I.FormikReviewItem)(f.FieldId.AutoscalingEnabled),pe?(0,I.FormikReviewItem)(f.FieldId.MinReplicas,{[f.FieldId.MultiAz]:Q,[f.FieldId.Hypershift]:B,[f.FieldId.MaxReplicas]:K}):(0,I.FormikReviewItem)(f.FieldId.NodesCompute,{[f.FieldId.MultiAz]:Q,[f.FieldId.Hypershift]:B}),(0,I.FormikReviewItem)(fe?f.FieldId.SelectedVpc:f.FieldId.InstallToVpc),W&&fe&&(0,I.FormikReviewItem)("aws_hosted_machine_pools",{[f.FieldId.MachinePoolsSubnets]:Y,[f.FieldId.SelectedVpc]:ee}),!(1===(null==Z?void 0:Z.length)&&(0,r.default)(Z[0].key))&&(0,I.FormikReviewItem)(f.FieldId.NodeLabels),!fe&&(0,c.canSelectImds)(ge)&&(0,I.FormikReviewItem)(f.FieldId.IMDS),ne&&(0,I.FormikReviewItem)(f.FieldId.WorkerVolumeSizeGib)),n.default.createElement(I.default,{title:we("NETWORKING"),onGoToStep:()=>de(Ne("NETWORKING__CONFIGURATION"))},(0,I.FormikReviewItem)(f.FieldId.ClusterPrivacy),j&&fe&&(0,I.FormikReviewItem)(f.FieldId.ClusterPrivacyPublicSubnetId,{[f.FieldId.SelectedVpc]:ee}),"internal"===U&&W&&(0,I.FormikReviewItem)(f.FieldId.UsePrivateLink),W&&!fe&&(0,I.FormikReviewItem)("aws_standalone_vpc",{[f.FieldId.SelectedVpc]:ee,[f.FieldId.MachinePoolsSubnets]:Y,[f.FieldId.UsePrivateLink]:le}),W&&!fe&&he&&(0,I.FormikReviewItem)(f.FieldId.SecurityGroups,{[f.FieldId.SelectedVpc]:ee}),(null==te?void 0:te.is_selected)&&!fe&&(0,I.FormikReviewItem)(f.FieldId.SharedVpc),W&&(0,I.FormikReviewItem)(f.FieldId.ConfigureProxy),W&&V&&(0,I.FormikReviewItem)(f.FieldId.HttpProxyUrl),W&&V&&(0,I.FormikReviewItem)(f.FieldId.HttpsProxyUrl),W&&V&&(0,I.FormikReviewItem)(f.FieldId.NoProxyDomains),W&&V&&(0,I.FormikReviewItem)(f.FieldId.AdditionalTrustBundle),(0,I.FormikReviewItem)(f.FieldId.NetworkMachineCidr),(0,I.FormikReviewItem)(f.FieldId.NetworkServiceCidr),(0,I.FormikReviewItem)(f.FieldId.NetworkPodCidr),(0,I.FormikReviewItem)(f.FieldId.NetworkHostPrefix),!fe&&(0,I.FormikReviewItem)(f.FieldId.ApplicationIngress),"default"!==M&&!fe&&n.default.createElement(n.default.Fragment,null,(0,I.FormikReviewItem)(f.FieldId.DefaultRouterSelectors),(0,I.FormikReviewItem)(f.FieldId.DefaultRouterExcludedNamespacesFlag),(0,I.FormikReviewItem)(f.FieldId.IsDefaultRouterWildcardPolicyAllowed),(0,I.FormikReviewItem)(f.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict))),n.default.createElement(I.default,{title:we("CLUSTER_ROLES_AND_POLICIES"),onGoToStep:()=>de(Ne("CLUSTER_ROLES_AND_POLICIES"))},!fe&&(0,I.FormikReviewItem)(f.FieldId.RosaRolesProviderCreationMode),x&&n.default.createElement(n.default.Fragment,null,(0,I.FormikReviewItem)(f.FieldId.ByoOidcConfigIdManaged),(0,I.FormikReviewItem)(f.FieldId.ByoOidcConfigId)),(0,I.FormikReviewItem)(f.FieldId.CustomOperatorRolesPrefix)),n.default.createElement(I.default,{title:"Updates",onGoToStep:()=>de(Ne("CLUSTER_UPDATES"))},(0,I.FormikReviewItem)(f.FieldId.UpgradePolicy),"automatic"===ae&&(0,I.FormikReviewItem)(f.FieldId.AutomaticUpgradeSchedule),!fe&&(0,I.FormikReviewItem)(f.FieldId.NodeDrainGracePeriod)),h.default.fakeOSD&&n.default.createElement(y.DebugClusterRequest,{cloudProvider:G,product:X,formValues:oe})),Le)};D.propTypes={getUserRole:i.default.func.isRequired,getOCMRole:i.default.func.isRequired,getOCMRoleResponse:i.default.func.isRequired,getUserRoleResponse:i.default.object.isRequired,clearGetUserRoleResponse:i.default.func.isRequired,clearGetOcmRoleResponse:i.default.func.isRequired,createCluster:i.default.func.isRequired,isSubmitPending:i.default.bool,isCreateClusterYamlEditorEnabled:i.default.bool,createClusterResponse:i.default.shape({fulfilled:i.default.bool,error:i.default.bool,errorMessage:i.default.string,pending:i.default.bool,cluster:i.default.shape({subscription:i.default.shape({id:i.default.string})})})},t.default=D},2316:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(31003),o=a(21674),u=l(a(75759));const d=e=>{let{name:t,getRoleResponse:a,content:l}=e;return n.default.createElement(i.DescriptionListGroup,{key:t},n.default.createElement(i.DescriptionListTerm,null,t," ARN"),n.default.createElement(i.DescriptionListDescription,null,(null==a?void 0:a.pending)&&n.default.createElement("div",{className:"spinner-fit-container"},n.default.createElement(i.Spinner,{size:"md"})),((null==a?void 0:a.error)||!l&&(null==a?void 0:a.fulfilled))&&n.default.createElement(u.default,{isErrorHint:!0,title:`${t} could not be detected`,bodyContent:n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:i.TextVariants.p},n.default.createElement("span",{className:"danger"},n.default.createElement(s.ExclamationCircleIcon,{className:"status-icon danger"}),n.default.createElement("strong",null,`${t} is no longer linked to your Red Hat organization.`))),n.default.createElement(i.Text,{component:i.TextVariants.p},n.default.createElement("p",null,"Follow the AWS account association instructions and try again"))),footer:n.default.createElement(o.BackToAssociateAwsAccountLink,null),iconClassName:"hand-pointer"}),null!=a&&a.fulfilled?l:null))};d.propTypes={name:r.default.string,getRoleResponse:r.default.object,content:r.default.string},t.default=d},38599:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=a(11243),s=a(42045),o=a(976),u=l(a(13859));t.default=(0,n.connect)((e=>{const{getUserRoleResponse:t,getOCMRoleResponse:a}=e.rosaReducer;return{getUserRoleResponse:t,getOCMRoleResponse:a,isCreateClusterYamlEditorEnabled:(0,i.featureGateSelector)(e,o.CREATE_CLUSTER_YAML_EDITOR),createClusterResponse:e.clusters.createdCluster}}),(e=>({getUserRole:()=>e((0,s.getUserRole)()),getOCMRole:t=>e((0,s.getOCMRole)(t)),clearGetUserRoleResponse:()=>e((0,s.clearGetUserRoleResponse)()),clearGetOcmRoleResponse:()=>e((0,s.clearGetOcmRoleResponse)()),openModal:(t,a)=>e((0,r.openModal)(t,a))})))(u.default)},96555:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(97419),i=l(a(56470));t.default=function(){return n.default.createElement(r.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(r.Grid,{hasGutter:!0},n.default.createElement(r.GridItem,null,n.default.createElement(r.Title,{headingLevel:"h3"},"Cluster update strategy")),n.default.createElement(i.default,null)))}},57237:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SingleSubnetFieldsRow=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(97419),u=a(32358),d=a(34108),c=l(a(98173)),m=l(a(57596)),p=a(82693),f=l(a(22024)),E=l(a(15403)),g=a(84037),v=a(16829);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const S=e=>{let{index:t,selectedAZ:a,selectedRegion:l,selectedVPC:n,isMultiAz:s,privateLinkSelected:m}=e;const{setFieldValue:h,getFieldProps:S,getFieldMeta:_,values:{[v.FieldId.MachinePoolsSubnets]:C}}=(0,p.useFormState)(),y=`${v.FieldId.MachinePoolsSubnets}[${t}].availabilityZone`,I=`${v.FieldId.MachinePoolsSubnets}[${t}].privateSubnetId`,A=`${v.FieldId.MachinePoolsSubnets}[${t}].publicSubnetId`,R=0===t;let T,O;null!=n&&n.id?a||(T="Select the availability zone"):(O="Select a VPC first",T="Select a VPC first");const P=m?["private"]:["private","public"],D=(0,u.getMatchingAvailabilityZones)(l,n,P);return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:4},r.default.createElement(f.default,{showTooltip:!!O,content:O},r.default.createElement(i.Field,{component:c.default,name:y,label:R?"Availability zone":null,enabledAvailabilityZones:D,vpcId:null==n?void 0:n.id,validate:e=>(0,g.required)(e)||s&&(0,g.validateUniqueAZ)(e,{machinePoolsSubnets:C}),isDisabled:!!O,region:l,input:b(b({},S(y)),{},{onChange:(0,E.default)(y)}),meta:_(y)}))),r.default.createElement(o.GridItem,{md:4},r.default.createElement(f.default,{showTooltip:!!T,content:T},r.default.createElement(i.Field,{component:d.SubnetSelectField,name:I,isRequired:!0,validate:g.required,privacy:"private",label:R?"Private subnet":null,selectedVPC:n,allowedAZs:a?[a]:[],withAutoSelect:!1,input:b(b({},S(I)),{},{onChange:e=>h(I,e)}),meta:_(I)}))),r.default.createElement(o.GridItem,{md:4},!m&&r.default.createElement(f.default,{showTooltip:!!T,content:T},r.default.createElement(i.Field,{component:d.SubnetSelectField,name:A,isRequired:!0,validate:g.required,privacy:"public",label:R?"Public subnet":null,selectedVPC:n,allowedAZs:a?[a]:[],withAutoSelect:!1,input:b(b({},S(A)),{},{onChange:e=>h(A,e)}),meta:_(A)}))))};t.SingleSubnetFieldsRow=S;const _=e=>{let{selectedVPC:t,selectedRegion:a,selectedAZs:l,isMultiAz:n,privateLinkSelected:s}=e;const{setFieldValue:o,getFieldProps:u,getFieldMeta:d}=(0,p.useFormState)();return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.Field,{component:m.default,name:v.FieldId.SelectedVpc,validate:e=>null!=e&&e.id||null!=e&&e.name?void 0:"error",selectedVPC:t,showRefresh:!0,isHypershift:!1,isRosaV1:!1,usePrivateLink:s,input:b(b({},u(v.FieldId.SelectedVpc)),{},{onChange:e=>o(v.FieldId.SelectedVpc,e)}),meta:d(v.FieldId.SelectedVpc)}),r.default.createElement(S,{index:0,selectedAZ:l[0],selectedRegion:a,selectedVPC:t,isMultiAz:n,privateLinkSelected:s}),n&&r.default.createElement(r.default.Fragment,null,r.default.createElement(S,{index:1,selectedAZ:l[1],selectedRegion:a,selectedVPC:t,isMultiAz:n,privateLinkSelected:s}),r.default.createElement(S,{index:2,selectedAZ:l[2],selectedRegion:a,selectedVPC:t,isMultiAz:n,privateLinkSelected:s})))};S.propTypes={selectedRegion:s.default.string,selectedVPC:s.default.shape({id:s.default.string,name:s.default.string}),selectedAZ:s.default.string,index:s.default.number,isMultiAz:s.default.bool,privateLinkSelected:s.default.bool},_.propTypes={selectedVPC:s.default.object,selectedRegion:s.default.string,selectedAZs:s.default.arrayOf(s.default.string),isMultiAz:s.default.bool,privateLinkSelected:s.default.bool},t.default=_},32503:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=l(a(65702)),o=l(a(271)),u=l(a(8888)),d=l(a(55213)),c=a(62384),m=l(a(22014)),p=l(a(57237));function f(e){let{selectedRegion:t,selectedVPC:a,selectedAZs:l,openshiftVersion:r,isMultiAz:f,privateLinkSelected:E,cloudProviderID:g,isSharedVpcSelected:v,hostedZoneDomainName:h,isHypershiftSelected:b}=e;return"aws"===g&&n.default.createElement(n.default.Fragment,null,n.default.createElement(i.GridItem,null,n.default.createElement(i.Title,{headingLevel:"h4",size:"md"},"Install into an existing VPC",n.default.createElement(d.default,{iconClassName:"pf-v5-u-ml-sm",hint:n.default.createElement(n.default.Fragment,null,"Your VPC must have public and private subnets. Public subnets are associated with appropriate Ingress rules. Private subnets need appropriate routes and tables."," ",n.default.createElement(u.default,{href:s.default.INSTALL_AWS_VPC},"Learn more about installing into an existing VPC"))})),`To install into an existing VPC, you need to ensure that your VPC is configured with ${E?"":"a public and"}\n            a private subnet for each availability zone that you want the cluster\n            installed into`,".",n.default.createElement(u.default,{href:s.default.INSTALL_AWS_CUSTOM_VPC_REQUIREMENTS},"Learn more about VPC")),n.default.createElement(i.Alert,{variant:"info",isInline:!0,title:"You'll need to match these VPC subnets when you define the CIDR ranges."}),n.default.createElement(p.default,{isMultiAz:f,selectedVPC:a,selectedRegion:t,selectedAZs:l,privateLinkSelected:E}),n.default.createElement(o.default,{selectedVPC:a,openshiftVersion:r,isHypershiftSelected:b}),!(0,c.isRestrictedEnv)()&&n.default.createElement(m.default,{hostedZoneDomainName:h,isSelected:v,openshiftVersion:r,isHypershiftSelected:b}))}f.propTypes={hostedZoneDomainName:r.default.string,selectedRegion:r.default.string,selectedVPC:r.default.object.isRequired,selectedAZs:r.default.arrayOf(r.default.string).isRequired,openshiftVersion:r.default.string,isMultiAz:r.default.bool,privateLinkSelected:r.default.bool,isSharedVpcSelected:r.default.bool,cloudProviderID:r.default.string,isHypershiftSelected:r.default.bool},t.default=f},17903:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(32358),o=a(14115),u=a(82693),d=a(16829),c=l(a(32503));function m(e){let{privateLinkSelected:t}=e;const{setFieldValue:a,setFieldTouched:l,values:{[d.FieldId.ClusterName]:r,[d.FieldId.ClusterVersion]:m,[d.FieldId.SharedVpc]:p,[d.FieldId.SelectedVpc]:f,[d.FieldId.MachinePoolsSubnets]:E,[d.FieldId.MultiAz]:g,[d.FieldId.Region]:v,[d.FieldId.CloudProvider]:h,[d.FieldId.Hypershift]:b}}=(0,u.useFormState)(),S=(null==p?void 0:p.is_selected)||!1,_=S?`${r}.${p.base_dns_domain||"<selected-base-domain>"}`:void 0,C=null==E?void 0:E.map((e=>e.availabilityZone)),y="true"===g,I=m.raw_id,A="true"===b;return n.default.useEffect((()=>{if(!f.id){const e=[(0,o.emptyAWSSubnet)()];y&&(e.push((0,o.emptyAWSSubnet)()),e.push((0,o.emptyAWSSubnet)())),a("machinePoolsSubnets",e),(0,s.getAllSubnetFieldNames)(y).forEach((e=>{l(e,!1)}))}}),[a,l,y,f]),n.default.createElement(i.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(i.Grid,{hasGutter:!0},n.default.createElement(i.GridItem,null,n.default.createElement(i.Title,{headingLevel:"h3"},"Virtual Private Cloud (VPC) subnet settings")),n.default.createElement(c.default,{isMultiAz:y,selectedRegion:v,selectedVPC:f,selectedAZs:C,openshiftVersion:I,isSharedVpcSelected:S,privateLinkSelected:t,hostedZoneDomainName:_,cloudProviderID:h,isHypershiftSelected:A})))}m.propTypes={privateLinkSelected:r.default.bool},t.default=m},89738:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.ValuesPanel=void 0;var n=l(a(93345)),r=a(88139),i=a(98094);t.ValuesPanel=()=>{const{values:e,errors:t,touched:a}=(0,r.useFormikContext)();return n.default.createElement("pre",{style:{fontSize:".65rem",flex:"0 0 35em"}},n.default.createElement("div",null,n.default.createElement("strong",null,"formik values:")),n.default.createElement(i.ValuesCodeEditor,{code:JSON.stringify(e,null,2)}),n.default.createElement("div",null,n.default.createElement("strong",null,"formik touched:")),n.default.createElement(i.ValuesCodeEditor,{code:JSON.stringify(a,null,2)}),n.default.createElement("div",null,n.default.createElement("strong",null,"formik errors:")),n.default.createElement(i.ValuesCodeEditor,{code:JSON.stringify(t,null,2)}))}},21674:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.BackToAssociateAwsAccountLink=void 0;var n=l(a(93345)),r=a(97419),i=a(4391),s=a(11243),o=a(976);t.BackToAssociateAwsAccountLink=()=>{const{goToStepById:e}=(0,r.useWizardContext)(),t=(0,s.useFeatureGate)(o.HYPERSHIFT_WIZARD_FEATURE),a=(0,i.getAccountAndRolesStepId)(t);return n.default.createElement(r.Button,{variant:"link",isInline:!0,onClick:()=>e(a)},"Back to associate AWS account")}},56470:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=a(97419),o=l(a(65702)),u=l(a(686)),d=l(a(58350)),c=a(82693),m=a(16829),p=l(a(8888)),f=l(a(33076));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(24267),t.default=function(){const{setFieldValue:e,setFieldTouched:t,getFieldProps:a,values:{[m.FieldId.UpgradePolicy]:l,[m.FieldId.Hypershift]:n}}=(0,c.useFormState)(),E="automatic"===l,v="true"===n,h=!1,b=r.default.createElement(r.default.Fragment,null,"The cluster will be automatically updated based on your preferred day and start time when new patch updates (",r.default.createElement(p.default,{href:o.default.ROSA_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version."),S=r.default.createElement(r.default.Fragment,null,"The cluster control plane will be automatically updated based on your preferred day and start time when new patch updates (",r.default.createElement(p.default,{href:o.default.ROSA_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version. The worker nodes will need to be manually updated."),_={value:"automatic",label:"Recurring updates",description:v?S:b,extraField:E&&r.default.createElement(s.Grid,null,r.default.createElement(s.GridItem,{md:6},r.default.createElement(i.Field,{component:d.default,name:m.FieldId.AutomaticUpgradeSchedule,input:g(g({},a(m.FieldId.AutomaticUpgradeSchedule)),{},{onChange:a=>{t(m.FieldId.AutomaticUpgradeSchedule),e(m.FieldId.AutomaticUpgradeSchedule,a)}}),isDisabled:h,isHypershift:v})))},C={value:"manual",label:"Individual updates",description:r.default.createElement(r.default.Fragment,null,"Schedule each update individually. Take into consideration end of life dates from the"," ",r.default.createElement(p.default,{href:o.default.ROSA_LIFE_CYCLE},"lifecycle policy")," when planning updates.")},y=v?[_,C]:[C,_];return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,null,r.default.createElement(s.Text,{component:"p"},"Note: In the event of"," ",r.default.createElement(p.default,{href:"https://access.redhat.com/security/updates/classification/#critical"},"Critical security concerns")," ","(CVEs) that significantly impact the security or stability of the cluster, updates may be"," ","automatically scheduled by Red Hat SRE to the latest z-stream version not impacted by the"," ","CVE within 2 business days after customer notifications.")),r.default.createElement(s.GridItem,{className:"ocm-c-upgrade-policy-radios"},r.default.createElement(i.Field,{component:f.default,name:m.FieldId.UpgradePolicy,isDisabled:h,input:g(g({},a(m.FieldId.UpgradePolicy)),{},{onChange:a=>{t(m.FieldId.UpgradePolicy),e(m.FieldId.UpgradePolicy,a),"manual"===a&&e(m.FieldId.AutomaticUpgradeSchedule,"0 0 * * 0")}}),options:y,defaultValue:"manual",disableDefaultValueHandling:!0})),null,v?null:r.default.createElement(s.GridItem,null,r.default.createElement(s.Title,{headingLevel:"h4",className:"ocm-c-upgrade-node-draining-title"},"Node draining"),r.default.createElement(s.TextContent,null,r.default.createElement(s.Text,{component:s.TextVariants.p},"Note: You cannot change the node drain grace period after you start the upgrade process."),r.default.createElement(s.Text,{component:s.TextVariants.p},"You may set a grace period for how long pod disruption budget-protected workloads will"," ","be respected during updates. After this grace period, any workloads protected by pod disruption budgets that have not been successfully drained from a node will be forcibly evicted.")),r.default.createElement(i.Field,{name:m.FieldId.NodeDrainGracePeriod,component:u.default,isDisabled:h,input:g(g({},a(m.FieldId.NodeDrainGracePeriod)),{},{onChange:a=>{t(m.FieldId.NodeDrainGracePeriod),e(m.FieldId.NodeDrainGracePeriod,a)}})})))}},182:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=a(73729),r=a(75166),i=a(10138),s=a(24239),o=a(11912),u=a(42045),d=a(2479),c=a(91089),m=l(a(14419)),p=a(98229),f=l(a(41685)),E=l(a(87580));t.A=(0,n.connect)((e=>{const{organization:t}=e.userProfile,{getUserRoleResponse:a}=e.rosaReducer,{clusterVersions:l}=(null==e?void 0:e.clusters)||{};return{isErrorModalOpen:(0,m.default)(e,"osd-create-error"),createClusterResponse:e.clusters.createdCluster,machineTypes:e.machineTypes,organization:t,cloudProviders:e.cloudProviders,hasProductQuota:(0,p.hasManagedQuotaSelector)(e.userProfile.organization.quotaList,r.normalizedProducts.ROSA),getUserRoleResponse:a,getInstallableVersionsResponse:l}}),(e=>({onSubmit:t=>e((()=>(0,f.default)(e,{isWizard:!0})(t))),resetResponse:()=>e((0,s.resetCreatedClusterResponse)()),openModal:t=>{e((0,c.openModal)(t))},getOrganizationAndQuota:()=>e((0,d.getOrganizationAndQuota)()),getUserRole:()=>e((0,u.getUserRole)()),getMachineTypes:()=>e((0,o.getMachineTypes)()),getCloudProviders:()=>e((0,i.getCloudProviders)()),clearInstallableVersions:()=>e((0,s.clearInstallableVersions)()),createCluster:(t,a)=>e((0,s.createCluster)(t,a))})))(E.default)},4391:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stepNameById=t.stepId=t.hasLoadingState=t.getAccountAndRolesStepId=void 0;const a=t.stepId={ACCOUNTS_AND_ROLES_AS_FIRST_STEP:5,CONTROL_PLANE:10,ACCOUNTS_AND_ROLES_AS_SECOND_STEP:15,CLUSTER_SETTINGS:20,CLUSTER_SETTINGS__DETAILS:21,CLUSTER_SETTINGS__MACHINE_POOL:23,NETWORKING:30,NETWORKING__CONFIGURATION:31,NETWORKING__VPC_SETTINGS:32,NETWORKING__CLUSTER_WIDE_PROXY:33,NETWORKING__CIDR_RANGES:34,CLUSTER_ROLES_AND_POLICIES:40,CLUSTER_UPDATES:50,REVIEW_AND_CREATE:60};t.getAccountAndRolesStepId=e=>e?a.ACCOUNTS_AND_ROLES_AS_SECOND_STEP:a.ACCOUNTS_AND_ROLES_AS_FIRST_STEP,t.hasLoadingState=e=>e!==a.CONTROL_PLANE,t.stepNameById={[a.ACCOUNTS_AND_ROLES_AS_FIRST_STEP]:"Accounts and roles",[a.ACCOUNTS_AND_ROLES_AS_SECOND_STEP]:"Accounts and roles",[a.CONTROL_PLANE]:"Control plane",[a.CLUSTER_SETTINGS]:"Cluster settings",[a.CLUSTER_SETTINGS__DETAILS]:"Details",[a.CLUSTER_SETTINGS__MACHINE_POOL]:"Machine pool",[a.NETWORKING]:"Networking",[a.NETWORKING__CONFIGURATION]:"Configuration",[a.NETWORKING__VPC_SETTINGS]:"VPC settings",[a.NETWORKING__CLUSTER_WIDE_PROXY]:"Cluster-wide proxy",[a.NETWORKING__CIDR_RANGES]:"CIDR ranges",[a.CLUSTER_ROLES_AND_POLICIES]:"Cluster roles and policies",[a.CLUSTER_UPDATES]:"Cluster updates",[a.REVIEW_AND_CREATE]:"Review and create"}},26871:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(97419),u=a(38715);function d(e){let{fieldId:t}=e;const[a,{error:l,touched:s}]=(0,i.useField)(t);return r.default.createElement(o.FormGroup,{fieldId:t},r.default.createElement(o.Split,{hasGutter:!0},r.default.createElement(o.SplitItem,null,r.default.createElement(o.Checkbox,(0,n.default)({},a,{isChecked:!!a.value,id:t})))),r.default.createElement(u.FormGroupHelperText,{touched:s,error:l}))}d.propTypes={fieldId:s.default.string.isRequired},t.default=d},7685:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(71699));t.default=n.default},49383:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(88139),i=l(a(5556)),s=l(a(26871));const o=e=>{let{name:t}=e;return n.default.createElement("span",{className:"pf-v5-u-display-none"},n.default.createElement(r.Field,{fieldId:t,component:s.default,name:`${t}`,validate:e=>e?void 0:" "}))};o.propTypes={name:i.default.string.isRequired},t.default=o},33076:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=l(a(55213));class u extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"changeHandler",(e=>{const{input:t,onChangeCallback:a}=this.props,l=e.target.value;t.onChange(l),a&&a(e,l)}))}componentDidMount(){const{defaultValue:e,disableDefaultValueHandling:t,input:a}=this.props;t&&!this.isCurrentValueDisabled()||a.onChange(e)}componentDidUpdate(){const{defaultValue:e,input:t,disableDefaultValueHandling:a}=this.props;a||""===t.value&&t.onChange(e),this.isCurrentValueDisabled()&&t.onChange(e)}isCurrentValueDisabled(){const{options:e,input:t,defaultValue:a}=this.props;return e.some((e=>t.value===e.value&&e.disabled&&e.value!==a))}render(){const{options:e,className:t,input:a,isDisabled:l}=this.props;return r.default.createElement(r.default.Fragment,null,e.map((e=>{const n=r.default.createElement(s.SplitItem,{className:"pf-v5-u-mr-sm"},r.default.createElement(s.Radio,{className:t||"",isChecked:a.value===e.value,key:`${a.name}-${e.value}`,value:e.value,name:a.name,id:`${a.name}-${e.value}`,"data-testid":`${a.name}-${e.value}`,"aria-label":e.ariaLabel||e.label,label:e.label,onChange:this.changeHandler,isDisabled:e.disabled||l,description:e.description}),e.extraField?e.extraField:null);return r.default.createElement(s.Split,{key:`${a.name}-${e.value}-fragment`},e.tooltipText?r.default.createElement(s.Tooltip,{content:e.tooltipText,position:"right"},n):n,e.extendedHelpText?r.default.createElement(s.SplitItem,null,r.default.createElement(o.default,{hint:e.extendedHelpText})):null)})))}}u.propTypes={defaultValue:i.default.string,isDisabled:i.default.bool,onChangeCallback:i.default.func,disableDefaultValueHandling:i.default.bool,input:i.default.shape({name:i.default.string.isRequired,onChange:i.default.func.isRequired,value:i.default.string}).isRequired,className:i.default.string,options:i.default.arrayOf(i.default.shape({label:i.default.oneOfType([i.default.string,i.default.node]).isRequired,ariaLabel:i.default.string,value:i.default.string.isRequired,disabled:i.default.bool,description:i.default.node,extraField:i.default.node,extendedHelpText:i.default.oneOfType([i.default.string,i.default.node])})).isRequired},t.default=u},15771:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(91847)),i=l(a(93345)),s=l(a(5556)),o=a(97419),u=a(38715),d=l(a(55213));const c=["name","value"],m=["label","meta","input","isSwitch","helpText","extendedHelpText","isRequired","showInitialValidationErrors"];function p(e){const{label:t,meta:{error:a,touched:l},input:{name:s,value:p},isSwitch:f=!1,helpText:E,extendedHelpText:g,isRequired:v=!1,showInitialValidationErrors:h=!1}=e,b=(0,r.default)(e.input,c),S=(0,r.default)(e,m),_=f?o.Switch:o.Checkbox;return i.default.createElement(o.FormGroup,{fieldId:s},i.default.createElement(o.Split,{hasGutter:!0},i.default.createElement(o.SplitItem,null,i.default.createElement(_,(0,n.default)({isChecked:!!p,id:s,name:s},b,S,{label:i.default.createElement(i.default.Fragment,null,t,v?i.default.createElement("span",{className:"pf-v5-c-form__label-required redux-checkbox-required","aria-hidden":"true"},"*"):null),required:v}))),g&&i.default.createElement(o.SplitItem,null,i.default.createElement(d.default,{hint:g}))),i.default.createElement(u.FormGroupHelperText,{touched:l||h,error:a},E))}p.propTypes={label:s.default.string.isRequired,input:s.default.object.isRequired,meta:s.default.object.isRequired,isSwitch:s.default.bool,isDisabled:s.default.bool,extendedHelpText:s.default.oneOfType([s.default.string,s.default.node]),isRequired:s.default.bool,showInitialValidationErrors:s.default.bool,isHelperTextBeforeField:s.default.bool,helpText:s.default.oneOfType([s.default.string,s.default.node]),onChange:s.default.func,isFilled:s.default.bool},t.default=p},74311:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=l(a(5556)),s=a(72740),o=l(a(73569));function u(e){const{fieldName:t}=e;return r.default.createElement(s.FieldArray,(0,n.default)({name:t,component:o.default},e))}u.propTypes={fieldName:i.default.string},t.default=u},75885:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(38715),u=l(a(55213));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}class m extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{filename:""}),(0,n.default)(this,"onTextAreaBlur",(e=>{const{input:{onBlur:t}}=this.props;t(e)})),(0,n.default)(this,"handleFileChange",((e,t)=>{const{input:a}=this.props;this.setState({filename:t.name}),a.onChange(t)})),(0,n.default)(this,"handleFileContentChange",((e,t)=>{const{input:a}=this.props;a.onChange(t)})),(0,n.default)(this,"handleFileRejected",((e,t)=>{const{input:{onBlur:a},dropzoneProps:l}=this.props;a(),l&&l.onDropRejected&&l.onDropRejected(e,t)})),(0,n.default)(this,"handleClear",(()=>{const{input:e}=this.props;e.onChange(""),this.setState({filename:""})}))}componentDidMount(){const{placeholder:e,input:{name:t}}=this.props;document.getElementById(t).addEventListener("blur",this.onTextAreaBlur),e&&document.getElementById(t).setAttribute("placeholder",e)}componentWillUnmount(){var e;const{input:{name:t}}=this.props;null===(e=document.getElementById(t))||void 0===e||e.removeEventListener("blur",this.onTextAreaBlur)}render(){const{helpText:e,meta:{error:t,dirty:a,touched:l},input:{name:n,value:i},isRequired:d,label:m,extendedHelpTitle:p,extendedHelpText:f,dropzoneProps:E}=this.props,{filename:g}=this.state;return r.default.createElement(s.FormGroup,{fieldId:n,label:m,labelIcon:f&&r.default.createElement(u.default,{title:p,hint:f}),isRequired:d},r.default.createElement(s.FileUpload,{allowEditingUploadedText:!0,isDragActive:!0,id:n,name:n,type:"text",value:i,filename:g,validated:(a||l)&&t?"error":"default",onFileInputChange:this.handleFileChange,onDataChange:this.handleFileContentChange,onTextChange:this.handleFileContentChange,onClearClick:this.handleClear,dropzoneProps:c(c({},E),{},{onDropRejected:this.handleFileRejected})}),r.default.createElement(o.FormGroupHelperText,{touched:a||l,error:t},e))}}m.defaultProps={helpText:"",isRequired:!1},m.propTypes={helpText:i.default.string,extendedHelpTitle:i.default.oneOfType([i.default.string,i.default.node]),extendedHelpText:i.default.oneOfType([i.default.string,i.default.node]),input:i.default.object.isRequired,meta:i.default.object.isRequired,isRequired:i.default.bool,label:i.default.string,placeholder:i.default.string,dropzoneProps:i.default.object},t.default=m},30493:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(91847)),i=l(a(43693)),s=l(a(93345)),o=l(a(5556)),u=a(97419),d=a(38715),c=l(a(55213));const m=["options","label","helpText","meta","input","disabled","isFormGroup","isRequired","extendedHelpText"];class p extends s.default.Component{constructor(){super(...arguments),(0,i.default)(this,"state",{value:""}),(0,i.default)(this,"onChange",((e,t)=>{const{input:{onChange:a}}=this.props;this.setState({value:e}),a(t,e)}))}render(){const e=this.props,{options:t,label:a,helpText:l,meta:{error:i,touched:o},input:p,disabled:f,isFormGroup:E,isRequired:g,extendedHelpText:v}=e,h=(0,r.default)(e,m),{value:b}=this.state,S=s.default.createElement(u.FormSelect,(0,n.default)({id:p.name,name:p.name,value:b},p,{onChange:(e,t)=>this.onChange(t,e),isDisabled:f},h),t.map((e=>s.default.createElement(u.FormSelectOption,{key:e.value||e.name,value:e.value,label:e.name}))));return E?s.default.createElement(u.FormGroup,{fieldId:p.name,label:a,isRequired:g,labelIcon:v&&s.default.createElement(c.default,{hint:v})},S,s.default.createElement(d.FormGroupHelperText,{touched:o,error:i},l)):S}}p.propTypes={options:o.default.arrayOf(o.default.shape({name:o.default.string.isRequired,value:o.default.string})).isRequired,input:o.default.shape({onChange:o.default.func.isRequired,name:o.default.string.isRequired}).isRequired,label:o.default.string,helpText:o.default.string,meta:o.default.shape({error:o.default.oneOfType([o.default.string,o.default.bool]),touched:o.default.bool}).isRequired,disabled:o.default.bool,isFormGroup:o.default.bool,isRequired:o.default.bool,extendedHelpText:o.default.oneOfType([o.default.string,o.default.node])},p.defaultProps={isFormGroup:!0},t.default=p},19183:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=l(a(5556)),s=a(72740),o=a(97419),u=a(23158),d=a(56862),c=a(93413),m=a(84037),p=l(a(12200));a(66227);const f=e=>{let{forceTouch:t,input:a,meta:{touched:l,error:i}}=e;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.TextInput,(0,n.default)({"aria-label":"Key-value list key",validated:(l||t)&&i?"error":"default"},a)),(l||t)&&i&&r.default.createElement("span",{className:"pf-v5-c-form__helper-text pf-m-error"},i))};f.propTypes={touch:i.default.func,forceTouch:i.default.bool,input:i.default.object.isRequired,meta:i.default.shape({error:i.default.string,touched:i.default.bool})};const E=e=>{let{forceTouch:t,input:a,meta:{touched:l,error:i}}=e;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.TextInput,(0,n.default)({"aria-label":"Key-value list value",validated:(l||t)&&i?"error":"default"},a)),(l||t)&&i&&r.default.createElement("span",{className:"pf-v5-c-form__helper-text pf-m-error"},i))};E.propTypes={forceTouch:i.default.bool,input:i.default.object.isRequired,meta:i.default.shape({error:i.default.string,touched:i.default.bool})};const g=e=>{let{fields:t,forceTouch:a}=e;return r.default.createElement(o.Grid,{hasGutter:!0},r.default.createElement(o.GridItem,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Key"),r.default.createElement(o.GridItem,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Value"),r.default.createElement(o.GridItem,{span:4}),t.map(((e,l)=>{const n=0===l&&1===t.length;return r.default.createElement(r.default.Fragment,{key:`${t.get(l).id}-${e.key}`},r.default.createElement(o.GridItem,{span:4},r.default.createElement(s.Field,{name:`${e}.key`,type:"text",component:f,index:l,validate:m.validateLabelKey,forceTouch:a})),r.default.createElement(o.GridItem,{span:4},r.default.createElement(s.Field,{name:`${e}.value`,type:"text",component:E,index:l,validate:m.validateLabelValue,forceTouch:a})),r.default.createElement(o.GridItem,{span:4},r.default.createElement(o.Button,{onClick:()=>{t.remove(l)},icon:r.default.createElement(u.MinusCircleIcon,null),variant:"link",isDisabled:n,"aria-label":"Remove item",className:n?"reduxFormKeyValueList-removeBtn-disabled":"reduxFormKeyValueList-removeBtn"})))})),r.default.createElement(o.GridItem,null,r.default.createElement(p.default,{onClick:()=>t.push({id:(0,c.getRandomID)()}),icon:r.default.createElement(d.PlusCircleIcon,null),variant:"link",isInline:!0,className:"reduxFormKeyValueList-addBtn",disableReason:(l=t.getAll(),l&&l.some((e=>!e.key))&&c.nodeKeyValueTooltipText)},"Add additional label")));var l};g.propTypes={forceTouch:i.default.bool,fields:i.default.oneOfType([i.default.object,i.default.array]).isRequired,meta:i.default.shape({error:i.default.string})},t.default=g},7100:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(91847)),r=l(a(43693)),i=l(a(93345)),s=l(a(5556)),o=a(97419);const u=["name","items","onChange","isDisabled"];class d extends i.default.Component{constructor(){super(...arguments),(0,r.default)(this,"state",{value:null}),(0,r.default)(this,"handleChange",((e,t)=>{const{value:a}=t.currentTarget;this.setState({value:a});const{name:l,onChange:n}=this.props;n(l,a)}))}render(){const e=this.props,{name:t,items:a,onChange:l,isDisabled:r=!1}=e,s=(0,n.default)(e,u),{value:d}=this.state;return i.default.createElement(o.FormGroup,s,a.map((e=>i.default.createElement(o.Radio,{isChecked:null===d?!0===e.isChecked:d===e.value,onChange:(e,t)=>this.handleChange(t,e),value:e.value,label:e.label,isDisabled:r,name:`${t}:${e.value}`,id:`${t}:${e.value}`,key:`${t}:${e.value}`}))))}}d.propTypes={name:s.default.oneOfType([s.default.string,s.default.node,s.default.element]).isRequired,items:s.default.arrayOf(s.default.shape({label:s.default.oneOfType([s.default.string,s.default.node,s.default.element]).isRequired,value:s.default.string.isRequired,isChecked:s.default.bool})).isRequired,isDisabled:s.default.bool,onChange:s.default.func.isRequired},t.default=d},9507:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(72740),s=a(97419),o=a(23158),u=a(56862),d=a(93413),c=a(84037),m=l(a(30493)),p=l(a(38871));a(66227);const f=e=>{let{fields:t,meta:{error:a,submitFailed:l},isEditing:r=!1,canAddMore:f}=e;return n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,{span:3,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Key"),n.default.createElement(s.GridItem,{span:3,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Value"),n.default.createElement(s.GridItem,{span:3,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Effect"),n.default.createElement(s.GridItem,{span:3}),t.map(((e,a)=>{const l=!r&&0===a&&1===t.length;return n.default.createElement(n.default.Fragment,{key:`${t.get(a).id}-${e.key}`},n.default.createElement(s.GridItem,{span:3},n.default.createElement(i.Field,{name:`${e}.key`,component:p.default,index:a,"aria-label":"Key-value list key",isRequired:!0,validate:c.checkTaintKey})),n.default.createElement(s.GridItem,{span:3},n.default.createElement(i.Field,{name:`${e}.value`,component:p.default,index:a,"aria-label":"Key-value list value",isRequired:!0,validate:c.checkTaintValue})),n.default.createElement(s.GridItem,{span:3},n.default.createElement(i.Field,{name:`${e}.effect`,component:m.default,options:[{name:"NoSchedule",value:"NoSchedule"},{name:"NoExecute",value:"NoExecute"},{name:"PreferNoSchedule",value:"PreferNoSchedule"}],isFormGroup:!1})),n.default.createElement(s.GridItem,{span:3},n.default.createElement(s.Button,{onClick:()=>t.remove(a),"aria-label":"Remove item",icon:n.default.createElement(o.MinusCircleIcon,null),variant:"link",isDisabled:l,className:l?"reduxFormKeyValueList-removeBtn-disabled":"reduxFormKeyValueList-removeBtn"})))})),n.default.createElement(s.GridItem,null,n.default.createElement(s.Button,{onClick:()=>t.push({id:(0,d.getRandomID)(),effect:"NoSchedule"}),icon:n.default.createElement(u.PlusCircleIcon,null),variant:"link",isInline:!0,isDisabled:!f,className:"reduxFormKeyValueList-addBtn pf-v5-u-mb-lg"},"Add taint"),l&&a&&n.default.createElement("span",null,a)))};f.propTypes={fields:r.default.array.isRequired,isEditing:r.default.bool,canAddMore:r.default.bool,meta:r.default.shape({error:r.default.string,warning:r.default.string,submitFailed:r.default.bool})},t.default=f},38871:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(91847)),i=l(a(93345)),s=l(a(5556)),o=a(97419),u=a(5600),d=a(73796),c=a(2923),m=a(38715),p=l(a(55213));const f=["label","helpText","extendedHelpText","isRequired","meta","input","disabled","isTextArea","showHelpTextOnError","inputPrefix","formGroupClass","hasOtherValidation","onAutocomplete","getAutocompleteValue","getAutocompleteText"],E=["getHelpText","getPlaceholderText"],g=e=>{let{label:t,helpText:a,extendedHelpText:l,isRequired:s,meta:{error:g,touched:v},input:h,disabled:b,isTextArea:S,showHelpTextOnError:_,inputPrefix:C,formGroupClass:y,hasOtherValidation:I=!1,onAutocomplete:A,getAutocompleteValue:R,getAutocompleteText:T=(e=>e)}=e,O=(0,r.default)(e,f);const[P,D]=i.default.useState(!0),[L,N]=i.default.useState(!1),[w,M]=i.default.useState(R?R():void 0),k=S?o.TextArea:o.TextInput,F=S?"disabled":"isDisabled",x={[F]:b},G="password"===O.type,U=`${O.id||""}-redo`,j=I||!v||!g;let H,{onFocus:V}=h,{onBlur:q}=h;if(R){const e=e=>{e.stopPropagation(),h.onChange(w),A&&A(w,h.name),N(!1)};V=function(){N(!0),h.onFocus&&h.onFocus(...arguments)},q=function(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];"menuitem"!==(null===(e=a[0].relatedTarget.attributes)||void 0===e||null===(e=e.role)||void 0===e?void 0:e.nodeValue)&&a[0].relatedTarget.id!==U&&N(!1),h.onBlur&&h.onBlur(...a)};const t=()=>{R&&M(R())};H=i.default.createElement(o.Menu,{onSelect:e},i.default.createElement(o.MenuContent,null,i.default.createElement(o.MenuList,null,i.default.createElement(o.MenuItem,{itemId:0,actions:i.default.createElement(o.MenuItemAction,{icon:i.default.createElement(c.RedoIcon,{"aria-hidden":!0}),onClick:t,actionId:"redo",id:U,"aria-label":"Redo"})},T(w)))))}const{getHelpText:z,getPlaceholderText:B}=O,W=(0,r.default)(O,E),$=i.default.createElement(o.InputGroup,{className:j&&"valid-field"},C?i.default.createElement(o.InputGroupItem,null,i.default.createElement(o.InputGroupText,null,C)):null,i.default.createElement(o.InputGroupItem,{isFill:!0},i.default.createElement(k,(0,n.default)({id:h.name,isRequired:s,validated:j?"default":"error"},x,h,W,{type:G&&!P?"text":O.type,onFocus:V,onBlur:q,className:y}))),G&&i.default.createElement(o.InputGroupItem,null,i.default.createElement(o.Button,{"aria-label":P?"show-password":"hide-password",variant:"control",onClick:()=>D((e=>!e))},P?i.default.createElement(d.EyeSlashIcon,null):i.default.createElement(u.EyeIcon,null))));return i.default.createElement(o.FormGroup,{fieldId:h.name,label:t,isRequired:s,labelIcon:l&&i.default.createElement(p.default,{hint:l}),className:y},R&&i.default.createElement(o.Popper,{trigger:$,popper:H,isVisible:L,enableFlip:!1}),!R&&$,i.default.createElement(m.FormGroupHelperText,{touched:v,error:g,id:`${h.name}-helper`},a))};g.defaultProps={helpText:"",isRequired:!1,showHelpTextOnError:!0,inputPrefix:""},g.propTypes={label:s.default.string,helpText:s.default.oneOfType([s.default.string,s.default.node]),extendedHelpText:s.default.oneOfType([s.default.string,s.default.node]),disabled:s.default.bool,input:s.default.object.isRequired,meta:s.default.object.isRequired,isRequired:s.default.bool,isTextArea:s.default.bool,hasOtherValidation:s.default.bool,showHelpTextOnError:s.default.bool,inputPrefix:s.default.string,formGroupClass:s.default.string,onAutocomplete:s.default.func,getAutocompleteValue:s.default.func,getAutocompleteText:s.default.func},t.default=g},73569:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=l(a(72568)),s=a(5556),o=a(72740),u=a(97419),d=a(23158),c=a(56862),m=a(93413),p=l(a(12200)),f=l(a(38871));a(48475);const E=e=>{let{fieldSpan:t,label:a,isRequired:l,helpText:n}=e;return r.default.createElement(u.GridItem,{className:"field-array-title",span:t},r.default.createElement("p",{className:"pf-v5-c-form__label-text",id:"field-array-label"},a,l?r.default.createElement("span",{className:"pf-v5-c-form__label-required"},"*"):null),n?r.default.createElement("p",{className:"pf-v5-c-form__helper-text",id:"field-array-help-text"},n):null)};E.propTypes={fieldSpan:s.PropTypes.number.isRequired,label:s.PropTypes.string,isRequired:s.PropTypes.bool,helpText:s.PropTypes.string};const g=e=>{let{addNewField:t,areFieldsFilled:a,title:l="Add more",addMoreButtonDisabled:n=!1}=e;const i=!a.length||a.includes(!1)||n;return r.default.createElement(u.GridItem,{className:"field-grid-item"},r.default.createElement(u.Button,{onClick:t,icon:r.default.createElement(c.PlusCircleIcon,null),variant:"link",isDisabled:i},l))};g.propTypes={addNewField:s.PropTypes.func.isRequired,areFieldsFilled:s.PropTypes.arrayOf(s.PropTypes.bool).isRequired,title:s.PropTypes.string,addMoreButtonDisabled:s.PropTypes.bool};const v=e=>{let{isLast:t,errorMessage:a,touched:l,isGroupError:n}=e;return a&&t&&(l||n)?r.default.createElement(u.GridItem,{className:"field-grid-item pf-v5-c-form__helper-text pf-m-error"},a):null};v.propTypes={isLast:s.PropTypes.bool.isRequired,errorMessage:s.PropTypes.string,touched:s.PropTypes.bool,isGroupError:s.PropTypes.bool};const h=e=>{let{index:t,fields:a,onClick:l,minusButtonDisabledMessage:n}=e;const i=0===t&&1===a.length,s=n||"To delete the item, add another item first.";return r.default.createElement(u.GridItem,{className:"field-grid-item minus-button",span:1},r.default.createElement(p.default,{disableReason:i&&s,tooltipProps:{position:"right",distance:0},onClick:l,icon:r.default.createElement(d.MinusCircleIcon,null),variant:"link"}))};h.propTypes={index:s.PropTypes.number.isRequired,fields:s.PropTypes.object.isRequired,onClick:s.PropTypes.func.isRequired,minusButtonDisabledMessage:s.PropTypes.string};const b=e=>{let{item:t,index:a,fields:l,fieldSpan:n,fieldName:i,placeholderText:s,validateField:d,disabled:c,onFieldChange:m,setTouched:p}=e;const{id:E}=l.get(a);return r.default.createElement(u.GridItem,{className:"field-grid-item",span:n},r.default.createElement(o.Field,{key:E,component:f.default,name:`${t}.${i}`,type:"text",placeholder:`${s} ${a+1}`,validate:d,disabled:c,onChange:(e,t)=>m(e,t,a),onBlur:()=>{p(!0)}}))};b.propTypes={item:s.PropTypes.object.isRequired,index:s.PropTypes.number.isRequired,fields:s.PropTypes.array.isRequired,fieldSpan:s.PropTypes.number,fieldName:s.PropTypes.string,placeholderText:s.PropTypes.string,validateField:s.PropTypes.func,disabled:s.PropTypes.bool,onFieldChange:s.PropTypes.func,setTouched:s.PropTypes.func.isRequired};const S=e=>{const{fields:t,label:a,helpText:l,isRequired:s,onFormChange:o,fieldSpan:u=8,isGroupError:d,meta:{error:c,submitFailed:p},FieldGridItemComponent:f=b,isFieldFilled:S=(e=>!!e.name),addMoreTitle:_,addMoreButtonDisabled:C,minusButtonDisabledMessage:y}=e,[I,A]=r.default.useState(!1),[R,T]=r.default.useState([]),O=()=>{t.insert(0,{id:(0,m.getRandomID)()}),T((e=>[!1,...e]))};r.default.useEffect((()=>{p&&A(!0)}),[p]),r.default.useEffect((()=>{0===t.length?O():T(t.map(S))}),[]);const P=(e,t,a)=>{I||A(!0),o&&o(e,t),T((e=>{const l=[...e];return l[a]=!!t,l}))};return r.default.createElement(r.default.Fragment,null,r.default.createElement(E,{fieldSpan:u,label:`${a} (${t.length})`,isRequired:s,helpText:l}),r.default.createElement(g,{addNewField:O,areFieldsFilled:R,title:_,addMoreButtonDisabled:C}),t.map(((a,l)=>r.default.createElement(r.default.Fragment,{key:`${t.get(l).id}`},r.default.createElement(f,(0,n.default)({item:a,index:l,onFieldChange:P,setTouched:A,fieldSpan:u},e)),r.default.createElement(h,{index:l,fields:t,onClick:()=>(e=>{t.remove(e),T((t=>{const a=[...t];return(0,i.default)(a,e),a}))})(l),minusButtonDisabledMessage:y}),r.default.createElement(v,{isLast:l===t.length-1,errorMessage:c,touched:I,isGroupError:d})))))};S.propTypes={fields:s.PropTypes.object.isRequired,label:s.PropTypes.string,helpText:s.PropTypes.string,isRequired:s.PropTypes.bool,onFormChange:s.PropTypes.func,fieldSpan:s.PropTypes.number,isGroupError:s.PropTypes.bool,meta:s.PropTypes.shape({error:s.PropTypes.string,submitFailed:s.PropTypes.bool}),FieldGridItemComponent:s.PropTypes.func,addMoreTitle:s.PropTypes.string,isFieldFilled:s.PropTypes.func,addMoreButtonDisabled:s.PropTypes.bool,minusButtonDisabledMessage:s.PropTypes.string},t.default=S},27235:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=a(5556),s=a(72740),o=a(97419),u=l(a(38871)),d=l(a(73569));const c=e=>{let{item:t,index:a,fields:l,fieldSpan:i,compoundFields:d,disabled:c,onFieldChange:m,setTouched:p}=e;const{id:f}=l.get(a),E=Math.max(Math.floor(i/d.length),1);return r.default.createElement(r.default.Fragment,null,d.map((e=>{const l=`${f}-${e.name}`;return r.default.createElement(o.GridItem,{className:"field-grid-item",span:E,key:l},r.default.createElement(s.Field,(0,n.default)({component:u.default},e,{name:`${t}.${e.name}`,type:e.type||"text",disabled:c,placeholder:e.getPlaceholderText?e.getPlaceholderText(a):void 0,helpText:e.helpText||e.getHelpText&&e.getHelpText(a)||void 0,onChange:(e,t)=>m(e,t,a),onBlur:()=>{p(!0)}})))})))};c.propTypes={item:i.PropTypes.string.isRequired,index:i.PropTypes.number.isRequired,fields:i.PropTypes.object.isRequired,fieldSpan:i.PropTypes.number,compoundFields:i.PropTypes.array.isRequired,disabled:i.PropTypes.bool,onFieldChange:i.PropTypes.func.isRequired,setTouched:i.PropTypes.func.isRequired},t.default=e=>r.default.createElement(d.default,(0,n.default)({},e,{FieldGridItemComponent:c}))},77218:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RadioButtons",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ReduxCheckbox",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"ReduxFieldArray",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ReduxFormDropdown",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ReduxFormKeyValueList",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ReduxFormRadioGroup",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"ReduxFormTaints",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"ReduxSelectDropdown",{enumerable:!0,get:function(){return c.ReduxSelectDropdown}}),Object.defineProperty(t,"ReduxVerticalFormGroup",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"RenderCompoundArrayFields",{enumerable:!0,get:function(){return p.default}});var n=l(a(19183)),r=l(a(9507)),i=l(a(33076)),s=l(a(15771)),o=l(a(74311)),u=l(a(30493)),d=l(a(7100)),c=a(47825),m=l(a(38871)),p=l(a(27235))},55441:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(19202),o=a(45646),u=a(36509),d=a(44027),c=a(69304),m=a(91167),p=l(a(6071)),f=a(10135),E=a(22916),g=l(a(96346)),v=l(a(20003)),h=a(53350),b=a(2663);const S=e=>{const t=(0,m.usePreviousProps)(e);n.default.useEffect((()=>{const{getUnhealthyClusters:a,viewOptions:l}=e;t&&(0,f.viewPropsChanged)(l,t.viewOptions)&&a((0,f.createOverviewQueryObject)(l))}),[e,t]);const{unhealthyClusters:a,viewOptions:l}=e;if(a.fulfilled&&0===a.subscriptions.length)return n.default.createElement(i.Card,{className:"ocm-overview-clusters__card"},n.default.createElement(i.CardTitle,null,"Clusters with issues"),n.default.createElement(i.CardBody,null,n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateHeader,{icon:n.default.createElement(i.EmptyStateIcon,{icon:s.CheckCircleIcon,color:d.global_success_color_100.value})}),n.default.createElement(i.EmptyStateBody,null,"No issues detected"))));const r=[{title:"Name"},{title:"Issues detected",transforms:[o.textCenter],columnTransforms:[o.textCenter]}],S=a.pending&&a.subscriptions&&a.subscriptions.length>0?(0,v.default)(l.pageSize):a.subscriptions.map((e=>(e=>{const t=n.default.createElement("span",null,(0,h.getIssuesCount)(e));return{cells:[{title:n.default.createElement(c.Link,{to:`/details/s/${e.id}`},(0,p.default)(e))},{title:t}],subscription:e}})(e))),_=a.pending?void 0:e=>(0,b.actionResolver)(e.subscription);return n.default.createElement(i.Card,{className:"ocm-overview-clusters__card"},n.default.createElement(i.CardTitle,null,"Clusters with issues"),n.default.createElement(i.CardBody,null,n.default.createElement(u.Table,{className:"clusters-with-issues","aria-label":"Clusters with issues",cells:r,rows:S,actionResolver:_,variant:o.TableVariant.compact},n.default.createElement(u.TableHeader,null),n.default.createElement(u.TableBody,null)),n.default.createElement(g.default,{viewType:E.viewConstants.OVERVIEW_VIEW,currentPage:l.currentPage,pageSize:l.pageSize,totalCount:l.totalCount,totalPages:l.totalPages,variant:"bottom"})))};S.propTypes={unhealthyClusters:r.default.shape({subscriptions:r.default.array,pending:r.default.bool,fulfilled:r.default.bool}).isRequired,viewOptions:r.default.shape({currentPage:r.default.number,pageSize:r.default.number,totalCount:r.default.number,totalPages:r.default.number}).isRequired,getUnhealthyClusters:r.default.func.isRequired},t.default=S},88923:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(24239),i=a(30997),s=a(22916),o=l(a(55441));const u={setClusterDetails:r.setClusterDetails,getUnhealthyClusters:i.getUnhealthyClusters};t.default=(0,n.connect)((e=>({unhealthyClusters:e.dashboards.unhealthyClusters,viewOptions:e.viewOptions[s.viewConstants.OVERVIEW_VIEW]})),u)(o.default)},83964:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(65589),o=l(a(67080)),u=a(10135),d=a(33366),c=l(a(25948)),m=l(a(3722)),p=l(a(21508)),f=l(a(73838)),E=l(a(48609)),g=l(a(71299)),v=l(a(79193)),h=l(a(97953)),b=l(a(88923)),S=l(a(12474)),_=l(a(46695)),C=l(a(83166));a(95461);const y="Overview | Red Hat OpenShift Cluster Manager",I=e=>{const{summaryDashboard:t,unhealthyClusters:a,viewOptions:l,invalidateSubscriptions:r,totalClusters:I,totalConnectedClusters:A,totalUnhealthyClusters:R,totalCPU:T,usedCPU:O,totalMem:P,usedMem:D,upToDate:L,upgradeAvailable:N,userAccess:w,getSummaryDashboard:M,getUnhealthyClusters:k,getUserAccess:F,getOrganizationAndQuota:x,organization:G,insightsOverview:U,fetchOrganizationInsights:j}=e;n.default.useEffect((()=>{t.fulfilled||t.pending||M(),a.fulfilled||a.pending||k((0,u.createOverviewQueryObject)(l)),G.pending||G.fulfilled||x(),U.pending||U.fulfilled||j(),F({type:"OCP"})}),[j,x,M,k,F,U,G,t,a,l]);const H=t.error||a.error,V=!t.fulfilled||t.pending||!a.fulfilled||a.pending,q=U.fulfilled&&U.overview;if(H){let e;e=t.error?t:a;const{errorMessage:l,errorCode:r,operationID:i}=e,s={errorMessage:l,errorCode:r,operationID:i};return n.default.createElement(g.default,{response:s})}return V&&!H?n.default.createElement(d.AppPage,{title:y},n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateBody,null,n.default.createElement(o.default,{centered:!0})))):t.fulfilled&&!I?n.default.createElement(d.AppPage,{title:y},n.default.createElement(v.default,null)):n.default.createElement(d.AppPage,{title:y},n.default.createElement(s.PageHeader,null,n.default.createElement(i.Split,{hasGutter:!0},n.default.createElement(i.SplitItem,null,n.default.createElement(i.Title,{headingLevel:"h1",size:"2xl",className:"page-title","widget-type":"InsightsPageHeaderTitle"},"Dashboard")),n.default.createElement(i.SplitItem,{isFilled:!0}),n.default.createElement(i.SplitItem,null,n.default.createElement(c.default,{isDashboardView:!0})))),n.default.createElement(i.PageSection,null,n.default.createElement(i.Grid,{hasGutter:!0,className:"ocm-c-overview"},n.default.createElement(C.default,{isError:t.error,totalClusters:I,totalUnhealthyClusters:R,totalConnectedClusters:A,totalCPU:T,usedCPU:O,totalMem:P,usedMem:D}),A>0&&n.default.createElement(i.GridItem,{md:6},n.default.createElement(b.default,{unhealthyClusters:a,viewOptions:l})),q&&n.default.createElement(i.GridItem,{md:6},n.default.createElement(h.default,{overview:U.overview})),n.default.createElement(i.GridItem,{md:6},n.default.createElement(i.Card,{className:"ocm-overview-clusters__card"},n.default.createElement(i.CardTitle,null,"Telemetry"),n.default.createElement(i.CardBody,null,A||I?n.default.createElement(f.default,{donutId:"connected_clusters_donut",used:A,total:I,availableTitle:"Not checking in",usedTitle:"Connected",unit:"clusters"}):n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateBody,null,"No data available"))))),w.fulfilled&&void 0!==w.data&&!0===w.data&&n.default.createElement(i.GridItem,{md:6},n.default.createElement(S.default,null)),n.default.createElement(i.GridItem,{md:6},n.default.createElement(i.Card,{className:"ocm-overview-clusters__card"},n.default.createElement(i.CardTitle,null,"Update status"),n.default.createElement(i.CardBody,null,N.value||L.value?n.default.createElement(f.default,{donutId:"update_available_donut",used:L.value,total:N.value+L.value,unit:"clusters",availableTitle:"Update available",usedTitle:"Up-to-date"}):n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateBody,null,"No data available"))))),n.default.createElement(i.GridItem,null,n.default.createElement(_.default,null))),n.default.createElement(E.default,{ModalComponent:p.default,onClose:r}),n.default.createElement(E.default,{ModalComponent:m.default,onClose:r})))};I.propTypes={getSummaryDashboard:r.default.func.isRequired,getUserAccess:r.default.func.isRequired,invalidateSubscriptions:r.default.func.isRequired,summaryDashboard:r.default.object.isRequired,getUnhealthyClusters:r.default.func.isRequired,unhealthyClusters:r.default.shape({clusters:r.default.array,error:r.default.bool,pending:r.default.bool,fulfilled:r.default.bool}).isRequired,viewOptions:r.default.shape({currentPage:r.default.number,pageSize:r.default.number,totalCount:r.default.number,totalPages:r.default.number}).isRequired,totalClusters:r.default.number.isRequired,totalConnectedClusters:r.default.number.isRequired,totalUnhealthyClusters:r.default.number.isRequired,totalCPU:r.default.object.isRequired,usedCPU:r.default.object.isRequired,totalMem:r.default.object.isRequired,usedMem:r.default.object.isRequired,upToDate:r.default.object.isRequired,upgradeAvailable:r.default.object.isRequired,fetchOrganizationInsights:r.default.func.isRequired,insightsOverview:r.default.object.isRequired,userAccess:r.default.shape({data:r.default.bool,pending:r.default.bool,fulfilled:r.default.bool}).isRequired,getOrganizationAndQuota:r.default.func.isRequired,organization:r.default.object.isRequired},t.default=I},85484:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(97419),i=a(57691),s=l(a(65702)),o=l(a(8888));t.default=()=>n.default.createElement(r.EmptyState,{isFullHeight:!0,className:"ocm-insights--advisor-empty-state"},n.default.createElement(r.EmptyStateHeader,{titleText:"No Advisor recommendations",icon:n.default.createElement(r.EmptyStateIcon,{icon:i.SearchIcon}),headingLevel:"h4"}),n.default.createElement(r.EmptyStateBody,null,"This feature uses the Remote Health functionality of OpenShift Container Platform. For further details about Insights, see the"," ",n.default.createElement(o.default,{href:s.default.REMOTE_HEALTH_INSIGHTS},"OpenShift documentation"),"."))},76149:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.categoryMapping=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(93179),s=a(97419),o=a(69304),u=a(53350);const d=t.categoryMapping={service_availability:1,performance:2,fault_tolerance:3,security:4},c=e=>{let{data:t,index:a,x:l,y:r,style:i}=e;const s=t[a],{name:u,count:c,tags:m}=s;return n.default.createElement("text",{x:l,y:r,style:i,dy:5,"data-testid":"titleComponent"},n.default.createElement("tspan",{x:l,y:r},u,":"," ",n.default.createElement("a",{href:`${o.advisorBaseName}/recommendations?category=${d[m]}`,className:"enabled-link","data-testid":m},c)))};c.propTypes={data:r.default.array,index:r.default.number,x:r.default.number,y:r.default.number,style:r.default.object};const m=e=>{let{tagHits:t,groups:a}=e;const l=(0,u.groupTagHitsByGroups)(t,[...a]),r=Object.values(l).reduce(((e,t)=>{let{count:a}=t;return e+a}),0);return n.default.createElement(s.Flex,{className:"ocm-insights--groups-chart",direction:{default:"column"}},n.default.createElement(s.FlexItem,null,n.default.createElement(s.Title,{size:"lg",headingLevel:"h2"},"Recommendations by category")),n.default.createElement(s.FlexItem,null,n.default.createElement(i.ChartPie,{labelRadius:25,ariaTitle:"Categories statistics",constrainToVisibleArea:!0,data:Object.entries(l).map((e=>{let[t,a]=e;return{x:t,y:a.count}})),width:400,height:120,padding:{bottom:30,left:0,right:300,top:10},labels:e=>{let{datum:t}=e;return 0===parseInt(t.y,10)||0===r?"":`${(parseInt(t.y,10)/r*100).toFixed()}%`},legendData:Object.entries(l).map((e=>{let[t,{count:a,tags:l}]=e;return{name:t,count:a,tags:l,symbol:{type:"circle"}}})),legendPosition:"right",legendAllowWrap:!0,legendComponent:n.default.createElement(i.ChartLegend,{labelComponent:n.default.createElement(c,null),height:100,width:300,itemsPerRow:2,orientation:"horizontal",className:"pf-m-redhat-font",style:{labels:{fontSize:12}},gutter:30})})))};m.propTypes={tagHits:r.default.object.isRequired,groups:r.default.array.isRequired},t.default=m},96373:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(97419),o=a(69304),u=a(53350),d=l(a(42601));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function m(e){let{riskHits:t}=e;return r.default.createElement(s.Flex,{className:"ocm-insights--risk-chart",direction:{default:"column"}},r.default.createElement(s.FlexItem,{spacer:{default:"spacerLg"}},r.default.createElement(s.Title,{className:"ocm-insights--risk-chart__title",size:"lg",headingLevel:"h2"},"Advisor recommendations by severity"),r.default.createElement(d.default,null)),r.default.createElement(s.FlexItem,{className:"ocm-insights--risk-chart__items",spacer:{default:"spacerLg"}},r.default.createElement(s.Flex,{justifyContent:{default:"justifyContentFlexStart"},fullWidth:{default:"50%"},spaceItems:{sm:"spaceItemsXl",md:"spaceItemsLg",lg:"spaceItems2xl","2xl":"spaceItems4xl"}},Object.entries(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({1:0,2:0,3:0,4:0},t)).reverse().map((e=>{let[t,a]=e;return r.default.createElement(s.FlexItem,{className:"ocm-insights--items__risk-item","data-testid":"ocm-insights--items__risk-item",key:t},r.default.createElement(s.Flex,{direction:{default:"column"},alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsNone"}},r.default.createElement(s.FlexItem,{className:"ocm-insights--risk-item__count"},r.default.createElement(s.Title,{size:"2xl",headingLevel:"h1"},r.default.createElement("a",{href:`${o.advisorBaseName}/recommendations?total_risk=${t}`},a))),r.default.createElement(s.FlexItem,{className:"ocm-insights--risk-item__label"},(0,u.getSeverityName)(t))))})))))}t.default=m,m.propTypes={riskHits:i.default.object.isRequired}},42601:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(97419),i=a(31358),s=a(33243),o=l(a(65702)),u=l(a(8888));t.default=()=>n.default.createElement(r.Popover,{className:"ocm-insights--info-popover","aria-label":"What is Insights?",position:"left",maxWidth:"25rem",enableFlip:!0,bodyContent:n.default.createElement(n.default.Fragment,null,n.default.createElement("p",null,"Insights identifies and prioritizes risks to security, performance, availability, and stability of your clusters."),n.default.createElement("p",null,"This feature uses the Remote Health functionality of OpenShift Container Platform. For further details about Insights, see the"," ",n.default.createElement(u.default,{href:o.default.REMOTE_HEALTH_INSIGHTS},"OpenShift documentation"),"."))},n.default.createElement(r.Icon,{className:"ocm-insights--info-popover__icon"},n.default.createElement(i.HelpIcon,{color:s.global_Color_dark_200.value})))},97953:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(97419),s=a(69304),o=a(20899),u=l(a(85484)),d=l(a(76149)),c=l(a(96373));a(54486);const m=e=>{let{overview:t}=e;return n.default.createElement(i.Card,{className:"ocm-insights--advisor-card",ouiaId:"insightsAdvisor"},n.default.createElement(i.CardBody,{className:"ocm-insights--advisor-card__body"},t.clusters_hit&&0!==t.clusters_hit?n.default.createElement(n.default.Fragment,null,n.default.createElement(c.default,{riskHits:t.hit_by_risk}),n.default.createElement(d.default,{tagHits:t.hit_by_tag,groups:o.INSIGHTS_RULE_CATEGORIES}),n.default.createElement("a",{href:s.advisorBaseName,style:{marginTop:"1rem"}},"View more in Insights Advisor")):n.default.createElement(u.default,null)))};t.default=m,m.propTypes={overview:r.default.object.isRequired}},10876:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(58156)),r=a(73729),i=a(24239),s=a(23557),o=a(30997),u=a(56540),d=a(2479),c=a(22916),m=a(53383),p=l(a(83964));const f={fetchClusters:i.fetchClusters,getSummaryDashboard:o.getSummaryDashboard,getUnhealthyClusters:o.getUnhealthyClusters,getUserAccess:s.getUserAccess,invalidateSubscriptions:u.invalidateSubscriptions,fetchOrganizationInsights:m.fetchOrganizationInsights,getOrganizationAndQuota:d.getOrganizationAndQuota};t.A=(0,r.connect)((e=>({summaryDashboard:e.dashboards.summary,unhealthyClusters:e.dashboards.unhealthyClusters,viewOptions:e.viewOptions[c.viewConstants.OVERVIEW_VIEW],clusters:e.clusters.clusters,insightsOverview:e.insightsData.overview,userAccess:e.cost.userAccess,organization:e.userProfile.organization,totalClusters:(0,n.default)(e.dashboards.summary,"metrics.clusters_total[0].value",0),totalConnectedClusters:(0,n.default)(e.dashboards.summary,"metrics.connected_clusters_total[0].value",0),totalUnhealthyClusters:(0,n.default)(e.dashboards.summary,"metrics.unhealthy_clusters_total[0].value",0),totalCPU:(0,n.default)(e.dashboards.summary,"metrics.sum_total_cpu[0]",{value:0}),usedCPU:(0,n.default)(e.dashboards.summary,"metrics.sum_used_cpu[0]",{value:0}),totalMem:(0,n.default)(e.dashboards.summary,"metrics.sum_total_memory[0]",{value:0}),usedMem:(0,n.default)(e.dashboards.summary,"metrics.sum_used_memory[0]",{value:0}),upToDate:(0,n.default)(e.dashboards.summary,"metrics.clusters_up_to_date_total[0]",{value:0}),upgradeAvailable:(0,n.default)(e.dashboards.summary,"metrics.clusters_upgrade_available_total[0]",{value:0})})),f)(p.default)},88423:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(39972));t.A=n.default},17197:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(97419),o=a(47652),u=a(69304),d=a(33366),c=l(a(7691)),m=l(a(8888)),p=l(a(83642)),f=l(a(92644)),E=l(a(54352)),g=l(a(65702)),v=l(a(99432)),h=a(72356),b=a(34168);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}a(16418);const _={icon:r.default.createElement("img",{src:v.default,alt:"OpenShift"}),learnMoreLink:r.default.createElement(m.default,{href:g.default.WHAT_IS_ROSA},"Learn more about ROSA"),title:"Red Hat OpenShift Service on AWS (ROSA)",text:"Quickly build, deploy, and scale applications with our fully-managed turnkey application platform.",iconCardBodyClassName:"rosa-aws-redhat-vertical-logo"},C=()=>{const e="/overview/rosa/hands-on",t=(0,r.useCallback)((t=>r.default.createElement(u.Link,(0,n.default)({},t,{to:e}))),[]);return r.default.createElement(s.Card,{style:{height:"100%"}},r.default.createElement(s.CardHeader,null,r.default.createElement(s.CardTitle,null,r.default.createElement(s.Title,{headingLevel:"h3"},"Want a preview of ROSA?"))),r.default.createElement(s.CardBody,null,"Access a no-cost, hands-on Red Hat OpenShift Service on AWS experience."),r.default.createElement(s.CardFooter,null,r.default.createElement(p.default,{isButton:!0,variant:"secondary",component:t,size:"lg",to:e},"Try it")))},y=()=>r.default.createElement(s.Stack,{hasGutter:!0},r.default.createElement("span",null,r.default.createElement("img",{src:E.default,alt:"Red Hat Icon",style:{height:"3em",width:"5em"}})),r.default.createElement(s.Divider,null),r.default.createElement(f.default,{height:"2.5em",width:"5em"})),I=e=>{let{items:t}=e;return r.default.createElement(s.Card,null,r.default.createElement(s.List,{isPlain:!0,isBordered:!0},t.map((e=>{let{title:t,contents:a}=e;return r.default.createElement(s.ListItem,{className:"rosa-expandable-list-item",key:t},r.default.createElement(s.ExpandableSection,{className:"rosa-expandable-section",toggleContent:r.default.createElement(s.Text,{component:s.TextVariants.h3},t),displaySize:"lg"},a))}))))};I.propTypes={items:i.default.arrayOf(i.default.shape({title:i.default.node,contents:i.default.node}))};const A=[{title:"Self-service deployment",contents:"Create fully-managed OpenShift clusters in minutes so you can get up and running quickly."},{title:"Seamless integration with other AWS services",contents:"A native AWS service accessed on demand from the AWS Management Console. Take advantage of seamless integration with other AWS cloud native services."},{title:"Maximum availability",contents:"Deploy clusters across multiple Availability Zones in supported regions to maximize availability."}],R=[{title:"Deploy applications where they need to be",contents:"Red Hat OpenShift Service on AWS delivers the production-ready application platform that many enterprises already use on-premises, simplifying the ability to shift workloads to the AWS public cloud as business needs dictate."},{title:"Flexible consumption-based pricing",contents:"Scale as per your business needs and pay as you go with flexible pricing with an on-demand hourly or annual billing model."},{title:"Fully-managed service",contents:"Fully-managed OpenShift service, backed by a global Site Reliability Engineering (SRE) team and an enterprise class SLA, enabling customers to focus on applications, not managing infrastructure."}],T={cardClassName:"pf-v5-u-mb-lg",textLabelLinkItems:[{listItemText:"Product Documentation for Red Hat OpenShift Service on AWS 4",listItemLabel:r.default.createElement(s.Label,{color:"gold"},"Documentation"),listItemLink:r.default.createElement(m.default,{href:g.default.ROSA_CP_DOCS},"Learn More")},{listItemText:"Red Hat OpenShift Service on AWS quickstart guide",listItemLabel:r.default.createElement(s.Label,{color:"green"},"Quickstart"),listItemLink:r.default.createElement(m.default,{href:g.default.ROSA_QUICKSTART},"Learn More")},{listItemText:"Troubleshooting installations",listItemLabel:r.default.createElement(s.Label,{color:"gold"},"Documentation"),listItemLink:r.default.createElement(m.default,{href:g.default.ROSA_TROUBLESHOOTING_INSTALLATIONS},"Learn More")},{listItemText:"Red Hat OpenShift Service on AWS service definition",listItemLabel:r.default.createElement(s.Label,{color:"gold"},"Documentation"),listItemLink:r.default.createElement(m.default,{href:g.default.ROSA_DEFINITION_DOC},"Learn More")}]};t.A=function(){const e="/create/rosa/getstarted",t=(0,r.useCallback)((t=>r.default.createElement(u.Link,(0,n.default)({"data-testid":"register-cluster",to:e},t))),[]);return r.default.createElement(d.AppPage,null,r.default.createElement(b.ProductBanner,{icon:r.default.createElement(y,null),learnMoreLink:_.learnMoreLink,title:_.title,text:_.text,iconCardBodyClassName:_.iconCardBodyClassName,breadcrumbs:r.default.createElement(c.default,{path:[{label:"Overview",path:"/overview"},{label:"Red Hat OpenShift Service on AWS (ROSA)"}]})}),r.default.createElement(s.PageSection,null,r.default.createElement(s.TextContent,{className:"pf-v5-u-mb-lg"},r.default.createElement(s.Title,{headingLevel:"h2"},"Get started with ROSA")),r.default.createElement(s.Flex,null,r.default.createElement(s.FlexItem,{flex:{default:"flex_1"}},r.default.createElement(s.Card,null,r.default.createElement(s.Flex,{justifyContent:{default:"justifyContentSpaceBetween"}},r.default.createElement(s.FlexItem,null,r.default.createElement(s.CardHeader,null,r.default.createElement(s.CardTitle,null,r.default.createElement(s.Title,{headingLevel:"h3"},r.default.createElement(s.Icon,{size:"md"},r.default.createElement(o.CubeIcon,{className:"pf-v5-u-mr-sm rosa-cube-icon"})),"Create a ROSA cluster"))),r.default.createElement(s.CardBody,null,"Get back to focusing on your application when you build a ROSA cluster. We'll manage and maintain the cluster for you."),r.default.createElement(s.CardFooter,null,r.default.createElement(s.Flex,null,r.default.createElement(s.FlexItem,null,r.default.createElement(p.default,{isButton:!0,"data-testid":"register-cluster",variant:"primary",to:e,size:"lg",component:t},"Begin setup")))))))),r.default.createElement(s.FlexItem,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfStretch"}},r.default.createElement(C,null))),r.default.createElement(s.Title,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",headingLevel:"h2"},"Benefits"),r.default.createElement(I,{items:A}),r.default.createElement(s.Title,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",headingLevel:"h2"},"Features"),r.default.createElement(I,{items:R}),r.default.createElement(s.Title,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",headingLevel:"h2"},"Pricing"),r.default.createElement(s.Flex,null,r.default.createElement(s.FlexItem,{flex:{default:"flex_1"}},r.default.createElement(s.Card,null,r.default.createElement(s.Flex,{justifyContent:{default:"justifyContentSpaceBetween"}},r.default.createElement(s.FlexItem,null,r.default.createElement(s.CardHeader,null,r.default.createElement(s.CardTitle,null,r.default.createElement(s.Title,{headingLevel:"h3"},"Cost Component 1: ROSA service fees"))),r.default.createElement(s.CardBody,null,"Accrue on demand at an hourly rate per 4 vCPU used by worker nodes. Annual contracts are also available for further discounts. ROSA service fees are uniform across all supported regions."))))),r.default.createElement(s.FlexItem,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfStretch"}},r.default.createElement(s.Card,{isFullHeight:!0},r.default.createElement(s.Flex,{justifyContent:{default:"justifyContentSpaceBetween"}},r.default.createElement(s.FlexItem,null,r.default.createElement(s.CardHeader,null,r.default.createElement(s.CardTitle,null,r.default.createElement(s.Title,{headingLevel:"h3"},"Cost Component 2: AWS infrastructure fees"))),r.default.createElement(s.CardBody,null,"Includes fees for the underlying worker nodes, infrastructure nodes, control plane nodes, storage, and network.")))))),r.default.createElement("div",{className:"pf-v5-u-mt-md"},r.default.createElement(m.default,{href:g.default.ROSA_PRICING},"Learn more about pricing")),r.default.createElement(s.Title,{headingLevel:"h2",className:"pf-v5-u-mt-lg pf-v5-u-mb-lg"},"Recommended content"),r.default.createElement(h.ListTextLabelLinkCard,T)))}},42045:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.setOfflineToken=t.normalizeSTSUsersByAWSAccounts=t.normalizeAWSAccountRoles=t.getUserRole=t.getUserOidcConfigurations=t.getOCMRole=t.getAWSIDsFromARNs=t.getAWSBillingAccountIDs=t.getAWSAccountRolesARNs=t.getAWSAccountIDs=t.clearGetUserRoleResponse=t.clearGetOcmRoleResponse=t.clearGetAWSAccountRolesARNsResponse=t.clearGetAWSAccountIDsResponse=void 0;var n=l(a(43693)),r=l(a(91847)),i=a(98229),s=a(9269),o=a(66152),u=a(73410);const d=["type","arn","roleVersion"];function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const p=e=>{const t=e.map(s.extractAWSID);return[...new Set(t)]};t.getAWSIDsFromARNs=p;const f=e=>{if(void 0===e||0===e.length)return[];const t=e.split(",").map((e=>({aws_id:(0,s.extractAWSID)(e),sts_user:e.substr(e.indexOf(":role/")+6)})));return[...new Set(t)]};t.normalizeSTSUsersByAWSAccounts=f;const E=(e,t)=>e.reduce(((e,t)=>{let{type:a,arn:l,roleVersion:n}=t,i=(0,r.default)(t,d);return m(m(m({},e),i),{},{version:n,[a]:l})}),{prefix:t}),g=e=>{const t=[];return((null==e?void 0:e.items)||[]).forEach((e=>{if(e.items&&e.items.length>1){const a=[],l=[];e.items.forEach((e=>{e.hcpManagedPolicies||e.managedPolicies?a.push(e):l.push(e)})),a.length&&t.push(E(a,e.prefix)),l.length&&t.push(E(l,e.prefix))}})),t};t.normalizeAWSAccountRoles=g,t.getAWSBillingAccountIDs=e=>t=>t({type:o.GET_AWS_BILLING_ACCOUNTS,payload:u.accountsService.getOrganizationQuota(e).then((e=>e.data&&e.data.items?(0,i.getAwsBillingAccountsFromQuota)(e.data.items):[]))}),t.getAWSAccountIDs=e=>t=>t({type:o.LIST_ASSOCIATED_AWS_IDS,payload:u.accountsService.getOrganizationLabels(e).then((e=>{var t,a;if(!e.data||!e.data.items)return[];const l=null!==(t=null===(a=e.data.items.filter((e=>"sts_ocm_role"===e.key))[0])||void 0===a?void 0:a.value)&&void 0!==t?t:"",n=""===l?[]:l.split(",");return p(n)}))}),t.getAWSAccountRolesARNs=e=>t=>{const a=[];t({type:o.GET_AWS_ACCOUNT_ROLES_ARNS,payload:u.accountsService.getAWSAccountARNs(e).then((e=>e.data&&e.data.items?g(e.data):a))})},t.getOCMRole=e=>t=>{t({type:o.GET_OCM_ROLE,payload:u.accountsService.getOCMRole(e).then((e=>null==e?void 0:e.data))})};const v=async()=>{var e;const t=await u.accountsService.getCurrentAccount(),a=await u.accountsService.getUserRole(null==t||null===(e=t.data)||void 0===e?void 0:e.id);return f(null==a?void 0:a.data.value)};t.getUserRole=()=>({type:o.GET_USER_ROLE,payload:v()}),t.getUserOidcConfigurations=e=>({type:o.LIST_USER_OIDC_CONFIGURATIONS,payload:u.clusterService.getOidcConfigurations(e).then((e=>{var t,a;return null!==(t=null==e||null===(a=e.data)||void 0===a?void 0:a.items)&&void 0!==t?t:[]}))}),t.clearGetAWSAccountIDsResponse=()=>({type:o.CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE}),t.clearGetAWSAccountRolesARNsResponse=()=>({type:o.CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE}),t.clearGetOcmRoleResponse=()=>({type:o.CLEAR_GET_OCM_ROLE_RESPONSE}),t.clearGetUserRoleResponse=()=>({type:o.CLEAR_GET_USER_ROLE_RESPONSE}),t.setOfflineToken=e=>({type:o.SET_OFFLINE_TOKEN,payload:e})},9308:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(43693)),r=a(89407),i=a(89217),s=a(66152),o=a(95762);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={getAWSAccountIDsResponse:d({},o.baseRequestState),getAWSAccountRolesARNsResponse:d({},o.baseRequestState),getOCMRoleResponse:d({},o.baseRequestState),getUserRoleResponse:d({},o.baseRequestState),getAWSBillingAccountsResponse:d({},o.baseRequestState),offlineToken:void 0};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,o.PENDING_ACTION)(s.LIST_ASSOCIATED_AWS_IDS):e.getAWSAccountIDsResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(s.LIST_ASSOCIATED_AWS_IDS):e.getAWSAccountIDsResponse=d(d({},o.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,o.REJECTED_ACTION)(s.LIST_ASSOCIATED_AWS_IDS):e.getAWSAccountIDsResponse=d(d(d({},o.baseRequestState),(0,i.getErrorState)(t)),{},{data:{}});break;case(0,o.PENDING_ACTION)(s.GET_AWS_ACCOUNT_ROLES_ARNS):e.getAWSAccountRolesARNsResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(s.GET_AWS_ACCOUNT_ROLES_ARNS):e.getAWSAccountRolesARNsResponse=d(d({},o.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,o.REJECTED_ACTION)(s.GET_AWS_ACCOUNT_ROLES_ARNS):e.getAWSAccountRolesARNsResponse=d(d(d({},o.baseRequestState),(0,i.getErrorState)(t)),{},{data:{}});break;case(0,o.PENDING_ACTION)(s.GET_AWS_BILLING_ACCOUNTS):e.getAWSBillingAccountsResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(s.GET_AWS_BILLING_ACCOUNTS):e.getAWSBillingAccountsResponse=d(d({},o.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,o.REJECTED_ACTION)(s.GET_AWS_BILLING_ACCOUNTS):e.getAWSBillingAccountsResponse=d(d(d({},o.baseRequestState),(0,i.getErrorState)(t)),{},{data:{}});break;case(0,o.PENDING_ACTION)(s.GET_OCM_ROLE):e.getOCMRoleResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(s.GET_OCM_ROLE):e.getOCMRoleResponse=d(d({},o.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,o.REJECTED_ACTION)(s.GET_OCM_ROLE):e.getOCMRoleResponse=d(d(d({},o.baseRequestState),(0,i.getErrorState)(t)),{},{data:{}});break;case(0,o.PENDING_ACTION)(s.GET_USER_ROLE):e.getUserRoleResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(s.GET_USER_ROLE):e.getUserRoleResponse=d(d({},o.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,o.REJECTED_ACTION)(s.GET_USER_ROLE):e.getUserRoleResponse=d(d(d({},o.baseRequestState),(0,i.getErrorState)(t)),{},{data:{}});break;case s.CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE:e.getAWSAccountRolesARNsResponse=d({},o.baseRequestState);break;case s.CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE:e.getAWSAccountIDsResponse=d({},o.baseRequestState);break;case s.CLEAR_GET_OCM_ROLE_RESPONSE:e.getOCMRoleResponse=d(d({},o.baseRequestState),{},{data:{}});break;case s.CLEAR_GET_USER_ROLE_RESPONSE:e.getUserRoleResponse=d(d({},o.baseRequestState),{},{data:{}});break;case s.SET_OFFLINE_TOKEN:e.offlineToken=t.payload}}))}m.initialState=c,t.Ay=m},73495:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345));a(76104),t.A=()=>n.default.createElement("svg",{role:"img",title:"GCP",xmlns:"http://www.w3.org/2000/svg",height:".9em",id:"Art",version:"1.1",viewBox:"-1348.0212 -351.96825 11682.8504 2111.8095"},n.default.createElement("style",{id:"style696",type:"text/css"}),n.default.createElement("g",{transform:"translate(.008 -.004)",id:"g730"},n.default.createElement("g",{id:"g710"},n.default.createElement("path",{id:"path702",d:"M1057.1 369.2h50.8l144.8-144.8 7.1-61.5C990.3-75 579-49.3 341.1 220.2 275 295 227.1 384.1 200.9 480.5c16.1-6.6 34-7.7 50.8-3l289.6-47.8s14.7-24.4 22.4-22.9c128.8-141.5 345.6-158 494.4-37.6z",fill:"#ea4335"}),n.default.createElement("path",{id:"path704",d:"M1459 480.5c-33.3-122.6-101.6-232.8-196.6-317l-203.2 203.2c85.8 70.1 134.7 175.8 132.6 286.6v36.1c99.9 0 180.9 81 180.9 180.9s-81 180.9-180.9 180.9H830l-36.1 36.6v217l36.1 36.1h361.8c259.8 2 472.1-207 474.1-466.8 1.2-157.8-76.5-305.4-206.9-393.6z",fill:"#4285f4"}),n.default.createElement("path",{id:"path706",d:"M467.7 1338.6h361.8V1049H467.7c-25.8 0-51.2-5.6-74.7-16.3l-50.8 15.8-145.8 144.8-12.7 50.8c81.7 61.8 181.5 95 284 94.5z",fill:"#34a853"}),n.default.createElement("path",{id:"path708",d:"M467.7 399.2C207.8 400.7-1.5 612.6 0 872.5c.9 145.1 68.6 281.7 183.7 370.1l209.8-209.8c-91-41.1-131.5-148.3-90.4-239.3 41.1-91 148.3-131.5 239.3-90.4 40.1 18.1 72.2 50.3 90.4 90.4l209.8-209.8c-89.2-116.8-228-185.1-374.9-184.5z",fill:"#fbbc05"})),n.default.createElement("g",{id:"g728"},n.default.createElement("g",{id:"g714"},n.default.createElement("path",{id:"path712",d:"M2629.1 1136.4c-125.9 1.6-246.9-48.1-335.3-137.7-91.3-85.8-142.3-206-140.7-331.3-1.5-125.3 49.5-245.4 140.7-331.3 88-90.5 209.1-141.2 335.3-140.2 120.2-1.6 236.1 45.1 321.6 129.6l-90.4 92c-61.9-59.9-145.1-92.7-231.2-91.5-90.3-1.1-177 35.8-238.8 101.6-64.2 63.7-99.6 150.9-98.1 241.3-.8 89.4 34.6 175.3 98.1 238.3 130.8 130.4 341.7 132.9 475.6 5.6 39.9-43.6 64.3-99.2 69.6-158h-304.9v-130H3062c4.2 26.2 5.9 52.7 5.1 79.3 5.4 110.9-34.8 219.2-111.3 299.8-85.1 88.5-203.9 136.7-326.7 132.5zm1003-86.4c-120.3 115.3-310.1 115.3-430.4 0-58.3-56.5-90.1-134.8-87.9-215.9-2.2-81.1 29.7-159.4 87.9-215.9 120.4-115 310-115 430.4 0 58.2 56.5 90.1 134.8 87.9 215.9 2.1 81.2-30 159.5-88.4 215.9zm-335.4-84.8c62.1 66.4 166.3 69.8 232.7 7.6 2.6-2.5 5.2-5 7.6-7.6 33.9-35.1 52.2-82.3 50.8-131.1 1.5-48.9-16.8-96.4-50.8-131.6-63.9-66.6-169.7-68.9-236.4-5-1.7 1.6-3.4 3.3-5 5-34 35.2-52.3 82.7-50.8 131.6-1.3 48.8 17.2 96.1 51.3 131.1zm996.9 84.8c-120.3 115.3-310.1 115.3-430.4 0-58.3-56.5-90.1-134.8-87.9-215.9-2.2-81.1 29.7-159.4 87.9-215.9 120.3-115.3 310.1-115.3 430.4 0 58.2 56.5 90.1 134.8 87.9 215.9 2.3 81.1-29.6 159.4-87.9 215.9zm-335.3-84.8c62.1 66.4 166.3 69.8 232.7 7.6 2.6-2.5 5.2-5 7.6-7.6 33.9-35.1 52.2-82.3 50.8-131.1 1.5-48.9-16.8-96.4-50.8-131.6-63.9-66.6-169.7-68.9-236.3-5-1.7 1.6-3.4 3.3-5 5-34 35.2-52.3 82.7-50.8 131.6-1.3 48.8 17.2 96.1 51.3 131.1zm770.2 442.5c-60.9 1.9-120.6-17.1-169.2-53.9a311.85 311.85 0 01-98.6-125l115.8-48.3c12.6 29.6 32.3 55.6 57.4 75.7 26.8 21.6 60.5 33 95 32 44.2 2.7 87.4-14 118.4-45.7 30.6-36.9 45.7-84.3 42.2-132.1v-43.7h-4.6c-39.3 46.6-98.2 72-159 68.6-77.1.2-150.8-31.8-203.2-88.4-56.8-56.1-88.2-133-86.9-212.9-1.4-80.3 30-157.7 86.9-214.4 52.3-56.8 126-89.1 203.2-88.9 32.3-.1 64.3 7.1 93.5 20.8 25.3 11 47.8 27.5 66.1 48.3h4.6v-48.3h126v541.1c6.7 86.5-22.5 172-80.8 236.3-55.5 53.1-130 81.5-206.8 78.8zm9.2-390.2c43.9 1 86-17.7 114.8-50.8 31.3-35.9 47.9-82.4 46.2-130.1 1.9-48.5-14.6-95.8-46.2-132.6-28.8-33.2-70.9-51.8-114.8-50.8-45.1-.9-88.4 17.6-118.9 50.8-33.6 35.5-51.9 82.8-50.8 131.6-1 48.4 17.2 95.2 50.8 130.1 30.3 33.5 73.6 52.4 118.9 51.8zM5240.2 230v888.1h-132.6V230zm363.8 906.4c-80.3 2.1-157.8-29.4-213.9-86.9-56.9-57-88-134.9-85.9-215.4-3-80.7 26.9-159.2 82.8-217.5 52.8-55.6 126.6-86.4 203.2-84.9 34.9-.4 69.4 6.4 101.6 19.8 29 11.7 55.4 29 77.7 50.8 19.2 18.5 36.2 39.1 50.8 61.5 11.8 18.9 21.8 38.8 30 59.4l13.7 34.6L5457.6 925c25.2 57.8 83.3 94.2 146.3 91.5 60.9.2 117.4-31.7 148.9-83.8l101.6 68.6a333.72 333.72 0 01-97.6 92.5c-45.6 28.8-98.8 43.6-152.8 42.6zm-169.7-311.5l270.3-112.3c-8.3-19.8-23.2-36.1-42.2-46.2-21.2-12-45.2-18.1-69.6-17.8-41.3 1.1-80.6 18.4-109.2 48.3-34.7 33.2-52.8 80.1-49.3 128z",className:"st4"})),n.default.createElement("g",{id:"g726"},n.default.createElement("path",{id:"path716",d:"M6558.7 1136.4c-231.2 4-421.8-180.2-425.8-411.4-.1-5.6-.1-11.3.1-16.9-5.4-231.2 177.7-422.9 408.8-428.3 5.6-.1 11.3-.1 16.9-.1 115.6-3.6 226.6 45.8 301.3 134.1l-73.2 71.1c-54.9-69.1-139.5-107.8-227.6-104.2-84.5-1.9-166.2 30.8-226.1 90.4-62.3 62.7-95.6 148.5-92 236.8-3.7 88.3 29.7 174.1 92 236.8 59.9 59.7 141.6 92.3 226.1 90.4 98.4 1.1 191.9-42.7 254-118.9l73.2 73.2c-38.3 45.8-86.4 82.4-140.7 107.2-58.6 27.2-122.5 40.8-187 39.8z",className:"st4"}),n.default.createElement("path",{id:"path718",d:"M7083 1118.1h-105.2V297.5H7083z",className:"st4"}),n.default.createElement("path",{id:"path720",d:"M7254.8 624.2c114.7-113.9 299.9-113.9 414.6 0 54.4 57.5 83.7 134.3 81.3 213.4 2.4 79.1-26.9 155.9-81.3 213.4-114.7 113.9-299.9 113.9-414.6 0-54.4-57.5-83.7-134.3-81.3-213.4-2.4-79.1 26.8-155.9 81.3-213.4zM7333 985c67.3 71.1 179.5 74.2 250.7 6.9 2.4-2.2 4.7-4.6 6.9-6.9 37.1-39.8 56.7-92.9 54.4-147.3 2.4-54.4-17.2-107.5-54.4-147.3-67.3-71.1-179.5-74.2-250.7-6.9-2.4 2.2-4.7 4.6-6.9 6.9-37.1 39.8-56.7 92.9-54.4 147.3-2.1 54.3 17.7 107.2 54.9 146.8z",className:"st4"}),n.default.createElement("path",{id:"path722",d:"M8333.4 1118.1h-101.6v-77.7h-3c-18.1 29.5-43.7 53.7-74.2 70.1-31.6 18.3-67.6 28-104.2 27.9-60.2 4.1-118.9-19.5-159.5-64-38.5-48.7-57.8-109.8-54.4-171.7V557.2h105.2v326.2c0 104.7 46.2 157 138.7 157 41.7 1.3 81.4-17.6 106.7-50.8 27.3-34.5 41.8-77.4 41.2-121.4v-311h105.2v560.9z",className:"st4"}),n.default.createElement("path",{id:"path724",d:"M8690.6 1136.4c-72.2.2-140.9-31.1-188-85.9-52.7-58.2-80.9-134.4-78.8-212.9-2.1-78.5 26.1-154.7 78.8-212.9 47.1-54.7 115.8-86.1 188-85.9 40-.6 79.5 8.8 114.8 27.4 31.1 15.6 57.4 39.3 76.2 68.6h4.6l-4.6-77.7V297.5h105.2v820.6h-101.6v-77.7h-4.6c-18.8 29.3-45.1 53-76.2 68.6-35 18.4-74.1 27.9-113.8 27.4zm17.3-96c48.1.7 94.2-19.3 126.5-54.9 35.7-40.7 54-93.8 50.8-147.9 3.2-54-15.1-107.2-50.8-147.9-63.8-70.2-172.4-75.3-242.6-11.4-4 3.6-7.8 7.5-11.4 11.4-35.8 40.4-54.1 93.4-50.8 147.3-3.3 53.9 15 106.9 50.8 147.3 32.4 36.4 78.9 56.8 127.5 56.1z",className:"st4"})))))},29:(e,t,a)=>{"use strict";a.r(t)},22608:(e,t,a)=>{"use strict";a.r(t)},95718:(e,t,a)=>{"use strict";a.r(t)},56839:(e,t,a)=>{"use strict";a.r(t)},57387:(e,t,a)=>{"use strict";a.r(t)},561:(e,t,a)=>{"use strict";a.r(t)},52285:(e,t,a)=>{"use strict";a.r(t)},2664:(e,t,a)=>{"use strict";a.r(t)},90637:(e,t,a)=>{"use strict";a.r(t)},209:(e,t,a)=>{"use strict";a.r(t)},11693:(e,t,a)=>{"use strict";a.r(t)},2813:(e,t,a)=>{"use strict";a.r(t)},62663:(e,t,a)=>{"use strict";a.r(t)},27966:(e,t,a)=>{"use strict";a.r(t)},27127:(e,t,a)=>{"use strict";a.r(t)},22407:(e,t,a)=>{"use strict";a.r(t)},60687:(e,t,a)=>{"use strict";a.r(t)},46181:(e,t,a)=>{"use strict";a.r(t)},20524:(e,t,a)=>{"use strict";a.r(t)},53790:(e,t,a)=>{"use strict";a.r(t)},64180:(e,t,a)=>{"use strict";a.r(t)},27722:(e,t,a)=>{"use strict";a.r(t)},77434:(e,t,a)=>{"use strict";a.r(t)},93021:(e,t,a)=>{"use strict";a.r(t)},74446:(e,t,a)=>{"use strict";a.r(t)},84900:(e,t,a)=>{"use strict";a.r(t)},3707:(e,t,a)=>{"use strict";a.r(t)},9008:(e,t,a)=>{"use strict";a.r(t)},48646:(e,t,a)=>{"use strict";a.r(t)},68772:(e,t,a)=>{"use strict";a.r(t)},6469:(e,t,a)=>{"use strict";a.r(t)},23184:(e,t,a)=>{"use strict";a.r(t)},55233:(e,t,a)=>{"use strict";a.r(t)},66350:(e,t,a)=>{"use strict";a.r(t)},75027:(e,t,a)=>{"use strict";a.r(t)},50639:(e,t,a)=>{"use strict";a.r(t)},5165:(e,t,a)=>{"use strict";a.r(t)},48960:(e,t,a)=>{"use strict";a.r(t)},16849:(e,t,a)=>{"use strict";a.r(t)},68410:(e,t,a)=>{"use strict";a.r(t)},48346:(e,t,a)=>{"use strict";a.r(t)},3468:(e,t,a)=>{"use strict";a.r(t)},21477:(e,t,a)=>{"use strict";a.r(t)},4644:(e,t,a)=>{"use strict";a.r(t)},42749:(e,t,a)=>{"use strict";a.r(t)},90016:(e,t,a)=>{"use strict";a.r(t)},75485:(e,t,a)=>{"use strict";a.r(t)},46731:(e,t,a)=>{"use strict";a.r(t)},22417:(e,t,a)=>{"use strict";a.r(t)},588:(e,t,a)=>{"use strict";a.r(t)},17404:(e,t,a)=>{"use strict";a.r(t)},99222:(e,t,a)=>{"use strict";a.r(t)},28842:(e,t,a)=>{"use strict";a.r(t)},82240:(e,t,a)=>{"use strict";a.r(t)},62804:(e,t,a)=>{"use strict";a.r(t)},24267:(e,t,a)=>{"use strict";a.r(t)},58130:(e,t,a)=>{"use strict";a.r(t)},66227:(e,t,a)=>{"use strict";a.r(t)},48475:(e,t,a)=>{"use strict";a.r(t)},95461:(e,t,a)=>{"use strict";a.r(t)},54486:(e,t,a)=>{"use strict";a.r(t)},16418:(e,t,a)=>{"use strict";a.r(t)},76104:(e,t,a)=>{"use strict";a.r(t)},72432:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var l=a(93345),n=a.n(l),r=a(52260),i=a(16319),s=a.n(i),o=a(67776),u=a.n(o),d=a(8888);const c=({children:e,rehypePlugins:t})=>{const a=(0,l.useCallback)((e=>{var t;return n().createElement(d.default,{...e,href:null!==(t=e.href)&&void 0!==t?t:""},e.children)}),[]);return e?n().createElement(r.$,{className:"markdown",rehypePlugins:null!=t?t:[u(),s()],components:{a}},e):null}},9296:(e,t,a)=>{"use strict";a.r(t),a.d(t,{eventNames:()=>o,getOCMResourceType:()=>s,getTrackEvent:()=>d,ocmResourceType:()=>i,ocmResourceTypeByProduct:()=>r,trackEvents:()=>u});var l=a(65702),n=a(75166);const r=Object.fromEntries(Object.entries(n.normalizedProducts).map((([e,t])=>[e,String(t).toLowerCase()]))),i={...r,CRC:"crc",MOA:"moa",ROSA:"moa",ALL:"all"},s=e=>e in i?i[e]:void 0,o={FILE_DOWNLOADED:"File Downloaded",BUTTON_CLICKED:"Button Clicked",LINK_CLICKED:"Link Clicked",ARNS_REFRESHED:"ARNs Refreshed",CHECKBOX_CLICKED:"Checkbox Clicked",RADIOBUTTON_CLICKED:"Radiobutton Clicked",MISSING_INFORMATION:"Missing Information"},u={[l.tools.OC]:{deprecated_name:"OCP-Download-CLITools",event:o.FILE_DOWNLOADED,link_name:"ocp-cli",ocm_resource_type:i.ALL},[l.tools.BUTANE]:{deprecated_name:"Download-BUTANE-CLI",event:o.FILE_DOWNLOADED,link_name:"butane-cli",ocm_resource_type:i.ALL},[l.tools.CCOCTL]:{event:o.FILE_DOWNLOADED,link_name:"ccoctl-cli",ocm_resource_type:i.ALL},[l.tools.COREOS_INSTALLER]:{deprecated_name:"Download-CoreOSInstaller-CLI",event:o.FILE_DOWNLOADED,link_name:"coreosinstaller-cli",ocm_resource_type:i.OCP},[l.tools.CRC]:{deprecated_name:"OCP-Download-CRC",event:o.FILE_DOWNLOADED,link_name:"crc",ocm_resource_type:i.CRC},[l.tools.HELM]:{deprecated_name:"Download-HELM-CLI",event:o.FILE_DOWNLOADED,link_name:"helm-cli",ocm_resource_type:i.ALL},[l.tools.X86INSTALLER]:{deprecated_name:"OCP-Download-X86Installer",event:o.FILE_DOWNLOADED,link_name:"ocp-installer-x86",ocm_resource_type:i.OCP},[l.tools.IBMZINSTALLER]:{deprecated_name:"OCP-Download-IBMZInstaller",event:o.FILE_DOWNLOADED,link_name:"ocp-installer-ibmz",ocm_resource_type:i.OCP},[l.tools.PPCINSTALLER]:{deprecated_name:"OCP-Download-PPCInstaller",event:o.FILE_DOWNLOADED,link_name:"ocp-installer-ppc",ocm_resource_type:i.OCP},[l.tools.ARMINSTALLER]:{deprecated_name:"OCP-Download-ARMInstaller",event:o.FILE_DOWNLOADED,link_name:"ocp-installer-arm",ocm_resource_type:i.OCP},[l.tools.MULTIINSTALLER]:{event:o.FILE_DOWNLOADED,link_name:"ocp-installer-multi",ocm_resource_type:i.OCP},[l.tools.KN]:{deprecated_name:"Download-KN-CLI",event:o.FILE_DOWNLOADED,link_name:"kn-cli",ocm_resource_type:i.ALL},[l.tools.OCM]:{deprecated_name:"Download-OCM-CLI",event:o.FILE_DOWNLOADED,link_name:"ocm-cli",ocm_resource_type:i.ALL},[l.tools.ODO]:{deprecated_name:"Download-ODO-CLI",event:o.FILE_DOWNLOADED,link_name:"odo-cli",ocm_resource_type:i.ALL},[l.tools.OPERATOR_SDK]:{deprecated_name:"Download-OSDK-CLI",event:o.FILE_DOWNLOADED,link_name:"osdk-cli",ocm_resource_type:i.ALL},[l.tools.OPM]:{deprecated_name:"Download-OPM-CLI",event:o.FILE_DOWNLOADED,link_name:"opm-cli",ocm_resource_type:i.ALL},[l.tools.RHOAS]:{deprecated_name:"Download-RHOAS-CLI",event:o.FILE_DOWNLOADED,link_name:"rhoas-cli",ocm_resource_type:i.ALL},[l.tools.ROSA]:{deprecated_name:"Download-ROSA-CLI",event:o.FILE_DOWNLOADED,link_name:"rosa-cli",ocm_resource_type:i.MOA},[l.tools.MIRROR_REGISTRY]:{deprecated_name:"Download-Mirror-Registry",event:o.FILE_DOWNLOADED,link_name:"mirror-registry",ocm_resource_type:i.OCP},OCPInstallDocumentation:{deprecated_name:"OCP-Download-OfficialDocumentation",event:o.LINK_CLICKED,link_name:"ocp-install-documentation",ocm_resource_type:i.OCP},CRCInstallDocumentation:{deprecated_name:"OCP-Download-OfficialDocumentation",event:o.LINK_CLICKED,link_name:"crc-documentation",ocm_resource_type:i.CRC},CopyPullSecret:{deprecated_name:"OCP-Copy-PullSecret",event:o.BUTTON_CLICKED,link_name:"pull-secret",ocm_resource_type:i.ALL},DownloadPullSecret:{deprecated_name:"OCP-Copy-PullSecret",event:o.FILE_DOWNLOADED,link_name:"pull-secret",ocm_resource_type:i.ALL},RefreshARNs:{event:o.BUTTON_CLICKED,link_name:"refresh-arns",ocm_resource_type:i.MOA},ARNsRefreshed:{event:o.ARNS_REFRESHED,link_name:"arns-refreshed",ocm_resource_type:i.MOA},AssociateAWS:{event:o.BUTTON_CLICKED,link_name:"associate-aws",ocm_resource_type:i.MOA},ROSAWhoAmI:{event:o.BUTTON_CLICKED,link_name:"copy-rosa-whoami",ocm_resource_type:i.MOA},ROSAVerifyQuota:{event:o.BUTTON_CLICKED,link_name:"copy-rosa-verify-quota",ocm_resource_type:i.MOA},ROSALogin:{event:o.BUTTON_CLICKED,link_name:"copy-rosa-login",ocm_resource_type:i.MOA},CopyOCMRoleCreateBasic:{event:o.BUTTON_CLICKED,link_name:"copy-ocm-role-create-basic",ocm_resource_type:i.MOA},CopyCreateAccountRoles:{event:o.BUTTON_CLICKED,link_name:"copy-ocm-create-rosa-account-roles",ocm_resource_type:i.MOA},CopyOCMRoleCreateAdmin:{event:o.BUTTON_CLICKED,link_name:"copy-ocm-role-create-admin",ocm_resource_type:i.MOA},CopyOCMRoleLink:{event:o.BUTTON_CLICKED,link_name:"copy-ocm-role-link",ocm_resource_type:i.MOA},CopyUserRoleCreate:{event:o.BUTTON_CLICKED,link_name:"copy-user-role-create",ocm_resource_type:i.MOA},CopyUserRoleLink:{event:o.BUTTON_CLICKED,link_name:"copy-user-role-link",ocm_resource_type:i.MOA},CopyUserRoleList:{event:o.BUTTON_CLICKED,link_name:"copy-user-role-list",ocm_resource_type:i.MOA},InstallIntoVPC:{event:o.CHECKBOX_CLICKED,link_name:"install-into-existing-vpc"},ConfigureClusterWideProxy:{event:o.CHECKBOX_CLICKED,link_name:"configure-cluster-wide-proxy"},RosaCreationMode:{event:o.RADIOBUTTON_CLICKED,link_name:"rosa-creation-mode",ocm_resource_type:i.MOA},OCMRoleRefreshed:{event:o.BUTTON_CLICKED,link_name:"refresh-to-enable-auto-mode",ocm_resource_type:i.MOA},MissingUserRole:{event:o.MISSING_INFORMATION,link_name:"missing-user-role",ocm_resource_type:i.MOA},WizardNext:{event:o.BUTTON_CLICKED,link_name:"wizard-next"},WizardBack:{event:o.BUTTON_CLICKED,link_name:"wizard-back"},WizardSubmit:{event:o.BUTTON_CLICKED,link_name:"wizard-submit"},WizardLeave:{event:o.BUTTON_CLICKED,link_name:"wizard-leave"},WizardLinkNav:{event:o.BUTTON_CLICKED,link_name:"wizard-nav"},ExternalLink:{event:o.LINK_CLICKED,link_name:"external-link"},CopyRosaCreateCluster:{event:o.BUTTON_CLICKED,link_name:"copy-rosa-create-cluster",ocm_resource_type:i.MOA},RequestRosaHandsOnExperience:{event:o.BUTTON_CLICKED,link_name:"request-rosa-handson-experience",ocm_resource_type:i.ROSA},TryRosaHandsOnExperience:{event:o.LINK_CLICKED,link_name:"try-rosa-hands-on-internal-link"},RosaOverview:{event:o.LINK_CLICKED,link_name:"rosa-overview-internal-link"},CreateCluster:{event:o.LINK_CLICKED,link_name:"create-cluster-internal-link"},RegisterCluster:{event:o.LINK_CLICKED,link_name:"register-cluster-internal-link"},CreateClusterROSA:{event:o.LINK_CLICKED,link_name:"create-rosa-cluster-internal-link"},CreateClusterOSD:{event:o.LINK_CLICKED,link_name:"create-osd-cluster-internal-link"},CreateClusterRHOCP:{event:o.LINK_CLICKED,link_name:"create-ocp-cluster-internal-link"},GlobalSideNav:{event:o.LINK_CLICKED,link_name:"global-nav-link"}},d=(e,t={})=>{var a,l;return{event:e.event,properties:{link_name:e.link_name,...t.url&&{link_url:t.url},current_path:t.path||window.location.pathname,ocm_resource_type:null!==(l=null!==(a=t.resourceType)&&void 0!==a?a:null==e?void 0:e.ocm_resource_type)&&void 0!==l?l:i.ALL,...t.customProperties}}}},89217:(e,t,a)=>{"use strict";a.r(t),a.d(t,{BANNED_USER_CODE:()=>n,TERMS_REQUIRED_CODE:()=>r,formatErrorDetails:()=>c,getErrorMessage:()=>s,getErrorState:()=>d,getInternalErrorCode:()=>u,hasOwnErrorPage:()=>o,overrideErrorMessage:()=>i});var l=a(22916);const n="ACCT-MGMT-22",r="CLUSTERS-MGMT-451",i=(e,t)=>{var a,r,i,s;if(!e)return"";let o="";switch((null===(r=null===(a=null==e?void 0:e.details)||void 0===a?void 0:a[0])||void 0===r?void 0:r.kind)||(null===(s=null===(i=null==e?void 0:e.errorDetails)||void 0===i?void 0:i[0])||void 0===s?void 0:s.kind)){case"ExcessResources":{let e="cluster";void 0!==t&&/CLUSTER_ADDON/.test(t)&&(e="cluster add-on"),o=`You are not authorized to ${"cluster"===e&&void 0!==t&&t.includes(l.clustersConstants.EDIT_CLUSTER)?"edit":"create"} the ${e} because your request exceeds available quota.\n              In order to fulfill this request, you will need quota/subscriptions for:`;break}}return(null==e?void 0:e.code)===n&&(o="Your account has been placed on Export Hold based on export control screening.\nThe Export Compliance Team has been notified that your account is on hold, and must conduct additional due diligence to resolve the Export Hold.\nTry again in 24-48 hours.\nLearn more: https://access.redhat.com/articles/1340183"),o},s=e=>{var t;if(void 0===(null===(t=e.payload)||void 0===t?void 0:t.response))return String(e.payload);const a=e.payload.response.data;return i(a,e.type)||("Error"===(null==a?void 0:a.kind)||"Error"===(null==a?void 0:a.type)?`${a.code}:\n${a.reason}`:JSON.stringify(a))},o=e=>{var t;return(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.code)===r},u=e=>{var t;return null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.code},d=e=>{var t,a,l,n,r,i,d,c,m,p,f,E;return(null===(t=e.payload)||void 0===t?void 0:t.response)&&o(null===(a=e.payload)||void 0===a?void 0:a.response)?{fulfilled:!1,pending:!1,error:!1}:{fulfilled:!1,pending:!1,error:!0,errorCode:null===(n=null===(l=e.payload)||void 0===l?void 0:l.response)||void 0===n?void 0:n.status,internalErrorCode:(null===(r=e.payload)||void 0===r?void 0:r.response)?u(null===(i=e.payload)||void 0===i?void 0:i.response):void 0,errorMessage:s(e),errorDetails:null===(m=null===(c=null===(d=e.payload)||void 0===d?void 0:d.response)||void 0===c?void 0:c.data)||void 0===m?void 0:m.details,operationID:null===(E=null===(f=null===(p=e.payload)||void 0===p?void 0:p.response)||void 0===f?void 0:f.data)||void 0===E?void 0:E.operation_id}},c=e=>{const t=[];return e&&e.length?(e.forEach((e=>{if("ExcessResources"===e.kind){const a={addon:["addon","addons"],"cluster.aws":["cluster","clusters"],"cluster.gcp":["cluster","clusters"],"compute.node.aws":["node","nodes"],"compute.node.gcp":["node","nodes"],"pv.storage.aws":["GiB of storage","GiB of storage"],"pv.storage.gcp":["GiB of storage","GiB of storage"],"network.loadbalancer.aws":["load balancers","load balancers"],"network-gcp.loadbalancer.gcp":["load balancers","load balancers"]},l=(e,t)=>a[e]?a[e][1===t?0:1]:e;e.items?t.push(e.items.map((e=>"addon"===e.resource_type?`${e.resource_type}: ${e.resource_name}`:e.resource_type&&a[e.resource_type]?`${e.count} additional\n                  ${l(e.resource_type,e.count)} of type\n                  ${e.availability_zone_type} availability zone, instance size\n                  ${e.resource_name}.`:"An error occurred"))):t.push("Unknown resource")}else(null==e?void 0:e.items)&&["AddOnParameterOptionList","AddOnRequirementData"].includes(e.kind)?t.push(JSON.stringify(e.items,void 0,2)):Array.isArray(null==e?void 0:e.items)&&t.push(e.items.map((e=>JSON.stringify(e,void 0,2))))})),t):[]}},37979:(e,t,a)=>{"use strict";a.r(t),a.d(t,{hasExternalAuthenticationCapability:()=>l});const l=e=>!!(null==e?void 0:e.length)&&e.some((e=>"capability.organization.hcp_allow_external_authentication"===e.name&&"true"===e.value))},45436:(e,t,a)=>{"use strict";var l;a.d(t,{T:()=>n,x:()=>l}),function(e){e.SECURITY_GROUPS="securityGroups",e.AWS_SHARED_VPC="sharedVPC"}(l||(l={}));const n=(e,t)=>e===l.SECURITY_GROUPS&&(e=>{var t,a;if("aws"!==(null===(t=null==e?void 0:e.cloud_provider)||void 0===t?void 0:t.id))return!1;const l=(null===(a=null==e?void 0:e.aws)||void 0===a?void 0:a.subnet_ids)||[];return!!(null==l?void 0:l.length)})(t)},6071:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});const l=e=>{var t,a,l,n;if(!e)return"";let r=null===(t=e.subscription)||void 0===t?void 0:t.display_name;if(r&&r!==(null===(a=e.subscription)||void 0===a?void 0:a.external_cluster_id)||(r=e.name||e.external_id),void 0===r){if("Deprovisioned"===(null===(l=e.subscription)||void 0===l?void 0:l.status)){const t=null===(n=e.subscription)||void 0===n?void 0:n.id;if(t)return t}return"Unnamed Cluster"}return r}},53034:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(10135);const n=(e,t,a)=>{const n={redirect:t,cancelRedirect:a};return`${e}&${(0,l.buildUrlParams)(n)}`}},74780:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getTrialEndDate:()=>i,getTrialExpiresInDays:()=>r});var l=a(74353),n=a.n(l);const r=(e,t)=>{var a,l;let r="";if(r=t?null===(a=e.subscription)||void 0===a?void 0:a.trial_end_date:null===(l=e.subscription)||void 0===l?void 0:l.eval_expiration_date,r){const e=n()(r).diff(n()(),"day");return 0===e?"< 1 day":`${e} day${1===e?"":"s"}`}return"unknown days"},i=e=>{var t;const a=null===(t=e.subscription)||void 0===t?void 0:t.trial_end_date;return a?n().utc(a).local().format("dddd, MMMM Do YYYY, h:mm a"):"unknown date"}},93413:(e,t,a)=>{"use strict";a.r(t),a.d(t,{arrayToString:()=>f,asArray:()=>c,constructSelectedSubnets:()=>L,default:()=>N,formatMinorVersion:()=>O,getRandomID:()=>v,goZeroTime:()=>A,goZeroTime2Null:()=>R,isSupportedMinorVersion:()=>T,isValid:()=>o,multiInputToCleanArray:()=>d,noMachineTypes:()=>b,noQuotaTooltip:()=>h,nodeKeyValueTooltipText:()=>S,noop:()=>s,parseReduxFormKeyValueList:()=>y,parseReduxFormTaints:()=>I,scrollToFirstField:()=>C,secureRandomValueInRange:()=>g,shouldRefetchQuota:()=>_,strToCleanArray:()=>u,strToCleanObject:()=>E,strToKeyValueObject:()=>P,stringToArray:()=>m,stringToArrayTrimmed:()=>p,truncateTextWithEllipsis:()=>D});var l=a(62193),n=a.n(l),r=a(99589),i=a.n(r);const s=Function.prototype,o=e=>null!=e&&!1!==e&&""!==e,u=e=>e?e.split(",").map((e=>e.trim())).filter((e=>e)):void 0,d=(e,t)=>{const a=e[t];return Array.isArray(a)?a.map((e=>null==e?void 0:e[t])).filter((e=>e)).map((e=>e.trim())):[]},c=e=>Array.isArray(e)?e:[e],m=e=>e&&e.trim().split(","),p=e=>c(m(e)).map((e=>null==e?void 0:e.trim())).filter((e=>!!e)),f=e=>e&&e.join(","),E=(e,t)=>{if(!e)return{};const a=u(e),l={};return null==a||a.forEach((e=>{const[a,n]=e.split(t);l[a]=n})),l},g=(e,t)=>{const a=new Uint32Array(1);crypto.getRandomValues(a);const l=a[0]/4294967296,n=Math.ceil(e),r=Math.floor(t);return Math.floor(l*(r-n+1))+n},v=()=>`${crypto.getRandomValues(new Uint32Array(1))[0].toString(16)}`,h="You do not have enough quota for this option. Contact sales to purchase additional quota.",b="You do not have enough quota to create a cluster with the minimum required worker capacity.",S="To add an additional label, make sure all of your labels' keys are filled out (value fields are optional).",_=e=>{const t=e.timestamp,a=(new Date).getTime();return!e.pending&&(!e.fulfilled||a-t>12e4)},C=(e,t="input,select,textarea,button")=>{if(!(null==e?void 0:e.length))return!1;const a=e.map((e=>`[id="${CSS.escape(e)}"]`)).join(","),l=e.map((e=>`[id*="${CSS.escape(e)}"]`)).join(","),n=document.querySelector(a)||document.querySelector(l);if(n instanceof HTMLElement){let e=n;return t.includes(n.tagName.toLowerCase())||(e=null==n?void 0:n.querySelector(t)),setTimeout((()=>n.scrollIntoView({behavior:"smooth",block:"center"})),500),null==e||e.focus({preventScroll:!0}),!0}return!1},y=(e=[{}])=>Object.fromEntries(e.filter((({key:e})=>void 0!==e&&""!==e)).map((({key:e,value:t})=>[e,null!=t?t:""]))),I=e=>e.map((e=>e.key&&e.effect&&{key:e.key,value:null===e.value||void 0===e.value?"":e.value,effect:e.effect})).filter(Boolean),A="0001-01-01T00:00:00Z",R=e=>{if(e===A)return null;const t=Date.parse(e);return Number.isNaN(t)||t!==Date.parse(A)?e:null},T=(e,t)=>{const a=t?i().coerce(t):null;return!!a&&i().satisfies(e,`<=${i().major(a)}.${i().minor(a)}`)},O=e=>{const t=i().coerce(e);return t?`${i().major(t)}.${i().minor(t)}`:e},P=(e,t)=>{if(void 0!==e)return e?e.split(",").reduce(((e,a)=>{const[l,n]=a.split("=");return{...e,[l]:null!=n?n:t}}),{}):{}},D=(e,t)=>e&&t&&e.length>t?`${e.slice(0,t/3)}... ${e.slice(2*-t/3)}`:e,L=e=>{var t,a,l;const n="true"===(null==e?void 0:e.hypershift),r=null==e?void 0:e.use_privatelink;let i=[],s=[],o=[];if(null==e?void 0:e.install_to_vpc){let u=[];const d=null==e?void 0:e.machinePoolsSubnets.map((e=>e.privateSubnetId)).filter((e=>void 0!==e&&""!==e));u=n?null==e?void 0:e.cluster_privacy_public_subnet_id:null==e?void 0:e.machinePoolsSubnets.map((e=>e.publicSubnetId)).filter((e=>void 0!==e&&""!==e)),(null===(t=null==e?void 0:e.selected_vpc)||void 0===t?void 0:t.aws_subnets)&&(i=null===(a=null==e?void 0:e.selected_vpc)||void 0===a?void 0:a.aws_subnets.filter((e=>d.includes(e.subnet_id))),s=null===(l=null==e?void 0:e.selected_vpc)||void 0===l?void 0:l.aws_subnets.filter((e=>u.includes(e.subnet_id)))),o=r?i:i.concat(s)}return o},N={noop:s,isValid:o,strToCleanArray:u,asArray:c,nestedIsEmpty:e=>n()(e)||Object.keys(e).map((t=>n()(e[t]))).every((e=>e))}},22902:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m,isAISubscriptionWithoutMetrics:()=>c,isAssistedInstallCluster:()=>u,isAvailableAssistedInstallCluster:()=>o,isUninstalledAICluster:()=>d});var l=a(58156),n=a.n(l),r=a(59067),i=a(75166);const s=e=>{var t;return(null===(t=null==e?void 0:e.plan)||void 0===t?void 0:t.id)===i.normalizedProducts.OCP_ASSISTED_INSTALL},o=e=>!(n()(e,"subscription.status",!1)===r.SubscriptionCommonFields.status.ARCHIVED)&&!!e.aiCluster&&s(e.subscription),u=e=>s(e.subscription),d=e=>{var t;return s(e.subscription)&&(null===(t=e.subscription)||void 0===t?void 0:t.status)===r.SubscriptionCommonFields.status.RESERVED&&"installed"!==e.state},c=e=>s(e)&&(!(null==e?void 0:e.metrics)||0===e.metrics.length),m=s},51513:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY:()=>o,ENV_OVERRIDE_LOCALSTORAGE_KEY:()=>r,HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY:()=>u,MULTIREGION_LOCALSTORAGE_KEY:()=>i,NEW_CLUSTER_LIST_LOCALSTORAGE_KEY:()=>s,ONLY_MY_CLUSTERS_TOGGLE_CLUSTERS_LIST:()=>l,ONLY_MY_CLUSTERS_TOGGLE_CLUSTER_ARCHIVES_LIST:()=>n,RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY:()=>d,default:()=>c});const l="onlyViewMyClustersToggleClustersList",n="onlyViewMyClustersToggleClusterArchivesList",r="ocmOverridenEnvironment",i="multiRegionFlag",s="newClusterList",o="rosaAwsAccount",u="hadInflightErrors",d="restrictedEnvOverride",c={ONLY_MY_CLUSTERS_TOGGLE_CLUSTERS_LIST:l,ONLY_MY_CLUSTERS_TOGGLE_CLUSTER_ARCHIVES_LIST:n,ENV_OVERRIDE_LOCALSTORAGE_KEY:r,MULTIREGION_LOCALSTORAGE_KEY:i,NEW_CLUSTER_LIST_LOCALSTORAGE_KEY:s,AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY:o,HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY:u,RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY:d}},73424:(e,t,a)=>{"use strict";a.d(t,{YW:()=>n,ai:()=>r,x4:()=>l});const l="any",n=(e,t)=>e===t||e===l||t===l,r=(e,t)=>n(e?e.toLowerCase():void 0,t?t.toLowerCase():void 0)},1727:(e,t,a)=>{"use strict";a.d(t,{DX:()=>h,HQ:()=>v,OF:()=>_,Pb:()=>b,_v:()=>g,bd:()=>E,tS:()=>S,uP:()=>p});var l=a(1932),n=a(25247),r=a(59067),i=a(22902),s=a(75166),o=a(10176);const{getClustervCPUCount:u,getClusterMemoryAmount:d,getMasterCount:c,getWorkerCount:m}=n,p=e=>{const t={OCP:s.normalizedProducts.OCP,OSD:s.normalizedProducts.OSD,OSDTRIAL:s.normalizedProducts.OSDTRIAL,RHMI:s.normalizedProducts.RHMI,MOA:s.normalizedProducts.ROSA,ROSA:s.normalizedProducts.ROSA,ROSA_HYPERSHIFT:s.normalizedProducts.ROSA_HyperShift,MOA_HOSTEDCONTROLPLANE:s.normalizedProducts.ROSA_HyperShift,ARO:s.normalizedProducts.ARO,OCP_ASSISTEDINSTALL:s.normalizedProducts.OCP_ASSISTED_INSTALL,RHACS:s.normalizedProducts.RHACS,RHACSTRIAL:s.normalizedProducts.RHACSTRIAL,RHOSR:s.normalizedProducts.RHOSR,RHOSRTRIAL:s.normalizedProducts.RHOSRTRIAL,RHOSAK:s.normalizedProducts.RHOSAK,RHOSAKTRIAL:s.normalizedProducts.RHOSAKTRIAL,RHOSE:s.normalizedProducts.RHOSE,RHOSETRIAL:s.normalizedProducts.RHOSETRIAL,RHOIC:s.normalizedProducts.RHOIC,ANY:s.normalizedProducts.ANY};return"string"!=typeof e?s.normalizedProducts.UNKNOWN:t[e.toUpperCase().replace("-","_")]||s.normalizedProducts.UNKNOWN},f={memory:{used:{value:0,unit:"B"},total:{value:0,unit:"B"},updated_timestamp:""},cpu:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},storage:{used:{value:0,unit:"B"},total:{value:0,unit:"B"},updated_timestamp:""},nodes:{total:0,master:0,compute:0},state:"N/A",upgrade:{available:!1},cloud_provider:"",cluster_type:"",compute_nodes_cpu:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},compute_nodes_memory:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},compute_nodes_sockets:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},console_url:"",critical_alerts_firing:0,non_virt_nodes:0,openshift_version:"",operating_system:"",operators_condition_failing:0,region:"",sockets:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},state_description:"",subscription_cpu_total:0,subscription_obligation_exists:0,subscription_socket_total:0},E=e=>{const t=e?{...f,...e}:{...f},a=["memory","storage","cpu"];return["memory","storage","cpu","nodes"].forEach((e=>{if(t[e]={...f[e],...t[e]},a.includes(e)){const a=t[e],l=a.total||{},n=a.used||{},r=f[e];a.total={...r.total,...l},a.used={...r.used,...n}}})),t},g=e=>{var t,a,l;const n={...e};return n.product={id:p(null===(t=e.product)||void 0===t?void 0:t.id)},e.version&&e.version.available_upgrades&&(null===(l=null===(a=n.version)||void 0===a?void 0:a.available_upgrades)||void 0===l||l.sort(o.versionComparator)),n},v=e=>{var t,a,l,n;const i=null===(t=e.metrics)||void 0===t?void 0:t[0],o=E(i),u={subscription_id:e.id,id:e.cluster_id,external_id:e.external_cluster_id,console:{url:e.console_url},creation_timestamp:e.created_at,activity_timestamp:i?i.query_timestamp:e.last_telemetry_date,state:o.state,openshift_version:o.openshift_version,cpu_architecture:o.arch,product:{id:p(null===(a=e.plan)||void 0===a?void 0:a.id),type:p(null===(l=e.plan)||void 0===l?void 0:l.type)},managed:s.clustersServiceProducts.includes(p(null===(n=e.plan)||void 0===n?void 0:n.type)),ccs:{enabled:e.status===r.SubscriptionCommonFields.status.DEPROVISIONED&&void 0},metrics:o},d=e.cloud_provider_id;d&&(u.cloud_provider={id:d.toLowerCase()});const c=e.region_id;return c&&(u.region={id:c.toLowerCase()}),u},h=(e,t)=>{var a,l;const n=v(e);if((0,i.isAISubscriptionWithoutMetrics)(e)){const e=t?m(null!==(a=t.hosts)&&void 0!==a?a:[]):0,r=t?c(null!==(l=t.hosts)&&void 0!==l?l:[]):0;n.metrics.memory.total.value=t?d(t):0,n.metrics.cpu.total.value=t?u(t):0,n.metrics.nodes.total=e+r,n.metrics.nodes.master=r,n.metrics.nodes.compute=e;const i=n.metrics.openshift_version||(null==t?void 0:t.openshiftVersion)||"N/A";n.metrics.openshift_version=i,n.openshift_version=i;const s=(null==t?void 0:t.status)||"N/A";n.metrics.state=s,n.state=s,n.cpu_architecture=n.metrics.arch}return n},b=e=>{var t,a;return{...e,plan:{id:p(null===(t=e.plan)||void 0===t?void 0:t.id),type:p(null===(a=e.plan)||void 0===a?void 0:a.type)}}},S=e=>{var t;return{...e,related_resources:(null!==(t=null==e?void 0:e.related_resources)&&void 0!==t?t:[]).map((e=>({...e,product:p(e.product)})))}},_=(e,t)=>(0,l.jM)(e,(e=>{var a;e.data.items=null===(a=e.data.items)||void 0===a?void 0:a.map(t)}))},10135:(e,t,a)=>{"use strict";a.r(t),a.d(t,{buildFilterURLParams:()=>E,buildUrlParams:()=>f,createOverviewQueryObject:()=>p,createServiceLogQueryObject:()=>m,createViewQueryObject:()=>c,deleteQueryParam:()=>v,getQueryParam:()=>g,sqlString:()=>u,viewPropsChanged:()=>o});var l=a(62193),n=a.n(l),r=a(2404),i=a.n(r),s=a(75166);const o=(e,t)=>e.currentPage!==t.currentPage||e.pageSize!==t.pageSize||!i()(e.sorting,t.sorting)||!i()(e.filter,t.filter)||!i()(e.flags,t.flags),u=e=>`'${e.replace(/'/g,"''")}'`,d=(e,t)=>{const a=t?"asc":"desc";return e.split(",").map((e=>`${e.trim()} ${a}`)).join(", ")},c=(e,t)=>{const a={};if(e){a.page=e.currentPage,a.page_size=e.pageSize,a.has_filters=!!e.filter;const{sortField:l,isAscending:r}=e.sorting;if(null!==l){const e=r?"asc":"desc";a.order="name"===l?`display_name ${e}`:d(l,r)}const i=[];if(i.push("cluster_id!=''"),i.push(`plan.id IN (${s.allowedProducts.map(u).join(", ")})`),e.flags.showArchived?i.push("status IN ('Deprovisioned', 'Archived')"):i.push("status NOT IN ('Deprovisioned', 'Archived')"),e.flags.showMyClustersOnly&&i.push(`creator.username='${t}'`),"string"==typeof e.filter)if(0===e.filter.length)i.push("display_name is not null OR external_cluster_id is not null OR cluster_id is not null");else{const t=u(`%${e.filter}%`);i.push(`display_name ILIKE ${t} OR external_cluster_id ILIKE ${t} OR cluster_id ILIKE ${t}`)}if(!n()(e.flags.subscriptionFilter)){const t=e.flags.subscriptionFilter.plan_id;if(!n()(t)){const e=t.flatMap((e=>{var t;return null===(t=s.productFilterOptions.find((t=>t.key===e)))||void 0===t?void 0:t.plansToQuery})).map(u);i.push(`plan_id IN (${e.join(",")})`)}}a.filter=i.map((e=>`(${e})`)).join(" AND ").trim()}return a},m=(e,t,a,l)=>{const n={page:1,page_size:-1,format:t};if(e){n.page=a||e.currentPage,n.page_size=l||e.pageSize;const{sortField:t,isAscending:r}=e.sorting;null!==t&&(n.order=d(t,r));const i=[];if(e.filter&&"string"!=typeof e.filter){const{description:t,loggedBy:a,timestampFrom:l,timestampTo:n}=e.filter;if(t){const e=u(`%${t}%`);i.push(`(description ILIKE ${e} OR summary ILIKE ${e})`)}if(a){const e=u(`%${a}%`);i.push(`(username ILIKE ${e} OR (username = '' AND created_by ILIKE ${e}))`)}l&&i.push(`timestamp ${l}`),n&&i.push(`timestamp ${n}`)}if(e.flags){const{severityTypes:t=[],logTypes:a=[]}=e.flags.conditionalFilterFlags;if(t.length>0){const e=t.map(u);i.push(`severity IN (${e.join(",")})`)}if(a.length>0){const e=a.map(u);i.push(`log_type IN (${e.join(",")})`)}}i.length>0&&(n.filter=i.map((e=>`(${e})`)).join(" AND ").trim())}return n},p=(e,t)=>{const a={order:"display_name asc",...t};return e&&(a.page=e.currentPage,a.page_size=e.pageSize),a},f=e=>Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&"),E=e=>encodeURI(Object.keys(e).map((t=>!n()(e[t])&&`${t}=${e[t].join(",")}`)).filter(Boolean).join("&")),g=e=>{var t;return null!==(t=new URLSearchParams(window.location.search).get(e))&&void 0!==t?t:void 0},v=e=>{const t=new URL(window.location.href);t.searchParams.delete(e),window.history.replaceState({},"",t.toString())}},77969:(e,t,a)=>{"use strict";a.r(t),a.d(t,{emailRegex:()=>l});const l=/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g},87960:(e,t,a)=>{"use strict";a.d(t,{X:()=>n,g:()=>l});const l=!0,n=e=>!!(null==e?void 0:e.length)&&e.some((e=>"capability.organization.restrict_offline_tokens"===e.name&&"true"===e.value))},9269:(e,t,a)=>{"use strict";a.r(t),a.d(t,{extractAWSID:()=>l});const l=e=>{const t=e.substr(e.indexOf("::")+2);return t.substr(0,t.indexOf(":"))}},69304:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Link:()=>d,Navigate:()=>c,advisorBaseName:()=>r,ocmBaseName:()=>n,useNavigate:()=>m});const{insights:{appname:l}}=a(8330),n=`/${l}`,r=`${n}/insights/advisor`,i=e=>"string"==typeof e?`${n}/${e}`.replace("//","/").replace(`${n}${n}`,n):{...e,...e.pathname&&{pathname:`${n}/${e.pathname}`.replace("//","/").replace(`${n}${n}`,n)}};var s=a(93345),o=a.n(s),u=a(95376);const d=({to:e,...t})=>o().createElement(u.Link,{...t,to:i(e)}),c=({to:e,...t})=>o().createElement(u.Navigate,{...t,to:i(e)}),m=()=>{const e=(()=>{const e=(0,u.useNavigate)();return(t,a)=>{e(i(t),a)}})(),t=(0,s.useRef)({navigate:e});return(0,s.useEffect)((()=>{t.current.navigate=e}),[e]),(0,s.useCallback)(((e,a)=>{t.current.navigate(e,a)}),[])}},94675:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getDefaultSecurityGroupsSettings:()=>l,hasSecurityGroupIds:()=>r,hasSelectedSecurityGroups:()=>n});const l=()=>({applyControlPlaneToAll:!0,controlPlane:[],infra:[],worker:[]}),n=e=>!!e&&(e.applyControlPlaneToAll?e.controlPlane.length>0:e.controlPlane.length>0||e.infra.length>0||e.worker.length>0),r=(e={},t=[])=>{var a,l,n,r;return(null!==(l=null===(a=null==e?void 0:e.aws)||void 0===a?void 0:a.additional_control_plane_security_group_ids)&&void 0!==l?l:[]).length>0||(null!==(r=null===(n=null==e?void 0:e.aws)||void 0===n?void 0:n.additional_infra_security_group_ids)&&void 0!==r?r:[]).length>0||(null==t?void 0:t.some((e=>{var t,a;return((null===(t=null==e?void 0:e.aws)||void 0===t?void 0:t.additional_security_group_ids)||(null===(a=null==e?void 0:e.aws_node_pool)||void 0===a?void 0:a.additional_security_group_ids)||[]).length>0})))}},11009:(e,t,a)=>{"use strict";a.r(t),a.d(t,{hasCapability:()=>r,haveCapabilities:()=>i,subscriptionCapabilities:()=>n});var l=a(59067);const n={CREATE_MOA_CLUSTERS:"capability.account.create_moa_clusters",CREATE_ROSA_CLUSTERS:"capability.account.create_rosa_clusters",MANAGE_CLUSTER_ADMIN:"capability.cluster.manage_cluster_admin",ORGANIZATION_REGISTRATIONS_PER_HOUR:"capability.organization.clusters_registrations_per_hour",SUBSCRIBED_OCP:"capability.cluster.subscribed_ocp",SUBSCRIBED_OCP_MARKETPLACE:"capability.cluster.subscribed_ocp_marketplace",BARE_METAL_INSTALLER_ADMIN:"capability.account.bare_metal_installer_admin",RELEASE_OCP_CLUSTERS:"capability.cluster.release_ocp_clusters",CREATE_GCP_NON_CCS_CLUSTER:"capability.organization.create_gcp_non_ccs_cluster"},r=(e,t)=>{var a;if(t===n.RELEASE_OCP_CLUSTERS)return!0;if(t===n.SUBSCRIBED_OCP_MARKETPLACE){if((null==e?void 0:e.status)===l.SubscriptionCommonFields.status.DISCONNECTED)return!1;if(!(null==e?void 0:e.id))return!1}const r=(null!==(a=null==e?void 0:e.capabilities)&&void 0!==a?a:[]).find((e=>e.name===t));return"true"===(null==r?void 0:r.value)},i=(e,t)=>e.reduce(((e,a)=>({...e,[`${a.id}`]:r(a.subscription,t)})),{})},75166:(e,t,a)=>{"use strict";a.r(t),a.d(t,{allowedProducts:()=>y,billingModels:()=>T,clustersServiceProducts:()=>A,knownProducts:()=>C,normalizedProducts:()=>I,ocmRoles:()=>O,productFilterOptions:()=>R,subscriptionSettings:()=>r});var l=a(59067),n=a(82399);const r={SUPPORT_LEVEL:"support_level",USAGE:"usage",SERVICE_LEVEL:"service_level",PRODUCT_BUNDLE:"product_bundle",SYSTEM_UNITS:"system_units",CPU_TOTAL:"cpu_total",SOCKET_TOTAL:"socket_total",CLUSTER_BILLING_MODEL:"cluster_billing_model",EVALUATION_EXPIRATION_DATE:"evaluation_expiration_date"},i={ROSA:"ROSA",ROSA_HyperShift:"ROSA-HyperShift"},{OSD:s,OSDTRIAL:o,OCP:u,RHMI:d,ARO:c,OCP_ASSISTED_INSTALL:m,RHACS:p,RHACSTRIAL:f,RHOSR:E,RHOSRTRIAL:g,RHOSAK:v,RHOSAKTRIAL:h,RHOSE:b,RHOSETRIAL:S,RHOIC:_}=l.ClusterAuthorizationRequest.product_id,C={OSD:s,OSDTRIAL:o,OCP:u,RHMI:d,ARO:c,OCP_ASSISTED_INSTALL:m,RHACS:p,RHACSTRIAL:f,RHOSR:E,RHOSRTRIAL:g,RHOSAK:v,RHOSAKTRIAL:h,RHOSE:b,RHOSETRIAL:S,RHOIC:_,...i},y=[l.ClusterAuthorizationRequest.product_id.OSD,l.ClusterAuthorizationRequest.product_id.OSDTRIAL,l.ClusterAuthorizationRequest.product_id.OCP,l.ClusterAuthorizationRequest.product_id.RHMI,i.ROSA,l.ClusterAuthorizationRequest.product_id.RHOIC,l.ClusterAuthorizationRequest.product_id.MOA,l.ClusterAuthorizationRequest.product_id.MOA_HOSTED_CONTROL_PLANE,i.ROSA_HyperShift,l.ClusterAuthorizationRequest.product_id.ARO,l.ClusterAuthorizationRequest.product_id.OCP_ASSISTED_INSTALL],I={...C,ANY:"ANY",UNKNOWN:"UNKNOWN"},A=[l.ClusterAuthorizationRequest.product_id.OSD,l.ClusterAuthorizationRequest.product_id.OSDTRIAL,i.ROSA,i.ROSA_HyperShift,l.ClusterAuthorizationRequest.product_id.RHMI,l.ClusterAuthorizationRequest.product_id.ARO],R=[{key:l.ClusterAuthorizationRequest.product_id.OCP,label:"OCP",plansToQuery:["OCP","OCP-AssistedInstall"]},{key:l.ClusterAuthorizationRequest.product_id.OSD,label:"OSD",plansToQuery:["OSD"]},{key:i.ROSA,label:"ROSA",plansToQuery:["MOA","ROSA","MOA-HostedControlPlane"]},{key:l.ClusterAuthorizationRequest.product_id.ARO,label:"ARO",plansToQuery:["ARO"]},{key:l.ClusterAuthorizationRequest.product_id.RHOIC,label:"RHOIC",plansToQuery:["RHOIC"]}],T={...n.BillingModel,STANDARD_TRIAL:"standard-trial"},O={CLUSTER_EDITOR:{id:"ClusterEditor",name:"Cluster editor",description:"Cluster editor role will allow users or groups to manage and configure the cluster."},CLUSTER_VIEWER:{id:"ClusterViewer",name:"Cluster viewer",description:"Cluster viewer role will allow users or groups to view cluster details only."},CLUSTER_AUTOSCALER_EDITOR:{id:"ClusterAutoscalerEditor",name:"Cluster autoscaler editor",description:"Cluster autoscaler editor role will allow users or groups to manage and configure the cluster autoscaler settings.",excludeProductIds:[i.ROSA_HyperShift]},IDP_EDITOR:{id:"IdpEditor",name:"Identity provider editor",description:"Identity provider editor role will allow users or groups to manage and configure the identity providers."},MACHINE_POOL_EDITOR:{id:"MachinePoolEditor",name:"Machine pool editor",description:"Machine pool editor role will allow users or groups to manage and configure the machine pools."}}},74688:(e,t,a)=>{"use strict";a.r(t),a.d(t,{humanizeValueWithUnit:()=>i,humanizeValueWithUnitGiB:()=>o,humanizeValueWithoutUnit:()=>u,parseValueWithUnit:()=>r,roundValueWithUnit:()=>s});var l=a(19412);const n=(e,t)=>{const a=10**t;return Math.round(e*a)/a},r=(e,t)=>e*{B:1,KiB:1024,MiB:2**20,GiB:2**30,TiB:2**40,PiB:2**50,KB:1e3,MB:10**6,GB:10**9,TB:10**12,PB:10**15}[t.trim()],i=(e,t)=>{const a=(0,l.O)(r(e,t),{output:"object",standard:"iec"});return{value:+a.value,unit:a.unit.trim()}},s=(e,t)=>({value:n(e,2),unit:t}),o=e=>s(e/2**30,"GiB"),u=(e,t=2)=>(0,l.O)(e,{base:t})},84037:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MAX_CLUSTER_NAME_LENGTH:()=>T,MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH:()=>G,acknowledgePrerequisites:()=>H,asyncValidateClusterName:()=>ae,asyncValidateDomainPrefix:()=>le,atLeastOneRequired:()=>Be,awsNumericAccountID:()=>We,checkClusterConsoleURL:()=>Pe,checkClusterDisplayName:()=>Ce,checkClusterUUID:()=>_e,checkCustomOperatorRolesPrefix:()=>oe,checkDisconnectedConsoleURL:()=>ke,checkDisconnectedMemCapacity:()=>Ge,checkDisconnectedNodeCount:()=>Ue,checkDisconnectedSockets:()=>xe,checkDisconnectedvCPU:()=>Fe,checkGithubTeams:()=>ue,checkHostDomain:()=>gt,checkIdentityProviderName:()=>V,checkKeyValueFormat:()=>he,checkLabelKey:()=>me,checkLabelValue:()=>pe,checkLabels:()=>ge,checkLabelsAdditionalRouter:()=>Se,checkMachinePoolName:()=>Y,checkNoProxyDomains:()=>De,checkNodePoolName:()=>K,checkOpenIDIssuer:()=>q,checkRouteSelectors:()=>be,checkTaintKey:()=>fe,checkTaintValue:()=>Ee,checkUserID:()=>ye,clusterAutoScalingValidators:()=>ie,clusterNameAsyncValidation:()=>$,clusterNameValidation:()=>W,composeValidators:()=>Et,createPessimisticValidator:()=>se,default:()=>ht,domainPrefixAsyncValidation:()=>Z,domainPrefixValidation:()=>Q,evaluateClusterNameAsyncValidation:()=>J,maxAdditionalSecurityGroups:()=>m,maxAdditionalSecurityGroupsHypershift:()=>p,required:()=>U,requiredTrue:()=>j,validateARN:()=>je,validateAWSKMSKeyARN:()=>lt,validateCA:()=>Oe,validateDuplicateLabels:()=>ve,validateGCPHostProjectId:()=>ze,validateGCPKMSServiceAccount:()=>at,validateGCPServiceAccount:()=>Ye,validateGCPSubnet:()=>tt,validateHTPasswdPassword:()=>nt,validateHTPasswdPasswordConfirm:()=>st,validateHTPasswdUsername:()=>it,validateLabelKey:()=>ot,validateLabelValue:()=>ut,validateListOfBalancingLabels:()=>ne,validateMultipleMachinePoolsSubnets:()=>et,validateNamespacesList:()=>pt,validateNumericInput:()=>Me,validatePrivateHostedZoneId:()=>qe,validateRHITUsername:()=>Ae,validateRequiredPublicSubnetId:()=>Je,validateRoleARN:()=>Ve,validateSecureURL:()=>vt,validateSecurityGroups:()=>Ke,validateServiceAccountObject:()=>$e,validateTlsHostname:()=>mt,validateTlsSecretName:()=>ct,validateUniqueAZ:()=>Qe,validateUniqueHTPasswdUsername:()=>rt,validateUniqueNodeLabel:()=>Ze,validateUrl:()=>Re,validateUrlHttpsAndHttp:()=>Te,validateUserOrGroupARN:()=>He,validateWorkerVolumeSize:()=>ft});var l=a(72100),n=a(91357),r=a.n(n),i=a(15304),s=a(9704),o=a(70557),u=a(72230),d=a(73410),c=a(10135);const m=5,p=10,f=/^[a-z]([-a-z0-9]*[a-z0-9])?$/,E=/^[-a-z0-9]+$/,g=/^[a-z]/,v=/[a-z0-9]$/,h=/^.*[/]+.*[/]+.*$/i,b=/^([a-z]([-a-z0-9]*[a-z0-9])?\.)+[a-z]([-a-z0-9]*[a-z0-9])?$/,S=/^([a-z]([-a-z0-9]*[a-z0-9])?)+(\.[a-z]([-a-z0-9]*[a-z0-9])?)*$/,_=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,C=/^([0-9]+(\.[0-9]+)?(ns|us|s|ms|s|m|h))+$/,y=/^[a-zA-Z]+[a-zA-Z0-9./-]*:[0-9]+:[0-9]+$/,I=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/(3[0-2]|[1-2][0-9]|[1-9]))$/,A=/^\/?(3[0-2]|[1-2][0-9]|[0-9])$/,R=/^https?:\/\/(([0-9]{1,3}\.){3}[0-9]{1,3}|([a-z0-9-]+\.)+[a-z]{2,})(:[0-9]+)?([a-z0-9_/-]+)?$/i,T=54,O=/^[a-z][-a-z0-9]{4,28}[a-z0-9]{1}$/,P=/^arn:aws([-\w]+)?:iam::\d{12}:(user|group)\/\S+/,D=/^arn:aws([-\w]+)?:iam::\d{12}:role\/\S+/,L=/^Z[0-9A-Z]{3,}/,N=/^\d{12}$/,w=/^[a-z0-9.+-]+@[\w.-]+\.[a-z]{2,4}$/,M=/^arn:aws([-\w]+)?:kms:[\w-]+:\d{12}:key\/[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/,k=/^arn:aws([-\w]+)?:kms:[\w-]+:\d{12}:key\/mrk-[0-9a-f]{32}$/,F=/^([a-z0-9][a-z0-9-_.]*)?[a-z0-9]$/i,x=/^(([a-z0-9][a-z0-9-_.]*)?[a-z0-9])?$/i,G=32,U=e=>e&&e.trim()?void 0:"Field is required",j=e=>e&&!0===e?void 0:"Field must be selected",H=e=>e&&!0===e?void 0:"Acknowledge that you have read and completed all prerequisites.",V=e=>e?/\s/.test(e)?"Name must not contain whitespaces.":/[^A-Za-z0-9_-]/.test(e)?"Name should contain only alphanumeric and dashes":void 0:"Name is required.",q=e=>{if(!e)return"Issuer URL is required.";if(!e.startsWith("https://"))return"Invalid URL. Issuer must use https scheme without a query string (?) or fragment (#)";let t;try{t=new URL(e)}catch(e){return"Invalid URL"}return""!==t.hash||""!==t.search||t.href.includes("#")?"The URL must not include a query string (?) or fragment (#)":void 0},z=(e,t,a)=>e?f.test(e)?e.length>a?`${t} names may not exceed ${a} characters.`:void 0:`${t} name '${e}' isn't valid, must consist of lower-case alphanumeric characters or '-', start with an alphabetic character, and end with an alphanumeric character. For example, 'my-name', or 'abc-123'.`:`${t} name is required.`,B=(e,t,a)=>[{text:`1 - ${a} characters`,validated:!!(null==e?void 0:e.length)&&(null==e?void 0:e.length)<=a},{text:"Consist of lower-case alphanumeric characters, or hyphen (-)",validated:!!e&&E.test(e)},{text:"Start with a lower-case alphabetic character",validated:!!e&&g.test(e)},{text:"End with a lower-case alphanumeric character",validated:!!e&&v.test(e)}],W=(e,t)=>B(e,0,t||T),$=(e,t,a)=>((e,t,a)=>[{text:"Globally unique name in your organization",validator:async()=>{var l;if(!(null==e?void 0:e.length))return!1;if(!t){const t=`name = ${(0,c.sqlString)(e)}`,{data:a}=await d.clusterService.searchClusters(t,1);return!(null===(l=null==a?void 0:a.items)||void 0===l?void 0:l.some((t=>t.name===e)))}return!a}}])(e,t,a),Y=e=>z(e,"Machine pool",30),K=e=>z(e,"Machine pool",15),Q=e=>B(e,0,15),Z=(e,t,a,l)=>((e,t,a,l)=>[{text:"Globally unique domain prefix in your organization",validator:async()=>{var a;if(!(null==e?void 0:e.length))return!1;if(!t){const t=`domain_prefix = ${(0,c.sqlString)(e)}`,{data:l}=await d.clusterService.searchClusters(t,1);return!(null===(a=null==l?void 0:l.items)||void 0===a?void 0:a.some((t=>t.domain_prefix===e)))}return!l}}])(e,t,0,l),X=e=>async(t,a,l,n)=>{const r=e(t,a,l,n),i=await Promise.all(r.map((({validator:e})=>null==e?void 0:e())));return r.map(((e,t)=>({...e,validated:i[t]})))},J=X($),ee=X(Z),te=e=>{var t;return null===(t=null==e?void 0:e.find((e=>!1===e.validated)))||void 0===t?void 0:t.text},ae=async(e,t,a)=>{const l=await J(e,t,a);return te(l)},le=async(e,t,a,l)=>{const n=await ee(e,t,a,l);return te(n)},ne=e=>{if(!e)return;const t=e.split(",");if(/\s/.test(e))return"Labels must not contain whitespaces.";const a=t.filter(Boolean);return t.length===a.length?void 0:"Empty labels are not allowed."},re=/^(.*)(\.min|\.max)+$/,ie={k8sTimeParameter:e=>e?C.test(e)?void 0:"Not a valid time value.":"Field is required.",k8sNumberParameter:e=>{if(Number(e)<0)return"Value cannot be a negative number."},k8sMinMaxParameter:(e,t,a,l)=>{const n=""===(r=e)||Number.isNaN(Number(r))?"Value must be a number.":void 0;var r;if(n)return n;if(Number(e)<0)return"Value cannot be a negative number";const i=l.match(re),o=i?i[1]:"";return(0,s.get)(t,`${o}.min`,0)<=(0,s.get)(t,`${o}.max`,0)?void 0:"The minimum cannot be above the maximum value."},k8sGpuParameter:e=>{if(!e)return;const t=e.split(",").map((e=>{let t=!1;if(y.test(e)){const a=e.split(":"),l=Number(a[1]),n=Number(a[2]);(l<0||n<0||l>n)&&(t=!0)}else t=!0;return t?e||"empty param":void 0})).filter(Boolean);return 0===t.length?void 0:`Invalid params: ${t.join(",")}`},k8sScaleDownUtilizationThresholdParameter:e=>{if(+e<0||+e>1)return"Value must be between 0 and 1."},k8sLogVerbosityParameter:e=>{if(+e<1||+e>6)return"Value must be between 1 and 6."}},se=(e=(()=>{}))=>(t,a,l,n)=>te(e(t,a,l,n)),oe=e=>{const t="Custom operator roles prefix";if(e)return f.test(e)?e.length>G?`${t} may not exceed ${G} characters.`:void 0:`${t} '${e}' isn't valid, must consist of lower-case alphanumeric characters or '-', start with an alphabetic character, and end with an alphanumeric character. For example, 'my-name', or 'abc-123'.`},ue=e=>{if(!e)return;const t=e.split(",");for(let e=0;e<t.length;e+=1){const a=t[e].split("/");if(2!==a.length)return"Each team must be of format 'org/team'.";if(!a[0]||!a[1])return"Each team must be of format 'org/team'.";if(/\s/.test(a[0]))return"Organization must not contain whitespaces.";if(/\s/.test(a[1]))return"Team must not contain whitespaces."}},de=(e,t,a)=>{const{prefix:l,name:n}=(e=>{var t,a;const[l,n]=null!==(a=null===(t=null==e?void 0:e.split(/\/(.+)/,2))||void 0===t?void 0:t.reverse())&&void 0!==a?a:[];return{name:l,prefix:n}})(e),r=1===(null==t?void 0:t.length)&&!t[0].key&&!t[0].value;return[{validated:!!e&&!h.test(e),text:"A qualified name must consist of alphanumeric characters, '-', '_' or '.', and must start and end with an alphanumeric character with an optional DNS subdomain prefix and '/' (e.g. 'example.com/MyName')"},{validated:void 0===l||S.test(l),text:"A valid key prefix part of a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character"},{validated:void 0===l||l.length<=253,text:"A valid key prefix must be 253 characters or less"},{validated:void 0===n||F.test(n),text:"A valid key name must consist of alphanumeric characters, '-', '.' , '_'  or '/' and must start and end with an alphanumeric character"},{validated:void 0===n||n.length<=63,text:"A valid key name must be 63 characters or less"},{validated:r||void 0!==e&&e.length>0,text:"label"===a?"A valid key name must consist of alphanumeric characters, '-', '.' , '_'  or '/' and must start and end with an alphanumeric character":"Required"}]},ce=e=>[{validated:null==e||e.length<=63,text:"A valid value must be 63 characters or less"},{validated:void 0===e||x.test(e),text:"A valid value must consist of alphanumeric characters, '-', '.' or '_' and must start and end with an alphanumeric character"}],me=se(((e,t)=>{const a=(null==t?void 0:t.node_labels)||[];return de(e,a,"label")})),pe=se(ce),fe=se(((e,t)=>{const a=(null==t?void 0:t.taints)||[];return de(e,a,"taint")})),Ee=se(ce),ge=e=>{var t;return null===(t=(e=>{var t;if(e)return t="string"==typeof e?e.split(","):e,[].concat(t).map((e=>e.split("=")))})(e))||void 0===t?void 0:t.reduce(((e,[t,a])=>{var l;return null!==(l=null!=e?e:me(t))&&void 0!==l?l:pe(a)}),void 0)},ve=e=>{if(!e)return;const t=(e=>{const t={};let a=null;return e.forEach((e=>{const l=e.split("=")[0];t[l]?a=l:t[l]=!0})),a})("string"==typeof e?e.split(","):e);return t?`Each label should have a unique key. "${t}" already exists.`:void 0},he=e=>""!==e.trim()&&null===(null==e?void 0:e.match(/((.*=.*),*)+/g))?"Routes should match comma separated pairs in key=value format":void 0,be=e=>ge(e)||ve(e),Se=e=>he(e)||be(e),_e=e=>e?_.test(e)?void 0:`Cluster ID '${e}' is not a valid UUID.`:"Cluster ID is required.",Ce=e=>{if(e)return e.length>63?"Cluster display name may not exceed 63 characters.":void 0},ye=e=>{const t=(e=>e?e.trim()!==e?"cannot contain leading and trailing spaces":e.includes("/")?"cannot contain '/'.":e.includes(":")?"cannot contain ':'.":e.includes("%")?"cannot contain '%'.":"~"===e?"cannot be '~'.":"."===e?"cannot be '.'.":".."===e?"cannot be '..'.":"cluster-admin"===e?"cannot be 'cluster-admin'.":void 0:"cannot be empty.")(e);return t?`User ID ${t}`:void 0},Ie=/^[^"$<> ^|%\\(),=;~:/*\r\n]*$/,Ae=e=>Ie.test(e)?void 0:"Username includes illegal symbols",Re=(e,t="http")=>{if(!e)return;let a;a="string"==typeof t?[t]:t;try{new URL(e)}catch(e){return"Invalid URL"}finally{const t=e.substring(0,e.indexOf("://"));if(!a.includes(t))return`The URL should include the scheme prefix (${a.map((e=>`${e}://`)).join(", ")})`}},Te=e=>Re(e,["http","https"]),Oe=e=>{if(e)return"Invalid file"===e?"Must be a PEM encoded X.509 file (.pem, .crt, .ca, .cert) and no larger than 4 MB":void 0},Pe=(e,t)=>{if(!e)return t?"Cluster console URL should not be empty":void 0;let a;try{a=new URL(e)}catch(t){return e.startsWith("http://")||e.startsWith("https://")?"Invalid URL":"The URL should include the scheme prefix (http://, https://)"}return R.test(e)?void 0:"http:"!==a.protocol&&"https:"!==a.protocol?"The URL should include the scheme prefix (http://, https://)":""!==a.hash||""!==a.search?"The URL must not include a query string (?) or fragment (#)":"Invalid URL"},De=e=>{if(e&&e.length>0){const t=e.filter((e=>!(!e||b.test(e)&&S.test(e)))),a=t.length>1;if(t.length>0)return`The domain${a?"s":""} '${t.join(", ")}' ${a?"aren't":"isn't"} valid, \n      must contain at least two valid lower-case DNS labels separated by dots, for example 'domain.com' or 'sub.domain.com'.`}},Le=e=>{if(e&&!I.test(e))return`IP address range '${e}' isn't valid CIDR notation. It must follow the RFC-4632 format: '192.168.0.0/16'.`},Ne=e=>{var t;if(e)return parseInt(null!==(t=e.split("/").pop())&&void 0!==t?t:"",10)},we=(e,t,a=180)=>void 0===e||+e<t.value?t.validationMsg||`The minimum number of nodes is ${t.value}.`:+e>a?`Maximum number allowed is ${a}.`:"string"==typeof e&&Number.isNaN(parseInt(e,10))||Math.floor(Number(e))!==Number(e)?`'${e}' is not a valid number of nodes.`:void 0,Me=(e,{allowDecimal:t=!1,allowNeg:a=!1,allowZero:l=!1,max:n=NaN,min:r=NaN}={})=>{if(!e)return;const i=Number(e);return Number.isNaN(i)?"Input must be a number.":!Number.isNaN(r)&&i<r?`Input cannot be less than ${r}.`:!a&&!l&&i<=0?"Input must be a positive number.":!a&&l&&i<0?"Input must be a non-negative number.":!t&&e.toString().includes(".")?"Input must be an integer.":!Number.isNaN(n)&&i>n?`Input cannot be more than ${n}.`:void 0},ke=e=>Pe(e,!1),Fe=e=>Me(e,{max:16e3}),xe=e=>Me(e,{max:2e3}),Ge=e=>Me(e,{allowDecimal:!0,max:256e3}),Ue=e=>{if(""!==e)return Number.isNaN(Number(e))?"Input must be a number.":we(Number(e),{value:0},250)},je=(e,t,a)=>e?/\s/.test(e)?"Value must not contain whitespaces.":t.test(e)?void 0:`ARN value should be in the format arn:aws:iam::123456789012:${a}.`:"Field is required.",He=e=>je(e,P,"user/name"),Ve=e=>je(e,D,"role/role-name"),qe=e=>e?L.test(e)?void 0:"Not a valid Private hosted zone ID.":"Field is required.",ze=e=>e?O.test(e)?void 0:"Not a valid hosted project ID. This must be an existing GCP project ID within which all networks are defined.":"Field is required.",Be=(e,t)=>a=>{if(!a)return;let l=0;return a.forEach((a=>{if(t)t(a)||(l+=1);else{const t=(0,s.get)(a,e,null);t&&""!==t.trim()&&(l+=1)}})),0===l?"At least one is required.":void 0},We=e=>e?N.test(e)?void 0:"AWS account ID must be a 12 digits positive number.":"AWS account ID is required.",$e=e=>{(new i.Validator).validate(e,{id:"/osdServiceAccount",type:"object",properties:{type:{const:"service_account"},project_id:{type:"string"},private_key_id:{type:"string"},private_key:{type:"string",pattern:"^-----BEGIN PRIVATE KEY-----\n(.|\n)*\n-----END PRIVATE KEY-----\n$"},client_email:{type:"string",format:"email",pattern:"^osd-ccs-admin@([\\S]*)\\.iam\\.gserviceaccount\\.com$"},client_id:{type:"string"},auth_uri:{const:"https://accounts.google.com/o/oauth2/auth"},token_uri:{type:"string",format:"uri"},auth_provider_x509_cert_url:{const:"https://www.googleapis.com/oauth2/v1/certs"},client_x509_cert_url:{type:"string",format:"uri"}},required:["type","project_id","private_key_id","private_key","client_email","client_id","auth_uri","token_uri","auth_provider_x509_cert_url","client_x509_cert_url"]},{throwError:!0})},Ye=e=>{try{const t=JSON.parse(e);return $e(t)}catch(e){if(e instanceof SyntaxError)return"Invalid JSON format.";if(e instanceof i.ValidationError){let t;if(e.property.startsWith("instance.")){const a=e.property.replace("instance.","");t="client_email"===a&&"osd-ccs-admin"!==e.instance.split[0]?`The field '${a}' requires a service account name of 'osd-ccs-admin'.`:-1!==e.message.indexOf("does not match pattern")?`The field '${a}' is not in the required format.`:`The field '${a}' ${e.message}`}else t=e.message;return`The provided JSON does not meet the requirements: ${t}`}return}},Ke=(e,t)=>{const a=t?p:m;return e.length>a?`A maximum of ${a} security groups can be selected.`:void 0},Qe=(e,t)=>(t.machinePoolsSubnets||[]).map((e=>e.availabilityZone)).filter((t=>!!e&&t===e)).length>1?"Must select 3 different AZs.":void 0,Ze=(Xe=(e,t)=>Object.entries(t.node_labels).filter((([t])=>!e.includes(`[${t}]`))).map((([,e])=>e.key)),(e,t,a,l)=>{var n;if((null!==(n=Xe(l,t))&&void 0!==n?n:[]).includes(e))return"Each label must have a different key."});var Xe;const Je=(e,t,a)=>(null==a?void 0:a.pristine)||e?void 0:"Subnet is required",et=(e,t,a)=>{switch(!0){case""===e:return(null==a?void 0:a.pristine)?void 0:"Subnet is required";case((e,t)=>t.machinePoolsSubnets.filter((t=>t.privateSubnetId===e)).length>1)(e,t):return"Every machine pool must be associated to a different subnet";case(null==a?void 0:a.isHypershift)&&((e,t)=>{var a;const l=null===(a=t.find((t=>t.privateSubnetId===e)))||void 0===a?void 0:a.availabilityZone,n=t.filter((e=>e.availabilityZone===l)).map((e=>e.availabilityZone));return n.length!==new Set(n).size})(e,t.machinePoolsSubnets):return"Every machine pool subnet should belong to a different availability zone";default:return}},tt=e=>e?/\s/.test(e)?"Name must not contain whitespaces.":/[^a-z0-9-]/.test(e)?"Name should contain only lowercase letters, numbers and hyphens.":e.length>63?"Name may not exceed 63 characters.":void 0:"Field is required.",at=e=>e?/\s/.test(e)?"Field must not contain whitespaces.":w.test(e)?void 0:'Field start with lowercase letter and can only contain hyphens (-), at (@) and dot (.).For e.g. "myserviceaccount@myproj.iam.gserviceaccount.com" or "<projectnumericid>-compute@developer.gserviceaccount.com".':"Field is required.",lt=(e,t)=>{var a,l;return e?/\s/.test(e)?"Value must not contain whitespaces.":(e.includes(":key/mrk-")?k.test(e):M.test(e))?(null===(l=null===(a=e.split("kms:"))||void 0===a?void 0:a.pop())||void 0===l?void 0:l.split(":")[0])!==t?"Your KMS key must contain your selected region.":void 0:'Key provided is not a valid ARN. It should be in the format "arn:aws:kms:<region>:<accountid>:key/<keyid>".':"Field is required."},nt=e=>{const t={emptyPassword:!1,baseRequirements:!1,uppercase:!1,lowercase:!1,numbersOrSymbols:!1};return e&&e.trim()?((0!==(e.match(/[^\x20-\x7E]/g)||[]).length||-1!==e.indexOf(" ")||e.length<14)&&(t.baseRequirements=!0),0===(e.match(/[A-Z]/g)||[]).length&&(t.uppercase=!0),0===(e.match(/[a-z]/g)||[]).length&&(t.lowercase=!0),/^[a-zA-Z ]+$/.test(e)&&(t.numbersOrSymbols=!0),Object.values(t).every((e=>!1===e))?void 0:t):(t.emptyPassword=!0,t)},rt=e=>{if(e)return new Set(e.map((e=>(0,s.get)(e,"username",null)))).size!==e.length?"Usernames must be unique only.":void 0},it=e=>{if(-1!==(0,s.indexOf)(e,"%")||-1!==(0,s.indexOf)(e,":")||-1!==(0,s.indexOf)(e,"/"))return"Username must not contain /, :, or %."},st=(e,t,a,l)=>{const n=l.substring(0,l.lastIndexOf("-confirm"));if(e!==(0,s.get)(t,n))return"The passwords do not match"},ot=(e,t,a,l)=>{var n;if(!((e,t)=>{var a,l;const n=null!==(a=null==e?void 0:e.node_labels)&&void 0!==a?a:[{}],[{key:r,value:i}]=n,s=null!==(l=null==t?void 0:t.match(/\[([^[\]]*)\]/))&&void 0!==l?l:[];return 1===n.length&&!r&&!i||!Object.keys(n).includes(s[1])})(t,l))return null!==(n=me(e))&&void 0!==n?n:Ze(e,t,a,l)},ut=pe,dt=(e,t)=>{if(e||t)return e&&t?z(e,"TLS secret",63):"You cannot provide only one of TLS secret name and Hostname"},ct=(e,t)=>dt(e,t.clusterRoutesHostname),mt=(e,t)=>dt(e,t.clusterRoutesTlsSecretRef),pt=(e="")=>{const t=e.split(",").find((e=>!!z(e,"Namespace",63)));if(t)return z(t,"Namespace",63)},ft=(e,t,{maxWorkerVolumeSizeGiB:a})=>e<o.workerNodeVolumeSizeMinGiB||e>a?`The worker root disk size must be between ${o.workerNodeVolumeSizeMinGiB} GiB and ${a} GiB.`:e===Math.floor(e)?void 0:"Decimals are not allowed for the worker root disk size. Enter a whole number.",Et=(...e)=>t=>{for(let a=0;a<e.length;a+=1){const l=(0,e[a])(t);if(l)return l}},gt=e=>e?b.test(e)?void 0:`Host domain '${e}' isn't valid, must contain at least two valid lower-case host labels separated by dots, for example 'mydomain.com'.`:"Host domain is required.",vt=e=>{try{return"https:"===new URL(e).protocol}catch(e){return!1}},ht={required:U,acknowledgePrerequisites:H,checkIdentityProviderName:V,checkClusterUUID:_e,checkClusterDisplayName:Ce,checkUserID:ye,validateRHITUsername:Ae,cidr:Le,subnetCidrs:(e,t,a,n)=>{var i,s;if(!e||0===(null==n?void 0:n.length))return;const o=[],d=e=>new(r())(e).start().toString(),c=t=>{t?null==n||n.forEach((t=>{I.test(t.cidr_block)&&!(0,l.c2)(e,d(t.cidr_block))&&o.push(t)})):null==n||n.forEach((t=>{if(I.test(t.cidr_block))if((0,l.c2)(e,d(t.cidr_block)))o.push(t);else if((0,l.g4)(e,t.cidr_block)){const e={...t,overlaps:!0};o.push(e)}}))},m=()=>{var e,t;return(null===(e=o[0])||void 0===e?void 0:e.name)||(null===(t=o[0])||void 0===t?void 0:t.subnet_id)};return a===u.FieldId.NetworkMachineCidr&&(c(!0),o.length>0)?`The Machine CIDR does not include the starting IP (${d(o[0].cidr_block)}) of ${m()}`:a===u.FieldId.NetworkServiceCidr&&(c(!1),o.length>0)?(null===(i=o[0])||void 0===i?void 0:i.overlaps)?`The Service CIDR overlaps with ${m()} CIDR \n        '${o[0].cidr_block}'`:`The Service CIDR includes the starting IP (${d(o[0].cidr_block)}) of ${m()}`:a===u.FieldId.NetworkPodCidr&&(c(!1),o.length>0)?(null===(s=o[0])||void 0===s?void 0:s.overlaps)?`The Pod CIDR overlaps with ${m()} CIDR \n        '${o[0].cidr_block}'`:`The Pod CIDR includes the starting IP (${d(o[0].cidr_block)}) of ${m()}`:void 0},awsMachineCidr:(e,t)=>{if(!e)return;const a="true"===(null==t?void 0:t.multi_az),l=Ne(e);if(null!=l){if(l<16)return"The subnet mask can't be larger than '/16'.";if((a||"true"===(null==t?void 0:t.hypershift))&&l>24)return"The subnet mask can't be smaller than '/24'.";if(!a&&l>25)return"The subnet mask can't be smaller than '/25'."}},gcpMachineCidr:(e,t)=>{if(!e)return;const a="true"===(null==t?void 0:t.multi_az),l=Ne(e);if(null!=l){if(a&&l>23)return"The subnet mask can't be smaller than '/23', which provides up to 69 nodes.";if(!a&&l>23)return"The subnet mask can't be smaller than '/23', which provides up to 23 nodes."}},serviceCidr:e=>{if(!e)return;const t=Ne(e);return null!=t&&t>24?"The subnet mask can't be smaller than '/24', which provides up to 254 services.":void 0},podCidr:(e,t)=>{if(!e)return;const a=Ne(e);if(null!=a){if(a>21)return"The subnet mask can't be smaller than /21.";const e=2**(32-(Ne(null==t?void 0:t.network_host_prefix)||23));if(Math.floor(2**(32-a)/e)<32)return`The subnet mask of /${a} does not allow for enough nodes. Try changing the host prefix or the pod subnet range.`}},disjointSubnets:e=>(t,a)=>{if(!t)return;const n={network_machine_cidr:"Machine CIDR",network_service_cidr:"Service CIDR",network_pod_cidr:"Pod CIDR"};delete n[e];const r=[];I.test(t)&&Object.keys(n).forEach((e=>{const i=(0,s.get)(a,e,null);try{i&&(0,l.g4)(t,i)&&r.push(n[e])}catch(e){}}));const i=r.length>1;return r.length>0?`This subnet overlaps with the subnet${i?"s":""} in the ${r.join(", ")} field${i?"s":""}.`:void 0},validateRange:e=>{if(void 0!==Le(e)||!e)return;const t=e.split("/"),a=t[0].split(".").map((e=>Number(e).toString(2).padEnd(8,"0"))).join(""),l=parseInt(t[1],10);return a.slice(0,l).padEnd(32,"0")!==a?"This is not a subnet address. The subnet prefix is inconsistent with the subnet mask.":void 0},privateAddress:e=>{if(void 0!==Le(e)||!e)return;const t=e.split("/"),a=t[0].split(".").map((e=>parseInt(e,10))),l=parseInt(t[1],10);return 10===a[0]&&l>=8||172===a[0]&&(0,s.inRange)(a[1],16,32)&&l>=12||192===a[0]&&168===a[1]&&l>=16?void 0:"Range is not private."},awsSubnetMask:e=>t=>{if(!e||void 0!==Le(t)||!t)return;const a={network_machine_cidr_single_az:[16,25],network_machine_cidr_multi_az:[16,24],network_service_cidr:[void 0,24]}[e],l=t.split("/"),n=parseInt(l[1],10);return a[0]?a[0]<=n&&n<=a[1]?void 0:`Subnet mask must be between /${a[0]} and /${a[1]}.`:n>a[1]||n<1?`Subnet mask must be between /1 and /${a[1]}.`:void 0},hostPrefix:e=>{if(!e)return;if(!A.test(e))return`The value '${e}' isn't a valid subnet mask. It must follow the RFC-4632 format: '/16'.`;const t=Ne(e);if(null!=t){if(t<23)return"The subnet mask can't be larger than '/23', which provides up to 510 Pod IP addresses.";if(t>26)return"The subnet mask can't be smaller than '/26', which provides up to 62 Pod IP addresses."}},nodes:we,nodesMultiAz:e=>{if(Number(e)%3>0)return"Number of nodes must be multiple of 3 for Multi AZ cluster."},validateNumericInput:Me,validateLabelKey:ot,validateLabelValue:pe,validateWorkerVolumeSize:ft,checkOpenIDIssuer:q,checkGithubTeams:ue,checkRouteSelectors:be,checkDisconnectedConsoleURL:ke,checkDisconnectedvCPU:Fe,checkDisconnectedSockets:xe,checkDisconnectedMemCapacity:Ge,checkDisconnectedNodeCount:Ue,checkCustomOperatorRolesPrefix:oe,checkHostDomain:gt,AWS_MACHINE_CIDR_MIN:16,AWS_MACHINE_CIDR_MAX_SINGLE_AZ:25,AWS_MACHINE_CIDR_MAX_MULTI_AZ:24,GCP_MACHINE_CIDR_MAX:23,SERVICE_CIDR_MAX:24,POD_NODES_MIN:32,HOST_PREFIX_MIN:23,HOST_PREFIX_MAX:26,MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH:G}},10176:(e,t,a)=>{"use strict";a.r(t),a.d(t,{versionComparator:()=>n,versionRegEx:()=>l});const l=/(?<major>\d+).(?<minor>\d+).(?<revision>\d+)(?:-(rc|fc).(?<patch>\d+))?/,n=(e,t)=>{var a,n;const r=null===(a=l.exec(e))||void 0===a?void 0:a.groups,i=null===(n=l.exec(t))||void 0===n?void 0:n.groups;if(r&&i){if(r.major!==i.major)return parseInt(r.major,10)>parseInt(i.major,10)?1:-1;if(r.minor!==i.minor)return parseInt(r.minor,10)>parseInt(i.minor,10)?1:-1;if(r.revision!==i.revision)return parseInt(r.revision,10)>parseInt(i.revision,10)?1:-1;if(r.patch!==i.patch)return void 0===r.patch?1:void 0===i.patch?-1:parseInt(r.patch,10)>parseInt(i.patch,10)?1:-1}return 0}},94402:(e,t,a)=>{"use strict";a.d(t,{E:()=>s});var l=a(99589),n=a.n(l),r=a(45436);const i={[r.x.SECURITY_GROUPS]:{label:"security groups",day1:"4.14.0",day2:"4.11.0",hypershift:{day1:"4.14.0",day2:"4.15.0"}},[r.x.AWS_SHARED_VPC]:{label:"shared VPCs",day1:"4.13.9",day2:"4.13.9",hypershift:{day1:"4.13.9",day2:"4.13.9"}}},s=(e,t,a)=>{const l=i[e];return t&&l?((e,t,a)=>{var l,r;let i;return i=a.isHypershift?a.day1?null===(l=e.hypershift)||void 0===l?void 0:l.day1:null===(r=e.hypershift)||void 0===r?void 0:r.day2:a.day1?e.day1:e.day2,!i||n().gte(n().coerce(t)||"",n().coerce(i)||"")?"":`To use ${e.label}, your cluster must be version ${i} or newer.`})(l,t,a):""}},88851:(e,t,a)=>{"use strict";a.r(t),a.d(t,{isExactMajorMinor:()=>o,isMajorMinorEqualOrGreater:()=>u,splitVersion:()=>s,versionFormatter:()=>i});var l=a(99589),n=a.n(l);const r=/^.*(v[0-9]+.*)$/,i=e=>{const t=n().coerce(e);if(!t)return e;const a=e.replace(r,"$1"),l=(n().prerelease(a)||[]).find((e=>"string"==typeof e));return`${t.raw}${l?`-${l.split("-")[0]}`:""}`},s=e=>{var t,a;let l=[];try{l=e.split(".").map((e=>parseInt(e,10))),l[1]=null!==(t=l[1])&&void 0!==t?t:0,l[2]=null!==(a=l[2])&&void 0!==a?a:0}catch(e){return[]}return l},o=(e,t,a)=>{const[l,n]=s(e);return t===l&&a===n},u=(e,t,a)=>{const[l,n]=s(e);return l>t||l===t&&n>=a}},32358:(e,t,a)=>{"use strict";a.r(t),a.d(t,{filterOutRedHatManagedVPCs:()=>s,getAllSubnetFieldNames:()=>o,getMatchingAvailabilityZones:()=>n,getSelectedAvailabilityZones:()=>r,isSubnetMatchingPrivacy:()=>l,vpcHasRequiredSubnets:()=>i});const l=(e,t)=>!t||"public"===t&&e.public||"private"===t&&!e.public,n=(e,t,a)=>["a","b","c","d","e","f"].map((t=>`${e}${t}`)).filter((e=>a.every((a=>{var n;return null===(n=t.aws_subnets)||void 0===n?void 0:n.some((t=>t.availability_zone===e&&l(t,a)))})))),r=(e,t)=>{const a=[];return t.forEach((t=>{var l;const n=null===(l=(e.aws_subnets||[]).find((e=>t.privateSubnetId===e.subnet_id)))||void 0===l?void 0:l.availability_zone;n&&!a.includes(n)&&a.push(n)})),a},i=(e,t)=>{const a=e.aws_subnets||[];return!!a.some((e=>l(e,"private")))&&(!1!==t||a.some((e=>l(e,"public"))))},s=e=>e.filter((e=>!e.red_hat_managed)),o=e=>{const t=["machinePoolsSubnets[0]"];return e&&(t.push("machinePoolsSubnets[1]"),t.push("machinePoolsSubnets[2]")),t.reduce(((e,t)=>{const a=[...e];return a.push(`${t}.availabilityZone`),a.push(`${t}.privateSubnetId`),a.push(`${t}.publicSubnetId`),a}),[])}},31965:(e,t,a)=>{"use strict";a.d(t,{G:()=>r,Mu:()=>i,eZ:()=>n});var l=a(77475);const n="SHOW_API_ERROR",r="CLEAR_API_ERROR",i={showApiError:e=>(0,l.action)(n,e),clearApiError:()=>(0,l.action)(r)}},35491:(e,t,a)=>{"use strict";a.d(t,{A:()=>fo});var l=a(93345),n=a.n(l),r=a(98642),i=a(97665),s=a(23803),o=a(57146),u=a(58156),d=a.n(u),c=a(71468),m=a(95376),p=a(25247),f=a(20881),E=a(69304),g=a(7028),v=a(11243),h=a(62384),b=a(70012),S=a(75166),_=a(976),C=a(63802),y=a(60915),I=a(6229),A=a(10423),R=a(983),T=a(70460),O=a(88075),P=a(16401),D=a(75907),L=a(87960),N=a(33366),w=a(7691),M=a(90678),k=a(73113),F=a(51976),x=a(83579),G=a(35787),U=a(22069),j=a(72583),H=a(76980),V=a(42045),q=a(36165),z=a(65702),B=a(41612),W=a(8888),$=a(35198),Y=a(41451);const K=({isRosa:e,SSOLogin:t})=>n().createElement(n().Fragment,null,n().createElement(U.E,{component:"p"},`Red Hat OpenShift ${e?"Service on AWS":"Cluster Manager"} is a managed service that makes it easy for you to use OpenShift ${e?"on AWS":""} without needing to install, operate or upgrade your own OpenShift (Kubernetes) cluster.`),!t&&n().createElement(n().Fragment,null,n().createElement(A.h,{headingLevel:"h3"},"Your API token"),n().createElement(U.E,{component:"p"},"Use this API token to authenticate against your Red Hat OpenShift Cluster Manager account.")));var Q=a(30219),Z=a(10046),X=a(55213);const J=({isRosa:e,commandName:t,commandTool:a})=>n().createElement(M.B,{hasGutter:!0},n().createElement(k.a,null,n().createElement(y.Z,{className:"ocm-c-api-token__card"},n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h2"},"SSO Login")),n().createElement(R.b,{className:"ocm-c-api-token__card--body"},n().createElement(F.n,null,n().createElement(K,{isRosa:e,SSOLogin:!0})),n().createElement(F.n,{className:"pf-v5-u-mt-lg"},n().createElement(x.B8,{component:"ol"},n().createElement(G.c,null,"Download and install the ",n().createElement("code",null,t)," command-line tool:"," ",a===z.tools.OCM&&n().createElement(Y.Ay,{...Y.LE}),n().createElement(U.E,{component:"p"}),n().createElement(B.default,{tool:a,channel:z.channels.STABLE}),n().createElement(U.E,{component:"p"})),n().createElement(G.c,null,`Make sure your ${a.toUpperCase()} CLI version is ${"ocm"===a?"0.1.73":"1.2.37"} or higher `,n().createElement(X.default,{hint:n().createElement(n().Fragment,null,`To check your ${a.toUpperCase()} CLI version, run this command: `,n().createElement("code",null,`${a} version`))}),". To authenticate, run this command:",n().createElement(U.E,{component:"p"}),n().createElement(Z.default,{className:"ocm-c-api-token-limit-width",outerClassName:"pf-v5-u-mt-md"},`${t} login --use-auth-code`)),n().createElement(G.c,null,"Enter your Red Hat login credentials via SSO in the browser window.")))))),n().createElement(k.a,null,n().createElement(y.Z,null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h2"},"Additional resources:")),n().createElement(R.b,null,n().createElement(F.n,null,"You can find documentation for these related products and services here:",n().createElement(x.B8,null,n().createElement(G.c,null,n().createElement(W.default,{href:z.default.OCM_CLI_DOCS,noIcon:!0},"OpenShift Cluster Manager documentation"))))))));var ee=a(58994),te=a(75070);const ae=n().createElement(W.default,{href:z.default.OCM_CLI_DOCS,noIcon:!0},"read more about setting up the ocm CLI"),le=e=>{const{show:t,showPath:a="",commandName:l="ocm",commandTool:r=z.tools.OCM,docsLink:i=ae,blockedByTerms:s,SSOLogin:o,isRosa:u}=e,d=(0,q.useGlobalState)((e=>e.rosaReducer.offlineToken)),m=(0,c.wA)(),p=(0,f.A)(),g=(0,v.useFeatureGate)(_.CLI_SSO_AUTHORIZATION)&&!o,b=(0,h.isRestrictedEnv)(),[S,C]=n().useState("");return n().useEffect((()=>{o||(b?(0,h.getRefreshToken)(p).then((e=>C(e))):d&&C(d))}),[p,b,d,o]),n().useEffect((()=>{o||s||!t||d||(console.log("Tokens: componentDidMount, props =",e),(0,te.z)(((e,t)=>{m((0,V.setOfflineToken)(t||e))}),window.location.origin,p))}),[]),o?n().createElement(J,{isRosa:u,commandName:l,commandTool:r}):n().createElement(M.B,{hasGutter:!0},n().createElement(k.a,null,n().createElement(y.Z,{className:"ocm-c-api-token__card"},!b&&g?n().createElement(I.Z,null,n().createElement($.A,null)):null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h2"},`Connect with ${b?"refresh":"offline"} tokens`)),n().createElement(R.b,{className:"ocm-c-api-token__card--body"},n().createElement(F.n,null,n().createElement(K,{isRosa:u,SSOLogin:!1})),t||S?n().createElement(n().Fragment,null,n().createElement(ee.A,{token:S}),n().createElement(F.n,{className:"pf-v5-u-mt-lg"},n().createElement(A.h,{headingLevel:"h3"},"Using your token in the command line"),n().createElement(x.B8,{component:"ol"},n().createElement(G.c,null,"Download and install the ",n().createElement("code",null,l)," command-line tool:"," ",r===z.tools.OCM&&n().createElement(Y.Ay,{...Y.LE}),n().createElement(U.E,{component:"p"}),n().createElement(B.default,{tool:r,channel:z.channels.STABLE}),n().createElement(U.E,{component:"p"})),n().createElement(G.c,null,"Copy and paste the authentication command in your terminal:",n().createElement(U.E,{component:"p"}),null!=d||b?n().createElement(ee.A,{token:S,command:`${l} login --token="{{TOKEN}}"`,showCommandOnError:!0,showInstructionsOnError:!1}):n().createElement(H.A,{size:"md"}))),n().createElement(A.h,{headingLevel:"h3"},`Need help connecting with your ${b?"refresh":"offline"} token?`),n().createElement(U.E,{component:"p"},"Run ",n().createElement("code",null,l," login --help")," for in-terminal guidance, or"," ",i," for more information about setting up the ",n().createElement("code",null,l)," ","CLI."))):n().createElement(E.Link,{to:a},n().createElement(j.$n,{variant:"primary",className:"pf-v5-u-mt-md","data-testid":"load-token-btn",onClick:()=>(0,te.z)(((e,t)=>{m((0,V.setOfflineToken)(t||e))}),window.location.origin,p)},"Load token"))))),!b&&n().createElement(k.a,null,n().createElement(y.Z,{className:"ocm-c-api-token__card"},n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h2"},"Revoke previous tokens")),n().createElement(R.b,{className:"ocm-c-api-token__card--body"},n().createElement(Q.A,null)))))},ne=e=>n().createElement(le,{...e,commandName:"rosa",commandTool:z.tools.ROSA,docsLink:n().createElement(W.default,{href:z.default.ROSA_CLI_DOCS,noIcon:!0},"read more about setting up the rosa CLI")});var re=a(71870);const ie=({children:e})=>n().createElement(N.AppPage,{title:"OpenShift Cluster Manager"},n().createElement(O.A,{className:"pf-v5-u-mb-md"},n().createElement(P.A,{title:"OpenShift Cluster Manager"})),n().createElement(C.d8,null,n().createElement(y.Z,null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h2"},"OpenShift Cluster Manager CLI login")),n().createElement(R.b,null,e)))),se=({showToken:e=!1,showPath:t,isRosa:a=!1})=>{const{organization:l,isLoading:r,error:i}=(0,re.default)();let s=!1;if(!(0,h.isRestrictedEnv)()){const e=i;if(r)return n().createElement(ie,null,n().createElement(D.A,null));if(i&&!L.g)return n().createElement(ie,null,n().createElement(T.F,{variant:"danger",isInline:!0,title:"Error retrieving user account",role:"alert",className:"error-box","data-testid":"alert-error"},n().createElement("p",null,e.reason),n().createElement("p",null,`Operation ID: ${e.operation_id||"N/A"}`)));s=!!(null==l?void 0:l.capabilities)&&(0,L.X)(l.capabilities)}const o="OpenShift Cluster Manager "+(s?"SSO login":"API Token"),u=a?ne:le;return n().createElement(N.AppPage,{title:(s?"SSO Login":"API Token")+" | OpenShift Cluster Manager"},n().createElement(O.A,{className:"pf-v5-u-mb-md"},!s&&n().createElement(w.default,{path:[{label:"Downloads",path:"/downloads"},{label:o}]}),n().createElement(P.A,{title:o})),n().createElement(C.d8,null,n().createElement(u,{show:e,showPath:t,SSOLogin:s,isRosa:a})))};var oe=a(29068),ue=a(45745),de=a(94023),ce=a(18618),me=a(33675),pe=a(75279),fe=a(99145);const Ee=()=>n().createElement(N.AppPage,null,n().createElement(me.p,{id:"not-found"},n().createElement(pe.h,null,n().createElement(fe.y,null))));var ge=a(31777);const ve=()=>n().createElement(N.AppPage,null,n().createElement(me.p,{id:"not-found","data-testid":"not-found"},n().createElement(pe.h,null,n().createElement(ge.A,null))));var he=a(25883),be=a(25514);const Se=()=>{const{id:e}=(0,m.useParams)(),t=(0,c.wA)(),a=(0,be.useGlobalState)((e=>e.accessRequest.accessRequest));return(0,l.useEffect)((()=>{!a.subscription_id&&e&&t((0,he.getAccessRequest)(e))}),[t,e,a.subscription_id]),a.error?n().createElement(ve,null):a.subscription_id?n().createElement(E.Navigate,{replace:!0,to:`/details/s/${a.subscription_id}#accessRequest`}):n().createElement(Ee,null)};var _e=a(78399),Ce=a(98240),ye=a(74617),Ie=a(98759),Ae=a(52025),Re=a(97948),Te=a(86130),Oe=a(80234),Pe=a(19202),De=a(66827);const Le=e=>l.createElement(Re.I,{...e},l.createElement(Pe.CheckCircleIcon,{color:De.E.value})),Ne=()=>l.createElement(me.p,null,l.createElement(Te.o,{titleText:"Submission confirmation",icon:l.createElement(Oe.q,{icon:Le}),headingLevel:"h4"}),l.createElement(pe.h,null,"Thank you for completing the GovCloud access form.",l.createElement("br",null),"You will receive an email in 3-5 business days about the next steps."));var we=a(96998),Me=a(96553),ke=a(1218),Fe=a(83873),xe=a(56780),Ge=a(23285),Ue=a(71837),je=a(72972),He=a(55318),Ve=a(74688);const qe=(e,t,a)=>b.Ay.postForm("/fedramp-customer-interest/incident",{file:e,contractID:a,acknowledgement:JSON.stringify(t)},{headers:{"Content-Type":"multipart/form-data"},baseURL:g.default.configData.fedrampGateway});var ze=a(24074);const Be=10485760,We=(0,Ve.humanizeValueWithUnit)(Be,"B").value,$e=({title:e,onSubmitSuccess:t,hasGovEmail:a})=>{const[n,r]=l.useState(!1),[i,s]=l.useState(!1),[o,u]=l.useState(!1),[d,c]=l.useState(),[m,p]=l.useState(),[f,E]=l.useState(),[v,h]=l.useState(!1),[b,S]=l.useState(!1),[_,C]=l.useState(),A=n&&i&&o;return l.createElement(y.Z,{style:{maxWidth:"80rem",borderTopColor:"#e00",borderTopStyle:"solid"}},l.createElement(I.Z,null,l.createElement(we.s,{alignContent:{default:"alignContentCenter"},direction:{default:"column"},justifyContent:{default:"justifyContentCenter"},alignItems:{default:"alignItemsCenter"}},l.createElement(Me.Z,{style:{width:"5rem"}},l.createElement(ke.m,{src:ze,alt:"Red Hat Logo"})),l.createElement(Me.Z,null,l.createElement(F.n,null,l.createElement(U.E,{component:U.Y.h1},e))))),l.createElement(R.b,null,l.createElement(M.B,{hasGutter:!0},l.createElement(k.a,null,l.createElement(F.n,null,l.createElement(U.E,{component:U.Y.p},"Red Hat OpenShift Service on AWS (ROSA) and Red Hat Insights in the GovCloud Region have been authorized (agency) under the Federal Risk Assessment and Management Program (FedRAMP) High and DoD Cloud Computing Security Requirements Guide (SRG)."),l.createElement(U.E,{component:U.Y.p},"Federal and government agencies can be granted access to the FedRAMP environment without further verification. However, commercial organizations and FISMA R&D universities will need to provide documentation to show that they are supporting a government contract/grant or in the process of bidding on a government contract/grant (RFP, RFI, pre-bid stage), confirmation of U.S. Person only access at the root level and agreement to the FedRAMP Rules of Behavior."),l.createElement(U.E,{component:U.Y.p},"Upon submission, this form will be processed by Red Hat. If further information is required you will receive a follow up email, or you will receive instructions on how to access the service. By checking the boxes below you confirm that:"))),l.createElement(k.a,null,l.createElement(Fe.S,{label:"Requestor is U.S. Person as defined by the International Traffic in Arms Regulations, 22 CFR 120.62.",isChecked:n,onChange:(e,t)=>r(t),id:"citizen-checkbox"}),l.createElement(Fe.S,{label:"Requestor will use the service to support a U.S. government contract and/or grant.",isChecked:i,onChange:(e,t)=>s(t),id:"check-checkbox"}),l.createElement(Fe.S,{label:"Requestor will only authorize U.S. Persons to manage and access root account keys to the service.",isChecked:o,onChange:(e,t)=>u(t),id:"training-checkbox"})),!a&&l.createElement(k.a,null,l.createElement(xe.g,{label:l.createElement(l.Fragment,null,"Contract ID, Award ID or RFP Number from the"," ",l.createElement("a",{href:"https://www.usaspending.gov/search",target:"_blank",rel:"noreferrer noopener"},"U.S. Spending government")," ","website.")},l.createElement(Ge.ks,{value:_,onChange:(e,t)=>C(t),isRequired:!0}))),l.createElement(k.a,null,l.createElement(xe.g,{label:l.createElement(F.n,null,l.createElement(U.E,{component:U.Y.p},"Please download the"," ",l.createElement(j.$n,{variant:"link",isInline:!0},l.createElement("a",{href:`${g.default.configData.fedrampS3}/fedramp-rules-of-behavior.pdf`,target:"_blank",rel:"noopener noreferrer"},"FedRAMP Rules of Behavior document."))," ","Read the document and attest to the requirements by signing and uploading it to the designated area below."))},l.createElement(Ue.e,{id:"doc-upload",value:d,filename:null==d?void 0:d.name,filenamePlaceholder:"Drag and drop a file or upload one",dropzoneProps:{accept:{pdf:[".pdf"]},maxSize:Be,onDropRejected:()=>{E(`File must be pdf and has ${We} Mb or less.`)}},onFileInputChange:(e,t)=>{t.size>Be?(E(`File size is too big. Upload a new file ${We} Mb or less`),c(void 0)):(E(void 0),c(t))},onClearClick:()=>{E(void 0),c(void 0)},onReadFailed:(e,t)=>{E(t.message),S(!1)},onReadStarted:()=>{E(void 0),S(!0)},onReadFinished:()=>{S(!1)},isDisabled:b,isLoading:b,browseButtonText:"Upload"}))))),l.createElement(je.w,null,l.createElement(M.B,{hasGutter:!0},(!!m||!!f)&&l.createElement(k.a,null,l.createElement(T.F,{isInline:!0,variant:"danger",title:"An error occured."},m||f)),l.createElement(k.a,null,l.createElement(He.a,null,l.createElement(j.$n,{variant:"primary",isDisabled:!A||v||!!f||!d,onClick:async()=>{if(d){h(!0),p(void 0);try{await qe(d,{isUSPerson:n,authPerson:o,govContract:i},_),t()}catch(e){const t=e;p(`${t.code}: ${t.message}`)}finally{h(!1)}}},isLoading:v},v?"Submitting":"Submit"))))))};var Ye=a(31003),Ke=a(48525);const Qe=e=>l.createElement(Re.I,{...e},l.createElement(Ye.ExclamationCircleIcon,{color:Ke.global_danger_color_100.value})),Ze=({message:e})=>l.createElement(me.p,null,l.createElement(Te.o,{titleText:"Failed to verify GovCloud prerequisites",icon:l.createElement(Oe.q,{icon:Qe}),headingLevel:"h4"}),l.createElement(pe.h,null,l.createElement(F.n,{className:"pf-v5-u-mb-md"},e),l.createElement(j.$n,{variant:"link",iconPosition:"right",isInline:!0,onClick:()=>window.location.reload()},"Try refreshing the page.")));var Xe=a(40167);const Je=e=>l.createElement(Re.I,null,l.createElement(Ye.ExclamationCircleIcon,{...e,color:Ke.global_danger_color_100.value})),et=({redirectURL:e})=>l.createElement(me.p,null,l.createElement(Te.o,{titleText:"Signed agreement not detected",icon:l.createElement(Oe.q,{icon:Je}),headingLevel:"h4"}),l.createElement(pe.h,null,"You need to sign the Enterprise agreement and Appendix4 to proceed",l.createElement("br",null),l.createElement(j.$n,{variant:"link",icon:l.createElement(Re.I,null,l.createElement(Xe.ExternalLinkAltIcon,null)),iconPosition:"right",isInline:!0,onClick:()=>window.location.assign(`${e}&redirect=${window.location.href}`)},"Sign them here.")));var tt=a(73410);const at=/\.(gov|mil)$/,lt="Access request for Red Hat OpenShift Service on AWS (ROSA) FedRAMP",nt=()=>{const[e,t]=l.useState(!1),[a,n,r,i]=(()=>{const[e,t]=l.useState(!1),[a,n]=l.useState(""),[r,i]=l.useState(),[s,o]=l.useState(!0);return l.useEffect((()=>{(async()=>{o(!0);try{const e=await tt.authorizationsService.selfTermsReview({event_code:"govCloud",site_code:"cloudServices"});t(!e.data.terms_required),n(e.data.redirect_url||"")}catch(e){i("Failed to detect Enterprise agreement & Appendix 4 status.")}finally{o(!1)}})()}),[]),[e,a,s,r]})(),[s,o,u]=(()=>{const[e,t]=l.useState(!0),[a,n]=l.useState(),[r,i]=l.useState(!1);return l.useEffect((()=>{(async()=>{try{const e=await tt.accountsService.getCurrentAccount();i(at.test(e.data.email||""))}catch(e){const t=e;n(`Could not retrieve user's email. ${t.code}: ${t.message}`)}finally{t(!1)}})()}),[]),[r,e,a]})(),d=i||u,c=r||o;let m;return m=d?l.createElement(Ze,{message:d}):c?l.createElement(fe.y,null):a?e?l.createElement(Ne,null):l.createElement($e,{title:lt,onSubmitSuccess:()=>t(!0),hasGovEmail:s}):l.createElement(et,{redirectURL:n}),l.createElement(N.AppPage,{title:`${lt} | Red Hat OpenShift Cluster Manager`},l.createElement(C.d8,{className:"govcloud-page"},m))};var rt=a(34158),it=a(60311),st=a(58349),ot=a(83821),ut=a(44902),dt=a(55083),ct=a(69387),mt=a(79425),pt=a(67287),ft=a(70315),Et=a(48854),gt=a(36202),vt=a(44372),ht=a(77528),bt=a(83069),St=a(52189),_t=a(32937),Ct=a(34468),yt=a(69275),It=a(9607),At=a(24635),Rt=a(74321),Tt=a(70183),Ot=a(81179),Pt=a(95740),Dt=a(45946),Lt=a(76638),Nt=a(96581),wt=a(80720),Mt=a(35687),kt=a(59262),Ft=a(21458),xt=a(15048),Gt=a(15022),Ut=a(60590),jt=a(61955),Ht=a(36245),Vt=a(35173),qt=a(37245),zt=a(3874);const Bt=n().createElement(w.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Oracle Cloud Infrastructure (virtual machines)"}]}),Wt=n().createElement(n().Fragment,null,"For",n().createElement(W.default,{href:z.default.INSTALL_GENERIC_NON_TESTED_PLATFORMS,stopClickPropagation:!0},"non-tested platforms")),$t=()=>n().createElement(N.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Oracle Cloud Infrastructure (virtual machines)"},n().createElement(zt.InstructionsChooserPageTitle,{cloudName:"Oracle Cloud Infrastructure (virtual machines)",breadcrumbs:Bt}),n().createElement(C.d8,null,n().createElement(qt.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:z.default.INSTALL_ASSISTED_LEARN_MORE,hideIPI:!0,ipiPageLink:"",hideUPI:!0,upiPageLink:"",agentBasedPageLink:"/install/platform-agnostic/agent-based",agentBasedLearnMoreLink:z.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:[Wt,"For air-gapped/restricted networks"],ai:[Wt],upi:[Wt]},name:"oracle-cloud"})));var Yt=a(57124),Kt=a(17330),Qt=a(21958),Zt=a(19901),Xt=a(4147),Jt=a(25321),ea=a(77313),ta=a(72063),aa=a(555),la=a(45437),na=a(36561),ra=a(74726),ia=a(6845),sa=a(74724),oa=a(90279),ua=a(15221),da=a(21195),ca=a(9367),ma=a(63354);const pa="RegisterCluster";var fa=a(9704),Ea=a(72740),ga=a(21702),va=a(30620),ha=a(23215),ba=a(83349),Sa=a(92292),_a=a(91089),Ca=a(43775),ya=a(14419),Ia=a(24239),Aa=a(2479),Ra=a(59067),Ta=a(84037),Oa=a(91497),Pa=a(38871),Da=a(71299),La=a(2358);const Na=({setSettings:e,canSubscribeOCP:t,isValid:a=!0,supportLevel:l=Ra.SubscriptionCommonFields.support_level.EVAL,canSubscribeMarketplaceOCP:r=!1})=>{const i={support_level:l,isValid:a,managed:!1};return n().createElement(La.A,{initialSettings:i,onSettingsChange:e,canSubscribeStandardOCP:t,canSubscribeMarketplaceOCP:r})},wa=e=>{const t=d()(e,"userProfile.organization.details.capabilities",[]).find((e=>"capability.cluster.subscribed_ocp"===e.name));return!(!t||"true"!==t.value)},{SUPPORT_LEVEL:Ma,SYSTEM_UNITS:ka,CPU_TOTAL:Fa,SOCKET_TOTAL:xa}=S.subscriptionSettings,Ga=e=>{const{[Ma]:t,[ka]:a,[Fa]:l,[xa]:n}=e;if(t!==Ra.SubscriptionCommonFields.support_level.PREMIUM&&t!==Ra.SubscriptionCommonFields.support_level.STANDARD&&t!==Ra.SubscriptionCommonFields.support_level.SELF_SUPPORT)return{request:null,isValid:!0};if(!e.isValid)return{request:null,isValid:!1};const r={...e};return a===Ra.SubscriptionCommonFields.system_units.SOCKETS&&(r[xa]=parseInt(n,10),r[Fa]=r[xa]),a===Ra.SubscriptionCommonFields.system_units.CORES_V_CPU&&(r[xa]=1,r[Fa]=parseInt(l,10)),{request:r,isValid:e.isValid}},Ua={form:pa},ja=(0,ma.A)(Ua)((({handleSubmit:e})=>{const t=(0,c.wA)(),[a,r]=(0,l.useState)({}),{quotaResponse:i,registerClusterResponse:s,isOpen:o,canSubscribeOCP:u}=(0,be.useGlobalState)((e=>({quotaResponse:(0,fa.get)(e,"userProfile.organization",null),registerClusterResponse:e.clusters.createdCluster,isOpen:(0,ya.default)(e,Ca.default.REGISTER_CLUSTER_ERROR),canSubscribeOCP:wa(e)}))),d=(0,l.useCallback)((()=>{t((0,Ia.resetCreatedClusterResponse)()),t((0,Ea.reset)(pa))}),[t]);(0,l.useEffect)((()=>(d(),t((0,Aa.getOrganizationAndQuota)()),()=>d())),[t,d]),(0,l.useEffect)((()=>{s.error&&!o&&t((0,_a.openModal)(Ca.default.REGISTER_CLUSTER_ERROR))}),[s.error,o,t]);const{isValid:m}=(0,l.useMemo)((()=>Ga(a)),[a]),p=e=>{const{request:l,isValid:n}=Ga(a);if(n){const a={cluster_uuid:e.cluster_id,plan_id:Ra.SubscriptionCreateRequest.plan_id.OCP,status:Ra.SubscriptionCreateRequest.status.DISCONNECTED,display_name:e.display_name,console_url:e.web_console_url};t((0,Ia.registerDisconnectedCluster)(a,l))}};if(s.fulfilled)return n().createElement(E.Navigate,{replace:!0,to:`/details/s/${s.cluster.id}`});const f=o&&n().createElement(Oa.default,{title:"Error Registering Cluster",errorResponse:s,resetResponse:()=>t((0,Ia.resetCreatedClusterResponse)())});return(null==i?void 0:i.error)?n().createElement(C.d8,null,n().createElement(Da.default,{message:"Error retrieving quota",response:i})):n().createElement(N.AppPage,null,n().createElement(O.A,null,n().createElement(w.default,{path:[{label:"Cluster List"},{label:"Register disconnected cluster"}]}),n().createElement(P.A,{title:"Register disconnected cluster"})),n().createElement(C.d8,null,f,n().createElement(y.Z,{id:"register-cluster"},n().createElement(R.b,null,n().createElement(va.x,null,n().createElement(ha.E,{md:8},n().createElement(F.n,{id:"register-cluster-top-text"},n().createElement(U.E,{component:U.Y.p},"Register clusters that are not connected to OpenShift Cluster Manager. Existing cluster owners, cluster editors, or admins can edit existing cluster subscriptions from the cluster details page.")),(null==i?void 0:i.fulfilled)?n().createElement(ba.l,{onSubmit:e(p),className:"subscription-settings form"},n().createElement(ga.A,{component:Pa.default,name:"cluster_id",label:"Cluster ID",type:"text",extendedHelpText:"The cluster ID may be found on the About page of the cluster web console",disabled:s.pending,validate:Ta.checkClusterUUID,isRequired:!0}),n().createElement(ga.A,{component:Pa.default,name:"display_name",label:"Display name",type:"text",disabled:s.pending,validate:Ta.checkClusterDisplayName}),n().createElement(ga.A,{component:Pa.default,name:"web_console_url",label:"Web console URL",validate:Ta.checkDisconnectedConsoleURL,disabled:s.pending,type:"text"}),n().createElement(A.h,{headingLevel:"h4",size:"xl"},"Subscription settings"),n().createElement(F.n,null,n().createElement(U.E,{component:U.Y.p},"Editing the subscription settings will help ensure that you receive the level of support that you expect, and that your cluster is consuming the correct type of subscription.")),u?n().createElement(Na,{setSettings:r,canSubscribeOCP:u}):n().createElement(Sa.m,{content:"You cannot edit subscription settings because your organization does not have any OpenShift subscriptions. Contact sales to purchase OpenShift.",position:Sa.Z.auto},n().createElement("div",null,n().createElement(Na,{setSettings:r,canSubscribeOCP:u})))):n().createElement(D.A,null)))),n().createElement(je.w,null,n().createElement(j.$n,{variant:"primary",type:"submit",onClick:e(p),isDisabled:s.pending||!m},"Register cluster"),n().createElement(E.Link,{to:"/cluster-list"},n().createElement(j.$n,{variant:"secondary",isDisabled:s.pending},"Cancel"))))))}));var Ha=a(88139),Va=a(90179),qa=a.n(Va),za=a(77937),Ba=a(87370),Wa=a(7851),$a=a(10276),Ya=a(9296),Ka=a(93413),Qa=a(98229),Za=a(54910),Xa=a(41685),Ja=a(72067),el=a(72230);const tl=(e,t,a)=>{t.min>t.max&&(e[a]={min:"The minimum cannot be above the maximum value.",max:"The minimum cannot be above the maximum value."})},al=e=>{const t=e[el.FieldId.ClusterAutoscaling];if(!t)return{};const{cores:a,memory:l}=t.resource_limits,n={};return tl(n,a,"cores"),tl(n,l,"memory"),0===Object.keys(n).length?{}:{cluster_autoscaling:{resource_limits:n}}};var ll=a(65824),nl=a(94538),rl=a(74585),il=a(44500),sl=a(35476),ol=a(81437),ul=a(93745),dl=a(7019),cl=a(10135),ml=a(73553),pl=a(14115),fl=a(55576),El=a(56349);const gl=a.p+"images/CreateOSDWizard-intro.d8523900feace80f..png";var vl=a(17661),hl=a(22563),bl=a(81995),Sl=a(97862),_l=a(38715);const Cl=({hasGcpQuota:e,hasRhmQuota:t})=>{const[a]=(0,Ha.useField)(el.FieldId.MarketplaceSelection),{values:{[el.FieldId.BillingModel]:r,[el.FieldId.MarketplaceSelection]:i},setFieldValue:s,setFieldTouched:o,validateField:u}=(0,Ja.l)(),d=(0,l.useCallback)((()=>{s(el.FieldId.MarketplaceSelection,null,!1)}),[s]);(0,l.useEffect)((()=>{r.startsWith(S.billingModels.MARKETPLACE)||d()}),[r,d]),(0,l.useEffect)((()=>{r.startsWith(S.billingModels.MARKETPLACE)&&u(el.FieldId.MarketplaceSelection)}),[r,i,u]);const[c,m]=(0,l.useState)(!1),p="Select your marketplace",f=[{label:p,value:"placeholder"},{label:"Google Cloud Marketplace",value:S.billingModels.MARKETPLACE_GCP,isDisabled:!e,description:e?null:"You do not currently have a Google Cloud Platform subscription."},{label:"Red Hat Marketplace",value:S.billingModels.MARKETPLACE,isDisabled:!t,description:t?null:"You do not currently have a Red Hat Marketplace subscription."}],E=()=>{m(!c)},g=a=>{var l,r;return n().createElement(vl.S,{ref:a,onClick:E,isExpanded:c,isDisabled:!e&&!t,isFullWidth:!0,className:"marketplace-select-menu-toggle"},null!==(r=null===(l=f.find((e=>e.value===i)))||void 0===l?void 0:l.label)&&void 0!==r?r:p)},v=(e,t)=>{o(el.FieldId.MarketplaceSelection,!0,!1),t&&"placeholder"!==t?(s(el.FieldId.MarketplaceSelection,t,!1),s(el.FieldId.CloudProvider,t===S.billingModels.MARKETPLACE_GCP?pl.CloudProviderType.Gcp:pl.CloudProviderType.Aws,!1),s(el.FieldId.BillingModel,t,!1),s(el.FieldId.Byoc,"true",!1),s(el.FieldId.Product,S.normalizedProducts.OSD,!1)):d(),m(!1)};return n().createElement(Ha.Field,{name:el.FieldId.MarketplaceSelection,validate:e=>{if((!e||"placeholder"===e)&&r.startsWith(S.billingModels.MARKETPLACE))return"A selection is required."}},(({field:e,form:t,meta:l})=>n().createElement(xe.g,{...a,fieldId:e.name,isRequired:!0,className:"pf-v5-u-mt-sm"},n().createElement(hl.l,{isOpen:c,selected:i,toggle:g,onSelect:v,onOpenChange:e=>m(e)},n().createElement(bl.B,null,f.map((({label:e,value:t,isDisabled:a,description:l})=>n().createElement(Sl.O,{value:t,key:t,isDisabled:a,description:l},e))))),n().createElement(_l.FormGroupHelperText,{touched:l.touched,error:l.error}))))};var yl,Il=a(38046);!function(e){e.OsdTrial="osdTrial",e.StandardOsd="standardOsd",e.Marketplace="marketplace",e.Byoc="byoc",e.RhInfra="rhInfra",e.MarketplaceByoc="marketplaceByoc",e.MarketplaceRhInfra="marketplaceRhInfra",e.GcpResources="gcpResources",e.AwsResources="awsResources",e.SingleAzResources="singleAzResources",e.MultiAzResources="multiAzResources"}(yl||(yl={}));const Al=(e,t)=>!!e&&(0,Qa.availableQuota)(e,t)>0,Rl={[yl.OsdTrial]:{resourceType:Il.QuotaTypes.CLUSTER,product:S.normalizedProducts.OSDTRIAL},[yl.StandardOsd]:{resourceType:Il.QuotaTypes.CLUSTER,product:S.normalizedProducts.OSD,billingModel:Ra.RelatedResource.billing_model.STANDARD},[yl.Marketplace]:{resourceType:Il.QuotaTypes.CLUSTER,product:S.normalizedProducts.OSD,billingModel:Ra.RelatedResource.billing_model.MARKETPLACE},[yl.Byoc]:{resourceType:Il.QuotaTypes.CLUSTER,billingModel:Ra.RelatedResource.billing_model.STANDARD,isBYOC:!0},[yl.RhInfra]:{resourceType:Il.QuotaTypes.CLUSTER,billingModel:Ra.RelatedResource.billing_model.STANDARD,isBYOC:!1},[yl.MarketplaceByoc]:{resourceType:Il.QuotaTypes.CLUSTER,billingModel:Ra.RelatedResource.billing_model.MARKETPLACE,product:S.normalizedProducts.OSD,isBYOC:!0},[yl.MarketplaceRhInfra]:{resourceType:Il.QuotaTypes.CLUSTER,billingModel:Ra.RelatedResource.billing_model.MARKETPLACE,product:S.normalizedProducts.OSD,isBYOC:!1},[yl.GcpResources]:{resourceType:Il.QuotaTypes.CLUSTER,cloudProviderID:pl.CloudProviderType.Gcp},[yl.AwsResources]:{resourceType:Il.QuotaTypes.CLUSTER,cloudProviderID:pl.CloudProviderType.Aws},[yl.SingleAzResources]:{resourceType:Il.QuotaTypes.CLUSTER,isMultiAz:!1},[yl.MultiAzResources]:{resourceType:Il.QuotaTypes.CLUSTER,isMultiAz:!0}},Tl=e=>{const t=(0,q.useGlobalState)((e=>e.userProfile.organization.quotaList)),{product:a,billingModel:l,isBYOC:n}=e;return{[yl.OsdTrial]:Al(t,Rl[yl.OsdTrial]),[yl.StandardOsd]:Al(t,Rl[yl.StandardOsd]),[yl.Marketplace]:Al(t,Rl[yl.Marketplace]),[yl.GcpResources]:Al(t,{...Rl[yl.GcpResources],product:a,billingModel:l,isBYOC:n}),[yl.AwsResources]:Al(t,{...Rl.awsResources,product:a,billingModel:l,isBYOC:n}),[yl.Byoc]:Al(t,{...Rl[yl.Byoc],product:a}),[yl.RhInfra]:Al(t,{...Rl[yl.RhInfra],product:a}),[yl.MarketplaceByoc]:Al(t,Rl[yl.MarketplaceByoc]),[yl.MarketplaceRhInfra]:Al(t,Rl[yl.MarketplaceRhInfra])}},Ol=()=>{const e="gcp"===(0,cl.getQueryParam)("source"),{values:{[el.FieldId.Product]:t,[el.FieldId.BillingModel]:a,[el.FieldId.MarketplaceSelection]:l},values:r,setFieldValue:i}=(0,Ja.l)(),s=(0,c.wA)(),{clusterVersions:o}=(0,be.useGlobalState)((e=>e.clusters)),u=Tl({product:t}),d=(0,v.useFeatureGate)(_.OSD_GOOGLE_MARKETPLACE_FEATURE),m=u.osdTrial,p=n().createElement("p",null,n().createElement(W.default,{href:"https://access.redhat.com/articles/5990101",noIcon:!0,noTarget:!0},"Try OpenShift Dedicated")," ","for free for 60 days. Upgrade anytime"),f=d?n().createElement(n().Fragment,null,l===S.billingModels.MARKETPLACE&&n().createElement("p",null,"Use Red Hat Marketplace to subscribe and pay based on the services you use"),l===S.billingModels.MARKETPLACE_GCP&&n().createElement("p",null,"Use Google Cloud Marketplace to subscribe and pay based on the services you use"),!(l===S.billingModels.MARKETPLACE)&&!(l===S.billingModels.MARKETPLACE_GCP)&&n().createElement("p",null,"Use your cloud marketplace to subscribe and pay based on the services you use")):n().createElement("p",null,"Use"," ",n().createElement(W.default,{href:"https://marketplace.redhat.com",noIcon:!0},"Red Hat Marketplace")," ","to subscribe and pay based on the services you use"),E=n().createElement(W.default,{href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated",noIcon:!0},"Red Hat Marketplace"),g=n().createElement(W.default,{href:"https://console.cloud.google.com/marketplace/product/redhat-marketplace/red-hat-openshift-dedicated",noIcon:!0},"Google Cloud"),h=n().createElement(n().Fragment,null,f,n().createElement("div",null,n().createElement(ul.A,{position:ul.$.right,headerContent:"On-Demand subscription",bodyContent:d?n().createElement("p",null,"Billing based on cluster consumption. Purchase a subscription via ",E," or"," ",g):n().createElement(n().Fragment,null,n().createElement("p",null,"Billing based on cluster consumption and charged via Red Hat Marketplace."),n().createElement("p",null,n().createElement(W.default,{href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated"},"Purchase this option"))),"aria-label":"help"},n().createElement(j.$n,{variant:"link"},n().createElement(dl.default,null)," ",d?"How can I purchase a subscription?":"How can I purchase a subscription via Marketplace?")))),b=[...m?[{value:S.billingModels.STANDARD_TRIAL,label:"Free trial (upgradeable)",description:p}]:[],{disabled:!u.standardOsd,value:S.billingModels.STANDARD,label:"Annual: Fixed capacity subscription from Red Hat",description:"Use the quota pre-purchased by your organization"},...d?[{disabled:!u.marketplace&&!u.gcpResources,value:"marketplace-select",shouldCheck:(e,t)=>e.startsWith("marketplace")&&"marketplace-select"==`${t}`,label:n().createElement(n().Fragment,null,n().createElement("div",null,"On-Demand: Flexible usage billed through ",g," or ",E),n().createElement(Cl,{hasGcpQuota:u.gcpResources,hasRhmQuota:u.marketplace})),description:u.marketplace||u.gcpResources?f:h}]:[{disabled:!u.marketplace,value:S.billingModels.MARKETPLACE,label:"On-Demand: Flexible usage billed through Red Hat Marketplace",description:u.marketplace?f:h}]];n().useEffect((()=>{t===S.normalizedProducts.OSDTRIAL&&(m?(i(el.FieldId.BillingModel,S.billingModels.STANDARD_TRIAL),i(el.FieldId.Byoc,"true")):i(el.FieldId.Product,S.normalizedProducts.OSD)),m&&a!==S.billingModels.STANDARD||!u.marketplace||u.standardOsd||a.startsWith(S.billingModels.MARKETPLACE)||i(el.FieldId.BillingModel,S.billingModels.MARKETPLACE),(null==o?void 0:o.fulfilled)&&s(El.clustersActions.clearInstallableVersions())}),[t,a,m,u.marketplace,u.standardOsd,l]),n().useEffect((()=>{e&&(i(el.FieldId.MarketplaceSelection,S.billingModels.MARKETPLACE_GCP,!1),i(el.FieldId.CloudProvider,pl.CloudProviderType.Gcp,!1),i(el.FieldId.BillingModel,S.billingModels.MARKETPLACE_GCP,!1),i(el.FieldId.Byoc,"true",!1),i(el.FieldId.Product,S.normalizedProducts.OSD,!1),(0,cl.deleteQueryParam)("source"))}),[e]);let C=!1,y=!1;a.startsWith(S.billingModels.MARKETPLACE)?(C=!u.marketplaceRhInfra,y=!u.marketplaceByoc):(C=!u.rhInfra,y=!u.byoc);const I=[{label:"Customer cloud subscription",description:"Provision the cluster using your existing cloud provider account",value:"true",disabled:y},{label:"Red Hat cloud account",description:"Deploy in cloud provider accounts owned by Red Hat",value:"false",disabled:C}];return n().createElement(we.s,{alignItems:{default:"alignItemsFlexStart"}},n().createElement(Me.Z,{flex:{default:"flex_3"}},n().createElement(M.B,{hasGutter:!0},n().createElement(k.a,{className:"pf-v5-u-mb-xl"},n().createElement(A.h,{headingLevel:"h2",className:"pf-v5-u-pb-md"},"Welcome to Red Hat OpenShift Dedicated"),n().createElement(U.E,{component:"p",id:"welcome-osd-text"},"Reduce operational complexity and focus on building applications that add more value to your business with Red Hat OpenShift Dedicated, a fully-managed service of Red Hat OpenShift on Amazon Web Services (AWS) and Google Cloud.")),n().createElement(k.a,null,n().createElement(A.h,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"Subscription type"),n().createElement(fl.RadioGroupField,{name:el.FieldId.BillingModel,options:b,onChange:(e,t)=>{let a=S.normalizedProducts.OSD;t!==S.billingModels.STANDARD&&i(el.FieldId.Byoc,"true"),t===S.billingModels.STANDARD_TRIAL&&(a=S.normalizedProducts.OSDTRIAL),i(el.FieldId.Product,a)}})),n().createElement(k.a,null,n().createElement(A.h,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"Infrastructure type"),n().createElement(fl.RadioGroupField,{name:el.FieldId.Byoc,options:I,onChange:(e,t)=>{const a="true"===t,l="true"===r[el.FieldId.MultiAz];i(el.FieldId.NodesCompute,(0,ml.getNodesCount)(a,l,!0)),i(el.FieldId.MinReplicas,(0,ml.getMinReplicasCount)(a,l,!0)),i(el.FieldId.MaxReplicas,"")}})))),n().createElement(Me.Z,{flex:{default:"flex_1"}},n().createElement("img",{src:gl,className:"billing-model_osd-logo","aria-hidden":"true",alt:""})))};var Pl=a(52202),Dl=a(83805),Ll=a(80313),Nl=a(13442),wl=a(54801),Ml=a(18679),kl=a(83709),Fl=a(12322),xl=a(31358),Gl=a(15651),Ul=a(17611);const jl=()=>{const{ccsCredentialsValidity:e}=(0,be.useGlobalState)((e=>e.ccsInquiries));return n().createElement(n().Fragment,null,n().createElement(fl.FileUploadField,{validate:e=>(0,Ta.required)(e)||(0,Ta.validateGCPServiceAccount)(e),name:el.FieldId.GcpServiceAccount,label:"Service account JSON",helperText:"Upload a JSON file or type to add",tooltip:n().createElement(n().Fragment,null,n().createElement("p",null,"To create a service account JSON file, create a key for your service account, export it to a file and upload it to this field."),n().createElement(W.default,{href:"https://cloud.google.com/iam/docs/creating-managing-service-account-keys#creating_service_account_keys"},"Learn how to create service account keys"))}),n().createElement("p",{className:"pf-v5-u-mt-md"},e.pending&&"Validating..."))},Hl=()=>n().createElement("div",null,n().createElement(F.n,null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Successful cluster provisioning requires that:"),n().createElement("ul",null,n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Your Google Cloud account has the necessary resource quotas and limits to support your desired cluster size according to the"," ",n().createElement(W.default,{noIcon:!0,href:z.default.OSD_CCS_GCP_LIMITS},"cluster resource requirements"))),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"An IAM Service account called osd-ccs-admin exists with the following roles attached:"),n().createElement("ul",null,n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Compute Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"DNS Administrator")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Security Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Service Account Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Service Account Key Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Service Account User")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Organization Policy Viewer")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Service Management Administrator")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Service Usage Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Storage Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Compute Load Balancer Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Role Viewer")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Role Administrator"))))),n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Enhanced Support from GCP is also recommended. To prevent potential conflicts, we recommend that you have no other resources provisioned in the project prior to provisioning OpenShift Dedicated. For more guidance, see the"," ",n().createElement(W.default,{noIcon:!0,href:z.default.OSD_CCS_GCP},"Customer Cloud Subscription requirements"),".")));var Vl=a(36070),ql=a(35158);const zl=e=>{const{wifConfigs:t,selectedWifConfigID:a,input:{name:r,onChange:i},meta:{error:s,touched:o},isLoading:u,onRefresh:d}=e,[c,m]=(0,l.useState)(!1),p=t.map((e=>({entryId:e.id,label:e.display_name,description:e.id}))),f=(0,l.useCallback)(((e,t)=>m(t)),[]),E=t.length>0,g=(0,l.useMemo)((()=>{switch(!0){case u:return"Loading";case!u&&!E:return"No WIF configurations found";default:return"Select a configuration"}}),[E,u]);return n().createElement(xe.g,{label:"WIF configuration",isRequired:!0},n().createElement(we.s,null,n().createElement(Me.Z,{grow:{default:"grow"}},n().createElement(ql.default,{isOpen:c,selectionData:p,selectedEntryId:E&&null!=a?a:"",onToggle:f,onSelect:(e,t)=>{m(!1),i(t)},toggleId:r,menuAppendTo:document.body,placeholderText:g,isDisabled:u||!E,validated:o&&s?"error":void 0,inlineFilterPlaceholderText:"Filter by name / ID"})),n().createElement(Me.Z,null,n().createElement(j.$n,{size:"sm",variant:"secondary",isDisabled:u,isLoading:u,onClick:()=>{d()}},u?"Loading":"Refresh"))),n().createElement(_l.FormGroupHelperText,{touched:o,error:s}))},Bl=e=>{const{getWifConfigsService:t}=e,{isLoading:a,wifConfigs:r,getWifConfigs:i,error:s}=function(e){const[t,a]=(0,l.useState)(null),[n,r]=(0,l.useState)(),[i,s]=(0,l.useState)(!1);return{getWifConfigs:(0,l.useCallback)((t=>{s(!0),r(void 0),e(t).then((e=>a(e.data.items))).catch((e=>{r(e)})).finally((()=>s(!1)))}),[e]),isLoading:i,wifConfigs:t,error:n}}(t);(0,l.useEffect)((()=>{i("")}),[i]);const{setFieldValue:o,getFieldProps:u,getFieldMeta:d,values:{[pl.FieldId.GcpWifConfig]:c}}=(0,Ja.l)();return n().createElement(M.B,{hasGutter:!0},n().createElement(k.a,null,n().createElement(F.n,null,n().createElement(U.E,{component:"h4"},"1. Create a new Workload Identity Federation (WIF) configuration"),n().createElement(U.E,{component:U.Y.p},"Workload Identity Federation is a keyless authentication mechanism for calling Google Cloud APIs. It eliminates the maintenance and security burden associated with service account keys."),n().createElement(U.E,{component:U.Y.p},"Run the following ",n().createElement("code",null,"ocm")," CLI command to create a Workload Identity Federation configuration (automatic mode). Make sure to replace the WIF name and GCP Project ID with your own values."))),n().createElement(k.a,null,n().createElement(Vl.Ck,{"data-testid":"gcp-wif-command",isReadOnly:!0,hoverTip:"Copy",clickTip:"Copied",isCode:!0,isBlock:!0},"ocm gcp create wif-config --name $WIF_NAME --project $GCP_PROJECT_ID")),n().createElement(k.a,null,n().createElement(F.n,null,n().createElement(U.E,{component:U.Y.small},"This command creates all the necessary resources for deploying OSD on GCP using only temporary credentials. You can also run the command in manual mode."," ",n().createElement(W.default,{noIcon:!0,href:"#"},"Learn more (link TBD)"),"."))),n().createElement(k.a,null,n().createElement(F.n,null,n().createElement(U.E,{component:"h4"},"2. Select configuration"))),s?n().createElement(k.a,null,n().createElement(T.F,{variant:"danger",isInline:!0,title:"Error retrieving WIF configurations"})):null,n().createElement(k.a,null,n().createElement(Ha.Field,{component:zl,name:pl.FieldId.GcpWifConfig,input:{...u(pl.FieldId.GcpWifConfig),onChange:e=>{const t=(null!=r?r:[]).find((t=>t.id===e));t&&o(pl.FieldId.GcpWifConfig,t,!0)}},meta:d(pl.FieldId.GcpWifConfig),onRefresh:()=>i(""),isLoading:a,validate:e=>(null==e?void 0:e.id)?void 0:"Wif configuration is required",wifConfigs:null!=r?r:[],selectedWifConfigID:null==c?void 0:c.id})))},Wl=()=>n().createElement("div",null,n().createElement(F.n,null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"To provision your cluster, you must:"),n().createElement("ul",null,n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"To use short-lived credentials,"," ",n().createElement(m.Link,{to:"/downloads",target:"_blank"},"download")," ","and authenticate to the ",n().createElement("code",null,"ocm")," CLI.")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},n().createElement(W.default,{noIcon:!0,href:z.default.OSD_CCS_GCP_WIF_GCLOUD_CLI},"Download")," ","the ",n().createElement("code",null,"gcloud")," CLI and use the"," ",n().createElement(W.default,{noIcon:!0,href:z.default.OSD_CCS_GCP_WIF_GCLOUD_CREDENTIALS},"Application Default Credentials"," ")," ","to authenticate.")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Check your"," ",n().createElement(W.default,{noIcon:!0,href:z.default.OSD_CCS_GCP_LIMITS},"cluster resource requirements")," ","to make sure your Google Cloud account has the necessary resource quotas and limits to support the size cluster you want.")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Optional: You have Enhanced Support from GCP. To prevent conflicts, make sure your project has no other provisioned resources before you provision OSD."," ",n().createElement(W.default,{noIcon:!0,href:z.default.OSD_CCS_GCP},"Learn more"),"."))))),$l=e=>{const{getWifConfigsService:t}=e,{values:{[el.FieldId.BillingModel]:a}}=(0,Ja.l)(),l=(0,v.useFeatureGate)(_.OSD_GCP_WIF),{setFieldValue:r,values:{[el.FieldId.GcpAuthType]:i}}=(0,Ja.l)(),s=l?i:ol.GCPAuthType.ServiceAccounts,o=e=>{const{id:t}=e.currentTarget,a=t===ol.GCPAuthType.WorkloadIdentityFederation?ol.GCPAuthType.WorkloadIdentityFederation:ol.GCPAuthType.ServiceAccounts;r(el.FieldId.GcpAuthType,a),r(el.FieldId.AcknowledgePrereq,!1)};return n().createElement(ba.l,{isWidthLimited:!0,onSubmit:e=>e.preventDefault()},a!==S.billingModels.MARKETPLACE_GCP&&n().createElement(Dl.T,null,n().createElement(T.F,{variant:"info",isInline:!0,title:"Customer cloud subscription"},"Provision your cluster in a Google Cloud Platform account owned by you or your company to leverage your existing relationship and pay Google Cloud Platform directly for public cloud costs.")),n().createElement(we.s,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},l&&n().createElement(Me.Z,null,n().createElement(A.h,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"GCP account details"),n().createElement(xe.g,{label:"Authentication type",labelIcon:n().createElement(ul.A,{bodyContent:n().createElement("div",null,n().createElement("div",null,"Workload Identity Federation (WIF) uses short-lived credentials which is more secure. Use of WIF requires an OSD cluster running OpenShift"," ",n().createElement("span",{className:"pf-v5-u-font-family-monospace"},"4.17")," or later."),n().createElement("br",null),n().createElement("div",null,"Service Account uses longer-lived credentials, which are less secure."))},n().createElement("button",{type:"button","aria-label":"More info for authentication types",onClick:e=>e.preventDefault(),className:Gl.A.formGroupLabelHelp},n().createElement(xl.HelpIcon,null)))},n().createElement(Ll.O,{"aria-label":"Authentication type"},n().createElement(Nl.d,{text:"Service Account",key:0,buttonId:ol.GCPAuthType.ServiceAccounts,isSelected:s===ol.GCPAuthType.ServiceAccounts,onChange:o}),n().createElement(Nl.d,{text:"Workload Identity Federation",key:1,buttonId:ol.GCPAuthType.WorkloadIdentityFederation,isSelected:s===ol.GCPAuthType.WorkloadIdentityFederation,onChange:o})))),n().createElement(Me.Z,null,l?n().createElement(A.h,{headingLevel:"h4",className:"pf-v5-u-mb-sm"},s===ol.GCPAuthType.WorkloadIdentityFederation?"Workload Identity Federation":"Service Account"):n().createElement(A.h,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"GCP Service account"),n().createElement(Ul.A,{acknowledgementRequired:!0,initiallyExpanded:!0},a===S.billingModels.MARKETPLACE_GCP&&n().createElement(wl.C,{className:"pf-v5-u-mb-md pf-v5-u-mt-sm"},n().createElement(Ml.Y,null,n().createElement("strong",null,"Have you prepared your Google account?")),n().createElement(kl.I,null,"To prepare your account, accept the Google Cloud Terms and Agreements. If you've already accepted the terms, you can continue to complete OSD prerequisites."),n().createElement(Fl.R,null,n().createElement(W.default,{href:z.default.GCP_CONSOLE_OSD_HOME},"Review Google terms and agreements."))),s===ol.GCPAuthType.WorkloadIdentityFederation?n().createElement(Wl,null):n().createElement(Hl,null))),n().createElement(Me.Z,null,s===ol.GCPAuthType.WorkloadIdentityFederation?n().createElement(Bl,{getWifConfigsService:t}):n().createElement(jl,null))))};var Yl=a(49484),Kl=a(11912);const Ql=()=>{const{ccsCredentialsValidity:e}=(0,q.useGlobalState)((e=>e.ccsInquiries)),t=(0,q.useGlobalState)((e=>e.machineTypesByRegion)),{pending:a}=e,l=(0,c.wA)(),r=n().useCallback((()=>{t.region&&l((0,Kl.clearMachineTypesByRegion)())}),[l,t.region]);return n().createElement(va.x,{hasGutter:!0,md:6},n().createElement(we.s,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},n().createElement(ha.E,null,n().createElement(fl.TextInputField,{name:el.FieldId.AccountId,label:"AWS account ID",validate:Ta.awsNumericAccountID,isDisabled:a,onChange:r,tooltipWidth:"27rem",tooltip:n().createElement(n().Fragment,null,n().createElement("p",null,"Find your 12-digit AWS account ID in the AWS console or by running this command in the AWS CLI:"),n().createElement("br",null),n().createElement(Z.default,{textAriaLabel:"Copyable AWS account ID command"},"aws sts get-caller-identity"),n().createElement("br",null),n().createElement(W.default,{href:z.default.FINDING_AWS_ACCOUNT_IDENTIFIERS},"Finding your AWS account ID"))})),n().createElement(ha.E,null,n().createElement(A.h,{headingLevel:"h4"},"AWS IAM user credentials")),n().createElement(ha.E,null,n().createElement(T.F,{className:"bottom-alert pf-v5-u-mt-0",variant:"warning",title:Yl.billingModelConstants.awsCredentialsWarning,isInline:!0})),n().createElement(ha.E,null,n().createElement(fl.TextInputField,{name:el.FieldId.AccessKeyId,label:"AWS access key ID",validate:Ta.required,isDisabled:a,helperText:a?"Validating...":"",onChange:r})),n().createElement(ha.E,null,n().createElement(fl.TextInputField,{name:el.FieldId.SecretAccessKey,label:"AWS secret access key",validate:Ta.required,isDisabled:a,helperText:a?"Validating...":"",type:"password",onChange:r})),n().createElement(ha.E,null,n().createElement(fl.CheckboxField,{name:el.FieldId.DisableScpChecks,label:"Bypass AWS service control policy (SCP) checks",tooltip:Yl.constants.bypassSCPChecksHint}))))},Zl=()=>n().createElement(va.x,{hasGutter:!0},n().createElement(ha.E,null,n().createElement(T.F,{variant:"info",isInline:!0,title:"Customer cloud subscription"},"Provision your cluster in an AWS account owned by you or your company to leverage your existing relationship and pay AWS directly for public cloud costs.")),n().createElement(ha.E,null,n().createElement(A.h,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"AWS account details"),n().createElement(Ul.A,{acknowledgementRequired:!0,initiallyExpanded:!0},n().createElement(F.n,null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Successful cluster provisioning requires that:"),n().createElement("ul",null,n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Your AWS account has the necessary limits to support your desired cluster size according to the"," ",n().createElement(W.default,{noIcon:!0,href:z.default.OSD_CCS_AWS_LIMITS},"cluster resource requirements"),".")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"An IAM user called ",n().createElement("b",null,"osdCcsAdmin")," exists with the AdministratorAccess policy.")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"An Organization service control policy (SCP) is set up according to the requirements for Customer Cloud Subscriptions."))),n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Business Support for AWS is also recommended. For more guidance, see the"," ",n().createElement(W.default,{href:z.default.OSD_CCS_AWS_CUSTOMER_REQ},"Customer Cloud Subscription requirements"),".")))),n().createElement(Ql,null));var Xl=a(46942),Jl=a.n(Xl),en=a(5019),tn=a(92644),an=a(73495);const ln=()=>{const{values:{[el.FieldId.CloudProvider]:e,[el.FieldId.Product]:t,[el.FieldId.BillingModel]:a,[el.FieldId.Byoc]:l},setFieldValue:r}=(0,Ja.l)(),i=Tl({product:t,billingModel:a,isBYOC:l}),s=i.gcpResources,o=a!==S.billingModels.MARKETPLACE_GCP&&i.awsResources,u=a===S.billingModels.MARKETPLACE_GCP?"OpenShift Dedicated purchased through the Google Cloud marketplace can only be provisioned on GCP.":Ka.noQuotaTooltip,d=e=>{r(el.FieldId.Region,e===pl.CloudProviderType.Aws?pl.AWS_DEFAULT_REGION:pl.GCP_DEFAULT_REGION),r(el.FieldId.MachineTypeForceChoice,!1),r(el.FieldId.MachineType,""),r(el.FieldId.AcknowledgePrereq,!1),r(el.FieldId.FipsCryptography,!1),r(el.FieldId.CloudProvider,e)},c=e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),d(e.currentTarget.id))},m=n().createElement(en.F,{id:pl.CloudProviderType.Gcp,className:Jl()("ocm-tile-create-cluster",!s&&"tile-disabled"),onClick:()=>s&&d(pl.CloudProviderType.Gcp),onKeyDown:c,isDisabled:!s,"data-testid":"gcp-provider-card",title:"Run on Google Cloud Platform",icon:n().createElement(an.A,null),isDisplayLarge:!0,isStacked:!0,isSelected:e===pl.CloudProviderType.Gcp}),p=n().createElement(en.F,{id:pl.CloudProviderType.Aws,className:Jl()("ocm-tile-create-cluster",!o&&"tile-disabled"),onClick:()=>o&&d(pl.CloudProviderType.Aws),onKeyDown:c,isDisabled:!o,"data-testid":"aws-provider-card",title:"Run on Amazon Web Services",icon:n().createElement(tn.default,null),isDisplayLarge:!0,isStacked:!0,isSelected:e===pl.CloudProviderType.Aws});return n().createElement("div",{role:"listbox","aria-label":"Providers options"},o?p:n().createElement(Sa.m,{content:u},p),s?m:n().createElement(Sa.m,{content:Ka.noQuotaTooltip},m))},nn=()=>{const e=(0,c.wA)(),{values:{[el.FieldId.CloudProvider]:t,[el.FieldId.Byoc]:a,[el.FieldId.AccountId]:l,[el.FieldId.AccessKeyId]:r,[el.FieldId.SecretAccessKey]:i,[el.FieldId.GcpServiceAccount]:s,[el.FieldId.GcpAuthType]:o}}=(0,Ja.l)(),{ccsCredentialsValidity:u}=(0,q.useGlobalState)((e=>e.ccsInquiries)),d="true"===a;return n().useEffect((()=>{e((0,Pl.clearCcsCredientialsInquiry)())}),[l,r,i,s,t,o,e]),n().createElement(ba.l,null,n().createElement(A.h,{headingLevel:"h3"},"Select a cloud provider"),n().createElement(ln,null),d&&n().createElement(n().Fragment,null,t===pl.CloudProviderType.Aws?n().createElement(Zl,null):n().createElement($l,{getWifConfigsService:tt.clusterService.getGCPWifConfigs}),u.error&&n().createElement(T.F,{variant:"danger",isInline:!0,title:`${t.toUpperCase()} wasn't able to verify your credentials`},"Verify that your entered"," ",t===pl.CloudProviderType.Aws?"access keys match the access keys provided in your AWS account.":"service account details are correct.")))};var rn=a(94698),sn=a(93809),on=a(76882),un=a(12024);const dn=({isLoading:e,onNext:t,track:a=(()=>{})})=>{const{goToNextStep:r,goToPrevStep:i,close:s,activeStep:o,steps:u}=(0,rn.CV)(),{values:d,validateForm:c,setTouched:m,isValidating:p,submitForm:f}=(0,Ja.l)(),[E,g]=(0,l.useState)(!1),v=(0,q.useGlobalState)((e=>e.clusters.createdCluster)).pending,h=p||e,b=E||e,S=async()=>{if(p)return void(E||g(!0));const e=await c(d);if(Object.keys(e||{}).length>0)return m((0,Ha.setNestedObjectValues)(e,!0)),void(0,Ka.scrollToFirstField)((0,un.getScrollErrorIds)(e));(null!=t?t:r)()};return(0,l.useEffect)((()=>{E&&!1===p&&(g(!1),S())}),[p,E]),v?null:n().createElement(on.W,null,o.id===el.StepId.Review?n().createElement(j.$n,{variant:"primary","data-testid":"wizard-create-cluster-button",onClick:()=>{f(),a()},isLoading:h,isDisabled:b},"Create cluster"):n().createElement(j.$n,{variant:"primary","data-testid":"wizard-next-button",onClick:S,isLoading:h,isDisabled:b},"Next"),n().createElement(j.$n,{variant:"secondary","data-testid":"wizard-back-button",onClick:i,isDisabled:b||0===u.indexOf(o)},"Back"),n().createElement(j.$n,{variant:"link","data-testid":"wizard-cancel-button",onClick:s,isDisabled:b},"Cancel"))},cn=()=>{const e=(0,c.wA)(),{values:t}=(0,Ja.l)(),{goToNextStep:a}=(0,rn.CV)(),{ccsCredentialsValidity:r}=(0,be.useGlobalState)((e=>e.ccsInquiries)),[i,s]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{i&&(r.fulfilled||r.error)&&(s(!1),r.fulfilled&&a())}),[i,r.fulfilled,r.error,a]),n().createElement(dn,{onNext:()=>{(0,sn.BH)(t,r)?((0,sn.eC)(t,e),s(!0)):a()},isLoading:i})};var mn=a(30666),pn=a(93973),fn=a(66338),En=a(45436),gn=a(10176),vn=a(94402),hn=a(92148),bn=a(22629),Sn=a(29814),_n=a(28053),Cn=a(55816),yn=a(62077);const In="Full Support",An=(e,t)=>(0,gn.versionComparator)(t.label,e.label),Rn=({name:e,label:t,isDisabled:a,onChange:r})=>{var i;const s=(0,c.wA)(),o=(0,be.useGlobalState)((e=>e.userProfile.organization.details)),u=(0,v.useFeatureGate)(_.UNSTABLE_CLUSTER_VERSIONS)&&(e=>{var t;return(null!==(t=null==e?void 0:e.capabilities)&&void 0!==t?t:[]).some((e=>"capability.organization.non_stable_channel_group"===e.name&&"true"===e.value))})(o),[d,{touched:m,error:p}]=(0,Ha.useField)(e),{clusterVersions:f}=(0,be.useGlobalState)((e=>e.clusters)),{values:{[pl.FieldId.ClusterVersion]:E,[pl.FieldId.BillingModel]:g,[pl.FieldId.GcpAuthType]:h},setFieldValue:b}=(0,Ja.l)(),[C,y]=(0,l.useState)(!1),[I,A]=(0,l.useState)([]),[R]=(0,yn.useOCPLifeCycleStatusData)(),T=null===(i=null==R?void 0:R[0])||void 0===i?void 0:i.versions,O=null==T?void 0:T.reduce(((e,t)=>(e[t.name]=t.type,e)),{}),P=g===S.billingModels.MARKETPLACE_GCP,L=h===ol.GCPAuthType.WorkloadIdentityFederation,N=(0,l.useCallback)((()=>s(El.clustersActions.getInstallableVersions({isMarketplaceGcp:P,isWIF:L,includeUnstableVersions:u}))),[s,P,L,u]);(0,l.useEffect)((()=>{var t,a;f.fulfilled?(null===(t=f.meta)||void 0===t?void 0:t.isMarketplaceGcp)!==P||(null===(a=f.meta)||void 0===a?void 0:a.isWIF)!==L?(b(e,null),N()):A(f.versions):f.error?y(!1):f.pending||(b(e,null),N())}),[N,f,P,L,e,b]),(0,l.useEffect)((()=>{if(I.length&&!(null==E?void 0:E.raw_id)){const t=I.findIndex((e=>!0===e.default));b(e,I[-1!==t?t:0])}}),[I,null==E?void 0:E.raw_id,e,b]);const w=n().useMemo((()=>((e,t,a)=>{const l=[],n=[],r=[],i=[],s=[];e.forEach((e=>{const{raw_id:o,id:u,channel_group:d}=e;if(o&&u){if(!t||"stable"===d){const e=parseFloat(o),t=(null==a?void 0:a[e])===In,r={entryId:u,label:o,groupKey:t?In:"Maintenance Support"};return void(t?l.push(r):n.push(r))}if(t){const e={entryId:u,label:`${o} (${d})`,groupKey:d};switch(d){case"candidate":r.push(e);break;case"nightly":i.push(e);break;case"fast":s.push(e)}}}}));const o={"Full support":l,"Maintenance support":n};return t?{...o,Candidate:r,Nightly:i,Fast:s}:o})(I,u,O)),[O,I,u]);return n().createElement(xe.g,{...d,label:t,fieldId:e,isRequired:!0},f.error&&n().createElement(Cn.default,{message:"Error getting cluster versions",response:f}),f.pending&&n().createElement(n().Fragment,null,n().createElement("div",{className:"spinner-fit-container"},n().createElement(D.A,null)),n().createElement("div",{className:"spinner-loading-text"},"Loading...")),f.fulfilled&&n().createElement(ql.default,{label:t,"aria-label":t,isOpen:C,onToggle:(e,t)=>{y(t),t&&f.error&&N()},onSelect:(t,a)=>{y(!1);const l=I.find((e=>e.id===a));b(e,l),l&&r(l)},selectedEntryId:null==E?void 0:E.id,selectionData:w,isDisabled:a,sortFn:An,placeholderText:"Filter by versions",filterValidate:{pattern:/^[0-9.]*$/gm,message:"Please enter only digits or periods."},truncation:100,inlineFilterPlaceholderText:"Filter by version number",toggleId:"version-selector"}),n().createElement(_l.FormGroupHelperText,{touched:m,error:p}))};var Tn=a(17804),On=a(2404),Pn=a.n(On),Dn=a(3638),Ln=a(8371);class Nn extends n().Component{constructor(){super(...arguments),this.loadIfNeeded=()=>{const{hasDependencies:e,matchesDependencies:t,requestStatus:a,loadData:l}=this.props;!e||t||a.pending||l()},this.currentValueIrrelevant=()=>{const{hasDependencies:e,matchesDependencies:t,requestStatus:a,items:l,input:n}=this.props;return!(!n.value||e&&(!t||!a.fulfilled||l.includes(n.value)))}}componentDidMount(){if(this.loadIfNeeded(),this.currentValueIrrelevant()){const{input:e}=this.props;e.onChange("")}}componentDidUpdate(){if(this.loadIfNeeded(),this.currentValueIrrelevant()){const{input:e}=this.props;e.onChange("")}}render(){const{loadData:e,requestStatus:t,items:a,matchesDependencies:l,meta:r,input:i,isRequired:s,label:o,labelIcon:u,helperText:d,placeholder:c,emptyAlertTitle:m,emptyAlertBody:p,refreshButtonText:f,noDependenciesPlaceholder:E,requestErrorTitle:g}=this.props,v=l&&t.fulfilled;let h=null,b=null;v?a.length>0?b=n().createElement(n().Fragment,null,n().createElement(Dn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:c}),a.map((e=>n().createElement(Dn.Q,{key:e,value:e,label:e})))):(h=n().createElement(T.F,{isInline:!0,variant:"danger",title:m,role:"alert"},n().createElement(F.n,null,p,f&&n().createElement(U.E,null,n().createElement(j.$n,{variant:"secondary",onClick:e},f)))),b=n().createElement(Dn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:""})):t.pending?b=n().createElement(Dn.Q,{isDisabled:!0,value:"",label:"Loading..."}):l&&t.error?(h=n().createElement(Cn.default,{message:g,response:t}),b=n().createElement(Dn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:""})):b=n().createElement(Dn.Q,{isDisabled:!0,value:"",label:E||""});const S=this.currentValueIrrelevant()?"":i.value,{onChange:_,...C}=i;return n().createElement(xe.g,{label:o,labelIcon:u,fieldId:i.name,isRequired:s},h,n().createElement(Ln.F,{"aria-label":o,isDisabled:!(v&&a.length>0),validated:r.touched&&r.error?"error":"default",...C,onChange:(e,t)=>_(t),value:S},b),n().createElement(_l.FormGroupHelperText,{touched:r.touched,error:r.error},d))}}const wn=Nn,Mn=()=>{var e;const t=(0,c.wA)(),{gcpKeyRings:a}=(0,q.useGlobalState)((e=>e.ccsInquiries)),{values:l,getFieldProps:r,setFieldValue:i,getFieldMeta:s}=(0,Ja.l)(),o=(0,sn.GO)(l),{[el.FieldId.GcpAuthType]:u,[el.FieldId.KeyLocation]:d}=l,m=!(!o||!d),p=a.cloudProvider===pl.CloudProviderType.Gcp&&Pn()(a.credentials,o)&&a.keyLocation===d;return n().createElement(ha.E,null,n().createElement(Ha.Field,{component:wn,name:el.FieldId.KeyRing,label:"Key ring",labelIcon:n().createElement(X.default,{hint:Yl.constants.keyRing}),helperText:"A key ring organizes keys in a specific Google Cloud location.",noDependenciesPlaceholder:"Enter GCP credentials first",placeholder:"Select key ring",requestErrorTitle:"Error listing key rings using your GCP credentials",emptyAlertTitle:"No key rings found for this location",emptyAlertBody:n().createElement(n().Fragment,null,n().createElement(U.E,null,"If available, change the Key ring location. Or go to your"," ",n().createElement(W.default,{href:"https://console.cloud.google.com/security/kms"},"Google Cloud Console")," ","and create the key ring."),n().createElement(U.E,null,"Once created, refresh using the ",n().createElement("strong",null,"Refresh custom key rings")," button.")),refreshButtonText:"Refresh custom key rings",validate:Ta.required,isRequired:!0,input:{...r(el.FieldId.KeyRing),onChange:e=>i(el.FieldId.KeyRing,e)},meta:s(el.FieldId.KeyRing),hasDependencies:m,matchesDependencies:p,requestStatus:a,items:((null===(e=a.data)||void 0===e?void 0:e.items)||[]).map((e=>e.name)),loadData:()=>m&&t((0,Pl.getGCPKeyRings)(u,o,d))}))},kn=()=>{var e;const t=(0,c.wA)(),{gcpKeys:a}=(0,q.useGlobalState)((e=>e.ccsInquiries)),{values:l,getFieldProps:r,setFieldValue:i,getFieldMeta:s}=(0,Ja.l)(),o=(0,sn.GO)(l),{[el.FieldId.KeyLocation]:u,[el.FieldId.KeyRing]:d,[el.FieldId.GcpAuthType]:m}=l,p=!!(o&&u&&d),f="gcp"===a.cloudProvider&&Pn()(a.credentials,o)&&a.keyLocation===u&&a.keyRing===d;return n().createElement(ha.E,null,n().createElement(Ha.Field,{component:wn,name:el.FieldId.KeyName,label:"Key name",labelIcon:n().createElement(X.default,{hint:Yl.constants.keyName}),helperText:"Name of the key in the keyring.",placeholder:"Select key",requestErrorTitle:"Error listing keys using your GCP credentials",emptyAlertTitle:"No keys found for this location and key ring",emptyAlertBody:n().createElement(n().Fragment,null,n().createElement(U.E,null,"If available, change the Key ring location / Key ring. Or go to your"," ",n().createElement(W.default,{href:"https://console.cloud.google.com/security/kms"},"Google Cloud Console")," ","and create the key."),n().createElement(U.E,null,"Once created, refresh using the ",n().createElement("strong",null,"Refresh custom keys")," button.")),refreshButtonText:"Refresh custom keys",validate:Ta.required,isRequired:!0,input:{...r(el.FieldId.KeyName),onChange:e=>i(el.FieldId.KeyName,e)},meta:s(el.FieldId.KeyName),loadData:()=>p&&t((0,Pl.getGCPKeys)(m,o,u,d)),hasDependencies:p,matchesDependencies:f,requestStatus:a,items:((null===(e=a.data)||void 0===e?void 0:e.items)||[]).map((e=>e.name))}))},Fn=({region:e})=>{const{getFieldProps:t,setFieldValue:a}=(0,Ja.l)();return n().createElement(n().Fragment,null,n().createElement(ha.E,null,n().createElement(xe.g,{label:"Key ring location",fieldId:el.FieldId.KeyLocation,labelIcon:n().createElement(X.default,{hint:Yl.constants.regionHint})},n().createElement(Ha.Field,{component:Tn.A,name:el.FieldId.KeyLocation,selectedRegion:e,input:{...t(el.FieldId.KeyLocation),onChange:e=>a(el.FieldId.KeyLocation,e)}}))),n().createElement(Mn,null),n().createElement(kn,null),n().createElement(ha.E,null,n().createElement(fl.TextInputField,{name:el.FieldId.KmsServiceAccount,label:"KMS Service Account",tooltip:Yl.constants.kmsserviceAccount,validate:Ta.validateGCPKMSServiceAccount,helperText:"GCP Service account will be used for compute scaling."})))},xn=({hasCustomerManagedKey:e,region:t,cloudProvider:a,kmsKeyArn:l})=>{const{setFieldTouched:r}=(0,Ja.l)(),i=a===pl.CloudProviderType.Gcp,s=i?"https://cloud.google.com/storage/docs/encryption/default-keys":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/data-protection.html",o=[{value:"false",label:"Use default KMS Keys"},{value:"true",label:"Use custom KMS keys",popoverHint:i?"Managed via Google Cloud Key Management Service. Used to store and generate encryption keys and encrypt your data.":"Use a custom AWS KMS key for AWS EBS volume encryption instead of your default AWS KMS key."}];return n().useEffect((()=>{"true"===e&&l&&!i&&r(el.FieldId.KmsKeyArn,!0,!0)}),[]),n().createElement(va.x,{hasGutter:!0},n().createElement(ha.E,null,n().createElement(xe.g,{fieldId:el.FieldId.CustomerManagedKey,id:"customerManagedKey",label:"Encryption Keys",isRequired:!0,isInline:!0},n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-pb-md"},"The cloud storage for your cluster is encrypted at rest."," ",n().createElement(W.default,{href:s},"Learn more")),n().createElement(fl.RadioGroupField,{name:el.FieldId.CustomerManagedKey,options:o,direction:"row",isRequired:!0}))),"true"===e&&(i?n().createElement(Fn,{region:t}):n().createElement(ha.E,null,n().createElement(fl.TextInputField,{name:el.FieldId.KmsKeyArn,label:"Key ARN",validate:e=>(0,Ta.validateAWSKMSKeyARN)(e,t),helperText:l?"":"Provide a custom key ARN",tooltip:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-sm"},Yl.constants.awsKeyARN),n().createElement(W.default,{href:z.default.AWS_FINDING_KEY_ARN},"Finding the key ID and ARN"))}),n().createElement(ha.E,{md:6},n().createElement(T.F,{className:"pf-v5-u-mt-sm",isInline:!0,isLiveRegion:!0,variant:"info",title:"If you delete the ARN key, the cluster will no longer be available."})))))};var Gn=a(2786),Un=a(10138);const jn=function(){const e=(0,c.wA)(),{values:{[el.FieldId.Byoc]:t,[el.FieldId.MultiAz]:a,[el.FieldId.Product]:r,[el.FieldId.BillingModel]:i,[el.FieldId.Region]:s,[el.FieldId.CloudProvider]:o,[el.FieldId.CustomerManagedKey]:u,[el.FieldId.KmsKeyArn]:d,[el.FieldId.ClusterVersion]:m,[el.FieldId.SecureBoot]:p,[el.FieldId.MachinePoolsSubnets]:f,[el.FieldId.HasDomainPrefix]:E},errors:g,isValidating:v,setFieldValue:h,getFieldProps:b}=(0,Ja.l)(),[_,C]=n().useState(!1),[y,I]=n().useState(!1),R="true"===t,O="true"===a,P=o===pl.CloudProviderType.Gcp,{organization:{quotaList:D}}=(0,q.useGlobalState)((e=>e.userProfile)),{gcpKeyRings:L}=(0,q.useGlobalState)((e=>e.ccsInquiries)),{[el.FieldId.KeyRing]:N,[el.FieldId.KeyName]:w,[el.FieldId.KmsServiceAccount]:M,[el.FieldId.KeyLocation]:k}=g,F=L.error||N||w||M||k,x=P&&-1===(0,gn.versionComparator)(null==m?void 0:m.raw_id,el.MIN_SECURE_BOOT_VERSION);n().useEffect((()=>{e((0,Un.getCloudProviders)())}),[e]),n().useEffect((()=>{"true"===u&&(P&&F||!P&&(0,Ta.validateAWSKMSKeyARN)(d,s))&&C(!0)}),[v]),n().useEffect((()=>{p||x||I(!1),p&&x&&(I(!0),h(el.FieldId.SecureBoot,!1))}),[x]);const G={product:r,billingModel:i,isBYOC:R,cloudProviderID:o},U=Al(D,{...Rl.singleAzResources,...G}),j=Al(D,{...Rl.multiAzResources,...G}),H=(0,l.useCallback)((()=>{const e=O?3:1,t=[];for(let a=0;a<e;a+=1)t.push((0,pl.emptyAWSSubnet)());h(el.FieldId.MachinePoolsSubnets,t),h(el.FieldId.SelectedVpc,"")}),[O,h]),V=[{value:"false",label:"Single zone",disabled:!U,popoverHint:Yl.constants.availabilityHintSingleZone,...!U&&{tooltip:Ka.noQuotaTooltip}},{value:"true",label:"Multi-zone",disabled:!j,popoverHint:Yl.constants.availabilityHintMultiZone,...!j&&{tooltip:Ka.noQuotaTooltip}}],B=n().createElement("div",{className:"pf-v5-u-mt-sm"},n().createElement(T.F,{isInline:!0,variant:"danger",title:`Secure Boot support requires OpenShift version ${el.MIN_SECURE_BOOT_VERSION} or above`}));return n().createElement(ba.l,null,n().createElement(va.x,{hasGutter:!0,md:6},n().createElement(we.s,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},n().createElement(A.h,{headingLevel:"h3"},"Cluster details"),n().createElement(ha.E,null,n().createElement(Ha.Field,{component:fl.RichInputField,name:el.FieldId.ClusterName,label:"Cluster name",type:"text",validate:async e=>{const t=(0,Ta.createPessimisticValidator)(Ta.clusterNameValidation)(e,54);if(t)return t;return await(0,Ta.asyncValidateClusterName)(e)||void 0},validation:e=>(0,Ta.clusterNameValidation)(e,54),asyncValidation:Ta.clusterNameAsyncValidation,isRequired:!0,extendedHelpText:Yl.constants.clusterNameHint,input:b(el.FieldId.ClusterName)})),n().createElement(ha.E,null,n().createElement(mn.B,{hasGutter:!0,className:"pf-u-mb-0"},n().createElement(pn.o,null,n().createElement(fl.CheckboxField,{name:el.FieldId.HasDomainPrefix,label:"Create custom domain prefix"})),n().createElement(pn.o,null,n().createElement(X.default,{hint:Yl.constants.domainPrefixHint})))),E&&n().createElement(ha.E,null,n().createElement(Ha.Field,{component:fl.RichInputField,name:el.FieldId.DomainPrefix,label:"Domain prefix",type:"text",validate:async e=>{const t=(0,Ta.createPessimisticValidator)(Ta.domainPrefixValidation)(e);if(t)return t;return await(0,Ta.asyncValidateDomainPrefix)(e)||void 0},validation:Ta.domainPrefixValidation,asyncValidation:Ta.domainPrefixAsyncValidation,isRequired:!0,input:b(el.FieldId.DomainPrefix)})),n().createElement(ha.E,null,n().createElement(Rn,{name:el.FieldId.ClusterVersion,label:i===S.billingModels.MARKETPLACE_GCP?"Version (Google Cloud Marketplace enabled)":"Version",onChange:e=>{!(0,vn.E)(En.x.SECURITY_GROUPS,e.raw_id,{day1:!0})||h(el.FieldId.SecurityGroups,{applyControlPlaneToAll:!0,controlPlane:[],infra:[],worker:[]})}})),n().createElement(ha.E,null,n().createElement(xe.g,{label:"Region",isRequired:!0,fieldId:el.FieldId.Region,labelIcon:n().createElement(X.default,{hint:Yl.constants.regionHint})},n().createElement(Ha.Field,{component:_n.A,name:el.FieldId.Region,cloudProviderID:o,isMultiAz:O,isBYOC:R,handleCloudRegionChange:H}))),n().createElement(ha.E,null,n().createElement(fl.RadioGroupField,{label:"Availability",name:el.FieldId.MultiAz,options:V,onChange:(e,t)=>{const a="true"===t;h(el.FieldId.NodesCompute,(0,ml.getNodesCount)(R,a,!0)),h(el.FieldId.MinReplicas,(0,ml.getMinReplicasCount)(R,a,!0)),h(el.FieldId.MaxReplicas,"");const l=[f[0]];a&&(l.push((0,pl.emptyAWSSubnet)()),l.push((0,pl.emptyAWSSubnet)())),h(el.FieldId.MachinePoolsSubnets,l)},direction:"row",isRequired:!0})),!R&&n().createElement(n().Fragment,null,n().createElement(ha.E,null,n().createElement(xe.g,{label:"Persistent storage",fieldId:el.FieldId.PersistentStorage,labelIcon:n().createElement(X.default,{hint:Yl.constants.persistentStorageHint})},n().createElement(Ha.Field,{name:el.FieldId.PersistentStorage,input:{...b(el.FieldId.PersistentStorage),onChange:e=>h(el.FieldId.PersistentStorage,e)},component:bn.default,cloudProviderID:o,billingModel:i,product:r,isBYOC:R,isMultiAZ:O}))),n().createElement(ha.E,null,n().createElement(xe.g,{label:"Load balancers",fieldId:el.FieldId.LoadBalancers,labelIcon:n().createElement(X.default,{hint:Yl.constants.loadBalancersHint})},n().createElement(Ha.Field,{name:el.FieldId.LoadBalancers,input:{...b(el.FieldId.LoadBalancers),onChange:e=>h(el.FieldId.LoadBalancers,e)},component:hn.default,currentValue:null,cloudProviderID:o,billingModel:i,product:r,isBYOC:R,isMultiAZ:O})))),P&&n().createElement(ha.E,null,n().createElement(xe.g,{label:"Shielded VM",fieldId:el.FieldId.SecureBoot},n().createElement(mn.B,{hasGutter:!0,className:"pf-u-mb-0"},n().createElement(pn.o,null,n().createElement(fl.CheckboxField,{name:el.FieldId.SecureBoot,label:"Enable Secure Boot support for Shielded VMs",isDisabled:x})),n().createElement(pn.o,null,n().createElement(X.default,{hint:Yl.constants.enableSecureBootHint}))),y&&B)),n().createElement(ha.E,null,n().createElement(A.h,{headingLevel:"h4"},"Monitoring")),n().createElement(mn.B,{hasGutter:!0,className:"pf-v5-u-mb-0"},n().createElement(pn.o,null,n().createElement(fl.CheckboxField,{name:el.FieldId.EnableUserWorkloadMonitoring,label:"Enable user workload monitoring"})),n().createElement(pn.o,null,n().createElement(X.default,{hint:n().createElement(n().Fragment,null,Yl.constants.enableUserWorkloadMonitoringHelp,n().createElement(W.default,{href:z.default.OSD_MONITORING_STACK},"Learn more"))}))),n().createElement(Gn.CheckboxDescription,null,Yl.constants.enableUserWorkloadMonitoringHint),n().createElement(fn.Q,{toggleText:"Advanced Encryption",onToggle:()=>{C(!_)},isExpanded:_},n().createElement(va.x,{hasGutter:!0},R&&n().createElement(xn,{hasCustomerManagedKey:u,region:s,cloudProvider:o,kmsKeyArn:d}),n().createElement(Sn.c,{isRosa:!1}))))))};var Hn=a(94675),Vn=a(88851),qn=a(95343),zn=a(91176),Bn=a(37222),Wn=a(73911),$n=a(69751),Yn=a(77218);const Kn=()=>{const{setFieldValue:e,getFieldMeta:t,getFieldProps:a}=(0,Ja.l)(),l=t(el.FieldId.DefaultRouterSelectors),r=t(el.FieldId.DefaultRouterExcludedNamespacesFlag);return n().createElement(n().Fragment,null,n().createElement(ha.E,{span:9},n().createElement(xe.g,{label:"Route selector",labelIcon:n().createElement(Wn.h,null)},n().createElement(Ha.Field,{name:el.FieldId.DefaultRouterSelectors,type:"text",validate:Ta.checkRouteSelectors,className:"pf-v5-u-w-100",input:{...a(el.FieldId.DefaultRouterSelectors),onChange:t=>e(el.FieldId.DefaultRouterSelectors,t,!1)}}),n().createElement(_l.FormGroupHelperText,{touched:!0,error:l.error},Wn.i))),n().createElement(ha.E,{span:9},n().createElement(xe.g,{label:"Excluded namespaces",labelIcon:n().createElement(zn.m,null)},n().createElement(Ha.Field,{name:el.FieldId.DefaultRouterExcludedNamespacesFlag,type:"text",validate:Ta.validateNamespacesList,className:"pf-v5-u-w-100",input:{...a(el.FieldId.DefaultRouterExcludedNamespacesFlag),onChange:t=>e(el.FieldId.DefaultRouterExcludedNamespacesFlag,t,!1)}}),n().createElement(_l.FormGroupHelperText,{touched:!0,error:r.error},zn.$))),n().createElement(xe.g,{className:"pf-v5-u-mb-0",label:"Namespace ownership policy",labelIcon:n().createElement(Bn.O,null)},n().createElement(Ha.Field,{id:el.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict,component:Yn.ReduxCheckbox,name:el.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict,label:"Strict",labelOff:"Inter-namespace ownership allowed",isSwitch:!0,input:a(el.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict),meta:t(el.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict)})),n().createElement(xe.g,{className:"pf-v5-u-mb-0",label:"Wildcard policy",labelIcon:n().createElement($n.S,null)},n().createElement(Ha.Field,{id:el.FieldId.IsDefaultRouterWildcardPolicyAllowed,component:Yn.ReduxCheckbox,name:el.FieldId.IsDefaultRouterWildcardPolicyAllowed,label:"Allowed",labelOff:"Disallowed",isSwitch:!0,input:a(el.FieldId.IsDefaultRouterWildcardPolicyAllowed),meta:t(el.FieldId.IsDefaultRouterWildcardPolicyAllowed)})))},Qn=()=>{const e=(0,nl.default)(),{values:{[el.FieldId.CloudProvider]:t,[el.FieldId.Product]:a,[el.FieldId.Byoc]:l,[el.FieldId.ClusterVersion]:r,[el.FieldId.ClusterPrivacy]:i,[el.FieldId.ConfigureProxy]:s,[el.FieldId.InstallToVpc]:o,[el.FieldId.UsePrivateLink]:u,[el.FieldId.ApplicationIngress]:d,[el.FieldId.MachinePoolsSubnets]:c},values:m,setFieldValue:p}=(0,Ja.l)(),f="true"===l,E=i===qn.ClusterPrivacyType.Internal,g=t===pl.CloudProviderType.Aws||t===pl.CloudProviderType.Gcp&&f,v=f&&[S.normalizedProducts.OSD,S.normalizedProducts.OSDTRIAL].includes(a),h=a===S.normalizedProducts.ROSA?Ya.ocmResourceType.MOA:Ya.ocmResourceType.OSD,b=f,_=(0,pl.canConfigureDayOneManagedIngress)(r.raw_id),C=(0,Vn.isExactMajorMinor)(r.raw_id,4,13),y=(t,a)=>e(t,{resourceType:h,customProperties:{checked:a}}),I=()=>{m.securityGroups&&p(el.FieldId.SecurityGroups,(0,Hn.getDefaultSecurityGroupsSettings)())},R=[{value:qn.ClusterPrivacyType.External,label:"Public",description:"Access Kubernetes API endpoint and application routes from the internet."},{value:qn.ClusterPrivacyType.Internal,label:"Private",description:"Access Kubernetes API endpoint and application routes from direct private connections only."}],O=[{value:qn.ApplicationIngressType.Default,label:"Default settings"},{value:qn.ApplicationIngressType.Custom,label:"Custom settings"}];return n().createElement(ba.l,null,n().createElement(va.x,{hasGutter:!0},n().createElement(ha.E,null,n().createElement(A.h,{headingLevel:"h3"},"Networking configuration"),n().createElement(U.E,{className:"pf-v5-u-mt-sm"},"Configure network access for your cluster.")),g&&n().createElement(n().Fragment,null,n().createElement(ha.E,null,n().createElement(A.h,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Cluster privacy"),n().createElement(U.E,{className:"pf-v5-u-mt-sm"},"Install your cluster with all public or private API endpoints and application routes.")),n().createElement(ha.E,{span:6},n().createElement(fl.RadioGroupField,{name:el.FieldId.ClusterPrivacy,options:R,onChange:(e,t)=>{t===qn.ClusterPrivacyType.External&&(p(el.FieldId.UsePrivateLink,!1),c.some((e=>e.availabilityZone||e.publicSubnetId||e.privateSubnetId))||(p(el.FieldId.InstallToVpc,!1),I(),s&&p(el.FieldId.ConfigureProxy,!1)))}})),E&&n().createElement(ha.E,null,n().createElement(T.F,{isInline:!0,variant:"warning",title:"You will not be able to access your cluster until you edit network settings in your cloud provider."},t===pl.CloudProviderType.Aws&&n().createElement(W.default,{href:z.default.OSD_AWS_PRIVATE_CONNECTIONS},"Learn more about configuring network settings")))),f&&n().createElement(n().Fragment,null,n().createElement(ha.E,null,n().createElement(A.h,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Virtual Private Cloud (VPC)"),n().createElement(U.E,{className:"pf-v5-u-mt-sm"},"By default, a new VPC will be created for your cluster. Alternatively, you may opt to install to an existing VPC below.")),n().createElement(ha.E,{span:6},n().createElement(xe.g,{fieldId:el.FieldId.InstallToVpc},n().createElement(fl.CheckboxField,{name:el.FieldId.InstallToVpc,label:"Install into an existing VPC",input:{onChange:(e,t)=>{p(el.FieldId.InstallToVpc,t),I(),y(Ya.trackEvents.InstallIntoVPC,t)}},isDisabled:u||s}),n().createElement("div",{className:"pf-v5-u-ml-lg pf-v5-u-mt-md"},E&&t===pl.CloudProviderType.Aws&&n().createElement(fl.CheckboxField,{name:el.FieldId.UsePrivateLink,label:"Use a PrivateLink",input:{onChange:(e,t)=>{p(el.FieldId.UsePrivateLink,t),t&&p(el.FieldId.InstallToVpc,!0)},description:Yl.constants.privateLinkHint}}),v&&n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(fl.CheckboxField,{name:el.FieldId.ConfigureProxy,label:"Configure a cluster-wide proxy",input:{onChange:(e,t)=>{y(Ya.trackEvents.ConfigureClusterWideProxy,t),p(el.FieldId.ConfigureProxy,t),t&&!o&&(p(el.FieldId.InstallToVpc,!0),y(Ya.trackEvents.InstallIntoVPC,t))},description:Yl.constants.clusterProxyHint}})))))),b&&n().createElement(n().Fragment,null,n().createElement(ha.E,null,n().createElement(A.h,{headingLevel:"h4",size:"xl"},"Application ingress settings"),n().createElement(U.E,{className:"pf-v5-u-mt-sm"},"Ingress is configured by default."," ",_?"Customize settings if needed.":"It can be customized for 4.14 clusters or newer.",C&&n().createElement(n().Fragment,null," ","For 4.13 clusters, refer to"," ",n().createElement(W.default,{href:z.default.MANAGED_INGRESS_KNOWLEDGE_BASE},"this knowledge base article"),"."))),_&&n().createElement(n().Fragment,null,n().createElement(ha.E,null,n().createElement(fl.RadioGroupField,{name:el.FieldId.ApplicationIngress,options:O,onChange:(e,t)=>(e=>{p(el.FieldId.ApplicationIngress,e)})(t)})),d===qn.ApplicationIngressType.Custom&&n().createElement(Kn,null)))))};var Zn=a(69122);const Xn=Ta.default.disjointSubnets(el.FieldId.NetworkMachineCidr),Jn=Ta.default.disjointSubnets(el.FieldId.NetworkServiceCidr),er=Ta.default.disjointSubnets(el.FieldId.NetworkPodCidr),tr=Ta.default.awsSubnetMask(el.FieldId.NetworkMachineCidrSingleAz),ar=Ta.default.awsSubnetMask(el.FieldId.NetworkMachineCidrMultiAz),lr=Ta.default.awsSubnetMask(el.FieldId.NetworkServiceCidr),nr=e=>t=>(0,Ta.required)(e)||Ta.default.cidr(e)||Ta.default.validateRange(e)||t===pl.CloudProviderType.Gcp&&Ta.default.privateAddress(e)||void 0,rr=()=>{const{values:{[el.FieldId.CloudProvider]:e,[el.FieldId.InstallToVpc]:t,[el.FieldId.MultiAz]:a,[el.FieldId.CidrDefaultValuesEnabled]:l,[el.FieldId.NetworkPodCidr]:r},values:i,setFieldValue:s,setFieldTouched:o}=(0,Ja.l)(),u="true"===a;n().useEffect((()=>{void 0===r&&s(el.FieldId.NetworkPodCidr,Zn.POD_CIDR_DEFAULT)}),[r,s]);const d=u?Ta.default.AWS_MACHINE_CIDR_MAX_MULTI_AZ:Ta.default.AWS_MACHINE_CIDR_MAX_SINGLE_AZ,c=e===pl.CloudProviderType.Gcp?n().createElement(n().Fragment,null,n().createElement("br",null),n().createElement("span",null,"The address must be a private IPv4 address, belonging to one of the following ranges:",n().createElement(x.B8,null,n().createElement(G.c,null,"10.0.0.0  10.255.255.255"),n().createElement(G.c,null,"172.16.0.0  172.31.255.255"),n().createElement(G.c,null,"192.168.0.0  192.168.255.255")))):null,m=(0,Ka.constructSelectedSubnets)(i);return n().createElement(ba.l,null,n().createElement(va.x,{hasGutter:!0},n().createElement(ha.E,null,n().createElement(A.h,{headingLevel:"h3"},"CIDR ranges"),n().createElement(T.F,{id:"advanced-networking-alert",isInline:!0,variant:"info",className:"pf-v5-u-mt-sm",title:"CIDR ranges cannot be changed after you create your cluster."},n().createElement("p",{className:"pf-v5-u-mb-md"},"Specify non-overlapping ranges for machine, service, and pod ranges. Each range should correspond to the first IP address in their subnet."),n().createElement(W.default,{href:z.default.CIDR_RANGE_DEFINITIONS_OSD},"Learn more to avoid conflicts")))),n().createElement(va.x,{hasGutter:!0,md:6},n().createElement(we.s,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},n().createElement(ha.E,null,n().createElement(fl.CheckboxField,{name:el.FieldId.CidrDefaultValuesEnabled,label:"Use default values",input:{onChange:(e,t)=>{s(el.FieldId.CidrDefaultValuesEnabled,t),t&&(s(el.FieldId.NetworkMachineCidr,Zn.MACHINE_CIDR_DEFAULT),s(el.FieldId.NetworkServiceCidr,Zn.SERVICE_CIDR_DEFAULT),s(el.FieldId.NetworkPodCidr,Zn.POD_CIDR_DEFAULT),s(el.FieldId.NetworkHostPrefix,Zn.HOST_PREFIX_DEFAULT),o(el.FieldId.NetworkMachineCidr,!1),o(el.FieldId.NetworkServiceCidr,!1),o(el.FieldId.NetworkPodCidr,!1),o(el.FieldId.NetworkHostPrefix,!1))},description:"The below values are safe defaults. However, you must ensure that the Machine CIDR is valid for your chosen subnet(s)."}})),n().createElement(ha.E,null,n().createElement(fl.TextInputField,{name:el.FieldId.NetworkMachineCidr,label:"Machine CIDR",validate:e=>(e=>(t,a)=>{const{[el.FieldId.CloudProvider]:l,[el.FieldId.MultiAz]:n}=t,r="true"===n;return nr(e)(l)||l===pl.CloudProviderType.Aws&&Ta.default.awsMachineCidr(e,t)||l===pl.CloudProviderType.Gcp&&Ta.default.gcpMachineCidr(e,t)||Ta.default.validateRange(e)||l===pl.CloudProviderType.Aws&&Ta.default.subnetCidrs(e,t,el.FieldId.NetworkMachineCidr,a)||Xn(e,t)||l===pl.CloudProviderType.Aws&&!r&&tr(e)||l===pl.CloudProviderType.Aws&&r&&ar(e)||void 0})(e)(i,m),isDisabled:l,helperText:n().createElement("div",{className:"pf-v5-c-form__helper-text"},e===pl.CloudProviderType.Aws?`Subnet mask must be between /${Ta.default.AWS_MACHINE_CIDR_MIN} and /${d}.`:`Range must be private. Subnet mask must be at most /${Ta.default.GCP_MACHINE_CIDR_MAX}.`,t&&n().createElement(T.F,{variant:"info",isPlain:!0,isInline:!0,title:"Ensure the Machine CIDR range matches the selected VPC subnets."})),tooltip:n().createElement(n().Fragment,null,Yl.constants.machineCIDRHint,c,n().createElement(U.E,{component:U.Y.p},n().createElement(W.default,{href:z.default.OSD_CIDR_MACHINE},"Learn more"))),input:{placeholder:Zn.MACHINE_CIDR_DEFAULT}})),n().createElement(ha.E,null,n().createElement(fl.TextInputField,{name:el.FieldId.NetworkServiceCidr,label:"Service CIDR",validate:e=>(e=>(t,a)=>{const{[el.FieldId.CloudProvider]:l}=t;return nr(e)(l)||Ta.default.serviceCidr(e)||Jn(e,t)||l===pl.CloudProviderType.Aws&&lr(e)||l===pl.CloudProviderType.Aws&&Ta.default.subnetCidrs(e,t,el.FieldId.NetworkServiceCidr,a)||void 0})(e)(i,m),isDisabled:l,helperText:e===pl.CloudProviderType.Aws?`Subnet mask must be at most /${Ta.default.SERVICE_CIDR_MAX}.`:`Range must be private. Subnet mask must be at most /${Ta.default.SERVICE_CIDR_MAX}.`,tooltip:n().createElement(n().Fragment,null,Yl.constants.serviceCIDRHint,c,n().createElement(U.E,{component:U.Y.p},n().createElement(W.default,{href:z.default.OSD_CIDR_SERVICE},"Learn more"))),input:{placeholder:Zn.SERVICE_CIDR_DEFAULT}})),n().createElement(ha.E,null,n().createElement(fl.TextInputField,{name:el.FieldId.NetworkPodCidr,label:"Pod CIDR",validate:e=>(e=>(t,a)=>{const{[el.FieldId.CloudProvider]:l}=t;return nr(e)(t[el.FieldId.CloudProvider])||Ta.default.podCidr(e,t)||er(e,t)||l===pl.CloudProviderType.Aws&&Ta.default.subnetCidrs(e,t,el.FieldId.NetworkPodCidr,a)||void 0})(e)(i,m),isDisabled:l,helperText:e===pl.CloudProviderType.Aws?`Subnet mask must allow for at least ${Ta.default.POD_NODES_MIN} nodes.`:`Range must be private. Subnet mask must allow for at least ${Ta.default.POD_NODES_MIN} nodes.`,tooltip:n().createElement(n().Fragment,null,Yl.constants.podCIDRHint,c,n().createElement(U.E,{component:U.Y.p},n().createElement(W.default,{href:z.default.OSD_CIDR_POD},"Learn more"))),input:{placeholder:Zn.POD_CIDR_DEFAULT}})),n().createElement(ha.E,null,n().createElement(fl.TextInputField,{name:el.FieldId.NetworkHostPrefix,label:"Host prefix",validate:e=>(0,Ta.required)(e)||Ta.default.hostPrefix(e),isDisabled:l,helperText:`Must be between /${Ta.default.HOST_PREFIX_MIN} and /${Ta.default.HOST_PREFIX_MAX}.`,tooltip:Yl.constants.hostPrefixHint,input:{placeholder:Zn.HOST_PREFIX_DEFAULT,onChange:(e,t)=>s(el.FieldId.NetworkHostPrefix,(e=>e&&"/"!==e.charAt(0)?`/${e}`:e)(t))}})))))};var ir=a(57596),sr=a(32358),or=a(34108),ur=a(98173),dr=a(22024),cr=a(15403);const mr=({index:e})=>{const{values:{[el.FieldId.UsePrivateLink]:t,[el.FieldId.SelectedVpc]:a,[el.FieldId.Region]:l,[el.FieldId.MultiAz]:r,[el.FieldId.MachinePoolsSubnets]:i},getFieldProps:s,getFieldMeta:o,setFieldTouched:u,setFieldValue:d}=(0,Ja.l)(),c=`${el.FieldId.MachinePoolsSubnets}[${e}].availabilityZone`,m=`${el.FieldId.MachinePoolsSubnets}[${e}].privateSubnetId`,p=`${el.FieldId.MachinePoolsSubnets}[${e}].publicSubnetId`,f=i[e],E=0===e,g="true"===r,v=(0,cr.default)(m),h=(0,cr.default)(p),b=t?["private"]:["private","public"],S=(0,sr.getMatchingAvailabilityZones)(l,a,b),_=!(null==a?void 0:a.id),C=f.availabilityZone?[f.availabilityZone]:[];return n().createElement(n().Fragment,null,n().createElement(ha.E,{className:"vpc-input-field",md:4},n().createElement(dr.default,{showTooltip:_,content:"Select a VPC first"},n().createElement(Ha.Field,{component:ur.default,name:c,label:E?"Availability zone":void 0,validate:e=>{const a=f.privateSubnetId&&(t||f.publicSubnetId);return(0,Ta.required)(e)||g&&(0,Ta.validateUniqueAZ)(e,{machinePoolsSubnets:i})||(a?"":"Select the subnets for this availability zone")},enabledAvailabilityZones:S,vpcId:null==a?void 0:a.id,isDisabled:_,region:l,input:{...s(c),onChange:e=>{d(c,e),u(m,!0,!0)}},meta:o(c)}))),n().createElement(ha.E,{md:4},n().createElement(dr.default,{showTooltip:_,content:"Select a VPC first"},n().createElement(Ha.Field,{component:or.SubnetSelectField,name:m,label:E?"Private subnet":void 0,validate:Ta.required,input:{...s(m),onChange:v},meta:o(m),privacy:"private",selectedVPC:a,withAutoSelect:!1,allowedAZs:C}))),!t&&n().createElement(ha.E,{md:4},n().createElement(dr.default,{showTooltip:_,content:"Select a VPC first"},n().createElement(Ha.Field,{component:or.SubnetSelectField,name:p,label:E?"Public subnet":void 0,validate:Ta.required,input:{...s(p),onChange:h},meta:o(p),privacy:"public",selectedVPC:a,withAutoSelect:!1,allowedAZs:C}))),t&&n().createElement(ha.E,{md:4}))},pr=()=>{const{values:e,dirty:t,getFieldProps:a,getFieldMeta:l,setFieldValue:r}=(0,Ja.l)(),{[el.FieldId.MultiAz]:i,[el.FieldId.SelectedVpc]:s,[el.FieldId.UsePrivateLink]:o}=e,u="true"===i,d=l(el.FieldId.SelectedVpc);return n().createElement(n().Fragment,null,n().createElement(va.x,null,n().createElement(ha.E,{md:6},n().createElement(Ha.Field,{component:ir.default,name:el.FieldId.SelectedVpc,input:{...a(el.FieldId.SelectedVpc),onChange:e=>r(el.FieldId.SelectedVpc,e)},isOSD:!0,meta:d,validate:e=>t&&!(null==e?void 0:e.id)?"error":void 0,selectedVPC:s,showRefresh:!0,isHypershift:!1,usePrivateLink:o})),n().createElement(ha.E,{md:6})),n().createElement(mr,{index:0}),u&&n().createElement(n().Fragment,null,n().createElement(mr,{index:1}),n().createElement(mr,{index:2})))};var fr=a(30155),Er=a(19214),gr=a(13865);const vr="securityGroups",hr=({input:{onChange:e,value:t},label:a,selectedVPC:l,isHypershift:r})=>n().createElement(Er.A,{label:a,selectedVPC:l,selectedGroupIds:t,isReadOnly:!1,onChange:e,isHypershift:r}),br=()=>{const{values:{[el.FieldId.SelectedVpc]:e,[el.FieldId.ClusterVersion]:t,[el.FieldId.SecurityGroups]:a},getFieldProps:r,setFieldValue:i}=(0,Ja.l)(),{applyControlPlaneToAll:s}=a,o=s?a.controlPlane:a.controlPlane.concat(a.infra).concat(a.worker),[u,d]=(0,l.useState)(o.length>0);if(!e.id)return null;const c=e=>t=>i(e,t),m=(0,vn.E)(En.x.SECURITY_GROUPS,null==t?void 0:t.raw_id,{day1:!0}),p=!m&&0===(e.aws_security_groups||[]).length;return n().createElement(fn.Q,{toggleText:"Additional security groups",isExpanded:u,onToggle:()=>{d(!u)}},m&&n().createElement("div",null,m),p&&n().createElement(gr.A,null),!m&&!p&&n().createElement(n().Fragment,null,n().createElement(T.F,{variant:"info",isInline:!0,title:"You cannot add or edit security groups associated with the control plane nodes, infrastructure nodes, or machine pools that were created by default during cluster creation.",actionLinks:n().createElement(n().Fragment,null,n().createElement(fr.v,{component:"a",href:z.default.OSD_SECURITY_GROUPS,target:"_blank"},"View more information"),n().createElement(fr.v,{component:"a",href:z.default.AWS_CONSOLE_SECURITY_GROUPS,target:"_blank"},"AWS security groups console"))}),n().createElement("br",null),n().createElement(Ha.Field,{component:fl.CheckboxField,name:`${vr}.applyControlPlaneToAll`,label:"Apply the same security groups to all node types (control plane, infrastructure, worker)",input:{...r(`${vr}.applyControlPlaneToAll`),onChange:(e,t)=>i(`${vr}.applyControlPlaneToAll`,t)}}),n().createElement(Ha.Field,{component:hr,name:`${vr}.controlPlane`,label:s?"":"Control plane nodes",selectedVPC:e,validate:e=>(0,Ta.validateSecurityGroups)(e,!1),input:{...r(`${vr}.controlPlane`),onChange:c(`${vr}.controlPlane`)}}),!s&&n().createElement(n().Fragment,null,n().createElement(Ha.Field,{component:hr,name:`${vr}.infra`,label:"Infrastructure nodes",selectedVPC:e,validate:e=>(0,Ta.validateSecurityGroups)(e,!1),input:{...r(`${vr}.infra`),onChange:c(`${vr}.infra`)}}),n().createElement(Ha.Field,{component:hr,name:`${vr}.worker`,label:"Worker nodes",selectedVPC:e,validate:e=>(0,Ta.validateSecurityGroups)(e,!1),input:{...r(`${vr}.worker`),onChange:c(`${vr}.worker`)}}))))},Sr=()=>{const{values:{[el.FieldId.UsePrivateLink]:e,[el.FieldId.SelectedVpc]:t,[el.FieldId.MultiAz]:a},setFieldValue:l,setFieldTouched:r}=(0,Ja.l)(),i="true"===a;return n().useEffect((()=>{if(!t.id){const e=i?3:1,t=[];for(let a=0;a<e;a+=1)t.push((0,pl.emptyAWSSubnet)());l(el.FieldId.MachinePoolsSubnets,t)}r(el.FieldId.MachinePoolsSubnets,!1)}),[l,r,i,t.id]),n().createElement(n().Fragment,null,n().createElement(ha.E,null,n().createElement(A.h,{headingLevel:"h4",size:"md"},"Install into an existing VPC",n().createElement(X.default,{iconClassName:"pf-v5-u-ml-sm",hint:n().createElement(n().Fragment,null,"Your VPC must have public and private subnets. Public subnets are associated with appropriate Ingress rules. Private subnets need appropriate routes and tables."," ",n().createElement(W.default,{href:z.default.INSTALL_AWS_VPC},"Learn more about installing into an existing VPC"))})),n().createElement("p",{className:"pf-v5-u-mt-sm"},`To install into an existing VPC, you need to ensure that your VPC is configured with\n                ${e?"":"a public and"} a private subnet for each availability zone that you want the cluster\n                installed into.`," ",n().createElement(W.default,{href:z.default.INSTALL_AWS_CUSTOM_VPC_REQUIREMENTS},"Learn more about VPC"))),n().createElement(T.F,{variant:"info",isInline:!0,title:"You'll need to match these VPC subnets when you define the CIDR ranges."}),n().createElement(pr,null),n().createElement(br,null))},_r=({input:e,placeholder:t,emptyPlaceholder:a,label:l,meta:r,helperText:i})=>{var s,o;const u=(0,c.wA)(),{values:d}=(0,Ja.l)(),{vpcs:m}=(0,q.useGlobalState)((e=>e.ccsInquiries)),p=(0,sn.GO)(d),{[el.FieldId.GcpAuthType]:f}=d,E=d[el.FieldId.Region],g=!(!p||!E),v=m.cloudProvider===pl.CloudProviderType.Gcp&&Pn()(m.credentials,p)&&m.region===E,h=v&&m.fulfilled,b=n().useMemo((()=>{var e;return(null===(e=null==m?void 0:m.data)||void 0===e?void 0:e.items)||[]}),[null===(s=null==m?void 0:m.data)||void 0===s?void 0:s.items]),S=n().useMemo((()=>{let e;return e=h?b.length>0?n().createElement(n().Fragment,null,n().createElement(Dn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:t}),b.map((({name:e})=>n().createElement(Dn.Q,{key:e,value:e,label:e||""})))):n().createElement(Dn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:a}):m.pending?n().createElement(Dn.Q,{isDisabled:!0,value:"",label:"Loading..."}):n().createElement(Dn.Q,{isDisabled:!0,value:"",label:""}),e}),[h,m.pending,b,t,a]),_=n().useMemo((()=>{var t;return!!e.value&&(!g||!(!v||!m.fulfilled)&&!((null===(t=m.data)||void 0===t?void 0:t.items)||[]).some((t=>t.name===e.value.toString())))}),[g,e.value,v,null===(o=m.data)||void 0===o?void 0:o.items,m.fulfilled]);n().useEffect((()=>{!g||v||m.pending||u((0,Pl.getGCPCloudProviderVPCs)(Pl.LIST_VPCS,f,p,E)),_&&e.onChange("")}),[e,g,v,m.pending,p,E,u,_,f]);const{onChange:C,...y}=e;return n().createElement(xe.g,{label:l,fieldId:e.name},v&&m.error&&n().createElement(T.F,{variant:"danger",isInline:!0,title:"Failed to list existing VPCs using your GCP credentials"},"Verify that your entered service account details are correct"),n().createElement(Ln.F,{"aria-label":l,isDisabled:!(h&&b.length>0),...y,onChange:(e,t)=>C(t)},S),n().createElement(_l.FormGroupHelperText,{touched:r.touched,error:r.error},i))},Cr=({input:e,meta:t,label:a,placeholder:l,emptyPlaceholder:r,helperText:i})=>{var s;const{vpcs:o}=(0,q.useGlobalState)((e=>e.ccsInquiries)),{values:u,values:{[el.FieldId.Region]:d,[el.FieldId.VpcName]:c}}=(0,Ja.l)(),m=(0,sn.GO)(u),p=!!(m&&d&&c),f="gcp"===o.cloudProvider&&Pn()(o.credentials,m)&&o.region===d,E=f&&o.fulfilled,g=n().useMemo((()=>{var e,t;const a=null===(t=null===(e=null==o?void 0:o.data)||void 0===e?void 0:e.items)||void 0===t?void 0:t.find((e=>e.name===c));return(null==a?void 0:a.subnets)||[]}),[c,null===(s=null==o?void 0:o.data)||void 0===s?void 0:s.items]),v=n().useMemo((()=>!(!e.value||p&&(!f||!o.fulfilled||g.some((t=>t===e.value.toString()))))),[p,e.value,g,f,o.fulfilled]);n().useEffect((()=>{v&&e.onChange("")}),[e,v]);const h=n().useMemo((()=>{let e;return e=E?g.length>0?n().createElement(n().Fragment,null,n().createElement(Dn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:l}),g.map((e=>n().createElement(Dn.Q,{key:e,value:e,label:e})))):n().createElement(Dn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:r}):o.pending?n().createElement(Dn.Q,{isDisabled:!0,value:"",label:"Loading..."}):n().createElement(Dn.Q,{isDisabled:!0,value:"",label:""}),e}),[r,g,l,E,o.pending]),{onChange:b,...S}=e;return n().createElement(xe.g,{label:a,fieldId:e.name},f&&o.error&&n().createElement(T.F,{variant:"danger",isInline:!0,title:"Failed to list existing VPC subnets using your GCP credentials"},"Verify that your entered service account details are correct"),n().createElement(Ln.F,{"aria-label":a,isDisabled:!(E&&g.length>0),...S,onChange:(e,t)=>b(t)},h),n().createElement(_l.FormGroupHelperText,{touched:t.touched,error:t.error},i))},yr=()=>{const{values:{[el.FieldId.ClusterVersion]:e,[el.FieldId.InstallToSharedVpc]:t},getFieldProps:a,getFieldMeta:r,setFieldValue:i}=(0,Ja.l)(),s=(0,v.useFeatureGate)(_.OSD_GCP_SHARED_VPC_FEATURE),{goToStepById:o}=(0,rn.CV)(),u=(0,l.useMemo)((()=>{if(t){const t=-1===(0,gn.versionComparator)(null==e?void 0:e.raw_id,"4.13.15");return n().createElement(n().Fragment,null,t&&n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(T.F,{variant:"danger",isInline:!0,title:"You must use OpenShift version 4.13.15 or above.",actionLinks:n().createElement(fr.v,{onClick:()=>o(el.StepId.ClusterSettingsDetails)},"Change version")})),n().createElement("div",{className:"pf-v5-u-mt-md",style:{display:t?"none":"block"}},n().createElement(fl.TextInputField,{name:el.FieldId.SharedHostProjectID,label:"Host project ID",validate:Ta.validateGCPHostProjectId}),n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(T.F,{variant:"info",isInline:!0,title:"NOTE: To install a cluster into a shared VPC, the shared VPC administrator must enable a project as a\n              host project in their Google Cloud console. Then you can attach service projects to the host project."}))))}return null}),[null==e?void 0:e.raw_id,o,t]);return n().createElement(n().Fragment,null,s&&n().createElement(ha.E,{span:8},n().createElement(A.h,{headingLevel:"h4",size:"md"},"GCP shared VPC"),n().createElement("div",{className:"pf-v5-u-mt-md  pf-v5-u-mb-lg"},n().createElement(fl.CheckboxField,{name:el.FieldId.InstallToSharedVpc,label:"Install into GCP Shared VPC",tooltip:n().createElement(n().Fragment,null,n().createElement("p",null,"Install into a VPC shared by another account in your GCP organization."),n().createElement(W.default,{href:z.default.INSTALL_GCP_VPC},"Learn more about GCP shared VPC.")),input:{onChange:(e,t)=>{i(el.FieldId.InstallToSharedVpc,t)}}}),u)),n().createElement(ha.E,null,n().createElement(A.h,{headingLevel:"h4",size:"md"},"Existing VPC",n().createElement(X.default,{iconClassName:"pf-v5-u-ml-sm",hint:n().createElement(n().Fragment,null,"Install into a non-default subnet shared by another account in your CP organization",n().createElement(W.default,{href:z.default.INSTALL_GCP_VPC},"Learn more about GCP shared VPC"))})),n().createElement("div",{className:"pf-v5-u-ml-sm pf-v5-u-mt-md  pf-v5-u-mb-lg",style:{width:"fit-content"}},n().createElement("p",{className:"pf-v5-u-mt-sm"},"To install into an existing VPC, you need to ensure that your VPC is configured with a control plane subnet and compute subnet."),n().createElement("p",{className:"pf-v5-u-mt-sm"},"You'll also need to match these VPC subnets when you define the CIDR ranges."))),n().createElement(ha.E,{md:3},t?n().createElement(fl.TextInputField,{name:el.FieldId.VpcName,label:"Existing VPC name",validate:Ta.validateGCPSubnet}):n().createElement(Ha.Field,{component:_r,name:el.FieldId.VpcName,validate:Ta.required,label:"Existing VPC name",placeholder:"Select VPC name",emptyPlaceholder:"No existing VPCs",input:{...a(el.FieldId.VpcName),onChange:e=>i(el.FieldId.VpcName,e)},meta:r(el.FieldId.VpcName)})),n().createElement(ha.E,{md:3},t?n().createElement(fl.TextInputField,{name:el.FieldId.ControlPlaneSubnet,label:"Control plane subnet name",validate:Ta.validateGCPSubnet}):n().createElement(Ha.Field,{component:Cr,name:el.FieldId.ControlPlaneSubnet,validate:Ta.required,label:"Control plane subnet name",placeholder:"Select subnet name",emptyPlaceholder:"No subnet names",input:{...a(el.FieldId.ControlPlaneSubnet),onChange:e=>i(el.FieldId.ControlPlaneSubnet,e)},meta:r(el.FieldId.ControlPlaneSubnet)})),n().createElement(ha.E,{md:3},t?n().createElement(fl.TextInputField,{name:el.FieldId.ComputeSubnet,label:"Compute subnet name",validate:Ta.validateGCPSubnet}):n().createElement(Ha.Field,{component:Cr,name:el.FieldId.ComputeSubnet,validate:Ta.required,label:"Compute subnet name",placeholder:"Select subnet name",emptyPlaceholder:"No subnet names",input:{...a(el.FieldId.ComputeSubnet),onChange:e=>i(el.FieldId.ComputeSubnet,e)},meta:r(el.FieldId.ComputeSubnet)})),t&&n().createElement(ha.E,{span:9},n().createElement("div",{className:"pf-v5-u-mt-md  pf-v5-u-mb-lg"},n().createElement(T.F,{variant:"info",isInline:!0,title:"For successful installation, be sure your Host project ID, Existing VPC name, Control plane subnet name, and Compute subnet name are correct."}))))},Ir=()=>{const{values:{[el.FieldId.CloudProvider]:e}}=(0,Ja.l)();return n().createElement(ba.l,null,n().createElement(va.x,{hasGutter:!0},n().createElement(ha.E,null,n().createElement(A.h,{headingLevel:"h3"},"Virtual Private Cloud (VPC) subnet settings")),e===pl.CloudProviderType.Aws&&n().createElement(Sr,null),e===pl.CloudProviderType.Gcp&&n().createElement(yr,null)))},Ar={"text/plain":[".pem",".crt",".ca",".cert"],"application/x-pem-file":[".pem"],"application/x-x509-ca-cert":[".crt",".ca",".cert"]},Rr=()=>{const{values:{[el.FieldId.HttpProxyUrl]:e,[el.FieldId.HttpsProxyUrl]:t,[el.FieldId.AdditionalTrustBundle]:a,[el.FieldId.NoProxyDomains]:l},touched:r,setFieldValue:i,setFieldTouched:s}=(0,Ja.l)(),{activeStep:o,goToStepByName:u}=(0,rn.CV)(),d=!e&&!t&&!a,c=o.name===el.StepName.ClusterProxy&&d?"Configure at least one of the cluster-wide proxy fields.":void 0,m=(r[el.FieldId.HttpProxyUrl]||r[el.FieldId.HttpsProxyUrl]||r[el.FieldId.AdditionalTrustBundle])&&d;return n().useEffect((()=>{!l||e||t||i(el.FieldId.NoProxyDomains,"")}),[l,e,t]),n().createElement(ba.l,null,n().createElement(ha.E,null,n().createElement(A.h,{headingLevel:"h3"},"Cluster-wide proxy"),n().createElement(U.E,{className:"pf-v5-u-mt-sm"},Yl.constants.clusterProxyHint),n().createElement(W.default,{href:z.default.OSD_CLUSTER_WIDE_PROXY},"Learn more about configuring a cluster-wide proxy")),n().createElement(ha.E,null,n().createElement(T.F,{variant:"info",isInline:!0,isPlain:!0,title:"Configure at least 1 of the following fields:"})),n().createElement(va.x,{hasGutter:!0,md:6},n().createElement(we.s,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},n().createElement(ha.E,null,n().createElement(fl.TextInputField,{name:el.FieldId.HttpProxyUrl,label:"HTTP proxy URL",validate:e=>(0,Ta.validateUrl)(e,"http")||c,helperText:"Specify a proxy URL to use for HTTP connections outside the cluster.",input:{placeholder:Zn.HTTP_PROXY_PLACEHOLDER}})),n().createElement(ha.E,null,n().createElement(fl.TextInputField,{name:el.FieldId.HttpsProxyUrl,label:"HTTPS proxy URL",validate:e=>(0,Ta.validateUrl)(e,["http","https"])||c,helperText:"Specify a proxy URL to use for HTTPS connections outside the cluster.",input:{placeholder:Zn.HTTPS_PROXY_PLACEHOLDER}})),n().createElement(ha.E,null,n().createElement(fl.TextInputField,{name:el.FieldId.NoProxyDomains,label:"No Proxy domains",validate:Ta.checkNoProxyDomains,helperText:Zn.NO_PROXY_HELPER_TEXT,isDisabled:!e&&!t,input:{onChange:(e,t)=>i(el.FieldId.NoProxyDomains,(0,Ka.stringToArray)(t)),placeholder:e||t?Zn.NO_PROXY_PLACEHOLDER:Zn.DISABLED_NO_PROXY_PLACEHOLDER}})),n().createElement(ha.E,null,n().createElement(fl.FileUploadField,{name:el.FieldId.AdditionalTrustBundle,label:"Additional trust bundle",tooltip:n().createElement(n().Fragment,null,n().createElement(A.h,{headingLevel:"h6",className:"pf-v5-u-mb-sm"},"Additional trust bundle"),n().createElement("p",null,"An additional trust bundle is a PEM encoded X.509 certificate bundle that will be added to the nodes' trusted certificate store.")),validate:e=>(0,Ta.validateCA)(e)||c,helperText:"Upload or paste a PEM encoded X.509 certificate.",input:{textAreaPlaceholder:Zn.TRUST_BUNDLE_PLACEHOLDER,dropzoneProps:{accept:Ar,maxSize:4e6,onDropRejected:()=>{s(el.FieldId.AdditionalTrustBundle,!0),i(el.FieldId.AdditionalTrustBundle,"Invalid file")}}}})),n().createElement(ha.E,null,m&&n().createElement(T.F,{isInline:!0,variant:"warning",title:n().createElement("span",null,"Complete at least 1 of the fields above. If you don't want to set a cluster-wide proxy, disable this option in the ",n().createElement("strong",{style:{fontSize:"var(--pf-v5-global--FontSize--md)"}},"Networking > Configuration")," step."),actionLinks:n().createElement(fr.v,{onClick:()=>u("Configuration")},"Back to the networking configuration")})))))};var Tr=a(28592);const Or=({onRetry:e,onClose:t,title:a="Missing prerequisite"})=>{const{goToStepById:l}=(0,rn.CV)(),r=(0,c.wA)(),i=()=>{r((0,_a.closeModal)()),t()};return n().createElement(Tr.default,{header:n().createElement(A.h,{headingLevel:"h2",size:"2xl"},n().createElement(Re.I,{className:"pf-v5-u-mr-sm"},n().createElement(Ye.ExclamationCircleIcon,{color:Ke.global_danger_color_100.value})),a),modalSize:"medium","aria-label":a,onPrimaryClick:i,onClose:i,actions:[n().createElement(j.$n,{key:"retry",variant:"primary",onClick:e,type:"submit"},"Retry creating cluster"),n().createElement(j.$n,{key:"prereq-guide",variant:"secondary",onClick:()=>{l(el.StepId.ClusterSettingsCloudProvider),i()}},"Go back to prerequisites guide"),n().createElement(j.$n,{key:"secondary",variant:"secondary",onClick:i},"Cancel")]},n().createElement("p",null,"The cluster cannot be created because the provided AWS credentials don't belong to the"," ",n().createElement("strong",null,"osdCcsAdmin")," user. To provision a cluster successfully, your AWS account requires an IAM user called ",n().createElement("strong",null,"osdCcsAdmin")," with the"," ",n().createElement("strong",null,"AdministratorAccess")," policy."),n().createElement("p",{className:"pf-v5-u-mt-md"},"Make sure the IAM user exists in your AWS account and try creating the cluster again."))},Pr=e=>n().createElement(Oa.default,{...e},n().createElement(U.E,{className:"pf-v5-u-mt-sm"},n().createElement(W.default,{href:z.default.OSD_CCS_GCP_SHEILDED_VM},"Learn more about Secure Boot"))),Dr=({onRetry:e})=>{var t,a;const l=(0,c.wA)(),r=(0,c.d4)((e=>e.clusters.createdCluster)),i=()=>l((0,Ia.resetCreatedClusterResponse)()),{error:s}=r;return s?"AWSCredsNotOSDCCSAdmin"===(null===(a=null===(t=r.errorDetails)||void 0===t?void 0:t[0])||void 0===a?void 0:a.Error_Key)?n().createElement(Or,{onRetry:e,onClose:i}):(null==r?void 0:r.errorMessage)&&"string"==typeof(null==r?void 0:r.errorMessage)&&(null==r?void 0:r.errorMessage.includes("SecureBoot feature"))?n().createElement(Pr,{title:"Error creating cluster",errorResponse:r,resetResponse:i}):n().createElement(Oa.default,{title:"Error creating cluster",errorResponse:r,resetResponse:i}):null};var Lr=a(62193),Nr=a.n(Lr),wr=a(79082),Mr=a(46726),kr=a(55909);const Fr=({isPending:e})=>{const{goToStepById:t}=(0,rn.CV)(),{values:{[el.FieldId.Product]:a,[el.FieldId.BillingModel]:l,[el.FieldId.InstallToVpc]:r,[el.FieldId.InstallToSharedVpc]:i,[el.FieldId.ConfigureProxy]:s,[el.FieldId.Byoc]:o,[el.FieldId.CloudProvider]:u,[el.FieldId.NodeLabels]:d,[el.FieldId.ClusterPrivacy]:c,[el.FieldId.ClusterVersion]:m,[el.FieldId.ApplicationIngress]:p,[el.FieldId.SecurityGroups]:f,[el.FieldId.HasDomainPrefix]:E},values:h}=(0,Ja.l)(),b=(0,kr.default)(a,l),S=b&&!!h[el.FieldId.AutoscalingEnabled],C=(0,v.useFeatureGate)(_.OSD_GCP_WIF),y="true"===o,I=u===pl.CloudProviderType.Aws,R=u===pl.CloudProviderType.Gcp,T=y&&(0,Hn.hasSelectedSecurityGroups)(f),O=C&&R&&y,P=[el.FieldId.CloudProvider,...O?[el.FieldId.GcpAuthType]:[],el.FieldId.ClusterName,...E?[el.FieldId.DomainPrefix]:[],el.FieldId.ClusterVersion,el.FieldId.Region,el.FieldId.MultiAz,...R?[el.FieldId.SecureBoot]:[],el.FieldId.EnableUserWorkloadMonitoring,...y?[el.FieldId.CustomerManagedKey]:[el.FieldId.PersistentStorage],...y&&I?[el.FieldId.DisableScpChecks]:[],el.FieldId.EtcdEncryption,el.FieldId.FipsCryptography];return e?n().createElement(He.a,null,n().createElement(M.B,null,n().createElement(k.a,null,n().createElement(He.a,null,n().createElement(fe.y,{size:"xl"}))),n().createElement(k.a,null,n().createElement(He.a,null,"Creating your cluster. Do not refresh this page. This request may take a moment...")))):n().createElement("div",{className:"ocm-create-osd-review-screen"},n().createElement(A.h,{headingLevel:"h2"},"Review your dedicated cluster"),n().createElement(Mr.default,{title:"Billing model",onGoToStep:()=>t(el.StepId.BillingModel)},n().createElement(Mr.ReviewItem,{name:el.FieldId.BillingModel,formValues:h}),n().createElement(Mr.ReviewItem,{name:el.FieldId.Byoc,formValues:h})),n().createElement(Mr.default,{title:"Cluster settings",onGoToStep:()=>t(el.StepId.ClusterSettingsCloudProvider)},P.map((e=>n().createElement(Mr.ReviewItem,{key:e,name:e,formValues:h})))),n().createElement(Mr.default,{title:"Default machine pool",onGoToStep:()=>t(el.StepId.ClusterSettingsMachinePool)},n().createElement(Mr.ReviewItem,{name:el.FieldId.MachineType,formValues:h}),b&&n().createElement(Mr.ReviewItem,{name:el.FieldId.AutoscalingEnabled,formValues:h}),S?n().createElement(Mr.ReviewItem,{name:el.FieldId.MinReplicas,formValues:h}):n().createElement(Mr.ReviewItem,{name:el.FieldId.NodesCompute,formValues:h}),!(1===d.length&&Nr()(d[0].key))&&n().createElement(Mr.ReviewItem,{name:el.FieldId.NodeLabels,formValues:h}),I&&y&&(0,pl.canSelectImds)(m.raw_id)&&n().createElement(Mr.ReviewItem,{name:el.FieldId.IMDS,formValues:h})),n().createElement(Mr.default,{title:"Networking",onGoToStep:()=>t(I?el.StepId.NetworkingConfiguration:el.StepId.NetworkingCidrRanges)},n().createElement(Mr.ReviewItem,{name:el.FieldId.ClusterPrivacy,formValues:h}),y&&n().createElement(Mr.ReviewItem,{name:el.FieldId.InstallToVpc,formValues:h}),y&&"internal"===c&&r&&n().createElement(Mr.ReviewItem,{name:el.FieldId.UsePrivateLink,formValues:h}),y&&R&&i&&n().createElement(Mr.ReviewItem,{name:el.FieldId.SharedHostProjectID,formValues:h}),y&&r&&n().createElement(Mr.ReviewItem,{name:I?"aws_standalone_vpc":"gpc_vpc",formValues:h}),y&&r&&T&&n().createElement(Mr.ReviewItem,{name:"securityGroups",formValues:h}),r&&n().createElement(Mr.ReviewItem,{name:el.FieldId.ConfigureProxy,formValues:h}),r&&s&&n().createElement(n().Fragment,null,n().createElement(Mr.ReviewItem,{name:el.FieldId.HttpProxyUrl,formValues:h}),n().createElement(Mr.ReviewItem,{name:el.FieldId.HttpsProxyUrl,formValues:h}),n().createElement(Mr.ReviewItem,{name:el.FieldId.NoProxyDomains,formValues:h}),n().createElement(Mr.ReviewItem,{name:el.FieldId.AdditionalTrustBundle,formValues:h})),n().createElement(Mr.ReviewItem,{name:el.FieldId.NetworkMachineCidr,formValues:h}),n().createElement(Mr.ReviewItem,{name:el.FieldId.NetworkServiceCidr,formValues:h}),n().createElement(Mr.ReviewItem,{name:el.FieldId.NetworkPodCidr,formValues:h}),n().createElement(Mr.ReviewItem,{name:el.FieldId.NetworkHostPrefix,formValues:h}),y&&n().createElement(Mr.ReviewItem,{name:el.FieldId.ApplicationIngress,formValues:h}),"default"!==p&&y&&n().createElement(n().Fragment,null,n().createElement(Mr.ReviewItem,{name:el.FieldId.DefaultRouterSelectors,formValues:h}),n().createElement(Mr.ReviewItem,{name:el.FieldId.DefaultRouterExcludedNamespacesFlag,formValues:h}),n().createElement(Mr.ReviewItem,{name:el.FieldId.IsDefaultRouterWildcardPolicyAllowed,formValues:h}),n().createElement(Mr.ReviewItem,{name:el.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict,formValues:h}))),n().createElement(Mr.default,{title:"Updates",onGoToStep:()=>t(el.StepId.ClusterUpdates)},n().createElement(Mr.ReviewItem,{name:el.FieldId.UpgradePolicy,formValues:h}),h[el.FieldId.UpgradePolicy]===pl.UpgradePolicyType.Automatic&&n().createElement(Mr.ReviewItem,{name:el.FieldId.AutomaticUpgradeSchedule,formValues:h}),n().createElement(Mr.ReviewItem,{name:el.FieldId.NodeDrainGracePeriod,formValues:h})),g.default.fakeOSD&&n().createElement(wr.DebugClusterRequest,{cloudProvider:u,product:a,formValues:h}))},xr=()=>{const{submitForm:e}=(0,Ja.l)(),t=(0,q.useGlobalState)((e=>e.clusters.createdCluster)),[a,l]=n().useState(!1);return n().useEffect((()=>{t.error&&!a&&l(!0)}),[t.error,a]),n().createElement("div",{className:"pf-v5-u-mb-md"},n().createElement(Fr,{isPending:t.pending}),a&&n().createElement(Dr,{onRetry:e}))},Gr=()=>{var e;const t=(0,nl.default)(),a=(0,E.useNavigate)(),{values:{[el.FieldId.Product]:l,[el.FieldId.CloudProvider]:r,[el.FieldId.Byoc]:i,[el.FieldId.InstallToVpc]:s,[el.FieldId.ConfigureProxy]:o}}=(0,Ja.l)(),u=(0,q.useGlobalState)((e=>e.userProfile.organization)),d=(0,q.useGlobalState)((e=>e.loadBalancerValues)),c=(0,q.useGlobalState)((e=>e.persistentStorageValues)),m=(0,q.useGlobalState)((e=>e.clusters.createdCluster)),p=(0,Qa.availableClustersFromQuota)(u.quotaList,{product:l})>=1,f=[{data:u,name:"Organization & Quota"},{data:d,name:"Load balancers"},{data:c,name:"Storage options"}].reduce(((e,t)=>(t.data.error&&e.push({key:t.name,message:`Error while loading required form data (${t.name})`,response:t.data}),e)),[]),g=(e,a)=>t(e,{resourceType:Ya.ocmResourceTypeByProduct[l],...a&&{customProperties:{step_name:a}}});return u.pending||d.pending||c.pending||!u.fulfilled&&!u.error?n().createElement(C.d8,null,n().createElement(D.A,{centered:!0})):m.fulfilled?n().createElement(E.Navigate,{replace:!0,to:`/details/s/${null===(e=m.cluster.subscription)||void 0===e?void 0:e.id}`}):u.fulfilled&&!p?n().createElement(E.Navigate,{replace:!0,to:"/create"}):f.length>0?n().createElement(C.d8,null,n().createElement(Da.default,{errors:f})):n().createElement(Ba.s,{id:"osd-wizard",onClose:()=>a(el.UrlPath.CreateCloud),onStepChange:(e,{name:t},a,l)=>{let n;switch(l){case za.ET.Next:n=Ya.trackEvents.WizardNext;break;case za.ET.Back:n=Ya.trackEvents.WizardBack;break;default:n=Ya.trackEvents.WizardLinkNav}g(n,null==t?void 0:t.toString())},footer:n().createElement(dn,{track:()=>g(Ya.trackEvents.WizardSubmit)}),nav:{"aria-label":`${el.ariaLabel} steps`},isVisitRequired:!0},n().createElement(Wa.W,{name:el.StepName.BillingModel,id:el.StepId.BillingModel},n().createElement(Ol,null)),n().createElement(Wa.W,{name:el.StepName.ClusterSettings,id:el.StepId.ClusterSettings,isExpandable:!0,steps:[n().createElement(Wa.W,{name:el.StepName.CloudProvider,id:el.StepId.ClusterSettingsCloudProvider,footer:n().createElement(cn,null)},n().createElement(nn,null)),n().createElement(Wa.W,{name:el.StepName.Details,id:el.StepId.ClusterSettingsDetails},n().createElement(jn,null)),n().createElement(Wa.W,{name:el.StepName.MachinePool,id:el.StepId.ClusterSettingsMachinePool},n().createElement(Za.ClusterSettingsMachinePool,null))]}),n().createElement(Wa.W,{name:el.StepName.Networking,id:el.StepId.Networking,isExpandable:!0,steps:[n().createElement(Wa.W,{name:el.StepName.Configuration,id:el.StepId.NetworkingConfiguration,isHidden:r===ol.CloudProviderType.Gcp&&"true"!==i},n().createElement(Qn,null)),n().createElement(Wa.W,{name:el.StepName.VpcSettings,id:el.StepId.NetworkingVpcSettings,isHidden:!s},n().createElement(Ir,null)),n().createElement(Wa.W,{name:el.StepName.ClusterProxy,id:el.StepId.NetworkingClusterProxy,isHidden:!o},n().createElement(Rr,null)),n().createElement(Wa.W,{name:el.StepName.CidrRanges,id:el.StepId.NetworkingCidrRanges},n().createElement(rr,null))]}),n().createElement(Wa.W,{name:el.StepName.ClusterUpdates,id:el.StepId.ClusterUpdates},n().createElement(Za.ClusterUpdates,null)),n().createElement(Wa.W,{name:el.StepName.Review,id:el.StepId.Review},n().createElement(xr,null)))},Ur=({product:e})=>{const t=(0,c.wA)(),a=(0,q.useGlobalState)((e=>e.persistentStorageValues)),l=(0,q.useGlobalState)((e=>e.loadBalancerValues)),r=(0,q.useGlobalState)((e=>e.userProfile.organization));return(0,rl.default)(),n().useEffect((()=>((0,Ka.shouldRefetchQuota)(r)&&t((0,Aa.getOrganizationAndQuota)()),a.fulfilled||a.pending||t((0,sl.default)()),l.fulfilled||l.pending||t((0,il.default)()),()=>{t((0,Ia.resetCreatedClusterResponse)())})),[t,l.fulfilled,l.pending,r,a.fulfilled,a.pending]),n().createElement(N.AppPage,{title:el.documentTitle},n().createElement(Ha.Formik,{initialValues:{...el.initialValues,...e&&{product:e}},initialTouched:el.initialTouched,validate:al,validateOnChange:!1,onSubmit:async e=>{const a=e[el.FieldId.NodeLabels].some((e=>!!e.key)),l=qa()(e,[el.FieldId.CidrDefaultValuesEnabled,el.FieldId.AcknowledgePrereq,...a?[]:[el.FieldId.NodeLabels]]);t((()=>(0,Xa.default)(t,{isWizard:!0})(l)))}},n().createElement(n().Fragment,null,n().createElement(ll.default,{title:"Create an OpenShift Dedicated Cluster",breadcrumbs:n().createElement(w.default,{path:el.breadcrumbs})}),n().createElement(C.d8,null,g.default.fakeOSD&&n().createElement($a.l,{variant:"gold"},"On submit, a fake OSD cluster will be created."),n().createElement(Gr,null)))))};var jr=a(182);const Hr=a(80370).A;var Vr=a(77475),qr=a(21345);const zr=(0,c.Ng)((e=>({fulfilled:e.entitlementConfig.fulfilled,pending:e.entitlementConfig.pending})),(e=>({createRosaEntitlement:()=>e((0,Vr.action)(qr.A,tt.accountsService.createRosaEntitlement()))})))((({fulfilled:e,pending:t,createRosaEntitlement:a})=>(n().useEffect((()=>{e||t||a()}),[]),null)));var Br=a(53034);const Wr=({href:e})=>n().createElement(j.$n,{variant:"primary","data-no-nav-prompt":!0,component:"a",href:e},"View Terms and Conditions"),$r={selfTermsReview:Aa.selfTermsReview},Yr=(0,c.Ng)((e=>({selfTermsReviewResult:e.userProfile.selfTermsReviewResult})),$r)((({selfTermsReview:e,selfTermsReviewResult:t,children:a,gobackPath:l})=>{const r=(0,E.useNavigate)(),i=(0,m.useLocation)();n().useEffect((()=>{e()}),[]);const s=n().useCallback((()=>{r(l)}),[r,l]),o=n().useCallback((e=>{const t=window.location.host+i.pathname,a=window.location.host+l;return(0,Br.A)(e,t,a)}),[i.pathname,l]);if(t.error)return n().createElement(Da.default,{response:t});if(!t.fulfilled)return n().createElement(me.p,null,n().createElement(pe.h,null,n().createElement(D.A,{centered:!0})));if(!t.terms_required&&!t.terms_available)return a;const u=t.terms_required?"Terms and Conditions":"Updated Terms and Conditions",d=t.terms_required?n().createElement(F.n,null,n().createElement(U.E,{component:U.Y.p},"Red Hat has Terms and Conditions for its managed services."),n().createElement(U.E,{component:U.Y.p},n().createElement("b",null,"If you do not accept the terms, you will not be able to create new clusters or to alter existing clusters.")," ","Existing clusters will not be affected, however access will be read-only.")):n().createElement(F.n,null,n().createElement(U.E,{component:U.Y.p},"Red Hat has updated the Terms and Conditions for its managed services.")),c=o(t.redirect_url),p=[n().createElement(Wr,{href:c,key:"view-terms-and-conditions"}),n().createElement(j.$n,{variant:"secondary",key:"cancel-terms-and-conditions",onClick:s},"Cancel")];return n().createElement(n().Fragment,null,n().createElement(Tr.default,{title:u,className:"terms-and-conditions-guard-modal",onClose:s,actions:p},d),n().cloneElement(n().Children.only(a),{blockedByTerms:!0}))}));var Kr=a(10876),Qr=a(1932),Zr=a(75942),Xr=a(15402),Jr=a(76792),ei=a(2442),ti=a(30496);const ai={...z.tools,PULL_SECRET:"pull-secret",TOKEN_OCM:"ocm-api-token"},li=[{key:"CLI",title:"Command-line interface (CLI) tools",tools:[z.tools.OC,z.tools.OCM,z.tools.ROSA,z.tools.KN,z.tools.TKN,z.tools.ARGO_CD]},{key:"DEV",title:"Developer tools",tools:[z.tools.ODO,z.tools.HELM,z.tools.OPM,z.tools.OPERATOR_SDK,z.tools.RHOAS]},{key:"INSTALLATION",title:"OpenShift installation",tools:[z.tools.X86INSTALLER,z.tools.IBMZINSTALLER,z.tools.PPCINSTALLER,z.tools.ARMINSTALLER,z.tools.MULTIINSTALLER,z.tools.CRC]},{key:"DISCONNECTED_INSTALLATION",title:"OpenShift disconnected installation tools",tools:[z.tools.MIRROR_REGISTRY,z.tools.OC_MIRROR_PLUGIN]},{key:"CUSTOM_INSTALLATION",title:"OpenShift installation customization tools",tools:[z.tools.BUTANE,z.tools.COREOS_INSTALLER,z.tools.CCOCTL]},{key:"TOKENS",title:"Tokens",tools:[ai.PULL_SECRET,ai.TOKEN_OCM]}],ni=[{key:"CLI",title:"Command-line interface (CLI) tools",tools:[z.tools.OC,z.tools.ROSA]},{key:"TOKENS",title:"Tokens",tools:[ai.PULL_SECRET,ai.TOKEN_OCM]}],ri=(li.concat(ni),()=>[{key:"ALL",title:"All categories",tools:((0,h.isRestrictedEnv)()?ni:li).reduce(((e,t)=>e.concat(t.tools)),[])}].concat((0,h.isRestrictedEnv)()?ni:li)),ii=({selectedCategory:e,setCategory:t})=>n().createElement(Ln.F,{"aria-label":"Select category",value:e,onChange:t,"data-testid":"downloads-category-dropdown"},ri().map((e=>n().createElement(Dn.Q,{key:e.key,value:e.key,label:e.title})))),si=({selectedCategory:e,category:t,description:a,children:l})=>{var r;return["ALL",t].includes(e)?n().createElement(n().Fragment,null,n().createElement("div",{className:"downloads-section-header","data-testid":`downloads-section-${t}`},n().createElement(A.h,{headingLevel:"h2"},null===(r=ri().find((e=>e.key===t)))||void 0===r?void 0:r.title),a&&n().createElement("div",{className:"description"},a)),l):null},oi=()=>n().createElement(Xr.d,null,n().createElement(Jr.Tr,null,n().createElement(ei.Th,{width:10}),n().createElement(ei.Th,{width:40},"Name"),n().createElement(ei.Th,{width:20},"OS type"),n().createElement(ei.Th,{width:20},"Architecture type")));var ui=a(11318);const di=({children:e})=>n().createElement("div",{style:{textAlign:"right"}},n().createElement("span",{style:{display:"inline-block"}},e));var ci=a(62344),mi=a(97192),pi=a(94935);const fi=({expanded:e,setExpanded:t,expandKey:a,cells:l,description:r,toolRefs:i})=>{const s=!!e[a];return n().createElement(mi.N,{isExpanded:s,ref:null==i?void 0:i.expandKey,"data-testid":`expandable-row-${a}`},n().createElement(Jr.Tr,null,n().createElement(ui.Td,{expand:{isExpanded:s,onToggle:(l,n,r)=>{t({...e,[a]:r})},rowIndex:0}}),l),n().createElement(Jr.Tr,{isExpanded:s,"data-testid":`expanded-row-${a}`},n().createElement(ui.Td,{colSpan:1+l.length},n().createElement(pi.g,null,r))))},Ei=({expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i,tool:s,channel:o,name:u,description:d})=>{const c=(0,ci.downloadChoice)(a,l,i,s,o,{text:"Download"});return n().createElement(fi,{expanded:e,setExpanded:t,toolRefs:r,expandKey:s,cells:[n().createElement(ui.Td,{dataLabel:"Name",key:`${s}-name`},n().createElement("span",null,u)),n().createElement(ui.Td,{dataLabel:"OS",key:`${s}-os`},c.osDropdown),n().createElement(ui.Td,{dataLabel:"Architecture",key:`${s}-arch`},c.archDropdown),n().createElement(ui.Td,{dataLabel:"",key:`${s}-download`},n().createElement(di,null,c.downloadButton," "))],description:d})},gi=({expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i})=>{const s={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i};return n().createElement(n().Fragment,null,n().createElement(Ei,{...s,tool:z.tools.OC,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"OpenShift command-line interface (",n().createElement("code",null,"oc"),")"),description:n().createElement(U.E,null,"Create applications and manage OpenShift projects from the command line using the OpenShift client ",n().createElement("code",null,"oc"),". ",n().createElement(W.default,{href:z.default.CLI_TOOLS_OCP_GETTING_STARTED},"Get started"))}),!(0,h.isRestrictedEnv)()&&n().createElement(Ei,{...s,tool:z.tools.OCM,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"OpenShift Cluster Manager API command-line interface (",n().createElement("code",null,"ocm"),")"," ",n().createElement(Y.Ay,{...Y.LE})),description:n().createElement(F.n,null,n().createElement(U.E,null,"Manage your OpenShift clusters from the command line using the OpenShift Cluster Manager API client ",n().createElement("code",null,"ocm"),"."," ",n().createElement(W.default,{href:z.default.OCM_CLI_DOCS},"Get started")))}),n().createElement(Ei,{...s,tool:z.tools.ROSA,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"Red Hat OpenShift Service on AWS command-line interface (",n().createElement("code",null,"rosa"),")"),description:n().createElement(U.E,null,"Manage your Red Hat OpenShift Service on AWS (ROSA) clusters from the command line using the ROSA client for OCM and AWS APIs."," ",n().createElement(W.default,{href:z.default.ROSA_CLI_DOCS},"Get started"))}),!(0,h.isRestrictedEnv)()&&n().createElement(n().Fragment,null,n().createElement(Ei,{...s,tool:z.tools.KN,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"Knative command-line interface for OpenShift Serverless (",n().createElement("code",null,"kn"),")"),description:n().createElement(U.E,null,"Interact with Knative components on OpenShift Container Platform with the Knative client for OpenShift Serverless ",n().createElement("code",null,"kn"),"."," ",n().createElement(W.default,{href:z.default.KN_DOCS},"Learn more"))}),n().createElement(Ei,{...s,tool:z.tools.TKN,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"Tekton command-line interface for OpenShift Pipelines (",n().createElement("code",null,"tkn"),")"),description:n().createElement(U.E,null,"Manage and interact with CI pipelines on OpenShift Container Platform with the Tekton CLI for OpenShift Pipelines."," ",n().createElement(W.default,{href:z.default.TKN_DOCS},"Get started"))}),n().createElement(Ei,{...s,tool:z.tools.ARGO_CD,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"Argo CD command-line interface for OpenShift GitOps (argocd)",n().createElement(Y.Ay,{...Y.Qu})),description:n().createElement(U.E,null,"Manage applications on Argo CD from the command line using the Argo CD CLI for OpenShift GitOps. ",n().createElement(W.default,{href:z.default.ARGO_CD_DOCS},"Get started"))})))},vi=({expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i})=>{const s={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i};return n().createElement(n().Fragment,null,n().createElement(Ei,{...s,tool:z.tools.BUTANE,channel:z.channels.STABLE,name:"Butane config transpiler CLI",description:n().createElement(F.n,null,n().createElement(U.E,null,"Write and validate machine configs in a convenient short-hand syntax with the Butane config transpiler CLI tool."," ",n().createElement(W.default,{href:z.default.BUTANE_DOCS},"Learn more")))}),n().createElement(Ei,{...s,tool:z.tools.COREOS_INSTALLER,channel:z.channels.STABLE,name:"CoreOS Installer CLI",description:n().createElement(F.n,null,n().createElement(U.E,null,"Download and install RHCOS disk images with the coreos-installer CLI tool."," ",n().createElement(W.default,{href:z.default.COREOS_INSTALLER_DOCS},"Learn more")))}),n().createElement(Ei,{...s,tool:z.tools.CCOCTL,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"Cloud Credential Operator CLI utility (",n().createElement("code",null,"ccoctl"),")"),description:n().createElement(F.n,null,n().createElement(U.E,null,"The ccoctl tool provides various commands to assist with the creating and maintenance of cloud credentials from outside the cluster (necessary when Cloud Credential Operator is put in Manual mode)."," ",n().createElement(W.default,{href:z.default.CCO_MANUAL_MODE},"Learn more")))}))},hi=({expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i})=>{const s={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i};return n().createElement(n().Fragment,null,n().createElement(Ei,{...s,tool:z.tools.ODO,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"Developer-focused CLI for OpenShift (",n().createElement("code",null,"odo"),")",n().createElement(Y.Ay,{...Y.Qy})),description:n().createElement(U.E,null,"Write, build, and deploy applications on OpenShift with ",n().createElement("code",null,"odo"),", a fast, iterative, and straightforward CLI tool for developers."," ",n().createElement(W.default,{href:z.default.ODO_DOCS},"Learn more"))}),n().createElement(Ei,{...s,tool:z.tools.HELM,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"Helm 3 CLI (",n().createElement("code",null,"helm"),")"),description:n().createElement(U.E,null,"Define, install, and upgrade application packages as Helm charts using Helm 3, a package manager for Kubernetes. ",n().createElement(W.default,{href:z.default.HELM_DOCS},"Learn more"))}),n().createElement(Ei,{...s,tool:z.tools.OPM,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"Operator Package Manager (",n().createElement("code",null,"opm"),")"),description:n().createElement(U.E,null,"Create and maintain catalogs of Operators from a list of bundles with the Operator Package Manager. ",n().createElement(W.default,{href:z.default.OPM_DOCS},"Learn more"))}),n().createElement(Ei,{...s,tool:z.tools.OPERATOR_SDK,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"Operator SDK CLI (",n().createElement("code",null,"operator-sdk"),")"),description:n().createElement(U.E,null,"Build, test, and deploy Operators with the Operator SDK CLI."," ",n().createElement(W.default,{href:z.default.OSDK_DOCS},"Learn more"))}),n().createElement(Ei,{...s,tool:z.tools.RHOAS,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"Red Hat OpenShift Application Services CLI (",n().createElement("code",null,"rhoas"),")"," ",n().createElement(Y.Ay,{...Y.LE})),description:n().createElement(F.n,null,n().createElement(U.E,null,"Create and manage Kafka instances and topics, service accounts, and more using"," ",n().createElement("code",null,"rhoas"),"."),n().createElement(U.E,null,n().createElement(W.default,{href:z.default.RHOAS_CLI_DOCS},"Get started")))}))},bi=({expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i})=>{const s={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i};return n().createElement(n().Fragment,null,n().createElement(Ei,{...s,tool:z.tools.MIRROR_REGISTRY,channel:z.channels.STABLE,name:"mirror registry for Red Hat OpenShift",description:n().createElement(F.n,null,n().createElement(U.E,null,"Download and install a local, minimal single instance deployment of Red Hat Quay to aid bootstrapping the first disconnected cluster."," ",n().createElement(W.default,{href:z.default.INSTALL_MIRROR_REGISTRY_LEARN_MORE},"Learn more")))}),n().createElement(Ei,{...s,tool:z.tools.OC_MIRROR_PLUGIN,channel:z.channels.STABLE,name:"OpenShift Client (oc) mirror plugin",description:n().createElement(F.n,null,n().createElement(U.E,null,'The "mirror" plugin for the OpenShift CLI client (oc) controls the process'," ","of mirroring all relevant container image for a full disconnected OpenShift"," ","installation in a central, declarative tool."," ",n().createElement(W.default,{href:z.default.INSTALL_OC_MIRROR_PLUGIN_LEARN_MORE},"Learn more")),n().createElement(U.E,null,"RHEL 9 is FIPS compatible; RHEL 8 is non-FIPS compatible."))}))};var Si=a(65411);const _i=({expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i})=>{const s={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i};return n().createElement(n().Fragment,null,n().createElement(Ei,{...s,tool:z.tools.X86INSTALLER,channel:z.channels.STABLE,name:"OpenShift for x86_64 Installer",description:n().createElement(F.n,null,n().createElement(U.E,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported x86_64 infrastructure using our"," ",n().createElement(W.default,{href:z.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),n().createElement(U.E,null,"Learn how to deploy in the ",n().createElement(E.Link,{to:"/create"},"cloud"),", or in your"," ",n().createElement(E.Link,{to:"/create/datacenter"},"data center"),"."))}),n().createElement(Ei,{...s,tool:z.tools.ARMINSTALLER,channel:z.channels.STABLE,name:"OpenShift for ARM Installer",description:n().createElement(F.n,null,n().createElement(U.E,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported ARM infrastructure using our"," ",n().createElement(W.default,{href:z.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),n().createElement(U.E,null,"Learn how to deploy in ",n().createElement(E.Link,{to:"/install/aws/arm"},"AWS"),","," ",n().createElement(E.Link,{to:"/install/azure/arm/installer-provisioned"},"Azure"),", or in your"," ",n().createElement(E.Link,{to:"/install/arm"},"data center"),"."))}),n().createElement(Ei,{...s,tool:z.tools.IBMZINSTALLER,channel:z.channels.STABLE,name:"OpenShift for IBM Z (s390x) Installer",description:n().createElement(F.n,null,n().createElement(U.E,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported IBM Z (s390x) infrastructure using our"," ",n().createElement(W.default,{href:z.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),n().createElement(U.E,null,"Learn how to deploy in your"," ",n().createElement(E.Link,{to:"/install/ibmz/user-provisioned"},"data center"),"."))}),n().createElement(Ei,{...s,tool:z.tools.PPCINSTALLER,channel:z.channels.STABLE,name:"OpenShift for Power Installer",description:n().createElement(F.n,null,n().createElement(U.E,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported Power infrastructure using our"," ",n().createElement(W.default,{href:z.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),n().createElement(U.E,null,"Learn how to deploy in your"," ",n().createElement(E.Link,{to:"/install/power/user-provisioned"},"data center"),"."))}),n().createElement(Ei,{...s,tool:z.tools.MULTIINSTALLER,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"OpenShift Installer with multi-architecture compute machines"," ",n().createElement(Si.A,{className:"pf-v5-u-ml-md pf-v5-u-display-inline"})),description:n().createElement(F.n,null,n().createElement(U.E,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported infrastructure using our"," ",n().createElement(W.default,{href:z.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),n().createElement(U.E,null,"Learn how to deploy in"," ",n().createElement(E.Link,{to:"/install/azure/multi/installer-provisioned"},"Azure"),"."))}),n().createElement(Ei,{...s,tool:z.tools.CRC,channel:z.channels.STABLE,name:n().createElement(n().Fragment,null,"OpenShift Local (",n().createElement("code",null,"crc"),")"),description:n().createElement(F.n,null,n().createElement(U.E,null,"Download and open the OpenShift Local file to automatically start a step-by-step installation guide."),n().createElement(U.E,null,n().createElement(E.Link,{to:"/create/local"},"Create a minimal cluster on your desktop")," for local development and testing."))}))};var Ci=a(86161),yi=a(73083),Ii=a(88832);const Ai=({expanded:e,setExpanded:t,toolRefs:a,token:l})=>n().createElement(fi,{expanded:e,setExpanded:t,toolRefs:a,expandKey:ai.PULL_SECRET,cells:[n().createElement(ui.Td,{key:"pullSecret"},"Pull secret"),n().createElement(ui.Td,{key:"download"},n().createElement(di,null,n().createElement(mn.B,{hasGutter:!0},n().createElement(pn.o,null,n().createElement(yi.default,{token:l,text:"Copy",variant:"link-inplace"})),n().createElement(pn.o,null,n().createElement(Ii.default,{token:l,text:"Download"})))))],description:n().createElement(F.n,null,n().createElement(U.E,null,"An image pull secret provides authentication for the cluster to access services and registries which serve the container images for OpenShift components. Every individual user gets a single pull secret generated. The pull secret can be used when installing clusters, based on the required infrastructure."),n().createElement(U.E,null,"Learn how to ",n().createElement(E.Link,{to:"/create"},"create a cluster")," or"," ",n().createElement(W.default,{href:z.default.OCM_DOCS_PULL_SECRETS},"learn more about pull secrets"),"."))}),Ri=({expanded:e,setExpanded:t,toolRefs:a})=>n().createElement(fi,{expanded:e,setExpanded:t,toolRefs:a,expandKey:ai.TOKEN_OCM,cells:[n().createElement(ui.Td,{key:"name"},"OpenShift Cluster Manager API Token"),n().createElement(ui.Td,{key:"viewAPI"},n().createElement(di,null,n().createElement(E.Link,{to:"/token"},n().createElement(j.$n,{variant:"secondary",icon:n().createElement(Ci.ArrowRightIcon,null),"data-testid":"view-api-token-btn",iconPosition:"right"},"View API token"))))],description:n().createElement(U.E,null,"Use your API token to authenticate against your OpenShift Cluster Manager account.")}),Ti=({expanded:e,setExpanded:t,toolRefs:a,token:l,restrictTokens:r,orgRequest:i,restrictedEnv:s})=>{const o={expanded:e,setExpanded:t,toolRefs:a},u={...o,token:l};return s?n().createElement(n().Fragment,null,n().createElement(Ai,{...u}),n().createElement(Ri,{...o})):r?n().createElement(Ai,{...u}):i.isLoading?n().createElement(n().Fragment,null,n().createElement(Ai,{...u}),n().createElement(mi.N,null,n().createElement(Jr.Tr,null,n().createElement(ui.Td,null,n().createElement(D.A,{centered:!0}))))):i.error&&!L.g?n().createElement(n().Fragment,null,n().createElement(Ai,{...u}),n().createElement(mi.N,null,n().createElement(Jr.Tr,null,n().createElement(ui.Td,null),n().createElement(ui.Td,{id:"org-error"},n().createElement(T.F,{variant:"danger",isInline:!0,title:"Error retrieving user account"},n().createElement("p",null,i.error.reason),n().createElement("p",null,`Operation ID: ${i.error.operation_id||"N/A"}`))),n().createElement(ui.Td,null)))):n().createElement(n().Fragment,null,n().createElement(Ai,{...u}),n().createElement(Ri,{...o}))},Oi=e=>`tool-${e}`,Pi=()=>{var e;const t=(0,h.isRestrictedEnv)(),a=(0,c.wA)(),r=(0,be.useGlobalState)((e=>e.githubReleases)),i=(0,be.useGlobalState)((e=>e.tollbooth.token||{})),s=(0,m.useLocation)(),o=(0,E.useNavigate)(),{organization:u,isLoading:d,error:p}=(0,re.default)(),[f,g]=(0,l.useState)(),[v,b]=(0,l.useState)("ALL"),[S,_]=(0,l.useState)(Object.values(ai).reduce(((e,t)=>({...e,[`${t}`]:!1})),{})),[y,I]=(0,l.useState)({}),A=(e,t)=>{var a,l;let n=null;null===(l=null===(a=ri().find((t=>t.key===e)))||void 0===a?void 0:a.tools)||void 0===l||l.forEach((e=>{t[e]&&(n=e)}));const r=n?`#${Oi(n)}`:"";r!==s.hash&&o({...s,hash:r})},R=e=>{_(e),A(v,e)},T=Object.values(ai).reduce(((e,t)=>({...e,[`${t}`]:(0,l.createRef)()})),{}),D=()=>{var e;const t=s.hash.replace("#",""),a=Object.values(ai).find((e=>Oi(e)===t));if(a){R({...S,[a]:!0});const t=null===(e=T[a])||void 0===e?void 0:e.current;if(t){t.scrollIntoView({block:"start",behavior:"smooth"});const e=t.querySelector("button, select");e&&e.focus({preventScroll:!0})}}};(0,l.useEffect)((()=>{!t&&!d&&!p&&u&&u.capabilities&&(0,L.X)(u.capabilities)&&g(!0)}),[u,d,p,t]),(0,l.useEffect)((()=>(a(El.tollboothActions.createAuthToken()),z.githubReleasesToFetch.forEach((e=>{r[e].fulfilled||a(El.githubActions.getLatestRelease(e))})),D(),window.addEventListener("hashchange",D),()=>{window.removeEventListener("hashchange",D)})),[]);const w=(0,z.urlsSelector)(r),M=null===(e=ri().find((e=>e.key===v)))||void 0===e?void 0:e.tools,k=!(null==M?void 0:M.every((e=>S[e]))),F={expanded:S,setExpanded:R,selections:y,setSelections:I,toolRefs:T,urls:w};return n().createElement(N.AppPage,{title:"Downloads | Red Hat OpenShift Cluster Manager"},n().createElement(O.A,{className:"downloads-page-header"},n().createElement(mn.B,null,n().createElement(pn.o,{isFilled:!0},n().createElement(P.A,{className:"ocm-page-title",title:"Downloads"}))),n().createElement(mn.B,{className:"subheader"},n().createElement(pn.o,null,n().createElement(ii,{selectedCategory:v,setCategory:(e,t)=>{b(t),A(t,S)}})),n().createElement(pn.o,null,n().createElement(Zr.c,{className:"expand-collapse-all",isExpanded:!k,onToggle:()=>{R((0,Qr.jM)(S,(e=>{null==M||M.forEach((t=>{e[t]=k}))})))}},k?"Expand all":"Collapse all")))),n().createElement(C.d8,{className:"downloads-page-body"},n().createElement(C.d8,{variant:"light",padding:{default:"noPadding"},className:"downloads-page-body"},n().createElement(si,{selectedCategory:v,category:"CLI",description:n().createElement(U.E,null,"Download command line tools to manage and work with OpenShift from your terminal.")},n().createElement(ti.X,{"aria-label":"CLI tools table",cells:[],rows:[]},n().createElement(oi,null),n().createElement(gi,{...F}))),!t&&n().createElement(n().Fragment,null,n().createElement(si,{selectedCategory:v,category:"DEV",description:n().createElement(U.E,null,"Access all the powers of Kubernetes through a simplified workflow with Red Hats developer tools."," ",n().createElement(W.default,{href:"https://developers.redhat.com/topics/developer-tools"},"Learn more"))},n().createElement(ti.X,{"aria-label":"Developer tools table"},n().createElement(oi,null),n().createElement(hi,{...F}))),n().createElement(si,{selectedCategory:v,category:"INSTALLATION",description:n().createElement(U.E,null,"Install OpenShift based on your infrastructure. For the installer matching your infrastructure type, select the operating system and architecture on which you wish to run the installer. Then follow the steps provided within your infrastructure's tab on the ",n().createElement(E.Link,{to:"/create"},"create cluster")," page to install an OpenShift cluster.")},n().createElement(ti.X,{"aria-label":"OpenShift installation table"},n().createElement(oi,null),n().createElement(_i,{...F}))),n().createElement(si,{selectedCategory:v,category:"DISCONNECTED_INSTALLATION",description:n().createElement(U.E,null,"Utilities to simplify preparation of disconnected cluster installations.")},n().createElement(ti.X,{"aria-label":"OpenShift disconnected installation tools table"},n().createElement(oi,null),n().createElement(bi,{...F}))),n().createElement(si,{selectedCategory:v,category:"CUSTOM_INSTALLATION",description:n().createElement(U.E,null,"Customize OpenShift and Red Hat Enterprise Linux CoreOS (RHCOS) installation with these tools.")},n().createElement(ti.X,{"aria-label":"OpenShift installation customization downloads table"},n().createElement(oi,null),n().createElement(vi,{...F})))),n().createElement(si,{category:"TOKENS",selectedCategory:v},n().createElement(ti.X,{"aria-label":"Tokens table"},n().createElement(Xr.d,null,n().createElement(Jr.Tr,null,n().createElement(ei.Th,{width:10}),n().createElement(ei.Th,{width:90}),n().createElement(ei.Th,{width:10})))," ",n().createElement(Ti,{expanded:S,setExpanded:R,toolRefs:T,token:i,restrictTokens:f,orgRequest:{isLoading:d,error:p},restrictedEnv:t}))))))};var Di=a(88423),Li=a(56540),Ni=a(90128),wi=a.n(Ni),Mi=a(99851),ki=a(46828),Fi=a(91877),xi=a(14559),Gi=a(47816),Ui=a(97796),ji=a(89217);const Hi=({data:e,refresh:t,marketplace:a})=>{const l=(e,t,a)=>n().createElement(C.d8,{className:"subscriptions-empty-state"},n().createElement(me.p,null,n().createElement(Te.o,{titleText:e,headingLevel:"h4"}),n().createElement(pe.h,null,t),n().createElement(Ui.s,null,a))),r={account:{emptyTitle:"Unable to retrieve account information",errorTitle:"Unable to retrieve account information",text:"Contact support to verify your account is valid",emptyButton:void 0},ocp:{emptyTitle:"You do not have any clusters",errorTitle:"Unable to retrieve subscription status",text:n().createElement("p",null,"Create a cluster to get started."),emptyButton:n().createElement(E.Link,{to:"/install"},n().createElement(j.$n,null,"Create cluster"))},osd:{emptyTitle:"You do not have any quota",errorTitle:"Unable to retrieve quota information",text:n().createElement("p",null,n().createElement("a",{href:"https://cloud.redhat.com/products/dedicated/contact/",rel:"noreferrer noopener",target:"_blank"},"Contact sales")," ","to get started with OpenShift Dedicated."),emptyButton:void 0},osdmarketplace:{emptyTitle:"Marketplace On-Demand subscriptions not detected",errorTitle:"Unable to retrieve quota information",text:n().createElement("p",null,n().createElement("p",null,"No marketplace subscriptions for OpenShift Dedicated or add-ons were found in your account"),n().createElement("br",null),n().createElement("p",null,n().createElement(j.$n,{component:"a",href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated",variant:"primary",rel:"noopener noreferrer",target:"_blank"},"Enable in Marketplace")),n().createElement("br",null),n().createElement(W.default,{href:z.default.OCM_DOCS_SUBSCRIPTIONS},"Learn more")),emptyButton:void 0}};let i=r[e.type];a&&"osd"===e.type&&(i=r.osdmarketplace);let s=null;if(e.error){const a=(()=>{var t;const{internalErrorCode:a,errorMessage:l,operationID:r}=e;return ji.BANNED_USER_CODE===a?n().createElement("span",null,null===(t=(0,ji.overrideErrorMessage)({code:a}))||void 0===t?void 0:t.split(/\n/).map((e=>n().createElement(n().Fragment,null,e,n().createElement("br",null))))):n().createElement(n().Fragment,null,n().createElement("p",null,"An error has occurred! Try again or contact support by including this error message:"),n().createElement("q",null,l),n().createElement("p",null,`Operation ID: ${r||"N/A"}`))})(),r=n().createElement(j.$n,{onClick:t},"Try again");s=l(i.errorTitle,a,r)}else e.pending?s=n().createElement(C.d8,null,n().createElement(D.A,{centered:!0})):e.empty&&(s=l(i.emptyTitle,i.text,i.emptyButton));return s};var Vi=a(42877),qi=a.n(Vi),zi=a(32569),Bi=a(68923);const Wi=({rows:e,children:t})=>{const a=qi()(e,[0,1]).map((e=>({cells:e}))),l=n().createElement(n().Fragment,null,n().createElement("p",null,"Standard: Cluster infrastructure costs paid by Red Hat"),n().createElement("p",null,"CCS: Cluster infrastructure costs paid by the customer")),r=n().createElement(n().Fragment,null,"Plan type ",n().createElement(X.default,{hint:l})),i=["Resource type","Resource name","Availability",{title:"Plan type",transforms:[()=>({children:r})]},"Cluster type",{title:"Used",props:{className:"quota-table-used"}},"Capacity"];return n().createElement(n().Fragment,null,n().createElement(ti.X,{"aria-label":"Quota Table",cells:i,rows:a},n().createElement(zi.A,null),n().createElement(Bi.B,null)),t)},{MARKETPLACE:$i}=S.billingModels,Yi=(e,t)=>{let a=n().createElement(Fi.us,null);return e>t?a=n().createElement(Mi.ExclamationTriangleIcon,{className:"warn-icon"}):e===t?a=n().createElement(Gi.Qo,null):e>=t/2?a=n().createElement(xi.cN,null):0===e&&(a=n().createElement(ki.O1,null)),a},Ki={fetchQuotaCost:e=>Li.subscriptionsActions.fetchQuotaCost(e)},Qi=(0,c.Ng)((e=>({quotaCost:e.subscriptions.quotaCost})),Ki)((({quotaCost:e,marketplace:t,organizationID:a,fetchQuotaCost:l})=>{var r;const i=n().useCallback((()=>{l(a)}),[a,l]);let s;n().useEffect((()=>{i()}),[]);const o=[];let u=n().createElement(E.Link,{to:"/quota/resource-limits"},"Dedicated (On-Demand Limits)"),c="The summary of all annual subscriptions for OpenShift Dedicated purchased by your organization or granted by Red Hat. For On-Demand resources, see";return t&&(u=n().createElement(W.default,{href:"/openshift/subscriptions/openshift-dedicated",noIcon:!0},"Dedicated (On-Demand)"),c="Active subscriptions allow your organization to use up to a certain number of OpenShift Dedicated clusters. Overall OSD subscription capacity and usage can be viewed in"),e.fulfilled&&(null===(r=e.items)||void 0===r||r.forEach((e=>{if(0===e.consumed&&0===e.allowed)return;const a=d()(e,"related_resources",[]).filter((e=>0!==e.cost));if(0===a.length)return;const l=d()(a[0],"billing_model");let n=d()(a[0],"resource_name");var r,i;t&&l!==$i&&"addon-open-data-hub"!==n||(t||l!==$i&&"addon-open-data-hub"!==n)&&("compute.node"===d()(a[0],"resource_type")&&"byoc"===d()(a[0],"byoc")&&(n="vCPU"),o.push([d()(a[0],"resource_type"),n,{title:(i=d()(a[0],"availability_zone_type"),"multi"===i?"multi-zone":"single"===i?"single zone":"N/A")},(r=d()(a[0],"byoc"),"rhinfra"===r?"Standard":"byoc"===r?"CCS":"any"===r?"Any":"N/A"),wi()(d()(a[0],"product")),`${e.consumed} of ${e.allowed}`,{title:Yi(e.consumed,e.allowed)}]))}))),s=o.length>0?n().createElement(n().Fragment,null,n().createElement(k.a,{className:"content-header"},"Quota"),n().createElement(k.a,{className:"table-container"},n().createElement(Wi,{rows:o}))):n().createElement(Hi,{data:{error:e.error,pending:e.pending,type:"osd",empty:!0},refresh:i,marketplace:t}),n().createElement(y.Z,null,n().createElement(I.Z,null,"OpenShift Dedicated"),n().createElement(R.b,null,n().createElement(M.B,{hasGutter:!0},n().createElement(k.a,null,c," ",u),s)))})),Zi="Quota | Red Hat OpenShift Cluster Manager",Xi={fetchAccount:Li.subscriptionsActions.fetchAccount,invalidateClusters:Ia.clustersActions.invalidateClusters},Ji=(0,c.Ng)((e=>({account:e.subscriptions.account})),Xi)((({invalidateClusters:e,fetchAccount:t,account:a,marketplace:l})=>{if(n().useEffect((()=>(t(),()=>{e()})),[]),a.fulfilled&&a.data.organization&&a.data.organization.id){const e=l?"Dedicated (On-Demand Limits)":"Dedicated (Annual)",t=a.data.organization.id;return n().createElement(N.AppPage,{title:Zi},n().createElement(O.A,null,n().createElement(P.A,{title:e,className:"page-title"})),n().createElement(C.d8,{className:"ocm-p-subscriptions"},n().createElement(M.B,{hasGutter:!0},n().createElement(k.a,{className:"ocm-l-osd-subscription__section"},n().createElement(Qi,{organizationID:t,marketplace:l})))))}return n().createElement(N.AppPage,{title:Zi},n().createElement(Hi,{data:{error:a.error,pending:a.pending,type:"account",internalErrorCode:a.error?a.internalErrorCode:void 0},refresh:t}))}));var es=a(99589),ts=a.n(es),as=a(10673),ls=a(67321),ns=a(49089);const rs=e=>{const t=ts().coerce(e);if(!t)return null;const{major:a,minor:l,patch:n,prerelease:r}=t;if(4!==a||!Nr()(r))return null;const i=`https://docs.openshift.com/container-platform/${a}.${l}/release_notes/ocp-${a}-${l}-release-notes.html`;return n>0?i+`#ocp-${a}-${l}-${n}`:i};var is=a(18501),ss=a(10314);var os=a(26355);const us=({children:e})=>n().createElement("dd",{className:"pf-v5-c-description-list__description ocm-l-ocp-releases__channel-detail"},n().createElement(os.$,{className:"ocm-l-ocp-releases__channel-detail-level"},e)),ds=({children:e})=>n().createElement("dt",{className:"pf-v5-c-description-list__term pf-v5-u-mt-md"},e),cs=({channel:e,status:t})=>{var a;const[l]=(0,yn.useOCPLatestVersionInChannel)(e),r=e.includes("candidate"),i=(e=>{const t=ts().coerce(e);if(!t)return null;const{major:a,minor:l,prerelease:n}=t;if(4!==a||!Nr()(n))return null;let r="understanding_updates/understanding-update-channels-release.html";return l<14&&(r=l<6?`updating-cluster-between-minor.html#candidate-${a}-${l}-channel`:"understanding-upgrade-channels-release.html#candidate-version-channel_understanding-upgrade-channels-releases"),`https://docs.openshift.com/container-platform/${a}.${l}/updating/${r}`})(l),{major:s,minor:o}=null!==(a=ts().coerce(l))&&void 0!==a?a:{major:"4",minor:"7"},u=rs(l);return n().createElement(n().Fragment,null,n().createElement(ds,null,r&&n().createElement(ns.c,{className:"ocm-l-ocp-releases__divider pf-v5-u-my-lg"}),e,r&&n().createElement(X.default,{iconClassName:"pf-v5-u-ml-sm",hint:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-md"},`Candidate channels contain candidate releases for a z-stream\n                  (e.g., ${s}.${o}.z). A candidate channel release contains\n                  all the features of the product, but is not supported until the\n                  release is promoted to the fast, stable, or eus channels.`),i&&n().createElement("p",null,n().createElement(W.default,{href:i,noIcon:!0},"Learn more about candidate channels")))})),n().createElement(us,null,l&&n().createElement(is.o,null,"Latest version"," ",u?n().createElement(W.default,{href:u,noIcon:!0},l):l),t&&n().createElement(ss.A,{status:t})))},ms=()=>{var e,t,a;const[l]=(0,yn.useOCPLifeCycleStatusData)(),r=null===(e=null==l?void 0:l[0])||void 0===e?void 0:e.versions,i=null==r?void 0:r.filter((e=>!e.name.includes("EUS"))),s=null==i?void 0:i.splice(0,6),o=null!==(a=null===(t=null==s?void 0:s[0])||void 0===t?void 0:t.name)&&void 0!==a?a:"4.7",u=e=>n().createElement(n().Fragment,null,"OpenShift ",e);return n().createElement(N.AppPage,{title:"Releases | Red Hat OpenShift Cluster Manager"},n().createElement(O.A,null,n().createElement(P.A,{title:"Releases",className:"page-title"})),n().createElement(C.d8,{className:"ocm-p-releases"},n().createElement(M.B,{hasGutter:!0},n().createElement(k.a,{className:"ocm-l-ocp-releases__section"},n().createElement(y.Z,null,n().createElement(I.Z,null,"Latest OpenShift releases"),n().createElement(R.b,null,n().createElement(M.B,{hasGutter:!0},n().createElement(k.a,null,"View general information on the most recent OpenShift Container Platform release versions that you can install. Versions are only supported when released to the fast, stable, or eus channels."," ",n().createElement(ul.A,{"aria-label":"Version help",bodyContent:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-md"},"The most recent versions aren't always available for every cluster. To keep your cluster up to date with the recommended version, run regular updates from the ",n().createElement(E.Link,{to:"/cluster-list"},"clusters list"),"."),n().createElement("p",null,n().createElement("em",null,"Note:")," Disconnected clusters won't show available recommended updates on the clusters list.")),id:"version-help"},n().createElement(j.$n,{variant:"link",isInline:!0},"I don't see these versions as upgrade options for my cluster."," ",n().createElement(dl.OutlinedQuestionCircleIcon,null)))),n().createElement(as.Z,{hasGutter:!0,minWidths:{sm:"340px"},maxWidths:{default:"340px"}},null==s?void 0:s.map((e=>{var t,a;const l=rs(e.name);return n().createElement(ls.K,{key:e.name,"data-testid":`version-${e.name}`},n().createElement(y.Z,{isFlat:!0,className:"ocm-l-ocp-releases__card"},n().createElement(I.Z,null,n().createElement("div",{className:"ocm-l-ocp-releases__card-title pf-v5-u-mb-sm"},l?n().createElement(W.default,{href:l,noIcon:!0},u(e.name)):u(e.name)),n().createElement(ns.c,{className:"ocm-l-ocp-releases__divider pf-v5-u-mt-lg pf-v5-u-mb-sm"})),n().createElement(R.b,null,n().createElement("div",{className:"ocm-l-ocp-releases__subheading"},"Channel details"),n().createElement("dl",{className:"ocm-l-ocp-releases__channels"},n().createElement(cs,{channel:`stable-${e.name}`,status:e.type}),!(0,h.isRestrictedEnv)()&&n().createElement(cs,{channel:`fast-${e.name}`,status:e.type}),(e=>{const t=ts().coerce(e);if(!t)return!1;const{minor:a}=t;return a>5&&a%2==0})(e.name)?n().createElement(cs,{channel:`eus-${e.name}`,status:null!==(a=null===(i=e.name,t=null==r?void 0:r.find((e=>e.name.includes(`${i} EUS`))))||void 0===t?void 0:t.type)&&void 0!==a?a:e.type}):n().createElement(n().Fragment,null,n().createElement(ds,null,"-"),n().createElement(us,null,`No ${e.name} EUS channel`)),!(0,h.isRestrictedEnv)()&&n().createElement(cs,{channel:`candidate-${e.name}`})))));var i}))))))),n().createElement(k.a,{className:"ocm-l-osd-releases__section"},n().createElement(y.Z,null,n().createElement(I.Z,null,"Channels"),n().createElement(R.b,null,n().createElement(M.B,{hasGutter:!0},n().createElement(k.a,null,`Channels recommend release versions and help control the pace of updates.\n                    Update channels are tied to a minor version of OpenShift Container Platform,\n                    for example ${o}. To update to the next minor release, you may need to change\n                    the channel you're in.`),n().createElement(k.a,null,n().createElement(W.default,{href:`https://docs.openshift.com/container-platform/${o}/updating/understanding_updates/understanding-update-channels-release.html`,noIcon:!0},"Learn more about updating channels")))))))))};var ps,fs=a(51937),Es=a(83741);!function(e){e.Available="available",e.Deploying="deploying",e.Failed="failed",e.Started="started",e.Unavailable="unavailable",e.Requested="requested"}(ps||(ps={}));const gs=e=>e.status===ps.Unavailable&&e.quota.current>=e.quota.limit?"quota-exceeded":e.status,vs="/demoExperience/rosa-hands-on",hs=async()=>{const e=await b.Ay.get(vs,{baseURL:g.default.configData.demoExperience});return{...e,data:(t=e.data,{...t,status:gs(t)})};var t},bs=()=>b.Ay.post(vs,{},{baseURL:g.default.configData.demoExperience});var Ss=a(76123),_s=a.n(Ss),Cs=a(19404),ys=a(59759);const Is="https://red.ht/rosa-slack",As="/create/rosa/getstarted",Rs=e=>l.createElement(Re.I,{...e},l.createElement(Ye.ExclamationCircleIcon,{color:Ke.global_danger_color_100.value})),Ts=({message:e})=>l.createElement(me.p,null,l.createElement(Te.o,{titleText:"Failed to fetch demo experience.",icon:l.createElement(Oe.q,{icon:Rs}),headingLevel:"h4"}),l.createElement(pe.h,null,l.createElement(F.n,{className:"pf-v5-u-mb-md"},e),l.createElement(j.$n,{variant:"link",iconPosition:"right",isInline:!0,onClick:()=>window.location.reload()},"Try refreshing the page.")));var Os=a(66312),Ps=a(49650),Ds=a(5924),Ls=a(78716),Ns=a(59779),ws=a(22125);const Ms=a.p+"images/RosaHandsOnIcon.41dbfcbb409e199e..svg",ks=()=>n().createElement("img",{src:Ms,alt:"Preview Rosa hands-on","aria-hidden":"true",style:{width:"300px",height:"auto"}}),Fs="rosa-handson-main-card",xs=({children:e,popoverContent:t,popoverHeader:a})=>n().createElement(G.c,{icon:n().createElement(Re.I,{size:"md"},n().createElement(Ns.Sr,{color:ws.Q.value})),style:{alignItems:"baseline"}},n().createElement(U.E,null,e,t&&n().createElement(n().Fragment,null,"",n().createElement(ul.A,{bodyContent:t,headerContent:a,maxWidth:"40rem",appendTo:()=>document.getElementById(Fs)},n().createElement(j.$n,{icon:n().createElement(xl.HelpIcon,null),variant:"link",isInline:!0}))))),Gs=({demoExperience:e})=>n().createElement(x.B8,{isPlain:!0,id:Fs},n().createElement(xs,{popoverContent:n().createElement(n().Fragment,null,"You may launch a demo up to ",n().createElement("strong",null,e.quota.limit," times")," total. If you have questions, you can join the"," ",n().createElement(W.default,{href:Is},"ROSA community Slack channel"),"."),popoverHeader:"What to expect"},"Access to a free hands-on experience of ROSA that will last for ",8," hours."),n().createElement(xs,{popoverContent:"Your time will not start until after the cluster is provisioned.",popoverHeader:"Getting started"},"One-click deployment of a ROSA cluster in a demo environment."),n().createElement(xs,null,"A view into a fully managed turnkey application platform with integrated services and tools,",n().createElement("br",null),"fully backed by a global team of site reliability engineers (SREs)."),n().createElement(xs,null,"Step-by-step guided content on how to get started and build, deploy and scale an application on ROSA.")),Us=e=>n().createElement(E.Link,{...e,to:As}),js=({demoExperience:e,onRequestCluster:t})=>{let a,l=n().createElement(Gs,{demoExperience:e}),r="What you get with this experience",i=!0;switch(e.status){case ps.Started:r="Your experience is ready",l="Get started with OpenShift with a guided walkthrough of ROSA.",a=n().createElement(W.default,{href:e.experience_url||"",isButton:!0,variant:"primary",noIcon:!0,customTrackProperties:{link_name:"launch-rosa-hands-on-experience"}},"Access experience"),i=!1;break;case ps.Deploying:case ps.Requested:a=n().createElement(Sa.m,{content:"We are currently getting your ROSA experience ready. This process may take up to 1 hour."},n().createElement(j.$n,{variant:"primary",isLoading:!0,isAriaDisabled:!0},"Provisioning cluster"));break;case"quota-exceeded":a=n().createElement(j.$n,{variant:"primary",href:As,component:Us},"Create a ROSA cluster"),r="Take the next step. Create your own ROSA Cluster!",l=n().createElement(n().Fragment,null,"You've successfully completed the ROSA Hands on Experience. Now, it's time to dive even deeper",n().createElement("br",null),"into the world of ROSA by creating your very own cluster on your AWS account."),i=!1;break;default:a=n().createElement(j.$n,{variant:"primary",onClick:t,isDisabled:e.status===ps.Unavailable},"Request experience")}return n().createElement(y.Z,null,n().createElement(Os.a,null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h4"},r))),n().createElement(R.b,null,n().createElement(va.x,null,n().createElement(ha.E,{span:9},l),i&&n().createElement(ha.E,{span:3,style:{justifySelf:"right"}},n().createElement(ks,null)))),n().createElement(je.w,null,n().createElement(Ps.M,null,n().createElement(Ds.P,{style:{paddingLeft:"unset"}},n().createElement(Ls.T,null,a),n().createElement(Ls.T,null,n().createElement(W.default,{href:"https://www.redhat.com/en/technologies/cloud-computing/openshift/aws",isButton:!0,variant:"link"},"Learn more about ROSA"))))))},Hs=()=>n().createElement(j.$n,{variant:"link",isInline:!0,"data-analytics-id":"contact-support"},"contact support"),Vs=()=>n().createElement(j.$n,{variant:"link",isInline:!0,"data-analytics-id":"qualify-rosa-he"},"additional information"),qs=()=>n().createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzOCIgaGVpZ2h0PSIzOCIgdmlld0JveD0iMCAwIDM4IDM4Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZmZmO30uYntmaWxsOiNlMDA7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik0yOCwxSDEwYTksOSwwLDAsMC05LDlWMjhhOSw5LDAsMCwwLDksOUgyOGE5LDksMCwwLDAsOS05VjEwYTksOSwwLDAsMC05LTlaIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xMC4wOTg2MywyMi4xODk5NGEuNjI1LjYyNSwwLDAsMS0uMjU0ODgtMS4xOTU4bDIuNzQwNzItMS4yMjAyMWEuNjI0OTIuNjI0OTIsMCwxLDEsLjUwODc5LDEuMTQxNmwtMi43NDA3MiwxLjIyMDIxQS42MTkuNjE5LDAsMCwxLDEwLjA5ODYzLDIyLjE4OTk0WiIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNOC44MzIsMjUuNDkwNzJhLjYyNS42MjUsMCwwLDEtLjI1NDg4LTEuMTk1OGwyLjc0MDIzLTEuMjIwMjFhLjYyNDkyLjYyNDkyLDAsMSwxLC41MDg3OSwxLjE0MTZMOS4wODU5NCwyNS40MzY1MkEuNjE3MzEuNjE3MzEsMCwwLDEsOC44MzIsMjUuNDkwNzJaIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yNi40Mjc3MywxNC45MTk0M2EuNjI0NzMuNjI0NzMsMCwwLDEtLjI1MzktMS4xOTU4TDI4LjkxNSwxMi41MDM0MmEuNjI0NzIuNjI0NzIsMCwxLDEsLjUwNzgxLDEuMTQxNmwtMi43NDEyMSwxLjIyMDIxQS42MTU2My42MTU2MywwLDAsMSwyNi40Mjc3MywxNC45MTk0M1oiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTI1LjE2MTEzLDE4LjIyMDIxYS42MjQ3My42MjQ3MywwLDAsMS0uMjUzOS0xLjE5NThsMi43NDAyMy0xLjIyMDIxYS42MjQ3Mi42MjQ3MiwwLDEsMSwuNTA3ODEsMS4xNDE2TDI1LjQxNSwxOC4xNjZBLjYxNTgxLjYxNTgxLDAsMCwxLDI1LjE2MTEzLDE4LjIyMDIxWiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNMTguOTUxNjYsMjguNjMzNzlBOS41OTMsOS41OTMsMCwwLDEsMTIuODI5MSwyNi40MTY1YS42MjUuNjI1LDAsMCwxLC43OTU5LS45NjM4Niw4LjM3OTQzLDguMzc5NDMsMCwwLDAsMTMuNzEyODktNi4xMDQ1LjYxMDA2LjYxMDA2LDAsMCwxLC42NTAzOS0uNTk4MTQuNjI0OS42MjQ5LDAsMCwxLC41OTc2Ni42NTA4OCw5LjY1NTIxLDkuNjU1MjEsMCwwLDEtOS42MzQyOCw5LjIzMjkxWiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNOS45NzQ2MSwxOS4yMjYwN2wtLjAyODgxLS4wMDA0OGEuNjI1MzkuNjI1MzksMCwwLDEtLjU5NjE5LS42NTI4NEE5LjYyOTEsOS42MjkxLDAsMCwxLDI1LjEwNTQ3LDExLjU4MzVhLjYyNTMxLjYyNTMxLDAsMCwxLS43OTY4OC45NjM4Niw4LjM3ODE1LDguMzc4MTUsMCwwLDAtMTMuNzEsNi4wODJBLjYyNTMyLjYyNTMyLDAsMCwxLDkuOTc0NjEsMTkuMjI2MDdaIi8+PC9zdmc+",alt:"Openshift","aria-hidden":"true",style:{height:"var(--pf-v5-global--icon--FontSize--xl)"}}),zs=()=>n().createElement(O.A,null,n().createElement(w.default,{path:[{label:"Overview",path:"/overview"},{label:"Red Hat OpenShift Service on AWS (ROSA)",path:"/overview/rosa"},{label:"Hands-on Experience"}]}),n().createElement(we.s,{direction:{default:"row"},flexWrap:{default:"nowrap"}},n().createElement(Me.Z,{alignSelf:{default:"alignSelfFlexStart"}},n().createElement(qs,null)),n().createElement(ns.c,{orientation:{default:"vertical"}}),n().createElement(Me.Z,null,n().createElement(M.B,{hasGutter:!0},n().createElement(k.a,null,n().createElement(F.n,null,n().createElement(U.E,{component:"h2"},"Red Hat OpenShift Service on AWS Hands-on Experience"))),n().createElement(k.a,null,n().createElement(U.E,null,"Red Hat OpenShift Service on AWS (ROSA) is a fully-managed turnkey application platform that allows organizations to quickly build, deploy, and scale applications in a native AWS environment. With one click, start your free 8-hour hands-on experience in a ROSA cluster.")),n().createElement(k.a,null,n().createElement(W.default,{href:Is},"Have a question? Join our slack community"))))));var Bs=a(33612),Ws=a(69673);const $s=[{title:"Red Hat OpenShift Service on AWS learning hub",link:"https://www.redhat.com/en/technologies/cloud-computing/openshift/aws/learn",label:"Documentation"},{title:"Red Hat OpenShift Service on AWS (ROSA) interactive walkthrough",link:"https://www.redhat.com/en/products/interactive-walkthrough/install-rosa",label:"Walkthrough"},{title:"Watch our Red Hat OpenShift Service on AWS video series",link:"https://www.redhat.com/en/about/videos/rosa-lightboard",label:"Video"}],Ys=()=>n().createElement(C.d8,{style:{paddingBottom:"unset",paddingTop:"unset"}},n().createElement(Ws.X,{"aria-label":"Recommended content table"},$s.map((e=>n().createElement(mi.N,null,n().createElement(Jr.Tr,null,n().createElement(ui.Td,{span:6},e.title),n().createElement(ui.Td,{span:3,style:{textAlign:"center"}},n().createElement(Bs.J,{color:"orange",style:{width:"120px",display:"block"}},e.label)),n().createElement(ui.Td,{span:3,style:{textAlign:"right"}},n().createElement(W.default,{href:e.link},"Learn more")))))))),Ks=e=>e instanceof Error?e.message:"string"==typeof e?e:"Unexpected error",Qs=({demoExperience:e})=>{const t=new Date(e.scheduled_delete_timestamp||"").getTime()-Date.now(),a=e.quota.limit-e.quota.current;let l;switch(e.status){case"quota-exceeded":l=n().createElement(T.F,{title:n().createElement(n().Fragment,null,"After ",e.quota.limit," launches, you can create ROSA clusters using a pay-as-you-go option. If you have any questions, you can ",n().createElement(Hs,null),"."),isInline:!0,variant:"info"});break;case ps.Started:l=n().createElement(T.F,{title:n().createElement(n().Fragment,null,"Your current experience demo will end in"," ",_s()(t,{units:["h","m"],maxDecimalPoints:2,round:!0,delimiter:" and "}),". You have ",a," experience launches remaining."),variant:"info",isInline:!0});break;case ps.Failed:l=n().createElement(T.F,{title:n().createElement(n().Fragment,null,"We're experiencing an error on our end. This does not affect your quota. Try again and if this issue persists, ",n().createElement(Hs,null),"."),variant:"danger",isInline:!0});break;case ps.Unavailable:{const t="unauthorized"===e.unavailable_reason?n().createElement(n().Fragment,null,"Let's get you access to the Hands-on Experience. To continue, we need some"," ",n().createElement(Vs,null),"."):n().createElement(n().Fragment,null,"The demo system is currently unavailable. If this issue persists, you can"," ",n().createElement(Hs,null),".");l=n().createElement(T.F,{title:t,variant:"danger",isInline:!0});break}case ps.Available:l=e.quota.current>0?n().createElement(T.F,{variant:"info",isInline:!0,title:n().createElement(n().Fragment,null,"You have ",a," launches remaining. If you have any questions, you can"," ",n().createElement(Hs,null),".")}):null;break;default:l=null}return l},Zs=({error:e,loading:t,requestError:a,demoExperience:l,onRequestCluster:r})=>e?n().createElement(Ts,{message:Ks(e)}):n().createElement(ys.default,null,n().createElement(zs,null),n().createElement(Qs,{demoExperience:l}),a?n().createElement(T.F,{title:"Failed to request an experience",variant:"danger",isInline:!0},Ks(e)):null,n().createElement(n().Fragment,null,n().createElement(C.d8,null,t?n().createElement(y.Z,null,n().createElement(R.b,{style:{height:"200px"}},n().createElement(Cs.E,{height:"100%",screenreaderText:"Loading Rosa handson demo experience"}))):n().createElement(js,{onRequestCluster:r,demoExperience:l})),n().createElement(C.d8,{style:{paddingTop:"unset"}},n().createElement(F.n,null,n().createElement(U.E,{component:"h3"},"Recommended content"))),n().createElement(Ys,null))),Xs=5e3,Js=()=>{const e=(0,nl.default)(),{demoExperience:t,initializing:a,initializeError:l,restartPolling:r}=(()=>{const[e,t]=n().useState({quota:{}}),[a,l]=n().useState(!1),[r,i]=n().useState(),s=n().useRef(),o=n().useRef(0),u=n().useRef(-1),d=e=>(null==e?void 0:e.status)===ps.Available||(null==e?void 0:e.status)===ps.Failed||(null==e?void 0:e.status)===ps.Unavailable||"quota-exceeded"===(null==e?void 0:e.status),c=()=>{s.current&&(window.clearInterval(s.current),s.current=null),u.current=-1},m=async e=>{u.current=0;const a=window.setInterval((async()=>{u.current+=1;const a=u.current;try{const{data:l}=await hs();if((e=>e!==u.current)(a))return;t(l),d(l)?c():e===Xs&&5===u.current&&(c(),m(3e4))}catch(e){if(a!==u.current)return;0===o.current&&Es.Cp(e),o.current+=1}}),e);s.current=a};return n().useEffect((()=>((async()=>{l(!0);try{const{data:e}=await hs();t(e),d(e)||m(Xs)}catch(e){Es.Cp(e),i(e)}finally{l(!1)}})(),()=>c())),[]),{demoExperience:e,initializing:a,initializeError:r,restartPolling:e=>{c(),t(e),m(Xs)}}})(),[i,s]=n().useState(),[o,u]=n().useState(!1);return n().createElement(N.AppPage,{title:"ROSA hands-on experience"},n().createElement(fs.Y,null,n().createElement(Zs,{requestError:i,error:l,loading:a||o,demoExperience:t,onRequestCluster:()=>(async()=>{try{u(!0);const t=await bs();u(!1),r(t.data),s(null),e(Ya.trackEvents.RequestRosaHandsOnExperience)}catch(e){Es.Cp(e),s(e),u(!1)}})()})))};var eo=a(17197),to=a(22204);const ao=({error:e,restore:t})=>{var a,l,r;const i=null===(r=null===(l=null===(a=e.data)||void 0===a?void 0:a.details)||void 0===l?void 0:l[0])||void 0===r?void 0:r.legal_terms_url,s=window.location.href,o=(0,Br.A)(i,s,s);return n().createElement(me.p,{variant:me.s.lg},n().createElement(Te.o,{titleText:"This action is blocked.",icon:n().createElement(Oe.q,{icon:Ye.ExclamationCircleIcon,color:Ke.global_danger_color_100.value}),headingLevel:"h4"}),n().createElement(pe.h,null,"You must accept the Terms and Conditions in order to make changes to this cluster. Your cluster will remain unaffected until then. Once you accept the terms, you will need to retry the action that was blocked."),n().createElement(Ui.s,null,n().createElement(Wr,{href:o}),n().createElement(to.c,null,n().createElement(j.$n,{variant:"link",onClick:t},"Go back to previous page"))))};var lo=a(42561),no=a.n(lo);var ro=a(31965);const io={showApiError:ro.Mu.showApiError,clearApiError:ro.Mu.clearApiError},so=(0,c.Ng)((e=>({apiError:e.apiError})),io)((({apiRequest:e,showApiError:t,children:a,apiError:l,clearApiError:r})=>{const i=(0,m.useLocation)();if(n().useEffect((()=>{const a=((e,t)=>{const a=e.interceptors.response.use((e=>e),(e=>(no().isAxiosError(e)&&e.response&&(0,ji.hasOwnErrorPage)(e.response)&&t(e.response),Promise.reject(e))));return()=>{e.interceptors.response.eject(a)}})(e,t);return()=>{a(),r()}}),[e,r,i]),l&&(0,ji.hasOwnErrorPage)(l)){const e=(0,ji.getInternalErrorCode)(l);if(e===ji.TERMS_REQUIRED_CODE)return n().createElement(ao,{error:l,restore:r});console.error(`no defined error page: code=${e}`)}return a})),oo=(e,t,a,l)=>{const n={ocm_cluster_id:a,...l?{resource_id:l}:{}};return e.startsWith("/archived")?{ocm_resource_type:Ya.ocmResourceType.ALL}:e.startsWith("/assisted-installer")?{ocm_resource_type:Ya.ocmResourceType.OCP_ASSISTED_INSTALL}:e.startsWith("/create/osdtrial")?{ocm_resource_type:Ya.ocmResourceType.OSDTRIAL}:e.startsWith("/create/osd")?{ocm_resource_type:Ya.ocmResourceType.OSD}:e.startsWith("/create/rosa")?{ocm_resource_type:Ya.ocmResourceType.MOA}:e.startsWith("/create")?{ocm_resource_type:Ya.ocmResourceType.ALL}:e.match(/\/details\/s\/.*\/add-idp/)?{ocm_resource_type:(0,Ya.getOCMResourceType)(t),title:"Add IdP",path:"/openshift/details/s/add-idp",...n}:e.match(/\/details\/s\/.*\/edit-idp/)?{ocm_resource_type:(0,Ya.getOCMResourceType)(t),title:"Edit IdP",path:"/openshift/details/s/edit-idp",...n}:e.startsWith("/details/s/")?{ocm_resource_type:(0,Ya.getOCMResourceType)(t),title:"View Cluster",path:"/openshift/details/s",...n}:e.startsWith("/install/azure/aro-provisioned")?{ocm_resource_type:Ya.ocmResourceType.ARO}:e.startsWith("/install/pull-secret")?{ocm_resource_type:Ya.ocmResourceType.ALL}:e.startsWith("/install")?{ocm_resource_type:Ya.ocmResourceType.OCP}:e.startsWith("/dashboard")||e.startsWith("/quota")?{ocm_resource_type:Ya.ocmResourceType.ALL}:e.startsWith("/register")||e.startsWith("/releases")?{ocm_resource_type:Ya.ocmResourceType.OCP}:e.startsWith("/token/rosa")?{ocm_resource_type:Ya.ocmResourceType.MOA}:(e.startsWith("/token"),{ocm_resource_type:Ya.ocmResourceType.ALL})},uo=()=>{const e=document.querySelector("#not-found h1");return e instanceof HTMLElement&&"We lost that page"===e.innerText},co=e=>n().createElement(N.AppPage,null,n().createElement(p.UILibRoutes,{...e})),mo=(0,c.Ng)((e=>{const{cluster:t}=e.clusters.details;return{planType:d()(t,"subscription.plan.type",S.normalizedProducts.UNKNOWN),clusterId:d()(t,"subscription.cluster_id"),externalClusterId:d()(t,"subscription.external_cluster_id")}}))((({planType:e,clusterId:t,externalClusterId:a})=>{const{pathname:r,search:i}=(0,m.useLocation)(),{segment:{setPageMetadata:s},chromeHistory:o}=(0,f.A)(),u=(0,v.useFeatureGate)(_.HYPERSHIFT_WIZARD_FEATURE),d=(0,v.useFeatureGate)(_.MULTIREGION_PREVIEW_ENABLED),c=(0,v.useFeatureGate)(_.CLUSTER_OWNERSHIP_TRANSFER);return n().useEffect((()=>{console.info("---------------Features---------------\n",`HYPERSHIFT_WIZARD_FEATURE: ${u?"Enabled":"Disabled"}\n`,"-------------------------------------")}),[u,c]),(0,l.useEffect)((()=>{s({...oo(r.replace(E.ocmBaseName,""),e,t,a),...uo()?{title:"404 Not Found"}:{}})}),[r,e,t,a,s]),n().createElement(so,{apiRequest:b.Ay},n().createElement(m.Routes,null,n().createElement(m.Route,{path:"/install/osp/installer-provisioned",element:n().createElement(E.Navigate,{replace:!0,to:"/install/openstack/installer-provisioned"})}),n().createElement(m.Route,{path:"/install/crc/installer-provisioned",element:n().createElement(E.Navigate,{replace:!0,to:"/create/local"})}),n().createElement(m.Route,{path:"/token/moa",element:n().createElement(E.Navigate,{replace:!0,to:"/token/rosa"})}),n().createElement(m.Route,{path:"/insights",element:n().createElement(E.Navigate,{replace:!0,to:"/dashboard"})}),n().createElement(m.Route,{path:"/subscriptions",element:n().createElement(E.Navigate,{replace:!0,to:"/quota"})}),n().createElement(m.Route,{path:"/downloads",element:n().createElement(Pi,null)}),n().createElement(m.Route,{path:"/token/rosa/show",element:n().createElement(Yr,{gobackPath:"/"},n().createElement(N.AppPage,null,n().createElement(se,{showToken:!0,isRosa:!0}),n().createElement(zr,null)))}),n().createElement(m.Route,{path:"/token/rosa",element:n().createElement(Yr,{gobackPath:"/"},n().createElement(N.AppPage,null,n().createElement(se,{showToken:!1,showPath:"/token/rosa/show",isRosa:!0}),n().createElement(zr,null)))}),n().createElement(m.Route,{path:"/token/show",element:n().createElement(se,{showToken:!0})}),n().createElement(m.Route,{path:"/token",element:n().createElement(se,{showToken:!1,showPath:"/token/show"})}),n().createElement(m.Route,{path:"/install/alibaba",element:n().createElement(it.A,null)}),n().createElement(m.Route,{path:"/install/arm/installer-provisioned",element:n().createElement(pt.Ay,null)}),n().createElement(m.Route,{path:"/install/arm/user-provisioned",element:n().createElement(ft.Ay,null)}),n().createElement(m.Route,{path:"/install/arm/agent-based",element:n().createElement(mt.Ay,null)}),n().createElement(m.Route,{path:"/install/arm/pre-release",element:n().createElement(Et.Ay,null)}),n().createElement(m.Route,{path:"/install/arm",element:n().createElement(ct.A,null)}),n().createElement(m.Route,{path:"/install/aws/installer-provisioned",element:n().createElement(St.Ay,null)}),n().createElement(m.Route,{path:"/install/aws/user-provisioned",element:n().createElement(_t.Ay,null)}),n().createElement(m.Route,{path:"/install/aws/arm/installer-provisioned",element:n().createElement(ot.Ay,null)}),n().createElement(m.Route,{path:"/install/aws/arm/user-provisioned",element:n().createElement(ut.Ay,null)}),n().createElement(m.Route,{path:"/install/aws/arm",element:n().createElement(st.A,null)}),n().createElement(m.Route,{path:"/install/aws/multi/installer-provisioned",element:n().createElement(xt.Ay,null)}),n().createElement(m.Route,{path:"/install/aws",element:n().createElement(bt.A,null)}),n().createElement(m.Route,{path:"/install/gcp/installer-provisioned",element:n().createElement(Dt.Ay,null)}),n().createElement(m.Route,{path:"/install/gcp/user-provisioned",element:n().createElement(Lt.Ay,null)}),n().createElement(m.Route,{path:"/install/gcp",element:n().createElement(Pt.A,null)}),n().createElement(m.Route,{path:"/install/nutanix",element:n().createElement(Ht.A,null)}),n().createElement(m.Route,{path:"/install/nutanix/installer-provisioned",element:n().createElement(Vt.Ay,null)}),n().createElement(m.Route,{path:"/install/openstack/installer-provisioned",element:n().createElement(Kt.Ay,null)}),n().createElement(m.Route,{path:"/install/openstack/user-provisioned",element:n().createElement(Qt.Ay,null)}),n().createElement(m.Route,{path:"/install/openstack",element:n().createElement(Yt.A,null)}),n().createElement(m.Route,{path:"/install/azure/arm/installer-provisioned",element:n().createElement(dt.Ay,null)}),n().createElement(m.Route,{path:"/install/azure/multi/installer-provisioned",element:n().createElement(Gt.Ay,null)}),n().createElement(m.Route,{path:"/install/azure/installer-provisioned",element:n().createElement(yt.Ay,null)}),n().createElement(m.Route,{path:"/install/azure/user-provisioned",element:n().createElement(It.Ay,null)}),n().createElement(m.Route,{path:"/install/azure",element:n().createElement(Ct.A,null)}),n().createElement(m.Route,{path:"/install/azure-stack-hub/installer-provisioned",element:n().createElement(vt.Ay,null)}),n().createElement(m.Route,{path:"/install/azure-stack-hub/user-provisioned",element:n().createElement(ht.Ay,null)}),n().createElement(m.Route,{path:"/install/azure-stack-hub",element:n().createElement(gt.A,null)}),n().createElement(m.Route,{path:"/install/metal/user-provisioned",element:n().createElement(Ot.Ay,null)}),n().createElement(m.Route,{path:"/install/metal/installer-provisioned",element:n().createElement(Tt.Ay,null)}),n().createElement(m.Route,{path:"/install/metal/agent-based",element:n().createElement(Rt.Ay,null)}),n().createElement(m.Route,{path:"/install/metal/multi",element:n().createElement(Ut.Ay,null)}),n().createElement(m.Route,{path:"/install/metal",element:n().createElement(At.A,null)}),n().createElement(m.Route,{path:"/install/multi/pre-release",element:n().createElement(jt.Ay,null)}),n().createElement(m.Route,{path:"/install/vsphere",element:n().createElement(oa.A,null)}),n().createElement(m.Route,{path:"/install/vsphere/agent-based",element:n().createElement(ua.Ay,null)}),n().createElement(m.Route,{path:"/install/vsphere/user-provisioned",element:n().createElement(ca.Ay,null)}),n().createElement(m.Route,{path:"/install/vsphere/installer-provisioned",element:n().createElement(da.Ay,null)}),n().createElement(m.Route,{path:"/install/ibm-cloud",element:n().createElement(Nt.Ay,null)}),n().createElement(m.Route,{path:"/install/ibmz/user-provisioned",element:n().createElement(Ft.Ay,null)}),n().createElement(m.Route,{path:"/install/ibmz/pre-release",element:n().createElement(kt.Ay,null)}),n().createElement(m.Route,{path:"/install/ibmz/agent-based",element:n().createElement(Mt.Ay,null)}),n().createElement(m.Route,{path:"/install/ibmz",element:n().createElement(wt.A,null)}),n().createElement(m.Route,{path:"/install/power/user-provisioned",element:n().createElement(la.Ay,null)}),n().createElement(m.Route,{path:"/install/power/pre-release",element:n().createElement(aa.Ay,null)}),n().createElement(m.Route,{path:"/install/power/agent-based",element:n().createElement(ta.Ay,null)}),n().createElement(m.Route,{path:"/install/power",element:n().createElement(ea.A,null)}),n().createElement(m.Route,{path:"/install/powervs/installer-provisioned",element:n().createElement(na.Ay,null)}),n().createElement(m.Route,{path:"/install/platform-agnostic/agent-based",element:n().createElement(Xt.Ay,null)}),n().createElement(m.Route,{path:"/install/platform-agnostic/user-provisioned",element:n().createElement(Jt.Ay,null)}),n().createElement(m.Route,{path:"/install/platform-agnostic",element:n().createElement(Zt.A,null)}),n().createElement(m.Route,{path:"/install/pre-release",element:n().createElement(ra.Ay,null)}),n().createElement(m.Route,{path:"/install/pull-secret",element:n().createElement(ia.Ay,null)}),n().createElement(m.Route,{path:"/install/azure/aro-provisioned",element:n().createElement(sa.Ay,null)}),n().createElement(m.Route,{path:"/install/oracle-cloud",element:n().createElement($t,null)}),n().createElement(m.Route,{path:"/install",element:n().createElement(E.Navigate,{replace:!0,to:"/create"})}),n().createElement(m.Route,{path:"/create/osd/aws",element:n().createElement(E.Navigate,{replace:!0,to:"/create/osd"})}),n().createElement(m.Route,{path:"/create/osd/gcp",element:n().createElement(E.Navigate,{replace:!0,to:"/create/osd"})}),n().createElement(m.Route,{path:"/create/osdtrial/aws",element:n().createElement(E.Navigate,{replace:!0,to:"/create/osdtrial"})}),n().createElement(m.Route,{path:"/create/osdtrial/gcp",element:n().createElement(E.Navigate,{replace:!0,to:"/create/osdtrial"})}),n().createElement(m.Route,{path:"/create/osdtrial",element:n().createElement(Yr,{gobackPath:"/create"},n().createElement(Ur,{product:S.normalizedProducts.OSDTRIAL}))}),n().createElement(m.Route,{path:"/create/osd",element:n().createElement(Yr,{gobackPath:"/create"},n().createElement(Ur,null))}),n().createElement(m.Route,{path:"/create/cloud",element:n().createElement(Ae.A,{activeTab:"cloud"})}),n().createElement(m.Route,{path:"/create/datacenter",element:n().createElement(Ae.A,{activeTab:"datacenter"})}),n().createElement(m.Route,{path:"/create/local",element:n().createElement(Ae.A,{activeTab:"local"})}),n().createElement(m.Route,{path:"/create/rosa/welcome",element:n().createElement(E.Navigate,{replace:!0,to:"/create/rosa/getstarted"})}),n().createElement(m.Route,{path:"/create/rosa/getstarted",element:n().createElement(Yr,{gobackPath:"/create"},n().createElement(Hr,null))}),n().createElement(m.Route,{path:"/create/rosa/govcloud",element:n().createElement(nt,null)}),n().createElement(m.Route,{path:"/create/rosa/wizard",element:n().createElement(Yr,{gobackPath:"/create"},n().createElement(jr.A,null))}),n().createElement(m.Route,{path:"/create/rosa/wizard",element:n().createElement(jr.A,null)}),n().createElement(m.Route,{path:"/create",element:n().createElement(Ae.A,{activeTab:""})}),n().createElement(m.Route,{path:"/details/s/:id/insights/:reportId/:errorKey",element:n().createElement(rt.default,null)}),n().createElement(m.Route,{path:"/details/s/:id/add-idp/:idpTypeName",element:n().createElement(_e.Ay,null)}),n().createElement(m.Route,{path:"/details/s/:id/edit-idp/:idpName",element:n().createElement(_e.Ay,{isEditForm:!0})}),n().createElement(m.Route,{path:"/details/s/:id",element:g.default.multiRegion&&d?n().createElement(Ce.A,null):n().createElement(ce.A,{chromeHistory:o})}),n().createElement(m.Route,{path:"/details/:id/insights/:reportId/:errorKey",element:n().createElement(rt.default,null)}),n().createElement(m.Route,{path:"/details/:id",element:n().createElement(de.A,null)}),n().createElement(m.Route,{path:"/register",element:n().createElement(ja,null)}),n().createElement(m.Route,{path:"/quota/resource-limits",element:n().createElement(Ji,{marketplace:!0})}),n().createElement(m.Route,{path:"/quota",element:n().createElement(Ji,null)}),n().createElement(m.Route,{path:"/archived",element:g.default.newClusterList?n().createElement(ue.A,null):n().createElement(oe.A,null)}),n().createElement(m.Route,{path:"/dashboard",element:n().createElement(Kr.A,null)}),n().createElement(m.Route,{path:"/overview/rosa/hands-on",element:n().createElement(Js,null)}),n().createElement(m.Route,{path:"/overview/rosa",element:n().createElement(eo.A,null)}),n().createElement(m.Route,{path:"/overview",element:n().createElement(Di.A,null)}),n().createElement(m.Route,{path:"/releases",element:n().createElement(ms,null)}),n().createElement(m.Route,{path:"/assisted-installer/*",element:n().createElement(co,{allEnabledFeatures:{},history:o,basename:E.ocmBaseName})}),n().createElement(m.Route,{path:"/services/rosa/demo",element:n().createElement(E.Navigate,{replace:!0,to:`/overview/rosa/hands-on/${i}`})}),n().createElement(m.Route,{path:"/services/rosa",element:n().createElement(E.Navigate,{replace:!0,to:`/overview/rosa${i}`})}),n().createElement(m.Route,{path:"/access-request/:id",element:(0,h.isRestrictedEnv)()?n().createElement(ve,null):n().createElement(Se,null)}),n().createElement(m.Route,{path:"/cluster-list",element:g.default.newClusterList?n().createElement(Ie.A,{getMultiRegion:!1}):g.default.multiRegion&&d?n().createElement(Ie.A,{getMultiRegion:!0}):n().createElement(ye.A,null)}),n().createElement(m.Route,{path:"/",element:n().createElement(E.Navigate,{replace:!0,to:(0,h.isRestrictedEnv)()?"/cluster-list":"/overview"})}),n().createElement(m.Route,{path:"*",element:n().createElement(ve,null)})))}));function po(e,t){return a=>{const{target:l}=a,{height:n}=l.getBoundingClientRect();e!==n&&t(n)}}const fo=({children:e})=>{var t,a;const u=null===(t=document.getElementsByTagName("header"))||void 0===t?void 0:t[0],d=null===(a=document.getElementsByClassName("chr-c-beta-switcher"))||void 0===a?void 0:a[0],[c,m]=(0,l.useState)(u?u.getBoundingClientRect().height:0),[p,f]=(0,l.useState)(d?d.getBoundingClientRect().height:0);return(0,r.A)(u,po(c,m)),(0,r.A)(d,po(p,f)),n().createElement("div",{id:"app-outer-div",style:{height:`calc(100vh - ${c}px - ${p}px`}},n().createElement(i.Ht,{client:o.q},n().createElement(mo,null),n().createElement(s.E,{initialIsOpen:!1,position:"bottom",buttonPosition:"bottom-right"})))}},83689:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AppDrawer:()=>u,AppDrawerContext:()=>o});var l=a(93345),n=a.n(l),r=a(55401),i=a(47708),s=a(35900);const o=(0,l.createContext)({openDrawer:()=>{},closeDrawer:()=>{}}),u=({children:e})=>{const[t,a]=(0,l.useState)(),u=(0,l.useCallback)((e=>a(e)),[a]),d=(0,l.useMemo)((()=>{if(t){const e=t.getElementsByClassName("pf-v5-c-drawer");if(e.length){const t=getComputedStyle(e[0]).getPropertyValue("--pf-v5-c-drawer__panel--TransitionDuration");try{const e=parseInt(t,10);return t.endsWith("ms")||!t.endsWith("s")?e:1e3*e}catch(e){}}}return 250}),[t]),[c,m]=(0,l.useState)({drawerProps:{isExpanded:!1}}),[p,f]=(0,l.useState)(!1),E=(0,l.useCallback)(((e={skipOnClose:!1})=>{const{skipOnClose:t}=e;m((e=>{const{drawerProps:a,drawerPanelContent:l,onClose:n,focusOnClose:r}=e;return t||setTimeout((()=>{null==r||r.focus(),null==n||n()}),d),{drawerProps:{...a,isExpanded:!1},drawerPanelContent:l}}))}),[d,m]),g=(0,l.useCallback)((({drawerProps:e,...t})=>{var a;const l=null===(a=null==c?void 0:c.drawerProps)||void 0===a?void 0:a.isExpanded;p||(f(!0),l?E({skipOnClose:!0}):m({drawerProps:{...e,isExpanded:!1},...t}),setTimeout((()=>{m({drawerProps:{...e,isExpanded:!0},...t}),setTimeout((()=>{f(!1)}),d)}),l?d:0))}),[E,c,d,p,f,m]),v=(0,l.useMemo)((()=>({openDrawer:g,closeDrawer:E})),[g,E]),{drawerProps:h,drawerPanelContent:b}=c;return n().createElement("div",{id:"app-drawer-div",ref:u},n().createElement(o.Provider,{value:v},n().createElement(r._s,{...h},n().createElement(i.z,{"data-testid":"appDrawerContent",panelContent:b},n().createElement(s.J,{className:"app-drawer-body"},e)))))}},33366:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AppPage:()=>h});var l=a(93345),n=a.n(l),r=a(51513),i=a(7028),s=a(83689),o=a(70460),u=a(69304);const d=({env:e})=>n().createElement(o.F,{variant:"warning",isInline:!0,id:"env-override-message",title:n().createElement(n().Fragment,null,"Using the ",n().createElement("em",null,e)," environment API"),className:"pf-v5-u-flex-basis-0 pf-v5-u-flex-grow-1"},n().createElement(u.Link,{to:"/",reloadDocument:!0,onClick:()=>{localStorage.removeItem(r.ENV_OVERRIDE_LOCALSTORAGE_KEY)}},"Go back to ",n().createElement("strong",null,"staging")));var c=a(59759),m=a(11243),p=a(976);const f=()=>{const e=()=>{localStorage.removeItem(r.MULTIREGION_LOCALSTORAGE_KEY)};return(0,m.useFeatureGate)(p.MULTIREGION_PREVIEW_ENABLED)?n().createElement(o.F,{variant:"warning",isInline:!0,id:"env-override-message",title:"Multiregion preview active",className:"pf-v5-u-flex-basis-0 pf-v5-u-flex-grow-1"},n().createElement(u.Link,{to:"/",reloadDocument:!0,onClick:e},"Turn off ",n().createElement("strong",null,"Multiregion preview"))):n().createElement(o.F,{variant:"info",isInline:!0,id:"env-override-message",title:n().createElement(n().Fragment,null,"You do not have access to view the Multiregion Preview. The Multiregion Preview items will ",n().createElement("em",null,"not")," be shown"),className:"pf-v5-u-flex-basis-0 pf-v5-u-flex-grow-1"},n().createElement(u.Link,{to:"/",reloadDocument:!0,onClick:e},"Turn off ",n().createElement("strong",null,"Multiregion preview")))};var E=a(72583);const g=()=>n().createElement(o.F,{variant:"warning",isInline:!0,id:"env-override-message",title:"New cluster list preview active",className:"pf-v5-u-flex-basis-0 pf-v5-u-flex-grow-1"},n().createElement(E.$n,{variant:E.Ak.link,isInline:!0,onClick:()=>{localStorage.removeItem(r.NEW_CLUSTER_LIST_LOCALSTORAGE_KEY),window.location.href=u.ocmBaseName}},"Turn off ",n().createElement("strong",null,"new cluster list preview"))),v=()=>n().createElement(o.F,{variant:"warning",isInline:!0,id:"env-override-message",title:n().createElement(n().Fragment,null,"Simulating a ",n().createElement("em",null,"restricted")," environment"),className:"pf-v5-u-flex-basis-0 pf-v5-u-flex-grow-1"},n().createElement(u.Link,{to:"/",reloadDocument:!0,onClick:()=>{localStorage.removeItem(r.RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY)}},"Remove ",n().createElement("strong",null,"restricted env")," override")),h=({children:e,title:t})=>{(0,l.useEffect)((()=>{t&&(document.title=t)}),[]);const a=!!localStorage.getItem(r.RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY);return n().createElement(s.AppDrawer,null,n().createElement("div",{className:"pf-v5-u-display-flex pf-v5-u-flex-direction-row"},a&&n().createElement(v,null),i.default.envOverride&&n().createElement(d,{env:i.default.envOverride}),i.default.multiRegion&&n().createElement(f,null),i.default.newClusterList&&n().createElement(g,null)),n().createElement(c.default,null,e))}},59759:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(33675),i=a(70460),s=a(83741);class o extends n().Component{constructor(){super(...arguments),this.state={}}componentDidCatch(e,t){this.setState({error:e.toString(),componentStack:t.componentStack}),s.v4((a=>{a.setExtras({componentStack:t.componentStack}),s.Cp(e)}))}render(){const{error:e,componentStack:t}=this.state;if(e)return n().createElement(r.p,null,n().createElement(i.F,{variant:"danger",isInline:!0,title:"Something went wrong"},n().createElement("div",{style:{whiteSpace:"pre-wrap",textAlign:"left",fontFamily:"monospace"}},e,t)));const{children:a}=this.props;return a}}const u=o},57146:(e,t,a)=>{"use strict";a.d(t,{q:()=>l});const l=new(a(85055).E)({defaultOptions:{queries:{staleTime:1e3,refetchOnMount:"always",refetchInterval:!1}}})},30219:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(83579),o=a(35787),u=a(8888);const d=({reason:e})=>n().createElement(r.n,{className:"ocm-c-revoke-tokens"},e&&n().createElement("p",{className:"pf-v5-u-mt-sm"},n().createElement("strong",null,e)),n().createElement(i.E,null,"To manage and revoke previous tokens:"),n().createElement(s.B8,{component:"ol"},n().createElement(o.c,null,"Navigate to the"," ",n().createElement(u.default,{href:"https://sso.redhat.com/auth/realms/redhat-external/account/#/applications"},n().createElement("b",null,"SSO application management"))," ","page."),n().createElement(o.c,null,"Locate the ",n().createElement("b",null,"cloud-services")," client ID, expand the row if necessary."),n().createElement(o.c,null,"Select ",n().createElement("b",null,"Remove access"),".")),n().createElement(i.E,null,"All refresh tokens will stop working immediately after you Remove access, but existing access tokens (which are cached by ",n().createElement("code",null,"ocm")," and ",n().createElement("code",null,"rosa")," commands) may take up to 15 minutes to expire."),n().createElement(i.E,null,"Refresh this page afterwards to generate a new token."))},58994:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var l=a(93345),n=a.n(l),r=a(19404),i=a(70460),s=a(75907),o=a(10046),u=a(30219);const d="invalid_grant",c=({token:e,command:t="{{TOKEN}}",showCommandOnError:a=!1,showInstructionsOnError:l=!0,textAriaLabel:c="Copyable token",className:m="",...p})=>{if(!e)return n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement("div",{className:"pf-v5-u-mb-xs"},n().createElement(s.A,{className:"progressing-icon"}),n().createElement("span",null,"Loading token, this might take a minute")),n().createElement(r.E,{fontSize:"md"}));const f=n().createElement(o.default,{className:m,textAriaLabel:c,outerClassName:"pf-v5-u-mt-md",...p},t.replace("{{TOKEN}}",e===d?"":e));return e===d?n().createElement(n().Fragment,null,a&&f,l&&n().createElement(i.F,{variant:"warning",isInline:!0,className:"pf-v5-u-mt-md",id:"invalid_grant-message",title:"Could not grant an offline token"},n().createElement(u.A,{reason:"You might have exceeded the maximum number of offline sessions."}))):f}},75070:(e,t,a)=>{"use strict";a.d(t,{z:()=>c});var l=a(42561),n=a.n(l),r=a(92068),i=a(84193),s=a.n(i);const o={realm:"redhat-external",clientId:"cloud-services",cookieName:"cs_jwt"},u={prod:{url:["access.redhat.com","prod.foo.redhat.com","cloud.redhat.com","console.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"},qa:{url:["qa.foo.redhat.com","qa.cloud.redhat.com","qa.console.redhat.com"],sso:"https://sso.qa.redhat.com/auth",portal:"https://access.qa.redhat.com"},ci:{url:["ci.foo.redhat.com","ci.cloud.redhat.com","ci.console.redhat.com"],sso:"https://sso.qa.redhat.com/auth",portal:"https://access.qa.redhat.com"},stage:{url:["stage.foo.redhat.com","cloud.stage.redhat.com","console.stage.redhat.com","fetest.stage.redhat.com"],sso:"https://sso.stage.redhat.com/auth",portal:"https://access.stage.redhat.com"},gov:{url:["gov.cloud.redhat.com","gov.console.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"},govStage:{url:["gov.cloud.stage.redhat.com","gov.console.stage.redhat.com"],sso:"https://sso.stage.redhat.com/auth",portal:"https://access.redhat.com"},dev:{url:["console.dev.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"}},d="chrome.offline.redirectUri",c=(e,t,a)=>{a.auth.getOfflineToken().then((e=>{console.log("Tokens: getOfflineToken succeeded => scope",e.data.scope),window.parent&&window.parent.postMessage({tokenOrError:e.data.refresh_token},t)})).catch((a=>{var l,i,c;const m=n().isAxiosError(a)?a.toString():a,p=n().isAxiosError(a)?null===(i=null===(l=a.response)||void 0===l?void 0:l.data)||void 0===i?void 0:i.error:"";"not available"===a?(console.log('Tokens: getOfflineToken failed => "not available", running doOffline()'),(e=>{const t="noauth";localStorage.removeItem(d);const a=s()(window.location.href);a.removeSearch(t),a.addSearch(t,"2402500adeacc30eb5c5a8a5e2e0ec1f");const l=a.toString();l&&localStorage.setItem(d,l),Promise.resolve((async e=>{const t=Object.entries(e).find((([,{url:e}])=>e.includes(window.location.hostname)));return t?null==t?void 0:t[1].sso:"https://sso.qa.redhat.com/auth"})(u)).then((async t=>{const a={...o,promiseType:"native",redirectUri:l,url:t,checkLoginIframe:!1},n=new r.A(a);await n.init(a);const i=(e=>{const t=window.location.pathname.replace(/^\//,"");if(t.match(/^connect\/.+/))return`api.partner_link.${t.split("/")[1]}`})(),s=document.createElement("iframe"),u=n.createLoginUrl({prompt:"none",redirectUri:l,scope:"offline_access"+(i?` ${i}`:"")});s.setAttribute("src",u),s.setAttribute("title","keycloak-silent-check-sso"),s.style.display="none",document.body.appendChild(s);const d=t=>{t.origin===window.location.origin&&s.contentWindow===t.source&&"object"==typeof t.data&&t.data.tokenOrError&&(e(t.data.tokenOrError,t.data.errorReason),window.removeEventListener("message",d),document.body.removeChild(s))};window.addEventListener("message",d)}))})(e)):window.self!==window.parent?null===(c=window.parent)||void 0===c||c.postMessage({tokenOrError:m,errorReason:p},t):(console.log("Tokens: getOfflineToken failed =>",a),e(m,p))}))}},71870:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(31122);const i=()=>{const[e,t]=n().useState(),[a,l]=n().useState(!1),[i,s]=n().useState();return n().useEffect((()=>{(async()=>{var e,a;let n;s(void 0),l(!0);try{const a=await r.A.getCurrentAccount();(null===(e=a.data.organization)||void 0===e?void 0:e.id)&&(n=await r.A.getOrganization(a.data.organization.id),t(n.data))}catch(e){s(null===(a=null==e?void 0:e.response)||void 0===a?void 0:a.data)}finally{l(!1)}})()}),[]),{organization:e,isLoading:a,error:i}}},31591:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SyncEditorModal:()=>D});var l=a(93345),n=a.n(l),r=a(16165),i=a(96998),s=a(96553),o=a(72583),u=a(70460),d=a(57021),c=a(32803),m=a(72839),p=a(10423),f=a(81164),E=a(57823),g=a(39931),v=a(88301),h=a(55420),b=a(30144),S=a(13331);const _=({title:e,content:t,primaryActionLabel:a="Confirm",primaryAction:l,secondaryActionLabel:i="Cancel",secondaryAction:s,isOpen:u=!1,variant:d="small",closeCallback:c})=>u?n().createElement(r.a,{id:"confirmation-dialog",title:e,onClose:c,variant:d,isOpen:!0,actions:[n().createElement(o.$n,{key:"confirm",variant:"primary",onClick:()=>{l&&l(),c()}},a),n().createElement(o.$n,{key:"cancel",variant:"link",onClick:()=>{s&&s(),c()}},i)]},t):null;var C=a(13685),y=a(30620),I=a(23215),A=a(35665);const R=navigator.userAgent.includes("Mac"),T={bodyContent:n().createElement(y.x,{span:6,hasGutter:!0,key:"grid"},[{PC:["Alt","F1"],Mac:[" Opt","F1"],description:"Accessibility helps"},{PC:["F1"],Mac:["F1"],description:"View all editor shortcuts"},{PC:["Ctrl","Space"],Mac:[" Opt","Esc"],description:"Activate auto complete"},{PC:["Ctrl","Shift","M"],Mac:[" Opt","Shift","M"],description:"Toggle Tab action between insert Tab character and move focus of editor"},{PC:["Ctrl","Shift","0"],Mac:["Shift"," Cmd","0"],description:"View document outline"},{PC:[" Hover"],Mac:[" Hover"],description:"View property descriptions"},{PC:["Ctrl","S"],Mac:[" Cmd","S"],description:"Save"}].map(((e,t)=>n().createElement(n().Fragment,{key:`shortcut-${t}`},n().createElement(I.E,{style:{textAlign:"right",marginRight:"1em"}},e[R?"Mac":"PC"].map((e=>n().createElement(A.v,{key:e,isReadOnly:!0},e))).reduce(((e,t)=>n().createElement(n().Fragment,null,[e," + ",t])))),n().createElement(I.E,null,e.description))))),"aria-label":"Shortcuts"},O=({content:e,downloadFileName:t,onChange:a,isReadOnly:l})=>n().createElement(C.B,{isDarkTheme:!0,isLineNumbersVisible:!0,isMinimapVisible:!0,isCopyEnabled:!0,isDownloadEnabled:!0,isLanguageLabelVisible:!1,onChange:a,language:C.T.yaml,code:e,downloadFileName:t,shortcutsPopoverProps:T,isReadOnly:l,height:"100vh"}),P=({schema:e})=>n().createElement("div",null,e),D=({isOpen:e,closeCallback:t,content:a,schema:C,submitButtonLabel:y,downloadFileName:I,onSubmit:A,translatorToObject:R,isRequestPending:T,isRequestFulfilled:D,requestErrorMessage:L,requestPendingMessage:N,closeWarningMessage:w})=>{const[M]=(0,l.useState)(!0),[k,F]=(0,l.useState)(!1),[x,G]=(0,l.useState)(a),U=(0,l.useMemo)((()=>a!==x),[x,a]),j=(0,l.useCallback)((()=>{const e=document.createElement("a"),t=new Blob([x],{type:"text"});e.href=URL.createObjectURL(t),e.download=I,document.body.appendChild(e),e.click()}),[I,x]),H=(0,l.useCallback)((()=>{U?F(!0):t()}),[t,U]),V=(0,l.useCallback)((()=>A(R?R(x):x)),[x,A,R]),q=(0,l.useCallback)((e=>{T||H()}),[H,T]);return(0,l.useEffect)((()=>{D&&t()}),[t,D]),n().createElement(r.a,{title:"Edit YAML",isOpen:e,variant:r.d.large,onClose:H,id:"sync-editor-modal",showClose:!T,onEscapePress:q,footer:n().createElement(i.s,null,n().createElement(s.Z,null,n().createElement(o.$n,{onClick:V,className:"pf-v5-u-mr-md","data-testid":"submit-btn",isDisabled:T||!M,isLoading:T},y),n().createElement(o.$n,{variant:"secondary",onClick:H,isDisabled:T},"Cancel")),n().createElement(s.Z,{align:{default:"alignRight"}},w?n().createElement(u.F,{variant:"warning",isInline:!0,isPlain:!0,title:w}):null),n().createElement(s.Z,{align:{default:"alignRight"}},n().createElement(o.$n,{variant:"primary",icon:n().createElement(S.DownloadIcon,null),onClick:j},"Download")))},n().createElement(n().Fragment,null,n().createElement(d.B,{hasBorder:!0,isPanelRight:!0},n().createElement(c.Y,null,T&&N?n().createElement(u.F,{variant:"info",title:N}):null,L?n().createElement(u.F,{variant:"danger",title:L}):null),n().createElement(m.r,{width:{default:"width_25"},variant:"sticky"},n().createElement(p.h,{headingLevel:"h2",className:"pf-v5-u-pl-sm"},"ROSA cluster creation"))),n().createElement(d.B,{style:{overflow:"auto"},tabIndex:0,hasBorder:!0,isPanelRight:!0},n().createElement(c.Y,{style:{height:"600px"}},n().createElement(O,{content:x,onChange:G,downloadFileName:I,isReadOnly:T})),n().createElement(m.r,{width:{default:"width_25"},variant:"sticky"},n().createElement(f.t,{activeKey:0},n().createElement(E.o,{eventKey:0,title:n().createElement(g.V,null,"Schema")},n().createElement(v.Z,null,n().createElement(h.s,null,n().createElement(b.y,null,n().createElement(P,{schema:C})))))))),n().createElement(_,{title:"Close editor without saving?",content:"All changes will be lost.",primaryActionLabel:"Close",primaryAction:t,secondaryActionLabel:"Cancel",isOpen:k,closeCallback:()=>F(!1)})))}},55082:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>R});var l=a(93345),n=a.n(l),r=a(55318),i=a(33675),s=a(86130),o=a(80234),u=a(75279),d=a(57691),c=a(76792),m=a(11318),p=a(74160),f=a(69673),E=a(15402),g=a(2442),v=a(97192),h=a(69304),b=a(59067),S=a(6071),_=a(12200),C=a(43775),y=a(49422),I=a(23271),A=a(56859);const R=({viewOptions:e,setSorting:t,clusters:a,openModal:l})=>{const R="Name",T="Type",O="Status",P="Provider (Location)",D=["visibleOnLg","hiddenOnMd","hiddenOnSm"],L=(a,l)=>({sortBy:{index:e.sorting.sortIndex,direction:e.sorting.isAscending?p.l.asc:p.l.desc},onSort:(a,n,r)=>{const i={...e.sorting};i.isAscending=r===p.l.asc,i.sortField=l,i.sortIndex=n,t(i)},columnIndex:a});return n().createElement(f.X,{"aria-label":"Archived clusters"},n().createElement(E.d,null,n().createElement(c.Tr,null,n().createElement(g.Th,{width:30,sort:L(0,"display_name")},R),n().createElement(g.Th,null,T),n().createElement(g.Th,{sort:L(2,"status")},O),n().createElement(g.Th,{visibility:D},P),n().createElement(g.Th,{screenReaderText:"Cluster action"}))),n().createElement(v.N,null,a&&0!==a.length?a.map((e=>(e=>{var t,a,r,i,s,o;const u=null!==(a=null===(t=e.cloud_provider)||void 0===t?void 0:t.id)&&void 0!==a?a:"N/A",d=(0,S.default)(e),p=n().createElement(h.Link,{to:`/details/s/${null===(r=e.subscription)||void 0===r?void 0:r.id}`},d),f=(0,I.getClusterStateAndDescription)(e).description,E=!e.canEdit&&"You do not have permissions to unarchive this cluster",g=n().createElement(_.default,{variant:"secondary",onClick:()=>l(C.default.UNARCHIVE_CLUSTER,{subscriptionID:e.subscription?e.subscription.id:"",name:d,shouldDisplayClusterName:!0}),disableReason:E},"Unarchive"),v=(null===(i=e.subscription)||void 0===i?void 0:i.status)!==b.SubscriptionCommonFields.status.DEPROVISIONED?g:null;return n().createElement(c.Tr,{key:e.id},n().createElement(m.Td,{dataLabel:R},p),n().createElement(m.Td,{dataLabel:T},n().createElement(A.default,{cluster:e})),n().createElement(m.Td,{dataLabel:O},n().createElement("span",{className:"cluster-status-string"},f)),n().createElement(m.Td,{dataLabel:P,visibility:D},n().createElement(y.default,{regionID:null!==(o=null===(s=e.region)||void 0===s?void 0:s.id)&&void 0!==o?o:"N/A",cloudProviderID:u})),n().createElement(m.Td,{isActionCell:!0},v))})(e))):n().createElement(c.Tr,null,n().createElement(m.Td,{colSpan:5},n().createElement(r.a,null,n().createElement(i.p,null,n().createElement(s.o,{titleText:"No archived clusters found.",icon:n().createElement(o.q,{icon:d.default}),headingLevel:"h4"}),n().createElement(u.h,null,"This filter criteria matches no clusters. Try changing your filter settings.")))))))}},15077:(e,t,a)=>{"use strict";a.r(t),a.d(t,{columns:()=>T,default:()=>O,sortColumns:()=>R});var l=a(93345),n=a.n(l),r=a(19404),i=a(33675),s=a(86130),o=a(80234),u=a(75279),d=a(57691),c=a(76792),m=a(11318),p=a(74160),f=a(2442),E=a(69673),g=a(15402),v=a(97192),h=a(69304),b=a(59067),S=a(6071),_=a(12200),C=a(43775),y=a(49422),I=a(23271),A=a(56859);const R={Name:"display_name",Status:"status",Type:"type",Provider:"provider"},T={name:{title:"Name",width:30,sortIndex:R.Name,apiSortOption:!0},type:{title:"Type",sortIndex:R.Type},status:{title:"Status",sortIndex:R.Status,apiSortOption:!0},provider:{title:"Provider (Location)",visibility:["visibleOnLg","hiddenOnMd","hiddenOnSm"],sortIndex:R.Provider},actions:{title:"",screenReaderText:"cluster actions"}},O=({setSort:e,clusters:t,openModal:a,activeSortDirection:l,activeSortIndex:R,isPending:O})=>{const P=Object.keys(T).map(((t,a)=>{const r=T[t],i=r.sortIndex&&r.apiSortOption?(s=r.sortIndex,{sortBy:{index:R,direction:l,defaultDirection:p.l.asc},onSort:(t,a,l)=>{e(a,l)},columnIndex:s}):void 0;var s;return n().createElement(f.Th,{width:r.width,visibility:r.visibility,sort:i,key:a},r.screenReaderText?n().createElement("span",{className:"pf-v5-screen-reader"},r.screenReaderText):null,r.title)}));return O||t&&0!==t.length?n().createElement(E.X,{"aria-label":"Archived clusters"},n().createElement(g.d,null,n().createElement(c.Tr,null,P)),n().createElement(v.N,null,O?[...Array(10).keys()].map((e=>n().createElement(c.Tr,{key:e,"data-testid":"skeleton"},n().createElement(m.Td,{colSpan:7},n().createElement(r.E,{screenreaderText:"loading cluster"}))))):t.map((e=>(e=>{var t,l,r,i,s,o;const u=null!==(l=null===(t=e.cloud_provider)||void 0===t?void 0:t.id)&&void 0!==l?l:"N/A",d=(0,S.default)(e),p=n().createElement(h.Link,{to:`/details/s/${null===(r=e.subscription)||void 0===r?void 0:r.id}`},d),f=(0,I.getClusterStateAndDescription)(e).description,E=!e.canEdit&&"You do not have permissions to unarchive this cluster",g=n().createElement(_.default,{variant:"secondary",onClick:()=>a(C.default.UNARCHIVE_CLUSTER,{subscriptionID:e.subscription?e.subscription.id:"",name:d,shouldDisplayClusterName:!0}),disableReason:E},"Unarchive"),v=(null===(i=e.subscription)||void 0===i?void 0:i.status)!==b.SubscriptionCommonFields.status.DEPROVISIONED?g:null;return n().createElement(c.Tr,{key:e.id},n().createElement(m.Td,{dataLabel:T.name.title},p),n().createElement(m.Td,{dataLabel:T.type.title},n().createElement(A.default,{cluster:e})),n().createElement(m.Td,{dataLabel:T.status.title},n().createElement("span",{className:"cluster-status-string"},f)),n().createElement(m.Td,{dataLabel:T.provider.title,visibility:T.provider.visibility},n().createElement(y.default,{regionID:null!==(o=null===(s=e.region)||void 0===s?void 0:s.id)&&void 0!==o?o:"N/A",cloudProviderID:u})),n().createElement(m.Td,{isActionCell:!0},v))})(e))))):n().createElement(i.p,null,n().createElement(s.o,{titleText:"No archived clusters found.",icon:n().createElement(o.q,{icon:d.default}),headingLevel:"h4"}),n().createElement(u.h,null,"This filter criteria matches no clusters.",n().createElement("br",null),"Try changing your filter settings."))}},38260:(e,t,a)=>{"use strict";a.r(t),a.d(t,{eventTypes:()=>v,getSubscriptionLastReconciledDate:()=>s,hasCpuAndMemory:()=>i,isArchivedSubscription:()=>d,isExtenalAuthenicationActive:()=>g,isHypershiftCluster:()=>n.isHypershiftCluster,isMPoolAz:()=>u,isMultiAZ:()=>o,isReadyForAwsAccessActions:()=>p,isReadyForExternalActions:()=>E,isReadyForIdpActions:()=>f,isReadyForRoleAccessActions:()=>m});var l=a(93413),n=a(23271),r=a(59067);const i=(e,t)=>!(!e||!t||(null==e?void 0:e.updated_timestamp)&&new Date(e.updated_timestamp).getTime()<0||(null==t?void 0:t.updated_timestamp)&&new Date(t.updated_timestamp).getTime()<0||void 0===(null==e?void 0:e.total.value)||void 0===(null==t?void 0:t.total.value)),s=e=>!(!e.last_reconcile_date||e.last_reconcile_date===l.goZeroTime)&&new Date(e.last_reconcile_date).toLocaleString(),o=e=>!(0,n.isHypershiftCluster)(e)&&!0===e.multi_az,u=(e,t)=>!!(o(e)&&t&&t>1||o(e)&&!t),d=e=>{var t,a;return(null===(t=e.subscription)||void 0===t?void 0:t.status)===r.SubscriptionCommonFields.status.ARCHIVED||(null===(a=e.subscription)||void 0===a?void 0:a.status)===r.SubscriptionCommonFields.status.DEPROVISIONED},c=(e,t)=>{var a;return!0===e.managed&&(!t||!["",void 0].includes(null===(a=e.console)||void 0===a?void 0:a.url))&&(e.state===n.default.READY||(0,n.isHibernating)(e))&&!d(e)},m=e=>c(e,!1),p=e=>{var t,a;return m(e)&&"aws"===(null===(t=e.cloud_provider)||void 0===t?void 0:t.id)&&!(null===(a=e.ccs)||void 0===a?void 0:a.enabled)},f=e=>c(e,!(0,n.isHypershiftCluster)(e)),E=e=>c(e,!1),g=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.external_auth_config)||void 0===t?void 0:t.enabled)&&void 0!==a&&a&&(0,n.isHypershiftCluster)(e)},v={CLICKED:"clicked",AUTO:"auto",NONE:""}},71676:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ExternalAuthenticationSection:()=>le});var l=a(93345),n=a.n(l),r=a(60915),i=a(983),s=a(10423),o=a(65702),u=a(8888),d=a(92292),c=a(72583),m=a(96998),p=a(96553),f=a(97948),E=a(2923),g=a(69673),v=a(29230),h=a(15402),b=a(76792),S=a(2442),_=a(97192),C=a(11318),y=a(55816),I=a(57434),A=a(36817),R=a(25514),T=a(73410),O=a(82399),P=a(12200),D=a(16165),L=a(73113),N=a(36070);const w=({textOutput:e,disabled:t})=>{const a=new Blob([e],{type:"text/plain"});return n().createElement(c.$n,{component:"a",variant:"primary",download:"kubeConfig.txt",target:"_blank",rel:"noreferrer",href:URL.createObjectURL(a),isDisabled:t},"Download")};function M(e){var t,a,l,r;const{clusterID:i,onClose:s,credential:o,isOpen:u=!0}=e,[d,m]=n().useState(),[p,f]=n().useState(),[E,g]=n().useState(!1);n().useEffect((()=>{f(void 0),g(!0),(async()=>{const e=T.clusterService.getBreakGlassCredentialDetails;try{const t=await e(i||"",(null==o?void 0:o.id)||"").then((e=>e.data));m(t)}catch(e){f(e)}finally{g(!1)}})()}),[i,null==o?void 0:o.id]);const v=()=>{f(void 0),s()};return n().createElement(D.a,{id:"edit-mp-modal",title:`${null==o?void 0:o.username} credentials`,onClose:v,variant:"medium",description:"Use these temporary credentials to access your cluster.",isOpen:u,actions:[n().createElement(w,{textOutput:(null==d?void 0:d.kubeconfig)||"",disabled:E||!(null==d?void 0:d.kubeconfig)}),n().createElement(c.$n,{key:"cancel",variant:"secondary",onClick:v},"Cancel")]},"revoked"===(null==d?void 0:d.status)?"Credentials have been revoked.":"created"===(null==d?void 0:d.status)?"Credentials are being created. Try again later.":"Here are the credentials",p&&n().createElement(L.a,null,n().createElement(y.default,{message:"A problem occurred while retrieving credential",response:{errorMessage:null===(a=null===(t=p.response)||void 0===t?void 0:t.data)||void 0===a?void 0:a.reason,operationID:null===(r=null===(l=p.response)||void 0===l?void 0:l.data)||void 0===r?void 0:r.operation_id}})),n().createElement(N.Ck,{isReadOnly:!0,variant:N.$X.expansion},E?"Loading...":(null==d?void 0:d.kubeconfig)||"No kubeconfig"))}var k=a(88139),F=a(12664),x=a(90678),G=a(83349),U=a(77051),j=a(75913),H=a(28592);function V(e){const{clusterId:t,isNewModalOpen:a,onClose:l,credentialList:r}=e,[i,s]=n().useState(),[o,u]=n().useState(!1),d=e=>{const t=new Date;return new Date(t.setHours(t.getHours()+e)).toISOString()},m=()=>{s(void 0),l()};return a?n().createElement(k.Formik,{initialValues:{username:"",expiration:1},validationSchema:F.object({username:F.string().matches(/^[a-zA-Z0-9-]+$/,"Only alphanumeric characters and hyphens are allowed").max(64,"Must be 64 characters or less").required("Required").notOneOf(r||[],"Username already exists"),expiration:F.number().integer("Only integer numbers allowed").min(1).max(24).test("is-integer","expiration must be an integer",(e=>Number.isInteger(e)))}),onSubmit:async e=>{s(void 0),u(!0);try{await(({clusterId:e,data:t})=>(0,T.clusterService.postBreakGlassCredentials)(e||"",t))({clusterId:t,data:{username:e.username,expiration_timestamp:d(e.expiration||1)}}),l()}catch(e){s(e)}finally{u(!1)}}},(e=>{var t,a,l,r;return n().createElement(H.default,{id:"add-break-glass-credential-modal",title:"Add break glass credential",onClose:m,modalSize:"small",description:"Add a break glass credential to access the cluster.",footer:n().createElement(x.B,{hasGutter:!0},i&&n().createElement(L.a,null,n().createElement(y.default,{message:"A problem occurred while adding credential",response:{errorMessage:null===(a=null===(t=i.response)||void 0===t?void 0:t.data)||void 0===a?void 0:a.reason,operationID:null===(r=null===(l=i.response)||void 0===l?void 0:l.data)||void 0===r?void 0:r.operation_id}})),n().createElement(L.a,null,n().createElement(c.$n,{onClick:e.submitForm,className:"pf-v5-u-mr-md","data-testid":"submit-btn",isDisabled:!e.isValid||!e.dirty||e.isSubmitting||o,isLoading:o},"Add"),n().createElement(c.$n,{variant:"secondary",onClick:m,isDisabled:e.isSubmitting||o},"Cancel")))},n().createElement(G.l,null,n().createElement(j.default,{fieldId:"username",label:"Username",isRequired:!0}),n().createElement(U.NumberInputField,{fieldId:"expiration",label:"Hours until credentials expire",isRequired:!0,min:1,max:24,helpText:"Expiration time will be 1 - 24 hours from now."})))})):null}const q=e=>{var t,a,l,r;const{clusterId:i,onClose:s,isOpen:o=!0}=e,[u,d]=n().useState(),[p,f]=n().useState(!1),E=()=>{d(void 0),s()};return n().createElement(D.a,{title:"Revoke all credentials for cluster",onClose:E,isOpen:o,variant:"medium",actions:[n().createElement(c.$n,{key:"revoke",variant:"primary",isDisabled:p,isLoading:p,onClick:()=>(async e=>{const t=T.clusterService.revokeBreakGlassCredentials;d(void 0),f(!0);try{await t(e).then((e=>e.data)),E()}catch(e){d(e)}finally{f(!1)}})(i)},"Revoke all"),n().createElement(c.$n,{key:"cancel",variant:"secondary",onClick:E},"Cancel")]},u?n().createElement(y.default,{message:"A problem occurred while deleting the credentials.",response:{errorMessage:null===(a=null===(t=u.response)||void 0===t?void 0:t.data)||void 0===a?void 0:a.reason,operationID:null===(r=null===(l=u.response)||void 0===l?void 0:l.data)||void 0===r?void 0:r.operation_id}}):n().createElement(m.s,{direction:{default:"column"}},n().createElement("p",null,"This action cannot be undone. It will permanently revoke all credentials.")))},z=e=>{let t,a;switch(e){case O.BreakGlassCredentialStatus.ISSUED:t="Credentials issued",a="Credentials issued";break;case O.BreakGlassCredentialStatus.REVOKED:t="Revoked",a="Credentials have been manually revoked and are no longer valid.";break;case O.BreakGlassCredentialStatus.AWAITING_REVOCATION:t="Awaiting Revocation",a="Credentials are awaiting revocation. No other revocation can occur until this completes.";break;case O.BreakGlassCredentialStatus.EXPIRED:t="Expired",a="Credentials have passed their expiration date and are no longer valid.";break;case O.BreakGlassCredentialStatus.CREATED:t="Pending",a="Credentials have been created but not yet issued kubeconfig.";break;case O.BreakGlassCredentialStatus.FAILED:t="Failed",a="Unable to create credentials.";break;default:t="Unknown status",a="Unknown status"}return n().createElement(d.m,{content:a},n().createElement(c.$n,{variant:"plain"},t))};function B(){var e;const[t,a]=n().useState([]),[l,r]=n().useState(void 0),[i,s]=n().useState(),[o,u]=n().useState(!1),[D,L]=n().useState(!1),[N,w]=n().useState(!1),[k,F]=n().useState(!1),[x,G]=n().useState(!1),U=(0,R.useGlobalState)((e=>e.clusters.details.cluster.id)),j=(0,R.useGlobalState)((e=>{var t,a;return null===(a=null===(t=e.clusters.details.cluster)||void 0===t?void 0:t.subscription)||void 0===a?void 0:a.id})),{canUpdateBreakGlassCredentials:H}=(0,I.eA)(j||"",A.K.FETCH_CLUSTER_DETAILS_QUERY_KEY);n().useEffect((()=>{s(void 0),G(!0),H&&(async()=>{const e=T.clusterService.getBreakGlassCredentials;try{const t=await e(U||"").then((e=>e.data));a((null==t?void 0:t.items)||[])}catch(e){s(e)}finally{G(!1)}})()}),[U,null==l?void 0:l.id,o,N,D,H,k]);const B=!H&&"You do not have permission to create new credentials for this cluster.",W=(x||!t.some((e=>e.status===O.BreakGlassCredentialStatus.ISSUED&&!t.some((e=>e.status===O.BreakGlassCredentialStatus.AWAITING_REVOCATION)))))&&"There must be at least one issued credential without a pending revocation.";return n().createElement(n().Fragment,null,o&&n().createElement(M,{clusterID:U||"",onClose:()=>{u(!1)},credential:l}),n().createElement(V,{clusterId:U||"",isNewModalOpen:D,onClose:()=>L(!1),credentialList:(null==t?void 0:t.map((e=>e.username||"")))||[]}),n().createElement(m.s,null,n().createElement(p.Z,null,n().createElement(P.default,{className:"access-control-add",variant:"secondary",onClick:()=>L(!0),disableReason:B},"New credentials")),t.length&&H?n().createElement(n().Fragment,null,n().createElement(p.Z,{align:{default:"alignRight"}},n().createElement(P.default,{className:"access-control-add",variant:"danger",onClick:()=>{w(!0)},disableReason:W},"Revoke all credentials")),n().createElement(p.Z,null,n().createElement(P.default,{className:"access-control-add",variant:"plain",onClick:()=>F(!k),isDisabled:x},n().createElement(f.I,null,n().createElement(E.default,null))))):null),t.length?n().createElement(g.X,{"aria-label":"break glass credential table",variant:"compact"},n().createElement(v.H,null,"Assigned credentials"),n().createElement(h.d,null,n().createElement(b.Tr,null,n().createElement(S.Th,null,"ID"),n().createElement(S.Th,null,"Username"),n().createElement(S.Th,null,"Expires"),n().createElement(S.Th,null,"Status"))),n().createElement(_.N,null,null==t?void 0:t.map((e=>n().createElement(b.Tr,{key:e.id},n().createElement(C.Td,null,e.id),n().createElement(C.Td,null,e.username),n().createElement(C.Td,null,new Date(e.expiration_timestamp).toLocaleString("en-CA")),n().createElement(C.Td,null,e.status===O.BreakGlassCredentialStatus.ISSUED?n().createElement(d.m,{content:"Download credentials to access cluster as admin."},n().createElement(c.$n,{variant:"link",onClick:()=>{return t=e,u(!0),void r(t);var t}},"Credentials issued")):z(e.status||void 0))))))):null,i&&n().createElement(y.default,{message:"A problem occurred while retrieving credentials",response:{errorMessage:i.message,operationID:null===(e=i.response)||void 0===e?void 0:e.data.operation_id}}),N&&n().createElement(q,{clusterId:U||"",onClose:()=>{w(!1),r(void 0)}}))}var W=a(52577),$=a(23285);const Y=e=>{var t,a;const{clusterId:l,externalAuthProvider:r,onClose:i,isOpen:s=!0}=e,[o,u]=n().useState(""),[d,p]=n().useState(),[f,E]=n().useState(!1),g=()=>{u(""),p(void 0),i()},v=async(e,t)=>{const a=T.clusterService.deleteExternalAuth;E(!0);try{await a(e,t).then((e=>e.data)),g()}catch(e){p(e)}finally{E(!1)}},h=o===(null==r?void 0:r.id);return n().createElement(D.a,{title:`Delete provider: ${null==r?void 0:r.id}`,onClose:g,isOpen:s,variant:"medium",actions:[n().createElement(c.$n,{key:"delete",variant:"primary",isDisabled:f||!h,isLoading:f,onClick:()=>{v(l,(null==r?void 0:r.id)||"")}},"Delete"),n().createElement(c.$n,{key:"cancel",variant:"secondary",onClick:g},"Cancel")]},n().createElement(m.s,{direction:{default:"column"}},n().createElement("p",null,"This action cannot be undone. It will permanently remove the external authentication provider ",null==r?void 0:r.id,"."),n().createElement("p",null,"Confirm deletion by typing ",n().createElement("strong",null,null==r?void 0:r.id)," below:"),n().createElement(G.l,{onSubmit:e=>{e.preventDefault(),h&&v(l,o)}},n().createElement($.ks,{type:"text",value:o,placeholder:"Enter name",onChange:(e,t)=>u(t),"aria-label":"provider name to delete"}))),d&&n().createElement(x.B,{hasGutter:!0},n().createElement(L.a,null,n().createElement(y.default,{message:`Failed to delete external auth provider: ${null==r?void 0:r.id}`,response:{errorMessage:null==d?void 0:d.message,operationID:null===(a=null===(t=null==d?void 0:d.response)||void 0===t?void 0:t.status)||void 0===a?void 0:a.toString()}}))))};var K=a(89217),Q=a(84037),Z=a(20021);const X="An external authentication provider controls access to your cluster. You can add one provider to your cluster.",J=({clusterID:e,values:t,externalAuthProviderId:a})=>a?(0,T.clusterService.patchExternalAuth)(e||"",a,t):(0,T.clusterService.postExternalAuth)(e||"",t),ee=e=>{var t;const a={clients:[{component:{name:"console",namespace:"openshift-console"},id:e.consoleClientID,secret:e.consoleClientSecret}]},l={id:e.id,issuer:{url:e.issuer,audiences:null===(t=null==e?void 0:e.audiences)||void 0===t?void 0:t.split(",").map((e=>e.trim())),ca:e.provider_ca},claim:{mappings:{username:{claim:e.username},groups:{claim:e.groups}}}};return e.consoleClientID&&e.consoleClientSecret?{...l,...a}:l};function te(e){var t,a,l,r,i,s,o,u,d,m,p,f,E;const{clusterID:g,onClose:v,externalAuthProvider:h,isEdit:b,isOpen:S=!0}=e,[_,C]=n().useState(),[I,A]=n().useState(!1),R=null===(t=null==h?void 0:h.clients)||void 0===t?void 0:t.find((e=>{var t;return"console"===(null===(t=e.component)||void 0===t?void 0:t.name)}));return n().createElement(k.Formik,{initialValues:{id:(null==h?void 0:h.id)||"",issuer:(null===(a=null==h?void 0:h.issuer)||void 0===a?void 0:a.url)||"",groups:(null===(i=null===(r=null===(l=null==h?void 0:h.claim)||void 0===l?void 0:l.mappings)||void 0===r?void 0:r.groups)||void 0===i?void 0:i.claim)||"groups",username:(null===(u=null===(o=null===(s=null==h?void 0:h.claim)||void 0===s?void 0:s.mappings)||void 0===o?void 0:o.username)||void 0===u?void 0:u.claim)||"email",audiences:(null===(m=null===(d=null==h?void 0:h.issuer)||void 0===d?void 0:d.audiences)||void 0===m?void 0:m.join(", "))||"",provider_ca:""!==(null===(f=null===(p=null==h?void 0:h.issuer)||void 0===p?void 0:p.ca)||void 0===f?void 0:f.trim())?null===(E=null==h?void 0:h.issuer)||void 0===E?void 0:E.ca:"",consoleClientID:(null==R?void 0:R.id)||"",consoleClientSecret:""},validationSchema:F.object().shape({id:F.string().matches(/^[a-z]([-a-z0-9]*[a-z0-9])?$/,"Only lowercase alphanumeric characters and hyphens are allowed. Value must start with a letter and end with an alphanumeric.").max(15,"Must be 15 characters or less").required("Required"),issuer:F.string().max(255,"Must be 255 characters or less").required("Required").url("Invalid URL: example https://redhat.com").test("secure-url","URL must be https",(e=>(0,Q.validateSecureURL)(e))),groups:F.string().matches(/^[a-zA-Z0-9-]+$/,"Only alphanumeric characters and hyphens are allowed").required("Required"),username:F.string().matches(/^[a-zA-Z0-9-]+$/,"Only alphanumeric characters and hyphens are allowed").required("Required"),audiences:F.string().required("Required"),consoleClientID:F.string().when("consoleClientSecret",{is:e=>e,then:e=>e.required("Client ID is required when client secret is provided"),otherwise:e=>e}).test("is-member-of-audience","Client ID must be a member of the audiences",((e,t)=>{var a;return!e||(null===(a=t.parent.audiences)||void 0===a?void 0:a.split(",").map((e=>e.trim())).includes(e||""))})),consoleClientSecret:F.string().when("consoleClientID",{is:e=>e&&(null==R?void 0:R.id)!==e,then:e=>e.required("Client secret is required when client ID is provided"),otherwise:e=>e})},[["consoleClientID","consoleClientSecret"]]),onSubmit:async e=>{C(void 0),A(!0);const t=ee(e);try{await J({clusterID:g,values:t,externalAuthProviderId:null==h?void 0:h.id}),v()}catch(e){C(e)}finally{A(!1)}}},(e=>{var t,a,l;return n().createElement(D.a,{id:"edit-ext-auth-provider-modal",title:b?`Edit provider ${null==h?void 0:h.id}`:"Add external authentication provider",onClose:v,isOpen:S,variant:"medium",description:!b&&X,actions:[n().createElement(c.$n,{key:"add-ext-auth-provider",isDisabled:I,isLoading:I,onClick:e.submitForm},b?"Save":"Add"),n().createElement(c.$n,{key:"cancel",variant:"secondary",onClick:v},"Cancel")]},n().createElement(G.l,null,!b&&n().createElement(j.default,{fieldId:"id",label:"Name",isRequired:!0}),n().createElement(j.default,{fieldId:"issuer",label:"Issuer URL",isRequired:!0}),n().createElement(j.default,{fieldId:"audiences",label:"Audiences",isRequired:!0,helpText:"The audience IDs that this authentication provider issues tokens for. Use commas to separate multiple audiences."}),n().createElement(j.default,{fieldId:"groups",label:"Groups mapping",isRequired:!0}),n().createElement(j.default,{fieldId:"username",label:"Username mapping",isRequired:!0}),n().createElement(j.default,{fieldId:"consoleClientID",label:"Console client ID",helpText:"The console identifier of the OIDC client from the OIDC provider. Once set, a client ID can be modified by not removed."}),n().createElement(j.default,{fieldId:"consoleClientSecret",label:"Console client secret",helpText:"The console secret of the OIDC client from the OIDC provider.",placeHolderText:(null==R?void 0:R.id)&&e.values.consoleClientID===(null==R?void 0:R.id)?"Secret not displayed":""}),n().createElement(k.Field,{component:Z.default,onChange:t=>e.setFieldValue("provider_ca",t),input:{name:"provider_ca",value:e.values.provider_ca,onChange:t=>e.setFieldValue("provider_ca",t),onBlur:e.handleBlur},name:"provider_ca",label:"CA file",helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured issuer URL.",certValue:b?e.values.provider_ca:""})),_&&n().createElement(x.B,{hasGutter:!0},n().createElement(L.a,null,n().createElement(y.default,{message:b?"Error editing provider":"Error adding provider",response:{errorDetails:null===(a=null===(t=_.response)||void 0===t?void 0:t.data)||void 0===a?void 0:a.details,errorMessage:(0,K.getErrorMessage)({payload:_}),operationID:null===(l=_.response)||void 0===l?void 0:l.data.operation_id}}))))}))}function ae(){var e,t;const[a,l]=n().useState([]),[r,i]=n().useState(),[s,o]=n().useState(!1),[u,d]=n().useState(!1),[c,m]=n().useState(void 0),p=(0,R.useGlobalState)((e=>e.clusters.details.cluster.id)),f=(0,R.useGlobalState)((e=>e.clusters.details.cluster.canUpdateClusterResource));n().useEffect((()=>{(async()=>{var e;const t=T.clusterService.getExternalAuths;try{const a=await t(p||"").then((e=>e.data));l(null!==(e=null==a?void 0:a.items)&&void 0!==e?e:[])}catch(e){i(e)}})()}),[p,s,u]);const E=!f&&"You do not have permission to create a new provider for this cluster.";return r?n().createElement(y.default,{message:"A problem occurred while getting provider",response:{errorMessage:null==r?void 0:r.message,operationID:null===(t=null===(e=null==r?void 0:r.response)||void 0===e?void 0:e.status)||void 0===t?void 0:t.toString()}}):n().createElement(n().Fragment,null,a.length?null:n().createElement(P.default,{className:"access-control-add",variant:"secondary",onClick:()=>o(!0),disableReason:E},"Add external authentication provider"),s?n().createElement(te,{clusterID:p||"",onClose:()=>{o(!1),m(void 0)},externalAuthProvider:c,isEdit:!!c}):null,a.length?n().createElement(g.X,{"aria-label":"External authentication providers table",variant:"compact"},n().createElement(v.H,null,"External authentication provider"),n().createElement(h.d,null,n().createElement(b.Tr,null,n().createElement(S.Th,null,"Name"),n().createElement(S.Th,null,"Issuer URL"),n().createElement(S.Th,null,"Audiences"),n().createElement(S.Th,{screenReaderText:"Action Menu","aria-label":"Action Menu"}))),n().createElement(_.N,null,null==a?void 0:a.map((e=>{var t,a,l,r,i;const s=(e=>[{title:"Edit",onClick:()=>(e=>{o(!0),m(e)})(e)},{title:"Delete",onClick:()=>(e=>{d(!0),m(e)})(e)}])(e);return n().createElement(b.Tr,{key:e.id},n().createElement(C.Td,null,e.id),n().createElement(C.Td,null,null!==(a=null===(t=e.issuer)||void 0===t?void 0:t.url)&&void 0!==a?a:""),n().createElement(C.Td,null,null!==(i=null===(r=null===(l=e.issuer)||void 0===l?void 0:l.audiences)||void 0===r?void 0:r.join(", "))&&void 0!==i?i:""),n().createElement(C.Td,{isActionCell:!0},f&&n().createElement(W.G,{items:s})))})))):null,n().createElement(Y,{externalAuthProvider:null!=c?c:void 0,clusterId:p||"",onClose:()=>{d(!1),m(void 0)},isOpen:u}))}function le(){return n().createElement(r.Z,null,n().createElement(i.b,null,n().createElement(s.h,{className:"card-title",headingLevel:"h3",size:"lg"},"External authentication"),n().createElement("p",null,"Allow authentication to be handled by an external provider.",n().createElement(u.default,{href:o.default.ROSA_HCP_EXT_AUTH}," Learn more.")),n().createElement(ae,null)),n().createElement(i.b,null,n().createElement(s.h,{className:"card-title",headingLevel:"h3",size:"lg"},"Credentials"),n().createElement("p",null,"Allows temporary admin access to the cluster using kubeconfig file.",n().createElement(u.default,{href:o.default.ROSA_HCP_BREAK_GLASS}," Learn more.")),n().createElement(B,null)))}},85989:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ie});var l=a(93345),n=a.n(l),r=a(58156),i=a.n(r),s=a(55378),o=a.n(s),u=a(71468),d=a(93745),c=a(72583),m=a(97948),p=a(60915),f=a(6229),E=a(983),g=a(72972),v=a(10423),h=a(31358),b=a(76792),S=a(11318),_=a(52577),C=a(69673),y=a(73683),I=a(15402),A=a(2442),R=a(97192),T=a(76980),O=a(25514),P=a(77475),D=a(73410),L=a(50120);const N=e=>(0,P.action)(L.A.GET_OCM_ROLES,D.accountsService.getSubscriptionRoleBindings(e)),w=(e,t,a)=>(0,P.action)(L.A.GRANT_OCM_ROLE,D.accountsService.createSubscriptionRoleBinding(e,t,a)),M=(e,t)=>(0,P.action)(L.A.DELETE_OCM_ROLE,D.accountsService.deleteSubscriptionRoleBinding(e,t)),k=()=>(0,P.action)(L.A.CLEAR_GET_OCM_ROLES_RESPONSE),F=()=>(0,P.action)(L.A.CLEAR_GRANT_OCM_ROLE_RESPONSE),x=()=>(0,P.action)(L.A.CLEAR_DELETE_OCM_ROLE_RESPONSE);var G=a(12200),U=a(55816),j=a(91089),H=a(43775),V=a(38260),q=a(83349),z=a(56780),B=a(51976),W=a(22069),$=a(23285),Y=a(91332),K=a(18960),Q=a(38715),Z=a(14419),X=a(75166),J=a(28592),ee=a(55213);function te({onSubmit:e,row:t,productId:a}){const[r,i]=(0,l.useState)(),[s,o]=(0,l.useState)(""),[d,c]=(0,l.useState)(""),[m,p]=(0,l.useState)(""),[f,E]=(0,l.useState)(!1),[g,v]=(0,l.useState)(!1),h=(0,O.useGlobalState)((e=>(0,Z.default)(e,H.default.OCM_ROLES))),{grantOCMRoleResponse:b}=(0,O.useGlobalState)((e=>e.ocmRoles)),S=(0,u.wA)();(0,l.useEffect)((()=>{h&&(i(t.usernameValue),p(t.roleValue||X.ocmRoles.CLUSTER_EDITOR.id),o(""),c(""),E(!1))}),[h]);const _=()=>{S((0,j.closeModal)()),S(F())};if((0,l.useEffect)((()=>{var e;if(b.pending)c(""),E(!0);else if(b.fulfilled)_();else if(b.error){if(404===b.errorCode)c("This Red Hat login could not be found.");else if(400===b.errorCode&&b.errorMessage&&b.errorMessage.toString().includes("belong to different organizations"))c("This Red Hat login is not part of your organization.");else{const t=((null===(e=b.errorMessage)||void 0===e?void 0:e.toString())||"Unknown Error").split(/\r?\n/).pop();c(t&&t.endsWith(".")?t:`${t}.`)}E(!1)}}),[b]),!h)return null;const C=e=>(c(""),e?(o(""),E(!1),!0):(o("Red Hat login cannot be empty."),E(!0),!1)),y=()=>{C(r)&&e(t,r,m)},I=t.isCreating?"Grant role":"Edit role",A=t.isCreating?"Grant role":"Edit role",R=Object.values(X.ocmRoles).filter((e=>!a||!e.excludeProductIds||!e.excludeProductIds.some((e=>e===a))));return n().createElement(J.default,{title:I,onClose:_,primaryText:A,secondaryText:"Cancel",onPrimaryClick:y,onSecondaryClick:_,isPrimaryDisabled:f,id:"ocm-roles-access-dialog"},n().createElement("p",{className:"pf-v5-u-mb-xl"},"Allow users in your organization to edit or view clusters. These permissions only apply to cluster management in OpenShift Cluster Manager."),n().createElement(q.l,{className:"control-form-cursor",onSubmit:e=>{y(),e.preventDefault()}},n().createElement(z.g,{label:n().createElement(n().Fragment,null,n().createElement("span",null,"Red Hat login"),n().createElement(ee.default,{id:"ocm-roles-section-username-tooltip",hint:n().createElement(B.n,null,n().createElement(W.E,{component:W.Y.p},"Your Red Hat login is the username you use to access your Red Hat account.")),iconClassName:"text-input-tootip-icon",hasAutoWidth:!0,maxWidth:"20.0rem"})),isRequired:!0,fieldId:"username"},n().createElement($.ks,{value:r,isRequired:!0,id:"username",type:"text",onChange:(e,t)=>(e=>{const t=e.trim();i(t),C(t)})(t),isDisabled:!t.isCreating,validated:s||d?"error":"default","aria-label":"username"}),n().createElement(Q.FormGroupHelperText,{touched:!0,error:s||d})),n().createElement(z.g,{label:"Role",isRequired:!0},n().createElement(Y.l,{onToggle:(e,t)=>v(t),onSelect:(e,t)=>{p(t),v(!1)},selections:m,isOpen:g,menuAppendTo:()=>document.body},R.map((e=>n().createElement(K.O,{key:e.id,value:e.id,description:e.description},e.name)))))))}te.modalName=H.default.OCM_ROLES;var ae=a(90128),le=a.n(ae),ne=a(92292);class re{constructor(e=null,t){var a;this.data=e,this.id=i()(this.data,"id",""),this.usernameValue=i()(this.data,"account.username",""),this.roleValue=i()(this.data,"role.id",""),this.email=i()(this.data,"account.email",""),this.isCreating=null===e,this.isPending=!1;const l=n().createElement(ne.m,{content:this.email,key:`ocm-roles-username-tooltip-${t}`},n().createElement("span",{className:"hand-pointer"},this.usernameValue)),r=(null===(a=Object.values(X.ocmRoles).find((e=>e.id===this.roleValue)))||void 0===a?void 0:a.name)||le()(this.roleValue);this.cellsData=[{title:l},{title:r}]}setIsPending(e){this.isPending=e}get cells(){return this.cellsData}}const ie=function({subscription:e,canEditOCMRoles:t,canViewOCMRoles:a,refreshEvent:r}){var s;const[P,D]=(0,l.useState)([]),[L,q]=(0,l.useState)(-1),[z,B]=(0,l.useState)(null),[W,$]=(0,l.useState)(!1),[Y,K]=(0,l.useState)(""),{data:Q}=(0,O.useGlobalState)((e=>e.modal)),{getOCMRolesResponse:Z,grantOCMRoleResponse:X,deleteOCMRoleResponse:J}=(0,O.useGlobalState)((e=>e.ocmRoles)),ee=null===(s=null==e?void 0:e.plan)||void 0===s?void 0:s.id,ae=(0,u.wA)(),le=()=>{if(L>=0&&L<P.length){const e=P[L],t=P.slice();e.isCreating?t.splice(L,1):t[L].setIsPending(!1),D(t)}q(-1)};(0,l.useEffect)((()=>(a&&e.id&&($(!0),ae(N(e.id))),K(a?t?"":"You don't have permission to configure user roles in your organization. Only the Cluster Owner and the Organization Admin have the permission.":"You don't have permission to view user roles in your organization. Only the Cluster Owner, Cluster Editor, and the Organization Admin have the permission."),()=>{ae(k()),ae(F()),ae(x())})),[a,t,e.id,ae]),(0,l.useEffect)((()=>{a&&i()(r,"type")===V.eventTypes.CLICKED&&e.id&&($(!0),ae(N(e.id)))}),[r]),(0,l.useEffect)((()=>{var e;if(Z.pending)B(null);else if(Z.fulfilled){$(!1);const t=null!==(e=null==Z?void 0:Z.data.items)&&void 0!==e?e:[],a=o()(t,((e,t)=>new re(e,t)));D(a),B(null)}else Z.error&&($(!1),B(n().createElement(U.default,{message:"Error getting OCM roles and access",response:Z})),le())}),[Z]),(0,l.useEffect)((()=>{X.pending?B(null):X.fulfilled&&e.id?(ae(N(e.id)),B(null)):X.error&&le()}),[X]),(0,l.useEffect)((()=>{J.pending?B(null):J.fulfilled&&e.id?(ae(N(e.id)),B(null)):J.error&&(B(n().createElement(U.default,{message:"Error removing the role from the user",response:J})),le())}),[J]);const ne="Username",ie="Role",se=n().createElement(n().Fragment,null,ne,n().createElement(d.A,{position:d.$.top,"aria-label":"Username",id:"ocm-roles-section-username",bodyContent:n().createElement("p",null,"The username is the Red Hat login that is used to access the Red Hat account.")},n().createElement(c.$n,{variant:"plain",isInline:!0},n().createElement(m.I,{size:"md"},n().createElement(h.HelpIcon,null))))),oe=n().createElement(n().Fragment,null,ie,n().createElement(d.A,{position:d.$.top,"aria-label":"Role",id:"ocm-roles-section-role",bodyContent:n().createElement("p",null,"The OpenShift Cluster Manager role that is granted to this user.")},n().createElement(c.$n,{variant:"plain",isInline:!0},n().createElement(m.I,{size:"md"},n().createElement(h.HelpIcon,null))))),ue=e=>void 0!==e.title;return W?n().createElement(p.Z,null,n().createElement(f.Z,null,n().createElement(T.A,{size:"md"})),n().createElement(E.b,null,n().createElement(T.A,{size:"lg"})),n().createElement(g.w,null,n().createElement(T.A,{size:"md"}))):n().createElement(p.Z,null,n().createElement(E.b,null,n().createElement(v.h,{className:"card-title",headingLevel:"h3",size:"lg"},"OCM Roles and Access"),n().createElement("p",null,"Allow users in your organization to edit clusters. These permissions only apply to cluster management in OpenShift Cluster Manager."),n().createElement(G.default,{onClick:()=>{const e=P.length,t=new re(null,e.toString());setTimeout((()=>ae((0,j.openModal)(H.default.OCM_ROLES,t))),0)},variant:"secondary",className:"access-control-add",disableReason:Y,"data-testid":"grant-role-btn"},"Grant role")),n().createElement(E.b,null,z,n().createElement(C.X,{"aria-label":"OCM Roles and Access",variant:y.a.compact},n().createElement(I.d,null,n().createElement(b.Tr,null,n().createElement(A.Th,null,se),n().createElement(A.Th,null,oe),n().createElement(A.Th,{screenReaderText:"Role action"}))),n().createElement(R.N,null,P.map(((t,a)=>{const l=((t,a)=>[{title:"Delete",onClick:()=>{le(),e.id&&t.id&&((e=>{if(null!==e&&e>=0&&e<P.length){const t=P.slice();t[e].setIsPending(!0),q(e),D(t)}})(a),ae(M(e.id,t.id)))}}])(t,a),{cellsData:r,usernameValue:i}=t,s=ue(null==r?void 0:r[0])?null==r?void 0:r[0].title:null==r?void 0:r[0],o=ue(null==r?void 0:r[1])?null==r?void 0:r[1].title:null==r?void 0:r[1];return t.isCreating||t.isPending?n().createElement(b.Tr,{key:i},n().createElement(S.Td,{dataLabel:ne},n().createElement(T.A,{size:"md"})),n().createElement(S.Td,{dataLabel:ie},n().createElement(T.A,{size:"md"})),n().createElement(S.Td,{isActionCell:!0})):n().createElement(b.Tr,{key:i},n().createElement(S.Td,{dataLabel:ne},s),n().createElement(S.Td,{dataLabel:ie},o),n().createElement(S.Td,{isActionCell:!0},n().createElement(_.G,{items:l,isDisabled:!!Y})))})))),n().createElement(te,{onSubmit:(t,a,l)=>{le(),t.isCreating&&e.id&&ae(w(e.id,a,l))},row:Q,productId:ee})))}},6640:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(70460),i=a(69304);const s=({total:e,linkUrl:t,accessRequests:a})=>e?n().createElement(r.F,{id:"pendingAccessRequestAlert",className:"pf-v5-u-mt-md",variant:"warning",isInline:!0,title:"Pending Access Requests"},"Your organization has ",n().createElement("b",null,e)," pending Access Request",e>1?"s":""," ",(null==a?void 0:a.length)?n().createElement("span",null," ","to the following Cluster",e>1?"s":"",":"," ",a.map((e=>n().createElement(i.Link,{key:`pendingAccessRequestAlertLink-${e.subscription_id}`,to:`/details/s/${e.subscription_id}#accessRequest`},e.subscription_id))).reduce(((e,t)=>[e,", ",t])),". Please enter the Cluster details page and review them in the Access Requests tab."):null,t?n().createElement(i.Link,{to:t},"Show pending requests"):null):null},36918:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>be});var l,n,r,i=a(93345),s=a.n(i),o=a(71468),u=a(60915),d=a(6229),c=a(983),m=a(74160),p=a(65702),f=a(10135),E=a(8888),g=a(48609),v=a(91089),h=a(43775),b=a(25883),S=a(27241),_=a(22916),C=a(25514),y=a(88139),I=a(12664),A=a(90678),R=a(73113),T=a(55816),O=a(28592);!function(e){let t;!function(e){e.APPROVED="Approved",e.DENIED="Denied",e.EXPIRED="Expired"}(t=e.decision||(e.decision={}))}(l||(l={})),function(e){e.State="state",e.Justification="justification"}(n||(n={})),function(e){e.PENDING="Pending",e.DENIED="Denied",e.APPROVED="Approved",e.EXPIRED="Expired"}(r||(r={}));var P=a(30620),D=a(23215),L=a(47482),N=a(32034),w=a(78755),M=a(1319),k=a(92292),F=a(22069),x=a(55213);const G=({accessRequest:e})=>{const t=(0,i.useMemo)((()=>{var t;return(null===(t=null==e?void 0:e.decisions)||void 0===t?void 0:t.length)?e.decisions[e.decisions.length-1]:void 0}),[e]);return e?s().createElement(P.x,{hasGutter:!0},s().createElement(D.E,{sm:8},s().createElement(L.B,null,s().createElement(N.W,null,s().createElement(w.X,null,"ID"),s().createElement(M.d,null,e.id)),s().createElement(N.W,null,s().createElement(w.X,null,"Subscription ID"),s().createElement(M.d,null,e.subscription_id)),s().createElement(N.W,null,s().createElement(w.X,null,"Cluster ID"),s().createElement(M.d,null,e.cluster_id)),s().createElement(N.W,null,s().createElement(w.X,null,"Service Request ID"),s().createElement(M.d,null,e.support_case_id||"N/A")))),s().createElement(D.E,{sm:4},s().createElement(L.B,null,s().createElement(N.W,null,s().createElement(w.X,null,"Created Time"),s().createElement(M.d,null,s().createElement(k.m,{content:s().createElement("span",null,"Last updated on"," ",e.updated_at?new Date(e.updated_at).toLocaleDateString():"N/A")},s().createElement(F.E,null,e.created_at?new Date(e.created_at).toLocaleDateString():"N/A")))),s().createElement(N.W,null,s().createElement(w.X,null,"Respond By"," ",s().createElement(x.default,{id:"respond-by-hint",iconClassName:"nodes-hint",hint:"If not reviewed, the Access Request will expire by this date and the original customer case or incident will be automatically closed without a technical resolution."})),s().createElement(M.d,null,e.deadline_at?new Date(e.deadline_at).toLocaleDateString():"N/A")),s().createElement(N.W,null,s().createElement(w.X,null,"Request Duration"," ",s().createElement(x.default,{id:"request-duration-hint",iconClassName:"nodes-hint",hint:"Once approved, SRE will have access to customer data in the cluster and in the corresponding cloud account for this amount of time. All access to customer data is audited."})),s().createElement(M.d,null,e.duration||"N/A")))),s().createElement(D.E,{sm:12},s().createElement(L.B,null,s().createElement(N.W,null,s().createElement(w.X,null,"Justification"),s().createElement(M.d,null,s().createElement("span",{"data-testid":"justification-field-value"},e.justification||"N/A"))))),(null==t?void 0:t.decision)?s().createElement(D.E,{sm:12},s().createElement(L.B,null,s().createElement(N.W,null,s().createElement(w.X,null,"Decision"),s().createElement(M.d,null,s().createElement(F.E,{"data-testid":"decision-text"},s().createElement("b",null,null==t?void 0:t.decision),(null==t?void 0:t.created_at)?s().createElement(s().Fragment,null," ","on ",s().createElement("b",null,new Date(t.created_at).toLocaleDateString())):null,(null==t?void 0:t.decided_by)?s().createElement(s().Fragment,null," ","by ",s().createElement("b",null,t.decided_by)):null,(null==t?void 0:t.justification)?s().createElement(s().Fragment,null," ","because ",s().createElement("i",null,t.justification)):null))))):null):null};var U=a(83349),j=a(56780),H=a(65843),V=a(61864),q=a(59257),z=a(49318),B=a(70460),W=a(77218);const $=({accessRequest:e,userDecisionRights:t})=>{const{setFieldValue:a,getFieldProps:l,values:{[n.State]:o,[n.Justification]:u},errors:d}=(0,y.useFormikContext)(),[c,m]=(0,i.useState)("Add justification for denying it"),[p,f]=(0,i.useState)("default");return(0,i.useEffect)((()=>{if(o===r.DENIED){const e=null==d?void 0:d[n.Justification];f(e?"error":"success"),m(e?null==d?void 0:d[n.Justification]:"Thanks for your justification!")}else f("default"),m("")}),[o,d]),s().createElement(P.x,{hasGutter:!0},s().createElement(D.E,null,s().createElement(G,{accessRequest:e})),t?s().createElement(U.l,{id:"modal-with-form-form"},s().createElement(D.E,{sm:12},s().createElement(j.g,{label:"Decision",isRequired:!0,isInline:!0,fieldId:n.State},s().createElement(y.Field,{component:W.RadioButtons,name:n.State,ariaLabel:"Decision",onChange:e=>a(n.State,e),input:{...l(n.State),onChange:e=>a(n.State,e)},options:[{value:r.APPROVED,label:"Approve"},{value:r.DENIED,label:"Deny"}],required:!0}))),s().createElement(D.E,{sm:12},s().createElement(j.g,{label:"Justification",isRequired:o===r.DENIED,fieldId:n.Justification},s().createElement(H.fs,{name:n.Justification,value:u,onChange:(e,t)=>a(n.Justification,t),isRequired:!0,"aria-label":"access request justification",validated:p,isDisabled:o!==r.DENIED,resizeOrientation:"vertical"}),s().createElement(V.e,null,s().createElement(q.E,null,s().createElement(z.j,{variant:p},c)))))):s().createElement(D.E,{sm:12},s().createElement(B.F,{variant:B.w.warning,title:"No rights for making a decision",isInline:!0},"The user has no rights for approving or denying the access request. Please contact cluster owner or organization admin.")))};var Y=a(33612),K=a(19202),Q=a(99851),Z=a(88872),X=a(73828);const J={[r.PENDING]:{color:"orange",icon:s().createElement(Q.ExclamationTriangleIcon,null)},[r.APPROVED]:{color:"green",icon:s().createElement(K.CheckCircleIcon,null)},[r.DENIED]:{color:"red",icon:s().createElement(X.I$,null)},[r.EXPIRED]:{icon:s().createElement(Z.Y8,null)}},ee=({accessRequest:e})=>{var t;return(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.state)?s().createElement(Y.J,{color:J[e.status.state].color,icon:J[e.status.state].icon},e.status.state):null},te=()=>{var e;const t=(0,o.wA)(),{accessRequest:a,onClose:u}=(0,C.useGlobalState)((e=>e.modal.data)),d=(0,C.useGlobalState)((e=>e.accessRequest.postAccessRequestDecision)),c=(0,C.useGlobalState)((e=>e.accessRequest.canMakeDecision)),m=(0,C.useGlobalState)((e=>{var t,a,l;return null===(l=null===(a=null===(t=e.userProfile)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.details)||void 0===l?void 0:l.id})),[p,f]=(0,i.useState)(!0),E=(0,i.useMemo)((()=>{var e;return(null===(e=null==a?void 0:a.status)||void 0===e?void 0:e.state)===r.PENDING}),[a]),g=(0,i.useCallback)((()=>{t((0,v.closeModal)()),u()}),[t,u]);return(0,i.useEffect)((()=>()=>{t((0,b.resetCanMakeDecision)())}),[t]),(0,i.useEffect)((()=>{E&&(null==a?void 0:a.subscription_id)&&m&&t((0,b.canMakeDecision)(a.subscription_id,m))}),[null==a?void 0:a.subscription_id,m,E,t]),(0,i.useEffect)((()=>f(!(null==a?void 0:a.id)||c.pending||d.pending)),[f,null==a?void 0:a.id,c.pending,d.pending]),(0,i.useEffect)((()=>{d.fulfilled&&g()}),[g,d.fulfilled]),a?s().createElement(y.Formik,{initialValues:{[n.State]:null===(e=a.status)||void 0===e?void 0:e.state,[n.Justification]:""},validationSchema:I.object({[n.State]:I.string().required("Required"),[n.Justification]:I.string().trim().matches(/^[a-zA-Z0-9-\s.&,;':_!"/$]+$/,"Only alphanumeric characters and punctuation marks are allowed").max(256,"Must be 256 characters or less").when([n.State],{is:r.DENIED,then:e=>e.required("The justification is required in case of denial.")})}),onSubmit:async e=>{const r=e[n.State];t((0,b.postAccessRequestDecision)(a.id,{decision:r,justification:r===l.decision.DENIED?e[n.Justification]:void 0}))}},(e=>s().createElement(O.default,{title:"Access Request Details",onClose:g,primaryText:"Save",showPrimary:E,secondaryText:E?"Cancel":"Close",onPrimaryClick:e.handleSubmit,onSecondaryClick:g,isPrimaryDisabled:E&&(!e.isValid||!e.dirty||e.isSubmitting||d.pending),id:"access-request-modal",isPending:p,help:s().createElement(ee,{accessRequest:a}),footer:d.error||c.error?s().createElement(s().Fragment,null,d.error?s().createElement(A.B,{hasGutter:!0},s().createElement(R.a,null,s().createElement(T.default,{message:"A problem occurred while saving access request",response:{errorMessage:d.errorMessage,errorDetails:d.errorDetails}}))):null,c.error?s().createElement(A.B,{hasGutter:!0},s().createElement(R.a,null,s().createElement(T.default,{message:"A problem occurred while retrieving rights for making a decision",response:{errorMessage:c.errorMessage,errorDetails:c.errorDetails}}))):null):null},E&&!d.error?s().createElement($,{accessRequest:a,userDecisionRights:c.allowed}):s().createElement(G,{accessRequest:a})))):null};te.modalName=h.default.ACCESS_REQUEST_DETAILS;const ae=te;var le=a(19404),ne=a(72583),re=a(63802),ie=a(33675),se=a(86130),oe=a(80234),ue=a(5600),de=a(57691),ce=a(73317),me=a(30496),pe=a(32569),fe=a(68923);const Ee=[{title:"State",sortTitle:"status.state",transforms:[ce.X]},{title:"ID",sortTitle:"id",transforms:[ce.X]},{title:"Created Time",sortTitle:"created_at",transforms:[ce.X]},{title:"Actions",screenReaderText:"access request actions",sortTitle:""}],ge=({accessRequestItems:e,setSorting:t,openDetailsAction:a,sortBy:l,isPending:n})=>{const r=(0,i.useMemo)((()=>n?Array.from(Array(10).keys()).map((()=>Array.from(Array(Ee.length).keys()).reduce((e=>[...e,{title:s().createElement(le.E,null)}]),[]))):null==e?void 0:e.map((e=>[{title:s().createElement(ee,{accessRequest:e})},{title:e.id},{title:e.created_at},{title:s().createElement(ne.$n,{variant:"secondary",icon:s().createElement(ue.EyeIcon,null),"aria-label":"openDetailsAction",onClick:()=>a(e)},"Open")}]))),[e,a,n]),o=(0,i.useCallback)(((e,a,l)=>t({isAscending:l===m.l.asc,sortField:Ee[a].sortTitle,sortIndex:a})),[t]);return(null==r?void 0:r.length)?s().createElement(me.X,{"aria-label":"Access Request",cells:Ee,rows:r,sortBy:l,onSort:o},s().createElement(pe.A,null),s().createElement(fe.B,null)):s().createElement(re.d8,null,s().createElement(ie.p,null,s().createElement(se.o,{titleText:"No access request entries found",icon:s().createElement(oe.q,{icon:de.default}),headingLevel:"h4"})))};var ve=a(96346);const he=({viewType:e,viewOptions:t,isDisabled:a,variant:l})=>s().createElement(ve.default,{viewType:e,currentPage:t.currentPage,pageSize:t.pageSize,totalCount:t.totalCount,totalPages:t.totalPages,variant:l,isDisabled:a}),be=({subscriptionId:e})=>{const t=(0,o.wA)(),a=_.viewConstants.ACCESS_REQUESTS_VIEW,l=(0,C.useGlobalState)((e=>e.viewOptions[a])),n=(0,C.useGlobalState)((e=>e.accessRequest.accessRequests)),r=(0,C.useGlobalState)((e=>e.accessRequest.accessRequest)),y=(0,C.useGlobalState)((e=>e.accessRequest.postAccessRequestDecision)),[I,A]=(0,i.useState)(l),R=(0,i.useMemo)((()=>n.pending),[n.pending]),T=(0,i.useMemo)((()=>{var e;return R||!(null===(e=null==n?void 0:n.items)||void 0===e?void 0:e.length)}),[R,n]),O=(0,i.useMemo)((()=>({index:l.sorting.sortIndex,direction:l.sorting.isAscending?m.l.asc:m.l.desc})),[l]),P=(0,i.useCallback)((e=>t(S.viewActions.onListSortBy(e,a))),[t,a]),D=(0,i.useCallback)((e=>t(v.modalActions.openModal(h.default.ACCESS_REQUEST_DETAILS,{accessRequest:e,onClose:()=>{t((0,b.resetAccessRequest)()),t((0,b.resetPostAccessRequestDecision)())}}))),[t]);return(0,i.useEffect)((()=>{void 0!==e&&t((0,b.getAccessRequests)(e,l))}),[e]),(0,i.useEffect)((()=>{void 0!==e&&y.fulfilled&&(t((0,b.getAccessRequests)(e,l)),t((0,b.getPendingAccessRequests)(e)))}),[y.fulfilled]),(0,i.useEffect)((()=>{r.fulfilled&&D(r)}),[r,D]),(0,i.useEffect)((()=>{(0,f.viewPropsChanged)(l,I)&&!n.pending&&void 0!==e&&(t((0,b.getAccessRequests)(e,l)),A(l))}),[n.pending,t,I,e,l]),s().createElement(s().Fragment,null,s().createElement(u.Z,{className:"ocm-c-access-request__card"},s().createElement(d.Z,{className:"ocm-c-access-request__card--header"},"Access Requests"),s().createElement(c.b,{className:"ocm-c-access-request__card--body"},s().createElement("div",{className:"access-request-subtitle"},"Access requests to customer data on Red Hat OpenShift Service on AWS clusters and the corresponding cloud accounts can be created by SRE either in response to a customer-initiated support ticket or in response to alerts received by SRE, as part of the standard incident response process."),s().createElement(E.default,{href:p.default.ACCESS_REQUEST_DOC_LINK},"Read more about Access Requests functionality"))),s().createElement(u.Z,null,s().createElement(c.b,null,s().createElement(he,{viewType:a,viewOptions:l,variant:"top",isDisabled:T}),s().createElement(ge,{accessRequestItems:n.items,setSorting:P,openDetailsAction:D,sortBy:O,isPending:R}),s().createElement(he,{viewType:a,viewOptions:l,variant:"bottom",isDisabled:T}))),s().createElement(g.default,{ModalComponent:ae}))}},72152:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(96553),i=a(8888);const s=e=>{const{activeCardDocsLink:t,installedAddOnOperatorVersion:a,addonID:l,clusterID:s,externalClusterID:o,subscriptionPlanID:u}=e,d={current_path:"/openshift/details/s",tab_title:"Add-ons",tab_id:"addOnsTabContent",card_type:"addon",addon_id:l,ocm_resource_type:u.toLowerCase(),resource_id:o,ocm_cluster_id:s};return a||t?n().createElement(r.Z,null,a&&n().createElement(n().Fragment,null,n().createElement("strong",null,"Current Version")," ",a," "),t&&n().createElement(i.default,{href:t,customTrackProperties:d},"View Documentation")):null}},3592:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var l=a(93345),n=a(60915),r=a(6229),i=a(983),s=a(72972),o=a(47914),u=a(83349),d=a(56780),c=a(5221),m=a(91332),p=a(18960),f=a(8888);const E={"managed-odh":{aws:"https://aws.amazon.com/marketplace/search/results?searchTerms=OpenShift+Data+Science+enables"}},g=({subscriptionModels:e,setSubscriptionModel:t,activeCardId:a,hasQuota:o,isReady:u,cloudAccounts:d,installedAddOn:c,billingModel:g,name:v,cloudProvider:h})=>{const b=e[a],S=d&&d[h].length>0,[_,C]=l.useState(!1),[y,I]=l.useState(b.cloudAccount);return l.useEffect((()=>{var e;if(c&&(null===(e=null==c?void 0:c.billing)||void 0===e?void 0:e.billing_marketplace_account)){const e=c.billing.billing_marketplace_account;c.billing.billing_model===g&&I(e)}}),[c]),l.useEffect((()=>{"standard"===(null==b?void 0:b.billingModel)&&I("")}),[null==b?void 0:b.billingModel]),l.createElement(n.Z,{id:g,isSelectableRaised:!0,isSelected:(null==b?void 0:b.billingModel)===g,isDisabled:!S||!o||!u,onClick:()=>{y&&t({...e,[a]:{addOn:a,billingModel:g,cloudAccount:y}})}},l.createElement(r.Z,null,v),l.createElement(i.b,null,"Flexible usage. Pay only for the services you use."),S&&o?l.createElement(s.w,null,l.createElement(m.l,{isOpen:_,selections:y,onToggle:()=>C(!_),onSelect:(l,n)=>{l.stopPropagation(),t({...e,[a]:{addOn:a,billingModel:g,cloudAccount:n}}),I(n),C(!1)},placeholderText:"Select an account",isDisabled:!u},d&&d[h].map((({cloud_account_id:e})=>l.createElement(p.O,{key:e,value:e},e))))):l.createElement(s.w,null,l.createElement("small",null,"Not available.")," ",E[a]&&E[a][h]&&l.createElement(f.default,{href:E[a][h]},"Enable in ",v,".")))},v=({activeCardId:e,billingQuota:t,installedAddOn:a,subscriptionModels:m,setAddonsDrawer:p})=>{var f;const E=e=>{p({subscriptionModels:e})},v=m[e],h=!(Boolean(a)||a&&a.state!==c.default.INSTALLATION_STATE.READY),b=Boolean(a)||!!t.standard&&t.standard.consumed+t.standard.cost<=t.standard.allowed,S=Boolean(a)||!!t.marketplace&&t.marketplace.consumed+t.marketplace.cost<=t.marketplace.allowed,_=void 0===t.standard,C=void 0===t.marketplace;l.useEffect((()=>{var t;m[e]||E({...m,[e]:{addOn:e,billingModel:a?a.billing.billing_model:_?S?"marketplace":"no-quota":C?b?"standard":"no-quota":b?"standard":S?"marketplace":"no-quota",cloudAccount:(null===(t=null==a?void 0:a.billing)||void 0===t?void 0:t.billing_marketplace_account)||""}})}),[m,e,a]);const y=l.createElement(n.Z,{id:"standard-rh",isSelectableRaised:!0,isSelected:"standard"===(null==v?void 0:v.billingModel),isDisabled:!b||!h},l.createElement(r.Z,null,"Red Hat Standard"),l.createElement(i.b,null,"Fixed capacity subscription."),l.createElement(s.w,null,!b&&l.createElement("small",null,"Not enough quota."))),I=null===(f=t.marketplace)||void 0===f?void 0:f.cloudAccounts,A=l.createElement(l.Fragment,null,!1,l.createElement(g,{subscriptionModels:m,setSubscriptionModel:E,activeCardId:e,hasQuota:S,isReady:h,cloudAccounts:I,installedAddOn:a,billingModel:"marketplace-aws",name:"AWS Marketplace",cloudProvider:"aws"}),!1);return l.createElement(l.Fragment,null,l.createElement("div",{className:t.standard&&t.marketplace?"pf-v5-u-mb-sm":"pf-v5-u-mb-lg"},l.createElement("strong",null,l.createElement("small",null,"Subscription type"))),t.standard&&t.marketplace&&l.createElement(u.l,null,l.createElement(d.g,{role:"radiogroup",isInline:!0,fieldId:"billing-model-group"},t.standard&&((t=!1)=>l.createElement(o.s,{isChecked:"standard"===(null==v?void 0:v.billingModel),name:"billing-model",id:"standard",value:"standard",label:l.createElement("div",null,l.createElement("span",{className:t?"pf-v5-u-mr-xs":""},"Standard")),isDisabled:t,onChange:()=>{E({...m,[e]:{addOn:e,billingModel:"standard",cloudAccount:""}})}}))(!h),t.marketplace&&((t=!1)=>l.createElement(o.s,{isChecked:null==v?void 0:v.billingModel.startsWith("marketplace"),name:"billing-model",id:"marketplace",value:"marketplace",label:l.createElement("div",null,l.createElement("span",{className:t?"pf-v5-u-mr-xs":""},"Marketplace")),isDisabled:t,onChange:()=>{var t;E({...m,[e]:{addOn:e,billingModel:"marketplace",cloudAccount:(null===(t=null==a?void 0:a.billing)||void 0===t?void 0:t.billing_marketplace_account)||""}})}}))(!h))),"standard"===(null==v?void 0:v.billingModel)&&y,(null==v?void 0:v.billingModel.startsWith("marketplace"))&&A)}},37263:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(70460);const i=()=>n().createElement(r.F,{className:"ai-non-editable-alert pf-v5-u-mt-md",isInline:!0,variant:"info",title:"You cannot edit the cluster.",role:"alert"},n().createElement("p",null,"To get permission to edit, contact the Cluster Owner or Organization Admin."))},83861:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var l=a(93345),n=a.n(l),r=a(60915),i=a(6229),s=a(10423),o=a(99145),u=a(22069),d=a(983),c=a(31003),m=a(48525),p=a(23271),f=a(24022),E=a(54075),g=a(82183),v=a(11243),h=a(976),b=a(2509);const S=({cluster:e})=>{const t=e.state===p.default.ERROR,a=e.state===p.default.PENDING,l=e.state===p.default.VALIDATING,S=e.state===p.default.INSTALLING,_=e.state===p.default.UNINSTALLING,C=(0,p.isWaitingROSAManualMode)(e),y=(0,p.isWaitingHypershiftCluster)(e),I=(a||S||y||l||!C)&&!t,A=(I||_)&&!t,R=(0,p.isHypershiftCluster)(e)?"10":"30 to 60",T=(0,p.hasInflightEgressErrors)(e),O=(0,v.useFeatureGate)(h.NETWORK_VALIDATOR_ONDEMAND_FEATURE);let P;return t?P="Installation error":_?P="Uninstalling cluster":C?P="Action required to continue installation":I&&(P="Installing cluster"),n().createElement(r.Z,{isFlat:!0},!T&&n().createElement(i.Z,null,n().createElement(s.h,{headingLevel:"h2",size:"lg",className:"card-title pf-v5-u-display-inline-block pf-v5-u-mr-md","data-testid":"installation-header"},A&&n().createElement(o.y,{size:"sm",className:"progressing-icon pf-v5-u-mr-md"}),t&&n().createElement("span",{className:"pf-v5-u-mr-xs"},n().createElement(c.default,{color:m.global_danger_color_100.value})," "),P),(I||C)&&!_&&n().createElement(f.A,null),I&&!_&&n().createElement(u.E,{component:u.Y.p,"data-testid":"expected-cluster-installation-msg",className:"expected-cluster-installation-text"},"Cluster creation usually takes ",R," minutes to complete.")),n().createElement(d.b,null,_?n().createElement(g.A,{cluster:e}):n().createElement(E.A,{cluster:e,hasNetworkOndemand:O,hasInflightErrors:T}),n().createElement(b.default,{isExpandable:!_,cluster:e})))}},76815:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(93345),n=a.n(l),r=a(74353),i=a.n(r),s=a(70460),o=a(72583),u=a(8888),d=a(43775);const c=({expirationTimestamp:e,trialExpiration:t,openModal:a,cluster:l,OSDRHMExpiration:r})=>{const c=i().utc(),m=i().utc(e),p=m.diff(c,"hour"),f=c.to(m),E=m.local().format("dddd, MMMM Do YYYY, h:mm a");if(p<=0)return n().createElement(s.F,{id:"expiration-alert",className:"pf-v5-u-mt-md",variant:"warning",isInline:!0,title:"Cluster failed to delete","data-testid":"expiration-alert-passed",role:"alert"},n().createElement(n().Fragment,null,`This cluster should have been deleted ${f} but is still running.`," ",n().createElement(u.default,{href:"https://access.redhat.com/support/"},"Contact our customer support"),"."));let g;switch(!0){case p<24:g="danger";break;case p<48&&p>=24:g="warning";break;default:g="info"}let v=`This cluster is scheduled for deletion on ${E}`;return r?v=n().createElement(n().Fragment,null,"Your cluster subscription was purchased from Red Hat Marketplace and will expire on",` ${E}. `,"Once expired, the cluster will be deleted permanently. To avoid deletion, please purchase a new subscription from the"," ",n().createElement(u.default,{href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated"},"Red Hat Marketplace")," ","before the expiration date."):t&&(v=`Your free trial cluster will automatically be deleted on ${E}. Upgrade your cluster at any time to prevent deletion.`),n().createElement(s.F,{id:"expiration-alert",className:"pf-v5-u-mt-md",variant:g,isInline:!0,title:`This cluster will be deleted ${f}.`,"data-testid":"expiration-alert-will-delete",role:"alert"},n().createElement("p",null,v),t&&n().createElement(o.$n,{variant:"secondary",className:"pf-v5-u-mt-sm","data-testid":"trial-button",onClick:()=>null==a?void 0:a(d.default.UPGRADE_TRIAL_CLUSTER,{title:"Upgrade cluster from Trial",clusterID:null==l?void 0:l.id,cluster:l})},"Upgrade from trial"))}},13028:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(30666),i=a(93973),s=a(70460),o=a(8888);const u=({summary:e})=>{var t;const a=null===(t=null==e?void 0:e.match(/'([^']+)'/))||void 0===t?void 0:t[1];return n().createElement(r.B,null,n().createElement(i.o,{isFilled:!0},n().createElement(s.F,{id:"gcp-org-policy-alert",variant:"warning",className:"pf-v5-u-mt-md",isInline:!0,title:n().createElement(n().Fragment,null,"Your installation might be affected by the"," ",n().createElement(o.default,{href:"https://cloud.google.com/resource-manager/docs/organization-policy/overview"},"GCP Organization Policy Service"))},n().createElement(n().Fragment,null,"OCM is unable to determine whether the GCP organization contains any policies that would affect the installation without the GCP Org Policy API enabled. Enable the"," ",n().createElement(o.default,{href:"https://cloud.google.com/resource-manager/docs/reference/orgpolicy/rest"},"Organization Policy API")," ","for the GCP project '",a,"'"))))}},49791:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(93345),n=a.n(l),r=a(70460),i=a(47482),s=a(32034),o=a(78755),u=a(1319),d=a(65702),c=a(72432),m=a(8888);const p=({limitedSupportReasons:e,isROSA:t,isOSD:a})=>{const l=n().useMemo((()=>(null==e?void 0:e.filter((e=>{var t;return!(null===(t=e.override)||void 0===t?void 0:t.enabled)})))||[]),[e]);return l.length?n().createElement(r.F,{id:"limited-support-alert",variant:"danger",className:"pf-v5-u-mt-md",isInline:!0,role:"alert",isExpandable:l.length>1,title:`This cluster has limited support${l.length>1?" due to multiple reasons":""}.`,actionLinks:t||a?n().createElement(m.default,{href:t?d.default.ROSA_LIMITED_SUPPORT_DEFINITION:d.default.OSD_LIMITED_SUPPORT_DEFINITION},"Learn more"):null},n().createElement(i.B,null,l.map(((e,t)=>n().createElement(s.W,{key:`reason-${t}`,"data-testid":"dl-group"},e.summary?n().createElement(o.X,null,e.summary):null,e.details?n().createElement(u.d,null,n().createElement(c.A,null,e.details)):null))))):null}},11027:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(93345),n=a.n(l),r=a(71468),i=a(70460),s=a(30155),o=a(53034),u=a(75166),d=a(2479),c=a(25514),m=a(59067);const p=({subscription:e})=>{const t=(0,r.wA)(),a=(0,c.useGlobalState)((e=>e.userProfile.selfTermsReviewResult)),[p,f]=(0,l.useState)(void 0),E=e=>{var t,a;return e.status!==m.SubscriptionCommonFields.status.DEPROVISIONED&&[u.normalizedProducts.OSD,u.normalizedProducts.RHMI,u.normalizedProducts.ROSA].includes(null!==(a=null===(t=e.plan)||void 0===t?void 0:t.type)&&void 0!==a?a:"")};return(0,l.useEffect)((()=>{void 0!==p&&e.id===p.id||!E(e)||t((0,d.selfTermsReview)()),f(e)}),[e,p,t]),E(e)&&a.fulfilled&&a.terms_required?n().createElement(i.F,{id:"terms-alert",variant:"warning",isInline:!0,title:"You must accept the Terms and Conditions",actionLinks:n().createElement(s.v,{key:"terms-alert-link",component:"a",href:(g=a.redirect_url,(0,o.A)(g,window.location.href,window.location.href)),"data-testid":"terms-alert-link"},"View Terms and Conditions"),"data-testid":"terms-alert"},n().createElement("p",null,"Access to this cluster will be read-only until you accept the Terms and Conditions.")):null;var g}},10402:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(93345),n=a.n(l),r=a(58156),i=a.n(r),s=a(70460),o=a(69304),u=a(75166),d=a(8888),c=a(59067);const m=({subscription:e})=>{if(![u.normalizedProducts.OCP,u.normalizedProducts.ARO].includes(i()(e,"plan.type",""))||!(null==e?void 0:e.released))return null;const t=e.status===c.SubscriptionCommonFields.status.DISCONNECTED?n().createElement(n().Fragment,null,"The transfer process will complete after"," ",n().createElement(o.Link,{to:"/register","data-testid":"link"},"registering")," ","the cluster again using the same id."):n().createElement(n().Fragment,null,"The transfer process will complete once the pull secret has been changed in the cluster. See"," ",n().createElement(d.default,{href:"https://access.redhat.com/solutions/4902871","data-testid":"external-link"},"this knowledgebase article")," ","for instructions on how to change the pull secret.");return n().createElement(s.F,{id:"transfer-cluster-ownership-alert",className:"pf-v5-u-mt-md",variant:"info",isInline:!0,title:"Cluster ownership transfer initiated"},t)}},90090:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ee});var l=a(93345),n=a.n(l),r=a(62193),i=a.n(r),s=a(47091),o=a.n(s),u=a(71468),d=a(60915),c=a(66312),m=a(6229),p=a(10423),f=a(983),E=a(63802),g=a(33675),v=a(86130),h=a(80234),b=a(57691),S=a(69304),_=a(27241),C=a(25514),y=a(93413),I=a(10135),A=a(22916),R=a(55816),T=a(63240),O=a(96346),P=a(61252),D=a(1122),L=a(8028),N=a(74353),w=a.n(N),M=a(55318),k=a(75279),F=a(22069),x=a(99145),G=a(68472),U=a(97192),j=a(76792),H=a(11318),V=a(74160),q=a(94935),z=a(69673),B=a(73683),W=a(15402),$=a(2442),Y=a(72432),K=a(8888),Q=a(38260);const Z=[{title:"Description",sortTitle:"summary"},{title:"Type",sortTitle:"log_type"},{title:"Severity",sortTitle:"severity"},{title:"Logged by",sortTitle:"username||created_by"},{title:"Date",sortTitle:"timestamp"}],X=({logs:e,setSorting:t,pending:a,refreshEvent:l})=>{const[r,i]=n().useState([]),[s,o]=n().useState(!1),[u,d]=n().useState(Z.findIndex((e=>"timestamp"===e.sortTitle))+1),[c,m]=n().useState(V.l.desc);n().useEffect((()=>{a||(o(!0),l.type!==Q.eventTypes.NONE&&l.reset())}),[l,a]);const p=e=>r.includes(e.id),f=a&&(l.type===Q.eventTypes.NONE||!s);return n().createElement(M.a,null,f?n().createElement(x.y,{size:"lg"}):n().createElement(z.X,{"aria-label":"Expandable table",variant:B.a.compact},n().createElement(W.d,null,n().createElement(j.Tr,null,n().createElement($.Th,{"aria-label":"Expand/Collapse action"}),Z.map(((e,a)=>{return n().createElement($.Th,{sort:(l=a+1,{sortBy:{index:u,direction:c},onSort:(e,a,l)=>{const n={isAscending:l===V.l.asc,sortField:Z[a-1].sortTitle,sortIndex:a};t(n),d(a),m(n.isAscending?V.l.asc:V.l.desc)},columnIndex:l}),key:e.title},e.title);var l})))),(null==e?void 0:e.length)?e.map(((e,t)=>((e,t)=>{const{summary:a,severity:l,timestamp:s,description:o,username:u,created_by:d,internal_only:c,log_type:m,doc_references:f}=e,E=w().utc(s).format("D MMM YYYY, HH:mm UTC"),g=f&&f.length>0?n().createElement(n().Fragment,null,n().createElement(F.E,{"data-testid":`references_${t}`,className:"cluster-log__resources",component:F.Y.h2},n().createElement("strong",null,"References:")),n().createElement("ul",null,f.map((e=>n().createElement("li",{key:e},n().createElement(K.default,{href:e},e)))))):null,v=c;return n().createElement(U.N,{className:v?"pf-v5-u-background-color-danger":void 0,key:t},n().createElement(j.Tr,null,n().createElement(H.Td,{expand:{rowIndex:t,isExpanded:p(e),onToggle:()=>{((e,t=!0)=>{const a=r.filter((t=>t!==e.id)),l=t?[...a,e.id]:a;i(l)})(e,!p(e))}}}),n().createElement(H.Td,null,a," ",v?n().createElement(G.PX,null):null),n().createElement(H.Td,null,m),n().createElement(H.Td,null,l),n().createElement(H.Td,null,u||d),n().createElement(H.Td,null,E)),n().createElement(j.Tr,{isExpanded:p(e)},n().createElement(H.Td,{className:"cluster-log",colSpan:Z.length+1},n().createElement(q.g,null,n().createElement(Y.A,null,o),g))))})(e,t))):(E=Z.length+1,n().createElement(U.N,null,n().createElement(j.Tr,null,n().createElement(H.Td,{colSpan:E},n().createElement(M.a,null,n().createElement(g.p,{variant:g.s.sm},n().createElement(v.o,{titleText:"No results found",icon:n().createElement(h.q,{icon:b.SearchIcon}),headingLevel:"h2"}),n().createElement(k.h,null,"No results match the filter criteria. Remove all filters or clear all filters to show results.")))))))));var E};var J=a(80931);const ee=({externalClusterID:e,clusterID:t,createdAt:a,refreshEvent:l,isVisible:r})=>{const s=(0,S.useNavigate)(),N=(0,u.wA)(),w=A.viewConstants.CLUSTER_LOGS_VIEW,{requestState:M,fetchedClusterLogsAt:k,logs:F}=(0,C.useGlobalState)((e=>e.clusterLogs)),x=(0,C.useGlobalState)((e=>e.viewOptions[w])),[G,U]=n().useState(!1),[j,H]=n().useState(x),[V,q]=n().useState(!1),[z,B]=n().useState(!1);return n().useEffect((()=>{const e=(0,I.getQueryParam)("severityTypes")||"",t=(0,I.getQueryParam)("logTypes")||"";let l;i()(e)&&i()(t)||(U(!0),N(_.viewActions.onListFlagsSet("conditionalFilterFlags",{severityTypes:i()(e)?[]:e.split(",").filter((e=>L.SEVERITY_TYPES.includes(e))),logTypes:i()(t)?[]:t.split(",").filter((e=>L.LOG_TYPES.includes(e)))},w)));const n=(0,I.getQueryParam)("loggedBy")||"",r=(0,I.getQueryParam)("description")||"",s=(0,I.getQueryParam)("timestampFrom")||"",o=(0,I.getQueryParam)("timestampTo")||"";if(i()(n)&&i()(r)&&i()(s)&&i()(o)||(l={loggedBy:n,description:r,timestampFrom:s,timestampTo:o}),a&&!i()(s)){const e=(0,P.dateParse)(a),{symbol:t,date:n}=(0,P.onDateChangeFromFilter)((0,P.dateFormat)((0,P.getTimestampFrom)(e)));l={...null!=l?l:{},timestampFrom:`${t} '${n}'`}}l&&(U(!0),N(_.viewActions.onListFilterSet(l,w)))}),[a,N,w]),n().useEffect((()=>{!(0,I.viewPropsChanged)(x,j)||M.pending&&(G||!e&&!t)||(N(D.clusterLogActions.getClusterHistory(e,t,x)),H(x))}),[N,j,M.pending,G,e,t,H,x]),n().useEffect((()=>{M.error&&q([403,404].includes(M.errorCode))}),[M]),n().useEffect((()=>{const e=i()(x.filter)&&y.default.nestedIsEmpty(x.flags);B(!o()(F)&&M.pending&&e)}),[F,M.pending,x.filter,x.flags]),n().useEffect((()=>{if(!0===r){const e=Object.entries(x.filter).filter((e=>["description","loggedBy","timestampFrom","timestampTo"].includes(e[0])&&e[1])).reduce(((e,t)=>({...e,[`${t[0]}`]:[t[1]]})),{});s({hash:"#clusterHistory",search:(0,I.buildFilterURLParams)({...e,...x.flags.conditionalFilterFlags||{}})},{replace:!0})}}),[r,x.flags.conditionalFilterFlags,x.filter,s]),n().createElement(d.Z,{className:"ocm-c-overview-cluster-history__card"},n().createElement(c.a,{actions:{actions:n().createElement(n().Fragment,null,"Updated ",k&&n().createElement(T.A,{timestamp:k.getTime()})),hasNoOffset:!1},className:"ocm-c-overview-cluster-history__card--header"},n().createElement(m.Z,{className:"ocm-c-overview-cluster-history__card--header"},n().createElement(p.h,{headingLevel:"h2",className:"card-title","data-testid":"cluster_history_title"},"Cluster history"))),n().createElement(f.b,{className:"ocm-c-overview-cluster-history__card--body"},M.error&&!V&&n().createElement(R.default,{message:"Error retrieving cluster logs",response:{errorMessage:M.errorMessage,operationID:M.operationID}}),n().createElement(J.A,{view:w,externalClusterID:e,isPendingNoData:z,clusterID:t,logs:null==F?void 0:F.length}),M.error&&!o()(F)&&V?n().createElement(E.d8,null,n().createElement(g.p,null,n().createElement(v.o,{titleText:"No cluster log entries found",icon:n().createElement(h.q,{icon:b.default}),headingLevel:"h4"}))):n().createElement(n().Fragment,null,n().createElement(X,{pending:M.pending,logs:F,setSorting:e=>N(_.viewActions.onListSortBy(e,w)),refreshEvent:l}),n().createElement(O.default,{viewType:w,currentPage:x.currentPage,pageSize:x.pageSize,totalCount:x.totalCount,totalPages:x.totalPages,variant:"bottom",isDisabled:z}))))}},1122:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clusterLogActions:()=>s});var l=a(77475),n=a(10135),r=a(22916),i=a(47379);const s={getClusterHistory:(e,t,a)=>(0,l.action)(r.clusterLogConstants.GET_CLUSTER_LOGS,i.A.getClusterHistory(e,t,(0,n.createServiceLogQueryObject)(a)).then((t=>({externalClusterID:e,logs:t})))),resetClusterHistory:()=>(0,l.action)(r.clusterLogConstants.RESET_CLUSTER_HISTORY)}},8028:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GET_CLUSTER_LOGS:()=>n,LOG_TYPES:()=>s,RESET_CLUSTER_HISTORY:()=>r,SEVERITY_TYPES:()=>i,default:()=>o});var l=a(41493);const n="GET_CLUSTER_LOGS",r="RESET_CLUSTER_HISTORY",i=["Debug","Info","Warning","Error","Major","Critical","Fatal"],s=Object.values(l.z.log_type).sort(((e,t)=>e.localeCompare(t,void 0,{sensitivity:"case"}))),o={GET_CLUSTER_LOGS:n,SEVERITY_TYPES:i,LOG_TYPES:s,RESET_CLUSTER_HISTORY:r}},83784:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var l=a(93345),n=a.n(l),r=a(74353),i=a.n(r),s=a(72583),o=a(16165),u=a(90678),d=a(73113),c=a(56780),m=a(47914),p=a(70460),f=a(10135),E=a(73410);const g=({externalClusterID:e,clusterID:t,viewOptions:a,logs:l})=>{const[r,g]=n().useState(!1),[v,h]=n().useState("json"),[b,S]=n().useState(!1),[_,C]=n().useState(!1),y=()=>{g(!1),S(!1)};return n().createElement(n().Fragment,null,n().createElement(s.$n,{isDisabled:!l,variant:"primary",onClick:()=>g(!0),"data-testid":"download-btn"},"Download history"),r&&n().createElement(o.a,{variant:"small",title:"Download cluster history",isOpen:!0,onClose:_?void 0:y,actions:[n().createElement(s.$n,{"data-testid":"submit-btn",key:"download",variant:"primary",onClick:async()=>{const l=(0,f.createServiceLogQueryObject)({...a,currentPage:1,pageSize:-1},v);try{C(!0),S(!1);const{data:a}=await E.serviceLogService.getClusterHistory(e,t,l),n=i()().format("YYYY-MM-DD HHmm");let r=a;"json"===v&&(r=JSON.stringify(a));const s=new Blob([r],{type:"octet/stream"}),o=document.createElement("a");o.setAttribute("href",window.URL.createObjectURL(s)),o.setAttribute("download",`${e||t}.${n}.${v}`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),y()}catch(e){S(!0)}finally{C(!1)}},isDisabled:_,isLoading:_,spinnerAriaLabel:"Loading cluster logs"},"Download"),n().createElement(s.$n,{key:"close",variant:"link",onClick:y,isDisabled:_},"Cancel")]},n().createElement(u.B,{hasGutter:!0},n().createElement(d.a,null,n().createElement(c.g,{label:"Choose a file type"},n().createElement(m.s,{id:"json-format",isChecked:"json"===v,name:"format",onChange:(e,t)=>t&&h("json"),label:"JSON",isDisabled:_}),n().createElement(m.s,{id:"csv-format",isChecked:"csv"===v,name:"format",onChange:(e,t)=>t&&h("csv"),label:"CSV",isDisabled:_}))),b&&n().createElement(d.a,null,n().createElement(p.F,{variant:"danger",title:"Unable to download records",isInline:!0})))))}},45255:(e,t,a)=>{"use strict";a.r(t),a.d(t,{IDPNeedsOAuthURL:()=>p,IDPObjectNames:()=>d,IDPTypeNames:()=>o,IDPformValues:()=>i,generateIDPName:()=>f,getCreateIDPRequestData:()=>g,getGitHubTeamsAndOrgsData:()=>b,getInitialValuesForEditing:()=>_,getOauthCallbackURL:()=>m,getOpenIdClaims:()=>v,getldapAttributes:()=>h,getldapca:()=>E,isEmptyReduxArray:()=>S,mappingMethods:()=>c,mappingMethodsformValues:()=>s,singularFormIDP:()=>u});var l=a(62193),n=a.n(l),r=a(93413);const i={GITHUB:"GithubIdentityProvider",GOOGLE:"GoogleIdentityProvider",OPENID:"OpenIDIdentityProvider",LDAP:"LDAPIdentityProvider",GITLAB:"GitlabIdentityProvider",HTPASSWD:"HTPasswdIdentityProvider"},s={CLAIM:"claim",LOOKUP:"lookup",GENERATE:"generate",ADD:"add"},o={[i.GITHUB]:"GitHub",[i.GOOGLE]:"Google",[i.OPENID]:"OpenID",[i.LDAP]:"LDAP",[i.GITLAB]:"GitLab",[i.HTPASSWD]:"htpasswd"},u={[i.GITHUB]:"a GitHub",[i.GOOGLE]:"a Google",[i.OPENID]:"an OpenID",[i.LDAP]:"an LDAP",[i.GITLAB]:"a GitLab",[i.HTPASSWD]:"an HTPasswd"},d={[i.GITHUB]:"github",[i.GOOGLE]:"google",[i.OPENID]:"open_id",[i.LDAP]:"ldap",[i.GITLAB]:"gitlab",[i.HTPASSWD]:"htpasswd"},c=[{name:s.CLAIM,value:s.CLAIM},{name:s.LOOKUP,value:s.LOOKUP},{name:s.GENERATE,value:s.GENERATE},{name:s.ADD,value:s.ADD}],m=(e,t,a)=>{const l=a?e.api:e.console;if(!t||!l)return"";const n=(l.endsWith("/")?l:`${l}/`).split(".");if(n[0]="https://oauth"+(a?"":"-openshift"),a&&!(e=>e===o[i.OPENID])(t)){const e=n[n.length-1];-1!==e.indexOf(":")&&(n[n.length-1]=`${e.split(":")[0]}/`)}return`${n.join(".")}oauth2callback/${t}`},p=e=>![i.LDAP,i.HTPASSWD].includes(null!=e?e:""),f=(e,t)=>{const a=t.map((e=>e.name));let l=0;const n=o[e];if(!a.includes(n))return n;let r=`${n}-${l+1}`;for(;a.includes(r);)l+=1,r=`${n}-${l+1}`;return r},E=e=>e.ldap_ca?e.ldap_insecure?"":e.ldap_ca.trim():e.ldap_ca,g=e=>{const t={GithubIdentityProvider:{name:"github",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),organizations:"organizations"===e.github_auth_mode?(0,r.multiInputToCleanArray)(e,"organizations"):void 0,teams:"teams"===e.github_auth_mode?(0,r.multiInputToCleanArray)(e,"teams"):void 0,hostname:e.hostname,ca:e.github_ca?e.github_ca.trim():e.github_ca})},GoogleIdentityProvider:{name:"google",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),hosted_domain:e.hosted_domain})},OpenIDIdentityProvider:{name:"open_id",data:()=>({ca:e.openid_ca?e.openid_ca.trim():e.openid_ca,claims:{email:(0,r.multiInputToCleanArray)(e,"openid_email"),name:(0,r.multiInputToCleanArray)(e,"openid_name"),preferred_username:(0,r.multiInputToCleanArray)(e,"openid_preferred_username")},client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),extra_scopes:(0,r.strToCleanArray)(e.openid_extra_scopes),issuer:e.issuer})},LDAPIdentityProvider:{name:"ldap",data:()=>({attributes:{id:(0,r.multiInputToCleanArray)(e,"ldap_id"),email:(0,r.multiInputToCleanArray)(e,"ldap_email"),name:(0,r.multiInputToCleanArray)(e,"ldap_name"),preferred_username:(0,r.multiInputToCleanArray)(e,"ldap_preferred_username")},bind_dn:e.bind_dn,bind_password:e.bind_password,insecure:e.ldap_insecure,url:e.ldap_url,ca:E(e)})},GitlabIdentityProvider:{name:"gitlab",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),url:e.gitlab_url,ca:e.gitlab_ca?e.gitlab_ca.trim():e.gitlab_ca})},HTPasswdIdentityProvider:{name:"htpasswd",data:()=>{var t;return{users:{items:null===(t=e.users)||void 0===t?void 0:t.map((e=>({username:e.username,password:e.password})))}}}}},a={type:e.type,name:e.name,id:e.idpId,mapping_method:void 0},l=t[e.type].data(),n=t[e.type].name;return"htpasswd"!==n&&(a.mapping_method=e.mappingMethod||s.CLAIM),e.idpId&&""!==e.idpId&&(delete a.name,"CLIENT_SECRET"===l.client_secret&&delete l.client_secret,l.bind_password&&"BIND_PASSWORD"===l.bind_password&&delete l.bind_password),{...a,[n]:{...l}}},v=(e,t)=>{const a=null==e?void 0:e[t];if(null==a?void 0:a.length)switch(t){case"name":return a.map(((e,t)=>({id:t,openid_name:e})));case"email":return a.map(((e,t)=>({id:t,openid_email:e})));case"preferred_username":return a.map(((e,t)=>({id:t,openid_preferred_username:e})))}return[]},h=(e,t)=>{const a=e?e[t]:void 0;if(a)switch(t){case"name":return a.map(((e,t)=>({id:t,ldap_name:e})));case"email":return a.map(((e,t)=>({id:t,ldap_email:e})));case"preferred_username":return a.map(((e,t)=>({id:t,ldap_preferred_username:e})));case"id":return a.map(((e,t)=>({id:t,ldap_id:e})))}return[]},b=e=>e.teams?e.teams.map(((e,t)=>({id:t,teams:e}))):e.organizations?e.organizations.map(((e,t)=>({id:t,organizations:e}))):[],S=(e,t)=>!!e&&e.map((e=>n()(e[t]))).every((e=>e)),_=(e,t)=>{var a,l,n,r,i,s,o,u,d,c,m,p,f,E,g,S,_,C,y,I,A,R,T,O,P,D,L,N,w,M,k;if(!t)return{};const F={idpId:e.id,type:e.type,name:e.name,client_secret:"CLIENT_SECRET",mappingMethod:e.mapping_method,selectedIDP:e.type};switch(t){case"gitlab":return{...F,gitlab_url:null===(a=e[t])||void 0===a?void 0:a.url,client_id:null===(l=e[t])||void 0===l?void 0:l.client_id};case"open_id":return{...F,issuer:null===(n=e[t])||void 0===n?void 0:n.issuer,openid_name:v(null===(r=e[t])||void 0===r?void 0:r.claims,"name"),openid_email:v(null===(i=e[t])||void 0===i?void 0:i.claims,"email"),openid_preferred_username:v(null===(s=e[t])||void 0===s?void 0:s.claims,"preferred_username"),openid_extra_scopes:(null===(o=e[t])||void 0===o?void 0:o.extra_scopes)?null===(d=null===(u=e[t])||void 0===u?void 0:u.extra_scopes)||void 0===d?void 0:d.join():"",openid_ca:null===(c=e[t])||void 0===c?void 0:c.ca,client_id:null===(m=e[t])||void 0===m?void 0:m.client_id};case"google":return{...F,hosted_domain:null===(p=e[t])||void 0===p?void 0:p.hosted_domain,client_id:null===(f=e[t])||void 0===f?void 0:f.client_id};case"ldap":return{...F,ldap_id:h(null!==(g=null===(E=e[t])||void 0===E?void 0:E.attributes)&&void 0!==g?g:{},"id"),ldap_preferred_username:h(null!==(_=null===(S=e[t])||void 0===S?void 0:S.attributes)&&void 0!==_?_:{},"preferred_username"),ldap_name:h(null!==(y=null===(C=e[t])||void 0===C?void 0:C.attributes)&&void 0!==y?y:{},"name"),ldap_email:h(null!==(A=null===(I=e[t])||void 0===I?void 0:I.attributes)&&void 0!==A?A:{},"email"),ldap_url:null===(R=e[t])||void 0===R?void 0:R.url,bind_dn:null===(T=e[t])||void 0===T?void 0:T.bind_dn,bind_password:(null===(O=e[t])||void 0===O?void 0:O.bind_dn)?"BIND_PASSWORD":"",ldap_ca:null===(P=e[t])||void 0===P?void 0:P.ca,ldap_insecure:null===(D=e[t])||void 0===D?void 0:D.insecure};case"github":return{...F,hostname:null===(L=e[t])||void 0===L?void 0:L.hostname,teams:b(null!==(N=e[t])&&void 0!==N?N:{}),organizations:b(null!==(w=e[t])&&void 0!==w?w:{}),github_ca:null===(M=e[t])||void 0===M?void 0:M.ca,client_id:null===(k=e[t])||void 0===k?void 0:k.client_id}}return F}},20021:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ACCEPT:()=>f,MAX_FILE_SIZE:()=>p,default:()=>E});var l=a(93345),n=a.n(l),r=a(56780),i=a(35253),s=a(53642),o=a(23285),u=a(72583),d=a(65843),c=a(74688),m=a(38715);const p=4e6,f=".pem,.crt,.ca,.cert,application/x-pem-file,application/x-x509-ca-cert,text/plain",E=({label:e,helpText:t="",isDisabled:a,input:l,isRequired:E=!1,certValue:g,maxFileSize:v=p})=>{const h="pf-v5-c-button pf-m-tertiary co-btn-file",[b,S]=n().useState(""),[_,C]=n().useState(""),[y,I]=n().useState(""),[A,R]=n().useState(!1),[T,O]=n().useState(h),[P,D]=n().useState(!1);n().useEffect((()=>{g&&""!==g&&(I(g),R(!0))}),[g]),n().useEffect((()=>{O(a?`${h} pf-m-disabled`:h)}),[a]),n().useEffect((()=>{D(!a&&""!==y&&A)}),[a,y,A]);const L=e=>R(e);return n().createElement(r.g,{className:"ca-upload",fieldId:l.name,label:e,isRequired:E,"data-testid":"ca-upload-form"},n().createElement(i.M,null,n().createElement(s.b,{isFill:!0},n().createElement(o.ks,{value:b,isRequired:E,id:l.name,name:l.name,readOnlyVariant:"default"})),n().createElement(s.b,null,n().createElement("span",{className:T},n().createElement("input",{type:"file",name:"file_input",onChange:e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a)if(a.size>v)C(`Maximum file size exceeded. File size limit is ${(0,c.humanizeValueWithoutUnit)(v)}`);else{const e=new FileReader;e.onload=()=>{S(a.name),C(""),I(e.result),R(!0),l.onChange(e.result)},e.readAsText(a,"UTF-8")}e.currentTarget.value=""},disabled:a,accept:f,"data-testid":"ca-upload-input-file"}),"Browse"),n().createElement(u.$n,{onClick:()=>{S(""),I("")}},"Clear"))),P?n().createElement(n().Fragment,null,n().createElement(u.$n,{variant:"link",onClick:()=>L(!1)},"Hide"),n().createElement(d.fs,{value:y,id:`${l.name}_text`,name:`${l.name}_text`,onChange:(e,t)=>(e=>{l.onChange(e||" "),S(""),I(e)})(t),className:"ca-textarea",readOnly:!0})):n().createElement(u.$n,{variant:"link",onClick:()=>L(!0),isDisabled:""===y||a},"Reveal"),n().createElement(m.FormGroupHelperText,{touched:!0,error:_},t))}},19436:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(21702),i=a(23215),s=a(84037),o=a(38871);const u=({isPending:e=!1})=>n().createElement(n().Fragment,null,n().createElement(i.E,{span:8},n().createElement(r.A,{component:o.default,name:"client_id",label:"Client ID",type:"text",validate:s.required,isRequired:!0,disabled:e})),n().createElement(i.E,{span:8},n().createElement(r.A,{component:o.default,name:"client_secret",label:"Client secret",type:"password",validate:s.required,isRequired:!0,disabled:e})))},20899:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GET_CLUSTER_INSIGHTS:()=>l,GET_ORGANIZATION_INSIGHTS:()=>n,INSIGHTS_RULE_CATEGORIES:()=>r});const l="GET_CLUSTER_INSIGHTS",n="GET_ORGANIZATION_INSIGHTS",r=[{title:"Performance",tags:["performance"]},{title:"Service Availability",tags:["service_availability"]},{title:"Security",tags:["security"]},{title:"Fault Tolerance",tags:["fault_tolerance"]}]},88145:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var l=a(93345),n=a.n(l),r=a(70460);const i=({hasClusterAutoScaler:e,hasAutoscalingMachinePools:t,isEnabledOnCurrentPool:a,warningType:l})=>{let i="",s="";switch(l){case"clusterView":e&&!t&&(s="Cluster will not autoscale",i="The cluster autoscaling settings will not have any effect as no machine pools are set to autoscale.");break;case"addMachinePool":case"editMachinePool":!e||a||t||(s="Cluster will not autoscale",i="Without machine pools which are configured to autoscale, the cluster autoscaler settings will not have any effect on the cluster.")}return i?n().createElement(r.F,{"data-testid":"inconsistent-autoscaling-settings",variant:"warning",isInline:!0,title:s},i):null}},84692:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(93745),i=a(72583);const s=({isMultiZoneCluster:e,machinePool:t})=>{if(!t.autoscaling)return`${t.desired||t.replicas}`;const a=`Min: ${t.autoscaling.min_replicas}, Max: ${t.autoscaling.max_replicas}`;return e?n().createElement(r.A,{bodyContent:"Minimum and maximum node totals are calculated based on the number of zones.","aria-label":"help"},n().createElement(i.$n,{className:"nodes-count",variant:"link"},a)):a}},45492:(e,t,a)=>{"use strict";a.r(t),a.d(t,{UpdateAllMachinePools:()=>v,UpdateMachinePoolModal:()=>P,UpdatePoolButton:()=>O});var l=a(93345),n=a.n(l),r=a(71468),i=a(99589),s=a.n(i),o=a(70460),u=a(99145),d=a(30155),c=a(65702),m=a(69304),p=a(8888),f=a(38260),E=a(80697),g=a(3290);const v=({initialErrorMessage:e,goToMachinePoolTab:t})=>{var a,l;const i=(0,r.wA)(),[v,h]=n().useState(!1),[b,S]=n().useState(e?[e]:[]),_=(0,g.useHCPControlPlaneUpdating)(),C=(0,r.d4)(g.controlPlaneIdSelector),y=(0,r.d4)((e=>(0,g.controlPlaneVersionSelector)(e))),I=(0,r.d4)((e=>{var t;return null===(t=e.machinePools)||void 0===t?void 0:t.getMachinePools})),A=(0,r.d4)((e=>(0,f.isHypershiftCluster)(e.clusters.details.cluster)));if(_)return null;const R=(null===(a=I.data)||void 0===a?void 0:a.filter((e=>{var t;return(0,g.compareIsMachinePoolBehindControlPlane)(y,null===(t=e.version)||void 0===t?void 0:t.id)&&(0,g.isControlPlaneValidForMachinePool)(e,y)&&!(0,g.isMachinePoolScheduleError)(e)&&!(0,g.isMachinePoolUpgrading)(e)})))||[];return 0===R.length?null:n().createElement(n().Fragment,null,!v&&b.length>0?n().createElement(o.F,{title:"Some machine pools could not be updated",variant:o.w.danger,isExpandable:!0,isInline:!0,role:"alert",className:"pf-v5-u-mt-md","data-testid":"alert-danger"},b.map(((e,t)=>n().createElement("p",{key:t},e)))):null,n().createElement(o.F,{className:t?"pf-v5-u-mb-lg":"pf-v5-u-mt-lg",isExpandable:!0,isInline:!0,role:"alert",variant:o.w.warning,title:"Update available for Machine pools","data-testid":"alert-warning",actionLinks:n().createElement(n().Fragment,null,v&&!t?n().createElement(u.y,{size:"sm","aria-label":"Updating machine pools"}):null,v||t?null:n().createElement(d.v,{onClick:()=>(async()=>{h(!0);const e=await(0,g.updateAllMachinePools)(R,C,y);h(!1),S(e),i((0,E.getMachineOrNodePools)(C,A,y))})(),"data-testid":"btn-update-all"},"Update all Machine pools now"),t?n().createElement(m.Link,{to:`/details/${C}#machinePools`},"Go to Machine pools list"):null)},n().createElement("p",null,"You can update all worker nodes to the current control plane version (",null===(l=s().coerce(y))||void 0===l?void 0:l.version,"), or use the CLI to update a specific version."," ",n().createElement(p.default,{href:c.default.ROSA_UPGRADES},"Learn more about updates"))))};var h=a(72583),b=a(60502),S=a(67209),_=a(23271),C=a(28592),y=a(91089),I=a(43775),A=a(14419),R=a(55213);const T=I.default.UPDATE_MACHINE_POOL_VERSION,O=({machinePool:e})=>{var t,a,l;const i=(0,r.wA)(),s=(0,r.d4)((e=>(0,g.controlPlaneVersionSelector)(e))),o=(0,r.d4)((t=>(0,g.canMachinePoolBeUpgradedSelector)(t,e))),u=(0,g.useIsControlPlaneValidForMachinePool)(e),d=(0,g.isMachinePoolUpgrading)(e);if(o)return n().createElement(h.$n,{variant:h.Ak.link,isInline:!0,onClick:()=>i(y.modalActions.openModal(T,{machinePool:e}))},"Update ",n().createElement(b.OutlinedArrowAltCircleUpIcon,null));if((0,g.isMachinePoolScheduleError)(e))return n().createElement(R.default,{iconClassName:"pf-v5-u-ml-sm",isError:!0,hint:null===(t=e.upgradePolicies)||void 0===t?void 0:t.errorMessage});if(!u)return n().createElement(R.default,{iconClassName:"pf-v5-u-ml-sm",hint:`This machine pool cannot be updated because there isn't a migration path to version ${s}`});if(d){const t="This machine pool is scheduled to be updated",r=null===(l=null===(a=e.upgradePolicies)||void 0===a?void 0:a.items)||void 0===l?void 0:l[0];return(null==r?void 0:r.next_run)&&(null==r?void 0:r.version)?n().createElement(R.default,{iconClassName:"pf-v5-u-ml-sm",hint:n().createElement(n().Fragment,null,t," at ",n().createElement(S.A,{type:"exact",date:Date.parse(r.next_run)})," ","to version ",r.version)}):n().createElement(R.default,{iconClassName:"pf-v5-u-ml-sm",hint:t})}return null},P=()=>{const[e,t]=n().useState(!1),[a,l]=n().useState(""),i=(0,r.d4)((e=>(0,_.isHypershiftCluster)(e.clusters.details.cluster))),s=(0,r.d4)(g.controlPlaneIdSelector),u=(0,r.d4)((e=>(0,g.controlPlaneVersionSelector)(e))),d=(0,r.d4)((e=>(0,A.default)(e,T))),c=(0,r.d4)((e=>e.modal.data)),{machinePool:m}=c,p=(0,r.wA)(),f=()=>{p(y.modalActions.closeModal()),l(""),t(!1)};return n().useEffect((()=>function(){f()}),[]),d?n().createElement(C.default,{variant:"small",title:"Update machine pool",onClose:()=>f(),primaryText:"Update machine pool",secondaryText:"Cancel",onPrimaryClick:async()=>{t(!0);const e=await(0,g.updateAllMachinePools)([m],s,u||"");t(!1),l(e[0]||""),p((0,E.getMachineOrNodePools)(s,i,u)),e[0]||p(y.modalActions.closeModal())},onSecondaryClick:()=>f(),isPrimaryDisabled:e||!!a,isPending:e},!e&&a?n().createElement(o.F,{title:`Machine pool ${m.id} could not be updated`,variant:o.w.danger,isExpandable:!0,isInline:!0,role:"alert",className:"pf-v5-u-mt-md"},n().createElement("p",null,a)):n().createElement("p",null,"Update machine pool ",m.id," to version"," ",(0,g.displayControlPlaneVersion)(u),"?")):null}},3290:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canMachinePoolBeUpgradedSelector:()=>y,compareIsMachinePoolBehindControlPlane:()=>E,controlPlaneIdSelector:()=>d,controlPlaneVersionSelector:()=>c,displayControlPlaneVersion:()=>m,isControlPlaneValidForMachinePool:()=>b,isHCPControlPlaneUpdating:()=>p,isMachinePoolBehindControlPlane:()=>g,isMachinePoolScheduleError:()=>C,isMachinePoolUpgrading:()=>_,updateAllMachinePools:()=>h,useHCPControlPlaneUpdating:()=>f,useIsControlPlaneValidForMachinePool:()=>S,useMachinePoolBehindControlPlane:()=>v});var l=a(71468),n=a(99589),r=a.n(n),i=a(23271),s=a(54736),o=a(16236),u=a(82399);const d=e=>e.clusters.details.cluster.id||"",c=e=>{var t,a;return(null===(a=null===(t=e.clusters.details.cluster)||void 0===t?void 0:t.version)||void 0===a?void 0:a.id)||""},m=e=>{var t;return null===(t=r().coerce(e))||void 0===t?void 0:t.version},p=e=>{var t;const a=(0,s.gd)(e),l=c(e),n=null===(t=e.machinePools)||void 0===t?void 0:t.getMachinePools;return!(0,i.isHypershiftCluster)(e.clusters.details.cluster)||!l||a||!n.data||!n.fulfilled||n.error},f=()=>(0,l.d4)(p),E=(e,t)=>!(!e||!t)&&r().gt(r().coerce(e)||"",r().coerce(t)||""),g=(e,t)=>{var a;if(!t||!(null===(a=t.version)||void 0===a?void 0:a.id))return!1;const l=c(e);return E(l,t.version.id)},v=e=>(0,l.d4)((t=>g(t,e))),h=async(e,t,a)=>{const l=[];if(!a||""===a)return["Machine pools could not be updated because control plane version is unknown"];const n=e.map((e=>{var l;const n={schedule_type:u.ScheduleType.MANUAL,next_run:new Date((new Date).getTime()+36e4).toISOString(),version:null===(l=r().coerce(a))||void 0===l?void 0:l.version,node_pool_id:e.id,upgrade_type:u.UpgradeType.NODE_POOL};return o.default.postNodePoolUpgradeSchedule(t,e.id||"",n)}));return(await Promise.allSettled(n)).forEach((e=>{"rejected"===e.status&&l.push(`${e.reason.response.data.code} - ${e.reason.response.data.reason}`)})),l},b=(e,t)=>{var a;const l=null===(a=null==e?void 0:e.version)||void 0===a?void 0:a.available_upgrades;return!t||!l||l.some((e=>{var a;return r().eq((null===(a=r().coerce(t))||void 0===a?void 0:a.version)||"",e)}))},S=e=>{const t=(0,l.d4)(c);return b(e,t||"")},_=e=>{var t,a;return!!(null===(a=null===(t=e.upgradePolicies)||void 0===t?void 0:t.items)||void 0===a?void 0:a.length)},C=e=>{var t;return!!(null===(t=e.upgradePolicies)||void 0===t?void 0:t.errorMessage)},y=(e,t)=>{const a=c(e);return!p(e)&&g(e,t)&&!C(t)&&b(t,a)&&!_(t)}},51594:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(71468),i=a(28592),s=a(91089),o=a(25514);const u=()=>{var e;const t=(0,r.wA)(),a=(0,o.useGlobalState)((e=>e.modal.data)),l="object"==typeof(u=a)&&null!==u;var u;const{performDeleteAction:d}=a;return l?n().createElement(i.default,{title:"Permanently delete machine pool?",primaryText:"Delete",onPrimaryClick:()=>{t((0,s.closeModal)()),d()},secondaryText:"Cancel",onSecondaryClick:()=>t((0,s.closeModal)()),isOpen:!0,onClose:()=>t((0,s.closeModal)())},'"',null===(e=a.machinePool)||void 0===e?void 0:e.id,'" will be lost.'):null}},92980:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ConnectedEditMachinePoolModal:()=>Xe,default:()=>Je});var l=a(93345),n=a.n(l),r=a(88139),i=a(2404),s=a.n(i),o=a(71468),u=a(90678),d=a(73113),c=a(92292),m=a(72583),p=a(83349),f=a(66338),E=a(89217),g=a(38260),v=a(23271),h=a(31261),b=a(55816),S=a(28592),_=a(91089),C=a(43775),y=a(11243),I=a(976),A=a(25514),R=a(73410),T=a(80697),O=a(41682),P=a(56780),D=a(15758),L=a(1727),N=a(75166),w=a(70557),M=a(38715),k=a(55213),F=a(22024),x=a(15403);const G="diskSize",U=({cluster:e,isEdit:t})=>{var a,n;const i=(0,L.uP)(null===(a=e.product)||void 0===a?void 0:a.id)===N.normalizedProducts.ROSA&&!(0,v.isHypershiftCluster)(e),[s,{error:o,touched:u}]=(0,r.useField)(G),d=(0,x.default)(G),c=(0,w.getWorkerNodeVolumeSizeMaxGiB)((null===(n=e.version)||void 0===n?void 0:n.raw_id)||"");return i?l.createElement(P.g,{fieldId:G,label:"Root disk size",isRequired:!0,labelIcon:l.createElement(k.default,{hint:`Root disks are AWS EBS volumes attached as the primary disk for AWS EC2 instances. The root disk size for this machine pool group of nodes must be between ${w.workerNodeVolumeSizeMinGiB}GiB and ${c}GiB.`})},l.createElement(F.default,{showTooltip:t,content:"This option cannot be edited from its original setting selection."},l.createElement(D.Q,{...s,onPlus:()=>d(s.value+1),onMinus:()=>d(s.value-1),onChange:e=>{const t=e.target.value;d(Number(t))},id:G,min:w.workerNodeVolumeSizeMinGiB,max:c,unit:l.createElement("span",{className:"ocm-disk-size_unit"},"GiB"),isDisabled:t})),l.createElement(M.FormGroupHelperText,{touched:u,error:o})):null};var j=a(12664),H=a(84037),V=a(2479);const q=({machinePool:e,cluster:t,machineTypes:a,machinePools:n})=>{var r,i;const s=(0,g.isMPoolAz)(t,null===(r=null==e?void 0:e.availability_zones)||void 0===r?void 0:r.length),u=(0,v.isROSA)(t),d=(0,O.getClusterMinNodes)({cluster:t,machineTypesResponse:a,machinePool:e,machinePools:n.data||[]}),c=l.useMemo((()=>{var t,a,l,n,r,i,o,u,c,m,p,f,E,g;let v,h,b,S,_,C="onDemand";v=(null===(t=null==e?void 0:e.autoscaling)||void 0===t?void 0:t.min_replicas)||d,h=(null===(a=null==e?void 0:e.autoscaling)||void 0===a?void 0:a.max_replicas)||d;const y=null==e?void 0:e.instance_type;var I;return"MachinePool"===(null==(I=e)?void 0:I.kind)&&(b=!!(null===(l=e.aws)||void 0===l?void 0:l.spot_market_options),C=(null===(r=null===(n=e.aws)||void 0===n?void 0:n.spot_market_options)||void 0===r?void 0:r.max_price)?"maximum":"onDemand",S=null===(o=null===(i=e.aws)||void 0===i?void 0:i.spot_market_options)||void 0===o?void 0:o.max_price,_=(null===(c=null===(u=e.root_volume)||void 0===u?void 0:u.aws)||void 0===c?void 0:c.size)||(null===(p=null===(m=e.root_volume)||void 0===m?void 0:m.gcp)||void 0===p?void 0:p.size)),s&&(v/=3,h/=3),{name:(null==e?void 0:e.id)||"",autoscaling:!!(null==e?void 0:e.autoscaling),autoscaleMin:v,autoscaleMax:h||1,replicas:(null==e?void 0:e.replicas)||d,labels:(null==e?void 0:e.labels)?Object.keys(e.labels).map((t=>{var a;return{key:t,value:null===(a=e.labels)||void 0===a?void 0:a[t]}})):[{key:"",value:""}],taints:(null===(f=null==e?void 0:e.taints)||void 0===f?void 0:f.map((e=>({key:e.key||"",value:e.value||"",effect:e.effect||"NoSchedule"}))))||[{key:"",value:"",effect:"NoSchedule"}],useSpotInstances:!!b,spotInstanceType:C,maxPrice:S||w.SPOT_MIN_PRICE,diskSize:_||w.defaultWorkerNodeVolumeSizeGiB,instanceType:y,privateSubnetId:void 0,securityGroupIds:(null===(E=null==e?void 0:e.aws)||void 0===E?void 0:E.additional_security_group_ids)||(null===(g=null==e?void 0:e.aws_node_pool)||void 0===g?void 0:g.additional_security_group_ids)||[]}}),[e,s,d]),m=(0,v.isHypershiftCluster)(t),p=(0,w.getWorkerNodeVolumeSizeMaxGiB)((null===(i=t.version)||void 0===i?void 0:i.raw_id)||""),f=!!e,E=(()=>{const e=(0,o.wA)();return l.useEffect((()=>{e((0,V.getOrganizationAndQuota)())}),[e]),(0,A.useGlobalState)((e=>e.userProfile.organization))})(),b=(0,y.useFeatureGate)(I.MAX_COMPUTE_NODES_500),S=l.useMemo((()=>j.lazy((l=>{const r=s?d/3:d,i=(0,H.validateSecurityGroups)(l.securityGroupIds,m),o=(0,h.getNodeOptions)({cluster:t,machinePools:n.data||[],machinePool:e,machineTypes:a,quota:E.quotaList,minNodes:d,machineTypeId:l.instanceType,editMachinePoolId:l.name,allow500Nodes:b}),c=o.length?o[o.length-1]:0;return j.object({name:j.string().test("mp-name","",(e=>{var t;const a=m?(0,H.checkNodePoolName)(e):(0,H.checkMachinePoolName)(e);return a?new j.ValidationError(a,e,"name"):!(!f&&(null===(t=n.data)||void 0===t?void 0:t.some((t=>t.id===e))))||new j.ValidationError("Name has to be unique.",e,"name")})),labels:j.array().of(j.object().shape({key:j.string().test("label-key","",(function(e){if(1===l.labels.length&&(!e||0===e.length))return!0;const t=(0,H.checkLabelKey)(e);return t?new j.ValidationError(t,e,this.path):!(l.labels.filter((({key:t})=>t===e)).length>1)||new j.ValidationError("Each label must have a different key.",e,this.path)})),value:j.string().test("label-value","",(function(e){const t=(0,H.checkLabelValue)(e);if(t)return new j.ValidationError(t,e,this.path);const a=this.parent.key;return!(e&&!a)||new j.ValidationError("Label key has to be defined",e,this.path)}))})),taints:j.array().of(j.object().shape({key:j.string().test("taint-key","",(function(e){if(1===l.taints.length&&(!e||0===e.length))return!0;const t=(0,H.checkTaintKey)(e);return!t||new j.ValidationError(t,e,this.path)})),value:j.string().test("taint-value","",(function(e){const t=(0,H.checkTaintValue)(e);if(t)return new j.ValidationError(t,e,this.path);const a=this.parent.key;return!(e&&!a)||new j.ValidationError("Taint key has to be defined",e,this.path)}))})),autoscaleMin:l.autoscaling?j.number().test("whole-number","Decimals are not allowed. Enter a whole number.",Number.isInteger).min(r,`Input cannot be less than ${r}.`).max(l.autoscaleMax,"Min nodes cannot be more than max nodes."):j.number(),autoscaleMax:l.autoscaling?j.number().test("autoscale-max","",(e=>Number.isInteger?!(void 0!==e&&e<1)||new j.ValidationError("Max nodes must be greater than 0.",e,"autoscaleMax"):new j.ValidationError("Decimals are not allowed. Enter a whole number.",e,"autoscaleMax"))).min(l.autoscaleMin,"Max nodes cannot be less than min nodes.").max(s?c/3:c,`Input cannot be more than ${s?c/3:c}.`):j.number(),autoscaling:j.boolean(),diskSize:u?j.number().min(w.workerNodeVolumeSizeMinGiB,`Disk size must be at least ${w.workerNodeVolumeSizeMinGiB} GiB`).max(p,`Disk size can not be more than ${p} GiB`).test("whole-number","Decimals are not allowed. Enter a whole number.",Number.isInteger):j.number(),spotInstanceType:j.mixed(),maxPrice:"maximum"===l.spotInstanceType?j.number().min(w.SPOT_MIN_PRICE,`Price has to be at least ${w.SPOT_MIN_PRICE}`):j.number(),instanceType:f?j.string():j.string().required("Compute node instance type is a required field."),replicas:j.number(),useSpotInstances:j.boolean(),privateSubnetId:!f&&m?j.string().required("Please select a subnet."):j.string(),securityGroupIds:m?j.mixed():j.array().of(j.string()).test("max-security-groups",i||"",(()=>void 0===i))})}))),[s,d,t,n.data,e,a,E.quotaList,u,p,f,m,b]);return{initialValues:c,validationSchema:S}};var z=a(11912);var B=a(18960),W=a(75913),$=a(23215),Y=a(20289);const K="instanceType",Q={input:{value:void 0,onChange:()=>{}}},Z=({cluster:e})=>{var t,a,n;const[i,s]=(0,r.useField)(K),o=(0,x.default)(K),u=l.useMemo((()=>({input:{value:i.value,name:i.name,onChange:o},meta:{error:s.error,touched:s.touched}})),[i.value,i.name,s.error,s.touched,o]);return l.createElement($.E,null,l.createElement(Y.default,{machine_type:u,machine_type_force_choice:Q,isMultiAz:(0,g.isMultiAZ)(e),isBYOC:!!(null===(t=e.ccs)||void 0===t?void 0:t.enabled),cloudProviderID:null===(a=e.cloud_provider)||void 0===a?void 0:a.id,product:(0,L.uP)(null===(n=e.product)||void 0===n?void 0:n.id),isMachinePool:!0,billingModel:e.billing_model||N.billingModels.STANDARD,inModal:!0,menuAppendTo:document.getElementById("edit-mp-modal")}))};var X=a(91332);const J=({value:e,fieldId:t,onSelect:a,isDisabled:n,children:r})=>{const[i,s]=l.useState(!1);return l.createElement(X.l,{toggleId:"effect-toggle-id",selections:e,id:t,onSelect:(e,t)=>{a(t),s(!1)},isDisabled:n,isOpen:i,onToggle:(e,t)=>s(t),menuAppendTo:document.getElementById("edit-mp-modal")||void 0,maxHeight:300},r)};var ee=a(99145),te=a(70460),ae=a(34108),le=a(98552);const ne="privateSubnetId",re=({cluster:e})=>{const[t,a,{setValue:n}]=(0,r.useField)(ne),{clusterVpc:i,isLoading:s,hasError:o}=(0,le.useAWSVPCFromCluster)(e),u=l.useMemo((()=>({input:{onChange:e=>{n(e)},value:t.value,name:t.name},meta:{error:a.touched?a.error:void 0,touched:a.touched}})),[t.value,t.name,a.error,a.touched,n]);return s?l.createElement(ee.y,{size:"md"},"Loading the cluster VPC"):!i||o?l.createElement(te.F,{variant:"danger",isInline:!0,isPlain:!0,title:"Failed to load the machine pool VPC. Please try refreshing the page.",className:"pf-v5-u-mb-sm"}):l.createElement(ae.SubnetSelectField,{name:ne,privacy:"private",label:"Private subnet name",isRequired:!0,selectedVPC:i,...u})},ie=({cluster:e,isEdit:t,machinePools:a,setCurrentMPId:n,currentMPId:r})=>t?l.createElement(P.g,{fieldId:"machine-pool",label:"Machine pool"},l.createElement(J,{fieldId:"machine-pool",onSelect:n,value:r},a.map((e=>l.createElement(B.O,{key:e.id,value:e.id},e.id||""))))):l.createElement(l.Fragment,null,l.createElement(W.default,{fieldId:"name",label:"Machine pool name",isRequired:!0}),(0,v.isHypershiftCluster)(e)&&l.createElement(re,{cluster:e}),l.createElement(Z,{cluster:e}));var se=a(30620),oe=a(22069),ue=a(56862),de=a(23158);const ce=({input:e,index:t,onRemove:a,onPush:n})=>{const r=0===t&&!e.value[t].key&&!e.value[t].value;return l.createElement(m.$n,{icon:l.createElement(de.MinusCircleIcon,null),onClick:()=>{const l=1===e.value.length;a(t),l&&n()},variant:"link",isInline:!0,isDisabled:r})},me=()=>{const[e]=(0,r.useField)("labels");return l.createElement($.E,null,l.createElement(P.g,{fieldId:"labels",label:"Node labels"},l.createElement(M.FormGroupHelperText,null,l.createElement("div",{className:"uhc-labels-section__description"},"Labels help you organize and select resources. Adding labels below will let you query for objects that have similar, overlapping or dissimilar labels."))),l.createElement(r.FieldArray,{name:"labels",render:({push:t,remove:a})=>l.createElement(l.Fragment,null,l.createElement(se.x,{hasGutter:!0},l.createElement($.E,{span:4},l.createElement(oe.E,{component:oe.Y.small},"Key")),l.createElement($.E,{span:8},l.createElement(oe.E,{component:oe.Y.small},"Value"))),l.createElement(se.x,{hasGutter:!0},e.value.map(((n,r)=>{const i=`labels[${r}].key`,s=`labels[${r}].value`;return l.createElement(l.Fragment,{key:r},l.createElement($.E,{span:4},l.createElement(W.default,{fieldId:i})),l.createElement($.E,{span:4},l.createElement(W.default,{fieldId:s})),l.createElement($.E,{span:4},l.createElement(ce,{input:e,index:r,onRemove:a,onPush:()=>t({key:"",value:""})})))})),l.createElement($.E,{span:6},l.createElement(m.$n,{icon:l.createElement(ue.PlusCircleIcon,null),onClick:()=>t({key:"",value:""}),variant:"link",isInline:!0},"Add label"))))}))};var pe=a(88145),fe=a(65702),Ee=a(69304),ge=a(8888),ve=a(52865);const he=({autoscalingEnabled:e,cluster:t,autoScaleMaxNodesValue:a,replicasValue:n,selectedMachinePoolID:r,machinePools:i})=>{const s=(({selectedMachinePoolID:e,requestedNodes:t,cluster:a,machinePools:l})=>{const n=(0,ve.default)(a,l),r=n.totalMaxNodesCount;let i=0;const s=l.find((t=>t.id===e));if(s&&(i=s.autoscaling?n.totalMaxNodesCount+(t-(s.autoscaling.max_replicas||0)):n.totalMaxNodesCount+(t-(s.replicas||0))),t&&r){if(r<=100&&i>100)return 100;if(r<=25&&i>25)return 25}return 0})({cluster:t,requestedNodes:e?a:n,selectedMachinePoolID:r,machinePools:i});return s?l.createElement(te.F,{variant:"warning",isInline:!0,title:e?`Autoscaling to a maximum node count of more than ${s} nodes may trigger manual Red Hat SRE intervention`:`Scaling node count to more than ${s} nodes may trigger manual Red Hat SRE intervention`},l.createElement("p",null,"Node scaling is automatic and will be performed immediately. Scaling node count beyond Red Hat's"," ",l.createElement(ge.default,{href:fe.default.ROSA_AWS_LIMITS_SCALE,noIcon:!0},"documented thresholds")," ","may trigger manual Red Hat SRE intervention to vertically scale your Infrastructure and Control Plane instances."," ",a&&"Autoscaling nodes will not trigger manual intervention until the actual node count crosses the threshold. ","To request that Red Hat SRE proactively increase your Infrastructure and Control Plane instances, please open a ",l.createElement(Ee.Link,{to:`/details/${t.id}#support`},"support case"),".")):null};var be=a(73553);const Se="autoscaleMax",_e=({minNodes:e,cluster:t,options:a,mpAvailZones:n})=>{var i;const[s,{error:o,touched:u}]=(0,r.useField)(Se),d=(0,x.default)(Se),c=(0,g.isMPoolAz)(t,n),m=(0,L.uP)(null===(i=t.product)||void 0===i?void 0:i.id)===N.normalizedProducts.ROSA,p=a.length?a[a.length-1]:0,f=c?e/3:e,E=c?p/3:p;return l.createElement(P.g,{fieldId:Se,label:"Maximum nodes count",isRequired:!0,labelIcon:l.createElement(k.default,{buttonAriaLabel:"Compute node count information",hint:l.createElement(l.Fragment,null,(0,be.computeNodeHintText)(!1,(0,v.isHypershiftCluster)(t)),m&&l.createElement(l.Fragment,null,l.createElement("br",null),l.createElement(ge.default,{href:fe.default.ROSA_WORKER_NODE_COUNT},"Learn more about worker/compute node count")))})},l.createElement(D.Q,{...s,onPlus:()=>d(s.value+1),onMinus:()=>d(s.value-1),onChange:e=>{const t=e.target.value;d(Number(t))},id:Se,min:f||1,max:E}),l.createElement(M.FormGroupHelperText,{touched:u,error:o},c&&"x 3 zones = "+3*s.value))},Ce="autoscaleMin",ye=({cluster:e,minNodes:t,mpAvailZones:a,options:n})=>{const[i,{error:s,touched:o}]=(0,r.useField)(Ce),u=(0,x.default)(Ce),d=(0,g.isMPoolAz)(e,a),c=n.length?n[n.length-1]:0,m=d?t/3:t,p=d?c/3:c;return l.createElement(P.g,{fieldId:Ce,label:"Minimum nodes count",isRequired:!0},l.createElement(D.Q,{...i,onPlus:()=>u(i.value+1),onMinus:()=>u(i.value-1),onChange:e=>{const t=e.target.value;u(Number(t))},id:Ce,min:m,max:p}),l.createElement(M.FormGroupHelperText,{touched:o,error:s},d&&"x 3 zones = "+3*i.value))};var Ie=a(83873),Ae=a(49484),Re=a(55909);const Te="autoscaling",Oe=({cluster:e})=>{var t,a,n;const i=e,[s]=(0,r.useField)(Te),o=(0,Re.default)(null===(t=i.product)||void 0===t?void 0:t.id,null===(a=i.subscription)||void 0===a?void 0:a.cluster_billing_model,null===(n=i.subscription)||void 0===n?void 0:n.capabilities),u=(0,v.isROSA)(e),d=u?fe.default.ROSA_AUTOSCALING:fe.default.APPLYING_AUTOSCALING;return o?l.createElement(P.g,{label:"Scaling"},l.createElement(Ie.S,{...s,label:l.createElement(l.Fragment,null,"Enable autoscaling"," ",l.createElement(k.default,{hint:l.createElement(l.Fragment,null,Ae.constants.autoscaleHint," ",l.createElement(ge.default,{href:d},"Learn more about autoscaling",u?" with ROSA":""))})),isChecked:s.value,onChange:(e,t)=>{s.onChange(e)},id:Te,description:"Autoscaling automatically adds and removes worker (compute) nodes from the cluster based on resource requirements."})):null};var Pe=a(93413);const De="replicas",Le=({minNodesRequired:e,options:t,cluster:a,mpAvailZones:n})=>{var i;const[s]=(0,r.useField)(De),o=(0,x.default)(De),u=(0,g.isMPoolAz)(a,n),d=t.includes(s.value);l.useEffect((()=>{t.length>0&&!d&&o(e)}),[d,e,o,t.length]);const m=t.length<1,p=(0,L.uP)(null===(i=a.product)||void 0===i?void 0:i.id)===N.normalizedProducts.ROSA,f=l.createElement(J,{value:`${s.value}`,fieldId:De,onSelect:e=>o(parseInt(e,10)),isDisabled:m},t.map((e=>l.createElement(B.O,{key:e,value:`${e}`},`${u?e/3:e}`))));return l.createElement(P.g,{fieldId:De,"data-testid":"compute-node-count",label:u?"Compute node count (per zone)":"Compute node count",isRequired:!0,labelIcon:l.createElement(k.default,{hint:l.createElement(l.Fragment,null,Ae.constants.computeNodeCountHint,p&&l.createElement(l.Fragment,null,l.createElement("br",null),l.createElement(ge.default,{href:fe.default.ROSA_WORKER_NODE_COUNT},"Learn more about worker/compute node count")))})},m?l.createElement(c.m,{content:Pe.noQuotaTooltip,position:"right"},f):f,l.createElement(M.FormGroupHelperText,null,u&&`x 3 zones = ${s.value}`))},Ne=({machinePool:e,machinePools:t,cluster:a,machineTypes:n,allow500Nodes:i})=>{var s,o,u;const{values:d}=(0,r.useFormikContext)(),c=(0,A.useGlobalState)((e=>e.clusterAutoscaler.hasAutoscaler)),m=(0,A.useGlobalState)((e=>e.userProfile.organization)),p=(0,O.getClusterMinNodes)({cluster:a,machineTypesResponse:n,machinePool:e,machinePools:t}),f=l.useMemo((()=>(0,h.getNodeOptions)({cluster:a,machinePool:e,machinePools:t,machineTypeId:d.instanceType,machineTypes:n,quota:m.quotaList,minNodes:p,editMachinePoolId:null==e?void 0:e.id,allow500Nodes:i})),[a,e,t,d.instanceType,n,m.quotaList,p,i]);return l.createElement(l.Fragment,null,l.createElement(Oe,{cluster:a}),m.pending?l.createElement("div",null,l.createElement(ee.y,{size:"md"}),"Loading quota..."):l.createElement(l.Fragment,null,d.autoscaling?l.createElement(se.x,{hasGutter:!0},l.createElement($.E,{span:5},l.createElement(ye,{minNodes:p,cluster:a,mpAvailZones:null===(s=null==e?void 0:e.availability_zones)||void 0===s?void 0:s.length,options:f})),l.createElement($.E,{span:5},l.createElement(_e,{mpAvailZones:null===(o=null==e?void 0:e.availability_zones)||void 0===o?void 0:o.length,minNodes:p,cluster:a,options:f}))):l.createElement(Le,{mpAvailZones:null===(u=null==e?void 0:e.availability_zones)||void 0===u?void 0:u.length,minNodesRequired:p,cluster:a,options:f}),!(0,v.isHypershiftCluster)(a)&&l.createElement(pe.A,{hasClusterAutoScaler:c,hasAutoscalingMachinePools:t.some((e=>!!e.autoscaling)),isEnabledOnCurrentPool:d.autoscaling,warningType:e?"editMachinePool":"addMachinePool"}),(null==e?void 0:e.id)&&l.createElement(he,{autoscalingEnabled:d.autoscaling,autoScaleMaxNodesValue:d.autoscaleMax,cluster:a,machinePools:t,selectedMachinePoolID:e.id,replicasValue:d.replicas})))},we=({fieldId:e,isDisabled:t})=>{const[a]=(0,r.useField)(e),n=(0,x.default)(e);return l.createElement(J,{value:a.value,fieldId:e,onSelect:n,isDisabled:t},l.createElement(B.O,{value:"NoSchedule"},"NoSchedule"),l.createElement(B.O,{value:"NoExecute"},"NoExecute"),l.createElement(B.O,{value:"PreferNoSchedule"},"PreferNoSchedule"))},Me=({machinePoolId:e,cluster:t,machinePools:a,machineTypes:n})=>{const[i]=(0,r.useField)("taints"),s=!!e&&(0,O.isEnforcedDefaultMachinePool)(e,a,n,t),o=!e||(0,O.isMinimumCountWithoutTaints)({currentMachinePoolId:e,machinePools:a,cluster:t});let u;return s?u="Machine pool ineligible for taints":o||(u="Taints cannot be added unless there are at least 2 nodes without taints across all machine pools."),l.createElement($.E,null,l.createElement(P.g,{fieldId:"taints",label:"Taints"}),l.createElement(F.default,{showTooltip:!!u,content:u},l.createElement("div",null,l.createElement(r.FieldArray,{name:"taints",render:({push:e,remove:t})=>l.createElement(l.Fragment,null,l.createElement(se.x,{hasGutter:!0},l.createElement($.E,{span:4},l.createElement(oe.E,{component:oe.Y.small},"Key")),l.createElement($.E,{span:4},l.createElement(oe.E,{component:oe.Y.small},"Value")),l.createElement($.E,{span:4},l.createElement(oe.E,{component:oe.Y.small},"Effect"))),l.createElement(se.x,{hasGutter:!0},i.value.map(((a,n)=>{const r=`taints[${n}].key`,s=`taints[${n}].value`,o=`taints[${n}].effect`;return l.createElement(l.Fragment,{key:n},l.createElement($.E,{span:4},l.createElement(W.default,{fieldId:r,isDisabled:!!u})),l.createElement($.E,{span:4},l.createElement(W.default,{fieldId:s,isDisabled:!!u})),l.createElement($.E,{span:3,"data-testid":"taints-id"},l.createElement(we,{fieldId:o,isDisabled:!!u})),l.createElement($.E,{span:1},l.createElement(ce,{input:i,index:n,onRemove:t,onPush:()=>e({key:"",value:"",effect:"NoSchedule"})})))})),l.createElement($.E,{span:6},l.createElement(m.$n,{icon:l.createElement(ue.PlusCircleIcon,null),onClick:()=>e({key:"",value:"",effect:"NoSchedule"}),variant:"link",isInline:!0,isDisabled:!!u},"Add taint"))))}))))};var ke=a(45436),Fe=a(94402),xe=a(19214),Ge=a(13865),Ue=a(99329),je=a(54910),He=a(72067);const Ve=({cluster:e,isReadOnly:t})=>{const{values:{[je.FieldId.SecurityGroupIds]:a},setFieldValue:l,setFieldTouched:i}=(0,He.l)(),{clusterVpc:s,isLoading:o,errorReason:u}=(0,le.useAWSVPCFromCluster)(e);if(o)return n().createElement(ee.y,null,"Loading security groups");if(!s)return n().createElement(te.F,{variant:te.w.warning,title:"Could not load the cluster's VPC",isInline:!0},u||"Please try refreshing the machine pool details");if(0===(s.aws_security_groups||[]).length)return n().createElement(Ge.A,null);const d=(0,v.isHypershiftCluster)(e),c=(0,Fe.E)(ke.x.SECURITY_GROUPS,e.openshift_version,{day2:!0,isHypershift:d});return c?n().createElement(te.F,{variant:te.w.warning,title:c,isInline:!0}):n().createElement(n().Fragment,null,n().createElement(Ue.A,{isRosa:(0,v.isROSA)(e)}),n().createElement(r.Field,{component:xe.A,name:je.FieldId.SecurityGroupIds,onChange:e=>{l(je.FieldId.SecurityGroupIds,e,!0),i(je.FieldId.SecurityGroupIds,!0,!1)},validate:e=>(0,H.validateSecurityGroups)(e,d),selectedVPC:s,isReadOnly:t,selectedGroupIds:a,isHypershift:d}))},qe=({cluster:e,isReadOnly:t})=>(0,ke.T)(ke.x.SECURITY_GROUPS,e)?n().createElement(f.Q,{toggleContent:n().createElement(F.default,{showTooltip:t,content:"This option cannot be edited from its original setting selection."},n().createElement("span",null,"Security groups"))},n().createElement(Ve,{cluster:e,isReadOnly:t})):null;var ze=a(47914);const Be="maxPrice",We=({isEdit:e})=>{const[t,{error:a,touched:n}]=(0,r.useField)(Be),i=(0,x.default)(Be);return l.createElement(P.g,{fieldId:"maxPrice",isRequired:!0},l.createElement(D.Q,{...t,id:"maxPrice",onPlus:()=>{const e=Number((parseFloat(`${t.value}`)+.01).toFixed(2));i(e)},onMinus:()=>{const e=Number((parseFloat(`${t.value}`)-.01).toFixed(2));i(e)},onChange:e=>{const t=parseFloat(e.target.value),a=Number(t.toFixed(2));i(a)},unit:l.createElement("span",{className:"ocm-spot-instances__unit"},"$ Hourly"),widthChars:8,min:w.SPOT_MIN_PRICE,isDisabled:e}),l.createElement(M.FormGroupHelperText,{touched:n,error:a}))},$e="useSpotInstances",Ye=({children:e,isDisabled:t})=>{const[a]=(0,r.useField)($e);return l.createElement(F.default,{showTooltip:t,content:"This option cannot be edited from its original setting selection."},l.createElement(u.B,{hasGutter:!0},l.createElement(d.a,null,l.createElement(Ie.S,{...a,label:"Use Amazon EC2 Spot Instance",isChecked:a.value,onChange:(e,t)=>{a.onChange(e)},id:$e,body:a.value&&e,description:"You can save on costs by creating a machine pool running on AWS that deploys machines as non-guaranteed Spot Instances. This cannot be changed after machine pool is created.",isDisabled:t})),a.value&&l.createElement(d.a,null,l.createElement(te.F,{variant:"warning",title:"Your Spot Instance may be interrupted at any time. Use Spot Instances for workloads that can tolerate interruptions.",isInline:!0},l.createElement(ge.default,{href:fe.default.AWS_SPOT_INSTANCES},"Learn more about Spot instances")))))},Ke=({isEdit:e})=>{const[t]=(0,r.useField)({name:"spotInstanceType",value:"onDemand",type:"radio"}),[a]=(0,r.useField)({name:"spotInstanceType",value:"maximum",type:"radio"});return l.createElement($.E,null,l.createElement(P.g,{fieldId:"spotInstances",label:"Cost saving"}),l.createElement(Ye,{isDisabled:e},l.createElement(p.l,null,l.createElement(ze.s,{...t,isChecked:t.checked,id:"spotinstance-ondemand",onChange:(e,a)=>t.onChange(e),label:"Use On-Demand instance price",description:"The maximum price defaults to charge up to the On-Demand Instance price.",isDisabled:e}),l.createElement(ze.s,{...a,isChecked:a.checked,onChange:(e,t)=>a.onChange(e),id:"spotinstance-max",label:l.createElement(l.Fragment,null,"Set maximum price"," ",l.createElement(k.default,{headerContent:"Maximum hourly price for a Spot Instance",hint:"This value should be lower or equal to the On-Demand Instance price. This cannot be changed after the machine pool is created."})),description:"Specify the maximum hourly price for a Spot Instance.",isDisabled:e,body:a.checked&&l.createElement(We,{isEdit:e})}))))};var Qe=a(1239);const Ze=({cluster:e,onClose:t,onSave:a,machinePoolId:n,isEdit:i,machinePoolsResponse:o,machineTypesResponse:_,shouldDisplayClusterName:C,isHypershift:A})=>{var T;const P=l.useCallback((()=>!!i||!!n),[i,n]),[D,L]=l.useState(),[N,w]=l.useState(),[M,k]=l.useState(P()),{initialValues:F,validationSchema:x}=q({machinePool:N,cluster:e,machinePools:o,machineTypes:_}),G=(0,y.useFeatureGate)(I.MAX_COMPUTE_NODES_500),j=l.useCallback((e=>{var t;return w(null===(t=o.data)||void 0===t?void 0:t.find((t=>t.id===e)))}),[w,o.data]);l.useEffect((()=>{var e;o.pending?w(void 0):(null===(e=o.data)||void 0===e?void 0:e.length)&&(n?j(n):M&&w(o.data[0]))}),[o.pending,o.data,n,M,j]),l.useEffect((()=>{k(P())}),[P]);const H=A&&o.data&&(0,h.getNodeCount)(null==o?void 0:o.data,A,null==N?void 0:N.id,null==N?void 0:N.instance_type)===(0,h.getMaxNodesHCP)(null===(T=e.version)||void 0===T?void 0:T.raw_id,G);return l.createElement(r.Formik,{onSubmit:async l=>{L(void 0);try{await(({cluster:e,values:t,currentMPId:a,currentMachinePool:l})=>{var n;const r=(0,v.isHypershiftCluster)(e),i=(0,g.isMPoolAz)(e,null===(n=null==l?void 0:l.availability_zones)||void 0===n?void 0:n.length),s=r?(0,Qe.O)(t,{isEdit:!!a,isMultiZoneMachinePool:i}):(0,Qe.V)(t,{isEdit:!!a,isMultiZoneMachinePool:i,isROSACluster:(0,v.isROSA)(e)});return a?(r?R.clusterService.patchNodePool:R.clusterService.patchMachinePool)(e.id||"",a,s):(r?R.clusterService.addNodePool:R.clusterService.addMachinePool)(e.id||"",s)})({cluster:e,values:l,currentMPId:null==N?void 0:N.id,currentMachinePool:N}),null==a||a(),t()}catch(e){L(e)}},initialValues:F,validationSchema:x,enableReinitialize:!0,validateOnMount:!0},(({isValid:a,submitForm:n,isSubmitting:r,values:i})=>{var g,v,h;return l.createElement(S.default,{id:"edit-mp-modal",title:M?"Edit machine pool":"Add machine pool",secondaryTitle:C?e.name:void 0,onClose:r?void 0:t,isPending:o.pending||!o.error&&!o.fulfilled||!_.error&&!_.fulfilled||M&&_.fulfilled&&o.fulfilled&&!N,modalSize:"large",description:!M&&"A machine pool is a group of machines that are all clones of the same configuration, that can be used on demand by an application running on a pod.",footer:l.createElement(u.B,{hasGutter:!0},D&&l.createElement(d.a,null,l.createElement(b.default,{message:M?"Error editing machine pool":"Error adding machine pool",response:{errorDetails:null===(v=null===(g=D.response)||void 0===g?void 0:g.data)||void 0===v?void 0:v.details,errorMessage:(0,E.getErrorMessage)({payload:D}),operationID:null===(h=D.response)||void 0===h?void 0:h.data.operation_id}})),l.createElement(d.a,null,H?l.createElement(c.m,{content:"Maximum cluster node count limit reached"},l.createElement(m.$n,{isAriaDisabled:H||!a,isDisabled:r||!o.fulfilled||!_.fulfilled||s()(F,i),onClick:n,isLoading:r,className:"pf-v5-u-mr-md","data-testid":"submit-btn"},M?"Save":"Add machine pool")):l.createElement(m.$n,{isAriaDisabled:H,isDisabled:!a||r||!o.fulfilled||!_.fulfilled||s()(F,i),onClick:n,isLoading:r,className:"pf-v5-u-mr-md","data-testid":"submit-btn"},M?"Save":"Add machine pool"),l.createElement(m.$n,{variant:"secondary",isDisabled:r,onClick:t,"data-testid":"cancel-btn"},"Cancel")))},o.error||_.error?l.createElement(b.default,{message:"Failed to fetch resources",response:o.error?o:_}):l.createElement(p.l,null,l.createElement(ie,{cluster:e,machinePools:o.data||[],isEdit:M,currentMPId:null==N?void 0:N.id,setCurrentMPId:j}),l.createElement(Ne,{cluster:e,machinePool:N,machinePools:o.data||[],machineTypes:_,allow500Nodes:G}),l.createElement(U,{cluster:e,isEdit:M}),l.createElement(f.Q,{toggleText:"Edit node labels and taints"},l.createElement(me,null),l.createElement(Me,{cluster:e,machinePools:o.data||[],machinePoolId:null==N?void 0:N.id,machineTypes:_})),l.createElement(qe,{cluster:e,isReadOnly:M}),(0,O.canUseSpotInstances)(e)&&l.createElement(Ke,{isEdit:M})))}))},Xe=({clearMachinePools:e})=>{var t;const a=(0,A.useGlobalState)((e=>e.modal.data)),n=(0,o.wA)(),{cluster:r,shouldDisplayClusterName:i}=a,s=(e=>{var t;const a=(0,o.wA)(),n=(0,v.isHypershiftCluster)(e);return l.useEffect((()=>{var t;(null==e?void 0:e.id)&&(0,T.getMachineOrNodePools)(e.id,n,null===(t=e.version)||void 0===t?void 0:t.id)(a)}),[a,null==e?void 0:e.id,n,null===(t=null==e?void 0:e.version)||void 0===t?void 0:t.id]),(0,A.useGlobalState)((e=>e.machinePools.getMachinePools))})(r),u=(()=>{const e=(0,o.wA)();return l.useEffect((()=>{e((0,z.getMachineTypes)())}),[e]),(0,A.useGlobalState)((e=>e.machineTypes))})(),d=(0,v.isHypershiftCluster)(r),c=d?{...s,data:(null===(t=s.data)||void 0===t?void 0:t.map(O.normalizeNodePool))||[]}:s;return r?l.createElement(Ze,{isHypershift:d,shouldDisplayClusterName:i,cluster:r,onClose:()=>{n((0,_.closeModal)()),e&&(0,T.clearGetMachinePoolsResponse)()(n)},isEdit:!0,machineTypesResponse:u,machinePoolsResponse:c,onSave:()=>{s.pending||(0,T.getMachineOrNodePools)(r.id,d,r.version.raw_id)(n)}}):null};Xe.modalName=C.default.EDIT_MACHINE_POOL;const Je=Ze},1239:(e,t,a)=>{"use strict";a.d(t,{O:()=>s,V:()=>i});const l=e=>1!==e.length||e[0].key?e.reduce(((e,{key:t,value:a})=>(e[t]=a,e)),{}):{},n=e=>1!==e.length||e[0].key?e:[],r=(e,t,a)=>{if(e.autoscaling){const l=e.autoscaleMax*(t?3:1),n=e.autoscaleMin*(t?3:1);return{autoscaling:a?{max_replica:l,min_replica:n}:{max_replicas:l,min_replicas:n}}}return{replicas:e.replicas}},i=(e,{isEdit:t,isMultiZoneMachinePool:a,isROSACluster:i})=>{const s={id:e.name,labels:l(e.labels),taints:n(e.taints),...r(e,a,!1)};if(!t){const t={};s.instance_type=e.instanceType,e.useSpotInstances&&(t.spot_market_options="maximum"===e.spotInstanceType?{max_price:e.maxPrice}:{}),e.securityGroupIds.length>0&&(t.additional_security_group_ids=e.securityGroupIds),i&&(s.root_volume={aws:{size:e.diskSize}}),Object.keys(t).length>0&&(s.aws=t)}return s},s=(e,{isEdit:t,isMultiZoneMachinePool:a})=>{const i={id:e.name,labels:l(e.labels),taints:n(e.taints),...r(e,a,!0)};return t||(i.subnet=e.privateSubnetId,i.aws_node_pool={instance_type:e.instanceType,additional_security_group_ids:e.securityGroupIds}),i}},89340:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MachinePoolItemList:()=>S,default:()=>_,securityGroupsRenderer:()=>b});var l=a(93345),n=a.n(l),r=a(62193),i=a.n(r),s=a(10423),o=a(33612),u=a(30620),d=a(23215),c=a(93413),m=a(98552),p=a(38260),f=a(30666),E=a(93973);const g=(e,t)=>void 0===e?0:t?e/3:e,v=({isMultiZoneCluster:e,autoscaling:t,isMultiZoneMachinePool:a})=>n().createElement(n().Fragment,null,n().createElement(s.h,{headingLevel:"h4",className:"pf-v5-u-mb-sm pf-v5-u-mt-lg"},"Autoscaling"),n().createElement(f.B,{hasGutter:!0},n().createElement(E.o,null,n().createElement(s.h,{headingLevel:"h4",className:"autoscale__lim"},"Min nodes "+(a?"per zone":"")),g(t.min_replicas,a)),n().createElement(E.o,null,n().createElement(s.h,{headingLevel:"h4",className:"autoscale__lim"},"Max nodes "+(a?"per zone":"")),g(t.max_replicas,a))));var h=a(41682);const b=(e,t)=>e.map((e=>{var a;return(null===(a=t.find((t=>t.id===e)))||void 0===a?void 0:a.name)||e})),S=({title:e,items:t,showSmallTitle:a=!1})=>n().createElement(n().Fragment,null,!a&&n().createElement(s.h,{headingLevel:"h4"},e),a&&n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-font-weight-bold pf-v5-u-disabled-color-100"},e),t.map(((t,a)=>{const l=t.length>50,r=l?(0,c.truncateTextWithEllipsis)(t,50):t;return n().createElement(o.J,{color:"blue",key:`${e}-${a}`,className:"pf-v5-c-label--break-word pf-v5-u-m-sm pf-v5-u-ml-0",title:l?t:""},r)}))),_=({cluster:e,isMultiZoneCluster:t,machinePool:a})=>{var l,r,o,c;const{clusterVpc:f}=(0,m.useAWSVPCFromCluster)(e),E=null===(l=null==a?void 0:a.aws)||void 0===l?void 0:l.spot_market_options,g=(null===(r=null==a?void 0:a.aws)||void 0===r?void 0:r.additional_security_group_ids)||(null===(o=null==a?void 0:a.aws_node_pool)||void 0===o?void 0:o.additional_security_group_ids)||[],_=(0,p.isMPoolAz)(e,null===(c=a.availability_zones)||void 0===c?void 0:c.length);return n().createElement(u.x,{hasGutter:!0},!i()(a.labels)&&n().createElement(d.E,{md:6,"data-testid":"labels-id"},n().createElement(S,{title:"Labels",items:(y=a.labels||{},Object.keys(y||{}).map((e=>{const t=y[e]||"";return`${e}${t?" = ":""}${t}`})))})),a.taints&&n().createElement(d.E,{md:6,"data-testid":"taintstext-id"},n().createElement(S,{title:"Taints",items:(C=a.taints,(C||[]).map((e=>`${e.key} = ${e.value}:${e.effect}`)))})),g.length>0&&n().createElement(d.E,{md:6},n().createElement(S,{title:"Security groups",items:b(g,(null==f?void 0:f.aws_security_groups)||[])})),(0,h.hasSubnets)(a)&&n().createElement(d.E,{md:6},n().createElement(S,{title:"Subnets",items:(0,h.getSubnetIds)(a)})),a.autoscaling&&n().createElement(d.E,{md:6},n().createElement(v,{isMultiZoneMachinePool:_,isMultiZoneCluster:t,autoscaling:a.autoscaling})),E&&n().createElement(d.E,{md:6,"data-testid":"spotinstance-id"},n().createElement(s.h,{headingLevel:"h4"},"Spot instance pricing"),E.max_price?`Maximum hourly price: ${E.max_price}`:"On-Demand"));var C,y}},66059:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_DELETE_MACHINE_POOL_RESPONSE:()=>i,CLEAR_GET_MACHINE_POOLS_RESPONSE:()=>r,DELETE_MACHINE_POOL:()=>n,GET_MACHINE_POOLS:()=>l});const l="GET_MACHINE_POOLS",n="DELETE_MACHINE_POOL",r="CLEAR_GET_MACHINE_POOLS_RESPONSE",i="CLEAR_DELETE_MACHINE_POOL_RESPONSE"},41682:(e,t,a)=>{"use strict";a.r(t),a.d(t,{actionResolver:()=>m,canUseSpotInstances:()=>_,getClusterMinNodes:()=>g,getMinNodesRequired:()=>u,getNodeIncrement:()=>v,getNodeIncrementHypershift:()=>h,getSubnetIds:()=>f,hasDefaultOrExplicitAutoscalingMachinePool:()=>S,hasExplicitAutoscalingMachinePool:()=>b,hasSubnets:()=>E,isEnforcedDefaultMachinePool:()=>d,isMinimumCountWithoutTaints:()=>c,normalizeNodePool:()=>p});var l=a(1727),n=a(75166),r=a(23271),i=a(93413),s=a(38260);const o=(e,t,a)=>e?t?a?3:2:a?9:4:0,u=(e,t,a)=>{return e?void 0===(l=null==t?void 0:t.numMachinePools)?1:1===l?2:l||0:o(null==a?void 0:a.isDefaultMachinePool,null==a?void 0:a.isByoc,null==a?void 0:a.isMultiAz);var l},d=(e,t,a,l)=>{var n,i,u,d,c,m,p;if((0,r.isHypershiftCluster)(l))return!1;if(!(null===(n=l.ccs)||void 0===n?void 0:n.enabled))return"worker"===e;const f=null===(u=null===(i=a.types)||void 0===i?void 0:i.aws)||void 0===u?void 0:u.find((e=>"m5.xlarge"===e.id)),E=o(!0,null===(d=null==l?void 0:l.ccs)||void 0===d?void 0:d.enabled,(0,s.isMultiAZ)(l)),g="aws"===(null===(c=l.cloud_provider)||void 0===c?void 0:c.id)?null===(m=a.types)||void 0===m?void 0:m.aws:null===(p=a.types)||void 0===p?void 0:p.gcp;return!t.filter((t=>t.id!==e)).some((e=>{var t,a,l,n,r,i,s,o,u,d,c;const m="NodePool"===e.kind?null===(t=e.aws_node_pool)||void 0===t?void 0:t.instance_type:e.instance_type,p=null==g?void 0:g.find((e=>e.id===m));return p&&!e.taints&&(e.replicas&&e.replicas>=E||(null===(a=e.autoscaling)||void 0===a?void 0:a.min_replicas)&&(null===(l=e.autoscaling)||void 0===l?void 0:l.min_replicas)>=E)&&(null!==(r=null===(n=null==p?void 0:p.cpu)||void 0===n?void 0:n.value)&&void 0!==r?r:0)>=(null!==(s=null===(i=null==f?void 0:f.cpu)||void 0===i?void 0:i.value)&&void 0!==s?s:0)&&(null!==(u=null===(o=null==p?void 0:p.memory)||void 0===o?void 0:o.value)&&void 0!==u?u:0)>=(null!==(c=null===(d=null==f?void 0:f.memory)||void 0===d?void 0:d.value)&&void 0!==c?c:0)}))},c=({currentMachinePoolId:e,machinePools:t,cluster:a})=>!(0,r.isHypershiftCluster)(a)||(null==t?void 0:t.reduce(((t,a)=>{var l,n,r,i;return a.id===e||(null===(l=a.taints)||void 0===l?void 0:l.length)?t:t+(null!==(i=null!==(r=null===(n=a.autoscaling)||void 0===n?void 0:n.min_replicas)&&void 0!==r?r:a.replicas)&&void 0!==i?i:0)}),0))>=2,m=({rowData:e,onClickEdit:t,onClickDelete:a,onClickUpdate:l,canDelete:n,cluster:r,machinePools:i,machineTypes:s})=>{if(!e.machinePool)return[];const o=((e,t,a,l)=>{const n=!e&&"You do not have permissions to delete machine pools",r=1===t.length&&"The last machine pool cannot be deleted";return n||r||a&&"Machine pool ineligible for deletion"||!l&&"There needs to be at least 2 nodes without taints across all machine pools"||void 0})(n,i,d(e.machinePool.id,i,s,r),c({currentMachinePoolId:e.machinePool.id,machinePools:i,cluster:r}));return[{title:"Edit",onClick:t,className:"hand-pointer"},{title:"Delete",onClick:a,className:"hand-pointer",isAriaDisabled:!!o,...!!o&&{tooltipProps:{content:o}}},...void 0!==l?[{title:"Update version",onClick:l,className:"hand-pointer"}]:[]]},p=e=>{var t,a,l,n,r;const i={...e,instance_type:null===(t=e.aws_node_pool)||void 0===t?void 0:t.instance_type};return e.autoscaling&&(i.autoscaling={...e.autoscaling},(null===(a=e.autoscaling)||void 0===a?void 0:a.min_replica)&&(null===(l=e.autoscaling)||void 0===l?void 0:l.min_replica)>0&&(i.autoscaling.min_replicas=e.autoscaling.min_replica,delete i.autoscaling.min_replica),(null===(n=e.autoscaling)||void 0===n?void 0:n.max_replica)&&(null===(r=e.autoscaling)||void 0===r?void 0:r.max_replica)>0&&(i.autoscaling.max_replicas=e.autoscaling.max_replica,delete i.autoscaling.max_replica)),i},f=e=>{const{subnet:t,subnets:a}=e;return(0,i.asArray)(t||a||[])},E=e=>f(e).length>0,g=({cluster:e,machineTypesResponse:t,machinePool:a,machinePools:l})=>{var n;if((0,r.isHypershiftCluster)(e))return c({currentMachinePoolId:null==a?void 0:a.id,cluster:e,machinePools:l})?1:2;const i=(0,s.isMultiAZ)(e),u=!!a&&d(a.id,l,t,e);return o(u,!!(null===(n=null==e?void 0:e.ccs)||void 0===n?void 0:n.enabled),i)},v=e=>e?3:1,h=e=>null!=e?e:1,b=(e,t)=>(e||[]).some((e=>!(!e.autoscaling||t&&t===e.id))),S=(e,t,a)=>{var l;return!!(null===(l=null==e?void 0:e.nodes)||void 0===l?void 0:l.autoscale_compute)||b(t,a)},_=e=>{var t,a,i;const s=null===(t=e.cloud_provider)||void 0===t?void 0:t.id,o=(0,l.uP)(null===(a=e.product)||void 0===a?void 0:a.id);return"aws"===s&&!(0,r.isHypershiftCluster)(e)&&(o===n.normalizedProducts.ROSA||o===n.normalizedProducts.OSD&&(null===(i=e.ccs)||void 0===i?void 0:i.enabled))}},72646:(e,t,a)=>{"use strict";a.r(t),a.d(t,{hasMachinePoolsQuotaSelector:()=>o,hasOrgLevelAutoscaleCapability:()=>u,hasOrgLevelBypassPIDsLimitCapability:()=>d});var l=a(58156),n=a.n(l),r=a(75166),i=a(59067),s=a(98229);const o=(e,t,a)=>{var l;if(!(null==e?void 0:e.fulfilled))return!1;const o=null===(l=null==t?void 0:t.cloud_provider)||void 0===l?void 0:l.id,u=i.RelatedResource.billing_model[n()(t,"subscription.cluster_billing_model",r.billingModels.STANDARD)];return!(!o||!a)&&n()(a,o,[]).some((a=>((e,t,a,l,n)=>{var r,i,o;const u={product:null===(i=null===(r=null==t?void 0:t.subscription)||void 0===r?void 0:r.plan)||void 0===i?void 0:i.type,cloudProviderID:a,isBYOC:!!(null===(o=null==t?void 0:t.ccs)||void 0===o?void 0:o.enabled),isMultiAz:t.multi_az,resourceName:e.generic_name,billingModel:l};return(0,s.availableNodesFromQuota)(null==n?void 0:n.quotaList,u)>=1})(a,t,o,u,e)))},u=e=>{var t;const a=(null!==(t=null==e?void 0:e.capabilities)&&void 0!==t?t:[]).find((e=>"capability.cluster.autoscale_clusters"===e.name));return!(!a||"true"!==a.value)},d=e=>{var t;return(null!==(t=null==e?void 0:e.capabilities)&&void 0!==t?t:[]).some((e=>"capability.organization.bypass_pids_limits"===e.name&&"true"===e.value))}},68206:(e,t,a)=>{"use strict";a.r(t),a.d(t,{alertsSeverity:()=>n,getIssuesAndWarnings:()=>E,hasData:()=>f,hasResourceUsageMetrics:()=>v,maxMetricsTimeDelta:()=>g,monitoringItemLinkProps:()=>S,monitoringItemTypes:()=>s,monitoringStatuses:()=>l,operatorsStatuses:()=>r,resourceUsageIssuesHelper:()=>h,thresholds:()=>i});var l,n,r,i,s,o=a(74353),u=a.n(o),d=a(59067),c=a(7028),m=a(38260);!function(e){e.HEALTHY="HEALTHY",e.HAS_ISSUES="HAS_ISSUES",e.DISCONNECTED="DISCONNECTED",e.NO_METRICS="NO_METRICS",e.UPGRADING="UPGRADING",e.UNKNOWN="UNKNOWN"}(l||(l={})),function(e){e.WARNING="warning",e.CRITICAL="critical",e.INFO="info"}(n||(n={})),function(e){e.AVAILABLE="available",e.FAILING="failing",e.UPGRADING="upgrading",e.DEGRADED="degraded",e.UNKNOWN="unknown"}(r||(r={})),function(e){e[e.WARNING=.8]="WARNING",e[e.DANGER=.95]="DANGER"}(i||(i={})),function(e){e.NODE="node",e.ALERT="alert",e.OPERATOR="operator"}(s||(s={}));const p={rel:"noopener noreferrer",target:"_blank"},f=e=>{var t,a;return(null!==(a=null===(t=e.data)||void 0===t?void 0:t.length)&&void 0!==a?a:0)>0},E=({data:e,criteria:t,issuesMatch:a,warningsMatch:l})=>{if(!e||0===e.length)return{issuesCount:null,warningsCount:null};let n=0,r=l?0:null;return e.forEach((e=>{e[t]===a&&(n+=1),null!==l&&null!==r&&e[t]===l&&(r+=1)})),{issuesCount:n,warningsCount:r}},g=3,v=e=>{var t,a,l,n,r,i;const s=u().utc(null!==(a=null===(t=e.metrics)||void 0===t?void 0:t.cpu.updated_timestamp)&&void 0!==a?a:0),o=u().utc(),p=(null===(l=e.subscription)||void 0===l?void 0:l.status)===d.SubscriptionCommonFields.status.ARCHIVED,f=(null===(n=e.subscription)||void 0===n?void 0:n.status)===d.SubscriptionCommonFields.status.DISCONNECTED,E=!!c.default.configData.showOldMetrics;return!p&&!f&&(0,m.hasCpuAndMemory)(null===(r=e.metrics)||void 0===r?void 0:r.cpu,null===(i=e.metrics)||void 0===i?void 0:i.memory)&&(E||o.diff(s,"hour")<g)},h=(e,t,a)=>{if(!(0,m.hasCpuAndMemory)(e,t))return null;let l=0;return e&&e.total.value&&e.used.value/e.total.value>a&&(l+=1),t&&t.total.value&&t.used.value/t.total.value>a&&(l+=1),l},b=e=>{if(null==e?void 0:e.url){let t=e.url;return"/"!==t.charAt(t.length-1)&&(t+="/"),t}return null};function S(e,t,a){const l=b(e);let n;if(l){switch(t){case s.ALERT:n=`${l}monitoring/alerts?orderBy=asc&sortBy=Severity&alert-name=${a}`;break;case s.NODE:n=`${l}k8s/cluster/nodes/${a}`;break;case s.OPERATOR:n=`${l}k8s/cluster/config.openshift.io~v1~ClusterOperator/${a}`;break;default:return null}return{...p,href:n}}return null}},14539:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c,excludedNamespacesAsString:()=>d,routeSelectorPairsAsStrings:()=>o,routeSelectorsAsString:()=>u});var l=a(58156),n=a.n(l),r=a(93413),i=a(58826),s=a(92868);const o=(e={})=>Object.entries(e).map((e=>e.join("=")))||[],u=(e={})=>o(e).join(",")||"",d=e=>(0,r.arrayToString)(e)||"",c=e=>{const{clusterRouters:t}=e,a={};return n()(t,"getRouters.routers",[]).forEach((e=>{const t={routerID:e.id,isDefault:!!e.default,isPrivate:"internal"===e.listening,address:e.dns_name,loadBalancer:e.load_balancer_type,routeSelectors:e.route_selectors,excludedNamespaces:e.excluded_namespaces,isNamespaceOwnershipPolicyStrict:e.route_namespace_ownership_policy!==i.NamespaceOwnershipPolicy.INTER_NAMESPACE_ALLOWED,isWildcardPolicyAllowed:e.route_wildcard_policy===s.WildcardPolicy.WILDCARDS_ALLOWED,tlsSecretRef:e.cluster_routes_tls_secret_ref,hostname:e.cluster_routes_hostname};t.isDefault?a.default=t:a.additional=t})),a}},91176:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,m:()=>u});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(55213);const o="Optional list of namespaces to exclude routes from exposing. If no values are specified, all namespaces will be exposed. Format is a comma-separated list 'value1, value2...'.",u=()=>n().createElement(s.default,{title:"Excluded namespaces",maxWidth:"30rem",hint:n().createElement(r.n,null,n().createElement(i.E,null,'Supply a list of excluded namespaces that will never have routes exposed by the default ingress controller. If no values are specified, all namespaces will be exposed. Format should be a comma-separated list "value1, value2...".'))})},37222:(e,t,a)=>{"use strict";a.d(t,{O:()=>c});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(47482),o=a(78755),u=a(1319),d=a(55213);const c=()=>n().createElement(d.default,{title:"Namespace ownership policy",maxWidth:"30rem",hint:n().createElement(r.n,null,n().createElement(i.E,null,"With ",n().createElement("b",null,"inter-namespace ownership allowed"),", a single hostname can be used in routes of different namespaces. With ",n().createElement("b",null,"strict")," option selected, a hostname can be used in routes of a single namespace only."),n().createElement(i.E,null,n().createElement("b",null,"Mind following example:"),n().createElement("br",null),"hostname.dev/foo in namespace A",n().createElement("br",null),"hostname.dev/bar in namespace B",n().createElement("br",null)),n().createElement(s.B,null,n().createElement(o.X,null,"Inter-namespace ownership allowed"),n().createElement(u.d,null,"possible"),n().createElement(o.X,null,"Strict"),n().createElement(u.d,null,"forbidden")))})},73911:(e,t,a)=>{"use strict";a.d(t,{h:()=>s,i:()=>i});var l=a(93345),n=a.n(l),r=a(55213);const i="Optional list of routes to be exposed. If no selector is specified, all routes will be exposed. Format is a comma-separated list of 'key=value'.",s=()=>n().createElement(r.default,{title:"Router selector",maxWidth:"30rem",hint:n().createElement("div",null,'Exclude routes from the default ingress controller matching a key=value selector. If no selector is specified, all routes will be exposed. Format should be a comma-separated list of "key=value", where the "value" is optional.')})},69751:(e,t,a)=>{"use strict";a.d(t,{S:()=>o});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(55213);const o=()=>n().createElement(s.default,{title:"Wildcard Policy",maxWidth:"30rem",hint:n().createElement(r.n,null,n().createElement(i.E,null,"If enabled, a route can have subdomains on its route."))})},67842:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Y});var l=a(71468),n=a(23271),r=a(54910),i=a(82399),s=a(91089),o=a(88851);const u=e=>(0,o.isMajorMinorEqualOrGreater)(e,4,13),d=(e,t)=>!t||u(e);var c=a(14539),m=a(93345),p=a.n(m),f=a(60915),E=a(6229),g=a(983),v=a(83349),h=a(56780),b=a(23285),S=a(51976),_=a(22069),C=a(22546),y=a(72972),I=a(34091),A=a(62384),R=a(12200),T=a(43775),O=a(45570),P=a(63354),D=a(14419),L=a(44021),N=a(16165),w=a(46942),M=a.n(w),k=a(21702),F=a(84037),x=a(91176),G=a(37222),U=a(73911),j=a(69751),H=a(71504),V=a(77218);const q=({className:e,areFieldsDisabled:t,isDay2:a,hasSufficientIngressEditVersion:l,canEditLoadBalancer:n,canShowLoadBalancer:r,isHypershiftCluster:s})=>p().createElement(p().Fragment,null,a&&p().createElement(h.g,{fieldId:"default_router_address",label:"Default application router",isStack:!0,isRequired:!0},p().createElement(k.A,{component:V.ReduxVerticalFormGroup,name:"default_router_address",type:"text",disabled:!0,helpText:"Address of application routes."}),p().createElement(k.A,{component:V.ReduxCheckbox,name:"private_default_router",label:"Make router private"})),l&&!s&&p().createElement(h.g,{className:e,label:"Route selector",labelIcon:p().createElement(U.h,null)},p().createElement(k.A,{component:V.ReduxVerticalFormGroup,name:"defaultRouterSelectors","data-testid":"router-selectors",type:"text",validate:F.checkRouteSelectors,disabled:t,helpText:U.i,showHelpTextOnError:!1})),l&&!s&&p().createElement(h.g,{className:e,label:"Excluded namespaces",labelIcon:p().createElement(x.m,null)},p().createElement(k.A,{component:V.ReduxVerticalFormGroup,name:"defaultRouterExcludedNamespacesFlag","data-testid":"excluded-namespaces",type:"text",validate:F.validateNamespacesList,disabled:t,helpText:x.$,showHelpTextOnError:!1})),a&&l&&!s&&p().createElement(p().Fragment,null,p().createElement(h.g,{className:e,label:"TLS Secret name"},p().createElement(k.A,{component:V.ReduxVerticalFormGroup,name:"clusterRoutesTlsSecretRef",type:"text",validate:F.validateTlsSecretName,disabled:t,helpText:"The name of a secret holding custom TLS certificate, in the openshift-config namespace. Optional.",showHelpTextOnError:!1})),p().createElement(h.g,{className:e,label:"Hostname"},p().createElement(k.A,{component:V.ReduxVerticalFormGroup,name:"clusterRoutesHostname",type:"text",validate:F.validateTlsHostname,disabled:t,helpText:"The cluster routes hostname the TLS certificate is issued for.",showHelpTextOnError:!1}))),l&&!s&&p().createElement(h.g,{className:e,fieldId:"isDefaultRouterNamespaceOwnershipPolicyStrict",label:"Namespace ownership policy",labelIcon:p().createElement(G.O,null)},p().createElement(k.A,{id:"isDefaultRouterNamespaceOwnershipPolicyStrict",component:V.ReduxCheckbox,name:"isDefaultRouterNamespaceOwnershipPolicyStrict",disabled:t,label:"Strict",labelOff:"Inter-namespace ownership allowed",isSwitch:!0})),l&&!s&&p().createElement(h.g,{className:e,fieldId:"isDefaultRouterWildcardPolicyAllowed",label:"Wildcard policy",labelIcon:p().createElement(j.S,null)},p().createElement(k.A,{id:"isDefaultRouterWildcardPolicyAllowed",component:V.ReduxCheckbox,name:"isDefaultRouterWildcardPolicyAllowed",disabled:t,label:"Allowed",labelOff:"Disallowed",isSwitch:!0})),r&&!s&&p().createElement(h.g,{fieldId:"load_balancer_group",label:"Load balancer type",className:M()("pf-v5-u-pb-md",e),labelIcon:p().createElement(H.A,null)},p().createElement(k.A,{id:"load_balancer_group",component:V.ReduxCheckbox,name:"is_nlb_load_balancer",disabled:!n,label:O.b[i.LoadBalancerFlavor.NLB],labelOff:O.b[i.LoadBalancerFlavor.CLASSIC],isSwitch:!0})));var z=a(55816),B=a(28592);const W=(0,P.A)({form:"EditApplicationIngress",enableReinitialize:!0})((({isOpen:e=!1,editClusterRoutersResponse:t,closeModal:a=(()=>{}),reset:l,handleSubmit:n,resetResponse:r=(()=>{}),valid:i,pristine:s,hasSufficientIngressEditVersion:o,canEditLoadBalancer:u,canShowLoadBalancer:d,isHypershiftCluster:c})=>{if(!e)return null;const m=(null==t?void 0:t.error)?p().createElement(z.default,{message:"Error editing application ingress",response:t}):null,f=()=>{l(),r(),a()};return p().createElement(B.default,{variant:N.d.medium,primaryText:"Save",secondaryText:"Cancel",title:"Edit application ingress",onClose:f,onPrimaryClick:n,onSecondaryClick:f,isPending:null==t?void 0:t.pending,isPrimaryDisabled:!i||s},m,p().createElement(v.l,null,p().createElement(q,{isDay2:!0,hasSufficientIngressEditVersion:o,canEditLoadBalancer:u,canShowLoadBalancer:d,areFieldsDisabled:c,isHypershiftCluster:c})))})),$=(0,l.Ng)((e=>{var t,a,l,s,o,m,p,f,E,g,v,h,b,S,_;const{cluster:C}=null!==(a=null===(t=e.clusters)||void 0===t?void 0:t.details)&&void 0!==a?a:{},y=null===(l=null==C?void 0:C.cloud_provider)||void 0===l?void 0:l.id,I=y===r.CloudProviderType.Aws,A=!0===(null===(o=null===(s=null==C?void 0:C.aws)||void 0===s?void 0:s.sts)||void 0===o?void 0:o.enabled),R=(0,c.default)(e),O=null===(m=R.default)||void 0===m?void 0:m.tlsSecretRef,P=(null==C?void 0:C.openshift_version)||(null===(p=null==C?void 0:C.version)||void 0===p?void 0:p.raw_id)||"",L=u(P),N=I,w=N&&d(P,A),M=L?{defaultRouterSelectors:(0,c.routeSelectorsAsString)(null===(f=R.default)||void 0===f?void 0:f.routeSelectors),defaultRouterExcludedNamespacesFlag:(0,c.excludedNamespacesAsString)(null===(E=R.default)||void 0===E?void 0:E.excludedNamespaces),isDefaultRouterNamespaceOwnershipPolicyStrict:null===(g=R.default)||void 0===g?void 0:g.isNamespaceOwnershipPolicyStrict,isDefaultRouterWildcardPolicyAllowed:null===(v=R.default)||void 0===v?void 0:v.isWildcardPolicyAllowed,clusterRoutesTlsSecretRef:O,clusterRoutesHostname:null===(h=R.default)||void 0===h?void 0:h.hostname}:void 0;return{initialValues:{private_default_router:null===(b=R.default)||void 0===b?void 0:b.isPrivate,is_nlb_load_balancer:(null===(S=R.default)||void 0===S?void 0:S.loadBalancer)===i.LoadBalancerFlavor.NLB,default_router_address:null===(_=R.default)||void 0===_?void 0:_.address,...M},isOpen:(0,D.default)(e,T.default.EDIT_APPLICATION_INGRESS),clusterID:(null==C?void 0:C.id)||"",provider:y,clusterRouters:R,editClusterRoutersResponse:e.clusterRouters.editRouters,hasSufficientIngressEditVersion:L,canEditLoadBalancer:w,canShowLoadBalancer:N,isHypershiftCluster:(0,n.isHypershiftCluster)(C)}}),(e=>({resetResponse:()=>e((0,L.resetEditRoutersResponse)()),closeModal:()=>e((0,s.closeModal)()),onSubmit:(t,a,l)=>{const n={...a};e((0,L.saveNetworkingConfiguration)(t,n,l))}})),((e,t,a)=>({...a,...e,...t,onSubmit:a=>{t.onSubmit(a,e.clusterRouters,e.clusterID)}})))(W),Y=(0,l.Ng)((e=>{var t,a,l,s,o;const{cluster:m}=e.clusters.details,p=(0,c.default)(e),f=null===(t=m.cloud_provider)||void 0===t?void 0:t.id,E=(0,n.isHypershiftCluster)(m),g=f===r.CloudProviderType.Aws,{canEdit:v}=m,h="read_only"===(null===(a=null==m?void 0:m.status)||void 0===a?void 0:a.configuration_mode),b=!0===(null===(s=null===(l=null==m?void 0:m.aws)||void 0===l?void 0:l.sts)||void 0===s?void 0:s.enabled),S=(0,n.isHibernating)(m),_=(null==m?void 0:m.openshift_version)||(null===(o=null==m?void 0:m.version)||void 0===o?void 0:o.raw_id)||"",C=!E&&u(_),y=d(_,b),I=g&&!E,{routeSelectors:A,excludedNamespaces:R,loadBalancer:T,address:O,isPrivate:P,tlsSecretRef:D,isWildcardPolicyAllowed:L,isNamespaceOwnershipPolicyStrict:N,hostname:w}=p.default||{};return{provider:f,canEdit:!!v,isReadOnly:h,clusterHibernating:S,isNLB:T===i.LoadBalancerFlavor.NLB,hasSufficientIngressEditVersion:C,canEditLoadBalancer:y,canShowLoadBalancer:I,clusterRoutesTlsSecretRef:D,clusterRoutesHostname:w,defaultRouterAddress:O,isDefaultRouterPrivate:P,defaultRouterSelectors:A,defaultRouterExcludedNamespacesFlag:R,isDefaultIngressWildcardPolicyAllowed:L,isDefaultRouterNamespaceOwnershipPolicyStrict:!!N}}),(e=>({openModal:t=>e((0,s.openModal)(t))})))((({canEdit:e,isReadOnly:t,clusterHibernating:a,isNLB:l,canEditLoadBalancer:n,canShowLoadBalancer:r,hasSufficientIngressEditVersion:s,clusterRoutesTlsSecretRef:o,clusterRoutesHostname:u,defaultRouterAddress:d,isDefaultRouterPrivate:m,defaultRouterSelectors:P,defaultRouterExcludedNamespacesFlag:D,isDefaultIngressWildcardPolicyAllowed:L,isDefaultRouterNamespaceOwnershipPolicyStrict:N,openModal:w})=>{var M;const k=(({canEdit:e,isReadOnly:t,clusterHibernating:a,hasSufficientIngressEditVersion:l,canEditLoadBalancer:n})=>(n||l?t&&"This operation is not available during maintenance":"This operation is available for clusters of version 4.13 or higher.")||a&&"This operation is not available while cluster is hibernating"||!e&&"You do not have permission to edit routers. Only cluster owners, cluster editors, and organization administrators can edit routers.")({canEdit:e,isReadOnly:t,clusterHibernating:a,hasSufficientIngressEditVersion:s,canEditLoadBalancer:n});return p().createElement(f.Z,{className:"ocm-c-networking-application-ingress__card"},p().createElement(E.Z,null,"Application ingress"),p().createElement(g.b,null,p().createElement(v.l,{isHorizontal:!0},p().createElement(h.g,{fieldId:"default_router_address",label:"Default application router",isStack:!0},p().createElement(b.ks,{id:"default_router_address",value:`*.${d}`,readOnlyVariant:"default"}),p().createElement(S.n,null,p().createElement(_.E,{component:_.Y.small},(m||(0,A.isRestrictedEnv)()?"Private":"Public")+" router"))),s&&p().createElement(p().Fragment,null,p().createElement(h.g,{fieldId:"defaultRouterSelectors",label:"Route selector",labelIcon:p().createElement(U.h,null),isStack:!0},p().createElement(b.ks,{id:"defaultRouterSelectors",value:null!==(M=(0,c.routeSelectorsAsString)(P))&&void 0!==M?M:"",isDisabled:!0})),p().createElement(h.g,{fieldId:"defaultRouterExcludedNamespacesFlag",label:"Excluded namespaces",labelIcon:p().createElement(x.m,null),isStack:!0},p().createElement(b.ks,{id:"defaultRouterExcludedNamespacesFlag",value:(0,c.excludedNamespacesAsString)(D),isDisabled:!0})),p().createElement(h.g,{fieldId:"clusterRoutesTlsSecretRef",label:"TLS Secret name",isStack:!0},p().createElement(b.ks,{id:"clusterRoutesTlsSecretRef",value:o,isDisabled:!0})),p().createElement(h.g,{fieldId:"clusterRoutesHostname",label:"Hostname",isStack:!0},p().createElement(b.ks,{id:"clusterRoutesHostname",value:u,isDisabled:!0})),p().createElement(h.g,{label:"Namespace ownership policy",labelIcon:p().createElement(G.O,null),isStack:!0},p().createElement(C.d,{label:"Strict",labelOff:"Inter-namespace ownership",isChecked:N,isDisabled:!0})),p().createElement(h.g,{label:"Wildcard policy",labelIcon:p().createElement(j.S,null),isStack:!0},p().createElement(C.d,{label:"Allowed",labelOff:"Disallowed",isChecked:L,isDisabled:!0}))),r&&p().createElement(h.g,{label:"Load balancer type",labelIcon:p().createElement(H.A,null)},p().createElement(C.d,{label:O.b[i.LoadBalancerFlavor.NLB],labelOff:O.b[i.LoadBalancerFlavor.CLASSIC],isChecked:l,isDisabled:!0})),p().createElement($,null))),p().createElement(y.w,null,p().createElement(I.l,null,p().createElement(R.default,{variant:"secondary",onClick:()=>{w(T.default.EDIT_APPLICATION_INGRESS)},disableReason:k,isAriaDisabled:!!k},"Edit application ingress"))))}))},71504:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l=a(93345),n=a.n(l),r=a(65702),i=a(8888),s=a(55213);const o=()=>n().createElement(s.default,{title:"Load Balancers",maxWidth:"30rem",hint:n().createElement("div",null,"Load balancers automatically distribute your incoming traffic to multiple servers. If you need features such as static IP, source IP address preservation and other features documented by AWS, we recommend using the Network Load Balancer. If you are using EC2-Classic Network, we recommend using Classic.",n().createElement("br",null),n().createElement(i.default,{href:r.default.AWS_LOAD_BALANCER_FEATURES},"Learn more about AWS load balancers."),n().createElement("br",null),n().createElement(i.default,{href:r.default.MANAGED_INGRESS_KNOWLEDGE_BASE},"Learn more about setting load balancers in OCP."))})},45570:(e,t,a)=>{"use strict";a.d(t,{b:()=>n});var l=a(82399);const n={[l.LoadBalancerFlavor.CLASSIC]:"Classic Load Balancer",[l.LoadBalancerFlavor.NLB]:"Network Load Balancer"}},15113:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(10423),u=a(983),d=a(23557),c=a(25514),m=a(48075),p=a(76980),f=a(29937);const E=(e=0,t="USD")=>e.toLocaleString("en",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2});var g=a(47979),v=a(46273);const h=({values:e,index:t,text:a,...l})=>n().createElement(v.j,{...l,style:[{fontWeight:600},{}],text:[e[t],a]}),b=({values:e})=>n().createElement(g._,{gutter:25,itemsPerRow:2,labelComponent:n().createElement(h,{dy:10,lineHeight:1.5,values:e}),rowGutter:20}),S="Raw cost",_="Markup",C="Usage cost",y=({report:e,height:t,width:a})=>{var l,r,i,s,o,u,d,c,m,p,g,v,h,y;const I=null===(r=null===(l=null==e?void 0:e.meta)||void 0===l?void 0:l.total)||void 0===r?void 0:r.cost,A=null!==(s=null===(i=null==I?void 0:I.markup)||void 0===i?void 0:i.units)&&void 0!==s?s:"USD",R=null!==(u=null===(o=null==I?void 0:I.raw)||void 0===o?void 0:o.units)&&void 0!==u?u:"USD",T=null!==(c=null===(d=null==I?void 0:I.usage)||void 0===d?void 0:d.units)&&void 0!==c?c:"USD",O=null!==(p=null===(m=null==I?void 0:I.markup)||void 0===m?void 0:m.value)&&void 0!==p?p:0,P=null!==(v=null===(g=null==I?void 0:I.raw)||void 0===g?void 0:g.value)&&void 0!==v?v:0,D=null!==(y=null===(h=null==I?void 0:I.usage)||void 0===h?void 0:h.value)&&void 0!==y?y:0,L=E(O,A),N=E(P,R),w=E(D,T);return n().createElement(f.P,{ariaDesc:"Cost breakdown",constrainToVisibleArea:!0,data:[{x:S,y:P,units:R},{x:_,y:O,units:A},{x:C,y:D,units:T}],height:t,labels:({datum:e})=>`${e.x}: ${E(e.y,e.units)}`,legendComponent:n().createElement(b,{values:[N,L,w]}),legendData:[{name:S},{name:_},{name:C}],legendOrientation:"vertical",legendPosition:"right",padding:{bottom:30,left:0,right:225,top:30},legendAllowWrap:!0,width:a})},I=({report:e})=>e.fulfilled?n().createElement(n().Fragment,null,n().createElement(o.h,{className:"ocm--cost-title",size:"md",headingLevel:"h2"},"Total cost",n().createElement("span",{className:"ocm--cost-total"}," ",(e=>{var t,a,l,n,r,i,s,o,u,d;const c=null!==(r=null===(n=null===(l=null===(a=null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.total)||void 0===a?void 0:a.cost)||void 0===l?void 0:l.total)||void 0===n?void 0:n.value)&&void 0!==r?r:0,m=null!==(d=null===(u=null===(o=null===(s=null===(i=null==e?void 0:e.meta)||void 0===i?void 0:i.total)||void 0===s?void 0:s.cost)||void 0===o?void 0:o.total)||void 0===u?void 0:u.units)&&void 0!==d?d:"USD";return E(c,m)})(e))),n().createElement("div",{style:{maxHeight:185,maxWidth:350}},n().createElement(y,{report:e,height:185,width:350}))):n().createElement(p.A,{size:"md"}),A=({clusterId:e})=>{var t;const a=(0,r.wA)(),{report:p,sources:f}=(0,c.useGlobalState)((e=>e.cost));(0,l.useEffect)((()=>{a((0,d.getReport)({filter:{cluster:e}})),a((0,d.getSources)({type:"OCP"}))}),[e,a]);const E=(0,l.useMemo)((()=>{var e,t;return void 0!==(null===(e=null==f?void 0:f.meta)||void 0===e?void 0:e.count)&&0!==(null===(t=null==f?void 0:f.meta)||void 0===t?void 0:t.count)}),[null===(t=null==f?void 0:f.meta)||void 0===t?void 0:t.count]);return n().createElement(i.Z,{className:"ocm--cost-breakdown-card"},n().createElement(s.Z,null,n().createElement(o.h,{size:"lg",headingLevel:"h2"},"Cost breakdown")),n().createElement(u.b,{className:"ocm--cost-breakdown-card__body"},!E&&f.fulfilled?n().createElement(m.A,null):n().createElement(I,{report:p})))}},79824:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ClusterStatus:()=>u});var l=a(93345),n=a.n(l),r=a(96998),i=a(30535),s=a(23271);const o=e=>(null==e?void 0:e.filter((e=>{var t;const a=null===(t=e.status)||void 0===t?void 0:t.current_replicas;return void 0!==a&&(e.autoscaling?!(!e.autoscaling.min_replica||!e.autoscaling.max_replica)&&a>=e.autoscaling.min_replica&&a<=e.autoscaling.max_replica:void 0!==e.replicas&&e.replicas===a)})).length)||0,u=({cluster:e,limitedSupport:t,machinePools:a})=>{const[u,d]=(0,l.useState)(),[c,m]=(0,l.useState)();(0,l.useEffect)((()=>{d((0,s.isHypershiftCluster)(e)),m((0,s.getClusterStateAndDescription)(e))}),[e]);const p=()=>{if((null==c?void 0:c.state)===s.default.UNINSTALLING)return s.default.UNINSTALLING;if(a&&0===o(a)&&0===a.length)switch(null==c?void 0:c.state){case s.default.WAITING:return s.default.WAITING;case s.default.INSTALLING:case s.default.VALIDATING:return s.default.PENDING;default:return s.default.DEPROVISIONED}return a&&o(a)===a.length?s.default.READY:s.default.PENDING},f=n().createElement(i.default,{clusterState:null==c?void 0:c.state,limitedSupport:t,animated:!0});return u?n().createElement(n().Fragment,null,n().createElement(r.s,{alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsXs"},"data-testid":"control-plane-status"},n().createElement("span",{className:"pf-v5-u-mr-sm"},"Control plane:"),f,n().createElement("div",null,null==c?void 0:c.description)),a?n().createElement(r.s,{alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsXs"},"data-testid":"machine-pools-status"},n().createElement("span",{className:"pf-v5-u-mr-sm"},"Machine pools:"),n().createElement(i.default,{clusterState:p(),limitedSupport:t,animated:!0}),n().createElement("div",null,(0,s.getStateDescription)(p())," ",o(a)," /"," ",a.length)):null):n().createElement(n().Fragment,null,f,n().createElement("span",{className:"pf-v5-u-ml-xs"},null==c?void 0:c.description))}},51503:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(93345),n=a.n(l),r=a(71468),i=a(32034),s=a(78755),o=a(1319),u=a(12200),d=a(91089),c=a(43775),m=a(25514);const p=({protectionEnabled:e,clusterID:t,canToggle:a,isUninstalling:p})=>{const f=(0,r.wA)(),E=!a&&`You do not have permission to ${e?"disable":"enable"} Delete Protection. Only cluster owners, cluster editors, and Organization Administrators can ${e?"disable":"enable"} Delete Protection.`,g=(0,m.useGlobalState)((e=>e.clusters.details)),v=(0,m.useGlobalState)((e=>e.deleteProtection.updateDeleteProtection)),[h,b]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{v.pending&&b(!0)}),[v.pending]),(0,l.useEffect)((()=>{(g.fulfilled||v.error)&&b(!1)}),[g.fulfilled,v.error]),n().createElement(i.W,null,n().createElement(s.X,null,"Delete Protection: "+(e?"Enabled":"Disabled")),n().createElement(o.d,null,p?n().createElement("span",null,"N/A"):n().createElement(u.default,{isDisabled:h,variant:"link",isInline:!0,onClick:()=>f((0,d.openModal)(c.default.DELETE_PROTECTION,{clusterID:t,protectionEnabled:e})),disableReason:E,isAriaDisabled:!!E},e?"Disable":"Enable")))}},61934:(e,t,a)=>{"use strict";a.d(t,{_f:()=>s,xJ:()=>u,y8:()=>o});var l=a(77475),n=a(73410);const r="UPDATE_DELETE_PROTECTION",i="CLEAR_UPDATE_DELETE_PROTECTION_RESPONSE",s={UPDATE_DELETE_PROTECTION:r,CLEAR_UPDATE_DELETE_PROTECTION_RESPONSE:i},o=(e,t)=>(0,l.action)(r,n.clusterService.updateDeleteProtection(e,t)),u=()=>(0,l.action)(i)},56362:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(93345),n=a.n(l),r=a(71468),i=a(76980),s=a(87201),o=a(25514),u=a(10314);const d=({clusterVersion:e})=>{var t;const a=null!==(t=(0,o.useGlobalState)((e=>e.supportStatus)))&&void 0!==t?t:{},d=(0,l.useMemo)((()=>/^[4-6]\.\d{1,3}(\.\d{1,3})?$/),[]),c=(0,l.useMemo)((()=>{var t;return null===(t=a.supportStatus)||void 0===t?void 0:t[e.split(".",2).join(".")]}),[e,a.supportStatus]),m=(0,l.useMemo)((()=>!e||"N/A"===e||a.error||!c||!d.test(e)),[e,c,a.error,d]),p=(0,r.wA)();return(0,l.useEffect)((()=>{a.fulfilled||a.pending||p((0,s.O)())}),[p,a.fulfilled,a.pending]),a.pending?n().createElement(i.A,{className:"inline-skeleton",size:"sm"}):m?n().createElement(n().Fragment,null,"N/A"):n().createElement(u.A,{status:c})}},19214:(e,t,a)=>{"use strict";a.d(t,{A:()=>f});var l=a(93345),n=a.n(l),r=a(23215),i=a(56780),s=a(91332),o=a(18960),u=a(93413),d=a(84037),c=a(38715),m=a(8111),p=a(5421);const f=({label:e="Security groups",selectedVPC:t,selectedGroupIds:a,onChange:l,isReadOnly:f,isHypershift:E})=>{const[g,v]=n().useState(!1),h=t.aws_security_groups||[],b=!f&&a.some((e=>h.every((t=>t.id!==e)))),S=h.filter((e=>a.includes(e.id||"")));if(S.sort(m.vI),n().useEffect((()=>{b&&l([])}),[l,b]),f)return n().createElement(p.A,{securityGroups:S,emptyMessage:"This machine pool does not have additional security groups.",isReadOnly:!0});const _=e=>{const t=a.filter((t=>t!==e));l(t)},C=(0,d.validateSecurityGroups)(a,E);return n().createElement(r.E,{"data-testtag":"text-securitygroups"},n().createElement(i.g,{fieldId:"securityGroupIds",label:e,className:"pf-v5-u-mt-md"},n().createElement(n().Fragment,null,n().createElement(p.A,{securityGroups:S,isReadOnly:!1,onClickItem:_}),n().createElement(s.l,{"data-testid":"securitygroups-id",variant:"checkbox",selections:a,isOpen:g,placeholderText:"Select security groups","aria-labelledby":"Select AWS security groups",onToggle:(e,t)=>v(t),onSelect:(e,t)=>{const n=t;if(a.includes(n))_(n);else{const e=a.concat(n),t=h.filter((t=>e.includes(t.id||"")));t.sort(m.vI),l(t.map((e=>e.id||"")))}},maxHeight:300,menuAppendTo:document.getElementById("edit-mp-modal")||void 0},h.map((({id:e="",name:t=""})=>{const{displayName:a,isCut:l}=(e=>{if(e){const t=50;return{displayName:(0,u.truncateTextWithEllipsis)(e,t),isCut:e.length>t}}return{displayName:"--",isCut:!1}})(t);return n().createElement(o.O,{key:e,value:e,description:e,title:l?t:""},a)}))))),n().createElement(c.FormGroupHelperText,{touched:!0,error:C}))}},12807:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(69304),i=a(89340);const s=e=>{const t=[];return e.forEach((e=>{var a,l,n;const r=(null===(a=null==e?void 0:e.aws)||void 0===a?void 0:a.additional_security_group_ids)||(null===(l=null==e?void 0:e.aws_node_pool)||void 0===l?void 0:l.additional_security_group_ids)||[];null!==(n=null==r?void 0:r.length)&&void 0!==n&&n&&t.push(...r||[])})),[...new Set(t)]},o=({securityGroups:e=[],securityGroupIdsForControl:t=[],securityGroupIdsForInfra:a=[],machinePoolData:l=[],showLinkToMachinePools:o=!1,showWorkerNodesTogether:u=!1})=>n().createElement(n().Fragment,null,t.length>0&&n().createElement("dd",{key:"sg-detail-display-controlplane-nodes"},n().createElement(i.MachinePoolItemList,{title:"Control plane nodes",items:(0,i.securityGroupsRenderer)(t,e||[]),showSmallTitle:!0})),a.length>0&&n().createElement("dd",{key:"sg-detail-display-infra-nodes"},n().createElement(i.MachinePoolItemList,{title:"Infrastructure nodes",items:(0,i.securityGroupsRenderer)(a,e||[]),showSmallTitle:!0})),!u&&l.map((t=>{var a,l;const r=(null===(a=null==t?void 0:t.aws)||void 0===a?void 0:a.additional_security_group_ids)||(null===(l=null==t?void 0:t.aws_node_pool)||void 0===l?void 0:l.additional_security_group_ids)||[];return((null==r?void 0:r.length)||0)>0&&n().createElement("dd",{key:`sg-detail-display-compute-nodes-${null==t?void 0:t.id}`},n().createElement(i.MachinePoolItemList,{title:`Compute (${null==t?void 0:t.id}) nodes `,items:(0,i.securityGroupsRenderer)(r,e||[]),showSmallTitle:!0}))})),u&&n().createElement("dd",{key:"sg-detail-display-all-compute-nodes"},n().createElement(i.MachinePoolItemList,{title:"Compute nodes ",items:(0,i.securityGroupsRenderer)(s(l)||[],e||[]),showSmallTitle:!0})),o&&s(l).length>0&&n().createElement("dt",null,"See more information in the ",n().createElement(r.Link,{to:{hash:"#machinePools"}},"machine pools tab")))},13865:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l=a(93345),n=a.n(l),r=a(70460),i=a(65702),s=a(8888);const o=()=>n().createElement(r.F,{variant:"info",isInline:!0,title:"There are no security groups for this Virtual Private Cloud"},"To add security groups, go to the"," ",n().createElement(s.default,{href:i.default.AWS_CONSOLE_SECURITY_GROUPS},"Security groups section")," of your AWS console."," ")},99329:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l=a(93345),n=a.n(l),r=a(70460),i=a(30155),s=a(65702);const o=({isRosa:e})=>n().createElement(r.F,{variant:"info",isInline:!0,title:"You cannot add or edit security groups associated with the control plane nodes, infrastructure nodes, or machine pools that were created by default during cluster creation.",actionLinks:n().createElement(n().Fragment,null,n().createElement(i.v,{component:"a",href:e?s.default.ROSA_SECURITY_GROUPS:s.default.OSD_SECURITY_GROUPS,target:"_blank"},"View more information"),n().createElement(i.v,{component:"a",href:s.default.AWS_CONSOLE_SECURITY_GROUPS,target:"_blank"},"AWS security groups console"))})},5421:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(93345),n=a.n(l),r=a(19938),i=a(35665);const s=({securityGroups:e,isReadOnly:t,emptyMessage:a,onClickItem:l})=>{const s=e.length;return 0===s?a?n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-disabled-color-100"},a):null:n().createElement(r.I,{className:"pf-v5-u-mb-lg",numChips:s},e.map((e=>{const{id:a=""}=e,r=l?()=>l(a):void 0;return n().createElement(i.v,{id:a,key:a,isReadOnly:t,onClick:r,textMaxWidth:"50ch"},e.name||a)})))}},73850:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var l=a(93345),n=a.n(l),r=a(71468),i=a(83349),s=a(56780),o=a(23285),u=a(38715),d=a(14419),c=a(13683),m=a(25514),p=a(84037),f=a(28592),E=a(91089);const g=()=>{const e=!1,t=(0,m.useGlobalState)((e=>(0,d.default)(e,"add-notification-contact"))),{cluster:a}=(0,m.useGlobalState)((e=>e.clusters.details)),{addContactResponse:g}=(0,m.useGlobalState)((e=>e.clusterSupport)),[v,h]=(0,l.useState)(""),[b,S]=(0,l.useState)(e),_=(0,r.wA)(),C=(0,l.useCallback)((()=>{_((0,c.clearAddNotificationContacts)()),_((0,E.closeModal)()),h(""),S(e)}),[_,"",e]);(0,l.useEffect)((()=>{g.fulfilled&&C()}),[g.fulfilled,C]);const y=b?(0,p.validateRHITUsername)(v):g.errorMessage,I=()=>{var e;!y&&(null===(e=a.subscription)||void 0===e?void 0:e.id)&&(S(!1),_((0,c.addNotificationContact)(a.subscription.id,v)))};return t?n().createElement(f.default,{title:"Add notification contact",onClose:C,primaryText:"Add contact",secondaryText:"Cancel",onPrimaryClick:I,onSecondaryClick:C,isPrimaryDisabled:!!y||g.pending||""===v,isPending:g.pending},n().createElement("p",{className:"pf-v5-u-mb-xl"},"Identify the user to be added as notification contact. These users will be contacted in the event of notifications about this cluster."),n().createElement(i.l,{className:"control-form-cursor",onSubmit:e=>{I(),e.preventDefault()}},n().createElement(s.g,{label:"Red Hat username or email",isRequired:!0,fieldId:"username"},n().createElement(o.ks,{value:v,isRequired:!0,id:"username",type:"text",validated:y?"error":"default",onChange:(e,t)=>(e=>{h(e),S(!0)})(t),"aria-label":"user name"}),n().createElement(u.FormGroupHelperText,{touched:!0,error:y})))):null}},98935:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(983),u=a(75166),d=a(91089),c=a(25514),m=a(43775),p=a(12200);const f=({canEdit:e,openModal:t})=>n().createElement(p.default,{disableReason:e?null:"You do not have permission to add a Notification Contact. Only cluster owners, cluster editors, and Organization Administrators can add them.",onClick:()=>t(m.default.ADD_NOTIFICATION_CONTACT),variant:"secondary",className:"access-control-add"},"Add notification contact"),E=({email:e})=>e?n().createElement(n().Fragment,null,n().createElement("br",null),"The cluster owner will always receive notifications, at email address <",e,"> , in addition to this list of notification contacts."):null;var g=a(33675),v=a(73683),h=a(30496),b=a(32569),S=a(68923),_=a(3678),C=a(55816),y=a(13683);const I=({subscriptionID:e,isDisabled:t})=>{const a=(0,r.wA)(),{notificationContacts:i,addContactResponse:s,deleteContactResponse:o}=(0,c.useGlobalState)((e=>e.clusterSupport)),[u,d]=(0,l.useState)(),[m,p]=(0,l.useState)();(0,l.useEffect)((()=>()=>{a((0,y.clearNotificationContacts)())}),[a]),(0,l.useEffect)((()=>{i.subscriptionID===e&&i.pending||a((0,y.getNotificationContacts)(e))}),[i.subscriptionID,e,a]),(0,l.useEffect)((()=>{if(s.fulfilled&&u){const e=1===s.count?"Notification contact added successfully":`${s.count} notification contacts added successfully`;a((0,_.addNotification)({variant:"success",title:e,dismissable:!1}))}(o.fulfilled&&m||s.fulfilled&&u)&&!i.pending&&(a((0,y.clearDeleteNotificationContacts)()),a((0,y.getNotificationContacts)(e))),d(s.pending),p(o.pending)}),[s.count,s.fulfilled,s.pending,o.fulfilled,o.pending,a,i.pending,u,m,e]);const f=(0,l.useMemo)((()=>[{title:"Delete",onClick:(t,l,n,r)=>{a((0,y.clearDeleteNotificationContacts)()),a((0,y.deleteNotificationContact)(e,n.userID))},className:"hand-pointer"}]),[a,e]),E=(0,l.useMemo)((()=>{var e;return null===(e=i.contacts)||void 0===e?void 0:e.map((({username:e,email:t,firstName:a,lastName:l,userID:n})=>({cells:[e,t,a,l],userID:n})))}),[i.contacts]);return i.contacts&&i.contacts.length?n().createElement(n().Fragment,null,o.error&&n().createElement(g.p,null,n().createElement(C.default,{message:"Error deleting Notification Contact",response:o})),n().createElement(h.X,{"aria-label":"Notification Contacts",actions:f,variant:v.a.compact,cells:[{title:"Username"},{title:"Email"},{title:"First Name"},{title:"Last Name"}],rows:E,areActionsDisabled:()=>t},n().createElement(b.A,null),n().createElement(S.B,null))):null};var A=a(72583),R=a(75279),T=a(62384),O=a(74353),P=a.n(O);const D={OSD:"OpenShift Dedicated",ROSA:"Red Hat OpenShift Service on AWS",ARO:"OpenShift Managed (Azure)",OCP:"OpenShift Container Platform"},L=[{title:"Case ID"},{title:"Issue summary"},{title:"Owner"},{title:"Modified by"},{title:"Severity"},{title:"Status"}],N=(e,t,a)=>{if((0,T.isRestrictedEnv)())return T.SUPPORT_CASE_URL;const l=e?D[e]:"";return`https://access.redhat.com/support/cases/#/case/new/open-case/describe-issue?clusterId=${a}&caseCreate=true&product=${encodeURIComponent(l)}&version=${"OCP"!==e?encodeURIComponent(l):t}`},w=e=>{const t=n().createElement("a",{href:`https://access.redhat.com/support/cases/#/case/${e.caseID}`,target:"_blank",rel:"noopener noreferrer"},e.caseID),a=P().utc(e.lastModifiedDate).format("D MMM YYYY"),l=n().createElement(n().Fragment,null,e.lastModifiedBy,n().createElement("br",null),a);return{cells:[t,e.summary,e.ownerID,l,e.severity,e.status],caseID:e.caseID}},M=({subscriptionID:e,isDisabled:t=!1})=>{var a,i;const s=(0,c.useGlobalState)((e=>e.clusters.details.cluster)),o=null===(i=null===(a=s.subscription)||void 0===a?void 0:a.plan)||void 0===i?void 0:i.type,{supportCases:d={cases:[],pending:!1,subscriptionID:""}}=(0,c.useGlobalState)((e=>e.clusterSupport)),m=(0,r.wA)();(0,l.useEffect)((()=>{(0,T.isRestrictedEnv)()||d.subscriptionID===e&&d.pending||m((0,y.getSupportCases)(e))}),[m,e,d.subscriptionID]);const p=(0,l.useMemo)((()=>{var e;return null===(e=d.cases)||void 0===e?void 0:e.map(w)}),[d.cases]),f=(0,l.useMemo)((()=>p&&p.length>0),[p]),E=o!==u.normalizedProducts.OSDTRIAL&&!t;return n().createElement(n().Fragment,null,E&&n().createElement("a",{href:N(o,s.openshift_version,s.external_id),target:"_blank",rel:"noopener noreferrer","data-testid":"support-case-btn"},n().createElement(A.$n,{variant:"secondary"},"Open support case")),!(0,T.isRestrictedEnv)()&&n().createElement(n().Fragment,null,n().createElement(h.X,{"aria-label":"Support Cases",variant:v.a.compact,cells:L,rows:p,"data-testid":"support-cases-table"},n().createElement(b.A,null),n().createElement(S.B,null)),!f&&n().createElement(g.p,{variant:g.s.sm},n().createElement(R.h,null,"You have no open support cases"))))},k=({isDisabled:e=!1})=>{var t,a,l,m,p,g,v;const{cluster:h}=(0,c.useGlobalState)((e=>e.clusters.details)),b=(0,r.wA)();return h?n().createElement(n().Fragment,null,n().createElement(i.Z,{className:"ocm-c-support-notification-contacts__card"},n().createElement(s.Z,{className:"ocm-c-support-notification-contacts__card--header"},"Notification contacts"),n().createElement(o.b,{className:"ocm-c-support-notification-contacts__card--body"},n().createElement("div",{className:"support-subtitle"},"Add users to be contacted in the event of notifications about this cluster.",n().createElement(E,{email:null===(a=null===(t=h.subscription)||void 0===t?void 0:t.creator)||void 0===a?void 0:a.email})),!e&&n().createElement(f,{canEdit:h.canEdit,openModal:e=>b((0,d.openModal)(e))}),(null===(l=h.subscription)||void 0===l?void 0:l.id)?n().createElement(I,{subscriptionID:null===(m=h.subscription)||void 0===m?void 0:m.id,isDisabled:!h.canEdit||e}):null)),(null===(p=h.subscription)||void 0===p?void 0:p.id)&&(null===(v=null===(g=h.subscription)||void 0===g?void 0:g.plan)||void 0===v?void 0:v.type)!==u.normalizedProducts.RHOIC?n().createElement(i.Z,{className:"ocm-c-support-support-cases__card"},n().createElement(s.Z,{className:"ocm-c-support-support-cases__card--header"},"Support cases"),n().createElement(o.b,{className:"ocm-c-support-support-cases__card--body"},n().createElement(M,{subscriptionID:h.subscription.id,isDisabled:e}))):null):null}},81297:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var l=a(93345),n=a.n(l),r=a(9704),i=a(95376),s=a(81164),o=a(57823),u=a(39931),d=a(69304),c=a(99145),m=a(55665),p=a(381),f=a(31003),E=a(16968);const g=({numberOfIssues:e,isLoading:t})=>t?n().createElement(c.y,{size:"sm"}):n().createElement(m.E,{screenReaderText:"Pending Access Requests",isRead:void 0===e||0===e},e),v=({tabsInfo:e,onTabSelected:t,initTabOpen:a})=>{const l=(0,d.useNavigate)(),c=(0,i.useLocation)(),[m,v]=n().useState(),[h,b]=n().useState(),[S,_]=n().useState(),[C,y]=n().useState(),[I,A]=n().useState(),[R,T]=n().useState(!1),O=n().useCallback(((e,a,l=!0)=>{m&&(y(S),_(null==m?void 0:m.find((e=>e.key===a))),A((null==I?void 0:I.key)===a?null:I),T(l),m.forEach((e=>{e.ref&&e.ref.current&&(e.key!==a?e.ref.current.hidden=!0:(e.ref.current.hidden=!1,t(e.id)))})))}),[m,S,I,t]);return n().useEffect((()=>{if(!(0,r.isEqual)(e,h)){const t=(e=>[{key:0,title:"Overview",contentId:"overviewTabContent",id:E.ClusterTabsId.OVERVIEW,show:!0,ref:e.overview.ref},{key:1,title:n().createElement(n().Fragment,null,n().createElement(u.V,null,"Monitoring"),e.monitoring.hasIssues?n().createElement(p.b,{id:"monitoring-issues-icon"},n().createElement(f.ExclamationCircleIcon,{className:"danger"})):null),contentId:"monitoringTabContent",id:E.ClusterTabsId.MONITORING,show:void 0===e.monitoring.show||e.monitoring.show,ref:e.monitoring.ref},{key:2,title:"Access control",id:E.ClusterTabsId.ACCESS_CONTROL,contentId:"accessControlTabContent",show:e.accessControl.show,ref:e.accessControl.ref},{key:3,title:"Add-ons",contentId:"addOnsTabContent",id:E.ClusterTabsId.ADD_ONS,show:e.addOns.show,ref:e.addOns.ref},{key:4,title:"Cluster history",contentId:"clusterHistoryTabContent",id:E.ClusterTabsId.CLUSTER_HISTORY,show:e.clusterHistory.show,ref:e.clusterHistory.ref},{key:5,title:"Networking",contentId:"networkingTabContent",id:E.ClusterTabsId.NETWORKING,show:e.networking.show,ref:e.networking.ref},{key:6,title:"Machine pools",contentId:"machinePoolsTabContent",id:E.ClusterTabsId.MACHINE_POOLS,show:e.machinePools.show,ref:e.machinePools.ref},{key:7,title:"Support",contentId:"supportTabContent",id:E.ClusterTabsId.SUPPORT,show:e.support.show,ref:e.support.ref},{key:8,title:"Settings",contentId:"upgradeSettingsTabContent",id:E.ClusterTabsId.UPDATE_SETTINGS,show:e.upgradeSettings.show,ref:e.upgradeSettings.ref},{key:9,title:"Add Hosts",contentId:"addHostsContent",id:E.ClusterTabsId.ADD_ASSISTED_HOSTS,show:e.addAssisted.show,ref:e.addAssisted.ref,isDisabled:e.addAssisted.isDisabled,tooltip:e.addAssisted.tooltip},{key:10,title:e.accessRequest.isLoading||void 0!==e.accessRequest.numberOfIssues?n().createElement(n().Fragment,null,n().createElement(p.b,{style:{paddingRight:"10px"}},n().createElement(g,{numberOfIssues:e.accessRequest.numberOfIssues,isLoading:e.accessRequest.isLoading})),n().createElement(u.V,null,"Access Requests")):n().createElement(u.V,null,"Access Requests"),contentId:"accessRequestContent",id:E.ClusterTabsId.ACCESS_REQUEST,show:e.accessRequest.show,ref:e.accessRequest.ref,isDisabled:e.accessRequest.isDisabled,tooltip:e.accessRequest.tooltip}])(e);v(t),A(((e,t)=>{var a;return null!==(a=e.find((e=>e.id===t)))&&void 0!==a?a:e[0]})(t,a)),b(e)}}),[a,e]),n().useEffect((()=>{(null==m?void 0:m.length)&&(null===I||!(null==I?void 0:I.isDisabled)&&(null==I?void 0:I.show)||(A(m[0]),O(void 0,0)))}),[m,I,O]),n().useEffect((()=>{if(null==m?void 0:m.length){const e=m.find((e=>`#${e.id}`===c.hash));(null==e?void 0:e.show)&&!e.isDisabled||(""===c.hash?l("/cluster-list",{replace:!0}):(A(m[0]),l({hash:`#${m[0].id}`},{replace:!0}))),O(void 0,(null==e?void 0:e.isDisabled)||!(null==e?void 0:e.show)?0:e.key,!1)}}),[c.hash]),n().useEffect((()=>{S&&!S.show?(O(void 0,0),e.overview.ref.current.hidden=!1):(null==I?void 0:I.show)&&!(null==I?void 0:I.isDisabled)&&O(void 0,I.key)}),[S,I,O]),n().useEffect((()=>{null===I&&R&&(null==C?void 0:C.key)!==(null==S?void 0:S.key)&&l({hash:`#${null==S?void 0:S.id}`})}),[S,I,R,C,l]),m&&S?n().createElement(s.t,{activeKey:S.key,onSelect:O},m.filter((e=>e.show)).map((e=>n().createElement(o.o,{key:e.key,eventKey:e.key,title:n().createElement(u.V,null,e.title),tabContentId:e.contentId,id:`${e.title}`,ouiaId:`${e.title}`,isAriaDisabled:!!e.isDisabled,tooltip:e.tooltip})))):null}},16968:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{ClusterTabsId:()=>l}),function(e){e.OVERVIEW="overview",e.MONITORING="monitoring",e.ACCESS_CONTROL="accessControl",e.ADD_ONS="addOns",e.CLUSTER_HISTORY="clusterHistory",e.NETWORKING="networking",e.MACHINE_POOLS="machinePools",e.SUPPORT="support",e.UPDATE_SETTINGS="updateSettings",e.ADD_ASSISTED_HOSTS="addAssistedHosts",e.ACCESS_REQUEST="accessRequest"}(l||(l={}))},48539:(e,t,a)=>{"use strict";a.r(t),a.d(t,{eventTypes:()=>b,getSubscriptionLastReconciledDate:()=>o,hasCpuAndMemory:()=>s,isArchivedSubscription:()=>m,isExtenalAuthenicationActive:()=>h,isHypershiftCluster:()=>n.isHypershiftCluster,isMPoolAz:()=>d,isMultiAZ:()=>u,isReadyForAwsAccessActions:()=>E,isReadyForExternalActions:()=>v,isReadyForIdpActions:()=>g,isReadyForRoleAccessActions:()=>f,regionalInstanceUrl:()=>c});var l=a(93413),n=a(23271),r=a(59067),i=a(15245);const s=(e,t)=>!(!e||!t||(null==e?void 0:e.updated_timestamp)&&new Date(e.updated_timestamp).getTime()<0||(null==t?void 0:t.updated_timestamp)&&new Date(t.updated_timestamp).getTime()<0||void 0===(null==e?void 0:e.total.value)||void 0===(null==t?void 0:t.total.value)),o=e=>!(!e.last_reconcile_date||e.last_reconcile_date===l.goZeroTime)&&new Date(e.last_reconcile_date).toLocaleString(),u=e=>!(0,n.isHypershiftCluster)(e)&&!0===e.multi_az,d=(e,t)=>!!(u(e)&&t&&t>1||u(e)&&!t),c=e=>{const t=i,a=t[e]||t.global;return null==a?void 0:a.url},m=e=>{var t,a;return(null===(t=e.subscription)||void 0===t?void 0:t.status)===r.SubscriptionCommonFields.status.ARCHIVED||(null===(a=e.subscription)||void 0===a?void 0:a.status)===r.SubscriptionCommonFields.status.DEPROVISIONED},p=(e,t)=>{var a;return!0===e.managed&&(!t||!["",void 0].includes(null===(a=e.console)||void 0===a?void 0:a.url))&&(e.state===n.default.READY||(0,n.isHibernating)(e))&&!m(e)},f=e=>p(e,!1),E=e=>{var t,a;return f(e)&&"aws"===(null===(t=e.cloud_provider)||void 0===t?void 0:t.id)&&!(null===(a=e.ccs)||void 0===a?void 0:a.enabled)},g=e=>p(e,!(0,n.isHypershiftCluster)(e)),v=e=>p(e,!1),h=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.external_auth_config)||void 0===t?void 0:t.enabled)&&void 0!==a&&a&&(0,n.isHypershiftCluster)(e)},b={CLICKED:"clicked",AUTO:"auto",NONE:""}},22118:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ExternalAuthenticationSection:()=>ne});var l=a(93345),n=a.n(l),r=a(60915),i=a(983),s=a(10423),o=a(65702),u=a(8888),d=a(92292),c=a(72583),m=a(96998),p=a(96553),f=a(97948),E=a(2923),g=a(69673),v=a(29230),h=a(15402),b=a(76792),S=a(2442),_=a(97192),C=a(11318),y=a(55816),I=a(25982),A=a(57146),R=a(96678),T=a(36817),O=a(16236);const P=()=>{A.q.invalidateQueries({queryKey:[T.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"useFetchBreakGlassCredentials"]})};var D=a(57434),L=a(82399),N=a(12200),w=a(16165),M=a(73113),k=a(36070);const F=({textOutput:e,disabled:t})=>{const a=new Blob([e],{type:"text/plain"});return n().createElement(c.$n,{component:"a",variant:"primary",download:"kubeConfig.txt",target:"_blank",rel:"noreferrer",href:URL.createObjectURL(a),isDisabled:t},"Download")};function x(e){const{clusterID:t,onClose:a,credential:l,region:r,isOpen:i=!0}=e,{data:s,isLoading:o,isError:u,error:d}=((e,t="",a="")=>{const{data:l,isLoading:n,isError:r,error:i}=(0,I.I)({queryKey:[T.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"useFetchBreakGlassCredentialDetails"],queryFn:async()=>e?(0,O.getClusterServiceForRegion)(e).getBreakGlassCredentialDetails(t,a):O.default.getBreakGlassCredentialDetails(t,a),enabled:!!t&&!!a});if(r){const e=(0,R.formatErrorData)(n,r,i);return{data:null==l?void 0:l.data,isLoading:n,isError:r,error:e}}return{data:null==l?void 0:l.data,isLoading:n,isError:r,error:i}})(r,t,null==l?void 0:l.id),m=()=>{a()};return n().createElement(w.a,{id:"edit-mp-modal",title:`${null==l?void 0:l.username} credentials`,onClose:m,variant:"medium",description:"Use these temporary credentials to access your cluster.",isOpen:i,actions:[n().createElement(F,{textOutput:(null==s?void 0:s.kubeconfig)||"",disabled:o||!(null==s?void 0:s.kubeconfig)}),n().createElement(c.$n,{key:"cancel",variant:"secondary",onClick:m},"Cancel")]},"revoked"===(null==s?void 0:s.status)?"Credentials have been revoked.":"created"===(null==s?void 0:s.status)?"Credentials are being created. Try again later.":"Here are the credentials",u&&n().createElement(M.a,null,n().createElement(y.default,{message:"A problem occurred while retrieving credential",response:{errorMessage:d.error.reason,operationID:d.error.operationID}})),n().createElement(k.Ck,{isReadOnly:!0,variant:k.$X.expansion},o?"Loading...":(null==s?void 0:s.kubeconfig)||"No kubeconfig"))}var G=a(88139),U=a(12664),j=a(90678),H=a(83349),V=a(77051),q=a(75913),z=a(28592),B=a(82309);function W(e){const{clusterId:t,isNewModalOpen:a,onClose:l,credentialList:r,region:i}=e,{isPending:s,isError:o,error:u,mutate:d,reset:m}=((e,t="")=>{const{data:a,isPending:l,isError:n,error:r,mutate:i,reset:s}=(0,B.n)({mutationKey:["postBreakGlassCredentials"],mutationFn:async a=>e?(0,O.getClusterServiceForRegion)(e).postBreakGlassCredentials(t,a):O.default.postBreakGlassCredentials(t,a)});return n?{data:a,isPending:l,isError:n,error:(0,R.formatErrorData)(l,n,r),mutate:i,reset:s}:{data:a,isPending:l,isError:n,error:r,mutate:i,reset:s}})(i,t),p=e=>{const t=new Date;return new Date(t.setHours(t.getHours()+e)).toISOString()},f=()=>{m(),l()};return a?n().createElement(G.Formik,{initialValues:{username:"",expiration:1},validationSchema:U.object({username:U.string().matches(/^[a-zA-Z0-9-]+$/,"Only alphanumeric characters and hyphens are allowed").max(64,"Must be 64 characters or less").required("Required").notOneOf(r||[],"Username already exists"),expiration:U.number().integer("Only integer numbers allowed").min(1).max(24).test("is-integer","expiration must be an integer",(e=>Number.isInteger(e)))}),onSubmit:async e=>{const t={username:e.username,expiration_timestamp:p(e.expiration||1)};d(t,{onSuccess:()=>l()})}},(e=>n().createElement(z.default,{id:"add-break-glass-credential-modal",title:"Add break glass credential",onClose:f,modalSize:"small",description:"Add a break glass credential to access the cluster.",footer:n().createElement(j.B,{hasGutter:!0},o&&n().createElement(M.a,null,n().createElement(y.default,{message:"A problem occurred while adding credential",response:{errorMessage:u.error.reason,operationID:u.error.operationID}})),n().createElement(M.a,null,n().createElement(c.$n,{onClick:e.submitForm,className:"pf-v5-u-mr-md","data-testid":"submit-btn",isDisabled:!e.isValid||!e.dirty||e.isSubmitting||s,isLoading:s},"Add"),n().createElement(c.$n,{variant:"secondary",onClick:f,isDisabled:e.isSubmitting||s},"Cancel")))},n().createElement(H.l,null,n().createElement(q.default,{fieldId:"username",label:"Username",isRequired:!0}),n().createElement(V.NumberInputField,{fieldId:"expiration",label:"Hours until credentials expire",isRequired:!0,min:1,max:24,helpText:"Expiration time will be 1 - 24 hours from now."}))))):null}const $=e=>{const{clusterId:t,onClose:a,region:l,isOpen:r=!0}=e,{isPending:i,isError:s,error:o,mutate:u,reset:d}=((e,t)=>{const{data:a,isPending:l,isError:n,error:r,mutate:i,reset:s}=(0,B.n)({mutationKey:["revokeBreakGlassCredentials"],mutationFn:async()=>t?(0,O.getClusterServiceForRegion)(t).revokeBreakGlassCredentials(e):O.default.revokeBreakGlassCredentials(e)});return n?{data:a,isPending:l,isError:n,error:(0,R.formatErrorData)(l,n,r),mutate:i,reset:s}:{data:a,isPending:l,isError:n,error:r,mutate:i,reset:s}})(t,l),p=()=>{d(),a()};return n().createElement(w.a,{title:"Revoke all credentials for cluster",onClose:p,isOpen:r,variant:"medium",actions:[n().createElement(c.$n,{key:"revoke",variant:"primary",isDisabled:i,isLoading:i,onClick:()=>{u(),p()}},"Revoke all"),n().createElement(c.$n,{key:"cancel",variant:"secondary",onClick:p},"Cancel")]},s?n().createElement(y.default,{message:"A problem occurred while deleting the credentials.",response:{errorMessage:o.error.errorMessage,operationID:o.error.operationID}}):n().createElement(m.s,{direction:{default:"column"}},n().createElement("p",null,"This action cannot be undone. It will permanently revoke all credentials.")))},Y=({subscriptionID:e,clusterID:t,region:a})=>{const[l,r]=n().useState(void 0),[i,s]=n().useState(!1),[o,u]=n().useState(!1),[A,w]=n().useState(!1),{canUpdateBreakGlassCredentials:M}=(0,D.eA)(e||"",T.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{data:k,isLoading:F,isError:G,error:U,isFetching:j}=((e,t,a="")=>{const{data:l,isLoading:n,isError:r,isFetching:i,error:s}=(0,I.I)({queryKey:[T.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"useFetchBreakGlassCredentials"],queryFn:async()=>t?(0,O.getClusterServiceForRegion)(t).getBreakGlassCredentials(a):O.default.getBreakGlassCredentials(a),enabled:!!e});if(r){const e=(0,R.formatErrorData)(n,r,s);return{data:null==l?void 0:l.data.items,isLoading:n,isError:r,error:e,isFetching:i}}return{data:null==l?void 0:l.data.items,isLoading:n,isError:r,error:s,isFetching:i}})(M,a,t),H=!M&&"You do not have permission to create new credentials for this cluster.",V=(F||!(null==k?void 0:k.some((e=>e.status===L.BreakGlassCredentialStatus.ISSUED&&!k.some((e=>e.status===L.BreakGlassCredentialStatus.AWAITING_REVOCATION))))))&&"There must be at least one issued credential without a pending revocation.";return n().createElement(n().Fragment,null,i&&n().createElement(x,{clusterID:t||"",region:a,onClose:()=>{s(!1)},credential:l}),n().createElement(W,{clusterId:t||"",isNewModalOpen:o,onClose:()=>{u(!1),P()},credentialList:(null==k?void 0:k.map((e=>e.username||"")))||[],region:a}),n().createElement(m.s,null,n().createElement(p.Z,null,n().createElement(N.default,{className:"access-control-add",variant:"secondary",onClick:()=>u(!0),disableReason:H},"New credentials")),(null==k?void 0:k.length)&&M?n().createElement(n().Fragment,null,n().createElement(p.Z,{align:{default:"alignRight"}},n().createElement(N.default,{className:"access-control-add",variant:"danger",onClick:()=>{w(!0)},disableReason:V},"Revoke all credentials")),n().createElement(p.Z,null,n().createElement(N.default,{className:"access-control-add",variant:"plain",onClick:()=>P(),isDisabled:F||j},n().createElement(f.I,null,n().createElement(E.default,null))))):null),(null==k?void 0:k.length)?n().createElement(g.X,{"aria-label":"break glass credential table",variant:"compact"},n().createElement(v.H,null,"Assigned credentials"),n().createElement(h.d,null,n().createElement(b.Tr,null,n().createElement(S.Th,null,"ID"),n().createElement(S.Th,null,"Username"),n().createElement(S.Th,null,"Expires"),n().createElement(S.Th,null,"Status"))),n().createElement(_.N,null,null==k?void 0:k.map((e=>n().createElement(b.Tr,{key:e.id},n().createElement(C.Td,null,e.id),n().createElement(C.Td,null,e.username),n().createElement(C.Td,null,new Date(e.expiration_timestamp).toLocaleString("en-CA")),n().createElement(C.Td,null,e.status===L.BreakGlassCredentialStatus.ISSUED?n().createElement(d.m,{content:"Download credentials to access cluster as admin."},n().createElement(c.$n,{variant:"link",onClick:()=>{return t=e,s(!0),void r(t);var t}},"Credentials issued")):(e=>{let t,a;switch(e){case L.BreakGlassCredentialStatus.ISSUED:t="Credentials issued",a="Credentials issued";break;case L.BreakGlassCredentialStatus.REVOKED:t="Revoked",a="Credentials have been manually revoked and are no longer valid.";break;case L.BreakGlassCredentialStatus.AWAITING_REVOCATION:t="Awaiting Revocation",a="Credentials are awaiting revocation. No other revocation can occur until this completes.";break;case L.BreakGlassCredentialStatus.EXPIRED:t="Expired",a="Credentials have passed their expiration date and are no longer valid.";break;case L.BreakGlassCredentialStatus.CREATED:t="Pending",a="Credentials have been created but not yet issued kubeconfig.";break;case L.BreakGlassCredentialStatus.FAILED:t="Failed",a="Unable to create credentials.";break;default:t="Unknown status",a="Unknown status"}return n().createElement(d.m,{content:a},n().createElement(c.$n,{variant:"plain"},t))})(e.status||void 0))))))):null,G&&n().createElement(y.default,{message:"A problem occurred while retrieving credentials",response:{errorMessage:U.error.errorMessage,operationID:U.error.operationID}}),A&&n().createElement($,{clusterId:t||"",region:a,onClose:()=>{w(!1),r(void 0),setTimeout((()=>{P()}),500)}}))};var K=a(52577);const Q=()=>{A.q.invalidateQueries({queryKey:[T.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"useFetchExternalAuths"]})};var Z=a(23285);const X=e=>{const{clusterId:t,externalAuthProvider:a,onClose:l,isOpen:r=!0,region:i}=e,[s,o]=n().useState(""),{isPending:u,isError:d,error:p,mutate:f,reset:E}=((e,t="")=>{const{data:a,isPending:l,isError:n,error:r,mutate:i,reset:s}=(0,B.n)({mutationKey:["deleteExternalAuth"],mutationFn:async a=>e?(0,O.getClusterServiceForRegion)(e).deleteExternalAuth(t,a):O.default.deleteExternalAuth(t,a)});return n?{data:a,isPending:l,isError:n,error:(0,R.formatErrorData)(l,n,r),mutate:i,reset:s}:{data:a,isPending:l,isError:n,error:r,mutate:i,reset:s}})(i,t),g=()=>{o(""),E(),l()},v=s===(null==a?void 0:a.id);return n().createElement(w.a,{title:`Delete provider: ${null==a?void 0:a.id}`,onClose:g,isOpen:r,variant:"medium",actions:[n().createElement(c.$n,{key:"delete",variant:"primary",isDisabled:u||!v,isLoading:u,onClick:()=>{f((null==a?void 0:a.id)||"",{onSuccess:()=>{Q(),g()}})}},"Delete"),n().createElement(c.$n,{key:"cancel",variant:"secondary",onClick:g},"Cancel")]},n().createElement(m.s,{direction:{default:"column"}},n().createElement("p",null,"This action cannot be undone. It will permanently remove the external authentication provider ",null==a?void 0:a.id,"."),n().createElement("p",null,"Confirm deletion by typing ",n().createElement("strong",null,null==a?void 0:a.id)," below:"),n().createElement(H.l,{onSubmit:e=>{e.preventDefault(),v&&f(s)}},n().createElement(Z.ks,{type:"text",value:s,placeholder:"Enter name",onChange:(e,t)=>o(t),"aria-label":"provider name to delete"}))),d&&n().createElement(j.B,{hasGutter:!0},n().createElement(M.a,null,n().createElement(y.default,{message:`Failed to delete external auth provider: ${null==a?void 0:a.id}`,response:{errorMessage:p.error.errorMessage,operationID:p.error.operationID}}))))};var J=a(89217),ee=a(84037),te=a(67548);function ae(e){var t,a,l,r,i,s,o,u,d,m,p,f,E;const{clusterID:g,onClose:v,externalAuthProvider:h,isEdit:b,region:S,isOpen:_=!0}=e,{isPending:C,isError:I,error:A,mutate:T}=((e,t)=>{const{data:a,isPending:l,isError:n,error:r,mutate:i}=(0,B.n)({mutationKey:["addEditExternalAuth"],mutationFn:async({values:a,externalAuthProviderId:l})=>{const n=t?(0,O.getClusterServiceForRegion)(t):O.default;return l?(0,n.patchExternalAuth)(e||"",l,a):(0,n.postExternalAuth)(e||"",a)}});return n?{data:a,isPending:l,isError:n,error:(0,R.formatErrorData)(l,n,r),mutate:i}:{data:a,isPending:l,isError:n,error:r,mutate:i}})(g,S),P=null===(t=null==h?void 0:h.clients)||void 0===t?void 0:t.find((e=>{var t;return"console"===(null===(t=e.component)||void 0===t?void 0:t.name)}));return n().createElement(G.Formik,{initialValues:{id:(null==h?void 0:h.id)||"",issuer:(null===(a=null==h?void 0:h.issuer)||void 0===a?void 0:a.url)||"",groups:(null===(i=null===(r=null===(l=null==h?void 0:h.claim)||void 0===l?void 0:l.mappings)||void 0===r?void 0:r.groups)||void 0===i?void 0:i.claim)||"groups",username:(null===(u=null===(o=null===(s=null==h?void 0:h.claim)||void 0===s?void 0:s.mappings)||void 0===o?void 0:o.username)||void 0===u?void 0:u.claim)||"email",audiences:(null===(m=null===(d=null==h?void 0:h.issuer)||void 0===d?void 0:d.audiences)||void 0===m?void 0:m.join(", "))||"",provider_ca:""!==(null===(f=null===(p=null==h?void 0:h.issuer)||void 0===p?void 0:p.ca)||void 0===f?void 0:f.trim())?null===(E=null==h?void 0:h.issuer)||void 0===E?void 0:E.ca:"",consoleClientID:(null==P?void 0:P.id)||"",consoleClientSecret:""},validationSchema:U.object().shape({id:U.string().matches(/^[a-z]([-a-z0-9]*[a-z0-9])?$/,"Only lowercase alphanumeric characters and hyphens are allowed. Value must start with a letter and end with an alphanumeric.").max(15,"Must be 15 characters or less").required("Required"),issuer:U.string().max(255,"Must be 255 characters or less").required("Required").url("Invalid URL: example https://redhat.com").test("secure-url","URL must be https",(e=>(0,ee.validateSecureURL)(e))),groups:U.string().matches(/^[a-zA-Z0-9-]+$/,"Only alphanumeric characters and hyphens are allowed").required("Required"),username:U.string().matches(/^[a-zA-Z0-9-]+$/,"Only alphanumeric characters and hyphens are allowed").required("Required"),audiences:U.string().required("Required"),consoleClientID:U.string().when("consoleClientSecret",{is:e=>e,then:e=>e.required("Client ID is required when client secret is provided"),otherwise:e=>e}).test("is-member-of-audience","Client ID must be a member of the audiences",((e,t)=>{var a;return!e||(null===(a=t.parent.audiences)||void 0===a?void 0:a.split(",").map((e=>e.trim())).includes(e||""))})),consoleClientSecret:U.string().when("consoleClientID",{is:e=>e&&(null==P?void 0:P.id)!==e,then:e=>e.required("Client secret is required when client ID is provided"),otherwise:e=>e})},[["consoleClientID","consoleClientSecret"]]),onSubmit:async e=>{const t=(e=>{var t;const a={clients:[{component:{name:"console",namespace:"openshift-console"},id:e.consoleClientID,secret:e.consoleClientSecret}]},l={id:e.id,issuer:{url:e.issuer,audiences:null===(t=null==e?void 0:e.audiences)||void 0===t?void 0:t.split(",").map((e=>e.trim())),ca:e.provider_ca},claim:{mappings:{username:{claim:e.username},groups:{claim:e.groups}}}};return e.consoleClientID&&e.consoleClientSecret?{...l,...a}:l})(e);T({values:t,externalAuthProviderId:null==h?void 0:h.id},{onSuccess:()=>{Q(),v()}})}},(e=>n().createElement(w.a,{id:"edit-ext-auth-provider-modal",title:b?`Edit provider ${null==h?void 0:h.id}`:"Add external authentication provider",onClose:v,isOpen:_,variant:"medium",description:!b&&"An external authentication provider controls access to your cluster. You can add one provider to your cluster.",actions:[n().createElement(c.$n,{key:"add-ext-auth-provider",isDisabled:C,isLoading:C,onClick:e.submitForm},b?"Save":"Add"),n().createElement(c.$n,{key:"cancel",variant:"secondary",onClick:v},"Cancel")]},n().createElement(H.l,null,!b&&n().createElement(q.default,{fieldId:"id",label:"Name",isRequired:!0}),n().createElement(q.default,{fieldId:"issuer",label:"Issuer URL",isRequired:!0}),n().createElement(q.default,{fieldId:"audiences",label:"Audiences",isRequired:!0,helpText:"The audience IDs that this authentication provider issues tokens for. Use commas to separate multiple audiences."}),n().createElement(q.default,{fieldId:"groups",label:"Groups mapping",isRequired:!0}),n().createElement(q.default,{fieldId:"username",label:"Username mapping",isRequired:!0}),n().createElement(q.default,{fieldId:"consoleClientID",label:"Console client ID",helpText:"The console identifier of the OIDC client from the OIDC provider. Once set, a client ID can be modified by not removed."}),n().createElement(q.default,{fieldId:"consoleClientSecret",label:"Console client secret",helpText:"The console secret of the OIDC client from the OIDC provider.",placeHolderText:(null==P?void 0:P.id)&&e.values.consoleClientID===(null==P?void 0:P.id)?"Secret not displayed":""}),n().createElement(G.Field,{component:te.Ay,onChange:t=>e.setFieldValue("provider_ca",t),input:{name:"provider_ca",value:e.values.provider_ca,onChange:t=>e.setFieldValue("provider_ca",t),onBlur:e.handleBlur},name:"provider_ca",label:"CA file",helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured issuer URL.",certValue:b?e.values.provider_ca:""})),I&&n().createElement(j.B,{hasGutter:!0},n().createElement(M.a,null,n().createElement(y.default,{message:b?"Error editing provider":"Error adding provider",response:{errorDetails:A.error.errorDetails,errorMessage:(0,J.getErrorMessage)({payload:A.error}),operationID:A.error.operationID}}))))))}const le=({clusterID:e,canUpdateClusterResource:t,region:a})=>{const[l,r]=n().useState(!1),[i,s]=n().useState(!1),[o,u]=n().useState(void 0),{data:d,isError:c,error:m}=((e,t="")=>{const{data:a,isLoading:l,isError:n,error:r}=(0,I.I)({queryKey:[T.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"useFetchExternalAuths"],queryFn:async()=>{if(e){const a=(0,O.getClusterServiceForRegion)(e);return await a.getExternalAuths(t)}return await O.default.getExternalAuths(t)}});if(n){const e=(0,R.formatErrorData)(l,n,r);return{data:null==a?void 0:a.data.items,isLoading:l,isError:n,error:e}}return{data:null==a?void 0:a.data.items,isLoading:l,isError:n,error:r}})(a,e),p=!t&&"You do not have permission to create a new provider for this cluster.";return c?n().createElement(y.default,{message:"A problem occurred while getting provider",response:{errorMessage:m.error.errorMessage,operationID:m.error.operationID}}):n().createElement(n().Fragment,null,(null==d?void 0:d.length)?null:n().createElement(N.default,{className:"access-control-add",variant:"secondary",onClick:()=>r(!0),disableReason:p},"Add external authentication provider"),l?n().createElement(ae,{clusterID:e||"",onClose:()=>{r(!1),u(void 0)},region:a,externalAuthProvider:o,isEdit:!!o}):null,(null==d?void 0:d.length)?n().createElement(g.X,{"aria-label":"External authentication providers table",variant:"compact"},n().createElement(v.H,null,"External authentication provider"),n().createElement(h.d,null,n().createElement(b.Tr,null,n().createElement(S.Th,null,"Name"),n().createElement(S.Th,null,"Issuer URL"),n().createElement(S.Th,null,"Audiences"),n().createElement(S.Th,{screenReaderText:"Action Menu","aria-label":"Action Menu"}))),n().createElement(_.N,null,null==d?void 0:d.map((e=>{var a,l,i,o,d;const c=(e=>[{title:"Edit",onClick:()=>(e=>{r(!0),u(e)})(e)},{title:"Delete",onClick:()=>(e=>{s(!0),u(e)})(e)}])(e);return n().createElement(b.Tr,{key:e.id},n().createElement(C.Td,null,e.id),n().createElement(C.Td,null,null!==(l=null===(a=e.issuer)||void 0===a?void 0:a.url)&&void 0!==l?l:""),n().createElement(C.Td,null,null!==(d=null===(o=null===(i=e.issuer)||void 0===i?void 0:i.audiences)||void 0===o?void 0:o.join(", "))&&void 0!==d?d:""),n().createElement(C.Td,{isActionCell:!0},t&&n().createElement(K.G,{items:c})))})))):null,n().createElement(X,{externalAuthProvider:null!=o?o:void 0,clusterId:e||"",onClose:()=>{s(!1),u(void 0)},region:a,isOpen:i}))},ne=({clusterID:e,subscriptionID:t,canUpdateClusterResource:a,region:l})=>n().createElement(r.Z,null,n().createElement(i.b,null,n().createElement(s.h,{className:"card-title",headingLevel:"h3",size:"lg"},"External authentication"),n().createElement("p",null,"Allow authentication to be handled by an external provider.",n().createElement(u.default,{href:o.default.ROSA_HCP_EXT_AUTH}," Learn more.")),n().createElement(le,{clusterID:e,canUpdateClusterResource:a,region:l})),n().createElement(i.b,null,n().createElement(s.h,{className:"card-title",headingLevel:"h3",size:"lg"},"Credentials"),n().createElement("p",null,"Allows temporary admin access to the cluster using kubeconfig file.",n().createElement(u.default,{href:o.default.ROSA_HCP_BREAK_GLASS}," Learn more.")),n().createElement(Y,{subscriptionID:t,clusterID:e,region:l})))},78045:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ne});var l=a(93345),n=a.n(l),r=a(58156),i=a.n(r),s=a(55378),o=a.n(s),u=a(71468),d=a(93745),c=a(72583),m=a(97948),p=a(60915),f=a(6229),E=a(983),g=a(72972),v=a(10423),h=a(31358),b=a(76792),S=a(11318),_=a(52577),C=a(69673),y=a(73683),I=a(15402),A=a(2442),R=a(97192),T=a(76980),O=a(82309),P=a(96678),D=a(73410),L=a(25982),N=a(57146);const w=()=>{N.q.resetQueries({queryKey:["fetchOCMRoles"]})};var M=a(25514),k=a(12200),F=a(55816),x=a(91089),G=a(43775),U=a(48539),j=a(88139),H=a(83349),V=a(56780),q=a(51976),z=a(22069),B=a(23285),W=a(91332),$=a(18960),Y=a(38715),K=a(14419),Q=a(75166),Z=a(28592),X=a(55213);function J({onSubmit:e,row:t,productId:a,isGrantOcmRolePending:r,isGrantOcmRoleError:i,isGrantOcmRoleSuccess:s,grantOcmRoleError:o}){const[d,c]=(0,l.useState)(t.usernameValue||""),[m,p]=(0,l.useState)(""),[f,E]=(0,l.useState)(""),[g,v]=(0,l.useState)(Q.ocmRoles.CLUSTER_EDITOR.id),[h,b]=(0,l.useState)(!1),[S,_]=(0,l.useState)(!1),C=(0,M.useGlobalState)((e=>(0,K.default)(e,G.default.OCM_ROLES))),y=(0,u.wA)();(0,l.useEffect)((()=>{C&&(c(t.usernameValue),v(t.roleValue||Q.ocmRoles.CLUSTER_EDITOR.id),p(""),E(""),b(!1))}),[C]);const I=()=>{y((0,x.closeModal)())};if((0,l.useEffect)((()=>{var e;if(r)E(""),b(!0);else if(s)I();else if(i&&o){if(404===o.error.errorCode)E("This Red Hat login could not be found.");else if(400===o.error.errorCode&&o.error.reason&&o.error.reason.toString().includes("belong to different organizations"))E("This Red Hat login is not part of your organization.");else{const t=((null===(e=o.error.reason)||void 0===e?void 0:e.toString())||"Unknown Error").split(/\r?\n/).pop();E(t&&t.endsWith(".")?t:`${t}.`)}b(!1)}}),[r,s,i,o]),!C)return null;const A=e=>(E(""),e?(p(""),b(!1),!0):(p("Red Hat login cannot be empty."),b(!0),!1)),R=t.isCreating?"Grant role":"Edit role",T=t.isCreating?"Grant role":"Edit role",O=Object.values(Q.ocmRoles).filter((e=>!a||!e.excludeProductIds||!e.excludeProductIds.some((e=>e===a))));return n().createElement(j.Formik,{initialValues:{username:d,role:g},onSubmit:async a=>{((a,l)=>{A(a)&&e(t,a,g)})(a.username,a.role)}},(e=>n().createElement(Z.default,{title:R,onClose:I,primaryText:T,secondaryText:"Cancel",onPrimaryClick:e.submitForm,onSecondaryClick:I,isPrimaryDisabled:h,id:"ocm-roles-access-dialog"},n().createElement("p",{className:"pf-v5-u-mb-xl"},"Allow users in your organization to edit or view clusters. These permissions only apply to cluster management in OpenShift Cluster Manager."),n().createElement(H.l,{className:"control-form-cursor"},n().createElement(V.g,{label:n().createElement(n().Fragment,null,n().createElement("span",null,"Red Hat login"),n().createElement(X.default,{id:"ocm-roles-section-username-tooltip",hint:n().createElement(q.n,null,n().createElement(z.E,{component:z.Y.p},"Your Red Hat login is the username you use to access your Red Hat account.")),iconClassName:"text-input-tootip-icon",hasAutoWidth:!0,maxWidth:"20.0rem"})),isRequired:!0,fieldId:"username"},n().createElement(B.ks,{value:d,isRequired:!0,id:"username",type:"text",onChange:(t,a)=>{(e=>{const t=e.trim();c(t),A(t)})(a),e.setFieldValue("username",a)},isDisabled:!t.isCreating,validated:m||f?"error":"default","aria-label":"username"}),n().createElement(Y.FormGroupHelperText,{touched:!0,error:m||f})),n().createElement(V.g,{label:"Role",isRequired:!0},n().createElement(W.l,{onToggle:(e,t)=>_(t),onSelect:(t,a)=>{e.setFieldValue("role",a),v(a),_(!1)},selections:g,isOpen:S,menuAppendTo:()=>document.body},O.map((e=>n().createElement($.O,{key:e.id,value:e.id,description:e.description},e.name)))))))))}J.modalName=G.default.OCM_ROLES;var ee=a(90128),te=a.n(ee),ae=a(92292);class le{constructor(e=null,t){var a;this.data=e,this.id=i()(this.data,"id",""),this.usernameValue=i()(this.data,"account.username",""),this.roleValue=i()(this.data,"role.id",""),this.email=i()(this.data,"account.email",""),this.isCreating=null===e,this.isPending=!1;const l=n().createElement(ae.m,{content:this.email,key:`ocm-roles-username-tooltip-${t}`},n().createElement("span",{className:"hand-pointer"},this.usernameValue)),r=(null===(a=Object.values(Q.ocmRoles).find((e=>e.id===this.roleValue)))||void 0===a?void 0:a.name)||te()(this.roleValue);this.cellsData=[{title:l},{title:r}]}setIsPending(e){this.isPending=e}get cells(){return this.cellsData}}const ne=function({subscription:e,canEditOCMRoles:t,canViewOCMRoles:a,refreshEvent:r}){var s;const[N,j]=(0,l.useState)([]),[H,V]=(0,l.useState)(-1),[q,z]=(0,l.useState)(null),[B,W]=(0,l.useState)(!1),[$,Y]=(0,l.useState)(""),{data:K}=(0,M.useGlobalState)((e=>e.modal)),Q=e.id,{data:Z,isLoading:X,isError:ee,error:te,isSuccess:ae}=((e,t,a="")=>{const{data:l,isLoading:n,isError:r,error:i,isSuccess:s}=(0,L.I)({queryKey:["fetchOCMRoles"],queryFn:async()=>await D.accountsService.getSubscriptionRoleBindings(a),enabled:!!a&&e&&t});if(r){const e=(0,P.formatErrorData)(n,r,i);return{data:null==l?void 0:l.data,isLoading:n,isError:r,error:e,isSuccess:s}}return{data:null==l?void 0:l.data,isLoading:n,isError:r,error:i,isSuccess:s}})(t,a,Q),{isPending:ne,isError:re,error:ie,isSuccess:se,mutate:oe}=((e="")=>{const{data:t,isPending:a,isError:l,error:n,isSuccess:r,mutate:i}=(0,O.n)({mutationKey:["grantOCMRole"],mutationFn:async({username:t,roleID:a})=>D.accountsService.createSubscriptionRoleBinding(e,t,a)});return l?{data:t,isPending:a,isError:l,error:(0,P.formatErrorData)(a,l,n),isSuccess:r,mutate:i}:{data:t,isPending:a,isError:l,error:n,isSuccess:r,mutate:i}})(Q),{isPending:ue,isError:de,error:ce,isSuccess:me,mutate:pe}=((e="")=>{const{data:t,isPending:a,isError:l,error:n,isSuccess:r,mutate:i}=(0,O.n)({mutationKey:["deleteOCMRole"],mutationFn:async t=>D.accountsService.deleteSubscriptionRoleBinding(e,t)});return l?{data:t,isPending:a,isError:l,error:(0,P.formatErrorData)(a,l,n),isSuccess:r,mutate:i}:{data:t,isPending:a,isError:l,error:n,isSuccess:r,mutate:i}})(Q),fe=null===(s=null==e?void 0:e.plan)||void 0===s?void 0:s.id,Ee=(0,u.wA)(),ge=()=>{if(H>=0&&H<N.length){const e=N[H],t=N.slice();e.isCreating?t.splice(H,1):t[H].setIsPending(!1),j(t)}V(-1)};(0,l.useEffect)((()=>{a&&e.id&&(W(!0),w()),Y(a?t?"":"You don't have permission to configure user roles in your organization. Only the Cluster Owner and the Organization Admin have the permission.":"You don't have permission to view user roles in your organization. Only the Cluster Owner, Cluster Editor, and the Organization Admin have the permission.")}),[a,t,e.id]),(0,l.useEffect)((()=>{a&&i()(r,"type")===U.eventTypes.CLICKED&&e.id&&(W(!0),w())}),[r]),(0,l.useEffect)((()=>{var e,t;if(X)z(null);else if(ae){W(!1);const t=null!==(e=null==Z?void 0:Z.items)&&void 0!==e?e:[],a=o()(t,((e,t)=>new le(e,t.toString())));j(a),z(null)}else ee&&te.error&&(W(!1),z(n().createElement(F.default,{message:"Error getting OCM roles and access",response:{errorMessage:te.error.reason,operationID:null===(t=te.error.errorCode)||void 0===t?void 0:t.toString()}})),ge())}),[X,ee,ae,B]),(0,l.useEffect)((()=>{ne?z(null):se&&e.id?(w(),z(null)):re&&ie.error&&ge()}),[ne,se,re]),(0,l.useEffect)((()=>{ue?z(null):me&&e.id?(w(),z(null)):de&&ce&&(z(n().createElement(F.default,{message:"Error removing the role from the user",response:ce.error})),ge())}),[ue,me,de,ce]);const ve="Username",he="Role",be=n().createElement(n().Fragment,null,ve,n().createElement(d.A,{position:d.$.top,"aria-label":"Username",id:"ocm-roles-section-username",bodyContent:n().createElement("p",null,"The username is the Red Hat login that is used to access the Red Hat account.")},n().createElement(c.$n,{variant:"plain",isInline:!0},n().createElement(m.I,{size:"md"},n().createElement(h.HelpIcon,null))))),Se=n().createElement(n().Fragment,null,he,n().createElement(d.A,{position:d.$.top,"aria-label":"Role",id:"ocm-roles-section-role",bodyContent:n().createElement("p",null,"The OpenShift Cluster Manager role that is granted to this user.")},n().createElement(c.$n,{variant:"plain",isInline:!0},n().createElement(m.I,{size:"md"},n().createElement(h.HelpIcon,null))))),_e=e=>void 0!==e.title;return B?n().createElement(p.Z,null,n().createElement(f.Z,null,n().createElement(T.A,{size:"md"})),n().createElement(E.b,null,n().createElement(T.A,{size:"lg"})),n().createElement(g.w,null,n().createElement(T.A,{size:"md"}))):n().createElement(p.Z,null,n().createElement(E.b,null,n().createElement(v.h,{className:"card-title",headingLevel:"h3",size:"lg"},"OCM Roles and Access"),n().createElement("p",null,"Allow users in your organization to edit clusters. These permissions only apply to cluster management in OpenShift Cluster Manager."),n().createElement(k.default,{onClick:()=>{const e=N.length,t=new le(null,e.toString());setTimeout((()=>Ee((0,x.openModal)(G.default.OCM_ROLES,t))),0)},variant:"secondary",className:"access-control-add",disableReason:$,"data-testid":"grant-role-btn"},"Grant role")),n().createElement(E.b,null,q,n().createElement(C.X,{"aria-label":"OCM Roles and Access",variant:y.a.compact},n().createElement(I.d,null,n().createElement(b.Tr,null,n().createElement(A.Th,null,be),n().createElement(A.Th,null,Se),n().createElement(A.Th,{screenReaderText:"Role action"}))),n().createElement(R.N,null,N.map(((t,a)=>{const l=((t,a)=>[{title:"Delete",onClick:()=>{ge(),e.id&&t.id&&((e=>{if(null!==e&&e>=0&&e<N.length){const t=N.slice();t[e].setIsPending(!0),V(e),j(t)}})(a),pe(t.id,{onSuccess:()=>{w()}}))}}])(t,a),{cellsData:r,usernameValue:i}=t,s=_e(null==r?void 0:r[0])?null==r?void 0:r[0].title:null==r?void 0:r[0],o=_e(null==r?void 0:r[1])?null==r?void 0:r[1].title:null==r?void 0:r[1];return t.isCreating||t.isPending?n().createElement(b.Tr,{key:i},n().createElement(S.Td,{dataLabel:ve},n().createElement(T.A,{size:"md"})),n().createElement(S.Td,{dataLabel:he},n().createElement(T.A,{size:"md"})),n().createElement(S.Td,{isActionCell:!0})):n().createElement(b.Tr,{key:i},n().createElement(S.Td,{dataLabel:ve},s),n().createElement(S.Td,{dataLabel:he},o),n().createElement(S.Td,{isActionCell:!0},n().createElement(_.G,{items:l,isDisabled:!!$})))})))),n().createElement(J,{onSubmit:(t,a,l)=>{ge(),t.isCreating&&e.id&&oe({username:a,roleID:l},{onSuccess:()=>{w()}})},row:K,productId:fe,isGrantOcmRolePending:ne,isGrantOcmRoleError:re,grantOcmRoleError:ie,isGrantOcmRoleSuccess:se})))}},6894:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(75166),n=a(23271);const r=e=>{var t,a,r,i;const s=(null===(a=null===(t=e.subscription)||void 0===t?void 0:t.plan)||void 0===a?void 0:a.type)||l.normalizedProducts.OSD,o=e.state;if(s===l.normalizedProducts.RHMI||o!==n.default.READY)return!1;if(null===(r=e.ccs)||void 0===r?void 0:r.enabled)return!0;const u=((null===(i=e.subscription)||void 0===i?void 0:i.capabilities)||[]).find((e=>"capability.cluster.manage_cluster_admin"===e.name));return!(!u||"true"!==u.value)}},94699:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(70460),i=a(69304);const s=({total:e,linkUrl:t,accessRequests:a})=>e?n().createElement(r.F,{id:"pendingAccessRequestAlert",className:"pf-v5-u-mt-md",variant:"warning",isInline:!0,title:"Pending Access Requests"},"Your organization has ",n().createElement("b",null,e)," pending Access Request",e>1?"s":""," ",(null==a?void 0:a.length)?n().createElement("span",null," ","to the following Cluster",e>1?"s":"",":"," ",a.map((e=>n().createElement(i.Link,{key:`pendingAccessRequestAlertLink-${e.subscription_id}`,to:`/details/s/${e.subscription_id}#accessRequest`},e.subscription_id))).reduce(((e,t)=>[e,", ",t])),". Please enter the Cluster details page and review them in the Access Requests tab."):null,t?n().createElement(i.Link,{to:t},"Show pending requests"):null):null},89691:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(96553),i=a(8888);const s=e=>{const{activeCardDocsLink:t,installedAddOnOperatorVersion:a,addonID:l,clusterID:s,externalClusterID:o,subscriptionPlanID:u}=e,d={current_path:"/openshift/details/s",tab_title:"Add-ons",tab_id:"addOnsTabContent",card_type:"addon",addon_id:l,ocm_resource_type:u.toLowerCase(),resource_id:o,ocm_cluster_id:s};return a||t?n().createElement(r.Z,null,a&&n().createElement(n().Fragment,null,n().createElement("strong",null,"Current Version")," ",a," "),t&&n().createElement(i.default,{href:t,customTrackProperties:d},"View Documentation")):null}},18273:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var l=a(93345),n=a(71468),r=a(60915),i=a(6229),s=a(983),o=a(72972),u=a(47914),d=a(83349),c=a(56780),m=a(20542),p=a(1508),f=a(91332),E=a(18960),g=a(8888);const v={"managed-odh":{aws:"https://aws.amazon.com/marketplace/search/results?searchTerms=OpenShift+Data+Science+enables"}},h=({subscriptionModels:e,setSubscriptionModel:t,activeCardId:a,hasQuota:n,isReady:u,cloudAccounts:d,installedAddOn:c,billingModel:m,name:p,cloudProvider:h})=>{const b=e[a],S=d&&d[h].length>0,[_,C]=l.useState(!1),[y,I]=l.useState(b.cloudAccount);return l.useEffect((()=>{var e;if(c&&(null===(e=null==c?void 0:c.billing)||void 0===e?void 0:e.billing_marketplace_account)){const e=c.billing.billing_marketplace_account;c.billing.billing_model===m&&I(e)}}),[c]),l.useEffect((()=>{"standard"===(null==b?void 0:b.billingModel)&&I("")}),[null==b?void 0:b.billingModel]),l.createElement(r.Z,{id:m,isSelectableRaised:!0,isSelected:(null==b?void 0:b.billingModel)===m,isDisabled:!S||!n||!u,onClick:()=>{y&&t({...e,[a]:{addOn:a,billingModel:m,cloudAccount:y}})}},l.createElement(i.Z,null,p),l.createElement(s.b,null,"Flexible usage. Pay only for the services you use."),S&&n?l.createElement(o.w,null,l.createElement(f.l,{isOpen:_,selections:y,onToggle:()=>C(!_),onSelect:(l,n)=>{l.stopPropagation(),t({...e,[a]:{addOn:a,billingModel:m,cloudAccount:n}}),I(n),C(!1)},placeholderText:"Select an account",isDisabled:!u},d&&d[h].map((({cloud_account_id:e})=>l.createElement(E.O,{key:e,value:e},e))))):l.createElement(o.w,null,l.createElement("small",null,"Not available.")," ",v[a]&&v[a][h]&&l.createElement(g.default,{href:v[a][h]},"Enable in ",p,".")))},b=({activeCardId:e,billingQuota:t,installedAddOn:a,subscriptionModels:f})=>{var E;const g=(0,n.wA)(),v=e=>{g((0,m.setAddonsDrawer)({subscriptionModels:e}))},b=f[e],S=!(Boolean(a)||a&&a.state!==p.default.INSTALLATION_STATE.READY),_=Boolean(a)||!!t.standard&&t.standard.consumed+t.standard.cost<=t.standard.allowed,C=Boolean(a)||!!t.marketplace&&t.marketplace.consumed+t.marketplace.cost<=t.marketplace.allowed,y=void 0===t.standard,I=void 0===t.marketplace;l.useEffect((()=>{var t;f[e]||v({...f,[e]:{addOn:e,billingModel:a?a.billing.billing_model:y?C?"marketplace":"no-quota":I?_?"standard":"no-quota":_?"standard":C?"marketplace":"no-quota",cloudAccount:(null===(t=null==a?void 0:a.billing)||void 0===t?void 0:t.billing_marketplace_account)||""}})}),[f,e,a]);const A=l.createElement(r.Z,{id:"standard-rh",isSelectableRaised:!0,isSelected:"standard"===(null==b?void 0:b.billingModel),isDisabled:!_||!S},l.createElement(i.Z,null,"Red Hat Standard"),l.createElement(s.b,null,"Fixed capacity subscription."),l.createElement(o.w,null,!_&&l.createElement("small",null,"Not enough quota."))),R=null===(E=t.marketplace)||void 0===E?void 0:E.cloudAccounts,T=l.createElement(l.Fragment,null,!1,l.createElement(h,{subscriptionModels:f,setSubscriptionModel:v,activeCardId:e,hasQuota:C,isReady:S,cloudAccounts:R,installedAddOn:a,billingModel:"marketplace-aws",name:"AWS Marketplace",cloudProvider:"aws"}),!1);return l.createElement(l.Fragment,null,l.createElement("div",{className:t.standard&&t.marketplace?"pf-v5-u-mb-sm":"pf-v5-u-mb-lg"},l.createElement("strong",null,l.createElement("small",null,"Subscription type"))),t.standard&&t.marketplace&&l.createElement(d.l,null,l.createElement(c.g,{role:"radiogroup",isInline:!0,fieldId:"billing-model-group"},t.standard&&((t=!1)=>l.createElement(u.s,{isChecked:"standard"===(null==b?void 0:b.billingModel),name:"billing-model",id:"standard",value:"standard",label:l.createElement("div",null,l.createElement("span",{className:t?"pf-v5-u-mr-xs":""},"Standard")),isDisabled:t,onChange:()=>{v({...f,[e]:{addOn:e,billingModel:"standard",cloudAccount:""}})}}))(!S),t.marketplace&&((t=!1)=>l.createElement(u.s,{isChecked:null==b?void 0:b.billingModel.startsWith("marketplace"),name:"billing-model",id:"marketplace",value:"marketplace",label:l.createElement("div",null,l.createElement("span",{className:t?"pf-v5-u-mr-xs":""},"Marketplace")),isDisabled:t,onChange:()=>{var t;v({...f,[e]:{addOn:e,billingModel:"marketplace",cloudAccount:(null===(t=null==a?void 0:a.billing)||void 0===t?void 0:t.billing_marketplace_account)||""}})}}))(!S))),"standard"===(null==b?void 0:b.billingModel)&&A,(null==b?void 0:b.billingModel.startsWith("marketplace"))&&T)}},73068:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(70460);const i=()=>n().createElement(r.F,{className:"ai-non-editable-alert pf-v5-u-mt-md",isInline:!0,variant:"info",title:"You cannot edit the cluster.",role:"alert"},n().createElement("p",null,"To get permission to edit, contact the Cluster Owner or Organization Admin."))},71642:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var l=a(93345),n=a.n(l),r=a(60915),i=a(6229),s=a(10423),o=a(99145),u=a(22069),d=a(983),c=a(31003),m=a(48525),p=a(23271),f=a(24022),E=a(54075),g=a(82183),v=a(11243),h=a(976),b=a(83280);const S=({cluster:e})=>{const t=e.state===p.default.ERROR,a=e.state===p.default.PENDING,l=e.state===p.default.VALIDATING,S=e.state===p.default.INSTALLING,_=e.state===p.default.UNINSTALLING,C=(0,p.isWaitingROSAManualMode)(e),y=(0,p.isWaitingHypershiftCluster)(e),I=(a||S||y||l||!C)&&!t,A=(I||_)&&!t,R=(0,p.isHypershiftCluster)(e)?"10":"30 to 60",T=(0,p.hasInflightEgressErrors)(e),O=(0,v.useFeatureGate)(h.NETWORK_VALIDATOR_ONDEMAND_FEATURE);let P;return t?P="Installation error":_?P="Uninstalling cluster":C?P="Action required to continue installation":I&&(P="Installing cluster"),n().createElement(r.Z,null,!T&&n().createElement(i.Z,null,n().createElement(s.h,{headingLevel:"h2",size:"lg",className:"card-title pf-v5-u-display-inline-block pf-v5-u-mr-md","data-testid":"installation-header"},A&&n().createElement(o.y,{size:"sm",className:"progressing-icon pf-v5-u-mr-md"}),t&&n().createElement("span",{className:"pf-v5-u-mr-xs"},n().createElement(c.default,{color:m.global_danger_color_100.value})," "),P),(I||C)&&!_&&n().createElement(f.A,null),I&&!_&&n().createElement(u.E,{component:u.Y.p,"data-testid":"expected-cluster-installation-msg",className:"expected-cluster-installation-text"},"Cluster creation usually takes ",R," minutes to complete.")),n().createElement(d.b,null,_?n().createElement(g.A,{cluster:e}):n().createElement(E.A,{cluster:e,hasNetworkOndemand:O,hasInflightErrors:T}),n().createElement(b.default,{isExpandable:!_,cluster:e})))}},94696:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(93345),n=a.n(l),r=a(74353),i=a.n(r),s=a(71468),o=a(70460),u=a(72583),d=a(8888),c=a(91089),m=a(43775);const p=({expirationTimestamp:e,trialExpiration:t,cluster:a,OSDRHMExpiration:l})=>{const r=(0,s.wA)(),p=i().utc(),f=i().utc(e),E=f.diff(p,"hour"),g=p.to(f),v=f.local().format("dddd, MMMM Do YYYY, h:mm a");if(E<=0)return n().createElement(o.F,{id:"expiration-alert",className:"pf-v5-u-mt-md",variant:"warning",isInline:!0,title:"Cluster failed to delete","data-testid":"expiration-alert-passed",role:"alert"},n().createElement(n().Fragment,null,`This cluster should have been deleted ${g} but is still running.`," ",n().createElement(d.default,{href:"https://access.redhat.com/support/"},"Contact our customer support"),"."));let h;switch(!0){case E<24:h="danger";break;case E<48&&E>=24:h="warning";break;default:h="info"}let b=`This cluster is scheduled for deletion on ${v}`;return l?b=n().createElement(n().Fragment,null,"Your cluster subscription was purchased from Red Hat Marketplace and will expire on",` ${v}. `,"Once expired, the cluster will be deleted permanently. To avoid deletion, please purchase a new subscription from the"," ",n().createElement(d.default,{href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated"},"Red Hat Marketplace")," ","before the expiration date."):t&&(b=`Your free trial cluster will automatically be deleted on ${v}. Upgrade your cluster at any time to prevent deletion.`),n().createElement(o.F,{id:"expiration-alert",className:"pf-v5-u-mt-md",variant:h,isInline:!0,title:`This cluster will be deleted ${g}.`,"data-testid":"expiration-alert-will-delete",role:"alert"},n().createElement("p",null,b),t&&n().createElement(u.$n,{variant:"secondary",className:"pf-v5-u-mt-sm","data-testid":"trial-button",onClick:()=>{var e;r(null===(e=c.modalActions.openModal)||void 0===e?void 0:e.call(c.modalActions,m.default.UPGRADE_TRIAL_CLUSTER,{title:"Upgrade cluster from Trial",clusterID:null==a?void 0:a.id,cluster:a}))}},"Upgrade from trial"))}},13767:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(30666),i=a(93973),s=a(70460),o=a(8888);const u=({summary:e})=>{var t;const a=null===(t=null==e?void 0:e.match(/'([^']+)'/))||void 0===t?void 0:t[1];return n().createElement(r.B,null,n().createElement(i.o,{isFilled:!0},n().createElement(s.F,{id:"gcp-org-policy-alert",variant:"warning",className:"pf-v5-u-mt-md",isInline:!0,title:n().createElement(n().Fragment,null,"Your installation might be affected by the"," ",n().createElement(o.default,{href:"https://cloud.google.com/resource-manager/docs/organization-policy/overview"},"GCP Organization Policy Service"))},n().createElement(n().Fragment,null,"OCM is unable to determine whether the GCP organization contains any policies that would affect the installation without the GCP Org Policy API enabled. Enable the"," ",n().createElement(o.default,{href:"https://cloud.google.com/resource-manager/docs/reference/orgpolicy/rest"},"Organization Policy API")," ","for the GCP project '",a,"'"))))}},80116:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(93345),n=a.n(l),r=a(70460),i=a(47482),s=a(32034),o=a(78755),u=a(1319),d=a(65702),c=a(72432),m=a(8888);const p=({limitedSupportReasons:e,isROSA:t,isOSD:a})=>{const l=n().useMemo((()=>(null==e?void 0:e.filter((e=>{var t;return!(null===(t=e.override)||void 0===t?void 0:t.enabled)})))||[]),[e]);return l.length?n().createElement(r.F,{id:"limited-support-alert",variant:"danger",className:"pf-v5-u-mt-md",isInline:!0,role:"alert",isExpandable:l.length>1,title:`This cluster has limited support${l.length>1?" due to multiple reasons":""}.`,actionLinks:t||a?n().createElement(m.default,{href:t?d.default.ROSA_LIMITED_SUPPORT_DEFINITION:d.default.OSD_LIMITED_SUPPORT_DEFINITION},"Learn more"):null},n().createElement(i.B,null,l.map(((e,t)=>n().createElement(s.W,{key:`reason-${t}`,"data-testid":"dl-group"},e.summary?n().createElement(o.X,null,e.summary):null,e.details?n().createElement(u.d,null,n().createElement(c.A,null,e.details)):null))))):null}},47434:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(93345),n=a.n(l),r=a(71468),i=a(70460),s=a(30155),o=a(53034),u=a(75166),d=a(2479),c=a(25514),m=a(59067);const p=({subscription:e})=>{const t=(0,r.wA)(),a=(0,c.useGlobalState)((e=>e.userProfile.selfTermsReviewResult)),[p,f]=(0,l.useState)(void 0),E=e=>{var t,a;return e.status!==m.SubscriptionCommonFields.status.DEPROVISIONED&&[u.normalizedProducts.OSD,u.normalizedProducts.RHMI,u.normalizedProducts.ROSA].includes(null!==(a=null===(t=e.plan)||void 0===t?void 0:t.type)&&void 0!==a?a:"")};return(0,l.useEffect)((()=>{void 0!==p&&e.id===p.id||!E(e)||t((0,d.selfTermsReview)()),f(e)}),[e,p,t]),E(e)&&a.fulfilled&&a.terms_required?n().createElement(i.F,{id:"terms-alert",variant:"warning",isInline:!0,title:"You must accept the Terms and Conditions",actionLinks:n().createElement(s.v,{key:"terms-alert-link",component:"a",href:(g=a.redirect_url,(0,o.A)(g,window.location.href,window.location.href)),"data-testid":"terms-alert-link"},"View Terms and Conditions"),"data-testid":"terms-alert"},n().createElement("p",null,"Access to this cluster will be read-only until you accept the Terms and Conditions.")):null;var g}},40507:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(93345),n=a.n(l),r=a(58156),i=a.n(r),s=a(70460),o=a(69304),u=a(75166),d=a(8888),c=a(59067);const m=({subscription:e})=>{if(![u.normalizedProducts.OCP,u.normalizedProducts.ARO].includes(i()(e,"plan.type",""))||!(null==e?void 0:e.released))return null;const t=e.status===c.SubscriptionCommonFields.status.DISCONNECTED?n().createElement(n().Fragment,null,"The transfer process will complete after"," ",n().createElement(o.Link,{to:"/register","data-testid":"link"},"registering")," ","the cluster again using the same id."):n().createElement(n().Fragment,null,"The transfer process will complete once the pull secret has been changed in the cluster. See"," ",n().createElement(d.default,{href:"https://access.redhat.com/solutions/4902871","data-testid":"external-link"},"this knowledgebase article")," ","for instructions on how to change the pull secret.");return n().createElement(s.F,{id:"transfer-cluster-ownership-alert",className:"pf-v5-u-mt-md",variant:"info",isInline:!0,title:"Cluster ownership transfer initiated"},t)}},7245:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>te});var l=a(93345),n=a.n(l),r=a(62193),i=a.n(r),s=a(47091),o=a.n(s),u=a(71468),d=a(60915),c=a(66312),m=a(99145),p=a(6229),f=a(10423),E=a(983),g=a(63802),v=a(33675),h=a(86130),b=a(80234),S=a(13343),_=a(57691),C=a(69304),y=a(21481),I=a(27241),A=a(25514),R=a(93413),T=a(10135),O=a(22916),P=a(55816),D=a(63240),L=a(12773),N=a(79915),w=a(13945),M=a(74353),k=a.n(M),F=a(55318),x=a(75279),G=a(22069),U=a(68472),j=a(97192),H=a(76792),V=a(11318),q=a(74160),z=a(94935),B=a(69673),W=a(73683),$=a(15402),Y=a(2442),K=a(72432),Q=a(8888),Z=a(48539);const X=[{title:"Description",sortTitle:"summary"},{title:"Type",sortTitle:"log_type"},{title:"Severity",sortTitle:"severity"},{title:"Logged by",sortTitle:"username||created_by"},{title:"Date",sortTitle:"timestamp"}],J=({logs:e,setSorting:t,pending:a,refreshEvent:l})=>{const[r,i]=n().useState([]),[s,o]=n().useState(!1),[u,d]=n().useState(X.findIndex((e=>"timestamp"===e.sortTitle))+1),[c,p]=n().useState(q.l.desc);n().useEffect((()=>{a||(o(!0),l.type!==Z.eventTypes.NONE&&l.reset())}),[l,a]);const f=e=>r.includes(e.id),E=a&&(l.type===Z.eventTypes.NONE||!s);return n().createElement(F.a,null,E?n().createElement(m.y,{size:"lg"}):n().createElement(B.X,{"aria-label":"Expandable table",variant:W.a.compact},n().createElement($.d,null,n().createElement(H.Tr,null,n().createElement(Y.Th,null),X.map(((e,a)=>{return n().createElement(Y.Th,{sort:(l=a+1,{sortBy:{index:u,direction:c},onSort:(e,a,l)=>{const n={isAscending:l===q.l.asc,sortField:X[a-1].sortTitle,sortIndex:a};t(n),d(a),p(n.isAscending?q.l.asc:q.l.desc)},columnIndex:l}),key:e.title},e.title);var l})))),(null==e?void 0:e.length)?e.map(((e,t)=>((e,t)=>{const{summary:a,severity:l,timestamp:s,description:o,username:u,created_by:d,internal_only:c,log_type:m,doc_references:p}=e,E=k().utc(s).format("D MMM YYYY, HH:mm UTC"),g=p&&p.length>0?n().createElement(n().Fragment,null,n().createElement(G.E,{"data-testid":`references_${t}`,className:"cluster-log__resources",component:G.Y.h2},n().createElement("strong",null,"References:")),n().createElement("ul",null,p.map((e=>n().createElement("li",{key:e},n().createElement(Q.default,{href:e},e)))))):null,v=c;return n().createElement(j.N,{className:v?"pf-v5-u-background-color-danger":void 0,key:t},n().createElement(H.Tr,null,n().createElement(V.Td,{expand:{rowIndex:t,isExpanded:f(e),onToggle:()=>{((e,t=!0)=>{const a=r.filter((t=>t!==e.id)),l=t?[...a,e.id]:a;i(l)})(e,!f(e))}}}),n().createElement(V.Td,null,a," ",v?n().createElement(U.PX,null):null),n().createElement(V.Td,null,m),n().createElement(V.Td,null,l),n().createElement(V.Td,null,u||d),n().createElement(V.Td,null,E)),n().createElement(H.Tr,{isExpanded:f(e)},n().createElement(V.Td,{className:"cluster-log",colSpan:X.length+1},n().createElement(z.g,null,n().createElement(K.A,null,o),g))))})(e,t))):(g=X.length+1,n().createElement(j.N,null,n().createElement(H.Tr,null,n().createElement(V.Td,{colSpan:g},n().createElement(F.a,null,n().createElement(v.p,{variant:v.s.sm},n().createElement(h.o,{titleText:"No results found",icon:n().createElement(b.q,{icon:_.SearchIcon}),headingLevel:"h2"}),n().createElement(x.h,null,"No results match the filter criteria. Remove all filters or clear all filters to show results.")))))))));var g};var ee=a(86395);const te=({externalClusterID:e,clusterID:t,region:a,createdAt:l,refreshEvent:r,isVisible:s,findGcpOrgPolicyWarning:M})=>{const k=(0,C.useNavigate)(),F=(0,u.wA)(),x=O.viewConstants.CLUSTER_LOGS_VIEW,G=(0,A.useGlobalState)((e=>e.viewOptions[x])),[U,j]=n().useState(!1),[H,V]=n().useState(G),[q,z]=n().useState(!1),[B,W]=n().useState(!1),[$,Y]=n().useState(1),[K,Q]=n().useState(20),{data:Z,isError:X,error:te,dataUpdatedAt:ae,isPending:le}=(0,y.useFetchClusterLogs)(e,t,G,a,$,K),ne=null==Z?void 0:Z.items,re=te,ie=new Date(ae),se=(null==Z?void 0:Z.total)||0,oe=$&&K&&se>0?($-1)*K+1:0,ue=$&&K?Math.min($*K,se):0,de=(e,t)=>{Y(t)},ce=(e,t,a)=>{Q(t),Y(a)};return n().useEffect((()=>{const e=(0,T.getQueryParam)("severityTypes")||"",t=(0,T.getQueryParam)("logTypes")||"";let a;i()(e)&&i()(t)||(j(!0),F(I.viewActions.onListFlagsSet("conditionalFilterFlags",{severityTypes:i()(e)?[]:e.split(",").filter((e=>N.SEVERITY_TYPES.includes(e))),logTypes:i()(t)?[]:t.split(",").filter((e=>N.LOG_TYPES.includes(e)))},x)));const n=(0,T.getQueryParam)("loggedBy")||"",r=(0,T.getQueryParam)("description")||"",s=(0,T.getQueryParam)("timestampFrom")||"",o=(0,T.getQueryParam)("timestampTo")||"";if(i()(n)&&i()(r)&&i()(s)&&i()(o)||(a={loggedBy:n,description:r,timestampFrom:s,timestampTo:o}),l&&!i()(s)){const e=(0,L.dateParse)(l),{symbol:t,date:n}=(0,L.onDateChangeFromFilter)((0,L.dateFormat)((0,L.getTimestampFrom)(e)));a={...null!=a?a:{},timestampFrom:`${t} '${n}'`}}a&&(j(!0),F(I.viewActions.onListFilterSet(a,x)))}),[l,F,x]),n().useEffect((()=>{!(0,T.viewPropsChanged)(G,H)||le&&(U||!e&&!t)||((0,y.refetchClusterLogsQueries)(),V(G))}),[F,le,U,e,t,G,H]),n().useEffect((()=>{re&&(403!==(null==re?void 0:re.errorCode)&&404!==(null==re?void 0:re.errorCode)||z(!0))}),[re]),n().useEffect((()=>{const e=i()(G.filter)&&R.default.nestedIsEmpty(G.flags);W(!o()(ne)&&le&&e)}),[ne,le,G.filter,G.flags]),n().useEffect((()=>{if(!0===s){const e=Object.entries(G.filter).filter((e=>["description","loggedBy","timestampFrom","timestampTo"].includes(e[0])&&e[1])).reduce(((e,t)=>({...e,[`${t[0]}`]:[t[1]]})),{});k({hash:"#clusterHistory",search:(0,T.buildFilterURLParams)({...e,...G.flags.conditionalFilterFlags||{}})},{replace:!0})}}),[s,G.flags.conditionalFilterFlags,G.filter,k]),n().useEffect((()=>{M&&M(ne)}),[ne,M]),n().createElement(d.Z,{className:"ocm-c-overview-cluster-history__card"},n().createElement(c.a,{actions:{actions:n().createElement(n().Fragment,null,"Updated ",ie&&!le?n().createElement(D.A,{timestamp:ie.getTime()}):n().createElement(m.y,{size:"sm"})),hasNoOffset:!1},className:"ocm-c-overview-cluster-history__card--header"},n().createElement(p.Z,{className:"ocm-c-overview-cluster-history__card--header"},n().createElement(f.h,{headingLevel:"h2",className:"card-title","data-testid":"cluster_history_title"},"Cluster history"))),n().createElement(E.b,{className:"ocm-c-overview-cluster-history__card--body"},X&&!q&&n().createElement(P.default,{message:"Error retrieving cluster logs",response:{errorMessage:re.errorMessage,operationID:re.operationID}}),n().createElement(ee.A,{view:x,externalClusterID:e,isPendingNoData:B,clusterID:t,logs:null==ne?void 0:ne.length,itemCount:(null==Z?void 0:Z.total)||0,page:$,perPage:K,itemsStart:oe,itemsEnd:ue,onSetPage:de,onPerPageSelect:ce}),X&&!o()(ne)&&q?n().createElement(g.d8,null,n().createElement(v.p,null,n().createElement(h.o,{titleText:"No cluster log entries found",icon:n().createElement(b.q,{icon:_.default}),headingLevel:"h4"}))):n().createElement(n().Fragment,null,n().createElement(J,{pending:le,logs:ne,setSorting:e=>F(I.viewActions.onListSortBy(e,x)),refreshEvent:r}),n().createElement(w.default,{itemCount:(null==Z?void 0:Z.total)||0,isDisabled:B,page:$,perPage:K,itemsStart:oe,itemsEnd:ue,variant:S.A.bottom,onSetPage:de,onPerPageSelect:ce}))))}},13945:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(13343);const i=({itemCount:e,isDisabled:t,page:a,perPage:l,itemsStart:i,itemsEnd:s,variant:o,onSetPage:u,onPerPageSelect:d})=>n().createElement(r.d,{itemCount:e,perPage:l,page:a,variant:o||r.A.bottom,onSetPage:u,onPerPageSelect:d,itemsStart:i,itemsEnd:s,isDisabled:t,dropDirection:"bottom"===o?"up":"down",isCompact:"bottom"!==o})},79915:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GET_CLUSTER_LOGS:()=>n,LOG_TYPES:()=>i,SEVERITY_TYPES:()=>r,default:()=>s});var l=a(41493);const n="GET_CLUSTER_LOGS",r=["Debug","Info","Warning","Error","Major","Critical","Fatal"],i=Object.values(l.z.log_type).sort(((e,t)=>e.localeCompare(t,void 0,{sensitivity:"case"}))),s={GET_CLUSTER_LOGS:n,SEVERITY_TYPES:r,LOG_TYPES:i}},87857:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var l=a(93345),n=a.n(l),r=a(74353),i=a.n(r),s=a(72583),o=a(16165),u=a(90678),d=a(73113),c=a(56780),m=a(47914),p=a(70460),f=a(10135),E=a(73410);const g=({externalClusterID:e,clusterID:t,viewOptions:a,logs:l})=>{const[r,g]=n().useState(!1),[v,h]=n().useState("json"),[b,S]=n().useState(!1),[_,C]=n().useState(!1),y=()=>{g(!1),S(!1)};return n().createElement(n().Fragment,null,n().createElement(s.$n,{isDisabled:!l,variant:"primary",onClick:()=>g(!0),"data-testid":"download-btn"},"Download history"),r&&n().createElement(o.a,{variant:"small",title:"Download cluster history",isOpen:!0,onClose:_?void 0:y,actions:[n().createElement(s.$n,{"data-testid":"submit-btn",key:"download",variant:"primary",onClick:async()=>{const l=(0,f.createServiceLogQueryObject)({...a,currentPage:1,pageSize:-1},v);try{C(!0),S(!1);const{data:a}=await E.serviceLogService.getClusterHistory(e,t,l),n=i()().format("YYYY-MM-DD HHmm");let r=a;"json"===v&&(r=JSON.stringify(a));const s=new Blob([r],{type:"octet/stream"}),o=document.createElement("a");o.setAttribute("href",window.URL.createObjectURL(s)),o.setAttribute("download",`${e||t}.${n}.${v}`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),y()}catch(e){S(!0)}finally{C(!1)}},isDisabled:_,isLoading:_,spinnerAriaLabel:"Loading cluster logs"},"Download"),n().createElement(s.$n,{key:"close",variant:"link",onClick:y,isDisabled:_},"Cancel")]},n().createElement(u.B,{hasGutter:!0},n().createElement(d.a,null,n().createElement(c.g,{label:"Choose a file type"},n().createElement(m.s,{id:"json-format",isChecked:"json"===v,name:"format",onChange:(e,t)=>t&&h("json"),label:"JSON",isDisabled:_}),n().createElement(m.s,{id:"csv-format",isChecked:"csv"===v,name:"format",onChange:(e,t)=>t&&h("csv"),label:"CSV",isDisabled:_}))),b&&n().createElement(d.a,null,n().createElement(p.F,{variant:"danger",title:"Unable to download records",isInline:!0})))))}},47208:(e,t,a)=>{"use strict";a.r(t),a.d(t,{IDPNeedsOAuthURL:()=>p,IDPObjectNames:()=>d,IDPTypeNames:()=>o,IDPformValues:()=>i,generateIDPName:()=>f,getCreateIDPRequestData:()=>g,getGitHubTeamsAndOrgsData:()=>b,getInitialValuesForEditing:()=>_,getOauthCallbackURL:()=>m,getOpenIdClaims:()=>v,getldapAttributes:()=>h,getldapca:()=>E,isEmptyReduxArray:()=>S,mappingMethods:()=>c,mappingMethodsformValues:()=>s,singularFormIDP:()=>u});var l=a(62193),n=a.n(l),r=a(93413);const i={GITHUB:"GithubIdentityProvider",GOOGLE:"GoogleIdentityProvider",OPENID:"OpenIDIdentityProvider",LDAP:"LDAPIdentityProvider",GITLAB:"GitlabIdentityProvider",HTPASSWD:"HTPasswdIdentityProvider"},s={CLAIM:"claim",LOOKUP:"lookup",GENERATE:"generate",ADD:"add"},o={[i.GITHUB]:"GitHub",[i.GOOGLE]:"Google",[i.OPENID]:"OpenID",[i.LDAP]:"LDAP",[i.GITLAB]:"GitLab",[i.HTPASSWD]:"htpasswd"},u={[i.GITHUB]:"a GitHub",[i.GOOGLE]:"a Google",[i.OPENID]:"an OpenID",[i.LDAP]:"an LDAP",[i.GITLAB]:"a GitLab",[i.HTPASSWD]:"an HTPasswd"},d={[i.GITHUB]:"github",[i.GOOGLE]:"google",[i.OPENID]:"open_id",[i.LDAP]:"ldap",[i.GITLAB]:"gitlab",[i.HTPASSWD]:"htpasswd"},c=[{name:s.CLAIM,value:s.CLAIM},{name:s.LOOKUP,value:s.LOOKUP},{name:s.GENERATE,value:s.GENERATE},{name:s.ADD,value:s.ADD}],m=(e,t,a)=>{const l=a?e.api:e.console;if(!t||!l)return"";const n=(l.endsWith("/")?l:`${l}/`).split(".");if(n[0]="https://oauth"+(a?"":"-openshift"),a&&!(e=>e===o[i.OPENID])(t)){const e=n[n.length-1];-1!==e.indexOf(":")&&(n[n.length-1]=`${e.split(":")[0]}/`)}return`${n.join(".")}oauth2callback/${t}`},p=e=>![i.LDAP,i.HTPASSWD].includes(null!=e?e:""),f=(e,t)=>{const a=t.map((e=>e.name));let l=0;const n=o[e];if(!a.includes(n))return n;let r=`${n}-${l+1}`;for(;a.includes(r);)l+=1,r=`${n}-${l+1}`;return r},E=e=>e.ldap_ca?e.ldap_insecure?"":e.ldap_ca.trim():e.ldap_ca,g=e=>{const t={GithubIdentityProvider:{name:"github",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),organizations:"organizations"===e.github_auth_mode?(0,r.multiInputToCleanArray)(e,"organizations"):void 0,teams:"teams"===e.github_auth_mode?(0,r.multiInputToCleanArray)(e,"teams"):void 0,hostname:e.hostname,ca:e.github_ca?e.github_ca.trim():e.github_ca})},GoogleIdentityProvider:{name:"google",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),hosted_domain:e.hosted_domain})},OpenIDIdentityProvider:{name:"open_id",data:()=>({ca:e.openid_ca?e.openid_ca.trim():e.openid_ca,claims:{email:(0,r.multiInputToCleanArray)(e,"openid_email"),name:(0,r.multiInputToCleanArray)(e,"openid_name"),preferred_username:(0,r.multiInputToCleanArray)(e,"openid_preferred_username")},client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),extra_scopes:(0,r.strToCleanArray)(e.openid_extra_scopes),issuer:e.issuer})},LDAPIdentityProvider:{name:"ldap",data:()=>({attributes:{id:(0,r.multiInputToCleanArray)(e,"ldap_id"),email:(0,r.multiInputToCleanArray)(e,"ldap_email"),name:(0,r.multiInputToCleanArray)(e,"ldap_name"),preferred_username:(0,r.multiInputToCleanArray)(e,"ldap_preferred_username")},bind_dn:e.bind_dn,bind_password:e.bind_password,insecure:e.ldap_insecure,url:e.ldap_url,ca:E(e)})},GitlabIdentityProvider:{name:"gitlab",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),url:e.gitlab_url,ca:e.gitlab_ca?e.gitlab_ca.trim():e.gitlab_ca})},HTPasswdIdentityProvider:{name:"htpasswd",data:()=>{var t;return{users:{items:null===(t=e.users)||void 0===t?void 0:t.map((e=>({username:e.username,password:e.password})))}}}}},a={type:e.type,name:e.name,id:e.idpId,mapping_method:void 0},l=t[e.type].data(),n=t[e.type].name;return"htpasswd"!==n&&(a.mapping_method=e.mappingMethod||s.CLAIM),e.idpId&&""!==e.idpId&&(delete a.name,"CLIENT_SECRET"===l.client_secret&&delete l.client_secret,l.bind_password&&"BIND_PASSWORD"===l.bind_password&&delete l.bind_password),{...a,[n]:{...l}}},v=(e,t)=>{const a=null==e?void 0:e[t];if(null==a?void 0:a.length)switch(t){case"name":return a.map(((e,t)=>({id:t,openid_name:e})));case"email":return a.map(((e,t)=>({id:t,openid_email:e})));case"preferred_username":return a.map(((e,t)=>({id:t,openid_preferred_username:e})))}return[]},h=(e,t)=>{const a=e?e[t]:void 0;if(a)switch(t){case"name":return a.map(((e,t)=>({id:t,ldap_name:e})));case"email":return a.map(((e,t)=>({id:t,ldap_email:e})));case"preferred_username":return a.map(((e,t)=>({id:t,ldap_preferred_username:e})));case"id":return a.map(((e,t)=>({id:t,ldap_id:e})))}return[]},b=e=>e.teams?e.teams.map(((e,t)=>({id:t,teams:e}))):e.organizations?e.organizations.map(((e,t)=>({id:t,organizations:e}))):[],S=(e,t)=>!!e&&e.map((e=>n()(e[t]))).every((e=>e)),_=(e,t)=>{var a,l,n,r,i,s,o,u,d,c,m,p,f,E,g,S,_,C,y,I,A,R,T,O,P,D,L,N,w,M,k;if(!t)return{};const F={idpId:e.id,type:e.type,name:e.name,client_secret:"CLIENT_SECRET",mappingMethod:e.mapping_method,selectedIDP:e.type};switch(t){case"gitlab":return{...F,gitlab_url:null===(a=e[t])||void 0===a?void 0:a.url,client_id:null===(l=e[t])||void 0===l?void 0:l.client_id};case"open_id":return{...F,issuer:null===(n=e[t])||void 0===n?void 0:n.issuer,openid_name:v(null===(r=e[t])||void 0===r?void 0:r.claims,"name"),openid_email:v(null===(i=e[t])||void 0===i?void 0:i.claims,"email"),openid_preferred_username:v(null===(s=e[t])||void 0===s?void 0:s.claims,"preferred_username"),openid_extra_scopes:(null===(o=e[t])||void 0===o?void 0:o.extra_scopes)?null===(d=null===(u=e[t])||void 0===u?void 0:u.extra_scopes)||void 0===d?void 0:d.join():"",openid_ca:null===(c=e[t])||void 0===c?void 0:c.ca,client_id:null===(m=e[t])||void 0===m?void 0:m.client_id};case"google":return{...F,hosted_domain:null===(p=e[t])||void 0===p?void 0:p.hosted_domain,client_id:null===(f=e[t])||void 0===f?void 0:f.client_id};case"ldap":return{...F,ldap_id:h(null!==(g=null===(E=e[t])||void 0===E?void 0:E.attributes)&&void 0!==g?g:{},"id"),ldap_preferred_username:h(null!==(_=null===(S=e[t])||void 0===S?void 0:S.attributes)&&void 0!==_?_:{},"preferred_username"),ldap_name:h(null!==(y=null===(C=e[t])||void 0===C?void 0:C.attributes)&&void 0!==y?y:{},"name"),ldap_email:h(null!==(A=null===(I=e[t])||void 0===I?void 0:I.attributes)&&void 0!==A?A:{},"email"),ldap_url:null===(R=e[t])||void 0===R?void 0:R.url,bind_dn:null===(T=e[t])||void 0===T?void 0:T.bind_dn,bind_password:(null===(O=e[t])||void 0===O?void 0:O.bind_dn)?"BIND_PASSWORD":"",ldap_ca:null===(P=e[t])||void 0===P?void 0:P.ca,ldap_insecure:null===(D=e[t])||void 0===D?void 0:D.insecure};case"github":return{...F,hostname:null===(L=e[t])||void 0===L?void 0:L.hostname,teams:b(null!==(N=e[t])&&void 0!==N?N:{}),organizations:b(null!==(w=e[t])&&void 0!==w?w:{}),github_ca:null===(M=e[t])||void 0===M?void 0:M.ca,client_id:null===(k=e[t])||void 0===k?void 0:k.client_id}}return F}},67548:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>E,FA:()=>f,w3:()=>p});var l=a(93345),n=a.n(l),r=a(56780),i=a(35253),s=a(53642),o=a(23285),u=a(72583),d=a(65843),c=a(74688),m=a(38715);const p=4e6,f=".pem,.crt,.ca,.cert,application/x-pem-file,application/x-x509-ca-cert,text/plain",E=({label:e,helpText:t="",isDisabled:a,input:l,isRequired:E=!1,certValue:g,maxFileSize:v=p})=>{const h="pf-v5-c-button pf-m-tertiary co-btn-file",[b,S]=n().useState(""),[_,C]=n().useState(""),[y,I]=n().useState(""),[A,R]=n().useState(!1),[T,O]=n().useState(h),[P,D]=n().useState(!1);n().useEffect((()=>{g&&""!==g&&(I(g),R(!0))}),[g]),n().useEffect((()=>{O(a?`${h} pf-m-disabled`:h)}),[a]),n().useEffect((()=>{D(!a&&""!==y&&A)}),[a,y,A]);const L=e=>R(e);return n().createElement(r.g,{className:"ca-upload",fieldId:l.name,label:e,isRequired:E,"data-testid":"ca-upload-form"},n().createElement(i.M,null,n().createElement(s.b,{isFill:!0},n().createElement(o.ks,{value:b,isRequired:E,id:l.name,name:l.name,readOnlyVariant:"default"})),n().createElement(s.b,null,n().createElement("span",{className:T},n().createElement("input",{type:"file",name:"file_input",onChange:e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a)if(a.size>v)C(`Maximum file size exceeded. File size limit is ${(0,c.humanizeValueWithoutUnit)(v)}`);else{const e=new FileReader;e.onload=()=>{S(a.name),C(""),I(e.result),R(!0),l.onChange(e.result)},e.readAsText(a,"UTF-8")}e.currentTarget.value=""},disabled:a,accept:f,"data-testid":"ca-upload-input-file"}),"Browse"),n().createElement(u.$n,{onClick:()=>{S(""),I("")}},"Clear"))),P?n().createElement(n().Fragment,null,n().createElement(u.$n,{variant:"link",onClick:()=>L(!1)},"Hide"),n().createElement(d.fs,{value:y,id:`${l.name}_text`,name:`${l.name}_text`,onChange:(e,t)=>(e=>{l.onChange(e||" "),S(""),I(e)})(t),className:"ca-textarea",readOnly:!0})):n().createElement(u.$n,{variant:"link",onClick:()=>L(!0),isDisabled:""===y||a},"Reveal"),n().createElement(m.FormGroupHelperText,{touched:!0,error:_},t))}},68842:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GET_CLUSTER_INSIGHTS:()=>l,GET_ORGANIZATION_INSIGHTS:()=>n,INSIGHTS_RULE_CATEGORIES:()=>r});const l="GET_CLUSTER_INSIGHTS",n="GET_ORGANIZATION_INSIGHTS",r=[{title:"Performance",tags:["performance"]},{title:"Service Availability",tags:["service_availability"]},{title:"Security",tags:["security"]},{title:"Fault Tolerance",tags:["fault_tolerance"]}]},96110:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var l=a(93345),n=a.n(l),r=a(70460);const i=({hasClusterAutoScaler:e,hasAutoscalingMachinePools:t,isEnabledOnCurrentPool:a,warningType:l})=>{let i="",s="";switch(l){case"clusterView":e&&!t&&(s="Cluster will not autoscale",i="The cluster autoscaling settings will not have any effect as no machine pools are set to autoscale.");break;case"addMachinePool":case"editMachinePool":!e||a||t||(s="Cluster will not autoscale",i="Without machine pools which are configured to autoscale, the cluster autoscaler settings will not have any effect on the cluster.")}return i?n().createElement(r.F,{"data-testid":"inconsistent-autoscaling-settings",variant:"warning",isInline:!0,title:s},i):null}},2167:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(93745),i=a(72583);const s=({isMultiZoneCluster:e,machinePool:t})=>{if(!t.autoscaling)return`${t.desired||t.replicas}`;const a=`Min: ${t.autoscaling.min_replicas}, Max: ${t.autoscaling.max_replicas}`;return e?n().createElement(r.A,{bodyContent:"Minimum and maximum node totals are calculated based on the number of zones.","aria-label":"help"},n().createElement(i.$n,{className:"nodes-count",variant:"link"},a)):a}},56723:(e,t,a)=>{"use strict";a.r(t),a.d(t,{UpdateAllMachinePools:()=>g,UpdateMachinePoolModal:()=>P,UpdatePoolButton:()=>O});var l=a(93345),n=a.n(l),r=a(71468),i=a(99589),s=a.n(i),o=a(70460),u=a(99145),d=a(30155),c=a(65702),m=a(69304),p=a(8888),f=a(81773),E=a(46013);const g=({initialErrorMessage:e,goToMachinePoolTab:t,isMachinePoolError:a,isHypershift:l,region:i})=>{var g,v;const[h,b]=n().useState(!1),[S,_]=n().useState(e?[e]:[]),C=(0,r.d4)((e=>(0,E.controlPlaneVersionSelector)(e))),y=(0,E.useHCPControlPlaneUpdating)(C,a,l),I=(0,r.d4)(E.controlPlaneIdSelector),A=(0,r.d4)((e=>{var t;return null===(t=e.machinePools)||void 0===t?void 0:t.getMachinePools}));if(y)return null;const R=(null===(g=A.data)||void 0===g?void 0:g.filter((e=>{var t;return(0,E.compareIsMachinePoolBehindControlPlane)(C,null===(t=e.version)||void 0===t?void 0:t.id)&&(0,E.isControlPlaneValidForMachinePool)(e,C)&&!(0,E.isMachinePoolScheduleError)(e)&&!(0,E.isMachinePoolUpgrading)(e)})))||[];return 0===R.length?null:n().createElement(n().Fragment,null,!h&&S.length>0?n().createElement(o.F,{title:"Some machine pools could not be updated",variant:o.w.danger,isExpandable:!0,isInline:!0,role:"alert",className:"pf-v5-u-mt-md","data-testid":"alert-danger"},S.map(((e,t)=>n().createElement("p",{key:t},e)))):null,n().createElement(o.F,{className:t?"pf-v5-u-mb-lg":"pf-v5-u-mt-lg",isExpandable:!0,isInline:!0,role:"alert",variant:o.w.warning,title:"Update available for Machine pools","data-testid":"alert-warning",actionLinks:n().createElement(n().Fragment,null,h&&!t?n().createElement(u.y,{size:"sm","aria-label":"Updating machine pools"}):null,h||t?null:n().createElement(d.v,{onClick:()=>(async()=>{b(!0);const e=await(0,E.updateAllMachinePools)(R,I,C,i);b(!1),_(e),(0,f.refetchMachineOrNodePoolsQuery)(I,l,C)})(),"data-testid":"btn-update-all"},"Update all Machine pools now"),t?n().createElement(m.Link,{to:`/details/${I}#machinePools`},"Go to Machine pools list"):null)},n().createElement("p",null,"You can update all worker nodes to the current control plane version (",null===(v=s().coerce(C))||void 0===v?void 0:v.version,"), or use the CLI to update a specific version."," ",n().createElement(p.default,{href:c.default.ROSA_UPGRADES},"Learn more about updates"))))};var v=a(72583),h=a(60502),b=a(67209),S=a(23271),_=a(28592),C=a(91089),y=a(43775),I=a(14419),A=a(55213),R=a(25514);const T=y.default.UPDATE_MACHINE_POOL_VERSION,O=({machinePool:e,isMachinePoolError:t,isHypershift:a})=>{var l,i,s;const o=(0,r.wA)(),u=(0,r.d4)((e=>(0,E.controlPlaneVersionSelector)(e))),d=(0,R.useGlobalState)((e=>e.clusterUpgrades.schedules)),c=(0,r.d4)((l=>(0,E.canMachinePoolBeUpgradedSelector)(d,u,e,t,a))),m=(0,E.useIsControlPlaneValidForMachinePool)(e),p=(0,E.isMachinePoolUpgrading)(e);if(c&&!t)return n().createElement(v.$n,{variant:v.Ak.link,isInline:!0,onClick:()=>o(C.modalActions.openModal(T,{machinePool:e}))},"Update ",n().createElement(h.OutlinedArrowAltCircleUpIcon,null));if((0,E.isMachinePoolScheduleError)(e))return n().createElement(A.default,{iconClassName:"pf-v5-u-ml-sm",isError:!0,hint:null===(l=e.upgradePolicies)||void 0===l?void 0:l.errorMessage});if(!m)return n().createElement(A.default,{iconClassName:"pf-v5-u-ml-sm",hint:`This machine pool cannot be updated because there isn't a migration path to version ${u}`});if(p){const t="This machine pool is scheduled to be updated",a=null===(s=null===(i=e.upgradePolicies)||void 0===i?void 0:i.items)||void 0===s?void 0:s[0];return(null==a?void 0:a.next_run)&&(null==a?void 0:a.version)?n().createElement(A.default,{iconClassName:"pf-v5-u-ml-sm",hint:n().createElement(n().Fragment,null,t," at ",n().createElement(b.A,{type:"exact",date:Date.parse(a.next_run)})," ","to version ",a.version)}):n().createElement(A.default,{iconClassName:"pf-v5-u-ml-sm",hint:t})}return null},P=({region:e})=>{const[t,a]=n().useState(!1),[l,i]=n().useState(""),s=(0,r.d4)((e=>(0,S.isHypershiftCluster)(e.clusters.details.cluster))),u=(0,r.d4)(E.controlPlaneIdSelector),d=(0,r.d4)((e=>(0,E.controlPlaneVersionSelector)(e))),c=(0,r.d4)((e=>(0,I.default)(e,T))),m=(0,r.d4)((e=>e.modal.data)),{machinePool:p}=m,g=(0,r.wA)(),v=()=>{g(C.modalActions.closeModal()),i(""),a(!1)};return n().useEffect((()=>function(){v()}),[]),c?n().createElement(_.default,{variant:"small",title:"Update machine pool",onClose:()=>v(),primaryText:"Update machine pool",secondaryText:"Cancel",onPrimaryClick:async()=>{a(!0);const t=await(0,E.updateAllMachinePools)([p],u,d||"",e);a(!1),i(t[0]||""),(0,f.refetchMachineOrNodePoolsQuery)(u,s,d),t[0]||g(C.modalActions.closeModal())},onSecondaryClick:()=>v(),isPrimaryDisabled:t||!!l,isPending:t},!t&&l?n().createElement(o.F,{title:`Machine pool ${p.id} could not be updated`,variant:o.w.danger,isExpandable:!0,isInline:!0,role:"alert",className:"pf-v5-u-mt-md"},n().createElement("p",null,l)):n().createElement("p",null,"Update machine pool ",p.id," to version"," ",(0,E.displayControlPlaneVersion)(d),"?")):null}},46013:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canMachinePoolBeUpgradedSelector:()=>A,compareIsMachinePoolBehindControlPlane:()=>g,controlPlaneIdSelector:()=>d,controlPlaneVersionSelector:()=>c,displayControlPlaneVersion:()=>m,isControlPlaneValidForMachinePool:()=>_,isHCPControlPlaneUpdating:()=>p,isHCPControlPlaneUpdatingMultiRegion:()=>f,isMachinePoolBehindControlPlane:()=>v,isMachinePoolBehindControlPlaneMulti:()=>h,isMachinePoolScheduleError:()=>I,isMachinePoolUpgrading:()=>y,updateAllMachinePools:()=>S,useHCPControlPlaneUpdating:()=>E,useIsControlPlaneValidForMachinePool:()=>C,useMachinePoolBehindControlPlane:()=>b});var l=a(71468),n=a(99589),r=a.n(n),i=a(23271),s=a(54736),o=a(16236),u=a(82399);const d=e=>e.clusters.details.cluster.id||"",c=e=>{var t,a;return(null===(a=null===(t=e.clusters.details.cluster)||void 0===t?void 0:t.version)||void 0===a?void 0:a.id)||""},m=e=>{var t;return null===(t=r().coerce(e))||void 0===t?void 0:t.version},p=e=>{var t;const a=(0,s.gd)(e),l=c(e),n=null===(t=e.machinePools)||void 0===t?void 0:t.getMachinePools;return!(0,i.isHypershiftCluster)(e.clusters.details.cluster)||!l||a||!n.data||!n.fulfilled||n.error},f=(e,t,a,l)=>{const n=(0,s.t6)(e);return!l||!t||n||a},E=(e,t,a)=>(0,l.d4)((l=>f(l.clusterUpgrades.schedules,e,t,a))),g=(e,t)=>!(!e||!t)&&r().gt(r().coerce(e)||"",r().coerce(t)||""),v=(e,t)=>{var a;if(!t||!(null===(a=t.version)||void 0===a?void 0:a.id))return!1;const l=c(e);return g(l,t.version.id)},h=(e,t)=>{var a;return!(!t||!(null===(a=t.version)||void 0===a?void 0:a.id))&&g(e,t.version.id)},b=e=>(0,l.d4)((t=>v(t,e))),S=async(e,t,a,l)=>{const n=[];if(!a||""===a)return["Machine pools could not be updated because control plane version is unknown"];const i=e.map((e=>{var n;const i={schedule_type:u.ScheduleType.MANUAL,next_run:new Date((new Date).getTime()+36e4).toISOString(),version:null===(n=r().coerce(a))||void 0===n?void 0:n.version,node_pool_id:e.id,upgrade_type:u.UpgradeType.NODE_POOL};return l?(0,o.getClusterServiceForRegion)(l).postNodePoolUpgradeSchedule(t,e.id||"",i):o.default.postNodePoolUpgradeSchedule(t,e.id||"",i)}));return(await Promise.allSettled(i)).forEach((e=>{"rejected"===e.status&&n.push(`${e.reason.response.data.code} - ${e.reason.response.data.reason}`)})),n},_=(e,t)=>{var a;const l=null===(a=null==e?void 0:e.version)||void 0===a?void 0:a.available_upgrades;return!t||!l||l.some((e=>{var a;return r().eq((null===(a=r().coerce(t))||void 0===a?void 0:a.version)||"",e)}))},C=e=>{const t=(0,l.d4)(c);return _(e,t||"")},y=e=>{var t,a;return!!(null===(a=null===(t=e.upgradePolicies)||void 0===t?void 0:t.items)||void 0===a?void 0:a.length)},I=e=>{var t;return!!(null===(t=e.upgradePolicies)||void 0===t?void 0:t.errorMessage)},A=(e,t,a,l,n)=>!f(e,t,l,n)&&h(t,a)&&!I(a)&&_(a,t)&&!y(a)},54913:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ClusterAutoscalerForm:()=>q});var l=a(93345),n=a.n(l),r=a(88139),i=a(11611),s=a(72230),o=a(43775),u=a(82309),d=a(57146),c=a(16236),m=a(25514),p=a(71468),f=a(22069),E=a(22546),g=a(83349),v=a(79752),h=a(30620),b=a(23215),S=a(65702),_=a(84037);a(55213);const C=()=>n().createElement(n().Fragment,null,'Minimum and maximum number of different GPUs in cluster. Cluster autoscaler will not scale the cluster beyond these numbers. Format should be a comma-separated list of "<gpu_type>:<min>:<max>".'),y=()=>n().createElement(n().Fragment,null,"Define a node label that should be ignored when considering node group similarity. Format should be a comma-separated list of labels.");var I=a(58156),A=a.n(I);const R=(0,i.getDefaultClusterAutoScaling)(),T=[{label:"log-verbosity",name:"log_verbosity",type:"number",defaultValue:R.log_verbosity},{label:"skip-nodes-with-local-storage",name:"skip_nodes_with_local_storage",type:"boolean",defaultValue:R.skip_nodes_with_local_storage},{label:"max-pod-grace-period",name:"max_pod_grace_period",type:"number",defaultValue:R.max_pod_grace_period},{label:"max-node-provision-time",name:"max_node_provision_time",type:"time",defaultValue:R.max_node_provision_time},{label:"pod-priority-threshold",name:"pod_priority_threshold",type:"number",defaultValue:R.pod_priority_threshold},{label:"ignore-daemonsets-utilization",name:"ignore_daemonsets_utilization",type:"boolean",defaultValue:R.ignore_daemonsets_utilization},{label:"balance-similar-node-groups",name:"balance_similar_node_groups",type:"boolean",defaultValue:R.balance_similar_node_groups}],O=[{label:"cores-total-min",name:"resource_limits.cores.min",type:"min-max",defaultValue:R.resource_limits.cores.min},{label:"cores-total-max",name:"resource_limits.cores.max",type:"min-max",defaultValue:R.resource_limits.cores.max},{label:"memory-total-min",name:"resource_limits.memory.min",type:"min-max",defaultValue:A()(R,"resource_limits.memory.min",0)},{label:"memory-total-max",name:"resource_limits.memory.max",type:"min-max",defaultValue:A()(R,"resource_limits.memory.max",0)},{label:"max-nodes-total",name:"resource_limits.max_nodes_total",type:"number",defaultValue:A()(R,"resource_limits.max_nodes_total",0)}],P=[{label:"scale-down-enabled",name:"scale_down.enabled",type:"boolean",defaultValue:R.scale_down.enabled},{label:"scale-down-utilization-threshold",name:"scale_down.utilization_threshold",type:"number",defaultValue:R.scale_down.utilization_threshold},{label:"scale-down-unneeded-time",name:"scale_down.unneeded_time",type:"time",defaultValue:R.scale_down.unneeded_time},{label:"scale-down-delay-after-add",name:"scale_down.delay_after_add",type:"time",defaultValue:R.scale_down.delay_after_add},{label:"scale-down-delay-after-delete",name:"scale_down.delay_after_delete",type:"time",defaultValue:R.scale_down.delay_after_delete},{label:"scale-down-delay-after-failure",name:"scale_down.delay_after_failure",type:"time",defaultValue:R.scale_down.delay_after_failure}];var D=a(36215),L=a(14115),N=a(55576),w=a(23658),M=a(72067),k=a(55816),F=a(8888),x=a(28592),G=a(91089),U=a(96678),j=a(96110);const H=(e,t)=>{if("boolean"===e.type)return n().createElement(w.e,{name:`cluster_autoscaling.${e.name}`,label:e.label,isDisabled:t,helperText:n().createElement("span",{className:"custom-help-text"},"Default value: ",`${e.defaultValue}`)});const a="number"===e.type||"min-max"===e.type?"number":"text",l=(e=>{let t;switch(e.name){case"log_verbosity":t=D.Yp;break;case"pod_priority_threshold":t=D.iR;break;case"scale_down.utilization_threshold":t=D.O0}return t||("time"===e.type?t=_.clusterAutoScalingValidators.k8sTimeParameter:"number"!==e.type&&"min-max"!==e.type||(t=D.Nh),t)})(e);return n().createElement(N.TextInputField,{name:`cluster_autoscaling.${e.name}`,label:e.label,type:a,isDisabled:t,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},"Default value: ",`${e.defaultValue}`),validate:l})},V=({submitForm:e,isUpdateClusterAutoscalerPending:t,clusterId:a,hasClusterAutoscaler:l,isRosa:r,isOpen:s,isWizard:o,dirty:m,hasAutoscalingMachinePools:I,region:A,isClusterAutoscalerRefetching:R})=>{var D;const{mutate:w,isPending:V,isError:q,error:z}=((e,t)=>{const{data:a,isPending:l,isError:n,error:r,mutate:i,mutateAsync:s,isSuccess:o}=(0,u.n)({mutationKey:["clusterAutoscaler","disableClusterAutoscaler",e],mutationFn:async()=>t?(0,c.getClusterServiceForRegion)(t).disableClusterAutoscaler(e):c.default.disableClusterAutoscaler(e),onSuccess:()=>{d.q.invalidateQueries({queryKey:["clusterAutoscaler"]})}});return{data:a,isPending:l,isError:n,error:(0,U.formatErrorData)(l,n,r),mutate:i,mutateAsync:s,isSuccess:o}})(a,A),{mutate:B,isPending:W,isError:$,error:Y}=((e,t)=>{const{data:a,isPending:l,isSuccess:n,isError:r,error:s,mutate:o,mutateAsync:m}=(0,u.n)({mutationKey:["clusterAutoscaler","enableClusterAutoscaler",e],mutationFn:async()=>t?(0,c.getClusterServiceForRegion)(t).enableClusterAutoscaler(e,(0,i.getClusterAutoScalingSubmitSettings)((0,i.getDefaultClusterAutoScaling)())):c.default.enableClusterAutoscaler(e,(0,i.getClusterAutoScalingSubmitSettings)((0,i.getDefaultClusterAutoScaling)())),onSuccess:()=>{d.q.invalidateQueries({queryKey:["clusterAutoscaler"]})}});return{data:a,isPending:l,isSuccess:n,isError:r,error:(0,U.formatErrorData)(l,r,s),mutate:o,mutateAsync:m}})(a,A),K=(0,p.wA)(),{values:{[L.FieldId.ClusterAutoscaling]:Q},errors:{[L.FieldId.ClusterAutoscaling]:Z},setFieldValue:X}=(0,M.l)(),J=V||W||t||R,ee=()=>K(G.modalActions.closeModal()),te=Object.keys(Z||{}).length>0,ae=!1===(null===(D=null==Q?void 0:Q.scale_down)||void 0===D?void 0:D.enabled),le=!l||t||R;let ne={text:"Close",isClose:!0,isDisabled:te};return t||R?ne={text:"Saving...",isClose:!1,isDisabled:!0}:!m||t||R||(ne={text:"Save",isClose:!1,isDisabled:te}),n().createElement(x.default,{variant:"large",isOpen:s,title:"Edit cluster autoscaling settings","data-testid":"cluster-autoscaling-dialog",primaryText:ne.text,secondaryText:"Revert all to defaults",onPrimaryClick:()=>{m?e():ee()},onTertiaryClick:ee,tertiaryText:"Cancel",onSecondaryClick:()=>{X(L.FieldId.ClusterAutoscaling,(0,i.getDefaultClusterAutoScaling)(),!0)},isPrimaryDisabled:te||ne.isDisabled,isSecondaryDisabled:ne.isDisabled,showClose:!0,showTertiary:!o,onClose:ee},n().createElement(n().Fragment,null,n().createElement(f.E,{component:"p"},"The cluster autoscaler adjusts the size of a cluster to meet its current deployment needs. Learn more about"," ",n().createElement(F.default,{href:r?S.default.ROSA_CLUSTER_AUTOSCALING:S.default.OSD_CLUSTER_AUTOSCALING},"cluster autoscaling")," ","or",n().createElement(F.default,{href:S.default.APPLYING_AUTOSCALING_API_DETAIL}," APIs"),"."),!o&&n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(E.d,{className:"pf-v5-u-ml-0 pf-v5-u-mb-md",label:"Autoscale cluster",labelOff:"Autoscale cluster",isChecked:l,hasCheckIcon:!0,isDisabled:J,onChange:()=>{l?l&&w():B()}}),q||$?n().createElement(k.default,{message:"Failed to update autoscaler",response:z.error||Y.error}):n().createElement(j.A,{hasClusterAutoScaler:l,hasAutoscalingMachinePools:I,isEnabledOnCurrentPool:!1,warningType:"clusterView"})),n().createElement(g.l,{className:"cluster-autoscaling-form"},n().createElement(v.y,{title:"General settings"},n().createElement(h.x,{hasGutter:!0},T.map((e=>n().createElement(b.E,{span:6,key:e.name},H(e,le)))),n().createElement(b.E,{span:6},n().createElement(N.TextInputField,{name:"cluster_autoscaling.balancing_ignored_labels",label:"balancing-ignored-labels",type:"text",tooltip:y,isDisabled:le,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},"Format should be a comma-separated list of labels."),validate:_.validateListOfBalancingLabels})))),n().createElement(v.y,{title:"Resource limits"},n().createElement(h.x,{hasGutter:!0},O.map((e=>n().createElement(b.E,{span:6,key:e.name},H(e,le)))),n().createElement(b.E,{span:6},n().createElement(N.TextInputField,{name:"cluster_autoscaling.resource_limits.gpus",label:"GPUs",type:"text",tooltip:C,isDisabled:le,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},'Format should be a comma-separated list of "<gpu_type>:<min>:<max>"'),validate:_.clusterAutoScalingValidators.k8sGpuParameter})))),n().createElement(v.y,{title:"Scale down configuration"},n().createElement(h.x,{hasGutter:!0},P.map((e=>{const t=le||ae&&"scale_down.enabled"!==e.name;return n().createElement(b.E,{span:6,key:e.name},H(e,t))})))))))},q=({hasClusterAutoscaler:e,clusterId:t,isWizard:a,hasAutoscalingMachinePools:l,region:p,clusterAutoscalerData:f,isClusterAutoscalerRefetching:E})=>{const g=(0,m.useGlobalState)((e=>e.modal.modalName===o.default.EDIT_CLUSTER_AUTOSCALING_V2)),{mutate:v,isPending:h}=((e,t)=>{const{data:a,isPending:l,isSuccess:n,isError:r,error:i,mutate:s,mutateAsync:o}=(0,u.n)({mutationKey:["clusterAutoscaler","updateClusterAutoscaler",e],mutationFn:async a=>t?(0,c.getClusterServiceForRegion)(t).updateClusterAutoscaler(e,a):c.default.updateClusterAutoscaler(e,a),onSuccess:()=>{d.q.invalidateQueries({queryKey:["clusterAutoscaler"]})}});return{data:a,isPending:l,isSuccess:n,isError:r,error:i,mutate:s,mutateAsync:o}})(t,p);return n().createElement(r.Formik,{enableReinitialize:!0,validateOnMount:!0,initialValues:{[s.FieldId.ClusterAutoscaling]:e?f.data:(0,i.getDefaultClusterAutoScaling)()},validate:()=>{},onSubmit:e=>{v((0,i.getClusterAutoScalingSubmitSettings)(e.cluster_autoscaling))}},(({dirty:r,submitForm:i})=>n().createElement(V,{submitForm:i,isUpdateClusterAutoscalerPending:h,clusterId:t,hasClusterAutoscaler:e,isRosa:!0,isOpen:g,isWizard:a,dirty:r,hasAutoscalingMachinePools:l,isClusterAutoscalerRefetching:E})))}},9155:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(71468),i=a(28592),s=a(91089),o=a(25514);const u=()=>{var e;const t=(0,r.wA)(),a=(0,o.useGlobalState)((e=>e.modal.data)),l="object"==typeof(u=a)&&null!==u;var u;const{performDeleteAction:d}=a;return l?n().createElement(i.default,{title:"Permanently delete machine pool?",primaryText:"Delete",onPrimaryClick:()=>{t((0,s.closeModal)()),d()},secondaryText:"Cancel",onSecondaryClick:()=>t((0,s.closeModal)()),isOpen:!0,onClose:()=>t((0,s.closeModal)())},'"',null===(e=a.machinePool)||void 0===e?void 0:e.id,'" will be lost.'):null}},60288:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ConnectedEditMachinePoolModal:()=>ot,default:()=>ut});var l=a(93345),n=a.n(l),r=a(88139),i=a(2404),s=a.n(i),o=a(71468),u=a(90678),d=a(73113),c=a(92292),m=a(72583),p=a(83349),f=a(66338),E=a(89217),g=a(23271),v=a(31261),h=a(55816),b=a(28592),S=a(91089),_=a(43775),C=a(11243),y=a(60216),I=a(82309),A=a(1239),R=a(48539);const T=(e,t,a)=>{if(e.autoscaling){const l=e.autoscaleMax*(t?3:1),n=e.autoscaleMin*(t?3:1);return{autoscaling:a?{max_replica:l,min_replica:n}:{max_replicas:l,min_replicas:n}}}return{replicas:e.replicas}};var O=a(16236);var P=a(81773),D=a(976),L=a(25514),N=a(87624),w=a(57109),M=a(56780),k=a(15758),F=a(1727),x=a(75166),G=a(70557),U=a(38715),j=a(55213),H=a(22024),V=a(15403);const q="diskSize",z=({cluster:e,isEdit:t})=>{var a,n;const i=(0,F.uP)(null===(a=e.product)||void 0===a?void 0:a.id)===x.normalizedProducts.ROSA&&!(0,g.isHypershiftCluster)(e),[s,{error:o,touched:u}]=(0,r.useField)(q),d=(0,V.default)(q),c=(0,G.getWorkerNodeVolumeSizeMaxGiB)((null===(n=e.version)||void 0===n?void 0:n.raw_id)||"");return i?l.createElement(M.g,{fieldId:q,label:"Root disk size",isRequired:!0,labelIcon:l.createElement(j.default,{hint:`Root disks are AWS EBS volumes attached as the primary disk for AWS EC2 instances. The root disk size for this machine pool group of nodes must be between ${G.workerNodeVolumeSizeMinGiB}GiB and ${c}GiB.`})},l.createElement(H.default,{showTooltip:t,content:"This option cannot be edited from its original setting selection."},l.createElement(k.Q,{...s,onPlus:()=>d(s.value+1),onMinus:()=>d(s.value-1),onChange:e=>{const t=e.target.value;d(Number(t))},id:q,min:G.workerNodeVolumeSizeMinGiB,max:c,unit:l.createElement("span",{className:"ocm-disk-size_unit"},"GiB"),isDisabled:t})),l.createElement(U.FormGroupHelperText,{touched:u,error:o})):null};var B=a(12664),W=a(84037),$=a(88851);var Y=a(23181),K=a.n(Y),Q=a(98229),Z=a(66282);const X=({cluster:e,quota:t,machineTypes:a,machineTypeId:l,machinePools:n,machinePool:r,minNodes:i,editMachinePoolId:s,allow500Nodes:o})=>{var u,d,c,m,p;const f=(0,R.isMultiAZ)(e),E=(0,R.isMPoolAz)(e,null===(u=null==r?void 0:r.availability_zones)||void 0===u?void 0:u.length),v=(({quota:e,isByoc:t,isMultiAz:a,machineTypeId:l,machineTypes:n,cloudProviderID:r,product:i,billingModel:s})=>{var o;if(!l)return 0;const u=null===(o=n.typesByID)||void 0===o?void 0:o[l];if(!u)return 0;const d={product:i,cloudProviderID:r,isBYOC:t,isMultiAz:a,resourceName:u.generic_name,billingModel:(0,Z.F)(s)};return(0,Q.availableNodesFromQuota)(e,d)})({quota:t,machineTypes:a,machineTypeId:l,isMultiAz:f,isByoc:!!(null===(d=e.ccs)||void 0===d?void 0:d.enabled),cloudProviderID:null===(c=e.cloud_provider)||void 0===c?void 0:c.id,billingModel:e.billing_model,product:null===(m=e.product)||void 0===m?void 0:m.id}),h=(0,g.isHypershiftCluster)(e),b=(({isMultiAz:e,isHypershift:t})=>t?e?9:4:0)({isHypershift:h,isMultiAz:f}),S=((e,t,a,l)=>e.reduce(((e,n)=>{const r=(n.autoscaling?n.autoscaling.max_replicas:n.replicas)||0;return t&&n.id!==a||!t&&n.instance_type===l?e+r:e}),0))(n,h,s,l);return(({included:e,available:t,isEditingCluster:a,currentNodeCount:l,minNodes:n,increment:r,isHypershift:i,clusterVersion:s,allow500Nodes:o})=>{const u=((e,t)=>e&&!(e=>{const t=parseFloat(e),a=Number(e.split(".")[2]);return t>=4.16||!(t<=4.13)&&(4.14===t?a>=28:4.15!==t||a>=15)})(e)?90:t?500:250)(s,o);let d=a?t+l:t+e;const c=i?u:180;return d>c&&(d=c),i&&a&&d>u-l&&(d=u-l),t>0||a?K()(n,d+1,r):[n]})({available:v,isEditingCluster:!0,included:b,currentNodeCount:S,minNodes:i,increment:E?3:1,isHypershift:(0,g.isHypershiftCluster)(e),clusterVersion:null===(p=e.version)||void 0===p?void 0:p.raw_id,allow500Nodes:o})};var J=a(2479);const ee=({machinePool:e,cluster:t,machineTypes:a,machinePools:n})=>{var r,i;const s=(0,R.isMPoolAz)(t,null===(r=null==e?void 0:e.availability_zones)||void 0===r?void 0:r.length),u=(0,g.isROSA)(t),d=(0,w.getClusterMinNodes)({cluster:t,machineTypesResponse:a,machinePool:e,machinePools:n||[]}),c=l.useMemo((()=>{var t,a,l,n,r,i,o,u,c,m,p,f,E,g;let v,h,b,S,_,C="onDemand";v=(null===(t=null==e?void 0:e.autoscaling)||void 0===t?void 0:t.min_replicas)||d,h=(null===(a=null==e?void 0:e.autoscaling)||void 0===a?void 0:a.max_replicas)||d;const y=null==e?void 0:e.instance_type;var I;return"MachinePool"===(null==(I=e)?void 0:I.kind)&&(b=!!(null===(l=e.aws)||void 0===l?void 0:l.spot_market_options),C=(null===(r=null===(n=e.aws)||void 0===n?void 0:n.spot_market_options)||void 0===r?void 0:r.max_price)?"maximum":"onDemand",S=null===(o=null===(i=e.aws)||void 0===i?void 0:i.spot_market_options)||void 0===o?void 0:o.max_price,_=(null===(c=null===(u=e.root_volume)||void 0===u?void 0:u.aws)||void 0===c?void 0:c.size)||(null===(p=null===(m=e.root_volume)||void 0===m?void 0:m.gcp)||void 0===p?void 0:p.size)),s&&(v/=3,h/=3),{name:(null==e?void 0:e.id)||"",autoscaling:!!(null==e?void 0:e.autoscaling),autoscaleMin:v,autoscaleMax:h||1,replicas:(null==e?void 0:e.replicas)||d,labels:(null==e?void 0:e.labels)?Object.keys(e.labels).map((t=>{var a;return{key:t,value:null===(a=e.labels)||void 0===a?void 0:a[t]}})):[{key:"",value:""}],taints:(null===(f=null==e?void 0:e.taints)||void 0===f?void 0:f.map((e=>({key:e.key||"",value:e.value||"",effect:e.effect||"NoSchedule"}))))||[{key:"",value:"",effect:"NoSchedule"}],useSpotInstances:!!b,spotInstanceType:C,maxPrice:S||.01,diskSize:_||300,instanceType:y,privateSubnetId:void 0,securityGroupIds:(null===(E=null==e?void 0:e.aws)||void 0===E?void 0:E.additional_security_group_ids)||(null===(g=null==e?void 0:e.aws_node_pool)||void 0===g?void 0:g.additional_security_group_ids)||[]}}),[e,s,d]),m=(0,g.isHypershiftCluster)(t),p=(e=>{const[t,a]=(0,$.splitVersion)(e);return 1024*(t>4||4===t&&a>=14?16:1)})((null===(i=t.version)||void 0===i?void 0:i.raw_id)||""),f=!!e,E=(()=>{const e=(0,o.wA)();return l.useEffect((()=>{e((0,J.getOrganizationAndQuota)())}),[e]),(0,L.useGlobalState)((e=>e.userProfile.organization))})(),v=(0,C.useFeatureGate)(D.MAX_COMPUTE_NODES_500);return{initialValues:c,validationSchema:l.useMemo((()=>B.lazy((l=>{const r=s?d/3:d,i=(0,W.validateSecurityGroups)(l.securityGroupIds,m),o=X({cluster:t,machinePools:n||[],machinePool:e,machineTypes:a,quota:E.quotaList,minNodes:d,machineTypeId:l.instanceType,editMachinePoolId:l.name,allow500Nodes:v}),c=o.length?o[o.length-1]:0;return B.object({name:B.string().test("mp-name","",(e=>{const t=m?(0,W.checkNodePoolName)(e):(0,W.checkMachinePoolName)(e);return t?new B.ValidationError(t,e,"name"):!(!f&&n.some((t=>t.id===e)))||new B.ValidationError("Name has to be unique.",e,"name")})),labels:B.array().of(B.object().shape({key:B.string().test("label-key","",(function(e){if(1===l.labels.length&&(!e||0===e.length))return!0;const t=(0,W.checkLabelKey)(e);return t?new B.ValidationError(t,e,this.path):!(l.labels.filter((({key:t})=>t===e)).length>1)||new B.ValidationError("Each label must have a different key.",e,this.path)})),value:B.string().test("label-value","",(function(e){const t=(0,W.checkLabelValue)(e);if(t)return new B.ValidationError(t,e,this.path);const a=this.parent.key;return!(e&&!a)||new B.ValidationError("Label key has to be defined",e,this.path)}))})),taints:B.array().of(B.object().shape({key:B.string().test("taint-key","",(function(e){if(1===l.taints.length&&(!e||0===e.length))return!0;const t=(0,W.checkTaintKey)(e);return!t||new B.ValidationError(t,e,this.path)})),value:B.string().test("taint-value","",(function(e){const t=(0,W.checkTaintValue)(e);if(t)return new B.ValidationError(t,e,this.path);const a=this.parent.key;return!(e&&!a)||new B.ValidationError("Taint key has to be defined",e,this.path)}))})),autoscaleMin:l.autoscaling?B.number().test("whole-number","Decimals are not allowed. Enter a whole number.",Number.isInteger).min(r,`Input cannot be less than ${r}.`).max(l.autoscaleMax,"Min nodes cannot be more than max nodes."):B.number(),autoscaleMax:l.autoscaling?B.number().test("autoscale-max","",(e=>Number.isInteger?!(void 0!==e&&e<1)||new B.ValidationError("Max nodes must be greater than 0.",e,"autoscaleMax"):new B.ValidationError("Decimals are not allowed. Enter a whole number.",e,"autoscaleMax"))).min(l.autoscaleMin,"Max nodes cannot be less than min nodes.").max(s?c/3:c,`Input cannot be more than ${s?c/3:c}.`):B.number(),autoscaling:B.boolean(),diskSize:u?B.number().min(128,"Disk size must be at least 128 GiB").max(p,`Disk size can not be more than ${p} GiB`).test("whole-number","Decimals are not allowed. Enter a whole number.",Number.isInteger):B.number(),spotInstanceType:B.mixed(),maxPrice:"maximum"===l.spotInstanceType?B.number().min(.01,"Price has to be at least 0.01"):B.number(),instanceType:f?B.string():B.string().required("Compute node instance type is a required field."),replicas:B.number(),useSpotInstances:B.boolean(),privateSubnetId:!f&&m?B.string().required("Please select a subnet."):B.string(),securityGroupIds:m?B.mixed():B.array().of(B.string()).test("max-security-groups",i||"",(()=>void 0===i))})}))),[s,d,t,n,e,a,E.quotaList,u,p,f,m,v])}};var te=a(18960),ae=a(75913),le=a(23215),ne=a(49210);const re="instanceType",ie={input:{value:void 0,onChange:()=>{}}},se=({cluster:e,machineTypesResponse:t})=>{var a,n,i;const[s,o]=(0,r.useField)(re),u=(0,V.default)(re),d=l.useMemo((()=>({input:{value:s.value,name:s.name,onChange:u},meta:{error:o.error,touched:o.touched}})),[s.value,s.name,o.error,o.touched,u]);return l.createElement(le.E,null,l.createElement(ne.A,{machineTypesResponse:t,machine_type:d,machine_type_force_choice:ie,isMultiAz:(0,R.isMultiAZ)(e),isBYOC:!!(null===(a=e.ccs)||void 0===a?void 0:a.enabled),cloudProviderID:null===(n=e.cloud_provider)||void 0===n?void 0:n.id,product:(0,F.uP)(null===(i=e.product)||void 0===i?void 0:i.id),isMachinePool:!0,billingModel:e.billing_model||x.billingModels.STANDARD,inModal:!0,menuAppendTo:document.getElementById("edit-mp-modal")}))};var oe=a(91332);const ue=({value:e,fieldId:t,onSelect:a,isDisabled:n,children:r})=>{const[i,s]=l.useState(!1);return l.createElement(oe.l,{selections:e,id:t,onSelect:(e,t)=>{a(t),s(!1)},isDisabled:n,isOpen:i,onToggle:(e,t)=>s(t),menuAppendTo:document.getElementById("edit-mp-modal")||void 0,maxHeight:300},r)};var de=a(99145),ce=a(70460),me=a(34108),pe=a(97909);const fe="privateSubnetId",Ee=({cluster:e,region:t})=>{const[a,n,{setValue:i}]=(0,r.useField)(fe),{clusterVpc:s,isLoading:o,hasError:u}=(0,pe.useAWSVPCFromCluster)(e,t),d=l.useMemo((()=>({input:{onChange:e=>{i(e)},value:a.value,name:a.name},meta:{error:n.touched?n.error:void 0,touched:n.touched}})),[a.value,a.name,n.error,n.touched,i]);return o?l.createElement(de.y,{size:"md"},"Loading the cluster VPC"):!s||u?l.createElement(ce.F,{variant:"danger",isInline:!0,isPlain:!0,title:"Failed to load the machine pool VPC. Please try refreshing the page.",className:"pf-v5-u-mb-sm"}):l.createElement(me.SubnetSelectField,{name:fe,privacy:"private",label:"Private subnet name",isRequired:!0,selectedVPC:s,...d})},ge=({cluster:e,isEdit:t,region:a,machinePools:n,setCurrentMPId:r,currentMPId:i,machineTypesResponse:s,machineTypesLoading:o})=>t?l.createElement(M.g,{fieldId:"machine-pool",label:"Machine pool"},l.createElement(ue,{fieldId:"machine-pool",onSelect:r,value:i},n.map((e=>l.createElement(te.O,{key:e.id,value:e.id},e.id||""))))):l.createElement(l.Fragment,null,l.createElement(ae.default,{fieldId:"name",label:"Machine pool name",isRequired:!0}),(0,g.isHypershiftCluster)(e)?l.createElement(Ee,{cluster:e,region:a}):null,l.createElement(se,{cluster:e,machineTypesResponse:s}));var ve=a(30620),he=a(22069),be=a(56862),Se=a(23158);const _e=({input:e,index:t,onRemove:a,onPush:n})=>{const r=0===t&&!e.value[t].key&&!e.value[t].value;return l.createElement(m.$n,{icon:l.createElement(Se.MinusCircleIcon,null),onClick:()=>{const l=1===e.value.length;a(t),l&&n()},variant:"link",isInline:!0,isDisabled:r})},Ce=()=>{const[e]=(0,r.useField)("labels");return l.createElement(le.E,null,l.createElement(M.g,{fieldId:"labels",label:"Node labels"},l.createElement(U.FormGroupHelperText,null,l.createElement("div",{className:"uhc-labels-section__description"},"Labels help you organize and select resources. Adding labels below will let you query for objects that have similar, overlapping or dissimilar labels."))),l.createElement(r.FieldArray,{name:"labels",render:({push:t,remove:a})=>l.createElement(l.Fragment,null,l.createElement(ve.x,{hasGutter:!0},l.createElement(le.E,{span:4},l.createElement(he.E,{component:he.Y.small},"Key")),l.createElement(le.E,{span:8},l.createElement(he.E,{component:he.Y.small},"Value"))),l.createElement(ve.x,{hasGutter:!0},e.value.map(((n,r)=>{const i=`labels[${r}].key`,s=`labels[${r}].value`;return l.createElement(l.Fragment,{key:r},l.createElement(le.E,{span:4},l.createElement(ae.default,{fieldId:i})),l.createElement(le.E,{span:4},l.createElement(ae.default,{fieldId:s})),l.createElement(le.E,{span:4},l.createElement(_e,{input:e,index:r,onRemove:a,onPush:()=>t({key:"",value:""})})))})),l.createElement(le.E,{span:6},l.createElement(m.$n,{icon:l.createElement(be.PlusCircleIcon,null),onClick:()=>t({key:"",value:""}),variant:"link",isInline:!0},"Add label"))))}))};var ye=a(96110),Ie=a(65702),Ae=a(69304),Re=a(8888),Te=a(52865);const Oe=({autoscalingEnabled:e,cluster:t,autoScaleMaxNodesValue:a,replicasValue:n,selectedMachinePoolID:r,machinePools:i})=>{const s=(({selectedMachinePoolID:e,requestedNodes:t,cluster:a,machinePools:l})=>{const n=(0,Te.default)(a,l),r=n.totalMaxNodesCount;let i=0;const s=l.find((t=>t.id===e));if(s&&(i=s.autoscaling?n.totalMaxNodesCount+(t-(s.autoscaling.max_replicas||0)):n.totalMaxNodesCount+(t-(s.replicas||0))),t&&r){if(r<=100&&i>100)return 100;if(r<=25&&i>25)return 25}return 0})({cluster:t,requestedNodes:e?a:n,selectedMachinePoolID:r,machinePools:i});return s?l.createElement(ce.F,{variant:"warning",isInline:!0,title:e?`Autoscaling to a maximum node count of more than ${s} nodes may trigger manual Red Hat SRE intervention`:`Scaling node count to more than ${s} nodes may trigger manual Red Hat SRE intervention`},l.createElement("p",null,"Node scaling is automatic and will be performed immediately. Scaling node count beyond Red Hat's"," ",l.createElement(Re.default,{href:Ie.default.ROSA_AWS_LIMITS_SCALE,noIcon:!0},"documented thresholds")," ","may trigger manual Red Hat SRE intervention to vertically scale your Infrastructure and Control Plane instances."," ",a&&"Autoscaling nodes will not trigger manual intervention until the actual node count crosses the threshold. ","To request that Red Hat SRE proactively increase your Infrastructure and Control Plane instances, please open a ",l.createElement(Ae.Link,{to:`/details/${t.id}#support`},"support case"),".")):null};var Pe=a(38260),De=a(86646);const Le="autoscaleMax",Ne=({minNodes:e,cluster:t,options:a,mpAvailZones:n})=>{var i;const[s,{error:o,touched:u}]=(0,r.useField)(Le),d=(0,V.default)(Le),c=(0,Pe.isMPoolAz)(t,n),m=(0,F.uP)(null===(i=t.product)||void 0===i?void 0:i.id)===x.normalizedProducts.ROSA,p=a.length?a[a.length-1]:0,f=c?e/3:e,E=c?p/3:p;return l.createElement(M.g,{fieldId:Le,label:"Maximum nodes count",isRequired:!0,labelIcon:l.createElement(j.default,{buttonAriaLabel:"Compute node count information",hint:l.createElement(l.Fragment,null,(0,De.cx)(!1,(0,g.isHypershiftCluster)(t)),m&&l.createElement(l.Fragment,null,l.createElement("br",null),l.createElement(Re.default,{href:Ie.default.ROSA_WORKER_NODE_COUNT},"Learn more about worker/compute node count")))})},l.createElement(k.Q,{...s,onPlus:()=>d(s.value+1),onMinus:()=>d(s.value-1),onChange:e=>{const t=e.target.value;d(Number(t))},id:Le,min:f||1,max:E}),l.createElement(U.FormGroupHelperText,{touched:u,error:o},c&&"x 3 zones = "+3*s.value))},we="autoscaleMin",Me=({cluster:e,minNodes:t,mpAvailZones:a,options:n})=>{const[i,{error:s,touched:o}]=(0,r.useField)(we),u=(0,V.default)(we),d=(0,Pe.isMPoolAz)(e,a),c=n.length?n[n.length-1]:0,m=d?t/3:t,p=d?c/3:c;return l.createElement(M.g,{fieldId:we,label:"Minimum nodes count",isRequired:!0},l.createElement(k.Q,{...i,onPlus:()=>u(i.value+1),onMinus:()=>u(i.value-1),onChange:e=>{const t=e.target.value;u(Number(t))},id:we,min:m,max:p}),l.createElement(U.FormGroupHelperText,{touched:o,error:s},d&&"x 3 zones = "+3*i.value))};var ke=a(83873),Fe=a(49484),xe=a(55909);const Ge="autoscaling",Ue=({cluster:e})=>{var t,a,n;const i=e,[s]=(0,r.useField)(Ge),o=(0,xe.default)(null===(t=i.product)||void 0===t?void 0:t.id,null===(a=i.subscription)||void 0===a?void 0:a.cluster_billing_model,null===(n=i.subscription)||void 0===n?void 0:n.capabilities),u=(0,g.isROSA)(e),d=u?Ie.default.ROSA_AUTOSCALING:Ie.default.APPLYING_AUTOSCALING;return o?l.createElement(M.g,{label:"Scaling"},l.createElement(ke.S,{...s,label:l.createElement(l.Fragment,null,"Enable autoscaling"," ",l.createElement(j.default,{hint:l.createElement(l.Fragment,null,Fe.constants.autoscaleHint," ",l.createElement(Re.default,{href:d},"Learn more about autoscaling",u?" with ROSA":""))})),isChecked:s.value,onChange:(e,t)=>{s.onChange(e)},id:Ge,description:"Autoscaling automatically adds and removes worker (compute) nodes from the cluster based on resource requirements."})):null};var je=a(93413);const He="replicas",Ve=({minNodesRequired:e,options:t,cluster:a,mpAvailZones:n})=>{var i;const[s]=(0,r.useField)(He),o=(0,V.default)(He),u=(0,Pe.isMPoolAz)(a,n),d=t.includes(s.value);l.useEffect((()=>{t.length>0&&!d&&o(e)}),[d,e,o,t.length]);const m=t.length<1,p=(0,F.uP)(null===(i=a.product)||void 0===i?void 0:i.id)===x.normalizedProducts.ROSA,f=l.createElement(ue,{value:`${s.value}`,fieldId:He,onSelect:e=>o(parseInt(e,10)),isDisabled:m},t.map((e=>l.createElement(te.O,{key:e,value:`${e}`},`${u?e/3:e}`))));return l.createElement(M.g,{fieldId:He,label:u?"Compute node count (per zone)":"Compute node count",isRequired:!0,labelIcon:l.createElement(j.default,{hint:l.createElement(l.Fragment,null,Fe.constants.computeNodeCountHint,p&&l.createElement(l.Fragment,null,l.createElement("br",null),l.createElement(Re.default,{href:Ie.default.ROSA_WORKER_NODE_COUNT},"Learn more about worker/compute node count")))})},m?l.createElement(c.m,{content:je.noQuotaTooltip,position:"right"},f):f,l.createElement(U.FormGroupHelperText,null,u&&`x 3 zones = ${s.value}`))},qe=({machinePool:e,machinePools:t,cluster:a,machineTypes:n,allow500Nodes:i})=>{var s,o,u;const{values:d}=(0,r.useFormikContext)(),c=(0,L.useGlobalState)((e=>e.clusterAutoscaler.hasAutoscaler)),m=(0,L.useGlobalState)((e=>e.userProfile.organization)),p=(0,w.getClusterMinNodes)({cluster:a,machineTypesResponse:n,machinePool:e,machinePools:t}),f=l.useMemo((()=>X({cluster:a,machinePool:e,machinePools:t,machineTypeId:d.instanceType,machineTypes:n,quota:m.quotaList,minNodes:p,editMachinePoolId:null==e?void 0:e.id,allow500Nodes:i})),[a,e,t,d.instanceType,n,m.quotaList,p,i]);return l.createElement(l.Fragment,null,l.createElement(Ue,{cluster:a}),m.pending?l.createElement("div",null,l.createElement(de.y,{size:"md"}),"Loading quota..."):l.createElement(l.Fragment,null,d.autoscaling?l.createElement(ve.x,{hasGutter:!0},l.createElement(le.E,{span:5},l.createElement(Me,{minNodes:p,cluster:a,mpAvailZones:null===(s=null==e?void 0:e.availability_zones)||void 0===s?void 0:s.length,options:f})),l.createElement(le.E,{span:5},l.createElement(Ne,{mpAvailZones:null===(o=null==e?void 0:e.availability_zones)||void 0===o?void 0:o.length,minNodes:p,cluster:a,options:f}))):l.createElement(Ve,{mpAvailZones:null===(u=null==e?void 0:e.availability_zones)||void 0===u?void 0:u.length,minNodesRequired:p,cluster:a,options:f}),!(0,g.isHypershiftCluster)(a)&&l.createElement(ye.A,{hasClusterAutoScaler:c,hasAutoscalingMachinePools:t.some((e=>!!e.autoscaling)),isEnabledOnCurrentPool:d.autoscaling,warningType:e?"editMachinePool":"addMachinePool"}),(null==e?void 0:e.id)&&l.createElement(Oe,{autoscalingEnabled:d.autoscaling,autoScaleMaxNodesValue:d.autoscaleMax,cluster:a,machinePools:t,selectedMachinePoolID:e.id,replicasValue:d.replicas})))},ze=({fieldId:e,isDisabled:t})=>{const[a]=(0,r.useField)(e),n=(0,V.default)(e);return l.createElement(ue,{value:a.value,fieldId:e,onSelect:n,isDisabled:t},l.createElement(te.O,{value:"NoSchedule"},"NoSchedule"),l.createElement(te.O,{value:"NoExecute"},"NoExecute"),l.createElement(te.O,{value:"PreferNoSchedule"},"PreferNoSchedule"))},Be=({machinePoolId:e,cluster:t,machinePools:a,machineTypes:n})=>{const[i]=(0,r.useField)("taints"),s=!!e&&(0,w.isEnforcedDefaultMachinePool)(e,a,n,t),o=!e||(0,w.isMinimumCountWithoutTaints)({currentMachinePoolId:e,machinePools:a,cluster:t});let u;return s?u="Machine pool ineligible for taints":o||(u="Taints cannot be added unless there are at least 2 nodes without taints across all machine pools."),l.createElement(le.E,null,l.createElement(M.g,{fieldId:"taints",label:"Taints"}),l.createElement(H.default,{showTooltip:!!u,content:u},l.createElement("div",null,l.createElement(r.FieldArray,{name:"taints",render:({push:e,remove:t})=>l.createElement(l.Fragment,null,l.createElement(ve.x,{hasGutter:!0},l.createElement(le.E,{span:4},l.createElement(he.E,{component:he.Y.small},"Key")),l.createElement(le.E,{span:4},l.createElement(he.E,{component:he.Y.small},"Value")),l.createElement(le.E,{span:4},l.createElement(he.E,{component:he.Y.small},"Effect"))),l.createElement(ve.x,{hasGutter:!0},i.value.map(((a,n)=>{const r=`taints[${n}].key`,s=`taints[${n}].value`,o=`taints[${n}].effect`;return l.createElement(l.Fragment,{key:n},l.createElement(le.E,{span:4},l.createElement(ae.default,{fieldId:r,isDisabled:!!u})),l.createElement(le.E,{span:4},l.createElement(ae.default,{fieldId:s,isDisabled:!!u})),l.createElement(le.E,{span:3},l.createElement(ze,{fieldId:o,isDisabled:!!u})),l.createElement(le.E,{span:1},l.createElement(_e,{input:i,index:n,onRemove:t,onPush:()=>e({key:"",value:"",effect:"NoSchedule"})})))})),l.createElement(le.E,{span:6},l.createElement(m.$n,{icon:l.createElement(be.PlusCircleIcon,null),onClick:()=>e({key:"",value:"",effect:"NoSchedule"}),variant:"link",isInline:!0,isDisabled:!!u},"Add taint"))))}))))};var We=a(45436),$e=a(94402),Ye=a(19214),Ke=a(13865),Qe=a(99329),Ze=a(54910),Xe=a(72067);const Je=({cluster:e,isReadOnly:t})=>{const{values:{[Ze.FieldId.SecurityGroupIds]:a},setFieldValue:l,setFieldTouched:i}=(0,Xe.l)(),{clusterVpc:s,isLoading:o,errorReason:u}=(0,pe.useAWSVPCFromCluster)(e);if(o)return n().createElement(de.y,null,"Loading security groups");if(!s)return n().createElement(ce.F,{variant:ce.w.warning,title:"Could not load the cluster's VPC",isInline:!0},u||"Please try refreshing the machine pool details");if(0===(s.aws_security_groups||[]).length)return n().createElement(Ke.A,null);const d=(0,g.isHypershiftCluster)(e),c=(0,$e.E)(We.x.SECURITY_GROUPS,e.openshift_version,{day2:!0,isHypershift:d});return c?n().createElement(ce.F,{variant:ce.w.warning,title:c,isInline:!0}):n().createElement(n().Fragment,null,n().createElement(Qe.A,{isRosa:(0,g.isROSA)(e)}),n().createElement(r.Field,{component:Ye.A,name:Ze.FieldId.SecurityGroupIds,onChange:e=>{l(Ze.FieldId.SecurityGroupIds,e,!0),i(Ze.FieldId.SecurityGroupIds,!0,!1)},validate:e=>(0,W.validateSecurityGroups)(e,d),selectedVPC:s,isReadOnly:t,selectedGroupIds:a,isHypershift:d}))},et=({cluster:e,isReadOnly:t})=>(0,We.T)(We.x.SECURITY_GROUPS,e)?n().createElement(f.Q,{toggleContent:n().createElement(H.default,{showTooltip:t,content:"This option cannot be edited from its original setting selection."},n().createElement("span",null,"Security groups"))},n().createElement(Je,{cluster:e,isReadOnly:t})):null;var tt=a(47914);const at="maxPrice",lt=({isEdit:e})=>{const[t,{error:a,touched:n}]=(0,r.useField)(at),i=(0,V.default)(at);return l.createElement(M.g,{fieldId:"maxPrice",isRequired:!0},l.createElement(k.Q,{...t,id:"maxPrice",onPlus:()=>{const e=Number((parseFloat(`${t.value}`)+.01).toFixed(2));i(e)},onMinus:()=>{const e=Number((parseFloat(`${t.value}`)-.01).toFixed(2));i(e)},onChange:e=>{const t=parseFloat(e.target.value),a=Number(t.toFixed(2));i(a)},unit:l.createElement("span",{className:"ocm-spot-instances__unit"},"$ Hourly"),widthChars:8,min:G.SPOT_MIN_PRICE,isDisabled:e}),l.createElement(U.FormGroupHelperText,{touched:n,error:a}))},nt="useSpotInstances",rt=({children:e,isDisabled:t})=>{const[a]=(0,r.useField)(nt);return l.createElement(H.default,{showTooltip:t,content:"This option cannot be edited from its original setting selection."},l.createElement(u.B,{hasGutter:!0},l.createElement(d.a,null,l.createElement(ke.S,{...a,label:"Use Amazon EC2 Spot Instance",isChecked:a.value,onChange:(e,t)=>{a.onChange(e)},id:nt,body:a.value&&e,description:"You can save on costs by creating a machine pool running on AWS that deploys machines as non-guaranteed Spot Instances. This cannot be changed after machine pool is created.",isDisabled:t})),a.value&&l.createElement(d.a,null,l.createElement(ce.F,{variant:"warning",title:"Your Spot Instance may be interrupted at any time. Use Spot Instances for workloads that can tolerate interruptions.",isInline:!0},l.createElement(Re.default,{href:Ie.default.AWS_SPOT_INSTANCES},"Learn more about Spot instances")))))},it=({isEdit:e})=>{const[t]=(0,r.useField)({name:"spotInstanceType",value:"onDemand",type:"radio"}),[a]=(0,r.useField)({name:"spotInstanceType",value:"maximum",type:"radio"});return l.createElement(le.E,null,l.createElement(M.g,{fieldId:"spotInstances",label:"Cost saving"}),l.createElement(rt,{isDisabled:e},l.createElement(p.l,null,l.createElement(tt.s,{...t,isChecked:t.checked,id:"spotinstance-ondemand",onChange:(e,a)=>t.onChange(e),label:"Use On-Demand instance price",description:"The maximum price defaults to charge up to the On-Demand Instance price.",isDisabled:e}),l.createElement(tt.s,{...a,isChecked:a.checked,onChange:(e,t)=>a.onChange(e),id:"spotinstance-max",label:l.createElement(l.Fragment,null,"Set maximum price"," ",l.createElement(j.default,{headerContent:"Maximum hourly price for a Spot Instance",hint:"This value should be lower or equal to the On-Demand Instance price. This cannot be changed after the machine pool is created."})),description:"Specify the maximum hourly price for a Spot Instance.",isDisabled:e,body:a.checked&&l.createElement(lt,{isEdit:e})}))))},st=({cluster:e,region:t,onClose:a,onSave:n,machinePoolId:i,isEdit:o,machinePoolsResponse:S,machineTypesResponse:_,shouldDisplayClusterName:y,isHypershift:P,machinePoolsLoading:L,machinePoolsError:N,machineTypesLoading:M,machineTypesError:k,machineTypesErrorResponse:F,machinePoolsErrorResponse:x})=>{var G;const U=l.useCallback((()=>!!o||!!i),[o,i]),[j,H]=l.useState(),[V,q]=l.useState(),[B,W]=l.useState(U()),{initialValues:$,validationSchema:Y}=ee({machinePool:V,cluster:e,machinePools:S||[],machineTypes:_}),K=(0,C.useFeatureGate)(D.MAX_COMPUTE_NODES_500),Q=l.useCallback((e=>q(null==S?void 0:S.find((t=>t.id===e)))),[q,S]);l.useEffect((()=>{L?q(void 0):(null==S?void 0:S.length)&&(i?Q(i):B&&q(S[0]))}),[L,S,i,B,Q]),l.useEffect((()=>{W(U())}),[U]);const Z=P&&S&&(0,v.getNodeCount)(S,P,null==V?void 0:V.id,null==V?void 0:V.instance_type)===(0,v.getMaxNodesHCP)(null===(G=e.version)||void 0===G?void 0:G.raw_id,K),{mutateAsync:X}=((e,t,a)=>{const{data:l,isPending:n,isError:r,isSuccess:i,mutate:s,mutateAsync:o}=(0,I.n)({mutationKey:["createOrEditMachineOrNodePool","clusterService"],mutationFn:async({region:l,values:n,currentMPId:r})=>{var i;const s=l?(0,O.getClusterServiceForRegion)(l):(0,O.getClusterService)(),o=(0,R.isMPoolAz)(t,null===(i=null==a?void 0:a.availability_zones)||void 0===i?void 0:i.length),u=e?((e,{isEdit:t,isMultiZoneMachinePool:a})=>{const l={id:e.name,labels:(r=e.labels,1!==r.length||r[0].key?r.reduce(((e,{key:t,value:a})=>(e[t]=a,e)),{}):{}),taints:(n=e.taints,1!==n.length||n[0].key?n:[]),...T(e,a,!0)};var n,r;return t||(l.subnet=e.privateSubnetId,l.aws_node_pool={instance_type:e.instanceType,additional_security_group_ids:e.securityGroupIds}),l})(n,{isEdit:!!r,isMultiZoneMachinePool:o}):(0,A.V)(n,{isEdit:!!r,isMultiZoneMachinePool:o,isROSACluster:(0,g.isROSA)(t)});if(r){const a=e?s.patchNodePool:s.patchMachinePool;return await a(t.id||"",r,u)}const d=e?s.addNodePool:s.addMachinePool;return await d(t.id||"",u)}});return{data:l,isPending:n,isError:r,isSuccess:i,mutate:s,mutateAsync:o}})(P,e,V);return l.createElement(r.Formik,{onSubmit:async e=>{H(void 0);try{await X({region:t,values:e,currentMPId:null==V?void 0:V.id}),null==n||n(),a()}catch(e){H(e)}},initialValues:$,validationSchema:Y,enableReinitialize:!0,validateOnMount:!0},(({isValid:n,submitForm:r,isSubmitting:i,values:o})=>{var g,v,C;return l.createElement(b.default,{id:"edit-mp-modal",title:B?"Edit machine pool":"Add machine pool",secondaryTitle:y?e.name:void 0,onClose:i?void 0:a,isPending:L||!N&&L||!k&&M||B&&_&&S&&!V,modalSize:"large",description:!B&&"A machine pool is a group of machines that are all clones of the same configuration, that can be used on demand by an application running on a pod.",footer:l.createElement(u.B,{hasGutter:!0},j&&l.createElement(d.a,null,l.createElement(h.default,{message:B?"Error editing machine pool":"Error adding machine pool",response:{errorDetails:null===(v=null===(g=j.response)||void 0===g?void 0:g.data)||void 0===v?void 0:v.details,errorMessage:(0,E.getErrorMessage)({payload:j}),operationID:null===(C=j.response)||void 0===C?void 0:C.data.operation_id}})),l.createElement(d.a,null,Z?l.createElement(c.m,{content:"Maximum cluster node count limit reached"},l.createElement(m.$n,{isAriaDisabled:Z||!n,isDisabled:i||!S||!_||s()($,o),onClick:r,isLoading:i,className:"pf-v5-u-mr-md","data-testid":"submit-btn"},B?"Save":"Add machine pool")):l.createElement(m.$n,{isAriaDisabled:Z,isDisabled:!n||i||!S||!_||s()($,o),onClick:r,isLoading:i,className:"pf-v5-u-mr-md","data-testid":"submit-btn"},B?"Save":"Add machine pool"),l.createElement(m.$n,{variant:"secondary",isDisabled:i,onClick:a,"data-testid":"cancel-btn"},"Cancel")))},N||k?l.createElement(h.default,{message:"Failed to fetch resources",response:N?x:F}):l.createElement(p.l,null,l.createElement(ge,{cluster:e,machinePools:S||[],isEdit:B,region:t,currentMPId:null==V?void 0:V.id,setCurrentMPId:Q,machineTypesResponse:_,machineTypesLoading:M}),l.createElement(qe,{cluster:e,machinePool:V,machinePools:S||[],machineTypes:_,allow500Nodes:K}),l.createElement(z,{cluster:e,isEdit:B}),l.createElement(f.Q,{toggleText:"Edit node labels and taints"},l.createElement(Ce,null),l.createElement(Be,{cluster:e,machinePools:S||[],machinePoolId:null==V?void 0:V.id,machineTypes:_})),l.createElement(et,{cluster:e,isReadOnly:B}),(0,w.canUseSpotInstances)(e)&&l.createElement(it,{isEdit:B})))}))},ot=({clearMachinePools:e})=>{var t,a;const n=(0,L.useGlobalState)((e=>e.modal.data)),r=(0,o.wA)(),{cluster:i,shouldDisplayClusterName:s}=n,u=(0,g.isHypershiftCluster)(i),d=null==i?void 0:i.id,c=null===(t=null==i?void 0:i.version)||void 0===t?void 0:t.id,m=null===(a=null==i?void 0:i.subscription)||void 0===a?void 0:a.xcm_id,{data:p,isLoading:f,isError:E,error:v}=(0,y.useFetchMachineTypes)(m),{data:h,isLoading:b,isError:_,error:C,refetch:I}=(0,P.useFetchMachineOrNodePools)(d,u,c,m),A=(0,g.isHypershiftCluster)(i);return i?l.createElement(st,{region:m,isHypershift:A,shouldDisplayClusterName:s,cluster:i,onClose:()=>{r((0,S.closeModal)()),e&&(0,N.clearGetMachinePoolsResponse)()(r)},isEdit:!0,machineTypesResponse:p,machinePoolsResponse:h,machinePoolsLoading:b,machinePoolsError:_,machineTypesLoading:f,machineTypesError:E,machinePoolsErrorResponse:C.error,machineTypesErrorResponse:v.error,onSave:()=>{b||I()}}):null};ot.modalName=_.default.EDIT_MACHINE_POOL;const ut=st},60034:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MachinePoolItemList:()=>S,default:()=>_,securityGroupsRenderer:()=>b});var l=a(93345),n=a.n(l),r=a(62193),i=a.n(r),s=a(10423),o=a(33612),u=a(30620),d=a(23215),c=a(93413),m=a(97909),p=a(48539),f=a(30666),E=a(93973);const g=(e,t)=>void 0===e?0:t?e/3:e,v=({isMultiZoneCluster:e,autoscaling:t,isMultiZoneMachinePool:a})=>n().createElement(n().Fragment,null,n().createElement(s.h,{headingLevel:"h4",className:"pf-v5-u-mb-sm pf-v5-u-mt-lg"},"Autoscaling"),n().createElement(f.B,{hasGutter:!0},n().createElement(E.o,null,n().createElement(s.h,{headingLevel:"h4",className:"autoscale__lim"},"Min nodes "+(a?"per zone":"")),g(t.min_replicas,a)),n().createElement(E.o,null,n().createElement(s.h,{headingLevel:"h4",className:"autoscale__lim"},"Max nodes "+(a?"per zone":"")),g(t.max_replicas,a))));var h=a(57109);const b=(e,t)=>e.map((e=>{var a;return(null===(a=t.find((t=>t.id===e)))||void 0===a?void 0:a.name)||e})),S=({title:e,items:t,showSmallTitle:a=!1})=>n().createElement(n().Fragment,null,!a&&n().createElement(s.h,{headingLevel:"h4"},e),a&&n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-font-weight-bold pf-v5-u-disabled-color-100"},e),t.map(((t,a)=>{const l=t.length>50,r=l?(0,c.truncateTextWithEllipsis)(t,50):t;return n().createElement(o.J,{color:"blue",key:`${e}-${a}`,className:"pf-v5-c-label--break-word pf-v5-u-m-sm pf-v5-u-ml-0",title:l?t:""},r)}))),_=({cluster:e,isMultiZoneCluster:t,machinePool:a,region:l})=>{var r,o,c,f;const{clusterVpc:E}=(0,m.useAWSVPCFromCluster)(e,l),g=null===(r=null==a?void 0:a.aws)||void 0===r?void 0:r.spot_market_options,_=(null===(o=null==a?void 0:a.aws)||void 0===o?void 0:o.additional_security_group_ids)||(null===(c=null==a?void 0:a.aws_node_pool)||void 0===c?void 0:c.additional_security_group_ids)||[],C=(0,p.isMPoolAz)(e,null===(f=a.availability_zones)||void 0===f?void 0:f.length);return n().createElement(u.x,{hasGutter:!0},!i()(a.labels)&&n().createElement(d.E,{md:6},n().createElement(S,{title:"Labels",items:(I=a.labels||{},Object.keys(I||{}).map((e=>{const t=I[e]||"";return`${e}${t?" = ":""}${t}`})))})),a.taints&&n().createElement(d.E,{md:6},n().createElement(S,{title:"Taints",items:(y=a.taints,(y||[]).map((e=>`${e.key} = ${e.value}:${e.effect}`)))})),_.length>0&&n().createElement(d.E,{md:6},n().createElement(S,{title:"Security groups",items:b(_,(null==E?void 0:E.aws_security_groups)||[])})),(0,h.hasSubnets)(a)&&n().createElement(d.E,{md:6},n().createElement(S,{title:"Subnets",items:(0,h.getSubnetIds)(a)})),a.autoscaling&&n().createElement(d.E,{md:6},n().createElement(v,{isMultiZoneMachinePool:C,isMultiZoneCluster:t,autoscaling:a.autoscaling})),g&&n().createElement(d.E,{md:6},n().createElement(s.h,{headingLevel:"h4"},"Spot instance pricing"),g.max_price?`Maximum hourly price: ${g.max_price}`:"On-Demand"));var y,I}},87590:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_DELETE_MACHINE_POOL_RESPONSE:()=>i,CLEAR_GET_MACHINE_POOLS_RESPONSE:()=>r,DELETE_MACHINE_POOL:()=>n,GET_MACHINE_POOLS:()=>l});const l="GET_MACHINE_POOLS",n="DELETE_MACHINE_POOL",r="CLEAR_GET_MACHINE_POOLS_RESPONSE",i="CLEAR_DELETE_MACHINE_POOL_RESPONSE"},57109:(e,t,a)=>{"use strict";a.r(t),a.d(t,{actionResolver:()=>m,canUseSpotInstances:()=>_,getClusterMinNodes:()=>g,getMinNodesRequired:()=>u,getNodeIncrement:()=>v,getNodeIncrementHypershift:()=>h,getSubnetIds:()=>f,hasDefaultOrExplicitAutoscalingMachinePool:()=>S,hasExplicitAutoscalingMachinePool:()=>b,hasSubnets:()=>E,isEnforcedDefaultMachinePool:()=>d,isMinimumCountWithoutTaints:()=>c,normalizeNodePool:()=>p});var l=a(1727),n=a(75166),r=a(23271),i=a(93413),s=a(48539);const o=(e,t,a)=>e?t?a?3:2:a?9:4:0,u=(e,t,a)=>{return e?void 0===(l=null==t?void 0:t.numMachinePools)?1:1===l?2:l||0:o(null==a?void 0:a.isDefaultMachinePool,null==a?void 0:a.isByoc,null==a?void 0:a.isMultiAz);var l},d=(e,t,a,l)=>{var n,i,u,d,c,m,p;if((0,r.isHypershiftCluster)(l))return!1;if(!(null===(n=l.ccs)||void 0===n?void 0:n.enabled))return"worker"===e;const f=null===(u=null===(i=a.types)||void 0===i?void 0:i.aws)||void 0===u?void 0:u.find((e=>"m5.xlarge"===e.id)),E=o(!0,null===(d=null==l?void 0:l.ccs)||void 0===d?void 0:d.enabled,(0,s.isMultiAZ)(l)),g="aws"===(null===(c=l.cloud_provider)||void 0===c?void 0:c.id)?null===(m=a.types)||void 0===m?void 0:m.aws:null===(p=a.types)||void 0===p?void 0:p.gcp;return!t.filter((t=>t.id!==e)).some((e=>{var t,a,l,n,r,i,s,o,u,d,c;const m="NodePool"===e.kind?null===(t=e.aws_node_pool)||void 0===t?void 0:t.instance_type:e.instance_type,p=null==g?void 0:g.find((e=>e.id===m));return p&&!e.taints&&(e.replicas&&e.replicas>=E||(null===(a=e.autoscaling)||void 0===a?void 0:a.min_replicas)&&(null===(l=e.autoscaling)||void 0===l?void 0:l.min_replicas)>=E)&&(null!==(r=null===(n=null==p?void 0:p.cpu)||void 0===n?void 0:n.value)&&void 0!==r?r:0)>=(null!==(s=null===(i=null==f?void 0:f.cpu)||void 0===i?void 0:i.value)&&void 0!==s?s:0)&&(null!==(u=null===(o=null==p?void 0:p.memory)||void 0===o?void 0:o.value)&&void 0!==u?u:0)>=(null!==(c=null===(d=null==f?void 0:f.memory)||void 0===d?void 0:d.value)&&void 0!==c?c:0)}))},c=({currentMachinePoolId:e,machinePools:t,cluster:a})=>!(0,r.isHypershiftCluster)(a)||(null==t?void 0:t.reduce(((t,a)=>{var l,n,r,i;return a.id===e||(null===(l=a.taints)||void 0===l?void 0:l.length)?t:t+(null!==(i=null!==(r=null===(n=a.autoscaling)||void 0===n?void 0:n.min_replicas)&&void 0!==r?r:a.replicas)&&void 0!==i?i:0)}),0))>=2,m=({rowData:e,onClickEdit:t,onClickDelete:a,onClickUpdate:l,canDelete:n,cluster:r,machinePools:i,machineTypes:s})=>{if(!e.machinePool)return[];const o=((e,t,a,l)=>{const n=!e&&"You do not have permissions to delete machine pools",r=1===t.length&&"The last machine pool cannot be deleted";return n||r||a&&"Machine pool ineligible for deletion"||!l&&"There needs to be at least 2 nodes without taints across all machine pools"||void 0})(n,i,d(e.machinePool.id,i,s,r),c({currentMachinePoolId:e.machinePool.id,machinePools:i,cluster:r}));return[{title:"Edit",onClick:t,className:"hand-pointer"},{title:"Delete",onClick:a,className:"hand-pointer",isAriaDisabled:!!o,...!!o&&{tooltipProps:{content:o}}},...void 0!==l?[{title:"Update version",onClick:l,className:"hand-pointer"}]:[]]},p=e=>{var t,a,l,n,r;const i={...e,instance_type:null===(t=e.aws_node_pool)||void 0===t?void 0:t.instance_type};return e.autoscaling&&(i.autoscaling={...e.autoscaling},(null===(a=e.autoscaling)||void 0===a?void 0:a.min_replica)&&(null===(l=e.autoscaling)||void 0===l?void 0:l.min_replica)>0&&(i.autoscaling.min_replicas=e.autoscaling.min_replica,delete i.autoscaling.min_replica),(null===(n=e.autoscaling)||void 0===n?void 0:n.max_replica)&&(null===(r=e.autoscaling)||void 0===r?void 0:r.max_replica)>0&&(i.autoscaling.max_replicas=e.autoscaling.max_replica,delete i.autoscaling.max_replica)),i},f=e=>{const{subnet:t,subnets:a}=e;return(0,i.asArray)(t||a||[])},E=e=>f(e).length>0,g=({cluster:e,machineTypesResponse:t,machinePool:a,machinePools:l})=>{var n;if((0,r.isHypershiftCluster)(e))return c({currentMachinePoolId:null==a?void 0:a.id,cluster:e,machinePools:l})?1:2;const i=(0,s.isMultiAZ)(e),u=!!a&&d(a.id,l,t,e);return o(u,!!(null===(n=null==e?void 0:e.ccs)||void 0===n?void 0:n.enabled),i)},v=e=>e?3:1,h=e=>null!=e?e:1,b=(e,t)=>(e||[]).some((e=>!(!e.autoscaling||t&&t===e.id))),S=(e,t,a)=>{var l;return!!(null===(l=null==e?void 0:e.nodes)||void 0===l?void 0:l.autoscale_compute)||b(t,a)},_=e=>{var t,a,i;const s=null===(t=e.cloud_provider)||void 0===t?void 0:t.id,o=(0,l.uP)(null===(a=e.product)||void 0===a?void 0:a.id);return"aws"===s&&!(0,r.isHypershiftCluster)(e)&&(o===n.normalizedProducts.ROSA||o===n.normalizedProducts.OSD&&(null===(i=e.ccs)||void 0===i?void 0:i.enabled))}},85927:(e,t,a)=>{"use strict";a.r(t),a.d(t,{hasMachinePoolsQuotaSelector:()=>o,hasOrgLevelAutoscaleCapability:()=>u,hasOrgLevelBypassPIDsLimitCapability:()=>d});var l=a(58156),n=a.n(l),r=a(75166),i=a(59067),s=a(98229);const o=(e,t,a)=>{var l;if(!(null==e?void 0:e.fulfilled))return!1;const o=null===(l=null==t?void 0:t.cloud_provider)||void 0===l?void 0:l.id,u=i.RelatedResource.billing_model[n()(t,"subscription.cluster_billing_model",r.billingModels.STANDARD)];return!(!o||!a)&&n()(a,o,[]).some((a=>((e,t,a,l,n)=>{var r,i,o;const u={product:null===(i=null===(r=null==t?void 0:t.subscription)||void 0===r?void 0:r.plan)||void 0===i?void 0:i.type,cloudProviderID:a,isBYOC:!!(null===(o=null==t?void 0:t.ccs)||void 0===o?void 0:o.enabled),isMultiAz:t.multi_az,resourceName:e.generic_name,billingModel:l};return(0,s.availableNodesFromQuota)(null==n?void 0:n.quotaList,u)>=1})(a,t,o,u,e)))},u=e=>{var t;const a=(null!==(t=null==e?void 0:e.capabilities)&&void 0!==t?t:[]).find((e=>"capability.cluster.autoscale_clusters"===e.name));return!(!a||"true"!==a.value)},d=e=>{var t;return(null!==(t=null==e?void 0:e.capabilities)&&void 0!==t?t:[]).some((e=>"capability.organization.bypass_pids_limits"===e.name&&"true"===e.value))}},74149:(e,t,a)=>{"use strict";a.r(t),a.d(t,{alertsSeverity:()=>n,getIssuesAndWarnings:()=>E,hasData:()=>f,hasResourceUsageMetrics:()=>v,maxMetricsTimeDelta:()=>g,monitoringItemLinkProps:()=>S,monitoringItemTypes:()=>s,monitoringStatuses:()=>l,operatorsStatuses:()=>r,resourceUsageIssuesHelper:()=>h,thresholds:()=>i});var l,n,r,i,s,o=a(74353),u=a.n(o),d=a(59067),c=a(7028),m=a(48539);!function(e){e.HEALTHY="HEALTHY",e.HAS_ISSUES="HAS_ISSUES",e.DISCONNECTED="DISCONNECTED",e.NO_METRICS="NO_METRICS",e.UPGRADING="UPGRADING",e.UNKNOWN="UNKNOWN"}(l||(l={})),function(e){e.WARNING="warning",e.CRITICAL="critical",e.INFO="info"}(n||(n={})),function(e){e.AVAILABLE="available",e.FAILING="failing",e.UPGRADING="upgrading",e.DEGRADED="degraded",e.UNKNOWN="unknown"}(r||(r={})),function(e){e[e.WARNING=.8]="WARNING",e[e.DANGER=.95]="DANGER"}(i||(i={})),function(e){e.NODE="node",e.ALERT="alert",e.OPERATOR="operator"}(s||(s={}));const p={rel:"noopener noreferrer",target:"_blank"},f=e=>{var t,a;return(null!==(a=null===(t=e.data)||void 0===t?void 0:t.length)&&void 0!==a?a:0)>0},E=({data:e,criteria:t,issuesMatch:a,warningsMatch:l})=>{if(!e||0===e.length)return{issuesCount:null,warningsCount:null};let n=0,r=l?0:null;return e.forEach((e=>{e[t]===a&&(n+=1),null!==l&&null!==r&&e[t]===l&&(r+=1)})),{issuesCount:n,warningsCount:r}},g=3,v=e=>{var t,a,l,n,r,i;const s=u().utc(null!==(a=null===(t=e.metrics)||void 0===t?void 0:t.cpu.updated_timestamp)&&void 0!==a?a:0),o=u().utc(),p=(null===(l=e.subscription)||void 0===l?void 0:l.status)===d.SubscriptionCommonFields.status.ARCHIVED,f=(null===(n=e.subscription)||void 0===n?void 0:n.status)===d.SubscriptionCommonFields.status.DISCONNECTED,E=!!c.default.configData.showOldMetrics;return!p&&!f&&(0,m.hasCpuAndMemory)(null===(r=e.metrics)||void 0===r?void 0:r.cpu,null===(i=e.metrics)||void 0===i?void 0:i.memory)&&(E||o.diff(s,"hour")<g)},h=(e,t,a)=>{if(!(0,m.hasCpuAndMemory)(e,t))return null;let l=0;return e&&e.total.value&&e.used.value/e.total.value>a&&(l+=1),t&&t.total.value&&t.used.value/t.total.value>a&&(l+=1),l},b=e=>{if(null==e?void 0:e.url){let t=e.url;return"/"!==t.charAt(t.length-1)&&(t+="/"),t}return null};function S(e,t,a){const l=b(e);let n;if(l){switch(t){case s.ALERT:n=`${l}monitoring/alerts?orderBy=asc&sortBy=Severity&alert-name=${a}`;break;case s.NODE:n=`${l}k8s/cluster/nodes/${a}`;break;case s.OPERATOR:n=`${l}k8s/cluster/config.openshift.io~v1~ClusterOperator/${a}`;break;default:return null}return{...p,href:n}}return null}},82788:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,excludedNamespacesAsString:()=>o,routeSelectorPairsAsStrings:()=>i,routeSelectorsAsString:()=>s});var l=a(93413),n=a(58826),r=a(92868);const i=(e={})=>Object.entries(e).map((e=>e.join("=")))||[],s=(e={})=>i(e).join(",")||"",o=e=>(0,l.arrayToString)(e)||"",u=e=>{const t={};return null==e||e.forEach((e=>{const a={routerID:e.id,isDefault:!!e.default,isPrivate:"internal"===e.listening,address:e.dns_name,loadBalancer:e.load_balancer_type,routeSelectors:e.route_selectors,excludedNamespaces:e.excluded_namespaces,isNamespaceOwnershipPolicyStrict:e.route_namespace_ownership_policy!==n.NamespaceOwnershipPolicy.INTER_NAMESPACE_ALLOWED,isWildcardPolicyAllowed:e.route_wildcard_policy===r.WildcardPolicy.WILDCARDS_ALLOWED,tlsSecretRef:e.cluster_routes_tls_secret_ref,hostname:e.cluster_routes_hostname};a.isDefault?t.default=a:t.additional=a})),t}},28397:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Y});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(983),u=a(83349),d=a(56780),c=a(23285),m=a(51976),p=a(22069),f=a(22546),E=a(72972),g=a(34091),v=a(23271),h=a(54910),b=a(91089),S=a(62384),_=a(82399),C=a(12200),y=a(43775),I=a(88851);const A=e=>(0,I.isMajorMinorEqualOrGreater)(e,4,13);var R=a(82788);const T={[_.LoadBalancerFlavor.CLASSIC]:"Classic Load Balancer",[_.LoadBalancerFlavor.NLB]:"Network Load Balancer"};var O=a(88139),P=a(16165),D=a(70886),L=a(55816),N=a(28592),w=a(14419),M=a(23196),k=a(25514);const F=({refreshCluster:e,canShowLoadBalancer:t,hasSufficientIngressEditVersion:a,canEditLoadBalancer:l,isHypershiftCluster:i,clusterRouters:s,clusterID:o,region:d})=>{var c,m,p,f,E,g,v,h,S;const{isPending:C,isError:I,error:A,mutate:T}=(0,M.useEditClusterIngressMutation)(o,d),F=(0,r.wA)();if(!(0,k.useGlobalState)((e=>(0,w.default)(e,y.default.EDIT_APPLICATION_INGRESS))))return null;const x=I?n().createElement(L.default,{message:"Error editing application ingress",response:A}):null,G=()=>{e(),F(b.modalActions.closeModal())},U=null===(c=s.default)||void 0===c?void 0:c.tlsSecretRef,j=a?{defaultRouterSelectors:(0,R.routeSelectorsAsString)(null===(m=s.default)||void 0===m?void 0:m.routeSelectors),defaultRouterExcludedNamespacesFlag:(0,R.excludedNamespacesAsString)(null===(p=s.default)||void 0===p?void 0:p.excludedNamespaces),isDefaultRouterNamespaceOwnershipPolicyStrict:null===(f=s.default)||void 0===f?void 0:f.isNamespaceOwnershipPolicyStrict,isDefaultRouterWildcardPolicyAllowed:null===(E=s.default)||void 0===E?void 0:E.isWildcardPolicyAllowed,clusterRoutesTlsSecretRef:U,clusterRoutesHostname:null===(g=s.default)||void 0===g?void 0:g.hostname}:void 0;return n().createElement(O.Formik,{initialValues:{private_default_router:null===(v=s.default)||void 0===v?void 0:v.isPrivate,is_nlb_load_balancer:(null===(h=s.default)||void 0===h?void 0:h.loadBalancer)===_.LoadBalancerFlavor.NLB,default_router_address:null===(S=s.default)||void 0===S?void 0:S.address,...j},onSubmit:e=>{const t={...s},a={...e};T({formData:a,currentData:t},{onSuccess:()=>{G()}})}},(({dirty:e,errors:r,handleSubmit:s})=>n().createElement(N.default,{variant:P.d.medium,primaryText:"Save",secondaryText:"Cancel",title:"Edit application ingress",onClose:G,onPrimaryClick:s,onSecondaryClick:G,isPending:C,isPrimaryDisabled:!r||!e},x,n().createElement(u.l,null,n().createElement(D.DefaultIngressFieldsFormik,{isDay2:!0,hasSufficientIngressEditVersion:a,canEditLoadBalancer:l,canShowLoadBalancer:t,areFieldsDisabled:i,isHypershiftCluster:i})))))};var x=a(65702),G=a(8888),U=a(55213);const j=()=>n().createElement(U.default,{title:"Load Balancers",maxWidth:"30rem",hint:n().createElement("div",null,"Load balancers automatically distribute your incoming traffic to multiple servers. If you need features such as static IP, source IP address preservation and other features documented by AWS, we recommend using the Network Load Balancer. If you are using EC2-Classic Network, we recommend using Classic.",n().createElement("br",null),n().createElement(G.default,{href:x.default.AWS_LOAD_BALANCER_FEATURES},"Learn more about AWS load balancers."),n().createElement("br",null),n().createElement(G.default,{href:x.default.MANAGED_INGRESS_KNOWLEDGE_BASE},"Learn more about setting load balancers in OCP."))}),H=()=>n().createElement(U.default,{title:"Excluded namespaces",maxWidth:"30rem",hint:n().createElement(m.n,null,n().createElement(p.E,null,'Supply a list of excluded namespaces that will never have routes exposed by the default ingress controller. If no values are specified, all namespaces will be exposed. Format should be a comma-separated list "value1, value2...".'))});var V=a(47482),q=a(78755),z=a(1319);const B=()=>n().createElement(U.default,{title:"Namespace ownership policy",maxWidth:"30rem",hint:n().createElement(m.n,null,n().createElement(p.E,null,"With ",n().createElement("b",null,"inter-namespace ownership allowed"),", a single hostname can be used in routes of different namespaces. With ",n().createElement("b",null,"strict")," option selected, a hostname can be used in routes of a single namespace only."),n().createElement(p.E,null,n().createElement("b",null,"Mind following example:"),n().createElement("br",null),"hostname.dev/foo in namespace A",n().createElement("br",null),"hostname.dev/bar in namespace B",n().createElement("br",null)),n().createElement(V.B,null,n().createElement(q.X,null,"Inter-namespace ownership allowed"),n().createElement(z.d,null,"possible"),n().createElement(q.X,null,"Strict"),n().createElement(z.d,null,"forbidden")))}),W=()=>n().createElement(U.default,{title:"Router selector",maxWidth:"30rem",hint:n().createElement("div",null,'Exclude routes from the default ingress controller matching a key=value selector. If no selector is specified, all routes will be exposed. Format should be a comma-separated list of "key=value", where the "value" is optional.')}),$=()=>n().createElement(U.default,{title:"Wildcard Policy",maxWidth:"30rem",hint:n().createElement(m.n,null,n().createElement(p.E,null,"If enabled, a route can have subdomains on its route."))}),Y=({provider:e,cluster:t,clusterRoutersData:a,refreshCluster:l})=>{var I,O,P,D,L,N;const w=(0,R.default)(a),M=(0,r.wA)(),{canEdit:k}=t,x=(0,v.isHypershiftCluster)(t),G=e===h.CloudProviderType.Aws,U="read_only"===(null===(I=null==t?void 0:t.status)||void 0===I?void 0:I.configuration_mode),V=!0===(null===(P=null===(O=null==t?void 0:t.aws)||void 0===O?void 0:O.sts)||void 0===P?void 0:P.enabled),q=(0,v.isHibernating)(t),z=(null==t?void 0:t.openshift_version)||(null===(D=null==t?void 0:t.version)||void 0===D?void 0:D.raw_id)||"",Y=!x&&A(z),K=((e,t)=>!t||A(e))(z,V),Q=G&&!x,{routeSelectors:Z,excludedNamespaces:X,loadBalancer:J,address:ee,isPrivate:te,tlsSecretRef:ae,isWildcardPolicyAllowed:le,isNamespaceOwnershipPolicyStrict:ne,hostname:re}=w.default||{},ie=null===(L=t.subscription)||void 0===L?void 0:L.xcm_id,se=t.id,oe=J===_.LoadBalancerFlavor.NLB,ue=(({canEdit:e,isReadOnly:t,clusterHibernating:a,hasSufficientIngressEditVersion:l,canEditLoadBalancer:n})=>(n||l?t&&"This operation is not available during maintenance":"This operation is available for clusters of version 4.13 or higher.")||a&&"This operation is not available while cluster is hibernating"||!e&&"You do not have permission to edit routers. Only cluster owners, cluster editors, and organization administrators can edit routers.")({canEdit:!!k,isReadOnly:U,clusterHibernating:q,hasSufficientIngressEditVersion:Y,canEditLoadBalancer:K});return n().createElement(i.Z,{className:"ocm-c-networking-application-ingress__card"},n().createElement(s.Z,null,"Application ingress"),n().createElement(o.b,null,n().createElement(u.l,{isHorizontal:!0},n().createElement(d.g,{fieldId:"default_router_address",label:"Default application router",isStack:!0},n().createElement(c.ks,{id:"default_router_address",value:`*.${ee}`,readOnlyVariant:"default"}),n().createElement(m.n,null,n().createElement(p.E,{component:p.Y.small},(te||(0,S.isRestrictedEnv)()?"Private":"Public")+" router"))),Y&&n().createElement(n().Fragment,null,n().createElement(d.g,{fieldId:"defaultRouterSelectors",label:"Route selector",labelIcon:n().createElement(W,null),isStack:!0},n().createElement(c.ks,{id:"defaultRouterSelectors",value:null!==(N=(0,R.routeSelectorsAsString)(Z))&&void 0!==N?N:"",isDisabled:!0})),n().createElement(d.g,{fieldId:"defaultRouterExcludedNamespacesFlag",label:"Excluded namespaces",labelIcon:n().createElement(H,null),isStack:!0},n().createElement(c.ks,{id:"defaultRouterExcludedNamespacesFlag",value:(0,R.excludedNamespacesAsString)(X),isDisabled:!0})),n().createElement(d.g,{fieldId:"clusterRoutesTlsSecretRef",label:"TLS Secret name",isStack:!0},n().createElement(c.ks,{id:"clusterRoutesTlsSecretRef",value:ae,isDisabled:!0})),n().createElement(d.g,{fieldId:"clusterRoutesHostname",label:"Hostname",isStack:!0},n().createElement(c.ks,{id:"clusterRoutesHostname",value:re,isDisabled:!0})),n().createElement(d.g,{label:"Namespace ownership policy",labelIcon:n().createElement(B,null),isStack:!0},n().createElement(f.d,{label:"Strict",labelOff:"Inter-namespace ownership",isChecked:!!ne,isDisabled:!0})),n().createElement(d.g,{label:"Wildcard policy",labelIcon:n().createElement($,null),isStack:!0},n().createElement(f.d,{label:"Allowed",labelOff:"Disallowed",isChecked:le,isDisabled:!0}))),Q&&n().createElement(d.g,{label:"Load balancer type",labelIcon:n().createElement(j,null)},n().createElement(f.d,{label:T[_.LoadBalancerFlavor.NLB],labelOff:T[_.LoadBalancerFlavor.CLASSIC],isChecked:oe,isDisabled:!0})),n().createElement(F,{clusterID:se,refreshCluster:l,region:ie,clusterRouters:w,canShowLoadBalancer:Q,canEditLoadBalancer:K,isHypershiftCluster:x,hasSufficientIngressEditVersion:Y}))),n().createElement(E.w,null,n().createElement(g.l,null,n().createElement(C.default,{variant:"secondary",onClick:()=>{M(b.modalActions.openModal(y.default.EDIT_APPLICATION_INGRESS))},disableReason:ue,isAriaDisabled:!!ue},"Edit application ingress"))))}},15:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var l=a(93345),n=a.n(l),r=a(88139),i=a(70460),s=a(83349),o=a(30620),u=a(23215),d=a(22069),c=a(93413),m=a(65702),p=a(84037),f=a(69122),E=a(72067),g=a(55816),v=a(8888),h=a(28592),b=a(75885),S=a(38871),_=a(67548);const C={HttpProxyURL:"http_proxy_url",HttpsProxyURL:"https_proxy_url",NoProxyDomains:"no_proxy_domains",AdditionalTrustBundle:"additional_trust_bundle"},y=({isClusterEditError:e,clusterEditError:t,isClusterEditPending:a,submitForm:l,handleClose:y})=>{const{setFieldTouched:I,setFieldValue:A,getFieldProps:R,getFieldMeta:T,values:{[C.HttpProxyURL]:O,[C.HttpsProxyURL]:P,[C.AdditionalTrustBundle]:D}}=(0,E.l)(),[L,N]=n().useState(!1);n().useEffect((()=>()=>N(!1)),[]);const w=!O&&!P,M=()=>{L||N(!0)},k=()=>{if(!O&&!P&&!D)return"Configure at least one of the cluster-wide proxy fields."},F=n().createElement(i.F,{isInline:!0,variant:"warning",title:"Complete at least 1 of the fields above."});n().useEffect((()=>{w&&A(C.NoProxyDomains,"")}),[w]);const x=e&&n().createElement(g.default,{message:"Error editing cluster-wide proxy",response:t});return n().createElement(h.default,{onClose:y,title:"Edit cluster-wide Proxy",onPrimaryClick:l,primaryText:"Save",onSecondaryClick:y,isPending:a,width:"max(30%, 600px)"},x,n().createElement(s.l,null,n().createElement(o.x,{hasGutter:!0},n().createElement(u.E,null,n().createElement(d.E,null,"Enable an HTTP or HTTPS proxy to deny direct access to the Internet from your cluster"),n().createElement(d.E,{className:"pf-v5-u-mt-sm"},n().createElement(v.default,{href:m.default.CONFIGURE_PROXY_URL},"Learn more about configuring a cluster-wide proxy"))),n().createElement(u.E,null,n().createElement(i.F,{variant:"info",isInline:!0,isPlain:!0,title:"Configure at least 1 of the following fields:"})),n().createElement(u.E,{sm:12,md:10,xl2:11},n().createElement(r.Field,{component:S.default,name:C.HttpProxyURL,label:"HTTP Proxy URL",placeholder:f.HTTP_PROXY_PLACEHOLDER,type:"text",validate:(0,p.composeValidators)((e=>(0,p.validateUrl)(e,"http")),k),helpText:"Specify a proxy URL to use for HTTP connections outside the cluster.",showHelpTextOnError:!1,meta:T(C.HttpProxyURL),input:{...R(C.HttpProxyURL),onChange:(e,t)=>{A(C.HttpProxyURL,t),setTimeout((()=>I(C.HttpProxyURL)),1)},onBlur:e=>{const{onBlur:t}=R(C.HttpProxyURL);M(),t(e)}}})),n().createElement(u.E,{sm:12,md:10,xl2:11},n().createElement(r.Field,{component:S.default,name:C.HttpsProxyURL,label:"HTTPS Proxy URL",placeholder:f.HTTPS_PROXY_PLACEHOLDER,type:"text",validate:(0,p.composeValidators)((e=>(0,p.validateUrl)(e,["http","https"])),k),helpText:"Specify a proxy URL to use for HTTPS connections outside the cluster.",showHelpTextOnError:!1,meta:T(C.HttpsProxyURL),input:{...R(C.HttpsProxyURL),onChange:(e,t)=>{A(C.HttpsProxyURL,t),setTimeout((()=>I(C.HttpsProxyURL)),1)},onBlur:e=>{const{onBlur:t}=R(C.HttpsProxyURL);M(),t(e)}}})),n().createElement(u.E,{sm:12,md:10,xl2:11},n().createElement(r.Field,{component:S.default,name:C.NoProxyDomains,label:"No Proxy domains",placeholder:w?f.DISABLED_NO_PROXY_PLACEHOLDER:f.NO_PROXY_PLACEHOLDER,type:"text",normalize:e=>(0,c.stringToArray)(e),validate:p.checkNoProxyDomains,helpText:f.NO_PROXY_HELPER_TEXT,showHelpTextOnError:!1,isDisabled:w,meta:T(C.NoProxyDomains),input:{...R(C.NoProxyDomains),onChange:(e,t)=>{A(C.NoProxyDomains,t),setTimeout((()=>I(C.NoProxyDomains)),1)},onBlur:e=>{const{onBlur:t}=R(C.NoProxyDomains);M(),t(e)}}})),n().createElement(u.E,{sm:12,md:10,xl2:11},n().createElement(r.Field,{component:b.default,name:C.AdditionalTrustBundle,label:"Additional trust bundle",placeholder:f.TRUST_BUNDLE_PLACEHOLDER,extendedHelpTitle:"Additional trust bundle",extendedHelpText:"An additional trust bundle is a PEM encoded X.509 certificate bundle that will be added to the nodes' trusted certificate store.",validate:(0,p.composeValidators)(p.validateCA,k),dropzoneProps:{accept:_.FA,maxSize:_.w3,onDropRejected:()=>A(C.AdditionalTrustBundle,"Invalid file")},meta:T("additional_trust_bundle"),helpText:"Upload or paste a PEM encoded X.509 certificate.",input:{...R(C.AdditionalTrustBundle),onChange:e=>{A(C.AdditionalTrustBundle,e),setTimeout((()=>I(C.AdditionalTrustBundle)),1)},onBlur:e=>{const{onBlur:t}=R(C.AdditionalTrustBundle);M(),t(e)}}})),n().createElement(u.E,{md:2,xl2:4}),n().createElement(u.E,null,L&&w&&!D&&F))))}},74706:(e,t,a)=>{"use strict";a.r(t),a.d(t,{OverviewBillingAccount:()=>V});var l=a(93345),n=a.n(l),r=a(95376),i=a(32034),s=a(78755),o=a(1319),u=a(96998),d=a(96553),c=a(97948),m=a(53966),p=a(11243),f=a(41955),E=a(976),g=a(12200),v=a(48539),h=a(88139),b=a(16165),S=a(72583),_=a(73113),C=a(57146),y=a(55816),I=a(35777),A=a(36817),R=a(90678),T=a(93745),O=a(7019),P=a(65702),D=a(98229),L=a(25982),N=a(73410),w=a(96678),M=a(36165),k=a(84037),F=a(8888),x=a(20860),G=a(52501),U=a(23734);const j=({name:e,selectedAWSBillingAccountID:t})=>{var a,l;const r=(0,M.useGlobalState)((e=>e.userProfile.organization)),{isLoading:i,data:s,isFetching:o,refetch:u}=(e=>{const{isLoading:t,data:a,isError:l,error:n,isFetching:r,refetch:i}=(0,L.I)({queryKey:[A.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"accountsService","getOrganizationQuota",e],queryFn:async()=>({organizationQuota:(await N.accountsService.getOrganizationQuota(e)).data})});return l?{isLoading:t,data:a,isError:l,error:(0,w.formatErrorData)(t,l,n)}:{isLoading:t,data:a,isError:l,error:n,isFetching:r,refetch:i}})((null===(a=r.details)||void 0===a?void 0:a.id)||""),d=(0,D.getAwsBillingAccountsFromQuota)(null===(l=null==s?void 0:s.organizationQuota)||void 0===l?void 0:l.items),[c,{error:m,touched:p}]=(0,h.useField)(e),{setFieldValue:f}=(0,h.useFormikContext)(),E=n().createElement(F.default,{isButton:!1,variant:"link",className:"pf-v5-u-mt-md",href:P.default.AWS_CONSOLE_ROSA_HOME,noIcon:!0},"Connect a new AWS billing account"),g=d.find((e=>e.cloud_account_id===t)),v=g?(0,G.P)(g):null;return n().createElement(n().Fragment,null,n().createElement(h.Form,null,n().createElement(h.Field,{component:x.A,id:e,...c,input:{name:{name:e},value:c.value,onBlur:()=>{},onChange:t=>{f(e,t)}},meta:{touched:p,error:m},label:"AWS billing account",validate:k.required,required:!0,refresh:{onRefresh:u,text:"Refresh to view any new AWS billing accounts. It can take up to 5 minutes to sync new accounts."},extendedHelpText:n().createElement(n().Fragment,null,"Connect a new AWS billing account. To add a different AWS account, log in to the account, and click get started."),accounts:d,selectedAWSAccountID:c.value,isLoading:i||o,isDisabled:i||o,isBillingAccount:!0})),v?n().createElement(R.B,null,n().createElement(_.a,null,n().createElement(T.A,{bodyContent:n().createElement(U.A,{contract:v})},n().createElement(S.$n,{variant:"link",icon:n().createElement(O.OutlinedQuestionCircleIcon,null)},"Contract enabled for this billing account"))),n().createElement(_.a,null,E)):E)};function H(e){const{onClose:t,billingAccount:a,isOpen:l=!0,cluster:r}=e,{isPending:i,isError:s,error:o,mutate:u}=(0,I.useEditCluster)((null==r?void 0:r.id)||""),d=()=>{t()};return n().createElement(h.Formik,{initialValues:{billingAccountId:a},onSubmit:async e=>{a===e.billingAccountId&&d();const t={aws:{billing_account_id:e.billingAccountId}};u(t,{onSuccess:()=>{d(),C.q.invalidateQueries({queryKey:[A.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterService",null==r?void 0:r.id,null==r?void 0:r.subscription]})}})}},(e=>n().createElement(b.a,{id:"edit-billing-aws-account-modal",title:"Edit AWS billing account",onClose:d,variant:"small",description:"Updating the billing marketplace account changes the account that is charged for your subscription usage. There might be a delay in updating the account.",isOpen:l,actions:[n().createElement(S.$n,{key:"update",variant:"primary",onClick:e.submitForm,isDisabled:!e.isValid||!e.dirty||e.isSubmitting||i},"Update"),n().createElement(S.$n,{key:"cancel",variant:"secondary",onClick:d},"Cancel")]}," ",n().createElement(j,{name:"billingAccountId",selectedAWSBillingAccountID:e.values.billingAccountId}),s&&n().createElement(_.a,null,n().createElement(y.default,{message:"A problem occurred updating the billing account.",response:{errorMessage:null==o?void 0:o.errorMessage}})))))}function V(){var e,t;const[a,l]=n().useState(!1),h=(0,r.useParams)(),{cluster:b}=(0,f.useFetchClusterDetails)(h.id||""),S=(0,p.useFeatureGate)(E.OCMUI_EDIT_BILLING_ACCOUNT),_=(0,v.isHypershiftCluster)(b),C=(null==b?void 0:b.canEdit)&&S&&_,y=!(null==b?void 0:b.canEdit)&&"You do not have permission to change billing account.",I=(null===(e=null==b?void 0:b.aws)||void 0===e?void 0:e.billing_account_id)||(null===(t=null==b?void 0:b.subscription)||void 0===t?void 0:t.billing_marketplace_account)||"";return n().createElement(n().Fragment,null,a&&n().createElement(H,{onClose:()=>{l(!1)},billingAccount:I,cluster:b}),n().createElement(i.W,null,n().createElement(s.X,null,"Billing marketplace account"),n().createElement(o.d,null,C?n().createElement(u.s,null,n().createElement(d.Z,null,n().createElement(g.default,{"data-testid":"billingMarketplaceAccountLink",isDisabled:!(null==b?void 0:b.canEdit),variant:"link",isInline:!0,onClick:()=>l(!0),disableReason:y,isAriaDisabled:!!y},I," ",n().createElement(c.I,null,n().createElement(m.default,{color:"blue"}))))):n().createElement(u.s,null,n().createElement(d.Z,null,n().createElement("span",{"data-testid":"billingMarketplaceAccount"},I))))))}},26554:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(10423),u=a(983),d=a(23557),c=a(25514),m=a(48075),p=a(76980),f=a(29937);const E=(e=0,t="USD")=>e.toLocaleString("en",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2});var g=a(47979),v=a(46273);const h=({values:e,index:t,text:a,...l})=>n().createElement(v.j,{...l,style:[{fontWeight:600},{}],text:[e[t],a]}),b=({values:e})=>n().createElement(g._,{gutter:25,itemsPerRow:2,labelComponent:n().createElement(h,{dy:10,lineHeight:1.5,values:e}),rowGutter:20}),S="Raw cost",_="Markup",C="Usage cost",y=({report:e,height:t,width:a})=>{var l,r,i,s,o,u,d,c,m,p,g,v,h,y;const I=null===(r=null===(l=null==e?void 0:e.meta)||void 0===l?void 0:l.total)||void 0===r?void 0:r.cost,A=null!==(s=null===(i=null==I?void 0:I.markup)||void 0===i?void 0:i.units)&&void 0!==s?s:"USD",R=null!==(u=null===(o=null==I?void 0:I.raw)||void 0===o?void 0:o.units)&&void 0!==u?u:"USD",T=null!==(c=null===(d=null==I?void 0:I.usage)||void 0===d?void 0:d.units)&&void 0!==c?c:"USD",O=null!==(p=null===(m=null==I?void 0:I.markup)||void 0===m?void 0:m.value)&&void 0!==p?p:0,P=null!==(v=null===(g=null==I?void 0:I.raw)||void 0===g?void 0:g.value)&&void 0!==v?v:0,D=null!==(y=null===(h=null==I?void 0:I.usage)||void 0===h?void 0:h.value)&&void 0!==y?y:0,L=E(O,A),N=E(P,R),w=E(D,T);return n().createElement(f.P,{ariaDesc:"Cost breakdown",constrainToVisibleArea:!0,data:[{x:S,y:P,units:R},{x:_,y:O,units:A},{x:C,y:D,units:T}],height:t,labels:({datum:e})=>`${e.x}: ${E(e.y,e.units)}`,legendComponent:n().createElement(b,{values:[N,L,w]}),legendData:[{name:S},{name:_},{name:C}],legendOrientation:"vertical",legendPosition:"right",padding:{bottom:30,left:0,right:225,top:30},legendAllowWrap:!0,width:a})},I=({report:e})=>e.fulfilled?n().createElement(n().Fragment,null,n().createElement(o.h,{className:"ocm--cost-title",size:"md",headingLevel:"h2"},"Total cost",n().createElement("span",{className:"ocm--cost-total"}," ",(e=>{var t,a,l,n,r,i,s,o,u,d;const c=null!==(r=null===(n=null===(l=null===(a=null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.total)||void 0===a?void 0:a.cost)||void 0===l?void 0:l.total)||void 0===n?void 0:n.value)&&void 0!==r?r:0,m=null!==(d=null===(u=null===(o=null===(s=null===(i=null==e?void 0:e.meta)||void 0===i?void 0:i.total)||void 0===s?void 0:s.cost)||void 0===o?void 0:o.total)||void 0===u?void 0:u.units)&&void 0!==d?d:"USD";return E(c,m)})(e))),n().createElement("div",{style:{maxHeight:185,maxWidth:350}},n().createElement(y,{report:e,height:185,width:350}))):n().createElement(p.A,{size:"md"}),A=({clusterId:e})=>{var t;const a=(0,r.wA)(),{report:p,sources:f}=(0,c.useGlobalState)((e=>e.cost));(0,l.useEffect)((()=>{a((0,d.getReport)({filter:{cluster:e}})),a((0,d.getSources)({type:"OCP"}))}),[e,a]);const E=(0,l.useMemo)((()=>{var e,t;return void 0!==(null===(e=null==f?void 0:f.meta)||void 0===e?void 0:e.count)&&0!==(null===(t=null==f?void 0:f.meta)||void 0===t?void 0:t.count)}),[null===(t=null==f?void 0:f.meta)||void 0===t?void 0:t.count]);return n().createElement(i.Z,{className:"ocm--cost-breakdown-card"},n().createElement(s.Z,null,n().createElement(o.h,{size:"lg",headingLevel:"h2"},"Cost breakdown")),n().createElement(u.b,{className:"ocm--cost-breakdown-card__body"},!E&&f.fulfilled?n().createElement(m.A,null):n().createElement(I,{report:p})))}},71785:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ClusterStatus:()=>u});var l=a(93345),n=a.n(l),r=a(96998),i=a(30535),s=a(23271);const o=e=>(null==e?void 0:e.filter((e=>{var t;const a=null===(t=e.status)||void 0===t?void 0:t.current_replicas;return void 0!==a&&(e.autoscaling?!(!e.autoscaling.min_replica||!e.autoscaling.max_replica)&&a>=e.autoscaling.min_replica&&a<=e.autoscaling.max_replica:void 0!==e.replicas&&e.replicas===a)})).length)||0,u=({cluster:e,limitedSupport:t,machinePools:a})=>{const[u,d]=(0,l.useState)(),[c,m]=(0,l.useState)();(0,l.useEffect)((()=>{d((0,s.isHypershiftCluster)(e)),m((0,s.getClusterStateAndDescription)(e))}),[e]);const p=()=>{if((null==c?void 0:c.state)===s.default.UNINSTALLING)return s.default.UNINSTALLING;if(a&&0===o(a)&&0===a.length)switch(null==c?void 0:c.state){case s.default.WAITING:return s.default.WAITING;case s.default.INSTALLING:case s.default.VALIDATING:return s.default.PENDING;default:return s.default.DEPROVISIONED}return a&&o(a)===a.length?s.default.READY:s.default.PENDING},f=n().createElement(i.default,{clusterState:null==c?void 0:c.state,limitedSupport:t,animated:!0});return u?n().createElement(n().Fragment,null,n().createElement(r.s,{alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsXs"},"data-testid":"control-plane-status"},n().createElement("span",{className:"pf-v5-u-mr-sm"},"Control plane:"),f,n().createElement("div",null,null==c?void 0:c.description)),a?n().createElement(r.s,{alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsXs"},"data-testid":"machine-pools-status"},n().createElement("span",{className:"pf-v5-u-mr-sm"},"Machine pools:"),n().createElement(i.default,{clusterState:p(),limitedSupport:t,animated:!0}),n().createElement("div",null,(0,s.getStateDescription)(p())," ",o(a)," /"," ",a.length)):null):n().createElement(n().Fragment,null,f,n().createElement("span",{className:"pf-v5-u-ml-xs"},null==c?void 0:c.description))}},58438:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(93345),n=a.n(l),r=a(71468),i=a(32034),s=a(78755),o=a(1319),u=a(12200),d=a(91089),c=a(43775);const m=({protectionEnabled:e,clusterID:t,canToggle:a,isUninstalling:l})=>{const m=(0,r.wA)(),p=!a&&`You do not have permission to ${e?"disable":"enable"} Delete Protection. Only cluster owners, cluster editors, and Organization Administrators can ${e?"disable":"enable"} Delete Protection.`;return n().createElement(i.W,null,n().createElement(s.X,null,"Delete Protection: "+(e?"Enabled":"Disabled")),n().createElement(o.d,null,l?n().createElement("span",null,"N/A"):n().createElement(u.default,{variant:"link",isInline:!0,onClick:()=>m((0,d.openModal)(c.default.DELETE_PROTECTION,{clusterID:t,protectionEnabled:e})),disableReason:p,isAriaDisabled:!!p},e?"Disable":"Enable")))}},2183:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(93345),n=a.n(l),r=a(71468),i=a(76980),s=a(87201),o=a(25514),u=a(10314);const d=({clusterVersion:e})=>{var t;const a=null!==(t=(0,o.useGlobalState)((e=>e.supportStatus)))&&void 0!==t?t:{},d=(0,l.useMemo)((()=>/^[4-6]\.\d{1,3}(\.\d{1,3})?$/),[]),c=(0,l.useMemo)((()=>{var t;return null===(t=a.supportStatus)||void 0===t?void 0:t[e.split(".",2).join(".")]}),[e,a.supportStatus]),m=(0,l.useMemo)((()=>!e||"N/A"===e||a.error||!c||!d.test(e)),[e,c,a.error,d]),p=(0,r.wA)();return(0,l.useEffect)((()=>{a.fulfilled||a.pending||p((0,s.O)())}),[p,a.fulfilled,a.pending]),a.pending?n().createElement(i.A,{className:"inline-skeleton",size:"sm"}):m?n().createElement(n().Fragment,null,"N/A"):n().createElement(u.A,{status:c})}},47828:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(69304),i=a(89340);const s=e=>{const t=[];return e.forEach((e=>{var a,l,n;const r=(null===(a=null==e?void 0:e.aws)||void 0===a?void 0:a.additional_security_group_ids)||(null===(l=null==e?void 0:e.aws_node_pool)||void 0===l?void 0:l.additional_security_group_ids)||[];null!==(n=null==r?void 0:r.length)&&void 0!==n&&n&&t.push(...r||[])})),[...new Set(t)]},o=({securityGroups:e=[],securityGroupIdsForControl:t=[],securityGroupIdsForInfra:a=[],machinePoolData:l=[],showLinkToMachinePools:o=!1,showWorkerNodesTogether:u=!1})=>n().createElement(n().Fragment,null,t.length>0&&n().createElement("dd",{key:"sg-detail-display-controlplane-nodes"},n().createElement(i.MachinePoolItemList,{title:"Control plane nodes",items:(0,i.securityGroupsRenderer)(t,e||[]),showSmallTitle:!0})),a.length>0&&n().createElement("dd",{key:"sg-detail-display-infra-nodes"},n().createElement(i.MachinePoolItemList,{title:"Infrastructure nodes",items:(0,i.securityGroupsRenderer)(a,e||[]),showSmallTitle:!0})),!u&&l.map((t=>{var a,l;const r=(null===(a=null==t?void 0:t.aws)||void 0===a?void 0:a.additional_security_group_ids)||(null===(l=null==t?void 0:t.aws_node_pool)||void 0===l?void 0:l.additional_security_group_ids)||[];return((null==r?void 0:r.length)||0)>0&&n().createElement("dd",{key:`sg-detail-display-compute-nodes-${null==t?void 0:t.id}`},n().createElement(i.MachinePoolItemList,{title:`Compute (${null==t?void 0:t.id}) nodes `,items:(0,i.securityGroupsRenderer)(r,e||[]),showSmallTitle:!0}))})),u&&n().createElement("dd",{key:"sg-detail-display-all-compute-nodes"},n().createElement(i.MachinePoolItemList,{title:"Compute nodes ",items:(0,i.securityGroupsRenderer)(s(l)||[],e||[]),showSmallTitle:!0})),o&&s(l).length>0&&n().createElement("dt",null,"See more information in the ",n().createElement(r.Link,{to:{hash:"#machinePools"}},"machine pools tab")))},75439:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var l=a(93345),n=a.n(l),r=a(71468),i=a(83349),s=a(56780),o=a(23285),u=a(38715),d=a(14419),c=a(69236),m=a(25514),p=a(84037),f=a(28592),E=a(91089);const g=({cluster:e,isAddNotificationContactPending:t,isAddNotificationContactSuccess:a,addNotificationMutation:g,addNotificationContactError:v})=>{const h=!1,b=(0,m.useGlobalState)((e=>(0,d.default)(e,"add-notification-contact"))),[S,_]=(0,l.useState)(""),[C,y]=(0,l.useState)(h),I=(0,r.wA)(),A=(0,l.useCallback)((()=>{I((0,E.closeModal)()),_(""),y(h)}),[I,"",h]);(0,l.useEffect)((()=>{a&&((0,c.C)(),A())}),[a,A]);const R=C?(0,p.validateRHITUsername)(S):v,T=async()=>{var t;!R&&(null===(t=null==e?void 0:e.subscription)||void 0===t?void 0:t.id)&&(y(!1),g(S))};return b?n().createElement(f.default,{title:"Add notification contact",onClose:A,primaryText:"Add contact",secondaryText:"Cancel",onPrimaryClick:T,onSecondaryClick:A,isPrimaryDisabled:!!R||t||""===S,isPending:t},n().createElement("p",{className:"pf-v5-u-mb-xl"},"Identify the user to be added as notification contact. These users will be contacted in the event of notifications about this cluster."),n().createElement(i.l,{className:"control-form-cursor",onSubmit:e=>{T(),e.preventDefault()}},n().createElement(s.g,{label:"Red Hat username or email",isRequired:!0,fieldId:"username"},n().createElement(o.ks,{value:S,isRequired:!0,id:"username",type:"text",validated:R?"error":"default",onChange:(e,t)=>(e=>{_(e),y(!0)})(t),"aria-label":"user name"}),n().createElement(u.FormGroupHelperText,{touched:!0,error:R})))):null}},62622:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>H});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(983),u=a(75166),d=a(91089),c=a(43775),m=a(12200);const p=({canEdit:e,openModal:t})=>n().createElement(m.default,{disableReason:e?null:"You do not have permission to add a Notification Contact. Only cluster owners, cluster editors, and Organization Administrators can add them.",onClick:()=>t(c.default.ADD_NOTIFICATION_CONTACT),variant:"secondary",className:"access-control-add"},"Add notification contact"),f=({email:e})=>e?n().createElement(n().Fragment,null,n().createElement("br",null),"The cluster owner will always receive notifications, at email address <",e,"> , in addition to this list of notification contacts."):null;var E=a(33675),g=a(73683),v=a(30496),h=a(32569),b=a(68923),S=a(3678),_=a(55816),C=a(91167),y=a(82309),I=a(96678),A=a(73410),R=a(69236),T=a(13683);const O=({subscriptionID:e,isDisabled:t,isAddNotificationContactPending:a,isAddNotificationContactSuccess:i,addNotificationStatus:s})=>{const o=(0,r.wA)(),{notificationContacts:u,refetch:d}=(0,R.Q)(e),{mutate:c,isSuccess:m,isPending:p,isError:f,error:O}=(e=>{const{mutate:t,isSuccess:a,isPending:l,isError:n,error:r}=(0,y.n)({mutationKey:["deleteNotificationContact","accountService",e],mutationFn:async t=>A.accountsService.deleteNotificationContact(e,t)});return n?{mutate:t,isSuccess:a,isPending:l,isError:n,error:(0,I.formatErrorData)(l,n,r)}:{mutate:t,isSuccess:a,isPending:l,isError:n,error:r}})(e),P=(0,C.usePreviousProps)(s),D=(0,C.usePreviousProps)(p);(0,l.useEffect)((()=>{u.subscriptionID===e&&u.pending||d()}),[u.subscriptionID,e,d]),(0,l.useEffect)((()=>{if("success"===s&&"pending"===P){const e="Notification contact added successfully";o((0,S.addNotification)({variant:"success",title:e,dismissable:!1}))}(m&&D||i&&P)&&!u.pending&&d()}),[d,s,a,m,i,o,u.pending,P,D,e]);const L=(0,l.useMemo)((()=>[{title:"Delete",onClick:(e,t,a,l)=>{o((0,T.clearDeleteNotificationContacts)()),c(a.userID),f||(o((0,S.addNotification)({variant:"success",title:"Notification contact deleted successfully",dismissable:!1})),(0,T.buildNotificationsMeta)("Notification contact deleted successfully",a.userID))},className:"hand-pointer"}]),[f,o,c]),N=(0,l.useMemo)((()=>{var e;return null===(e=u.contacts)||void 0===e?void 0:e.map((({username:e,email:t,firstName:a,lastName:l,userID:n})=>({cells:[e,t,a,l],userID:n})))}),[u.contacts]);return u.contacts&&u.contacts.length?n().createElement(n().Fragment,null,f&&n().createElement(E.p,null,n().createElement(_.default,{message:"Error deleting Notification Contact",response:O.error})),n().createElement(v.X,{"aria-label":"Notification Contacts",actions:L,variant:g.a.compact,cells:[{title:"Username"},{title:"Email"},{title:"First Name"},{title:"Last Name"}],rows:N,areActionsDisabled:()=>t},n().createElement(h.A,null),n().createElement(b.B,null))):null};var P=a(72583),D=a(75279),L=a(25982),N=a(36817),w=a(62384),M=a(74353),k=a.n(M);const F={OSD:"OpenShift Dedicated",ROSA:"Red Hat OpenShift Service on AWS",ARO:"OpenShift Managed (Azure)",OCP:"OpenShift Container Platform"},x=[{title:"Case ID"},{title:"Issue summary"},{title:"Owner"},{title:"Modified by"},{title:"Severity"},{title:"Status"}],G=(e,t,a)=>{if((0,w.isRestrictedEnv)())return w.SUPPORT_CASE_URL;const l=e?F[e]:"";return`https://access.redhat.com/support/cases/#/case/new/open-case/describe-issue?clusterId=${a}&caseCreate=true&product=${encodeURIComponent(l)}&version=${"OCP"!==e?encodeURIComponent(l):t}`},U=e=>{const t=n().createElement("a",{href:`https://access.redhat.com/support/cases/#/case/${e.caseID}`,target:"_blank",rel:"noopener noreferrer"},e.caseID),a=k().utc(e.lastModifiedDate).format("D MMM YYYY"),l=n().createElement(n().Fragment,null,e.lastModifiedBy,n().createElement("br",null),a);return{cells:[t,e.summary,e.ownerID,l,e.severity,e.status],caseID:e.caseID}},j=({subscriptionID:e,isDisabled:t=!1,cluster:a})=>{var r,i;const s=null===(i=null===(r=null==a?void 0:a.subscription)||void 0===r?void 0:r.plan)||void 0===i?void 0:i.type,o=(0,w.isRestrictedEnv)(),{supportCases:d,isLoading:c,refetch:m}=((e,t)=>{var a,l;const{data:n,isLoading:r,isError:i,error:s,refetch:o}=(0,L.I)({queryKey:[N.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"supportCases","accountService",e],queryFn:async()=>await A.accountsService.getSupportCases(e),enabled:t}),u=(null===(l=null===(a=null==n?void 0:n.data)||void 0===a?void 0:a.response)||void 0===l?void 0:l.docs)||[];return{supportCases:{subscriptionID:e,cases:u.map((e=>({summary:e.case_summary,caseID:e.case_number,ownerID:e.case_owner,severity:e.case_severity,status:e.case_status,lastModifiedBy:e.case_lastModifiedByName,lastModifiedDate:e.case_lastModifiedDate})))},isLoading:r,isError:i,error:s,refetch:o}})(e,o);(0,l.useEffect)((()=>{(0,w.isRestrictedEnv)()||d.subscriptionID===e&&c||m()}),[e,d.subscriptionID]);const p=(0,l.useMemo)((()=>{var e;return null===(e=d.cases)||void 0===e?void 0:e.map(U)}),[d.cases]),f=(0,l.useMemo)((()=>p&&p.length>0),[p]),S=s!==u.normalizedProducts.OSDTRIAL&&!t;return n().createElement(n().Fragment,null,S&&n().createElement("a",{href:G(s,null==a?void 0:a.openshift_version,null==a?void 0:a.external_id),target:"_blank",rel:"noopener noreferrer","data-testid":"support-case-btn"},n().createElement(P.$n,{variant:"secondary"},"Open support case")),!(0,w.isRestrictedEnv)()&&n().createElement(n().Fragment,null,n().createElement(v.X,{"aria-label":"Support Cases",variant:g.a.compact,cells:x,rows:p,"data-testid":"support-cases-table"},n().createElement(h.A,null),n().createElement(b.B,null)),!f&&n().createElement(E.p,{variant:E.s.sm},n().createElement(D.h,null,"You have no open support cases"))))},H=({isDisabled:e=!1,cluster:t,isAddNotificationContactSuccess:a,isAddNotificationContactPending:l,addNotificationStatus:c})=>{var m,E,g,v,h,b,S;const _=(0,r.wA)();return n().createElement(n().Fragment,null,n().createElement(i.Z,{className:"ocm-c-support-notification-contacts__card"},n().createElement(s.Z,{className:"ocm-c-support-notification-contacts__card--header"},"Notification contacts"),n().createElement(o.b,{className:"ocm-c-support-notification-contacts__card--body"},n().createElement("div",{className:"support-subtitle"},"Add users to be contacted in the event of notifications about this cluster.",n().createElement(f,{email:null===(E=null===(m=t.subscription)||void 0===m?void 0:m.creator)||void 0===E?void 0:E.email})),!e&&n().createElement(p,{canEdit:t.canEdit,openModal:e=>_((0,d.openModal)(e))}),(null===(g=t.subscription)||void 0===g?void 0:g.id)?n().createElement(O,{addNotificationStatus:c,isAddNotificationContactPending:a,isAddNotificationContactSuccess:l,subscriptionID:null===(v=t.subscription)||void 0===v?void 0:v.id,isDisabled:!t.canEdit||e}):null)),(null===(h=t.subscription)||void 0===h?void 0:h.id)&&(null===(S=null===(b=t.subscription)||void 0===b?void 0:b.plan)||void 0===S?void 0:S.type)!==u.normalizedProducts.RHOIC?n().createElement(i.Z,{className:"ocm-c-support-support-cases__card"},n().createElement(s.Z,{className:"ocm-c-support-support-cases__card--header"},"Support cases"),n().createElement(o.b,{className:"ocm-c-support-support-cases__card--body"},n().createElement(j,{subscriptionID:t.subscription.id,isDisabled:e,cluster:t}))):null)}},81586:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(93345),n=a.n(l),r=a(95376),i=a(81164),s=a(57823),o=a(39931),u=a(69304),d=a(381),c=a(31003),m=a(47349);const p=({tabsInfo:e,onTabSelected:t,initTabOpen:a})=>{const l=(0,u.useNavigate)(),p=(0,r.useLocation)(),[f,E]=n().useState(),[g,v]=n().useState(),[h,b]=n().useState(),[S,_]=n().useState(),[C,y]=n().useState(!1),I=n().useCallback(((e,a,l=!0)=>{f&&(b(g),v(null==f?void 0:f.find((e=>e.key===a))),_((null==S?void 0:S.key)===a?null:S),y(l),f.forEach((e=>{e.ref&&e.ref.current&&(e.key!==a?e.ref.current.hidden=!0:(e.ref.current.hidden=!1,t(e.id)))})))}),[f,g,S,t]);return n().useEffect((()=>{const t=(e=>[{key:0,title:"Overview",contentId:"overviewTabContent",id:m.ClusterTabsId.OVERVIEW,show:!0,ref:e.overview.ref},{key:1,title:n().createElement(n().Fragment,null,n().createElement(o.V,null,"Monitoring"),e.monitoring.hasIssues?n().createElement(d.b,{id:"monitoring-issues-icon"},n().createElement(c.ExclamationCircleIcon,{className:"danger"})):null),contentId:"monitoringTabContent",id:m.ClusterTabsId.MONITORING,show:void 0===e.monitoring.show||e.monitoring.show,ref:e.monitoring.ref},{key:2,title:"Access control",id:m.ClusterTabsId.ACCESS_CONTROL,contentId:"accessControlTabContent",show:e.accessControl.show,ref:e.accessControl.ref},{key:3,title:"Add-ons",contentId:"addOnsTabContent",id:m.ClusterTabsId.ADD_ONS,show:e.addOns.show,ref:e.addOns.ref},{key:4,title:"Cluster history",contentId:"clusterHistoryTabContent",id:m.ClusterTabsId.CLUSTER_HISTORY,show:e.clusterHistory.show,ref:e.clusterHistory.ref},{key:5,title:"Networking",contentId:"networkingTabContent",id:m.ClusterTabsId.NETWORKING,show:e.networking.show,ref:e.networking.ref},{key:6,title:"Machine pools",contentId:"machinePoolsTabContent",id:m.ClusterTabsId.MACHINE_POOLS,show:e.machinePools.show,ref:e.machinePools.ref},{key:7,title:"Support",contentId:"supportTabContent",id:m.ClusterTabsId.SUPPORT,show:e.support.show,ref:e.support.ref},{key:8,title:"Settings",contentId:"upgradeSettingsTabContent",id:m.ClusterTabsId.UPDATE_SETTINGS,show:e.upgradeSettings.show,ref:e.upgradeSettings.ref},{key:9,title:"Add Hosts",contentId:"addHostsContent",id:m.ClusterTabsId.ADD_ASSISTED_HOSTS,show:e.addAssisted.show,ref:e.addAssisted.ref,isDisabled:e.addAssisted.isDisabled,tooltip:e.addAssisted.tooltip}])(e);E(t),_(((e,t)=>{var a;return null!==(a=e.find((e=>e.id===t)))&&void 0!==a?a:e[0]})(t,a))}),[a]),n().useEffect((()=>{(null==f?void 0:f.length)&&(null===S||!(null==S?void 0:S.isDisabled)&&(null==S?void 0:S.show)||(_(f[0]),I(void 0,0)))}),[f,S,I]),n().useEffect((()=>{if(null==f?void 0:f.length){const e=f.find((e=>`#${e.id}`===p.hash));(null==e?void 0:e.show)&&!e.isDisabled||(""===p.hash?l("/cluster-list",{replace:!0}):(_(f[0]),l({hash:`#${f[0].id}`},{replace:!0}))),I(void 0,(null==e?void 0:e.isDisabled)||!(null==e?void 0:e.show)?0:e.key,!1)}}),[p.hash]),n().useEffect((()=>{g&&!g.show?(I(void 0,0),e.overview.ref.current.hidden=!1):(null==S?void 0:S.show)&&!(null==S?void 0:S.isDisabled)&&I(void 0,S.key)}),[g,S,I]),n().useEffect((()=>{null===S&&C&&(null==h?void 0:h.key)!==(null==g?void 0:g.key)&&l({hash:`#${null==g?void 0:g.id}`})}),[g,S,C,h,l]),f&&g?n().createElement(i.t,{activeKey:g.key,onSelect:I},f.filter((e=>e.show)).map((e=>n().createElement(s.o,{key:e.key,eventKey:e.key,title:n().createElement(o.V,null,e.title),tabContentId:e.contentId,id:`${e.title}`,ouiaId:`${e.title}`,isAriaDisabled:!!e.isDisabled,tooltip:e.tooltip})))):null}},47349:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{ClusterTabsId:()=>l}),function(e){e.OVERVIEW="overview",e.MONITORING="monitoring",e.ACCESS_CONTROL="accessControl",e.ADD_ONS="addOns",e.CLUSTER_HISTORY="clusterHistory",e.NETWORKING="networking",e.MACHINE_POOLS="machinePools",e.SUPPORT="support",e.UPDATE_SETTINGS="updateSettings",e.ADD_ASSISTED_HOSTS="addAssistedHosts"}(l||(l={}))},27982:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var l=a(93345),n=a.n(l),r=a(74225),i=a(52187),s=a(23874),o=a(75797),u=a(1341),d=a(17661),c=a(97948),m=a(76774),p=a(62913),f=a(69304),E=a(10135),g=a(75166);const v=e=>{const t=(0,f.useNavigate)(),[a,v]=(0,l.useState)(!1),{currentFilters:h,setFilter:b,isDisabled:S}=e,_=[{key:"plan_id",label:"Cluster type",options:g.productFilterOptions}],C=(0,l.useRef)(null),y=n().createElement(r.W,{ref:C},n().createElement(i.r,null,_.map((e=>{const a={},l=h[e.key]||[];return l.forEach((e=>{a[e]=!0})),n().createElement(s.r,{label:e.label,key:`filtergroup-${e.key}`},n().createElement(o.c,null,e.options.map((r=>n().createElement(u.D,{hasCheckbox:!0,itemId:r.key,key:r.key,isSelected:a[r.key],"data-testid":"cluster-type-".concat(r.label),onClick:()=>{var a;a={...h,[e.key]:[...l.filter((e=>e!==r.key)),...l.includes(r.key)?[]:[r.key]]},t({search:(0,E.buildFilterURLParams)(a)},{replace:!0}),b(a)}},r.label)))))})))),I=(0,l.useRef)(null),A=n().createElement(d.S,{ref:I,icon:n().createElement(c.I,null,n().createElement(p.YG,null)),onClick:()=>v(!a),isExpanded:a,isDisabled:S},"Cluster type");return n().createElement(m.$,{isOpen:a,onOpenChange:e=>v(e),onOpenChangeKeys:["Escape"],menu:y,menuRef:C,toggle:A,toggleRef:I})}},25115:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var l=a(93345),n=a.n(l),r=a(74225),i=a(52187),s=a(23874),o=a(75797),u=a(1341),d=a(17661),c=a(97948),m=a(76774),p=a(62913),f=a(69304),E=a(10135),g=a(75166);const v=e=>{const t=(0,f.useNavigate)(),[a,v]=(0,l.useState)(!1),{currentFilters:h,setFilter:b,isDisabled:S}=e,_=[{key:"plan_id",label:"Cluster type",options:g.productFilterOptions}],C=(0,l.useRef)(null),y=n().createElement(r.W,{ref:C},n().createElement(i.r,null,_.map((e=>{const a={},l=h[e.key]||[];return l.forEach((e=>{a[e]=!0})),n().createElement(s.r,{label:e.label,key:`filtergroup-${e.key}`},n().createElement(o.c,null,e.options.map((r=>n().createElement(u.D,{hasCheckbox:!0,itemId:r.key,key:r.key,isSelected:a[r.key],"data-testid":"cluster-type-".concat(r.label),onClick:()=>{var a;a={...h,[e.key]:[...l.filter((e=>e!==r.key)),...l.includes(r.key)?[]:[r.key]]},t({search:(0,E.buildFilterURLParams)(a)},{replace:!0}),b(a)}},r.label)))))})))),I=(0,l.useRef)(null),A=n().createElement(d.S,{ref:I,icon:n().createElement(c.I,null,n().createElement(p.YG,null)),onClick:()=>v(!a),isExpanded:a,isDisabled:S},"Cluster type");return n().createElement(m.$,{isOpen:a,onOpenChange:e=>v(e),onOpenChangeKeys:["Escape"],menu:y,menuRef:C,toggle:A,toggleRef:I})}},20230:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PaginationRow:()=>i});var l=a(93345),n=a.n(l),r=a(13343);const i=({currentPage:e,pageSize:t,itemCount:a,itemsStart:l,itemsEnd:i,onPageChange:s,onPerPageSelect:o,variant:u,isDisabled:d})=>n().createElement(r.d,{"data-testid":"page_drop_down",page:e,perPage:t,itemCount:a,itemsStart:l,itemsEnd:i,onPreviousClick:s,onNextClick:s,onPerPageSelect:o,onPageInput:s,variant:u,dropDirection:"bottom"===u?"up":"down",isCompact:"bottom"!==u,isDisabled:d,onFirstClick:s,onLastClick:s})},29015:(e,t,a)=>{"use strict";a.r(t),a.d(t,{RefreshButton:()=>o});var l=a(93345),n=a.n(l),r=a(92292),i=a(72583),s=a(2923);const o=({classOptions:e,refreshFunc:t,isDisabled:a})=>n().createElement(r.m,{position:r.Z.bottom,content:"Refresh"},n().createElement(i.$n,{variant:"plain","aria-label":"Refresh",className:e,onClick:t,isAriaDisabled:a},n().createElement(s.RedoIcon,null)))},76884:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ManagedServicesTable:()=>P});var l=a(93345),n=a.n(l),r=a(72583),i=a(90678),s=a(73113),o=a(69673),u=a(15402),d=a(76792),c=a(2442),m=a(97192),p=a(11318),f=a(94935),E=a(69304),g=a(87413),v=a(71902),h=a(47441),b=a(17661);const S="/create/rosa/getstarted",_=e=>n().createElement(E.Link,{...e,to:S}),C=({toggleId:e})=>{const[t,a]=n().useState(!1),i=(0,l.useRef)(null),s=n().useRef(null),o=n().createElement(g.Q,null,n().createElement(v.t,{key:"action",component:e=>n().createElement(E.Link,{...e,id:"with-cli",to:S},"With CLI")}),n().createElement(v.t,{key:"wizard",component:e=>n().createElement(E.Link,{...e,id:"with-web",to:"/create/rosa/wizard"},"With web interface")}));return n().createElement(n().Fragment,null,n().createElement(h.m,{ref:s,isOpen:t,onSelect:()=>{var e;a(!1),null===(e=s.current)||void 0===e||e.focus()},onOpenChange:e=>a(e),popperProps:{appendTo:()=>document.body},toggle:{toggleRef:i,toggleNode:n().createElement(b.S,{id:e,ref:i,onClick:()=>{var e;a(!t),null===(e=s.current)||void 0===e||e.focus()},isExpanded:t,variant:r.Ak.primary,className:"create-button","data-testid":"rosa-create-cluster-button"},"Create cluster")}},o),n().createElement("br",null),n().createElement(r.$n,{variant:"link",className:"create-button",component:_},"Prerequisites"))};var y=a(7167),I=a(8888),A=a(62384),R=a(63995),T=a(24074),O=a(97515);const P=e=>{const{hasOSDQuota:t=!1,isTrialEnabled:a=!1}=e,[g,v]=(0,l.useState)([]),h=e=>g.includes(e),b="Offerings",S="Purchased through",_="Details",P="Get started",D={key:"osdTrial",logo:n().createElement("img",{className:"partner-logo",src:T,alt:"OSD"}),offerings:n().createElement(I.default,{href:y.A.OSD_LEARN_MORE,noIcon:!0},"Red Hat OpenShift Dedicated Trial"),purchasedThrough:"Red Hat",details:"Available on AWS and GCP",action:n().createElement(r.$n,{className:"create-button",variant:r.Ak.primary,component:e=>n().createElement(E.Link,{...e,id:"create-trial-cluster",to:"/create/osdtrial?trial=osd","data-testid":"osd-create-trial-cluster",role:"button"})},"Create trial cluster"),expandedSection:null},L={key:"osd",logo:n().createElement("img",{className:"partner-logo",src:T,alt:"OSD"}),offerings:n().createElement(I.default,{href:y.A.OSD_LEARN_MORE,noIcon:!0},"Red Hat OpenShift Dedicated"),purchasedThrough:"Red Hat",details:"Available on AWS and GCP",action:t?n().createElement(r.$n,{className:"create-button",variant:r.Ak.primary,component:e=>n().createElement(E.Link,{...e,id:"create-cluster",to:"/create/osd","data-testid":"osd-create-cluster-button"})},"Create cluster"):n().createElement(I.default,{href:y.A.OSD_LEARN_MORE,isButton:!0,variant:r.Ak.secondary,className:"create-button",noIcon:!0},n().createElement("span",null,"Learn more")),expandedSection:{content:n().createElement(i.B,{hasGutter:!0},n().createElement(s.a,null,"A complete OpenShift cluster provided as a fully-managed cloud service dedicated to a single customer.",n().createElement("br",null),"Reduce operational complexity and focus on building and scaling applications that add more value to your business.",n().createElement("br",null),"Hosted on Amazon Web Services (AWS) and Google Cloud."),n().createElement(s.a,null,n().createElement(I.default,{href:y.A.OSD_LEARN_MORE},"Learn more about Red Hat OpenShift Dedicated")))}},N={key:"azure",logo:n().createElement("img",{className:"partner-logo",src:O,alt:"Microsoft"}),offerings:n().createElement(I.default,{href:y.A.AZURE,noIcon:!0},"Azure Red Hat OpenShift"),purchasedThrough:"Microsoft Azure",details:"Flexible hourly billing",action:n().createElement(I.default,{isButton:!0,noIcon:!0,variant:r.Ak.secondary,href:y.A.AZURE,className:"create-button"},"Try it on Azure"),expandedSection:{content:n().createElement(i.B,{hasGutter:!0},n().createElement(s.a,null,"A flexible, self-service deployment of OpenShift clusters provided as a fully-managed cloud service by Microsoft and Red Hat.",n().createElement("br",null),"Hosted on Microsoft Azure."),n().createElement(s.a,null,n().createElement(I.default,{href:y.A.AZURE},"Learn more about Azure Red Hat OpenShift")))}},w={key:"ibm",logo:n().createElement("img",{className:"partner-logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAALXklEQVR42u1af3CV5ZV+nvN9Nzc3NxBCyA9CCAmERhpFMRaqqa601e5SVzu7SqUzutUK2F3tVqd23dnZNtPVdq3TdrfVdixStzpMZ0Drdmf9QXdsKf7oikS7rNEAkUAgISU/biDc5N7c7z1n/7gBDRAgcJNsnDx/5E7e733P957nO+855z3vC0xhClOYwhQmAGZS17L741fu2bN4IqfBiXrxVbv3XGuwzaRBnCvcUl3dNRHz8CfMAJyLGAUgkQTCEzUPmagXO+fDlDCd2JV4zgRcsrWtrva11s+dlxUoYEoAOec0/iYz71MdO29e3tZUPa4ELN7cEQXsN+r47JKXW28/NxMAcJ4W0H1g1z/C8RdCPjuuBOy4trifirdNCZh8d+nrBwrORX8zwIzAwDk40f3vLTTj/aaAOdk5vkuANKf212ZUUxQkE/bQ6M1f3DEfIGo26okH+qgpw6bsD5y7d9x9wI5Pzn1dletMCShvv+Q3bXWjGe/1y2um2G7K519dMrdjVF+/ufnzprzGFIDhwa0VF7RMSB5w0cv78jnoN4EoIu1tf1rHpQ2XXZYaS69d19Q0zZPQu6DNAbErarb4hYULkxMSBv/3ynkxqNyXNmVeGByefeeYZ270v6mGOWY0Aneej/IZyQN2fLrkKVW+ZEo4s5KxT6A435RQw89/V1X124nPBEnzNnfc4GhL0HN425m6X/1b8+PSPtt8l0cgYtQAoVC/kd0NtbO7QZ7WIQYh/aKX8v4lq731tUmxF6h+pXNaOJX8DIA6IS6GoIyEAy0JIkkiQVgCRBzEYRHbReG7cPLOvH1z3tu0km5SboYu3Nx2BT1+GcA1pPGYsqAlSSRBJIWWVEFcaP2gxAGNC6yflDjExY2I+fQavUT8nVc/cUHfpCDggv9sr/U8PgRiGWlJkkkQ/aC9SurrBmmkL/udSmf2tNZkIhIhDhVm+eFkHlRnePSKIVoowlzA+iGI0ywuIWk9mnVkX2NNzWDGCah4IlZB0cdBNpkLHth7W1HHaAWVbdwfyY2E/pnEHUKkjJYg0WhiP8vKSj73h+WVvaORV7u9PQfJYLZ5Ugi4lE8XiC+DfogdryyeFzsXZa9ubr5QBV8jcKSocsE9m0hHACj/WeyvSPs30MD0WvxeNNs93Liy6OjZCF709KGF6tszJCqHTHwXYA+8e13JC2dyamdROOHSbW0zaTYz8E2BVMpz4fi2pXN6zlb21bt3lwVOvkXBraB5JAzAvK1VVfsJADUbLavvaO/9ELuPQO4QEX804bdmxfPXNazliMlN9TN/rDNwI4gc0gYg9mMX6nu4ecX5xedTVZCWbmvLN6ZCtFAqnpuVbPxoYfx0JNRufy8vOyL3g/a3ICKkAUSbCP5u68IFG07yAZXrjharDH7DBKtJhIaI2GXEbftuKTgp7FRt7L4c0GdJ843o9o1rm24q3DKWXrvq+d3hcCQvVIh40Det242UeS77w55bRPgDEAVDih+m2EOJeORfGy4r7T+tE5zz086PeCH/24D9BQmK2HMttxZcN4yspzqrxcevQYRJdNC4avfNs94dr3pibUODN39PrW66CXoqK1j21t52ErNBGyTxYxcKPbBtUVn3qKLAnHXdHxdPbvQNT7V8Kf9/jrUXP9kRzRFvM4UVgHWLL6uaVxa8M85FVZ7O/Je9sXeFeXYVPD627eKKloyGwYqfd30H5BdIDMDD3S1fKPivMVe43qT20wfL1AUVoFdq0Gkebbp54kg7CnEHQ2qN/3155d4xzQMq18cuVs+eBi0F2oZ9t856cCz1XvLr1tLA5yUwuUgEMwiLgIiYIOIR2SoWESAy5IRngOgj7QUKnnzjY/P2ZJyAuetjj5O2FET7QDS4sfMsQ+VoUfPi/pkw72MgyukjQlqEQDYJgyAG2iDIkJiFQauAYD4FBQBmkDaDRBTksyGHv//9FXPbMkLAvHVdixy8DSSThPt+6x0Fm8ZibV/03KHKwNMLxJBDsYjRUibYSaf7Gj9TFjvl2jfjkpdbF8HjnxL8SxJVoM0gLQnKPduXzV1/3gSUPtZ7H2k3EOjKTsz4fPNXmNlYv9G8mnBnZQArFg8REdPA95p2XjPr4GgSqqrnd4fz8sK3G+TrpJaB8EFbN7+1/Msnbq5kNE4IyjoL2GeOL2RceTNWh7uKk+ayqJIQx72FkeKtO68tbB9tNtm8YmGyoa78JwH8Zeb4kikVytV75h54cHT1gHrzq2bCay5BUHjwyHx1IMmYOPdapi2/+j+6ciWAGSShWalDTX9eet5HZTvqSg7VNDZenxWb/ijAcgB3Xfr71iNvXl7+7dNbQL1llfwgVlGanyjt7o9lV8QR8oCFUPaaQ0+25e/KdHaXSnoiLitJXzp3ZUD5Y2isqRl8q65srRmyTRGF8p8ufaX1yhEJKH64r6goO75cU96cpAbRnFzf3zsIp4p8U/YCbMmo+deb9LuoFwo79RIDyZ03FGZ+30+qqLtZVTpMIQQfr92+PXQSAXnfTSxIBfI5heU7SkRSjLXdNb0ba5kyMGyKXihbMzm3q/8EktWV1N7DTnfsKR7AGKHhqoqDEuhdpoQqP+IGilYPIyC3vq/IS7lbTC3PgX7Kc292fj33eF2ATlKq7DXHnkxObEsnLBqt0EVzi5Oo55gelb61vOyXZrLNFIDKPTCTNAGPWcijd68qZ8K8UJDQF4/cmzdMUecsTkUMcPGMzuomaCPgtixnMObpNGlQ/d7QiVTVpVvalvoAMK1t4DqIVJuzHhPd3Fc//WQnpOhVoQJ+MuOTsvE7JI8nIi/mhBODALOc4M8EaywEk9VOLWrA/sPfiDacaqBT9lC116V0cEy+zDiheUXBEShfHbKCpZJbEFxhikqqRAPn/WqkgWLSnVI5gg8BTNE8dKpcJU71OlNGTS3obwrtGHFUEDnsOU2KhlL4oYUnMwFqPJi2ACsQMS41IKrA29g08iFED3DUMZQI1JKzBpA1qS3AQU0BM6GootQco1B2nz5hoTovdSQVuGRKD/uTewmw3JQwZz1ixvdM8aY5dp5p4NHB3D4PbjAkeQHqTSYzAVDAjC1iilJTXm4mNWdOW5nIxfRE1wEMYgJvmJ0PFm/uiJrhCjNCjQ2iyo60R7TysxHQDiRQkL7iNBkJSPbJZ02Zk84G9UWfam8YeQ2Iq7DGcvBT9p/JF6SvN41f7M5wBFgDNYBs25Uq2SoW+L8cSgqiWRH32bPMXCal8lW/6LzeFJ9K32vCo1hJJ6mf4E0YdpoRqqxHvU1qDz8S5m/syVPj99OXM9EeMvxoaDdIM5X7hx581O/Sr37YlK99zEI2aE+bYkH6biPvOnbwe7woyjv1JSE+CZoD7Xr3qP/8h0H5qh9aODW95wkSq0CA5CMtt8y8+6SKkIGrTNFiSg8qG72/CVZOduUrnohVDOb2vGLGVWaEKf+9JZw/zMKHl8XvsEUU+x2JQhBG2iNuUOqxPrNFkLHGrPWd0yKB9xUTfo3EjPSXtycLU/l3nHjUf/K5wBorp+IZiF1GAkMXlx6hJ8+kfsS3/t9qXW9+SUHvJ8TjChC3kZg1pHgMsLsPrJm54ZTx7JTCvmjZCOEfSHwVtNwhIkBaO2jNAu4HLQ4BRIZLogAQPd4mUIzcLx1NZahN5AOLkpru6qerMWlZGCaLwhCoRUbOFlgVaNPfnyuSoG2g777ZtrrgwIgB/bSs3mlFcLiXtBtBLGBaMIYuThwj5dgLT2gfud+Iz2Q0Mj743mH/N1Lwq1TIe6RrbfTgGTOaszaxL9lM+IMlYFYugBxfkD3suZ8u6XnH/xxr/8CPd4JM3w3rd/zxCf18/wPlQu/9H2dwnqcD5nn9lKAvlD29rX3tGTLZKUxhClOYwvv4P3jAdNqPaWaOAAAAAElFTkSuQmCC",alt:"IBM Cloud"}),offerings:n().createElement(I.default,{href:y.A.IBM_CLOUD_LEARN_MORE,noIcon:!0},"Red Hat OpenShift on IBM Cloud"),purchasedThrough:"IBM",details:"Flexible hourly billing",action:n().createElement(I.default,{isButton:!0,noIcon:!0,href:y.A.IBM_CLOUD,variant:r.Ak.secondary,className:"create-button"},"Try it on IBM"),expandedSection:{content:n().createElement(i.B,{hasGutter:!0},n().createElement(s.a,null,"A preconfigured OpenShift environment provided as a fully-managed cloud service at enterprise scale.",n().createElement("br",null),"Hosted on IBM Cloud."),n().createElement(s.a,null,n().createElement(I.default,{href:y.A.IBM_CLOUD_LEARN_MORE},"Learn more about Red Hat OpenShift on IBM Cloud")))}},M={key:"rosa",logo:n().createElement("img",{className:"partner-logo",src:R,alt:"AWS"}),offerings:n().createElement(I.default,{noIcon:!0,href:y.A.AWS},"Red Hat OpenShift Service on AWS (ROSA)"),purchasedThrough:"Amazon Web Services",details:"Flexible hourly billing",action:n().createElement(C,{toggleId:"rosa-create-cluster-dropdown"}),expandedSection:{content:n().createElement(i.B,{hasGutter:!0},n().createElement(s.a,null,"Build, deploy, and manage Kubernetes applications with Red Hat OpenShift running natively on AWS.",n().createElement("br",null),"Hosted on AWS."),n().createElement(s.a,null,n().createElement(I.default,{href:y.A.AWS},"Learn more about Red Hat OpenShift Service on AWS")))}},k=[];return(0,A.isRestrictedEnv)()||(a&&k.push(D),k.push(L,N,w)),k.push(M),n().createElement(o.X,{"aria-label":"Managed services"},n().createElement(u.d,null,n().createElement(d.Tr,null,n().createElement(c.Th,{screenReaderText:"Row expansion"}),n().createElement(c.Th,{width:10,screenReaderText:"Logo"}),n().createElement(c.Th,{width:25},b),n().createElement(c.Th,{width:20},S),n().createElement(c.Th,{width:20,screenReaderText:_}),n().createElement(c.Th,null,P))),k.map(((e,t)=>n().createElement(m.N,{key:e.key,isExpanded:h(e.key)},n().createElement(d.Tr,{key:"content-row"},n().createElement(p.Td,{expand:e.expandedSection?{rowIndex:t,isExpanded:h(e.key),onToggle:()=>((e,t=!0)=>v((a=>{const l=a.filter((t=>t!==e));return t?[...l,e]:l})))(e.key,!h(e.key)),expandId:e.key}:void 0}),n().createElement(p.Td,{dataLabel:"Logo"},e.logo),n().createElement(p.Td,{dataLabel:b},e.offerings),n().createElement(p.Td,{dataLabel:S},e.purchasedThrough),n().createElement(p.Td,{dataLabel:_},e.details),n().createElement(p.Td,{dataLabel:P},e.action)),e.expandedSection&&n().createElement(d.Tr,{key:"expandable-row",isExpanded:h(e.key)},n().createElement(p.Td,{dataLabel:"Description",colSpan:6},n().createElement(f.g,null,e.expandedSection.content)))))))}},54830:(e,t,a)=>{"use strict";a.r(t),a.d(t,{RunItYourselfTable:()=>p});var l=a(93345),n=a.n(l),r=a(69673),i=a(15402),s=a(76792),o=a(2442),u=a(97192),d=a(11318),c=a(69304),m=a(65411);const p=()=>{const e="Cloud provider",t="Installation options",a=[{key:"alibaba",provider:n().createElement(n().Fragment,null,n().createElement(c.Link,{to:"/install/alibaba",className:"pf-v5-u-mr-xs"},"Alibaba Cloud"),n().createElement(m.A,{className:"pf-v5-u-ml-md pf-v5-u-display-inline"})),options:"Pre-existing infrastructure"},{key:"aws_x86_64",provider:n().createElement(c.Link,{to:"/install/aws"},"AWS (x86_64)"),options:"Full stack automation and pre-existing infrastructure"},{key:"aws_arm",provider:n().createElement(c.Link,{to:"/install/aws/arm"},"AWS (ARM)"),options:"Full stack automation and pre-existing infrastructure"},{key:"aws_multi",provider:n().createElement(c.Link,{to:"/install/aws/multi/installer-provisioned"},"AWS (multi-architecture)"),options:"Full stack automation"},{key:"azure_x86_64",provider:n().createElement(c.Link,{to:"/install/azure"},"Azure (x86_64)"),options:"Full stack automation and pre-existing infrastructure"},{key:"azure_arm",provider:n().createElement(c.Link,{to:"/install/azure/arm/installer-provisioned"},"Azure (ARM)"),options:"Full stack automation"},{key:"azure_multi",provider:n().createElement(c.Link,{to:"/install/azure/multi/installer-provisioned",className:"pf-v5-u-mr-xs"},"Azure (multi-architecture)"),options:"Full stack automation"},{key:"google",provider:n().createElement(c.Link,{to:"/install/gcp"},"Google Cloud"),options:"Full stack automation and pre-existing infrastructure"},{key:"ibm",provider:n().createElement(c.Link,{to:"/install/ibm-cloud"},"IBM Cloud"),options:"Full stack automation"},{key:"baremetal",provider:n().createElement(c.Link,{to:"/install/metal/multi"}," Baremetal (multi-architecture)"),options:"Pre-existing infrastructure"},{key:"ibm_powervs",provider:n().createElement(c.Link,{to:"/install/powervs/installer-provisioned"},"IBM PowerVS (ppc64le)"),options:"Full stack automation"},{key:"agnostic",provider:n().createElement(c.Link,{to:"/install/platform-agnostic"},"Platform agnostic (x86_64)"),options:"Pre-existing infrastructure"},{key:"oracle",provider:n().createElement(c.Link,{to:"/install/oracle-cloud"},"Oracle Cloud Infrastructure (virtual machines)"),options:"Pre-existing infrastructure"}];return n().createElement(r.X,{"aria-label":"Run it yourself"},n().createElement(i.d,null,n().createElement(s.Tr,null,n().createElement(o.Th,null,e),n().createElement(o.Th,null,t))),n().createElement(u.N,null,a.map((a=>n().createElement(s.Tr,{key:a.key},n().createElement(d.Td,{dataLabel:e},a.provider),n().createElement(d.Td,{dataLabel:t},a.options))))))}},2333:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(71468),i=a(23285),s=a(27241),o=a(25514);const u=({view:e,isDisabled:t})=>{const a=n().useRef(null),l=(0,r.wA)(),[u,d]=n().useState(""),[c,m]=n().useState(void 0),p=(0,o.useGlobalState)((t=>t.viewOptions[e].filter));return n().useLayoutEffect((()=>{var e;!t&&p&&(null===(e=a.current)||void 0===e||e.focus())}),[t,p]),n().useEffect((()=>{p&&d(p)}),[]),n().createElement(i.ks,{type:"text","aria-label":"Filter",className:"cluster-list-filter",ref:a,value:u,placeholder:"Filter by name or ID...","data-testid":"filterInputClusterList",onChange:(t,a)=>{return n=a.trim(),void 0!==c&&clearTimeout(c),m(setTimeout((()=>l((0,s.onListFilterSet)(n,e))),300)),void d(n);var n},isDisabled:t})}},49422:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(71468),i=a(10138),s=a(25514);const o=({regionID:e,cloudProviderID:t})=>{const a=(0,r.wA)(),l=(0,s.useGlobalState)((e=>e.cloudProviders));return n().useEffect((()=>{l.pending||l.error||l.fulfilled||a((0,i.getCloudProviders)())}),[a,l]),n().createElement(n().Fragment,null,l.fulfilled&&l.providers[t]?l.providers[t].display_name:t.toUpperCase(),"N/A"!==e&&` (${e})`)}},30535:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var l=a(93345),n=a.n(l),r=a(97948),i=a(99145),s=a(16161),o=a(83340),u=a(19202),d=a(19598),c=a(31003),m=a(73690),p=a(21888),f=a(74972),E=a(48266),g=a(48525),v=a(44027),h=a(23271);const b=({clusterState:e,animated:t=!1,limitedSupport:a})=>{const l={className:"clusterstate",size:"md"};if(a&&e!==h.default.ERROR)return n().createElement(r.I,{...l},n().createElement(c.ExclamationCircleIcon,{color:g.global_danger_color_100.value,"data-icon-type":"limited-support"}));switch(e){case h.default.WAITING:case h.default.PENDING:case h.default.INSTALLING:case h.default.VALIDATING:case h.default.UPDATING:case h.default.POWERING_DOWN:case h.default.RESUMING:return t?n().createElement(i.y,{...l,size:i.J.md}):n().createElement(r.I,{...l},n().createElement(p.InProgressIcon,{"data-icon-type":"inprogress"}));case h.default.DISCONNECTED:return n().createElement(r.I,{...l},n().createElement(d.DisconnectedIcon,null));case h.default.READY:return n().createElement(r.I,{...l},n().createElement(u.CheckCircleIcon,{color:v.global_success_color_100.value,"data-icon-type":"check"}));case h.default.UNINSTALLING:return t?n().createElement(i.y,{...l,size:i.J.md}):n().createElement(r.I,{...l},n().createElement(p.InProgressIcon,{"data-icon-type":"inprogress"}));case h.default.ERROR:return n().createElement(r.I,{...l},n().createElement(c.ExclamationCircleIcon,{color:g.global_danger_color_100.value,"data-icon-type":"exclamation"}));case h.default.DEPROVISIONED:return n().createElement(r.I,{...l},n().createElement(o.tP,{"data-icon-type":"deprovisioned"}));case h.default.ARCHIVED:return n().createElement(r.I,{...l},n().createElement(m.uG,{"data-icon-type":"archived"}));case h.default.HIBERNATING:return n().createElement(r.I,{...l},n().createElement(s.AsleepIcon,null));case h.default.STALE:return n().createElement(r.I,{...l},n().createElement(f.gO,null));default:return n().createElement(r.I,{...l},n().createElement(E.UnknownIcon,{"data-icon-type":"unknown"}))}}},10501:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(72432);const i=({clusterStatus:e,showErrorCode:t,showDescription:a})=>{const{description:l,provision_error_code:i,provision_error_message:s}=e,o=[t&&i,s,a&&l].filter(Boolean).join(" ");return n().createElement(r.A,null,o)}},76480:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var l=a(93345),n=a.n(l),r=a(71468),i=a(96998),s=a(25514),o=a(55816),u=a(28592),d=a(91089),c=a(43775),m=a(61934);const p=({onClose:e})=>{const t=(0,s.useGlobalState)((e=>e.modal.data)),a=(0,r.wA)(),{updateDeleteProtection:c}=(0,s.useGlobalState)((e=>e.deleteProtection)),{protectionEnabled:p}=t,f=(0,l.useCallback)((()=>{a((0,d.closeModal)()),a((0,m.xJ)())}),[a]);return(0,l.useEffect)((()=>{c.fulfilled&&(e(),f())}),[c,e,f]),n().createElement(u.default,{title:(p?"Disable":"Enable")+" deletion protection",onClose:f,primaryText:p?"Disable":"Enable",primaryVariant:p?"danger":"primary",onPrimaryClick:()=>{a((0,m.y8)(t.clusterID,!p))},onSecondaryClick:f,"data-testid":"delete-protection-dialog",titleIconVariant:"warning",isPending:c.pending},n().createElement(i.s,{direction:{default:"column"}},c.error?n().createElement(o.default,{message:`Error ${p?"disabling":"enabling"} Delete Protection`,response:c}):null,n().createElement("p",null,p?"Disabling the Deletion Protection will allow you to delete this cluster. Cluster deletion can result in data loss or service disruption.":"The cluster cannot be deleted if the Deletion Protection is enabled to safeguard from accidental deletion. You can disable the Deletion Protection at any time."),n().createElement("br",null),n().createElement("p",null,n().createElement("b",null,(p?"Disable":"Enable")+" Deletion Protection for this cluster?"))))};p.modalName=c.default.DELETE_PROTECTION;const f=p},25670:(e,t,a)=>{"use strict";a.d(t,{_z:()=>s,gf:()=>i,rL:()=>o});var l=a(93345),n=a.n(l),r=a(55213);const i='Format should be a comma-separated list of "<gpu_type>:<min>:<max>"',s=n().createElement(n().Fragment,null,'Minimum and maximum number of different GPUs in cluster. Cluster autoscaler will not scale the cluster beyond these numbers. Format should be a comma-separated list of "<gpu_type>:<min>:<max>".'),o=()=>n().createElement(r.default,{title:"GPU",maxWidth:"30rem",hint:s})},13605:(e,t,a)=>{"use strict";a.d(t,{Gm:()=>o,nY:()=>i,rA:()=>s});var l=a(93345),n=a.n(l),r=a(55213);const i="Format should be a comma-separated list of labels.",s=n().createElement(n().Fragment,null,"Define a node label that should be ignored when considering node group similarity. Format should be a comma-separated list of labels."),o=()=>n().createElement(r.default,{title:"Balancing ignored labels",maxWidth:"30rem",hint:s})},10050:(e,t,a)=>{"use strict";a.d(t,{Ax:()=>s,_d:()=>i,kD:()=>o});var l=a(58156),n=a.n(l);const r=(0,a(11611).getDefaultClusterAutoScaling)(),i=[{label:"log-verbosity",name:"log_verbosity",type:"number",defaultValue:r.log_verbosity},{label:"skip-nodes-with-local-storage",name:"skip_nodes_with_local_storage",type:"boolean",defaultValue:r.skip_nodes_with_local_storage},{label:"max-pod-grace-period",name:"max_pod_grace_period",type:"number",defaultValue:r.max_pod_grace_period},{label:"max-node-provision-time",name:"max_node_provision_time",type:"time",defaultValue:r.max_node_provision_time},{label:"pod-priority-threshold",name:"pod_priority_threshold",type:"number",defaultValue:r.pod_priority_threshold},{label:"ignore-daemonsets-utilization",name:"ignore_daemonsets_utilization",type:"boolean",defaultValue:r.ignore_daemonsets_utilization},{label:"balance-similar-node-groups",name:"balance_similar_node_groups",type:"boolean",defaultValue:r.balance_similar_node_groups}],s=[{label:"cores-total-min",name:"resource_limits.cores.min",type:"min-max",defaultValue:r.resource_limits.cores.min},{label:"cores-total-max",name:"resource_limits.cores.max",type:"min-max",defaultValue:r.resource_limits.cores.max},{label:"memory-total-min",name:"resource_limits.memory.min",type:"min-max",defaultValue:n()(r,"resource_limits.memory.min",0)},{label:"memory-total-max",name:"resource_limits.memory.max",type:"min-max",defaultValue:n()(r,"resource_limits.memory.max",0)},{label:"max-nodes-total",name:"resource_limits.max_nodes_total",type:"number",defaultValue:n()(r,"resource_limits.max_nodes_total",0)}],o=[{label:"scale-down-enabled",name:"scale_down.enabled",type:"boolean",defaultValue:r.scale_down.enabled},{label:"scale-down-utilization-threshold",name:"scale_down.utilization_threshold",type:"number",defaultValue:r.scale_down.utilization_threshold},{label:"scale-down-unneeded-time",name:"scale_down.unneeded_time",type:"time",defaultValue:r.scale_down.unneeded_time},{label:"scale-down-delay-after-add",name:"scale_down.delay_after_add",type:"time",defaultValue:r.scale_down.delay_after_add},{label:"scale-down-delay-after-delete",name:"scale_down.delay_after_delete",type:"time",defaultValue:r.scale_down.delay_after_delete},{label:"scale-down-delay-after-failure",name:"scale_down.delay_after_failure",type:"time",defaultValue:r.scale_down.delay_after_failure}]},43445:(e,t,a)=>{"use strict";a.r(t),a.d(t,{EditClusterAutoScalerForDay2:()=>Y,default:()=>K});var l=a(71468),n=a(63354),r=a(17384),i=a(53207),s=a(62180),o=a(11611),u=a(43775),d=a(14419),c=a(85825),m=a(91089),p=a(93345),f=a.n(p),E=a(21702),g=a(22069),v=a(22546),h=a(83349),b=a(79752),S=a(30620),_=a(23215),C=a(56780),y=a(65702),I=a(84037),A=a(25670),R=a(13605),T=a(55816),O=a(8888),P=a(28592),D=a(38871),L=a(88145),N=a(10050),w=a(96998),M=a(91332),k=a(18960),F=a(38715),x=a(55213);const G=({label:e,helpText:t,meta:{error:a,touched:l},input:n,disabled:r,isFormGroup:i=!0,isRequired:s,formGroupClass:o,extendedHelpText:u,...d})=>{const[c,m]=f().useState(!1),p=f().createElement(M.l,{...n,id:n.name,name:n.name,isDisabled:r,isOpen:c,selections:`${Boolean(n.value)}`,onToggle:(e,t)=>m(t),onSelect:(e,t)=>{n.onChange(t),m(!1)},onBlur:e=>e.stopPropagation(),...d},f().createElement(k.O,{value:"true"},f().createElement(w.s,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsSm"},alignItems:{default:"alignItemsCenter"}},"true")),f().createElement(k.O,{value:"false"},f().createElement(w.s,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsSm"},alignItems:{default:"alignItemsCenter"}},"false")));return i?f().createElement(C.g,{fieldId:n.name,label:e,isRequired:s,labelIcon:u?f().createElement(x.default,{hint:u}):void 0,className:o},p,f().createElement(F.FormGroupHelperText,{touched:l,error:a},t)):p},U=({fieldName:e,fieldProps:t})=>f().createElement(E.A,{component:G,parse:e=>"true"===e,name:e,...t}),j=e=>t=>Number.isNaN(t)?e:Number(t),H=e=>{let t={type:"text",validate:void 0,parse:void 0};switch(e.type){case"time":t.validate=I.clusterAutoScalingValidators.k8sTimeParameter;break;case"number":{let a;a="scale_down.utilization_threshold"===e.name?I.clusterAutoScalingValidators.k8sScaleDownUtilizationThresholdParameter:"log_verbosity"===e.name?I.clusterAutoScalingValidators.k8sLogVerbosityParameter:"pod_priority_threshold"===e.name?void 0:I.clusterAutoScalingValidators.k8sNumberParameter,t={type:"number",parse:j(e.defaultValue),validate:a};break}case"min-max":t={type:"number",parse:j(e.defaultValue),validate:I.clusterAutoScalingValidators.k8sMinMaxParameter}}return t},V=(e,t)=>{if("boolean"===e.type){const a={label:e.label,type:e.type,isRequired:!0,isDisabled:t,helpText:f().createElement("span",{className:"custom-help-text"},"Default value: ",`${e.defaultValue}`)};return f().createElement(U,{fieldName:`cluster_autoscaling.${e.name}`,fieldProps:a})}return f().createElement(E.A,{component:D.default,name:`cluster_autoscaling.${e.name}`,label:e.label,...H(e),isRequired:!0,props:{disabled:t||!1},helpText:f().createElement("span",{className:"custom-help-text"},"Default value: ",e.defaultValue)})};function q({isOpen:e,isRosa:t,isWizard:a,closeModal:n,change:r,pristine:i,onSubmitAutoScaling:s,autoScalingValues:u,autoScalingErrors:d,hasAutoscalingMachinePools:m,editAction:p,clusterId:w}){var M;const k=d&&Object.keys(d).length>0,F=!1===(null===(M=u.scale_down)||void 0===M?void 0:M.enabled),x=!a&&(null==p?void 0:p.pending),G=a||u.isSelected,U=!G||x,j=(0,l.wA)();f().useEffect((()=>{j(c.clusterAutoscalerActions.getClusterAutoscaler(w))}),[w,j]);let H={text:"Close",isClose:!0,isDisabled:a&&k};x?H={text:"Saving...",isClose:!1,isDisabled:!0}:a||!u.isSelected||i||(H={text:"Save",isClose:!1,isDisabled:k});const q=e=>{H.isClose?n():s("update"),e&&e.preventDefault()};return f().createElement(P.default,{variant:"large",isOpen:e,title:"Edit cluster autoscaling settings","data-testid":"cluster-autoscaling-dialog",primaryText:H.text,secondaryText:"Revert all to defaults",tertiaryText:"Cancel",onPrimaryClick:q,onSecondaryClick:()=>{const e=(0,o.getDefaultClusterAutoScaling)();r("cluster_autoscaling",{...e,isSelected:u.isSelected})},onTertiaryClick:n,isPrimaryDisabled:H.isDisabled,isSecondaryDisabled:!G||x,showClose:!a&&!x,showTertiary:!a,onClose:n},f().createElement(f().Fragment,null,f().createElement(g.E,{component:"p"},"The cluster autoscaler adjusts the size of a cluster to meet its current deployment needs. Learn more about"," ",f().createElement(O.default,{href:t?y.default.ROSA_CLUSTER_AUTOSCALING:y.default.OSD_CLUSTER_AUTOSCALING},"cluster autoscaling")," ","or",f().createElement(O.default,{href:y.default.APPLYING_AUTOSCALING_API_DETAIL}," APIs"),"."),!a&&f().createElement("div",{className:"pf-v5-u-mt-md"},f().createElement(v.d,{className:"pf-v5-u-ml-0 pf-v5-u-mb-md",label:"Autoscale cluster",labelOff:"Autoscale cluster",isChecked:G,hasCheckIcon:!0,isDisabled:x,onChange:()=>{a?r("autoscalingEnabled",!1):s(G?"disable":"enable")}}),(null==p?void 0:p.error)?f().createElement(T.default,{message:"Failed to update autoscaler",response:p}):f().createElement(L.A,{hasClusterAutoScaler:G,hasAutoscalingMachinePools:m,isEnabledOnCurrentPool:!1,warningType:"clusterView"})),f().createElement(h.l,{onSubmit:q,className:"cluster-autoscaling-form"},f().createElement(b.y,{title:"General settings",className:a?"":"autoscaler-inner-section"},f().createElement(S.x,{hasGutter:!0},N._d.map((e=>f().createElement(_.E,{span:6,key:e.name},V(e,U)))),f().createElement(_.E,{span:6},f().createElement(C.g,{fieldId:"cluster_autoscaling.balancing_ignored_labels",label:"balancing-ignored-labels",labelIcon:f().createElement(R.Gm,null),isStack:!0},f().createElement(E.A,{component:D.default,name:"cluster_autoscaling.balancing_ignored_labels",type:"text",disabled:U,helpText:R.nY,validate:I.validateListOfBalancingLabels}))))),f().createElement(b.y,{title:"Resource limits",className:a?"":"autoscaler-inner-section"},f().createElement(S.x,{hasGutter:!0},N.Ax.map((e=>f().createElement(_.E,{span:6,key:e.name},V(e,U)))),f().createElement(_.E,{span:6},f().createElement(C.g,{fieldId:"cluster_autoscaling.resource_limits.gpus",label:"GPUs",labelIcon:f().createElement(A.rL,null),isStack:!0},f().createElement(E.A,{component:D.default,name:"cluster_autoscaling.resource_limits.gpus",type:"text",disabled:U,helpText:A.gf,validate:I.clusterAutoScalingValidators.k8sGpuParameter}))))),f().createElement(b.y,{title:"Scale down configuration",className:a?"":"autoscaler-inner-section"},f().createElement(S.x,{hasGutter:!0},N.kD.map((e=>{const t=U||F&&"scale_down.enabled"!==e.name;return f().createElement(_.E,{span:6,key:e.name},V(e,t))})))))))}q.modalName=u.default.EDIT_CLUSTER_AUTOSCALING_V1;const z=q,B="CreateCluster",W="EditClusterAutoScaler",$=(0,n.A)({form:W,enableReinitialize:!0})(z),Y=(0,l.Ng)(((e,t)=>{const a=(0,r.A)(W)(e),l=(0,i.A)(W)||{},n={...t.clusterAutoscalerResponse.getAutoscaler.data||(0,o.getDefaultClusterAutoScaling)(),isSelected:t.clusterAutoscalerResponse.hasAutoscaler};return{isOpen:(0,d.default)(e,u.default.EDIT_CLUSTER_AUTOSCALING_V1),autoScalingValues:l(e,"cluster_autoscaling")||n,autoScalingErrors:a.cluster_autoscaling||{},initialValues:{cluster_autoscaling:n},editAction:t.clusterAutoscalerResponse.editAction}}),((e,t)=>({onSubmitAutoScaling:a=>e(((l,n)=>{const r=(0,s.A)("EditClusterAutoScaler")(n()).cluster_autoscaling,{clusterId:i}=t;switch(a){case"enable":e(c.clusterAutoscalerActions.enableClusterAutoscaler(i));break;case"disable":e(c.clusterAutoscalerActions.disableClusterAutoscaler(i));break;default:{const t=(0,o.getClusterAutoScalingSubmitSettings)(r);e(c.clusterAutoscalerActions.updateClusterAutoscaler(i,t))}}})),closeModal:()=>{e(c.clusterAutoscalerActions.clearLastAutoscalerActionResult()),e((0,m.closeModal)())}})))($),K=(0,l.Ng)((e=>{const t=(0,r.A)(B)(e),a=(0,i.A)(B)||{};return{isOpen:(0,d.default)(e,u.default.EDIT_CLUSTER_AUTOSCALING_V1),autoScalingValues:a(e,"cluster_autoscaling"),autoScalingErrors:t.cluster_autoscaling||{}}}),(e=>({closeModal:()=>e((0,m.closeModal)())})))(z)},21508:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var l=a(93345),n=a.n(l),r=a(71468),i=a(83349),s=a(51976),o=a(22069),u=a(6071),d=a(53302),c=a(25514),m=a(11009),p=a(28592),f=a(91089),E=a(43775),g=a(2358),v=a(55816);const h=({requestState:e,onFulfilled:t})=>((0,l.useEffect)((()=>{e.fulfilled&&t()}),[t,e.fulfilled,e.errorMessage]),e.error?n().createElement(v.default,{message:"Error updating subscription settings",response:e}):null),b=({onClose:e})=>{const t=(0,r.wA)(),a=(0,c.useGlobalState)((e=>{var t,a,l;return null!==(l=null===(a=null===(t=null==e?void 0:e.modal)||void 0===t?void 0:t.data)||void 0===a?void 0:a.subscription)&&void 0!==l?l:{}})),[E,v]=(0,l.useState)({...a,isValid:!0}),b=(0,c.useGlobalState)((e=>{var t,a;return null===(a=null===(t=null==e?void 0:e.modal)||void 0===t?void 0:t.data)||void 0===a?void 0:a.shouldDisplayClusterName})),S=(0,c.useGlobalState)((e=>{var t;return(0,u.default)(null===(t=null==e?void 0:e.modal)||void 0===t?void 0:t.data)})),_=(0,c.useGlobalState)((e=>e.subscriptionSettings.requestState)),C=()=>{((e,a)=>{const l={...a};a.socket_total&&"Sockets"===a.system_units&&(l.socket_total=parseInt(`${a.socket_total}`,10),l.cpu_total=l.socket_total),a.cpu_total&&"Cores/vCPU"===a.system_units&&(l.cpu_total=parseInt(`${a.cpu_total}`,10),l.socket_total=1),t((0,d.pu)(e,l))})(a.id,E)},y=()=>{t((0,d.H7)()),t((0,f.closeModal)())};return n().createElement(p.default,{title:"Subscription settings",secondaryTitle:b?S:void 0,width:810,variant:"large",onClose:y,primaryText:"Save",secondaryText:"Cancel",onPrimaryClick:C,onSecondaryClick:y,isPrimaryDisabled:_.pending||!E.isValid,isPending:_.pending},n().createElement(h,{requestState:_,onFulfilled:()=>{y(),e()}}),n().createElement(i.l,{onSubmit:e=>{C(),e.preventDefault()},className:"subscription-settings form"},n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.p},"Edit your subscription settings to receive the correct level of cluster support.")),n().createElement(g.A,{initialSettings:a,onSettingsChange:v,canSubscribeStandardOCP:(0,m.hasCapability)(a,m.subscriptionCapabilities.SUBSCRIBED_OCP),canSubscribeMarketplaceOCP:(0,m.hasCapability)(a,m.subscriptionCapabilities.SUBSCRIBED_OCP_MARKETPLACE)})))};b.modalName=E.default.EDIT_SUBSCRIPTION_SETTINGS;const S=b},2358:(e,t,a)=>{"use strict";a.d(t,{A:()=>x});var l=a(93345),n=a.n(l),r=a(9704),i=a(56780),s=a(75166),o=a(38715),u=a(77218),d=a(59067),c=a(70460),m=a(97948),p=a(40167),f=a(65702);const E=({title:e})=>n().createElement(c.F,{id:"subscription-settings-cluster-billing-model-alert",variant:"info",isInline:!0,title:e},n().createElement("a",{href:f.default.OCM_DOCS_SUBSCRIPTIONS,target:"_blank",rel:"noreferrer noopener"},"Learn more about subscriptions"," ",n().createElement(m.I,{size:"sm"},n().createElement(p.ExternalLinkAltIcon,{color:"#0066cc"}))));var g=a(15758),v=a(55213);const h="subscription-settings-label-tooltip-icon",b="Annual: Fixed capacity subscription from Red Hat",S="On-Demand (Hourly): Flexible usage billed through Red Hat Marketplace",_=[s.subscriptionSettings.SUPPORT_LEVEL,s.subscriptionSettings.USAGE,s.subscriptionSettings.SERVICE_LEVEL,s.subscriptionSettings.SYSTEM_UNITS,s.subscriptionSettings.CLUSTER_BILLING_MODEL],C=e=>e.system_units===d.SubscriptionCommonFields.system_units.SOCKETS?"Sockets":"Cores or vCPUs",y=(e,t)=>{const a=t||(e=>e.system_units===d.SubscriptionCommonFields.system_units.SOCKETS?e.socket_total:e.cpu_total)(e),l=C(e);return/^\d+$/.test(`${a}`)?+a<1?{isValid:!1,errorMsg:`${l} value must be an integer number greater than 0.`}:{isValid:!0,errorMsg:""}:{isValid:!1,errorMsg:`${l} value can only be a positive integer number.`}},I=(e,t)=>(0,r.pick)(t,Object.keys(null!=e?e:{})),A=({minVal:e,isDisconnected:t,subscription:a,cpuSocketValue:i,cpuSocketLabel:o,isDisabled:u,handleChange:c})=>{const m=(0,l.useCallback)((e=>(t,l)=>{if(l){const t=(0,r.get)(a,l),{isValid:n}=y(a,t);c(l,n?parseInt(t+e,10):1)}}),[c,a]),p=(0,l.useCallback)((e=>{const{name:t,value:l}=e.target,n=Number(l),{isValid:r}=y(a,n);c(t,r?parseInt(`${n}`,10):l)}),[c,a]);return t?n().createElement(g.Q,{value:i,min:e,inputName:a.system_units===d.SubscriptionCommonFields.system_units.SOCKETS?s.subscriptionSettings.SOCKET_TOTAL:s.subscriptionSettings.CPU_TOTAL,isDisabled:u,onMinus:m(-1),onPlus:m(1),onChange:p,inputAriaLabel:a.system_units===d.SubscriptionCommonFields.system_units.SOCKETS?"Number of sockets (excluding control plane nodes)":"Number of compute cores (excluding control plane nodes)",minusBtnAriaLabel:"decrement the number by 1",plusBtnAriaLabel:"increment the number by 1",widthChars:5}):n().createElement(n().Fragment,null,n().createElement("span",{id:"cpu-socket-value"},`${i} ${o}`),n().createElement(v.default,{id:"cpu-socket-value-hint",hint:"This data is gathered directly from the telemetry metrics submitted by the cluster and cannot be changed.",iconClassName:h,hasAutoWidth:!0,maxWidth:"30.0rem"}))};var R=a(51976),T=a(22069);const O=()=>n().createElement(n().Fragment,null,n().createElement("span",null,"Support type"),n().createElement(v.default,{id:"subscripiton-settings-service-level-hit",headerContent:"Support type",hint:n().createElement(R.n,null,n().createElement(T.E,{component:T.Y.p},"Who you can call for primary support.")),iconClassName:h}));var P=a(8888);const D=()=>n().createElement(n().Fragment,null,n().createElement("span",null,"Service level agreement (SLA)"),n().createElement(v.default,{id:"subscripiton-settings-support-level-hint",headerContent:"Service level agreement (SLA)",hint:n().createElement(R.n,null,n().createElement(T.E,{component:T.Y.p},"How your subscription is supported, including the hours of support coverage and support ticket response times."),n().createElement(T.E,{component:T.Y.p},n().createElement(P.default,{href:"https://access.redhat.com/support/"},"Production Support Terms of Service"))),iconClassName:h,hasAutoWidth:!0,maxWidth:"30.0rem"})),L=()=>n().createElement(n().Fragment,null,n().createElement("span",null,"Subscription units"),n().createElement(v.default,{id:"subscripiton-settings-system-units-hint",headerContent:"Subscription units",hint:n().createElement(R.n,null,n().createElement(T.E,{component:T.Y.p},"How usage is measured for your subscription.")),iconClassName:h}));var N=a(92292);const w=({isShown:e,startPosition:t=0,additionalGroupSelectors:a=""})=>{const l=`${a} .pf-v5-c-form__group-control`;return e?n().createElement(n().Fragment,null,[0,1,2,3].map((e=>n().createElement(N.m,{key:e,content:n().createElement("div",null,"Red Hat Marketplace subscription settings are pre-set and cannot be altered."),position:"right",triggerRef:()=>{const a=document.querySelectorAll(l),n=t+e;return n>=0&&n<a.length?a[n]:(console.error(`Edit Subscription tooltip: error selecting ${l} (${n})`),null)}})))):null},M=()=>n().createElement(n().Fragment,null,n().createElement("span",null,"Cluster usage"),n().createElement(v.default,{id:"subscripiton-settings-usage-hint",headerContent:"Cluster usage",hint:n().createElement(R.n,null,n().createElement(T.E,{component:T.Y.p},"How you are using this cluster.")),iconClassName:h})),k=(e,t,a)=>{const l=(0,r.get)(e,t);let i=[];switch(t){case s.subscriptionSettings.SUPPORT_LEVEL:i=[{label:"Premium",value:d.SubscriptionCommonFields.support_level.PREMIUM},{label:"Standard",value:d.SubscriptionCommonFields.support_level.STANDARD},{label:"Self-Support",value:d.SubscriptionCommonFields.support_level.SELF_SUPPORT}],l!==d.SubscriptionCommonFields.support_level.EVAL&&e.id?l===d.SubscriptionCommonFields.support_level.NONE&&i.push({label:n().createElement("span",{className:"subscription-settings expired-eval-option"},"Expired evaluation"),value:d.SubscriptionCommonFields.support_level.NONE}):i.push({label:"Self-Support 60-day evaluation",value:d.SubscriptionCommonFields.support_level.EVAL});break;case s.subscriptionSettings.USAGE:i=[{label:"Production",value:d.SubscriptionCommonFields.usage.PRODUCTION,isDefault:!0},{label:"Development/Test",value:d.SubscriptionCommonFields.usage.DEVELOPMENT_TEST},{label:"Disaster Recovery",value:d.SubscriptionCommonFields.usage.DISASTER_RECOVERY}];break;case s.subscriptionSettings.SERVICE_LEVEL:i=[{label:"Red Hat support (L1-L3)",value:d.SubscriptionCommonFields.service_level.L1_L3,isDefault:!0},{label:"Partner support (L3)",value:d.SubscriptionCommonFields.service_level.L3_ONLY}];break;case s.subscriptionSettings.SYSTEM_UNITS:i=[{label:"Cores or vCPUs",value:d.SubscriptionCommonFields.system_units.CORES_V_CPU,isDefault:!0},{label:"Sockets",value:d.SubscriptionCommonFields.system_units.SOCKETS}];break;case s.subscriptionSettings.CLUSTER_BILLING_MODEL:i=[{label:b,value:s.billingModels.STANDARD},{label:S,value:s.billingModels.MARKETPLACE}],a?i[1].isDefault=!0:i[0].isDefault=!0}const o=(0,r.findIndex)(i,{value:l});if(o>=0)i[o].isChecked=!0;else{const e=(0,r.findIndex)(i,"isDefault");e>=0&&(i[e].isChecked=!0)}return i},F=e=>_.reduce(((t,a)=>({...t,[`${a}`]:k(e,a)})),{}),x=({canSubscribeStandardOCP:e,canSubscribeMarketplaceOCP:t,initialSettings:a,onSettingsChange:c})=>{const m=["subscription-settings","radio-group"].join(" "),[p,f]=(0,l.useState)(a),[g,v]=(0,l.useState)(),h=(0,l.useMemo)((()=>!e&&!t),[t,e]),_=(0,l.useMemo)((()=>p.cluster_billing_model===s.billingModels.MARKETPLACE),[p.cluster_billing_model]),R=(0,l.useMemo)((()=>{var e;return![d.SubscriptionCommonFields.support_level.PREMIUM,d.SubscriptionCommonFields.support_level.STANDARD,d.SubscriptionCommonFields.support_level.SELF_SUPPORT].includes(null!==(e=p.support_level)&&void 0!==e?e:d.SubscriptionCommonFields.support_level.NONE)}),[p.support_level]),T=(0,l.useMemo)((()=>p.status===d.SubscriptionCommonFields.status.DISCONNECTED||!p.id),[p.id,p.status]),P=(0,l.useMemo)((()=>e&&t&&s.billingModels.STANDARD!==a.cluster_billing_model&&s.billingModels.MARKETPLACE!==a.cluster_billing_model),[t,e,a.cluster_billing_model]),N=(0,l.useMemo)((()=>T?y(p).errorMsg:""),[T,p]),k=(0,l.useMemo)((()=>{const e=T?p.cpu_total:a.cpu_total;return null!=e?e:0}),[a.cpu_total,T,p.cpu_total]),x=(0,l.useMemo)((()=>{const e=T?p.socket_total:a.socket_total;return null!=e?e:0}),[a.socket_total,T,p.socket_total]),G=(0,l.useMemo)((()=>p.system_units===d.SubscriptionCommonFields.system_units.SOCKETS?x:k),[k,x,p.system_units]),U=(0,l.useMemo)((()=>k||x),[k,x]),j=(0,l.useMemo)((()=>C(p)),[p]),H=(0,l.useMemo)((()=>((e,t,a,l)=>{if(!a)switch(!0){case t===s.billingModels.STANDARD:return`Cluster subscription type is ${b}`;case t===s.billingModels.MARKETPLACE||e:return`Cluster subscription type is ${S}`;case l:return`Disconnected clusters subscription type is ${b}`;default:return`Cluster subscription type is ${b}`}return"Your subscription type can't be altered after you set it."})(t,a.cluster_billing_model,P,T)),[t,a.cluster_billing_model,P,T]),V=(0,l.useCallback)(((e,t)=>{var a;let l=!0;[d.SubscriptionCommonFields.support_level.PREMIUM,d.SubscriptionCommonFields.support_level.STANDARD,d.SubscriptionCommonFields.support_level.SELF_SUPPORT].includes(null!==(a=null==t?void 0:t.support_level)&&void 0!==a?a:d.SubscriptionCommonFields.support_level.NONE)||(l=!1),l&&T&&(l=y(t).isValid),c({...I(e,t),isValid:l})}),[T,c]),q=(0,l.useCallback)(((e,t,l)=>{if(t===s.subscriptionSettings.SUPPORT_LEVEL&&l===s.billingModels.MARKETPLACE){const t={...a,support_level:d.SubscriptionCommonFields.support_level.PREMIUM,service_level:d.SubscriptionCommonFields.service_level.L1_L3,usage:d.SubscriptionCommonFields.usage.PRODUCTION,system_units:d.SubscriptionCommonFields.system_units.CORES_V_CPU,cluster_billing_model:s.billingModels.MARKETPLACE};v(F(t)),V(e,t)}else f({...p,[`${t}`]:l}),V(e,{...p,[`${t}`]:l})}),[a,V,p]),z=(0,l.useCallback)((e=>{var t,l;const n=F(e);T&&(n[s.subscriptionSettings.CPU_TOTAL]=null!==(t=a.cpu_total)&&void 0!==t?t:1,n[s.subscriptionSettings.SOCKET_TOTAL]=null!==(l=a.socket_total)&&void 0!==l?l:1,f({...e,[s.subscriptionSettings.CPU_TOTAL]:n[s.subscriptionSettings.CPU_TOTAL],[s.subscriptionSettings.SOCKET_TOTAL]:n[s.subscriptionSettings.SOCKET_TOTAL]})),v(n),e.cluster_billing_model===s.billingModels.MARKETPLACE?q(n,s.subscriptionSettings.CLUSTER_BILLING_MODEL,s.billingModels.MARKETPLACE):V(n,e)}),[]);return(0,l.useEffect)((()=>{z(a)}),[]),(0,l.useEffect)((()=>{a===p||(0,r.isEqual)(a,p)||(f(a),z(a))}),[z]),(0,l.useEffect)((()=>{g&&Object.keys(g).length&&f(((e,t)=>{let a={...t};return Object.entries(e).forEach((([e,l])=>{if(void 0===(0,r.get)(t,e)&&"number"!=typeof l){const t=l.find((e=>e.isDefault));t&&(a={...a,[`${e}`]:t.value})}})),a})(g,p))}),[g]),g?n().createElement(n().Fragment,null,P?n().createElement(u.ReduxFormRadioGroup,{name:s.subscriptionSettings.CLUSTER_BILLING_MODEL,fieldId:s.subscriptionSettings.CLUSTER_BILLING_MODEL,isRequired:!0,label:"Subscription type",className:m,items:g[s.subscriptionSettings.CLUSTER_BILLING_MODEL],onChange:(e,t)=>q(g,e,t)}):null,h?null:n().createElement(E,{title:H}),n().createElement(u.ReduxFormRadioGroup,{name:s.subscriptionSettings.SUPPORT_LEVEL,fieldId:s.subscriptionSettings.SUPPORT_LEVEL,label:n().createElement(D,null),className:m,items:g[s.subscriptionSettings.SUPPORT_LEVEL],onChange:(e,t)=>q(g,e,t),isDisabled:h||_}),n().createElement(u.ReduxFormRadioGroup,{name:s.subscriptionSettings.SERVICE_LEVEL,fieldId:s.subscriptionSettings.SERVICE_LEVEL,label:n().createElement(O,null),className:m,items:g[s.subscriptionSettings.SERVICE_LEVEL],onChange:(e,t)=>q(g,e,t),isDisabled:h||_||R}),n().createElement(u.ReduxFormRadioGroup,{name:s.subscriptionSettings.USAGE,fieldId:s.subscriptionSettings.USAGE,label:n().createElement(M,null),className:m,items:g[s.subscriptionSettings.USAGE],onChange:(e,t)=>q(g,e,t),isDisabled:h||_||R}),n().createElement(u.ReduxFormRadioGroup,{name:s.subscriptionSettings.SYSTEM_UNITS,fieldId:s.subscriptionSettings.SYSTEM_UNITS,label:n().createElement(L,null),className:m,items:g[s.subscriptionSettings.SYSTEM_UNITS],onChange:(e,t)=>q(g,e,t),isDisabled:h||_||R,isInline:!0}),(h||_||R)&&U?null:n().createElement(i.g,{label:p.system_units===d.SubscriptionCommonFields.system_units.SOCKETS?"Number of sockets (excluding control plane nodes)":"Number of compute cores (excluding control plane nodes)",isRequired:T},n().createElement(A,{minVal:1,isDisconnected:T,subscription:p,cpuSocketValue:G,cpuSocketLabel:j,isDisabled:h||_||R,handleChange:(e,t)=>q(g,e,t)}),n().createElement(o.FormGroupHelperText,{touched:!0,error:N},T?`${p.system_units} value can be any integer larger than 1`:"")),n().createElement(w,{isShown:_,startPosition:P?1:0,additionalGroupSelectors:`.${m}`})):null}},88285:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canSubscribeOCPListFromClusters:()=>i,default:()=>s});var l=a(6924),n=a.n(l),r=a(11009);const i=(e=[])=>{const t=(0,r.haveCapabilities)(e,r.subscriptionCapabilities.SUBSCRIBED_OCP),a=(0,r.haveCapabilities)(e,r.subscriptionCapabilities.SUBSCRIBED_OCP_MARKETPLACE);return n()(t,a,((e,t)=>e||t))},s=e=>{var t,a,l;const i=null!==(l=null===(a=null===(t=null==e?void 0:e.clusters)||void 0===t?void 0:t.clusters)||void 0===a?void 0:a.clusters)&&void 0!==l?l:[],s=(0,r.haveCapabilities)(i,r.subscriptionCapabilities.SUBSCRIBED_OCP),o=(0,r.haveCapabilities)(i,r.subscriptionCapabilities.SUBSCRIBED_OCP_MARKETPLACE);return n()(s,o,((e,t)=>e||t))}},9225:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canSubscribeOCPMultiRegion:()=>i,canSubscribeOCPSelector:()=>r});var l=a(11009);const n=e=>(0,l.hasCapability)(e,l.subscriptionCapabilities.SUBSCRIBED_OCP)||(0,l.hasCapability)(e,l.subscriptionCapabilities.SUBSCRIBED_OCP_MARKETPLACE),r=e=>{var t,a,l;return n(null===(l=null===(a=null===(t=null==e?void 0:e.clusters)||void 0===t?void 0:t.details)||void 0===a?void 0:a.cluster)||void 0===l?void 0:l.subscription)},i=e=>n(null==e?void 0:e.subscription)},62779:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(92292),i=a(97948),s=a(99851),o=a(55611);const u=({item:e="clusters",errorMessage:t})=>n().createElement(r.m,{content:`An error occurred when fetching ${e}${t?`: ${t}`:"."}`,"data-testid":"error-triangle"},n().createElement(i.I,{size:"lg",className:"cluster-error-triangle","aria-label":"Warning","data-testid":"error-triangle-icon"},n().createElement(s.ExclamationTriangleIcon,{color:o.global_warning_color_100.value})))},40902:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(93345),n=a.n(l),r=a(71468),i=a(70460),s=a(69211),o=a(9059),u=a(25514);const d=()=>{const e=(0,r.wA)(),{errorMessage:t,errorTitle:a}=(0,u.useGlobalState)((e=>e.globalError));return t||a?n().createElement(i.F,{variant:"danger",isInline:!0,title:a,actionClose:n().createElement(s.X,{onClose:()=>e((0,o.clearGlobalError)())}),role:"alert"},t):null}},67864:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(83579),o=a(35787),u=a(65702),d=a(8888);const c=()=>n().createElement(d.default,{href:u.default.HIBERNATING_CLUSTER},"Learn more about cluster hibernation"),m=({clusterName:e,isHibernating:t})=>t?n().createElement(r.n,null,n().createElement(i.E,null,"Cluster ",n().createElement("strong",null,e)," will move out of Hibernating state and all cluster operations will be resumed."),n().createElement(c,null)):n().createElement(n().Fragment,null,n().createElement(s.B8,null,n().createElement(o.c,null,"Hibernating clusters is not fully supported under Red Hat Subscription Level Agreements, might not be functionally complete, and is not intended for production use."),n().createElement(o.c,null,"It's recommended to hibernate only clusters that run recoverable workloads.")),n().createElement(c,null),n().createElement(r.n,null,n().createElement(i.E,null,"Are you sure you want to hibernate ",n().createElement("strong",null,e),"?")))},94560:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(93345),n=a.n(l),r=a(96998),i=a(96553),s=a(97948),o=a(10423),u=a(29962),d=a(65411);const c=({title:e})=>n().createElement(r.s,{alignItems:{default:"alignItemsCenter"}},n().createElement(i.Z,null,n().createElement(s.I,{size:"md"},n().createElement(u.InfoCircleIcon,{className:"info"}))),n().createElement(i.Z,null,n().createElement(o.h,{headingLevel:"h2"},e)),n().createElement(i.Z,null,n().createElement(d.A,{className:"pf-v5-u-ml-0"})))},53803:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(93345),n=a.n(l);const r=({clusterName:e})=>n().createElement("p",null,"Moving ",n().createElement("b",null,e)," to Hibernating state is not possible while the cluster is upgrading.")},86510:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(70460),i=a(67209);const s=({clusterName:e,nextRun:t})=>n().createElement(n().Fragment,null,n().createElement("p",null,"Moving ",n().createElement("b",null,e)," cluster to Hibernating state is not possible while there is a scheduled cluster upgrade."),n().createElement(r.F,{variant:"warning",title:n().createElement("p",null,"There is a scheduled update to ",n().createElement(i.A,{type:"exact",date:Date.parse(t)}),". The scheduled update cannot be executed if the cluster is hibernating.")}),n().createElement("p",null,"Try again after the cluster upgrade is done or cancel the upgrade."))},54075:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(93345),n=a.n(l),r=a(23271),i=a(53737);const s=({cluster:e,hasNetworkOndemand:t,hasInflightErrors:a})=>a||e.state===r.default.INSTALLING||e.state===r.default.PENDING||e.state===r.default.VALIDATING||e.state===r.default.WAITING?n().createElement(i.default,{cluster:e,hasNetworkOndemand:t,actionRequiredInitialOpen:!0}):null},7252:(e,t,a)=>{"use strict";function l(e){var t,a,l;const n=null===(l=null===(a=null===(t=e.aws)||void 0===t?void 0:t.sts)||void 0===a?void 0:a.operator_iam_roles)||void 0===l?void 0:l[0].role_arn;return n?n.split(":")[4]:""}function n(e){var t,a,l,n;const r=(null===(a=null===(t=e.aws)||void 0===t?void 0:t.sts)||void 0===a?void 0:a.oidc_endpoint_url)?new URL(null===(n=null===(l=e.aws)||void 0===l?void 0:l.sts)||void 0===n?void 0:n.oidc_endpoint_url):void 0;return r?`${r.host}${r.pathname}`:""}function r(e){return`arn:aws:iam::${l(e)}:oidc-provider/${n(e)}`}a.r(t),a.d(t,{getAWSAccountID:()=>l,getOIDCEndpointNoScheme:()=>n,getOIDCProviderARN:()=>r})},82298:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MachineConfiguration:()=>x});var l=a(93345),n=a.n(l),r=a(90179),i=a.n(r),s=a(42561),o=a.n(s),u=a(90678),d=a(73113),c=a(83349),m=a(35600),p=a(72583),f=a(89217),E=a(19404);const g=()=>n().createElement(u.B,{hasGutter:!0},n().createElement(d.a,null,n().createElement(E.E,{width:"200px",fontSize:"md"})),n().createElement(d.a,null,n().createElement(E.E,{width:"100%",fontSize:"4xl"})),n().createElement(d.a,null,n().createElement(E.E,{width:"200px",fontSize:"4xl",screenreaderText:"Loading PIDs limit"})));var v=a(56780),h=a(51976),b=a(22069),S=a(15758),_=a(31003),C=a(99851),y=a(38715),I=a(55213);const A=e=>{const{value:t,isValid:a,validationMessage:r,isUnsafe:i,minValue:s,maxValue:o,onChange:u,safeMaxValue:d}=e,[c,m]=(0,l.useState)(null!=t?t:""),p=(0,l.useMemo)((()=>i?{helperText:`Setting a PIDs limit higher than ${d.toLocaleString()} on your cluster could potentially cause your workloads to fail unexpectedly.`,icon:n().createElement(C.default,null),status:"warning"}:a?{helperText:`The safe PIDs limit range is ${s.toLocaleString()} - ${d.toLocaleString()}`,icon:null,status:"default"}:{helperText:r,icon:n().createElement(_.default,null),status:"error"}),[i,a,s,d,r]),f=(e,t,a)=>void 0!==t&&void 0!==a?Math.max(Math.min(e,a),t):e<=t?t:e>=a?a:e;return(0,l.useEffect)((()=>{t&&m(t)}),[c,t]),n().createElement(v.g,{required:!0,label:"Pod process IDs limit (PIDs)",labelIcon:n().createElement(I.default,{title:"Pod process IDs limit (PIDs)",hint:n().createElement("div",null,"Process IDs (PIDs) are a fundamental resource on nodes. Openshift allows you to limit the number of processes running in a POD."),buttonAriaLabel:"More info for PIDs limit field"}),isRequired:!0,fieldId:"pids-limit"},n().createElement(h.n,{className:"pf-v5-u-mb-md"},n().createElement(b.E,{component:b.Y.p},"Adjusting the PIDs limit will result in all nodes that are not control plane nodes to reboot, potentially impacting workload downtime.")),n().createElement(S.Q,{id:"pids-limit",name:"pids-limit","aria-describedby":"pids-limit-helper-text",value:c,min:s,max:o,onMinus:()=>{const e=f(c-1,s,o);m(e),u(e)},onChange:e=>{const{value:t}=e.target,a=Number(t);m(""===t?t:a),u(a)},onBlur:e=>{const t=Number(e.target.value);t<s?(m(s),u(s)):t>o&&(m(o),u(o))},onPlus:()=>{const e=f(c+1,s,o);m(e),u(e)},widthChars:12,inputName:"pids-limit",inputAriaLabel:"PIDs limit",minusBtnAriaLabel:"minus",plusBtnAriaLabel:"plus",validated:p.status}),n().createElement(y.FormGroupHelperText,{id:"pids-limit-helper-text",variant:p.status,icon:p.icon},p.helperText))};var R=a(70557),T=a(55816);const O=e=>{var t,a;const l=o().isAxiosError(e)?null===(t=e.response)||void 0===t?void 0:t.data:void 0;return{errorDetails:null!==(a=null==l?void 0:l.details)&&void 0!==a?a:[],errorMessage:(0,f.getErrorMessage)({payload:e}),operationID:null==l?void 0:l.operation_id}},P=e=>{const{config:t,onSave:a,onCancel:r,isLoading:i,isSaving:s,canBypassPIDsLimit:o=!1,savingError:f}=e,E=R.PIDS_LIMIT_MIN,v=o?R.PIDS_LIMIT_MAX_OVERRIDE:R.PIDS_LIMIT_MAX,[h,b]=(0,l.useState)({}),[S,_]=(0,l.useState)(!1);(0,l.useEffect)((()=>{const e={pod_pids_limit:E};(t||null===t)&&(b(t?{...t}:e),S||_(!0))}),[E,t,i,S]);const C=()=>{a(h)},{isValid:y,isPIDsLimitUnsafe:I,validationMessage:P}=function(e,t,a,n){const[r,i]=(0,l.useState)(!0),s=(0,l.useCallback)((e=>Number.isInteger(e)&&e<=a&&e>=t),[a,t]),o=(0,l.useMemo)((()=>!!(n&&r&&e)&&e>R.PIDS_LIMIT_MAX),[n,e,r]),u=(0,l.useMemo)((()=>void 0===e||s(e)?"":n&&e>a?`Please enter a value between ${t.toLocaleString()} - ${R.PIDS_LIMIT_MAX_OVERRIDE.toLocaleString()}`:`Please enter a value between ${t.toLocaleString()} - ${R.PIDS_LIMIT_MAX.toLocaleString()}`),[a,t,n,e,s]);return(0,l.useEffect)((()=>{i(void 0===e||s(e))}),[e,s]),{isValid:r,isPIDsLimitUnsafe:o,validationMessage:u}}(null==h?void 0:h.pod_pids_limit,E,v,o),D=(0,l.useMemo)((()=>{if(S){const e=null===t?E:null==t?void 0:t.pod_pids_limit;return h.pod_pids_limit!==e}return!1}),[E,t,h.pod_pids_limit,S]),L=(0,l.useMemo)((()=>!S||i||s||!y||!D),[S,i,s,y,D]);return n().createElement(u.B,{hasGutter:!0},f?n().createElement(d.a,null,n().createElement(T.default,{message:"There was an error saving the machine configuration",response:O(f)})):null,n().createElement(d.a,null,n().createElement(c.l,{onSubmit:e=>{e.preventDefault(),L||C()}},S?n().createElement(A,{value:h.pod_pids_limit,minValue:E,maxValue:v,onChange:e=>{e!==h.pod_pids_limit&&b((t=>({...t,pod_pids_limit:e})))},isValid:y,validationMessage:P,isUnsafe:I,safeMaxValue:R.PIDS_LIMIT_MAX}):n().createElement(g,null),n().createElement(m.K,null,n().createElement(p.$n,{variant:"primary",onClick:C,isDisabled:L,isLoading:s},"Save changes"),n().createElement(p.$n,{variant:"link",onClick:r,isDisabled:i||s},"Cancel")))))};var D=a(33675),L=a(80234),N=a(10423),w=a(75279);const M=e=>{const{onClose:t}=e;return n().createElement(D.p,null,n().createElement(L.q,{icon:_.default,color:"var(--pf-global--danger-color--100)"}),n().createElement(N.h,{headingLevel:"h4",size:"lg"},"Unable to retrieve configuration"),n().createElement(w.h,null,"There was an error trying to retrieve the existing machine configuration. Please try again later."),n().createElement(p.$n,{variant:"primary",onClick:t},"Close"))};var k=a(16165);const F=e=>{const{children:t,onClose:a}=e;return n().createElement(k.a,{title:"Edit machine configuration",description:"Make custom edits to your machine configuration",variant:k.d.medium,isOpen:!0,onClose:a},t)},x=e=>{const{clusterID:t,getMachineConfiguration:a,createMachineConfiguration:r,updateMachineConfiguration:s,canBypassPIDsLimit:o,onClose:u}=e,{getKubeletConfig:d,kubeletConfig:c,isLoading:m,error:p}=function(e){const[t,a]=(0,l.useState)(),[n,r]=(0,l.useState)(),[i,s]=(0,l.useState)(!1);return{getKubeletConfig:(0,l.useCallback)((t=>{s(!0),r(void 0),a(void 0),e(t).then((e=>a(e.data))).catch((e=>{var t;404===(null===(t=e.response)||void 0===t?void 0:t.status)?a(null):r(e)})).finally((()=>s(!1)))}),[e]),isLoading:i,kubeletConfig:t,error:n}}(a),{saveKubeletConfig:f,isSaving:E,kubeletConfig:g,error:v}=function(e,t){const[a,n]=(0,l.useState)(),[r,i]=(0,l.useState)(),[s,o]=(0,l.useState)(!1);return{saveKubeletConfig:(0,l.useCallback)(((a,l,r)=>{o(!0),i(void 0),n(void 0),("post"===r?e:t)(a,l).then((e=>n(e.data))).catch((e=>{i(e)})).finally((()=>o(!1)))}),[e,t]),isSaving:s,kubeletConfig:a,error:r}}(r,s);return(0,l.useEffect)((()=>{d(t)}),[t,d]),(0,l.useEffect)((()=>{g&&u()}),[u,g]),n().createElement(F,{onClose:u},p?n().createElement(M,{onClose:u}):n().createElement(P,{config:c,canBypassPIDsLimit:o,onCancel:u,onSave:e=>{const a=i()(e,["kind","href"]);f(t,a,null===c?"post":"patch")},isLoading:m,isSaving:E,savingError:v}))}},903:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GA_DATE_STR:()=>o,PreviewLabel:()=>d,createdPostGa:()=>u});var l=a(93345),n=a.n(l),r=a(72432),i=a(41451),s=a(25514);const o="2023-12-04T00:00:00Z",u=(e,t)=>(e?new Date(e):new Date)>=(t?new Date(t):new Date),d=e=>{const{className:t,creationDateStr:a,product:l,text:d,type:c}=e,m=(0,s.useGetTechPreviewStatus)(l||"rosa",c||"hcp"),p=(0,s.useTechPreviewStatus)(l||"rosa",c||"hcp");if(n().useEffect((()=>{p||m()}),[m,p]),null==p?void 0:p.fulfilled){const e=(null==p?void 0:p.end_date)||o,l=n().createElement(r.A,null,p.additional_text||"");return u(a,e)?null:n().createElement(i.Ay,{text:d||"Technology Preview",popoverContent:l,className:t})}return null}},36447:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(93345),n=a.n(l),r=a(74688),i=a(17724),s=a(45996),o=a(10423);const u=function({title:e,used:t,total:a,unit:u,humanize:d,donutId:c,type:m}){const p=(0,l.useMemo)((()=>d?r.humanizeValueWithUnit:r.roundValueWithUnit),[d]),f=(0,l.useMemo)((()=>null!=u?u:"B"),[u]),[E,g]=(0,l.useState)(),[v,h]=(0,l.useState)(),[b,S]=(0,l.useState)(),[_,C]=(0,l.useState)(),y=(0,l.useMemo)((()=>({primary:`${_}%`,secondary:`of ${null==v?void 0:v.value} ${null==v?void 0:v.unit} used`})),[null==v?void 0:v.unit,null==v?void 0:v.value,_]);(0,l.useEffect)((()=>{t&&a&&f?(g(p(t,f)),h(p(a,f)),S(p(a-t,f)),C(Math.round(t/a*100*100)/100)):(g(p(0,f)),h(p(0,f)),S(p(0,f)),C(0))}),[t,a,p,f]);const I=(0,l.useMemo)((()=>({labels:({datum:e})=>e.x?`${e.x}`:null,constrainToVisibleArea:!0,legendData:[{name:`Used: ${null==E?void 0:E.value} ${null==E?void 0:E.unit}`},{name:`Available: ${null==b?void 0:b.value} ${null==b?void 0:b.unit}`}],legendOrientation:"vertical",padding:{bottom:20,left:20,right:195,top:20},height:205,width:410})),[null==b?void 0:b.unit,null==b?void 0:b.value,null==E?void 0:E.unit,null==E?void 0:E.value]),A=(0,l.useCallback)((e=>n().createElement(i.P,{id:c,title:y.primary,subTitle:y.secondary,data:{x:`${null==E?void 0:E.value} ${null==E?void 0:E.unit}`,y:_},thresholds:[{value:80},{value:95}],...e})),[y.primary,y.secondary,c,null==E?void 0:E.unit,null==E?void 0:E.value,_]),R=(0,l.useCallback)((()=>n().createElement("div",null,n().createElement(o.h,{className:"metrics-chart chart-title",headingLevel:"h4",size:"xl"},e),n().createElement("div",{className:"metrics-chart"},n().createElement(s.G,{ariaDesc:e,data:[{x:"",y:80},{x:"Warning at 80%",y:95},{x:"Danger at 95%",y:100}],labels:({datum:e})=>e.x||null,height:185,width:185,subTitlePosition:"bottom",padding:{bottom:24}},A({}))))),[A,e]),T=(0,l.useCallback)((()=>n().createElement("div",null,n().createElement(o.h,{className:"metrics-chart chart-title-with-legend",headingLevel:"h4",size:"xl"},e),n().createElement("div",{className:"metrics-chart chart-with-legend"},A(I)))),[A,I,e]);return"legend"===m?n().createElement(T,null):n().createElement(R,null)},d=({cpu:e,memory:t,metricsStatusMessage:a,metricsAvailable:l,type:i})=>{const s=({value:e,unit:t})=>(0,r.parseValueWithUnit)(e,t);return l?n().createElement(n().Fragment,null,n().createElement(u,{title:"vCPU",total:e.total.value,used:e.used.value,unit:"Cores",humanize:!1,donutId:"cpu_donut",type:i}),n().createElement(u,{title:"Memory",total:s(t.total),used:s(t.used),unit:"B",humanize:!0,donutId:"memory_donut",type:i})):n().createElement("p",null,a)}},73838:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(49853),i=a(74688);const s=({used:e,total:t,unit:a,humanize:s,donutId:o,usedTitle:u,availableTitle:d})=>{const c=(0,l.useMemo)((()=>s?i.humanizeValueWithUnit:i.roundValueWithUnit),[s]),m=(0,l.useMemo)((()=>null!=a?a:"B"),[a]),[p,f]=(0,l.useState)(),[E,g]=(0,l.useState)(),[v,h]=(0,l.useState)(),[b,S]=(0,l.useState)(),[_,C]=(0,l.useState)();return(0,l.useEffect)((()=>{e&&t&&m?(f(c(e,m)),g(c(t,m)),h(c(t-e,m)),S(Math.round(e/t*100*100)/100),C(Math.round((t-e)/t*100*100)/100)):(f(c(0,m)),g(c(0,m)),h(c(0,m)),S(0),C(0))}),[e,t,m,c]),n().createElement("div",null,n().createElement("div",{className:"small-donut-chart-container"},v&&p&&p?n().createElement(r.H,{name:o,labels:({datum:e})=>`${e.x}`,data:[{x:`${null==p?void 0:p.value} ${null==p?void 0:p.unit}`,y:b},{x:`${null==v?void 0:v.value} ${null==v?void 0:v.unit}`,y:_}],constrainToVisibleArea:!0,legendData:[{name:`${u}: ${null==p?void 0:p.value} ${null==p?void 0:p.unit}`},{name:`${d}: ${null==v?void 0:v.value} ${null==v?void 0:v.unit}`}],legendOrientation:"vertical",padding:{bottom:20,left:20,right:195,top:20},title:`${null==E?void 0:E.value}`,height:205,width:440}):null))}},59910:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clusterDetailConsts:()=>r,metricsStatusMessages:()=>n});var l=a(23271);const n={[l.default.INSTALLING]:"This cluster is installing so some data might not be available. This may take a few minutes.",[l.default.PENDING]:"This cluster is installing so some data might not be available. This may take a few minutes.",[l.default.VALIDATING]:"This cluster is installing so some data might not be available. This may take a few minutes.",[l.default.WAITING]:"This cluster requires user action before installation can start.",[l.default.ERROR]:"An error occured",[l.default.UNINSTALLING]:"This cluster is being deleted so some data might not be available.",[l.default.STALE]:"No metrics sent during the last 24 hours.",[l.default.UNKNOWN]:"The cluster currently does not have any metrics data. Try again later.",archived:"The cluster has been archived and does not have any metrics data.",default:"The cluster currently does not have any metrics data. Try again later."},r={metricsStatusMessages:n}},27164:(e,t,a)=>{"use strict";a.r(t),a.d(t,{TreeViewSelect:()=>A,TreeViewSelectMenuItem:()=>I});var l=a(93345),n=a.n(l),r=a(25929),i=a(30666),s=a(93973),o=a(90678),u=a(73113),d=a(51976),c=a(22069),m=a(93745),p=a(49650),f=a(5924),E=a(78716),g=a(22546),v=a(28377),h=a(17661),b=a(88301),S=a(55420),_=a(30144),C=a(61302),y=a(76774);function I(e){const{name:t,description:a,popoverText:l,icon:r}=e,p=n().createElement(i.B,{hasGutter:!0},n().createElement(s.o,null,n().createElement(o.B,null,n().createElement(u.a,null,t),n().createElement(u.a,null,n().createElement(d.n,null,n().createElement(c.E,{component:"small"},a))))),n().createElement(s.o,{isFilled:!0}),r&&n().createElement(s.o,null,r),n().createElement(s.o,null));return l?n().createElement(m.A,{triggerAction:"hover",position:"right",bodyContent:n().createElement("div",null,l)},p):p}function A(e){const{helperText:t,includeFilterSwitch:a,setSelected:i,selected:s,selectionPlaceholderText:o,menuToggleBadge:u,treeViewSelectionMap:d,treeViewSwitchActive:c,setTreeViewSwitchActive:m,placeholder:I,searchPlaceholder:A,switchLabelOnText:R,switchLabelOffText:T,ariaLabel:O,allExpanded:P=!1}=e,[D,L]=(0,l.useState)(!1),[N,w]=(0,l.useState)(d),[M,k]=(0,l.useState)(""),F=n().useRef(null),x=n().useRef(null),[G,U]=n().useState([]);(0,l.useEffect)((()=>{s&&U([s])}),[s]);const j=(0,l.useCallback)((()=>{if(""===M)w(d);else{const e=d.map((e=>{if(e.children){let t=1;const a=new r.A(e.children,{keys:["id","category","descriptionLabel","nameLabel"],shouldSort:!0,threshold:.3,includeScore:!0,ignoreLocation:!0,minMatchCharLength:1}).search(M.trim()).map((({item:e,score:a})=>(a&&a<t&&(t=a),e)));if(a.length>0)return{...e,children:a,sortingScore:t}}})).filter(Boolean);e.sort(((e,t)=>(e.sortingScore||1/0)-(t.sortingScore||1/0))),w(e)}}),[M,d]);(0,l.useEffect)((()=>{j()}),[d,j]);const H=n().createElement(p.M,{className:"tree-view-select-toolbar"},n().createElement(f.P,null,a&&n().createElement(E.T,{widths:{default:"100%"},className:"pf-u-pt-xs pf-u-pb-sm pf-u-pl-md pf-u-pr-sm"},n().createElement(g.d,{"data-testid":"display-switch",label:R,labelOff:T,isChecked:c,onChange:()=>{m(!c)}})),n().createElement(E.T,{widths:{default:"100%"}},n().createElement(v.I,{autoComplete:"off",className:"pf-u-pt-sm pf-u-pb-sm pf-u-pl-sm pf-u-pr-sm pf-u-w-inherit",placeholder:A,onSearch:e=>{k(e.target.value),j()},"aria-label":O&&`${O} search field`})))),V=n().createElement(h.S,{ref:F,"aria-label":O&&`${O} toggle`,className:"tree-view-select-menu-toggle",onClick:e=>{D||(w(d),k("")),L(!D)},isExpanded:D,badge:u},o||s||I),q=n().createElement(b.Z,{ref:x,isScrollable:!0,variant:"raised",className:"tree-view-select-panel"},n().createElement(S.s,null,n().createElement("section",null,n().createElement(_.y,null,n().createElement(C.G,{className:"tree-view-custom-class",onSelect:(e,t)=>{t.id&&!(null==t?void 0:t.children)&&(i(e,t),L(!1))},toolbar:H,hasSelectableNodes:!1,allExpanded:P||""!==M,data:N,useMemo:!0,activeItems:G})))));return n().createElement(n().Fragment,null,n().createElement(y.$,{isOpen:D,onOpenChange:e=>{k(""),L(e)},onOpenChangeKeys:["Escape"],menu:q,menuRef:x,toggle:V,toggleRef:F}),t)}},34108:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SubnetSelectField:()=>c});var l=a(93345),n=a.n(l),r=a(56780),i=a(96998),s=a(96553),o=a(32358),u=a(38715),d=a(35158);const c=({name:e,label:t,input:a,meta:c,isRequired:m,className:p,privacy:f,withAutoSelect:E=!0,selectedVPC:g,allowedAZs:v})=>{const[h,b]=(0,l.useState)(!1),S=a.value,_=c.touched&&(c.error||m&&!S),{subnetsByAZ:C,subnetList:y,hasOptions:I}=(0,l.useMemo)((()=>{var e;const t=[],a={};null===(e=g.aws_subnets)||void 0===e||e.forEach((e=>{const l=e.availability_zone||"";if((0,o.isSubnetMatchingPrivacy)(e,f)&&(void 0===v||v.includes(l))){const n=e.subnet_id,r={groupId:l,entryId:n,label:e.name||n};a[l]?a[l].push(r):a[l]=[r],t.push(e)}}));const l=t.length>0;return{subnetsByAZ:a,subnetList:t,hasOptions:l}}),[g,v,f]);(0,l.useEffect)((()=>{const e=y.some((e=>e.subnet_id===S));let t=null;E?!e&&I&&(t=y[0].subnet_id):e||(t=""),null!==t&&t!==S&&a.onChange(t)}),[E,I,y,S]);const A=(0,l.useCallback)(((e,t)=>{a.onChange(t),b(!1)}),[a]);let R=`Select ${f} subnet`;return(null==g?void 0:g.id)&&!I&&(void 0===v||v.length>0)&&(R=`No ${f} subnets found.`),n().createElement(r.g,{fieldId:e||a.name,label:t,isRequired:m,className:p},n().createElement(i.s,null,n().createElement(s.Z,{grow:{default:"grow"}},n().createElement(d.default,{label:t,"aria-label":t,isOpen:h,onToggle:(e,t)=>b(t),onSelect:A,selectedEntryId:S,selectionData:C,isDisabled:!(null==g?void 0:g.id)||!I,placeholderText:R,truncation:40,inlineFilterPlaceholderText:"Filter by subnet ID / name",validated:_?"error":void 0,isPopover:!0,toggleId:e||a.name}))),n().createElement(u.FormGroupHelperText,{touched:c.touched,error:_}))}},87380:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var l=a(93345),n=a.n(l),r=a(71468),i=a(51976),s=a(22069),o=a(12921),u=a(90118),d=a(6071),c=a(69304),m=a(5368),p=a(25514),f=a(59067),E=a(55816),g=a(8888),v=a(28592),h=a(91089),b=a(43775);const S=({onClose:e})=>{const t=(0,r.wA)(),a=(0,p.useGlobalState)((e=>e.modal.data)),b=(0,p.useGlobalState)((e=>e.subscriptionReleased.requestState)),S=(0,l.useMemo)((()=>{const e={subscription:a.subscription};return(0,d.default)(e)}),[a]),_=(0,l.useMemo)((()=>a.subscription),[a]),C=(0,l.useMemo)((()=>{var e;return null!==(e=a.shouldDisplayClusterName)&&void 0!==e&&e}),[a]),y=(0,l.useCallback)((()=>{t((0,m.clearToggleSubscriptionReleasedResponse)()),t((0,h.closeModal)())}),[t]);return(0,l.useEffect)((()=>{b.fulfilled&&(y(),e())}),[y,e,b.fulfilled]),n().createElement(v.default,{title:"Transfer cluster ownership",secondaryTitle:C?S:void 0,width:600,variant:"large",onClose:y,primaryText:"Initiate transfer",secondaryText:"Cancel",onPrimaryClick:()=>{var e;if(null==_?void 0:_.id){const a=null!==(e=null==_?void 0:_.released)&&void 0!==e&&e;t((0,m.toggleSubscriptionReleased)(_.id,!a))}},onSecondaryClick:y,isPrimaryDisabled:b.pending},b.error?n().createElement(E.default,{message:"Error initiating transfer",response:b}):null,n().createElement(i.n,null,n().createElement(s.E,{component:s.Y.p},"Transferring cluster ownership will allow another individual to manage this cluster. The steps for transferring cluster ownership are:"),(null==_?void 0:_.status)===f.SubscriptionCommonFields.status.DISCONNECTED?n().createElement(o.K,{component:o.C.ol},n().createElement(u.L,null,"Initiate transfer"),n().createElement(u.L,null,n().createElement(g.default,{href:`${c.ocmBaseName}/register`},"Register the cluster")," ","within 5 days")):n().createElement(n().Fragment,null,n().createElement(o.K,{component:o.C.ol},n().createElement(u.L,null,"Initiate transfer"),n().createElement(u.L,null,n().createElement(g.default,{href:"https://access.redhat.com/solutions/4902871"},"Change the cluster's pull secret")," ","within 5 days")),n().createElement(s.E,{component:s.Y.p},"The transfer is complete when OpenShift Cluster Manager receives telemetry data from the cluster with the new pull secret.")),n().createElement(s.E,{component:s.Y.h4},"If the transfer is not completed within 5 days, the procedure must be restarted.")))};S.modalName=b.default.TRANSFER_CLUSTER_OWNERSHIP;const _=S},56480:(e,t,a)=>{"use strict";a.d(t,{B:()=>l,p:()=>n});const l="TOGGLE_SUBSCRIPTION_RELEASED",n="CLEAR_TOGGLE_SUBSCRIPTION_RELEASED_RESPONSE"},38544:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canTransferClusterOwnershipListFromClusters:()=>s,canTransferClusterOwnershipListSelector:()=>i,canTransferClusterOwnershipMultiRegion:()=>r,canTransferClusterOwnershipSelector:()=>n});var l=a(11009);const n=e=>{var t,a,n;return(0,l.hasCapability)(null===(n=null===(a=null===(t=e.clusters)||void 0===t?void 0:t.details)||void 0===a?void 0:a.cluster)||void 0===n?void 0:n.subscription,l.subscriptionCapabilities.RELEASE_OCP_CLUSTERS)},r=e=>(0,l.hasCapability)(null==e?void 0:e.subscription,l.subscriptionCapabilities.RELEASE_OCP_CLUSTERS),i=e=>{var t,a,n;return(null!==(n=null===(a=null===(t=null==e?void 0:e.clusters)||void 0===t?void 0:t.clusters)||void 0===a?void 0:a.clusters)&&void 0!==n?n:[]).reduce(((e,t)=>({...e,[`${t.id}`]:(0,l.hasCapability)(t.subscription,l.subscriptionCapabilities.RELEASE_OCP_CLUSTERS)})),{})},s=(e=[])=>e.reduce(((e,t)=>({...e,[`${t.id}`]:(0,l.hasCapability)(t.subscription,l.subscriptionCapabilities.RELEASE_OCP_CLUSTERS)})),{})},686:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(93345),n=a.n(l),r=a(17661),i=a(56780),s=a(22563),o=a(81995),u=a(97862);const d=e=>{const[t,a]=(0,l.useState)(!1),{input:{value:d,onChange:c},isDisabled:m}=e,p={15:"15 minutes",30:"30 minutes",60:"1 hour",120:"2 hours",240:"4 hours",480:"8 hours"};return n().createElement(i.g,{label:"Grace period",className:"ocm-c-upgrades-pdb-select"},n().createElement(s.l,{id:"single-select",isOpen:t,selected:d,onSelect:(e,t)=>{t&&(a(!1),c(Number(t)))},onOpenChange:e=>{a(e)},toggle:e=>n().createElement(r.S,{ref:e,onClick:()=>a(!t),isExpanded:t,isDisabled:m,className:"ocm-c-upgrades-pdb-select__toggle","data-testid":"grace-period-select"},p[d]),shouldFocusToggleOnSelect:!0,popperProps:{direction:"up"}},n().createElement(o.B,null,Object.keys(p).map((e=>n().createElement(u.O,{value:Number(e)},p[e]))))))}},99908:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_DELETE_UPGRADE_SCHEDULE:()=>u,CLEAR_GET_UPGRADE_SCHEDULE:()=>d,CLEAR_POST_UPGRADE_SCHEDULE:()=>i,DELETE_UPGRADE_SCHEDULE:()=>o,GET_UPGRADE_SCHEDULES:()=>s,POST_UPGRADE_SCHEDULE:()=>r,SET_CLUSTER_UPGRADE_POLICY:()=>c,clearDeleteScheduleResponse:()=>R,clearPostedUpgradeScheduleResponse:()=>T,clearSchedulesResponse:()=>O,deleteSchedule:()=>A,editSchedule:()=>I,getSchedules:()=>_,postSchedule:()=>C,replaceSchedule:()=>y,setAutomaticUpgradePolicy:()=>P});var l=a(77475),n=a(16236);const r="POST_UPGRADE_SCHEDULE",i="CLEAR_UPGRADE_SCHEDULE",s="GET_UPGRADE_SCHEDULES",o="DELETE_UPGRADE_SCHEDULE",u="CLEAR_DELETE_UPGRADE_SCHEDULE",d="CLEAR_GET_UPGRADE_SCHEDULE",c="SET_CLUSTER_UPGRADE_POLICY",{patchUpgradeSchedule:m,patchControlPlaneUpgradeSchedule:p,getUpgradeScheduleState:f,getControlPlaneUpgradeSchedules:E,getUpgradeSchedules:g,postControlPlaneUpgradeSchedule:v,postUpgradeSchedule:h,deleteControlPlaneUpgradeSchedule:b,deleteUpgradeSchedule:S}=n.default,_=(e,t)=>(0,l.action)(s,t?E(e):g(e).then((e=>{const t=e.data.items||[],a=[];return t.forEach((e=>{e.cluster_id&&e.id&&a.push(f(e.cluster_id,e.id).then((t=>{e.state=t.data})))})),Promise.all(a).then((()=>(e.data.items=t,e)))}))),C=(e,t,a)=>l=>{l({type:r,payload:(a?v:h)(e,t).then((t=>(l(_(e,a)),t)))})},y=(e,t,a,l)=>n=>{const i=l?v:h;n({type:r,payload:(l?b:S)(e,t).then((()=>i(e,a))).then((t=>(n(_(e,l)),t)))})},I=(e,t,a,l)=>n=>{n({type:r,payload:(l?p:m)(e,t,a).then((t=>(n(_(e,l)),t)))})},A=(e,t,a)=>l=>{l({type:o,payload:(a?b:S)(e,t).then((t=>(l(_(e,a)),t)))})},R=()=>e=>e({type:u}),T=()=>e=>e({type:i}),O=()=>e=>e({type:d}),P=e=>({type:c,payload:e})},54736:(e,t,a)=>{"use strict";a.d(t,{gd:()=>l,t6:()=>n});const l=e=>{var t;const{schedules:a}=e.clusterUpgrades,l=a.items.find((e=>"OSD"===e.upgrade_type&&("manual"===e.schedule_type||"automatic"===e.schedule_type))),n=l&&(null===(t=null==l?void 0:l.state)||void 0===t?void 0:t.value);return n&&("started"===n||"delayed"===n)},n=e=>{var t;const a=e.items.find((e=>"OSD"===e.upgrade_type&&("manual"===e.schedule_type||"automatic"===e.schedule_type))),l=a&&(null===(t=null==a?void 0:a.state)||void 0===t?void 0:t.value);return l&&("started"===l||"delayed"===l)}},66282:(e,t,a)=>{"use strict";a.d(t,{F:()=>l});const l=e=>["",void 0].includes(e)?void 0:e},11611:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getClusterAutoScalingSubmitSettings:()=>n,getCompleteFormClusterAutoscaling:()=>r,getDefaultClusterAutoScaling:()=>l});const l=()=>({balance_similar_node_groups:!1,balancing_ignored_labels:"",skip_nodes_with_local_storage:!0,log_verbosity:1,ignore_daemonsets_utilization:!1,max_node_provision_time:"15m",max_pod_grace_period:600,pod_priority_threshold:-10,resource_limits:{max_nodes_total:180,cores:{min:0,max:11520},memory:{min:0,max:230400},gpus:""},scale_down:{enabled:!0,delay_after_add:"10m",delay_after_delete:"0s",delay_after_failure:"3m",utilization_threshold:"0.5",unneeded_time:"10m"}}),n=e=>{var t;let a;(null===(t=e.scale_down)||void 0===t?void 0:t.enabled)?(a={...e.scale_down},a.utilization_threshold=`${a.utilization_threshold}`):a={enabled:!1};let l=[];e.resource_limits.gpus&&(l=(e.resource_limits.gpus||"").split(",").map((e=>{const t=e.split(":");return{type:t[0],range:{min:Number(t[1]),max:Number(t[2])}}})));const n=(e.balancing_ignored_labels||"").split(",").filter(Boolean),r={...e,scale_down:a,balancing_ignored_labels:n,resource_limits:{...e.resource_limits,gpus:l}};return delete r.isSelected,r},r=e=>{var t;const a={...e},n=l();a.scale_down||(a.scale_down=n.scale_down),a.scale_down.delay_after_add||(a.scale_down.delay_after_add=n.scale_down.delay_after_add),a.scale_down.delay_after_delete||(a.scale_down.delay_after_delete=n.scale_down.delay_after_delete),a.scale_down.delay_after_failure||(a.scale_down.delay_after_failure=n.scale_down.delay_after_failure),a.scale_down.unneeded_time||(a.scale_down.unneeded_time=n.scale_down.unneeded_time),a.scale_down.utilization_threshold||(a.scale_down.utilization_threshold=n.scale_down.utilization_threshold);const r=(null===(t=a.resource_limits)||void 0===t?void 0:t.gpus)||[];a.resource_limits.gpus=r.map((e=>{var t,a;return`${e.type}:${(null===(t=e.range)||void 0===t?void 0:t.min)||0}:${(null===(a=e.range)||void 0===a?void 0:a.max)||0}`})).join(",");const i=a.balancing_ignored_labels||[];return a.balancing_ignored_labels=i.join(","),a}},23271:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canViewMachinePoolTab:()=>D,default:()=>N,getClusterAIPermissions:()=>P,getClusterStateAndDescription:()=>c,getInflightChecks:()=>m,getStateDescription:()=>o,hasInflightEgressErrors:()=>f,isAWS:()=>_,isAWSPrivateCluster:()=>L,isCCS:()=>S,isClusterUpgradeCompleted:()=>d,isClusterUpgrading:()=>u,isErrorSharedGCPVPCValues:()=>h,isGCP:()=>C,isHibernating:()=>p,isHypershiftCluster:()=>I,isOSD:()=>E,isOSDGCPPendingOnHostProject:()=>v,isOSDGCPWaitingForRolesOnHostProject:()=>g,isOffline:()=>O,isROSA:()=>b,isROSAManualMode:()=>y,isWaitingForOIDCProviderOrOperatorRolesMode:()=>A,isWaitingHypershiftCluster:()=>R,isWaitingROSAManualMode:()=>T});var l,n=a(75166),r=a(59067),i=a(82399);!function(e){e.UPDATING="updating",e.DISCONNECTED="disconnected",e.DEPROVISIONED="deprovisioned",e.ARCHIVED="archived",e.STALE="stale"}(l||(l={}));const s={...i.ClusterState,...l},o=e=>e===s.DEPROVISIONED?"Deleted":e?(e.charAt(0).toUpperCase()+e.slice(1)).replace(/_/g," "):"",u=e=>"running"===(null==e?void 0:e.metrics.upgrade.state),d=e=>"completed"===(null==e?void 0:e.metrics.upgrade.state),c=e=>{var t,a,l,n,d;let c;return(null===(t=e.subscription)||void 0===t?void 0:t.status)===r.SubscriptionCommonFields.status.DISCONNECTED?c=s.DISCONNECTED:(null===(a=e.subscription)||void 0===a?void 0:a.status)===r.SubscriptionCommonFields.status.DEPROVISIONED?c=s.DEPROVISIONED:(null===(l=e.subscription)||void 0===l?void 0:l.status)===r.SubscriptionCommonFields.status.ARCHIVED?c=s.ARCHIVED:e.state===i.ClusterState.INSTALLING||e.state===i.ClusterState.VALIDATING||e.state===i.ClusterState.PENDING?c=s.INSTALLING:e.state===i.ClusterState.WAITING?c=s.WAITING:e.state===i.ClusterState.UNINSTALLING?c=s.UNINSTALLING:e.state===i.ClusterState.ERROR?c=s.ERROR:e.state===i.ClusterState.HIBERNATING?c=s.HIBERNATING:e.state===i.ClusterState.POWERING_DOWN?c=s.POWERING_DOWN:e.state===i.ClusterState.RESUMING?c=s.RESUMING:(null===(n=e.subscription)||void 0===n?void 0:n.status)===r.SubscriptionCommonFields.status.STALE?c=s.STALE:u(e)?c=s.UPDATING:(null===(d=e.subscription)||void 0===d?void 0:d.status)!==r.SubscriptionCommonFields.status.ACTIVE&&e.state!==i.ClusterState.READY||(c=s.READY),{state:c,description:o(c)}},m=e=>e&&Array.isArray(e.inflight_checks)?e.inflight_checks:[],p=e=>e.state===i.ClusterState.HIBERNATING||e.state===i.ClusterState.POWERING_DOWN||e.state===i.ClusterState.RESUMING,f=e=>m(e).some((e=>{if(e.state!==i.InflightCheckState.PASSED){const{details:t={}}=e;return Object.keys(t).some((e=>e.startsWith("subnet")&&Object.keys(t[e]).some((e=>e.startsWith("egress_url_errors")))))}return!1})),E=e=>{var t;return[n.normalizedProducts.OSD,n.normalizedProducts.OSDTRIAL].includes(null===(t=e.product)||void 0===t?void 0:t.id)},g=e=>{var t,a,l,n;return E(e)&&"waiting"===(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.state)&&-1!==(null===(l=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.description)||void 0===l?void 0:l.indexOf(null===(n=null==e?void 0:e.gcp_network)||void 0===n?void 0:n.vpc_project_id))},v=e=>{var t,a;return E(e)&&["validating","pending"].includes(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.state)&&!!(null===(a=null==e?void 0:e.gcp_network)||void 0===a?void 0:a.vpc_project_id)},h=e=>{var t,a;return E(e)&&e.state===i.ClusterState.WAITING&&!!(null===(t=null==e?void 0:e.gcp_network)||void 0===t?void 0:t.vpc_project_id)&&!!(null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.description)&&e.status.description.includes(e.gcp_network.vpc_project_id)&&e.status.description.includes("Could not validate the shared subnets")},b=e=>{var t;return(null===(t=null==e?void 0:e.product)||void 0===t?void 0:t.id)===n.normalizedProducts.ROSA},S=e=>{var t,a;return null!==(a=null===(t=e.ccs)||void 0===t?void 0:t.enabled)&&void 0!==a&&a},_=e=>{var t;return"aws"===(null===(t=e.subscription)||void 0===t?void 0:t.cloud_provider_id)},C=e=>{var t;return"gcp"===(null===(t=e.cloud_provider)||void 0===t?void 0:t.id)},y=e=>{var t,a,l,n,r;return b(e)&&!(null===(a=null===(t=null==e?void 0:e.aws)||void 0===t?void 0:t.sts)||void 0===a?void 0:a.auto_mode)&&!(null===(r=null===(n=null===(l=null==e?void 0:e.aws)||void 0===l?void 0:l.sts)||void 0===n?void 0:n.oidc_config)||void 0===r?void 0:r.id)},I=e=>{var t,a;return(null===(t=null==e?void 0:e.hypershift)||void 0===t?void 0:t.enabled)||void 0!==(null==e?void 0:e.subscription)&&"plan"in e.subscription&&(null===(a=e.subscription.plan)||void 0===a?void 0:a.id)===n.normalizedProducts.ROSA_HyperShift},A=e=>{var t,a,l;return b(e)&&e.state===i.ClusterState.WAITING&&void 0!==(null===(l=null===(a=null===(t=null==e?void 0:e.aws)||void 0===t?void 0:t.sts)||void 0===a?void 0:a.oidc_config)||void 0===l?void 0:l.id)},R=e=>e.state===i.ClusterState.WAITING&&I(e),T=e=>e.state===i.ClusterState.WAITING&&y(e)&&!I(e),O=e=>p(e)||e.state===i.ClusterState.UNINSTALLING,P=e=>({canEdit:e.canEdit}),D=e=>{var t,a,l;const n=(null===(t=null==e?void 0:e.subscription)||void 0===t?void 0:t.status)===r.SubscriptionCommonFields.status.ARCHIVED||(null===(a=null==e?void 0:e.subscription)||void 0===a?void 0:a.status)===r.SubscriptionCommonFields.status.DEPROVISIONED;return null!==(l=null==e?void 0:e.managed)&&void 0!==l&&l&&((null==e?void 0:e.state)===s.READY||p(e))&&!n},L=e=>{var t,a,l;return null!==(l=(null==e?void 0:e.aws)&&(null===(t=null==e?void 0:e.ccs)||void 0===t?void 0:t.enabled)&&(null===(a=null==e?void 0:e.aws)||void 0===a?void 0:a.private_link))&&void 0!==l&&l},N=s},50927:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clusterType:()=>i});var l=a(58156),n=a.n(l),r=a(75166);const i=e=>{const t={[r.normalizedProducts.OCP]:{name:"OCP",tooltip:"Self-managed OpenShift Container Platform (OCP) cluster"},[r.normalizedProducts.OCP_ASSISTED_INSTALL]:{name:"OCP",tooltip:"Self-managed OpenShift Container Platform (OCP) cluster"},[r.normalizedProducts.OSD]:{name:"OSD",tooltip:"OpenShift Dedicated (OSD) cluster managed by Red Hat"},[r.normalizedProducts.OSDTRIAL]:{name:"OSD Trial",tooltip:"OpenShift Dedicated (OSD) cluster trial managed by Red Hat"},[r.normalizedProducts.RHMI]:{name:"RHMI",tooltip:"Red Hat Managed Integration"},[r.normalizedProducts.ROSA]:{name:"ROSA",tooltip:"Red Hat OpenShift Service on AWS"},[r.normalizedProducts.ROSA_HyperShift]:{name:"ROSA",tooltip:"Red Hat OpenShift Service on AWS"},[r.normalizedProducts.ARO]:{name:"ARO",tooltip:"Red Hat OpenShift Service on Azure"},[r.normalizedProducts.RHOIC]:{name:"RHOIC",tooltip:"Red Hat OpenShift Service on IBM Cloud"},[r.normalizedProducts.UNKNOWN]:{name:"N/A",tooltip:"Not Available"}};return t[n()(e,"subscription.plan.id",r.normalizedProducts.UNKNOWN)]||t[r.normalizedProducts.UNKNOWN]}},26765:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var l=a(75166);const n=e=>{var t,a,n,r,i;const s="Standard";switch(null===(a=null===(t=e.subscription)||void 0===t?void 0:t.plan)||void 0===a?void 0:a.type){case l.normalizedProducts.OSDTRIAL:return"Free trial, upgradeable";case l.normalizedProducts.OSD:switch(null===(n=e.subscription)||void 0===n?void 0:n.cluster_billing_model){case l.billingModels.STANDARD:return"Annual Red Hat subscriptions";case l.billingModels.MARKETPLACE:case l.billingModels.MARKETPLACE_AWS:switch(null===(r=e.ccs)||void 0===r?void 0:r.enabled){case!0:return"On-demand via Red Hat Marketplace";case!1:return s;default:return"N/A"}case l.billingModels.MARKETPLACE_GCP:switch(null===(i=e.ccs)||void 0===i?void 0:i.enabled){case!0:return"On-demand via Google Cloud Marketplace";case!1:return s;default:return"N/A"}default:return s}default:return s}}},81621:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var l=a(23271);const n=e=>{var t,a,n;return((0,l.isClusterUpgrading)(e)||(0,l.isClusterUpgradeCompleted)(e)&&(null===(t=e.version)||void 0===t?void 0:t.raw_id)!==e.openshift_version?null===(a=e.version)||void 0===a?void 0:a.raw_id:e.openshift_version)||(null===(n=e.version)||void 0===n?void 0:n.raw_id)||e.metrics.openshift_version||"N/A"}},70557:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MAX_NODES:()=>n,MAX_NODES_HCP:()=>r,MAX_NODES_HCP_500:()=>s,MAX_NODES_HCP_INSUFFICIEN_VERSION:()=>i,PIDS_LIMIT_MAX:()=>d,PIDS_LIMIT_MAX_OVERRIDE:()=>c,PIDS_LIMIT_MIN:()=>u,SPOT_MIN_PRICE:()=>o,defaultWorkerNodeVolumeSizeGiB:()=>p,getWorkerNodeVolumeSizeMaxGiB:()=>f,workerNodeVolumeSizeMinGiB:()=>m});var l=a(88851);const n=180,r=250,i=90,s=500,o=.01,u=4096,d=16384,c=3694303,m=128,p=300,f=e=>{const[t,a]=(0,l.splitVersion)(e);return 1024*(t>4||4===t&&a>=14?16:1)}},31261:(e,t,a)=>{"use strict";a.r(t),a.d(t,{buildOptions:()=>m,getAvailableQuota:()=>p,getIncludedNodes:()=>c,getMaxNodesHCP:()=>d,getNodeCount:()=>f,getNodeOptions:()=>E});var l=a(23181),n=a.n(l),r=a(38260),i=a(23271),s=a(98229),o=a(66282),u=a(70557);const d=(e,t)=>e&&!(e=>{const t=parseFloat(e),a=Number(e.split(".")[2]);return t>=4.16||!(t<=4.13)&&(4.14===t?a>=28:4.15!==t||a>=15)})(e)?u.MAX_NODES_HCP_INSUFFICIEN_VERSION:t?u.MAX_NODES_HCP_500:u.MAX_NODES_HCP,c=({isMultiAz:e,isHypershift:t})=>t?e?9:4:0,m=({included:e,available:t,isEditingCluster:a,currentNodeCount:l,minNodes:r,increment:i,isHypershift:s,clusterVersion:o,allow500Nodes:c})=>{const m=d(o,c),p=t>0||a;let f=a?t+l:t+e;const E=s?m:u.MAX_NODES;return f>E&&(f=E),s&&a&&f>m-l&&(f=m-l),p?n()(r,f+1,i):[r]},p=({quota:e,isByoc:t,isMultiAz:a,machineTypeId:l,machineTypes:n,cloudProviderID:r,product:i,billingModel:u})=>{var d;if(!l)return 0;const c=null===(d=n.typesByID)||void 0===d?void 0:d[l];if(!c)return 0;const m={product:i,cloudProviderID:r,isBYOC:t,isMultiAz:a,resourceName:c.generic_name,billingModel:(0,o.F)(u)};return(0,s.availableNodesFromQuota)(e,m)},f=(e,t,a,l)=>e.reduce(((e,n)=>{const r=(n.autoscaling?n.autoscaling.max_replicas:n.replicas)||0;return t&&n.id!==a||!t&&n.instance_type===l?e+r:e}),0),E=({cluster:e,quota:t,machineTypes:a,machineTypeId:l,machinePools:n,machinePool:s,minNodes:o,editMachinePoolId:u,allow500Nodes:d})=>{var E,g,v,h,b;const S=(0,r.isMultiAZ)(e),_=(0,r.isMPoolAz)(e,null===(E=null==s?void 0:s.availability_zones)||void 0===E?void 0:E.length),C=p({quota:t,machineTypes:a,machineTypeId:l,isMultiAz:S,isByoc:!!(null===(g=e.ccs)||void 0===g?void 0:g.enabled),cloudProviderID:null===(v=e.cloud_provider)||void 0===v?void 0:v.id,billingModel:e.billing_model,product:null===(h=e.product)||void 0===h?void 0:h.id}),y=(0,i.isHypershiftCluster)(e),I=c({isHypershift:y,isMultiAz:S}),A=f(n,y,u,l);return m({available:C,isEditingCluster:!0,included:I,currentNodeCount:A,minNodes:o,increment:_?3:1,isHypershift:(0,i.isHypershiftCluster)(e),clusterVersion:null===(b=e.version)||void 0===b?void 0:b.raw_id,allow500Nodes:d})}},38046:(e,t,a)=>{"use strict";a.r(t),a.d(t,{QuotaTypes:()=>r,defaultQuotaQuery:()=>i});var l=a(73424),n=a(59067);const r={ADD_ON:"add-on",CLUSTER:"cluster",NODE:"compute.node",LOAD_BALANCER:"network.loadbalancer",STORAGE:"pv.storage"},i={resource_type:l.x4,availability_zone_type:l.x4,billing_model:n.RelatedResource.billing_model.ANY,byoc:l.x4,cloud_provider:l.x4,product:l.x4}},98229:(e,t,a)=>{"use strict";a.r(t),a.d(t,{addOnBillingQuota:()=>g,availableClustersFromQuota:()=>b,availableFromQuotaCostItem:()=>p,availableNodesFromQuota:()=>C,availableQuota:()=>E,getAwsBillingAccountsFromQuota:()=>y,getBillingQuotaModel:()=>c,hasHostedQuotaSelector:()=>_,hasManagedQuotaSelector:()=>S,hasPotentialQuota:()=>v,queryFromCluster:()=>h});var l=a(58156),n=a.n(l),r=a(73424),i=a(59067),s=a(82399),o=a(75166),u=a(66282),d=a(38046);const c=e=>e===s.BillingModel.MARKETPLACE_AWS?i.RelatedResource.billing_model.MARKETPLACE:e,m=(e,t)=>(0,r.YW)(e.resource_type,t.resource_type||r.x4)&&(0,r.ai)(e.product,t.product||o.normalizedProducts.ANY)&&(0,r.YW)(e.billing_model,c(t.billing_model||r.x4))&&(0,r.YW)(e.cloud_provider,t.cloud_provider||r.x4)&&(0,r.YW)(e.byoc,t.byoc||r.x4)&&(0,r.ai)(e.availability_zone_type,t.availability_zone_type||r.x4)&&(0,r.YW)(e.resource_name,t.resource_name||r.x4),p=(e,t)=>{var a,l;const n=null!==(l=null===(a=e.related_resources)||void 0===a?void 0:a.filter((e=>m(e,t))).map((e=>e.cost)))&&void 0!==l?l:[];if(0===n.length)return 0;const r=Math.min(...n);if(0===r)return 1/0;const i=Math.floor((e.allowed-e.consumed)/r);return i>0?i:0},f=e=>{var t;return{...d.defaultQuotaQuery,resource_type:e.resourceType||r.x4,product:e.product||o.normalizedProducts.ANY,billing_model:"standard-trial"===(null===(t=e.billingModel)||void 0===t?void 0:t.toString())?i.RelatedResource.billing_model.STANDARD:e.billingModel||i.RelatedResource.billing_model.ANY,cloud_provider:e.cloudProviderID||r.x4,byoc:{true:"byoc",false:"rhinfra",undefined:r.x4}[`${e.isBYOC}`],availability_zone_type:{true:"multi",false:"single",undefined:r.x4}[`${e.isMultiAz}`],resource_name:e.resourceName||r.x4}},E=(e,t)=>{if(!e)return 0;if(t.billingModel===i.RelatedResource.billing_model.MARKETPLACE_GCP)return 1/0;const a=f(t);return((null==e?void 0:e.items)||[]).reduce(((e,t)=>e+p(t,a)),0)},g=(e,t)=>{var a;const l={},n={...d.defaultQuotaQuery,resource_name:t.resourceName,resource_type:t.resourceType||r.x4};return null===(a=e.items)||void 0===a||a.forEach((e=>{var t;null===(t=e.related_resources)||void 0===t||t.forEach((t=>{var a,i,s,u,d,c;m(t,n)&&([r.x4,o.billingModels.STANDARD].includes(t.billing_model)?l.standard||(l.standard={cost:t.cost,allowed:e.allowed,consumed:e.consumed}):t.billing_model!==o.billingModels.MARKETPLACE||l.marketplace||(l.marketplace={cost:t.cost,cloudAccounts:{rhm:null!==(i=null===(a=e.cloud_accounts)||void 0===a?void 0:a.filter((e=>"rhm"===e.cloud_provider_id)))&&void 0!==i?i:[],aws:null!==(u=null===(s=e.cloud_accounts)||void 0===s?void 0:s.filter((e=>"aws"===e.cloud_provider_id)))&&void 0!==u?u:[],azure:null!==(c=null===(d=e.cloud_accounts)||void 0===d?void 0:d.filter((e=>"azure"===e.cloud_provider_id)))&&void 0!==c?c:[]},allowed:e.allowed,consumed:e.consumed}))}))})),l},v=(e,t)=>{var a;return(null!==(a=e.items)&&void 0!==a?a:[]).some((e=>{var a;return null===(a=e.related_resources)||void 0===a?void 0:a.some((a=>m(a,f(t))&&(0===a.cost||e.allowed>0)))}))},h=e=>{var t,a,l,s,o,d,c;return{product:null===(a=null===(t=e.subscription)||void 0===t?void 0:t.plan)||void 0===a?void 0:a.type,billingModel:null!==(s=(0,u.F)(null===(l=e.subscription)||void 0===l?void 0:l.cluster_billing_model))&&void 0!==s?s:i.RelatedResource.billing_model.STANDARD,cloudProviderID:null!==(d=null===(o=e.cloud_provider)||void 0===o?void 0:o.id)&&void 0!==d?d:r.x4,isBYOC:!0===(null===(c=e.ccs)||void 0===c?void 0:c.enabled),isMultiAz:n()(e,"multi_az",!1)}},b=(e,t)=>E(e,{...t,resourceType:d.QuotaTypes.CLUSTER}),S=(e,t)=>b(e,{product:t})>=1,_=e=>b(e,{product:o.normalizedProducts.ROSA,billingModel:i.RelatedResource.billing_model.MARKETPLACE})>=1,C=(e,t)=>E(e,{...t,resourceType:d.QuotaTypes.NODE}),y=e=>{var t,a;return(null===(a=null===(t=null==e?void 0:e.find((e=>"cluster|byoc|moa|marketplace"===e.quota_id)))||void 0===t?void 0:t.cloud_accounts)||void 0===a?void 0:a.filter((e=>"aws"===e.cloud_provider_id)))||[]}},52865:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var l=a(23271);const n=(e,t)=>{var a,n;const r=(0,l.isHypershiftCluster)(e);let i=0,s=!1,o=0,u=0;const d=r&&(null==t?void 0:t.length)?t.map((e=>{var t,a;return null!==(a=null===(t=e.status)||void 0===t?void 0:t.current_replicas)&&void 0!==a?a:0})).reduce(((e,t)=>e+t),0):null!==(n=null===(a=e.metrics)||void 0===a?void 0:a.nodes.compute)&&void 0!==n&&n;return t&&t.forEach((e=>{var t,a,l,n,d,c,m,p,f,E,g;e.autoscaling?(s=!0,r?(o+=null!==(a=null===(t=e.autoscaling)||void 0===t?void 0:t.min_replica)&&void 0!==a?a:NaN,u+=null!==(n=null===(l=e.autoscaling)||void 0===l?void 0:l.max_replica)&&void 0!==n?n:NaN):(o+=null!==(c=null===(d=e.autoscaling)||void 0===d?void 0:d.min_replicas)&&void 0!==c?c:NaN,u+=null!==(p=null===(m=e.autoscaling)||void 0===m?void 0:m.max_replicas)&&void 0!==p?p:NaN)):(i+=null!==(f=e.replicas)&&void 0!==f?f:NaN,o+=null!==(E=e.replicas)&&void 0!==E?E:NaN,u+=null!==(g=e.replicas)&&void 0!==g?g:NaN)})),{totalDesiredComputeNodes:i,hasMachinePoolWithAutoscaling:s,totalMinNodesCount:o,totalMaxNodesCount:u,totalActualNodes:d}}},98552:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useAWSVPCFromCluster:()=>d});var l=a(93345),n=a.n(l),r=a(23271),i=a(52202),s=a(8111),o=a(16236);const{getAWSVPCDetails:u}=o.default,d=e=>{var t,a,l,o;const[d,c]=n().useState(),[m,p]=n().useState(!!e.id),[f,E]=n().useState(!1),[g,v]=n().useState(),h=(0,r.isHypershiftCluster)(e),b=e.id||"",S=(null===(t=e.aws)||void 0===t?void 0:t.subnet_ids)||[],_=S.length>0,C=async e=>{E(!1),p(!0);try{const t=await e;t&&c((e=>{const t=(e.aws_security_groups||[]).filter((e=>!e.red_hat_managed));return t.sort(s.vI),{...e,aws_security_groups:t}})(t))}catch(e){E(!0),c(void 0);const t=e.response;v(t.data.reason)}finally{p(!1)}};n().useEffect((()=>{b&&!h&&_&&(async()=>{C((async e=>{var t;let a;const l=await u(e,{includeSecurityGroups:!0});return(null===(t=l.data)||void 0===t?void 0:t.id)&&(a=l.data),a})(b))})()}),[b,h,_]);const y=S.length>0?S[0]:void 0,I=null===(l=null===(a=e.aws)||void 0===a?void 0:a.sts)||void 0===l?void 0:l.role_arn,A=(null===(o=e.region)||void 0===o?void 0:o.id)||"";return n().useEffect((()=>{h&&I&&y&&A&&(async()=>{C((async e=>(e=>{var t;const a=(null===(t=e.data)||void 0===t?void 0:t.items)||[];if(1===a.length)return a[0]})(await(0,i.getAWSCloudProviderVPCs)(e).payload))({awsCredentials:{sts:{role_arn:I}},region:A,subnet:y,options:{includeSecurityGroups:h}}))})()}),[h,y,I,A]),{clusterVpc:d,isLoading:m,hasError:f,errorReason:g}}},76601:(e,t,a)=>{"use strict";a.r(t),a.d(t,{vpcInquiryRequestSelector:()=>s,vpcsSelector:()=>i});var l=a(53207),n=a(25508);const r=(0,l.A)("CreateCluster"),i=e=>e.ccsInquiries.vpcs,s=(0,n.Mz)([e=>r(e,"cloud_provider"),e=>r(e,"region"),e=>({account_id:r(e,"associated_aws_id"),sts:{role_arn:r(e,"installer_role_arn")}})],((e,t,a)=>({cloudProviderID:e,region:t,credentials:a})))},8693:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ClusterLocationLabel:()=>i,default:()=>s});var l=a(93345),n=a.n(l),r=a(57189);const i=({regionID:e,cloudProviderID:t})=>{var a;const{data:l}=(0,r.useFetchCloudProviders)();return n().createElement(n().Fragment,null,(null===(a=null==l?void 0:l[t])||void 0===a?void 0:a.display_name)?null==l?void 0:l[t].display_name:t.toUpperCase(),"N/A"!==e&&` (${e})`)},s=i},19268:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(72432);const i=({clusterStatus:e,showErrorCode:t,showDescription:a})=>{const{description:l,provision_error_code:i,provision_error_message:s}=e,o=[t&&i,s,a&&l].filter(Boolean).join(" ");return n().createElement(r.A,null,o)}},25075:(e,t,a)=>{"use strict";a.r(t),a.d(t,{TreeViewSelect:()=>A,TreeViewSelectMenuItem:()=>I});var l=a(93345),n=a.n(l),r=a(25929),i=a(30666),s=a(93973),o=a(90678),u=a(73113),d=a(51976),c=a(22069),m=a(93745),p=a(49650),f=a(5924),E=a(78716),g=a(22546),v=a(28377),h=a(17661),b=a(88301),S=a(55420),_=a(30144),C=a(61302),y=a(76774);function I(e){const{name:t,description:a,popoverText:l,icon:r}=e,p=n().createElement(i.B,{hasGutter:!0},n().createElement(s.o,null,n().createElement(o.B,null,n().createElement(u.a,null,t),n().createElement(u.a,null,n().createElement(d.n,null,n().createElement(c.E,{component:"small"},a))))),n().createElement(s.o,{isFilled:!0}),r&&n().createElement(s.o,null,r),n().createElement(s.o,null));return l?n().createElement(m.A,{triggerAction:"hover",position:"right",bodyContent:n().createElement("div",null,l)},p):p}function A(e){const{helperText:t,includeFilterSwitch:a,setSelected:i,selected:s,selectionPlaceholderText:o,menuToggleBadge:u,treeViewSelectionMap:d,treeViewSwitchActive:c,setTreeViewSwitchActive:m,placeholder:I,searchPlaceholder:A,switchLabelOnText:R,switchLabelOffText:T,ariaLabel:O,allExpanded:P=!1}=e,[D,L]=(0,l.useState)(!1),[N,w]=(0,l.useState)(d),[M,k]=(0,l.useState)(""),F=n().useRef(null),x=n().useRef(null),[G,U]=n().useState([]);(0,l.useEffect)((()=>{s&&U([s])}),[s]);const j=(0,l.useCallback)((()=>{if(""===M)w(d);else{const e=d.map((e=>{if(e.children){let t=1;const a=new r.A(e.children,{keys:["id","category","descriptionLabel","nameLabel"],shouldSort:!0,threshold:.3,includeScore:!0,ignoreLocation:!0,minMatchCharLength:1}).search(M.trim()).map((({item:e,score:a})=>(a&&a<t&&(t=a),e)));if(a.length>0)return{...e,children:a,sortingScore:t}}})).filter(Boolean);e.sort(((e,t)=>(e.sortingScore||1/0)-(t.sortingScore||1/0))),w(e)}}),[M,d]);(0,l.useEffect)((()=>{j()}),[d,j]);const H=n().createElement(p.M,{className:"tree-view-select-toolbar"},n().createElement(f.P,null,a&&n().createElement(E.T,{widths:{default:"100%"},className:"pf-u-pt-xs pf-u-pb-sm pf-u-pl-md pf-u-pr-sm"},n().createElement(g.d,{"data-testid":"display-switch",label:R,labelOff:T,isChecked:c,onChange:()=>{m(!c)}})),n().createElement(E.T,{widths:{default:"100%"}},n().createElement(v.I,{autoComplete:"off",className:"pf-u-pt-sm pf-u-pb-sm pf-u-pl-sm pf-u-pr-sm pf-u-w-inherit",placeholder:A,onSearch:e=>{k(e.target.value),j()},"aria-label":O&&`${O} search field`})))),V=n().createElement(h.S,{ref:F,"aria-label":O&&`${O} toggle`,className:"tree-view-select-menu-toggle",onClick:e=>{D||(w(d),k("")),L(!D)},isExpanded:D,badge:u},o||s||I),q=n().createElement(b.Z,{ref:x,isScrollable:!0,variant:"raised",className:"tree-view-select-panel"},n().createElement(S.s,null,n().createElement("section",null,n().createElement(_.y,null,n().createElement(C.G,{className:"tree-view-custom-class",onSelect:(e,t)=>{t.id&&!(null==t?void 0:t.children)&&(i(e,t),L(!1))},toolbar:H,hasSelectableNodes:!1,allExpanded:P||""!==M,data:N,useMemo:!0,activeItems:G})))));return n().createElement(n().Fragment,null,n().createElement(y.$,{isOpen:D,onOpenChange:e=>{k(""),L(e)},onOpenChangeKeys:["Escape"],menu:q,menuRef:x,toggle:V,toggleRef:F}),t)}},33597:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_DELETE_UPGRADE_SCHEDULE:()=>u,CLEAR_GET_UPGRADE_SCHEDULE:()=>d,CLEAR_POST_UPGRADE_SCHEDULE:()=>i,DELETE_UPGRADE_SCHEDULE:()=>o,GET_UPGRADE_SCHEDULES:()=>s,POST_UPGRADE_SCHEDULE:()=>r,SET_CLUSTER_UPGRADE_POLICY:()=>c,clearDeleteScheduleResponse:()=>R,clearPostedUpgradeScheduleResponse:()=>T,clearSchedulesResponse:()=>O,deleteSchedule:()=>A,editSchedule:()=>I,getSchedules:()=>_,postSchedule:()=>C,replaceSchedule:()=>y,setAutomaticUpgradePolicy:()=>P});var l=a(77475),n=a(16236);const r="POST_UPGRADE_SCHEDULE",i="CLEAR_UPGRADE_SCHEDULE",s="GET_UPGRADE_SCHEDULES",o="DELETE_UPGRADE_SCHEDULE",u="CLEAR_DELETE_UPGRADE_SCHEDULE",d="CLEAR_GET_UPGRADE_SCHEDULE",c="SET_CLUSTER_UPGRADE_POLICY",{patchUpgradeSchedule:m,patchControlPlaneUpgradeSchedule:p,getUpgradeScheduleState:f,getControlPlaneUpgradeSchedules:E,getUpgradeSchedules:g,postControlPlaneUpgradeSchedule:v,postUpgradeSchedule:h,deleteControlPlaneUpgradeSchedule:b,deleteUpgradeSchedule:S}=n.default,_=(e,t)=>(0,l.action)(s,t?E(e):g(e).then((e=>{const t=e.data.items||[],a=[];return t.forEach((e=>{e.cluster_id&&e.id&&a.push(f(e.cluster_id,e.id).then((t=>{e.state=t.data})))})),Promise.all(a).then((()=>(e.data.items=t,e)))}))),C=(e,t,a)=>l=>{l({type:r,payload:(a?v:h)(e,t).then((t=>(l(_(e,a)),t)))})},y=(e,t,a,l)=>n=>{const i=l?v:h;n({type:r,payload:(l?b:S)(e,t).then((()=>i(e,a))).then((t=>(n(_(e,l)),t)))})},I=(e,t,a,l)=>n=>{n({type:r,payload:(l?p:m)(e,t,a).then((t=>(n(_(e,l)),t)))})},A=(e,t,a)=>l=>{l({type:o,payload:(a?b:S)(e,t).then((t=>(l(_(e,a)),t)))})},R=()=>e=>e({type:u}),T=()=>e=>e({type:i}),O=()=>e=>e({type:d}),P=e=>({type:c,payload:e})},97909:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useAWSVPCFromCluster:()=>u});var l=a(93345),n=a.n(l),r=a(23271),i=a(8111),s=a(16236);const o=e=>{var t;const a=(null===(t=e.data)||void 0===t?void 0:t.items)||[];if(1===a.length)return a[0]},u=(e,t)=>{var a,l,u,d;const[c,m]=n().useState(),[p,f]=n().useState(!!e.id),[E,g]=n().useState(!1),[v,h]=n().useState(),b=(0,r.isHypershiftCluster)(e),S=e.id||"",_=(null===(a=e.aws)||void 0===a?void 0:a.subnet_ids)||[],C=_.length>0,y=async e=>{g(!1),f(!0);try{const t=await e;t&&m((e=>{const t=(e.aws_security_groups||[]).filter((e=>!e.red_hat_managed));return t.sort(i.vI),{...e,aws_security_groups:t}})(t))}catch(e){g(!0),m(void 0);const t=e.response;h(t.data.reason)}finally{f(!1)}};n().useEffect((()=>{S&&!b&&C&&(async()=>{y((async(e,t)=>{var a,l;if(t){const l=(0,s.getClusterServiceForRegion)(t);let n;const r=await l.getAWSVPCDetails(e,{includeSecurityGroups:!0});return(null===(a=r.data)||void 0===a?void 0:a.id)&&(n=r.data),n}let n;const r=await s.default.getAWSVPCDetails(e,{includeSecurityGroups:!0});return(null===(l=r.data)||void 0===l?void 0:l.id)&&(n=r.data),n})(S,t))})()}),[S,b,C,t]);const I=_.length>0?_[0]:void 0,A=null===(u=null===(l=e.aws)||void 0===l?void 0:l.sts)||void 0===u?void 0:u.role_arn,R=(null===(d=e.region)||void 0===d?void 0:d.id)||"";return n().useEffect((()=>{b&&A&&I&&R&&(async()=>{y((async(e,t)=>{if(t){const a=(0,s.getClusterServiceForRegion)(t),l=await a.listAWSVPCs(e.awsCredentials,e.region,e.subnet,e.options);return o(l)}const a=await s.default.listAWSVPCs(e.awsCredentials,e.region,e.subnet,e.options);return o(a)})({awsCredentials:{sts:{role_arn:A}},region:R,subnet:I,options:{includeSecurityGroups:b}},t))})()}),[b,I,A,R,t]),{clusterVpc:c,isLoading:p,hasError:E,errorReason:v}}},37245:(e,t,a)=>{"use strict";a.r(t),a.d(t,{InstructionsChooser:()=>S});var l=a(93345),n=a.n(l),r=a(33612),i=a(3995),s=a(60915),o=a(6229),u=a(10423),d=a(96998),c=a(983),m=a(83579),p=a(35787),f=a(97948),E=a(72972),g=a(59779),v=a(69304),h=a(8888);const b=({id:e,href:t,title:a,labels:l,body:r,featureListItems:i,footerLinkHref:b,footerLinkText:S})=>{const _=(0,v.useNavigate)();return n().createElement(s.Z,{id:e,className:"infra-card",isSelectableRaised:!0,role:"link","aria-labelledby":`${e}-title`,"aria-describedby":`${e}-description`,onClick:()=>{_(t)},onKeyUp:e=>{"Enter"===e.key&&_(t)}},n().createElement(o.Z,{id:`${e}-title`},n().createElement(u.h,{headingLevel:"h2"},a),n().createElement(d.s,{spaceItems:{default:"spaceItemsSm"}},l)),n().createElement(c.b,{id:`${e}-description`},r,n().createElement(m.B8,{isPlain:!0,className:"pf-v5-u-mt-lg pf-v5-u-ml-0 pf-v5-u-pl-0"},i.map(((e,t)=>n().createElement(p.c,{key:t,icon:n().createElement(f.I,{size:"md"},n().createElement(g.Ay,{color:"var(--pf-v5-global--palette--green-400)"}))},e))))),b&&n().createElement(E.w,null,n().createElement(h.default,{href:b,stopClickPropagation:!0},S)))},S=({aiPageLink:e,aiLearnMoreLink:t,agentBasedPageLink:a,agentBasedLearnMoreLink:l,hideIPI:s=!1,ipiPageLink:o,ipiLearnMoreLink:u,hideUPI:d=!1,recommend:c="ai",upiPageLink:m,upiLearnMoreLink:p,providerSpecificFeatures:f={},name:E})=>n().createElement("div",{className:"pf-v5-c-content ocm-page instructions-chooser","data-ouia-component-id":`${E}-instructions-chooser`},e&&n().createElement(b,{id:"select-interactive",href:e,title:"Interactive",labels:n().createElement(n().Fragment,null,"ai"===c&&n().createElement(r.J,{color:"blue",icon:n().createElement(i.default,null)},"Recommended"),n().createElement(r.J,{color:"purple"},"Web-based")),body:"Runs Assisted Installer with standard configuration settings to create your cluster.",featureListItems:["Preflight validations","Smart defaults","For connected networks",...f.ai||[]],footerLinkHref:t,footerLinkText:"Learn more about interactive"}),a&&n().createElement(b,{id:"select-agent-based",href:a,title:"Local Agent-based",labels:n().createElement(r.J,{color:"purple"},"CLI-based"),body:"Runs Assisted Installer securely and locally to create your cluster.",featureListItems:["Ibmz"===E?"Installable PXE artifacts":"Installable ISO","Preflight validations",...f.abi||[]],footerLinkHref:l,footerLinkText:"Learn more about local agent-based"}),!s&&o&&n().createElement(b,{id:"select-automated",href:o,title:"Automated",labels:n().createElement(n().Fragment,null,"ipi"===c&&n().createElement(r.J,{color:"blue",icon:n().createElement(i.default,null)},"Recommended"),n().createElement(r.J,{color:"purple"},"CLI-based")),body:"Auto-provision your infrastructure with minimal configuration to create your cluster.",featureListItems:["Installer Provisioned Infrastructure",...f.ipi||[]],footerLinkHref:u,footerLinkText:"Learn more about automated"}),!d&&m&&n().createElement(b,{id:"select-full-control",href:m,title:"Full control",labels:n().createElement(r.J,{color:"purple"},"CLI-based"),body:"Make all of the decisions when you create your cluster.",featureListItems:["User Provisioned Infrastructure","Highly customizable",...f.upi||[]],footerLinkHref:p,footerLinkText:"Learn more about full control"}))},3874:(e,t,a)=>{"use strict";a.r(t),a.d(t,{InstructionsChooserPageTitle:()=>o});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(65824);const o=({cloudName:e,breadcrumbs:t})=>n().createElement(s.default,{title:`Create an OpenShift Cluster: ${e}`,breadcrumbs:t},n().createElement(r.n,{className:"pf-v5-u-mt-sm"},n().createElement(i.E,{component:"p"},"Select the installation type that best fits your needs.")))},39358:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(93345),n=a.n(l),r=a(72583),i=a(9296),s=a(94538),o=a(65702);const u={[o.tools.CRC]:"Download OpenShift Local",[o.tools.OC]:"Download command-line tools",[o.tools.X86INSTALLER]:"Download installer",[o.tools.IBMZINSTALLER]:"Download installer",[o.tools.PPCINSTALLER]:"Download installer",[o.tools.ARMINSTALLER]:"Download installer",[o.tools.MULTIINSTALLER]:"Download installer",[o.tools.OCM]:"Download ocm CLI",[o.tools.ROSA]:"Download the ROSA CLI"},d=({url:e,disabled:t=!1,download:a=!0,tool:l=o.tools.X86INSTALLER,pendoID:d,text:c="",name:m=""})=>{const p=(0,s.default)();return n().createElement(r.$n,{component:"a",href:e,variant:"secondary",className:`download-button tool-${l.toLowerCase()}`,onClick:()=>{m?p(m,d):i.trackEvents[l]&&p(i.trackEvents[l],{url:e,path:d})},disabled:!e||!0===t,"data-testid":`download-btn-${l}`,...!0===a?{download:!0}:{rel:"noreferrer noopener",target:"_blank"}},c||u[l])}},26750:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(93345),n=a.n(l),r=a(65702),i=a(83579),s=a(35787),o=a(22069),u=a(97948),d=a(40167);const c={alibaba:{cloudProvider:"Alibaba Cloud",publicCloud:!0,customizations:r.default.INSTALL_ALIBABA_CUSTOMIZATIONS,title:"Install OpenShift on Alibaba Cloud with installer-provisioned infrastructure",docURL:r.default.INSTALL_ALIBABAIPI_DOCS_LANDING,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE},aws:{cloudProvider:"AWS",publicCloud:!0,customizations:r.default.INSTALL_AWS_CUSTOMIZATIONS,x86:{ipi:{title:"Install OpenShift on AWS with installer-provisioned infrastructure",docURL:r.default.INSTALL_AWSIPI_DOCS_LANDING,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE},upi:{title:"Install OpenShift on AWS with user-provisioned infrastructure",docURL:r.default.INSTALL_AWSUPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE}},multi:{ipi:{title:"Install OpenShift on AWS with multi-architecture compute machines",installer:r.tools.MULTIINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AWS_MULTI_ARCH,preReleasePageLink:"/install/multi/pre-release"}},arm:{ipi:{title:"Install OpenShift on AWS with installer-provisioned ARM infrastructure",docURL:r.default.INSTALL_AWSIPI_DOCS_LANDING,installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,preReleasePageLink:"/install/arm/pre-release"},upi:{title:"Install OpenShift on AWS with user-provisioned ARM infrastructure",docURL:r.default.INSTALL_AWSUPI_GETTING_STARTED,installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,preReleasePageLink:"/install/arm/pre-release"}},getStartedAdditional:"The installer will ask you for the domain or subdomain you wish to use (this can be purchased through AWS but it will take some time for the DNS to propagate)."},gcp:{cloudProvider:"GCP",publicCloud:!0,customizations:r.default.INSTALL_GCP_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on GCP with installer-provisioned infrastructure",docURL:r.default.INSTALL_GCPIPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE},upi:{title:"Install OpenShift on GCP with user-provisioned infrastructure",docURL:r.default.INSTALL_GCPUPI_GETTING_STARTED,rhcos:{learnMoreURL:r.default.INSTALL_GCPUPI_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS tar",name:"OCP-Download-RHCOS-tar",url:r.default.RHCOS_GCPUPI_TAR_X86}]},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE},getStartedAdditional:"The installer will ask you for the domain or subdomain you wish to use (this can be purchased through GCP but it will take some time for the DNS to propagate)."},azure:{cloudProvider:"Azure",publicCloud:!0,customizations:r.default.INSTALL_AZURE_CUSTOMIZATIONS,x86:{ipi:{title:"Install OpenShift on Azure with installer-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AZUREIPI_GETTING_STARTED},upi:{title:"Install OpenShift on Azure with user-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AZUREUPI_GETTING_STARTED}},arm:{ipi:{title:"Install OpenShift on Azure with installer-provisioned ARM infrastructure",installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AZUREIPI_GETTING_STARTED,preReleasePageLink:"/install/arm/pre-release"}},multi:{ipi:{title:"Install OpenShift on Azure with multi-architecture compute machines",installer:r.tools.MULTIINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AZURE_MULTI_ARCH,preReleasePageLink:"/install/multi/pre-release"}},getStartedAdditional:"The installer will ask you for the domain or subdomain you wish to use (this can be purchased through Azure but it will take some time for the DNS to propagate)."},ibmCloud:{cloudProvider:"IBM Cloud",publicCloud:!0,title:"Install OpenShift on IBM Cloud with installer-provisioned infrastructure",docURL:r.default.INSTALL_IBM_CLOUD_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,powervs:{ipi:{title:"Install OpenShift on IBM Power Systems Virtual Server with installer-provisioned infrastructure",installer:r.tools.PPCINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_IBMPOWERVS_GETTING_STARTED,prerequisites:r.default.INSTALL_IBMPOWERVS_PREREQUISITES,preReleasePageLink:"/install/power/pre-release"}}},ash:{cloudProvider:"Azure Stack Hub",customizations:r.default.INSTALL_ASH_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on Azure Stack Hub with installer-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_ASHIPI_GETTING_STARTED},upi:{title:"Install OpenShift on Azure Stack Hub with user-provisioned infrastructure",rhcos:{learnMoreURL:r.default.INSTALL_ASHUPI_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS VHD",name:"OCP-Download-RHCOS-VHD",url:r.default.RHCOS_ASHUPI_VHD_X86}]},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_ASHUPI_GETTING_STARTED}},baremetal:{cloudProvider:"Bare Metal",customizations:r.default.INSTALL_BAREMETAL_CUSTOMIZATIONS,multi:{upi:{title:"Install OpenShift on bare metal with multi-architecture compute machines",installer:r.tools.MULTIINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_MULTI_ARCH,preReleasePageLink:"/install/multi/pre-release"}},x86:{abi:{title:"Install OpenShift on Bare Metal locally with Agent",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},ipi:{title:"Install OpenShift on Bare Metal with installer-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_IPI_GETTING_STARTED},upi:{title:"Install OpenShift on Bare Metal with user-provisioned infrastructure",rhcos:{learnMoreURL:r.default.INSTALL_BAREMETAL_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:r.default.RHCOS_GENERIC_ISO_X86},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_GENERIC_KERNEL_X86},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_GENERIC_INITRAMFS_X86},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_GENERIC_ROOTFS_X86}],additionalInstructions:"Download the installer ISO image, or the kernel, initramfs, and rootfs."},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_UPI_GETTING_STARTED}},arm:{abi:{title:"Install OpenShift on ARM Bare Metal locally with Agent",installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},ipi:{title:"Install OpenShift on ARM Bare Metal with installer-provisioned infrastructure",installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_IPI_GETTING_STARTED,preReleasePageLink:"/install/arm/pre-release"},upi:{title:"Install OpenShift on ARM Bare Metal with user-provisioned infrastructure",rhcos:{learnMoreURL:r.default.INSTALL_BAREMETAL_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:r.default.RHCOS_ARM_ISO},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_ARM_KERNEL},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_ARM_INITRAMFS},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_ARM_ROOTFS}],additionalInstructions:"Download the installer ISO image, or the kernel, initramfs, and rootfs."},installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_UPI_GETTING_STARTED,preReleasePageLink:"/install/arm/pre-release"}},ppc:{abi:{title:"Install OpenShift on IBM Power (ppc64le) locally with Agent",installer:r.tools.PPCINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},upi:{title:"Install OpenShift on IBM Power (ppc64le) with user-provisioned infrastructure",installer:r.tools.PPCINSTALLER,channel:r.channels.STABLE,rhcos:{learnMoreURL:r.default.INSTALL_POWER_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:r.default.RHCOS_POWER_ISO},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_POWER_INITRAMFS},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_POWER_KERNEL},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_POWER_ROOTFS}],additionalInstructions:"Download either the installer ISO image or for PXE booting the initramfs, the kernel, and the rootfs files."},preReleasePageLink:"/install/power/pre-release",docURL:r.default.INSTALL_POWER_GETTING_STARTED}},s390x:{customizations:r.default.INSTALL_IBMZ_AGENTS_GETTING_STARTED,abi:{title:"Install OpenShift on IBM Z (s390x) locally with Agent",installer:r.tools.IBMZINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},upi:{title:"Install OpenShift on IBM Z (s390x) with user-provisioned infrastructure",rhcos:{additionalInstructions:n().createElement((()=>n().createElement(i.B8,null,n().createElement(s.c,null,"If you plan your installation with z/VM, download the initramfs, the kernel, and the rootfs files."," ",n().createElement(o.E,{component:"a",href:r.default.INSTALL_IBMZ_LEARN_MORE_ZVM,target:"_blank",rel:"noreferrer noopener","data-testid":"install-ibmz-zvm-link"},"Learn more"," ",n().createElement(u.I,{size:"sm"},n().createElement(d.ExternalLinkAltIcon,null)),".")),n().createElement(s.c,null,"If you plan your installation with RHEL KVM, depending on the installation type you plan to perform, download the QCOW2 file or the initramfs, the kernel, and the rootfs files."," ",n().createElement(o.E,{component:"a",href:r.default.INSTALL_IBMZ_RHCOS_LEARN_MORE_RHEL_KVM,target:"_blank",rel:"noreferrer noopener","data-testid":"install-ibmz-rhcos-link"},"Learn more"," ",n().createElement(u.I,{size:"sm"},n().createElement(d.ExternalLinkAltIcon,null)),"."," ")))),null),downloads:[{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_IBMZ_INITRAMFS},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_IBMZ_KERNEL},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_IBMZ_ROOTFS},{buttonText:"Download QCOW2 image",name:"OCP-Download-RHCOS-qcow2",url:r.default.RHCOS_IBMZ_QCOW}]},docURL:r.default.INSTALL_IBMZ_GETTING_STARTED,preReleasePageLink:"/install/ibmz/pre-release",installer:r.tools.IBMZINSTALLER,channel:r.channels.STABLE}}},generic:{cloudProvider:"Platform Agnostic",abi:{title:"Install OpenShift on any x86_64 platform locally with Agent",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},upi:{title:"Install OpenShift on any x86_64 platform with user-provisioned infrastructure",rhcos:{learnMoreURL:r.default.INSTALL_GENERIC_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:r.default.RHCOS_GENERIC_ISO_X86},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_GENERIC_KERNEL_X86},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_GENERIC_INITRAMFS_X86},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_GENERIC_ROOTFS_X86}],additionalInstructions:"Download the installer ISO image, or the kernel, initramfs, and rootfs."},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_GENERIC_GETTING_STARTED}},nutanix:{cloudProvider:"Nutanix AOS",ipi:{title:"Install OpenShift on Nutanix AOS with installer-provisioned infrastructure",docURL:r.default.INSTALL_NUTANIXIPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE}},vsphere:{cloudProvider:"VMware vSphere",customizations:r.default.INSTALL_VSPHERE_CUSTOMIZATIONS,abi:{title:"Install OpenShift on vSphere locally with Agent",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},upi:{title:"Install OpenShift on vSphere with user-provisioned infrastructure",docURL:r.default.INSTALL_VSPHEREUPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,rhcos:{downloads:[{buttonText:"Download RHCOS OVA",name:"OCP-Download-RHCOS-OVA",url:r.default.RHCOS_VSPHERE_OVA_X86}],learnMoreURL:r.default.INSTALL_VSPHERE_RHCOS_LEARN_MORE}},ipi:{title:"Install OpenShift on vSphere with installer-provisioned infrastructure",docURL:r.default.INSTALL_VSPHEREIPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE}},openstack:{cloudProvider:"Red Hat OpenStack Platform",customizations:r.default.INSTALL_OSP_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on Red Hat OpenStack Platform with installer-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_OSPIPI_GETTING_STARTED},upi:{title:"Install OpenShift on Red Hat OpenStack Platform with user-provisioned infrastructure",docURL:r.default.INSTALL_OSPUPI_GETTING_STARTED,rhcos:{learnMoreURL:r.default.INSTALL_OSPUPI_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS QCOW",name:"OCP-Download-RHCOS-QCOW",url:r.default.RHCOS_OSPUPI_QCOW_X86}]},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE}}}},57847:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ClusterRequestTranslatorFactory:()=>s});var l=a(75166);class n{toYaml(e){throw new Error("Method not implemented.")}fromYaml(e){throw new Error("Method not implemented.")}}var r=a(20382);class i{toYaml(e){return(0,r.Bh)(e)}fromYaml(e){return(0,r.Hh)(e)}}class s{static createClusterRequestTranslator(e){return e===l.normalizedProducts.ROSA?new i:new n}}},29814:(e,t,a)=>{"use strict";a.d(t,{c:()=>b});var l=a(93345),n=a.n(l),r=a(30620),i=a(23215),s=a(56780),o=a(30666),u=a(93973),d=a(65702),c=a(49484),m=a(14115),p=a(5330),f=a(72067),E=a(2786),g=a(8888),v=a(55213),h=a(62384);function b({isRosa:e}){const{values:{[m.FieldId.FipsCryptography]:t},getFieldProps:a,setFieldValue:l}=(0,f.l)();return n().createElement(r.x,{hasGutter:!0},n().createElement(i.E,null,n().createElement(s.g,{label:"FIPS cryptography"},n().createElement(p.CheckboxField,{name:m.FieldId.FipsCryptography,label:"Enable FIPS cryptography",isDisabled:(0,h.isRestrictedEnv)(),input:{...a(m.FieldId.FipsCryptography),onChange:async(e,t)=>{l(m.FieldId.FipsCryptography,t,!1),t&&l(m.FieldId.EtcdEncryption,!0,!1)}}}),n().createElement(E.CheckboxDescription,null,"Install a cluster that uses FIPS Validated / Modules in Process cryptographic libraries on the x86_64 architecture."))),n().createElement(i.E,null,n().createElement(s.g,{label:"etcd encryption"},n().createElement(o.B,{hasGutter:!0},n().createElement(u.o,null,n().createElement(p.CheckboxField,{name:m.FieldId.EtcdEncryption,label:"Enable additional etcd encryption",isDisabled:t})),n().createElement(u.o,null,n().createElement(v.default,{hint:n().createElement(n().Fragment,null,c.constants.enableAdditionalEtcdHint," ",n().createElement(g.default,{href:e?d.default.ROSA_SERVICE_ETCD_ENCRYPTION:d.default.OSD_ETCD_ENCRYPTION},"Learn more about etcd encryption"))}))),t&&n().createElement(E.CheckboxDescription,null,"Required when FIPS cryptography is enabled."),n().createElement(E.CheckboxDescription,null,"Add more encryption for OpenShift and Kubernetes API resources."))))}},28053:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var l=a(71468),n=a(93345),r=a.n(n),i=a(8371),s=a(3638),o=a(75907),u=a(72067),d=a(55816),c=a(57860);const m=(0,l.Ng)(((e,t)=>{var a,l;const{cloudProviders:n}=e,r=(null===(l=null===(a=n.providers)||void 0===a?void 0:a[t.cloudProviderID])||void 0===l?void 0:l.regions)||{};return{cloudProviders:n,regions:Object.values(r).map((e=>(0,c.v)(e,t)))}}))((({field:e,cloudProviderID:t,cloudProviders:a,regions:l,isDisabled:n,handleCloudRegionChange:m})=>{const{setFieldValue:p}=(0,u.l)();return r().useEffect((()=>{const a=l.find((t=>t.id===e.value));if(!a||a.disableReason){const a=(0,c.p)(l,t);a&&(p(e.name,a),null==m||m())}}),[l,t,e.value,e.name,p,m]),a.fulfilled?r().createElement(i.F,{name:e.name,className:"cloud-region-combo-box","aria-label":"Region",isDisabled:n,value:e.value,onChange:(t,a)=>{p(e.name,a),null==m||m()}},l.filter((t=>!t.hide||t.id===e.value)).map((e=>r().createElement(s.Q,{key:e.id,value:e.id,label:`${e.id}, ${e.display_name}`,isDisabled:!!e.disableReason})))):a.error?r().createElement(d.default,{message:"Error loading region list",response:a}):r().createElement(r().Fragment,null,r().createElement("div",{className:"spinner-fit-container"},r().createElement(o.A,null)),r().createElement("div",{className:"spinner-loading-text"},"Loading region list..."))}))},57860:(e,t,a)=>{"use strict";a.d(t,{p:()=>r,v:()=>n});var l=a(14115);const n=(e,t)=>e.enabled?!t.isBYOC&&e.ccs_only?{...e,hide:!0,disableReason:"This region only supported on Customer cloud subscription, not Red Hat account"}:t.isMultiAz&&!e.supports_multi_az?{...e,hide:!1,disableReason:"This region only supported for Single-zone, not Multi-zone"}:t.isHypershiftSelected&&!e.supports_hypershift?{...e,hide:!0,disableReason:"This region is not supported with Hosted Control Plane, only Standalone"}:{...e,hide:!1,disableReason:void 0}:{...e,hide:!0,disableReason:"This region is not supported"},r=(e,t)=>{var a;const n="aws"===t?l.AWS_DEFAULT_REGION:l.GCP_DEFAULT_REGION,r=e.find((e=>e.id===n));return r&&!r.disableReason?r.id:null===(a=e.find((e=>!e.disableReason)))||void 0===a?void 0:a.id}},5537:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AutoScale:()=>Y});var l=a(93345),n=a.n(l),r=a(71468),i=a(23215),s=a(56780),o=a(72583),u=a(65702),d=a(75166),c=a(49484),m=a(5330),p=a(72067),f=a(16829),E=a(8888),g=a(91089),v=a(43775),h=a(55213),b=a(88139),S=a(96998),_=a(84037),C=a(41682),y=a(70557),I=a(31261),A=a(73553),R=a(38715),T=a(11243),O=a(976),P=a(15758);const D=({min:e,max:t,input:a,meta:{error:l},displayError:r,hideError:i,limit:s,ariaLabel:o})=>{n().useEffect((()=>{l?r(s,l):i(s)}),[l,s,r,i]);const u=l=>()=>Number.isNaN(parseInt(a.value,10))||parseInt(a.value,10)<e?a.onChange(e):parseInt(a.value,10)>t?a.onChange(t):l?a.onChange(parseInt(a.value,10)+1):a.onChange(parseInt(a.value,10)-1);return n().createElement(P.Q,{value:parseInt(a.value,10),min:e,max:t,onMinus:u(!1),onChange:e=>a.onChange(Number(e.target.value)),onPlus:u(!0),inputAriaLabel:o,minusBtnAriaLabel:`${o} minus`,plusBtnAriaLabel:`${o} plus`,widthChars:4,inputProps:{onBlur:e=>{e.target.value=Number(e.target.value).toString(),a.onBlur(e)}}})},L=()=>{const{setFieldValue:e,setFieldTouched:t,getFieldProps:a,getFieldMeta:r,values:{[f.FieldId.Hypershift]:i,[f.FieldId.AutoscalingEnabled]:o,[f.FieldId.MachinePoolsSubnets]:m,[f.FieldId.MultiAz]:g,[f.FieldId.MinReplicas]:v,[f.FieldId.MaxReplicas]:P,[f.FieldId.Product]:L,[f.FieldId.Byoc]:N,[f.FieldId.ClusterVersion]:w}}=(0,p.l)(),M=(0,T.useFeatureGate)(O.MAX_COMPUTE_NODES_500),k=(0,l.useMemo)((()=>{var e;return null!==(e=null==m?void 0:m.length)&&void 0!==e?e:1}),[null==m?void 0:m.length]),[F,x]=(0,l.useState)(),[G,U]=(0,l.useState)(),j="true"===g,H="true"===i,V="true"===N,q=L===d.normalizedProducts.ROSA,z=(0,l.useMemo)((()=>H?"Minimum nodes per machine pool":j?"Minimum nodes per zone":"Minimum node count"),[H,j]),B=(0,l.useMemo)((()=>H?"Maximum nodes per machine pool":j?"Maximum nodes per zone":"Maximum node count"),[H,j]),W=(0,l.useMemo)((()=>(0,C.getMinNodesRequired)(H,{numMachinePools:k},{isDefaultMachinePool:!H,isByoc:V,isMultiAz:j})),[k,H,V,j]),$=(0,l.useMemo)((()=>H?k>1?1:2:W),[H,W,k]),Y=(e,t="default")=>n().createElement(R.FormGroupHelperText,{touched:!0,variant:t,hasIcon:"error"===t},e),K=(0,l.useCallback)(((e="0")=>H?Y(`x ${k} machine pools = ${parseInt(e,10)*k}`):j?Y("x 3 zones = "+3*parseInt(e,10)):null),[H,j,k]),Q=(0,l.useMemo)((()=>{const e=(0,A.default)({isDefaultMachinePool:!H,product:L,isBYOC:V,isMultiAz:j,autoScaleMinNodesValue:void 0,defaultMinAllowed:$,isHypershiftWizard:H});if(e)return e/(j&&!H?3:1)}),[L,V,j,$,H]),Z=(0,l.useMemo)((()=>H?Math.floor((0,I.getMaxNodesHCP)(null==w?void 0:w.raw_id,M)/k):j?y.MAX_NODES/3:y.MAX_NODES),[j,H,k,M,null==w?void 0:w.raw_id]);(0,l.useEffect)((()=>{if(o&&Q){const t=v?parseInt(v,10):0,a=t<Q?Q:t;a&&e(f.FieldId.MinReplicas,a),P||e(f.FieldId.MaxReplicas,a)}}),[o,j,Q,e]),(0,l.useEffect)((()=>{P&&e(f.FieldId.MaxReplicas,P,!0)}),[v]);const X=e=>{const t=null==e?void 0:e.toString(),a=(0,_.required)(t),l=(0,_.validateNumericInput)(t,{min:Q,allowZero:!0}),n=(0,_.validateNumericInput)(t,{max:Z,allowZero:!0});return a||l||n||void 0};return n().createElement(S.s,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsMd"},className:"pf-v5-u-mt-md"},n().createElement(s.g,{label:z,isRequired:!0,fieldId:"nodes_min",className:"autoscaling__nodes-formGroup"},n().createElement(b.Field,{component:D,name:f.FieldId.MinReplicas,type:"text",ariaLabel:"Minimum nodes",validate:e=>X(e),displayError:(e,t)=>x(t),hideError:()=>x(void 0),limit:"min",min:Q,max:Z,input:{...a(f.FieldId.MinReplicas),onChange:a=>{e(f.FieldId.MinReplicas,a,!0),t(f.FieldId.MinReplicas,!0,!1)}},meta:r(f.FieldId.MinReplicas)}),F?Y(F,"error"):K(v)),n().createElement(s.g,{label:B,isRequired:!0,fieldId:"nodes_max",className:"autoscaling__nodes-formGroup",labelIcon:n().createElement(h.default,{hint:n().createElement(n().Fragment,null,H?c.constants.hcpComputeNodeCountHintWizard:c.constants.computeNodeCountHint,n().createElement("br",null),q?n().createElement(n().Fragment,null,n().createElement(E.default,{href:u.default.ROSA_WORKER_NODE_COUNT},"Learn more about worker/compute node count"),n().createElement("br",null)):null)})},n().createElement(b.Field,{component:D,name:f.FieldId.MaxReplicas,type:"text",ariaLabel:"Maximum nodes",validate:e=>(e=>X(e)||(v&&e<v?"Max nodes cannot be less than min nodes.":void 0))(e),displayError:(e,t)=>U(t),hideError:()=>U(void 0),limit:"max",min:Q,max:Z,input:{...a(f.FieldId.MaxReplicas),onChange:a=>{e(f.FieldId.MaxReplicas,a,!0),t(f.FieldId.MaxReplicas,!0,!1)}},meta:r(f.FieldId.MaxReplicas)}),G?Y(G,"error"):K(P)))};var N=a(22069),w=a(83349),M=a(79752),k=a(30620),F=a(11611),x=a(25670),G=a(13605),U=a(10050),j=a(14115),H=a(23658),V=a(47006),q=a(28592),z=a(25514),B=a(36215);const W=(e,t)=>{if("boolean"===e.type)return n().createElement(H.e,{name:`cluster_autoscaling.${e.name}`,label:e.label,helperText:n().createElement("span",{className:"custom-help-text"},"Default value: ",`${e.defaultValue}`)});const a="number"===e.type||"min-max"===e.type?"number":"text",l=(e=>{let t;switch(e.name){case"log_verbosity":t=B.Yp;break;case"pod_priority_threshold":t=B.iR;break;case"scale_down.utilization_threshold":t=B.O0}return t||("time"===e.type?t=_.clusterAutoScalingValidators.k8sTimeParameter:"number"!==e.type&&"min-max"!==e.type||(t=B.Nh),t)})(e);return n().createElement(V.A,{name:`cluster_autoscaling.${e.name}`,label:e.label,type:a,isDisabled:t,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},"Default value: ",`${e.defaultValue}`),validate:l})},$=({isWizard:e,isRosa:t})=>{var a;const l=(0,r.wA)(),s=(0,z.useGlobalState)((e=>e.modal.modalName===v.default.EDIT_CLUSTER_AUTOSCALING_V2)),{values:{[j.FieldId.ClusterAutoscaling]:o},errors:{[j.FieldId.ClusterAutoscaling]:d},setFieldValue:c}=(0,p.l)(),m=t=>{e&&l((0,g.closeModal)()),t&&t.preventDefault()},f=Object.keys(d||{}).length>0,h=!1===(null===(a=null==o?void 0:o.scale_down)||void 0===a?void 0:a.enabled);return n().createElement(q.default,{variant:"large",isOpen:s,title:"Edit cluster autoscaling settings","data-testid":"cluster-autoscaling-dialog",primaryText:"Close",secondaryText:"Revert all to defaults",onPrimaryClick:m,onSecondaryClick:()=>{c(j.FieldId.ClusterAutoscaling,(0,F.getDefaultClusterAutoScaling)(),!0)},isPrimaryDisabled:f,showClose:!1},n().createElement(n().Fragment,null,n().createElement(N.E,{component:"p"},"The cluster autoscaler adjusts the size of a cluster to meet its current deployment needs. Learn more about"," ",n().createElement(E.default,{href:t?u.default.ROSA_CLUSTER_AUTOSCALING:u.default.OSD_CLUSTER_AUTOSCALING},"cluster autoscaling")," ","or",n().createElement(E.default,{href:u.default.APPLYING_AUTOSCALING_API_DETAIL}," APIs"),"."),n().createElement(w.l,{onSubmit:m,className:"cluster-autoscaling-form"},n().createElement(M.y,{title:"General settings"},n().createElement(k.x,{hasGutter:!0},U._d.map((e=>n().createElement(i.E,{span:6,key:e.name},W(e)))),n().createElement(i.E,{span:6},n().createElement(V.A,{name:"cluster_autoscaling.balancing_ignored_labels",label:"balancing-ignored-labels",type:"text",tooltip:G.rA,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},G.nY),validate:_.validateListOfBalancingLabels})))),n().createElement(M.y,{title:"Resource limits"},n().createElement(k.x,{hasGutter:!0},U.Ax.map((e=>n().createElement(i.E,{span:6,key:e.name},W(e)))),n().createElement(i.E,{span:6},n().createElement(V.A,{name:"cluster_autoscaling.resource_limits.gpus",label:"GPUs",type:"text",tooltip:x._z,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},x.gf),validate:_.clusterAutoScalingValidators.k8sGpuParameter})))),n().createElement(M.y,{title:"Scale down configuration"},n().createElement(k.x,{hasGutter:!0},U.kD.map((e=>{const t=h&&"scale_down.enabled"!==e.name;return n().createElement(i.E,{span:6,key:e.name},W(e,t))})))))))},Y=()=>{const{values:{[f.FieldId.Hypershift]:e,[f.FieldId.Byoc]:t,[f.FieldId.AutoscalingEnabled]:a,[f.FieldId.Product]:l}}=(0,p.l)(),b=(0,r.wA)(),S=l===d.normalizedProducts.ROSA,_=S?u.default.ROSA_AUTOSCALING:u.default.APPLYING_AUTOSCALING,C=!("true"===e)&&"true"===t;return n().createElement(i.E,{id:"autoscaling"},n().createElement(s.g,{fieldId:"autoscaling",label:"Autoscaling",labelIcon:n().createElement(h.default,{hint:n().createElement(n().Fragment,null,c.constants.autoscaleHint," ",n().createElement(E.default,{href:_},"Learn more about autoscaling",S?" with ROSA":""))})}),n().createElement(m.CheckboxField,{name:f.FieldId.AutoscalingEnabled,label:"Enable autoscaling",helperText:C?"The cluster autoscaler uses declarative, Kubernetes-style arguments to adjust the size of the cluster to meet its deployment needs.":"Autoscaling automatically adds and removes compute nodes from the cluster based on resource requirements."}),C?n().createElement(i.E,{md:3},n().createElement(o.$n,{"data-testid":"set-cluster-autoscaling-btn",variant:"secondary",className:"pf-v5-u-mt-md",onClick:()=>b((0,g.openModal)(v.default.EDIT_CLUSTER_AUTOSCALING_V2)),isDisabled:!a},"Edit cluster autoscaling settings")):null,n().createElement($,{isWizard:!0,isRosa:S}),a?n().createElement(L,null):null)}},36215:(e,t,a)=>{"use strict";a.d(t,{Nh:()=>n,O0:()=>i,Yp:()=>r,iR:()=>l});const l=e=>{const t=Number(e);if(Number.isNaN(t))return"Value must be a number."},n=e=>l(e)||(Number(e)<0?"Value cannot be a negative number.":void 0),r=e=>{const t=l(e);if(t)return t;const a=Number(e);return a<1||a>6?"Value must be between 1 and 6.":void 0},i=e=>n(e)||(+e<0||+e>1?"Value must be between 0 and 1.":void 0)},71931:(e,t,a)=>{"use strict";a.d(t,{h:()=>i});var l=a(93345),n=a.n(l),r=a(70460);const i=()=>n().createElement(r.F,{variant:r.w.info,isInline:!0,title:"In order to use the IMDS settings, a cluster version of at least 4.11 must be selected in the previous step.",className:"pf-v5-u-mb-sm"})},48394:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var l=a(93345),n=a.n(l),r=a(22069),i=a(65702),s=a(8888),o=a(55213);const u=()=>n().createElement(o.default,{minWidth:"30rem",title:"Amazon EC2 Instance Metadata Service (IMDS)",bodyContent:n().createElement(n().Fragment,null,n().createElement(r.E,{component:r.Y.p},"Instance metadata is data that is related to an Amazon Elastic Compute Cloud (Amazon EC2) instance that applications can use to configure or manage the running instance."),n().createElement(r.E,{component:r.Y.p},n().createElement(s.default,{href:i.default.AWS_IMDS},"Learn more about IMDS")))})},66822:(e,t,a)=>{"use strict";a.d(t,{U:()=>n});var l=a(14115);const n=[{value:l.IMDSType.V1AndV2,ariaLabel:"Both IMDSv1 and IMDSv2",label:"Use both IMDSv1 and IMDSv2",description:"Allows use of both IMDS versions for backward compatibility"},{value:l.IMDSType.V2Only,ariaLabel:"IMDSv2 only",label:"Use IMDSv2 only",description:"A session-oriented method with enhanced security"}]},79082:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DebugClusterRequest:()=>u});var l=a(93345),n=a.n(l),r=a(23215),i=a(10276),s=a(66338),o=a(41685);const u=({cloudProvider:e,product:t,formValues:a})=>{let l,u;try{l=(0,o.createClusterRequest)({product:t,cloudProviderID:e},a)}catch(e){l=`error computing cluster request: ${e}`}try{u=(0,o.upgradeScheduleRequest)(a),u||(u="Manual upgrade strategy, no request to be made.")}catch(e){u=`error computing upgrade request: ${e}`}return n().createElement(r.E,null,n().createElement(i.l,{variant:"blue"},n().createElement(s.Q,{toggleText:"Debug: cluster request to be sent"},n().createElement("pre",null,JSON.stringify(l,null,2))),n().createElement(s.Q,{toggleText:"Debug: upgrade schedule request to be sent"},n().createElement("pre",null,JSON.stringify(u,null,2)))))}},17611:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var l=a(93345),n=a.n(l),r=a(66338),i=a(84037),s=a(14115),o=a(5330);const u=({initiallyExpanded:e=!1,children:t,acknowledgementRequired:a=!1,toggleText:u="Prerequisites",fieldName:d="acknowledge_prerequisites",...c})=>{const[m,p]=(0,l.useState)(e);return(0,l.useEffect)((()=>{p(e)}),[e]),n().createElement(n().Fragment,null,n().createElement(r.Q,{className:"prerequisites-expandable-section",toggleText:u,isExpanded:m,onToggle:()=>{p(!m)},...c},n().createElement("div",{className:"prerequisites-section"},t)),a&&n().createElement(o.CheckboxField,{name:s.FieldId.AcknowledgePrereq,label:"I've read and completed all the prerequisites and am ready to continue creating my cluster.",validate:i.acknowledgePrerequisites}))}},1477:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(30620),i=a(23215);const s=(e,t)=>{var a;const l=null===(a=e.aws_subnets)||void 0===a?void 0:a.find((e=>e.subnet_id===t));return(null==l?void 0:l.name)||t},o=({vpc:e,machinePoolsSubnets:t,hasPublicSubnets:a})=>{const l=a?2:3,o=a?5:9;return n().createElement(r.x,null,n().createElement(i.E,{md:l},n().createElement("strong",null,"Availability zone")),n().createElement(i.E,{md:o},n().createElement("strong",null,"Private subnet")),a&&n().createElement(i.E,{md:o},n().createElement("strong",null,"Public subnet")),t.map((t=>n().createElement(n().Fragment,{key:t.privateSubnetId},n().createElement(i.E,{md:l},t.availabilityZone),n().createElement(i.E,{md:o},s(e,t.privateSubnetId)),a&&n().createElement(i.E,{md:o},s(e,t.publicSubnetId))))))}},38307:(e,t,a)=>{"use strict";a.r(t),a.d(t,{buildSecurityGroups:()=>o,default:()=>d});var l=a(93345),n=a.n(l),r=a(96998),i=a(96553),s=a(5421);const o=(e,t)=>t.map((t=>{const a=e.find((e=>e.id===t))||{name:t};return{id:t,name:a.name}})),u=({vpcGroups:e,selectedGroupIds:t,nodeType:a})=>n().createElement(r.s,{direction:{default:"column"}},n().createElement(i.Z,null,n().createElement("strong",null,a," nodes")),n().createElement(i.Z,{wrap:"wrap"},n().createElement(s.A,{securityGroups:o(e,t),isReadOnly:!0}))),d=({vpcGroups:e,formGroups:t})=>n().createElement(n().Fragment,null,t.controlPlane.length>0&&n().createElement(u,{nodeType:t.applyControlPlaneToAll?"All":"Control plane",vpcGroups:e,selectedGroupIds:t.controlPlane}),!t.applyControlPlaneToAll&&n().createElement(n().Fragment,null,t.infra.length>0&&n().createElement(u,{nodeType:"Infrastructure",vpcGroups:e,selectedGroupIds:t.infra}),t.worker.length>0&&n().createElement(u,{nodeType:"Worker",vpcGroups:e,selectedGroupIds:t.worker})))},57596:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var l=a(93345),n=a.n(l),r=a(71468),i=a(56780),s=a(96998),o=a(96553),u=a(92292),d=a(72583),c=a(32358),m=a(69202),p=a(55816),f=a(35158),E=a(52202);const g=(e,t)=>e.disabled&&!t.disabled?1:t.disabled&&!e.disabled?-1:e.label.localeCompare(t.label),v=({selectedVPC:e,input:{name:t,onBlur:a,...l},meta:{error:v,touched:h},showRefresh:b=!1,isHypershift:S=!1,isOSD:_=!1,isRosaV1:C=!0,usePrivateLink:y})=>{var I;const A=(0,r.wA)(),[R,T]=n().useState(!1),{vpcs:O,requestParams:P}=(0,m.v3)(_,C),D=n().useMemo((()=>{var e;return(0,c.filterOutRedHatManagedVPCs)((null===(e=O.data)||void 0===e?void 0:e.items)||[])}),[null===(I=O.data)||void 0===I?void 0:I.items]),L=n().useMemo((()=>{let e="Select a VPC";return O.pending?e="Loading...":0===D.length&&(e="No VPCs found"),{placeholder:e,options:D.map((e=>{const t=!(0,c.vpcHasRequiredSubnets)(e,y),a=e.id;return{entryId:a,label:e.name||a,description:t?"This VPC does not have all necessary subnets":"",disabled:t}}))}}),[O.pending,D,y]);return n().useEffect((()=>{if(!e)return;const t=D.some((t=>(null==t?void 0:t.id)===e.id));D.length>0&&e.id&&!t&&l.onChange({id:"",name:""})}),[e,D]),n().createElement(i.g,{label:`Select a VPC to install your ${S?"machine pools":"cluster"} into your selected region: ${P.region||""}`,isRequired:!0},n().createElement(s.s,null,n().createElement(o.Z,{flex:{default:"flex_1"},style:{minWidth:0}},n().createElement(f.default,{label:"Select a VPC","aria-label":"select VPC",isOpen:R,onToggle:()=>{T(!R)},onSelect:(e,t)=>{const a=D.find((e=>e.id===t));a&&(l.onChange(a),T(!1))},sortFn:g,selectedEntryId:null==e?void 0:e.id,selectionData:L.options,isDisabled:O.pending||0===L.options.length,placeholderText:L.placeholder,inlineFilterPlaceholderText:"Filter by VPC ID / name",validated:h&&v?"error":"default",toggleId:t})),b&&n().createElement(o.Z,null,n().createElement(u.m,{content:n().createElement("p",null,"Refresh")},n().createElement(d.$n,{"data-testid":"refresh-vpcs",isLoading:O.pending,isDisabled:O.pending,isInline:!0,size:"sm",variant:"secondary",onClick:()=>{"aws"===P.cloudProviderID&&(l.onChange({id:"",name:""}),A((0,E.getAWSCloudProviderVPCs)({region:P.region,awsCredentials:P.credentials,options:S?void 0:{includeSecurityGroups:!0}})))}},"Refresh")))),O.error&&n().createElement(s.s,null,n().createElement(o.Z,{flex:{default:"flex_1"},style:{minWidth:0,marginTop:10}},n().createElement(p.default,{message:"Error retrieving VPCs",response:O}))))}},98094:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ValuesCodeEditor:()=>i});var l=a(93345),n=a.n(l),r=a(13685);const i=({code:e})=>n().createElement(r.B,{isLineNumbersVisible:!1,isReadOnly:!0,code:e,language:r.T.json,onEditorDidMount:e=>{e.layout(),e.focus()},height:"400px"})},14115:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AWS_DEFAULT_REGION:()=>u,CloudProviderType:()=>i,FieldId:()=>l,GCP_DEFAULT_REGION:()=>d,IMDSType:()=>o,UpgradePolicyType:()=>s,canConfigureDayOneManagedIngress:()=>p,canSelectImds:()=>m,emptyAWSSubnet:()=>c,initialValues:()=>r});var l,n=a(88851);!function(e){e.AccessKeyId="access_key_id",e.AccountId="account_id",e.AcknowledgePrereq="acknowledge_prerequisites",e.AdditionalTrustBundle="additional_trust_bundle",e.ApplicationIngress="applicationIngress",e.AutomaticUpgradeSchedule="automatic_upgrade_schedule",e.AutoscalingEnabled="autoscalingEnabled",e.BillingModel="billing_model",e.Byoc="byoc",e.ByoOidcConfigId="byo_oidc_config_id",e.ByoOidcConfigIdManaged="byo_oidc_config_id_managed",e.CidrDefaultValuesEnabled="cidr_default_values_enabled",e.CidrDefaultValuesToggle="cidr_default_values_toggle",e.CloudProvider="cloud_provider",e.ClusterAutoscaling="cluster_autoscaling",e.ClusterName="name",e.ClusterVersion="cluster_version",e.ComputeSubnet="compute_subnet",e.ConfigureProxy="configure_proxy",e.ControlPlaneSubnet="control_plane_subnet",e.CustomerManagedKey="customer_managed_key",e.CustomOperatorRolesPrefix="custom_operator_roles_prefix",e.DefaultRouterExcludedNamespacesFlag="defaultRouterExcludedNamespacesFlag",e.DefaultRouterSelectors="defaultRouterSelectors",e.DetectedOcmRole="detected_ocm_role",e.DisableScpChecks="disable_scp_checks",e.DomainPrefix="domain_prefix",e.EnableUserWorkloadMonitoring="enable_user_workload_monitoring",e.EtcdEncryption="etcd_encryption",e.FipsCryptography="fips",e.GcpServiceAccount="gcp_service_account",e.HasDomainPrefix="has_domain_prefix",e.HttpProxyUrl="http_proxy_url",e.HttpsProxyUrl="https_proxy_url",e.IMDS="imds",e.InstallerRoleArn="installer_role_arn",e.InstallToVpc="install_to_vpc",e.IsDefaultRouterNamespaceOwnershipPolicyStrict="isDefaultRouterNamespaceOwnershipPolicyStrict",e.IsDefaultRouterWildcardPolicyAllowed="isDefaultRouterWildcardPolicyAllowed",e.KmsKeyArn="kms_key_arn",e.MachinePoolsSubnets="machinePoolsSubnets",e.MachineType="machine_type",e.MachineTypeForceChoice="machine_type_force_choice",e.MaxReplicas="max_replicas",e.MinReplicas="min_replicas",e.MultiAz="multi_az",e.NetworkHostPrefix="network_host_prefix",e.NetworkMachineCidr="network_machine_cidr",e.NetworkPodCidr="network_pod_cidr",e.NetworkServiceCidr="network_service_cidr",e.NodeDrainGracePeriod="node_drain_grace_period",e.NodeLabels="node_labels",e.NodesCompute="nodes_compute",e.NoProxyDomains="no_proxy_domains",e.Product="product",e.Region="region",e.RegionalInstance="regional_instance",e.RosaCreatorArn="rosa_creator_arn",e.RosaRolesProviderCreationMode="rosa_roles_provider_creation_mode",e.SecretAccessKey="secret_access_key",e.SecurityGroupIds="securityGroupIds",e.SecurityGroups="securityGroups",e.SelectedVpc="selected_vpc",e.UpgradePolicy="upgrade_policy",e.UsePrivateLink="use_privatelink",e.VpcName="vpc_name",e.EnableExteranlAuthentication="enable_external_authentication",e.GcpAuthType="gcp_auth_type",e.GcpWifConfig="gcp_wif_config"}(l||(l={}));const r={[l.AutomaticUpgradeSchedule]:"0 0 * * 0"};var i,s,o;!function(e){e.Aws="aws",e.Gcp="gcp"}(i||(i={})),function(e){e.Automatic="automatic",e.Manual="manual"}(s||(s={})),function(e){e.V1AndV2="optional",e.V2Only="required"}(o||(o={}));const u="us-east-1",d="us-east1",c=()=>({availabilityZone:"",privateSubnetId:"",publicSubnetId:""}),m=e=>{const[t,a]=(0,n.splitVersion)(e);return t>4||4===t&&a>=11},p=e=>(0,n.isMajorMinorEqualOrGreater)(e,4,14)},54910:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AWS_DEFAULT_REGION:()=>l.AWS_DEFAULT_REGION,CloudProviderType:()=>l.CloudProviderType,ClusterSettingsMachinePool:()=>te,ClusterUpdates:()=>ie,FieldId:()=>l.FieldId,GCP_DEFAULT_REGION:()=>l.GCP_DEFAULT_REGION,IMDSType:()=>l.IMDSType,Prerequisites:()=>n.A,UpgradePolicyType:()=>l.UpgradePolicyType,ValidationIconButton:()=>m,ValidationItem:()=>f,canConfigureDayOneManagedIngress:()=>l.canConfigureDayOneManagedIngress,canSelectImds:()=>l.canSelectImds,emptyAWSSubnet:()=>l.emptyAWSSubnet,initialValues:()=>l.initialValues});var l=a(14115),n=a(17611),r=a(93345),i=a.n(r),s=a(72583),o=a(19202),u=a(31003),d=a(29962),c=a(50171);const m=({isValid:e,hasFailures:t,isValidating:a,touched:l,onClick:n})=>{let r=i().createElement(d.InfoCircleIcon,{className:"validation-icon_info"}),m="Validation rules",p="validation-icon-button_info";return l&&(a?(r=i().createElement(c.Nl,{className:"validation-icon_info"}),m="Validation in progress"):e?(r=i().createElement(o.CheckCircleIcon,{className:"validation-icon_success"}),m="All validation rules met",p="validation-icon-button_valid"):t&&(r=i().createElement(u.ExclamationCircleIcon,{className:"validation-icon_danger"}),m="Not all validation rules met",p="validation-icon-button_not-valid")),i().createElement(s.$n,{variant:"control","aria-label":m,tabIndex:-1,className:`${p} validation-icon-button`,onClick:n},r)};var p=a(49318);const f=({text:e,touched:t,isValid:a,isValidating:l,isInitialized:n})=>{if(!e)return null;let r="default",s="";return t&&(!n||l?(r="indeterminate",s="Pending: "):(r=a?"success":"error",s=a?"Satisfied: ":"Not met: ")),i().createElement(p.j,{variant:r,hasIcon:!0,isDynamic:!0,component:"li",key:e},i().createElement("span",{className:"pf-v5-u-screen-reader"},s),e)};var E=a(88139),g=a(71468),v=a(66338),h=a(10423),b=a(23215),S=a(83349),_=a(22069),C=a(30620),y=a(65702),I=a(75166),A=a(84037),R=a(41682),T=a(49484),O=a(60979),P=a(73553),D=a(20289),L=a(72067),N=a(8888),w=a(55909),M=a(11912),k=a(93809),F=a(5537),x=a(56780),G=a(33076),U=a(66822),j=a(71931),H=a(48394);const V=()=>{const{values:{[l.FieldId.ClusterVersion]:e,[l.FieldId.IMDS]:t},getFieldProps:a,setFieldValue:n}=(0,L.l)(),r=!(0,l.canSelectImds)(e.raw_id),s=e=>{n(l.FieldId.IMDS,e)};return i().useEffect((()=>{r&&t!==l.IMDSType.V1AndV2&&s(l.IMDSType.V1AndV2)}),[r,t]),i().createElement(x.g,{label:"Instance Metadata Service",fieldId:"imds",labelIcon:i().createElement(H.A,null)},r?i().createElement(j.h,null):i().createElement(E.Field,{component:G.default,name:"imds",id:"imds",ariaLabel:"Instance Metadata Service",isDisabled:r,className:"pf-v5-u-mb-md",input:{...a(l.FieldId.IMDS),onChange:s},options:U.U,disableDefaultValueHandling:!0}))};var q=a(46942),z=a.n(q),B=a(90678),W=a(73113),$=a(30666),Y=a(93973),K=a(23158),Q=a(56862),Z=a(93413),X=a(47006),J=a(12200);const ee=()=>{const{values:e}=(0,L.l)(),t=e[l.FieldId.NodeLabels],a=e=>a=>t.length>1&&t.reduce(((t,a,l)=>(a.key&&e!==l&&t.push(a.key),t)),[]).includes(a)?"Each label must have a different key.":a.length>0?(0,A.checkLabelKey)(a):void 0,n=e=>{if(e.length>0)return(0,A.checkLabelValue)(e)};return i().createElement(B.B,{hasGutter:!0,className:"label-split-layout"},i().createElement(E.FieldArray,{name:l.FieldId.NodeLabels,validateOnChange:!0,render:({push:e,remove:r})=>i().createElement(i().Fragment,null,null==t?void 0:t.map(((e,o)=>{const u=0===o&&1===t.length,d=`${l.FieldId.NodeLabels}.${o}`,c=`${d}.key`,m=`${d}.value`;return i().createElement(W.a,null,i().createElement($.B,{hasGutter:!0,className:"node-label-split-layout"},i().createElement(Y.o,{className:"node-label-split-item"},i().createElement(X.A,{name:c,validate:a(o),label:0===o?"Key":void 0,formGroup:{isRequired:!1}})),i().createElement(Y.o,{className:"node-label-split-item"},i().createElement(X.A,{name:m,validate:n,label:0===o?"Value":void 0,formGroup:{isRequired:!1}})),i().createElement(Y.o,null,i().createElement(s.$n,{onClick:()=>r(o),icon:i().createElement(K.MinusCircleIcon,null),variant:"link",isInline:!0,isDisabled:u,className:`${z()(u&&"pf-v5-u-disabled-color-200")} ${z()(0===o?"label-button-padding-lg":"label-button-padding-sm")}`}))))})),i().createElement(W.a,null,i().createElement(J.default,{onClick:()=>e({key:"",value:""}),icon:i().createElement(Q.PlusCircleIcon,null),variant:"link",isInline:!0,disableReason:t.some((e=>!e.key))&&Z.nodeKeyValueTooltipText},"Add additional label")))}))},te=()=>{const e=(0,g.wA)(),{values:{[l.FieldId.BillingModel]:t,[l.FieldId.Product]:a,[l.FieldId.CloudProvider]:n,[l.FieldId.MachineType]:r,[l.FieldId.AutoscalingEnabled]:s,[l.FieldId.MultiAz]:o,[l.FieldId.Byoc]:u,[l.FieldId.NodesCompute]:d,[l.FieldId.NodeLabels]:c,[l.FieldId.Region]:m},values:p,errors:f,getFieldProps:x,setFieldValue:G,getFieldMeta:U,setFieldTouched:j}=(0,L.l)(),H="true"===o,q="true"===u,z=a===I.normalizedProducts.ROSA,B=n===l.CloudProviderType.Aws,W=(0,w.default)(a,t),[$,Y]=i().useState(!1),K=i().useMemo((()=>(0,k.D2)(p)),[p]),[Q,Z]=i().useState(!1),X=(0,g.d4)((e=>e.machineTypesByRegion));i().useEffect((()=>{X.region&&(q&&B&&n!==l.CloudProviderType.Gcp&&!z||e((0,M.clearMachineTypesByRegion)()))}),[n,z,X.region,q,B,e,m,G]),i().useEffect((()=>{var e;B&&q&&(X.region&&(null===(e=X.region)||void 0===e?void 0:e.id)===m||(Z(!0),G(l.FieldId.MachineTypeForceChoice,!1)))}),[X.region,B,q,m,G]),i().useEffect((()=>{d||G(l.FieldId.NodesCompute,(0,P.getNodesCount)(q,H))}),[q,H,d,G]),i().useEffect((()=>{!$&&f[l.FieldId.NodeLabels]&&Y(!0)}),[f[l.FieldId.NodeLabels],$]),i().useEffect((()=>{var e;(null===(e=c[0])||void 0===e?void 0:e.key)&&j(l.FieldId.NodeLabels,!0,!0)}),[]),i().useEffect((()=>{e((0,M.getMachineTypes)())}),[e]),i().useEffect((()=>{var e;(null===(e=c[0])||void 0===e?void 0:e.key)&&Y(!0)}),[c]),i().useEffect((()=>{Q&&(null==K?void 0:K.access_key_id)&&(null==K?void 0:K.account_id)&&(null==K?void 0:K.secret_access_key)&&m&&(e((0,M.getMachineTypesByRegion)(null==K?void 0:K.access_key_id,null==K?void 0:K.account_id,null==K?void 0:K.secret_access_key,m)),Z(!1))}),[e,Q,null==K?void 0:K.access_key_id,null==K?void 0:K.account_id,null==K?void 0:K.secret_access_key,m]);const J=i().createElement(v.Q,{toggleText:"Add node labels",className:"pf-v5-u-mt-md",onToggle:(e,t)=>Y(t),isExpanded:$,"data-testid":"node-labels-toggle"},i().createElement(h.h,{headingLevel:"h3"},"Node labels (optional)"),i().createElement("p",{className:"pf-v5-u-mb-md"},"Configure labels that will apply to all nodes in this machine pool."),i().createElement(ee,null)),te=B&&q&&i().createElement(i().Fragment,null,i().createElement(b.E,{md:8},i().createElement(V,null)),i().createElement(b.E,{md:4}));return i().createElement(S.l,null,i().createElement(b.E,null,i().createElement(h.h,{headingLevel:"h3"},"Default machine pool"),i().createElement(_.E,{component:"p",className:"pf-v5-u-mt-sm"},"Select a compute node instance type and count for your default machine pool. After cluster creation, your selected default machine pool instance type is permanent.")),i().createElement(C.x,{hasGutter:!0},i().createElement(b.E,{md:6},i().createElement(E.Field,{component:D.default,name:l.FieldId.MachineType,validate:A.required,isMultiAz:H,isBYOC:q,cloudProviderID:n,product:a,isMachinePool:!1,billingModel:t,inModal:!1,machine_type:{input:{...x(l.FieldId.MachineType),onChange:e=>G(l.FieldId.MachineType,e)},meta:U(l.FieldId.MachineType)},machine_type_force_choice:{input:{...x(l.FieldId.MachineTypeForceChoice),onChange:e=>G(l.FieldId.MachineTypeForceChoice,e)}}})),i().createElement(b.E,{md:6}),W&&i().createElement(i().Fragment,null,i().createElement(b.E,null,i().createElement(F.AutoScale,null)),s&&te,s&&J),!s&&i().createElement(i().Fragment,null,i().createElement(b.E,{md:6},i().createElement(E.Field,{component:O.default,name:l.FieldId.NodesCompute,label:H?"Compute node count (per zone)":"Compute node count",isMultiAz:H,isByoc:q,machineType:r,extendedHelpText:i().createElement(i().Fragment,null,T.constants.computeNodeCountHint," ",i().createElement(N.default,{href:z?y.default.ROSA_SERVICE_DEFINITION_COMPUTE:y.default.OSD_SERVICE_DEFINITION_COMPUTE},"Learn more about compute node count")),cloudProviderID:n,product:a,isMachinePool:!1,billingModel:t,input:{...x(l.FieldId.NodesCompute),onChange:e=>G(l.FieldId.NodesCompute,e)},minNodes:(0,R.getMinNodesRequired)(!1,{},{isDefaultMachinePool:!0,isByoc:q,isMultiAz:H})})),te,J,i().createElement(b.E,{md:6}))))};var ae=a(96998),le=a(686),ne=a(58350),re=a(82194);const ie=()=>{const{values:{[l.FieldId.UpgradePolicy]:e},setFieldValue:t,getFieldProps:a}=(0,L.l)(),n=[{value:l.UpgradePolicyType.Manual,label:"Individual updates",description:r.createElement(r.Fragment,null,"Schedule each update individually. Take into consideration end of life dates from the"," ",r.createElement(N.default,{href:y.default.OSD_LIFE_CYCLE},"lifecycle policy")," when planning updates.")},{value:l.UpgradePolicyType.Automatic,label:"Recurring updates",description:r.createElement(r.Fragment,null,"The cluster will be automatically updated based on your preferred day and start time when new patch updates (",r.createElement(N.default,{href:y.default.OSD_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version.")}];return r.createElement(S.l,null,r.createElement(b.E,null,r.createElement(h.h,{headingLevel:"h3"},"Cluster update strategy"),r.createElement(_.E,{component:_.Y.p,className:"pf-v5-u-mt-sm"},"In the event of"," ",r.createElement(N.default,{href:"https://access.redhat.com/security/updates/classification/#critical"},"Critical security concerns")," ","(CVEs) that significantly impact the security or stability of the cluster, updates may be automatically scheduled by Red Hat SRE to the latest z-stream version not impacted by the CVE within 2 business days after customer notifications.")),r.createElement(C.x,{hasGutter:!0,md:6},r.createElement(ae.s,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},r.createElement(b.E,null,r.createElement(re.n,{name:l.FieldId.UpgradePolicy,options:n,onChange:(e,a)=>{a===l.UpgradePolicyType.Manual&&t(l.FieldId.AutomaticUpgradeSchedule,l.initialValues[l.FieldId.AutomaticUpgradeSchedule])}}),e===l.UpgradePolicyType.Automatic&&r.createElement(E.Field,{component:ne.default,name:l.FieldId.AutomaticUpgradeSchedule,input:{...a(l.FieldId.AutomaticUpgradeSchedule),onChange:e=>t(l.FieldId.AutomaticUpgradeSchedule,e)},className:"pf-v5-u-mt-md"})))),r.createElement(b.E,null,r.createElement(h.h,{headingLevel:"h4",className:"ocm-c-upgrade-node-draining-title"},"Node draining"),r.createElement(_.E,{component:_.Y.p},"Note: You cannot change the node drain grace period after you start the upgrade process."),r.createElement(_.E,{component:_.Y.p},"You may set a grace period for how long pod disruption budget-protected workloads will be respected during updates. After this grace period, any workloads protected by pod disruption budgets that have not been successfully drained from a node will be forcibly evicted."),r.createElement(E.Field,{name:l.FieldId.NodeDrainGracePeriod,component:le.default,input:{...a(l.FieldId.NodeDrainGracePeriod),onChange:e=>t(l.FieldId.NodeDrainGracePeriod,e)}})))}},93809:(e,t,a)=>{"use strict";a.d(t,{BH:()=>m,D2:()=>u,GO:()=>d,eC:()=>c});var l=a(2404),n=a.n(l),r=a(75166),i=a(14115),s=a(81437),o=a(52202);const u=e=>{const{[i.FieldId.Product]:t,[i.FieldId.AccountId]:a,[i.FieldId.AccessKeyId]:l,[i.FieldId.SecretAccessKey]:n,[i.FieldId.InstallerRoleArn]:s}=e;return t===r.normalizedProducts.ROSA?{account_id:a,sts:{role_arn:s}}:{account_id:a,access_key_id:l,secret_access_key:n}},d=e=>{const{[i.FieldId.GcpAuthType]:t,[i.FieldId.GcpServiceAccount]:a,[i.FieldId.GcpWifConfig]:l}=e;return t===s.GCPAuthType.ServiceAccounts?a:l.id},c=(e,t)=>{if(e[i.FieldId.CloudProvider]===i.CloudProviderType.Gcp){const a=e[i.FieldId.GcpAuthType];return t((0,o.getGCPCloudProviderVPCs)(o.VALIDATE_CLOUD_PROVIDER_CREDENTIALS,a,d(e),i.GCP_DEFAULT_REGION))}return t((0,o.getAWSCloudProviderRegions)(o.VALIDATE_CLOUD_PROVIDER_CREDENTIALS,u(e)))},m=(e,t)=>{const a=e[i.FieldId.CloudProvider]===i.CloudProviderType.Aws||e[i.FieldId.CloudProvider]===i.CloudProviderType.Gcp&&e[i.FieldId.GcpAuthType]===s.GCPAuthType.ServiceAccounts,l=t.fulfilled&&t.cloudProvider===e[i.FieldId.CloudProvider]&&n()(t.credentials,e[i.FieldId.CloudProvider]===i.CloudProviderType.Aws?u(e):d(e));return"true"===e[i.FieldId.Byoc]&&a&&!l}},23658:(e,t,a)=>{"use strict";a.d(t,{e:()=>g});var l=a(93345),n=a.n(l),r=a(88139),i=a(17661),s=a(56780),o=a(22563),u=a(81995),d=a(97862),c=a(38715);const m=e=>"true"===(null==e?void 0:e.toString()),p={toString:()=>"true",compareTo:m},f={toString:()=>"false",compareTo:e=>"false"===(null==e?void 0:e.toString())},E=[p,f],g=({name:e,label:t,helperText:a,isDisabled:l})=>{const[g,{touched:v,error:h}]=(0,r.useField)(e),{setFieldValue:b,setFieldTouched:S}=(0,r.useFormikContext)(),[_,C]=n().useState(!1),y=()=>{C(!_)};return n().createElement(s.g,{role:"group",fieldId:e,label:t},n().createElement(o.l,{isOpen:_,toggle:e=>{var t,a;return n().createElement(i.S,{ref:e,onClick:y,isExpanded:_,isDisabled:l,isFullWidth:!0,className:"boolean-dropdown-menu-toggle"},null!==(a=null===(t=g.value)||void 0===t?void 0:t.toString())&&void 0!==a?a:f.toString())},onSelect:(t,a)=>{C(!1),b(e,m(a)),S(e)},onOpenChange:C,selected:g.value?p:f},n().createElement(u.B,null,E.map((e=>n().createElement(d.O,{value:e,key:e.toString()},e.toString()))))),n().createElement(c.FormGroupHelperText,{touched:v,error:h},a))}},5330:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CheckboxField:()=>c});var l=a(93345),n=a.n(l),r=a(88139),i=a(56780),s=a(96998),o=a(83873),u=a(38715),d=a(55213);const c=({name:e,label:t,validate:a,isDisabled:l,tooltip:c,field:m,formGroup:p,input:f,helperText:E})=>n().createElement(r.Field,{name:e,validate:a,...m},(({field:r,form:m,meta:g})=>n().createElement(i.g,{fieldId:r.name,...a&&{isRequired:!0},...p},n().createElement(s.s,{flexWrap:{default:"nowrap"}},n().createElement(o.S,{id:r.name,label:c?n().createElement(s.s,{flexWrap:{default:"nowrap"}},t,n().createElement("div",{className:"pf-v5-u-ml-md"},c&&n().createElement(d.default,{hint:c}))):t,isChecked:r.value,isDisabled:l,onBlur:()=>m.setFieldTouched(e,!0,!0),onChange:t=>{r.onChange(t),setTimeout((()=>m.setFieldTouched(e,!0,!0)))},value:r.value||!1,...!(null==p?void 0:p.label)&&a&&{isRequired:!0},...f})),n().createElement(u.FormGroupHelperText,{touched:g.touched,error:g.error},E))))},82194:(e,t,a)=>{"use strict";a.d(t,{n:()=>g});var l=a(93345),n=a.n(l),r=a(46942),i=a.n(r),s=a(56780),o=a(96998),u=a(92292),d=a(72067),c=a(55213),m=a(88139),p=a(47914);const f=({name:e,label:t,value:a,onChange:l,shouldCheck:r,...i})=>{const[s,{touched:o,error:u}]=(0,m.useField)(e),{setFieldValue:d,setFieldTouched:c}=(0,m.useFormikContext)(),f=`form-radiobutton-${null==(E=`${e}-${a}`)?void 0:E.replace(/\./g,"-")}-field`;var E;const g=!(o&&u);return n().createElement(p.s,{...s,...i,id:f,value:a,label:t,isChecked:r?r(s.value,a):s.value===a,isValid:g,isDisabled:i.isDisabled,"aria-label":`${f}-${t}`,onChange:()=>{l?l(a):d(e,a),c(e,!0)}})};var E;!function(e){e.Row="row",e.Column="column"}(E||(E={}));const g=({name:e,label:t,options:a,onChange:l,isRequired:r,direction:m=E.Column})=>{const{setFieldValue:p}=(0,d.l)();return n().createElement(s.g,{label:t,fieldId:e,isRequired:r},n().createElement(o.s,{direction:{default:m},spaceItems:{default:"spaceItems"+(m===E.Column?"Md":"Lg")}},a.map((t=>{const a=n().createElement(f,{name:e,label:t.label,value:t.value,isDisabled:t.disabled,description:t.description,className:i()("pf-v5-u-mb-md",{"pf-v5-u-mr-sm":!!t.popoverHint}),onChange:t=>{p(e,t),null==l||l(null,null==t?void 0:t.toString())},shouldCheck:t.shouldCheck});return n().createElement(o.s,{alignItems:{default:"alignItemsFlexStart"},key:t.value,className:"pf-m-nowrap"},t.tooltip?n().createElement(u.m,{content:t.tooltip,position:"right"},a):a,t.popoverHint&&n().createElement(c.default,{hint:t.popoverHint}))}))))}},47006:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var l=a(93345),n=a.n(l),r=a(88139),i=a(56780),s=a(23285),o=a(38715),u=a(55213);const d=({name:e,textInputClassName:t,formGroupClassName:a,label:l,validate:d,isDisabled:c,helperText:m,placeHolderText:p,tooltip:f,tooltipWidth:E="",field:g,formGroup:v,input:h,type:b,validateOnSubmit:S,onChange:_})=>n().createElement(r.Field,{name:e,validate:d,...g},(({field:r,form:g,meta:C})=>n().createElement(i.g,{fieldId:r.name,label:l,className:a,...f&&{labelIcon:n().createElement(u.default,{maxWidth:E,hint:f})},...d&&{isRequired:!0},...v},n().createElement(s.ks,{id:r.name,className:t,isDisabled:c,placeholder:p,validated:C.touched&&C.error||S&&C.error?"error":"default",onBlur:()=>g.setFieldTouched(e,!0),onChange:(e,t)=>{_&&_(e),r.onChange(e)},value:r.value||("number"===b?0:""),type:b,...h}),n().createElement(o.FormGroupHelperText,{touched:C.touched,error:C.error,validateOnSubmit:S},m))))},55576:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CheckboxField:()=>n.CheckboxField,FileUploadField:()=>p,RadioGroupField:()=>y.n,RichInputField:()=>C,TextInputField:()=>l.A});var l=a(47006),n=a(5330),r=a(93345),i=a.n(r),s=a(88139),o=a(56780),u=a(71837),d=a(72067),c=a(38715),m=a(55213);const p=({name:e,label:t,validate:a,isDisabled:l,helperText:n,tooltip:r,field:p,formGroup:f,input:E})=>{const{setFieldValue:g}=(0,d.l)(),[v,h]=i().useState(""),b=(t,a)=>g(e,a),S=(t,a)=>{if(void 0!==t.target.files&&t.target.files){const[a]=t.target.files,l=new FileReader;l.onload=()=>{h(a.name),g(e,l.result)},l.readAsText(a,"UTF-8")}else g(e,a)},_=()=>{h(""),g(e,"")};return i().createElement(s.Field,{name:e,validate:a,...p},(({field:e,meta:s})=>{const d=s.touched&&s.error;return i().createElement(o.g,{fieldId:e.name,label:t,...r&&{labelIcon:i().createElement(m.default,{hint:r})},...a&&{isRequired:!0},...f},i().createElement(u.e,{allowEditingUploadedText:!0,isDisabled:l,id:e.name,name:e.name,type:"text",value:e.value,filename:v,onDataChange:b,onTextChange:S,onClearClick:_,onTextAreaBlur:t=>e.onBlur(t),onFileInputChange:(e,t)=>h(t.name),validated:d?"error":"default",...E}),i().createElement(c.FormGroupHelperText,{touched:s.touched,error:s.error},n))}))};var f=a(93745),E=a(59257),g=a(35253),v=a(53642),h=a(23285),b=a(54910);const S={syncValidation:[],asyncValidation:[]},_=(e=S,t)=>{switch(t.type){case"set-sync-validation":return{...e,syncValidation:t.payload};case"set-async-validation":return{...e,asyncValidation:t.payload};case"set-async-validating":return{...e,asyncValidation:e.asyncValidation.map((e=>({...e,validating:!!t.value})))};default:throw new Error}},C=({label:e,extendedHelpText:t,isRequired:a,input:l,disabled:n,formGroupClass:s,type:u="text",validation:p=(()=>[]),asyncValidation:C=(()=>[]),helpTitle:y,helpExample:I="",helpText:A="",name:R,value:T="",onChange:O=(()=>{})})=>{const P=l?l.value:T,D=String(l?l.name:R),L=l?l.onChange:O,N=(0,r.createRef)(),{validateField:w,setFieldTouched:M,setFieldError:k,setFieldValue:F,isValidating:x,errors:{[D]:G}}=(0,d.l)(),[U,j]=(0,r.useState)(!1),[H,V]=(0,r.useState)(!1),[q,z]=(0,r.useState)(!1),[B,W]=(0,r.useReducer)(_,S),$=[...B.syncValidation,...B.asyncValidation],Y=!U||$.every((e=>!!e.validated)),K=U&&B.asyncValidation.some((e=>e.validating)),Q=U&&$.some((e=>!1===e.validated));let Z="rich-input-field_info";return U&&!K&&(Y?Z="rich-input-field_valid":Q&&(Z="rich-input-field_not-valid")),(0,r.useEffect)((()=>{var e;!1===x&&P&&(e=G,W({type:"set-async-validation",payload:B.asyncValidation.map((t=>({...t,validated:t.text!==e})))}))}),[G,x]),(0,r.useEffect)((()=>{W({type:"set-async-validating",value:!!x})}),[x]),(0,r.useEffect)((()=>{(null==P?void 0:P.length)&&j(!0)}),[]),(0,r.useEffect)((()=>{Q&&z(!0)}),[Q]),(0,r.useEffect)((()=>{(e=>{const t=p(e);W({type:"set-sync-validation",payload:t})})(P),(e=>{const t=C(e);W({type:"set-async-validation",payload:t})})(P)}),[P]),(0,r.useEffect)((()=>{const e=setTimeout((()=>w(D)),0);return()=>clearTimeout(e)}),[]),i().createElement(o.g,{fieldId:D,label:e,isRequired:a,labelIcon:t?i().createElement(m.default,{hint:t}):void 0,className:`${s||""}`},i().createElement(f.A,{"aria-label":y,headerContent:y,isVisible:q,position:"top-end",withFocusTrap:!1,shouldClose:()=>{H?V(!1):z(!1)},bodyContent:i().createElement(E.E,{component:"ul",id:`rich-input-popover-${D}`},$.map((e=>i().createElement(b.ValidationItem,{key:e.text,touched:U,text:e.text,isValid:!!e.validated,isValidating:!!e.validating,isInitialized:void 0!==e.validated})))),footerContent:I},i().createElement(g.M,null,i().createElement(v.b,{isFill:!0},i().createElement(h.ks,{value:P,isRequired:a,id:D,name:D,isDisabled:n,type:u,autoComplete:"off",onBlur:()=>{V(!1),z(!1),w(D),j(!0)},onClick:()=>{V(!0),z(!0)},onFocus:()=>{V(!0),z(!0)},onChange:async(e,t)=>{!U&&(null==t?void 0:t.length)&&(M(D,!0,!1),k(D,""),j(!0)),await F(D,t,!1),L(t)},ref:N,"aria-describedby":`rich-input-popover-${D}`,className:`${Z} rich-input-field`})),i().createElement(v.b,null,i().createElement(b.ValidationIconButton,{touched:U,isValid:Y,hasFailures:Q,isValidating:K,onClick:e=>{var t;e.stopPropagation(),z(!0),null===(t=N.current)||void 0===t||t.focus()}})))),i().createElement(c.FormGroupHelperText,{touched:U,error:G},A))};var y=a(82194)},12024:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getScrollErrorIds:()=>l});const l=(e,t)=>Object.entries(e).reduce(((e,[a,l])=>(Array.isArray(l)?l.forEach(((l,n)=>{Object.keys(l||{}).forEach((l=>{t?e.push(`${a}[${n}].${l}`):e.push(`${a}.${n}.${l}`)}))})):e.push(a),e)),[])},82693:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useFormState:()=>l.l});var l=a(72067)},72067:(e,t,a)=>{"use strict";a.d(t,{l:()=>l});const l=a(88139).useFormikContext},81437:(e,t,a)=>{"use strict";var l,n;a.r(t),a.d(t,{CloudProviderType:()=>l,GCPAuthType:()=>n}),function(e){e.Aws="aws",e.Gcp="gcp"}(l||(l={})),function(e){e.WorkloadIdentityFederation="workloadIdentityFederation",e.ServiceAccounts="serviceAccounts"}(n||(n={}))},95343:(e,t,a)=>{"use strict";var l,n;a.r(t),a.d(t,{ApplicationIngressType:()=>n,ClusterPrivacyType:()=>l}),function(e){e.Internal="internal",e.External="external"}(l||(l={})),function(e){e.Default="default",e.Custom="custom"}(n||(n={}))},72230:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FieldId:()=>c,MIN_SECURE_BOOT_VERSION:()=>_,OsdFieldId:()=>l,StepId:()=>p,StepName:()=>m,UrlPath:()=>f,ariaLabel:()=>S,breadcrumbs:()=>E,clusterNameHint:()=>h,documentTitle:()=>b,initialTouched:()=>v,initialValues:()=>g});var l,n=a(94675),r=a(75166),i=a(11611),s=a(69122),o=a(14115),u=a(81437),d=a(95343);!function(e){e.PersistentStorage="persistent_storage",e.LoadBalancers="load_balancers",e.SecureBoot="secure_boot",e.ClusterPrivacy="cluster_privacy",e.InstallToSharedVpc="install_to_shared_vpc",e.SharedHostProjectID="shared_host_project_id",e.KeyLocation="key_location",e.KeyRing="key_ring",e.KeyName="key_name",e.KmsServiceAccount="kms_service_account",e.DisableScpChecks="disable_scp_checks",e.NetworkMachineCidr="network_machine_cidr",e.NetworkServiceCidr="network_service_cidr",e.NetworkPodCidr="network_pod_cidr",e.NetworkHostPrefix="network_host_prefix",e.NetworkMachineCidrSingleAz="network_machine_cidr_single_az",e.NetworkMachineCidrMultiAz="network_machine_cidr_multi_az",e.MarketplaceSelection="marketplace_selection"}(l||(l={}));const c={...o.FieldId,...l};var m,p,f;!function(e){e.BillingModel="Billing model",e.ClusterSettings="Cluster settings",e.CloudProvider="Cloud provider",e.Details="Details",e.MachinePool="Machine pool",e.Networking="Networking",e.Configuration="Configuration",e.VpcSettings="VPC settings",e.ClusterProxy="Cluster-wide proxy",e.CidrRanges="CIDR ranges",e.ClusterUpdates="Cluster updates",e.Review="Review and create"}(m||(m={})),function(e){e.BillingModel="billing-model",e.ClusterSettings="cluster-settings",e.ClusterSettingsCloudProvider="cluster-settings-cloud-provider",e.ClusterSettingsDetails="cluster-settings-details",e.ClusterSettingsMachinePool="cluster-settings-machine-pool",e.Networking="networking",e.NetworkingConfiguration="networking-config",e.NetworkingVpcSettings="networking-vpc-settings",e.NetworkingClusterProxy="networking-cluster-proxy",e.NetworkingCidrRanges="networking-cidr-ranges",e.ClusterUpdates="cluster-updates",e.Review="review"}(p||(p={})),function(e){e.Create="/create",e.CreateOsd="/create/osd",e.CreateCloud="/create/cloud"}(f||(f={}));const E=[{label:"Cluster List"},{label:"Cluster Type",path:f.Create},{label:"OpenShift Dedicated",path:f.CreateOsd}],g={[c.Product]:r.normalizedProducts.OSD,[c.Byoc]:"true",[c.CloudProvider]:o.CloudProviderType.Aws,[c.AcknowledgePrereq]:!1,[c.BillingModel]:r.billingModels.STANDARD,[c.MultiAz]:"false",[c.SelectedVpc]:{id:"",name:""},[c.MachinePoolsSubnets]:[(0,o.emptyAWSSubnet)()],[c.SecurityGroups]:(0,n.getDefaultSecurityGroupsSettings)(),[c.InstallToSharedVpc]:!1,[c.SecureBoot]:!1,[c.EnableUserWorkloadMonitoring]:!0,[c.NodeLabels]:[{key:"",value:""}],[c.ClusterPrivacy]:d.ClusterPrivacyType.External,[c.CidrDefaultValuesEnabled]:!0,[c.NetworkMachineCidr]:s.MACHINE_CIDR_DEFAULT,[c.NetworkServiceCidr]:s.SERVICE_CIDR_DEFAULT,[c.NetworkHostPrefix]:s.HOST_PREFIX_DEFAULT,[c.UpgradePolicy]:o.UpgradePolicyType.Manual,[c.AutomaticUpgradeSchedule]:"0 0 * * 0",[c.NodeDrainGracePeriod]:60,[c.PersistentStorage]:"107374182400",[c.LoadBalancers]:0,[c.DisableScpChecks]:!1,[c.CustomerManagedKey]:"false",[c.IMDS]:o.IMDSType.V1AndV2,[c.ApplicationIngress]:d.ApplicationIngressType.Default,[c.DefaultRouterExcludedNamespacesFlag]:"",[c.IsDefaultRouterNamespaceOwnershipPolicyStrict]:!0,[c.IsDefaultRouterWildcardPolicyAllowed]:!1,[c.ClusterAutoscaling]:(0,i.getDefaultClusterAutoScaling)(),[c.DomainPrefix]:"",[c.HasDomainPrefix]:!1,[c.GcpAuthType]:u.GCPAuthType.ServiceAccounts,[c.GcpWifConfig]:""},v={[c.AcknowledgePrereq]:!0},h="This name identifies your cluster in OpenShift Cluster Manager and forms part of the cluster console subdomain.",b="Create an OpenShift Dedicated cluster | Red Hat OpenShift Cluster Manager",S="Create OpenShift Dedicated cluster wizard",_="4.13.0"},20860:(e,t,a)=>{"use strict";a.d(t,{A:()=>C});var l=a(93345),n=a.n(l),r=a(33675),i=a(86130),s=a(75279),o=a(72583),u=a(56780),d=a(96998),c=a(96553),m=a(92292),p=a(65702),f=a(51513),E=a(38715),g=a(35158),v=a(55213),h=a(94296),b=a(52501);function S(){return n().createElement(r.p,{"data-testid":"no_associated_accounts",className:"no-associated-aws-accounts_empty-state"},n().createElement(i.o,{titleText:"No associated accounts were found.",headingLevel:"h6"}),n().createElement(s.h,null,"Associate an AWS account to your Red Hat account."))}function _(e,t){return t.label.length-e.label.length||t.label.localeCompare(e.label)}const C=function({input:{name:e,onBlur:t,...a},meta:{error:r,touched:i},isDisabled:s,isLoading:C,label:y,extendedHelpText:I,selectedAWSAccountID:A,accounts:R,isBillingAccount:T=!1,refresh:O,clearGetAWSAccountIDsResponse:P,required:D=!0}){const[L,N]=(0,l.useState)(!1),w=(0,l.createRef)(),M=(null==R?void 0:R.length)>0,{onRefresh:k,text:F}=O,{onChange:x}=a,{openDrawer:G}=(0,h.F)();(0,l.useEffect)((()=>{var e;!0!==L||M||null===(e=w.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[L,M]);const U=(0,l.useCallback)(((e,t)=>{N(t)}),[N]),j=(0,l.useCallback)(((e,t)=>{N(!1),x(t),localStorage.setItem(f.AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY,t)}),[N,x]),H=(0,l.useMemo)((()=>R.map((e=>{const t=e.cloud_account_id;return{entryId:t,label:t,description:T&&(0,b.P)(e)?"Contract enabled":""}}))),[R]),V=(0,l.useCallback)((()=>{N(!1),G({onClose:P})}),[G,N]),q=(0,l.useMemo)((()=>{const e=T?{component:"a",href:p.default.AWS_CONSOLE_ROSA_HOME,target:"_blank"}:{onClick:V};return n().createElement(n().Fragment,null,!M&&n().createElement(S,null),n().createElement(o.$n,{ref:w,variant:"secondary",...e},T?"Connect ROSA to a new AWS billing account":"How to associate a new AWS account"))}),[M,T,w]);return n().createElement(u.g,{label:y,labelIcon:I?n().createElement(v.default,{hint:I}):void 0,className:"aws-account-selection",isRequired:!0},n().createElement(d.s,null,n().createElement(c.Z,{grow:{default:"grow"}},n().createElement(g.default,{label:y,isOpen:L,selectedEntryId:M?A:"",selectionData:H,onToggle:U,onSelect:j,sortFn:_,isDisabled:s,placeholderText:"Select an account",inlineFilterPlaceholderText:"Filter by account ID",filterValidate:{pattern:/^\d*$/,message:"Please enter numeric digits only."},validated:i&&r?"error":void 0,footer:q,"aria-describedby":"aws-infra-accounts",toggleId:e,menuAppendTo:()=>document.body})),k&&n().createElement(c.Z,null,n().createElement(m.m,{content:n().createElement("p",null,F)},n().createElement(o.$n,{"data-testid":"refresh-aws-accounts",isLoading:C,isDisabled:s,isInline:!0,size:"sm",variant:"secondary",onClick:()=>{k()}},"Refresh")))),n().createElement(E.FormGroupHelperText,{touched:i,error:r}))}},23734:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var l=a(93345),n=a.n(l),r=a(47482),i=a(32034),s=a(78755),o=a(1319),u=a(67209),d=a(52501);const c=({contract:e})=>n().createElement(r.B,{id:"contract-info",isHorizontal:!0},n().createElement(i.W,null,n().createElement(s.X,null,"Start date:"),n().createElement(o.d,null,e.start_date?n().createElement(u.A,{type:"onlyDate",date:new Date(e.start_date)}):"N/A")),n().createElement(i.W,null,n().createElement(s.X,null,"End date:"),n().createElement(o.d,null,e.end_date?n().createElement(u.A,{type:"onlyDate",date:new Date(e.end_date)}):"N/A")),n().createElement(i.W,null,n().createElement(s.X,null,"Number of vCPUs"),n().createElement(o.d,null,(0,d.U)(e.dimensions,"four_vcpu_hour"))),n().createElement(i.W,null,n().createElement(s.X,null,"Number of clusters"),n().createElement(o.d,null,(0,d.U)(e.dimensions,"control_plane"))))},52501:(e,t,a)=>{"use strict";a.d(t,{P:()=>n,U:()=>r});const l=["control_plane","four_vcpu_hour"],n=e=>{const{contracts:t}=e;if(!t||0===t.length)return null;const a=t[0];return(a.dimensions||[]).some((e=>l.includes(e.name||"")&&Number(e.value||0)>0))?a:null},r=(e,t)=>{var a;return(null===(a=e.find((e=>(null==e?void 0:e.name)===t)))||void 0===a?void 0:a.value)||0}},34706:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(93345),n=a.n(l),r=a(70460),i=a(66152),s=a(55816),o=a(10046),u=a(85105),d=a(90132);const c=function({getAWSAccountRolesARNsResponse:e,isHypershiftSelected:t,isMissingOCMRole:a}){if(e.error){const t="CLUSTERS-MGMT-400"===e.internalErrorCode,l=t?"Cannot detect an OCM role":"Error getting AWS account ARNs";return t||a?n().createElement(u.I,{title:l,targetRole:"ocm"}):n().createElement(s.default,{message:l,response:e})}return t?n().createElement(r.F,{isInline:!0,variant:"danger",title:"Some account roles ARNs were not detected."},n().createElement("br",null),"Create the account roles using the following command in the ROSA CLI",n().createElement(o.default,{textAriaLabel:"Copyable ROSA login command"},d.RosaCliCommand.CreateAccountRolesHCP),n().createElement("br",null),"After running the command, you may need to refresh using the ",n().createElement("strong",null,"Refresh ARNs")," ","button below to populate the ARN fields.",n().createElement("p",null,"You must use ROSA CLI version ",i.ROSA_HOSTED_CLI_MIN_VERSION," or above.")):n().createElement(u.I,{title:"Some account roles ARNs were not detected",targetRole:"account"})}},34876:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>W,getUserRoleForSelectedAWSAccount:()=>B,isUserRoleForSelectedAWSAccount:()=>z});var l=a(93345),n=a.n(l),r=a(88139),i=a(58156),s=a.n(i),o=a(71468),u=a(83349),d=a(30620),c=a(23215),m=a(51976),p=a(22069),f=a(72583),E=a(9296),g=a(51513),v=a(84037),h=a(72067),b=a(5198),S=a(80591),_=a(55816),C=a(94538),y=a(11912),I=a(16829),A=a(23722),R=a(94296),T=a(10423),O=a(90678),P=a(73113),D=a(93745),L=a(70460),N=a(7019),w=a(93413),M=a(65702),k=a(98229),F=a(36165),x=a(42045),G=a(8888),U=a(20860),j=a(52501),H=a(23734);const V=({selectedAWSBillingAccountID:e,selectedAWSAccountID:t})=>{const{setFieldValue:a,getFieldProps:i,getFieldMeta:s,setFieldTouched:u}=(0,h.l)(),d=(0,o.wA)(),m=(0,F.useGlobalState)((e=>e.userProfile.organization)),E=(0,F.useGlobalState)((e=>e.rosaReducer.getAWSBillingAccountsResponse)),[g,b]=(0,l.useState)([]),S=(0,l.useCallback)((()=>{var e;d((0,x.getAWSBillingAccountIDs)(null===(e=m.details)||void 0===e?void 0:e.id))}),[d]);(0,l.useEffect)((()=>{var e;(0,w.shouldRefetchQuota)(m)?S():b((0,k.getAwsBillingAccountsFromQuota)(null===(e=m.quotaList)||void 0===e?void 0:e.items))}),[]),(0,l.useEffect)((()=>{E.fulfilled&&(b(E.data),e&&!E.data.some((t=>t.cloud_account_id===e))&&(a(I.FieldId.BillingAccountId,""),u(I.FieldId.BillingAccountId)))}),[E]),(0,l.useEffect)((()=>{1!==(null==g?void 0:g.length)||e||a(I.FieldId.BillingAccountId,g[0].cloud_account_id||"")}),[g,e]);const C=n().createElement(G.default,{isButton:!0,variant:"secondary",className:"pf-v5-u-mt-md",href:M.default.AWS_CONSOLE_ROSA_HOME,noIcon:!0},"Connect ROSA to a new AWS billing account"),y=g.find((t=>t.cloud_account_id===e)),A=y?(0,j.P)(y):null;return n().createElement(n().Fragment,null,n().createElement(c.E,{span:8},n().createElement(T.h,{headingLevel:"h3"},"AWS billing account"),n().createElement(p.E,{component:p.Y.p},"This account will be charged for your subscription usage. You can select an already connected AWS account or sign in to a different AWS account that you want to connect to ROSA.")),n().createElement(c.E,{span:4}),n().createElement(c.E,{sm:12,md:7},(m.error||E.error)&&n().createElement(_.default,{message:"Error getting associated AWS billing account id(s)",response:m.error?m:E}),n().createElement(r.Field,{component:U.A,name:I.FieldId.BillingAccountId,input:{...i(I.FieldId.BillingAccountId),onChange:e=>a(I.FieldId.BillingAccountId,e)},meta:s(I.FieldId.BillingAccountId),label:"AWS billing account",validate:v.required,required:!0,refresh:{onRefresh:S,text:"Refresh to view any new AWS billing accounts. It can take up to 5 minutes to sync new accounts."},extendedHelpText:n().createElement(n().Fragment,null,"Connect ROSA to a new billing account. To add a different AWS account, log in to the account, and click get started."),accounts:g,selectedAWSAccountID:e,isLoading:m.pending||E.pending,isDisabled:m.pending||E.pending,isBillingAccount:!0}),A?n().createElement(O.B,null,n().createElement(P.a,null,n().createElement(D.A,{bodyContent:n().createElement(H.A,{contract:A})},n().createElement(f.$n,{variant:"link",icon:n().createElement(N.OutlinedQuestionCircleIcon,null)},"Contract enabled for this billing account"))),n().createElement(P.a,null,C)):C),n().createElement(c.E,{span:7}),n().createElement(c.E,{sm:12,md:12},e!==t&&e&&t?n().createElement(L.F,{isInline:!0,variant:L.w.info,component:"p",role:"alert",title:"The selected AWS billing account is a different account than your AWS infrastructure account.\n            The AWS billing account will be charged for subscription usage.  The AWS infrastructure account will be used for managing the cluster."}):null))};var q=a(85105);const z=(e,t)=>null==e?void 0:e.some((e=>e.aws_id===t)),B=(e,t)=>e.find((e=>e.aws_id===t)),W=function({organizationID:e,getAWSAccountIDs:t,getAWSAccountIDsResponse:a,getAWSAccountRolesARNs:i,getAWSAccountRolesARNsResponse:T,getUserRoleResponse:O,clearGetAWSAccountRolesARNsResponse:P,clearGetAWSAccountIDsResponse:D,clearGetUserRoleResponse:L,isHypershiftEnabled:N,isHypershiftSelected:w}){const{setFieldValue:M,getFieldProps:k,getFieldMeta:F,values:{[I.FieldId.AssociatedAwsId]:x,[I.FieldId.BillingAccountId]:G,[I.FieldId.InstallerRoleArn]:j,[I.FieldId.RosaMaxOsVersion]:H}}=(0,h.l)(),[B,W]=(0,l.useState)([]),[$,Y]=(0,l.useState)(!1),[K,Q]=(0,l.useState)(!1),[Z,X]=(0,l.useState)(!1),J=(0,l.useMemo)((()=>a.pending||T.pending),[a.pending,T.pending]),ee=(0,l.useRef)(null),te=B.length>0,ae=(0,C.default)(),{openDrawer:le}=(0,R.F)(w),ne=(0,o.d4)((e=>e.machineTypesByRegion)),re=(0,o.wA)();n().useEffect((()=>{ne.region&&re((0,y.clearMachineTypesByRegion)())}));const ie=()=>{D(),P(),L()};(0,l.useEffect)((()=>{ie()}),[]),(0,l.useEffect)((()=>{if(O.fulfilled&&x){const e=z(O.data,x);Q(!e),L()}}),[O.fulfilled,x]),(0,l.useEffect)((()=>{if(te&&!x){let e=localStorage.getItem(g.AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY);e&&B.includes(e)||([e]=B),M(I.FieldId.AssociatedAwsId,e)}}),[te,x]),(0,l.useEffect)((()=>{if(a.pending)Y(!1);else if(a.fulfilled){const e=s()(a,"data",[]);W(e),x&&!e.includes(x)&&M(I.FieldId.AssociatedAwsId,""),Y(!0)}else a.error?Y(!0):t(e)}),[a]),(0,l.useEffect)((()=>{((null==O?void 0:O.error)||K)&&ae(E.trackEvents.MissingUserRole)}),[null==O?void 0:O.error,K]);const se=(0,l.useCallback)((e=>{le({focusOnClose:e.target,onClose:D})}),[D,le]);return n().createElement(u.l,{onSubmit:()=>!1},n().createElement(d.x,{hasGutter:!0,className:"pf-v5-u-mt-md"},!N&&n().createElement(n().Fragment,null,n().createElement(c.E,{span:12},n().createElement(S.G,null)),n().createElement(c.E,{span:12},n().createElement(b.R,{showRosaCliRequirement:!1}))),n().createElement(c.E,{span:8},n().createElement(m.n,null,n().createElement(p.E,{component:p.Y.h3},"AWS infrastructure account"),n().createElement(p.E,{component:p.Y.p},"Select an AWS account that is associated with your Red Hat account or associate a new account. This account will contain the ROSA infrastructure."))),n().createElement(c.E,{span:4}),n().createElement(c.E,{sm:12,md:7},a.error?n().createElement(_.default,{message:"Error getting associated AWS account id(s)",response:a}):null,n().createElement(r.Field,{component:U.A,name:I.FieldId.AssociatedAwsId,input:{...k(I.FieldId.AssociatedAwsId),onChange:e=>M(I.FieldId.AssociatedAwsId,e)},meta:F(I.FieldId.AssociatedAwsId),label:"Associated AWS infrastructure account",refresh:{onRefresh:()=>{X(!0),ie()},text:"Refresh to view newly associated AWS accounts and account-roles."},validate:$?v.required:void 0,extendedHelpText:n().createElement(n().Fragment,null,"A list of associated AWS infrastructure accounts. You must associate at least one account to proceed."),accounts:B.map((e=>({cloud_account_id:e}))),selectedAWSAccountID:x,isLoading:Z&&J,isDisabled:J,clearGetAWSAccountIDsResponse:D}),n().createElement(f.$n,{variant:"secondary",className:"pf-v5-u-mt-md","data-testid":"launch-associate-account-btn",ref:ee,onClick:se},"How to associate a new AWS account")),n().createElement(c.E,{span:7}),w&&n().createElement(V,{selectedAWSBillingAccountID:G||"",selectedAWSAccountID:x||""}),x&&te&&n().createElement(A.Ay,{selectedAWSAccountID:x,selectedInstallerRoleARN:j,rosaMaxOSVersion:H,getAWSAccountRolesARNs:i,getAWSAccountRolesARNsResponse:T,clearGetAWSAccountRolesARNsResponse:P,isHypershiftSelected:w,onAccountChanged:()=>{Q(!1),L()}}),((null==O?void 0:O.error)||K)&&n().createElement(c.E,{span:8,className:"pf-v5-u-mt-sm"},n().createElement(q.I,{title:"A user-role could not be detected",targetRole:"user"}))))}},94296:(e,t,a)=>{"use strict";a.d(t,{F:()=>j});var l=a(93345),n=a.n(l),r=a(44144),i=a(8295),s=a(10423),o=a(40182),u=a(16253),d=a(7303),c=a(63802),m=a(90678),p=a(73113),f=a(22069),E=a(72583),g=a(9296),v=a(83689),h=a(66152),b=a(94538),S=a(70460),_=a(65702),C=a(72067),y=a(16829),I=a(8888),A=a(10046),R=a(90132),T=a(66338);const O=({title:e,headingLevel:t,children:a,expandable:l,initiallyExpanded:r})=>{const[i,o]=n().useState(r),u=t||"h3";return l?n().createElement(T.Q,{onToggle:(e,t)=>((e,t)=>{o(t)})(0,t),isExpanded:i,isActive:i,toggleContent:n().createElement(s.h,{headingLevel:u,size:"md"},e)},a):n().createElement(n().Fragment,null,a)},P=e=>{const{values:{[y.FieldId.Hypershift]:t}}=(0,C.l)(),a="true"===t?R.RosaCliCommand.CreateAccountRolesHCP:R.RosaCliCommand.CreateAccountRoles;return n().createElement(O,{...e},n().createElement(f.E,{component:f.Y.p,className:"pf-v5-u-mb-lg"},"To create the necessary account-wide roles and policies quickly, use the default auto method that's provided by the ROSA CLI."),n().createElement(A.default,{"data-testId":"copy-rosa-create-account-role",trackEvent:g.trackEvents.CopyCreateAccountRoles,textAriaLabel:`Copyable ROSA ${a} command`,className:"pf-v5-u-mb-lg"},a),n().createElement(S.F,{variant:S.w.info,isInline:!0,isPlain:!0,className:"pf-v5-u-mb-lg",title:n().createElement(n().Fragment,null,"If you would prefer to manually create the required roles and policies within your AWS account, then follow"," ",n().createElement(I.default,{href:_.default.AWS_CLI_GETTING_STARTED_MANUAL,noIcon:!0},"these instructions"),".")}))};var D=a(75759),L=a(81164),N=a(57823),w=a(39931),M=a(69303);const k=({tabs:e})=>{const[t,a]=n().useState(0);return n().createElement(L.t,{activeKey:t,onSelect:(e,t)=>a(t),isBox:!0,className:"pf-v5-u-mt-lg associate-roles-drawer__tabs pf-v5-u-mb-sm"},e.map(((e,t)=>n().createElement(N.o,{eventKey:t,title:n().createElement(w.V,null,e.title),"data-testid":e["data-testid"]},n().createElement(M.b,{className:"ocm-instruction-block"},e.body)))))},F=e=>{const{expandable:t}=e;return n().createElement(O,{...e},n().createElement(s.h,{headingLevel:"h4",className:"pf-v5-u-mb-md",size:"md"},"First, check if a role exists and is linked with:"),n().createElement(A.default,{"data-testid":"copy-rosa-list-ocm-role",textAriaLabel:`Copyable ROSA ${R.RosaCliCommand.ListOcmRole} command`,className:"pf-v5-u-mb-lg"},R.RosaCliCommand.ListOcmRole),n().createElement(S.F,{variant:S.w.info,isInline:!0,isPlain:!0,title:`If there is an existing role and it's already linked to your Red Hat account, ${t?"you can continue to step 2":"no further action is needed"}.`,className:"pf-v5-u-mb-lg"}),n().createElement(s.h,{headingLevel:"h3",size:"md"},"Next, is there an existing role that isn't linked?"),n().createElement(D.default,{title:"Why do I need to link my account?",bodyContent:n().createElement(n().Fragment,null,"The link creates a trust policy between the role and the link cluster installer."," ",n().createElement(I.default,{href:_.default.ROSA_AWS_ACCOUNT_ASSOCIATION,noIcon:!0},"Review the AWS policy permissions for the basic and admin OCM roles."))}),n().createElement(k,{tabs:[{"data-testid":"copy-ocm-role-tab-no",title:"No, create new role",body:n().createElement(n().Fragment,null,n().createElement("strong",null,"Basic OCM role"),n().createElement(A.default,{"data-testid":"copy-rosa-create-ocm-role",textAriaLabel:"Copyable ROSA create ocm-role",trackEvent:g.trackEvents.CopyOCMRoleCreateBasic},R.RosaCliCommand.OcmRole),n().createElement("div",{className:"pf-v5-u-mt-md pf-v5-u-mb-md"},"OR"),n().createElement("strong",null,"Admin OCM role"),n().createElement(A.default,{"data-testid":"copy-rosa-create-ocm-admin-role",textAriaLabel:"Copyable ROSA create ocm-role --admin",trackEvent:g.trackEvents.CopyOCMRoleCreateAdmin},R.RosaCliCommand.AdminOcmRole),n().createElement(D.default,{title:"Help me decide",bodyContent:n().createElement(n().Fragment,null,n().createElement(f.E,{component:f.Y.p,className:"pf-v5-u-mb-md"},"The ",n().createElement("strong",null,"basic role")," enables OpenShift Cluster Manager to detect the AWS IAM roles and policies required by ROSA."),n().createElement(f.E,{component:f.Y.p},"The ",n().createElement("strong",null,"admin role")," also enables the detection of the roles and policies. In addition, the admin role enables automatic deployment of the cluster-specific Operator roles and OpenID Connect (OIDC) provider by using OpenShift Cluster Manager."))}))},{"data-testid":"copy-ocm-role-tab-yes",title:"Yes, link existing role",body:n().createElement(n().Fragment,null,n().createElement("strong",null," If a role exists but is not linked, link it with:"),n().createElement(A.default,{"data-testid":"copy-rosa-link-ocm-role",textAriaLabel:`Copyable ${R.RosaCliCommand.LinkOcmRole} command`,trackEvent:g.trackEvents.CopyOCMRoleLink},R.RosaCliCommand.LinkOcmRole),n().createElement(S.F,{variant:S.w.info,isInline:!0,isPlain:!0,className:"ocm-instruction-block_alert pf-v5-u-mt-lg",title:"You must have organization administrator privileges in your Red Hat account to run this command. After you link the OCM role with your Red Hat organization, it is visible for all users in the organization."}))}]}))};var x=a(55213);const G=e=>{const{expandable:t}=e;return n().createElement(O,{...e},n().createElement(s.h,{headingLevel:"h3",className:"pf-v5-u-mb-md",size:"md"},"First, check if a role exists and is linked with:"),n().createElement(A.default,{"data-testId":"copy-rosa-list-user-role",textAriaLabel:`Copyable ROSA ${R.RosaCliCommand.ListUserRole} command`,className:"pf-v5-u-mb-lg"},R.RosaCliCommand.ListUserRole),n().createElement(S.F,{variant:S.w.info,isInline:!0,isPlain:!0,title:`If there is an existing role and it's already linked to your Red Hat account, ${t?"you can continue to step 3":"no further action is needed"}.`,className:"pf-v5-u-mb-lg"}),n().createElement(s.h,{headingLevel:"h3",size:"md",className:"pf-v5-u-mb-lg"},"Next, is there an existing role that isn't linked?"),n().createElement(k,{tabs:[{"data-testid":"copy-user-role-tab-no",title:"No, create new role",body:n().createElement(n().Fragment,null,n().createElement("strong",null,"User role "),n().createElement(x.default,{bodyContent:"The user role is necessary to validate that your Red Hat user account has permissions to install a cluster in the AWS account."}),n().createElement(A.default,{"data-testid":"copy-rosa-create-user-role",textAriaLabel:"Copyable ROSA create user-role",trackEvent:g.trackEvents.CopyUserRoleCreate},R.RosaCliCommand.UserRole))},{"data-testid":"copy-user-role-tab-yes",title:"Yes, link existing role",body:n().createElement(A.default,{"data-testid":"copy-rosa-link-user-role",textAriaLabel:"Copyable ROSA link user-role --arn",trackEvent:g.trackEvents.CopyUserRoleLink},R.RosaCliCommand.LinkUserRole)}]}))},U=(0,l.forwardRef)((({targetRole:e,showRosaCliRequirement:t},a)=>{const{closeDrawer:g}=(0,l.useContext)(v.AppDrawerContext);let b,S;switch(e){case"ocm":b="Create OCM role",S=n().createElement(n().Fragment,null,"After you've created the role, close this guide and click the"," ",n().createElement("strong",null,"Refresh")," button.");break;case"user":b="Create user role",S="After you've created the role, close this guide and try again.";break;case"account":b="Create account roles",S=n().createElement(n().Fragment,null,"After running the command, close this guide and click the ",n().createElement("strong",null,"Refresh ARNs")," ","button to populate the ARN fields.");break;default:b="How to associate a new AWS account",S="After you've completed all the steps, close this guide and choose your account."}const _=!e,C=(0,l.useCallback)((()=>{g()}),[g]);return n().createElement(r.X,{isResizable:!0},n().createElement(i.y,null,n().createElement(s.h,{headingLevel:"h2",size:"2xl"},n().createElement("span",{tabIndex:0,ref:a},b)),n().createElement(o.j,null,n().createElement(u.s,{onClick:C}))),n().createElement(d.k,{hasNoPadding:!0},n().createElement(c.d8,{variant:"light"},n().createElement(m.B,{hasGutter:!0},n().createElement(p.a,null,n().createElement(f.E,{component:f.Y.p},"ROSA cluster deployments use the AWS Security Token Service for added security. Run the following required steps from a CLI authenticated with both AWS and ROSA."),t&&n().createElement(f.E,{component:f.Y.p},"You must use ROSA CLI version ",h.ROSA_HOSTED_CLI_MIN_VERSION," or above.")),(_||"ocm"===e)&&n().createElement(p.a,null,n().createElement(F,{title:"Step 1: OCM role",expandable:_,initiallyExpanded:!0})),(_||"user"===e)&&n().createElement(p.a,null,n().createElement(G,{title:"Step 2: User role",expandable:_})),(_||"account"===e)&&n().createElement(p.a,null,n().createElement(P,{title:"Step 3: Account roles",expandable:_})),n().createElement(p.a,null,n().createElement(f.E,{component:f.Y.p,className:"pf-v5-u-mr-md"},S)),n().createElement(p.a,null,n().createElement(E.$n,{variant:E.Ak.secondary,"data-testid":"close-associate-account-btn",onClick:C},"Close"))))))})),j=(e=!1)=>{const{openDrawer:t}=(0,l.useContext)(v.AppDrawerContext),a=(0,b.default)(),r=(0,l.useRef)(null),i=(0,l.useCallback)((()=>{r.current&&r.current.focus()}),[r]);return{openDrawer:(0,l.useCallback)(((l={})=>{const{focusOnClose:s,onClose:o,targetRole:u}=l;a(g.trackEvents.AssociateAWS),t({drawerProps:{onExpand:i},drawerPanelContent:n().createElement(U,{ref:r,targetRole:u,showRosaCliRequirement:e}),onClose:o,focusOnClose:s})}),[i,t,a,e])}}},85105:(e,t,a)=>{"use strict";a.d(t,{I:()=>d});var l=a(93345),n=a.n(l),r=a(70460),i=a(51976),s=a(22069),o=a(72583),u=a(94296);const d=({title:e,targetRole:t})=>{const{openDrawer:a}=(0,u.F)(),d=(0,l.useCallback)((e=>{a({focusOnClose:e.target,targetRole:t})}),[a,t]);return n().createElement(r.F,{variant:"danger",isInline:!0,title:e},n().createElement(i.n,{className:"pf-v5-u-font-size-sm"},n().createElement(s.E,{component:s.Y.p},"To continue,"," ",n().createElement(o.$n,{variant:"link",isInline:!0,onClick:d},"create the required role")," ","with the ROSA CLI.")))}},90132:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{RosaCliCommand:()=>l}),function(e){e.UserRole="rosa create user-role",e.LinkUserRole="rosa link user-role <arn>",e.OcmRole="rosa create ocm-role",e.AdminOcmRole="rosa create ocm-role --admin",e.ListOcmRole="rosa list ocm-role",e.LinkOcmRole="rosa link ocm-role <arn>",e.ListUserRole="rosa list user-role",e.VerifyQuota="rosa verify quota",e.WhoAmI="rosa whoami",e.CreateAccountRoles="rosa create account-roles --mode auto",e.CreateAccountRolesHCP="rosa create account-roles --hosted-cp --mode auto",e.CreateCluster="rosa create cluster"}(l||(l={}))},72115:(e,t,a)=>{"use strict";a.r(t),a.d(t,{createOperatorRolesHash:()=>i,createOperatorRolesPrefix:()=>s,getOperatorRolesCommand:()=>r});var l=a(93413),n=a(84037);const r=({isHypershift:e,byoOidcConfigID:t,customOperatorRolesPrefix:a,installerRoleArn:l,sharedVpcRoleArn:r})=>{if(!t||!a||(0,n.checkCustomOperatorRolesPrefix)(a))return"";const i=`rosa create operator-roles --prefix "${a}" --oidc-config-id "${t}"`,s=l?`--installer-role-arn ${l}`:"";return e?`${i} --hosted-cp ${s}`:`${i} ${s}`},i=()=>{const e=Array.from(crypto.getRandomValues(new Uint8Array(4))).map((e=>(e%36).toString(36))),t="abcdefghijklmnopqrstuvwxyz"[(0,l.secureRandomValueInRange)(0,25)];return e[0]=t,e.join("")},s=e=>{const t=n.MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH-5;return`${e.slice(0,t)}-${i()}`}},83675:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Pe});var l=a(93345),n=a.n(l),r=a(88139),i=a(71468),s=a(23215),o=a(56780),u=a(83349),d=a(30620),c=a(10423),m=a(19404),p=a(30666),f=a(93973),E=a(70460),g=a(66338),v=a(37979),h=a(45436),b=a(93413),S=a(65702),_=a(94675),C=a(75166),y=a(84037),I=a(94402),A=a(49484),R=a(38046),T=a(98229),O=a(73553),P=a(54910),D=a(29814),L=a(28053),N=a(14115),w=a(55576),M=a(5330),k=a(72067),F=a(72115),x=a(8888);const G=()=>{const{values:{[N.FieldId.Region]:e,[N.FieldId.CustomerManagedKey]:t,[N.FieldId.KmsKeyArn]:a},setFieldTouched:l}=(0,k.l)(),r="true"===t;return n().useEffect((()=>{r&&a&&l(N.FieldId.KmsKeyArn,!0,!0)}),[]),n().createElement(d.x,{hasGutter:!0},n().createElement(s.E,null,n().createElement(o.g,{fieldId:N.FieldId.CustomerManagedKey,id:"customerManagedKey",label:"Encryption Keys"},n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-pb-md"},"The cloud storage for your cluster is encrypted at rest."," ",n().createElement(x.default,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/data-protection.html"},"Learn more")),n().createElement(w.RadioGroupField,{name:N.FieldId.CustomerManagedKey,options:[{value:"false",label:"Use default KMS Keys"},{value:"true",label:"Use custom KMS keys",popoverHint:"Use a custom AWS KMS key for AWS EBS volume encryption instead of your default AWS KMS key."}],direction:"row",isRequired:!0}))),r&&n().createElement(s.E,null,n().createElement(w.TextInputField,{name:N.FieldId.KmsKeyArn,label:"Key ARN",validate:t=>(0,y.validateAWSKMSKeyARN)(t,e),helperText:a?"":"Provide a custom key ARN",tooltip:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-sm"},A.constants.awsKeyARN),n().createElement(x.default,{href:S.default.AWS_FINDING_KEY_ARN},"Finding the key ID and ARN"))}),n().createElement(s.E,{md:6},n().createElement(E.F,{className:"pf-v5-u-mt-sm",isInline:!0,isLiveRegion:!0,variant:"info",title:"If you delete the ARN key, the cluster will no longer be available."}))))};var U=a(16829),j=a(55213);function H(){const{values:{[U.FieldId.EtcdEncryption]:e,[U.FieldId.EtcdKeyArn]:t,[U.FieldId.Region]:a},setFieldValue:l}=(0,k.l)();return n().useEffect((()=>{!e&&t&&l(U.FieldId.EtcdKeyArn,"")}),[e,t,l]),n().createElement(n().Fragment,null,n().createElement(s.E,null,n().createElement(o.g,{label:"etcd encryption"},n().createElement(p.B,{hasGutter:!0},n().createElement(f.o,null,n().createElement(M.CheckboxField,{name:U.FieldId.EtcdEncryption,label:"Encrypt etcd with a custom KMS key"})),n().createElement(f.o,null,n().createElement(j.default,{hint:n().createElement(n().Fragment,null,A.constants.enableAdditionalEtcdHypershiftHint," ",n().createElement(x.default,{href:S.default.ROSA_SERVICE_ETCD_ENCRYPTION},"Learn more about etcd encryption"))}))),n().createElement("div",{className:"ocm-c--reduxcheckbox-description"},"Etcd is always encrypted, but you can specify a custom KMS key if desired."))),e?n().createElement(n().Fragment,null,n().createElement(s.E,null,n().createElement(w.TextInputField,{name:U.FieldId.EtcdKeyArn,label:"Key ARN",validate:e=>(0,y.validateAWSKMSKeyARN)(e,a),helperText:t?"":"Provide a custom key ARN",tooltip:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-sm"},A.constants.awsKeyARN),n().createElement(x.default,{href:S.default.AWS_FINDING_KEY_ARN},"Finding the key ID and ARN"))})),n().createElement(s.E,null,n().createElement(E.F,{className:"pf-v5-u-mt-sm",isInline:!0,isLiveRegion:!0,variant:"info",title:"If you delete the ARN key, the cluster will no longer be available."}))):null)}var V=a(17661),q=a(97862),z=a(22563),B=a(22546),W=a(93745),$=a(72583),Y=a(9132),K=a(81995),Q=a(7019),Z=a(75907),X=a(66152),J=a(55816),ee=a(38715),te=a(62077),ae=a(56349),le=a(25514),ne=a(12921),re=a(90118),ie=a(22069),se=a(90132),oe=a(10046);const ue=({isHypershiftSelected:e})=>n().createElement(E.F,{className:"pf-v5-u-ml-lg",variant:"danger",isInline:!0,role:"alert",title:"There is no version compatible with the selected ARNs in previous step"},n().createElement(ne.K,{component:ne.C.ol,className:"ocm-c-wizard-alert-steps"},n().createElement(re.L,{className:"pf-v5-u-mb-sm"},n().createElement(ie.E,{component:ie.Y.p,className:"pf-v5-u-mb-sm"},"Please select different ARNs or create new account roles using the following command in the ROSA CLI")),n().createElement(re.L,{className:"pf-v5-u-mb-sm"},n().createElement("div",{className:"pf-v5-u-mb-sm"},n().createElement(oe.default,{textAriaLabel:"Copyable ROSA create account-roles command"},e?se.RosaCliCommand.CreateAccountRolesHCP:se.RosaCliCommand.CreateAccountRoles))))),de=function({label:e,onChange:t,isOpen:a=!1}){var s,u;const[d,{touched:c,error:m},{setValue:p}]=(0,r.useField)(U.FieldId.ClusterVersion),{values:{[U.FieldId.ClusterVersion]:f,[U.FieldId.Hypershift]:E,[U.FieldId.RosaMaxOsVersion]:g,[U.FieldId.InstallerRoleArn]:v,[U.FieldId.SupportRoleArn]:h,[U.FieldId.WorkerRoleArn]:S}}=(0,k.l)(),_="true"===E,C=(0,i.wA)(),y=(0,le.useGlobalState)((e=>e.clusters.clusterVersions)),I=e=>C(ae.clustersActions.getInstallableVersions({isRosa:!0,isHCP:e})),A=(0,le.useGlobalState)((e=>e.rosaReducer.getAWSAccountRolesARNsResponse)),R=((null==A?void 0:A.data)||[]).some((e=>(e.managedPolicies||e.hcpManagedPolicies)&&(e.Installer===v||e.Support===h||e.Worker===S))),[T,O]=(0,l.useState)(a),[P,D]=(0,l.useState)([]),[L,N]=(0,l.useState)(!1),[w,M]=(0,l.useState)(!0),[F]=(0,te.useOCPLifeCycleStatusData)(),x=(null===(s=null==F?void 0:F[0])||void 0===s?void 0:s.versions)||[],G=Object.fromEntries(x.map((e=>[e.name,e.type]))),j=n().useCallback((e=>(0,b.isSupportedMinorVersion)((null==e?void 0:e.raw_id)||"",g)&&e.rosa_enabled),[g]),H=n().useCallback((e=>(0,b.isSupportedMinorVersion)((null==e?void 0:e.raw_id)||"",g)&&e.hosted_control_plane_enabled),[g]),ne=e=>parseFloat(e.raw_id||""),re=n().useCallback((e=>_&&!e.hosted_control_plane_enabled),[_]),ie=n().useCallback((e=>{if(!(null==e?void 0:e.raw_id))return;if(re(e))return"This version is not compatible with a Hosted control plane";const t=parseFloat(X.MIN_MANAGED_POLICY_VERSION),a=Number(e.raw_id.split(".")[2]),l=Number(X.MIN_MANAGED_POLICY_VERSION.split(".")[2]),n=R&&(ne(e)<t||ne(e)===t&&a<l);return!j(e)||n?"This version is not compatible with the selected ARNs in previous step":void 0}),[R,re,j]);(0,l.useEffect)((()=>{var e;const t="hcp"===(null===(e=y.params)||void 0===e?void 0:e.product);(!y.fulfilled||y.error||t&&!_||!t&&_)&&I(_)}),[]),(0,l.useEffect)((()=>{var e;if(y.fulfilled){const a=null!==(e=null==y?void 0:y.versions)&&void 0!==e?e:[],l=a.find((e=>e.raw_id===(null==f?void 0:f.raw_id)));!(null==f?void 0:f.raw_id)||l&&!ie(l)||(p(void 0),t(void 0)),D(a)}else y.error&&O(!1)}),[y]),(0,l.useEffect)((()=>{if(P.length&&!(null==f?void 0:f.raw_id)){const e=P.find((e=>!0===e.default)),a=P.find((e=>j(e))),l=_&&P.find((e=>H(e)));if(!a||_&&!l)return void N(!0);const n=l||a||e||P[0];p(n),t(n)}}),[P,null==f?void 0:f.raw_id,g,p,t,_,j,H]);const se=e=>{O(!T),!T&&y.error&&I(_)},oe=()=>{const e=P.find((e=>{var t;return(null===(t=d.value)||void 0===t?void 0:t.raw_id)===e.raw_id}));return e?e.raw_id:""},de=n().useMemo((()=>{const e=[],t=[];let a=!1;return P.forEach((l=>{const r=ie(l);if(a||(a=!!r),r&&w)return;const i=n().createElement(q.O,{value:l.raw_id,key:l.id,isDisabled:!!r,description:r||""},`${l.raw_id}`);"Full Support"===(null==G?void 0:G[ne(l)])?e.push(i):t.push(i)})),{fullSupport:e,maintenanceSupport:t,hasIncompatibleVersions:a}}),[ie,G,P,w]);return n().createElement(o.g,{...d,label:e,isRequired:!0},y.error&&n().createElement(J.default,{message:"Error getting cluster versions",response:y}),L?n().createElement(ue,{isHypershiftSelected:_}):null,y.pending&&n().createElement("div",{className:"spinner-fit-container"},n().createElement(Z.A,null)),y.fulfilled&&!L&&n().createElement(z.l,{isOpen:T,selected:(null==f?void 0:f.raw_id)||oe(),toggle:e=>n().createElement(V.S,{ref:e,onClick:se,isExpanded:T,style:{width:"100%",minWidth:"100%"},id:U.FieldId.ClusterVersion},(null==f?void 0:f.raw_id)||oe()),onOpenChange:O,onSelect:(e,a)=>{O(!1);const l=P.find((e=>e.raw_id===a));p(l),t(l)},maxMenuHeight:"20em",isScrollable:!0},de.hasIncompatibleVersions?n().createElement(B.d,{className:"pf-v5-u-mx-md pf-v5-u-mt-md pf-v5-u-font-size-sm",id:"view-only-compatible-versions","aria-label":"View only compatible versions",key:`compatible-switch-${w}`,label:n().createElement(n().Fragment,null,n().createElement("span",null,"View only compatible versions"),n().createElement(W.A,{bodyContent:_?"View only versions that are compatible with a Hosted control plane":"View only versions that are compatible with the selected ARNs in previous step",enableFlip:!1},n().createElement($.$n,{variant:"plain",className:"pf-v5-u-p-0 pf-v5-u-ml-md"},n().createElement(Q.OutlinedQuestionCircleIcon,null)))),hasCheckIcon:!0,isChecked:w,onChange:(e,t)=>{e.preventDefault(),e.stopPropagation(),M(t)}}):null,n().createElement(Y.s,{label:"Full support",id:"full-support"},n().createElement(K.B,{"aria-labelledby":"full-support"},de.fullSupport)),(null===(u=de.maintenanceSupport)||void 0===u?void 0:u.length)>0?n().createElement(Y.s,{label:"Maintenance support",id:"maintenance-support"},n().createElement(K.B,{"aria-labelledby":"maintenance-support"},de.maintenanceSupport)):null),n().createElement(ee.FormGroupHelperText,{touched:c,error:m}))};var ce=a(11243),me=a(96678),pe=a(25982),fe=a(10135),Ee=a(57146),ge=a(16236),ve=a(73410),he=a(36817),be=a(11912),Se=a(976),_e=a(15245),Ce=a(8371),ye=a(3638);const Ie=(e,t)=>({id:e.id,display_name:e.display_name,enabled:e.enabled,supports_multi_az:e.supports_multi_az,kms_location_id:e.kms_location_id,ccs_only:e.ccs_only,supports_hypershift:e.supports_hypershift,is_regionalized:t});var Ae=a(57860);const Re=({field:e,cloudProviderID:t,isDisabled:a,handleCloudRegionChange:l})=>{const{setFieldValue:r}=(0,k.l)(),[i,s]=n().useState([]),{data:o,isFetching:u,isError:d,error:c,isSuccess:m}=(()=>{const{data:e,error:t,isError:a,isLoading:l,isFetching:n,isSuccess:r}=(0,pe.I)({queryKey:[he.K.FETCH_REGIONALIZED_MULTI_REGIONS],queryFn:async()=>{const e=_e;return(async()=>{const t=[],a=await(async()=>{var e;const t=[];return null===(e=(await ge.default.getCloudProviders()).data.items)||void 0===e||e.forEach((e=>{"aws"===e.id&&void 0!==e.regions&&e.regions.forEach((e=>{if(e.id&&e.supports_hypershift){const a=Ie(e,!1);t.push(a)}}))})),t})(),l=await(async e=>{const t=Object.entries(e),a=[];return await Promise.all(t.map((async e=>{var t;const l=e[0],n=e.find((e=>"object"==typeof e&&"url"in e)),r=(null==n?void 0:n.url)?(0,me.formatRegionalInstanceUrl)(n.url):void 0,i=(0,ge.getClusterServiceForRegion)(r);null===(t=(await i.getCloudProviders()).data.items)||void 0===t||t.forEach((e=>{if("aws"===e.id&&void 0!==e.regions){const t=e.regions.find((e=>e.id===l));if(t&&t.supports_hypershift){const e=Ie(t,!0);a.push(e)}}}))}))),a})(e);return l&&t.push(...l),a&&a.forEach((e=>{l.some((t=>t.id===e.id))||t.push(e)})),t})()},retry:!1}),i=(0,me.formatErrorData)(l,a,t);return{data:e,error:null==i?void 0:i.error,isError:a,isFetching:n,isSuccess:r}})();return n().useEffect((()=>{s(o)}),[o]),n().useEffect((()=>{if(i){const a=i.find((t=>t.id===e.value));if(!a||a.disableReason){const a=(0,Ae.p)(i,t);a&&(r(e.name,a),null==l||l())}}}),[i,t,e.value,e.name,r,l]),m&&!u&&i?n().createElement(Ce.F,{name:e.name,className:"cloud-region-combo-box","aria-label":"Region",isDisabled:a,value:e.value,onChange:(t,a)=>{r(e.name,a),null==l||l()}},i.filter((t=>!t.hide||t.id===e.value)).map((e=>n().createElement(ye.Q,{key:e.id,value:e.id,label:`${e.id}, ${e.display_name}`,isDisabled:!!e.disableReason})))):d?n().createElement(J.default,{message:"Error loading region list",response:c}):n().createElement(n().Fragment,null,n().createElement("div",{className:"spinner-fit-container"},n().createElement(Z.A,null)),n().createElement("div",{className:"spinner-loading-text"},"Loading region list..."))};var Te=a(2786);const Oe=()=>n().createElement(s.E,{md:6},n().createElement(w.CheckboxField,{name:N.FieldId.EnableExteranlAuthentication,label:"External authentication",tooltip:n().createElement(x.default,{href:S.default.ROSA_HCP_EXT_AUTH},"Learn more about external authentication"),formGroup:{label:"Enable external authentication"}}),n().createElement(Te.CheckboxDescription,null,"Allow authentication to be handled by an external provider.")),Pe=function(){const{values:{[U.FieldId.Hypershift]:e,[U.FieldId.MultiAz]:t,[U.FieldId.BillingModel]:a,[U.FieldId.Region]:V,[U.FieldId.RegionalInstance]:q,[U.FieldId.MachinePoolsSubnets]:z,[U.FieldId.ClusterPrivacy]:B,[U.FieldId.InstallerRoleArn]:W,[U.FieldId.HasDomainPrefix]:$,[U.FieldId.ClusterName]:Y,[U.FieldId.DomainPrefix]:K},errors:Q,getFieldProps:Z,setFieldValue:X,setFieldTouched:J,validateForm:ee}=(0,k.l)(),te=(0,i.d4)((e=>e.machineTypesByRegion)),ae=(0,i.wA)();n().useEffect((()=>{V&&(!te.region||te.region&&te.region.id!==V)&&ae((0,be.getMachineTypesByRegionARN)(W,V))}),[V,W,te.region,ae]);const ne="true"===e,re="true"===t,ie=(0,ce.useFeatureGate)(Se.MULTIREGION_PREVIEW_ENABLED)&&ne,[se,oe]=(0,l.useState)(!1),[ue,Ce]=(0,l.useState)(!1),ye=_e;n().useEffect((()=>{ie&&X(U.FieldId.RegionalInstance,ye[V]||ye.global)}),[ie,V,X]);const Ie=(0,me.formatRegionalInstanceUrl)(null==q?void 0:q.url),{data:Ae,isFetching:Te}=((e,t,a)=>{const{data:l,isError:n,error:r,isFetching:i}=(0,pe.I)({queryKey:[he.K.FETCH_SEARCH_CLUSTER_NAME],queryFn:async()=>{var a,l,n,r;if(t){const n=(0,ge.getClusterServiceForRegion)(t),r=`name = ${(0,fe.sqlString)(e)}`,i=await n.searchClusters(r,1);return!!(null===(l=null===(a=null==i?void 0:i.data)||void 0===a?void 0:a.items)||void 0===l?void 0:l.length)}const i=`name = ${(0,fe.sqlString)(e)}`,s=await ve.clusterService.searchClusters(i,1);return!!(null===(r=null===(n=null==s?void 0:s.data)||void 0===n?void 0:n.items)||void 0===r?void 0:r.length)},retry:!1,enabled:a});return{data:l,isError:n,error:r,isFetching:i}})(Y,Ie,ie),{data:Pe,isFetching:De}=((e,t,a)=>{const{data:l,isError:n,error:r,isFetching:i}=(0,pe.I)({queryKey:[he.K.FETCH_SEARCH_DOMAIN_PREFIX],queryFn:async()=>{var a,l,n,r;if(t){const n=(0,ge.getClusterServiceForRegion)(t),r=`domain_prefix = ${(0,fe.sqlString)(e)}`,i=await n.searchClusters(r,1);return!!(null===(l=null===(a=null==i?void 0:i.data)||void 0===a?void 0:a.items)||void 0===l?void 0:l.length)}const i=`domain_prefix = ${(0,fe.sqlString)(e)}`,s=await ve.clusterService.searchClusters(i,1);return!!(null===(r=null===(n=null==s?void 0:s.data)||void 0===n?void 0:n.items)||void 0===r?void 0:r.length)},retry:!1,enabled:a});return{data:l,isError:n,error:r,isFetching:i}})(K,Ie,ie);n().useEffect((()=>{Ee.q.invalidateQueries({queryKey:[he.K.FETCH_SEARCH_CLUSTER_NAME],exact:!0})}),[Y,q]),n().useEffect((()=>{Ee.q.invalidateQueries({queryKey:[he.K.FETCH_SEARCH_DOMAIN_PREFIX],exact:!0})}),[K,q]),n().useEffect((()=>{ie&&(J(U.FieldId.ClusterName),J(U.FieldId.DomainPrefix))}),[ie,Ae,Pe,J]),n().useEffect((()=>{ee()}),[V,Ae,Pe,ee]),n().useEffect((()=>{Q[U.FieldId.KmsKeyArn]&&(oe(!0),J(U.FieldId.KmsKeyArn)),Q[U.FieldId.EtcdKeyArn]&&(oe(!0),J(U.FieldId.EtcdKeyArn))}),[Q,J]);const{organization:{quotaList:Le,details:Ne}}=(0,le.useGlobalState)((e=>e.userProfile)),we=()=>{const e=new Array(re?3:1).fill((0,N.emptyAWSSubnet)());X(U.FieldId.MachinePoolsSubnets,e),X(U.FieldId.SelectedVpc,{id:"",name:""}),"external"===B&&X(U.FieldId.ClusterPrivacyPublicSubnetId,"")},Me=e=>{const t={product:C.normalizedProducts.ROSA,cloudProviderID:P.CloudProviderType.Aws,isBYOC:!0,billingModel:a,isMultiAz:e};return(0,T.availableQuota)(Le,{...t,resourceType:R.QuotaTypes.CLUSTER})>=1},ke=e=>e?{disabled:!1}:{disabled:!0,tooltip:b.noQuotaTooltip},Fe=[{value:"false",label:"Single zone",popoverHint:A.constants.availabilityHintSingleZone,...ke(Me(!1))},{value:"true",label:"Multi-zone",popoverHint:A.constants.availabilityHintMultiZone,...ke(Me(!0))}],xe=n().createElement(n().Fragment,null,n().createElement(s.E,{md:6},n().createElement(o.g,{label:"Region",isRequired:!0,fieldId:U.FieldId.Region,labelIcon:n().createElement(j.default,{hint:A.constants.regionHint})},ie?n().createElement(r.Field,{component:Re,name:U.FieldId.Region,cloudProviderID:P.CloudProviderType.Aws,handleCloudRegionChange:we}):n().createElement(r.Field,{component:L.A,name:U.FieldId.Region,cloudProviderID:P.CloudProviderType.Aws,isBYOC:!0,isMultiAz:re,isHypershiftSelected:ne,handleCloudRegionChange:we}))),n().createElement(s.E,{md:6}));return n().createElement(u.l,{onSubmit:e=>(e.preventDefault(),!1)},n().createElement(d.x,{hasGutter:!0},n().createElement(s.E,null,n().createElement(c.h,{headingLevel:"h3"},"Cluster details")),ie?xe:null,ie&&!V?n().createElement(s.E,{md:6},n().createElement(m.E,{fontSize:"md"})):n().createElement(s.E,{md:6},n().createElement(r.Field,{component:w.RichInputField,name:U.FieldId.ClusterName,label:"Cluster name",type:"text",validate:async e=>{const t=(0,y.createPessimisticValidator)(y.clusterNameValidation)(e,54);if(t)return t;return await(0,y.asyncValidateClusterName)(e,ie,Ae)||!(!ie||!Te)||void 0},validation:e=>(0,y.clusterNameValidation)(e,54),asyncValidation:e=>(0,y.clusterNameAsyncValidation)(e,ie,Ae),isRequired:!0,extendedHelpText:A.constants.clusterNameHint,input:{...Z(U.FieldId.ClusterName),onChange:async e=>{X(U.FieldId.CustomOperatorRolesPrefix,(0,F.createOperatorRolesPrefix)(e),!1)}}})),n().createElement(s.E,{md:6}),n().createElement(s.E,null,n().createElement(p.B,{hasGutter:!0,className:"pf-u-mb-0"},n().createElement(f.o,null,n().createElement(M.CheckboxField,{name:U.FieldId.HasDomainPrefix,label:"Create custom domain prefix"})),n().createElement(f.o,null,n().createElement(j.default,{hint:A.constants.domainPrefixHint})))),$&&n().createElement(n().Fragment,null,n().createElement(s.E,{md:6},n().createElement(r.Field,{component:w.RichInputField,name:U.FieldId.DomainPrefix,label:"Domain prefix",type:"text",validate:async e=>{const t=(0,y.createPessimisticValidator)(y.domainPrefixValidation)(e);if(t)return t;return await(0,y.asyncValidateDomainPrefix)(e,ie,void 0,Pe)||!(!ie||!De)||void 0},validation:y.domainPrefixValidation,asyncValidation:e=>(0,y.domainPrefixAsyncValidation)(e,ie,void 0,Pe),isRequired:!0,input:Z(U.FieldId.DomainPrefix)})),n().createElement(s.E,{md:6})),n().createElement(s.E,{md:6},n().createElement(de,{label:"Version",onChange:e=>{e&&(!(0,I.E)(h.x.SECURITY_GROUPS,e.raw_id,{day1:!0})||X(U.FieldId.SecurityGroups,(0,_.getDefaultSecurityGroupsSettings)()))}})),n().createElement(s.E,{md:6}),ie?null:xe,ne?n().createElement(E.F,{isInline:!0,variant:"info",title:"The hosted control plane uses multiple availability zones."}):n().createElement(n().Fragment,null,n().createElement(s.E,{md:6},n().createElement(w.RadioGroupField,{label:"Availability",name:U.FieldId.MultiAz,options:Fe,onChange:(e,t)=>{const a="true"===t;X(U.FieldId.NodesCompute,(0,O.getNodesCount)(!0,a,!0));const l=(0,O.getMinReplicasCount)(!0,a,!0,ne);X(U.FieldId.MinReplicas,l),X(U.FieldId.MaxReplicas,l);const n=[(null==z?void 0:z[0])||(0,N.emptyAWSSubnet)()];a&&(n.push((0,N.emptyAWSSubnet)()),n.push((0,N.emptyAWSSubnet)())),X(U.FieldId.MachinePoolsSubnets,n)},direction:"row",isRequired:!0})),n().createElement(s.E,{md:6})),!ne&&n().createElement(n().Fragment,null,n().createElement(s.E,null,n().createElement(c.h,{headingLevel:"h4"},"Monitoring")),n().createElement(s.E,null,n().createElement(p.B,{hasGutter:!0,className:"pf-v5-u-mb-0"},n().createElement(f.o,null,n().createElement(M.CheckboxField,{name:U.FieldId.EnableUserWorkloadMonitoring,label:"Enable user workload monitoring"})),n().createElement(f.o,null,n().createElement(j.default,{hint:n().createElement(n().Fragment,null,A.constants.enableUserWorkloadMonitoringHelp,n().createElement(x.default,{href:S.default.ROSA_MONITORING},"Learn more"))}))),n().createElement("div",{className:"ocm-c--reduxcheckbox-description"},A.constants.enableUserWorkloadMonitoringHint))),n().createElement(g.Q,{toggleText:"Advanced Encryption",onToggle:()=>{oe(!se)},isExpanded:se},n().createElement(d.x,{hasGutter:!0},n().createElement(G,null),ne?n().createElement(H,null):n().createElement(D.c,{isRosa:!0}))),ne&&(0,v.hasExternalAuthenticationCapability)(null==Ne?void 0:Ne.capabilities)?n().createElement(g.Q,{toggleText:"External Authentication",onToggle:()=>{Ce(!ue)},isExpanded:ue},n().createElement(Oe,null)):null))}},29329:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var l=a(71468),n=a(98229),r=a(93345),i=a.n(r),s=a(88139),o=a(83349),u=a(30620),d=a(23215),c=a(10423),m=a(22069),p=a(65702),f=a(14115),E=a(72067),g=a(5198),v=a(80591),h=a(8888),b=a(11243),S=a(976),_=a(63995),C=a(54352),y=a(23722),I=a(16829),A=a(5019),R=a(70460),T=a(83579),O=a(35787),P=a(59779);const D="pf-v5-u-mb-md",L=({children:e})=>i().createElement(O.c,{icon:i().createElement(P.Sr,{className:"pf-v5-u-active-color-100"})},e),N=({handleChange:e,isSelected:t,isHostedDisabled:a})=>i().createElement(A.F,{title:"Hosted",isDisplayLarge:!0,isStacked:!0,onClick:()=>!a&&e("true"),isSelected:t,isDisabled:a,className:"controlPlaneScreenTile","data-testid":"hosted-control-planes"},a&&i().createElement(R.F,{variant:"info",title:i().createElement(i().Fragment,null,"To create hosted control plane clusters, you'll need to"," ",i().createElement(h.default,{href:p.default.AWS_CONSOLE_ROSA_HOME_GET_STARTED},"enable ROSA hosted control plane")),className:D}),i().createElement(m.E,{component:m.Y.p,className:D},"Run an OpenShift cluster where the control plane is decoupled from the data plane, and is treated like a multi-tenant workload on a hosted service cluster. The data plane is on a separate network domain that allows segmentation between management and workload traffic."),i().createElement(T.B8,{isPlain:!0,className:D},i().createElement(L,null,"Control plane resources are hosted in a Red Hat-owned AWS account"),i().createElement(L,null,"Better resource utilization with faster cluster creation"),i().createElement(L,null,"Lower AWS infrastructure costs"),i().createElement(L,null,"Full compliance certifications"),i().createElement(L,null,"Red Hat SRE managed")),i().createElement(R.F,{variant:"warning",isInline:!0,isPlain:!0,title:"Virtual Private Cloud is required",className:D},i().createElement(m.E,{component:m.Y.p},"To create a ROSA cluster that is hosted by Red Hat, you must be able to create clusters on a VPC."),i().createElement(m.E,{component:m.Y.p},i().createElement(h.default,{href:p.default.VIRTUAL_PRIVATE_CLOUD_URL},"Learn more about Virtual Private Cloud")))),w=({handleChange:e,isSelected:t})=>i().createElement(A.F,{title:"Classic",isDisplayLarge:!0,isStacked:!0,onClick:()=>e("false"),isSelected:t,className:"controlPlaneScreenTile","data-testid":"standalone-control-planes"},i().createElement(m.E,{component:m.Y.p,className:D},"Run an OpenShift cluster where the control plane and data plane are coupled. The control plane is hosted by a dedicated group of physical or virtual nodes and the network stack is shared."),i().createElement(T.B8,{isPlain:!0,className:D},i().createElement(L,null,"Control plane resources are hosted in your own AWS account"),i().createElement(L,null,"Full compliance certifications"),i().createElement(L,null,"Red Hat SRE managed"))),M=({input:{value:e,onChange:t},hasHostedProductQuota:a})=>{const{values:l,setValues:n}=(0,E.l)(),r=!a,s=(0,b.useFeatureGate)(S.MULTIREGION_PREVIEW_ENABLED);i().useEffect((()=>{r&&t("false")}),[]);const o=e=>{t(e),n({...l,...(0,I.initialValuesHypershift)("true"===e,s),[I.FieldId.Hypershift]:e,[I.FieldId.InstallToVpc]:!1,[I.FieldId.SharedVpc]:{is_allowed:"false"===e,is_selected:!1,base_dns_domain:"",hosted_zone_id:"",hosted_zone_role_arn:""},[I.FieldId.ConfigureProxy]:!1,[I.FieldId.MachinePoolsSubnets]:[(0,f.emptyAWSSubnet)()],[I.FieldId.FipsCryptography]:!1,[I.FieldId.InstallerRoleArn]:y.cw,[I.FieldId.SupportRoleArn]:y.cw,[I.FieldId.WorkerRoleArn]:y.cw,..."false"===e?{[I.FieldId.ControlPlaneRoleArn]:y.cw}:{}})};return i().createElement(i().Fragment,null,i().createElement(N,{handleChange:o,isSelected:"true"===e,isHostedDisabled:r}),i().createElement(w,{handleChange:o,isSelected:"false"===e}))},k=(0,l.Ng)((e=>{const{quotaList:t}=e.userProfile.organization;return{hasHostedProductQuota:(0,n.hasHostedQuotaSelector)(t)}}))((({hasHostedProductQuota:e})=>{const{setFieldValue:t,getFieldProps:a,setFieldTouched:l}=(0,E.l)();return i().createElement(o.l,{onSubmit:e=>(e.preventDefault(),!1)},i().createElement("div",{className:"ocm-c-wizard-intro-image-container"},i().createElement("img",{src:C,className:"ocm-c-wizard-intro-image-top","aria-hidden":"true",alt:""}),i().createElement("img",{src:_,className:"ocm-c-wizard-intro-image-bottom","aria-hidden":"true",alt:""})),i().createElement(u.x,{hasGutter:!0,className:"pf-v5-u-mt-md"},i().createElement(d.E,{span:10},i().createElement(v.G,null)),i().createElement(d.E,{span:10},i().createElement(g.R,null)),i().createElement(d.E,{span:10},i().createElement(c.h,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"Select an AWS control plane type"),i().createElement(m.E,{component:m.Y.p},"Not sure what to choose?"," ",i().createElement(h.default,{href:p.default.AWS_CONTROL_PLANE_URL},"Learn more about AWS control plane types")))),i().createElement(s.Field,{name:I.FieldId.Hypershift,component:M,validate:e=>e?void 0:"Control plane is required.",input:{...a(I.FieldId.Hypershift),onChange:e=>{l(I.FieldId.Hypershift),t(I.FieldId.Hypershift,e,!1)}},hasHostedProductQuota:e}))}))},48861:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(71468),i=a(91497),s=a(24239);const o=()=>{const e=(0,r.wA)(),t=(0,r.d4)((e=>e.clusters.createdCluster)),{error:a}=t;return a?n().createElement(i.default,{title:"Error creating cluster",errorResponse:t,resetResponse:()=>e((0,s.resetCreatedClusterResponse)())}):null}},80370:(e,t,a)=>{"use strict";a.d(t,{A:()=>de,t:()=>se});var l=a(93345),n=a.n(l),r=a(95376),i=a(51976),s=a(22069),o=a(63802),u=a(90678),d=a(73113),c=a(60915),m=a(983),p=a(66338),f=a(10423),E=a(72583),g=a(30666),v=a(93973),h=a(66312),b=a(6229),S=a(30620),_=a(23215),C=a(19202),y=a(91858),I=a(65702),A=a(33366),R=a(7691),T=a(8888),O=a(11777),P=a(94974),D=a(65824),L=a(71468),N=a(42045),w=a(83579),M=a(35787),k=a(70460),F=a(20881),x=a(9296),G=a(87960),U=a(75070),j=a(71870),H=a(90132),V=a(10046),q=a(35198),z=a(11243),B=a(976),W=a(62384),$=a(19404),Y=a(58994);const K=({restrictTokens:e,error:t,isLoading:a,token:l,defaultToOfflineTokens:r})=>{const i=(0,F.A)(),s=(0,W.isRestrictedEnv)(),o=`rosa login${s?" --govcloud":""}${"int"===i.getEnvironment()?" --env=integration":""} --token="${l}"`,u=n().createElement(Y.A,{token:l,command:o,textAriaLabel:"Copyable ROSA login command",trackEvent:x.trackEvents.ROSALogin,"data-testid":"token-box"});return s?u:a?n().createElement($.E,{fontSize:"3xl","data-testid":"loading"}):t&&!r?n().createElement(k.F,{variant:"danger",isInline:!0,title:"Error retrieving user account"},n().createElement("p",null,t.reason),n().createElement("p",null,`Operation ID: ${t.operation_id||"N/A"}`)):e?n().createElement(V.default,{className:"ocm-c-api-token-limit-width",outerClassName:"pf-v5-u-mt-md"},"rosa login --use-auth-code"):u},Q=(0,L.Ng)((e=>{const{offlineToken:t}=e.rosaReducer;return{offlineToken:t}}),(e=>({setOfflineToken:t=>e((0,N.setOfflineToken)(t))})))((({offlineToken:e,setOfflineToken:t})=>{const a=(0,F.A)(),l=(0,W.isRestrictedEnv)(),{organization:r,isLoading:i,error:s}=(0,j.default)(),[o,u]=n().useState(""),[d,c]=n().useState(void 0),m=s,p=(0,z.useFeatureGate)(B.CLI_SSO_AUTHORIZATION)&&!d;return n().useEffect((()=>{l?(0,W.getRefreshToken)(a).then((e=>u(e))):e&&u(e)}),[a,l,e]),n().useEffect((()=>{l||void 0===d||d||e||(0,U.z)(((e,a)=>{t(a||e)}),window.location.origin,a)}),[d]),n().useEffect((()=>{l||i||s||!(null==r?void 0:r.capabilities)||((0,G.X)(r.capabilities)?c(!0):c(!1))}),[r,i,s,l]),n().createElement(n().Fragment,null,n().createElement(f.h,{headingLevel:"h3"},"Log in to the ROSA CLI with your Red Hat account token and create AWS account roles and policies"),!l&&p?n().createElement(q.A,null):null,n().createElement(w.B8,{component:w.sB.ol,type:w.ZN.number},n().createElement(M.c,{className:"pf-v5-u-mb-lg"},"To authenticate, run this command:",n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(K,{restrictTokens:d,isLoading:i,error:m,token:o,defaultToOfflineTokens:G.g}))),n().createElement(M.c,null,"To create the necessary account-wide roles and policies quickly, use the default auto method that's provided in the ROSA CLI:",n().createElement(V.default,{trackEvent:x.trackEvents.CopyCreateAccountRoles,textAriaLabel:"Copyable ROSA create account-roles command",className:"pf-v5-u-mt-md"},H.RosaCliCommand.CreateAccountRoles),n().createElement(k.F,{variant:"info",isInline:!0,isPlain:!0,title:n().createElement(n().Fragment,null,"If you would prefer to manually create the required roles and policies within your AWS account, follow"," ",n().createElement(T.default,{href:I.default.AWS_CLI_GETTING_STARTED_MANUAL,noIcon:!0},"these instructions"),".")}))))}));var Z=a(12921),X=a(90118),J=a(41612);const ee=()=>n().createElement(i.n,null,n().createElement(s.E,{component:"h3"},"Download and install the ROSA and AWS command line tools (CLI) and add it to your"," ",n().createElement("code",null,"PATH"),"."),n().createElement(Z.K,{component:"ol"},n().createElement(X.L,{className:"pf-v5-u-mb-lg"},n().createElement(s.E,{component:s.Y.p},"Download the latest version of the ROSA CLI"),n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(J.default,{tool:I.tools.ROSA,channel:I.channels.STABLE})),n().createElement(s.E,{component:"p"},n().createElement(T.default,{href:I.default.ROSA_CLI_DOCS},"Help with ROSA CLI setup"))),n().createElement(X.L,null,n().createElement(s.E,{component:s.Y.p},"Download the AWS CLI version 2"),n().createElement(s.E,{component:s.Y.p,className:"pf-v5-u-mt-md"},n().createElement(T.default,{href:I.default.AWS_CLI},"Instructions to install the AWS CLI")))));var te=a(72972),ae=a(61860);const le=()=>n().createElement(c.Z,{isFlat:!0,isFullHeight:!0},n().createElement(b.Z,null,n().createElement(f.h,{headingLevel:"h3",size:"lg"},n().createElement(ae.CodeIcon,{className:"ocm-c-wizard-get-started--card-icon"}),"Deploy with CLI")),n().createElement(m.b,null,n().createElement(s.E,{component:s.Y.p,className:"pf-v5-u-mb-sm"},"Run the create command in your terminal to begin setup in interactive mode."),n().createElement(V.default,{textAriaLabel:"Copyable ROSA create cluster command",trackEvent:x.trackEvents.CopyRosaCreateCluster},H.RosaCliCommand.CreateCluster)),n().createElement(te.w,null,n().createElement(T.default,{href:I.default.AWS_CLI_INSTRUCTIONS},"More information on CLI instruction")));var ne=a(84531),re=a(69304);const ie=()=>{const e=(0,l.useCallback)((e=>n().createElement(re.Link,{...e,to:"/create/rosa/wizard"})),[]);return n().createElement(c.Z,{isFlat:!0,isFullHeight:!0},n().createElement(b.Z,null,n().createElement(f.h,{headingLevel:"h3",size:"lg"},n().createElement(ne.eZ,{className:"ocm-c-wizard-get-started--card-icon"}),"Deploy with web interface")),n().createElement(m.b,null,n().createElement(s.E,{component:s.Y.p,className:"pf-v5-u-mb-sm"},"You can deploy your cluster with the web interface."),n().createElement(k.F,{variant:"info",isInline:!0,isPlain:!0,title:"Your AWS account will need to be associated with your Red Hat account."})),n().createElement(te.w,null,n().createElement(E.$n,{variant:E.Ak.secondary,component:e},n().createElement(ne.eZ,null)," Create with web interface")))},se="Red Hat OpenShift Service on AWS",oe=(e="")=>`Set up ${e} (ROSA)`,ue=n().createElement(R.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Set up ROSA"}]}),de=()=>{const{search:e}=(0,r.useLocation)(),t=-1!==e.indexOf("source=aws"),[a,l]=n().useState(!t);return n().createElement(A.AppPage,null,n().createElement(D.default,{breadcrumbs:ue,title:oe(se)},n().createElement(i.n,{className:"pf-v5-u-mt-md"},n().createElement(s.E,{component:s.Y.p},n().createElement(T.default,{href:I.default.WHAT_IS_ROSA},"Learn more about ROSA")," or"," ",n().createElement(T.default,{href:I.default.ROSA_COMMUNITY_SLACK},"Slack us")))),n().createElement(o.d8,null,n().createElement(u.B,{hasGutter:!0},n().createElement(d.a,null,n().createElement(c.Z,null,n().createElement(m.b,null,n().createElement(p.Q,{onToggle:()=>l(!a),isExpanded:a,toggleContent:n().createElement("div",null,n().createElement("span",null,"Complete AWS prerequisites"),n().createElement("span",{className:"pf-v5-u-ml-sm"},a?n().createElement(y.YE,{className:"warning"}):n().createElement(C.CheckCircleIcon,{className:"success"})))},n().createElement(i.n,{className:"pf-v5-u-mt-md"},n().createElement(f.h,{headingLevel:"h2"},"Have you prepared your AWS account?"),n().createElement(s.E,{component:s.Y.p},"You will need to enable ROSA on AWS, configure Elastic Load Balancer (ELB), and verify your quotas on AWS console. If you have already prepared your AWS account, you can continue to complete ROSA prerequisites."),n().createElement(T.default,{href:I.default.AWS_CONSOLE_ROSA_HOME_GET_STARTED,isButton:!0,variant:E.Ak.secondary},"Open AWS Console")))))),n().createElement(d.a,null,n().createElement(c.Z,null,n().createElement(m.b,null,n().createElement(g.B,{className:"pf-v5-u-mb-lg"},n().createElement(v.o,{isFilled:!0},n().createElement(f.h,{headingLevel:"h2"},"Complete ROSA prerequisites")),n().createElement(v.o,null,n().createElement(T.default,{href:I.default.AWS_ROSA_GET_STARTED},"More information on ROSA setup"))),n().createElement(P.default,{wide:!0},n().createElement(O.default,{simple:!0},n().createElement(ee,null)),n().createElement(O.default,{simple:!0},n().createElement(Q,null)))))),n().createElement(d.a,null,n().createElement(c.Z,null,n().createElement(h.a,{className:"rosa-get-started",actions:{actions:n().createElement(T.default,{href:I.default.ROSA_GET_STARTED},"More information on ROSA cluster creation"),hasNoOffset:!1}},n().createElement(b.Z,null,n().createElement(f.h,{headingLevel:"h2",size:"xl"},"Deploy the cluster and set up access"),n().createElement(s.E,{component:s.Y.p,className:"pf-v5-u-font-weight-normal"},"Select a deployment method"))),n().createElement(m.b,null,n().createElement(S.x,{hasGutter:!0},n().createElement(_.E,{span:6},n().createElement(le,null)),n().createElement(_.E,{span:6},n().createElement(ie,null)))))))))}},11954:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});var l=a(93345),n=a.n(l),r=a(83349),i=a(30620),s=a(72067),o=a(16829),u=a(85186),d=a(23215),c=a(10423),m=a(22069);const p=()=>n().createElement(i.x,null,n().createElement(d.E,null,n().createElement(c.h,{headingLevel:"h3"},"Machine pools")),n().createElement(d.E,null,n().createElement(m.E,{component:"p"},"Create machine pools and specify the private subnet for each machine pool. To make your cluster highly available, add machine pools on different availability zones. Additional machine pools can be created after cluster creation."))),f=()=>n().createElement(i.x,null,n().createElement(d.E,null,n().createElement(c.h,{headingLevel:"h3"},"Default machine pool")),n().createElement(d.E,null,n().createElement(m.E,{component:"p"},"Select a compute node instance type and count for your default machine pool."),n().createElement(m.E,{component:"p"},"After cluster creation, your selected default machine pool instance type is permanent."))),E=({isHypershiftSelected:e})=>e?n().createElement(p,null):n().createElement(f,null);var g=a(88139),v=a(70460),h=a(72583),b=a(23158),S=a(56862),_=a(93413),C=a(84037),y=a(34108),I=a(14115),A=a(12024);const R=({selectedVPC:e,warning:t})=>{const{values:{[I.FieldId.MachinePoolsSubnets]:a},values:r,getFieldProps:o,setFieldValue:u,setFieldTouched:c,getFieldMeta:m,validateForm:p,setTouched:f}=(0,s.l)();return(0,l.useEffect)((()=>{(null==a?void 0:a.length)&&(async()=>{const e=await p(r);Object.keys(e||{}).length>0&&(f((0,g.setNestedObjectValues)(e,!0)),(0,_.scrollToFirstField)((0,A.getScrollErrorIds)(e)))})()}),[a,f,p]),(0,l.useEffect)((()=>{void 0===a&&u(I.FieldId.MachinePoolsSubnets,[(0,I.emptyAWSSubnet)()])}),[a,u]),n().createElement(i.x,{hasGutter:!0},t&&n().createElement(d.E,null,n().createElement(v.F,{variant:"warning",isPlain:!0,isInline:!0,title:t})),n().createElement(d.E,{span:2,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Machine pool"),n().createElement(d.E,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Private subnet name"),n().createElement(d.E,{span:6}),null==a?void 0:a.map(((t,l)=>{const r=1===a.length,i=`${I.FieldId.MachinePoolsSubnets}[${l}].privateSubnetId`;return e?n().createElement(n().Fragment,{key:`${a.indexOf(l).privateSubnetId}_${l}`},n().createElement(d.E,{span:2},"Machine pool ",l+1),n().createElement(d.E,{span:4},n().createElement(g.Field,{component:y.SubnetSelectField,name:i,validate:e=>(0,C.validateMultipleMachinePoolsSubnets)(e,{machinePoolsSubnets:a}),isRequired:!0,privacy:"private",selectedVPC:e,withAutoSelect:!1,isNewCluster:!0,input:{...o(i),onChange:e=>{u(i,e,!1)}},meta:m(i)})),n().createElement(d.E,{span:1},n().createElement(h.$n,{onClick:()=>(e=>{u(I.FieldId.MachinePoolsSubnets,a.filter(((t,a)=>a!==e)));const t=`${I.FieldId.MachinePoolsSubnets}[${e}].privateSubnetId`;c(t,!1,!1)})(l),icon:n().createElement(b.MinusCircleIcon,null),variant:"link",isDisabled:r,className:r?"machinePoolSubnetsForm-removeBtn-disabled":"machinePoolSubnetsForm-removeBtn","aria-label":"Remove machine pool","data-testid":`remove-machine-pool-${l}`})),n().createElement(d.E,{span:5})):null})),n().createElement(d.E,null,n().createElement(h.$n,{onClick:()=>{return e=(0,I.emptyAWSSubnet)(),u(I.FieldId.MachinePoolsSubnets,[...a,e],!1);var e},icon:n().createElement(S.PlusCircleIcon,null),variant:"link",isInline:!0,className:"machinePoolSubnetsForm-addBtn",isDisabled:!(null==e?void 0:e.id)},"Add machine pool")))};var T=a(57596);const O=()=>{const{values:{[o.FieldId.SelectedVpc]:e,[o.FieldId.MachinePoolsSubnets]:t},getFieldProps:a,setFieldValue:r,getFieldMeta:u}=(0,s.l)(),c=(0,l.useMemo)((()=>{if(t){const a=t.map((e=>e.privateSubnetId)).filter((e=>!!e)),l=((null==e?void 0:e.aws_subnets)||[]).filter((e=>e.subnet_id&&a.includes(e.subnet_id))).map((e=>e.availability_zone));return new Set(a).size>1&&1===new Set(l).size?`Your cluster will not be highly available because all the subnets are in the same availability zone (${l[0]}). To improve security and uptime, it's recommended to select subnets from different availability zones`:void 0}}),[t,e]),m=(0,l.useCallback)((t=>n().createElement(R,{selectedVPC:e,...t,warning:c})),[e,c]);return n().createElement(i.x,{hasGutter:!0},n().createElement(d.E,{span:6},n().createElement(g.Field,{component:T.default,name:o.FieldId.SelectedVpc,validate:e=>(null==e?void 0:e.id)?void 0:"error",selectedVPC:e,showRefresh:!0,isHypershift:!0,isRosaV1:!1,input:{...a(o.FieldId.SelectedVpc),onChange:e=>r(o.FieldId.SelectedVpc,e)},meta:u(o.FieldId.SelectedVpc)})),((null==e?void 0:e.id)||(null==e?void 0:e.name))&&n().createElement(g.FieldArray,{component:m,name:o.FieldId.MachinePoolsSubnets}))},P=()=>{const{values:{[o.FieldId.Hypershift]:e}}=(0,s.l)(),t="true"===e;return n().createElement(r.l,{onSubmit:e=>(e.preventDefault(),!1)},n().createElement(i.x,{hasGutter:!0},n().createElement(E,{isHypershiftSelected:t}),t?n().createElement(O,null):null,n().createElement(u.A,null)))}},12569:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var l=a(93345),n=a.n(l),r=a(88139),i=a(56780),s=a(54910),o=a(66822),u=a(71931),d=a(48394),c=a(72067),m=a(16829),p=a(33076);const f=({isDisabled:e,onChangeImds:t,imds:a})=>{const{setFieldValue:l,getFieldProps:f,getFieldMeta:E}=(0,c.l)();return n().useEffect((()=>{e&&a!==s.IMDSType.V1AndV2&&t(s.IMDSType.V1AndV2)}),[e,a]),n().createElement(i.g,{label:"Instance Metadata Service",fieldId:"imds",labelIcon:n().createElement(d.A,null)},e?n().createElement(u.h,null):n().createElement(r.Field,{component:p.default,name:m.FieldId.IMDS,ariaLabel:"Instance Metadata Service",props:{value:a,onChange:t},isDisabled:e,className:"pf-v5-u-mb-md",options:o.U,disableDefaultValueHandling:!0,input:{...f(m.FieldId.IMDS),onChange:e=>l(m.FieldId.IMDS,e,!1)},meta:E(m.FieldId.IMDS)}))}},2906:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var l=a(93345),n=a.n(l),r=a(88139),i=a(56780),s=a(84037),o=a(70557),u=a(72067),d=a(16829),c=a(90678),m=a(73113),p=a(15758);const f=({meta:e,input:t,...a})=>{const l=e=>{let l=t.value;const{min:n,max:r}=a;e?l<n?l=n:l+=1:l>r?l=r:l-=1,t.onChange(l)};return n().createElement(c.B,null,n().createElement(m.a,null,n().createElement(p.Q,{...a,validated:e.error?"error":"default",value:t.value,onChange:e=>{t.onChange(e.currentTarget.value)},onPlus:()=>l(!0),onMinus:()=>l(!1)})),e.error&&n().createElement(m.a,{className:"pf-v5-u-danger-color-100 pf-v5-u-font-size-sm"},e.error))};var E=a(55213);const g=({maxWorkerVolumeSizeGiB:e})=>{const{values:{[d.FieldId.WorkerVolumeSizeGib]:t},setFieldValue:a,setFieldTouched:c,getFieldProps:m,getFieldMeta:p}=(0,u.l)();return(0,l.useEffect)((()=>{void 0===t&&a(d.FieldId.WorkerVolumeSizeGib,o.defaultWorkerNodeVolumeSizeGiB,!0)}),[a,t]),n().createElement(i.g,{className:"worker-node-volume-size-section",label:"Root disk size",isRequired:!0,fieldId:d.FieldId.WorkerVolumeSizeGib,labelIcon:n().createElement(E.default,{hint:`Root disks are AWS EBS volumes attached as the primary disk for AWS EC2 instances. The root disk size for this machine pool group of nodes must be between ${o.workerNodeVolumeSizeMinGiB}GiB and ${e}GiB.`})},n().createElement(r.Field,{component:f,name:d.FieldId.WorkerVolumeSizeGib,inputName:d.FieldId.WorkerVolumeSizeGib,inputAriaLabel:"Worker root disk size",validate:t=>(0,s.validateWorkerVolumeSize)(t,{},{maxWorkerVolumeSizeGiB:e}),min:o.workerNodeVolumeSizeMinGiB,max:e,widthChars:5,unit:"GiB",input:{...m(d.FieldId.WorkerVolumeSizeGib),value:t,onChange:e=>{a(d.FieldId.WorkerVolumeSizeGib,parseFloat(e),!0),setTimeout((()=>c(d.FieldId.WorkerVolumeSizeGib,!1)),1)}},meta:p(d.FieldId.WorkerVolumeSizeGib)}))}},70886:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DefaultIngressFieldsFormik:()=>b});var l=a(93345),n=a.n(l),r=a(46942),i=a.n(r),s=a(88139),o=a(56780),u=a(84037),d=a(91176),c=a(37222),m=a(73911),p=a(69751),f=a(45570),E=a(71504),g=a(72067),v=a(77218),h=a(82399);const b=({className:e,areFieldsDisabled:t,isDay2:a,hasSufficientIngressEditVersion:l,canEditLoadBalancer:r,canShowLoadBalancer:b,isHypershiftCluster:S})=>{const{getFieldProps:_,getFieldMeta:C}=(0,g.l)();return n().createElement(n().Fragment,null,a&&n().createElement(o.g,{fieldId:"default_router_address",label:"Default application router",isStack:!0,isRequired:!0},n().createElement(s.Field,{component:v.ReduxVerticalFormGroup,name:"default_router_address",type:"text",disabled:!0,helpText:"Address of application routes.",input:_("default_router_address"),meta:C("default_router_address")}),n().createElement(s.Field,{component:v.ReduxCheckbox,name:"private_default_router",label:"Make router private",input:_("private_default_router"),meta:C("private_default_router")})),l&&!S&&n().createElement(o.g,{className:e,label:"Route selector",labelIcon:n().createElement(m.h,null)},n().createElement(s.Field,{component:v.ReduxVerticalFormGroup,name:"defaultRouterSelectors",type:"text",validate:u.checkRouteSelectors,disabled:t,helpText:m.i,showHelpTextOnError:!1,input:_("defaultRouterSelectors"),meta:C("defaultRouterSelectors")})),l&&!S&&n().createElement(o.g,{className:e,label:"Excluded namespaces",labelIcon:n().createElement(d.m,null)},n().createElement(s.Field,{component:v.ReduxVerticalFormGroup,name:"defaultRouterExcludedNamespacesFlag",type:"text",validate:u.validateNamespacesList,disabled:t,helpText:d.$,showHelpTextOnError:!1,input:_("defaultRouterExcludedNamespacesFlag"),meta:C("defaultRouterExcludedNamespacesFlag")})),a&&l&&!S&&n().createElement(n().Fragment,null,n().createElement(o.g,{className:e,label:"TLS Secret name"},n().createElement(s.Field,{component:v.ReduxVerticalFormGroup,name:"clusterRoutesTlsSecretRef",type:"text",validate:u.validateTlsSecretName,disabled:t,helpText:"The name of a secret holding custom TLS certificate, in the openshift-config namespace. Optional.",showHelpTextOnError:!1,input:_("clusterRoutesTlsSecretRef"),meta:C("clusterRoutesTlsSecretRef")})),n().createElement(o.g,{className:e,label:"Hostname"},n().createElement(s.Field,{component:v.ReduxVerticalFormGroup,name:"clusterRoutesHostname",type:"text",validate:u.validateTlsHostname,disabled:t,helpText:"The cluster routes hostname the TLS certificate is issued for.",showHelpTextOnError:!1,input:_("clusterRoutesHostname"),meta:C("clusterRoutesHostname")}))),l&&!S&&n().createElement(o.g,{className:e,fieldId:"isDefaultRouterNamespaceOwnershipPolicyStrict",label:"Namespace ownership policy",labelIcon:n().createElement(c.O,null)},n().createElement(s.Field,{id:"isDefaultRouterNamespaceOwnershipPolicyStrict",component:v.ReduxCheckbox,name:"isDefaultRouterNamespaceOwnershipPolicyStrict",disabled:t,label:"Strict",labelOff:"Inter-namespace ownership allowed",isSwitch:!0,input:_("isDefaultRouterNamespaceOwnershipPolicyStrict"),meta:C("isDefaultRouterNamespaceOwnershipPolicyStrict")})),l&&!S&&n().createElement(o.g,{className:e,fieldId:"isDefaultRouterWildcardPolicyAllowed",label:"Wildcard policy",labelIcon:n().createElement(p.S,null)},n().createElement(s.Field,{id:"isDefaultRouterWildcardPolicyAllowed",component:v.ReduxCheckbox,name:"isDefaultRouterWildcardPolicyAllowed",disabled:t,label:"Allowed",labelOff:"Disallowed",isSwitch:!0,input:_("isDefaultRouterWildcardPolicyAllowed"),meta:C("isDefaultRouterWildcardPolicyAllowed")})),b&&!S&&n().createElement(o.g,{fieldId:"load_balancer_group",label:"Load balancer type",className:i()("pf-v5-u-pb-md",e),labelIcon:n().createElement(E.A,null)},n().createElement(s.Field,{id:"load_balancer_group",component:v.ReduxCheckbox,name:"is_nlb_load_balancer",disabled:!r,label:f.b[h.LoadBalancerFlavor.NLB],labelOff:f.b[h.LoadBalancerFlavor.CLASSIC],isSwitch:!0,input:_("is_nlb_load_balancer"),meta:C("is_nlb_load_balancer")})))}},22014:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>$});var l=a(93345),n=a.n(l),r=a(88139),i=a(10423),s=a(22069),o=a(70460),u=a(45436),d=a(65702),c=a(94402),m=a(72067),p=a(8888),f=a(77218),E=a(51976),g=a(30620),v=a(23215),h=a(84037),b=a(11777),S=a(94974),_=a(16829),C=a(59399),y=a.n(C),I=a(71468),A=a(56780),R=a(96998),T=a(96553),O=a(72583),P=a(92292),D=a(4068),L=a(37653),N=a(55816),w=a(38715),M=a(35158),k=a(77475),F=a(22916),x=a(73410);const G=()=>(0,k.action)(F.dnsDomainsConstants.GET_DNS_DOMAINS,x.clusterService.getDnsDomains({userDefined:!0,hasCluster:!1})),U=()=>(0,k.action)(F.dnsDomainsConstants.CREATE_DNS_DOMAIN,x.clusterService.createNewDnsDomain()),j=e=>(0,k.action)(F.dnsDomainsConstants.DELETE_DNS_DOMAIN,x.clusterService.deleteDnsDomain(e),{deletedDnsId:e}),H=()=>(0,k.action)(F.dnsDomainsConstants.CLEAR_CREATED_DNS_DOMAIN);var V=a(25514);const q="Reserving new base DNS domain...",z=({label:e,input:t,meta:a})=>{var l;const[r,i]=n().useState(!1),[s,o]=n().useState(""),u=(0,I.wA)();n().useEffect((()=>{u(G()),u(H())}),[u]);const d=(0,V.useGlobalState)((e=>e.dnsDomains)),{pending:c,isUpdatingDomains:m,createdDnsId:p,deletedDnsId:f,items:E=[]}=d,g=c||m;n().useEffect((()=>{!m&&p&&t.value!==p&&(t.onChange(p),u(H()))}),[m,p,t.value,u]),n().useEffect((()=>{t.value===f&&t.onChange("")}),[f]);const v=m?s:"Select base DNS domain";return n().createElement(A.g,{label:e,isRequired:!0,className:"shared-vpc-domain-select"},n().createElement(R.s,null,n().createElement(T.Z,{flex:{default:"flex_1"},className:"pf-v5-u-m-0"},n().createElement(M.default,{selectionData:null!==(l=E.map((e=>({entryId:e.id,label:e.id}))))&&void 0!==l?l:[],fuzziness:0,onSelect:(e,a)=>{g||(i(!1),t.onChange(a))},selectedEntryId:t.value,placeholderText:v,onToggle:(e,t)=>{g||i(t)},isDisabled:g,isOpen:r,validated:t.value?"success":"default",footer:n().createElement(O.$n,{isInline:!0,variant:"link",className:"pf-v5-u-py-sm",onClick:()=>{t.onChange(""),i(!1),o(q),u(U())},isDisabled:g},"Reserve new base DNS domain"),inlineFilterPlaceholderText:"Filter by domain name",menuAppendTo:()=>document.body})),n().createElement(T.Z,{grow:{default:void 0},className:"dns-domain-action-icon"},n().createElement(y(),{text:t.value||""},n().createElement(O.$n,{variant:"control",type:"button","aria-label":"Copy DNS domain to clipboard",tabIndex:0,isAriaDisabled:!t.value,icon:n().createElement(D.Td,null)})),n().createElement(P.m,{content:"Clicking the icon will permanently delete the selected Base DNS domain"},n().createElement(O.$n,{variant:"tertiary",type:"button",tabIndex:0,isAriaDisabled:!t.value,onClick:()=>{const e=t.value;o("Deleting a base DNS domain..."),u(j(e))},icon:n().createElement(L.uc,null)},"Delete")))),!m&&!p&&d.error&&n().createElement(N.default,{message:`Error ${s===q?"creating":"deleting"} the DNS domain`,response:d,showCloseBtn:!0,onCloseAlert:()=>{u(H())}}),n().createElement(w.FormGroupHelperText,{touched:a.touched,error:a.error}))};function B({domainName:e}){return n().createElement(E.n,null,n().createElement(s.E,{component:s.Y.small,className:"pf-v5-u-color-100"},"Enter the private hosted zone ID that's linked to the AWS owner account you want to use. The private hosted zone must have been created with",n().createElement("strong",{className:"pf-v5-u-font-size-md"}," ",e," "),"as the domain name.",n().createElement(p.default,{href:d.default.AWS_CONSOLE_HOSTED_ZONES}," AWS console")))}const W=({hostedZoneDomainName:e})=>{const{setFieldValue:t,setFieldTouched:a,getFieldProps:l,getFieldMeta:i}=(0,m.l)(),o=`${_.FieldId.SharedVpc}.base_dns_domain`,u=`${_.FieldId.SharedVpc}.hosted_zone_id`,d=`${_.FieldId.SharedVpc}.hosted_zone_role_arn`;return n().createElement(g.x,null,n().createElement(v.E,{span:10},n().createElement(S.default,{wide:!0},n().createElement(b.default,{simple:!0},n().createElement(E.n,{className:"pf-v5-u-pb-md"},n().createElement(s.E,{component:s.Y.p},"Select an existing base DNS domain or reserve a new base DNS domain.")),n().createElement(r.Field,{label:"Base DNS domain",name:o,validate:h.required,component:z,isRequired:!0,input:{...l(o),onChange:e=>t(o,e)},meta:i(o)})),n().createElement(b.default,{simple:!0},n().createElement(E.n,{className:"pf-v5-u-pb-md"},n().createElement(s.E,{component:s.Y.p},"Associate your DNS domain with a private hosted zone.")),n().createElement(r.Field,{label:"Private hosted zone ID",name:u,component:f.ReduxVerticalFormGroup,validate:h.validatePrivateHostedZoneId,showHelpTextOnError:!1,helpText:n().createElement(B,{domainName:e}),isRequired:!0,input:{...l(u),onChange:(e,l)=>{a(u),t(u,l)}},meta:i(u)})),n().createElement(b.default,{simple:!0},n().createElement(E.n,{className:"pf-v5-u-pb-md"},n().createElement(s.E,{component:s.Y.p},"Provide the role ARN for the existing VPC.")),n().createElement(r.Field,{label:"Shared VPC role",name:d,component:f.ReduxVerticalFormGroup,validate:h.validateRoleARN,isRequired:!0,input:{...l(d),onChange:(e,l)=>{a(d),t(d,l)}},meta:i(d)})))))},$=({hostedZoneDomainName:e,isSelected:t,openshiftVersion:a,isHypershiftSelected:l})=>{const{getFieldProps:E,getFieldMeta:g}=(0,m.l)(),v=(0,c.E)(u.x.AWS_SHARED_VPC,a,{day1:!0,isHypershift:l});return v?n().createElement(n().Fragment,null,n().createElement(i.h,{headingLevel:"h3",className:"pf-v5-u-mt-lg"},"AWS shared VPC"),n().createElement(s.E,null,v)):n().createElement(n().Fragment,null,n().createElement(i.h,{headingLevel:"h3"},"AWS shared VPC"),n().createElement(r.Field,{component:f.ReduxCheckbox,name:"shared_vpc.is_selected",label:"Install into AWS shared VPC",extendedHelpText:n().createElement(n().Fragment,null,"Install into a non-default subnet shared by another account in your AWS organization.",n().createElement("br",null),n().createElement(p.default,{href:d.default.AWS_SHARED_VPC},"Learn more about AWS shared VPC")),input:E("shared_vpc.is_selected"),meta:g("shared_vpc.is_selected")}),t&&n().createElement("section",{className:"shared-vpc-instructions"},n().createElement(o.F,{className:"pf-v5-u-mb-md",variant:"info",isInline:!0,title:n().createElement(n().Fragment,null,"NOTE: To continue, you'll need to fill out all of the information. Some of the information, such as Private Hosted Zone ID and Shared VPC Role ARN, must be provided by the VPC owner of the AWS account you want to use. If you aren't the VPC owner, reach out to them now.")},n().createElement(p.default,{href:d.default.ROSA_SHARED_VPC},"View instructions on configuring shared VPC for ROSA clusters")),n().createElement(W,{hostedZoneDomainName:e})))}},271:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var l=a(93345),n=a.n(l),r=a(88139),i=a(66338),s=a(70460),o=a(30155),u=a(45436),d=a(65702),c=a(84037),m=a(94402),p=a(19214),f=a(13865),E=a(72067),g=a(15771),v=a(16829);const h=({input:{onChange:e,value:t},label:a,selectedVPC:l,isHypershift:r})=>n().createElement(p.A,{label:a,selectedVPC:l,selectedGroupIds:t,isReadOnly:!1,onChange:e,isHypershift:r}),b=({openshiftVersion:e,selectedVPC:t,isHypershiftSelected:a})=>{const{setFieldValue:p,getFieldProps:b,getFieldMeta:S,values:{[v.FieldId.SecurityGroups]:_}}=(0,E.l)(),C=`${v.FieldId.SecurityGroups}.applyControlPlaneToAll`,y=`${v.FieldId.SecurityGroups}.controlPlane`,I=`${v.FieldId.SecurityGroups}.infra`,A=`${v.FieldId.SecurityGroups}.worker`,R=_.applyControlPlaneToAll?_.controlPlane:_.controlPlane.concat(_.infra).concat(_.worker),[T,O]=(0,l.useState)(R.length>0);if(!t.id)return null;const P=(0,m.E)(u.x.SECURITY_GROUPS,e,{day1:!0,isHypershift:a}),D=!P&&0===(t.aws_security_groups||[]).length;return n().createElement(i.Q,{toggleText:"Additional security groups",isExpanded:T,onToggle:()=>{O(!T)}},P&&n().createElement("div",null,P),D&&n().createElement(f.A,null),!P&&!D&&n().createElement(n().Fragment,null,n().createElement(s.F,{variant:"info",isInline:!0,title:"You cannot add or edit security groups associated with the control plane nodes, infrastructure nodes, or machine pools that were created by default during cluster creation.",actionLinks:n().createElement(n().Fragment,null,n().createElement(o.v,{component:"a",href:d.default.ROSA_SECURITY_GROUPS,target:"_blank"},"View more information"),n().createElement(o.v,{component:"a",href:d.default.AWS_CONSOLE_SECURITY_GROUPS,target:"_blank"},"AWS security groups console"))}),n().createElement("br",null),n().createElement(r.Field,{component:g.default,name:C,label:"Apply the same security groups to all node types (control plane, infrastructure, worker)",input:{...b(C),onChange:(e,t)=>p(C,t)},meta:S(C)}),n().createElement(r.Field,{component:h,name:y,label:_.applyControlPlaneToAll?"":"Control plane nodes",selectedVPC:t,validate:e=>(0,c.validateSecurityGroups)(e,a),input:{...b(y),onChange:e=>p(y,e)},meta:S(y),isHypershift:a}),!_.applyControlPlaneToAll&&n().createElement(n().Fragment,null,n().createElement(r.Field,{component:h,name:I,label:"Infrastructure nodes",selectedVPC:t,validate:e=>(0,c.validateSecurityGroups)(e,a),input:{...b(I),onChange:e=>p(I,e)},meta:S(I),isHypershift:a}),n().createElement(r.Field,{component:h,name:A,label:"Worker nodes",selectedVPC:t,validate:e=>(0,c.validateSecurityGroups)(e,a),input:{...b(A),onChange:e=>p(A,e)},meta:S(A),isHypershift:a}))))}},5198:(e,t,a)=>{"use strict";a.d(t,{R:()=>c});var l=a(93345),n=a.n(l),r=a(54801),i=a(18679),s=a(83709),o=a(69304),u=a(80370),d=a(66152);const c=e=>{const{showRosaCliRequirement:t=!0}=e;return n().createElement(r.C,null,n().createElement(i.Y,null,n().createElement("strong",null,"Did you complete your prerequisites?")),n().createElement(s.I,null,n().createElement("p",null,"To create a ",u.t," (ROSA) cluster via the web interface, you must complete the prerequisite steps on the ",n().createElement(o.Link,{to:"/create/rosa/getstarted"},"Set up ROSA page"),"."),t&&n().createElement("p",null,"Make sure you are using ROSA CLI version ",d.ROSA_HOSTED_CLI_MIN_VERSION,' or above for "Hosted" control plane.')))}},80591:(e,t,a)=>{"use strict";a.d(t,{G:()=>s});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069);const s=()=>n().createElement(r.n,null,n().createElement(i.E,{component:i.Y.h2},"Welcome to Red Hat OpenShift Service on AWS (ROSA)"),n().createElement(i.E,{component:i.Y.p},"Create a managed OpenShift cluster on an existing Amazon Web Services (AWS) account."))},16829:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FieldId:()=>m,RosaFieldId:()=>l,StepId:()=>f,StepName:()=>p,initialTouched:()=>h,initialValues:()=>g,initialValuesHypershift:()=>E,initialValuesRestrictedEnv:()=>v});var l,n=a(93413),r=a(94675),i=a(75166),s=a(11611),o=a(70557),u=a(69122),d=a(14115),c=a(95343);!function(e){e.AssociatedAwsId="associated_aws_id",e.BillingAccountId="billing_account_id",e.CloudProviderId="cloud_provider",e.ClusterPrivacy="cluster_privacy",e.ClusterPrivacyPublicSubnetId="cluster_privacy_public_subnet_id",e.ControlPlaneRoleArn="control_plane_role_arn",e.DetectedOcmAndUserRoles="detected_ocm_and_user_roles",e.EtcdKeyArn="etcd_key_arn",e.Hypershift="hypershift",e.RosaMaxOsVersion="rosa_max_os_version",e.SharedVpc="shared_vpc",e.SupportRoleArn="support_role_arn",e.WorkerRoleArn="worker_role_arn",e.WorkerVolumeSizeGib="worker_volume_size_gib"}(l||(l={}));const m={...d.FieldId,...l};var p,f;!function(e){e.AccountsAndRoles="Accounts and roles",e.ClusterSettings="Cluster settings",e.Details="Details",e.MachinePool="Machine pool",e.Networking="Networking",e.Configuration="Configuration",e.VpcSettings="VPC settings",e.ClusterProxy="Cluster-wide proxy",e.CidrRanges="CIDR ranges",e.ClusterRolesAndPolicies="Cluster roles and policies",e.ClusterUpdates="Cluster updates",e.Review="Review and create"}(p||(p={})),function(e){e.AccountsAndRoles="accounts-and-roles",e.ClusterSettings="cluster-settings",e.ClusterSettingsDetails="cluster-settings-details",e.ClusterSettingsMachinePool="cluster-settings-machine-pool",e.Networking="networking",e.NetworkingConfiguration="networking-config",e.NetworkingVpcSettings="networking-vpc-settings",e.NetworkingClusterProxy="networking-cluster-proxy",e.NetworkingCidrRanges="networking-cidr-ranges",e.ClusterRolesAndPolicies="cluster-roles-and-policies",e.ClusterUpdates="cluster-updates",e.Review="review"}(f||(f={}));const E=(e,t)=>e?{[m.BillingModel]:i.billingModels.MARKETPLACE_AWS,[m.ClusterAutoscaling]:null,[m.ClusterPrivacyPublicSubnetId]:"",[m.InstallToVpc]:!0,[m.NodeLabels]:[{id:(0,n.getRandomID)()}],[m.SharedVpc]:{is_allowed:!1},[m.UpgradePolicy]:"automatic",[m.WorkerVolumeSizeGib]:void 0,[m.Region]:t?void 0:d.AWS_DEFAULT_REGION}:{[m.BillingModel]:i.billingModels.STANDARD,[m.ClusterAutoscaling]:(0,s.getDefaultClusterAutoScaling)(),[m.ClusterPrivacyPublicSubnetId]:"",[m.EnableUserWorkloadMonitoring]:!0,[m.InstallToVpc]:!1,[m.SecurityGroups]:(0,r.getDefaultSecurityGroupsSettings)(),[m.SharedVpc]:{is_allowed:!0,is_selected:!1,base_dns_domain:"",hosted_zone_id:"",hosted_zone_role_arn:""},[m.UpgradePolicy]:"manual",[m.WorkerVolumeSizeGib]:o.defaultWorkerNodeVolumeSizeGiB},g=(e=!0)=>({[m.Byoc]:"true",[m.CloudProvider]:d.CloudProviderType.Aws,[m.Product]:i.normalizedProducts.ROSA,[m.ApplicationIngress]:c.ApplicationIngressType.Default,[m.AutomaticUpgradeSchedule]:"0 0 * * 0",[m.CidrDefaultValuesToggle]:!0,[m.ClusterName]:"",[m.ClusterPrivacy]:c.ClusterPrivacyType.External,[m.ConfigureProxy]:!1,[m.CustomerManagedKey]:"false",[m.DefaultRouterExcludedNamespacesFlag]:"",[m.DefaultRouterSelectors]:"",[m.DisableScpChecks]:!1,[m.EtcdEncryption]:!1,[m.EtcdKeyArn]:"",[m.FipsCryptography]:!1,[m.Hypershift]:"true",[m.IMDS]:d.IMDSType.V1AndV2,[m.IsDefaultRouterNamespaceOwnershipPolicyStrict]:!0,[m.IsDefaultRouterWildcardPolicyAllowed]:!1,[m.KmsKeyArn]:"",[m.MachinePoolsSubnets]:[(0,d.emptyAWSSubnet)()],[m.MultiAz]:"false",[m.NetworkHostPrefix]:u.HOST_PREFIX_DEFAULT,[m.NetworkMachineCidr]:u.MACHINE_CIDR_DEFAULT,[m.NetworkPodCidr]:u.POD_CIDR_DEFAULT,[m.NetworkServiceCidr]:u.SERVICE_CIDR_DEFAULT,[m.NodeDrainGracePeriod]:60,[m.NodeLabels]:[{id:(0,n.getRandomID)()}],[m.NodesCompute]:2,[m.Region]:d.AWS_DEFAULT_REGION,[m.SelectedVpc]:{id:"",name:""},[m.UsePrivateLink]:!1,[m.EnableExteranlAuthentication]:!1,[m.RegionalInstance]:{},...E(e)}),v={...g(!1),[m.Hypershift]:"false",[m.ClusterPrivacy]:c.ClusterPrivacyType.Internal,[m.EtcdEncryption]:!0,[m.FipsCryptography]:!0},h={[m.Hypershift]:!0}},72147:(e,t,a)=>{"use strict";a.r(t),a.d(t,{rosaWizardFormValidator:()=>r});var l=a(16829);const n=(e,t,a)=>{t.min>t.max&&(e[a]={min:"The minimum cannot be above the maximum value.",max:"The minimum cannot be above the maximum value."})},r=e=>{const t=e[l.FieldId.ClusterAutoscaling];if(!t)return{};const{cores:a,memory:r}=t.resource_limits,i={};return n(i,a,"cores"),n(i,r,"memory"),0===Object.keys(i).length?{}:{cluster_autoscaling:{resource_limits:i}}}},66152:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE:()=>s,CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE:()=>o,CLEAR_GET_OCM_ROLE_RESPONSE:()=>u,CLEAR_GET_USER_ROLE_RESPONSE:()=>d,GET_AWS_ACCOUNT_ROLES_ARNS:()=>n,GET_AWS_BILLING_ACCOUNTS:()=>f,GET_OCM_ROLE:()=>r,GET_USER_ROLE:()=>i,LIST_ASSOCIATED_AWS_IDS:()=>l,LIST_USER_OIDC_CONFIGURATIONS:()=>m,MIN_MANAGED_POLICY_VERSION:()=>p,ROSA_HOSTED_CLI_MIN_VERSION:()=>E,SET_OFFLINE_TOKEN:()=>c});const l="LIST_ASSOCIATED_AWS_IDS",n="GET_AWS_ACCOUNT_ROLES_ARNS",r="GET_OCM_ROLE",i="GET_USER_ROLE",s="CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE",o="CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE",u="CLEAR_GET_OCM_ROLE_RESPONSE",d="CLEAR_GET_USER_ROLE_RESPONSE",c="SET_OFFLINE_TOKEN",m="LIST_USER_OIDC_CONFIGURATIONS",p="4.11.4",f="GET_AWS_BILLING_ACCOUNTS",E="1.2.31"},9435:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(19404),i=a(9694);const s=({status:e,className:t})=>{const a={status:null!=e?e:"",className:null!=t?t:""};return n().createElement(i.ScalprumComponent,{...a,scope:"assistedInstallerApp",module:"./ClusterStatus",fallback:n().createElement(r.E,{fontSize:"sm",width:"5em"})})}},7691:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(92697),i=a(86726),s=a(69304);const o=({path:e})=>n().createElement(r.Q,null,e.map(((t,a)=>{const l=t.label;if(a<e.length-1){let e=t.path;return"Cluster List"!==l||e||(e="/cluster-list"),n().createElement(i.J,{key:l,render:({className:t,ariaCurrent:a})=>n().createElement(s.Link,{to:`${e||"/overview"}`,className:t,"aria-current":a},l)})}return n().createElement(i.J,{key:l,isActive:!0},l)})))},12200:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(92292),i=a(72583);const s=({disableReason:e,isAriaDisabled:t,tooltipProps:a={},...l})=>e?n().createElement(r.m,{...a,content:e},n().createElement(i.$n,{isAriaDisabled:!0,...l})):n().createElement(i.$n,{isAriaDisabled:t,...l})},2786:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CheckboxDescription:()=>r});var l=a(93345),n=a.n(l);function r({children:e}){return n().createElement("div",{className:"ocm-c--reduxcheckbox-description"},e)}},97932:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(59399),i=a.n(r),s=a(92292),o=a(72583);const u=({text:e,className:t,children:a,isDisabled:l})=>{const[r,u]=n().useState(!1),d=n().useRef(),c=n().useCallback((()=>{d.current&&window.clearTimeout(d.current),u(!0),d.current=window.setTimeout((()=>{u(!1),d.current=void 0}),2500)}),[]);return n().createElement(s.m,{trigger:"mouseenter focus click",entryDelay:100,exitDelay:500,content:n().createElement("div",null,r?"Successfuly copied to clipboard!":"Copy to clipboard")},n().createElement(i(),{text:e,onCopy:c},n().createElement(o.$n,{className:t,variant:"link",isAriaDisabled:l},a)))}},55816:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(69211),i=a(70460),s=a(66338),o=a(76871);const u=({message:e,variant:t="danger",response:a,children:l,isExpandable:u,showCloseBtn:d=!1,onCloseAlert:c,hideOperationID:m,forceAsAlert:p})=>{const f={actionClose:n().createElement(r.X,{onClose:c})};return n().createElement(i.F,{variant:t,isInline:!0,title:e,role:"danger"===t||p?"alert":void 0,className:"error-box","data-testid":"alert-error",...d&&f},l&&n().createElement(n().Fragment,null,l,n().createElement("br",null)),u||l?n().createElement(s.Q,{toggleText:l?"More details":"Error details"},n().createElement(o.A,{response:a,hideOperationID:m})):n().createElement(o.A,{response:a}))}},76871:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(93345),n=a.n(l),r=a(89217),i=a(72432);const s=({response:e,itemWrapper:t="p",showErrorCode:a,renderLinks:l,hideOperationID:s})=>{const{errorMessage:o}=e,u=(0,r.formatErrorDetails)(e.errorDetails);return n().createElement(n().Fragment,null,a&&n().createElement(t,null,`Error code: ${e.errorCode}`),o&&(l?n().createElement(i.A,null,o):n().createElement(t,null,o)),null==u?void 0:u.map((e=>Array.isArray(e)?n().createElement("ul",{key:`${e}`},e.map((t=>n().createElement("li",{key:`${e}-${t}`},l?n().createElement(i.A,null,t):t)))):l?n().createElement(i.A,{key:`${e}`},e):n().createElement("pre",{key:`${e}`},e))),s?null:n().createElement(t,null,`Operation ID: ${e.operationID||"N/A"}`))}},91497:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(71468),n=a(91089),r=a(93345),i=a.n(r),s=a(10423),o=a(31003),u=a(48525),d=a(76871),c=a(28592);const m=(0,l.Ng)(null,(e=>({closeModal:()=>{e((0,n.closeModal)())}})))((({title:e,errorResponse:t,resetResponse:a,closeModal:l,children:n})=>{const r=i().useCallback((()=>{a(),l()}),[a,l]);return i().createElement(c.default,{header:i().createElement(s.h,{headingLevel:"h2",size:"2xl"},i().createElement(o.ExclamationCircleIcon,{color:u.global_danger_color_100.value})," ",e),primaryText:"Close",onPrimaryClick:r,onClose:r,showClose:!1,showSecondary:!1,"aria-label":e},i().createElement(d.A,{response:t,renderLinks:!0}),n)}))},8888:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(93345),n=a.n(l),r=a(72583),i=a(97948),s=a(40167),o=a(9296),u=a(94538);const d=({href:e,children:t,noIcon:a,noTarget:l,className:d,stopClickPropagation:c,isButton:m,variant:p=r.Ak.secondary,customTrackProperties:f={},"data-testid":E})=>{const g=(0,u.default)(),v=()=>{const t=window.location.pathname;let a;a=t.includes("/rosa")?"moa":t.includes("/osdtrial")?"osdtrial":t.includes("/osd")?"osd":t.includes("/crc")?"crc":"all",g(o.trackEvents.ExternalLink,{customProperties:{link_url:e,module:"openshift",ocm_resource_type:a,...f}})},h={href:e,target:l?"":"_blank",rel:"noreferrer noopener",className:d,onClick:e=>{c?(v(),e.stopPropagation()):v()},"data-testid":E},b=n().createElement(n().Fragment,null,t,l?null:n().createElement("span",{className:"pf-v5-u-screen-reader"}," (new window or tab)"),!a&&n().createElement(i.I,{size:"md",className:"external-link-alt-icon"},n().createElement(s.ExternalLinkAltIcon,{"data-testid":"openInNewWindowIcon"})));return m?n().createElement(r.$n,{component:"a",...h,variant:p},b):n().createElement("a",{...h},b)}},38715:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FormGroupHelperText:()=>u});var l=a(93345),n=a.n(l),r=a(59257),i=a(49318),s=a(61864),o=a(31003);const u=({children:e,id:t,error:a,touched:u,variant:d="default",icon:c,validateOnSubmit:m,hasIcon:p=void 0!==c})=>{const f=n().useMemo((()=>"string"==typeof e?n().createElement(r.E,{id:t},n().createElement(i.j,{icon:c,variant:d,hasIcon:p},e)):n().createElement(r.E,null,e)),[e,t,c,d,p]);if(!a&&!e)return null;const E="string"==typeof a||(0,l.isValidElement)(a);return n().createElement(s.e,null,u&&a&&E||m&&a?n().createElement(r.E,{id:t},n().createElement(i.j,{variant:"error",icon:n().createElement(o.default,null),hasIcon:p},a)):f)}},71699:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var l=a(93345),n=a.n(l),r=a(88139),i=a(30620),s=a(23215),o=a(72583),u=a(23158),d=a(56862),c=a(93413),m=a(84037),p=a(14115),f=a(72067),E=a(12200),g=a(23285);const v=({input:e,meta:{touched:t,error:a}})=>n().createElement(n().Fragment,null,n().createElement(g.ks,{"aria-label":"Key-value list key",validated:t&&a?"error":"default",onChange:(t,a)=>e.onChange(a),value:e.value}),t&&a&&n().createElement("span",{className:"pf-v5-c-form__helper-text pf-m-error"},a)),h=({input:e,meta:{touched:t,error:a}})=>n().createElement(n().Fragment,null,n().createElement(g.ks,{"aria-label":"Key-value list value",validated:t&&a?"error":"default",onChange:(t,a)=>e.onChange(a),value:e.value}),t&&a&&n().createElement("span",{className:"pf-v5-c-form__helper-text pf-m-error"},a)),b=({push:e,remove:t})=>{const{values:{[p.FieldId.NodeLabels]:a},setFieldValue:g,setFieldTouched:b,getFieldProps:S,getFieldMeta:_,validateForm:C}=(0,f.l)();return(0,l.useEffect)((()=>{(null==a?void 0:a.length)||g(p.FieldId.NodeLabels,[{id:(0,c.getRandomID)()}]),C()}),[a,g]),n().createElement(i.x,{hasGutter:!0},n().createElement(s.E,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Key"),n().createElement(s.E,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Value"),n().createElement(s.E,{span:4}),null==a?void 0:a.map(((e,l)=>{const i=0===l&&1===a.length,d=`${p.FieldId.NodeLabels}[${l}].key`,c=`${p.FieldId.NodeLabels}[${l}].value`;return n().createElement(n().Fragment,{key:`${e.id}`},n().createElement(s.E,{span:4},n().createElement(r.Field,{name:d,type:"text",component:v,index:l,validate:e=>{const t=[...a];return t[l]={...t[l],key:e},(0,m.validateLabelKey)(e,{node_labels:t},void 0,d)},input:{...S(d),onChange:e=>{g(d,e,!1),b(d,!0,!1)}},meta:_(d)})),n().createElement(s.E,{span:4},n().createElement(r.Field,{name:c,type:"text",component:h,index:l,validate:e=>{const t=[...a];return t[l]={...t[l],value:e},(0,m.validateLabelValue)(e,{node_labels:t},void 0,d)},input:{...S(c),onChange:e=>{g(c,e,!1),b(c,!0,!1)}},meta:_(c)})),n().createElement(s.E,{span:4},n().createElement(o.$n,{onClick:()=>t(l),icon:n().createElement(u.MinusCircleIcon,null),variant:"link",isDisabled:i,"aria-label":"Remove item",className:i?"formKeyValueList-removeBtn-disabled":"formKeyValueList-removeBtn"})))})),n().createElement(s.E,null,n().createElement(E.default,{onClick:()=>e({id:(0,c.getRandomID)()}),icon:n().createElement(d.PlusCircleIcon,null),variant:"link",isInline:!0,className:"formKeyValueList-addBtn",disableReason:(y=a,(!y||y.some((e=>!e.key)))&&c.nodeKeyValueTooltipText)},"Add additional label")));var y}},35158:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var l=a(93345),n=a.n(l),r=a(25929),i=a(93745),s=a(38164),o=a(18960),u=a(17682),d=a(91332),c=a(26404);const m=(e,t)=>{let a="";const l=e.length,n=t.length,r=new Array(l);let i=0,s=0,o=0,u=0;for(;o<l;){const e=new Array(n);for(u=0;u<n;)e[u]=0,u+=1;r[o]=e,o+=1}let d=null;for(o=0;o<l;){for(u=0;u<n;)e[o]!==t[u]||" "===e[o]&&" "===t[u]?r[o][u]=0:(r[o][u]=0===o||0===u?1:1+r[o-1][u-1],r[o][u]>i&&(i=r[o][u],d=o-r[o][u]+1,s===d?a+=e[o]:(s=d,a=e.substring(s,o+1)))),u+=1;o+=1}return a},p=(e,t)=>{let a,l=e,n=t,r=[];do{let e;a=[];let t=m(l,n);if(t.length>0){const{length:i}=t;t=t.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");const s=new RegExp(t,"g");do{e=s.exec(l),e&&a.push(e)}while(null!==e);a.length&&(r=[...r,...a.map((e=>{const t=e.index;return{beg:t,end:t+e[0].length-1}}))],l=l.replace(s,(()=>" ".repeat(i))),n=n.replace(s,(()=>" ".repeat(i))))}}while(n.length&&a.length);return r.sort((({beg:e},{beg:t})=>e-t)),r};var f=a(93413);const E=(e,t)=>e.label.localeCompare(t.label),g=(e,t,a,l)=>n().createElement(o.O,{className:"pf-v5-c-dropdown__menu-item pf-v5-u-text-wrap",key:e.entryId,value:e.entryId,description:e.description,isDisabled:e.disabled},l?n().createElement(i.A,{triggerAction:"hover","aria-label":"Hoverable popover",bodyContent:n().createElement("div",null,a)},n().createElement("span",null,t)):n().createElement("span",null,t)),v=({entry:e,filterText:t})=>n().createElement(n().Fragment,null,((e,t)=>{const a=p(e,t),l=[];let n=0;return a.forEach((({beg:t,end:a})=>{l.push({text:e.slice(n,t),isBold:!1}),l.push({text:e.slice(t,a+1),isBold:!0}),n=a+1})),n<e.length&&l.push({text:e.slice(n),isBold:!1}),l})(e.label,t).map(((e,t)=>n().createElement("span",{key:`slice-${t}`,className:e.isBold?"pf-u-font-weight-bold":""},e.text)))),h=function(e){const{fuzziness:t,selectedEntryId:a="",sortFn:i=E,filterValidate:m,truncation:p,selectionData:h,isOpen:b,toggleId:S,isPopover:_,...C}=e,y=(0,l.useRef)(null),I=(0,l.useRef)(null);(0,l.useEffect)((()=>{var e;if(b){if(I.current){const e=I.current.querySelector(".pf-v5-c-select__menu-search input");e&&(e.onkeydown=e=>{e.key!==s.RU.ArrowLeft&&e.key!==s.RU.ArrowRight||e.stopPropagation()})}}else y.current&&(null===(e=y.current)||void 0===e||e.onClose())}),[b]);const{selectionList:A,isGrouped:R,groupOrder:T}=(0,l.useMemo)((()=>{if(Array.isArray(h))return{selectionList:h,isGrouped:!1,groupOrder:[]};let e=[];Object.entries(h||{}).forEach((([t,a])=>{e=[...e,...a]}));const t=Object.keys(h);return{selectionList:e,isGrouped:!0,groupOrder:t}}),[h]),O=(0,l.useMemo)((()=>Array.isArray(h)?h.sort(i).map((e=>{const t=(0,f.truncateTextWithEllipsis)(e.label,p);return g(e,n().createElement(n().Fragment,null,t),e.label,_)})):Object.entries(h||{}).map((([e,t])=>n().createElement(u.s,{label:e,key:e},t.map((e=>{const t=(0,f.truncateTextWithEllipsis)(e.label,p);return g(e,n().createElement(n().Fragment,null,t),e.label,_)})))))),[h,i,p,_]),P=(0,l.useCallback)(((e,a)=>{if(""===a)return O;if(m&&(m.pattern.lastIndex=0,!m.pattern.test(a)))return[n().createElement(o.O,{isDisabled:!0,key:0,style:{color:"var(--pf-v5-global--danger-color--100)"},isNoResultsOption:!0},n().createElement("div",null,n().createElement("span",{className:"pf-v5-u-mr-sm"},n().createElement(c.Xy,null)),n().createElement("span",null,m.message)))];const l=a.toLowerCase(),s=A.find((({label:e})=>e===l))?0:null!=t?t:.3,d=new r.A(A,{ignoreLocation:!0,threshold:s,includeScore:!0,includeMatches:!0,keys:["label","entryId"]}).search(l).sort((({score:e=0,item:t},{score:a=0,item:l})=>e-a||i(t,l))),p=[],f={};let E=!1;return d.forEach((({item:e,matches:t})=>{e&&!e.disabled&&t&&(e.groupId?(E=!0,f[e.groupId]?f[e.groupId].push(e):f[e.groupId]=[e]):p.push(e))})),p.length?p.map((e=>g(e,n().createElement(v,{key:e.entryId,entry:e,filterText:l})))):E?Object.entries(f).sort((([e],[t])=>T.indexOf(e)-T.indexOf(t))).map((([e,t])=>n().createElement(u.s,{label:e,key:e},t.map((e=>g(e,n().createElement(v,{key:e.entryId,entry:e,filterText:l}))))))):[]}),[A,O,p]);return n().createElement("div",{ref:I},n().createElement(d.l,{isOpen:b,onFilter:P,selections:a,style:{maxHeight:"300px",overflowY:"auto"},ref:y,hasInlineFilter:!0,isGrouped:R,toggleId:S,...C},O))}},11777:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(90118);const i=({children:e,simple:t})=>n().createElement(r.L,{className:t?"ocm-instructions__list-item-simple":"ocm-instructions__list-item"},n().createElement("div",{className:"ocm-instructions__list-item-contents"},e))},10046:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(22069),i=a(36070),s=a(94538);const o=({children:e,textAriaLabel:t,trackEvent:a,className:l,outerClassName:o,...u})=>{const d=(0,s.default)();return n().createElement(r.E,{component:"pre",className:o},n().createElement(i.Ck,{isReadOnly:!0,textAriaLabel:t,onCopy:(e,t)=>{a&&d(a),(0,i.I8)(e,t)},className:l,...u},e))}},94974:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(51976),i=a(12921);const s=({children:e,wide:t})=>n().createElement(r.n,{className:"ocm-instructions"},n().createElement(i.K,{component:i.C.ol,className:"ocm-instructions__list "+(t?"pf-v5-u-max-width":"")},e))},83642:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l,n=a(93345),r=a.n(n),i=a(72583),s=a(9296),o=a(69304),u=a(94538);!function(e){e.createRosaClusterURL="/create/rosa/getstarted",e.rosaHandsOnURL="/overview/rosa/hands-on",e.rosaServicePageURL="/overview/rosa",e.createOSDClusterURL="/create/osd",e.createClusterURL="/create",e.registerClusterURL="/register"}(l||(l={}));const d=e=>{const{to:t,children:a,stopClickPropagation:n,isButton:d,component:c}=e,m=(0,u.default)(),p=()=>{let e;t.includes(l.createRosaClusterURL)?e=s.trackEvents.CreateClusterROSA:t.includes(l.rosaServicePageURL)?e=s.trackEvents.RosaOverview:t.includes(l.rosaHandsOnURL)?e=s.trackEvents.TryRosaHandsOnExperience:t.includes(l.createOSDClusterURL)?e=s.trackEvents.CreateClusterOSD:t.includes(l.createClusterURL)?e=s.trackEvents.CreateClusterRHOCP:t.includes(l.registerClusterURL)&&(e=s.trackEvents.RegisterCluster),e&&m(e,{url:t,path:window.location.pathname})},f=e=>{n?(p(),e.stopPropagation()):p()};return d?r().createElement(i.$n,{component:c||"a",...e,onClick:f},a):r().createElement(o.Link,{...e,onClick:f},a)}},72356:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ListTextLabelLinkCard:()=>d});var l=a(93345),n=a.n(l),r=a(60915),i=a(83579),s=a(35787),o=a(30666),u=a(93973);function d(e){const{cardClassName:t,textLabelLinkItems:a}=e;return n().createElement(r.Z,{className:t},n().createElement(i.B8,{isPlain:!0,isBordered:!0},a.length&&a.map((({listItemText:e,listItemLabel:t,listItemLink:l,dataTestId:r},i)=>{let d="pf-v5-u-pt-md pf-v5-u-pr-md pf-v5-u-pb-md pf-v5-u-pl-md";return i===a.length-1&&(d+=" pf-v5-u-pb-lg"),0===i&&(d+=" pf-v5-u-pt-lg"),n().createElement(s.c,{key:e},n().createElement(o.B,{className:d,hasGutter:!0,"data-testid":r},n().createElement(u.o,{style:{width:"60%"}},n().createElement(o.B,null,n().createElement(u.o,null,e),n().createElement(u.o,{isFilled:!0}))),n().createElement(u.o,{style:{width:"40%"}},n().createElement(o.B,null,n().createElement(u.o,{"data-testtag":"label"},t),n().createElement(u.o,{isFilled:!0}),n().createElement(u.o,null,l)))))}))))}},63240:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var l=a(93345),n=a.n(l),r=a(67209);const i=({timestamp:e})=>{const[,t]=n().useState(0);return n().useEffect((()=>{const e=setInterval((()=>t(Date.now())),6e4);return()=>clearInterval(e)}),[]),n().createElement(r.A,{type:"relative",date:e})}},48609:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(71468),n=a(14419),r=a(93345),i=a.n(r);const s=(0,l.Ng)(((e,t)=>({isOpen:(0,n.default)(e,t.ModalComponent.modalName)})))((({ModalComponent:e,isOpen:t,...a})=>{if(!e.modalName)throw new Error("Modal component missing name");return t?i().createElement(e,{...a}):null}))},28592:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var l=a(93345),n=a.n(l),r=a(95376),i=a(16165),s=a(90678),o=a(73113),u=a(10423),d=a(30666),c=a(93973),m=a(72583),p=a(75907),f=a(69304);const E=({title:e="",secondaryTitle:t="",onClose:a,showPrimary:l=!0,primaryText:E="Confirm",showSecondary:g=!0,secondaryText:v="Cancel",showTertiary:h,tertiaryText:b,onPrimaryClick:S,onSecondaryClick:_,onTertiaryClick:C,isSmall:y=!0,modalSize:I=i.d.default,isPrimaryDisabled:A,isSecondaryDisabled:R,isPending:T,children:O,primaryVariant:P="primary",primaryLink:D,secondaryLink:L,...N})=>{const w=(0,r.useLocation)(),M=(0,f.useNavigate)(),k=t?n().createElement(s.B,null,n().createElement(o.a,null,n().createElement(u.h,{headingLevel:"h1"},e)),n().createElement(o.a,{className:"modal-secondary-title"},n().createElement(d.B,null,n().createElement(c.o,null,"Cluster"),n().createElement(c.o,null,t)))):void 0;return n().createElement(i.a,{className:T?"pending-modal":void 0,"aria-label":e,variant:y?i.d.small:I,title:e,header:k,isOpen:!0,onClose:a,actions:T?[]:[l&&!D&&n().createElement(m.$n,{key:"confirm",variant:P,onClick:S,type:"submit",isDisabled:A,"data-testid":"btn-primary"},E),l&&D&&n().createElement(m.$n,{key:"confirm",variant:P,component:"a",target:"_blank",href:D,isDisabled:A,"data-testid":"btn-primary"},E),g&&!L&&n().createElement(m.$n,{key:"secondary",variant:"secondary",onClick:_?()=>_({location:w,navigate:M}):void 0,isDisabled:R,"data-testid":"btn-secondary"},v),g&&L&&n().createElement(m.$n,{key:"secondary",variant:"secondary",component:"a",target:"_blank",href:L,isDisabled:R,"data-testid":"btn-secondary"},v),h&&n().createElement(m.$n,{key:"tertiary",variant:"secondary",onClick:C,"data-testid":"btn-tertiary"},b)],...N},T?n().createElement(p.A,{centered:!0}):O)}},91089:(e,t,a)=>{"use strict";a.r(t),a.d(t,{closeModal:()=>i,modalActions:()=>s,openModal:()=>r});var l=a(77475),n=a(57175);const r=(e,t)=>(0,l.action)(n.z,{name:e,data:t}),i=()=>(0,l.action)(n.F),s={openModal:r,closeModal:i}},57175:(e,t,a)=>{"use strict";a.d(t,{F:()=>n,z:()=>l});const l="OPEN_MODAL",n="CLOSE_MODAL"},14419:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});const l=(e,t)=>e.modal.modalName===t},43775:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});const l={ADD_NOTIFICATION_CONTACT:"add-notification-contact",ARCHIVE_CLUSTER:"archive-cluster",DELETE_CLUSTER:"delete-cluster",DELETE_MACHINE_POOL:"delete-machine-pool",DELETE_PROTECTION:"delete-protection",EDIT_APPLICATION_INGRESS:"edit-application-ingress",EDIT_CLUSTER_AUTOSCALING_V1:"edit-cluster-autoscaling-v1",EDIT_CLUSTER_AUTOSCALING_V2:"edit-cluster-autoscaling-v2",EDIT_CLUSTER_INGRESS:"edit-cluster-ingress",EDIT_CLUSTER_WIDE_PROXY:"EDIT_CLUSTER_WIDE_PROXY",EDIT_CONSOLE_URL:"edit-console-url",EDIT_DISPLAY_NAME:"edit-display-name",EDIT_MACHINE_POOL:"edit-machine-pool",EDIT_SUBSCRIPTION_SETTINGS:"edit-subscription-settings",ACCESS_REQUEST_DETAILS:"accessRequest-details",HIBERNATE_CLUSTER:"hibernate-cluster",OCM_ROLES:"ocm-roles",REGISTER_CLUSTER_ERROR:"register-cluster-error",RESUME_CLUSTER:"resume-cluster",SCALE_CLUSTER:"edit-cluster",TRANSFER_CLUSTER_OWNERSHIP:"transfer-cluster-ownership",UNARCHIVE_CLUSTER:"unarchive-cluster",UPDATE_MACHINE_POOL_VERSION:"update-machine-pool-version",UPGRADE_TRIAL_CLUSTER:"upgrade-trial-cluster",UPGRADE_WIZARD:"upgrade-wizard"}},35198:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(93345),n=a.n(l),r=a(70460),i=a(8888);const s=()=>n().createElement(r.F,{className:"pf-v5-u-mt-md",variant:"warning",isInline:!0,title:"Logging in with offline tokens is deprecated"},"Logging in using offline tokens has been deprecated and is no longer getting maintained or enhanced. You can now log in using your Red Hat SSO credentials. Learn more about"," ",n().createElement(i.default,{href:"https://access.redhat.com/articles/7074172",noIcon:!0},"how to log in using your Red Hat SSO credentials and why were deprecating tokens."))},65824:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(30666),i=a(93973),s=a(88075),o=a(16401);const u=({title:e,breadcrumbs:t,children:a})=>n().createElement(s.A,null,t,n().createElement(r.B,null,n().createElement(i.o,{isFilled:!0},n().createElement(o.A,{className:"ocm-page-title",title:e}))),a)},55213:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(93745),i=a(72583),s=a(31003),o=a(7019);const u=({title:e,hint:t,iconClassName:a,footer:l,bodyContent:u,buttonAriaLabel:d,isError:c,...m})=>n().createElement(r.A,{headerContent:e,footerContent:l,"aria-label":"help",bodyContent:null!=u?u:t,...m},n().createElement(i.$n,{className:"popover-hint-button","aria-label":d||(c?"Error":"More information"),variant:"plain"},n().createElement("span",{className:a},c?n().createElement(s.ExclamationCircleIcon,{className:"danger"}):n().createElement(o.OutlinedQuestionCircleIcon,null))))},75759:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(93345),n=a.n(l),r=a(22069),i=a(93745),s=a(72583),o=a(31003),u=a(7019);const d=({title:e,bodyContent:t,footer:a,isErrorHint:l,...d})=>n().createElement("div",{className:"popover-with-title-div"},n().createElement(r.E,{component:r.Y.p},n().createElement(i.A,{bodyContent:t,footerContent:a,"aria-label":"help",...d},n().createElement(s.$n,{className:"popover-with-title-button","aria-label":`More information on ${e}`,variant:"plain"},n().createElement("span",{className:"popover-with-title-span"},l?n().createElement(s.$n,{isInline:!0,variant:"link"},n().createElement(o.ExclamationCircleIcon,{className:"status-icon danger"}),` ${e}`):n().createElement(n().Fragment,null,n().createElement(u.OutlinedQuestionCircleIcon,null),` ${e}`))))))},47825:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ReduxSelectDropdown:()=>c});var l=a(93345),n=a.n(l),r=a(96998),i=a(56780),s=a(91332),o=a(18960),u=a(38715),d=a(55213);const c=({options:e,label:t,helpText:a,meta:{error:l,touched:c},input:m,disabled:p,isFormGroup:f=!0,isRequired:E,extendedHelpText:g,...v})=>{const[h,b]=n().useState(!1),S=n().createElement(s.l,{...m,id:m.name,name:m.name,isDisabled:p,isOpen:h,selections:m.value,onToggle:(e,t)=>b(t),onSelect:(e,t)=>{m.onChange(t),b(!1)},onBlur:e=>e.stopPropagation(),...v},e.map((e=>n().createElement(o.O,{key:e.value,value:e.value},e.label?n().createElement(r.s,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsSm"},alignItems:{default:"alignItemsCenter"}},n().createElement("span",null,e.name),e.label):e.name))));return f?n().createElement(i.g,{fieldId:m.name,label:t,isRequired:E,labelIcon:g?n().createElement(d.default,{hint:g}):void 0},S,n().createElement(u.FormGroupHelperText,{touched:c,error:l},a)):S}},67716:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(92292),i=a(72583),s=a(2923);const o=({classOptions:e,refreshFunc:t,clickRefreshFunc:a,autoRefresh:l,isDisabled:o,ouiaId:u,useShortTimer:d})=>{const[c,m]=n().useState(0),[p,f]=n().useState(d?10:60);return((e,t)=>{const a=n().useRef(e);n().useEffect((()=>{a.current=e}),[e]),n().useEffect((()=>{const e=setInterval((function(){a.current()}),t);return()=>clearInterval(e)}),[t])})((()=>{10===p&&(c<2?m(c+1):(f(60),m(0))),l&&"visible"===document.visibilityState&&navigator.onLine&&!o&&t()}),1e3*p),n().useEffect((()=>{f(d?10:60)}),[d]),n().createElement(r.m,{position:r.Z.bottom,content:"Refresh"},n().createElement(i.$n,{variant:"plain","aria-label":"Refresh",className:e,onClick:a||t,isAriaDisabled:o,ouiaId:u},n().createElement(s.RedoIcon,null)))}},20003:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(76980);const i=(e=10,t=6,a="lg")=>{const l={cells:[{props:{colSpan:t},title:n().createElement(r.A,{size:a})}]},i=[];for(let t=0;t<e;t+=1)i.push(l);return i}},41451:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>f,LE:()=>m,Qu:()=>c,Qy:()=>p});var l=a(93345),n=a.n(l),r=a(93745),i=a(33612),s=a(97948),o=a(29962),u=a(65702),d=a(8888);const c={text:"Technology Preview",externalLink:u.default.TECH_PREVIEW_KCS,popoverContent:"Technology preview features provide early access to upcoming product innovations, enabling you to test functionality and provide feedback during the development process."},m={text:"Developer Preview",externalLink:u.default.INSTALL_PRE_RELEASE_SUPPORT_KCS,popoverContent:"Developer preview features provide early access to upcoming product innovations, enabling\nyou to test functionality and provide feedback during the development process."},p={text:"Cooperative Community",externalLink:u.default.COOPERATIVE_COMMUNITY_SUPPORT_KCS,popoverContent:"Cooperative Community Support provides assistance to Red Hat customers that have questions\nabout community-provided software that is often used with our Red Hat products"},f=({text:e,popoverContent:t,externalLink:a,className:l="pf-v5-u-ml-md"})=>{const u=n().createElement(n().Fragment,null,n().createElement("div",{className:"pf-v5-u-mb-sm"},t),a&&n().createElement(d.default,{href:a},"Learn more"));return n().createElement(r.A,{position:r.$.top,bodyContent:u},n().createElement(i.J,{style:{cursor:"pointer"},color:"orange",onClick:e=>{e.preventDefault()},icon:n().createElement(s.I,null,n().createElement(o.InfoCircleIcon,{color:"var(--pf-v5-c-label__content--Color)"})),className:`${l} pf-v5-u-display-inline`},e))}},10314:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l=a(93345),n=a.n(l),r=a(33612),i=a(93745),s=a(8888);const o=({status:e})=>{let t,a,l,o="blue";switch(e.toLowerCase()){case"full support":t="Full support",a="This minor version of OpenShift is fully supported. In order to receive security and bug fixes, continue to install patch (z-stream) updates to your cluster or upgrade to the latest minor version when available.",l="full-support";break;case"maintenance support":t="Maintenance support",a="This minor version of OpenShift has reached the maintenance support phase. Critical and selected high priority fixes will continue to be delivered in patch (z-stream) releases.",l="maintenance-support";break;case"extended update support":t="Extended update support",a="This minor version of OpenShift has reached the extended update support phase. Critical and selected high priority fixes will continue to be delivered in patch (z-stream) releases.",l="extended-update-support";break;case"end of life":o="red",t="End of life",a="This minor version of OpenShift has reached the end of life and is no longer supported. Upgrade to a newer version so that this cluster is supportable.",l="end-of-life";break;default:return n().createElement(r.J,{color:o,variant:"outline",className:"support-status-label"},e)}return n().createElement(i.A,{className:"support-status-popover","aria-label":t,bodyContent:a,footerContent:n().createElement(n().Fragment,null,"See"," ",n().createElement(s.default,{href:"https://access.redhat.com/support/policy/updates/openshift",noIcon:!0},"this resource")," ","to learn more about the support lifecycle."),id:l},n().createElement(r.J,{color:o,variant:"outline",className:"support-status-label support-status-label--clickable",onClick:e=>{e.preventDefault()}},t))}},65411:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(93345),n=a.n(l),r=a(19404),i=a(9694);const s=({className:e})=>{const t={className:null!=e?e:""};return n().createElement(i.ScalprumComponent,{...t,scope:"assistedInstallerApp",module:"./TechnologyPreview",fallback:n().createElement(r.E,{fontSize:"md",width:"8em",className:"pf-v5-u-display-inline-flex pf-v5-u-ml-md"})})}},4605:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(93345),n=a.n(l);const r=({value:e})=>{let t="N/A";if(e){const a=new Date(e),l=a.getTime();Number.isNaN(l)?console.error("Can't parse date '%s'",e):t=`${a.toLocaleDateString()} ${a.toLocaleTimeString()}`}return n().createElement("span",{"data-testid":"createdAt"},t)}},71299:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var l=a(93345),n=a.n(l),r=a(73113),i=a(90678),s=a(10423),o=a(33675),u=a(75279),d=a(66338),c=a(69093),m=a(83741),p=a(76871);const f=({errors:e,message:t="",response:a})=>{n().useEffect((()=>{const t=e=>{m.v4((t=>{var a;t.setTag("operationID",null!==(a=e.operationID)&&void 0!==a?a:""),m.Cp(new Error(`${e.errorCode} error from server: ${e.internalErrorCode} - ${e.errorMessage}`))}))};e?e.forEach((e=>{const{response:a}=e;t(a)})):t(a)}),[]);const l=({response:e,message:t,key:a=""})=>n().createElement(r.a,{key:a},n().createElement(i.B,null,t&&n().createElement(r.a,null,n().createElement(s.h,{headingLevel:"h6"},t)),n().createElement(p.A,{response:e,itemWrapper:r.a,showErrorCode:!0,renderLinks:!0})));return n().createElement(o.p,null,n().createElement(u.h,null,n().createElement(c.A,null),n().createElement(d.Q,{id:"error-expand",toggleText:"Error details"},n().createElement(i.B,{hasGutter:!0},e?e.map(l):l({response:a,message:t})))))}},22024:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(93345),n=a(92292);const r=({showTooltip:e,content:t,children:a})=>e?l.createElement(n.m,{content:t},a):a},29568:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AddOnsFormDropdown:()=>m});var l=a(93345),n=a.n(l),r=a(88139),i=a(96998),s=a(56780),o=a(91332),u=a(18960),d=a(38715),c=a(55213);const m=({options:e,label:t,name:a,disabled:l,isFormGroup:m=!0,helperText:p,isRequired:f,extendedHelpText:E,fieldId:g,validate:v,validateOnSubmit:h,...b})=>{const[S,_]=n().useState(!1),{setFieldValue:C}=(0,r.useFormikContext)(),[y,I,A]=(0,r.useField)(g),R=n().createElement(o.l,{placeholderText:"-- Please Select --",variant:"single",...y,id:a,name:a,isDisabled:l,isOpen:S,selections:y.value,onToggle:(e,t)=>_(t),validated:I.touched||I.error?"error":"default",onSelect:(e,t)=>{C(g,t),_(!1)},onBlur:()=>A.setTouched(!0,!0),...b},e.map((e=>n().createElement(u.O,{key:e.value,value:e.value},e.label?n().createElement(i.s,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsSm"},alignItems:{default:"alignItemsCenter"}},n().createElement("span",null,e.name),e.label):e.name))));return m?n().createElement(s.g,{...v&&{isRequired:!0},fieldId:a,label:t,isRequired:f,labelIcon:E?n().createElement(c.default,{hint:E}):void 0},R,n().createElement(d.FormGroupHelperText,{touched:I.touched,error:I.error,validateOnSubmit:h},p)):n().createElement(n().Fragment,null,R,n().createElement(d.FormGroupHelperText,{touched:I.touched,error:I.error,validateOnSubmit:h},p))}},77051:(e,t,a)=>{"use strict";a.r(t),a.d(t,{NumberInputField:()=>m});var l=a(93345),n=a(88139),r=a(93745),i=a(72583),s=a(97948),o=a(56780),u=a(23285),d=a(31358),c=a(38715);const m=e=>{const{fieldId:t,label:a,isRequired:m,isDisabled:p,min:f,max:E,helpText:g}=e,[v,{error:h,touched:b}]=(0,n.useField)(t),S=g?l.createElement(r.A,{bodyContent:l.createElement("p",null,g)},l.createElement(i.$n,{variant:"plain",isInline:!0},l.createElement(s.I,{size:"md"},l.createElement(d.HelpIcon,null)))):void 0;return l.createElement(o.g,{fieldId:t,label:a,labelIcon:S,isRequired:m},l.createElement(u.ks,{type:"number",min:f,max:E,...v,id:t,onChange:(e,t)=>{v.onChange(e)},isDisabled:p}),l.createElement(c.FormGroupHelperText,{touched:b,error:h}))}},75913:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(93345),n=a(88139),r=a(93745),i=a(72583),s=a(97948),o=a(56780),u=a(23285),d=a(31358),c=a(38715);const m=({fieldId:e,label:t,isRequired:a,isDisabled:m,helpText:p,placeHolderText:f})=>{const[E,{error:g,touched:v}]=(0,n.useField)(e),h=p?l.createElement(r.A,{bodyContent:l.createElement("p",null,p)},l.createElement(i.$n,{variant:"plain",isInline:!0},l.createElement(s.I,{size:"md"},l.createElement(d.HelpIcon,null)))):void 0;return l.createElement(o.g,{fieldId:e,label:t,labelIcon:h,isRequired:a},l.createElement(u.ks,{...E,id:e,onChange:(e,t)=>{E.onChange(e)},isDisabled:m,placeholder:f}),l.createElement(c.FormGroupHelperText,{touched:v,error:g},p))}},2663:(e,t,a)=>{"use strict";function l(e){const t={title:"Open console",key:`${e.id}.menu.adminconsole`},a=e.console_url;let l;return l=a?{...t,to:a,isExternalLink:!0,rel:"noopener noreferrer"}:{...t,component:"button",isAriaDisabled:!0,tooltipProps:{content:"Admin console is not yet available for this cluster"}},[l]}a.r(t),a.d(t,{actionResolver:()=>l,default:()=>n});const n=l},48075:(e,t,a)=>{"use strict";a.d(t,{A:()=>f});var l=a(93345),n=a.n(l),r=a(33675),i=a(86130),s=a(80234),o=a(75279),u=a(97796),d=a(22204),c=a(65702),m=a(8888);const p=({className:e})=>n().createElement("img",{className:`ocm--cost-icon ${e}`,src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyNzggMjE3IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyNzggMjE3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0VEMUMyNDt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMDIuNCwxNTUuNmMtMC44LTAuOC0xLjktMS41LTMuNS0xLjVoLTMuNWM1LjgtNy4zLDguOC0xNS43LDguOC0yNS4zYzAtNy43LTEuOS0xNC42LTUuNC0yMC43CgljLTMuOC02LjEtOC44LTExLjEtMTUtMTVjLTYuMS0zLjgtMTMtNS40LTIwLjctNS40cy0xNC42LDEuOS0yMC43LDUuNGMtNi4xLDMuOC0xMS4xLDguOC0xNSwxNWMtMy44LDYuMS01LjQsMTMtNS40LDIwLjcKCWMwLDcuNywxLjksMTQuNiw1LjQsMjAuN2MzLjgsNi4xLDguOCwxMS4xLDE1LDE1YzYuMSwzLjgsMTMsNS40LDIwLjcsNS40YzkuNiwwLDE4LTMuMSwyNS4zLTguOHYzLjFjMCwxLjIsMC40LDIuMywxLjUsMy41bDIzLDIyLjMKCWMwLjgsMC44LDEuOSwxLjUsMy41LDEuNWMxLjIsMCwyLjMtMC40LDMuNS0xLjVsNS40LTUuNGMwLjgtMC44LDEuNS0xLjksMS41LTMuNWMwLTEuMi0wLjQtMi4zLTEuNS0zLjVMMjAyLjQsMTU1LjZ6IE0xODcuOSwxNDIuOQoJYy0yLjcsNC4yLTYuMSw3LjctMTAuNCwxMC40Yy00LjIsMi43LTkuMiwzLjgtMTQuNiwzLjhjLTUuNCwwLTEwLTEuMi0xNC42LTMuOGMtNC4yLTIuNy03LjctNi4xLTEwLjQtMTAuNAoJYy0yLjctNC4yLTMuOC05LjItMy44LTE0LjZjMC01LjQsMS4yLTEwLDMuOC0xNC42YzIuNy00LjIsNi4xLTcuNywxMC40LTEwLjRjNC4yLTIuNyw5LjItMy44LDE0LjYtMy44YzUuNCwwLDEwLDEuMiwxNC42LDMuOAoJYzQuMiwyLjcsNy43LDYuMSwxMC40LDEwLjRjMi43LDQuMiwzLjgsOS4yLDMuOCwxNC42QzE5MS43LDEzNC4xLDE5MC41LDEzOC43LDE4Ny45LDE0Mi45eiIvPgo8cGF0aCBpZD0iRmlsbC00XzExXyIgY2xhc3M9InN0MCIgZD0iTTE2Ny45LDEyNi40YzEuNSwwLjQsMy4xLDEuNSw0LjIsMi43YzEuMiwxLjIsMS45LDIuNywyLjMsNC42YzAuNCwxLjUsMC40LDMuNS0wLjQsNQoJYy0wLjgsMS45LTEuOSwzLjUtMy41LDQuNmMtMS41LDEuMi0zLjUsMS41LTUuNCwxLjl2NC4yYzAsMC40LDAsMC44LTAuNCwxLjJjLTAuNCwwLjQtMC40LDAuNC0wLjgsMC40aC0yLjdjLTAuNCwwLTAuOCwwLTAuOC0wLjQKCWMtMC40LTAuNC0wLjQtMC44LTAuNC0xLjJ2LTQuMmMtMi43LDAtNS0wLjgtNy4zLTIuN2MtMC40LTAuNC0wLjQtMC44LTAuNC0xLjJzMC0wLjgsMC40LTEuMmwyLjctMy4xYzAuNCwwLDAuNC0wLjQsMC44LTAuNAoJYzAuNCwwLDAuOCwwLDAuOCwwLjRjMC44LDAuNCwxLjksMC44LDIuNywwLjhoNS40YzAuOCwwLDEuMi0wLjQsMS41LTAuOHMwLjgtMS4yLDAuOC0xLjljMC0wLjQsMC0xLjItMC40LTEuNQoJYy0wLjQtMC40LTAuOC0wLjgtMS4yLTAuOGwtOC40LTIuN2MtMS45LTAuOC0zLjUtMS41LTQuNi0zLjFjLTEuMi0xLjUtMS45LTMuMS0yLjMtNWMwLTEuOSwwLjQtMy41LDEuMi01YzAuOC0xLjUsMS45LTIuNywzLjUtMy44CgljMS41LTAuOCwzLjEtMS41LDQuNi0xLjVsMCwwdi00LjJjMC0wLjQsMC0wLjgsMC40LTEuMmMwLjQtMC40LDAuNC0wLjQsMC44LTAuNGgyLjdjMC40LDAsMC44LDAsMC44LDAuNGMwLjQsMC40LDAuNCwwLjgsMC40LDEuMgoJdjQuMmMyLjcsMCw1LDAuOCw2LjksMi43YzAuNCwwLjQsMC40LDAuOCwwLjgsMS4yYzAuNCwwLjQsMCwwLjgtMC40LDEuMmwtMi43LDMuMWMtMC40LDAtMC40LDAuNC0wLjgsMC40Yy0wLjQsMC0wLjgsMC0wLjgsMAoJYy0wLjgtMC44LTEuOS0wLjgtMi43LTAuOGgtNS40Yy0wLjgsMC0xLjIsMC40LTEuNSwwLjhjLTAuNCwwLjQtMC44LDEuMi0wLjgsMS45YzAsMC40LDAsMS4yLDAuNCwxLjVjMC40LDAuNCwwLjgsMC44LDEuMiwwLjgKCUwxNjcuOSwxMjYuNHoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIxOC45LDg4LjFMMjE4LjksODguMWMtMy41LTQwLjMtMzguOC03MC4yLTc4LjctNjYuOGMtMjIuNiwxLjktNDMsMTQuMi01NS4zLDMzYy0xLjksMC0zLjUsMC01LjQsMAoJYy0zMS4xLDAtNTYuNCwyNS4zLTU2LjQsNTYuNHMyNS4zLDU2LjQsNTYuNCw1Ni40aDQ0LjVjLTIuMy0yLjctNC42LTUuOC02LjUtOS4yYy0wLjgtMS4yLTEuNS0yLjctMS45LTMuOEg4MAoJYy0yNC4yLDAtNDMuOC0xOS42LTQzLjgtNDMuNHMxOS4yLTQ0LjEsNDMuNC00NC4xYzIuNywwLDUsMC40LDcuMywwLjhjMi43LDAuNCw1LjQtMC44LDYuNS0zLjFjMTYuNS0yOC44LDUzLTM5LjEsODIuMS0yMi42CgljMTguOCwxMC43LDMwLjMsMzAuNywzMC43LDUyLjJjMCwzLjUsMi43LDYuNSw2LjUsNi41YzE1LTAuOCwyNy42LDEwLjQsMjguNCwyNS4zYzAuOCwxMy40LTguOCwyNS4zLTIxLjUsMjhsMTAuNCwxMAoJYzEzLjQtNi4xLDIzLTE5LjYsMjMtMzUuM0MyNTIuNywxMDgsMjM4LjUsOTEuMSwyMTguOSw4OC4xeiIvPgo8L3N2Zz4K",alt:"Cost Management","aria-hidden":"true"}),f=()=>n().createElement(r.p,{variant:r.s.lg,className:"pf-m-redhat-font"},n().createElement(i.o,{titleText:"Track your OpenShift spending!",icon:n().createElement(s.q,{icon:p}),headingLevel:"h2"}),n().createElement(o.h,null,"Add an OpenShift Container Platform cluster to see a total cost breakdown of your pods by cluster, node, project, or labels."),n().createElement(u.s,null,n().createElement(d.c,null,n().createElement(m.default,{href:c.default.COSTMGMT_ADDING_OCP},"Add an OpenShift cluster to Cost Management"))))},12474:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>I});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(10423),u=a(983),d=a(72972),c=a(69304),m=a(23557),p=a(25514),f=a(48075),E=a(30620),g=a(23215),v=a(51976),h=a(12921),b=a(90118),S=a(76980);const _=(e=0,t="USD")=>e.toLocaleString("en",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}),C=({report:e})=>{var t,a,l,r,i,s,o,u;const d=null!==(i=null===(r=null===(l=null===(a=null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.total)||void 0===a?void 0:a.cost)||void 0===l?void 0:l.total)||void 0===r?void 0:r.value)&&void 0!==i?i:0;return(null===(u=null===(o=null===(s=null==e?void 0:e.meta)||void 0===s?void 0:s.total)||void 0===o?void 0:o.cost)||void 0===u?void 0:u.total)?n().createElement(n().Fragment,null,e.data.map((e=>e.clusters.map((e=>e.values.map((e=>{var t,a,l,r,i,s;const o=e.clusters&&e.clusters.length?e.clusters[0]:e.cluster,u=null!==(l=null===(a=null===(t=null==e?void 0:e.cost)||void 0===t?void 0:t.total)||void 0===a?void 0:a.value)&&void 0!==l?l:0,c=null!==(s=null===(i=null===(r=null==e?void 0:e.cost)||void 0===r?void 0:r.total)||void 0===i?void 0:i.units)&&void 0!==s?s:"USD",m=d>0?u/d:0,p=`${_(u,c)} (${((e=0)=>e.toLocaleString("en",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0}))(m)})`;return n().createElement(n().Fragment,{key:e.cluster},n().createElement(b.L,{component:b.D.dt},o),n().createElement(b.L,{component:b.D.dd},p))}))))))):null},y=({report:e})=>e.fulfilled?n().createElement(E.x,{hasGutter:!0},n().createElement(g.E,{lg:5,md:12},n().createElement(o.h,{className:"ocm--cost-total",size:"2xl",headingLevel:"h2"},(e=>{var t,a,l,n,r,i,s,o,u,d;const c=null!==(r=null===(n=null===(l=null===(a=null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.total)||void 0===a?void 0:a.cost)||void 0===l?void 0:l.total)||void 0===n?void 0:n.value)&&void 0!==r?r:0,m=null!==(d=null===(u=null===(o=null===(s=null===(i=null==e?void 0:e.meta)||void 0===i?void 0:i.total)||void 0===s?void 0:s.cost)||void 0===o?void 0:o.total)||void 0===u?void 0:u.units)&&void 0!==d?d:"USD";return _(c,m)})(e)),n().createElement("span",{className:"ocm--cost-total__desc"},"Month-to-date cost")),n().createElement(g.E,{lg:7,md:12},n().createElement("div",{className:"ocm--cost-clusters"},n().createElement(v.n,null,n().createElement(h.K,{component:h.C.dl},n().createElement(b.L,{component:b.D.dt,key:"top-clusters"},"Top clusters"),n().createElement(C,{report:e})))))):n().createElement(S.A,{size:"md"}),I=()=>{const{report:e,sources:t}=(0,p.useGlobalState)((e=>e.cost)),[a,E]=(0,l.useState)(),[g,v]=(0,l.useState)(),[h,b]=(0,l.useState)(),S=(0,r.wA)();return(0,l.useEffect)((()=>{S((0,m.getReport)()),S((0,m.getSources)({type:"OCP"}))}),[S]),(0,l.useEffect)((()=>{E((null==t?void 0:t.meta)&&0!==t.meta.count)}),[null==t?void 0:t.meta]),(0,l.useEffect)((()=>{v(a||!(null==t?void 0:t.fulfilled))}),[a,null==t?void 0:t.fulfilled]),(0,l.useEffect)((()=>{b(a&&e.fulfilled)}),[a,e.fulfilled]),n().createElement(i.Z,{className:"ocm--cost-card"},n().createElement(s.Z,null,n().createElement(o.h,{size:"lg",headingLevel:"h2"},"Cost Management")),n().createElement(u.b,{className:"ocm--cost-card__body"},g?n().createElement(y,{report:e}):n().createElement(f.A,null)),h?n().createElement(d.w,null,n().createElement("a",{href:`${c.ocmBaseName}/cost-management`},"View more in Cost management")):null)}},79193:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var l=a(93345),n=a.n(l),r=a(63802),i=a(33675),s=a(86130),o=a(80234),u=a(75279),d=a(97796),c=a(72583),m=a(22204),p=a(56862),f=a(69304);const E=function(){return n().createElement(r.d8,null,n().createElement(i.p,{variant:i.s.lg,className:"cluster-list-empty-state"},n().createElement(s.o,{titleText:"Let's create your first cluster",icon:n().createElement(o.q,{icon:p.default}),headingLevel:"h4"}),n().createElement(u.h,null,"You don't have any clusters yet, but you can easily create or register your first OpenShift 4 cluster."),n().createElement(d.s,null,n().createElement(f.Link,{to:"/create"},n().createElement(c.$n,{"data-testid":"create_cluster_btn",className:"pf-v5-u-mt-xl"},"Create cluster")),n().createElement(m.c,null,n().createElement(f.Link,{to:"/register"},n().createElement(c.$n,{variant:"link"},"Register cluster")),n().createElement(f.Link,{to:"/archived"},n().createElement(c.$n,{variant:"link"},"View cluster archives")),n().createElement(f.Link,{to:"/assisted-installer"},n().createElement(c.$n,{variant:"link"},"Assisted Installer clusters"))))))}},46695:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>R});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(983),u=a(33675),d=a(86130),c=a(75279),m=a(73683),p=a(30496),f=a(32569),E=a(68923),g=a(69304),v=a(25514),h=a(10135),b=a(56540),S=a(22916),_=a(96346),C=a(91089),y=a(43775),I=a(20003);const A={filter:`support_level='${a(59067).SubscriptionCommonFields.support_level.NONE}' AND status NOT IN ('Deprovisioned', 'Archived')`},R=()=>{const e=(0,r.wA)(),t=(0,v.useGlobalState)((e=>e.subscriptions.subscriptions)),a=(0,v.useGlobalState)((e=>e.viewOptions[S.viewConstants.OVERVIEW_EXPIRED_TRIALS])),[R,T]=(0,l.useState)(a),O=(0,l.useMemo)((()=>t.pending&&t.items&&t.items.length>0),[t.items,t.pending]),P=(0,l.useMemo)((()=>{var e;return O?(0,I.default)(a.pageSize):null===(e=t.items)||void 0===e?void 0:e.map((e=>({cells:[{title:n().createElement(g.Link,{to:`/details/s/${e.id}`},e.display_name||e.external_cluster_id)}],subscription:e})))}),[O,t.items,a.pageSize]);return(0,l.useEffect)((()=>{t.fulfilled||t.pending||e((0,b.getSubscriptions)((0,h.createOverviewQueryObject)(a,A)))}),[e,t.fulfilled,t.pending]),(0,l.useEffect)((()=>{(!t.pending&&!t.valid||(0,h.viewPropsChanged)(a,R))&&(e((0,b.getSubscriptions)((0,h.createOverviewQueryObject)(a,A))),T(a))}),[t.pending,t.valid,a,e]),t.error?n().createElement(i.Z,{className:"ocm-overview-clusters__card"},n().createElement(s.Z,null,"Expired Trials"),n().createElement(o.b,null,n().createElement(u.p,null,n().createElement(d.o,{titleText:"No data available",headingLevel:"h2"}),n().createElement(c.h,null,"There was an error fetching the data. Try refreshing the page.")))):t.items&&0!==t.items.length?n().createElement(i.Z,{className:"ocm-overview-clusters__card"},n().createElement(s.Z,null,"Expired Trials"),n().createElement(o.b,null,n().createElement(p.X,{"aria-label":"Expired Trials",cells:[{title:"Name"}],rows:P,variant:m.a.compact,actionResolver:t=>O?[]:(({subscription:t})=>[{title:"Edit subscription settings",onClick:()=>e((0,C.openModal)(y.default.EDIT_SUBSCRIPTION_SETTINGS,{subscription:t}))},{title:"Archive cluster",onClick:()=>e((0,C.openModal)(y.default.ARCHIVE_CLUSTER,{subscriptionID:t.id,name:t.display_name||t.external_cluster_id}))}])(t),areActionsDisabled:e=>e.subscription&&!e.subscription.canEdit},n().createElement(f.A,null),n().createElement(E.B,null)),n().createElement(_.default,{viewType:S.viewConstants.OVERVIEW_EXPIRED_TRIALS,currentPage:a.currentPage,pageSize:a.pageSize,totalCount:a.totalCount,totalPages:a.totalPages,variant:"bottom",isDisabled:t.pending,perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"25",value:25},{title:"50",value:50}]}))):null}},83166:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var l=a(93345),n=a.n(l),r=a(983),i=a(33675),s=a(86130),o=a(75279),u=a(23215),d=a(60915),c=a(6229),m=a(55318),p=a(10423),f=a(69304),E=a(36447),g=a(97948),v=a(31003),h=a(67849),b=a(48525),S=a(44027);const _=({totalUnhealthyClusters:e,totalConnectedClusters:t,isError:a})=>{if(a)return n().createElement(d.Z,{className:"ocm-overview-clusters__card","data-testid":"cluster-with-issues-error"},n().createElement(c.Z,null,"Clusters with issues"),n().createElement(r.b,null,n().createElement(m.a,null,n().createElement(p.h,{headingLevel:"h2"},"No data available"),n().createElement("span",{className:"empty-state-color"},"There was an error fetching the data. Try refreshing the page."))));if(!t)return n().createElement(d.Z,{className:"ocm-overview-clusters__card","data-testid":"cluster-with-issues-no-data"},n().createElement(c.Z,null,"Clusters with issues"),n().createElement(r.b,null,n().createElement(m.a,null,n().createElement("span",{className:"empty-state-color"},"No data available"))));const l=n().createElement(g.I,{className:"status-icon",size:"sm"},0===e?n().createElement(h.aV,{color:S.global_success_color_100.value,"data-testid":"ok-icon"}):n().createElement(v.ExclamationCircleIcon,{color:b.global_danger_color_100.value,"data-testid":"exclamation-icon"})),i=e>0?"clusters-with-issues-non-zero":"clusters-with-issues-zero",s=n().createElement("span",{className:i},e);return n().createElement(d.Z,{className:"ocm-overview-clusters__card","data-testid":"cluster-with-issues-unhealthy"},n().createElement(c.Z,null,"Clusters with issues"),n().createElement(r.b,null,n().createElement(m.a,null,s,l)))},C=({totalClusters:e,totalUnhealthyClusters:t,totalConnectedClusters:a,totalCPU:l,usedCPU:g,totalMem:v,usedMem:h,isError:b})=>{const S=n().createElement(r.b,null,n().createElement(i.p,null,n().createElement(s.o,{titleText:"No data available",headingLevel:"h2"}),n().createElement(o.h,null,"There was an error fetching the data. Try refreshing the page.")));if(b)return n().createElement(n().Fragment,null,n().createElement(u.E,{md:3},n().createElement(d.Z,{className:"ocm-overview-clusters__card"},n().createElement(c.Z,null,"Clusters"),S)),n().createElement(u.E,{md:9,rowSpan:2},n().createElement(d.Z,{className:"ocm-c-metrics-charts__card"},n().createElement(c.Z,null,"CPU and Memory utilization"),S)),n().createElement(u.E,{md:3},n().createElement(_,{isError:b,totalUnhealthyClusters:t,totalConnectedClusters:a})));const C=a>0&&((null==l?void 0:l.value)>0||v.value>0)?n().createElement(r.b,null,n().createElement(E.default,{cpu:{total:l,used:g,updated_timestamp:""},memory:{total:{value:v.value,unit:"B"},used:{value:h.value,unit:"B"},updated_timestamp:""},metricsAvailable:!0,type:"legend"})):n().createElement(r.b,null,n().createElement(i.p,null,n().createElement(s.o,{titleText:"No data available",headingLevel:"h2"}),n().createElement(o.h,null,"Check individual clusters web console if you expect that they should be sending metrics. Note that data is not available for clusters that are installing.")));return n().createElement(n().Fragment,null,n().createElement(u.E,{md:3},n().createElement(f.Link,{to:"/cluster-list",className:"overview-clusters-link"},n().createElement(d.Z,{className:"ocm-overview-clusters__card"},n().createElement(c.Z,null,"Clusters"),n().createElement(r.b,null,n().createElement(m.a,null,n().createElement(p.h,{headingLevel:"h1",size:"3xl"},e)))))),n().createElement(u.E,{md:9,rowSpan:2},n().createElement(d.Z,{className:"ocm-c-metrics-charts__card"},n().createElement(c.Z,null,"CPU and Memory utilization"),C)),n().createElement(u.E,{md:3},n().createElement(_,{isError:b,totalUnhealthyClusters:t,totalConnectedClusters:a})))}},53350:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,getIssuesCount:()=>s,getSeverityName:()=>i,groupTagHitsByGroups:()=>o});var l=a(38260),n=a(68206);const r={1:"Low",2:"Moderate",3:"Important",4:"Critical"},i=e=>r[e],s=e=>{var t,a,r;const i=null!==(t=null==e?void 0:e.metrics)&&void 0!==t?t:void 0;if(!i)return 0;const{cpu:s,memory:o}=i,u=null!==(a=i.critical_alerts_firing)&&void 0!==a?a:0,d=null!==(r=i.operators_condition_failing)&&void 0!==r?r:0,c=e&&(0,l.hasCpuAndMemory)(s,o)&&(0,n.hasResourceUsageMetrics)(e)?(0,n.resourceUsageIssuesHelper)(s,o,n.thresholds.DANGER):0;return u+(null!=c?c:0)+d},o=(e,t)=>null==t?void 0:t.sort(((e,t)=>e.title.localeCompare(t.title))).reduce(((t,{tags:a,title:l})=>({...t,[l]:{count:a.reduce(((t,a)=>{var l;return t+(null!==(l=null==e?void 0:e[a])&&void 0!==l?l:0)}),0),tags:a.join(",")}})),{}),u=s},73083:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(93345),n=a.n(l),r=a(62193),i=a.n(r),s=a(59399),o=a.n(s),u=a(72583),d=a(92292),c=a(4068),m=a(65702);const p=(0,a(58787).default)((({token:e,text:t="Copy pull secret",variant:a,pendoID:r,track:s})=>{const[p,f]=(0,l.useState)(null),[E,g]=(0,l.useState)(!1),v=(0,l.useCallback)((()=>{p&&window.clearTimeout(p),g(!0),f(window.setTimeout((()=>{g(!1),f(null)}),2500))}),[p]),h=!e||!!e.error||i()(e),b=e.error?"":`${JSON.stringify(e)}\n`,S="link-inplace"===a&&E?"Copied!":t,_=n().createElement(o(),{text:h?"":b,onCopy:v},n().createElement(u.$n,{variant:"link",type:"button",tabIndex:0,isAriaDisabled:h,icon:n().createElement(c.Td,null),onClick:()=>{s(m.tools.COPY_PULLREQUEST,{path:r})}},S));return"link-inplace"===a?_:n().createElement(d.m,{trigger:"manual",content:"Copied!",position:"right",isVisible:E},_)}))},88832:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(93345),n=a.n(l),r=a(4213),i=a.n(r),s=a(62193),o=a.n(s),u=a(72583),d=a(9296),c=a(94538);const m=({token:e,pendoID:t,text:a="Download pull secret"})=>{const l=(0,c.default)(),[r,s]=n().useState(!0),[m,p]=n().useState("");return n().useEffect((()=>{s(!e||!!e.error||o()(e)),p(e.error?"":`${JSON.stringify(e)}\n`)}),[e]),n().createElement(u.$n,{"data-testid":"download-pull-secret",variant:"secondary",onClick:()=>{l(d.trackEvents.DownloadPullSecret,{path:t});const e=new Blob([m],{type:"text/plain;charset=utf-8"});i().saveAs(e,"pull-secret")},isDisabled:r,style:{display:"inline"}},a)}},62344:(e,t,a)=>{"use strict";a.r(t),a.d(t,{downloadChoice:()=>m});var l=a(93345),n=a.n(l),r=a(9704),i=a(39358),s=a(8371),o=a(3638),u=a(17210);const d=({urls:e,tool:t,channel:a,OS:l,architecture:i,setArchitecture:d})=>{const c=(0,u.architecturesForToolOS)(e,t,a,l);return n().createElement(s.F,{"aria-label":"Select architecture dropdown",value:i,onChange:d,isDisabled:c.length<=1,"data-testid":`arch-dropdown-${t}`},n().createElement(o.Q,{key:"select",value:"select",label:"Select architecture",isDisabled:!0}),(0,u.allArchitecturesForTool)(e,t,a).map((({value:i,label:s})=>(0,r.has)(e,[t,a,i,null!=l?l:""])&&n().createElement(o.Q,{key:i,value:i,label:s}))))},c=({urls:e,tool:t,channel:a,OS:l,setOS:r})=>n().createElement(s.F,{value:l,"data-testid":`os-dropdown-${t}`,onChange:r,"aria-label":"Select OS dropdown"},n().createElement(o.Q,{key:"select",value:"select",label:"Select OS",isDisabled:!0}),(0,u.allOperatingSystemsForTool)(e,t,a).map((({value:e,label:t})=>n().createElement(o.Q,{key:e,value:e,label:t})))),m=(e,t,a,l,s,o)=>{const{OS:m,architecture:p}=e[l]||(0,u.initialSelection)(a,l,s,(0,u.detectOS)());if(0===(0,u.allOperatingSystemsForTool)(a,l,s).length){const e=(0,r.get)(a,[l,s,"fallbackNavigateURL"]);return{osDropdown:"",archDropdown:"",downloadButton:n().createElement(i.default,{url:e,download:!1,tool:l,...o})}}return{osDropdown:n().createElement(c,{urls:a,tool:l,channel:s,OS:m,setOS:(n,i)=>{let o=p;if(!(0,r.has)(a,[l,s,p,null!=i?i:""])){const e=(0,u.architecturesForToolOS)(a,l,s,i);o=e.length>1?"select":e[0].value}t({...e,[l]:{OS:i,architecture:o}})}}),archDropdown:n().createElement(d,{urls:a,tool:l,channel:s,OS:m,architecture:p,setArchitecture:(a,n)=>{t({...e,[l]:{OS:m,architecture:n}})}}),downloadButton:n().createElement(i.default,{url:(0,r.get)(a,[l,s,p,null!=m?m:""]),tool:l,...o})}}},17210:(e,t,a)=>{"use strict";a.r(t),a.d(t,{allArchitecturesForTool:()=>s,allOperatingSystemsForTool:()=>o,architecturesForToolOS:()=>i,detectOS:()=>r,initialSelection:()=>u});var l=a(9704),n=a(65702);const r=()=>{const{platform:e}=window.navigator;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?n.operatingSystems.mac:-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)?n.operatingSystems.windows:/Linux/.test(e)?n.operatingSystems.linux:null},i=(e,t,a,r)=>n.architectureOptions.filter((({value:n})=>(0,l.has)(e,[t,a,n,null!=r?r:""]))),s=(e,t,a)=>n.architectureOptions.filter((({value:r})=>n.operatingSystemOptions.find((({value:n})=>(0,l.has)(e,[t,a,r,n]))))),o=(e,t,a)=>n.operatingSystemOptions.filter((({value:r})=>n.architectureOptions.find((({value:n})=>(0,l.has)(e,[t,a,n,r]))))),u=(e,t,a,l)=>{var n,r;const s=o(e,t,a).map((e=>e.value)),u=l&&s.includes(l)?l:null==s?void 0:s[0];return{OS:u,architecture:null===(r=null===(n=i(e,t,a,u))||void 0===n?void 0:n[0])||void 0===r?void 0:r.value}}},39972:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>He});var l=a(93345),n=a.n(l),r=a(63802),i=a(10423),s=a(96998),o=a(96553),u=a(69304),d=a(83642),c=a(65702),m=a(99432),p=a(33366),f=a(55401),E=a(47708),g=a(44144),v=a(8295),h=a(40182),b=a(16253),S=a(49089),_=a(35900);const C=({children:e,title:t,content:a,isOpen:l,onClose:r})=>n().createElement(f._s,{isExpanded:l,isInline:!0},n().createElement(E.z,{panelContent:n().createElement(g.X,{isResizable:!0,defaultSize:"461px",minSize:"417px"},n().createElement(v.y,null,null==a?void 0:a.head,n().createElement(h.j,null,n().createElement(b.s,{onClick:r,"data-testid":"drawer-close-button"}))),n().createElement(S.c,{component:"div","data-testid":"drawer-panel-divider"}),n().createElement(_.J,null,null==a?void 0:a.body))},n().createElement(_.J,null,e)));var y=a(90678),I=a(73113),A=a(51976),R=a(22069),T=a(12921),O=a(90118),P=a(8888);const D=a.p+"images/AdvancedClusterSecurityExplanationVideoImg.f32284e9edf8ce66..png",L=n().createElement(y.B,{hasGutter:!0,className:"drawer-panel-content-body"},n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(R.E,{component:R.Y.p},"Security shouldnt be an afterthought. Build, deploy, and run your cloud-native applications with more security and protect your platform using Advanced Cluster Security for Kubernetes."),n().createElement(R.E,{component:R.Y.p},"Conduct security sooner by automating DevSecOps and mitigating security issues early in the container lifecycle."))),n().createElement(I.a,null,n().createElement(P.default,{href:"https://www.youtube.com/watch?v=lFBFW3HmgsA&t=2s",noIcon:!0,"data-testid":"drawer-panel-content__explanation-video-parent"},n().createElement("img",{src:D,alt:"explanation-video",className:"drawer-panel-content__explanation-video","data-testid":"drawer-panel-content__explanation-video"})),n().createElement(A.n,null,n().createElement(R.E,{component:R.Y.small},"Video duration 2:21"))),n().createElement(I.a,null,n().createElement(i.h,{headingLevel:"h3","data-testid":"drawer-panel-content-benefits-title"},"Benefits")),n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(T.K,{isPlain:!0},n().createElement(O.L,null,n().createElement("b",null,"Lower operational cost:")," Reduce cost by catching and fixing a security issue in the development stage."),n().createElement(O.L,null,n().createElement("b",null,"Reduce operational risk:")," Align security and infrastructure to reduce application downtime using built-in Kubernetes capabilities."),n().createElement(O.L,null,n().createElement("b",null,"Ensure compliance standards:")," Enable compliance with built-in checks for critical security standards and regulations."),n().createElement(O.L,null,n().createElement("b",null,"Find threats quicker:")," Detect and respond to threats, such as:"),n().createElement(T.K,null,["Unauthorized access","Cryptomining","Privilege escalation","Lateral movement"].map((e=>n().createElement(O.L,{"data-testid":"threat-example-list-item"},e))))))),n().createElement(I.a,null,n().createElement(i.h,{headingLevel:"h3","data-testid":"drawer-panel-content-use-cases-title"},"Use cases:")),n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(T.K,{isPlain:!0},n().createElement(O.L,null,n().createElement("b",null,"Supply chain security:")," Provide developers with security context in their existing workflows and integrate security into your CI/CD pipelines and image registries."),n().createElement(O.L,null,n().createElement("b",null,"Infrastructure security:")," Maintain security and prevent insecure access and authorizations with existing role-based access (RBAC) rules and hardening your organizations environment."),n().createElement(O.L,null,n().createElement("b",null,"Workload security:")," Prevent high-risk workloads from being deployed or run using out-of-the-box deploy-time and runtime policies and monitor known good behavior to configure custom policies and alerts.")))),n().createElement(I.a,{className:"drawer-panel-content__learn-more"},n().createElement(P.default,{"data-testid":"learn-more-about-advanced-cluster-security-drawer-panel-content-link",href:"https://catalog.redhat.com/software/container-stacks/detail/60eefc88ee05ae7c5b8f041c"},"Learn more about Advanced Cluster Security"))),N=a.p+"images/AdvancedClusterSecurityForKubernetesLogo.e4d48882eee8ce9d..svg",w=a.p+"images/RedHatOpenShiftAILogo.00d9d182b79ae054..svg",M=a.p+"images/RedHatOpenShiftGitOpsLogo.1b4b849dda819d0e..svg",k=a.p+"images/RedHatOpenShiftPipelinesLogo.d95aa179c8b01b13..svg",F=a.p+"images/RedHatOpenShiftServiceMeshLogo.d2903b26590984c6..svg",x={title:"Red Hat OpenShift GitOps",logo:M},G={title:"Red Hat OpenShift Pipelines",logo:k},U={title:"Red Hat OpenShift Service Mesh",logo:F},j={title:"Advanced Cluster Security for Kubernetes",logo:N},H={title:"Red Hat OpenShift AI",logo:w};var V=a(30620),q=a(23215);const z=({title:e,logo:t,trialButtonLink:a})=>n().createElement(V.x,{hasGutter:!0},n().createElement(q.E,{span:2},n().createElement("img",{src:t,alt:`${e} logo`,className:"drawer-panel-content__logo","data-testid":`${e}-drawer-panel-content__logo`})),n().createElement(q.E,{span:10},n().createElement(i.h,{headingLevel:"h2","data-testid":"drawer-panel-content__title"},e),n().createElement(R.E,{component:R.Y.small},"by Red Hat")),a?n().createElement(n().Fragment,null,n().createElement(q.E,{span:2}),n().createElement(q.E,{span:10},n().createElement(P.default,{href:a,isButton:!0,variant:"primary"},"Start free trial"))):null),B=n().createElement(z,{...j,trialButtonLink:"https://www.redhat.com/en/technologies/cloud-computing/openshift/advanced-cluster-security-kubernetes/trial"}),W=n().createElement(y.B,{hasGutter:!0,className:"drawer-panel-content-body"},n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(R.E,{component:R.Y.p},"Consistently configure and deploy Kubernetes-based infrastructure and applications across clusters and development lifecycles using Red Hat OpenShift GitOps."),n().createElement(R.E,{component:R.Y.p},"Red Hat OpenShift GitOps uses the open source project"," ",n().createElement(R.E,{component:R.Y.a,href:"https://www.redhat.com/en/blog/argocd-and-gitops-whats-next"},"Argo CD")," ","as the declarative GitOps engine."))),n().createElement(I.a,null,n().createElement(i.h,{headingLevel:"h3","data-testid":"drawer-panel-content-benefits-title"},"Benefits")),n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(T.K,{isPlain:!0},n().createElement(O.L,null,n().createElement("b",null,"Enhance traceability and visibility:")," Infrastructure and applications are stored and versioned in Git."),n().createElement(O.L,null,n().createElement("b",null,"Ensure consistency:")," Red Hat OpenShift GitOps makes the configuration repositories the central element and ensures consistency in applications when you deploy them to different clusters in different environments, such as development, staging, and production."),n().createElement(O.L,null,n().createElement("b",null,"Automate infrastructure and deployment requirements:")," Updates and changes are pushed through declarative code across environments.")))),n().createElement(I.a,{className:"drawer-panel-content__learn-more"},n().createElement(P.default,{"data-testid":"learn-more-about-red-hat-openshift-gitops-drawer-panel-content-link",href:"https://catalog.redhat.com/software/container-stacks/detail/5fb288c70a12d20cbecc6056"},"Learn more about Red Hat OpenShift GitOps"))),$="Red Hat OpenShift GitOps",Y=n().createElement(V.x,{hasGutter:!0},n().createElement(q.E,{span:2},n().createElement("img",{src:M,alt:`${$} logo`,className:"drawer-panel-content__logo","data-testid":`${$}-drawer-panel-content__logo`})),n().createElement(q.E,{span:10},n().createElement(i.h,{headingLevel:"h2","data-testid":"drawer-panel-content__title"},$),n().createElement(R.E,{component:R.Y.small},"by Red Hat"))),K=a.p+"images/OpenshiftAiExplanationVideoImg.d35274c0c9d368ff..png",Q=n().createElement(y.B,{hasGutter:!0,className:"drawer-panel-content-body"},n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(R.E,{component:R.Y.p},"Build, train, tune, and deploy AI models at scale across hybrid cloud environments with Red Hat OpenShift AI, an AI platform."))),n().createElement(I.a,null,n().createElement(P.default,{href:"https://www.youtube.com/watch?v=JGesQwL-lkg&t=6s",noIcon:!0,"data-testid":"drawer-panel-content__explanation-video-parent"},n().createElement("img",{src:K,alt:"explanation-video",className:"drawer-panel-content__explanation-video","data-testid":"drawer-panel-content__explanation-video"})),n().createElement(A.n,null,n().createElement(R.E,{component:R.Y.small},"Video duration 5:26"))),n().createElement(I.a,null,n().createElement(i.h,{headingLevel:"h3","data-testid":"drawer-panel-content-benefits-title"},"Benefits")),n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(T.K,{isPlain:!0},n().createElement(O.L,null,n().createElement("b",null,"Innovate faster:")," Iterate and experiment quickly with a single platform for the entire AI platform. No need to switch between different tools."),n().createElement(O.L,null,n().createElement("b",null,"Scale easily:")," Built on Kubernetes, OpenShift AI allows for easy scaling of AI workloads."),n().createElement(O.L,null,n().createElement("b",null,"Enhance collaboration:")," Bring together your data scientist, operations, and developer teams in a unified AI platform.")))),n().createElement(I.a,null,n().createElement(i.h,{headingLevel:"h3","data-testid":"drawer-panel-content-capabilities-title"},"Capabilities")),n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(T.K,{isPlain:!0},n().createElement(O.L,null,n().createElement("b",null,"Model training- projects:")," Organize model development files, data connections, and other artifacts needed for a given project. Projects can be shared with specific permissions to enable collaboration with colleagues."),n().createElement(O.L,null,n().createElement("b",null,"Model training- distributed workloads:")," Leverage multiple cluster nodes simultaneously for faster, more efficient model training. It can be used for both predictive AI training and GenAI training."),n().createElement(O.L,null,n().createElement("b",null,"Notebook images:")," Choose from a default set of pre-configured notebook images or use your own custom notebook images."),n().createElement(O.L,null,n().createElement("b",null,"Model serving:")," Data scientists can deploy trained machine-learning models to serve intelligent applications in production. You have control over how this serving is performed."),n().createElement(O.L,null,n().createElement("b",null,"Accelerators:")," Scale your work, reduce latency, and increase productivity with NVIDIA graphics processing units (GPUs) or Habana Gaudi devices.")))),n().createElement(I.a,null,n().createElement(i.h,{headingLevel:"h3","data-testid":"drawer-panel-content-clouds-and-platforms-title"},"Clouds and platforms")),n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(R.E,{component:R.Y.p},"You can choose where to develop and deploy your models. Red Hat OpenShift AI lets you choose the environment that best suits your needs from:"))),n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(R.E,{component:R.Y.p},"On-premise (including disconnected environments)"))),n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(R.E,{component:R.Y.p},"Any major public cloud, such as:"))),n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(T.K,null,["Microsoft Azure Kubernetes Service (AKS)","Google Cloud Platform (GCP)","Amazon Web Services (AWS)","IBM Cloud Platform"].map((e=>n().createElement(O.L,{"data-testid":"major-public-cloud-list-item"},e)))))),n().createElement(I.a,{className:"drawer-panel-content__learn-more"},n().createElement(P.default,{"data-testid":"learn-more-about-redhat-openshift-ai-drawer-panel-content-link",href:"https://catalog.redhat.com/software/container-stacks/detail/63b85b573112fe5a95ee9a3a"},"Learn more about Red Hat OpenShift AI"))),Z=n().createElement(z,{...H,trialButtonLink:"https://www.redhat.com/en/technologies/cloud-computing/openshift/openshift-ai/trial"}),X=n().createElement(y.B,{hasGutter:!0,className:"drawer-panel-content-body"},n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(R.E,{component:R.Y.p},"Speed up the delivery of your applications with advanced continuous integration (CI) workflows and automation."),n().createElement(R.E,{component:R.Y.p},"Built on the open source Tekton framework, Red Hat OpenShift Pipelines provides a continuous integration and continuous deployment (CI/CD) experience through tight integration with OpenShift and Red Hat developer tools."))),n().createElement(I.a,null,n().createElement(i.h,{headingLevel:"h3","data-testid":"drawer-panel-content-benefits-title"},"Benefits")),n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(T.K,{isPlain:!0},n().createElement(O.L,null,n().createElement("b",null,"React quickly with the market:")," Continuous integration / continuous deployment (CI/CD) allows you to deliver new products and features faster."),n().createElement(O.L,null,n().createElement("b",null,"Automate application delivery:")," Create pipelines of activity from simple, repeatable steps."),n().createElement(O.L,null,n().createElement("b",null,"Ensure security:")," Kubernetes role-based access control (RBAC) and security model ensures security consistently across pipelines and workloads."),n().createElement(O.L,null,n().createElement("b",null,"Adapt to your customers needs:")," Youll have full control of your application lifecycle to support your exact requirements.")))),n().createElement(I.a,null,n().createElement(i.h,{headingLevel:"h3","data-testid":"drawer-panel-content-platforms-title"},"Platforms")),n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(R.E,{component:R.Y.p},"Deploy your applications to multiple platforms, including:"),n().createElement(T.K,null,["Kubernetes","Serverless","Virtual machines"].map((e=>n().createElement(O.L,{"data-testid":"platforms-list-item"},e)))))),n().createElement(I.a,{className:"drawer-panel-content__learn-more"},n().createElement(P.default,{"data-testid":"learn-more-about-red-hat-openshift-pipelines-drawer-panel-content-link",href:"https://catalog.redhat.com/software/container-stacks/detail/5ec54a4628834587a6b85ca5"},"Learn more about Red Hat OpenShift Pipelines"))),J="Red Hat OpenShift Pipelines",ee=n().createElement(V.x,{hasGutter:!0},n().createElement(q.E,{span:2},n().createElement("img",{src:k,alt:`${J} logo`,className:"drawer-panel-content__logo","data-testid":`${J}-drawer-panel-content__logo`})),n().createElement(q.E,{span:10},n().createElement(i.h,{headingLevel:"h2","data-testid":"drawer-panel-content__title"},J),n().createElement(R.E,{component:R.Y.small},"by Red Hat"))),te=n().createElement(y.B,{hasGutter:!0,className:"drawer-panel-content-body"},n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(R.E,{component:R.Y.p},"Connect, manage, and observe microservices-based applications in a uniform way."),n().createElement(R.E,{component:R.Y.p},"Red Hat OpenShift Service Mesh is based on the open source"," ",n().createElement(R.E,{component:R.Y.a,href:"https://www.redhat.com/en/topics/microservices/what-is-istio"},"Istio")," ","project and is pre-validated and fully supported to work on Red Hat OpenShift. It can be installed with the"," ",n().createElement(R.E,{component:R.Y.a,href:"https://github.com/kiali/kiali-operator"},"Kiali")," ","dashboard for managing service mesh, while integrating with"," ",n().createElement(R.E,{component:R.Y.a,href:"https://www.redhat.com/en/technologies/cloud-computing/openshift/observability"},"Red Hat OpenShift Observability")," ","for managing logging, metrics, and distributed tracing."))),n().createElement(I.a,null,n().createElement(i.h,{headingLevel:"h3","data-testid":"drawer-panel-content-benefits-title"},"Benefits")),n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(T.K,{isPlain:!0},n().createElement(O.L,null,n().createElement("b",null,"Identify and diagnose problems easier:")," Red Hat OpenShift Service Mesh adds tracing and visualization so you have a greater understanding of what is happening in and across applications as they are running, from start to finish."),n().createElement(O.L,null,n().createElement("b",null,"Implement secure zero-trust application networks:")," Secure your application network using Red Hat OpenShift Service Meshs tools, including automated identity and certificate management, end-to-end mTLS encryption, and fine-grain application specific network policies."),n().createElement(O.L,null,n().createElement("b",null,"Focus on business value:")," Give developers time back to delivering business value and writing application code."),n().createElement(O.L,null,n().createElement("b",null,"Enable traffic management capabilities:")," Red Hat OpenShift Service Mesh provides a control plane and infrastructure that transparently enables traffic management capabilities, without requiring developers to make changes to their application code. Traffic management policies are language agnostic, making it easy to develop and run distributed architectures.")))),n().createElement(I.a,null,n().createElement(i.h,{headingLevel:"h3"},"Use cases:")),n().createElement(I.a,null,n().createElement(A.n,null,n().createElement(R.E,{component:R.Y.p},"Deploy your applications to multiple platforms, including:"),n().createElement(T.K,null,["Canary releases","Access control","End-to-end mTLS encryption","A/B testing","Service-to-service authentication","Failure recovery"].map((e=>n().createElement(O.L,{"data-testid":"use-cases-list-item"},e)))))),n().createElement(I.a,{className:"drawer-panel-content__learn-more"},n().createElement(P.default,{"data-testid":"learn-more-about-red-hat-openshift-service-mesh-drawer-panel-content-link",href:"https://catalog.redhat.com/software/container-stacks/detail/5ec53e8c110f56bd24f2ddc4"},"Learn more about Red Hat OpenShift Service Mesh"))),ae="Red Hat OpenShift Service Mesh",le={gitops:{head:Y,body:W},pipelines:{head:ee,body:X},serviceMesh:{head:n().createElement(V.x,{hasGutter:!0},n().createElement(q.E,{span:2},n().createElement("img",{src:F,alt:`${ae} logo`,className:"drawer-panel-content__logo","data-testid":`${ae}-drawer-panel-content__logo`})),n().createElement(q.E,{span:10},n().createElement(i.h,{headingLevel:"h2","data-testid":"drawer-panel-content__title"},ae),n().createElement(R.E,{component:R.Y.small},"by Red Hat"))),body:te},advancedClusterSecurity:{head:B,body:L},OpenshiftAi:{head:Z,body:Q}};var ne=a(60915),re=a(66312),ie=a(30666),se=a(93973),oe=a(33612),ue=a(6229),de=a(983),ce=a(72972),me=a(72583),pe=a(2e4);const fe=({title:e,description:t,logo:a,labelText:l,drawerPanelContent:r,openLearnMore:s,isSelected:o,dataTestId:u})=>n().createElement(ne.Z,{className:"product-overview-card "+(o?"pf-m-selectable-raised pf-m-selected-raised":""),"data-testid":"product-overview-card"},n().createElement(re.a,null,n().createElement(ie.B,{hasGutter:!0,style:{width:"100%"}},n().createElement(se.o,null,n().createElement("img",{src:a,alt:`${e} logo`,className:"product-overview-card__logo","data-testid":"product-overview-card__logo"})),n().createElement(se.o,{isFilled:!0}),n().createElement(se.o,null,l?n().createElement(oe.J,{"data-testtag":"label",color:"blue","data-testid":"label-text"},l):null))),n().createElement(ue.Z,null,n().createElement(i.h,{headingLevel:"h3"},e)),n().createElement(de.b,null,t),n().createElement(ce.w,null,n().createElement(me.$n,{className:"product-overview-card__learn-more-button",onClick:()=>s(e,r),variant:"link",icon:n().createElement(pe.fw,{"data-testid":"open-right-drawer-icon"}),iconPosition:"end","data-testid":`product-overview-card__learn-more-button-${u}`},"Learn more"))),Ee="Featured products",ge=[{...j,description:"Protect your containerized Kubernetes workloads in all major clouds and hybrid platforms.",labelText:"60-day trial",drawerPanelContent:le.advancedClusterSecurity},{...H,description:"Create and deliver generative and predictive AI models at scale across on-premise and public cloud environments.",labelText:"60-day trial",drawerPanelContent:le.OpenshiftAi}],ve=({openLearnMore:e,selectedCardTitle:t})=>n().createElement("div",{className:"featured-products-cards"},n().createElement(i.h,{size:"xl",headingLevel:"h2",className:"pf-v5-u-mt-lg"},Ee),n().createElement(s.s,{className:"pf-v5-u-mb-lg"},ge.map((a=>n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"product-overview-card-flex-item"},n().createElement(fe,{...a,openLearnMore:e,isSelected:a.title===t,dataTestId:Ee}))))));var he=a(47482),be=a(32034),Se=a(78755),_e=a(1319),Ce=a(92644),ye=a(97515);const Ie=e=>{const{height:t,width:a,className:l}=e;return n().createElement("svg",{className:l,height:t||".9em",width:a,"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 145","aria-label":"Red Hat logo"},n().createElement("defs",null,n().createElement("style",null)),n().createElement("title",null,"RedHat-Logo-Hat-Color"),n().createElement("path",{d:"M157.77,62.61a14,14,0,0,1,.31,3.42c0,14.88-18.1,17.46-30.61,17.46C78.83,83.49,42.53,53.26,42.53,44a6.43,6.43,0,0,1,.22-1.94l-3.66,9.06a18.45,18.45,0,0,0-1.51,7.33c0,18.11,41,45.48,87.74,45.48,20.69,0,36.43-7.76,36.43-21.77,0-1.08,0-1.94-1.73-10.13Z"}),n().createElement("path",{fill:"#e00",className:"cls-1",d:"M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"}))},Ae="/create/rosa/getstarted",Re="/overview/rosa",Te="/create/osd",Oe="/create",Pe="/register",De=e=>n().createElement(u.Link,{...e,"data-testid":"create-cluster",to:Ae}),Le=e=>n().createElement(u.Link,{...e,"data-testid":"create-cluster",to:Te}),Ne=e=>n().createElement(u.Link,{...e,"data-testid":"create-cluster",to:Oe}),we=()=>n().createElement(P.default,{noTarget:!0,noIcon:!0,href:"/openshift/sandbox"},"View details"),Me=function(e){const{offeringType:t}=e;let a,r,p,f,E,g,v="Managed service";const h=(0,l.useCallback)((e=>n().createElement(u.Link,{to:Pe},"Register cluster")),[]),b=(0,l.useCallback)((e=>n().createElement(u.Link,{to:Re},"View details")),[]);switch(t){case"AWS":a="Red Hat OpenShift Service on AWS (ROSA)",r=[{descriptionListTerm:"Runs on",descriptionListDescription:"Amazon Web Services"},{descriptionListTerm:"Purchase through",descriptionListDescription:"Amazon Web Services"},{descriptionListTerm:"Billing type",descriptionListDescription:"Flexible hourly"}],E=n().createElement(d.default,{isButton:!0,variant:"secondary",to:Ae,component:De},"Create cluster"),f=n().createElement(d.default,{isButton:!0,variant:me.Ak.link,to:Re,component:b}),g=n().createElement(Ce.default,{className:"offering-logo"});break;case"Azure":a="Azure Red Hat OpenShift (ARO)",r=[{descriptionListTerm:"Runs on",descriptionListDescription:"Microsoft Azure"},{descriptionListTerm:"Purchase through",descriptionListDescription:"Microsoft"},{descriptionListTerm:"Billing type",descriptionListDescription:"Flexible hourly"}],f=n().createElement(P.default,{href:c.default.AZURE_OPENSHIFT_GET_STARTED},"Learn more on Azure"),g=n().createElement("img",{className:"offering-logo",src:ye,alt:"Microsoft Azure logo"});break;case"RHOSD":a="Red Hat OpenShift Dedicated",r=[{descriptionListTerm:"Runs on",descriptionListDescription:"AWS or Google Cloud"},{descriptionListTerm:"Purchase through",descriptionListDescription:"Red Hat"},{descriptionListTerm:"Billing type",descriptionListDescription:"Flexible or fixed"}],E=n().createElement(d.default,{isButton:!0,variant:"secondary",to:Te,component:Le},"Create cluster"),f=n().createElement(P.default,{href:c.default.OPENSHIFT_DEDICATED_LEARN_MORE},"Learn more"),g=n().createElement(Ie,{className:"offering-logo"});break;case"RHOCP":a="Red Hat OpenShift Container Platform",v="Self-managed service",r=[{descriptionListTerm:"Runs on",descriptionListDescription:"Supported infrastructures"},{descriptionListTerm:"Purchase through",descriptionListDescription:"Red Hat"},{descriptionListTerm:"Billing type",descriptionListDescription:"Annual subscription"}],E=n().createElement(d.default,{isButton:!0,variant:"secondary",to:Oe,component:Ne},"Create cluster"),f=n().createElement(d.default,{variant:me.Ak.link,component:h,to:Pe},"Register cluster"),g=n().createElement("img",{className:"offering-logo",src:m,alt:"OpenShift product logo"});break;case"RHOIBM":a="Red Hat OpenShift on IBM Cloud",r=[{descriptionListTerm:"Runs on",descriptionListDescription:"IBM Cloud"},{descriptionListTerm:"Purchase through",descriptionListDescription:"IBM"},{descriptionListTerm:"Billing type",descriptionListDescription:"Flexible hourly"}],f=n().createElement(P.default,{href:"https://cloud.ibm.com/kubernetes/catalog/create?platformType=openshift"},"Learn more on IBM"),g=n().createElement("img",{className:"offering-logo",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCI+PGRlZnM+PGZpbHRlciBpZD0iQSIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSI3OS4zIiB5PSI4Ni4yIiB3aWR0aD0iMTg4LjEiIGhlaWdodD0iMTY2LjIiPjxmZUNvbG9yTWF0cml4IHZhbHVlcz0iLTEgMCAwIDAgMSAwIC0xIDAgMCAxIDAgMCAtMSAwIDEgMCAwIDAgMSAwIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiLz48L2ZpbHRlcj48L2RlZnM+PG1hc2sgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iNzkuMyIgeT0iODYuMiIgd2lkdGg9IjE4OC4xIiBoZWlnaHQ9IjE2Ni4yIiBpZD0iQiI+PGcgZmlsdGVyPSJ1cmwoI0EpIj48cGF0aCBkPSJNMTA0LjQgMTUyLjVjLS42IDAtMS4yLS4yLTEuOC0uNWwtMTYuOC05LjdjLTEuNi0uOC0yLjMtMi43LTEuNy00LjQuNy0xLjggMi43LTIuOCA0LjYtMi4xbC42LjMgMTYuOCA5LjdjMS43LjkgMi40IDMuMSAxLjUgNC44LS42IDEuMi0xLjggMS45LTMuMiAxLjl6bTI5LjEtMjljLTEuMyAwLTIuNC0uNy0zLjEtMS44bC05LjctMTYuOGMtLjktMS41LS42LTMuNS43LTQuNyAxLjUtMS4zIDMuNy0xLjEgNSAuNC4xLjIuMy4zLjQuNWw5LjcgMTYuOGMxIDEuNi42IDMuNy0uOSA0LjktLjcuNS0xLjQuNy0yLjEuN3ptMzYtMTQuNFY5MGMwLTIgMS40LTMuNiAzLjQtMy44IDItLjEgMy42IDEuNCAzLjcgMy40djE5LjhjMCAyLTEuNiAzLjYtMy42IDMuNmgtLjJjLTEuOC0uMy0zLjMtMi0zLjMtMy45em00My4yIDE0LjRjLS43IDAtMS40LS4yLTItLjYtMS41LTEuMS0xLjktMy4zLS45LTQuOWw5LjctMTYuOGMxLTEuNyAzLjItMi4zIDQuOS0xLjMuMi4xLjQuMi41LjQgMS4zIDEuMiAxLjYgMy4yLjcgNC43bC05LjcgMTYuOGMtLjcgMS0xLjkgMS43LTMuMiAxLjd6bTI5IDI5Yy0xLjMgMC0yLjUtLjctMy4yLTEuOS0uOC0xLjgtLjItMy45IDEuNS00LjhsMTYuNi05LjZjMS41LS45IDMuNC0uNiA0LjYuNyAxLjMgMS41IDEuMSAzLjctLjQgNS0uMi4xLS4zLjMtLjUuNGwtMTcgOS44Yy0uMy4yLS45LjQtMS42LjR6Ii8+PGxpbmVhckdyYWRpZW50IGlkPSJDIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjE3OS41NCIgeTE9IjE5Ny42MjMiIHgyPSIxMzYuNTc4IiB5Mj0iMTM2LjI2OCI+PHN0b3Agb2Zmc2V0PSIuMiIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIuMjg3IiBzdG9wLW9wYWNpdHk9Ii4wMyIvPjxzdG9wIG9mZnNldD0iLjUwMSIgc3RvcC1vcGFjaXR5PSIuMiIvPjxzdG9wIG9mZnNldD0iLjc5MyIgc3RvcC1vcGFjaXR5PSIuNzQyIi8+PHN0b3Agb2Zmc2V0PSIxIi8+PC9saW5lYXJHcmFkaWVudD48cGF0aCBkPSJNMTI4IDIzMy43Yy0yNC45LTI0LjktMjQuOS02NS4zIDAtOTAuMnM2NS4zLTI0LjkgOTAuMiAwYTY5LjEgNjkuMSAwIDAgMSA1LjEgNS43YzEuMSAxLjQgMi4xIDIuOCAzLjEgNC4zbC01LjkgMy45Yy0uOS0xLjMtMS44LTIuNi0yLjgtMy44LTEuNC0xLjgtMi45LTMuNS00LjUtNS4xLTIyLjEtMjIuMS01OC0yMi4xLTgwLjIgMC0yMi4xIDIyLjEtMjIuMSA1OCAwIDgwLjJ6IiBmaWxsPSJ1cmwoI0MpIi8+PHBhdGggZD0iTTIxOC42IDI1Mi40aC05OC4yYy0yMi44LS4yLTQxLjEtMTguNy00MC45LTQxLjVsNy4xLjFjLS4xIDE4LjggMTUgMzQuMiAzMy44IDM0LjRoOTguMWMyMyAwIDQxLjYtMTguNiA0MS43LTQxLjYgMC0xMC4yLTMuOC0yMC4xLTEwLjYtMjcuOGw1LjMtNC43YzE3LjkgMjAuMSAxNi4yIDUwLjktMy44IDY4LjgtOSA3LjktMjAuNSAxMi4zLTMyLjUgMTIuM3oiLz48bGluZWFyR3JhZGllbnQgaWQ9IkQiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iNzUuMjU0IiB5MT0iMjAzLjYxOCIgeDI9IjExOC40OCIgeTI9IjE3OC42NjEiPjxzdG9wIG9mZnNldD0iLjA4Ii8+PHN0b3Agb2Zmc2V0PSIuNzUzIiBzdG9wLW9wYWNpdHk9Ii4wNyIvPjxzdG9wIG9mZnNldD0iLjg3NSIgc3RvcC1vcGFjaXR5PSIwIi8+PC9saW5lYXJHcmFkaWVudD48cGF0aCBkPSJNODYuNiAyMTAuOWwtNy4xLS4xYy4xLTIwIDE0LjYtMzcgMzQuMy00MC4zbDEuMiA3Yy0xNi4zIDIuOC0yOC4zIDE2LjktMjguNCAzMy40eiIgZmlsbD0idXJsKCNEKSIvPjxsaW5lYXJHcmFkaWVudCBpZD0iRSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxNzQuMDU5IiB5MT0iMjA4LjMyNyIgeDI9IjIzOS44MSIgeTI9IjE1My4xNTUiPjxzdG9wIG9mZnNldD0iLjEzOCIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIuMzIiIHN0b3Atb3BhY2l0eT0iLjA3Ii8+PHN0b3Agb2Zmc2V0PSIuODQ3IiBzdG9wLW9wYWNpdHk9Ii43NjQiLz48c3RvcCBvZmZzZXQ9Ii45NDciLz48L2xpbmVhckdyYWRpZW50PjxwYXRoIGQ9Ik0xNzYuOSAyMDMuM2wtNy4xLS4xYy4yLTI2LjkgMjIuMi00OC42IDQ5LjEtNDguNCAxMy43LjEgMjYuOCA2IDM2IDE2LjJsLTUuMyA0LjdjLTE1LjMtMTcuMS00MS43LTE4LjYtNTguOC0zLjMtOC43IDgtMTMuOCAxOS4yLTEzLjkgMzAuOXoiIGZpbGw9InVybCgjRSkiLz48L2c+PC9tYXNrPjxsaW5lYXJHcmFkaWVudCBpZD0iRiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIyMzQuMzY3IiB5MT0iNjUuNjEzIiB4Mj0iMTIwLjE2NCIgeTI9IjI1OS40OTEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzUwZmZkMiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzAwNjRmZiIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdGggZD0iTTc5LjMgODYuMmgxODguMXYxNjYuMkg3OS4zeiIgbWFzaz0idXJsKCNCKSIgdHJhbnNmb3JtPSJtYXRyaXgoLjM0MDI0NSAwIDAgLjMyMDY4NiAtMjYuOTgxMzkzIC0yMi4yOTIwNykiIGZpbGw9InVybCgjRikiLz48L3N2Zz4=",alt:"IBM logo"});break;case"DEVSNBX":a="Developer Sandbox",p="Instant free access to your own minimal, preconfigured environment for development and testing.",f=n().createElement(me.$n,{variant:me.Ak.link,component:we},"View details"),g=n().createElement(Ie,{className:"offering-logo"})}return n().createElement(ne.Z,{className:"offering-card"},n().createElement(re.a,null,n().createElement(ie.B,{hasGutter:!0,style:{width:"100%"}},n().createElement(se.o,null,g),n().createElement(se.o,{isFilled:!0}),n().createElement(se.o,null,n().createElement(oe.J,{"data-testtag":"label",color:"blue"},v)))),n().createElement(de.b,{className:"card-title"},n().createElement(i.h,{headingLevel:"h2"},a)),n().createElement(de.b,{className:"pf-v5-u-mt-md"},n().createElement(A.n,null,p&&n().createElement(R.E,null,p),(null==r?void 0:r.length)&&n().createElement(he.B,{isHorizontal:!0,isCompact:!0,isAutoFit:!0},n().createElement(be.W,null,r.map((({descriptionListTerm:e,descriptionListDescription:t})=>n().createElement(n().Fragment,{key:e},n().createElement(Se.X,null,n().createElement(R.E,{component:"small"},e)),n().createElement(_e.d,null,n().createElement(R.E,{component:"small"},t))))))))),n().createElement(ce.w,null,n().createElement(s.s,null,E&&n().createElement(o.Z,null,E),f&&n().createElement(o.Z,null,f))))};var ke=a(88075);const Fe=({icon:e,altText:t,learnMoreLink:a,title:l,description:r,dataTestId:s})=>n().createElement(ke.A,null,n().createElement(ie.B,{hasGutter:!0,"data-testid":s},n().createElement(se.o,null,e?n().createElement("img",{src:e,alt:t,className:"overview-product-banner-icon"}):null),n().createElement(se.o,null,n().createElement(i.h,{headingLevel:"h1"},l),n().createElement(A.n,null,r," ",a?n().createElement(P.default,{href:a},"Learn more"):null)))),xe=[{...x,description:"Integrate git repositories, continuous integration/continuous delivery (CI/CD) tools, and Kubernetes.",labelText:"Free",drawerPanelContent:le.gitops},{...G,description:"Automate your application delivery using a continuous integration and continuous deployment (CI/CD) framework.",labelText:"Free",drawerPanelContent:le.pipelines},{...U,description:"Connect, manage, and observe microservices-based applications in a uniform way.",labelText:"Free",drawerPanelContent:le.serviceMesh}],Ge="Recommended operators",Ue=({openLearnMore:e,selectedCardTitle:t})=>n().createElement("div",{className:"recommended-operators-cards"},n().createElement(i.h,{size:"xl",headingLevel:"h2",className:"pf-v5-u-mt-lg"},Ge),n().createElement(s.s,{className:"pf-v5-u-mb-lg"},xe.map((a=>n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"product-overview-card-flex-item"},n().createElement(fe,{...a,openLearnMore:e,isSelected:a.title===t,dataTestId:Ge}))))),n().createElement(P.default,{href:"https://catalog.redhat.com/search?searchType=software&deployed_as=Operator"},"View all in Ecosystem Catalog")),je={title:"Get started with OpenShift",icon:m,altText:"OpenShift",learnMoreLink:c.default.WHAT_IS_OPENSHIFT,description:n().createElement(n().Fragment,null,"Focus on work that matters with the industry's leading hybrid cloud application platform powered by Kubernetes.",n().createElement("br",null),"Develop, modernize, deploy, run, and manage your applications faster and easier."),dataTestId:"OverviewHeader"},He=function(){const e="/create",t=(0,l.useCallback)((t=>n().createElement(u.Link,{...t,"data-testid":"create-cluster",to:e})),[]),[a,c]=(0,l.useState)(!1),[m,f]=(0,l.useState)(),[E,g]=(0,l.useState)(""),v=(e,t)=>{f({title:e,content:t}),c(!0),g(e)};return n().createElement(C,{title:null==m?void 0:m.title,content:null==m?void 0:m.content,isOpen:a,onClose:()=>{f(void 0),c(!1),g("")}},n().createElement(p.AppPage,{title:"Overview | Red Hat OpenShift Cluster Manager"},n().createElement(Fe,{...je}),n().createElement(r.d8,null,n().createElement(i.h,{size:"xl",headingLevel:"h2"},"Featured OpenShift cluster types"),n().createElement(s.s,{className:"pf-v5-u-mb-lg"},n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"offering-card_RHOSD"},n().createElement(Me,{offeringType:"RHOSD"})),n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"offering-card_AWS"},n().createElement(Me,{offeringType:"AWS"})),n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"offering-card_Azure"},n().createElement(Me,{offeringType:"Azure"})),n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"offering-card_RHOCP"},n().createElement(Me,{offeringType:"RHOCP"})),n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"offering-card_RHOIBM"},n().createElement(Me,{offeringType:"RHOIBM"})),n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"offering-card_DEVSNBX"},n().createElement(Me,{offeringType:"DEVSNBX"}))),n().createElement(d.default,{to:e,variant:"link","data-testid":"create-cluster",component:t},"View all OpenShift cluster types"),n().createElement(ve,{openLearnMore:v,selectedCardTitle:E}),n().createElement(Ue,{openLearnMore:v,selectedCardTitle:E}))))}},62077:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useOCPLatestVersion:()=>m,useOCPLatestVersionInChannel:()=>c,useOCPLifeCycleStatusData:()=>d});var l=a(93345),n=a(99589),r=a.n(n),i=a(39357),s=a(42561),o=a.n(s),u=a(7028);const d=()=>{const[e,t]=l.useState();return l.useEffect((()=>{(async()=>{const e=await(0,i.A)();t(e.data.data)})()}),[]),[e,void 0!==e]},c=e=>{const[t,a]=l.useState(void 0);return l.useEffect((()=>{a(void 0),e&&(async()=>{var t,l,n;const i=await(d=e,o().get("/api/upgrades_info/v1/graph",{baseURL:u.default.configData.apiGateway,headers:{Accept:"application/json"},params:{channel:d,arch:"amd64"}})),s=null===(l=null===(t=null==i?void 0:i.data)||void 0===t?void 0:t.nodes)||void 0===l?void 0:l.sort((({version:e},{version:t})=>r().rcompare(e,t)));var d;s&&a(null===(n=s[0])||void 0===n?void 0:n.version)})()}),[e]),[t,void 0!==t]},m=(e="stable")=>{var t,a;const[l,n]=d();let r;if(n){const n=((null===(t=null==l?void 0:l[0])||void 0===t?void 0:t.versions)||[]).filter((e=>!e.name.includes("EUS"))),i=n.length>0?null===(a=n[0])||void 0===a?void 0:a.name:void 0;r=i&&`${e}-${i}`}return c(r)}},34168:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ProductBanner:()=>g});var l=a(93345),n=a.n(l),r=a(30666),i=a(93973),s=a(983),o=a(49089),u=a(90678),d=a(73113),c=a(6229),m=a(10423),p=a(22069),f=a(72972),E=a(88075);const g=e=>{const{icon:t,learnMoreLink:a,title:l,text:g,iconCardBodyClassName:v,breadcrumbs:h,dataTestId:b}=e;return n().createElement(E.A,null,h,n().createElement(r.B,{"data-testid":b},n().createElement(i.o,{className:"pf-v5-u-pr-md"},n().createElement(s.b,{className:v},t)),n().createElement(o.c,{orientation:{default:"vertical"}}),n().createElement(i.o,{className:"pf-v5-u-pl-md"},n().createElement(u.B,{hasGutter:!0},n().createElement(d.a,{isFilled:!0},n().createElement(c.Z,null,n().createElement(m.h,{headingLevel:"h1"},l))),n().createElement(d.a,{isFilled:!0},n().createElement(s.b,null,n().createElement(p.E,null,g))),n().createElement(d.a,null,n().createElement(f.w,null,a))))))}},7028:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var l=a(74353),n=a.n(l),r=a(97375),i=a.n(r),s=a(6279),o=a.n(s),u=a(83826),d=a.n(u),c=a(51513),m=a(62384);const p={};p.production=Promise.resolve().then(a.t.bind(a,59127,19)),p.staging=Promise.resolve().then(a.t.bind(a,74633,19)),p.integration=Promise.resolve().then(a.t.bind(a,75586,19)),p.default=p.staging;const f={configData:{},envOverride:void 0,fakeOSD:!1,multiRegion:!1,newClusterList:!1,loadConfig(e,t){var a;const l={...e,apiGateway:e.apiGateway.replace("$SELF_PATH$",window.location.host),...e.apiRegionalGatewayTemplate?{apiRegionalGatewayTemplate:e.apiRegionalGatewayTemplate.replace("$SELF_PATH$",window.location.host)}:{},insightsGateway:(null===(a=e.insightsGateway)||void 0===a?void 0:a.replace("$SELF_PATH$",window.location.host))||void 0},n=!!localStorage.getItem(c.RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY),r={restrictedEnv:n||(0,m.isRestrictedEnv)(t),restrictedEnvApi:n?l.apiGateway:(0,m.getRestrictedEnvApi)(t)};this.configData={...l,...r},window.ocmConfig=this},fetchConfig(e){const t=this;return new Promise((a=>{var l;(()=>{let e=!1;return window.location.search.substring(1).split("&").forEach((t=>{const[a,l]=t.split("=");"fake"===a&&"true"===l&&(e=!0)})),e})()&&(t.fakeOSD=!0),((()=>{let e=!1;return window.location.search.substring(1).split("&").forEach((t=>{const[a,l]=t.split("=");"multiregion"===a.toLowerCase()&&"true"===l&&(e=!0)})),e})()||localStorage.getItem(c.MULTIREGION_LOCALSTORAGE_KEY))&&(t.multiRegion=!0,localStorage.setItem(c.MULTIREGION_LOCALSTORAGE_KEY,"true")),((()=>{let e=!1;return window.location.search.substring(1).split("&").forEach((t=>{const[a,l]=t.split("=");"newclusterlist"===a.toLowerCase()&&"true"===l&&(e=!0)})),e})()||localStorage.getItem(c.NEW_CLUSTER_LIST_LOCALSTORAGE_KEY))&&(t.newClusterList=!0,localStorage.setItem(c.NEW_CLUSTER_LIST_LOCALSTORAGE_KEY,"true")),(()=>{let e=!1;return window.location.search.substring(1).split("&").forEach((t=>{const[a,l]=t.split("=");"restricted"===a.toLowerCase()&&"true"===l&&(e=!0)})),e})()&&localStorage.setItem(c.RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY,"true");const n=(()=>{let e;return window.location.search.substring(1).split("&").forEach((t=>{const[a,l]=t.split("=");"env"===a&&p[l]?e=l:"env"===a&&"mockserver"===l&&p.mockdata&&(e="mockdata")})),e})()||localStorage.getItem(c.ENV_OVERRIDE_LOCALSTORAGE_KEY);n&&p[n]?p[n].then((l=>{this.loadConfig(l,e),console.info(`Loaded override config: ${n}`),t.envOverride=n,localStorage.setItem(c.ENV_OVERRIDE_LOCALSTORAGE_KEY,n),a()})):null===(l=p.default)||void 0===l||l.then((t=>{this.loadConfig(t,e),console.info("Loaded default config: staging"),a()}))}))},dateConfig(){n().extend(d()),n().extend(o()),n().extend(i())}}},58787:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(94538);const i=e=>t=>n().createElement(e,{...t,track:(0,r.default)()})},94538:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a(20881),r=a(9296);const i=()=>{const{analytics:e}=(0,n.A)();return(0,l.useCallback)(((t,a)=>{if("string"==typeof t)e.track(t,"string"==typeof a?{type:a}:a);else{const l=(0,r.getTrackEvent)(t,a);e.track(l.event,l.properties)}}),[e])}},55909:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(75166),n=a(25514),r=a(72646);const i=(e,t,a)=>{const i=!!(null==a?void 0:a.find((e=>"capability.cluster.autoscale_clusters"===e.name))),s=(0,n.useGlobalState)((e=>(0,r.hasOrgLevelAutoscaleCapability)(e.userProfile.organization.details)||i));return e===l.normalizedProducts.ROSA||e===l.normalizedProducts.OSD&&(t===l.billingModels.MARKETPLACE||t===l.billingModels.MARKETPLACE_AWS||t===l.billingModels.MARKETPLACE_GCP||s)}},11243:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,featureGateSelector:()=>s,useFeatureGate:()=>i});var l=a(51513),n=a(36165);const r=(e,t)=>e&&e[t]||!1,i=e=>{const t=(0,n.useGlobalState)((e=>e.features));return!localStorage.getItem(l.RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY)&&r(t,e)},s=(e,t)=>r(e.features,t),o=i},15403:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(93345),n=a(88139);const r=e=>{const[t,a,{setValue:r,setTouched:i}]=(0,n.useField)(e);return l.useCallback(((e,t)=>{r(void 0!==t?t:e),setTimeout((()=>i(!0,!0)))}),[])}},74585:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(93345),n=a.n(l);const r=(e=!0)=>{n().useEffect((()=>(window.onbeforeunload=e?()=>{var e;const{activeElement:t}=document;return!(null==t?void 0:t.hasAttribute("download"))&&!(null===(e=null==t?void 0:t.dataset)||void 0===e?void 0:e.noNavPrompt)||null}:null,()=>{window.onbeforeunload=null})),[e])}},91167:(e,t,a)=>{"use strict";a.r(t),a.d(t,{usePreviousProps:()=>r});var l=a(93345),n=a.n(l);const r=e=>{const t=n().useRef();return n().useEffect((()=>{t.current=e})),t.current}},3438:(e,t,a)=>{"use strict";var l=a(72635),n=a(1696),r=a(33308);const i=new Intl.DateTimeFormat("default",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",year:"numeric"});l.Ay.use(n.r9).init({lng:"en",resources:{en:{translation:r}},supportedLngs:["en"],fallbackLng:"en",load:"languageOnly",detection:{caches:[]},defaultNS:"translation",nsSeparator:"~",keySeparator:!1,debug:!1,interpolation:{format:(e,t,a)=>"number"===t?new Intl.NumberFormat(a).format(e):e instanceof Date?i.format(e):e,escapeValue:!1},react:{useSuspense:!0,transSupportBasicHtmlNodes:!0},missingKeyHandler(e,t,a){const l=`Missing i18n key '${a}' in namespace '${t}' and language '${e}.'`;window.windowError=l,console.error(l)}})},16519:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useGetAccessProtection:()=>i});var l=a(25982),n=a(53082),r=a(36817);const i=e=>{const t=[r.K.FETCH_ACCESS_TRANSPARENCY,"access protection"];e.subscriptionId&&t.push(e.subscriptionId),e.clusterId&&t.push(e.clusterId),e.clusterId&&t.push(e.clusterId);const{isLoading:a,isPending:i,isFetched:s,refetch:o,data:u}=(0,l.I)({queryKey:t,enabled:!!e.subscriptionId||!!e.organizationId||!!e.clusterId,queryFn:()=>n.A.getAccessProtection(e)});return{isLoading:a,isPending:i,isFetched:s,refetch:o,enabled:null==u?void 0:u.data.enabled}}},13647:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useGetOrganizationalPendingRequests:()=>i});var l=a(25982),n=a(74314),r=a(36817);const i=(e,t,a)=>{var i;const s=[r.K.FETCH_ACCESS_TRANSPARENCY,"access request","pending",e];(null==a?void 0:a.page)&&s.push(`${a.page}`),(null==a?void 0:a.size)&&s.push(`${a.size}`);const o={page:null!==(i=null==a?void 0:a.page)&&void 0!==i?i:0,size:(null==a?void 0:a.size)||10,search:`organization_id='${e}' and status.state='Pending'`},{isLoading:u,isPending:d,isFetched:c,refetch:m,data:p}=(0,l.I)({queryKey:s,enabled:!!t&&!!e,queryFn:()=>n.A.getAccessRequests(o)});return{isLoading:u,isPending:d,isFetched:c,refetch:m,total:null==p?void 0:p.data.total,items:null==p?void 0:p.data.items}}},33365:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useAddGrant:()=>i});var l=a(82309),n=a(96678),r=a(16236);const i=(e,t)=>{const{data:a,isPending:i,isError:s,error:o,mutate:u,reset:d}=(0,l.n)({mutationKey:["addGrant"],mutationFn:async({roleId:a,arn:l})=>t?(0,r.getClusterServiceForRegion)(t).addGrant(e,a,l):r.default.addGrant(e,a,l)});return s?{data:a,isPending:i,isError:s,error:(0,n.formatErrorData)(i,s,o),mutate:u,reset:d}:{data:a,isPending:i,isError:s,error:o,mutate:u,reset:d}}},64671:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useDeleteGrant:()=>i});var l=a(82309),n=a(96678),r=a(16236);const i=(e,t)=>{const{data:a,isPending:i,isError:s,error:o,mutate:u,reset:d}=(0,l.n)({mutationKey:["deleteGrant"],mutationFn:async a=>t?(0,r.getClusterServiceForRegion)(t).deleteGrant(e,a):r.default.deleteGrant(e,a)});return s?{data:a,isPending:i,isError:s,error:(0,n.formatErrorData)(i,s,o),reset:d,mutate:u}:{data:a,isPending:i,isError:s,error:o,mutate:u,reset:d}}},32347:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchGrants:()=>s,useFetchGrants:()=>o});var l=a(25982),n=a(57146),r=a(96678),i=a(16236);const s=()=>{n.q.invalidateQueries({queryKey:["fetchGrants"]})},o=(e,t)=>{const{data:a,isLoading:n,isError:s,error:o,isFetching:u}=(0,l.I)({queryKey:["fetchGrants"],queryFn:async()=>{if(t){const a=(0,i.getClusterServiceForRegion)(t);return await a.getGrants(e)}return i.default.getGrants(e)}});if(s){const e=(0,r.formatErrorData)(n,s,o);return{data:null==a?void 0:a.data.items,isLoading:n,isError:s,error:e,isFetching:u}}return{data:null==a?void 0:a.data.items,isLoading:n,isError:s,error:o,isFetching:u}}},13551:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useFetchRoles:()=>s});var l=a(25982),n=a(96678),r=a(36817),i=a(16236);const s=e=>{var t,a;const{data:s,isLoading:o,isError:u,error:d}=(0,l.I)({queryKey:[r.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"fetchRoles"],queryFn:async()=>{if(e){const t=(0,i.getClusterServiceForRegion)(e);return await t.getRoles()}return i.default.getRoles()}});if(u){const e=(0,n.formatErrorData)(o,u,d);return{data:null===(t=null==s?void 0:s.data.items)||void 0===t?void 0:t.map((e=>({id:e.id,displayName:e.display_name||e.id,description:e.description}))),isLoading:o,isError:u,error:e}}return{data:null===(a=null==s?void 0:s.data.items)||void 0===a?void 0:a.map((e=>({id:e.id,displayName:e.display_name||e.id,description:e.description}))),isLoading:o,isError:u,error:d}}},38823:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useAddUser:()=>s});var l=a(82309),n=a(96678),r=a(73410),i=a(16236);const s=(e,t)=>{const{data:a,isPending:s,isError:o,error:u,mutate:d,isSuccess:c}=(0,l.n)({mutationKey:["addUser"],mutationFn:async({selectedGroup:a,userId:l})=>t?(0,i.getClusterServiceForRegion)(t).addClusterGroupUser(e,a,l):r.clusterService.addClusterGroupUser(e,a,l)});return o?{data:a,isPending:s,isError:o,error:(0,n.formatErrorData)(s,o,u),mutate:d,isSuccess:c}:{data:a,isPending:s,isError:o,error:u,mutate:d,isSuccess:c}}},9206:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useDeleteUser:()=>i});var l=a(82309),n=a(96678),r=a(16236);const i=(e,t)=>{const{data:a,isPending:i,isError:s,error:o,mutate:u}=(0,l.n)({mutationKey:["deleteUser"],mutationFn:async({groupID:a,userID:l})=>t?(0,r.getClusterServiceForRegion)(t).deleteClusterGroupUser(e,a,l):r.default.deleteClusterGroupUser(e,a,l)});return s?{data:a,isPending:i,isError:s,error:(0,n.formatErrorData)(i,s,o),mutate:u}:{data:a,isPending:i,isError:s,error:o,mutate:u}}},9638:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchUsers:()=>o,useFetchUsers:()=>u});var l=a(9704),n=a(25982),r=a(57146),i=a(96678),s=a(16236);const o=()=>{r.q.refetchQueries({queryKey:["fetchUsers"]})},u=(e,t)=>{const{data:a,isLoading:r,isError:o,error:u,isSuccess:d,isRefetching:c}=(0,n.I)({queryKey:["fetchUsers"],queryFn:async()=>t?(0,s.getClusterServiceForRegion)(t).getClusterGroupUsers(e).then((e=>{let t=[];t=(0,l.get)(e,"data.items",[]).map((e=>{const t=e;return t.users&&(t.users.items=(0,l.get)(t,"users.items",[]).filter((e=>"cluster-admin"!==e.id))),t}));const a=[];return t.forEach((e=>(0,l.get)(e,"users.items",[]).forEach((t=>a.push({...t,group:e.id}))))),a})):s.default.getClusterGroupUsers(e).then((e=>{let t=[];t=(0,l.get)(e,"data.items",[]).map((e=>{const t=e;return t.users&&(t.users.items=(0,l.get)(t,"users.items",[]).filter((e=>"cluster-admin"!==e.id))),t}));const a=[];return t.forEach((e=>(0,l.get)(e,"users.items",[]).forEach((t=>a.push({...t,group:e.id}))))),a}))});if(o){const t=(0,i.formatErrorData)(r,o,u);return{data:{users:a,clusterID:e},isLoading:r,isError:o,error:t,isSuccess:d,isRefetching:c}}return{data:{users:a,clusterID:e},isLoading:r,isError:o,error:u,isSuccess:d,isRefetching:c}}},81123:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useAddClusterAddOn:()=>o});var l=a(82309),n=a(57146),r=a(96678),i=a(2479),s=a(16236);const o=e=>{const{data:t,isError:a,error:o,isPending:u,mutate:d,mutateAsync:c,isSuccess:m}=(0,l.n)({mutationKey:["addClusterAddOn"],mutationFn:async({clusterID:t,addOnData:a})=>e?(0,s.getClusterServiceForRegion)(e).addClusterAddOn(t,a):s.default.addClusterAddOn(t,a),onSuccess:()=>{n.q.invalidateQueries({queryKey:["clusterAddOns"]}),n.q.invalidateQueries({queryKey:["addOns"]}),(0,i.getOrganizationAndQuota)()}});return a?{data:t,isPending:u,isError:a,error:(0,r.formatErrorData)(u,a,o).error,mutate:d,mutateAsync:c,isSuccess:m}:{data:t,isPending:u,isError:a,error:o,mutate:d,mutateAsync:c,isSuccess:m}}},9097:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useDeleteClusterAddOn:()=>s});var l=a(82309),n=a(57146),r=a(96678),i=a(16236);const s=e=>{const{data:t,mutate:a,mutateAsync:s,isPending:o,isError:u,error:d,isSuccess:c}=(0,l.n)({mutationKey:["deleteClusterAddOn"],mutationFn:async({clusterID:t,addOnID:a})=>e?(0,i.getClusterServiceForRegion)(e).deleteClusterAddOn(t,a):i.default.deleteClusterAddOn(t,a),onSuccess:()=>{n.q.invalidateQueries({queryKey:["clusterAddOns"]}),n.q.invalidateQueries({queryKey:["addOns"]})}});return u?{data:t,mutate:a,mutateAsync:s,isPending:o,isError:u,error:(0,r.formatErrorData)(o,u,d).error,isSuccess:c}:{data:t,mutate:a,mutateAsync:s,isPending:o,isError:u,error:d,isSuccess:c}}},29327:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchAddOns:()=>u,useFetchAddOns:()=>d});var l=a(9704),n=a(25982),r=a(57146),i=a(96678),s=a(36817),o=a(16236);const u=()=>{r.q.invalidateQueries({queryKey:["addOns"]})},d=(e,t)=>{const{data:a,isLoading:r,isError:u,error:d}=(0,n.I)({queryKey:[s.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"addOns"],queryFn:async()=>t?(0,o.getClusterServiceForRegion)(t).getEnabledAddOns(e).then((e=>{const t=(0,l.get)(e,"data.items",[]);return{items:t,resourceNames:t.map((e=>e.resource_name))}})):o.default.getEnabledAddOns(e).then((e=>{const t=(0,l.get)(e,"data.items",[]);return{items:t,resourceNames:t.map((e=>e.resource_name))}})),enabled:!!e});return u?{isError:u,data:void 0,error:(0,i.formatErrorData)(r,u,d).error,isLoading:r}:{data:a,isError:u,isLoading:r,error:d}}},98703:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchClusterAddOns:()=>u,useFetchClusterAddOns:()=>d});var l=a(9704),n=a(25982),r=a(57146),i=a(96678),s=a(36817),o=a(16236);const u=()=>{r.q.invalidateQueries({queryKey:["clusterAddOns"]})},d=(e,t)=>{const{data:a,isError:r,error:u,isLoading:d}=(0,n.I)({queryKey:[s.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterAddOns"],queryFn:async()=>t?(0,o.getClusterServiceForRegion)(t).getClusterAddOns(e).then((t=>{const a=(0,l.get)(t,"data.items",[]);return{clusterID:e,items:a}})):o.default.getClusterAddOns(e).then((t=>{const a=(0,l.get)(t,"data.items",[]);return{clusterID:e,items:a}})),enabled:!!e});return r?{data:void 0,isError:r,isLoading:d,error:(0,i.formatErrorData)(d,r,u).error}:{data:a,isLoading:d,isError:r,error:u}}},64407:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useUpdateClusterAddOn:()=>s});var l=a(82309),n=a(57146),r=a(96678),i=a(16236);const s=e=>{const{data:t,mutate:a,mutateAsync:s,isPending:o,isError:u,error:d,isSuccess:c}=(0,l.n)({mutationKey:["updateClusterAddOn"],mutationFn:async({clusterID:t,addOnID:a,addOnData:l})=>e?(0,i.getClusterServiceForRegion)(e).updateClusterAddOn(t,a,l):i.default.updateClusterAddOn(t,a,l),onSuccess:()=>{n.q.invalidateQueries({queryKey:["clusterAddOns"]}),n.q.invalidateQueries({queryKey:["addOns"]})}});return u?{data:t,error:(0,r.formatErrorData)(o,u,d).error,isPending:o,isError:u,mutate:a,mutateAsync:s,isSuccess:c}:{data:t,error:d,isError:u,isPending:o,mutate:a,mutateAsync:s,isSuccess:c}}},3098:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useDeleteSchedule:()=>s});var l=a(82309),n=a(96678),r=a(16236),i=a(98002);const s=(e,t,a)=>{const{data:s,isPending:o,isError:u,error:d,mutate:c,reset:m,isSuccess:p}=(0,l.n)({mutationKey:["deleteSchedule"],mutationFn:async l=>{const n=a?(0,r.getClusterServiceForRegion)(a):r.default,i=t?n.deleteControlPlaneUpgradeSchedule:n.deleteUpgradeSchedule;return await i(e,l)},onSuccess:()=>{(0,i.refetchSchedules)()}});return u?{data:s,isPending:o,isError:u,error:(0,n.formatErrorData)(o,u,d).error,mutate:c,reset:m,isSuccess:p}:{data:s,isPending:o,isError:u,error:d,mutate:c,reset:m,isSuccess:p}}},69565:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useEditSchedule:()=>s});var l=a(82309),n=a(96678),r=a(16236),i=a(98002);const s=(e,t,a)=>{const{data:s,isPending:o,isError:u,error:d,mutate:c,mutateAsync:m}=(0,l.n)({mutationKey:["editSchedule"],mutationFn:async({policyID:l,schedule:n})=>{if(a){const i=(0,r.getClusterServiceForRegion)(a);return t?i.patchControlPlaneUpgradeSchedule(e,l,n):i.patchUpgradeSchedule(e,l,n)}return t?r.default.patchControlPlaneUpgradeSchedule(e,l,n):r.default.patchUpgradeSchedule(e,l,n)},onSuccess:()=>{(0,i.refetchSchedules)()}});return u?{data:s,isPending:o,isError:u,error:(0,n.formatErrorData)(o,u,d).error,mutate:c,mutateAsync:m}:{data:s,isPending:o,isError:u,error:d,mutate:c,mutateAsync:m}}},98002:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchSchedules:()=>s,useGetSchedules:()=>o});var l=a(25982),n=a(57146),r=a(36817),i=a(16236);const s=()=>{n.q.invalidateQueries({queryKey:["getSchedules"]})},o=(e,t,a)=>{const{data:n,isLoading:s,isError:o,error:u}=(0,l.I)({queryKey:[r.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"getSchedules"],queryFn:async()=>{if(a){const l=(0,i.getClusterServiceForRegion)(a);return t?await l.getControlPlaneUpgradeSchedules(e):await l.getUpgradeSchedules(e).then((async e=>{const t=e.data.items||[],a=[];return t.forEach((e=>{e.cluster_id&&e.id&&a.push(l.getUpgradeScheduleState(e.cluster_id,e.id).then((t=>{e.state=t.data})))})),Promise.all(a).then((()=>(e.data.items=t,e)))}))}return t?i.default.getControlPlaneUpgradeSchedules(e):i.default.getUpgradeSchedules(e).then((async e=>{const t=e.data.items||[],a=[];return t.forEach((e=>{e.cluster_id&&e.id&&a.push(i.default.getUpgradeScheduleState(e.cluster_id,e.id).then((t=>{e.state=t.data})))})),Promise.all(a).then((()=>(e.data.items=t,e)))}))},enabled:!!e});return{data:null==n?void 0:n.data,isLoading:s,isError:o,error:u}}},74409:(e,t,a)=>{"use strict";a.r(t),a.d(t,{usePostClusterGateAgreement:()=>u,usePostClusterGateAgreementAcknowledgeModal:()=>o});var l=a(71468),n=a(82309),r=a(96678),i=a(33799),s=a(16236);const o=(e,t)=>{const a=(0,l.wA)();return(0,n.n)({mutationKey:["[pstClusterGateAgreement"],mutationFn:async l=>{if(t){const n=(0,s.getClusterServiceForRegion)(t),r=l.map((async t=>n.postClusterGateAgreement(e,t).then((()=>a((0,i.setClusterUpgradeGate)(t))))));return await Promise.all(r.map((e=>e.then((e=>({status:"fulfilled",value:e}))).catch((e=>({status:"rejected",reason:e}))))))}const n=l.map((async t=>s.default.postClusterGateAgreement(e,t).then((()=>a((0,i.setClusterUpgradeGate)(t))))));return await Promise.all(n.map((e=>e.then((e=>({status:"fulfilled",value:e}))).catch((e=>({status:"rejected",reason:e}))))))}})},u=(e,t)=>{const a=(0,l.wA)(),{data:o,isPending:u,isError:d,error:c,mutate:m,mutateAsync:p}=(0,n.n)({mutationKey:["postClusterGateAgreement"],mutationFn:async a=>t?(0,s.getClusterServiceForRegion)(t).postClusterGateAgreement(e,a):s.default.postClusterGateAgreement(e,a),onSuccess:e=>{e.data.id&&a((0,i.setClusterUpgradeGate)(e.data.id))},onError:e=>Promise.reject(e)});return d?{data:o,isPending:u,isError:d,error:(0,r.formatErrorData)(u,d,c).error,mutate:m,mutateAsync:p}:{data:o,isPending:u,isError:d,error:c,mutate:m,mutateAsync:p}}},49859:(e,t,a)=>{"use strict";a.r(t),a.d(t,{usePostSchedule:()=>s});var l=a(82309),n=a(96678),r=a(16236),i=a(98002);const s=(e,t,a)=>{const{data:s,isPending:o,isError:u,error:d,mutate:c}=(0,l.n)({mutationKey:["postSchedule"],mutationFn:async l=>{const n=a?(0,r.getClusterServiceForRegion)(a):(0,r.getClusterService)();return(t?n.postControlPlaneUpgradeSchedule:n.postUpgradeSchedule)(e,l)},onSuccess:()=>{(0,i.refetchSchedules)()}});return u?{data:s,isPending:o,isError:u,error:(0,n.formatErrorData)(o,u,d).error,mutate:c}:{data:s,isPending:o,isError:u,error:d,mutate:c}}},19735:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useReplaceSchedule:()=>s});var l=a(82309),n=a(96678),r=a(16236),i=a(98002);const s=(e,t,a)=>{const{data:s,isPending:o,isError:u,error:d,mutate:c}=(0,l.n)({mutationKey:["replaceSchedule"],mutationFn:async({oldScheduleID:l,newSchedule:n})=>{const i=a?(0,r.getClusterServiceForRegion)(a):r.default,s=t?i.deleteControlPlaneUpgradeSchedule:i.deleteUpgradeSchedule,o=t?i.postControlPlaneUpgradeSchedule:i.postUpgradeSchedule;return await s(e,l).then((()=>o(e,n)))},onSuccess:()=>{(0,i.refetchSchedules)()}});return u?{data:s,isPending:o,isError:u,error:(0,n.formatErrorData)(o,u,d).error,mutate:c}:{data:s,isPending:o,isError:u,error:d,mutate:c}}},8116:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useFetchClusterStatus:()=>o,useInvalidateFetchClusterStatus:()=>s});var l=a(25982),n=a(57146),r=a(36817),i=a(16236);const s=async()=>{await n.q.invalidateQueries({queryKey:["clusterStatus"]})},o=(e,t,a)=>{const{isLoading:n,data:s,isError:o,error:u}=(0,l.I)({queryKey:[r.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterStatus","clusterService",e],queryFn:async()=>{if(t){const a=(0,i.getClusterServiceForRegion)(t);return await a.getClusterStatus(e)}return await i.default.getClusterStatus(e)},retry:!1,refetchInterval:a?5e3:void 0,enabled:!!e});return{isLoading:n,data:null==s?void 0:s.data,isError:o,error:u}}},77910:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useFetchInflightChecks:()=>c,useFetchRerunInflightChecks:()=>m,useInvalidateFetchInflightChecks:()=>u,useInvalidateFetchRerunInflightChecks:()=>d,useMutateRerunInflightChecks:()=>p});var l=a(25982),n=a(82309),r=a(57146),i=a(36817),s=a(73410),o=a(16236);const u=async()=>{await r.q.invalidateQueries({queryKey:[i.K.FETCH_CLUSTER_STATUS_MONITOR_INFLIGHT_CHECKS]})},d=async()=>{await r.q.invalidateQueries({queryKey:["fetchRerunInflightChecks"]})},c=(e,t,a,n=i.K.FETCH_CLUSTER_STATUS_MONITOR_INFLIGHT_CHECKS)=>{const{isLoading:r,data:u}=(0,l.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,n,"inflightChecks","clusterService",e],queryFn:async()=>{if(t){const a=(0,o.getClusterServiceForRegion)(t);return await a.getInflightChecks(e)}return await s.clusterService.getInflightChecks(e)},retry:!1,refetchInterval:a?5e3:void 0,enabled:!!e});return{isLoading:r,checks:null==u?void 0:u.data}},m=(e,t,a)=>{const{isLoading:n,data:r}=(0,l.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"fetchRerunInflightChecks","clusterService",e],queryFn:()=>(async(e,t)=>{if(t){const a=(0,o.getClusterServiceForRegion)(t),l=null==e?void 0:e.map((e=>a.getTriggeredInflightCheckState(e)));return{data:{items:(await Promise.allSettled(l)).filter((e=>"rejected"!==e.status)).map((e=>{var t;return null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.data})),page:0,total:0}}}const a=null==e?void 0:e.map((e=>s.clusterService.getTriggeredInflightCheckState(e)));return{data:{items:(await Promise.allSettled(a)).filter((e=>"rejected"!==e.status)).map((e=>{var t;return null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.data})),page:0,total:0}}})(e,t),refetchInterval:a?5e3:void 0,enabled:e&&e.length>0});return{isLoading:n,data:r}},p=(e,t)=>{const{data:a,isPending:l,isError:r,isSuccess:i,mutate:u,mutateAsync:d}=(0,n.n)({mutationKey:["rerunInflightChecks","clusterService",e],mutationFn:()=>t?(0,o.getClusterServiceForRegion)(t).rerunInflightChecks(e):s.clusterService.rerunInflightChecks(e)});return{data:a,isPending:l,isError:r,isSuccess:i,mutate:u,mutateAsync:d}}},73848:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useAddNotificationContact:()=>i});var l=a(82309),n=a(96678),r=a(73410);const i=e=>{var t;const{data:a,isError:i,isPending:s,isSuccess:o,mutate:u,mutateAsync:d,error:c,status:m}=(0,l.n)({mutationKey:["addNotificationContact","accountService",e],mutationFn:async t=>await r.accountsService.addNotificationContact(e,t)}),p=(0,n.addNotificationErrorFormat)(s,i,c);return{data:Array.isArray(null==a?void 0:a.data)?null==a?void 0:a.data:[null==a?void 0:a.data],isError:i,isSuccess:o,isPending:s,status:m,mutate:u,mutateAsync:d,error:null===(t=null==p?void 0:p.error)||void 0===t?void 0:t.errorMessage}}},69236:(e,t,a)=>{"use strict";a.d(t,{C:()=>s,Q:()=>o});var l=a(25982),n=a(57146),r=a(36817),i=a(73410);const s=()=>{n.q.invalidateQueries({queryKey:["fetchNotificationContacts","accountService"]})},o=e=>{var t;const{data:a,isLoading:n,isError:s,refetch:o}=(0,l.I)({queryKey:[r.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"fetchNotificationContacts","accountService",e],queryFn:async()=>await i.accountsService.getNotificationContacts(e),enabled:!!e});return{notificationContacts:{contacts:null===(t=null==a?void 0:a.data.items)||void 0===t?void 0:t.map((e=>({userID:e.id,username:e.username,email:e.email,firstName:e.first_name,lastName:e.last_name}))),subscriptionID:e,fullfilled:!n,error:s,pending:n},refetch:o}}},47385:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchClusterAutoscalerData:()=>u,useFetchClusterAutoscaler:()=>d});var l=a(25982),n=a(57146),r=a(11611),i=a(96678),s=a(36817),o=a(16236);const u=e=>{n.q.invalidateQueries({queryKey:["clusterAutoscaler","clusterService",e]})},d=(e,t)=>{const{isLoading:a,data:n,isError:u,error:d,refetch:c,isStale:m,isRefetching:p}=(0,l.I)({queryKey:[s.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterAutoscaler"],queryFn:async()=>{if(t){const a=(0,o.getClusterServiceForRegion)(t),l=await a.getClusterAutoscaler(e);return{data:(0,r.getCompleteFormClusterAutoscaling)(l.data),hasAutoscaler:!0}}const a=await o.default.getClusterAutoscaler(e);return{data:(0,r.getCompleteFormClusterAutoscaling)(a.data),hasAutoscaler:!0}},retry:!1,enabled:!!e});return u?{isLoading:a,data:n,hasClusterAutoscaler:!1,isError:u,error:(0,i.formatErrorData)(a,u,d),isRefetching:p}:{isLoading:a,data:n,hasClusterAutoscaler:null==n?void 0:n.hasAutoscaler,isError:u,error:d,refetch:c,isStale:m,isRefetching:p}}},60216:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useFetchMachineTypes:()=>d});var l=a(9704),n=a(25982),r=a(96678),i=a(36817),s=a(16236);const o=e=>{const t={};return null==e||e.forEach((e=>{var a;const l=null===(a=e.cloud_provider)||void 0===a?void 0:a.id;l&&(t[l]?t[l].push(e):t[l]=[e])})),t},u=e=>{var t,a;return(0,l.keyBy)([...null!==(t=e.aws)&&void 0!==t?t:[],...null!==(a=e.gcp)&&void 0!==a?a:[]],"id")},d=e=>{const{isLoading:t,data:a,isError:l,error:d,refetch:c}=(0,n.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"machineTypes","clusterService"],queryFn:async()=>{if(e){const t=(0,s.getClusterServiceForRegion)(e),a=await t.getMachineTypes(),l=o(a.data.items);return{groupedByCloudProvider:l,typesByID:u(l)}}const t=await s.default.getMachineTypes(),a=o(t.data.items);return{groupedByCloudProvider:a,typesByID:u(a)}},retry:!1}),m=(0,r.formatErrorData)(t,l,d);return{isLoading:t,data:{types:null==a?void 0:a.groupedByCloudProvider,typesByID:null==a?void 0:a.typesByID},isError:l,error:m,refetch:c}}},23492:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useDeleteMachinePool:()=>i});var l=a(82309),n=a(96678),r=a(16236);const i=(e,t,a)=>{const{data:i,isPending:s,isError:o,isSuccess:u,mutate:d,mutateAsync:c,error:m}=(0,l.n)({mutationKey:["deleteMachinePool","clusterService"],mutationFn:async l=>{const n=a?(0,r.getClusterServiceForRegion)(a):(0,r.getClusterService)(),i=t?n.deleteNodePool:n.deleteMachinePool;return await i(e,l)}});return o?{data:i,isPending:!1,isError:o,isSuccess:!1,mutate:d,mutateAsync:c,error:(0,n.formatErrorData)(s,o,m)}:{data:i,isPending:s,isError:o,isSuccess:u,mutate:d,mutateAsync:c,error:m}}},81773:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchMachineOrNodePoolsQuery:()=>p,useFetchMachineOrNodePools:()=>m});var l=a(99589),n=a.n(l),r=a(25982),i=a(57146),s=a(3290),o=a(57109),u=a(96678),d=a(36817),c=a(16236);const m=(e,t,a,l)=>{var i;const{isLoading:m,data:p,isError:f,error:E,refetch:g,isRefetching:v}=((e,t,a,l)=>{const{isLoading:i,data:u,isError:m,error:p,refetch:f,isRefetching:E}=(0,r.I)({queryKey:[d.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"nodePoolWithUpgradePolicies","clusterService",e,t,l],queryFn:async()=>{var a,r;if(l){const r=(0,c.getClusterServiceForRegion)(l),i=await r.getNodePools(e),o=null===(a=i.data.items)||void 0===a?void 0:a.map((async a=>{var l,i;if(!(t&&a.version&&n().gt(n().coerce(t),n().coerce(a.version.id))&&(0,s.isControlPlaneValidForMachinePool)(a,t)))return a;try{if(a.id){const t=await r.getNodePoolUpgradePolicies(e,a.id);return{...a,upgradePolicies:t.data}}}catch(e){return{...a,upgradePolicies:{errorMessage:(null===(i=null===(l=e.response)||void 0===l?void 0:l.data)||void 0===i?void 0:i.reason)||e.message||"There was an error fetching upgrade policies for this machine pool.",items:[]}}}return null})),u=(await Promise.allSettled(o)).map((e=>e.value));return{...i,data:{...i.data,items:u}}}const i=await c.default.getNodePools(e),o=null===(r=i.data.items)||void 0===r?void 0:r.map((async a=>{var l,r;if(!(t&&a.version&&n().gt(n().coerce(t),n().coerce(a.version.id))&&(0,s.isControlPlaneValidForMachinePool)(a,t)))return a;try{if(a.id){const t=await c.default.getNodePoolUpgradePolicies(e,a.id);return{...a,upgradePolicies:t.data}}}catch(e){return{...a,upgradePolicies:{errorMessage:(null===(r=null===(l=e.response)||void 0===l?void 0:l.data)||void 0===r?void 0:r.reason)||e.message||"There was an error fetching upgrade policies for this machine pool.",items:[]}}}return null})),u=(await Promise.allSettled(o)).map((e=>e.value));return{...i,data:{...i.data,items:u}}},retry:!1,enabled:a});return{isLoading:i,data:{...u,data:null==u?void 0:u.data.items.map(o.normalizeNodePool)},isError:m,error:p,refetch:f,isRefetching:E}})(e,a,t,l),{isLoading:h,data:b,isError:S,error:_,refetch:C,isRefetching:y}=((e,t,a)=>{const{isLoading:l,data:n,isError:i,error:s,refetch:o,isRefetching:u}=(0,r.I)({queryKey:[d.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"machinePools","clusterService",e,t,a],queryFn:async()=>{if(a){const t=(0,c.getClusterServiceForRegion)(a);return await t.getMachinePools(e)}return await c.default.getMachinePools(e)},retry:!1,enabled:!t});return{isLoading:l,data:n,isError:i,error:s,refetch:o,isRefetching:u}})(e,t,l),I=(0,u.formatErrorData)(m,f,E),A=(0,u.formatErrorData)(h,S,_);return t?{isLoading:m,data:null==p?void 0:p.data,isError:f,error:I,refetch:g,isRefetching:v}:{isLoading:h,data:null===(i=null==b?void 0:b.data)||void 0===i?void 0:i.items,isError:S,error:A,refetch:C,isRefetching:y}},p=(e,t,a,l)=>{t?i.q.invalidateQueries({queryKey:["nodePoolWithUpgradePolicies","clusterService",e,a,l]}):i.q.invalidateQueries({queryKey:["machinePools","clusterService",e,t,l]})}},23196:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useEditClusterIngressMutation:()=>s});var l=a(82309),n=a(91916),r=a(96678),i=a(16236);const s=(e,t)=>{const{isPending:a,isSuccess:s,isError:o,error:u,mutate:d}=(0,l.n)({mutationKey:["editClusterIngress"],mutationFn:async a=>{if(t){const l=(0,i.getClusterServiceForRegion)(t);return(0,n.sendNetworkConfigRequests)(a.formData,a.currentData,e,l)}return(0,n.sendNetworkConfigRequests)(a.formData,a.currentData,e,i.default)}});return o?{isPending:a,isSuccess:s,isError:o,error:(0,r.formatErrorData)(a,o,u).error,mutate:d}:{isPending:a,isSuccess:s,isError:o,error:u,mutate:d}}},79466:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchGetClusterRouters:()=>o,useGetClusterRouters:()=>u});var l=a(25982),n=a(57146),r=a(96678),i=a(36817),s=a(16236);const o=()=>{n.q.invalidateQueries({queryKey:["clusterRouters"]})},u=(e,t,a)=>{const{data:n,isLoading:o,isError:u,error:d}=(0,l.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterRouters"],queryFn:async()=>a?(0,s.getClusterServiceForRegion)(a).getIngresses(e):s.default.getIngresses(e),enabled:t});if(u){const e=(0,r.formatErrorData)(o,u,d);return{data:null==n?void 0:n.data.items,isLoading:o,isError:u,error:e.error}}return{data:null==n?void 0:n.data.items,isLoading:o,isError:u,error:d}}},35777:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useEditCluster:()=>i});var l=a(82309),n=a(16236),r=a(96678);const i=(e,t)=>{const{data:a,isPending:i,isError:s,error:o,isSuccess:u,mutate:d}=(0,l.n)({mutationKey:["editCluster"],mutationFn:async a=>{if(t){const l=(0,n.getClusterServiceForRegion)(t);return await l.editCluster(e,a)}return await n.default.editCluster(e,a)}});return s?{data:a,isPending:i,isError:s,error:(0,r.formatErrorData)(i,s,o).error,mutate:d,isSuccess:u}:{data:a,isPending:i,isError:s,error:o,mutate:d,isSuccess:u}}},57434:(e,t,a)=>{"use strict";a.d(t,{HJ:()=>m,H_:()=>p,eA:()=>f});var l=a(93345),n=a(25408),r=a(25982),i=a(73410),s=a(59067),o=a(36817);const u=[s.SelfAccessReview.action.CREATE,s.SelfAccessReview.action.UPDATE,s.SelfAccessReview.action.GET,s.SelfAccessReview.action.LIST,s.SelfAccessReview.action.DELETE],d=(e,t)=>(e[t]=!1,e),c=async(e,t,a)=>(await i.authorizationsService.selfAccessReview({action:e,resource_type:t,subscription_id:a})).data.allowed,m=(e,t,a)=>{const{isLoading:r,data:i,isError:o,error:m,isFetching:p}=(0,n.E)({queries:[{queryKey:[t,"authorizationService","selfResourceReview",s.SelfAccessReview.action.UPDATE,s.SelfAccessReview.resource_type.SUBSCRIPTION],queryFn:async()=>c(s.SelfAccessReview.action.UPDATE,s.SelfAccessReview.resource_type.SUBSCRIPTION,e),enabled:a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"authorizationService","selfResourceReview",s.SelfAccessReview.action.UPDATE,s.SelfAccessReview.resource_type.CLUSTER_AUTOSCALER,e],queryFn:async()=>c(s.SelfAccessReview.action.UPDATE,s.SelfAccessReview.resource_type.CLUSTER_AUTOSCALER,e),enabled:a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"authorizationService","selfResourceReview",s.SelfAccessReview.action.CREATE,s.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,e],queryFn:async()=>c(s.SelfAccessReview.action.CREATE,s.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,e),enabled:a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"authorizationService","selfResourceReview",s.SelfAccessReview.action.GET,s.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,e],queryFn:async()=>c(s.SelfAccessReview.action.GET,s.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,e),enabled:a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"authorizationService","selfResourceReview",s.SelfAccessReview.action.GET,s.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,e],queryFn:async()=>c(s.SelfAccessReview.action.UPDATE,s.SelfAccessReview.resource_type.CLUSTER,e),enabled:a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"kubeletConfigPermissions",u,e],queryFn:async()=>{const t=u.reduce(d,{});for(const a of u)t[a]=await c(a,s.SelfAccessReview.resource_type.CLUSTER_KUBELET_CONFIG,e);return t},enabled:!!e&&a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"machinePoolPermissions",u,e],queryFn:async()=>{const t=u.reduce(d,{});for(const a of u)t[a]=await c(a,s.SelfAccessReview.resource_type.MACHINE_POOL,e);return t},enabled:!!e&&a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"idpPermissions",u,e],queryFn:async()=>{const t=u.reduce(d,{});for(const a of u)t[a]=await c(a,s.SelfAccessReview.resource_type.IDP,e);return t},enabled:!!e&&a!==s.SubscriptionCommonFields.status.DEPROVISIONED}],combine:(0,l.useCallback)((e=>{const[t,a,l,n,r,i,s,o]=e;return{isLoading:e.some((e=>e.isLoading)),isError:e.some((e=>e.isError)),error:e.map((e=>e.error)),isFetching:e.some((e=>e.isFetching)),data:{canEdit:t,canEditClusterAutoscaler:a,canEditOCMRoles:l,canViewOCMRoles:n,canUpdateClusterResource:r,kubeletConfigActions:i,machinePoolsActions:s,idpActions:o}}}),[])});return{isActionQueriesLoading:r,isError:o,isFetching:p,error:m,canEdit:!!(null==i?void 0:i.canEdit.data),canEditClusterAutoscaler:!!(null==i?void 0:i.canEditClusterAutoscaler.data),canEditOCMRoles:!!(null==i?void 0:i.canEditOCMRoles.data),canViewOCMRoles:!!(null==i?void 0:i.canViewOCMRoles.data),canUpdateClusterResource:!!(null==i?void 0:i.canUpdateClusterResource.data),kubeletConfigActions:null==i?void 0:i.kubeletConfigActions.data,machinePoolsActions:null==i?void 0:i.machinePoolsActions.data,idpActions:null==i?void 0:i.idpActions.data}},p=(e,t,a)=>{const{isLoading:l,data:n,isError:o,error:d,isFetching:c}=(0,r.I)({queryKey:[a,"authorizationService","canDeleteAccessReview",u,e],queryFn:async()=>await i.authorizationsService.selfAccessReview({action:s.SelfAccessReview.action.DELETE,resource_type:s.SelfAccessReview.resource_type.CLUSTER,cluster_id:e}),enabled:!!t&&t.subscription.status!==s.SubscriptionCommonFields.status.DEPROVISIONED&&(t.subscription.managed||t.isAROCluster)});return{isLoading:l,data:n,isError:o,error:d,isFetching:c}},f=(e,t)=>{const{isLoading:a,data:l,isError:n,error:i}=(0,r.I)({queryKey:[t,"authorizationService","selfResourceReview",s.SelfAccessReview.action.GET,s.SelfAccessReview.resource_type.CLUSTER_BREAK_GLASS_CREDENTIAL,e],queryFn:async()=>c(s.SelfAccessReview.action.GET,s.SelfAccessReview.resource_type.CLUSTER_BREAK_GLASS_CREDENTIAL,e),staleTime:o.K.STALE_TIME_60_SEC});return{isLoading:a,canUpdateBreakGlassCredentials:l,isError:n,error:i}}},41955:(e,t,a)=>{"use strict";a.r(t),a.d(t,{invalidateClusterDetailsQueries:()=>b,useFetchClusterDetails:()=>S});var l=a(1727),n=a(57146),r=a(25982),i=a(75166),s=a(73410);const o=[i.knownProducts.ROSA,i.knownProducts.ROSA_HyperShift],u=[i.knownProducts.OSD,i.knownProducts.OSDTRIAL];var d=a(96678),c=a(36817),m=a(57434),p=a(42561),f=a.n(p),E=a(83741),g=a(22902);var v=a(16236),h=a(59067);const b=()=>{n.q.invalidateQueries({queryKey:[c.K.FETCH_CLUSTER_DETAILS_QUERY_KEY]})},S=e=>{var t,a;const{isLoading:n,data:p,isError:b,error:S,isFetching:_}=((e,t)=>{const{isLoading:a,data:n,isError:d,error:c,isFetching:m}=(0,r.I)({queryKey:[t,"accountsService",e],queryFn:async()=>{var t,a,n,r,d,c;const m=await s.accountsService.getSubscription(e);m.data=(0,l.Pb)(m.data);const p=(null===(a=null===(t=null==m?void 0:m.data)||void 0===t?void 0:t.plan)||void 0===a?void 0:a.type)===i.knownProducts.ARO,f=o.includes((null===(r=null===(n=null==m?void 0:m.data)||void 0===n?void 0:n.plan)||void 0===r?void 0:r.type)||""),E=u.includes((null===(c=null===(d=null==m?void 0:m.data)||void 0===d?void 0:d.plan)||void 0===c?void 0:c.type)||"");return{subscription:m.data,isAROCluster:p,isROSACluster:f,isOSDCluster:E}}});return{isLoading:a,data:n,isError:d,error:c,isFetching:m}})(e,c.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{isActionQueriesLoading:C,isError:y,error:I,canEdit:A,canEditClusterAutoscaler:R,canEditOCMRoles:T,canViewOCMRoles:O,canUpdateClusterResource:P,kubeletConfigActions:D,machinePoolsActions:L,idpActions:N,isFetching:w}=(0,m.HJ)(e,c.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,null==p?void 0:p.subscription.status),{isLoading:M,data:k,isError:F,error:x,isFetching:G}=((e,t,a,l)=>{const{isLoading:n,data:i,isError:s,error:o,isFetching:u}=(0,r.I)({queryKey:[l,"clusterService",e,t],queryFn:async()=>{if(null==t?void 0:t.xcm_id){const a=(0,v.getClusterServiceForRegion)(null==t?void 0:t.xcm_id);return await a.getClusterDetails(e)}return await v.default.getClusterDetails(e)},retry:!1,enabled:!!t&&t.status!==h.SubscriptionCommonFields.status.DEPROVISIONED&&(t.managed||a)});return{isLoading:n,data:i,isError:s,error:o,isFetching:u}})(null==p?void 0:p.subscription.cluster_id,null==p?void 0:p.subscription,null==p?void 0:p.isAROCluster,c.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{isLoading:U,data:j}=((e,t,a)=>{const{isLoading:l,data:n}=(0,r.I)({queryKey:[c.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,a,"upgradeGates","clusterService",e,t],queryFn:async()=>{if(null==t?void 0:t.subscription.xcm_id){const a=(0,v.getClusterServiceForRegion)(null==t?void 0:t.subscription.xcm_id);return await a.getClusterGateAgreements(e)}return await s.clusterService.getClusterGateAgreements(e)},enabled:!!t&&t.subscription.status!==h.SubscriptionCommonFields.status.DEPROVISIONED&&(t.subscription.managed||t.isAROCluster)});return{isLoading:l,data:n}})(null==p?void 0:p.subscription.cluster_id,p,c.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{isLoading:H,data:V,isError:q,error:z,isFetching:B}=(0,m.H_)(null==p?void 0:p.subscription.cluster_id,p,c.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{isLoading:W,data:$,isFetching:Y}=((e,t,a)=>{const{isLoading:l,data:n,isFetching:i}=(0,r.I)({queryKey:[a,"limitedSupportReasons","clusterService",e,t],queryFn:async()=>{if(null==t?void 0:t.subscription.xcm_id){const a=(0,v.getClusterServiceForRegion)(null==t?void 0:t.subscription.xcm_id);return await a.getLimitedSupportReasons(e)}return await v.default.getLimitedSupportReasons(e)},enabled:!!t&&t.subscription.status!==h.SubscriptionCommonFields.status.DEPROVISIONED&&(t.subscription.managed||t.isAROCluster)});return{isLoading:l,data:n,isFetching:i}})(null==p?void 0:p.subscription.cluster_id,p,c.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{isLoading:K,data:Q,isFetching:Z}=((e,t,a)=>{const{isLoading:l,data:n,isError:i,isFetching:s}=(0,r.I)({queryKey:[a,"inflightChecks","clusterService",e,t],queryFn:async()=>{if(null==t?void 0:t.subscription.xcm_id){const a=(0,v.getClusterServiceForRegion)(null==t?void 0:t.subscription.xcm_id);return await a.getInflightChecks(e)}return await v.default.getInflightChecks(e)},enabled:!!t&&(t.isROSACluster||t.isOSDCluster)&&t.subscription.status!==h.SubscriptionCommonFields.status.DEPROVISIONED&&(t.subscription.managed||t.isAROCluster)});return{isLoading:l,data:n,isError:i,isFetching:s}})(null==p?void 0:p.subscription.cluster_id,p,c.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{isLoading:X,data:J}=((e,t,a)=>{const{isLoading:n,data:i,isError:o}=(0,r.I)({queryKey:[t,"aiClusterDetails",e],queryFn:async()=>{const t=await(async(e,t)=>{var a,n;let r;if((0,g.default)(t)&&e){try{const a=await s.assistedService.getAICluster(e);r=(0,l.DX)(t,(null==a?void 0:a.data)||null),r.aiCluster=a.data}catch(n){if(!f().isAxiosError(n)||404!==(null===(a=n.response)||void 0===a?void 0:a.status))throw n;console.info("Failed to query assisted-installer cluster id: ",e),r=(0,l.HQ)(t)}try{const e=await s.assistedService.getAIFeatureSupportLevels(r.openshift_version||"",r.cpu_architecture);r.aiSupportLevels=e}catch(e){E.Cp(new Error(`Failed to query feature support levels: ${f().isAxiosError(e)?JSON.stringify(null===(n=e.response)||void 0===n?void 0:n.data):""}`))}}else r=(0,l.HQ)(t);return r})(e,a);return t},enabled:!!a});return{isLoading:n,data:i,isError:o}})(null==p?void 0:p.subscription.cluster_id,c.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,null==p?void 0:p.subscription),ee=_||w||G||Z||B||Y;if(!(n||M||H||W||U||K||C||X)){if(b||F||y||q){const e=b||F||y||q,t=n||M||C||H,a=S||x||I||z,l=(0,d.formatErrorData)(t,e,a);return{isLoading:null==l?void 0:l.isLoading,isError:null==l?void 0:l.isError,error:null==l?void 0:l.error,data:p||k||V,isFetching:ee}}if(k){const e={data:{...(0,l._v)(k.data),subscription:null==p?void 0:p.subscription,metrics:(0,l.bd)(null===(t=null==p?void 0:p.subscription.metrics)||void 0===t?void 0:t[0])}};return e.data.upgradeGates=(null==j?void 0:j.data.items)||[],e.data.limitedSupportReasons=(null==$?void 0:$.data.items)||[],e.data.inflight_checks=(null==Q?void 0:Q.data.items)||[],e.data.canEdit=A,e.data.canEditOCMRoles=T,e.data.canViewOCMRoles=O,e.data.canUpdateClusterResource=P,e.data.canEditClusterAutoscaler=R,e.data.idpActions=N,e.data.machinePoolsActions=L,e.data.kubeletConfigActions=D,e.data.canDelete=!!(null===(a=null==V?void 0:V.data)||void 0===a?void 0:a.allowed),{isLoading:!1,cluster:e.data,isSuccess:!0,isError:F,error:x,isFetching:ee}}if(J)return J.canEdit=A,J.canEditOCMRoles=T,J.canViewOCMRoles=O,J.canDelete=!1,J.subscription=null==p?void 0:p.subscription,{isLoading:!1,cluster:J,isFetching:ee}}return{isLoading:!0,isFetching:ee}}},52045:(e,t,a)=>{"use strict";a.r(t),a.d(t,{invalidateClusterIdentityProviders:()=>o,useFetchClusterIdentityProviders:()=>u});var l=a(25982),n=a(57146),r=a(16236),i=a(96678),s=a(36817);const o=e=>{n.q.invalidateQueries({queryKey:["clusterIdentityProviders","clusterService",e]})},u=(e,t)=>{const{isLoading:a,data:n,isError:o,error:u}=(0,l.I)({queryKey:[s.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterIdentityProviders","clusterService",e,t],queryFn:async()=>{if(t){const a=(0,r.getClusterServiceForRegion)(t);return await a.getIdentityProviders(e)}return await r.default.getIdentityProviders(e)},enabled:!!e});if(o){const e=(0,i.formatErrorData)(a,o,u);return{clusterIdentityProviders:null==n?void 0:n.data,isError:o,isLoading:a,error:e}}return{isLoading:a,clusterIdentityProviders:null==n?void 0:n.data,isError:o,error:u}}},3089:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useFetchUpgradeGatesFromApi:()=>s});var l=a(25982),n=a(16236),r=a(96678),i=a(36817);const s=(e,t)=>{const{data:a,isLoading:s,isError:o,error:u}=(0,l.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"upgradeGatesFromApi"],queryFn:async()=>(t?(0,n.getClusterServiceForRegion)(t):n.default).getUpgradeGates(),enabled:e});if(o){const e=(0,r.formatErrorData)(s,o,u);return{data:null==a?void 0:a.data.items,isLoading:s,isError:o,error:e}}return{data:null==a?void 0:a.data.items,isLoading:s,isError:o,error:u}}},22637:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T,useFetchClusters:()=>R});var l=a(93345),n=a.n(l),r=a(25408),i=a(67285),s=a(36165),o=a(62193),u=a.n(o),d=a(59067),c=a(22902),m=a(1727);const p=(e,t)=>{var a,l,n,r,i,s,o,u,d,c,m;if(!e.error||!(null===(n=null===(l=null===(a=e.error)||void 0===a?void 0:a.response)||void 0===l?void 0:l.data)||void 0===n?void 0:n.reason)&&!(null===(r=e.error)||void 0===r?void 0:r.message))return null;const p={reason:(null===(o=null===(s=null===(i=e.error)||void 0===i?void 0:i.response)||void 0===s?void 0:s.data)||void 0===o?void 0:o.reason)||(null===(u=e.error)||void 0===u?void 0:u.message),operation_id:null===(m=null===(c=null===(d=e.error)||void 0===d?void 0:d.response)||void 0===c?void 0:c.data)||void 0===m?void 0:m.operation_id};return t?{...p,region:t}:p};var f=a(16236),E=a(73410),g=a(9704),v=a(57146),h=a(36817);const b=({type:e,clusterTypeOrRegion:t,viewOptions:a,isArchived:l,other:n})=>{var r;const{currentPage:i,pageSize:s,sorting:o,filter:u,flags:d}=a,c=(null==o?void 0:o.sortField)?o.sortField:"no_sort_field",m=(null==o?void 0:o.isAscending)?"asc":"desc",p=u||"no_name_filter",f=(null==d?void 0:d.showMyClustersOnly)?"only_my_clusters":"all_clusters",E=(null===(r=null==d?void 0:d.subscriptionFilter)||void 0===r?void 0:r.plan_id)||[];return[h.K.FETCH_CLUSTERS_QUERY_KEY,l?"Archived":"Active",e,t||"-",`${i}`,`${s}`,c,m,p,f,...E,...n||[]]},S=(e,t)=>e.some((e=>(0,g.isEqual)(e.queryKey,t))),{FETCH_CLUSTERS_REFETCH_INTERVAL:_}=h.K,C=(e,t)=>{const a=new Set;return e.forEach((e=>{const l=e[t];l&&a.add(`'${l}'`)})),`id in (${Array.from(a).join(",")})`};var y=a(95762),I=a(25982),A=a(10135);const R=(e=!1,t=!0)=>{var a,l,o;const g=e?i.ARCHIVED_CLUSTERS_VIEW:i.CLUSTERS_VIEW,[R,T]=n().useState([]),{refetch:O,setRefetchSchedule:P}=(e=>{const[t,a]=n().useState(),l=()=>{v.q.invalidateQueries({queryKey:[h.K.FETCH_ACCESS_TRANSPARENCY]}),v.q.invalidateQueries({queryKey:[h.K.FETCH_CLUSTERS_QUERY_KEY,e?"Archived":"Active"]}),v.q.invalidateQueries({queryKey:[h.K.FETCH_CLUSTERS_QUERY_KEY,"authorizationsService","selfResourceReview"]})},r=()=>{clearInterval(t);const e=setInterval((()=>{l()}),_);a(e)};return{refetch:()=>{l(),r()},setRefetchSchedule:r,clearRefetch:()=>{clearInterval(t),a(void 0)}}})(e),D=(0,s.useGlobalState)((e=>e.userProfile.keycloakProfile.username)),L=(0,s.useGlobalState)((e=>({...e.viewOptions[g],totalCount:0}))),N=null===(o=null===(l=null===(a=L.flags)||void 0===a?void 0:a.subscriptionFilter)||void 0===l?void 0:l.plan_id)||void 0===o?void 0:o.toString();n().useEffect((()=>{((e,t,a)=>{v.q.removeQueries({queryKey:[h.K.FETCH_CLUSTERS_QUERY_KEY,a?"Archived":"Active","subscriptions"]}),e((()=>(v.q.removeQueries({queryKey:[h.K.FETCH_CLUSTERS_QUERY_KEY,a?"Archived":"Active","clusters"]}),v.q.removeQueries({queryKey:[h.K.FETCH_CLUSTERS_QUERY_KEY,"authorizationsService","selfResourceReview"]}),v.q.invalidateQueries({queryKey:[h.K.FETCH_ACCESS_TRANSPARENCY]}),[]))),t()})(T,P,e)}),[L.currentPage,L.pageSize,L.filter,L.sorting.sortField,L.sorting.isAscending,N,L.flags.showMyClustersOnly]);const{data:w,isLoading:M,isFetching:k,isFetched:F,isError:x,error:G}=(({enabled:e=!0,viewOptions:t,userName:a,isArchived:l})=>{const n=b({type:"subscriptions",viewOptions:t,isArchived:l}),{data:r,isLoading:i,isFetching:s,isFetched:o,isError:u,error:p}=(0,I.I)({queryKey:n,enabled:e,queryFn:()=>(async(e,t,a)=>{var l,n,r;const i={...e,flags:{...e.flags,showArchived:a}},s=(0,A.createViewQueryObject)(i,t),o=await E.accountsService.getSubscriptions(s),u=(0,m.OF)(o,m.Pb),p=(null===(l=null==u?void 0:u.data)||void 0===l?void 0:l.items)||[],f=new Map;p.forEach((e=>{e.cluster_id&&f.set(e.cluster_id,{subscription:e})}));const g=[];f.forEach((({subscription:e})=>{(0,c.default)(e)&&e.id&&g.push(e.id)}));const v=p.filter((e=>e.managed&&e.status!==d.SubscriptionCommonFields.status.DEPROVISIONED));return{subscriptionIds:g,subscriptionMap:f,managedSubscriptions:v,page:(null===(n=null==u?void 0:u.data)||void 0===n?void 0:n.page)||0,total:(null===(r=null==u?void 0:u.data)||void 0===r?void 0:r.total)||0}})(t,a,l)});return{data:r,isLoading:i,isFetching:s,isFetched:o,isError:u,error:p}})({viewOptions:L,isArchived:e,userName:D}),U=null==w?void 0:w.subscriptionIds,j=null==w?void 0:w.subscriptionMap,H=null==w?void 0:w.managedSubscriptions,V=(null==w?void 0:w.total)||0,q=G?[p({error:G})]:[],z=b({type:"clusters",clusterTypeOrRegion:"aiClusters",viewOptions:L,other:U||[],isArchived:e}),B=S(R,z);U&&U.length>0&&!B&&T((e=>[...e,{queryKey:z,queryFn:()=>(async e=>e&&0!==e.length?{aiClusters:(await E.assistedService.getAIClustersBySubscription(e)).data}:{aiClusters:[]})(U)}]));const W={global:[]};null==H||H.forEach((e=>{const a=e.xcm_id;a?t&&(W[a]||(W[a]=[]),W[a].push(e)):W.global.push(e)}));const $=Object.keys(W).reduce(((t,a)=>{const l=C(W[a],"cluster_id"),n=b({type:"clusters",clusterTypeOrRegion:a,viewOptions:L,other:[l],isArchived:e});return S(R,n)||0===W[a].length?t:[...t,{queryKey:n,queryFn:async()=>(async(e,t)=>{var a;if(!e||0===e.length)return{managedClusters:[]};const l=(0,f.getClusterServiceForRegion)("global"!==t&&t?t:void 0),n=C(e,"cluster_id");return{managedClusters:null===(a=(await l.searchClusters(n)).data)||void 0===a?void 0:a.items}})(W[a],a)}]}),[]);$.length>0&&T((e=>[...e,...$]));const{isLoading:Y,data:K,isError:Q,errors:Z,isFetching:X,isFetched:J}=(0,r.E)({queries:R,combine:n().useCallback((e=>{const t=new Map(j);let a=[],l=[];null==e||e.forEach((e=>{var t,n;(null===(t=e.data)||void 0===t?void 0:t.aiClusters)?a=null===(n=e.data)||void 0===n?void 0:n.aiClusters:e.data&&e.data.managedClusters&&(l=[...l,...e.data.managedClusters])})),a&&a.forEach((e=>{if(e.id){const a=t.get(e.id);a&&(a.aiCluster=e)}})),l&&l.forEach((e=>{if(e.id){const a=t.get(e.id);void 0!==a&&(a.cluster=e)}}));const n=(e=>{const t=[];return e.forEach((e=>{let a;!e.cluster||u()(null==e?void 0:e.cluster)||e.subscription&&!u()(e.subscription)?e.subscription.managed&&e.subscription.status!==d.SubscriptionCommonFields.status.DEPROVISIONED&&(null==e?void 0:e.cluster)&&!u()(null==e?void 0:e.cluster)?a={...(0,m._v)(e.cluster),subscription:e.subscription,metrics:(0,m.bd)(e.subscription.metrics)}:(a=(0,c.default)(e.subscription)?(0,m.DX)(e.subscription,e.aiCluster):(0,m.HQ)(e.subscription),a.partialCS=a.managed&&(!(null==e?void 0:e.cluster)||u()(null==e?void 0:e.cluster))):a={...(0,m._v)(e.cluster)},a.subscription=e.subscription,t.push(a)})),t})(t),r=null==e?void 0:e.filter((e=>!!e.error)).map((e=>p(e)));return{isLoading:e.some((e=>e.isLoading)),isFetching:e.some((e=>e.isFetching)),isFetched:e.every((e=>e.isFetched)),isError:e.some((e=>e.isError)),data:{clusters:n,clusterTotal:V},errors:r}}),[j,V])}),{isLoading:ee,isFetching:te,canEdit:ae,canDelete:le,isError:ne,errors:re,isFetched:ie}=(({queryKey:e=[h.K.FETCH_CLUSTERS_QUERY_KEY]})=>{const{isLoading:t,data:a,isError:l,isFetching:i,refetch:s,errors:o,isFetched:u}=(0,r.E)({queries:[{queryKey:[...e,"authorizationsService","selfResourceReview",d.SelfResourceReviewRequest.action.DELETE],queryFn:async()=>{const e=await E.authorizationsService.selfResourceReview({action:d.SelfResourceReviewRequest.action.DELETE,resource_type:d.SelfResourceReview.resource_type.CLUSTER});return(0,y.buildPermissionDict)(e)}},{queryKey:[...e,"authorizationsService","selfResourceReview",d.SelfResourceReviewRequest.action.UPDATE],queryFn:async()=>{const e=await E.authorizationsService.selfResourceReview({action:d.SelfResourceReviewRequest.action.UPDATE,resource_type:d.SelfResourceReview.resource_type.CLUSTER});return(0,y.buildPermissionDict)(e)}}],combine:n().useCallback((e=>{const[t,a]=e,l=[],n=p(a),r=p(t);return n&&l.push(n),r&&l.push(r),{isFetched:e.every((e=>e.isFetched)),isLoading:e.some((e=>e.isLoading)),isFetching:e.some((e=>e.isFetching)),data:{canEdit:a.data,canDelete:t.data},isError:e.some((e=>e.isError)),refetch:()=>e.forEach((e=>e.refetch())),errors:l}}),[])});return{isLoading:t,isFetching:i,canEdit:null==a?void 0:a.canEdit,canDelete:null==a?void 0:a.canDelete,isError:l,refetch:s,errors:o,isFetched:u}})({}),se=((e,t,a)=>{if(e&&0!==e.length)return e.map((e=>{var l;const n={...e};return n.canEdit=!e.partialCS&&!!t&&(t["*"]||!!e.id&&!!t[e.id])&&(null===(l=e.subscription)||void 0===l?void 0:l.status)!==d.SubscriptionCommonFields.status.DEPROVISIONED,n.canDelete=!e.partialCS&&!!a&&(a["*"]||!!e.id&&!!a[e.id]),n}))})(null==K?void 0:K.clusters,ae,le);return{isLoading:ee||M||Y,isFetching:te||k||X,data:{items:se||[],itemsCount:null==K?void 0:K.clusterTotal},isFetched:ie&&F&&J,isError:ne||x||Q,errors:[...re,...q,...Z],refetch:O}},T=R},21481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchClusterLogsQueries:()=>u,useFetchClusterLogs:()=>d});var l=a(25982),n=a(10135),r=a(57146),i=a(73410),s=a(96678),o=a(36817);const u=()=>{r.q.invalidateQueries({queryKey:[o.K.FETCH_CLUSTER_LOGS_QUERY_KEY]})},d=(e,t,a,r,u,d)=>{const{data:c,isError:m,error:p,dataUpdatedAt:f,isPending:E,isLoading:g}=(0,l.I)({queryKey:[o.K.FETCH_CLUSTER_LOGS_QUERY_KEY,t,"clusterLogService",a,u,d],queryFn:async()=>r?await i.serviceLogService.getClusterHistoryForRegion(e,t,(0,n.createServiceLogQueryObject)(a,void 0,u,d),r):await i.serviceLogService.getClusterHistory(e,t,(0,n.createServiceLogQueryObject)(a,void 0,u,d)),retry:!1}),v=(0,s.formatErrorData)(g,m,p);return{data:null==c?void 0:c.data,isError:m,error:null==v?void 0:v.error,dataUpdatedAt:f,isPending:E}}},41730:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchGetOCMRole:()=>o,useFetchGetOCMRole:()=>u});var l=a(25982),n=a(57146),r=a(73410),i=a(96678),s=a(36817);const o=()=>{n.q.invalidateQueries({queryKey:[s.K.FETCH_GET_OCM_ROLE]})},u=e=>{const{data:t,isError:a,error:n,isLoading:o,isPending:u,isSuccess:d,status:c}=(0,l.I)({queryKey:[s.K.FETCH_GET_OCM_ROLE],queryFn:async()=>await r.accountsService.getOCMRole(e),retry:!1}),m=(0,i.formatErrorData)(o,a,n);return{data:t,isError:a,error:null==m?void 0:m.error,isPending:u,isSuccess:d,status:c}}},84526:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchGetUserOidcConfigurations:()=>s,useFetchGetUserOidcConfigurations:()=>o});var l=a(25982),n=a(57146),r=a(16236),i=a(36817);const s=()=>{n.q.invalidateQueries({queryKey:[i.K.FETCH_GET_USER_OIDC_CONFIGURATIONS],exact:!0})},o=(e,t,a)=>{const{data:n,error:s,isError:o,isSuccess:u,isFetching:d}=(0,l.I)({queryKey:[i.K.FETCH_GET_USER_OIDC_CONFIGURATIONS],queryFn:async()=>{if(t&&a){const a=(0,r.getClusterServiceForRegion)(t);return await a.getOidcConfigurations(e)}return await r.default.getOidcConfigurations(e)},retry:!1});return{data:n,error:s,isError:o,isSuccess:u,isFetching:d}}},57189:(e,t,a)=>{"use strict";a.r(t),a.d(t,{invalidateCloudProviders:()=>s,useFetchCloudProviders:()=>i});var l=a(25982),n=a(57146),r=a(73410);const i=()=>{var e,t;const{data:a,isLoading:n,isFetching:i,isError:s}=(0,l.I)({queryKey:["clusterService","cloudProviders"],queryFn:()=>r.clusterService.getCloudProviders()}),o={};return(null===(e=null==a?void 0:a.data)||void 0===e?void 0:e.items)&&(null===(t=a.data.items)||void 0===t||t.forEach((e=>{if(e.id){const t={};void 0!==e.regions&&e.regions.forEach((e=>{e.id&&(t[e.id]={id:e.id,display_name:e.display_name,enabled:e.enabled,supports_multi_az:e.supports_multi_az,kms_location_id:e.kms_location_id,ccs_only:e.ccs_only,supports_hypershift:e.supports_hypershift})})),o[e.id]={...e,regions:t}}}))),{isError:s,isLoading:n,isFetching:i,data:o}},s=()=>{n.q.invalidateQueries({queryKey:["cloudProviders","getCloudProviders"]})}},96678:(e,t,a)=>{"use strict";a.r(t),a.d(t,{addNotificationErrorFormat:()=>i,createResponseForSearchCluster:()=>o,formatErrorData:()=>r,formatRegionalInstanceUrl:()=>s,getFormattedUserData:()=>u});var l=a(42561),n=a.n(l);const r=(e,t,a)=>{var l,r,i,s,o,u,d,c;return t&&n().isAxiosError(a)?{isLoading:e,isError:t,error:{pending:e,error:t,fulfilled:!1,errorCode:null===(l=null==a?void 0:a.response)||void 0===l?void 0:l.status,errorDetails:null===(i=null===(r=null==a?void 0:a.response)||void 0===r?void 0:r.data)||void 0===i?void 0:i.details,errorMessage:`${null===(s=null==a?void 0:a.response)||void 0===s?void 0:s.data.code}: ${null===(o=null==a?void 0:a.response)||void 0===o?void 0:o.data.reason}`,reason:`${null===(u=null==a?void 0:a.response)||void 0===u?void 0:u.data.reason}`,internalErrorCode:null===(d=null==a?void 0:a.response)||void 0===d?void 0:d.data.code,operationID:null===(c=null==a?void 0:a.response)||void 0===c?void 0:c.data.operation_id}}:{isLoading:e,isError:t,error:a}},i=(e,t,a)=>{var l,r,i,s,o,u;if(t&&n().isAxiosError(a)){const n={};return n.pending=e,n.error=t,n.fulfilled=!1,n.errorCode=null===(l=null==a?void 0:a.response)||void 0===l?void 0:l.status,n.errorDetails=null===(i=null===(r=null==a?void 0:a.response)||void 0===r?void 0:r.data)||void 0===i?void 0:i.details,n.errorMessage=`${null===(s=null==a?void 0:a.response)||void 0===s?void 0:s.data.reason}`,n.internalErrorCode=null===(o=null==a?void 0:a.response)||void 0===o?void 0:o.data.code,n.operationID=null===(u=null==a?void 0:a.response)||void 0===u?void 0:u.data.operation_id,{isLoading:e,isError:t,error:n}}},s=e=>e?e.replace("api.","").replace(".openshift.com",""):"",o=e=>{const t={items:[]};if(e)return null==e||e.forEach((e=>{const a={name:e.name,domain_prefix:e.domain_prefix};t.items.push(a)})),t},u=async e=>e.then((e=>{var t;return(null===(t=e.data.items)||void 0===t?void 0:t.map((e=>{var t;const a=e;return a.users&&(a.users.items=null===(t=a.users)||void 0===t?void 0:t.filter((e=>"cluster-admin"!==e.id))),a})))||[]}))||[]},36817:(e,t,a)=>{"use strict";a.d(t,{K:()=>l});const l={STALE_TIME_60_SEC:6e4,AlWAYS_GET_NEW_DATA_STALE_TIME:0,API_PAGE_SIZE:500,FETCH_CLUSTERS_QUERY_KEY:"fetchClusters",FETCH_CLUSTER_DETAILS_QUERY_KEY:"fetchClusterDetails",FETCH_CLUSTER_LOGS_QUERY_KEY:"fetchClusterLogs",FETCH_CLUSTER_STATUS_MONITOR_INFLIGHT_CHECKS:"fetchClusterStatusMonitorInflightChecks",FETCH_CLUSTERS_REFETCH_INTERVAL:6e4,FETCH_REGIONALIZED_MULTI_REGIONS:"fetchRegionalizedMultiRegions",FETCH_SEARCH_CLUSTER_NAME:"fetchSearchClusterName",FETCH_SEARCH_DOMAIN_PREFIX:"fetchSearchDomainPrefix",FETCH_GET_OCM_ROLE:"fetchGetOCMRole",FETCH_GET_USER_OIDC_CONFIGURATIONS:"fetchGetOidcConfigurations",FETCH_ACCESS_TRANSPARENCY:"fetchAccessTransparency"}},36291:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refreshClusterDetails:()=>i,refreshQueries:()=>r});var l=a(57146),n=a(36817);const r=()=>{l.q.invalidateQueries()},i=()=>{l.q.invalidateQueries({predicate:e=>e.queryKey[0]===n.K.FETCH_CLUSTER_DETAILS_QUERY_KEY})}},30593:(e,t,a)=>{"use strict";a.r(t),a.d(t,{accessProtectionActions:()=>d,getAccessProtection:()=>i,getOrganizationAccessProtection:()=>s,resetAccessProtection:()=>o,resetOrganizationAccessProtection:()=>u});var l=a(77475),n=a(53082),r=a(22916);const i=e=>(0,l.action)(r.accessRequestConstants.GET_ACCESS_PROTECTION,n.A.getAccessProtection({subscriptionId:e})),s=e=>(0,l.action)(r.accessRequestConstants.GET_ORGANIZATION_ACCESS_PROTECTION,n.A.getAccessProtection({organizationId:e})),o=()=>(0,l.action)(r.accessRequestConstants.RESET_ACCESS_PROTECTION),u=()=>(0,l.action)(r.accessRequestConstants.RESET_ORGANIZATION_ACCESS_PROTECTION),d={getAccessProtection:i,getOrganizationAccessProtection:s,resetAccessProtection:o,resetOrganizationAccessProtection:u}},25883:(e,t,a)=>{"use strict";a.r(t),a.d(t,{accessRequestActions:()=>h,canMakeDecision:()=>m,getAccessRequest:()=>u,getAccessRequests:()=>o,getPendingAccessRequests:()=>d,postAccessRequestDecision:()=>c,resetAccessRequest:()=>f,resetAccessRequests:()=>p,resetCanMakeDecision:()=>v,resetGetPendingAccessRequests:()=>E,resetPostAccessRequestDecision:()=>g});var l=a(77475),n=a(73410),r=a(74314),i=a(59067),s=a(22916);const o=(e,t)=>(0,l.action)(s.accessRequestConstants.GET_ACCESS_REQUESTS,r.A.getAccessRequests({page:t.currentPage,size:t.pageSize,search:`subscription_id='${e}'`,orderBy:t.sorting.sortField?`${t.sorting.sortField} ${t.sorting.isAscending?"asc":"desc"}`:void 0})),u=e=>(0,l.action)(s.accessRequestConstants.GET_ACCESS_REQUEST,r.A.getAccessRequest(e).then((e=>e))),d=(e,t)=>{var a;return(0,l.action)(s.accessRequestConstants.GET_PENDING_ACCESS_REQUESTS,r.A.getAccessRequests({page:null!==(a=null==t?void 0:t.page)&&void 0!==a?a:0,size:(null==t?void 0:t.size)||1,search:`subscription_id='${e}' and status.state='Pending'`}))},c=(e,t)=>(0,l.action)(s.accessRequestConstants.POST_ACCESS_REQUEST_DECISION,r.A.postAccessRequestDecision(e,t)),m=(e,t)=>(0,l.action)(s.accessRequestConstants.CAN_MAKE_ACCESS_REQUEST_DECISION,n.authorizationsService.selfAccessReview({action:i.SelfAccessReview.action.CREATE,resource_type:i.SelfAccessReview.resource_type.ACCESS_REQUEST_DECISION,subscription_id:e,organization_id:t})),p=()=>(0,l.action)(s.accessRequestConstants.RESET_ACCESS_REQUESTS),f=()=>(0,l.action)(s.accessRequestConstants.RESET_ACCESS_REQUEST),E=()=>(0,l.action)(s.accessRequestConstants.RESET_GET_PENDING_ACCESS_REQUESTS),g=()=>(0,l.action)(s.accessRequestConstants.RESET_POST_ACCESS_REQUEST_DECISION),v=()=>(0,l.action)(s.accessRequestConstants.RESET_CAN_MAKE_ACCESS_REQUEST_DECISION),h={getAccessRequests:o,getAccessRequest:u,getPendingAccessRequests:d,getOrganizationPendingAccessRequests:(e,t)=>{var a;return(0,l.action)(s.accessRequestConstants.GET_ORGANIZATION_PENDING_ACCESS_REQUESTS,r.A.getAccessRequests({page:null!==(a=null==t?void 0:t.page)&&void 0!==a?a:0,size:(null==t?void 0:t.size)||10,search:`organization_id='${e}' and status.state='Pending'`}))},postAccessRequestDecision:c,canMakeDecision:m,resetAccessRequests:p,resetAccessRequest:f,resetGetPendingAccessRequests:E,resetOrganizationPendingAccessRequests:()=>(0,l.action)(s.accessRequestConstants.RESET_ORGANIZATION_PENDING_ACCESS_REQUESTS),resetPostAccessRequestDecision:g,resetCanMakeDecision:v}},52202:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_ALL_CLOUD_PROVIDER_INQUIRIES:()=>b,CLEAR_CCS_CREDENTIALS_INQUIRY:()=>S,CLEAR_LIST_VPCS:()=>h,LIST_GCP_KEYS:()=>v,LIST_GCP_KEY_RINGS:()=>g,LIST_REGIONS:()=>E,LIST_VPCS:()=>f,VALIDATE_CLOUD_PROVIDER_CREDENTIALS:()=>p,clearAllCloudProviderInquiries:()=>T,clearCcsCredientialsInquiry:()=>O,clearListVpcs:()=>P,getAWSCloudProviderRegions:()=>I,getAWSCloudProviderVPCs:()=>C,getGCPCloudProviderVPCs:()=>y,getGCPKeyRings:()=>A,getGCPKeys:()=>R});var l=a(44383),n=a.n(l),r=a(77475),i=a(81437),s=a(16236);const{listAWSRegions:o,listAWSVPCs:u,listGCPKeyRings:d,listGCPKeys:c,listGCPVPCs:m}=s.default,p="VALIDATE_CLOUD_PROVIDER_CREDENTIALS",f="LIST_VPCS",E="LIST_REGIONS",g="LIST_GCP_KEY_RINGS",v="LIST_GCP_KEYS",h="CLEAR_LIST_VPCS",b="CLEAR_ALL_CLOUD_PROVIDER_INQUIRIES",S="CLEAR_CCS_CREDENTIALS_INQUIRY",_=async(e,t)=>{if(e===i.GCPAuthType.ServiceAccounts){const e=JSON.parse(t);return n()(e,["type","project_id","private_key_id","private_key","client_email","client_id","auth_uri","token_uri","auth_provider_x509_cert_url","client_x509_cert_url"])}return{authentication:{kind:"WifConfig",id:t}}},C=({awsCredentials:e,region:t,subnet:a,options:l})=>(0,r.action)(f,u(e,t,a,l),{credentials:e,cloudProvider:"aws",region:t,subnet:a}),y=(e,t,a,l)=>(0,r.action)(e,_(t,a).then((e=>m(e,l))),{credentials:a,cloudProvider:"gcp",region:l,subnet:void 0}),I=(e,t,a)=>(0,r.action)(e,o(t,a),{credentials:t,cloudProvider:"aws",openshiftVersionId:a}),A=(e,t,a)=>(0,r.action)(g,_(e,t).then((e=>d(e,a))),{credentials:t,keyLocation:a,cloudProvider:"gcp"}),R=(e,t,a,l)=>(0,r.action)(v,_(e,t).then((e=>c(e,a,l))),{credentials:t,keyLocation:a,keyRing:l,cloudProvider:"gcp"}),T=()=>(0,r.action)(b),O=()=>(0,r.action)(S),P=()=>(0,r.action)(h)},10138:(e,t,a)=>{"use strict";a.r(t),a.d(t,{cloudProviderActions:()=>s,getCloudProviders:()=>i});var l=a(77475),n=a(73410),r=a(22916);const i=()=>(0,l.action)(r.cloudProviderConstants.GET_CLOUD_PROVIDERS,n.clusterService.getCloudProviders().then((e=>{var t;const a={};return null===(t=e.data.items)||void 0===t||t.forEach((e=>{if(e.id){const t={};void 0!==e.regions&&e.regions.forEach((e=>{e.id&&(t[e.id]={id:e.id,display_name:e.display_name,enabled:e.enabled,supports_multi_az:e.supports_multi_az,kms_location_id:e.kms_location_id,ccs_only:e.ccs_only,supports_hypershift:e.supports_hypershift})})),a[e.id]={...e,regions:t}}})),a}))),s={getCloudProviders:i}},85825:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clusterAutoscalerActions:()=>s});var l=a(77475),n=a(11611),r=a(73410),i=a(22916);const s={getClusterAutoscaler:e=>(0,l.action)(i.clusterAutoscalerConstants.GET_CLUSTER_AUTOSCALER,r.clusterService.getClusterAutoscaler(e).then((e=>e.data))),enableClusterAutoscaler:e=>(0,l.action)(i.clusterAutoscalerConstants.ENABLE_CLUSTER_AUTOSCALER,r.clusterService.enableClusterAutoscaler(e,(0,n.getClusterAutoScalingSubmitSettings)((0,n.getDefaultClusterAutoScaling)())).then((e=>e.data))),disableClusterAutoscaler:e=>(0,l.action)(i.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER,r.clusterService.disableClusterAutoscaler(e).then((e=>e.data))),updateClusterAutoscaler:(e,t)=>(0,l.action)(i.clusterAutoscalerConstants.UPDATE_CLUSTER_AUTOSCALER,r.clusterService.updateClusterAutoscaler(e,t).then((e=>e.data))),clearLastAutoscalerActionResult:()=>(0,l.action)(i.clusterAutoscalerConstants.CLEAR_LAST_ACTION_RESULT),clearClusterAutoscalerResponse:()=>(0,l.action)(i.clusterAutoscalerConstants.CLEAR_GET_CLUSTER_AUTOSCALER_RESPONSE),setHasInitialClusterAutoscaler:e=>(0,l.action)(i.clusterAutoscalerConstants.SET_HAS_INITIAL_AUTOSCALER,e)}},24239:(e,t,a)=>{"use strict";a.r(t),a.d(t,{archiveCluster:()=>P,clearClusterArchiveResponse:()=>D,clearClusterResponse:()=>A,clearClusterUnarchiveResponse:()=>G,clearHibernateClusterResponse:()=>M,clearInflightChecks:()=>K,clearInstallableVersions:()=>Q,clearResumeClusterResponse:()=>F,clearUpgradeTrialClusterResponse:()=>N,clustersActions:()=>Z,createCluster:()=>y,editCluster:()=>R,editClusterConsoleURL:()=>U,editClusterDisplayName:()=>T,fetchClusterDetails:()=>V,fetchClusters:()=>H,getClusterStatus:()=>B,getInflightChecks:()=>W,getRerunInflightChecks:()=>Y,hibernateCluster:()=>w,invalidateClusters:()=>C,registerDisconnectedCluster:()=>I,rerunInflightChecks:()=>$,resetCreatedClusterResponse:()=>z,resumeCluster:()=>k,setClusterDetails:()=>q,unarchiveCluster:()=>x,upgradeTrialCluster:()=>L});var l=a(42561),n=a.n(l),r=a(62193),i=a.n(r),s=a(77475),o=a(83741),u=a(23271),d=a(59067),c=a(22902),m=a(1727),p=a(75166),f=a(99908),E=a(73410),g=a(22916),v=a(32777),h=a(95762),b=a(53302);const S=[p.knownProducts.ROSA,p.knownProducts.ROSA_HyperShift],_=[p.knownProducts.OSD,p.knownProducts.OSDTRIAL],C=()=>(0,s.action)((0,h.INVALIDATE_ACTION)(g.clustersConstants.GET_CLUSTERS)),y=(e,t)=>a=>{return a((l=(async(e,t,a)=>{const l=await E.clusterService.postNewCluster(e);if(t){const n=l.data.id;n&&a((0,f.postSchedule)(n,t,(0,u.isHypershiftCluster)(e)))}return a(C()),l})(e,t,a),(0,s.action)(g.clustersConstants.CREATE_CLUSTER,l)));var l},I=(e,t)=>a=>a((0,s.action)(g.clustersConstants.CREATE_CLUSTER,(async(e,t,a)=>{const l=await E.accountsService.registerDisconnected(e);return t&&201===l.status&&l.data.id&&a((0,b.pu)(l.data.id,t)),a(C()),l})(e,t,a))),A=()=>(0,s.action)(g.clustersConstants.CLEAR_DISPLAY_NAME_RESPONSE),R=(e,t)=>(0,s.action)(g.clustersConstants.EDIT_CLUSTER,E.clusterService.editCluster(e,t)),T=(e,t)=>(0,s.action)(g.clustersConstants.EDIT_CLUSTER,E.accountsService.editSubscription(e,{display_name:t})),O=(e,t)=>({notifications:{fulfilled:{variant:"success",title:`Cluster ${e} has been ${t?"archived":"unarchived"}`,dismissDelay:8e3,dismissable:!1}}}),P=(e,t)=>(0,s.action)(g.clustersConstants.ARCHIVE_CLUSTER,E.clusterService.archiveCluster(e),O(t,!0)),D=()=>(0,s.action)(g.clustersConstants.CLEAR_CLUSTER_ARCHIVE_RESPONSE),L=(e,t)=>(0,s.action)(g.clustersConstants.UPGRADE_TRIAL_CLUSTER,E.clusterService.upgradeTrialCluster(e,t)),N=()=>(0,s.action)(g.clustersConstants.CLEAR_UPGRADE_TRIAL_CLUSTER_RESPONSE),w=e=>(0,s.action)(g.clustersConstants.HIBERNATE_CLUSTER,E.clusterService.hibernateCluster(e)),M=()=>(0,s.action)(g.clustersConstants.CLEAR_CLUSTER_HIBERNATE_RESPONSE),k=e=>(0,s.action)(g.clustersConstants.RESUME_CLUSTER,E.clusterService.resumeCluster(e)),F=()=>(0,s.action)(g.clustersConstants.CLEAR_RESUME_CLUSTER_RESPONSE),x=(e,t)=>(0,s.action)(g.clustersConstants.UNARCHIVE_CLUSTER,E.clusterService.unarchiveCluster(e),O(t,!1)),G=()=>(0,s.action)(g.clustersConstants.CLEAR_CLUSTER_UNARCHIVE_RESPONSE),U=(e,t,a)=>(0,s.action)(g.clustersConstants.EDIT_CLUSTER,E.clusterService.editCluster(e,{console:{url:a}}).then((()=>E.accountsService.editSubscription(t,{console_url:a})))),j=(e,t,a)=>{const l=[];return e.forEach((e=>{let n;n=e.subscription.managed&&e.subscription.status!==d.SubscriptionCommonFields.status.DEPROVISIONED&&(null==e?void 0:e.cluster)&&!i()(null==e?void 0:e.cluster)?{...(0,m._v)(e.cluster),subscription:e.subscription,metrics:(0,m.bd)(e.subscription.metrics)}:(0,c.default)(e.subscription)?(0,m.DX)(e.subscription,e.aiCluster):(0,m.HQ)(e.subscription),n.partialCS=n.managed&&(!(null==e?void 0:e.cluster)||i()(null==e?void 0:e.cluster)),n.canEdit=!n.partialCS&&(t["*"]||!!n.id&&!!t[n.id])&&e.subscription.status!==d.SubscriptionCommonFields.status.DEPROVISIONED,n.canDelete=!n.partialCS&&(a["*"]||!!n.id&&!!a[n.id]),n.subscription=e.subscription,l.push(n)})),l},H=e=>(t,a)=>{(0,v.m)(a(),"rosa","hcp")||(0,v.fO)(t,"rosa","hcp"),t((e=>(0,s.action)(g.clustersConstants.GET_CLUSTERS,(async e=>{var t;const[a,l,n]=await Promise.all([E.accountsService.getSubscriptions(e).then((e=>(0,m.OF)(e,m.Pb))),E.authorizationsService.selfResourceReview({action:d.SelfResourceReviewRequest.action.DELETE,resource_type:d.SelfResourceReview.resource_type.CLUSTER}).then((e=>(0,h.buildPermissionDict)(e))),E.authorizationsService.selfResourceReview({action:d.SelfResourceReviewRequest.action.UPDATE,resource_type:d.SelfResourceReview.resource_type.CLUSTER}).then((e=>(0,h.buildPermissionDict)(e)))]),r=null===(t=null==a?void 0:a.data)||void 0===t?void 0:t.items;if(!r)return{data:{items:[],page:0,total:0,queryParams:{...e}}};const i=new Map;r.forEach((e=>{e.cluster_id&&i.set(e.cluster_id,{subscription:e})}));const s=[];i.forEach((({subscription:e})=>{(0,c.default)(e)&&e.id&&s.push(e.id)})),s.length>0&&(await E.assistedService.getAIClustersBySubscription(s).then((e=>e.data)).catch((e=>(o.Cp(e),[])))).forEach((e=>{const t=i.get(e.id);t&&(t.aiCluster=e)}));const u=r.filter((e=>e.managed&&e.status!==d.SubscriptionCommonFields.status.DEPROVISIONED));let p;if(u.length>0){const e=((e,t)=>{const a=new Set;return e.forEach((e=>{const t=e.cluster_id;t&&a.add(`'${t}'`)})),`id in (${Array.from(a).join(",")})`})(u);try{await E.clusterService.searchClusters(e).then((e=>{var t;const a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.items;null==a||a.forEach((e=>{if(e.id){const t=i.get(e.id);void 0!==t&&(t.cluster=e)}}))}))}catch(e){p=e}}return{data:{items:j(i,n,l),page:a.data.page,total:a.data.total||0,queryParams:{...e},...p?{meta:{clustersServiceError:p}}:{}}}})(e)))(e))},V=e=>(0,s.action)(g.clustersConstants.GET_CLUSTER_DETAILS,(async e=>{var t,a,l,r,i,s,u,f,g,v,h,b,C;const y=[d.SelfAccessReview.action.CREATE,d.SelfAccessReview.action.UPDATE,d.SelfAccessReview.action.GET,d.SelfAccessReview.action.LIST,d.SelfAccessReview.action.DELETE];let I=!1,A=!1,R=!1,T=!1,O=!1;const P=(e,t)=>(e[t]=!1,e),D=y.reduce(P,{}),L=y.reduce(P,{}),N=y.reduce(P,{}),w=await E.accountsService.getSubscription(e);w.data=(0,m.Pb)(w.data);const M=(null===(a=null===(t=null==w?void 0:w.data)||void 0===t?void 0:t.plan)||void 0===a?void 0:a.type)===p.knownProducts.ARO,k=S.includes((null===(r=null===(l=null==w?void 0:w.data)||void 0===l?void 0:l.plan)||void 0===r?void 0:r.type)||""),F=_.includes((null===(s=null===(i=null==w?void 0:w.data)||void 0===i?void 0:i.plan)||void 0===s?void 0:s.type)||"");if(w.data.status!==d.SubscriptionCommonFields.status.DEPROVISIONED&&(await E.authorizationsService.selfAccessReview({action:d.SelfAccessReview.action.UPDATE,resource_type:d.SelfAccessReview.resource_type.SUBSCRIPTION,subscription_id:e}).then((e=>{I=e.data.allowed})),y.forEach((async t=>{await E.authorizationsService.selfAccessReview({action:t,resource_type:d.SelfAccessReview.resource_type.IDP,subscription_id:e}).then((e=>{D[t]=e.data.allowed}))})),await E.authorizationsService.selfAccessReview({action:d.SelfAccessReview.action.UPDATE,resource_type:d.SelfAccessReview.resource_type.CLUSTER_AUTOSCALER,subscription_id:e}).then((e=>{R=e.data.allowed})),await E.authorizationsService.selfAccessReview({action:d.SelfAccessReview.action.CREATE,resource_type:d.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,subscription_id:e}).then((e=>{A=e.data.allowed})),await E.authorizationsService.selfAccessReview({action:d.SelfAccessReview.action.GET,resource_type:d.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,subscription_id:e}).then((e=>{T=e.data.allowed})),await E.authorizationsService.selfAccessReview({action:d.SelfAccessReview.action.UPDATE,resource_type:d.SelfAccessReview.resource_type.CLUSTER,subscription_id:e}).then((e=>{O=e.data.allowed})),y.forEach((async t=>{await E.authorizationsService.selfAccessReview({action:t,resource_type:d.SelfAccessReview.resource_type.MACHINE_POOL,subscription_id:e}).then((e=>{L[t]=e.data.allowed}))})),y.map((async t=>{await E.authorizationsService.selfAccessReview({action:t,resource_type:d.SelfAccessReview.resource_type.CLUSTER_KUBELET_CONFIG,subscription_id:e}).then((e=>{N[t]=e.data.allowed}))}))),(w.data.managed||M)&&w.data.status!==d.SubscriptionCommonFields.status.DEPROVISIONED){const e=await E.clusterService.getClusterDetails(w.data.cluster_id),t={data:{...(0,m._v)(e.data),subscription:w.data,metrics:(0,m.bd)(null===(u=w.data.metrics)||void 0===u?void 0:u[0])}},a=await E.clusterService.getClusterGateAgreements(w.data.cluster_id);t.data.upgradeGates=(null===(f=a.data)||void 0===f?void 0:f.items)||[];const l=await E.authorizationsService.selfAccessReview({action:d.SelfAccessReview.action.DELETE,resource_type:d.SelfAccessReview.resource_type.CLUSTER,cluster_id:w.data.cluster_id}),n=await E.clusterService.getLimitedSupportReasons(w.data.cluster_id);if(t.data.limitedSupportReasons=(null===(g=n.data)||void 0===g?void 0:g.items)||[],k||F){const e=await E.clusterService.getInflightChecks(w.data.cluster_id);t.data.inflight_checks=(null===(v=e.data)||void 0===v?void 0:v.items)||[]}return t.data.canEdit=I,t.data.idpActions=D,t.data.canEditOCMRoles=A,t.data.canViewOCMRoles=T,t.data.canEditClusterAutoscaler=R,t.data.machinePoolsActions=L,t.data.kubeletConfigActions=N,t.data.canDelete=!!(null===(h=null==l?void 0:l.data)||void 0===h?void 0:h.allowed),t.data.canUpdateClusterResource=O,t}let x;if((0,c.default)(w.data)&&w.data.cluster_id){try{const e=await E.assistedService.getAICluster(w.data.cluster_id);x=(0,m.DX)(w.data,(null==e?void 0:e.data)||null),x.aiCluster=e.data}catch(e){if(!n().isAxiosError(e)||404!==(null===(b=e.response)||void 0===b?void 0:b.status))throw e;console.info("Failed to query assisted-installer cluster id: ",w.data.cluster_id),x=(0,m.HQ)(w.data)}try{const e=await E.assistedService.getAIFeatureSupportLevels(x.openshift_version||"",x.cpu_architecture);x.aiSupportLevels=e}catch(e){o.Cp(new Error(`Failed to query feature support levels: ${n().isAxiosError(e)?JSON.stringify(null===(C=e.response)||void 0===C?void 0:C.data):""}`))}}else x=(0,m.HQ)(w.data);return x.canEdit=I,x.canEditOCMRoles=A,x.canViewOCMRoles=T,x.canDelete=!1,x.subscription=w.data,{data:x}})(e)),q=(e,t=!1)=>(0,s.action)(g.clustersConstants.SET_CLUSTER_DETAILS,{cluster:e,mergeDetails:t}),z=()=>(0,s.action)(g.clustersConstants.RESET_CREATED_CLUSTER_RESPONSE),B=e=>(0,s.action)(g.clustersConstants.GET_CLUSTER_STATUS,E.clusterService.getClusterStatus(e)),W=e=>(0,s.action)(g.clustersConstants.GET_INFLIGHT_CHECKS,E.clusterService.getInflightChecks(e)),$=e=>(0,s.action)(g.clustersConstants.RERUN_INFLIGHT_CHECKS,E.clusterService.rerunInflightChecks(e)),Y=e=>(0,s.action)(g.clustersConstants.GET_RERUN_INFLIGHT_CHECKS,(async e=>{const t=e.map((e=>E.clusterService.getTriggeredInflightCheckState(e)));return{data:{items:(await Promise.allSettled(t)).filter((e=>"rejected"!==e.status)).map((e=>{var t;return null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.data})),page:0,total:0}}})(e)),K=()=>(0,s.action)(g.clustersConstants.CLEAR_INFLIGHT_CHECKS),Q=()=>(0,s.action)(g.clustersConstants.CLEAR_CLUSTER_VERSIONS_RESPONSE),Z={clearClusterResponse:A,createCluster:y,registerDisconnectedCluster:I,editCluster:R,fetchClusters:H,fetchClusterDetails:V,setClusterDetails:q,clearClusterDetails:()=>(0,s.action)(g.clustersConstants.CLEAR_CLUSTER_DETAILS),invalidateClusters:C,resetCreatedClusterResponse:z,editClusterDisplayName:T,archiveCluster:P,unarchiveCluster:x,getClusterStatus:B,getInflightChecks:W,rerunInflightChecks:$,clearInflightChecks:K,getRerunInflightChecks:Y,clearInstallableVersions:Q,getInstallableVersions:e=>{const t=E.clusterService.getInstallableVersions(e);return(0,s.action)(g.clustersConstants.GET_CLUSTER_VERSIONS,t,e)}}},23557:(e,t,a)=>{"use strict";a.r(t),a.d(t,{costActions:()=>u,getReport:()=>i,getSources:()=>s,getUserAccess:()=>o});var l=a(77475),n=a(73410),r=a(22916);const i=e=>(0,l.action)(r.costConstants.GET_REPORT,n.costService.getReport(e)),s=e=>(0,l.action)(r.costConstants.GET_SOURCES,n.costService.getSources(e)),o=e=>(0,l.action)(r.costConstants.GET_USER_ACCESS,n.costService.getUserAccess(e)),u={getReport:i,getSources:s,getUserAccess:o}},30997:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,getSummaryDashboard:()=>i,getUnhealthyClusters:()=>s});var l=a(77475),n=a(73410),r=a(22916);const i=()=>(0,l.action)(r.dashboardsConstants.GET_SUMMARY_DASHBOARD,n.accountsService.getCurrentAccount().then((e=>{var t,a;return null===(a=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id})).then((e=>e?n.accountManager.getDashboard(e):Promise.reject(new Error("No logged in user")))).then((e=>{const t={},a={};return e.data.metrics.forEach((e=>{var a;e.name&&(t[e.name]=null!==(a=e.vector)&&void 0!==a?a:[])})),e.data.name&&(a[e.data.name]=t),a}))),s=e=>(0,l.action)(r.dashboardsConstants.GET_UNHEALTHY_CLUSTERS,(e=>n.accountsService.getCurrentAccount().then((e=>{var t,a;return null===(a=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id})).then((t=>t?n.accountsService.getUnhealthyClusters(t,e):Promise.reject(new Error("No logged in user")))))(e)),o={getSummaryDashboard:i,getUnhealthyClusters:s}},58108:(e,t,a)=>{"use strict";a.d(t,{py:()=>u,qT:()=>o});var l=a(77475),n=a(35920),r=a(976);const i=(e,t)=>(0,l.action)(r.SET_FEATURE,{feature:e,enabled:t}),s=(e,t)=>({name:t,action:()=>n.A.selfFeatureReview(e).then((e=>e.data.enabled))}),o=[s("hypershift-creation-wizard",r.HYPERSHIFT_WIZARD_FEATURE),s("hcp-use-unmanaged-policies",r.HCP_USE_UNMANAGED),s("osd-google-marketplace",r.OSD_GOOGLE_MARKETPLACE_FEATURE),s("osd-gcp-shared-vpc",r.OSD_GCP_SHARED_VPC_FEATURE),s("network-validator-ondemand",r.NETWORK_VALIDATOR_ONDEMAND_FEATURE),s("ocmui-unstable-cluster-versions",r.UNSTABLE_CLUSTER_VERSIONS),s("ocmui-edit-billing-account",r.OCMUI_EDIT_BILLING_ACCOUNT),s("enable-machine-configuration",r.ENABLE_MACHINE_CONFIGURATION),s("cli-sso-authorization",r.CLI_SSO_AUTHORIZATION),s("multi-region-support",r.MULTIREGION_PREVIEW_ENABLED),s("cluster-ownership-transfer",r.CLUSTER_OWNERSHIP_TRANSFER),s("gcp-workload-identity-federation",r.OSD_GCP_WIF),s("enable-create-cluster-yaml-editor",r.CREATE_CLUSTER_YAML_EDITOR),s("max-compute-nodes-500",r.MAX_COMPUTE_NODES_500)],u=()=>e=>{o.forEach((({name:t,action:a})=>a().then((a=>e(i(t,a)))).catch((()=>e(i(t,!1))))))}},16521:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DEFAULT_FLAVOUR_ID:()=>i,getDefaultFlavour:()=>s});var l=a(77475),n=a(73410),r=a(22916);const i="osd-4",s=()=>(0,l.action)(r.flavourConstants.GET_DEFAULT_FLAVOUR,n.clusterService.getFlavour(i))},2506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GITHUB_GET_LATEST_RELEASE:()=>i,getLatestRelease:()=>s});var l=a(77475),n=a(42561),r=a.n(n);const i="GITHUB_GET_LATEST_RELEASE",s=e=>(0,l.action)(i,(e=>r().get(`https://api.github.com/repos/${e}/releases/latest`))(e),{repo:e})},9059:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clearGlobalError:()=>i,setGlobalError:()=>r});var l=a(77475),n=a(2895);const r=(e,t,a)=>(0,l.action)(n.y,{errorTitle:e,errorMessage:a,sourceComponent:t}),i=e=>(0,l.action)(n.b,e)},56349:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clusterLogActions:()=>l.clusterLogActions,clustersActions:()=>n.clustersActions,costActions:()=>r.costActions,githubActions:()=>i,subscriptionReleasedActions:()=>s.subscriptionReleasedActions,tollboothActions:()=>o.f,userActions:()=>u.userActions});var l=a(1122),n=a(24239),r=a(23557),i=a(2506),s=a(5368),o=a(12434),u=a(2479)},44500:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(77475),n=a(73410),r=a(22916);const i=()=>(0,l.action)(r.loadBalancerConstants.GET_LOAD_BALANCER_VALUES,n.clusterService.getLoadBalancerQuotaValues().then((e=>e.data.items)))},11912:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clearMachineTypesByRegion:()=>c,getMachineTypes:()=>s,getMachineTypesByRegion:()=>u,getMachineTypesByRegionARN:()=>d,groupByCloudProvider:()=>i,machineTypesActions:()=>o,machineTypesByRegionActions:()=>m});var l=a(77475),n=a(73410),r=a(22916);const i=e=>{const t={};return null==e||e.forEach((e=>{var a;const l=null===(a=e.cloud_provider)||void 0===a?void 0:a.id;l&&(t[l]?t[l].push(e):t[l]=[e])})),t},s=()=>(0,l.action)(r.machineTypesConstants.GET_MACHINE_TYPES,n.clusterService.getMachineTypes().then((e=>i(e.data.items)))),o={getMachineTypes:s},u=(e,t,a,s)=>(0,l.action)(r.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION,n.clusterService.getMachineTypesByRegion(e,t,a,s).then((e=>i(e.data.items))),{region:{id:s}}),d=(e,t)=>(0,l.action)(r.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION,n.clusterService.getMachineTypesByRegionARN(e,t).then((e=>i(e.data.items))),{region:{id:t}}),c=()=>(0,l.action)(r.machineTypesConstants.RESET_INITIAL_STATE),m={getMachineTypesByRegion:u,getMachineTypesByRegionARN:d,clearMachineTypesByRegion:c}},35476:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(77475),n=a(73410),r=a(22916);const i=()=>(0,l.action)(r.persistentStorageConstants.GET_PERSISTENT_STORAGE_VALUES,n.clusterService.getStorageQuotaValues().then((e=>e.data.items)))},5368:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clearToggleSubscriptionReleasedResponse:()=>s,subscriptionReleasedActions:()=>o,toggleSubscriptionReleased:()=>i});var l=a(77475),n=a(56480),r=a(73410);const i=(e,t)=>{const a=t?null:{notifications:{fulfilled:{variant:"success",title:"Cluster ownership transfer canceled",dismissDelay:8e3,dismissable:!1}}};return(0,l.action)(n.B,r.accountsService.editSubscription(e,{released:t}),a)},s=()=>(0,l.action)(n.p),o={toggleSubscriptionReleased:i,clearToggleSubscriptionReleasedResponse:s}},53302:(e,t,a)=>{"use strict";a.d(t,{H7:()=>s,pu:()=>i});var l=a(77475),n=a(73410),r=a(22916);const i=(e,t)=>(0,l.action)(r.subscriptionSettingsConstants.EDIT_SUBSCRIPTION_SETTINGS,n.accountsService.editSubscription(e,t)),s=()=>(0,l.action)(r.subscriptionSettingsConstants.CLEAR_EDIT_SUBSCRIPTION_SETTINGS_RESPONSE)},56540:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clearSubscriptionIDForCluster:()=>f,fetchAccount:()=>u,fetchQuotaCost:()=>m,fetchSubscriptionIDForCluster:()=>p,getSubscriptions:()=>d,invalidateSubscriptions:()=>c,subscriptionsActions:()=>E});var l=a(77475),n=a(16460),r=a(59067),i=a(73410),s=a(22916),o=a(95762);const u=()=>(0,l.action)(s.subscriptionsConstants.GET_ACCOUNT,i.accountsService.getCurrentAccount()),d=e=>(0,l.action)(s.subscriptionsConstants.GET_SUBSCRIPTIONS,(async e=>{let t={};const a=await i.authorizationsService.selfResourceReview({action:r.SelfResourceReviewRequest.action.UPDATE,resource_type:r.SelfResourceReviewRequest.resource_type.CLUSTER});return t=(0,o.buildPermissionDict)(a),i.accountsService.getSubscriptions(e).then((e=>{var a;return null===(a=e.data.items)||void 0===a||a.forEach((e=>{e.canEdit=t["*"]||!!e.cluster_id&&!!t[e.cluster_id]})),e}))})(e)),c=()=>(0,l.action)((0,o.INVALIDATE_ACTION)(s.subscriptionsConstants.GET_SUBSCRIPTIONS)),m=e=>(0,l.action)(s.subscriptionsConstants.GET_QUOTA_COST,i.accountsService.getOrganizationQuota(e)),p=e=>(0,l.action)(s.subscriptionsConstants.GET_SUBSCRIPTION_ID,(e=>(0,n.A)(e)?i.accountsService.fetchSubscriptionByExternalId(e).then((e=>{var t,a,l;return null===(l=null===(a=null===(t=e.data)||void 0===t?void 0:t.items)||void 0===a?void 0:a[0])||void 0===l?void 0:l.id})):i.clusterService.getClusterDetails(e).then((e=>{var t;return null===(t=e.data.subscription)||void 0===t?void 0:t.id})))(e)),f=()=>(0,l.action)(s.subscriptionsConstants.CLEAR_SUBSCRIPTION_ID),E={fetchAccount:u,fetchQuotaCost:m,getSubscriptions:d,invalidateSubscriptions:c,fetchSubscriptionIDForCluster:p,clearSubscriptionIDForCluster:f}},13683:(e,t,a)=>{"use strict";a.r(t),a.d(t,{addNotificationContact:()=>m,buildNotificationsMeta:()=>s,clearAddNotificationContacts:()=>u,clearDeleteNotificationContacts:()=>d,clearNotificationContacts:()=>o,deleteNotificationContact:()=>p,getNotificationContacts:()=>c,getSupportCases:()=>f});var l=a(77475),n=a(99447),r=a(73410),i=a(95762);const s=(e,t)=>({notifications:{fulfilled:{variant:"success",title:e,dismissDelay:8e3,dismissable:!1}},accountID:t}),o=()=>(0,l.action)((0,i.INVALIDATE_ACTION)(n.oq)),u=()=>(0,l.action)((0,i.INVALIDATE_ACTION)(n.BW)),d=()=>(0,l.action)((0,i.INVALIDATE_ACTION)(n.hh)),c=e=>(0,l.action)(n.DB,r.accountsService.getNotificationContacts(e),{subscriptionID:e}),m=(e,t)=>(0,l.action)(n.BW,r.accountsService.addNotificationContact(e,t)),p=(e,t)=>(0,l.action)(n.hh,r.accountsService.deleteNotificationContact(e,t),s("Notification contact deleted successfully",t)),f=e=>(0,l.action)(n.bP,r.accountsService.getSupportCases(e),{subscriptionID:e})},87201:(e,t,a)=>{"use strict";a.d(t,{O:()=>i});var l=a(77475),n=a(39357),r=a(78634);const i=()=>(0,l.action)(r.A,(0,n.A)())},12434:(e,t,a)=>{"use strict";a.d(t,{O:()=>r,f:()=>i});var l=a(77475),n=a(98639);const r="FETCH_AUTHORIZATION_TOKEN",i={createAuthToken:()=>(0,l.action)(r,(0,n.r)())}},33799:(e,t,a)=>{"use strict";a.r(t),a.d(t,{fetchUpgradeGates:()=>o,rejectGateAction:()=>d,setClusterUpgradeGate:()=>u,upgradeGateActions:()=>c});var l=a(77475),n=a(99908),r=a(73410),i=a(22916),s=a(95762);const o=()=>(0,l.action)(i.clustersConstants.GET_UPGRADE_GATES,r.clusterService.getUpgradeGates().then((e=>e.data.items))),u=e=>(0,l.action)(i.clustersConstants.SET_CLUSTER_UPGRADE_GATE,e),d=e=>({type:(0,s.REJECTED_ACTION)(n.POST_UPGRADE_SCHEDULE),error:e,payload:e}),c={fetchUpgradeGates:o,setClusterUpgradeGate:u,rejectGateAction:d}},2479:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getOrganizationAndQuota:()=>c,selfTermsReview:()=>m,userActions:()=>p,userInfoResponse:()=>s});var l=a(77475),n=a(1727),r=a(73410),i=a(22916);const s=e=>(0,l.action)(i.userConstants.USER_INFO_RESPONSE,e),o=e=>{var t,a;return{items:(null!==(a=null===(t=e.data)||void 0===t?void 0:t.items)&&void 0!==a?a:[]).map(n.tS)}},u=e=>r.accountsService.getOrganizationQuota(e).then(o),d=(e,t)=>{const a=[u(e),t?Promise.resolve({data:t}):r.accountsService.getOrganization(e)];return Promise.all(a).then((([e,t])=>({quota:e,organization:t.data})))},c=()=>(e,t)=>{var a;const{userProfile:n}=t(),s=(null==n?void 0:n.organization.fulfilled)?null===(a=null==n?void 0:n.organization)||void 0===a?void 0:a.details:void 0,o=null==s?void 0:s.id;var u;e((u=void 0!==o?d(o,s):r.accountsService.getCurrentAccount().then((e=>{var t,a;const l=null===(a=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id;return void 0!==l?d(l):Promise.reject(Error("No organization"))})),(0,l.action)(i.userConstants.GET_ORGANIZATION,u)))},m=()=>(0,l.action)(i.userConstants.SELF_TERMS_REVIEW,r.authorizationsService.selfTermsReview()),p={userInfoResponse:s,getOrganizationAndQuota:c,processQuota:o,selfTermsReview:m}},27241:(e,t,a)=>{"use strict";a.r(t),a.d(t,{onClearFiltersAndFlags:()=>f,onFirstPage:()=>i,onLastPage:()=>s,onListFilterSet:()=>m,onListFlagsSet:()=>p,onListSortBy:()=>E,onNextPage:()=>u,onPageInput:()=>d,onPerPageSelect:()=>c,onPreviousPage:()=>o,onSetTotalClusters:()=>r,viewActions:()=>g});var l=a(77475),n=a(22916);const r=(e,t)=>(0,l.action)(n.viewPaginationConstants.SET_TOTAL_ITEMS,{viewType:t,totalCount:e||0}),i=e=>(0,l.action)(n.viewPaginationConstants.VIEW_FIRST_PAGE,{viewType:e}),s=e=>(0,l.action)(n.viewPaginationConstants.VIEW_LAST_PAGE,{viewType:e}),o=e=>(0,l.action)(n.viewPaginationConstants.VIEW_PREVIOUS_PAGE,{viewType:e}),u=e=>(0,l.action)(n.viewPaginationConstants.VIEW_NEXT_PAGE,{viewType:e}),d=(e,t)=>(0,l.action)(n.viewPaginationConstants.VIEW_PAGE_NUMBER,{viewType:t,pageNumber:e}),c=(e,t,a)=>(0,l.action)(n.viewPaginationConstants.SET_PER_PAGE,{viewType:t,pageSize:e,updatePageCounts:a}),m=(e,t)=>(0,l.action)(n.viewPaginationConstants.VIEW_SET_LIST_FILTER,{viewType:t,filter:e}),p=(e,t,a)=>(0,l.action)(n.viewPaginationConstants.VIEW_SET_LIST_FLAGS,{viewType:a,key:e,value:t}),f=e=>(0,l.action)(n.viewPaginationConstants.VIEW_CLEAR_FILTERS_AND_FLAGS,{viewType:e}),E=(e,t)=>(0,l.action)(n.viewPaginationConstants.VIEW_CHANGE_SORT,{viewType:t,sorting:e}),g={onFirstPage:i,onLastPage:s,onPreviousPage:o,onNextPage:u,onPageInput:d,onPerPageSelect:c,onListFilterSet:m,onListFlagsSet:p,onListSortBy:E,onClearFiltersAndFlags:f,onSetTotalClusters:r}},50120:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});const l={GET_OCM_ROLES:"GET_OCM_ROLES",GRANT_OCM_ROLE:"GRANT_OCM_ROLE",DELETE_OCM_ROLE:"DELETE_OCM_ROLE",CLEAR_GET_OCM_ROLES_RESPONSE:"CLEAR_GET_OCM_ROLES_RESPONSE",CLEAR_GRANT_OCM_ROLE_RESPONSE:"CLEAR_GRANT_OCM_ROLE_RESPONSE",CLEAR_DELETE_OCM_ROLE_RESPONSE:"CLEAR_DELETE_OCM_ROLE_RESPONSE"}},86051:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CAN_MAKE_ACCESS_REQUEST_DECISION:()=>m,GET_ACCESS_PROTECTION:()=>f,GET_ACCESS_REQUEST:()=>n,GET_ACCESS_REQUESTS:()=>l,GET_ORGANIZATION_ACCESS_PROTECTION:()=>E,GET_ORGANIZATION_PENDING_ACCESS_REQUESTS:()=>o,GET_PENDING_ACCESS_REQUESTS:()=>s,POST_ACCESS_REQUEST_DECISION:()=>d,RESET_ACCESS_PROTECTION:()=>g,RESET_ACCESS_REQUEST:()=>i,RESET_ACCESS_REQUESTS:()=>r,RESET_CAN_MAKE_ACCESS_REQUEST_DECISION:()=>h,RESET_GET_PENDING_ACCESS_REQUESTS:()=>u,RESET_ORGANIZATION_ACCESS_PROTECTION:()=>v,RESET_ORGANIZATION_PENDING_ACCESS_REQUESTS:()=>p,RESET_POST_ACCESS_REQUEST_DECISION:()=>c});const l="GET_ACCESS_REQUESTS",n="GET_ACCESS_REQUEST",r="RESET_ACCESS_REQUESTS",i="RESET_ACCESS_REQUEST",s="GET_PENDING_ACCESS_REQUESTS",o="GET_ORGANIZATION_PENDING_ACCESS_REQUESTS",u="RESET_GET_PENDING_ACCESS_REQUESTS",d="POST_ACCESS_REQUEST_DECISION",c="RESET_POST_ACCESS_REQUEST_DECISION",m="CAN_MAKE_ACCESS_REQUEST_DECISION",p="RESET_ORGANIZATION_PENDING_ACCESS_REQUESTS",f="GET_ACCESS_PROTECTION",E="GET_ORGANIZATION_ACCESS_PROTECTION",g="RESET_ACCESS_PROTECTION",v="RESET_ORGANIZATION_ACCESS_PROTECTION",h="RESET_CAN_MAKE_ACCESS_REQUEST_DECISION"},21345:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});const l="CREATE_ENTITLEMENT_CONFIG"},976:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLI_SSO_AUTHORIZATION:()=>d,CLUSTER_OWNERSHIP_TRANSFER:()=>m,CREATE_CLUSTER_YAML_EDITOR:()=>g,ENABLE_MACHINE_CONFIGURATION:()=>u,HCP_USE_UNMANAGED:()=>o,HYPERSHIFT_WIZARD_FEATURE:()=>n,MAX_COMPUTE_NODES_500:()=>f,MULTIREGION_PREVIEW_ENABLED:()=>c,NETWORK_VALIDATOR_ONDEMAND_FEATURE:()=>s,OCMUI_EDIT_BILLING_ACCOUNT:()=>v,OSD_GCP_SHARED_VPC_FEATURE:()=>i,OSD_GCP_WIF:()=>E,OSD_GOOGLE_MARKETPLACE_FEATURE:()=>r,SET_FEATURE:()=>l,UNSTABLE_CLUSTER_VERSIONS:()=>p});const l="SET_FEATURE",n="HYPERSHIFT_WIZARD_FEATURE",r="OSD_GOOGLE_MARKETPLACE_FEATURE",i="OSD_GCP_SHARED_VPC_FEATURE",s="NETWORK_VALIDATOR_ONDEMAND_FEATURE",o="HCP_USE_UNMANAGED",u="ENABLE_MACHINE_CONFIGURATION",d="CLI_SSO_AUTHORIZATION",c="MULTIREGION_PREVIEW_ENABLED",m="CLUSTER_OWNERSHIP_TRANSFER",p="UNSTABLE_CLUSTER_VERSIONS",f="MAX_COMPUTE_NODES_500",E="OSD_GCP_WIF",g="CREATE_CLUSTER_YAML_EDITOR",v="OCMUI_EDIT_BILLING_ACCOUNT"},63537:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GET_DEFAULT_FLAVOUR:()=>l});const l="GET_DEFAULT_FLAVOUR"},2895:(e,t,a)=>{"use strict";a.d(t,{b:()=>n,y:()=>l});const l="SET_GLOBAL_ERROR",n="CLEAR_GLOBAL_ERROR"},22916:(e,t,a)=>{"use strict";a.r(t),a.d(t,{accessRequestConstants:()=>h,cloudProviderConstants:()=>l,clusterAutoscalerConstants:()=>n,clusterLogConstants:()=>v,clustersConstants:()=>r,costConstants:()=>i,dashboardsConstants:()=>s,dnsDomainsConstants:()=>o,featureConstants:()=>ge,flavourConstants:()=>ve,loadBalancerConstants:()=>u,machineTypesConstants:()=>d,persistentStorageConstants:()=>c,subscriptionSettingsConstants:()=>p,subscriptionsConstants:()=>m,userConstants:()=>f,viewConstants:()=>xe,viewOptionsConstants:()=>E,viewPaginationConstants:()=>g});var l={};a.r(l),a.d(l,{GET_CLOUD_PROVIDERS:()=>b,default:()=>S});var n={};a.r(n),a.d(n,{CLEAR_GET_CLUSTER_AUTOSCALER_RESPONSE:()=>T,CLEAR_LAST_ACTION_RESULT:()=>R,DISABLE_CLUSTER_AUTOSCALER:()=>y,ENABLE_CLUSTER_AUTOSCALER:()=>C,GET_CLUSTER_AUTOSCALER:()=>_,SET_HAS_INITIAL_AUTOSCALER:()=>A,UPDATE_CLUSTER_AUTOSCALER:()=>I,default:()=>O});var r={};a.r(r),a.d(r,{ARCHIVE_CLUSTER:()=>N,CLEAR_CLUSTER_ARCHIVE_RESPONSE:()=>w,CLEAR_CLUSTER_DETAILS:()=>j,CLEAR_CLUSTER_HIBERNATE_RESPONSE:()=>Z,CLEAR_CLUSTER_UNARCHIVE_RESPONSE:()=>k,CLEAR_CLUSTER_VERSIONS_RESPONSE:()=>$,CLEAR_DISPLAY_NAME_RESPONSE:()=>P,CLEAR_INFLIGHT_CHECKS:()=>B,CLEAR_RESUME_CLUSTER_RESPONSE:()=>J,CLEAR_UPGRADE_TRIAL_CLUSTER_RESPONSE:()=>te,CREATE_CLUSTER:()=>D,EDIT_CLUSTER:()=>L,GET_CLUSTERS:()=>F,GET_CLUSTERS_WITH_PARAMS:()=>x,GET_CLUSTER_AWS_ACCOUNT_ID:()=>K,GET_CLUSTER_DETAILS:()=>G,GET_CLUSTER_STATUS:()=>V,GET_CLUSTER_UPGRADE_GATES:()=>le,GET_CLUSTER_VERSIONS:()=>Y,GET_INFLIGHT_CHECKS:()=>q,GET_RERUN_INFLIGHT_CHECKS:()=>W,GET_TECH_PREVIEW:()=>re,GET_UPGRADE_GATES:()=>ae,HIBERNATE_CLUSTER:()=>Q,RERUN_INFLIGHT_CHECKS:()=>z,RESET_CREATED_CLUSTER_RESPONSE:()=>H,RESUME_CLUSTER:()=>X,SET_CLUSTER_DETAILS:()=>U,SET_CLUSTER_UPGRADE_GATE:()=>ne,UNARCHIVE_CLUSTER:()=>M,UPGRADE_TRIAL_CLUSTER:()=>ee});var i={};a.r(i),a.d(i,{GET_REPORT:()=>ie,GET_SOURCES:()=>se,GET_USER_ACCESS:()=>oe});var s={};a.r(s),a.d(s,{GET_SUMMARY_DASHBOARD:()=>ue,GET_UNHEALTHY_CLUSTERS:()=>de,SUMMARY_DASHBOARD:()=>ce});var o={};a.r(o),a.d(o,{CLEAR_CREATED_DNS_DOMAIN:()=>Ee,CREATE_DNS_DOMAIN:()=>pe,DELETE_DNS_DOMAIN:()=>fe,GET_DNS_DOMAINS:()=>me});var u={};a.r(u),a.d(u,{GET_LOAD_BALANCER_VALUES:()=>he,default:()=>be});var d={};a.r(d),a.d(d,{GET_MACHINE_TYPES:()=>Se,GET_MACHINE_TYPES_BY_REGION:()=>_e,RESET_INITIAL_STATE:()=>Ce,default:()=>ye});var c={};a.r(c),a.d(c,{GET_PERSISTENT_STORAGE_VALUES:()=>Ie,default:()=>Ae});var m={};a.r(m),a.d(m,{CLEAR_SUBSCRIPTION_ID:()=>De,GET_ACCOUNT:()=>Re,GET_QUOTA_COST:()=>Oe,GET_SUBSCRIPTIONS:()=>Te,GET_SUBSCRIPTION_ID:()=>Pe});var p={};a.r(p),a.d(p,{CLEAR_EDIT_SUBSCRIPTION_SETTINGS_RESPONSE:()=>Ne,EDIT_SUBSCRIPTION_SETTINGS:()=>Le});var f={};a.r(f),a.d(f,{GET_ORGANIZATION:()=>Me,SELF_TERMS_REVIEW:()=>ke,USER_INFO_RESPONSE:()=>we,default:()=>Fe});var E={};a.r(E),a.d(E,{VIEW_MY_CLUSTERS_ONLY_CHANGED:()=>Ge,default:()=>Ue});var g={};a.r(g),a.d(g,{SET_PER_PAGE:()=>Be,SET_TOTAL_ITEMS:()=>Qe,VIEW_CHANGE_SORT:()=>Ke,VIEW_CLEAR_FILTERS_AND_FLAGS:()=>Ye,VIEW_FIRST_PAGE:()=>je,VIEW_LAST_PAGE:()=>He,VIEW_NEXT_PAGE:()=>qe,VIEW_PAGE_NUMBER:()=>ze,VIEW_PREVIOUS_PAGE:()=>Ve,VIEW_SET_LIST_FILTER:()=>We,VIEW_SET_LIST_FLAGS:()=>$e});var v=a(8028),h=a(86051);const b="GET_CLOUD_PROVIDERS",S=b,_="GET_CLUSTER_AUTOSCALER",C="ENABLE_CLUSTER_AUTOSCALER",y="DISABLE_CLUSTER_AUTOSCALER",I="UPDATE_CLUSTER_AUTOSCALER",A="SET_HAS_INITIAL_AUTOSCALER",R="CLEAR_LAST_ACTION_RESULT",T="CLEAR_GET_CLUSTER_AUTOSCALER_RESPONSE",O=_,P="CLEAR_DISPLAY_NAME_RESPONSE",D="CREATE_CLUSTER",L="EDIT_CLUSTER",N="ARCHIVE_CLUSTER",w="CLEAR_CLUSTER_ARCHIVE_RESPONSE",M="UNARCHIVE_CLUSTER",k="CLEAR_CLUSTER_UNARCHIVE_RESPONSE",F="GET_CLUSTERS",x="GET_CLUSTERS_WITH_PARAMS",G="GET_CLUSTER_DETAILS",U="SET_CLUSTER_DETAILS",j="CLEAR_CLUSTER_DETAILS",H="RESET_CREATED_CLUSTER_RESPONSE",V="GET_CLUSTER_STATUS",q="GET_INFLIGHT_CHECKS",z="RERUN_INFLIGHT_CHECKS",B="CLEAR_INFLIGHT_CHECKS",W="GET_RERUN_INFLIGHT_CHECKS",$="CLEAR_CLUSTER_VERSIONS_RESPONSE",Y="GET_CLUSTER_VERSIONS",K="GET_CLUSTER_AWS_ACCOUNT_ID",Q="HIBERNATE_CLUSTER",Z="CLEAR_CLUSTER_HIBERNATE_RESPONSE",X="RESUME_CLUSTER",J="CLEAR_RESUME_CLUSTER_RESPONSE",ee="UPGRADE_TRIAL_CLUSTER",te="CLEAR_UPGRADE_TRIAL_CLUSTER_RESPONSE",ae="GET_UPGRADE_GATES",le="GET_CLUSTER_UPGRADE_GATES",ne="SET_CLUSTER_UPGRADE_GATE",re="GET_TECH_PREVIEW",ie="GET_REPORT",se="GET_SOURCES",oe="GET_USER_ACCESS",ue="GET_SUMMARY_DASHBOARD",de="GET_UNHEALTHY_CLUSTERS",ce="summary",me="GET_DNS_DOMAINS",pe="CREATE_DNS_DOMAIN",fe="DELETE_DNS_DOMAIN",Ee="CLEAR_CREATED_DNS_DOMAIN";var ge=a(976),ve=a(63537);const he="GET_LOAD_BALANCER_VALUES",be=he,Se="GET_MACHINE_TYPES",_e="GET_MACHINE_TYPES_BY_REGION",Ce="RESET_INITIAL_STATE",ye=Se,Ie="GET_PERSISTENT_STORAGE_VALUES",Ae=Ie,Re="GET_ACCOUNT",Te="GET_SUBSCRIPTIONS",Oe="GET_QUOTA_COST",Pe="GET_SUBSCRIPTION_ID",De="CLEAR_SUBSCRIPTION_ID",Le="EDIT_SUBSCRIPTION_SETTINGS",Ne="CLEAR_EDIT_SUBSCRIPTION_SETTINGS_RESPONSE",we="USER_INFO_RESPONSE",Me="GET_ORGANIZATION",ke="SELF_TERMS_REVIEW",Fe={USER_INFO_RESPONSE:we,GET_ORGANIZATION:Me,SELF_TERMS_REVIEW:ke};var xe=a(67285);const Ge="VIEW_MY_CLUSTERS_ONLY_CHANGED",Ue={VIEW_MY_CLUSTERS_ONLY_CHANGED:Ge},je="VIEW_FIRST_PAGE",He="VIEW_LAST_PAGE",Ve="VIEW_PREVIOUS_PAGE",qe="VIEW_NEXT_PAGE",ze="VIEW_PAGE_NUMBER",Be="SET_PER_PAGE",We="VIEW_SET_LIST_FILTER",$e="VIEW_SET_LIST_FLAGS",Ye="VIEW_CLEAR_FILTERS_AND_FLAGS",Ke="VIEW_CHANGE_SORT",Qe="SET_TOTAL_ITEMS"},99447:(e,t,a)=>{"use strict";a.d(t,{BW:()=>n,DB:()=>l,bP:()=>s,hh:()=>r,oq:()=>i});const l="GET_NOTIFICATION_CONTACTS",n="ADD_NOTIFICATION_CONTACT",r="DELETE_NOTIFICATION_CONTACT",i="NOTIFICATION_CONTACTS",s="GET_SUPPORT_CASES"},78634:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});const l="GET_SUPPORT_STATUS"},67285:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ACCESS_REQUESTS_VIEW:()=>l,ARCHIVED_CLUSTERS_VIEW:()=>r,CLUSTERS_VIEW:()=>n,CLUSTER_LOGS_VIEW:()=>i,OVERVIEW_EXPIRED_TRIALS:()=>o,OVERVIEW_VIEW:()=>s,default:()=>u});const l="ACCESS_REQUESTS_VIEW",n="CLUSTERS_VIEW",r="ARCHIVED_CLUSTERS_VIEW",i="CLUSTER_LOGS_VIEW",s="OVERVIEW_VIEW",o="OVERVIEW_EXPIRED_TRIALS",u={ACCESS_REQUESTS_VIEW:l,CLUSTERS_VIEW:n,ARCHIVED_CLUSTERS_VIEW:r,CLUSTER_LOGS_VIEW:i,OVERVIEW_VIEW:s,OVERVIEW_EXPIRED_TRIALS:o}},32777:(e,t,a)=>{"use strict";a.d(t,{fO:()=>p,m:()=>c,qh:()=>f,sU:()=>m});var l=a(71468),n=a(73410),r=a(77475),i=a(22916),s=a(95762);const o=(e,t)=>(0,r.action)((0,s.PENDING_ACTION)(i.clustersConstants.GET_TECH_PREVIEW),{product:e,type:t}),u=(e,t)=>(0,r.action)((0,s.REJECTED_ACTION)(i.clustersConstants.GET_TECH_PREVIEW),{product:e,type:t}),d=(e,t,a)=>(0,r.action)((0,s.FULFILLED_ACTION)(i.clustersConstants.GET_TECH_PREVIEW),{product:e,type:t,data:a}),c=(e,t,a)=>e.clusters.techPreview[t]&&e.clusters.techPreview[t][a],m=(e,t)=>(0,l.d4)((a=>c(a,e,t))),p=async(e,t,a)=>(e(o(t,a)),n.clusterService.getTechPreviewStatus(t,a).then((l=>e(d(t,a,l.data)))).catch((l=>e(u(t,a))))),f=(e,t)=>{const a=(0,l.wA)();return()=>p(a,e,t)}},25514:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useGetTechPreviewStatus:()=>n.qh,useGlobalState:()=>l.useGlobalState,useTechPreviewStatus:()=>n.sU});var l=a(36165),n=a(32777)},36165:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useGlobalState:()=>l});const l=a(71468).d4},8111:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>c,vI:()=>o});var l=a(1932),n=a(89217),r=a(52202),i=a(95762);const s={ccsCredentialsValidity:{...i.baseRequestState,cloudProvider:void 0,credentials:void 0},gcpKeyRings:{...i.baseRequestState,cloudProvider:void 0,credentials:void 0,keyLocation:void 0,data:{items:[]}},gcpKeys:{...i.baseRequestState,cloudProvider:void 0,credentials:void 0,keyLocation:void 0,keyRing:void 0,data:{items:[]}},regions:{...i.baseRequestState,cloudProvider:void 0,credentials:void 0,openshiftVersionId:void 0,data:{byID:{}}},vpcs:{...i.baseRequestState,cloudProvider:void 0,credentials:void 0,region:void 0,data:{items:[]}}},o=(e,t)=>{if(e.name&&!t.name)return-1;if(t.name&&!e.name)return 1;const a=e.name||e.id||"",l=t.name||t.id||"";return a.localeCompare(l)},u=e=>{const t={};return(e.items||[]).forEach((e=>{e.id&&(t[e.id]=e)})),t};function d(e=s,t){return(0,l.jM)(e,(a=>{var l,d,c,m,p,f,E,g,v,h,b,S,_,C,y,I,A,R,T,O,P,D,L,N,w,M,k,F,x,G;switch(t.type){case(0,i.PENDING_ACTION)(r.VALIDATE_CLOUD_PROVIDER_CREDENTIALS):a.ccsCredentialsValidity.pending=!0;break;case(0,i.FULFILLED_ACTION)(r.VALIDATE_CLOUD_PROVIDER_CREDENTIALS):a.ccsCredentialsValidity={...i.baseRequestState,fulfilled:!0,credentials:t.meta.credentials,cloudProvider:t.meta.cloudProvider};break;case(0,i.REJECTED_ACTION)(r.VALIDATE_CLOUD_PROVIDER_CREDENTIALS):a.ccsCredentialsValidity={...s.ccsCredentialsValidity,...(0,n.getErrorState)(t),credentials:null===(l=t.meta)||void 0===l?void 0:l.credentials,cloudProvider:null===(d=t.meta)||void 0===d?void 0:d.cloudProvider};break;case r.CLEAR_CCS_CREDENTIALS_INQUIRY:return{...e,ccsCredentialsValidity:{...s.ccsCredentialsValidity}};case(0,i.PENDING_ACTION)(r.LIST_GCP_KEY_RINGS):a.gcpKeyRings.pending=!0;break;case(0,i.FULFILLED_ACTION)(r.LIST_GCP_KEY_RINGS):a.gcpKeyRings={...i.baseRequestState,fulfilled:!0,cloudProvider:null===(c=t.meta)||void 0===c?void 0:c.cloudProvider,credentials:null===(m=t.meta)||void 0===m?void 0:m.credentials,keyLocation:null===(p=t.meta)||void 0===p?void 0:p.keyLocation,data:{items:t.payload.data.items||[]}};break;case(0,i.REJECTED_ACTION)(r.LIST_GCP_KEY_RINGS):a.gcpKeyRings={...s.gcpKeyRings,...(0,n.getErrorState)(t),cloudProvider:null===(f=t.meta)||void 0===f?void 0:f.cloudProvider,credentials:null===(E=t.meta)||void 0===E?void 0:E.credentials,keyLocation:null===(g=t.meta)||void 0===g?void 0:g.keyLocation};break;case(0,i.PENDING_ACTION)(r.LIST_GCP_KEYS):a.gcpKeys.pending=!0;break;case(0,i.FULFILLED_ACTION)(r.LIST_GCP_KEYS):a.gcpKeys={...i.baseRequestState,fulfilled:!0,cloudProvider:null===(v=t.meta)||void 0===v?void 0:v.cloudProvider,credentials:null===(h=t.meta)||void 0===h?void 0:h.credentials,keyLocation:null===(b=t.meta)||void 0===b?void 0:b.keyLocation,keyRing:null===(S=t.meta)||void 0===S?void 0:S.keyRing,data:{items:t.payload.data.items||[]}};break;case(0,i.REJECTED_ACTION)(r.LIST_GCP_KEYS):a.gcpKeys={...s.gcpKeys,...(0,n.getErrorState)(t),cloudProvider:null===(_=t.meta)||void 0===_?void 0:_.cloudProvider,credentials:null===(C=t.meta)||void 0===C?void 0:C.credentials,keyLocation:null===(y=t.meta)||void 0===y?void 0:y.keyLocation,keyRing:null===(I=t.meta)||void 0===I?void 0:I.keyRing};break;case(0,i.PENDING_ACTION)(r.LIST_REGIONS):a.regions.pending=!0;break;case(0,i.FULFILLED_ACTION)(r.LIST_REGIONS):a.regions={...i.baseRequestState,fulfilled:!0,cloudProvider:null===(A=t.meta)||void 0===A?void 0:A.cloudProvider,credentials:null===(R=t.meta)||void 0===R?void 0:R.credentials,openshiftVersionId:null===(T=t.meta)||void 0===T?void 0:T.openshiftVersionId,data:{byID:u(t.payload.data)}};break;case(0,i.REJECTED_ACTION)(r.LIST_REGIONS):a.regions={...s.regions,...(0,n.getErrorState)(t),cloudProvider:null===(O=t.meta)||void 0===O?void 0:O.cloudProvider,credentials:null===(P=t.meta)||void 0===P?void 0:P.credentials,openshiftVersionId:null===(D=t.meta)||void 0===D?void 0:D.openshiftVersionId};break;case(0,i.PENDING_ACTION)(r.LIST_VPCS):a.vpcs.pending=!0;break;case(0,i.FULFILLED_ACTION)(r.LIST_VPCS):{const e=t.payload.data.items||[],l="aws"===(null===(L=t.meta)||void 0===L?void 0:L.cloudProvider)?{items:e.map((e=>{if(e.aws_security_groups){const t=e.aws_security_groups.filter((e=>!e.red_hat_managed));return t.sort(o),{...e,aws_security_groups:t}}return e}))}:{items:e};a.vpcs={...i.baseRequestState,fulfilled:!0,credentials:null===(N=t.meta)||void 0===N?void 0:N.credentials,cloudProvider:null===(w=t.meta)||void 0===w?void 0:w.cloudProvider,region:null===(M=t.meta)||void 0===M?void 0:M.region,subnet:null===(k=t.meta)||void 0===k?void 0:k.subnet,data:l};break}case(0,i.REJECTED_ACTION)(r.LIST_VPCS):a.vpcs={...s.vpcs,...(0,n.getErrorState)(t),credentials:null===(F=t.meta)||void 0===F?void 0:F.credentials,cloudProvider:null===(x=t.meta)||void 0===x?void 0:x.cloudProvider,region:null===(G=t.meta)||void 0===G?void 0:G.region};break;case r.CLEAR_LIST_VPCS:return{...e,vpcs:s.vpcs};case r.CLEAR_ALL_CLOUD_PROVIDER_INQUIRIES:return{...s}}}))}d.initialState=s;const c=d},95762:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FULFILLED_ACTION:()=>n,INVALIDATE_ACTION:()=>l,PENDING_ACTION:()=>r,REJECTED_ACTION:()=>i,actionTypes:()=>o,baseRequestState:()=>u,buildPermissionDict:()=>s});const l=e=>`${e}_INVALIDATE`,n=e=>`${e}_FULFILLED`,r=e=>`${e}_PENDING`,i=e=>`${e}_REJECTED`,s=e=>{const t={};return e&&e.data&&e.data.cluster_ids?(e.data.cluster_ids.forEach((e=>{t[e]=!0})),t):t},o={INVALIDATE_ACTION:l,FULFILLED_ACTION:n,PENDING_ACTION:r,REJECTED_ACTION:i},u={error:!1,pending:!1,fulfilled:!1}},17154:(e,t,a)=>{"use strict";a.d(t,{M:()=>It});var l=a(8026),n=a(79985),r=a(86274),i=a(74167);const s=()=>e=>t=>(0,i.A)(t.payload)?e(t).catch((e=>e)):e(t);var o=a(14644),u=a(11983),d=a(3678),c=a(31965);var m=a(7525),p=a(1457),f=a(56868),E=a(1932),g=a(22916),v=a(89217),h=a(95762),b=a(8028);const S={requestState:{...h.baseRequestState},logs:[],fetchedClusterLogsAt:void 0},_=(e=S,t)=>(0,E.jM)(e,(e=>{switch(t.type){case(0,h.PENDING_ACTION)(b.GET_CLUSTER_LOGS):e.requestState={...h.baseRequestState,pending:!0};break;case(0,h.FULFILLED_ACTION)(b.GET_CLUSTER_LOGS):e.requestState={...h.baseRequestState,fulfilled:!0},e.logs=t.payload.logs.data.items,e.fetchedClusterLogsAt=new Date;break;case(0,h.REJECTED_ACTION)(b.GET_CLUSTER_LOGS):e.requestState={...(0,v.getErrorState)(t)},e.fetchedClusterLogsAt=new Date;break;case g.viewPaginationConstants.VIEW_CLEAR_FILTERS_AND_FLAGS:case b.RESET_CLUSTER_HISTORY:e.requestState=h.baseRequestState}}));_.initialState=S;var C=a(14421),y=a(70952),I=a(66059);const A={getMachinePools:{...h.baseRequestState,data:[]},deleteMachinePoolResponse:{...h.baseRequestState}};function R(e=A,t){return(0,E.jM)(e,(e=>{var a;switch(t.type){case(0,h.PENDING_ACTION)(I.GET_MACHINE_POOLS):e.getMachinePools.pending=!0;break;case(0,h.FULFILLED_ACTION)(I.GET_MACHINE_POOLS):e.getMachinePools={...A.getMachinePools,fulfilled:!0,error:!1,data:(null===(a=t.payload.data)||void 0===a?void 0:a.items)||[]};break;case(0,h.REJECTED_ACTION)(I.GET_MACHINE_POOLS):e.getMachinePools={...A.getMachinePools,...(0,v.getErrorState)(t)};break;case I.CLEAR_GET_MACHINE_POOLS_RESPONSE:e.getMachinePools={...A.getMachinePools};break;case(0,h.PENDING_ACTION)(I.DELETE_MACHINE_POOL):e.deleteMachinePoolResponse.pending=!0;break;case(0,h.FULFILLED_ACTION)(I.DELETE_MACHINE_POOL):e.deleteMachinePoolResponse={...A.deleteMachinePoolResponse,fulfilled:!0,error:!1};break;case(0,h.REJECTED_ACTION)(I.DELETE_MACHINE_POOL):e.deleteMachinePoolResponse={...A.deleteMachinePoolResponse,...(0,v.getErrorState)(t)};break;case I.CLEAR_DELETE_MACHINE_POOL_RESPONSE:e.deleteMachinePoolResponse={...A.deleteMachinePoolResponse}}}))}R.initialState=A;const T=R;var O=a(42586),P=a(23178),D=a(61934);const L={updateDeleteProtection:{...h.baseRequestState}};function N(e=L,t){return(0,E.jM)(e,(e=>{switch(t.type){case(0,h.PENDING_ACTION)(D._f.UPDATE_DELETE_PROTECTION):e.updateDeleteProtection.pending=!0;break;case(0,h.FULFILLED_ACTION)(D._f.UPDATE_DELETE_PROTECTION):e.updateDeleteProtection={...h.baseRequestState,fulfilled:!0};break;case(0,h.REJECTED_ACTION)(D._f.UPDATE_DELETE_PROTECTION):e.updateDeleteProtection=(0,v.getErrorState)(t);break;case D._f.CLEAR_UPDATE_DELETE_PROTECTION_RESPONSE:e.updateDeleteProtection={...L.updateDeleteProtection}}}))}N.initialState=L;var w=a(14231),M=a(2436),k=a(81441),F=a(57175);const x={modalName:null,data:{}};function G(e=x,t){return(0,E.jM)(e,(e=>{switch(t.type){case F.z:e.modalName=t.payload.name,e.data=t.payload.data||{};break;case F.F:return x}return e}))}G.initialState=x;const U=G;var j=a(86051);const H={accessProtection:{...h.baseRequestState},organizationAccessProtection:{...h.baseRequestState}};function V(e=H,t){return(0,E.jM)(e,(e=>{switch(t.type){case(0,h.REJECTED_ACTION)(g.accessRequestConstants.GET_ACCESS_PROTECTION):e.accessProtection={...H.accessProtection,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.accessRequestConstants.GET_ACCESS_PROTECTION):e.accessProtection.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.accessRequestConstants.GET_ACCESS_PROTECTION):e.accessProtection={...h.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,h.REJECTED_ACTION)(g.accessRequestConstants.GET_ORGANIZATION_ACCESS_PROTECTION):e.organizationAccessProtection={...H.organizationAccessProtection,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.accessRequestConstants.GET_ORGANIZATION_ACCESS_PROTECTION):e.organizationAccessProtection.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.accessRequestConstants.GET_ORGANIZATION_ACCESS_PROTECTION):e.organizationAccessProtection={...h.baseRequestState,fulfilled:!0,...t.payload.data};break;case j.RESET_ACCESS_PROTECTION:e.accessProtection=H.accessProtection;break;case j.RESET_ORGANIZATION_ACCESS_PROTECTION:e.organizationAccessProtection=H.organizationAccessProtection}}))}V.initialState=H;const q={accessRequests:{...h.baseRequestState},accessRequest:{...h.baseRequestState},pendingAccessRequests:{...h.baseRequestState},pendingOrganizationAccessRequests:{...h.baseRequestState},postAccessRequestDecision:{...h.baseRequestState},canMakeDecision:{...h.baseRequestState,allowed:!1}};function z(e=q,t){return(0,E.jM)(e,(e=>{switch(t.type){case(0,h.REJECTED_ACTION)(g.accessRequestConstants.GET_ACCESS_REQUESTS):e.accessRequests={...q.accessRequests,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.accessRequestConstants.GET_ACCESS_REQUESTS):e.accessRequests.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.accessRequestConstants.GET_ACCESS_REQUESTS):e.accessRequests={...h.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,h.REJECTED_ACTION)(g.accessRequestConstants.GET_ACCESS_REQUEST):e.accessRequest={...q.accessRequest,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.accessRequestConstants.GET_ACCESS_REQUEST):e.accessRequest.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.accessRequestConstants.GET_ACCESS_REQUEST):e.accessRequest={...h.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,h.REJECTED_ACTION)(g.accessRequestConstants.GET_PENDING_ACCESS_REQUESTS):e.pendingAccessRequests={...q.pendingAccessRequests,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.accessRequestConstants.GET_PENDING_ACCESS_REQUESTS):e.pendingAccessRequests.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.accessRequestConstants.GET_PENDING_ACCESS_REQUESTS):e.pendingAccessRequests={...h.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,h.REJECTED_ACTION)(g.accessRequestConstants.GET_ORGANIZATION_PENDING_ACCESS_REQUESTS):e.pendingOrganizationAccessRequests={...q.pendingOrganizationAccessRequests,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.accessRequestConstants.GET_ORGANIZATION_PENDING_ACCESS_REQUESTS):e.pendingOrganizationAccessRequests.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.accessRequestConstants.GET_ORGANIZATION_PENDING_ACCESS_REQUESTS):e.pendingOrganizationAccessRequests={...h.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,h.REJECTED_ACTION)(g.accessRequestConstants.POST_ACCESS_REQUEST_DECISION):e.postAccessRequestDecision={...q.pendingAccessRequests,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.accessRequestConstants.POST_ACCESS_REQUEST_DECISION):e.postAccessRequestDecision.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.accessRequestConstants.POST_ACCESS_REQUEST_DECISION):e.postAccessRequestDecision={...h.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,h.REJECTED_ACTION)(g.accessRequestConstants.CAN_MAKE_ACCESS_REQUEST_DECISION):e.canMakeDecision={...q.pendingAccessRequests,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.accessRequestConstants.CAN_MAKE_ACCESS_REQUEST_DECISION):e.canMakeDecision.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.accessRequestConstants.CAN_MAKE_ACCESS_REQUEST_DECISION):e.canMakeDecision={...h.baseRequestState,fulfilled:!0,allowed:t.payload.data.allowed};break;case j.RESET_ACCESS_REQUESTS:e.accessRequests=q.accessRequests;break;case j.RESET_ACCESS_REQUEST:e.accessRequest=q.accessRequest;break;case j.RESET_GET_PENDING_ACCESS_REQUESTS:e.pendingAccessRequests=q.pendingAccessRequests;break;case j.RESET_POST_ACCESS_REQUEST_DECISION:e.postAccessRequestDecision=q.postAccessRequestDecision;break;case j.RESET_ORGANIZATION_PENDING_ACCESS_REQUESTS:e.pendingOrganizationAccessRequests=q.pendingOrganizationAccessRequests;break;case j.RESET_CAN_MAKE_ACCESS_REQUEST_DECISION:e.canMakeDecision=q.canMakeDecision}}))}z.initialState=q;var B=a(8111);const W={...h.baseRequestState,providers:{}},$=(e=W,t)=>{switch(t.type){case(0,h.REJECTED_ACTION)(g.cloudProviderConstants.GET_CLOUD_PROVIDERS):return{...W,...(0,v.getErrorState)(t)};case(0,h.PENDING_ACTION)(g.cloudProviderConstants.GET_CLOUD_PROVIDERS):return{...e,pending:!0};case(0,h.FULFILLED_ACTION)(g.cloudProviderConstants.GET_CLOUD_PROVIDERS):return{...W,providers:t.payload,fulfilled:!0};default:return e}};$.initialState=W;var Y=a(11611);const K={hasAutoscaler:!1,getAutoscaler:{...h.baseRequestState,data:void 0},editAction:{...h.baseRequestState}};function Q(e=K,t){return(0,E.jM)(e,(e=>{switch(t.type){case g.clusterAutoscalerConstants.SET_HAS_INITIAL_AUTOSCALER:e.hasAutoscaler=t.payload;break;case g.clusterAutoscalerConstants.CLEAR_LAST_ACTION_RESULT:e.editAction=K.editAction;break;case g.clusterAutoscalerConstants.CLEAR_GET_CLUSTER_AUTOSCALER_RESPONSE:return K;case(0,h.PENDING_ACTION)(g.clusterAutoscalerConstants.GET_CLUSTER_AUTOSCALER):e.getAutoscaler.pending=!0,e.getAutoscaler.data=void 0,e.hasAutoscaler=!1;break;case(0,h.FULFILLED_ACTION)(g.clusterAutoscalerConstants.GET_CLUSTER_AUTOSCALER):e.getAutoscaler.fulfilled=!0,e.getAutoscaler.pending=!1,e.getAutoscaler.data=(0,Y.getCompleteFormClusterAutoscaling)(t.payload),e.hasAutoscaler=!0;break;case(0,h.REJECTED_ACTION)(g.clusterAutoscalerConstants.GET_CLUSTER_AUTOSCALER):e.getAutoscaler.data=void 0,e.getAutoscaler.pending=!1,e.getAutoscaler.fulfilled=!1,e.getAutoscaler.error=!0,e.hasAutoscaler=!1;break;case(0,h.PENDING_ACTION)(g.clusterAutoscalerConstants.ENABLE_CLUSTER_AUTOSCALER):case(0,h.PENDING_ACTION)(g.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER):case(0,h.PENDING_ACTION)(g.clusterAutoscalerConstants.UPDATE_CLUSTER_AUTOSCALER):e.editAction={pending:!0,fulfilled:!1,error:!1};break;case(0,h.FULFILLED_ACTION)(g.clusterAutoscalerConstants.ENABLE_CLUSTER_AUTOSCALER):case(0,h.FULFILLED_ACTION)(g.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER):case(0,h.FULFILLED_ACTION)(g.clusterAutoscalerConstants.UPDATE_CLUSTER_AUTOSCALER):t.type===(0,h.FULFILLED_ACTION)(g.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER)?(e.getAutoscaler.data=void 0,e.hasAutoscaler=!1):(e.getAutoscaler.data=(0,Y.getCompleteFormClusterAutoscaling)(t.payload),e.hasAutoscaler=!0),e.editAction={pending:!1,fulfilled:!0,error:!1};break;case(0,h.REJECTED_ACTION)(g.clusterAutoscalerConstants.ENABLE_CLUSTER_AUTOSCALER):case(0,h.REJECTED_ACTION)(g.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER):case(0,h.REJECTED_ACTION)(g.clusterAutoscalerConstants.UPDATE_CLUSTER_AUTOSCALER):e.editAction=(0,v.getErrorState)(t)}}))}Q.initialState=K;var Z=a(42561),X=a.n(Z),J=a(55364),ee=a.n(J),te=a(10176);const ae={...h.baseRequestState,valid:!0},le={managed:!1,ccs:{enabled:!1}},ne={clusters:{...ae,valid:!1,meta:{},clusters:[],queryParams:{page:0,page_size:0}},clusterStatus:{...ae,status:{}},inflightChecks:{...ae,checks:[]},clusterVersions:{...ae,versions:[],params:{}},details:{...ae,cluster:le},createdCluster:{...ae,cluster:le},editedCluster:{...ae},archivedCluster:{...ae},unarchivedCluster:{...ae},hibernatingCluster:{...ae},resumeHibernatingCluster:{...ae},rerunInflightCheckReq:{...ae},rerunInflightCheckRes:{...ae,checks:[]},upgradeGates:{...ae,gates:[]},upgradedCluster:{...ae,cluster:le},techPreview:{}},re=e=>{const t=Date.now();return e.filter((e=>!e.end_of_life_timestamp||new Date(e.end_of_life_timestamp).getTime()>t)).sort(((e,t)=>(0,te.versionComparator)(t.raw_id,e.raw_id)))},ie=(e=ne,t)=>(0,E.jM)(e,(a=>{var l,n,r;switch(t.type){case(0,h.INVALIDATE_ACTION)(g.clustersConstants.GET_CLUSTERS):a.clusters={...ne.clusters};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.GET_CLUSTERS):a.clusters={...ne.clusters,...(0,v.getErrorState)(t),valid:!0,clusters:e.clusters.clusters};break;case(0,h.PENDING_ACTION)(g.clustersConstants.GET_CLUSTERS):a.clusters={...ne.clusters,pending:!0,valid:!0,clusters:e.clusters.clusters};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.GET_CLUSTERS):{const{data:e}=t.payload,n="meta"in e&&(null===(l=e.meta)||void 0===l?void 0:l.clustersServiceError)?(0,v.getErrorState)({payload:X().isAxiosError(e.meta.clustersServiceError)?e.meta.clustersServiceError:void 0}):void 0;a.clusters={...ae,clusters:e.items,queryParams:e.queryParams,meta:{clustersServiceError:!0===(null==n?void 0:n.error)?n:void 0},fulfilled:!0};break}case g.clustersConstants.SET_CLUSTER_DETAILS:{const{cluster:l,mergeDetails:n}=t.payload;a.details={...ae,cluster:n?ee()({},e.details.cluster,l):l,fulfilled:!0};break}case(0,h.REJECTED_ACTION)(g.clustersConstants.GET_CLUSTER_DETAILS):a.details={...ne.details,...(0,v.getErrorState)(t),cluster:e.details.cluster};break;case(0,h.PENDING_ACTION)(g.clustersConstants.GET_CLUSTER_DETAILS):a.details={...ne.details,pending:!0,cluster:e.details.cluster};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.GET_CLUSTER_DETAILS):a.details={...ae,fulfilled:!0,cluster:t.payload.data};break;case g.clustersConstants.CLEAR_CLUSTER_DETAILS:a.details={...ne.details};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.CREATE_CLUSTER):a.createdCluster={...ne.createdCluster,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.clustersConstants.CREATE_CLUSTER):a.createdCluster={...ne.createdCluster,pending:!0};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.CREATE_CLUSTER):a.createdCluster={...ae,cluster:t.payload.data,fulfilled:!0};break;case g.clustersConstants.RESET_CREATED_CLUSTER_RESPONSE:a.createdCluster={...ne.createdCluster};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.EDIT_CLUSTER):a.editedCluster={...ne.editedCluster,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.clustersConstants.EDIT_CLUSTER):a.editedCluster={...ne.editedCluster,pending:!0};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.EDIT_CLUSTER):a.editedCluster={...ae,fulfilled:!0};break;case g.clustersConstants.CLEAR_DISPLAY_NAME_RESPONSE:a.editedCluster={...ne.editedCluster};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.ARCHIVE_CLUSTER):a.archivedCluster={...ae,fulfilled:!0};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.ARCHIVE_CLUSTER):a.archivedCluster={...ne.archivedCluster,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.clustersConstants.ARCHIVE_CLUSTER):a.archivedCluster={...ne.archivedCluster,pending:!0};break;case g.clustersConstants.CLEAR_CLUSTER_ARCHIVE_RESPONSE:a.archivedCluster={...ne.archivedCluster};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.HIBERNATE_CLUSTER):a.hibernatingCluster={...ae,fulfilled:!0};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.HIBERNATE_CLUSTER):a.hibernatingCluster={...ne.hibernatingCluster,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.clustersConstants.HIBERNATE_CLUSTER):a.hibernatingCluster={...ne.hibernatingCluster,pending:!0};break;case g.clustersConstants.CLEAR_CLUSTER_HIBERNATE_RESPONSE:a.hibernatingCluster={...ne.hibernatingCluster};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.RESUME_CLUSTER):a.resumeHibernatingCluster={...ae,fulfilled:!0};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.RESUME_CLUSTER):a.resumeHibernatingCluster={...ne.resumeHibernatingCluster,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.clustersConstants.RESUME_CLUSTER):a.resumeHibernatingCluster={...ne.resumeHibernatingCluster,pending:!0};break;case g.clustersConstants.CLEAR_RESUME_CLUSTER_RESPONSE:a.resumeHibernatingCluster={...ne.resumeHibernatingCluster};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.UNARCHIVE_CLUSTER):a.unarchivedCluster={...ae,fulfilled:!0};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.UNARCHIVE_CLUSTER):a.unarchivedCluster={...ne.unarchivedCluster,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.clustersConstants.UNARCHIVE_CLUSTER):a.unarchivedCluster={...ne.unarchivedCluster,pending:!0};break;case g.clustersConstants.CLEAR_CLUSTER_UNARCHIVE_RESPONSE:a.unarchivedCluster={...ne.unarchivedCluster};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.UPGRADE_TRIAL_CLUSTER):a.upgradedCluster={...ae,cluster:t.payload.data,fulfilled:!0};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.UPGRADE_TRIAL_CLUSTER):a.upgradedCluster={...ne.upgradedCluster,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.clustersConstants.UPGRADE_TRIAL_CLUSTER):a.upgradedCluster={...ne.upgradedCluster,pending:!0};break;case g.clustersConstants.CLEAR_UPGRADE_TRIAL_CLUSTER_RESPONSE:a.upgradedCluster={...ne.upgradedCluster};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.GET_CLUSTER_STATUS):a.clusterStatus={...ne.clusterStatus,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.clustersConstants.GET_CLUSTER_STATUS):a.clusterStatus={...ne.clusterStatus,pending:!0,status:e.clusterStatus.status};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.GET_CLUSTER_STATUS):a.clusterStatus={...ae,fulfilled:!0,status:t.payload.data};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.GET_INFLIGHT_CHECKS):a.inflightChecks={...ne.inflightChecks,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.clustersConstants.GET_INFLIGHT_CHECKS):a.inflightChecks={...ne.inflightChecks,pending:!0,checks:e.inflightChecks.checks};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.GET_INFLIGHT_CHECKS):a.inflightChecks={...ae,fulfilled:!0,checks:t.payload.data.items||[]};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckReq={...ae,fulfilled:!0};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckReq={...ne.rerunInflightCheckReq,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.clustersConstants.RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckRes={...ne.rerunInflightCheckRes},a.rerunInflightCheckReq={...ne.rerunInflightCheckReq,pending:!0};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.GET_RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckRes={...ae,checks:t.payload.data.items||[],fulfilled:!0};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.GET_RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckRes={...ne.rerunInflightCheckRes,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.clustersConstants.GET_RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckRes={...ne.rerunInflightCheckRes,pending:!0,checks:e.rerunInflightCheckRes.checks};break;case g.clustersConstants.CLEAR_INFLIGHT_CHECKS:a.inflightChecks={...ne.inflightChecks},a.rerunInflightCheckReq={...ne.rerunInflightCheckReq},a.rerunInflightCheckRes={...ne.rerunInflightCheckRes};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.GET_CLUSTER_VERSIONS):a.clusterVersions={...ne.clusterVersions,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.clustersConstants.GET_CLUSTER_VERSIONS):a.clusterVersions={...ne.clusterVersions,pending:!0};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.GET_CLUSTER_VERSIONS):a.clusterVersions={...ae,fulfilled:!0,params:t.payload.config.params,versions:t.payload.data.items?re(t.payload.data.items):[],meta:t.meta};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.GET_TECH_PREVIEW):a.techPreview[t.payload.product]||(a.techPreview[t.payload.product]={}),a.techPreview[t.payload.product][t.payload.type]={...ae,error:!0};break;case(0,h.PENDING_ACTION)(g.clustersConstants.GET_TECH_PREVIEW):a.techPreview[t.payload.product]||(a.techPreview[t.payload.product]={}),a.techPreview[t.payload.product][t.payload.type]={...ae,pending:!0};break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.GET_TECH_PREVIEW):a.techPreview[t.payload.product]||(a.techPreview[t.payload.product]={}),a.techPreview[t.payload.product][t.payload.type]={...ae,fulfilled:!0,...t.payload.data};break;case g.clustersConstants.CLEAR_CLUSTER_VERSIONS_RESPONSE:a.clusterVersions={...ne.clusterVersions};break;case(0,h.REJECTED_ACTION)(g.clustersConstants.GET_UPGRADE_GATES):a.upgradeGates={...ne.upgradeGates,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.clustersConstants.GET_UPGRADE_GATES):a.upgradeGates.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.clustersConstants.GET_UPGRADE_GATES):a.upgradeGates={...ae,gates:null!==(n=t.payload)&&void 0!==n?n:[],fulfilled:!0};break;case g.clustersConstants.SET_CLUSTER_UPGRADE_GATE:a.details.cluster.upgradeGates=[...null!==(r=e.details.cluster.upgradeGates)&&void 0!==r?r:[],{version_gate:{id:t.payload}}];break;default:return e}}));ie.initialState=ne;const se={report:{...h.baseRequestState},sources:{...h.baseRequestState},userAccess:{...h.baseRequestState}};function oe(e=se,t){return(0,E.jM)(e,(e=>{switch(t.type){case(0,h.REJECTED_ACTION)(g.costConstants.GET_REPORT):e.report={...se.report,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.costConstants.GET_REPORT):e.report.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.costConstants.GET_REPORT):e.report={...h.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,h.REJECTED_ACTION)(g.costConstants.GET_SOURCES):e.sources={...se.sources,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.costConstants.GET_SOURCES):e.sources.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.costConstants.GET_SOURCES):e.sources={...h.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,h.REJECTED_ACTION)(g.costConstants.GET_USER_ACCESS):e.userAccess={...se.userAccess,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.costConstants.GET_USER_ACCESS):e.userAccess.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.costConstants.GET_USER_ACCESS):e.userAccess={...h.baseRequestState,fulfilled:!0,...t.payload.data}}}))}oe.initialState=se;const ue={summary:{...h.baseRequestState},unhealthyClusters:{...h.baseRequestState,subscriptions:[]}};function de(e=ue,t){return(0,E.jM)(e,(e=>{var a;switch(t.type){case(0,h.REJECTED_ACTION)(g.dashboardsConstants.GET_SUMMARY_DASHBOARD):e.summary={...ue.summary,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.dashboardsConstants.GET_SUMMARY_DASHBOARD):e.summary.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.dashboardsConstants.GET_SUMMARY_DASHBOARD):e.summary={...h.baseRequestState,fulfilled:!0,metrics:t.payload.summary};break;case(0,h.REJECTED_ACTION)(g.dashboardsConstants.GET_UNHEALTHY_CLUSTERS):e.unhealthyClusters={...ue.unhealthyClusters,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.dashboardsConstants.GET_UNHEALTHY_CLUSTERS):e.unhealthyClusters.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.dashboardsConstants.GET_UNHEALTHY_CLUSTERS):{const l=null===(a=t.payload.data.items)||void 0===a?void 0:a.map((e=>{var t,a;const l=null!==(a=null===(t=null==e?void 0:e.metrics)||void 0===t?void 0:t[0])&&void 0!==a?a:{};return{...e,metrics:l}}));e.unhealthyClusters={...h.baseRequestState,fulfilled:!0,subscriptions:null!=l?l:[]};break}}}))}de.initialState=ue;var ce=a(33031),me=a.n(ce);const pe={...h.baseRequestState,items:[],createdDnsId:"",deletedDnsId:"",isUpdatingDomains:!1};function fe(e=pe,t){switch(t.type){case(0,h.REJECTED_ACTION)(g.dnsDomainsConstants.GET_DNS_DOMAINS):return{...pe,...e,...(0,v.getErrorState)(t)};case(0,h.PENDING_ACTION)(g.dnsDomainsConstants.GET_DNS_DOMAINS):return{...pe,...e,isUpdatingDomains:!1,pending:!0};case(0,h.FULFILLED_ACTION)(g.dnsDomainsConstants.GET_DNS_DOMAINS):return{...h.baseRequestState,items:me()(t.payload.data.items||[],["id"]),isUpdatingDomains:!1,fulfilled:!0};case(0,h.REJECTED_ACTION)(g.dnsDomainsConstants.CREATE_DNS_DOMAIN):return{...pe,...e,...(0,v.getErrorState)(t),isUpdatingDomains:!1};case(0,h.PENDING_ACTION)(g.dnsDomainsConstants.CREATE_DNS_DOMAIN):return{...pe,...e,pending:!0,isUpdatingDomains:!0};case(0,h.FULFILLED_ACTION)(g.dnsDomainsConstants.CREATE_DNS_DOMAIN):{const a=t.payload.data,l=(e.items||[]).concat([a]);return{...e,items:me()(l,["id"]),error:!1,pending:!1,fulfilled:!0,isUpdatingDomains:!1,createdDnsId:a.id}}case(0,h.PENDING_ACTION)(g.dnsDomainsConstants.DELETE_DNS_DOMAIN):return{...pe,...e,deletedDnsId:t.meta.deletedDnsId,pending:!0,isUpdatingDomains:!0};case(0,h.FULFILLED_ACTION)(g.dnsDomainsConstants.DELETE_DNS_DOMAIN):return{...e,items:(e.items||[]).filter((e=>e.id!==t.meta.deletedDnsId)),error:!1,pending:!1,fulfilled:!0,isUpdatingDomains:!1,createdDnsId:""};case(0,h.REJECTED_ACTION)(g.dnsDomainsConstants.DELETE_DNS_DOMAIN):return{...pe,...e,...(0,v.getErrorState)(t),isUpdatingDomains:!1};case g.dnsDomainsConstants.CLEAR_CREATED_DNS_DOMAIN:return{...e,...h.baseRequestState,createdDnsId:"",isUpdatingDomains:!1};default:return e}}fe.initialState=pe;const Ee=fe;var ge=a(21345);const ve={...h.baseRequestState};var he=a(58108),be=a(976);const Se={};he.qT.forEach((e=>{Se[e.name]=!1}));var _e=a(16521),Ce=a(63537);const ye={...h.baseRequestState,byID:{}};var Ie=a(65702),Ae=a(2506);const Re={};Ie.githubReleasesToFetch.forEach((e=>{Re[e]=h.baseRequestState}));var Te=a(2895);const Oe={errorMessage:void 0,errorTitle:void 0,sourceComponent:void 0},Pe={...h.baseRequestState,values:[]};function De(e=Pe,t){switch(t.type){case(0,h.REJECTED_ACTION)(g.loadBalancerConstants.GET_LOAD_BALANCER_VALUES):return{...Pe,...(0,v.getErrorState)(t)};case(0,h.PENDING_ACTION)(g.loadBalancerConstants.GET_LOAD_BALANCER_VALUES):return{...e,pending:!0};case(0,h.FULFILLED_ACTION)(g.loadBalancerConstants.GET_LOAD_BALANCER_VALUES):return{...h.baseRequestState,fulfilled:!0,values:t.payload};default:return e}}De.initialState=Pe;var Le=a(38970),Ne=a.n(Le);const we={...h.baseRequestState,types:{},typesByID:{},region:void 0};function Me(e=we,t){switch(t.type){case(0,h.REJECTED_ACTION)(g.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION):return{...we,...e,region:t.meta.region,...(0,v.getErrorState)(t)};case(0,h.PENDING_ACTION)(g.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION):return{...we,region:t.meta.region,pending:!0};case(0,h.FULFILLED_ACTION)(g.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION):return{...h.baseRequestState,types:t.payload,typesByID:(a=t.payload,Ne()([...null!==(l=a.aws)&&void 0!==l?l:[],...null!==(n=a.gcp)&&void 0!==n?n:[]],"id")),fulfilled:!0,region:t.meta.region};case g.machineTypesConstants.RESET_INITIAL_STATE:return{...h.baseRequestState,types:void 0,typesByID:void 0,fulfilled:!1,region:void 0};default:return e}var a,l,n}Me.initialState=we;const ke=Me,Fe={...h.baseRequestState,types:{},typesByID:{}};function xe(e=Fe,t){switch(t.type){case(0,h.REJECTED_ACTION)(g.machineTypesConstants.GET_MACHINE_TYPES):return{...Fe,...e,...(0,v.getErrorState)(t)};case(0,h.PENDING_ACTION)(g.machineTypesConstants.GET_MACHINE_TYPES):return{...Fe,...e,pending:!0};case(0,h.FULFILLED_ACTION)(g.machineTypesConstants.GET_MACHINE_TYPES):return{...h.baseRequestState,types:t.payload,typesByID:(a=t.payload,Ne()([...null!==(l=a.aws)&&void 0!==l?l:[],...null!==(n=a.gcp)&&void 0!==n?n:[]],"id")),fulfilled:!0};default:return e}var a,l,n}xe.initialState=Fe;const Ge=xe;var Ue=a(50120);const je={getOCMRolesResponse:{...h.baseRequestState,data:{}},grantOCMRoleResponse:{...h.baseRequestState},editOCMRoleResponse:{...h.baseRequestState},deleteOCMRoleResponse:{...h.baseRequestState}};function He(e=je,t){return(0,E.jM)(e,(e=>{switch(t.type){case(0,h.PENDING_ACTION)(Ue.A.GET_OCM_ROLES):e.getOCMRolesResponse.pending=!0;break;case(0,h.FULFILLED_ACTION)(Ue.A.GET_OCM_ROLES):e.getOCMRolesResponse={...h.baseRequestState,fulfilled:!0,data:t.payload.data};break;case(0,h.REJECTED_ACTION)(Ue.A.GET_OCM_ROLES):e.getOCMRolesResponse={...h.baseRequestState,...(0,v.getErrorState)(t),data:{}};break;case(0,h.PENDING_ACTION)(Ue.A.GRANT_OCM_ROLE):e.grantOCMRoleResponse.pending=!0;break;case(0,h.FULFILLED_ACTION)(Ue.A.GRANT_OCM_ROLE):e.grantOCMRoleResponse={...h.baseRequestState,fulfilled:!0};break;case(0,h.REJECTED_ACTION)(Ue.A.GRANT_OCM_ROLE):e.grantOCMRoleResponse={...h.baseRequestState,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(Ue.A.DELETE_OCM_ROLE):e.deleteOCMRoleResponse.pending=!0;break;case(0,h.FULFILLED_ACTION)(Ue.A.DELETE_OCM_ROLE):e.deleteOCMRoleResponse={...h.baseRequestState,fulfilled:!0};break;case(0,h.REJECTED_ACTION)(Ue.A.DELETE_OCM_ROLE):e.deleteOCMRoleResponse={...h.baseRequestState,...(0,v.getErrorState)(t)};break;case Ue.A.CLEAR_GET_OCM_ROLES_RESPONSE:e.getOCMRolesResponse={...h.baseRequestState,data:{}};break;case Ue.A.CLEAR_GRANT_OCM_ROLE_RESPONSE:e.grantOCMRoleResponse={...h.baseRequestState};break;case Ue.A.CLEAR_DELETE_OCM_ROLE_RESPONSE:e.deleteOCMRoleResponse={...h.baseRequestState}}}))}He.initialState=je;const Ve=He,qe={...h.baseRequestState,values:[]};function ze(e=qe,t){switch(t.type){case(0,h.REJECTED_ACTION)(g.persistentStorageConstants.GET_PERSISTENT_STORAGE_VALUES):return{...qe,...(0,v.getErrorState)(t)};case(0,h.PENDING_ACTION)(g.persistentStorageConstants.GET_PERSISTENT_STORAGE_VALUES):return{...e,pending:!0};case(0,h.FULFILLED_ACTION)(g.persistentStorageConstants.GET_PERSISTENT_STORAGE_VALUES):return{...h.baseRequestState,fulfilled:!0,values:t.payload};default:return e}}ze.initialState=qe;var Be=a(9308),We=a(56480);const $e={requestState:h.baseRequestState,data:{}},Ye=(e=$e,t)=>(0,E.jM)(e,(e=>{switch(t.type){case(0,h.PENDING_ACTION)(We.B):e.requestState={...h.baseRequestState,pending:!0};break;case(0,h.REJECTED_ACTION)(We.B):e.requestState=(0,v.getErrorState)(t);break;case(0,h.FULFILLED_ACTION)(We.B):e.requestState={...h.baseRequestState,fulfilled:!0},e.data=t.payload.data;break;case We.p:return $e}}));Ye.initialState=$e;const Ke={requestState:h.baseRequestState,data:{}};function Qe(e=Ke,t){return(0,E.jM)(e,(e=>{switch(t.type){case(0,h.PENDING_ACTION)(g.subscriptionSettingsConstants.EDIT_SUBSCRIPTION_SETTINGS):e.requestState={...h.baseRequestState,pending:!0};break;case(0,h.REJECTED_ACTION)(g.subscriptionSettingsConstants.EDIT_SUBSCRIPTION_SETTINGS):e.requestState=(0,v.getErrorState)(t);break;case(0,h.FULFILLED_ACTION)(g.subscriptionSettingsConstants.EDIT_SUBSCRIPTION_SETTINGS):e.requestState={...h.baseRequestState,fulfilled:!0},e.data=t.payload.data;break;case g.subscriptionSettingsConstants.CLEAR_EDIT_SUBSCRIPTION_SETTINGS_RESPONSE:e.requestState=h.baseRequestState,e.data={}}}))}Qe.initialState=Ke;var Ze=a(1727);const Xe={account:{...h.baseRequestState,valid:!1,data:{}},subscriptions:{...h.baseRequestState,valid:!1,items:[]},quotaSummary:{...h.baseRequestState,valid:!1,items:[]},quotaCost:{...h.baseRequestState,valid:!1,items:[]},subscriptionID:{...h.baseRequestState,id:void 0}};function Je(e=Xe,t){return(0,E.jM)(e,(a=>{var l,n,r;switch(t.type){case(0,h.REJECTED_ACTION)(g.subscriptionsConstants.GET_ACCOUNT):a.account={...Xe.account,...(0,v.getErrorState)(t),valid:!0};break;case(0,h.PENDING_ACTION)(g.subscriptionsConstants.GET_ACCOUNT):a.account.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.subscriptionsConstants.GET_ACCOUNT):a.account={...h.baseRequestState,fulfilled:!0,valid:!0,data:t.payload.data};break;case(0,h.INVALIDATE_ACTION)(g.subscriptionsConstants.GET_SUBSCRIPTIONS):a.subscriptions={...Xe.subscriptions,valid:!1};break;case(0,h.REJECTED_ACTION)(g.subscriptionsConstants.GET_SUBSCRIPTIONS):a.subscriptions={...Xe.subscriptions,...(0,v.getErrorState)(t),valid:!0,items:e.subscriptions.items};break;case(0,h.PENDING_ACTION)(g.subscriptionsConstants.GET_SUBSCRIPTIONS):a.subscriptions.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.subscriptionsConstants.GET_SUBSCRIPTIONS):a.subscriptions={...h.baseRequestState,fulfilled:!0,valid:!0,items:null!==(l=t.payload.data.items)&&void 0!==l?l:[]};break;case(0,h.REJECTED_ACTION)(g.subscriptionsConstants.GET_SUBSCRIPTION_ID):a.subscriptionID={...Xe.subscriptionID,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.subscriptionsConstants.GET_SUBSCRIPTION_ID):a.subscriptionID.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.subscriptionsConstants.GET_SUBSCRIPTION_ID):a.subscriptionID={...h.baseRequestState,fulfilled:!0,id:t.payload};break;case g.subscriptionsConstants.CLEAR_SUBSCRIPTION_ID:a.subscriptionID={...Xe.subscriptionID};break;case(0,h.REJECTED_ACTION)(g.subscriptionsConstants.GET_QUOTA_COST):a.quotaCost={...Xe.quotaCost,...(0,v.getErrorState)(t),valid:!0,items:e.quotaCost.items};break;case(0,h.PENDING_ACTION)(g.subscriptionsConstants.GET_QUOTA_COST):a.quotaCost.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.subscriptionsConstants.GET_QUOTA_COST):a.quotaCost={...h.baseRequestState,fulfilled:!0,valid:!0,items:null!==(r=null===(n=t.payload.data.items)||void 0===n?void 0:n.map(Ze.tS))&&void 0!==r?r:[]}}}))}Je.initialState=Xe;var et=a(99447);const tt={notificationContacts:{...h.baseRequestState,contacts:[],clusterID:""},deleteContactResponse:{...h.baseRequestState},addContactResponse:{...h.baseRequestState},supportCases:{...h.baseRequestState,cases:[],clusterID:"",subscriptionID:""}},at=(e=tt,t)=>(0,E.jM)(e,(e=>{var a,l,n,r,i,s,o,u,d,c,m,p;let f,E,g;switch(t.type){case(0,h.PENDING_ACTION)(et.DB):e.notificationContacts.pending=!0;break;case(0,h.FULFILLED_ACTION)(et.DB):E=(null===(l=null===(a=t.payload)||void 0===a?void 0:a.data)||void 0===l?void 0:l.items)||[],e.notificationContacts={...h.baseRequestState,fulfilled:!0,subscriptionID:null===(n=t.meta)||void 0===n?void 0:n.subscriptionID,contacts:E.map((e=>({userID:e.id,username:e.username,email:e.email,firstName:e.first_name,lastName:e.last_name})))};break;case(0,h.REJECTED_ACTION)(et.DB):e.notificationContacts={...tt.notificationContacts,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(et.hh):e.deleteContactResponse.pending=!0,e.deleteContactResponse.accountID=t.meta.accountID;break;case(0,h.FULFILLED_ACTION)(et.hh):e.deleteContactResponse.pending=!1,e.deleteContactResponse.fulfilled=!0,e.notificationContacts.contacts=null===(r=e.notificationContacts.contacts)||void 0===r?void 0:r.filter((t=>t.userID!==e.deleteContactResponse.accountID));break;case(0,h.REJECTED_ACTION)(et.hh):e.deleteContactResponse={...(0,v.getErrorState)(t)};break;case(0,h.INVALIDATE_ACTION)(et.hh):e.deleteContactResponse={...h.baseRequestState};break;case(0,h.PENDING_ACTION)(et.BW):e.addContactResponse.pending=!0;break;case(0,h.FULFILLED_ACTION)(et.BW):e.addContactResponse.pending=!1,e.addContactResponse.fulfilled=!0,f=(null===(i=t.payload)||void 0===i?void 0:i.data)||[],f=Array.isArray(f)?f:[f],e.addContactResponse.count=f.length,f.forEach((t=>{var a;return null===(a=e.notificationContacts.contacts)||void 0===a?void 0:a.push({userID:t.id,username:t.username,email:t.email,firstName:t.first_name,lastName:t.last_name})}));break;case(0,h.REJECTED_ACTION)(et.BW):e.addContactResponse={...(0,v.getErrorState)(t)},e.addContactResponse.errorMessage=(null===(u=null===(o=null===(s=t.payload)||void 0===s?void 0:s.response)||void 0===o?void 0:o.data)||void 0===u?void 0:u.reason)||e.addContactResponse.errorMessage;break;case(0,h.INVALIDATE_ACTION)(et.BW):e.addContactResponse={...h.baseRequestState};break;case(0,h.PENDING_ACTION)(et.bP):e.supportCases.pending=!0;break;case(0,h.FULFILLED_ACTION)(et.bP):g=(null===(m=null===(c=null===(d=t.payload)||void 0===d?void 0:d.data)||void 0===c?void 0:c.response)||void 0===m?void 0:m.docs)||[],e.supportCases={...h.baseRequestState,fulfilled:!0,subscriptionID:null===(p=t.meta)||void 0===p?void 0:p.subscriptionID,cases:g.map((e=>({summary:e.case_summary,caseID:e.case_number,ownerID:e.case_owner,severity:e.case_severity,status:e.case_status,lastModifiedBy:e.case_lastModifiedByName,lastModifiedDate:e.case_lastModifiedDate})))};break;case(0,h.REJECTED_ACTION)(et.bP):e.supportCases={...tt.supportCases,...(0,v.getErrorState)(t)};break;case(0,h.INVALIDATE_ACTION)(et.oq):return tt}}));at.initialState=tt;var lt=a(9704),nt=a(78634);const rt={...h.baseRequestState,supportStatus:{}};var it=a(12434);const st={token:{auths:void 0}},ot={keycloakProfile:{},organization:{...h.baseRequestState,quotaList:{items:[]},timestamp:0},selfTermsReviewResult:{...h.baseRequestState,terms_available:!1,terms_required:!1,redirect_url:""}};var ut=a(51513);const dt={currentPage:1,pageSize:50,totalCount:0,totalPages:0,filter:"",sorting:{sortField:"created_at",isAscending:!1,sortIndex:3},flags:{showArchived:!1}},ct={...dt,currentPage:1,pageSize:20,totalCount:0,totalPages:0,sorting:{sortIndex:0,sortField:"created_at",isAscending:!1}},mt={...dt,sorting:{sortField:"display_name",isAscending:!0,sortIndex:0},flags:{...dt.flags,showMyClustersOnly:"true"===localStorage.getItem(ut.ONLY_MY_CLUSTERS_TOGGLE_CLUSTER_ARCHIVES_LIST)}},pt={...dt,flags:{...dt.flags,showMyClustersOnly:"true"===localStorage.getItem(ut.ONLY_MY_CLUSTERS_TOGGLE_CLUSTERS_LIST)}},ft={currentPage:1,pageSize:20,totalCount:0,totalPages:0,filter:{description:"",loggedBy:""},sorting:{sortIndex:0,sortField:"timestamp",isAscending:!1},flags:{conditionalFilterFlags:{severityTypes:[],logTypes:[]}}},Et={...dt,currentPage:1,pageSize:5,totalCount:0,totalPages:0},gt={};gt[g.viewConstants.ACCESS_REQUESTS_VIEW]=Object.assign(ct),gt[g.viewConstants.CLUSTERS_VIEW]=Object.assign(pt),gt[g.viewConstants.ARCHIVED_CLUSTERS_VIEW]=Object.assign(mt),gt[g.viewConstants.CLUSTER_LOGS_VIEW]=Object.assign(ft),gt[g.viewConstants.OVERVIEW_VIEW]=Object.assign(Et),gt[g.viewConstants.OVERVIEW_EXPIRED_TRIALS]=Object.assign(Et);const vt=(e=gt,t)=>{const a={},l=(t,l,n)=>{const r=l||1,i=n||e[t].pageSize,s=Math.ceil(r/i);a[t]={...e[t],totalCount:r,totalPages:s,pageSize:i,currentPage:Math.min(e[t].currentPage,s)}};switch(t.type){case g.viewOptionsConstants.VIEW_MY_CLUSTERS_ONLY_CHANGED:return a[t.viewType]={...e[t.viewType],flags:{...e[t.viewType].flags,showMyClustersOnly:t.payload.showMyClustersOnly}},{...e,...a};case g.viewPaginationConstants.VIEW_FIRST_PAGE:return a[t.payload.viewType]={...e[t.payload.viewType],currentPage:1},{...e,...a};case g.viewPaginationConstants.VIEW_LAST_PAGE:return a[t.payload.viewType]={...e[t.payload.viewType],currentPage:e[t.payload.viewType].totalPages},{...e,...a};case g.viewPaginationConstants.VIEW_PREVIOUS_PAGE:return e[t.payload.viewType].currentPage<2?e:(a[t.payload.viewType]={...e[t.payload.viewType],currentPage:e[t.payload.viewType].currentPage-1},{...e,...a});case g.viewPaginationConstants.VIEW_NEXT_PAGE:return e[t.payload.viewType].currentPage>=e[t.payload.viewType].totalPages?e:(a[t.payload.viewType]={...e[t.payload.viewType],currentPage:e[t.payload.viewType].currentPage+1},{...e,...a});case g.viewPaginationConstants.VIEW_PAGE_NUMBER:return!Number.isInteger(t.payload.pageNumber)||t.payload.pageNumber<1||t.payload.pageNumber>e[t.payload.viewType].totalPages?e:(a[t.payload.viewType]={...e[t.payload.viewType],currentPage:t.payload.pageNumber},{...e,...a});case g.viewPaginationConstants.SET_PER_PAGE:return t.payload.updatePageCounts?l(t.payload.viewType,e[t.payload.viewType].totalCount,t.payload.pageSize):a[t.payload.viewType]={...e[t.payload.viewType],pageSize:t.payload.pageSize,currentPage:1},{...e,...a};case g.viewPaginationConstants.SET_TOTAL_ITEMS:return l(t.payload.viewType,t.payload.totalCount),{...e,...a};case(0,h.FULFILLED_ACTION)(g.clustersConstants.GET_CLUSTERS):return l(g.viewConstants.CLUSTERS_VIEW,t.payload.data.total),l(g.viewConstants.ARCHIVED_CLUSTERS_VIEW,t.payload.data.total),{...e,...a};case(0,h.FULFILLED_ACTION)(g.dashboardsConstants.GET_UNHEALTHY_CLUSTERS):return l(g.viewConstants.OVERVIEW_VIEW,t.payload.data.total),{...e,...a};case(0,h.FULFILLED_ACTION)(g.subscriptionsConstants.GET_SUBSCRIPTIONS):return l(g.viewConstants.OVERVIEW_EXPIRED_TRIALS,t.payload.data.total),{...e,...a};case(0,h.FULFILLED_ACTION)(j.GET_ACCESS_REQUESTS):return l(g.viewConstants.ACCESS_REQUESTS_VIEW,t.payload.data.total),{...e,...a};case(0,h.REJECTED_ACTION)(j.GET_ACCESS_REQUESTS):return l(g.viewConstants.ACCESS_REQUESTS_VIEW,0),{...e,...a};case(0,h.FULFILLED_ACTION)(b.GET_CLUSTER_LOGS):return l(g.viewConstants.CLUSTER_LOGS_VIEW,t.payload.logs.data.total),{...e,...a};case(0,h.REJECTED_ACTION)(b.GET_CLUSTER_LOGS):return l(g.viewConstants.CLUSTER_LOGS_VIEW,0),{...e,...a};case g.viewPaginationConstants.VIEW_SET_LIST_FILTER:return a[t.payload.viewType]={...e[t.payload.viewType],filter:t.payload.filter,currentPage:1},{...e,...a};case g.viewPaginationConstants.VIEW_CHANGE_SORT:return a[t.payload.viewType]={...e[t.payload.viewType],sorting:t.payload.sorting},{...e,...a};case g.viewPaginationConstants.VIEW_SET_LIST_FLAGS:return a[t.payload.viewType]={...e[t.payload.viewType],flags:{...e[t.payload.viewType].flags,[t.payload.key]:t.payload.value}},{...e,...a};case g.viewPaginationConstants.VIEW_CLEAR_FILTERS_AND_FLAGS:return a[t.payload.viewType]={...e[t.payload.viewType],flags:ft.flags,filter:"object"==typeof ft.filter?{...ft.filter,timestampFrom:e[t.payload.viewType].filter.timestampFrom,timestampTo:e[t.payload.viewType].filter.timestampTo}:ft.filter},{...e,...a};default:return e}};vt.initialState=gt;const ht={accessRequest:z,accessProtection:V,clusters:ie,deleteCluster:M.cr,cloudProviders:$,viewOptions:vt,userProfile:(e=ot,t)=>(0,E.jM)(e,(e=>{var a;switch(t.type){case g.userConstants.USER_INFO_RESPONSE:e.keycloakProfile=t.payload;break;case(0,h.REJECTED_ACTION)(g.userConstants.GET_ORGANIZATION):e.organization={...ot.organization,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.userConstants.GET_ORGANIZATION):e.organization.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.userConstants.GET_ORGANIZATION):e.organization={...h.baseRequestState,fulfilled:!0,details:t.payload.organization,quotaList:t.payload.quota,timestamp:(new Date).getTime()};break;case(0,h.REJECTED_ACTION)(g.userConstants.SELF_TERMS_REVIEW):e.selfTermsReviewResult={...ot.selfTermsReviewResult,...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(g.userConstants.SELF_TERMS_REVIEW):e.selfTermsReviewResult.pending=!0;break;case(0,h.FULFILLED_ACTION)(g.userConstants.SELF_TERMS_REVIEW):e.selfTermsReviewResult={...h.baseRequestState,fulfilled:!0,...t.payload.data,redirect_url:null!==(a=t.payload.data.redirect_url)&&void 0!==a?a:""}}})),form:u.A,tollbooth:(e=st,t)=>{switch(t.type){case(0,h.FULFILLED_ACTION)(it.O):return{...e,token:t.payload.data};case(0,h.REJECTED_ACTION)(it.O):return{...e,token:(0,v.getErrorState)(t)};default:return e}},modal:U,logs:w.To,identityProviders:C.Fu,clusterAutoscaler:Q,clusterUsers:p.Ay,clusterSupport:at,dnsDomains:Ee,addOns:f.Ay,globalError:function(e=Oe,t){switch(t.type){case Te.y:return t.payload;case Te.b:return t.payload&&t.payload!==e.sourceComponent?e:Oe;default:return e}},flavours:function(e=ye,t){switch(t.type){case(0,h.PENDING_ACTION)(Ce.GET_DEFAULT_FLAVOUR):return{...e,pending:!0};case(0,h.REJECTED_ACTION)(Ce.GET_DEFAULT_FLAVOUR):return{...ye,...(0,v.getErrorState)(t)};case(0,h.FULFILLED_ACTION)(Ce.GET_DEFAULT_FLAVOUR):return{...h.baseRequestState,fulfilled:!0,byID:{[_e.DEFAULT_FLAVOUR_ID]:t.payload.data}};default:return e}},machineTypes:Ge,machineTypesByRegion:ke,monitoring:O.Fo,subscriptions:Je,persistentStorageValues:ze,loadBalancerValues:De,clusterLogs:_,notifications:d.notificationsReducer,networkSelfService:m.A,subscriptionSettings:Qe,subscriptionReleased:Ye,insightsData:y.A,clusterRouters:P.FK,cost:oe,dashboards:de,supportStatus:(e=rt,t)=>(0,E.jM)(e,(a=>{switch(t.type){case(0,h.REJECTED_ACTION)(nt.A):a.pending=!1,a.fulfilled=!1,a.error=!0;break;case(0,h.PENDING_ACTION)(nt.A):a.pending=!0,a.fulfilled=!1,a.error=!1;break;case(0,h.FULFILLED_ACTION)(nt.A):a.pending=!1,a.fulfilled=!0,a.error=!1,a.supportStatus=(0,lt.get)(t.payload,"data.data[0].versions",[]).reduce(((e,t)=>({...e,[t.name]:t.type})),{});break;default:return e}})),entitlementConfig:function(e=ve,t){switch(t.type){case(0,h.REJECTED_ACTION)(ge.A):return{...ve,error:!0,errorCode:-1,fulfilled:!1,errorMessage:""};case(0,h.PENDING_ACTION)(ge.A):return{...e,pending:!0};case(0,h.FULFILLED_ACTION)(ge.A):return{...h.baseRequestState,fulfilled:!0};default:return e}},features:(e=Se,t)=>t.type===be.SET_FEATURE?{...e,[t.payload.feature]:t.payload.enabled}:e,clusterUpgrades:k.Ay,apiError:(e=null,t)=>{switch(t.type){case c.eZ:return t.payload;case c.G:return null;default:return e}},machinePools:T,githubReleases:function(e=Re,t){return(0,E.jM)(e,(e=>{switch(t.type){case(0,h.REJECTED_ACTION)(Ae.GITHUB_GET_LATEST_RELEASE):e[t.meta.repo]={...Re[t.meta.repo],...(0,v.getErrorState)(t)};break;case(0,h.PENDING_ACTION)(Ae.GITHUB_GET_LATEST_RELEASE):e[t.meta.repo].pending=!0;break;case(0,h.FULFILLED_ACTION)(Ae.GITHUB_GET_LATEST_RELEASE):e[t.meta.repo]={...h.baseRequestState,fulfilled:!0,data:t.payload.data}}}))},ccsInquiries:B.Ay,ocmRoles:Ve,rosaReducer:Be.Ay,deleteProtection:N},bt=(0,o.HY)({...ht});var St=a(65728),_t=a(83741);const Ct=()=>e=>t=>{let a={};switch(t.type){case St.Ay.DESTROY:a.form=t.meta.form;break;case F.z:a.modalName=t.payload.name;break;default:a=void 0}return(0,_t.ZQ)({category:"redux",message:`Dispatching ${t.type}`,data:a,level:"info"}),e(t)},yt={dispatchDefaultFailure:!1},It=(0,r.U1)({middleware:e=>e({serializableCheck:!1,immutableCheck:{warnAfter:256}}).concat(s).concat(l.Ay).concat((0,n.Ay)({...yt})).concat(Ct),reducer:bt})},62384:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SUPPORTED_RESTRICTED_ENV_OCP_VERSIONS:()=>i,SUPPORT_CASE_URL:()=>r,getRefreshToken:()=>s,getRestrictedEnvApi:()=>n,isRestrictedEnv:()=>l});const l=e=>{var t;return e?["int","scr","frh","frhStage"].includes(e.getEnvironment()):null===(t=window.ocmConfig)||void 0===t?void 0:t.configData.restrictedEnv},n=e=>{if(!e)return window.ocmConfig.configData.restrictedEnvApi;const t=e.getEnvironment();return"frh"===t?"https://api.openshiftusgov.com":"frhStage"===t?"https://api.stage.openshiftusgov.com":"https://api.int.openshiftusgov.com"},r="https://redhatgov.servicenowservices.com/css",i=["4.11"],s=e=>e.auth.getRefreshToken()},53082:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(70012);const n={getAccessProtection:e=>l.Ay.get("/api/access_transparency/v1/access_protection",{params:e})}},74314:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(70012);const n={getAccessRequests:e=>l.Ay.get("/api/access_transparency/v1/access_requests",{params:e}),getAccessRequest:e=>l.Ay.get(`/api/access_transparency/v1/access_requests/${e}`),postAccessRequestDecision:(e,t)=>l.Ay.post(`/api/access_transparency/v1/access_requests/${e}/decisions`,t)}},98639:(e,t,a)=>{"use strict";a.d(t,{r:()=>n,A:()=>r});var l=a(70012);const n=()=>l.Ay.post("/api/accounts_mgmt/v1/access_token"),r={createAuthorizationToken:n,getDashboard:e=>l.Ay.get(`/api/accounts_mgmt/v1/organizations/${e}/summary_dashboard`)}},31122:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(70012);const n={getCurrentAccount:()=>l.Ay.get("/api/accounts_mgmt/v1/current_account"),getOrganization:e=>l.Ay.get(`/api/accounts_mgmt/v1/organizations/${e}`,{params:{fetchCapabilities:!0}}),getSubscription:e=>l.Ay.get(`/api/accounts_mgmt/v1/subscriptions/${e}`,{params:{fetchAccounts:!0,fetchCpuAndSocket:!0,fetchCapabilities:!0}}),getSubscriptions:e=>l.Ay.get("/api/accounts_mgmt/v1/subscriptions",{params:{page:e.page,size:e.page_size,orderBy:e.order,search:e.filter,fields:e.fields,fetchAccounts:!0,fetchCapabilities:!0}}),getUnhealthyClusters:(e,t)=>{let a=`\n    organization_id = '${e}'\n    and status NOT IN ('Deprovisioned', 'Archived')\n    and metrics.health_state = 'unhealthy'\n  `;return t.filter&&""!==t.filter&&(a+=` and ${t.filter}`),l.Ay.get("/api/accounts_mgmt/v1/subscriptions",{params:{page:t.page,size:t.page_size,order:t.order,search:a}})},getNotificationContacts:e=>l.Ay.get(`/api/accounts_mgmt/v1/subscriptions/${e}/notification_contacts`),addNotificationContact:(e,t)=>l.Ay.post(`/api/accounts_mgmt/v1/subscriptions/${e}/notification_contacts`,{account_identifier:t}),deleteNotificationContact:(e,t)=>l.Ay.delete(`/api/accounts_mgmt/v1/subscriptions/${e}/notification_contacts/${t}`),getOrganizationQuota:e=>l.Ay.get(`/api/accounts_mgmt/v1/organizations/${e}/quota_cost`,{params:{fetchRelatedResources:!0,fetchCloudAccounts:!0}}),editSubscription:(e,t)=>l.Ay.patch(`/api/accounts_mgmt/v1/subscriptions/${e}`,t),registerDisconnected:e=>l.Ay.post("/api/accounts_mgmt/v1/subscriptions",e),getOnDemandMetrics:e=>l.Ay.get(`/api/accounts_mgmt/v1/subscriptions/${e}/ondemand_metrics`),getSupportCases:e=>l.Ay.get(`/api/accounts_mgmt/v1/subscriptions/${e}/support_cases`),fetchSubscriptionByExternalId:e=>l.Ay.get("/api/accounts_mgmt/v1/subscriptions",{params:{search:`external_cluster_id='${e}'`,fetchAccounts:!0,fetchCpuAndSocket:!0,fetchCapabilities:!0,fetchMetrics:!0}}),createRosaEntitlement:()=>l.Ay.post("/api/accounts_mgmt/v1/self_entitlement/rosa"),getSubscriptionRoleBindings:e=>l.Ay.get(`/api/accounts_mgmt/v1/subscriptions/${e}/role_bindings`,{params:{fetchAccounts:!0}}),createSubscriptionRoleBinding:(e,t,a)=>(0,l.Ay)({method:"post",data:{account_username:t,role_id:a},url:`/api/accounts_mgmt/v1/subscriptions/${e}/role_bindings`}),deleteSubscriptionRoleBinding:(e,t)=>(0,l.Ay)({method:"delete",url:`/api/accounts_mgmt/v1/subscriptions/${e}/role_bindings/${t}`}),getOrganizationLabels:e=>l.Ay.get(`/api/accounts_mgmt/v1/organizations/${e}/labels`),getAWSAccountARNs:e=>l.Ay.post("/api/clusters_mgmt/v1/aws_inquiries/sts_account_roles",{account_id:e}),getOCMRole:e=>l.Ay.post("/api/clusters_mgmt/v1/aws_inquiries/sts_ocm_role",{account_id:e}),getUserRole:e=>l.Ay.get(`/api/accounts_mgmt/v1/accounts/${e}/labels/sts_user_role`),getPolicies:()=>l.Ay.get("/api/clusters_mgmt/v1/aws_inquiries/sts_policies"),getCredentialRequests:()=>l.Ay.get("/api/clusters_mgmt/v1/aws_inquiries/sts_credential_requests"),searchSubscriptions:(e,t=-1)=>l.Ay.get("/api/accounts_mgmt/v1/subscriptions",{params:{size:t,search:e,fetchAccounts:!0,fetchCapabilities:!0}})}},70012:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>c,XR:()=>d,kK:()=>s});var l=a(42561),n=a.n(l),r=a(62384),i=a(7028);const s=e=>(e.interceptors.request.use((async e=>{const t=(a=e.baseURL,(0,r.isRestrictedEnv)()?(0,r.getRestrictedEnvApi)():a||(i.default.configData.apiGateway?i.default.configData.apiGateway:""));var a;const l={...e,url:`${t}${e.url}`};return delete l.customHost,l})),e),o=s(n().create()),u={};function d(e){return e&&i.default.configData.apiRegionalGatewayTemplate?function(e){if(!u[e]){const t=s(n().create());t.defaults.baseURL=e,u[e]=t}return u[e]}(i.default.configData.apiRegionalGatewayTemplate.replace("$REGION$",e)):o}const c=o},35920:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(70012);const n={selfResourceReview:e=>l.Ay.post("/api/authorizations/v1/self_resource_review",e),selfAccessReview:e=>l.Ay.post("/api/authorizations/v1/self_access_review",e),selfTermsReview:e=>l.Ay.post("/api/authorizations/v1/self_terms_review",e),selfFeatureReview:e=>l.Ay.post("/api/authorizations/v1/self_feature_review",{feature:e})}},16236:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s,getClusterService:()=>r,getClusterServiceForRegion:()=>i});var l=a(70012);const n="OSD";function r(e=l.Ay){return{getClusters:t=>e.get("/api/clusters_mgmt/v1/clusters",{params:t}),searchClusters:(t,a=-1)=>e.post("/api/clusters_mgmt/v1/clusters?method=get",{size:a,search:t}),postNewCluster:t=>e.post("/api/clusters_mgmt/v1/clusters",t),getClusterDetails:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}`),getClusterStatus:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/status`),getInflightChecks:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/inflight_checks`),rerunInflightChecks:t=>e.post("/api/clusters_mgmt/v1/network_verifications",{cluster_id:t}),getTriggeredInflightCheckState:t=>e.get(`/api/clusters_mgmt/v1/network_verifications/${t}`),editCluster:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}`,a),deleteCluster:t=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}`),getCloudProviders:()=>e.get("/api/clusters_mgmt/v1/cloud_providers",{params:{size:-1,fetchRegions:!0}}),getLogs:(t,a,l)=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/logs/${l}`,{params:{offset:a}}),getIdentityProviders:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/identity_providers`),deleteIdentityProvider:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/identity_providers/${a}`),createClusterIdentityProvider:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/identity_providers`,a),editClusterIdentityProvider:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/identity_providers/${a.id}`,a),getClusterGroupUsers:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/groups`,{params:{size:-1}}),addClusterGroupUser:(t,a,l)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/groups/${a}/users`,{id:l}),deleteClusterGroupUser:(t,a,l)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/groups/${a}/users/${encodeURIComponent(l)}`),getFlavour:t=>e.get(`/api/clusters_mgmt/v1/flavours/${t}`),getMachineTypes:()=>e.get("/api/clusters_mgmt/v1/machine_types",{params:{size:-1}}),getMachineTypesByRegion:(t,a,l,n)=>e.post("/api/clusters_mgmt/v1/aws_inquiries/machine_types",{aws:{access_key_id:t,account_id:a,secret_access_key:l},region:{id:n}},{params:{size:-1}}),getMachineTypesByRegionARN:(t,a)=>e.post("/api/clusters_mgmt/v1/aws_inquiries/machine_types",{aws:{sts:{role_arn:t}},region:{id:a}},{params:{size:-1}}),getStorageQuotaValues:()=>e.get("/api/clusters_mgmt/v1/storage_quota_values"),getLoadBalancerQuotaValues:()=>e.get("/api/clusters_mgmt/v1/load_balancer_quota_values"),archiveCluster:t=>e.patch(`/api/accounts_mgmt/v1/subscriptions/${t}`,'{"status":"Archived"}'),unarchiveCluster:t=>e.patch(`/api/accounts_mgmt/v1/subscriptions/${t}`,'{"status":"Disconnected"}'),hibernateCluster:t=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/hibernate`),resumeCluster:t=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/resume`),getDnsDomains:t=>{const a=`user_defined='${t.userDefined}' AND cluster.id${t.hasCluster?"!=''":"=''"}`;return e.get("/api/clusters_mgmt/v1/dns_domains",{params:{search:a}})},createNewDnsDomain:()=>e.post("/api/clusters_mgmt/v1/dns_domains",{}),deleteDnsDomain:t=>e.delete(`/api/clusters_mgmt/v1/dns_domains/${t}`,{}),getEnabledAddOns:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/addon_inquiries`,{params:{size:-1,search:"enabled='t'"}}),getClusterAddOns:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/addons`),addClusterAddOn:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/addons`,a),updateClusterAddOn:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/addons/${a}`,l),deleteClusterAddOn:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/addons/${a}`),getInstallableVersions:({isRosa:t=!1,isMarketplaceGcp:a=!1,isWIF:l=!1,isHCP:n=!1,includeUnstableVersions:r=!1})=>e.get("/api/clusters_mgmt/v1/versions/",{params:{order:"end_of_life_timestamp desc",product:n?"hcp":void 0,search:`enabled='t' AND (channel_group='stable'${r?" OR channel_group='candidate' OR channel_group='fast' OR channel_group='nightly'":""})${t?" AND rosa_enabled='t'":""}${a?" AND gcp_marketplace_enabled='t'":""}${l?" AND wif_enabled='t'":""}`,size:-1}}),getRoles:()=>e.get("/api/clusters_mgmt/v1/aws_infrastructure_access_roles/?search=state='valid'"),getGrants:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/aws_infrastructure_access_role_grants`),addGrant:(t,a,l)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/aws_infrastructure_access_role_grants/`,{role:{id:a},user_arn:l}),deleteGrant:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/aws_infrastructure_access_role_grants/${a}`),getIngresses:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/ingresses`),editIngresses:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/ingresses`,a),editIngress:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/ingresses/${a}`,l),addAdditionalIngress:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/ingresses`,a),deleteAdditionalIngress:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/ingresses/${a}`),postUpgradeSchedule:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/upgrade_policies`,a),postControlPlaneUpgradeSchedule:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/control_plane/upgrade_policies`,a),postNodePoolUpgradeSchedule:(t,a,l)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/node_pools/${a}/upgrade_policies`,l),patchUpgradeSchedule:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/upgrade_policies/${a}`,l),patchControlPlaneUpgradeSchedule:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/control_plane/upgrade_policies/${a}`,l),getUpgradeSchedules:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/upgrade_policies`,{params:{search:`upgrade_type='${n}'`}}),getControlPlaneUpgradeSchedules:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/control_plane/upgrade_policies`,{params:{}}),getUpgradeScheduleState:(t,a)=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/upgrade_policies/${a}/state`),deleteUpgradeSchedule:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/upgrade_policies/${a}`),deleteControlPlaneUpgradeSchedule:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/control_plane/upgrade_policies/${a}`),getMachinePools:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/machine_pools`),getNodePoolUpgradePolicies:(t,a)=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/node_pools/${a}/upgrade_policies`),getNodePools:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/node_pools`),patchNodePool:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/node_pools/${a}`,l),patchMachinePool:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/machine_pools/${a}`,l),addMachinePool:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/machine_pools`,a),addNodePool:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/node_pools`,a),deleteMachinePool:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/machine_pools/${a}`),deleteNodePool:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/node_pools/${a}`),getClusterAutoscaler:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/autoscaler`),enableClusterAutoscaler:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/autoscaler`,a),updateClusterAutoscaler:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/autoscaler`,a),disableClusterAutoscaler:t=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/autoscaler`),upgradeTrialCluster:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}`,a),getAWSVPCDetails:(t,a)=>{const l=(null==a?void 0:a.includeSecurityGroups)?"?fetchSecurityGroups=true":"";return e.get(`/api/clusters_mgmt/v1/clusters/${t}/vpc${l}`)},listAWSVPCs:(t,a,l,n)=>{const r=(null==n?void 0:n.includeSecurityGroups)?"?fetchSecurityGroups=true":"";return e.post(`/api/clusters_mgmt/v1/aws_inquiries/vpcs${r}`,{aws:t,region:{id:a},subnets:l?[l]:void 0})},listGCPVPCs:(t,a)=>e.post("/api/clusters_mgmt/v1/gcp_inquiries/vpcs",{gcp:t,region:{id:a}}),listGCPKeyRings:(t,a)=>e.post("/api/clusters_mgmt/v1/gcp_inquiries/key_rings",{gcp:t,key_location:a}),listGCPKeys:(t,a,l)=>e.post("/api/clusters_mgmt/v1/gcp_inquiries/encryption_keys",{gcp:t,key_location:a,key_ring_name:l}),listAWSRegions:(t,a)=>e.post("/api/clusters_mgmt/v1/aws_inquiries/regions",{aws:t,...a&&{version:{id:a}}}),getUpgradeGates:()=>e.get("/api/clusters_mgmt/v1/version_gates"),getClusterGateAgreements:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/gate_agreements`),postClusterGateAgreement:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/gate_agreements`,{version_gate:{id:a}}),getOperatorRoleCommands:(t,a,l)=>e.post(`/api/clusters_mgmt/v1/clusters/${a}/sts_commands`,{account_id:t,sts:{role_arn:l}}),getOidcConfigurations:t=>e.get("/api/clusters_mgmt/v1/oidc_configs",{params:{search:`aws.account_id='${t}' or aws.account_id=''`}}),getLimitedSupportReasons:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/limited_support_reasons`),getKubeletConfiguration:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/kubelet_config`),postKubeletConfiguration:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/kubelet_config`,{...a}),patchKubeletConfiguration:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/kubelet_config`,{...a}),deleteKubeletConfiguration:t=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/kubelet_config`),getTechPreviewStatus:(t,a)=>e.get(`/api/clusters_mgmt/v1/products/${t}/technology_previews/${a}`),updateDeleteProtection:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/delete_protection`,{enabled:a}),postExternalAuth:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/external_auth_config/external_auths`,a),patchExternalAuth:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/external_auth_config/external_auths/${a}`,l),getExternalAuths:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/external_auth_config/external_auths`),getExternalAuthDetails:(t,a)=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/external_auth_config/external_auths/${a}`),deleteExternalAuth:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/external_auth_config/external_auths/${a}`),postBreakGlassCredentials:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/break_glass_credentials`,a),getBreakGlassCredentials:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/break_glass_credentials`),getBreakGlassCredentialDetails:(t,a)=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/break_glass_credentials/${a}`),revokeBreakGlassCredentials:t=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/break_glass_credentials`),getGCPWifConfigs:t=>e.get("/api/clusters_mgmt/v1/gcp/wif_configs",{params:{size:-1}})}}const i=e=>r((0,l.XR)(e)),s=r()},73410:(e,t,a)=>{"use strict";a.r(t),a.d(t,{accountManager:()=>l.A,accountsService:()=>n.A,assistedService:()=>o,authorizationsService:()=>u.A,clusterService:()=>d.default,costService:()=>f,default:()=>v,insightsService:()=>E,serviceLogService:()=>g.A});var l=a(98639),n=a(31122),r=a(25247);const{Services:{APIs:{ClustersAPI:i},NewFeatureSupportLevelsService:s}}=r,o={getAIClustersBySubscription:i.listBySubscriptionIds,getAICluster:i.get,getAIFeatureSupportLevels:s.getFeaturesSupportLevel};var u=a(35920),d=a(16236),c=a(55373),m=a(70012),p=a(7028);const f={getReport:e=>{const t={...e,filter:{limit:5,resolution:"monthly",time_scope_units:"month",time_scope_value:"-1",...null==e?void 0:e.filter},group_by:{cluster:"*"}},a=(0,c.stringify)(t,{encode:!1,indices:!1});return m.Ay.get(`/cost-management/v1/reports/openshift/costs/?${a}`,{baseURL:p.default.configData.insightsGateway,headers:{Accept:"application/json"}})},getSources:e=>m.Ay.get("/cost-management/v1/sources/",{baseURL:p.default.configData.insightsGateway,headers:{Accept:"application/json"},params:{type:`${null==e?void 0:e.type}`}}),getUserAccess:e=>m.Ay.get("/cost-management/v1/user-access/",{baseURL:p.default.configData.insightsGateway,headers:{Accept:"application/json"},params:{type:`${null==e?void 0:e.type}`}})},E={getClusterInsights:e=>m.Ay.get(`/cluster/${e}/reports`,{baseURL:`${p.default.configData.insightsGateway}/insights-results-aggregator/v2`}),getOrganizationInsights:()=>m.Ay.get("/org_overview",{baseURL:`${p.default.configData.insightsGateway}/insights-results-aggregator/v1`})};var g=a(47379);const v={clusterService:d.default,costService:f,accountsService:n.A,accountManager:l.A,authorizationsService:u.A,serviceLogService:g.A,insightsService:E,assistedService:o}},39357:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var l=a(42561),n=a.n(l);const r=()=>n().get("https://access.redhat.com/product-life-cycles/api/v1/products",{params:{name:"Openshift Container Platform 4"}})},47379:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var l=a(70012);const n=(e,t,a,n=l.Ay)=>n.get("/api/service_logs/v1/clusters/cluster_logs",{params:{cluster_uuid:e,cluster_id:t,size:a.page_size,page:a.page,orderBy:a.order,search:a.filter,query:a.query,format:a.format}}),r={getClusterHistory:n,getClusterHistoryForRegion:(e,t,a,r)=>n(e,t,a,(0,l.XR)(r))}},92644:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(93345),n=a.n(l);const r=e=>{const{height:t,width:a,className:l}=e;return n().createElement("svg",{className:l,role:"img",version:"1.1","data-name":"Layer 1",height:t||".9em",width:a,viewBox:"0 0 304 182","aria-label":"Amazon Web Service logo"},n().createElement("g",null,n().createElement("path",{className:"st0",d:"M86.4,66.4c0,3.7,0.4,6.7,1.1,8.9c0.8,2.2,1.8,4.6,3.2,7.2c0.5,0.8,0.7,1.6,0.7,2.3c0,1-0.6,2-1.9,3l-6.3,4.2\n        c-0.9,0.6-1.8,0.9-2.6,0.9c-1,0-2-0.5-3-1.4C76.2,90,75,88.4,74,86.8c-1-1.7-2-3.6-3.1-5.9c-7.8,9.2-17.6,13.8-29.4,13.8\n        c-8.4,0-15.1-2.4-20-7.2c-4.9-4.8-7.4-11.2-7.4-19.2c0-8.5,3-15.4,9.1-20.6c6.1-5.2,14.2-7.8,24.5-7.8c3.4,0,6.9,0.3,10.6,0.8\n        c3.7,0.5,7.5,1.3,11.5,2.2v-7.3c0-7.6-1.6-12.9-4.7-16c-3.2-3.1-8.6-4.6-16.3-4.6c-3.5,0-7.1,0.4-10.8,1.3c-3.7,0.9-7.3,2-10.8,3.4\n        c-1.6,0.7-2.8,1.1-3.5,1.3c-0.7,0.2-1.2,0.3-1.6,0.3c-1.4,0-2.1-1-2.1-3.1v-4.9c0-1.6,0.2-2.8,0.7-3.5c0.5-0.7,1.4-1.4,2.8-2.1\n        c3.5-1.8,7.7-3.3,12.6-4.5c4.9-1.3,10.1-1.9,15.6-1.9c11.9,0,20.6,2.7,26.2,8.1c5.5,5.4,8.3,13.6,8.3,24.6V66.4z M45.8,81.6\n        c3.3,0,6.7-0.6,10.3-1.8c3.6-1.2,6.8-3.4,9.5-6.4c1.6-1.9,2.8-4,3.4-6.4c0.6-2.4,1-5.3,1-8.7v-4.2c-2.9-0.7-6-1.3-9.2-1.7\n        c-3.2-0.4-6.3-0.6-9.4-0.6c-6.7,0-11.6,1.3-14.9,4c-3.3,2.7-4.9,6.5-4.9,11.5c0,4.7,1.2,8.2,3.7,10.6\n        C37.7,80.4,41.2,81.6,45.8,81.6z M126.1,92.4c-1.8,0-3-0.3-3.8-1c-0.8-0.6-1.5-2-2.1-3.9L96.7,10.2c-0.6-2-0.9-3.3-0.9-4\n        c0-1.6,0.8-2.5,2.4-2.5h9.8c1.9,0,3.2,0.3,3.9,1c0.8,0.6,1.4,2,2,3.9l16.8,66.2l15.6-66.2c0.5-2,1.1-3.3,1.9-3.9c0.8-0.6,2.2-1,4-1\n        h8c1.9,0,3.2,0.3,4,1c0.8,0.6,1.5,2,1.9,3.9l15.8,67l17.3-67c0.6-2,1.3-3.3,2-3.9c0.8-0.6,2.1-1,3.9-1h9.3c1.6,0,2.5,0.8,2.5,2.5\n        c0,0.5-0.1,1-0.2,1.6c-0.1,0.6-0.3,1.4-0.7,2.5l-24.1,77.3c-0.6,2-1.3,3.3-2.1,3.9c-0.8,0.6-2.1,1-3.8,1h-8.6c-1.9,0-3.2-0.3-4-1\n        c-0.8-0.7-1.5-2-1.9-4L156,23l-15.4,64.4c-0.5,2-1.1,3.3-1.9,4c-0.8,0.7-2.2,1-4,1H126.1z M254.6,95.1c-5.2,0-10.4-0.6-15.4-1.8\n        c-5-1.2-8.9-2.5-11.5-4c-1.6-0.9-2.7-1.9-3.1-2.8c-0.4-0.9-0.6-1.9-0.6-2.8v-5.1c0-2.1,0.8-3.1,2.3-3.1c0.6,0,1.2,0.1,1.8,0.3\n        c0.6,0.2,1.5,0.6,2.5,1c3.4,1.5,7.1,2.7,11,3.5c4,0.8,7.9,1.2,11.9,1.2c6.3,0,11.2-1.1,14.6-3.3c3.4-2.2,5.2-5.4,5.2-9.5\n        c0-2.8-0.9-5.1-2.7-7c-1.8-1.9-5.2-3.6-10.1-5.2L246,52c-7.3-2.3-12.7-5.7-16-10.2c-3.3-4.4-5-9.3-5-14.5c0-4.2,0.9-7.9,2.7-11.1\n        c1.8-3.2,4.2-6,7.2-8.2c3-2.3,6.4-4,10.4-5.2c4-1.2,8.2-1.7,12.6-1.7c2.2,0,4.5,0.1,6.7,0.4c2.3,0.3,4.4,0.7,6.5,1.1\n        c2,0.5,3.9,1,5.7,1.6c1.8,0.6,3.2,1.2,4.2,1.8c1.4,0.8,2.4,1.6,3,2.5c0.6,0.8,0.9,1.9,0.9,3.3v4.7c0,2.1-0.8,3.2-2.3,3.2\n        c-0.8,0-2.1-0.4-3.8-1.2c-5.7-2.6-12.1-3.9-19.2-3.9c-5.7,0-10.2,0.9-13.3,2.8c-3.1,1.9-4.7,4.8-4.7,8.9c0,2.8,1,5.2,3,7.1\n        c2,1.9,5.7,3.8,11,5.5l14.2,4.5c7.2,2.3,12.4,5.5,15.5,9.6c3.1,4.1,4.6,8.8,4.6,14c0,4.3-0.9,8.2-2.6,11.6\n        c-1.8,3.4-4.2,6.4-7.3,8.8c-3.1,2.5-6.8,4.3-11.1,5.6C264.4,94.4,259.7,95.1,254.6,95.1z"}),n().createElement("g",null,n().createElement("path",{className:"st1",d:"M273.5,143.7c-32.9,24.3-80.7,37.2-121.8,37.2c-57.6,0-109.5-21.3-148.7-56.7c-3.1-2.8-0.3-6.6,3.4-4.4\n          c42.4,24.6,94.7,39.5,148.8,39.5c36.5,0,76.6-7.6,113.5-23.2C274.2,133.6,278.9,139.7,273.5,143.7z"}),n().createElement("path",{className:"st1",d:"M287.2,128.1c-4.2-5.4-27.8-2.6-38.5-1.3c-3.2,0.4-3.7-2.4-0.8-4.5c18.8-13.2,49.7-9.4,53.3-5\n          c3.6,4.5-1,35.4-18.6,50.2c-2.7,2.3-5.3,1.1-4.1-1.9C282.5,155.7,291.4,133.4,287.2,128.1z"}))))}},59067:(e,t,a)=>{"use strict";var l,n,r,i,s,o,u,d,c,m,p,f,E,g,v,h,b,S,_,C,y,I,A,R,T,O,P,D,L,N,w;a.r(t),a.d(t,{AccessReview:()=>l,AccessReviewResponse:()=>n,AccountGroup:()=>r,AccountGroupAssignment:()=>i,BillingModel:()=>s,CapabilityReviewRequest:()=>o,CertificatesRequest:()=>u,CloudResource:()=>d,ClusterAuthorizationRequest:()=>c,ClusterTransfer:()=>m,ConsumedQuota:()=>p,ExcessResource:()=>f,Label:()=>E,OneMetric:()=>g,Permission:()=>v,QuotaRules:()=>h,RelatedResource:()=>b,ReservedResource:()=>S,ReservedResourcePatchRequest:()=>_,ResourceQuota:()=>C,ResourceQuotaRequest:()=>y,ResourceReview:()=>I,ResourceReviewRequest:()=>A,RoleBinding:()=>R,SelfAccessReview:()=>T,SelfResourceReview:()=>O,SelfResourceReviewRequest:()=>P,SubscriptionCommonFields:()=>D,SubscriptionCreateRequest:()=>L,SubscriptionPatchRequest:()=>N,SupportCasesRequest:()=>w}),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.ADD_ON="AddOn",e.FLAVOUR="Flavour",e.ACCOUNT="Account",e.ACCOUNT_POOL="AccountPool",e.CLUSTER="Cluster",e.PLAN="Plan",e.SUBSCRIPTION="Subscription",e.ORGANIZATION="Organization",e.ROLE="Role",e.PERMISSION="Permission",e.ROLE_BINDING="RoleBinding",e.REGISTRY="Registry",e.REGISTRY_CREDENTIAL="RegistryCredential",e.CURRENT_ACCOUNT="CurrentAccount",e.ACCESS_REVIEW="AccessReview",e.SELF_ACCCESS_REVIEW="SelfAcccessReview",e.RESOURCE_REVIEW="ResourceReview",e.SELF_RESOURCE_REVIEW="SelfResourceReview",e.CLUSTER_REGISTRATION="ClusterRegistration",e.ACCESS_TOKEN="AccessToken",e.CLUSTER_AUTHORIZATION="ClusterAuthorization",e.SELF_MANAGED_CLUSTER="SelfManagedCluster",e.REDHAT_MANAGED_CLUSTER="RedhatManagedCluster",e.EXPORT_CONTROL_REVIEW="ExportControlReview",e.CLUSTER_LOG="ClusterLog",e.CLUSTER_CREDENTIAL="ClusterCredential",e.CLUSTER_METRIC="ClusterMetric",e.RESOURCE_QUOTA="ResourceQuota",e.RESERVED_RESOURCE="ReservedResource",e.DASHBOARD="Dashboard",e.CLUSTER_PROVIDER_AND_REGION="ClusterProviderAndRegion",e.SERVICE_LOG="ServiceLog",e.INTERNAL_SERVICE_LOG="InternalServiceLog",e.CSLOGS="CSLogs",e.SUBSCRIPTION_LABEL="SubscriptionLabel",e.ORGANIZATION_LABEL="OrganizationLabel",e.SUBSCRIPTION_LABEL_INTERNAL="SubscriptionLabelInternal",e.SELF_ACCESS_REVIEW="SelfAccessReview",e.SUBSCRIPTION_INTERNAL="SubscriptionInternal",e.SUBSCRIPTION_ROLE_BINDING="SubscriptionRoleBinding",e.CLUSTER_SELF_MANAGED="ClusterSelfManaged",e.CLUSTER_SELF_MANAGED_ADDON="ClusterSelfManagedAddon",e.CLUSTER_SELF_MANAGED_LABEL="ClusterSelfManagedLabel",e.CLUSTER_SELF_MANAGED_STATUS="ClusterSelfManagedStatus"}(a=e.resource_type||(e.resource_type={}))}(l||(l={})),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.ADD_ON="AddOn",e.FLAVOUR="Flavour",e.ACCOUNT="Account",e.ACCOUNT_POOL="AccountPool",e.CLUSTER="Cluster",e.PLAN="Plan",e.SUBSCRIPTION="Subscription",e.ORGANIZATION="Organization",e.ROLE="Role",e.PERMISSION="Permission",e.ROLE_BINDING="RoleBinding",e.REGISTRY="Registry",e.REGISTRY_CREDENTIAL="RegistryCredential",e.CURRENT_ACCOUNT="CurrentAccount",e.ACCESS_REVIEW="AccessReview",e.SELF_ACCCESS_REVIEW="SelfAcccessReview",e.RESOURCE_REVIEW="ResourceReview",e.SELF_RESOURCE_REVIEW="SelfResourceReview",e.CLUSTER_REGISTRATION="ClusterRegistration",e.ACCESS_TOKEN="AccessToken",e.CLUSTER_AUTHORIZATION="ClusterAuthorization",e.SELF_MANAGED_CLUSTER="SelfManagedCluster",e.REDHAT_MANAGED_CLUSTER="RedhatManagedCluster",e.EXPORT_CONTROL_REVIEW="ExportControlReview",e.CLUSTER_LOG="ClusterLog",e.CLUSTER_CREDENTIAL="ClusterCredential",e.CLUSTER_METRIC="ClusterMetric",e.RESOURCE_QUOTA="ResourceQuota",e.RESERVED_RESOURCE="ReservedResource",e.DASHBOARD="Dashboard",e.CLUSTER_PROVIDER_AND_REGION="ClusterProviderAndRegion",e.SERVICE_LOG="ServiceLog",e.INTERNAL_SERVICE_LOG="InternalServiceLog",e.CSLOGS="CSLogs",e.SUBSCRIPTION_LABEL="SubscriptionLabel",e.ORGANIZATION_LABEL="OrganizationLabel",e.SUBSCRIPTION_LABEL_INTERNAL="SubscriptionLabelInternal",e.SELF_ACCESS_REVIEW="SelfAccessReview",e.SUBSCRIPTION_INTERNAL="SubscriptionInternal",e.SUBSCRIPTION_ROLE_BINDING="SubscriptionRoleBinding",e.CLUSTER_SELF_MANAGED="ClusterSelfManaged",e.CLUSTER_SELF_MANAGED_ADDON="ClusterSelfManagedAddon",e.CLUSTER_SELF_MANAGED_LABEL="ClusterSelfManagedLabel",e.CLUSTER_SELF_MANAGED_STATUS="ClusterSelfManagedStatus"}(a=e.resource_type||(e.resource_type={}))}(n||(n={})),function(e){let t;!function(e){e.SSO="SSO",e.OCM="OCM",e.RBAC="RBAC"}(t=e.managed_by||(e.managed_by={}))}(r||(r={})),function(e){let t;!function(e){e.OCM="OCM",e.RBAC="RBAC"}(t=e.managed_by||(e.managed_by={}))}(i||(i={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model_type||(e.billing_model_type={}))}(s||(s={})),function(e){let t,a;!function(e){e.MANAGE_CLUSTER_ADMIN="manage_cluster_admin"}(t=e.capability||(e.capability={})),function(e){e.CLUSTER="Cluster"}(a=e.type||(e.type={}))}(o||(o={})),function(e){let t,a;!function(e){e.X86="x86",e.X86_64="x86_64",e.PPC="ppc",e.PPC64="ppc64",e.PPC64LE="ppc64le",e.S390="s390",e.S390X="s390x",e.IA64="ia64",e.AARCH64="aarch64"}(t=e.arch||(e.arch={})),function(e){e.SCA="sca"}(a=e.type||(e.type={}))}(u||(u={})),function(e){let t;!function(e){e.ADDON="addon",e.COMPUTE_NODE="compute.node",e.CLUSTER="cluster",e.NETWORK_IO="network.io",e.NETWORK_LOADBALANCER="network.loadbalancer",e.PV_STORAGE="pv.storage"}(t=e.resource_type||(e.resource_type={}))}(d||(d={})),function(e){let t,a;!function(e){e.ASSISTED_INSTALL="assistedInstall",e.HOSTED_CONTROL_PLANE="HostedControlPlane"}(t=e.product_category||(e.product_category={})),function(e){e.OCP="OCP",e.OSD="OSD",e.OSDTRIAL="OSDTrial",e.MOA="MOA",e.MOA_HOSTED_CONTROL_PLANE="MOA-HostedControlPlane",e.RHMI="RHMI",e.RHOSAK="RHOSAK",e.RHOSAKTRIAL="RHOSAKTrial",e.RHOSR="RHOSR",e.RHOSRTRIAL="RHOSRTrial",e.RHOSE="RHOSE",e.RHOSETRIAL="RHOSETrial",e.RHACS="RHACS",e.RHACSTRIAL="RHACSTrial",e.ARO="ARO",e.RHOIC="RHOIC",e.OCP_ASSISTED_INSTALL="OCP-AssistedInstall"}(a=e.product_id||(e.product_id={}))}(c||(c={})),function(e){let t;!function(e){e.PENDING="Pending",e.ACCEPTED="Accepted",e.DECLINED="Declined",e.RESCINDED="Rescinded",e.COMPLETED="Completed"}(t=e.status||(e.status={}))}(m||(m={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={}))}(p||(p={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={}))}(f||(f={})),function(e){let t;!function(e){e.CONFIG="Config",e.USER="User"}(t=e.managed_by||(e.managed_by={}))}(E||(E={})),function(e){let t;!function(e){e.HEALTHY="healthy",e.UNHEALTHY="unhealthy",e.UNKNOWN="unknown"}(t=e.health_state||(e.health_state={}))}(g||(g={})),function(e){let t;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={}))}(v||(v={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={}))}(h||(h={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp",e.ANY="any"}(t=e.billing_model||(e.billing_model={}))}(b||(b={})),function(e){let t,a;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={})),function(e){e.COMPUTE_NODE_AWS="compute.node.aws",e.PV_STORAGE_AWS="pv.storage.aws",e.CLUSTER_AWS="cluster.aws",e.NETWORK_IO_AWS="network.io.aws",e.NETWORK_LOADBALANCER_AWS="network.loadbalancer.aws",e.COMPUTE_NODE_GCP="compute.node.gcp",e.PV_STORAGE_GCP="pv.storage.gcp",e.CLUSTER_GCP="cluster.gcp",e.NETWORK_IO_GCP="network.io.gcp",e.NETWORK_GCP_LOADBALANCER_GCP="network-gcp.loadbalancer.gcp",e.ADDON="addon",e.COMPUTE_NODE="compute.node",e.PV_STORAGE="pv.storage",e.CLUSTER="cluster",e.NETWORK_IO="network.io",e.NETWORK_LOADBALANCER="network.loadbalancer"}(a=e.resource_type||(e.resource_type={}))}(S||(S={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={}))}(_||(_={})),function(e){let t;!function(e){e.CONFIG="Config",e.MANUAL="Manual",e.SUBSCRIPTION="Subscription"}(t=e.type||(e.type={}))}(C||(C={})),function(e){let t;!function(e){e.CONFIG="Config",e.MANUAL="Manual",e.SUBSCRIPTION="Subscription"}(t=e.type||(e.type={}))}(y||(y={})),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.CLUSTER="Cluster",e.SUBSCRIPTION="Subscription"}(a=e.resource_type||(e.resource_type={}))}(I||(I={})),function(e){let t,a;!function(e){e.GET="get",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.CLUSTER="Cluster",e.SUBSCRIPTION="Subscription"}(a=e.resource_type||(e.resource_type={}))}(A||(A={})),function(e){let t,a;!function(e){e.CONFIG="Config",e.USER="User",e.RBAC="RBAC"}(t=e.managed_by||(e.managed_by={})),function(e){e.APPLICATION="Application",e.SUBSCRIPTION="Subscription",e.ORGANIZATION="Organization"}(a=e.type||(e.type={}))}(R||(R={})),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.ACCESS_REQUEST_DECISION="AccessRequestDecision",e.ADD_ON="AddOn",e.FLAVOUR="Flavour",e.ACCOUNT="Account",e.ACCOUNT_POOL="AccountPool",e.CLUSTER="Cluster",e.IDP="Idp",e.PLAN="Plan",e.SUBSCRIPTION="Subscription",e.ORGANIZATION="Organization",e.ROLE="Role",e.PERMISSION="Permission",e.ROLE_BINDING="RoleBinding",e.REGISTRY="Registry",e.REGISTRY_CREDENTIAL="RegistryCredential",e.CURRENT_ACCOUNT="CurrentAccount",e.ACCESS_REVIEW="AccessReview",e.SELF_ACCCESS_REVIEW="SelfAcccessReview",e.RESOURCE_REVIEW="ResourceReview",e.SELF_RESOURCE_REVIEW="SelfResourceReview",e.CLUSTER_REGISTRATION="ClusterRegistration",e.ACCESS_TOKEN="AccessToken",e.CLUSTER_AUTHORIZATION="ClusterAuthorization",e.SELF_MANAGED_CLUSTER="SelfManagedCluster",e.REDHAT_MANAGED_CLUSTER="RedhatManagedCluster",e.EXPORT_CONTROL_REVIEW="ExportControlReview",e.CLUSTER_LOG="ClusterLog",e.CLUSTER_CREDENTIAL="ClusterCredential",e.CLUSTER_METRIC="ClusterMetric",e.CLUSTER_AUTOSCALER="ClusterAutoscaler",e.RESOURCE_QUOTA="ResourceQuota",e.RESERVED_RESOURCE="ReservedResource",e.DASHBOARD="Dashboard",e.CLUSTER_PROVIDER_AND_REGION="ClusterProviderAndRegion",e.SERVICE_LOG="ServiceLog",e.INTERNAL_SERVICE_LOG="InternalServiceLog",e.CSLOGS="CSLogs",e.SUBSCRIPTION_LABEL="SubscriptionLabel",e.ORGANIZATION_LABEL="OrganizationLabel",e.SUBSCRIPTION_LABEL_INTERNAL="SubscriptionLabelInternal",e.SELF_ACCESS_REVIEW="SelfAccessReview",e.SUBSCRIPTION_INTERNAL="SubscriptionInternal",e.SUBSCRIPTION_ROLE_BINDING="SubscriptionRoleBinding",e.CLUSTER_SELF_MANAGED="ClusterSelfManaged",e.CLUSTER_SELF_MANAGED_ADDON="ClusterSelfManagedAddon",e.CLUSTER_SELF_MANAGED_LABEL="ClusterSelfManagedLabel",e.CLUSTER_SELF_MANAGED_STATUS="ClusterSelfManagedStatus",e.CLUSTER_KUBELET_CONFIG="ClusterKubeletConfig",e.MACHINE_POOL="MachinePool",e.CLUSTER_BREAK_GLASS_CREDENTIAL="ClusterBreakGlassCredential"}(a=e.resource_type||(e.resource_type={}))}(T||(T={})),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.CLUSTER="Cluster",e.SUBSCRIPTION="Subscription"}(a=e.resource_type||(e.resource_type={}))}(O||(O={})),function(e){let t,a;!function(e){e.GET="get",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.CLUSTER="Cluster",e.SUBSCRIPTION="Subscription"}(a=e.resource_type||(e.resource_type={}))}(P||(P={})),function(e){let t,a,l,n,r,i;!function(e){e.OPENSHIFT="Openshift",e.JBOSS_MIDDLEWARE="JBoss-Middleware",e.IBM_CLOUD_PAK="IBM-CloudPak"}(t=e.product_bundle||(e.product_bundle={})),function(e){e.L1_L3="L1-L3",e.L3_ONLY="L3-only"}(a=e.service_level||(e.service_level={})),function(e){e.ACTIVE="Active",e.ARCHIVED="Archived",e.DEPROVISIONED="Deprovisioned",e.DISCONNECTED="Disconnected",e.RESERVED="Reserved",e.STALE="Stale"}(l=e.status||(e.status={})),function(e){e.EVAL="Eval",e.STANDARD="Standard",e.PREMIUM="Premium",e.SELF_SUPPORT="Self-Support",e.NONE="None",e.SUPPORTED_BY_IBM="Supported By IBM"}(n=e.support_level||(e.support_level={})),function(e){e.CORES_V_CPU="Cores/vCPU",e.SOCKETS="Sockets"}(r=e.system_units||(e.system_units={})),function(e){e.PRODUCTION="Production",e.DEVELOPMENT_TEST="Development/Test",e.DISASTER_RECOVERY="Disaster Recovery",e.ACADEMIC="Academic"}(i=e.usage||(e.usage={}))}(D||(D={})),function(e){let t,a;!function(e){e.OCP="OCP"}(t=e.plan_id||(e.plan_id={})),function(e){e.DISCONNECTED="Disconnected"}(a=e.status||(e.status={}))}(L||(L={})),function(e){let t,a,l,n,r,i;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.cluster_billing_model||(e.cluster_billing_model={})),function(e){e.OPENSHIFT="Openshift",e.JBOSS_MIDDLEWARE="JBoss-Middleware",e.IBM_CLOUD_PAK="IBM-CloudPak"}(a=e.product_bundle||(e.product_bundle={})),function(e){e.L1_L3="L1-L3",e.L3_ONLY="L3-only"}(l=e.service_level||(e.service_level={})),function(e){e.EVAL="Eval",e.STANDARD="Standard",e.PREMIUM="Premium",e.SELF_SUPPORT="Self-Support",e.NONE="None",e.SUPPORTED_BY_IBM="SupportedByIBM"}(n=e.support_level||(e.support_level={})),function(e){e.CORES_V_CPU="Cores/vCPU",e.SOCKETS="Sockets"}(r=e.system_units||(e.system_units={})),function(e){e.PRODUCTION="Production",e.DEVELOPMENT_TEST="Development/Test",e.DISASTER_RECOVERY="Disaster Recovery",e.ACADEMIC="Academic"}(i=e.usage||(e.usage={}))}(N||(N={})),function(e){let t;!function(e){e._1_URGENT_="1 (Urgent)",e._2_HIGH_="2 (High)",e._3_NORMAL_="3 (Normal)",e._4_LOW_="4 (Low)"}(t=e.severity||(e.severity={}))}(w||(w={}))},82399:(e,t,a)=>{"use strict";var l,n,r,i,s,o,u,d,c,m,p,f,E,g,v,h,b,S,_,C,y;a.r(t),a.d(t,{AWSInfrastructureAccessRoleGrantState:()=>i,AWSInfrastructureAccessRoleState:()=>s,AddOnInstallMode:()=>n,AddOnInstallationState:()=>l,AlertSeverity:()=>r,BillingModel:()=>o,BreakGlassCredentialStatus:()=>u,ClusterConfigurationMode:()=>d,ClusterHealthState:()=>c,ClusterOperatorState:()=>m,ClusterState:()=>p,ComponentRouteType:()=>f,DetectionType:()=>E,Ec2MetadataHttpTokens:()=>g,IdentityProviderMappingMethod:()=>v,IdentityProviderType:()=>h,InflightCheckState:()=>b,ListeningMethod:()=>S,LoadBalancerFlavor:()=>_,MachineTypeCategory:()=>C,MachineTypeSize:()=>y,NamespaceOwnershipPolicy:()=>D.NamespaceOwnershipPolicy,NodeType:()=>I,Platform:()=>A,ProvisionShardTopology:()=>R,ScheduleType:()=>T,UpgradePolicyStateValue:()=>O,UpgradeType:()=>P,WildcardPolicy:()=>L.WildcardPolicy}),function(e){e.DELETING="deleting",e.FAILED="failed",e.INSTALLING="installing",e.PENDING="pending",e.READY="ready"}(l||(l={})),function(e){e.ALL_NAMESPACES="all_namespaces",e.OWN_NAMESPACE="own_namespace"}(n||(n={})),function(e){e.CRITICAL="critical",e.NONE="none",e.WARNING="warning"}(r||(r={})),function(e){e.DELETING="deleting",e.FAILED="failed",e.PENDING="pending",e.READY="ready",e.REMOVED="removed"}(i||(i={})),function(e){e.INVALID="invalid",e.REMOVED="removed",e.VALID="valid"}(s||(s={})),function(e){e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_GCP="marketplace-gcp",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.STANDARD="standard"}(o||(o={})),function(e){e.AWAITING_REVOCATION="awaiting_revocation",e.CREATED="created",e.EXPIRED="expired",e.FAILED="failed",e.ISSUED="issued",e.REVOKED="revoked"}(u||(u={})),function(e){e.FULL="full",e.READ_ONLY="read_only"}(d||(d={})),function(e){e.HEALTHY="healthy",e.UNHEALTHY="unhealthy",e.UNKNOWN="unknown"}(c||(c={})),function(e){e.AVAILABLE="available",e.DEGRADED="degraded",e.FAILING="failing",e.UPGRADING="upgrading"}(m||(m={})),function(e){e.ERROR="error",e.HIBERNATING="hibernating",e.INSTALLING="installing",e.PENDING="pending",e.POWERING_DOWN="powering_down",e.READY="ready",e.RESUMING="resuming",e.UNINSTALLING="uninstalling",e.UNKNOWN="unknown",e.VALIDATING="validating",e.WAITING="waiting"}(p||(p={})),function(e){e.CONSOLE="console",e.DOWNLOADS="downloads",e.OAUTH="oauth"}(f||(f={})),function(e){e.AUTO="auto",e.MANUAL="manual"}(E||(E={})),function(e){e.OPTIONAL="optional",e.REQUIRED="required"}(g||(g={})),function(e){e.ADD="add",e.CLAIM="claim",e.GENERATE="generate",e.LOOKUP="lookup"}(v||(v={})),function(e){e.LDAPIDENTITY_PROVIDER="LDAPIdentityProvider",e.GITHUB_IDENTITY_PROVIDER="GithubIdentityProvider",e.GITLAB_IDENTITY_PROVIDER="GitlabIdentityProvider",e.GOOGLE_IDENTITY_PROVIDER="GoogleIdentityProvider",e.HTPASSWD_IDENTITY_PROVIDER="HTPasswdIdentityProvider",e.OPEN_IDIDENTITY_PROVIDER="OpenIDIdentityProvider"}(h||(h={})),function(e){e.FAILED="failed",e.PASSED="passed",e.PENDING="pending",e.RUNNING="running"}(b||(b={})),function(e){e.EXTERNAL="external",e.INTERNAL="internal"}(S||(S={})),function(e){e.CLASSIC="classic",e.NLB="nlb"}(_||(_={})),function(e){e.ACCELERATED_COMPUTING="accelerated_computing",e.COMPUTE_OPTIMIZED="compute_optimized",e.GENERAL_PURPOSE="general_purpose",e.MEMORY_OPTIMIZED="memory_optimized"}(C||(C={})),function(e){e.LARGE="large",e.MEDIUM="medium",e.SMALL="small"}(y||(y={}));var I,A,R,T,O,P,D=a(58826);!function(e){e.COMPUTE="compute",e.INFRA="infra",e.MASTER="master"}(I||(I={})),function(e){e.AWS="aws",e.AWS_CLASSIC="aws-classic",e.AWS_HOSTED_CP="aws-hosted-cp",e.GCP="gcp",e.HOSTEDCLUSTER="hostedcluster"}(A||(A={})),function(e){e.DEDICATED="dedicated"}(R||(R={})),function(e){e.AUTOMATIC="automatic",e.MANUAL="manual"}(T||(T={})),function(e){e.CANCELLED="cancelled",e.COMPLETED="completed",e.DELAYED="delayed",e.FAILED="failed",e.PENDING="pending",e.SCHEDULED="scheduled",e.STARTED="started"}(O||(O={})),function(e){e.OSD="OSD",e.ADDON="ADDON",e.CONTROL_PLANE="ControlPlane",e.NODE_POOL="NodePool"}(P||(P={}));var L=a(92868)},58826:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{NamespaceOwnershipPolicy:()=>l}),function(e){e.INTER_NAMESPACE_ALLOWED="InterNamespaceAllowed",e.STRICT="Strict"}(l||(l={}))},92868:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{WildcardPolicy:()=>l}),function(e){e.WILDCARDS_ALLOWED="WildcardsAllowed",e.WILDCARDS_DISALLOWED="WildcardsDisallowed"}(l||(l={}))},41493:(e,t,a)=>{"use strict";var l;a.d(t,{z:()=>l}),function(e){let t,a;!function(e){e.CLUSTERCREATE_HIGH_LEVEL="clustercreate-high-level",e.CLUSTERCREATE_DETAILS="clustercreate-details",e.CLUSTERREMOVE_HIGH_LEVEL="clusterremove-high-level",e.CLUSTERREMOVE_DETAILS="clusterremove-details",e.CLUSTER_STATE_UPDATES="cluster-state-updates",e.CLUSTER_SUBSCRIPTION="Cluster Subscription",e.CLUSTER_LIFECYCLE="Cluster Lifecycle",e.CLUSTER_UPDATES="Cluster Updates",e.CLUSTER_OWNERSHIP="Cluster Ownership",e.CLUSTER_ACCESS="Cluster Access",e.CLUSTER_SCALING="Cluster Scaling",e.CAPACITY_MANAGEMENT="Capacity Management",e.CLUSTER_CONFIGURATION="Cluster Configuration",e.CLUSTER_SECURITY="Cluster Security",e.CLUSTER_ADD_ONS="Cluster Add-ons",e.CUSTOMER_SUPPORT="Customer Support",e.CLUSTER_NETWORKING="Cluster Networking",e.GENERAL_NOTIFICATION="General Notification"}(t=e.log_type||(e.log_type={})),function(e){e.DEBUG="Debug",e.INFO="Info",e.WARNING="Warning",e.ERROR="Error",e.FATAL="Fatal",e.MAJOR="Major",e.CRITICAL="Critical"}(a=e.severity||(e.severity={}))}(l||(l={}))},63995:(e,t,a)=>{"use strict";e.exports=a.p+"images/AWS.f6085b0c4a4d5430..png"},24074:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAAEiCAYAAADwEwVaAAAACXBIWXMAABYlAAAWJQFJUiTwAAAck0lEQVR4nO3dfYwdV33G8WeCCbaJsr7WKo4a/AalEJXIm0JBFQE7ElQICDGoav8hsqNKFbQ0MRIqElIbG6RKICTstFLVSig2RqXtH7BJGoQaUHZDKgSNyLou6gsq2XVqFKOtrzei2WAST3X2nvGO79x7986dt3PmfD+SRbKzODuzu+eZ33mN4jgWACA8m/ieI0TdKDos6aCkA5KmBjyCM5IuSZqTtGD+dOJ4MfNZgMeoABCUbhQdkWT+7J7gvpdsGJhQmOvE8ULmMwCPEAAIQjeKZiSdlLSvxPtdSsJA0mwnji9lPgNwGAEQsG4UbZM00/cELrXtzdZ29xwf0tVTpjM2ZKgO4AUCICDdKEr6vE2jv3+DO093d8z62v/djSLT8N+fuVA98/xmTSAQBnAVAdBy9i0/6fcu8gacvN16EwbdKDJf76HMhfoRBnASAdBSJTb8gzxsulQ6cTw34Frj7L3PjlHlNIEwgDMIgBayA56zE850ycM0Zkc7cXzSladoG/+5kgd7q0IYoFEEQMvYAc+Har4rJ4LAs8a/n3ddbPAfAdAi3Sg6KumBBu+osSCoseqpw3wqDJhaisoQAC3R4GyXQZZsA3a8jgbMzm46WcM0z7qtpLqInBxvgd8IgBZoqNtnHCt2/v3Jqro1HAu+KiWhWtmzRHgIAM91o8jM63/Cg7s4VeabrL3vky3p8snrYds95MzgO/xEAHjMDnouetb1UWjmi+3uOeLoFM+6raS62qgKkBsB4LFuFM153hCupFYbL9jdNxeScYPUVhV77Armgy3s5y/LvA1VqgKMjQDwlN3V8kuhPwdkUBVgbASAhzzt+kH9HrZVwSzPHoMQAB5yaI8b+GEpNRuLdQW4igDwTDeKTH/4s6E/B0wkWVdwlO4hGNdlPgLXMciHSU3ZyvFZM4HAzqhCwKgAPOLRnH/4Y237DradCBMVgF8Oh/4AULrddhX5otlLyk4wQCCoADxB3z9qdIpxgjBQAfjjaOgPALVJxglO2l1W0VJUAB5g3j8aNm8rAnYkbRkqAD+wBQKaZLYbecLOHDrAd6I9qAA80I2iBU9PuUI7URG0BAHgONsH+0zozwFOIgg8RxeQ+5j6CVclXUMn7Sw1eIYKwHHdKFoM9NAT+Ifpo56hAnCYXapP4w9fmOmjCywo8wcB4Db2aoFvzGy1B2wQ0H3pOLqAHNaNoktM/4TnzEDxkUmO/0T1qAAcZbt/aPzhOzNQ/AzdQm4iANxF+Yw2SbqFWEjmELqAHGTflLqhPwe01rFOHLO3lQOoANzE4C/a7AGzup21A80jANxEAKDt9tEl1Dy6gBzDvv8I0L2dOOao0wZQAbiHt3+E5iGznQTf9foRAO5h9g9CdIgQqB9dQA6h+wfQqU4c8xJUEyoAt/CDj9AdYguJ+lABOISdP4Gr7uScgeoRAI7g4BfgGiuS9nTi+BKPpTp0AbmDshdYZ/bBOs7zqBYVgCPo/gEGoiuoQlQADuDgF2Ao9gyqEAHgBhZ/AYPtZ7uI6tAF5AAOfgFGmu/EMSFQASqAhnHwC7Ch/ewcWg0CoHnM/gE2doRnVD66gBrEwS/A2JY6cUwVUDIqgGYx+AuMZ7ddLIkSEQDNIgCA8fH7UjK6gBrCzp9Abmc6cUwVUCIqgObwNgPks8+Om6EkBEBzmP0D5Md6gBIRAA2w3T/7grtxoDgCoEQEQDPo/gEmQwCUiEHgBrDzJzC5ThxHPL5yUAHUzM5lpvEHJsTmcOUhAOrH4C9QDAFQEgKgfvT/A8UQACUhAGpE9w9QChaDlYQAqBc7GgLFTbEvUDkIgHrR/QOUg26gEhAANeHgF6BUVAAlIADqw9s/UB4qgBKwEKwmnPsLlG5vJ44XeayTowKoQTeKDtP4A6WjG6ggAqAedP8A5aMbqCC6gCrGub9AZTggpiAqgOrx9g9Ugy3VCyIAqkcAABVhY7hiCIAK2e6fu1t7g0DzCIACCIBq8fYPVIsAKIAAqBZbPwPVYhC4AAKgIvbc3/2tvDnAHWwMVwABUB26f4B60A00IQKgOnT/APWgApgQAVAB2/3DHGWgHlQAEyIAqkH3D1Cf3falCzkRABX4qfSx1t0U4Da6gSZAAJQsiqKZX5He1KqbAtxHN9AECIDyce4vUD8qgAmwG2iJot7WD4sX2fsfqF0njiOeej5UAOXi3F+gIWwMlx8BUC66f4DmEAA5EQAliXrL0dfm/v9YOt+GewI8wzhATgRAea6+/X9N2tqC+wF8QwWQE4PAJYj6jn3cJWnB5xsC/HV7J4759RsTFUA5rtn355ykb0oXPL4fwFd0A+VAAJQjM/j7GWmHp/cC+IxuoBwIgIKi3tSz3f1/C1UA0AgCIAcCoLih2z7/kbTjF9JLmQsAqrLbnsWNMRAABdjB30PD/oYVSX8gXclcAFAlqoAxEQDFDH37TzwqbX1KWs5cAFAVAmBMBEAxmcHfQe6Rpi/1CgIA1WMm0JhYBzAhO/j7xLj/79skzWc+CqAKbAw3HiqAyeU68/espPul1cwFAKVjY7jxbPLhi6yLPVYufbRc+odoW1Jarkqbd0nvOJfz6zotbXmPdPEuaXvmIoAymd/dOZ7oaEEEgJ0WlvQLJo36jG3Ut+U9wP0X0krexj9xSNr+iLR8hzSduQigLIwDjKFVAWDLvuQtPmng92c+saAHC07tNIPCT0oXd1IJAFWhC2gMXg4C266aGfsnafQzq3GrMmNX+hZhTo0hBIBKsTHcBryoAOyb/YFUg9/YqVvPSxfOlbDPj5kT+m5p+zPSyjZOEQOqMMPGvKM5GQDd3uEqB21jX3oXThFz0stl/V0mBO6Wph6XVq+XtmQ+AUARpv04yRMczpkA6EbRQdvoO32u7mPSLZkPFmCmh75X2kIIAKVjHGADjY4B+NLop+1VNUt6d/W2jWBMAChXpxPHl3img9W+EMwM4Haj6Hg3isw35Rt2MzUvGv8XpG5V+zmcs2MCz0kXMxcBTIoqYITaAqAbRYe7UWQWZjzbWxTr38DnBenFzAdLtEIIAGUjAEaoPABsw78o6SHXBnTzeqLEAeBhkhBgB1GgFCwIG6GyAOhr+Gubo98GJgQ+JE0/SiUAFOX1S2fVSg8AM7Db1ob/R9JNmQ9WyGwb8WecKAYUwsZww5UWAHZwd84O7Lbyjf/ZBqZp/qW02ewi+suKxx+AFiMAhiglALpRdMSuuKPcqoDdRXQrh8oAE2EcYIhCAWB22bRv/V/ycVaPT8yCsdulKWYIAblRAQwxcQDY7RoWeeuvz0pv3+rtX2WGEJDHlN1AEn0mCgAzw0fSM6G99b9vbSlA8+6TphkXAHKhChggdwB0o+ioneETnE0OzchJxgXOUw0A4yAABsgVAN0oMjvrPZC5EIg7Hds91YwL3MF6AWAcDAQPMPZmcGb/HruFQ7AuS6s3O7pj5z3S6hel+NXS1sxFAGJjuKyxKgDb5x9042+Y7Zp3ZT7qBtMl9JvSVmYJAUPRDdRnwwCwq+iC7PMfZL+0OuDDTjhnZwmdYL0AMAjdQH1GBoCdOjWbuRCwezwYdD0mTZm5uSwcA9b9b+/cEaSMHAOwi7yY59+nqkNhymbm6H5OWv6oNO3BlwtUrhPHEU953dAKwG7vQOM/wIcc7gZKW7FrBj5ENQCseWsUfZAnsW5gANiun6OZC1jzJ9L/+fQknrLbSDA2gNDdJv1O6M8gbWAA2MafvX2GuEWavmPwJWetpMYGWDyGUP2MgeBrZALAvv0fynwmrvHH0nM+PpGzvbegaXPOAFtJIDQvSr/KN31dJgDo+hnPe6Wdrq4JGIc5Z8CsG+DoSYTkFem1UW8jy+CpPwB4+8/nzx3ZHG5S5+zRkwwSIzAsCLP6K4DDmc/AUO+Xdvg2FjCIGSR+vR0kplsIASAALAKgoM97XgWkmUFi0y30zRbdEzAAAWBdDQB7wEsrz/Kt0q3Sjns8WRcwDtMt9FFph+kW+neCAC1zrnc7UxEHxKxJVwC8/U/oC1LUtjmzplvondKOQ9KLjA+gLc6t30fwVYD6AoAHMqHXSJtPt3Q2zaPSVjM+YKaNXm5RpYPwvCB1UzcdfHunJADM4e69jSQxKXMwy10tHkA100bfJG0xA8UEAXz0X9LPU1928AGgVAXAvNgS/I10XZuXTyeriQkC+OgHa0d6XLWbcYD1ACANS2C6gh4NYGFVOgiYMQRf/L20o+9LDf7FNwmA4JOwLG+Rph8IZNB0xc4YMr9FJgioCOAq87N5Nvu1Bf/iSwBU4H5pqs3jAf2SqaN0DcFV314bA84IPgDWDoTpRtEiawDKZRrB90pbBrx1tJ4ZBzkirXxcuv56Rw/RR1j2240QB+jEAR8Un1QANP4lMw3f30rLIe6pnR4juF9aZR0BmmQWNA5p/PVT6T+6URTsGqhBu4GiJObcgCeli6EerGBa/dPSFrOOwAQBK4vRhE9nB3+vsq/+D3Wj6FI3io7aKfHBIAAqtlPa/qB0sdU3OQYTBO+0W0w87ulZCvCPeel4asRXfXatt3aNeU97QNKiDYIgxkUJgBrcJW0/RQisMb+MvyftNDOHGDBG1T424u3f+J50Q9+HkiB4thtFJ9seBARATQiBa52z4wQ323ECuodQNvOCMazvP/EdqZP54LpDNgha2zWUzAKKM1dQCbOnjtlWgaebZU5Y+5S0/LvSa5k9hCKeky7uk7aP81eM+VZmhrSOmz+dFs0aIgAaYN54T9PAjWS22P6Y9MKtG5TwQL9fSC+9Wdo87tSzp6Wl148/E9L8tUc6cXwyc8VDdAE14IS05RPSS8HdeA7JoHEyVtC3kyMwkBlT+u0cjb96ewRtynxwuCk7a2ihG0XeLySjAmjQo9LFQ2OWqZBu603pu/Ae6Ua6iNBv0sWXpto8MfnP08O2IljMXPFAUgHM89NUPwaG8zlrt5wwA8f32OmkzCKCCq68Xyj2MnG3+SvMQHHmigeSCmDOrpZGA6gEivmApD+Unn+rNEVlEB4z4Gteps4VuPOS3sLO2GpgLnPFUUkF4M0X3Ebmh/dMwCuGi3qsFwI3UxmEx7w8vbtg42/8RFrKfDA/c6jWE90oOu7LtNEkALzsv2oTs2LYbBuxK/QHUdBjdqFZEgZ/J51nALl9zEwfc161qZzL2Gjqv8udEHO/7RZyfpA4uemFzBXUzoTAD6TV23j0pXis1zV0yx6pY/o3Pyt1fyydb8GtBc2cPfHm3uFLW8t6DgNWBBe1O6kGXP5erY0BqHcu8CU7xQkN+6X04qekiLUC1ZjqneFsuo3Ov1/aeuPo1aBwhFktbrZ2qGKLdfPz8Ejmo6UxYwOHO3Hs3It2OgBm7Yg2HPFVafk+aZrvR7V29WZArH5QWn6HdAOB4BbT8JsdPUdt6laUeSl4ttq7dnIBWToAjkj6UuYz0Kh/k5bvkqbZUL8+6UC4Tbr+ZlYjN8J09Xy+ojf+QWqaj33KBoET20mkA2BP9SGISZgDVe6WpkI8XcwFSZfRu6SlO6VNu6XtTDetxnlp+a+lG07nXM1bhpxbQhThTJfQ1QBQLwQW7FQmOIiN5NxhBupnpNXfki6+XXr5ddJNhMJkTKP/ZelVX5c6RadzFlFjAMh2CZkQmM1cqVF/ANAN5LinpOV76BJy0i4bDKZS+A3putfRfTSQmZb7fenn/yhNPyJtceVnueYASBzrxHFjq4j7A4BuIA/QJeSX22w30vukC2+ULr9BuhJSxWAWWZkN174nbZ+XtjT5lj9KQwGgJscFrgkA9UKAbSE8YXbJPMbUXa8l4fA2qXuz9IKpHLZLV7ZKm32rHkxDf1G67ofSle9Ku8/Z/Zt80WAAyI4LHKg7BAYFgDkh/6HMZ8JJZpbQR6VpV9+qUNxtqQU6SVCYf75R2mTGH9L/gbIri+elCy/arctfkTY9Yf97z0s3Pm2ny1Y5PbNODQeAbAgcrHNn0UwAiEVh3jELxz4nXccAMTA5BwJAdnD4QF0zhIbtf+H08mVc69XS1s9Km5+UltlLCJjM9FpR1Tjz4j3XjaKZOr6QYRUAg8GeohoAJuPYwRy1VAIDKwDbB3UqcwHOoxoA8nNwA8ZaKoGBAWB5ecINet4iTZtXhwd6bxIARphx8/yIykNgaABQBbTD/dLUT6SVO0J/EMAIZt+n4VcbVWkIDBwDSNhTbRaZEdQOZhXxJ5gyCmQsSl3Hd4GtZExgaAWgXhVwiRlB7XGHNP0v0ot0CwHrdvXWVLi+Bbh5CT9Z9lGTIwPAMgFQxnmZcIAZJE66he6SXuR7gtB9xJ8jQ/fZ7qDSQmDDALBVwJHMBXhtmzR1Str6z9IFxgcQsvvKPQ+4avvK7JUZ68btlqXzmQvw3q3Sjkd6p49dYNooQnOHfRny7LYPdaOolFmaIweB0+zisAUGhNvNHEP5p2w3jUCYCvhWf7fs/nDR8wTGDgBxXkAwLkurfyVdPi5NEQRoq4oPgq+D+fWcKbJ5XK4AENtFB4UgQJt5/vafONOJ44nXCEwy+HFYTCMMgtlW2MwY+k9p1Uwdpe8PbWFmwLWg8Tf2daNo4kHh3BWAODMgWFQEaAPzIvOMtOLh4O8od3bieG7E9YEmCgD1QuCkGY3OXEDrJUHwkDTFqmL45kF7iFLLvnHmnWxP3hPFigSAWYwwZ+elIlDflC58RtpBEMAHpuvHrH9p6Tfr4U4cH8x8dISJA0C9EJixIUD3cOCelp77rLSzLccDon3Mls+PS6stP4w/V1dQoQAQ4wHoc15a/oL02tPt/iWDZ6bsZoi3tK/rp99SJ473ZD46ROEl0J04NmMBJzIXECTzC3ZC2vK8nTnE6mI0zTT+T0oXA2j8jd15VgkXrgASrA/AMI9Lz/0F3UNoQNL475S2B/T8x14gVmYAMCiMkS5JKw9KVx6SOkwjRdUCbfwTpzpxfDjz0T6lBYDYLwg5mKrgK9LOx3hoqEDgjX9i70ZVQKkBIGYGIacXpO4j0itf5KQylMTM9vkn6aXXSJsDf6YbVgGlB4B6IWDmon4jcwEYwcwg+rL0KrqIMKl7pNUTzEBLG1kFVBIAYnooCjLrCk5L049IWwgDbMR0N5yWlu8IY6ZPHiOrgMoCQIQASkIYYBSzrfNX2re3T5mGVgGVHoXGGgGU4W3STlPWP9vr233OlPn8pmOqt5//8iN+nupVp2YqgAQbx6EKP5bOf03a+nWpwwByWMwiw49L17d8W4eyrHTieOBB8rUEgAgBVOx56cK3pVf9gzTNgrP2MtXfMekyb/y5DTw+srYAECGAmpjtqv9VWjbjBvPSFqoD/9HwFzZwp9BaA0CEABpg1hp8X/r5V+x2FAwk+8G09EeklXulKzdKndCfRwk6/ecF1B4AIgTQMNNdNCe9/Jh0y1lJVAhuMQu5Pi1deH87jmx0yb12Ys5VjQSAmCIKhyQVwvekG74jdc7yzamd2TX2I1L3Puk6unkqk+kGaiwARAjAYWaG0RPSy9+VdlMlVCNp9H9feiWQrZqblpkN1GgAiBCAJ8zA8pJ00YTCj6SbFqQtVAr5faD35/z7pa306zfimhPDGg8AsYEcPGbGE/5HuvxD6YqpFkylQDD0TNlVuu+Slu6UNr1x7bwgNOxYJ46vHhjjRACIEEDLmHGFZemFH0ibLkqbvmUHNNu6RmGX/fM+6cLbpcu/Jt3AG76T5jtxfCD5wpwJAHGoDALyE2nJ3K0JiBekl5+XbnzaNphnHZ2qmjTyU/atfq903RukK6+Xdmc+Ga66ZhzAqQDQegjMcrwksF5JmH9+RdpkxiDSj+VlafO3SpguuVda/XXpZ6l/X2vczT+/TrqJLRda5ermcM4FQIK1AgBQiasDwZXuBlqE3cP6Xr7/AFCqmeQvczYAtL6d9J2s3geA0lwdA3A6ANQLgTmbWGcyFwEAee1JPt/5AFAvBMyAhZm6dCpzEQCQh18BoF4IXLLjAp/MXAQA5OZNACQ6cXxc0u2MCwBAMd4FgHohsGDLmPnMRQDAWLwMAK13CZlxgWOZiwCADXkbAAm7sRFTRQEgJ+8DQOtTRU2X0MOZiwCAgVoRAFrvEjpoZwlRDQDABloTAAk7S+gAC8cAYLTWBYDsLKFOHJvVwycyFwEgbFdPBGtlACQ6cXzEDhAvZS4CQOBaHQC6di8hqgEAkBaTZ9D6AND6ADHVAACEFgAJqgEAWA8AZ08Eq1o3isxMIXPeAOeZAghGJ46j5F6DqgDSqAYABOia/dOCDQBdOzZwO+sGAARgMX2LQQdAIrVu4BiriAG02EL61giAFLux3Ax7CgFoqbn0bQU7CLyRbhSZfYWOM0gMoCVWOnG8LX0rVABDdOJ41lYDnDcAoA3m+u+BABjBDhKbbqG9nD4GwHOZAKALKAfWDgDw2N5OHDMLaFJm7UAnjvcwWwiAZ5b6G38RAJOx3UImCE75+PUDCM5s5iMEwOTs+MBhu4iM8QEALjs56GtjDKAkjA8AcNQZu9A1gwqgJKnxgXvZchqAQ44P+1KoACrQjSKz2OKI/TPVuhsE4AszWWWP6bIe9PVSAVQgtX6AGUMAmjQ7rPEXFUA9ulFkgsAEwqEQ7heAMzJz/9OoAGpgvgF2xtBepo4CqMmpUY2/qACaQUUAoAYj3/5FBdAMKgIAFdvw7V9UAG6gIgBQsg3f/kUF4AYqAgAlOjFO4y8qADdREQCY0Mh5//2oABzUVxGcYB0BgDEdGbfxFxWAH1hZDGAM8504PpDnQREAHrFBcNB2D7HpHICE6SWYGbfvP0EAeKobRaaLyPzZH/qzAKAP23PMcyEAPGe3oT7MgDEQrFN2zDA3AqAl7MyhIzYMGCcAwnBG0oE8A79pBEDLME4ABGOifv80AqDFbPeQqQruDv1ZAC10pzmIqshtEQABoHsIaJ17O3E88JzfPAiAwNjZQyYM9oX+LABPfbITx0OPecyDAAhUN4pmbBAcpCoAvDHxjJ9BCIDApQaNqQoAt5Xa+IsAQJqtCg4zVgA4p/TGXwQAhrFjBQeZQQQ0rrQ+/34EAEayM4iSLiLWFQD1KmW2zzAEAMZGFxFQG7PI62DRef4bIQAwkW4UHbSVAXsQAeUy2zsc7sTxQtXPlQBAIalZRIwXAMU9bBv/ifb2yYsAQGlSYcA21UB+lQ32DkMAoBKpwePDrC8ARqqty6cfAYDKpcLgIJUBcI1jnTg+2tQjIQBQK8YMgDWNvfWnEQBoTCoMDrAnEQJhpncerbuvfxgCAM6wU0uTMGDRGdrmlFlQWdcMn3EQAHCSXXR2gHEDtMC8bfgb7e4ZhACA82xX0YFUdxHVAXwwb7t7Kl3NWwQBAO+kqoMDDCTDQc43/AkCAN6zZx8n1QFrDtAU08d/0oeGP0EAoFVS3UUHCATUwMzqMbt1Hu/E8aJvD5wAQKsRCKiImcdvpnLOujSrJy8CAEGxgZAeQ2CGEca1ZBp8X9/2ByEAELy+QeUZZhkhZcU2+l717Y+LAAD6pLqNZlL/yyrlcCRv+nOdOJ5t810TAMAY7IZ2M4RCa82nGn3nFmxVhQAAJmRDYU8qEPYwyOwNM4g7F8Jb/igEAFAyuy4hHQ57GFdolOnHX0g1+K3ry58UAQDUxA4270lVC3voSipdurE3/7vQlhk7VSAAAAfYqkG2Ykimqm6jS2koM1C7aBv5xVRj7+2c/CYQAIAHUgGRBEMSEmppF5Ppo79kG/dF+8+mkb8U0iBt1QgAoEVsN9M2e0dJN5OG/LtqCI+kIU9bSH0sadhF414/AgAAQiTp/wGp07dbIvUIVgAAAABJRU5ErkJggg=="},54352:(e,t,a)=>{"use strict";e.exports=a.p+"images/Logo-Red_Hat-B-Standard-RGB.5bd5efa3348769a0..png"},97515:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMyAyMyI+PHBhdGggZmlsbD0iI2YzZjNmMyIgZD0iTTAgMGgyM3YyM0gweiIvPjxwYXRoIGZpbGw9IiNmMzUzMjUiIGQ9Ik0xIDFoMTB2MTBIMXoiLz48cGF0aCBmaWxsPSIjODFiYzA2IiBkPSJNMTIgMWgxMHYxMEgxMnoiLz48cGF0aCBmaWxsPSIjMDVhNmYwIiBkPSJNMSAxMmgxMHYxMEgxeiIvPjxwYXRoIGZpbGw9IiNmZmJhMDgiIGQ9Ik0xMiAxMmgxMHYxMEgxMnoiLz48L3N2Zz4="},99432:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgdmlld0JveD0iMCAwIDM4IDM4Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZmZmO30uYntmaWxsOiNlMDA7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik0yOCwxSDEwYTksOSwwLDAsMC05LDlWMjhhOSw5LDAsMCwwLDksOUgyOGE5LDksMCwwLDAsOS05VjEwYTksOSwwLDAsMC05LTlaIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xMC4wOTg2MywyMi4xODk5NGEuNjI1LjYyNSwwLDAsMS0uMjU0ODgtMS4xOTU4bDIuNzQwNzItMS4yMjAyMWEuNjI0OTIuNjI0OTIsMCwxLDEsLjUwODc5LDEuMTQxNmwtMi43NDA3MiwxLjIyMDIxQS42MTkuNjE5LDAsMCwxLDEwLjA5ODYzLDIyLjE4OTk0WiIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNOC44MzIsMjUuNDkwNzJhLjYyNS42MjUsMCwwLDEtLjI1NDg4LTEuMTk1OGwyLjc0MDIzLTEuMjIwMjFhLjYyNDkyLjYyNDkyLDAsMSwxLC41MDg3OSwxLjE0MTZMOS4wODU5NCwyNS40MzY1MkEuNjE3MzEuNjE3MzEsMCwwLDEsOC44MzIsMjUuNDkwNzJaIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yNi40Mjc3MywxNC45MTk0M2EuNjI0NzMuNjI0NzMsMCwwLDEtLjI1MzktMS4xOTU4TDI4LjkxNSwxMi41MDM0MmEuNjI0NzIuNjI0NzIsMCwxLDEsLjUwNzgxLDEuMTQxNmwtMi43NDEyMSwxLjIyMDIxQS42MTU2My42MTU2MywwLDAsMSwyNi40Mjc3MywxNC45MTk0M1oiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTI1LjE2MTEzLDE4LjIyMDIxYS42MjQ3My42MjQ3MywwLDAsMS0uMjUzOS0xLjE5NThsMi43NDAyMy0xLjIyMDIxYS42MjQ3Mi42MjQ3MiwwLDEsMSwuNTA3ODEsMS4xNDE2TDI1LjQxNSwxOC4xNjZBLjYxNTgxLjYxNTgxLDAsMCwxLDI1LjE2MTEzLDE4LjIyMDIxWiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNMTguOTUxNjYsMjguNjMzNzlBOS41OTMsOS41OTMsMCwwLDEsMTIuODI5MSwyNi40MTY1YS42MjUuNjI1LDAsMCwxLC43OTU5LS45NjM4Niw4LjM3OTQzLDguMzc5NDMsMCwwLDAsMTMuNzEyODktNi4xMDQ1LjYxMDA2LjYxMDA2LDAsMCwxLC42NTAzOS0uNTk4MTQuNjI0OS42MjQ5LDAsMCwxLC41OTc2Ni42NTA4OCw5LjY1NTIxLDkuNjU1MjEsMCwwLDEtOS42MzQyOCw5LjIzMjkxWiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNOS45NzQ2MSwxOS4yMjYwN2wtLjAyODgxLS4wMDA0OGEuNjI1MzkuNjI1MzksMCwwLDEtLjU5NjE5LS42NTI4NEE5LjYyOTEsOS42MjkxLDAsMCwxLDI1LjEwNTQ3LDExLjU4MzVhLjYyNTMxLjYyNTMxLDAsMCwxLS43OTY4OC45NjM4Niw4LjM3ODE1LDguMzc4MTUsMCwwLDAtMTMuNzEsNi4wODJBLjYyNTMyLjYyNTMyLDAsMCwxLDkuOTc0NjEsMTkuMjI2MDdaIi8+PC9zdmc+"},57331:(e,t,a)=>{"use strict";e.exports=a.p+"images/RH_BRAND_7764_01_MECH_Training.960eb62d49bee65d..svg"},91903:()=>{},24394:()=>{},42634:()=>{},49746:()=>{},19977:()=>{},197:()=>{},21866:()=>{},52739:()=>{},65702:(e,t,a)=>{"use strict";a.r(t),a.d(t,{architectureOptions:()=>H,architectures:()=>j,channels:()=>U,default:()=>Y,getFlatUrls:()=>$,githubReleasesToFetch:()=>B,operatingSystemOptions:()=>q,operatingSystems:()=>V,tools:()=>G,urls:()=>z,urlsSelector:()=>W});const l="https://mirror.openshift.com/pub/openshift-v4/clients/butane/latest",n="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/stable/",r="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/latest/",i="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/candidate/",s="https://mirror.openshift.com/pub/openshift-v4/s390x/clients/ocp/stable/",o="https://mirror.openshift.com/pub/openshift-v4/s390x/clients/ocp/latest/",u="https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/ocp/stable/",d="https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/ocp/latest/",c="https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/ocp/stable/",m="https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/ocp/latest/",p="https://mirror.openshift.com/pub/openshift-v4/multi/clients/ocp/stable/",f="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp-dev-preview/pre-release/",E="https://mirror.openshift.com/pub/openshift-v4/s390x/clients/ocp-dev-preview/pre-release/",g="https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/ocp-dev-preview/pre-release/",v="https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/ocp-dev-preview/pre-release/",h="https://mirror.openshift.com/pub/openshift-v4/multi/clients/ocp-dev-preview/pre-release/",b="https://mirror.openshift.com/pub/openshift-v4/clients/coreos-installer/latest",S="https://developers.redhat.com/content-gateway/rest/mirror/pub/openshift-v4/clients/crc/latest",_="https://mirror.openshift.com/pub/openshift-v4/clients/helm/latest",C="https://mirror.openshift.com/pub/openshift-v4/clients/serverless/latest",y="https://mirror.openshift.com/pub/openshift-v4/clients/pipeline/latest",I="https://developers.redhat.com/content-gateway/rest/mirror/pub/openshift-v4/clients/odo/latest",A="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/operator-sdk/latest",R="https://mirror.openshift.com/pub/openshift-v4/x86_64/dependencies/rhcos/latest",T="https://mirror.openshift.com/pub/openshift-v4/s390x/dependencies/rhcos/latest",O="https://mirror.openshift.com/pub/openshift-v4/ppc64le/dependencies/rhcos/latest",P="https://mirror.openshift.com/pub/openshift-v4/aarch64/dependencies/rhcos/latest",D="https://mirror.openshift.com/pub/openshift-v4/clients/rosa/latest",L="https://developers.redhat.com/content-gateway/rest/browse/pub/openshift-v4/clients/openshift-gitops/latest/",N="https://docs.openshift.com/container-platform/4.16",w="https://docs.openshift.com/dedicated",M="https://docs.openshift.com/rosa",k="https://access.redhat.com/documentation/en-us/red_hat_openshift_service_on_aws/4/html",F="https://access.redhat.com/documentation/en-us/openshift_cluster_manager/2023",x={ROSA_CP_DOCS:"https://access.redhat.com/documentation/en-us/red_hat_openshift_service_on_aws/4",ACCESS_REQUEST_DOC_LINK:`${k}/support/approved-access#approved-access`,DOCS_ENTRY:`${N}/welcome/index.html`,ROSA_TROUBLESHOOTING_INSTALLATIONS:`${k}/support/troubleshooting#rosa-troubleshooting-installations`,ROSA_DEFINITION_DOC:`${k}/introduction_to_rosa/policies-and-service-definition#rosa-service-definition`,WHAT_IS_OPENSHIFT:"https://www.redhat.com/en/technologies/cloud-computing/openshift",WHAT_IS_ROSA:"https://www.redhat.com/en/technologies/cloud-computing/openshift/aws",ROSA_COMMUNITY_SLACK:"https://red.ht/rosa-slack",ROSA_QUICKSTART:`${k}/getting_started/rosa-quickstart-guide-ui`,ROSA_PRICING:"https://aws.amazon.com/rosa/pricing",IDP_HTPASSWD:`${N}/authentication/identity_providers/configuring-htpasswd-identity-provider.html`,IDP_LDAP:`${N}/authentication/identity_providers/configuring-ldap-identity-provider.html`,IDP_GITHUB:`${N}/authentication/identity_providers/configuring-github-identity-provider.html`,IDP_GITLAB:`${N}/authentication/identity_providers/configuring-gitlab-identity-provider.html`,IDP_GOOGLE:`${N}/authentication/identity_providers/configuring-google-identity-provider.html`,IDP_OPENID:`${N}/authentication/identity_providers/configuring-oidc-identity-provider.html`,CCO_MANUAL_MODE:`${N}/authentication/managing_cloud_provider_credentials/cco-mode-manual.html`,UNDERSTANDING_AUTHENTICATION:`${N}/authentication/understanding-authentication.html`,UNDERSTANDING_IDENTITY_PROVIDER:`${N}/authentication/understanding-identity-provider.html`,APPLYING_AUTOSCALING:`${N}/machine_management/applying-autoscaling.html`,APPLYING_AUTOSCALING_API_DETAIL:`${N}/rest_api/autoscale_apis/clusterautoscaler-autoscaling-openshift-io-v1.html`,AWS_SPOT_INSTANCES:`${N}/machine_management/creating_machinesets/creating-machineset-aws.html#machineset-non-guaranteed-instance_creating-machineset-aws`,ENCRYPTING_ETCD:`${N}/security/encrypting-etcd.html`,GETTING_SUPPORT:`${N}/support/getting-support.html`,TELEMETRY_INFORMATION:`${N}/support/remote_health_monitoring/about-remote-health-monitoring.html`,REMOTE_HEALTH_INSIGHTS:`${N}/support/remote_health_monitoring/using-insights-to-identify-issues-with-your-cluster.html`,UPDATING_CLUSTER:`${N}/updating/updating_a_cluster/updating-cluster-web-console.html`,HIBERNATING_CLUSTER:"https://access.redhat.com/articles/7012966",MIGRATING_FROM_3_TO_4:`${N}/migrating_from_ocp_3_to_4/about-migrating-from-3-to-4.html`,SERVERLESS_ABOUT:`${N}/serverless/about/about-serverless.html`,SERVICE_MESH_ABOUT:`${N}/service_mesh/v2x/ossm-architecture.html`,SERVICE_MESH_OCP_DOC:"https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html/service_mesh/index",VIRT_ABOUT:`${N}/virt/about_virt/about-virt.html`,SUBSCRIPTION_EVAL_INFORMATION:"https://access.redhat.com/articles/4389911",MANAGED_INGRESS_KNOWLEDGE_BASE:"https://access.redhat.com/articles/7028653",OSD_DEDICATED_ADMIN_ROLE:`${w}/authentication/osd-admin-roles.html`,OSD_CCS_AWS:`${w}/osd_planning/aws-ccs.html`,OSD_CCS_AWS_LIMITS:`${w}/osd_planning/aws-ccs.html#aws-limits_aws-ccs`,OSD_CCS_AWS_SCP:`${w}/osd_planning/aws-ccs.html#ccs-aws-scp_aws-ccs`,OSD_CCS_AWS_CUSTOMER_REQ:`${w}/osd_planning/aws-ccs.html#ccs-aws-customer-requirements_aws-ccs`,OSD_CCS_GCP:`${w}/osd_planning/gcp-ccs.html`,OSD_CCS_GCP_LIMITS:`${w}/osd_planning/gcp-ccs.html#gcp-limits_gcp-ccs`,OSD_CCS_GCP_SCP:`${w}/osd_planning/gcp-ccs.html#ccs-gcp-customer-procedure_gcp-ccs`,OSD_CCS_GCP_SHEILDED_VM:`${w}/osd_install_access_delete_cluster/creating-a-gcp-cluster.html#:~:text=constraints/compute.requireShieldedVm`,OSD_CCS_GCP_WIF_GCLOUD_CLI:"https://cloud.google.com/sdk/docs/install",OSD_CCS_GCP_WIF_GCLOUD_CREDENTIALS:"https://cloud.google.com/docs/authentication/provide-credentials-adc",OSD_LIFE_CYCLE:`${w}/osd_architecture/osd_policy/osd-life-cycle.html`,OSD_Z_STREAM:`${w}/osd_architecture/osd_policy/osd-life-cycle.html#rosa-patch-versions_osd-life-cycle`,OSD_SERVICE_DEFINITION_COMPUTE:`${w}/osd_architecture/osd_policy/osd-service-definition.html#instance-types_osd-service-definition`,ROSA_SERVICE_DEFINITION_COMPUTE:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html#rosa-sdpolicy-instance-types_rosa-service-definition`,OSD_ETCD_ENCRYPTION:`${w}/osd_architecture/osd_policy/osd-service-definition.html#etcd-encryption_osd-service-definition`,OSD_AWS_PRIVATE_CONNECTIONS:`${w}/osd_cluster_admin/osd_private_connections/aws-private-connections.html`,OSD_PRIVATE_CLUSTER:`${w}/osd_cluster_admin/osd_private_connections/private-cluster.html`,OSD_CLUSTER_WIDE_PROXY:`${w}/networking/configuring-cluster-wide-proxy.html`,OSD_UPGRADES:`${w}/upgrading/osd-upgrades.html`,OSD_LIMITED_SUPPORT_DEFINITION:`${w}/osd_architecture/osd_policy/osd-service-definition.html#limited-support_osd-service-definition`,OSD_MONITORING_STACK:`${w}/monitoring/monitoring-overview.html#understanding-the-monitoring-stack_monitoring-overview`,OSD_CIDR_MACHINE:`${w}/networking/cidr-range-definitions.html#machine-cidr-description`,ROSA_CIDR_MACHINE:`${M}/networking/cidr-range-definitions.html#machine-cidr-description`,OSD_CIDR_SERVICE:`${w}/networking/cidr-range-definitions.html#service-cidr-description`,ROSA_CIDR_SERVICE:`${M}/networking/cidr-range-definitions.html#service-cidr-description`,OSD_CIDR_POD:`${w}/networking/cidr-range-definitions.html#pod-cidr-description`,ROSA_CIDR_POD:`${M}/networking/cidr-range-definitions.html#pod-cidr-description`,OSD_CIDR_HOST:`${w}/networking/cidr-range-definitions.html#host-prefix-description`,ROSA_CIDR_HOST:`${M}/networking/cidr-range-definitions.html#host-prefix-description`,OSD_CLUSTER_AUTOSCALING:`${w}/osd_cluster_admin/osd-cluster-autoscaling.html`,ROSA_CLUSTER_AUTOSCALING:`${M}/rosa_cluster_admin/rosa-cluster-autoscaling.html`,OSD_SECURITY_GROUPS:`${w}/osd_planning/aws-ccs.html#osd-security-groups-custom_aws-ccs `,CLI_TOOLS_OCP_GETTING_STARTED:`${N}/cli_reference/openshift_cli/getting-started-cli.html`,INSTALL_DOCS_ENTRY:`${N}/installing/index.html`,INSTALL_ASSISTED_LEARN_MORE:`${N}/installing/installing_on_prem_assisted/installing-on-prem-assisted.html`,INSTALL_AGENT_LEARN_MORE:`${N}/installing/installing_with_agent_based_installer/preparing-to-install-with-agent-based-installer.html`,INSTALL_ALIBABAIPI_DOCS_LANDING:"https://docs.redhat.com/en/documentation/openshift_container_platform/4.15/html/installing/installing-on-alibaba",INSTALL_ALIBABA_CUSTOMIZATIONS:`${N}/installing/installing_alibaba/installing-alibaba-customizations.html`,INSTALL_AWSIPI_DOCS_LANDING:`${N}/installing/installing_aws/installing-aws-account.html`,INSTALL_AWSIPI_DOCS_ENTRY:`${N}/welcome/index.html`,INSTALL_AWSIPI_LEARN_MORE:`${N}/installing/installing_aws/ipi/installing-aws-default.html`,INSTALL_AWSUPI_GETTING_STARTED:`${N}/installing/installing_aws/upi/installing-aws-user-infra.html`,INSTALL_AWS_CUSTOMIZATIONS:`${N}/installing/installing_aws/ipi/installing-aws-customizations.html`,INSTALL_AWS_VPC:`${N}/installing/installing_aws/ipi/installing-aws-vpc.html`,INSTALL_AWS_CUSTOM_VPC_REQUIREMENTS:`${N}/installing/installing_aws/ipi/installing-aws-vpc.html#installation-custom-aws-vpc-requirements_installing-aws-vpc`,INSTALL_AWS_MULTI_ARCH:`${N}/post_installation_configuration/configuring-multi-arch-compute-machines/creating-multi-arch-compute-nodes-aws.html`,INSTALL_AZUREUPI_GETTING_STARTED:`${N}/installing/installing_azure/installing-azure-user-infra.html`,INSTALL_AZUREIPI_GETTING_STARTED:`${N}/installing/installing_azure/installing-azure-default.html`,INSTALL_AZURE_CUSTOMIZATIONS:`${N}/installing/installing_azure/installing-azure-customizations.html`,INSTALL_AZURE_MULTI_ARCH:`${N}/post_installation_configuration/configuring-multi-arch-compute-machines/creating-multi-arch-compute-nodes-azure.html`,INSTALL_ASHIPI_GETTING_STARTED:`${N}/installing/installing_azure_stack_hub/installing-azure-stack-hub-default.html`,INSTALL_ASHUPI_GETTING_STARTED:`${N}/installing/installing_azure_stack_hub/installing-azure-stack-hub-user-infra.html`,INSTALL_ASHUPI_RHCOS_LEARN_MORE:`${N}/installing/installing_azure_stack_hub/installing-azure-stack-hub-user-infra.html#installation-azure-user-infra-uploading-rhcos_installing-azure-stack-hub-user-infra`,INSTALL_ASH_CUSTOMIZATIONS:`${N}/installing/installing_azure_stack_hub/installing-azure-stack-hub-network-customizations.html`,RHCOS_ASHUPI_VHD_X86:`${R}/rhcos-azurestack.x86_64.vhd.gz`,INSTALL_BAREMETAL_UPI_GETTING_STARTED:`${N}/installing/installing_bare_metal/installing-bare-metal.html`,INSTALL_BAREMETAL_IPI_GETTING_STARTED:`${N}/installing/installing_bare_metal_ipi/ipi-install-installation-workflow.html`,INSTALL_BAREMETAL_IPI_LEARN_MORE:`${N}/installing/installing_bare_metal_ipi/ipi-install-overview.html`,INSTALL_BAREMETAL_RHCOS_LEARN_MORE:`${N}/installing/installing_bare_metal/installing-bare-metal.html#creating-machines-bare-metal`,INSTALL_BAREMETAL_CUSTOMIZATIONS:`${N}/installing/installing_bare_metal/installing-bare-metal-network-customizations.html`,RHCOS_BAREMETAL_ISO_X86:`${R}/rhcos-live.x86_64.iso`,RHCOS_BAREMETAL_RAW_X86:`${R}/rhcos-metal.x86_64.raw.gz`,INSTALL_BAREMETAL_MULTI_ARCH:`${N}/post_installation_configuration/configuring-multi-arch-compute-machines/creating-multi-arch-compute-nodes-bare-metal.html`,INSTALL_CRC_GETTING_STARTED:"https://access.redhat.com/documentation/en-us/red_hat_openshift_local",INSTALL_GCPIPI_GETTING_STARTED:`${N}/installing/installing_gcp/installing-gcp-account.html`,INSTALL_GCPIPI_LEARN_MORE:`${N}/installing/installing_gcp/installing-gcp-default.html`,INSTALL_GCPUPI_GETTING_STARTED:`${N}/installing/installing_gcp/installing-gcp-user-infra.html`,INSTALL_GCPUPI_RHCOS_LEARN_MORE:`${N}/installing/installing_gcp/installing-gcp-user-infra.html#installation-gcp-user-infra-rhcos_installing-gcp-user-infra`,INSTALL_GCP_CUSTOMIZATIONS:`${N}/installing/installing_gcp/installing-gcp-customizations.html`,INSTALL_GCP_VPC:`${N}/installing/installing_gcp/installing-gcp-vpc.html`,RHCOS_GCPUPI_TAR_X86:`${R}/rhcos-gcp.x86_64.tar.gz`,INSTALL_NUTANIXIPI_GETTING_STARTED:`${N}/installing/installing_nutanix/preparing-to-install-on-nutanix.html`,INSTALL_OSPIPI_GETTING_STARTED:`${N}/installing/installing_openstack/installing-openstack-installer-custom.html`,INSTALL_OSPUPI_GETTING_STARTED:`${N}/installing/installing_openstack/installing-openstack-user.html`,INSTALL_OSPUPI_RHCOS_LEARN_MORE:`${N}/installing/installing_openstack/installing-openstack-user.html#installation-osp-creating-image_installing-openstack-user`,INSTALL_OSP_CUSTOMIZATIONS:`${N}/installing/installing_openstack/installing-openstack-installer-custom.html`,RHCOS_OSPUPI_QCOW_X86:`${R}/rhcos-openstack.x86_64.qcow2.gz`,RHCOS_OSPUPI_QCOW_PPC:`${O}/rhcos-openstack.ppc64le.qcow2.gz`,INSTALL_VSPHEREUPI_GETTING_STARTED:`${N}/installing/installing_vsphere/upi/installing-vsphere.html`,INSTALL_VSPHEREIPI_GETTING_STARTED:`${N}/installing/installing_vsphere/ipi/installing-vsphere-installer-provisioned.html`,INSTALL_VSPHERE_RHCOS_LEARN_MORE:`${N}/installing/installing_vsphere/upi/installing-vsphere.html#installation-vsphere-machines_installing-vsphere`,INSTALL_VSPHERE_CUSTOMIZATIONS:`${N}/installing/installing_vsphere/ipi/installing-vsphere-installer-provisioned-customizations.html`,RHCOS_VSPHERE_OVA_X86:`${R}/rhcos-vmware.x86_64.ova`,INSTALL_IBM_CLOUD_GETTING_STARTED:`${N}/installing/installing_ibm_cloud_public/preparing-to-install-on-ibm-cloud.html`,INSTALL_IBMZ_GETTING_STARTED:`${N}/installing/installing_ibm_z/installing-ibm-z.html`,INSTALL_IBMZ_RHCOS_LEARN_MORE_RHEL_KVM:`${N}/installing/installing_ibm_z/installing-ibm-z-kvm.html#installation-user-infra-machines-iso-ibm-z_kvm_installing-ibm-z-kvm`,INSTALL_IBMZ_LEARN_MORE_ZVM:`${N}/installing/installing_ibm_z/installing-ibm-z.html#installation-user-infra-machines-iso-ibm-z_installing-ibm-z`,INSTALL_IBMZ_UPI_GETTING_STARTED:`${N}/installing/installing_ibm_z/preparing-to-install-on-ibm-z.html`,INSTALL_IBMZ_AGENTS_GETTING_STARTED:`${N}/installing/installing_with_agent_based_installer/prepare-pxe-assets-agent.html#installing-ocp-agent-ibm-z_prepare-pxe-assets-agent`,INSTALL_IBMPOWERVS_GETTING_STARTED:`${N}/installing/installing_ibm_powervs/preparing-to-install-on-ibm-power-vs.html`,INSTALL_IBMPOWERVS_PREREQUISITES:`${N}/installing/installing_ibm_powervs/preparing-to-install-on-ibm-power-vs.html`,RHCOS_IBMZ_ISO:`${T}/rhcos-live.s390x.iso`,RHCOS_IBMZ_INITRAMFS:`${T}/rhcos-live-initramfs.s390x.img`,RHCOS_IBMZ_KERNEL:`${T}/rhcos-live-kernel-s390x`,RHCOS_IBMZ_ROOTFS:`${T}/rhcos-live-rootfs.s390x.img`,RHCOS_IBMZ_QCOW:`${T}/rhcos-qemu.s390x.qcow2.gz`,INSTALL_GENERIC_GETTING_STARTED:`${N}/installing/installing_platform_agnostic/installing-platform-agnostic.html`,INSTALL_GENERIC_NON_TESTED_PLATFORMS:"https://access.redhat.com/articles/4207611",INSTALL_GENERIC_RHCOS_LEARN_MORE:`${N}/installing/installing_platform_agnostic/installing-platform-agnostic.html#creating-machines-platform-agnostic`,RHCOS_GENERIC_ISO_X86:`${R}/rhcos-live.x86_64.iso`,RHCOS_GENERIC_KERNEL_X86:`${R}/rhcos-live-kernel-x86_64`,RHCOS_GENERIC_INITRAMFS_X86:`${R}/rhcos-live-initramfs.x86_64.img`,RHCOS_GENERIC_ROOTFS_X86:`${R}/rhcos-live-rootfs.x86_64.img`,INSTALL_PRE_RELEASE_INSTALLER_DOC:"https://github.com/openshift/installer/tree/master/docs/user",INSTALL_PRE_RELEASE_FEEDBACK:"https://issues.redhat.com/projects/OCPBUGS/issues",INSTALL_PRE_RELEASE_SUPPORT_KCS:"https://access.redhat.com/support/offerings/devpreview",TECH_PREVIEW_KCS:"https://access.redhat.com/support/offerings/techpreview",COOPERATIVE_COMMUNITY_SUPPORT_KCS:"https://access.redhat.com/solutions/5893251",INSTALL_POWER_GETTING_STARTED:`${N}/installing/installing_ibm_power/installing-ibm-power.html`,INSTALL_POWER_RHCOS_LEARN_MORE:`${N}/installing/installing_ibm_power/installing-ibm-power.html#creating-machines-bare-metal-power`,INSTALL_POWER_UPI_GETTING_STARTED:`${N}/installing/installing_ibm_power/installing-ibm-power.html`,RHCOS_POWER_ISO:`${O}/rhcos-live.ppc64le.iso`,RHCOS_POWER_INITRAMFS:`${O}/rhcos-live-initramfs.ppc64le.img`,RHCOS_POWER_KERNEL:`${O}/rhcos-live-kernel-ppc64le`,RHCOS_POWER_ROOTFS:`${O}/rhcos-live-rootfs.ppc64le.img`,RHCOS_ARM_ISO:`${P}/rhcos-live.aarch64.iso`,RHCOS_ARM_INITRAMFS:`${P}/rhcos-live-initramfs.aarch64.img`,RHCOS_ARM_KERNEL:`${P}/rhcos-live-kernel-aarch64`,RHCOS_ARM_ROOTFS:`${P}/rhcos-live-rootfs.aarch64.img`,RHCOS_ARM_RAW:`${P}/rhcos-metal.aarch64.raw.gz`,OCM_CLI_DOCS:"https://access.redhat.com/articles/6114701",OCM_CLI_RELEASES_LATEST:"https://github.com/openshift-online/ocm-cli/releases/latest",RHOAS_CLI_DOCS:"https://access.redhat.com/documentation/en-us/red_hat_openshift_application_services/1/guide/bb30ee92-9e0a-4fd6-a67f-aed8910d7da3",RHOAS_CLI_RELEASES_LATEST:"https://github.com/redhat-developer/app-services-cli/releases/latest",HELM_DOCS:`${N}/applications/working_with_helm_charts/understanding-helm.html`,KN_DOCS:`${N}/cli_reference/kn-cli-tools.html`,TKN_DOCS:`${N}/cli_reference/tkn_cli/installing-tkn.html#installing-tkn`,ODO_DOCS:"https://odo.dev/docs/introduction",OPM_DOCS:`${N}/cli_reference/opm/cli-opm-install.html`,OSDK_DOCS:`${N}/cli_reference/osdk/cli-osdk-install.html`,BUTANE_DOCS:`${N}/installing/install_config/installing-customizing.html`,COREOS_INSTALLER_DOCS:`${N}/installing/installing_platform_agnostic/installing-platform-agnostic.html`,ARGO_CD_DOCS:"https://docs.openshift.com/gitops/1.13/installing_gitops/installing-argocd-gitops-cli.html",INSTALL_MIRROR_REGISTRY_LEARN_MORE:`${N}/installing/disconnected_install/installing-mirroring-installation-images.html#installation-about-mirror-registry_installing-mirroring-installation-images`,INSTALL_OC_MIRROR_PLUGIN_LEARN_MORE:`${N}/installing/disconnected_install/installing-mirroring-disconnected.html`,OPENSHIFT_DEDICATED_LEARN_MORE:"https://www.redhat.com/en/technologies/cloud-computing/openshift/dedicated",AWS_OPENSHIFT_LEARN_MORE:"https://cloud.redhat.com/products/amazon-openshift",AZURE_OPENSHIFT_GET_STARTED:"https://azure.microsoft.com/en-us/products/openshift/",ROSA_GET_STARTED:"https://cloud.redhat.com/learn/getting-started-red-hat-openshift-service-aws-rosa",ROSA_DOCS_ENTRY:`${M}/welcome/index.html`,ROSA_MONITORING:`${M}/monitoring/monitoring-overview.html#understanding-the-monitoring-stack_monitoring-overview`,ROSA_AUTOSCALING:`${M}/rosa_cluster_admin/rosa_nodes/rosa-nodes-about-autoscaling-nodes.html`,ROSA_SECURITY_GROUPS:`${M}/rosa_planning/rosa-sts-aws-prereqs.html#rosa-security-groups-custom_rosa-sts-aws-prereqs `,ROSA_CLI_DOCS:`${k}/rosa_cli/rosa-get-started-cli`,ROSA_AWS_PREREQUISITES:`${M}/rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-aws-prereqs.html`,ROSA_INSTALLING:`${M}/rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-installing-rosa.html`,ROSA_LIFE_CYCLE:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-life-cycle.html`,ROSA_Z_STREAM:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-life-cycle.html#rosa-patch-versions_rosa-life-cycle`,ROSA_RESPONSIBILITY_MATRIX:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-policy-responsibility-matrix.html`,ROSA_SERVICE_DEFINITION:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html`,ROSA_WORKER_NODE_COUNT:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html#rosa-sdpolicy-compute_rosa-service-definition`,ROSA_SERVICE_ETCD_ENCRYPTION:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html#rosa-sdpolicy-etcd-encryption_rosa-service-definition`,ROSA_CLUSTER_WIDE_PROXY:`${M}/networking/configuring-cluster-wide-proxy.html`,ROSA_UPGRADES:`${M}/upgrading/rosa-upgrading-sts.html`,ROSA_LIMITED_SUPPORT_DEFINITION:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html#rosa-limited-support_rosa-service-definition`,ROSA_SHARED_VPC:`${M}/rosa_install_access_delete_clusters/rosa-shared-vpc-config.html`,ROSA_PRIVATE_CONNECTIONS:`${M}/rosa_cluster_admin/cloud_infrastructure_access/rosa-configuring-private-connections.html`,ROSA_AWS_STS_PREREQUISITES:`${M}/rosa_planning/rosa-sts-aws-prereqs.html`,ROSA_AWS_ACCOUNT_ASSOCIATION:`${M}/rosa_planning/rosa-sts-aws-prereqs.html#rosa-associating-account_rosa-sts-aws-prereqs`,ROSA_AWS_MULTIPLE_ACCOUNT_ASSOCIATION:`${M}/rosa_planning/rosa-sts-aws-prereqs.html#rosa-associating-multiple-account_rosa-sts-aws-prereqs`,ROSA_AWS_SERVICE_QUOTAS:`${k}/prepare_your_environment/rosa-sts-required-aws-service-quotas#rosa-required-aws-service-quotas_rosa-sts-required-aws-service-quotas`,ROSA_AWS_LIMITS_SCALE:`${M}/rosa_planning/rosa-limits-scalability.html#node-scaling-after-installation_rosa-limits-scalability`,ROSA_AWS_IAM_RESOURCES:`${k}/introduction_to_rosa/rosa-sts-about-iam-resources`,ROSA_AWS_IAM_ROLES:`${M}/rosa_architecture/rosa-sts-about-iam-resources.html#rosa-sts-account-wide-roles-and-policies_rosa-sts-about-iam-resources`,ROSA_AWS_ACCOUNT_ROLES:`${M}/rosa_architecture/rosa-sts-about-iam-resources.html#rosa-sts-understanding-ocm-role_rosa-sts-about-iam-resources`,ROSA_AWS_OPERATOR_ROLE_PREFIX:`${M}/rosa_architecture/rosa-sts-about-iam-resources.html#rosa-sts-about-operator-role-prefixes_rosa-sts-about-iam-resources`,ROSA_HCP_EXT_AUTH:`${k}/install_rosa_with_hcp_clusters/rosa-hcp-sts-creating-a-cluster-ext-auth`,ROSA_HCP_BREAK_GLASS:`${k}/install_rosa_with_hcp_clusters/rosa-hcp-sts-creating-a-cluster-ext-auth#rosa-hcp-sts-accessing-a-break-glass-cred-cli_rosa-hcp-sts-creating-a-cluster-ext-auth`,AWS_CONSOLE_ROSA_HOME:"https://console.aws.amazon.com/rosa/home",AWS_CONSOLE_ROSA_HOME_GET_STARTED:"https://console.aws.amazon.com/rosa/home#/get-started",AWS_CONSOLE_HOSTED_ZONES:"https://console.aws.amazon.com/route53/v2/hostedzones",AWS_CONSOLE_SECURITY_GROUPS:"https://console.aws.amazon.com/ec2/home#SecurityGroups",AWS_CLI:"https://aws.amazon.com/cli/",AWS_CLI_INSTRUCTIONS:"https://docs.aws.amazon.com/ROSA/latest/userguide/getting-started-sts-auto.html",AWS_CLI_GETTING_STARTED_MANUAL:"https://docs.aws.amazon.com/ROSA/latest/userguide/getting-started-sts-manual.html",AWS_ROSA_GET_STARTED:"https://docs.aws.amazon.com/ROSA/latest/userguide/getting-started.html",AWS_FINDING_KEY_ARN:"https://docs.aws.amazon.com/kms/latest/developerguide/find-cmk-id-arn.html",AWS_IMDS:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-options.html",AWS_LOAD_BALANCER_FEATURES:"https://aws.amazon.com/elasticloadbalancing/features/#Product_comparisons",AWS_SHARED_VPC:"https://docs.aws.amazon.com/vpc/latest/userguide/vpc-sharing.html",GCP_CONSOLE_OSD_HOME:"https://console.cloud.google.com/marketplace/agreements/redhat-marketplace/red-hat-openshift-dedicated",OCM_DOCS_MANAGING_CLUSTERS:`${F}/html/managing_clusters/assembly-managing-clusters`,OCM_DOCS_PULL_SECRETS:`${F}/html/managing_clusters/assembly-managing-clusters#downloading_and_updating_pull_secrets`,OCM_DOCS_ROLES_AND_ACCESS:`${F}/html/managing_clusters/assembly-user-management-ocm`,OCM_DOCS_SUBSCRIPTIONS:`${F}/html/managing_clusters/assembly-cluster-subscriptions`,OCM_DOCS_UPGRADING_OSD_TRIAL:`${F}/html/managing_clusters/assembly-cluster-subscriptions#upgrading-osd-trial-cluster_assembly-cluster-subscriptions`,COSTMGMT_ADDING_OCP:"https://access.redhat.com/documentation/en-us/cost_management_service/2023/html/adding_an_openshift_container_platform_source_to_cost_management/assembly-adding-openshift-container-platform-source",FINDING_AWS_ACCOUNT_IDENTIFIERS:"https://docs.aws.amazon.com/accounts/latest/reference/manage-acct-identifiers.html",CIDR_RANGE_DEFINITIONS_ROSA:"https://docs.openshift.com/rosa/networking/cidr-range-definitions.html",CIDR_RANGE_DEFINITIONS_OSD:"https://docs.openshift.com/dedicated/networking/cidr-range-definitions.html",CONFIGURE_PROXY_URL:"https://docs.openshift.com/dedicated/networking/configuring-cluster-wide-proxy.html",VIRTUAL_PRIVATE_CLOUD_URL:"https://docs.openshift.com/rosa/rosa_planning/rosa-sts-aws-prereqs.html#rosa-vpc_rosa-sts-aws-prereqs",AWS_CONTROL_PLANE_URL:`${N}/architecture/control-plane.html#hosted-control-planes-architecture_control-plane`},G={OC:"oc",BUTANE:"butane",CCOCTL:"ccoctl",COREOS_INSTALLER:"coreos-installer",CRC:"crc",HELM:"helm",X86INSTALLER:"x86_64-openshift-install",IBMZINSTALLER:"s390x-openshift-install",PPCINSTALLER:"ppc64le-openshift-install",ARMINSTALLER:"aarch64-openshift-install",MULTIINSTALLER:"multi-openshift-install",KN:"kn",OCM:"ocm",ODO:"odo",OPM:"opm",OPERATOR_SDK:"operator-sdk",RHCOS:"rhcos",RHOAS:"rhoas",ROSA:"rosa",MIRROR_REGISTRY:"mirror-registry",OC_MIRROR_PLUGIN:"oc-mirror-plugin",TKN:"tkn",COPY_PULLREQUEST:"copy-pull-secret",ARGO_CD:"argo-cd"},U={PRE_RELEASE:"preRelease",CANDIDATE:"candidate",STABLE:"stable"},j={arm:"arm",x86:"x86",ppc:"ppc",s390x:"s390x"},H=[{value:j.x86,label:"x86_64",path:"x86_64"},{value:j.arm,label:"aarch64",path:"aarch64"},{value:j.ppc,label:"ppc64le",path:"ppc64le"},{value:j.s390x,label:"s390x",path:"s390x"}],V={linux:"linux",rhel9:"rhel-9",rhel9_fips:"rhel-9-fips",rhel8:"rhel-8",mac:"mac",windows:"windows"},q=[{value:V.linux,label:"Linux"},{value:V.rhel9,label:"Linux - RHEL 9"},{value:V.rhel9_fips,label:"RHEL 9 (FIPS)"},{value:V.rhel8,label:"Linux - RHEL 8"},{value:V.mac,label:"MacOS"},{value:V.windows,label:"Windows"}],z={[G.OC]:{[U.STABLE]:{[j.x86]:{[V.windows]:`${n}openshift-client-windows.zip`,[V.linux]:`${n}openshift-client-linux.tar.gz`,[V.mac]:`${n}openshift-client-mac.tar.gz`},[j.s390x]:{[V.linux]:`${s}openshift-client-linux.tar.gz`},[j.ppc]:{[V.linux]:`${u}openshift-client-linux.tar.gz`},[j.arm]:{[V.linux]:`${c}openshift-client-linux.tar.gz`,[V.mac]:`${c}openshift-client-mac-arm64.tar.gz`}},[U.CANDIDATE]:{[j.x86]:{[V.windows]:`${i}openshift-client-windows.zip`,[V.linux]:`${i}openshift-client-linux.tar.gz`,[V.mac]:`${i}openshift-client-mac.tar.gz`},[j.arm]:{[V.linux]:`${c}openshift-client-linux.tar.gz`,[V.mac]:`${c}openshift-client-mac-arm64.tar.gz`}},[U.PRE_RELEASE]:{[j.x86]:{[V.windows]:`${f}openshift-client-windows.zip`,[V.linux]:`${f}openshift-client-linux.tar.gz`,[V.mac]:`${f}openshift-client-mac.tar.gz`},[j.s390x]:{[V.linux]:`${E}openshift-client-linux.tar.gz`},[j.ppc]:{[V.linux]:`${g}openshift-client-linux.tar.gz`},[j.arm]:{[V.linux]:`${v}openshift-client-linux.tar.gz`,[V.mac]:`${v}openshift-client-mac-arm64.tar.gz`}}},[G.BUTANE]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${l}/butane-amd64`,[V.mac]:`${l}/butane-darwin-amd64`,[V.windows]:`${l}/butane-windows-amd64.exe`},[j.s390x]:{[V.linux]:`${l}/butane-s390x`},[j.ppc]:{[V.linux]:`${l}/butane-ppc64le`},[j.arm]:{[V.linux]:`${l}/butane-aarch64`}}},[G.CCOCTL]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${n}ccoctl-linux.tar.gz`},[j.s390x]:{[V.linux]:`${s}ccoctl-linux.tar.gz`},[j.ppc]:{[V.linux]:`${u}ccoctl-linux.tar.gz`},[j.arm]:{[V.linux]:`${c}ccoctl-linux.tar.gz`}}},[G.COREOS_INSTALLER]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${b}/coreos-installer_amd64`},[j.s390x]:{[V.linux]:`${b}/coreos-installer_s390x`},[j.ppc]:{[V.linux]:`${b}/coreos-installer_ppc64le`},[j.arm]:{[V.linux]:`${b}/coreos-installer_arm64`}}},[G.CRC]:{[U.STABLE]:{[j.x86]:{[V.windows]:`${S}/crc-windows-installer.zip`,[V.mac]:`${S}/crc-macos-installer.pkg`,[V.linux]:`${S}/crc-linux-amd64.tar.xz`}}},[G.HELM]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${_}/helm-linux-amd64.tar.gz`,[V.mac]:`${_}/helm-darwin-amd64.tar.gz`,[V.windows]:`${_}/helm-windows-amd64.exe.zip`},[j.s390x]:{[V.linux]:`${_}/helm-linux-s390x.tar.gz`},[j.ppc]:{[V.linux]:`${_}/helm-linux-ppc64le.tar.gz`},[j.arm]:{[V.linux]:`${_}/helm-linux-arm64.tar.gz`,[V.mac]:`${_}/helm-darwin-arm64.tar.gz`}}},[G.X86INSTALLER]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${n}openshift-install-linux.tar.gz`,[V.mac]:`${n}openshift-install-mac.tar.gz`,[V.rhel9_fips]:`${n}openshift-install-rhel9-amd64.tar.gz`},[j.arm]:{[V.mac]:`${n}openshift-install-mac-arm64.tar.gz`}},[U.CANDIDATE]:{[j.x86]:{[V.linux]:`${i}openshift-install-linux.tar.gz`,[V.mac]:`${i}openshift-install-mac.tar.gz`},[j.arm]:{[V.mac]:`${i}openshift-install-mac-arm64.tar.gz`}},[U.PRE_RELEASE]:{[j.x86]:{[V.linux]:`${f}openshift-install-linux.tar.gz`,[V.rhel9_fips]:`${f}openshift-install-rhel9-amd64.tar.gz`,[V.mac]:`${f}openshift-install-mac.tar.gz`},[j.arm]:{[V.linux]:`${f}openshift-install-linux-arm64.tar.gz`,[V.mac]:`${f}openshift-install-mac-arm64.tar.gz`}}},[G.IBMZINSTALLER]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${s}openshift-install-linux-amd64.tar.gz`,[V.mac]:`${s}openshift-install-mac.tar.gz`},[j.s390x]:{[V.linux]:`${s}openshift-install-linux.tar.gz`,[V.rhel9_fips]:`${s}openshift-install-rhel9-s390x.tar.gz`},[j.arm]:{[V.mac]:`${s}openshift-install-mac-arm64.tar.gz`}},[U.PRE_RELEASE]:{[j.x86]:{[V.linux]:`${E}openshift-install-linux-amd64.tar.gz`,[V.mac]:`${E}openshift-install-mac.tar.gz`},[j.s390x]:{[V.linux]:`${E}openshift-install-linux.tar.gz`,[V.rhel9_fips]:`${E}openshift-install-rhel9-s390x.tar.gz`},[j.arm]:{[V.linux]:`${E}openshift-install-linux-arm64.tar.gz`,[V.mac]:`${E}openshift-install-mac-arm64.tar.gz`}}},[G.PPCINSTALLER]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${u}openshift-install-linux-amd64.tar.gz`,[V.mac]:`${u}openshift-install-mac.tar.gz`},[j.ppc]:{[V.linux]:`${u}openshift-install-linux.tar.gz`,[V.rhel9_fips]:`${u}openshift-install-rhel9-ppc64le.tar.gz`},[j.arm]:{[V.linux]:`${u}openshift-install-linux-arm64.tar.gz`,[V.mac]:`${u}openshift-install-mac-arm64.tar.gz`}},[U.PRE_RELEASE]:{[j.x86]:{[V.linux]:`${g}openshift-install-linux-amd64.tar.gz`,[V.mac]:`${g}openshift-install-mac.tar.gz`},[j.ppc]:{[V.linux]:`${g}openshift-install-linux.tar.gz`,[V.rhel9_fips]:`${g}openshift-install-rhel9-ppc64le.tar.gz`},[j.arm]:{[V.linux]:`${g}openshift-install-linux-arm64.tar.gz`,[V.mac]:`${g}openshift-install-mac-arm64.tar.gz`}}},[G.ARMINSTALLER]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${c}openshift-install-linux-amd64.tar.gz`,[V.mac]:`${c}openshift-install-mac.tar.gz`},[j.arm]:{[V.linux]:`${c}openshift-install-linux.tar.gz`,[V.mac]:`${c}openshift-install-mac-arm64.tar.gz`}},[U.PRE_RELEASE]:{[j.x86]:{[V.linux]:`${v}openshift-install-linux-amd64.tar.gz`,[V.mac]:`${v}openshift-install-mac.tar.gz`},[j.arm]:{[V.linux]:`${v}openshift-install-linux.tar.gz`,[V.mac]:`${v}openshift-install-mac-arm64.tar.gz`}}},[G.MULTIINSTALLER]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${p}amd64/openshift-install-linux.tar.gz`,[V.mac]:`${p}amd64/openshift-install-mac.tar.gz`},[j.arm]:{[V.linux]:`${p}arm64/openshift-install-linux.tar.gz`,[V.mac]:`${p}arm64/openshift-install-mac-arm64.tar.gz`}},[U.PRE_RELEASE]:{[j.x86]:{[V.linux]:`${h}amd64/openshift-install-linux.tar.gz`,[V.mac]:`${h}amd64/openshift-install-mac.tar.gz`},[j.arm]:{[V.linux]:`${h}arm64/openshift-install-linux.tar.gz`,[V.mac]:`${h}arm64/openshift-install-mac-arm64.tar.gz`},[j.ppc]:{[V.linux]:`${h}ppc64le/openshift-install-linux.tar.gz`},[j.s390x]:{[V.linux]:`${h}s390x/openshift-install-linux.tar.gz`}}},[G.KN]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${C}/kn-linux-amd64.tar.gz`,[V.mac]:`${C}/kn-darwin-amd64.tar.gz`,[V.windows]:`${C}/kn-windows-amd64.zip`},[j.s390x]:{[V.linux]:`${C}/kn-linux-s390x.tar.gz`},[j.ppc]:{[V.linux]:`${C}/kn-linux-ppc64le.tar.gz`}}},[G.TKN]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${y}/tkn-linux-amd64.tar.gz`,[V.mac]:`${y}/tkn-macos-amd64.tar.gz`,[V.windows]:`${y}/tkn-windows-amd64.zip`},[j.s390x]:{[V.linux]:`${y}/tkn-linux-s390x.tar.gz`},[j.ppc]:{[V.linux]:`${y}/tkn-linux-ppc64le.tar.gz`},[j.arm]:{[V.linux]:`${y}/tkn-linux-arm64.tar.gz`,[V.mac]:`${y}/tkn-macos-arm64.tar.gz`,[V.windows]:`${y}/tkn-windows-arm64.zip`}}},[G.ODO]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${I}/odo-linux-amd64.tar.gz`,[V.mac]:`${I}/odo-darwin-amd64.tar.gz`,[V.windows]:`${I}/odo-windows-amd64.exe.zip`},[j.arm]:{[V.linux]:`${I}/odo-linux-arm64.tar.gz`,[V.mac]:`${I}/odo-darwin-arm64.tar.gz`},[j.s390x]:{[V.linux]:`${I}/odo-linux-s390x.tar.gz`},[j.ppc]:{[V.linux]:`${I}/odo-linux-ppc64le.tar.gz`}}},[G.ROSA]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${D}/rosa-linux.tar.gz`,[V.mac]:`${D}/rosa-macosx.tar.gz`,[V.windows]:`${D}/rosa-windows.zip`}}},[G.OPM]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${n}opm-linux.tar.gz`,[V.mac]:`${n}opm-mac.tar.gz`,[V.windows]:`${n}opm-windows.tar.gz`},[j.s390x]:{[V.linux]:`${s}opm-linux.tar.gz`},[j.ppc]:{[V.linux]:`${u}opm-linux.tar.gz`},[j.arm]:{[V.linux]:`${c}opm-linux.tar.gz`}}},[G.OPERATOR_SDK]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${A}/operator-sdk-linux-x86_64.tar.gz`,[V.mac]:`${A}/operator-sdk-darwin-x86_64.tar.gz`},[j.arm]:{[V.linux]:"https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/operator-sdk/latest/operator-sdk-linux-aarch64.tar.gz"},[j.s390x]:{[V.linux]:"https://mirror.openshift.com/pub/openshift-v4/s390x/clients/operator-sdk/latest/operator-sdk-linux-s390x.tar.gz"},[j.ppc]:{[V.linux]:"https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/operator-sdk/latest/operator-sdk-linux-ppc64le.tar.gz"}}},[G.MIRROR_REGISTRY]:{[U.STABLE]:{[j.x86]:{[V.linux]:"https://developers.redhat.com/content-gateway/rest/mirror/pub/openshift-v4/clients/mirror-registry/latest/mirror-registry.tar.gz"}}},[G.OC_MIRROR_PLUGIN]:{[U.STABLE]:{[j.x86]:{[V.rhel9]:`${r}oc-mirror.rhel9.tar.gz`,[V.rhel8]:`${r}oc-mirror.tar.gz`},[j.arm]:{[V.rhel9]:`${m}oc-mirror.rhel9.tar.gz`,[V.rhel8]:`${m}oc-mirror.tar.gz`},[j.s390x]:{[V.rhel9]:`${o}oc-mirror.rhel9.tar.gz`,[V.rhel8]:`${o}oc-mirror.tar.gz`},[j.ppc]:{[V.rhel9]:`${d}oc-mirror.rhel9.tar.gz`,[V.rhel8]:`${d}oc-mirror.tar.gz`}}},[G.ARGO_CD]:{[U.STABLE]:{[j.x86]:{[V.linux]:`${L}argocd-linux-amd64.tar.gz`,[V.windows]:`${L}argocd-windows-amd64.zip`,[V.mac]:`${L}argocd-macos-amd64.tar.gz`},[j.s390x]:{[V.linux]:`${L}argocd-linux-s390x.tar.gz`},[j.ppc]:{[V.linux]:`${L}argocd-linux-ppc64le.tar.gz`},[j.arm]:{[V.linux]:`${L}argocd-linux-arm64.tar.gz`,[V.mac]:`${L}argocd-macos-arm64.tar.gz`}}}},B=["openshift-online/ocm-cli","redhat-developer/app-services-cli"],W=e=>{const t={...z,[G.OCM]:{[U.STABLE]:{fallbackNavigateURL:x.OCM_CLI_RELEASES_LATEST}},[G.RHOAS]:{[U.STABLE]:{fallbackNavigateURL:x.RHOAS_CLI_RELEASES_LATEST}}},a=e["openshift-online/ocm-cli"];if(a?.fulfilled){const e=`https://github.com/openshift-online/ocm-cli/releases/download/${a.data.tag_name}`;t[G.OCM]={[U.STABLE]:{[j.x86]:{[V.linux]:`${e}/ocm-linux-amd64`,[V.mac]:`${e}/ocm-darwin-amd64`,[V.windows]:`${e}/ocm-windows-amd64`},[j.s390x]:{[V.linux]:`${e}/ocm-linux-s390x`},[j.ppc]:{[V.linux]:`${e}/ocm-linux-ppc64le`},[j.arm]:{[V.linux]:`${e}/ocm-linux-arm64`}}}}const l=e["redhat-developer/app-services-cli"];if(l?.fulfilled){const e=l.data.tag_name,a=e.replace(/^v/,""),n=`https://github.com/redhat-developer/app-services-cli/releases/download/${e}`;t[G.RHOAS]={[U.STABLE]:{[j.x86]:{[V.linux]:`${n}/rhoas_${a}_linux_amd64.tar.gz`,[V.mac]:`${n}/rhoas_${a}_macOS_amd64.tar.gz`,[V.windows]:`${n}/rhoas_${a}_windows_amd64.zip`},[j.arm]:{[V.linux]:`${n}/rhoas_${a}_linux_arm64.tar.gz`,[V.mac]:`${n}/rhoas_${a}_macOS_arm64.tar.gz`}}}}return t},$=async()=>[...new Set([...Object.values(x),...Object.values(z).flatMap(Object.values).flatMap(Object.values).flatMap(Object.values)])].sort(),Y=x},15245:e=>{"use strict";e.exports=JSON.parse('{"global":{"url":"api.stage.openshift.com"},"us-east-1":{"url":"api.stage.openshift.com"},"ap-southeast-1":{"url":"api.aws.ap-southeast-1.stage.openshift.com"}}')},8330:e=>{"use strict";e.exports=JSON.parse('{"name":"cloud.openshift.com","version":"0.0.0","description":"OpenShift Cluster Manager","repository":{"type":"git","url":"git://github.com/openshift/cloud.openshift.com"},"license":"Apache-2.0","dependencies":{"@openshift-assisted/locales":"2.35.0","@openshift-assisted/types":"2.35.0","@openshift-assisted/ui-lib":"2.35.0","@patternfly/patternfly":"5.3.1","@patternfly/react-charts":"7.3.0","@patternfly/react-code-editor":"5.3.3","@patternfly/react-core":"5.3.3","@patternfly/react-icons":"5.3.2","@patternfly/react-styles":"5.3.1","@patternfly/react-table":"5.3.3","@patternfly/react-tokens":"5.3.1","@react-hook/resize-observer":"^2.0.0","@redhat-cloud-services/frontend-components":"^4.2.0","@redhat-cloud-services/frontend-components-config-utilities":"^3.2.2","@redhat-cloud-services/frontend-components-notifications":"^4.1.0","@redhat-cloud-services/rbac-client":"^2.0.0","@reduxjs/toolkit":"^2.2.2","@scalprum/core":"0.7.0","@scalprum/react-core":"0.8.0","@sentry/browser":"^7.77.0","@sentry/integrations":"^7.77.0","@tanstack/react-query":"^5.29.2","@tanstack/react-query-devtools":"^5.29.2","@types/file-saver":"^2.0.5","@types/humanize-duration":"^3.27.1","@types/react-dom":"^18.3.0","axios":"^1.7.4","cidr-tools":"^10.0.0","classnames":"^2.2.6","dayjs":"^1.11.10","file-saver":"^2.0.5","filesize":"^10.0.0","formik":"^2.2.9","fuse.js":"^7.0.0","history":"^5.0.0","humanize-duration":"^3.30.0","i18next":"^23.0.0","immer":"^10.0.0","imports-loader":"^5.0.0","ip-cidr":"3.1.0","is-promise":"^4.0.0","js-yaml":"^4.1.0","jsonschema":"^1.2.10","jszip":"^3.9.0","keycloak-js":"^23.0.0","lodash":"^4.17.19","monaco-editor":"0.48.0","object.fromentries":"^2.0.5","path-browserify":"^1.0.1","prop-types":"15.7.2","qs":"6.12.2","react":"^18.2.0","react-content-loader":"^6.2.0","react-copy-to-clipboard":"^5.1.0","react-dom":"^18.2.0","react-i18next":"^11.11.4","react-markdown":"^8.0.7","react-monaco-editor":"0.55.0","react-redux":"^9.1.0","react-router-dom":"^6.2.0","react-tagsinput":"3.20.x","redux":"^5.0.1","redux-form":"^8.3.10","redux-promise-middleware":"^6.2.0","rehype-raw":"^5.1.0","remark-gfm":"^1","reselect":"^5.0.0","screenfull":"^6.0.0","semver":"^7.6.3","typesafe-actions":"^5.1.0","urijs":"^1.19.11","url":"^0.11.0","uuid":"^9.0.0","yup":"^1.4.0"},"devDependencies":{"@babel/core":"^7.23.9","@babel/plugin-transform-object-assign":"^7.23.3","@babel/plugin-transform-runtime":"^7.23.9","@babel/preset-env":"^7.23.9","@babel/preset-react":"^7.23.3","@cypress/code-coverage":"^3.12.39","@cypress/grep":"^4.0.1","@redhat-cloud-services/types":"1.0.11","@sentry/cli":"^2.21.2","@testing-library/dom":"^10.2.0","@testing-library/jest-dom":"^6.4.2","@testing-library/react":"^16.0.0","@testing-library/user-event":"^14.0.4","@types/history":"^4.7.2","@types/jest":"^29.5.12","@types/jest-axe":"^3.5.9","@types/js-yaml":"^4.0.9","@types/lodash":"^4.17.0","@types/prop-types":"15.7.2","@types/react":"17.0.62","@types/redux-form":"^8.3.10","@types/redux-mock-store":"^1.0.6","@types/semver":"^7.5.8","@types/sprintf-js":"^1.1.2","@types/urijs":"^1.19.19","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0","babel-jest":"^29.7.0","babel-loader":"^9.1.3","babel-plugin-transform-class-properties":"^6.24.1","babel-plugin-transform-imports":"^2.0.0","chalk":"^5.0.1","cli-progress":"^3.12.0","concurrently":"^9.0.0","copy-webpack-plugin":"^12.0.0","css-loader":"^7.0.0","cypress":"^13.6.2","eslint":"^8.56.0","eslint-config-airbnb":"^19.0.4","eslint-config-prettier":"^9.1.0","eslint-import-resolver-alias":"^1.1.2","eslint-plugin-import":"^2.29.1","eslint-plugin-jsx-a11y":"^6.8.0","eslint-plugin-no-snapshot-testing":"^1.0.61","eslint-plugin-react":"7.34.3","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-simple-import-sort":"^12.0.0","eslint-plugin-testing-library":"^6.2.2","fork-ts-checker-webpack-plugin":"^9.0.0","html-webpack-plugin":"^5.3.1","husky":"^9.0.0","inquirer":"^11.0.0","jest":"^29.7.0","jest-axe":"^9.0.0","jest-cli":"^29.7.0","jest-environment-jsdom":"^29.7.0","json5":"2.2.3","lint-staged":"^12.5.0","list-git-remotes":"^1.0.1","mini-css-extract-plugin":"^2.7.5","node-fetch":"^3.0.0","nyc":"^17.0.0","openapi-typescript-codegen":"^0.29.0","ora":"^8.0.0","porty":"^3.1.1","prettier":"3.3.2","progress":"^2.0.3","redux-mock-store":"^1.5.4","sass":"^1.77.2","sass-loader":"^14.0.1","shell-quote":"^1.7.3","simple-git":"3.25.0","sol-sc-explorer":"^1.1.1","sprintf-js":"^1.1.2","transform-class-properties":"^1.0.0-beta","ts-jest":"^29.1.2","ts-loader":"^9.5.1","typescript":"5.5.3","wait-on":"8.0.1","webpack":"^5.89.0","webpack-bundle-analyzer":"^4.10.1","webpack-cli":"^5.1.4","webpack-dev-server":"^5.0.4","yargs":"^15.0.0"},"resolutions":{"@cypress/webpack-preprocessor":"6.0.2","@redhat-cloud-services/**/axios":"^1.7.4","@types/react":"17.0.3"},"scripts":{"start":"concurrently --kill-others --prefix=name --names=SERVER,MOCK --prefix-colors=cyan,reset --passthrough-arguments \'yarn dev-server --env noproxy api-env=staging {@}\' \'mockdata/mockserver.py\' --","build":"webpack $(run/progress-flag-if-tty.sh)","build:prod":"yarn build --mode=production","build:saas":"yarn build:prod --output-path \'dist\'","postbuild:saas":"[[ ${BETA} != \'true\' ]] && yarn sentry:sourcemaps-release:saas || :","build:saas:staging":". run/sentry-env.sh && yarn build:saas --env api-env=staging","build:saas:production":". run/sentry-env.sh --production && yarn build:saas --env api-env=production","verify":"concurrently --group --names=BUILD,LINT,TEST \'yarn build:prod --output-path dist --env api-env=staging\' \'yarn lint-prettier\' \'yarn test\'","dev-server":"webpack serve $(run/progress-flag-if-tty.sh)","insights-proxy":"make insights-proxy-check && run/insights-proxy.sh","stop-insights-proxy":"run/podman-or-docker.sh kill insightsproxy; run/podman-or-docker.sh rm --force insightsproxy; true","lint":"eslint src scripts \'run/*js\' --ext mjs,js,jsx,ts,tsx","lint-prettier":"eslint src scripts \'run/*js\' --ext mjs,js,jsx,ts,tsx && yarn prettier","lint-staged":"lint-staged","prettier":"prettier --check \'{src,cypress,scripts}/**/*.{js,ts,mjs,jsx,tsx}\' \'run/*js\'","prettier:fix":"prettier --write \'{src,cypress,scripts}/**/*.{js,ts,mjs,jsx,tsx}\' \'run/*js\'","test":"TZ=America/New_York LC_ALL=en_US.utf8 node --no-compilation-cache --expose-gc ./node_modules/.bin/jest --logHeapUsage","test-local":"yarn test --maxWorkers=50%","test-no-cache":"yarn test --no-cache","test:debug":"node --nolazy --inspect-brk ./node_modules/jest/bin/jest.js --runInBand --colors --verbose","e2e-test":"rm -rf ./coverage/* && yarn cypress-headless --env grepTags=ci","stop":"yarn stop-insights-proxy; run/podman-or-docker.sh rm --force browser; pkill --full \'concurrently.*SERVER(prevent self match){0},MOCK\'; pkill --full \'concurrently.*BROWSER(prevent self match){0},TEST\'; true","prepare":"husky","gen-types":"node scripts/gen-openapi-typescript.js && prettier --write \'src/types/**/*.ts\'","cypress-ui":"cypress open","cypress-headless":"cypress run --browser chrome","code-coverage":"nyc report --reporter=text-summary","analyze":"rm -rf dist && env BUNDLE_ANALYZER=true yarn build:prod","sentry:sourcemaps":"sentry-cli sourcemaps inject ./dist/","sentry:release":"sentry-cli --url https://glitchtip.devshift.net/ releases --org ocm","sentry:sourcemaps-release:saas":"yarn sentry:sourcemaps && yarn sentry:release --auth-token $GLITCHTIP_TOKEN --project=$SENTRY_PROJECT files $SENTRY_VERSION upload-sourcemaps dist/ --url-prefix \'/apps\'"},"insights":{"appname":"openshift"},"nyc":{"include":["src/**/*"]},"engines":{"node":">= 18.12.0"}}')},75586:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.integration.openshift.com","apiRegionalGatewayHardcode":"https://api.aws.ap-southeast-1.integration.openshift.com","apiRegionalGatewayTemplate":"https://api.$REGION$.openshift.com","fedrampGateway":"https://console.redhat.com/api","fedrampS3":"https://fedramp-customer-interest-rob-stage.s3.us-east-1.amazonaws.com","demoExperience":"https://api.demo-experience.stage.demo.redhat.com"}')},59127:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.openshift.com","apiRegionalGatewayHardcode":"https://api.aws.ap-southeast-1.openshift.com","apiRegionalGatewayTemplate":"https://api.$REGION$.openshift.com","insightsGateway":"https://console.redhat.com/api","sentryDSN":"https://be858a1cf3a245a9a1190986e0379b4a@glitchtip.devshift.net/65","fedrampGateway":"https://console.redhat.com/api","fedrampS3":"https://fedramp-customer-interest-rob-production.s3.us-east-1.amazonaws.com","demoExperience":"https://api.demo-experience.demo.redhat.com"}')},74633:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.stage.openshift.com","apiRegionalGatewayHardcode":"https://api.aws.ap-southeast-1.stage.openshift.com","apiRegionalGatewayTemplate":"https://api.$REGION$.openshift.com","insightsGateway":"https://$SELF_PATH$/api","sentryDSN":"https://8e90d77ef3604f1bb1d1bf28c899a24b@glitchtip.devshift.net/64","fedrampGateway":"https://console.stage.redhat.com/api","fedrampS3":"https://fedramp-customer-interest-rob-stage.s3.us-east-1.amazonaws.com","demoExperience":"https://api.demo-experience.stage.demo.redhat.com"}')}}]);
//# sourceMappingURL=bundle.300.c3e6ea6a88fb772a.js.map
//# debugId=7604da50-5d05-5e1f-933a-06da2dcacf48
