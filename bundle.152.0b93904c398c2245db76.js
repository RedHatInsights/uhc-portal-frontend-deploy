(self.webpackChunkcloud_openshift_com=self.webpackChunkcloud_openshift_com||[]).push([[152],{39581:(e,t,n)=>{"use strict";n.d(t,{ZC:()=>m,VJ:()=>h,rV:()=>p,lx:()=>u,gz:()=>o,wk:()=>c});var r=n(92950),a=n.n(r),s=n(27361),l=n.n(s),i=n(45205);const o="ACCT-MGMT-22",c="CLUSTERS-MGMT-451";function u(e,t){if(!e)return"";let n="";switch(l()(e,"details[0].kind","")||l()(e,"errorDetails[0].kind","")){case"ExcessResources":{let e="cluster";void 0!==t&&/CLUSTER_ADDON/.test(t)&&(e="cluster add-on"),n=`You are not authorized to ${"cluster"===e&&void 0!==t&&t.includes(i.em.E$)?"edit":"create"} the ${e} because your request exceeds available quota.\n              In order to fulfill this request, you will need quota/subscriptions for:`;break}}switch(l()(e,"code","")){case o:n=a().createElement("span",null,"Your account has been placed on"," ",a().createElement("a",{href:"https://access.redhat.com/articles/1340183",target:"_blank",rel:"noreferrer noopener"},"Export Hold")," ","based on export control screening.",a().createElement("br",null),"The Export Compliance Team has been notified that your account is on hold,"," ","and must conduct additional due diligence to resolve the Export Hold.",a().createElement("br",null),"Try again in 24-48 hours.")}return n}function d(e){if(void 0===e.payload.response)return String(e.payload);const t=e.payload.response.data;return u(t,e.type)||(void 0===t||"Error"!==t.kind&&"Error"!==t.type?JSON.stringify(t):`${t.code}:\n${t.reason}`)}const p=e=>l()(e,"data.code")===c,m=e=>p(l()(e.payload,"response"))?{pending:!1,error:!1,errorCode:"",internalErrorCode:"",errorMessage:"",errorDetails:null}:{pending:!1,error:e.error,errorCode:l()(e.payload,"response.status"),internalErrorCode:l()(e.payload,"response.data.code"),errorMessage:d(e),errorDetails:l()(e.payload,"response.data.details"),operationID:l()(e.payload,"response.data.operation_id")};function h(e){const t=[];return e&&e.length?(e.forEach((e=>{switch(e.kind){case"ExcessResources":{const n={addon:["addon","addons"],"cluster.aws":["cluster","clusters"],"cluster.gcp":["cluster","clusters"],"compute.node.aws":["node","nodes"],"compute.node.gcp":["node","nodes"],"pv.storage.aws":["GiB of storage","GiB of storage"],"pv.storage.gcp":["GiB of storage","GiB of storage"],"network.loadbalancer.aws":["load balancers","load balancers"],"network-gcp.loadbalancer.gcp":["load balancers","load balancers"]},r=(e,t)=>n[e]?n[e][1===t?0:1]:e;e&&e.items?t.push(a().createElement("ul",null,e.items.map((e=>"addon"===e.resource_type?a().createElement("li",null,`${e.resource_type}: ${e.resource_name}`):n[e.resource_type]?a().createElement("li",null,`${e.count} additional\n                  ${r(e.resource_type,e.count)} of type\n                  ${e.availability_zone_type} availability zone, instance size\n                  ${e.resource_name}.`):"An error occurred")))):t.push("Unknown resource");break}case"AddOnParameterOptionList":case"AddOnRequirementData":e&&e.items&&t.push(a().createElement("pre",null,JSON.stringify(e.items,void 0,2)))}})),t):t}},69693:(e,t,n)=>{"use strict";n.d(t,{uF:()=>s,ZP:()=>l});const{insights:r}=n(60306);function a(){return`/${r.appname}`}function s(e){return e.replace(new RegExp(`^${a()}`,"i"),"")}const l=a},38080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(69693);function a(e){const t=(0,r.uF)(e).replace(/^\//,"").split("/");switch(t[0]){case"downloads":case"token":return{id:"downloads"};case"quota":return{id:t[1]||"openshift-quota",parentId:"subscriptions",secondaryNav:!0};case"subscriptions":return{id:t[1],parentId:"subscriptions",secondaryNav:!0};case"overview":case"releases":return{id:t[0]};default:return{id:""}}}},33057:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Ij:()=>N,ZW:()=>T,wQ:()=>L,yi:()=>M,rj:()=>w,jk:()=>k,rD:()=>j,Le:()=>x,ZP:()=>q});const l="https://mirror.openshift.com/pub/openshift-v4/clients/butane/latest",i="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/stable/",o="https://mirror.openshift.com/pub/openshift-v4/s390x/clients/ocp/stable/",c="https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/ocp/stable/",u="https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/ocp/stable/",d="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp-dev-preview/pre-release/",p="https://mirror.openshift.com/pub/openshift-v4/s390x/clients/ocp-dev-preview/pre-release/",m="https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/ocp-dev-preview/pre-release/",h="https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/ocp-dev-preview/pre-release/",g="https://mirror.openshift.com/pub/openshift-v4/clients/coreos-installer/latest",b="https://developers.redhat.com/content-gateway/rest/mirror/pub/openshift-v4/clients/crc/latest",E="https://mirror.openshift.com/pub/openshift-v4/clients/helm/latest",f="https://developers.redhat.com/content-gateway/rest/mirror/pub/openshift-v4/clients/odo/latest",y="https://mirror.openshift.com/pub/openshift-v4/dependencies/rhcos/latest/latest",v="https://mirror.openshift.com/pub/openshift-v4/s390x/dependencies/rhcos/latest/latest",O="https://mirror.openshift.com/pub/openshift-v4/ppc64le/dependencies/rhcos/latest/latest",C="https://mirror.openshift.com/pub/openshift-v4/aarch64/dependencies/rhcos/latest/latest",R="https://mirror.openshift.com/pub/openshift-v4/clients/rosa/latest",S="https://docs.openshift.com/container-platform/latest",P={AWS_ARM_GITHUB:"https://github.com/openshift/ocp-on-arm",AWS_ARM_DOCS:"https://github.com/openshift/ocp-on-arm/blob/main/README.md",TELEMETRY_INFORMATION:`${S}/support/remote_health_monitoring/about-remote-health-monitoring.html`,SUBSCRIPTION_EVAL_INFORMATION:"https://access.redhat.com/articles/4389911",UPDATING_CLUSTER:`${S}/updating/updating-cluster.html`,UNDERSTANDING_AUTHENTICATION:`${S}/authentication/understanding-authentication.html`,UNDERSTANDING_IDENTITY_PROVIDER:`${S}/authentication/understanding-identity-provider.html`,DEDICATED_ADMIN_ROLE:"https://docs.openshift.com/dedicated/4/administering_a_cluster/dedicated-admin-role.html",CLI_TOOLS_OCP_GETTING_STARTED:`${S}/cli_reference/openshift_cli/getting-started-cli.html`,INSTALL_DOCS_ENTRY:`${S}/installing/index.html`,INSTALL_AWSIPI_DOCS_LANDING:`${S}/installing/installing_aws/installing-aws-account.html`,INSTALL_AWSIPI_DOCS_ENTRY:`${S}/welcome/index.html`,INSTALL_AWSUPI_GETTING_STARTED:`${S}/installing/installing_aws/installing-aws-user-infra.html`,INSTALL_AWS_CUSTOMIZATIONS:`${S}/installing/installing_aws/installing-aws-customizations.html`,INSTALL_AZUREUPI_GETTING_STARTED:"https://github.com/openshift/installer/blob/master/docs/user/azure/install_upi.md",INSTALL_AZUREIPI_GETTING_STARTED:`${S}/installing/installing_azure/installing-azure-default.html`,INSTALL_AZURE_CUSTOMIZATIONS:`${S}/installing/installing_azure/installing-azure-customizations.html`,INSTALL_BAREMETAL_UPI_GETTING_STARTED:`${S}/installing/installing_bare_metal/installing-bare-metal.html`,INSTALL_BAREMETAL_IPI_GETTING_STARTED:`${S}/installing/installing_bare_metal_ipi/ipi-install-installation-workflow.html`,INSTALL_BAREMETAL_RHCOS_LEARN_MORE:`${S}/installing/installing_bare_metal/installing-bare-metal.html#creating-machines-bare-metal`,INSTALL_BAREMETAL_CUSTOMIZATIONS:`${S}/installing/installing_bare_metal/installing-bare-metal-network-customizations.html`,RHCOS_BAREMETAL_ISO_X86:`${y}/rhcos-live.x86_64.iso`,RHCOS_BAREMETAL_RAW_X86:`${y}/rhcos-metal.x86_64.raw.gz`,INSTALL_CRC_GETTING_STARTED:"https://access.redhat.com/documentation/en-us/red_hat_codeready_containers",INSTALL_GCPIPI_GETTING_STARTED:`${S}/installing/installing_gcp/installing-gcp-account.html`,INSTALL_GCPUPI_GETTING_STARTED:`${S}/installing/installing_gcp/installing-gcp-user-infra.html`,INSTALL_GCPUPI_RHCOS_LEARN_MORE:`${S}/installing/installing_gcp/installing-gcp-user-infra.html#installation-gcp-user-infra-rhcos_installing-gcp-user-infra`,INSTALL_GCP_CUSTOMIZATIONS:`${S}/installing/installing_gcp/installing-gcp-customizations.html`,RHCOS_GCPUPI_TAR_X86:`${y}/rhcos-gcp.x86_64.tar.gz`,INSTALL_OSPIPI_GETTING_STARTED:`${S}/installing/installing_openstack/installing-openstack-installer-custom.html`,INSTALL_OSPUPI_GETTING_STARTED:`${S}/installing/installing_openstack/installing-openstack-user.html`,INSTALL_OSPUPI_RHCOS_LEARN_MORE:`${S}/installing/installing_openstack/installing-openstack-user.html#installation-osp-creating-image_installing-openstack-user`,INSTALL_OSP_CUSTOMIZATIONS:`${S}/installing/installing_openstack/installing-openstack-installer-custom.html`,RHCOS_OSPUPI_QCOW_X86:`${y}/rhcos-openstack.x86_64.qcow2.gz`,RHCOS_OSPUPI_QCOW_PPC:`${O}/rhcos-openstack.ppc64le.qcow2.gz`,INSTALL_VSPHEREUPI_GETTING_STARTED:`${S}/installing/installing_vsphere/installing-vsphere.html`,INSTALL_VSPHEREIPI_GETTING_STARTED:`${S}/installing/installing_vsphere/installing-vsphere-installer-provisioned.html`,INSTALL_VSPHERE_RHCOS_LEARN_MORE:`${S}/installing/installing_vsphere/installing-vsphere.html#installation-vsphere-machines_installing-vsphere`,INSTALL_VSPHERE_CUSTOMIZATIONS:`${S}/installing/installing_vsphere/installing-vsphere-installer-provisioned-customizations.html`,RHCOS_VSPHERE_OVA_X86:`${y}/rhcos-vmware.x86_64.ova`,INSTALL_IBMZ_GETTING_STARTED:`${S}/installing/installing_ibm_z/installing-ibm-z.html`,INSTALL_IBMZ_RHCOS_LEARN_MORE_RHEL_KVM:`${S}/installing/installing_ibm_z/installing-ibm-z-kvm.html#installation-user-infra-machines-iso-ibm-z_kvm_installing-ibm-z-kvm`,INSTALL_IBMZ_LEARN_MORE_ZVM:`${S}/installing/installing_ibm_z/installing-ibm-z.html#installation-user-infra-machines-iso-ibm-z_installing-ibm-z`,RHCOS_IBMZ_ISO:`${v}/rhcos-live.s390x.iso`,RHCOS_IBMZ_INITRAMFS:`${v}/rhcos-live-initramfs.s390x.img`,RHCOS_IBMZ_KERNEL:`${v}/rhcos-live-kernel-s390x`,RHCOS_IBMZ_ROOTFS:`${v}/rhcos-live-rootfs.s390x.img`,RHCOS_IBMZ_QCOW:`${v}/rhcos-qemu.s390x.qcow2.gz`,INSTALL_RHVIPI_GETTING_STARTED:`${S}/installing/installing_rhv/installing-rhv-default.html`,INSTALL_RHV_CUSTOMIZATIONS:`${S}/installing/installing_rhv/installing-rhv-customizations.html`,INSTALL_RHVUPI_GETTING_STARTED:`${S}/installing/installing_rhv/installing-rhv-user-infra.html`,INSTALL_GENERIC_GETTING_STARTED:`${S}/installing/installing_platform_agnostic/installing-platform-agnostic.html`,INSTALL_GENERIC_RHCOS_LEARN_MORE:`${S}/installing/installing_platform_agnostic/installing-platform-agnostic.html#creating-machines-platform-agnostic`,RHCOS_GENERIC_ISO_X86:`${y}/rhcos-live.x86_64.iso`,RHCOS_GENERIC_KERNEL_X86:`${y}/rhcos-live-kernel-x86_64`,RHCOS_GENERIC_INITRAMFS_X86:`${y}/rhcos-live-initramfs.x86_64.img`,RHCOS_GENERIC_ROOTFS_X86:`${y}/rhcos-live-rootfs.x86_64.img`,INSTALL_PRE_RELEASE_BUG_LIST_45:"https://bugzilla.redhat.com/buglist.cgi?bug_status=NEW&bug_status=ASSIGNED&bug_status=POST&bug_status=MODIFIED&columnlist=bug_status%2Ccomponent%2Cshort_desc%2Cassigned_to_realname%2Creporter_realname%2Cchangeddate&keywords=TestBlocker&keywords_type=allwords&known_name=OCP4-3-blocker&list_id=10675364&product=OpenShift%20Container%20Platform&query_based_on=OCP4-4-blocker&query_format=advanced&target_release=4.5.0",INSTALL_PRE_RELEASE_INSTALLER_DOC:"https://github.com/openshift/installer/tree/master/docs/user",INSTALL_PRE_RELEASE_DOWNLOAD_RHCOS_LATEST:"https://mirror.openshift.com/pub/openshift-v4/dependencies/rhcos/pre-release/latest",INSTALL_PRE_RELEASE_FEEDBACK_MAILTO:"mailto:users@lists.openshift.redhat.com?subject=[dev preview build]",INSTALL_PRE_RELEASE_SUPPORT_KCS:"https://access.redhat.com/articles/4307871",INSTALL_POWER_GETTING_STARTED:`${S}/installing/installing_ibm_power/installing-ibm-power.html`,INSTALL_POWER_RHCOS_LEARN_MORE:`${S}/installing/installing_ibm_power/installing-ibm-power.html#creating-machines-bare-metal-power`,RHCOS_POWER_ISO:`${O}/rhcos-live.ppc64le.iso`,RHCOS_POWER_INITRAMFS:`${O}/rhcos-live-initramfs.ppc64le.img`,RHCOS_POWER_KERNEL:`${O}/rhcos-live-kernel-ppc64le`,RHCOS_POWER_ROOTFS:`${O}/rhcos-live-rootfs.ppc64le.img`,RHCOS_ARM_ISO:`${C}/rhcos-live.aarch64.iso`,RHCOS_ARM_INITRAMFS:`${C}/rhcos-live-initramfs.aarch64.img`,RHCOS_ARM_KERNEL:`${C}/rhcos-live-kernel-aarch64`,RHCOS_ARM_ROOTFS:`${C}/rhcos-live-rootfs.aarch64.img`,RHCOS_ARM_RAW:`${C}/rhcos-metal.aarch64.raw.gz`,OCM_CLI_LATEST:"https://github.com/openshift-online/ocm-cli/releases/latest",OCM_CLI_DOCS:"https://access.redhat.com/articles/6114701",RHOAS_CLI_DOCS:"https://access.redhat.com/documentation/en-us/red_hat_openshift_streams_for_apache_kafka/1/guide/f520e427-cad2-40ce-823d-96234ccbc047",HELM_DOCS:"https://access.redhat.com/documentation/en-us/openshift_container_platform/4.8/html/building_applications/working-with-helm-charts",ODO_DOCS:`${S}/cli_reference/developer_cli_odo/understanding-odo.html`,OPM_DOCS:"https://docs.openshift.com/container-platform/4.9/cli_reference/opm/cli-opm-install.html",ROSA_CLIENT_LATEST:R,ROSA_DOCS:"https://docs.openshift.com/rosa/rosa_cli/rosa-get-started-cli.html",BUTANE_DOCS:`${S}/installing/install_config/installing-customizing.html`,COREOS_INSTALLER_DOCS:`${S}/installing/installing_platform_agnostic/installing-platform-agnostic.html`,OCM_DOCS_PULL_SECRETS:"https://access.redhat.com/documentation/en-us/openshift_cluster_manager/2021/html/managing_clusters/assembly-managing-clusters#downloading_and_updating_pull_secrets",OCM_DOCS_ROLES_AND_ACCESS:"https://access.redhat.com/documentation/en-us/openshift_cluster_manager/2021/html/managing_clusters/index"},w={OC:"oc",BUTANE:"butane",COREOS_INSTALLER:"coreos-installer",CRC:"crc",HELM:"helm",X86INSTALLER:"x86_64-openshift-install",IBMZINSTALLER:"s390x-openshift-install",PPCINSTALLER:"ppc64le-openshift-install",ARMINSTALLER:"aarch64-openshift-install",OCM:"ocm",ODO:"odo",OPM:"opm",RHCOS:"rhcos",RHOAS:"rhoas",ROSA:"rosa"},T={PRE_RELEASE:"preRelease",STABLE:"stable"},D="arm",_="x86",I="ppc",A="s390x",N=[{value:_,label:"x86_64",path:"x86_64"},{value:D,label:"aarch64",path:"aarch64"},{value:I,label:"ppc64le",path:"ppc64le"},{value:A,label:"s390x",path:"s390x"}],L={linux:"linux",mac:"mac",windows:"windows"},M=[{value:L.linux,label:"Linux"},{value:L.mac,label:"MacOS"},{value:L.windows,label:"Windows"}],k={[w.OC]:{[T.STABLE]:{[_]:{[L.windows]:`${i}openshift-client-windows.zip`,[L.linux]:`${i}openshift-client-linux.tar.gz`,[L.mac]:`${i}openshift-client-mac.tar.gz`},[A]:{[L.linux]:`${o}openshift-client-linux.tar.gz`},[I]:{[L.linux]:`${c}openshift-client-linux.tar.gz`},[D]:{[L.linux]:`${u}openshift-client-linux.tar.gz`}},[T.PRE_RELEASE]:{[_]:{[L.windows]:`${d}openshift-client-windows.zip`,[L.linux]:`${d}openshift-client-linux.tar.gz`,[L.mac]:`${d}openshift-client-mac.tar.gz`},[A]:{[L.linux]:`${p}openshift-client-linux.tar.gz`},[I]:{[L.linux]:`${m}openshift-client-linux.tar.gz`},[D]:{[L.linux]:`${h}openshift-client-linux.tar.gz`}}},[w.BUTANE]:{[T.STABLE]:{[_]:{[L.linux]:`${l}/butane-amd64`,[L.mac]:`${l}/butane-darwin-amd64`,[L.windows]:`${l}/butane-windows-amd64.exe`},[A]:{[L.linux]:`${l}/butane-s390x`},[I]:{[L.linux]:`${l}/butane-ppc64le`},[D]:{[L.linux]:`${l}/butane-aarch64`}}},[w.COREOS_INSTALLER]:{[T.STABLE]:{[_]:{[L.linux]:`${g}/coreos-installer_amd64`},[A]:{[L.linux]:`${g}/coreos-installer_s390x`},[I]:{[L.linux]:`${g}/coreos-installer_ppc64le`},[D]:{[L.linux]:`${g}/coreos-installer_aarch64`}}},[w.CRC]:{[T.STABLE]:{[_]:{[L.windows]:`${b}/crc-windows-installer.zip`,[L.mac]:`${b}/crc-macos-amd64.pkg`,[L.linux]:`${b}/crc-linux-amd64.tar.xz`}}},[w.HELM]:{[T.STABLE]:{[_]:{[L.linux]:`${E}/helm-linux-amd64`,[L.mac]:`${E}/helm-darwin-amd64`,[L.windows]:`${E}/helm-windows-amd64.exe`},[A]:{[L.linux]:`${E}/helm-linux-s390x`},[I]:{[L.linux]:`${E}/helm-linux-ppc64le`},[D]:{[L.linux]:`${E}/helm-linux-arm64`}}},[w.X86INSTALLER]:{[T.STABLE]:{[_]:{[L.linux]:`${i}openshift-install-linux.tar.gz`,[L.mac]:`${i}openshift-install-mac.tar.gz`}},[T.PRE_RELEASE]:{[_]:{[L.linux]:`${d}openshift-install-linux.tar.gz`,[L.mac]:`${d}openshift-install-mac.tar.gz`}}},[w.IBMZINSTALLER]:{[T.STABLE]:{[_]:{[L.linux]:`${o}openshift-install-linux-amd64.tar.gz`,[L.mac]:`${o}openshift-install-mac.tar.gz`},[A]:{[L.linux]:`${o}openshift-install-linux.tar.gz`}},[T.PRE_RELEASE]:{[_]:{[L.linux]:`${p}openshift-install-linux-amd64.tar.gz`,[L.mac]:`${p}openshift-install-mac.tar.gz`},[A]:{[L.linux]:`${p}openshift-install-linux.tar.gz`}}},[w.PPCINSTALLER]:{[T.STABLE]:{[_]:{[L.linux]:`${c}openshift-install-linux-amd64.tar.gz`,[L.mac]:`${c}openshift-install-mac.tar.gz`},[I]:{[L.linux]:`${c}openshift-install-linux.tar.gz`}},[T.PRE_RELEASE]:{[_]:{[L.linux]:`${m}openshift-install-linux-amd64.tar.gz`,[L.mac]:`${m}openshift-install-mac.tar.gz`},[I]:{[L.linux]:`${m}openshift-install-linux.tar.gz`}}},[w.ARMINSTALLER]:{[T.STABLE]:{[_]:{[L.linux]:`${u}openshift-install-linux-amd64.tar.gz`,[L.mac]:`${u}openshift-install-mac.tar.gz`},[D]:{[L.linux]:`${u}openshift-install-linux.tar.gz`}},[T.PRE_RELEASE]:{[_]:{[L.linux]:`${h}openshift-install-linux-amd64.tar.gz`,[L.mac]:`${h}openshift-install-mac.tar.gz`},[D]:{[L.linux]:`${h}openshift-install-linux.tar.gz`}}},[w.ODO]:{[T.STABLE]:{[_]:{[L.linux]:`${f}/odo-linux-amd64.tar.gz`,[L.mac]:`${f}/odo-darwin-amd64.tar.gz`,[L.windows]:`${f}/odo-windows-amd64.exe.zip`},[D]:{[L.linux]:`${f}/odo-linux-arm64.tar.gz`},[A]:{[L.linux]:`${f}/odo-linux-s390x.tar.gz`},[I]:{[L.linux]:`${f}/odo-linux-ppc64le.tar.gz`}}},[w.ROSA]:{[T.STABLE]:{[_]:{[L.linux]:`${R}/rosa-linux.tar.gz`,[L.mac]:`${R}/rosa-macosx.tar.gz`,[L.windows]:`${R}/rosa-windows.zip`}}},[w.OPM]:{[T.STABLE]:{[_]:{[L.linux]:`${i}opm-linux.tar.gz`,[L.mac]:`${i}opm-mac.tar.gz`,[L.windows]:`${i}opm-windows.tar.gz`},[A]:{[L.linux]:`${o}opm-linux.tar.gz`},[I]:{[L.linux]:`${c}opm-linux.tar.gz`},[D]:{[L.linux]:`${u}opm-linux.tar.gz`}}}},j=["openshift-online/ocm-cli","redhat-developer/app-services-cli"],x=e=>{const t=a(a({},k),{},{[w.OCM]:{[T.STABLE]:{fallbackNavigateURL:"https://github.com/openshift-online/ocm-cli/releases/latest"}},[w.RHOAS]:{[T.STABLE]:{fallbackNavigateURL:"https://github.com/redhat-developer/app-services-cli/releases/latest"}}}),n=e["openshift-online/ocm-cli"];if(null!=n&&n.fulfilled){const e=`https://github.com/openshift-online/ocm-cli/releases/download/${n.data.tag_name}`;t[w.OCM]={[T.STABLE]:{[_]:{[L.linux]:`${e}/ocm-linux-amd64`,[L.mac]:`${e}/ocm-darwin-amd64`,[L.windows]:`${e}/ocm-windows-amd64`},[A]:{[L.linux]:`${e}/ocm-linux-s390x`},[I]:{[L.linux]:`${e}/ocm-linux-ppc64le`},[D]:{[L.linux]:`${e}/ocm-linux-arm64`}}}}const r=e["redhat-developer/app-services-cli"];if(null!=r&&r.fulfilled){const e=r.data.tag_name,n=e.replace(/^v/,""),a=`https://github.com/redhat-developer/app-services-cli/releases/download/${e}`;t[w.RHOAS]={[T.STABLE]:{[_]:{[L.linux]:`${a}/rhoas_${n}_linux_amd64.tar.gz`,[L.mac]:`${a}/rhoas_${n}_macOS_amd64.tar.gz`,[L.windows]:`${a}/rhoas_${n}_windows_amd64.zip`}}}}return t},q=P},84904:(e,t,n)=>{"use strict";n.d(t,{n1:()=>s,$U:()=>l,jm:()=>i,ZP:()=>o});var r=n(94784);const a=e=>{var t;return(null==e||null===(t=e.plan)||void 0===t?void 0:t.id)===r.Po.OCP_Assisted_Install},s=e=>a(e.subscription),l=e=>{var t;return a(e.subscription)&&(null===(t=e.subscription)||void 0===t?void 0:t.status)===r.Ij.RESERVED&&"installed"!==e.state},i=e=>a(e)&&(!(null!=e&&e.metrics)||0===e.metrics.length),o=a},97875:(e,t,n)=>{"use strict";n.d(t,{Y0:()=>v,My:()=>O,tb:()=>C,gI:()=>R,ME:()=>S,WY:()=>P,a8:()=>y});var r=n(18172),a=n(27361),s=n.n(a),l=n(57689),i=n(3255),o=n(94784),c=n(84904);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{getClustervCPUCount:m,getClusterMemoryAmount:h,getMasterCount:g,getWorkerCount:b}=l.I,E=e=>{const t={OCP:o.Po.OCP,OSD:o.Po.OSD,OSDTRIAL:o.Po.OSDTrial,RHMI:o.Po.RHMI,MOA:o.Po.ROSA,ROSA:o.Po.ROSA,ARO:o.Po.ARO,OCP_ASSISTEDINSTALL:o.Po.OCP_Assisted_Install,ANY:o.Po.ANY};return"string"!=typeof e?o.Po.UNKNOWN:t[e.toUpperCase().replace("-","_")]||o.Po.UNKNOWN},f={memory:{used:{value:0,unit:"B"},total:{value:0,unit:"B"}},cpu:{used:{value:0,unit:""},total:{value:0,unit:""}},storage:{used:{value:0,unit:"B"},total:{value:0,unit:"B"}},nodes:{total:0,master:0,compute:0},state:"N/A",upgrade:{available:!1}},y=e=>{const t=e?d(d({},f),e):d({},f),n=["memory","storage","cpu"];return["memory","storage","cpu","nodes"].forEach((e=>{if(t[e]=d(d({},f[e]),t[e]),n.includes(e)){var r,a;const n=(null===(r=t[e])||void 0===r?void 0:r.total)||{},s=(null===(a=t[e])||void 0===a?void 0:a.used)||{};t[e].total=d(d({},f[e].total),n),t[e].used=d(d({},f[e].used),s)}})),t},v=e=>{const t=d({},e);return t.product={id:E(e.product.id)},e.version&&e.version.available_upgrades&&t.version.available_upgrades.sort(i.N),t},O=e=>{var t;const n=null===(t=e.metrics)||void 0===t?void 0:t[0],r=y(n),a={subscription_id:e.id,id:e.cluster_id,external_id:e.external_cluster_id,console:{url:e.console_url},creation_timestamp:e.created_at,activity_timestamp:n?n.query_timestamp:e.last_telemetry_date,state:r.state,openshift_version:r.openshift_version,product:{id:E(e.plan.id),type:E(e.plan.type)},managed:o._z.includes(E(e.plan.type)),ccs:{enabled:!1},metrics:r},s=e.cloud_provider_id;s&&(a.cloud_provider={id:s.toLowerCase()});const l=e.region_id;return l&&(a.region={id:l.toLowerCase()}),a},C=(e,t)=>{const n=O(e);if((0,c.jm)(e)){const e=t?b(t.hosts):0,r=t?g(t.hosts):0;n.metrics.memory.total.value=t?h(t):0,n.metrics.cpu.total.value=t?m(t):0,n.metrics.nodes.total=e+r,n.metrics.nodes.master=r,n.metrics.nodes.compute=e,n.metrics.openshift_version=n.metrics.openshift_version||(t?t.openshift_version:"N/A"),n.metrics.state=(null==t?void 0:t.status)||"N/A",n.state=n.metrics.state,n.openshift_version=n.metrics.openshift_version}return n},R=e=>d(d({},e),{},{plan:{id:E(e.plan.id),type:E(e.plan.type)}}),S=e=>d(d({},e),{},{related_resources:s()(e,"related_resources",[]).map((e=>d(d({},e),{},{product:E(e.product)})))}),P=(e,t)=>(0,r.ZP)(e,(e=>{e.data.items=e.data.items.map(t)}))},94784:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Ij:()=>p,$S:()=>l,ig:()=>i,Ck:()=>o,ik:()=>c,o_:()=>u,fl:()=>d,vQ:()=>m,Po:()=>h,_z:()=>g,GO:()=>b,F6:()=>E,Av:()=>f});const l={SUPPORT_LEVEL:"support_level",USAGE:"usage",SERVICE_LEVEL:"service_level",PRODUCT_BUNDLE:"product_bundle",SYSTEM_UNITS:"system_units",CPU_TOTAL:"cpu_total",SOCKET_TOTAL:"socket_total",CLUSTER_BILLING_MODEL:"cluster_billing_model"},i={EVAL:"Eval",STANDARD:"Standard",PREMIUM:"Premium",SELF_SUPPORT:"Self-Support",NONE:"None"},o={L1_L3:"L1-L3",L3_ONLY:"L3-only"},c={PRODUCTION:"Production",DEV_TEST:"Development/Test",DISASTER_RECOVERY:"Disaster Recovery"},u={OPENSHIFT:"Openshift",JBOSS_MIDDLEWARE:"JBoss-Middleware",IBM_CLOUDPAK:"IBM-CloudPak"},d={CORES_VCPU:"Cores/vCPU",SOCKETS:"Sockets"},p={ACTIVE:"Active",ARCHIVED:"Archived",DEPROVISIONED:"Deprovisioned",RESERVED:"Reserved",STALE:"Stale",DISCONNECTED:"Disconnected"},m={OSD:"OSD",OSDTrial:"OSDTrial",OCP:"OCP",RHMI:"RHMI",ROSA:"ROSA",ARO:"ARO",OCP_Assisted_Install:"OCP-AssistedInstall"},h=a(a({},m),{},{ANY:"ANY",UNKNOWN:"UNKNOWN"}),g=[h.OSD,h.OSDTrial,h.ROSA,h.RHMI],b=[{key:h.OCP,label:"OCP",plansToQuery:["OCP","OCP-AssistedInstall"]},{key:h.OSD,label:"OSD",plansToQuery:["OSD"]},{key:h.ROSA,label:"ROSA",plansToQuery:["MOA","ROSA"]},{key:h.ARO,label:"ARO",plansToQuery:["ARO"]}],E={STANDARD:"standard",MARKETPLACE:"marketplace"},f={CLUSTER_EDITOR:"ClusterEditor",CLUSTER_VIEWER:"ClusterViewer"}},3255:(e,t,n)=>{"use strict";n.d(t,{q:()=>r,N:()=>a});const r=/(?<major>\d+).(?<minor>\d+).(?<revision>\d+)(?:-(rc|fc).(?<patch>\d+))?/,a=(e,t)=>{const{groups:n}=r.exec(e),{groups:a}=r.exec(t);return n.major!==a.major?parseInt(n.major,10)>parseInt(a.major,10)?1:-1:n.minor!==a.minor?parseInt(n.minor,10)>parseInt(a.minor,10)?1:-1:n.revision!==a.revision?parseInt(n.revision,10)>parseInt(a.revision,10)?1:-1:n.patch!==a.patch?void 0===n.patch?1:void 0===a.patch?-1:parseInt(n.patch,10)>parseInt(a.patch,10)?1:-1:0}},64210:(e,t,n)=>{"use strict";n.d(t,{tZ:()=>r,c:()=>a,eo:()=>s});const r="SHOW_API_ERROR",a="CLEAR_API_ERROR",s={showApiError:e=>({type:r,payload:e}),clearApiError:()=>({type:a})}},95713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>tN});var r=n(92950),a=n.n(r),s=n(45697),l=n.n(s),i=n(12167),o=n(334),c=n(92363),u=n(57689),d=n(42282),p=n(6202),m=n(20018),h=n(63540),g=n(219),b=n(74183),E=n(6023),f=n(78826),y=n(34023),v=n(81159),O=n(36842),C=n(21508),R=n(34348),S=n(41609),P=n.n(S),w=n(27361),T=n.n(w);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const _=Function.prototype,I=e=>null!=e&&!1!==e&&""!==e,A=e=>e?e.split(",").map((e=>e.trim())).filter((e=>e)):void 0,N=(e,t)=>e[t].map((e=>T()(e,`${t}`,null))).filter((e=>e)).map((e=>e.trim())),L=(e,t)=>{if(!e)return{};const n=A(e),r={};return n.forEach((e=>{const[n,a]=e.split(t);r[n]=a})),r},M=()=>`${Math.floor(65536*(1+Math.random())).toString(16).substring(1)}`,k=()=>{const e=document.getElementById("scrollToTop");e&&e.scrollIntoView()},j="You do not have enough quota for this option. Contact sales to purchase additional quota.",x=(e,t)=>{window.pendo&&window.pendo.isReady&&window.pendo.isReady()&&window.pendo.track&&window.pendo.track(e,{type:t||window.location.pathname})},q=e=>{const t=e.timestamp,n=new Date;return!e.pending&&(!e.fulfilled||n-t>12e4)};function U(e){const t=Object.keys(e);if(!t.length)return;const n=t.map((e=>document.querySelector(`[name^="${e}"`)));let r=n[0];n.length>1&&n.forEach((e=>{((e,t)=>{switch(e.compareDocumentPosition(t)){case Node.DOCUMENT_POSITION_PRECEDING:return 1;case Node.DOCUMENT_POSITION_FOLLOWING:return-1;default:return 0}})(e,r)<0&&(r=e)})),setTimeout((()=>r.scrollIntoView({behavior:"smooth",block:"center"})),0)}const z=e=>D({},...e.map((e=>e.key&&e.value&&{[e.key]:e.value}))),F="0001-01-01T00:00:00Z",Z=e=>P()(e)||Object.keys(e).map((t=>P()(e[t]))).every((e=>e));function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e){let{title:t="",secondaryTitle:n="",onClose:r=_,showPrimary:s=!0,primaryText:l="Confirm",showSecondary:i=!0,secondaryText:o="Cancel",showTertiary:c=!1,tertiaryText:u,onPrimaryClick:d=_,onSecondaryClick:m=_,onTertiaryClick:h=_,isSmall:g=!0,modalSize:b,isPrimaryDisabled:S=!1,isSecondaryDisabled:P=!1,isPending:w=!1,children:T=null,primaryVariant:D="primary",primaryLink:I,secondaryLink:A}=e,N=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["title","secondaryTitle","onClose","showPrimary","primaryText","showSecondary","secondaryText","showTertiary","tertiaryText","onPrimaryClick","onSecondaryClick","onTertiaryClick","isSmall","modalSize","isPrimaryDisabled","isSecondaryDisabled","isPending","children","primaryVariant","primaryLink","secondaryLink"]);const L=n?a().createElement(v.K,null,a().createElement(y.v,null,a().createElement(R.Title,{headingLevel:"h1"},t)),a().createElement(y.v,{className:"modal-secondary-title"},a().createElement(O.P,null,a().createElement(C.J,null,"Cluster"),a().createElement(C.J,null,n)))):void 0;return a().createElement(f.Modal,B({className:w?"pending-modal":null,"aria-label":t,variant:b||(g?"small":void 0),title:t,header:L,isOpen:!0,onClose:r,actions:w?[]:[s&&!I&&a().createElement(p.Button,{key:"confirm",variant:D,onClick:d,type:"submit",isDisabled:S},l),s&&I&&a().createElement(p.Button,{key:"confirm",variant:D,component:"a",target:"_blank",href:I,isDisabled:S},l),i&&!A&&a().createElement(p.Button,{key:"secondary",variant:"secondary",onClick:m},o),i&&A&&a().createElement(p.Button,{key:"secondary",variant:"secondary",component:"a",target:"_blank",href:A,isDisabled:P},o),c&&a().createElement(p.Button,{key:"tertiary",variant:"secondary",onClick:h},u)]},N),w?a().createElement(E.Z,{centered:!0}):T)}G.propTypes={isSmall:l().bool,modalSize:l().string,title:l().string,secondaryTitle:l().string,onClose:l().func,primaryLink:l().string,secondaryLink:l().string,primaryText:l().string,secondaryText:l().string,tertiaryText:l().string,onPrimaryClick:l().func,onSecondaryClick:l().func,onTertiaryClick:l().func,isPrimaryDisabled:l().bool,isSecondaryDisabled:l().bool,isTertiaryDisabled:l().bool,children:l().node,showPrimary:l().bool,showSecondary:l().bool,showTertiary:l().bool,isPending:l().bool,primaryVariant:l().string};const H=G;var V=n(32469),$=n(20167),Q=n(39666),W=n(39581);class Y extends a().Component{componentDidMount(){const e=e=>{Q.$e((t=>{t.setTag("operationID",e.operationID),Q.Tb(new Error(`${e.errorCode} error from server: ${e.internalErrorCode} - ${e.errorMessage}`))}))},{errors:t}=this.props;if(t)t.forEach((t=>{const{response:n}=t;e(n)}));else{const{response:t}=this.props;e(t)}}render(){const{errors:e,message:t,response:n}=this.props,r=({response:e,message:t,key:n=""})=>a().createElement(y.v,{key:n},a().createElement(v.K,null,t&&a().createElement(y.v,null,a().createElement(R.Title,{headingLevel:"h6"},t)),a().createElement(y.v,null,`Error code: ${e.errorCode}`),a().createElement(y.v,null,e.errorMessage),a().createElement(y.v,null,(0,W.VJ)(e.errorDetails)),a().createElement(y.v,null,`Operation ID: ${e.operationID||"N/A"}`)));return a().createElement(g.ub,null,a().createElement(b.B,null,a().createElement($.Z,null),a().createElement(V.L,{id:"error-expand",toggleText:"Error details"},a().createElement(v.K,{hasGutter:!0},e?e.map(r):r({response:n,message:t})))))}}Y.propTypes={errors:l().arrayOf(l().shape({key:l().string,message:l().string,response:l().shape({errorMessage:l().oneOfType([l().string,l().node,l().element]).isRequired,internalErrorCode:l().string,errorDetails:l().array,operationID:l().string,errorCode:l().number})})),message:l().string,response:l().shape({errorMessage:l().oneOfType([l().string,l().node,l().element]).isRequired,internalErrorCode:l().string,errorDetails:l().array,operationID:l().string,errorCode:l().number})},Y.defaultProps={errors:void 0,message:"",response:void 0};const K=Y;var J=n(18446),X=n.n(J),ee=n(94784);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ae=(e,t)=>e.currentPage!==t.currentPage||e.pageSize!==t.pageSize||!X()(e.sorting,t.sorting)||!X()(e.filter,t.filter)||!X()(e.flags,t.flags),se=e=>`'${e.replace(/'/g,"''")}'`,le=(e,t)=>{const n=ne({},t);if(e){if(n.page=e.currentPage,n.page_size=e.pageSize,n.has_filters=!!e.filter,null!==e.sorting.sortField){const t=e.sorting.isAscending?"asc":"desc";"name"===e.sorting.sortField?n.order=`display_name ${t}`:n.order=`${e.sorting.sortField} ${t}`}const t=[];if(t.push("cluster_id!=''"),e.flags.showArchived?t.push("status IN ('Deprovisioned', 'Archived')"):t.push("status NOT IN ('Deprovisioned', 'Archived')"),e.filter){const n=se(`%${e.filter}%`);t.push(`display_name ILIKE ${n} OR external_cluster_id ILIKE ${n} OR cluster_id ILIKE ${n}`)}if(!P()(e.flags.subscriptionFilter)){const n=e.flags.subscriptionFilter.plan_id;if(!P()(n)){const e=n.flatMap((e=>ee.GO.find((t=>t.key===e)).plansToQuery)).map(se);t.push(`plan_id IN (${e.join(",")})`)}}n.filter=t.map((e=>`(${e})`)).join(" AND ").trim()}return n},ie=(e,t)=>{const n=ne({},t);if(e){if(n.page=e.currentPage,n.page_size=e.pageSize,null!==e.sorting.sortField){const t=e.sorting.isAscending?"asc":"desc";n.order=`${e.sorting.sortField} ${t}`}const t=[];if(e.filter){const{description:n}=e.filter;if(""!==n){const e=se(`%${n}%`);t.push(`(description ILIKE ${e} OR summary ILIKE ${e})`)}}if(e.flags){const{severityTypes:n=[]}=e.flags.conditionalFilterFlags;if(n.length>0){const e=n.map(se);t.push(`severity IN (${e.join(",")})`)}}t.length>0&&(n.filter=t.map((e=>`(${e})`)).join(" AND ").trim())}return n},oe=(e,t)=>{const n=ne({order:"display_name asc"},t);return e&&(n.page=e.currentPage,n.page_size=e.pageSize),n},ce=e=>Object.keys(e).map((t=>!P()(e[t])&&`${t}=${e[t].join(",")}`)).filter(Boolean).join("&"),ue=e=>{let t;return window.location.search.substring(1).split("&").forEach((n=>{const[r,a]=n.split("=");r===e&&(t=a)})),t},de=(e,t,n)=>{return`${e}&${r={redirect:t,cancelRedirect:n},Object.keys(r).map((e=>`${e}=${encodeURIComponent(r[e])}`)).join("&")}`;var r};function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class me extends r.Component{constructor(...e){super(...e),pe(this,"handleCancel",(()=>{const{history:e,gobackPath:t}=this.props;e.push(t)})),pe(this,"getTncAppURL",(e=>{const{history:t,gobackPath:n}=this.props,r=window.location.host+t.createHref(t.location),a=window.location.host+t.createHref({pathname:n});return de(e,r,a)}))}componentDidMount(){const{selfTermsReview:e}=this.props;e()}render(){const{selfTermsReviewResult:e,children:t}=this.props;if(e.error)return a().createElement(K,{response:e});if(!e.fulfilled)return a().createElement(g.ub,null,a().createElement(b.B,null,a().createElement(E.Z,{centered:!0})));if(!e.terms_required&&!e.terms_available)return t;const n=e.terms_required?"Terms and Conditions":"Updated Terms and Conditions",r=e.terms_required?a().createElement(m.D,null,a().createElement(h.xv,{component:h.qO.p},"Red Hat has Terms and Conditions for its managed services."),a().createElement(h.xv,{component:h.qO.p},a().createElement("b",null,"If you do not accept the terms, you will not be able to create new clusters or to alter existing clusters.")," ","Existing clusters will not be affected, however access will be read-only.")):a().createElement(m.D,null,a().createElement(h.xv,{component:h.qO.p},"Red Hat has updated the Terms and Conditions for its managed services.")),s=this.getTncAppURL(e.redirect_url),l=[a().createElement(p.Button,{variant:"primary",key:"view-terms-and-conditions",component:"a",href:s},"View Terms and Conditions"),a().createElement(p.Button,{variant:"secondary",key:"cancel-terms-and-conditions",onClick:this.handleCancel},"Cancel")];return a().createElement(a().Fragment,null,a().createElement(H,{title:n,className:"terms-and-conditions-guard-modal",onClose:this.handleCancel,actions:l},r),a().cloneElement(a().Children.only(t),{blockedByTerms:!0}))}}me.propTypes={selfTermsReview:l().func.isRequired,selfTermsReviewResult:l().object.isRequired,children:l().node.isRequired,gobackPath:l().string,history:l().shape({location:l().object,push:l().func.isRequired,goBack:l().func.isRequired,createHref:l().func.isRequired}).isRequired};const he=me,ge={selfTermsReview:d.c3},be=(0,i.connect)((e=>({selfTermsReviewResult:e.userProfile.selfTermsReviewResult})),ge)(he);function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const fe=e=>{let t,{component:n,render:r,history:s,gobackPath:l="/"}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["component","render","history","gobackPath"]);return n&&(t=e=>a().createElement(be,{history:s,gobackPath:l},a().createElement(n,e))),r&&(t=e=>a().createElement(be,{history:s,gobackPath:l},r(e))),a().createElement(o.Route,Ee({},i,{render:t}))};fe.propTypes={component:l().func,render:l().func,history:l().object.isRequired,gobackPath:l().string};const ye=fe;var ve=n(43363);var Oe=n(86728),Ce=n(97446),Re=n(84564),Se=n(75063);function Pe({error:e,restore:t}){const n=T()(e,"data.details[0].legal_terms_url"),r=window.location.href,s=de(n,r,r);return a().createElement(g.ub,{variant:g.IQ.large},a().createElement(Oe.k,{icon:Re.ZP,color:Se.global_danger_color_100.value}),a().createElement(R.Title,{headingLevel:"h4",size:"lg"},"This action is blocked."),a().createElement(b.B,null,"You must accept the Terms and Conditions in order to make changes to this cluster. Your cluster will remain unaffected until then. Once you accept the terms, you will need to retry the action that was blocked."),a().createElement(p.Button,{variant:"primary",component:"a",href:s},"View Terms and Conditions"),a().createElement(Ce.i,null,a().createElement(p.Button,{variant:"link",onClick:t},"Go back to previous page")))}Pe.propTypes={error:l().object.isRequired,restore:l().func.isRequired};const we=Pe;class Te extends r.Component{componentDidMount(){const{history:e,apiRequest:t,showApiError:n,clearApiError:r}=this.props;this.ejectApiErrorInterceptor=((e,t)=>{const n=e.interceptors.response.use((e=>e),(e=>((0,W.rV)(T()(e,"response"))&&t(e.response),Promise.reject(e))));return()=>{e.interceptors.response.eject(n)}})(t,n),this.detachHistoryListener=e.listen((()=>r()))}componentWillUnmount(){this.ejectApiErrorInterceptor(),this.detachHistoryListener()}render(){const{children:e,apiError:t,clearApiError:n}=this.props;if((0,W.rV)(t)){const e=T()(t,"data.code");if(e===W.wk)return a().createElement(we,{error:t,restore:n});console.error(`no defined error page: code=${e}`)}return e}}Te.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]),history:l().shape({listen:l().func.isRequired}).isRequired,apiRequest:l().func.isRequired,apiError:l().object,showApiError:l().func.isRequired,clearApiError:l().func.isRequired};const De=Te;var _e=n(64210);const Ie={showApiError:_e.eo.showApiError,clearApiError:_e.eo.clearApiError},Ae=(0,i.connect)((e=>({apiError:e.apiError})),Ie)(De);var Ne=n(29572),Le=n(36104),Me=n(85962),ke=n(2095),je=n(49287),xe=n(18038),qe=n(83913),Ue=n(39173);const ze=(e,t)=>e.modal.modalName===t;function Fe(e){let{ModalComponent:t,isOpen:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["ModalComponent","isOpen"]);if(!t.modalName)throw new Error("Modal component missing name");return n&&a().createElement(t,r)}Fe.propTypes={isOpen:l().bool,ModalComponent:l().shape({modalName:l().string})};const Ze=Fe,Be=(0,i.connect)(((e,t)=>({isOpen:ze(e,t.ModalComponent.modalName)})))(Ze);var Ge=n(8524),He=n(42317),Ve=n.n(He);const $e=(e,t)=>{const n=10**t;return Math.round(e*n)/n};function Qe(e,t){return e*{B:1,KiB:1024,MiB:2**20,GiB:2**30,TiB:2**40,PiB:2**50,KB:1e3,MB:10**6,GB:10**9,TB:10**12,PB:10**15}[t.trim()]}function We(e,t){const n=Ve()(Qe(e,t),{output:"object",standard:"iec"});return{value:n.value,unit:n.suffix}}function Ye(e,t){return{value:$e(e,2),unit:t}}function Ke(e){return Ye(e/2**30,"GiB")}function Je(e){const{used:t,total:n,unit:r,humanize:s,donutId:l,usedTitle:i,availableTitle:o}=e,c=s?We:Ye,u=c(t,r),d=c(n,r),p=c(n-t,r),m=Math.round(t/n*100*100)/100,h=Math.round((n-t)/n*100*100)/100;return a().createElement("div",null,a().createElement("div",{className:"small-donut-chart-container"},a().createElement(Ge.HS,{id:l,labels:({datum:e})=>e.x?`${e.x}`:null,data:[{x:`${u.value} ${u.unit}`,y:m},{x:`${p.value} ${p.unit}`,y:h}],constrainToVisibleArea:!0,legendData:[{name:`${i}: ${u.value} ${u.unit}`},{name:`${o}: ${p.value} ${p.unit}`}],legendOrientation:"vertical",padding:{bottom:20,left:20,right:195,top:20},title:d.value,height:205,width:410})))}Je.propTypes={used:l().number,total:l().number,unit:l().string,availableTitle:l().string,usedTitle:l().string,humanize:l().bool,donutId:l().string.isRequired};const Xe=Je;var et=n(74949),tt=n(29111),nt=n(36001),rt=n(42057),at=n(5634);const st=function(){return a().createElement(a().Fragment,null,a().createElement("div",{id:"overview-emptystate-bg-img-container"},a().createElement(R.Title,{headingLevel:"h1",size:"3xl",className:"pf-u-ml-lg pf-u-mb-md"},"Get started with OpenShift Container Platform"),a().createElement(R.Title,{headingLevel:"h2",size:"lg",className:"pf-u-ml-lg pf-u-mb-md"},"Download, install and configure Red Hat OpenShift 4 for free now."),a().createElement(o.Link,{to:"/create",className:"pf-u-ml-lg"},a().createElement("span",{id:"overview-emptystate-create-cluster"},"Create an OpenShift cluster"))),a().createElement(R.Title,{size:"xl",headingLevel:"h1",className:"pf-u-mt-lg pf-u-mb-lg"},"Get productive with OpenShift"),a().createElement(nt.k,{id:"overview-emptystate-get-productive"},a().createElement(nt.k,{className:"flex-pair"},a().createElement(rt.B,null,a().createElement(ke.Card,{className:"dashboard-emptystate-card"},a().createElement(Le.l,null,a().createElement(R.Title,{headingLevel:"h2",size:"lg",className:"card-title"},"OpenShift Serverless")),a().createElement(Me.e,null,"Help developers simplify the process of delivering code from development to production.",a().createElement("a",{href:"https://docs.openshift.com/container-platform/latest/serverless/serverless-getting-started.html",rel:"noreferrer noopener",target:"_blank"},a().createElement(p.Button,{variant:"link",icon:a().createElement(at.ZP,null)},"Get started"))))),a().createElement(rt.B,null,a().createElement(ke.Card,{className:"dashboard-emptystate-card"},a().createElement(Le.l,null,a().createElement(R.Title,{headingLevel:"h2",size:"lg",className:"card-title"},"Red Hat OpenShift Service Mesh")),a().createElement(Me.e,null,"Connect, secure and monitor microservices in your OpenShift Container Platform environment.",a().createElement("a",{href:"https://docs.openshift.com/container-platform/latest/service_mesh/v2x/ossm-architecture.html",rel:"noreferrer noopener",target:"_blank"},a().createElement(p.Button,{variant:"link",icon:a().createElement(at.ZP,null)},"Get started")))))),a().createElement(nt.k,{className:"flex-pair"},a().createElement(rt.B,null,a().createElement(ke.Card,{className:"dashboard-emptystate-card"},a().createElement(Le.l,null,a().createElement(R.Title,{headingLevel:"h2",size:"lg"},"OpenShift Virtualization")),a().createElement(Me.e,null,"Run and manage virtual machine workloads alongside your container workloads.",a().createElement("a",{href:"https://docs.openshift.com/container-platform/4.7/virt/about-virt.html",rel:"noreferrer noopener",target:"_blank"},a().createElement(p.Button,{variant:"link",icon:a().createElement(at.ZP,null)},"Get started"))))),a().createElement(rt.B,null,a().createElement(ke.Card,{className:"dashboard-emptystate-card"},a().createElement(Le.l,null,a().createElement(R.Title,{headingLevel:"h2",size:"lg"},"Migrating OpenShift Container Platform 3 to 4")),a().createElement(Me.e,null,"Plan your transition and migrate from OpenShift Container Platform 3 to 4.",a().createElement("a",{href:"https://docs.openshift.com/container-platform/latest/migrating_from_ocp_3_to_4/about-migrating-from-3-to-4.html",rel:"noreferrer noopener",target:"_blank"},a().createElement(p.Button,{variant:"link",icon:a().createElement(at.ZP,null)},"Get started"))))))),a().createElement(je.r,null,a().createElement(xe.P,{span:12},a().createElement("div",{id:"dashboard-emptystate-osd",className:"top-row pf-u-mt-lg"},a().createElement(R.Title,{headingLevel:"h2",size:"lg",className:"card-title"},"Let Red Hat run it for you"),"Red hat OpenShift Dedicated is a single-tenant, high availability Kubernetes clusters, managed by Red Hat on Amazon Web Services or Google Cloud Platform.",a().createElement("a",{href:"https://www.openshift.com/products/dedicated/contact/",rel:"noreferrer noopener",target:"_blank",id:"request-information-btn"},a().createElement(p.Button,{variant:"secondary"},"Request information"))))),a().createElement(R.Title,{className:"pf-u-mt-lg pf-u-mb-lg",size:"lg",headingLevel:"h1"},"Learn more about the platform"),a().createElement("div",{id:"emptystate-learn-more"},a().createElement("div",null,a().createElement("iframe",{title:"learn more",width:"560",height:"315",src:"https://www.youtube.com/embed/D_Lj0rObunI",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),a().createElement("div",null,a().createElement(R.Title,{headingLevel:"h2",size:"lg",className:"pf-u-ml-lg pf-u-mb-md"},"Other resources"),a().createElement(et.aV,null,a().createElement(tt.H,null,a().createElement("a",{href:"https://docs.openshift.com/container-platform/latest/welcome/",rel:"noreferrer noopener",target:"_blank"},"Official documents")),a().createElement(tt.H,null,a().createElement("a",{href:"https://www.openshift.com/blog",rel:"noreferrer noopener",target:"_blank"},"Blog")),a().createElement(tt.H,null,a().createElement("a",{href:"https://learn.openshift.com/",rel:"noreferrer noopener",target:"_blank"},"Tutorials with live playgrounds!")),a().createElement(tt.H,null,a().createElement("a",{href:"https://www.twitch.tv/redhatopenshift",rel:"noreferrer noopener",target:"_blank"},"Twitch"))))))};var lt=n(22160),it=n(13877),ot=n(45205);const ct=(e,t)=>n=>n({filter:e,viewType:t,type:ot.UI.Gu}),ut=(e,t,n)=>r=>r({key:e,value:t,viewType:n,type:ot.UI.ZY}),dt=ut,pt=(e,t)=>n=>n({sorting:e,viewType:t,type:ot.UI.jv}),mt=({currentPage:e,pageSize:t,totalCount:n,onFirstPage:r,onLastPage:s,onPreviousPage:l,onNextPage:i,onPageInput:o,onPerPageSelect:c,variant:u,isDisabled:d,perPageOptions:p})=>a().createElement(it.tl,{page:e,perPage:t,itemCount:n,itemsStart:(e-1)*t+1,itemsEnd:Math.min(e*t,n),onFirstClick:r,onLastClick:s,onPreviousClick:l,onNextClick:i,onSetPage:o,onPerPageSelect:c,variant:u,dropDirection:"bottom"===u?"up":"down",isCompact:"bottom"!==u,isDisabled:d,perPageOptions:p});mt.propTypes={viewType:l().string,currentPage:l().number,pageSize:l().number,totalCount:l().number,onFirstPage:l().func,onLastPage:l().func,onNextPage:l().func,onPreviousPage:l().func,onPageInput:l().func,onPerPageSelect:l().func,variant:l().oneOf(["top","bottom"]).isRequired,isDisabled:l().bool,perPageOptions:l().arrayOf(l().shape({title:l().string,value:l().number}))};const ht=(0,i.connect)(null,((e,t)=>({onFirstPage:()=>{return e((n=t.viewType,e=>e({type:ot.UI.qJ,viewType:n})));var n},onLastPage:()=>{return e((n=t.viewType,e=>e({type:ot.UI.X,viewType:n})));var n},onNextPage:()=>{return e((n=t.viewType,e=>e({type:ot.UI.eC,viewType:n})));var n},onPreviousPage:()=>{return e((n=t.viewType,e=>e({type:ot.UI.SV,viewType:n})));var n},onPageInput:(n,r)=>e(((e,t)=>n=>n({type:ot.UI.DG,viewType:t,pageNumber:e}))(r,t.viewType)),onPerPageSelect:(n,r)=>{e(((e,t)=>n=>n({type:ot.UI.G7,viewType:t,pageSize:e}))(r,t.viewType))}})))(mt),gt="archive-cluster",bt="unarchive-cluster",Et="edit-cluster",ft="edit-node-count",yt="edit-display-name",vt="edit-console-url",Ot="delete-cluster",Ct="upgrade-wizard",Rt="transfer-cluster-ownership",St="upgrade-trial-cluster",Pt="edit-subscription-settings",wt="hibernate-cluster",Tt="resume-cluster",Dt="edit-taints",_t="edit-labels",It="ocm-roles";var At=n(56455);const Nt=function(e=10,t=6,n="lg"){const r={cells:[{props:{colSpan:t},title:a().createElement(At.Z,{size:n})}]},s=[];for(let t=0;t<e;t+=1)s.push(r);return s},Lt={filter:`support_level='${ee.ig.NONE}' AND status NOT IN ('Deprovisioned', 'Archived')`};class Mt extends a().Component{componentDidMount(){const{getSubscriptions:e,subscriptions:t,viewOptions:n}=this.props;t.fulfilled||t.pending||e(oe(n,Lt))}componentDidUpdate(e){const{getSubscriptions:t,subscriptions:n,viewOptions:r}=this.props;(!n.pending&&!n.valid||ae(r,e.viewOptions))&&t(oe(r,Lt))}render(){const{viewOptions:e,subscriptions:t,openModal:n}=this.props;if(t.error)return a().createElement(ke.Card,{className:"ocm-overview-clusters__card"},a().createElement(Le.l,null,"Expired trials"),a().createElement(Me.e,null,a().createElement(g.ub,null,a().createElement(R.Title,{headingLevel:"h2"},"No data available"),a().createElement(b.B,null,"There was an error fetching the data. Try refreshing the page."))));if(!t.items||0===t.items.length)return null;const r=t.pending&&t.items&&t.items.length>0,s=r?Nt(e.pageSize):t.items.map((e=>(e=>{const t=e.display_name||e.external_cluster_id;return{cells:[{title:a().createElement(o.Link,{to:`/details/s/${e.id}`},t)}],subscription:e}})(e)));return a().createElement(ke.Card,{className:"ocm-overview-clusters__card"},a().createElement(Le.l,null,"Expired Trials"),a().createElement(Me.e,null,a().createElement(lt.Table,{"aria-label":"Expired Trials",cells:[{title:"Name"}],rows:s,variant:lt.TableVariant.compact,actionResolver:r?void 0:({subscription:e})=>[{title:"Edit subscription settings",onClick:()=>n("edit-subscription-settings",{subscription:e})},{title:"Archive cluster",onClick:()=>n(gt,{subscriptionID:e.id,name:e.display_name||e.external_cluster_id})}],areActionsDisabled:({subscription:e})=>!e.canEdit},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null)),a().createElement(ht,{viewType:ot.R$.KV,currentPage:e.currentPage,pageSize:e.pageSize,totalCount:e.totalCount,totalPages:e.totalPages,variant:"bottom",isDisabled:t.pending,perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"25",value:25},{title:"50",value:50}]})))}}Mt.propTypes={getSubscriptions:l().func.isRequired,subscriptions:l().object.isRequired,viewOptions:l().object.isRequired,openModal:l().func.isRequired};const kt=Mt;var jt=n(27738),xt=n(85935),qt=n(81126);const Ut=async e=>{let t=[];const n=await xt.FR.selfResourceReview({action:"update",resource_type:"Cluster"});return t=(0,qt.D)(n),xt.BJ.getSubscriptions(e).then((e=>(e.data.items.forEach((e=>{e.canEdit=t["*"]||!!t[e.cluster_id]})),e)))},zt=e=>t=>t({type:ot.jn.H4,payload:Ut(e)}),Ft=()=>e=>e({type:(0,qt._X)(ot.jn.H4)}),Zt=e=>(0,jt.Z)(e)?xt.BJ.fetchSubscriptionByExternalId(e).then((e=>{var t,n;return null===(t=e.data)||void 0===t||null===(n=t.items[0])||void 0===n?void 0:n.id})):xt.le.getClusterDetails(e).then((e=>e.data.subscription.id)),Bt=e=>t=>t({type:ot.jn.he,payload:Zt(e)}),Gt=()=>e=>e({type:ot.jn.I8}),Ht=function(){return e=>e({type:ot.jn.CJ,payload:xt.BJ.getCurrentAccount()})},Vt=function(e){return t=>t({type:ot.jn.H6,payload:xt.BJ.getOrganizationQuota(e)})};var $t=n(6580);const Qt=(e,t)=>({type:$t.TY.OPEN_MODAL,payload:{name:e,data:t}}),Wt=()=>({type:$t.TY.CLOSE_MODAL}),Yt={openModal:Qt,closeModal:Wt},Kt={getSubscriptions:zt,openModal:Qt},Jt=(0,i.connect)((e=>({subscriptions:e.subscriptions.subscriptions,viewOptions:e.viewOptions[ot.R$.KV]})),Kt)(kt);var Xt=n(35451);const en=e=>{if(!e)return"";const t=T()(e,"subscription.display_name",!1)||e.display_name||e.name||e.external_id;if(void 0===t){if("Deprovisioned"===T()(e,"subscription.status",!1)){const t=T()(e,"subscription.id",!1);if(t)return t}return"Unnamed Cluster"}return t};var tn=n(27707);const nn=(e,t)=>{const n=(0,tn.has)(e,"total.value"),r=(0,tn.has)(t,"total.value"),a=(0,tn.has)(e,"updated_timestamp")&&new Date(e.updated_timestamp).getTime()<0,s=(0,tn.has)(t,"updated_timestamp")&&new Date(t.updated_timestamp).getTime()<0;return!(!e||!t||a||s||!n||!r)},rn="0001-01-01T00:00:00Z";var an=n(30381),sn=n.n(an),ln=n(9047);function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const dn="HEALTHY",pn="HAS_ISSUES",mn="DISCONNECTED",hn="NO_METRICS",gn="UPGRADING",bn="UNKNOWN",En="warning",fn="critical",yn="failing",vn="degraded",On="node",Cn="alert",Rn="operator",Sn={rel:"noopener noreferrer",target:"_blank"},Pn=e=>T()(e,"data.length",0)>0,wn=({data:e,criteria:t,issuesMatch:n,warningsMatch:r})=>{if(!e||0===e.length)return{issuesCount:null,warningsCount:null};let a=0,s=r?0:null;return e.forEach((e=>{e[t]===n&&(a+=1),null!==r&&e[t]===r&&(s+=1)})),{issuesCount:a,warningsCount:s}},Tn=e=>{const t=sn().utc(T()(e,"metrics.cpu.updated_timestamp",0)),n=sn().utc(),r=T()(e,"subscription.status",!1)===ee.Ij.ARCHIVED,a=T()(e,"subscription.status",!1)===ee.Ij.DISCONNECTED,s=!!ln.ZP.configData.showOldMetrics;return!r&&!a&&nn(T()(e,"metrics.cpu",null),T()(e,"metrics.memory",null))&&(s||n.diff(t,"hours")<3)},Dn=(e,t,n)=>{if(!nn(e,t))return null;const r=e.total.value,a=t.total.value;let s=0;return e&&r&&e.used.value/e.total.value>n&&(s+=1),t&&a&&t.used.value/t.total.value>n&&(s+=1),s};function _n(e,t,n){const r=(e=>{if(e&&e.url){let t=e.url;return"/"!==t.charAt(t.length-1)&&(t+="/"),t}return null})(e);let a;if(r){switch(t){case Cn:a=`${r}monitoring/alerts?orderBy=asc&sortBy=Severity&alert-name=${n}`;break;case On:a=`${r}k8s/cluster/nodes/${n}`;break;case Rn:a=`${r}k8s/cluster/config.openshift.io~v1~ClusterOperator/${n}`;break;default:return null}return cn(cn({},Sn),{},{href:a})}return null}function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ln={1:"Low",2:"Moderate",3:"Important",4:"Critical"};function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class xn extends a().Component{componentDidUpdate(e){const{getUnhealthyClusters:t,viewOptions:n}=this.props;ae(n,e.viewOptions)&&t(oe(n))}render(){const{unhealthyClusters:e,viewOptions:t}=this.props;if(e.fulfilled&&0===e.subscriptions.length)return a().createElement(ke.Card,{className:"ocm-overview-clusters__card"},a().createElement(Le.l,null,"Clusters with issues"),a().createElement(Me.e,null,a().createElement(g.ub,null,a().createElement(Oe.k,{icon:Xt.ZP,color:Se.global_success_color_100.value}),a().createElement(b.B,null,"No issues detected"))));const n=[{title:"Name"},{title:"Issues detected",transforms:[lt.textCenter],columnTransforms:[lt.textCenter]}],r=e.pending&&e.subscriptions&&e.subscriptions.length>0?Nt(t.pageSize):e.subscriptions.map((e=>(e=>{const t=a().createElement("span",null,function(e){const t=T()(e,"metrics",null);if(!t)return 0;const{cpu:n,memory:r}=t,a=T()(t,"critical_alerts_firing",0),s=T()(t,"operators_condition_failing",0);return a+(nn(n,r)&&Tn(e)?Dn(n,r,.95):0)+s}(e));return{cells:[{title:a().createElement(o.Link,{to:`/details/s/${e.id}`},en(e))},{title:t}],subscription:e}})(e))),s=e.pending?void 0:e=>function(e){const t=a().createElement("span",null,"Admin console is not yet available for this cluster"),n=t=>`${e.id}.menu.${t}`,r=e.console_url,s={component:"a",title:"Open console",href:r,target:"_blank",rel:"noopener noreferrer",key:n("adminconsole")},l=kn(kn({},{component:"button"}),{},{title:"Open console",isDisabled:!0,tooltip:t,key:n("adminconsole")});return[r?s:l]}(e.subscription);return a().createElement(ke.Card,{className:"ocm-overview-clusters__card"},a().createElement(Le.l,null,"Clusters with issues"),a().createElement(Me.e,null,a().createElement(lt.Table,{className:"clusters-with-issues","aria-label":"Clusters with issues",cells:n,rows:r,actionResolver:s,variant:lt.TableVariant.compact},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null)),a().createElement(ht,{viewType:ot.R$.TA,currentPage:t.currentPage,pageSize:t.pageSize,totalCount:t.totalCount,totalPages:t.totalPages,variant:"bottom"})))}}xn.propTypes={unhealthyClusters:l().shape({subscriptions:l().array,pending:l().bool,fulfilled:l().bool}).isRequired,viewOptions:l().shape({currentPage:l().number,pageSize:l().number,totalCount:l().number,totalPages:l().number}).isRequired,getUnhealthyClusters:l().func.isRequired};const qn=xn;var Un=n(97875),zn=n(18619);function Fn(e,t){return n=>n({type:ot.rm.f,payload:xt.BJ.editSubscription(e,t)})}var Zn=n(84904),Bn=n(41447);function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){Vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $n=()=>e=>e({type:(0,qt._X)(ot.em.HZ)}),Qn=async(e,t,n)=>{const r=await xt.le.postNewCluster(e);if(t&&"automatic"===t.upgrade_policy){const e=r.data.id;n((0,zn.TE)(e,{schedule_type:"automatic",schedule:t.automatic_upgrade_schedule}))}return $n()(n),r},Wn=(e,t)=>n=>n({type:ot.em.EO,payload:Qn(e,t,n)}),Yn=async(e,t,n)=>{const r=await xt.BJ.registerDisconnected(e);return t&&201===r.status&&n(Fn(r.data.id,t)),n($n()),r},Kn=(e,t)=>n=>n({type:ot.em.EO,payload:Yn(e,t,n)}),Jn=()=>e=>e({type:ot.em.DR}),Xn=(e,t)=>n=>n({type:ot.em.E$,payload:xt.le.editCluster(e,t)}),er=(e,t)=>n=>n({type:ot.em.E$,payload:xt.BJ.editSubscription(e,{display_name:t})}),tr=(e,t)=>({notifications:{fulfilled:{variant:"success",title:`Cluster ${e} has been ${t}d`,dismissDelay:8e3,dismissable:!1}}}),nr=(e,t)=>n=>n({type:ot.em.Ou,payload:xt.le.archiveCluster(e),meta:tr(t,"archive")}),rr=(e,t)=>n=>n({type:ot.em.Ge,payload:xt.le.unarchiveCluster(e),meta:tr(t,"unarchive")}),ar=(e,t,n)=>{const r=[];return e.forEach((e=>{let a;e.subscription.managed&&e.subscription.status!==ee.Ij.DEPROVISIONED&&null!=e&&e.cluster&&!P()(null==e?void 0:e.cluster)?(a=(0,Un.Y0)(e.cluster),a.metrics=(0,Un.a8)(e.subscription.metrics)):a=(0,Zn.ZP)(e.subscription)?(0,Un.tb)(e.subscription,e.cluster):(0,Un.My)(e.subscription),a.partialCS=a.managed&&(!(null!=e&&e.cluster)||P()(null==e?void 0:e.cluster)),a.canEdit=!a.partialCS&&(t["*"]||!!t[a.id])&&e.subscription.status!==ee.Ij.DEPROVISIONED,a.canDelete=!a.partialCS&&(n["*"]||!!n[a.id]),a.subscription=e.subscription,r.push(a)})),r},sr=(e,t)=>{let n,r,a;const s=[xt.BJ.getSubscriptions(e).then((e=>{n=(0,Un.WY)(e,Un.gI)})),xt.FR.selfResourceReview({action:"delete",resource_type:"Cluster"}).then((e=>{a=(0,qt.D)(e)})),xt.FR.selfResourceReview({action:"update",resource_type:"Cluster"}).then((e=>{r=(0,qt.D)(e)}))];return Promise.all(s).then((()=>{var s,l;const i=null===(s=n)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.items.filter((e=>t||!(0,Zn.ZP)(e)));if(!i)return n;const o=new Map;i.forEach((e=>o.set(e.cluster_id,{subscription:e})));const c=[];return t&&o.forEach(((e,t)=>{(0,Zn.ZP)(e.subscription)&&c.push(xt.X4.getAICluster(t).then((e=>{const n=o.get(t);n.cluster=null==e?void 0:e.data,o.set(t,n)})))})),Promise.allSettled(c).then((()=>{const t=i.filter((e=>e.managed&&e.status!==ee.Ij.DEPROVISIONED));if(0===t.length)return{data:{items:ar(o,r,a),page:n.data.page,total:n.data.total||0,queryParams:Hn({},e)}};const s=((e,t)=>{const n=new Set;return e.forEach((e=>{const t=e.cluster_id;t&&n.add(`'${t}'`)})),`id in (${Array.from(n).join(",")})`})(t);return xt.le.getClusters(s).then((t=>{var s;return(null==t||null===(s=t.data)||void 0===s?void 0:s.items).forEach((e=>{const t=o.get(e.id);void 0!==t&&(t.cluster=e,o.set(e.id,t))})),{data:{items:ar(o,r,a),page:n.data.page,total:n.data.total||0,queryParams:Hn({},e),meta:{clustersServiceError:!1}}}})).catch((t=>({data:{items:ar(o,r,a),page:n.data.page,total:n.data.total||0,queryParams:Hn({},e),meta:{clustersServiceError:t}}})))}))}))},lr=e=>(t,n)=>t({type:ot.em.HZ,payload:sr(e,n().features[Bn.xf])}),ir=async e=>{let t,n,r;const a=await xt.BJ.getSubscription(e);if(a.data=(0,Un.gI)(a.data),a.data.status!==ee.Ij.DEPROVISIONED&&(await xt.FR.selfAccessReview({action:"update",resource_type:"Subscription",subscription_id:e}).then((e=>{t=e.data.allowed})),await xt.FR.selfAccessReview({action:"create",resource_type:"SubscriptionRoleBinding",subscription_id:e}).then((e=>{n=e.data.allowed})),await xt.FR.selfAccessReview({action:"get",resource_type:"SubscriptionRoleBinding",subscription_id:e}).then((e=>{r=e.data.allowed}))),a.data.managed&&a.data.status!==ee.Ij.DEPROVISIONED){var s;const e=await xt.le.getClusterDetails(a.data.cluster_id);e.data=(0,Un.Y0)(e.data);const l=await xt.FR.selfAccessReview({action:"delete",resource_type:"Cluster",cluster_id:a.data.cluster_id});return e.data.canEdit=t,e.data.canEditOCMRoles=n,e.data.canViewOCMRoles=r,e.data.canDelete=!(null==l||null===(s=l.data)||void 0===s||!s.allowed),void 0!==a.data.metrics&&([e.data.metrics]=a.data.metrics),e.data.metrics=(0,Un.a8)(e.data.metrics),e.data.subscription=a.data,e}const l={};if((0,Zn.ZP)(a.data))try{const e=await xt.X4.getAICluster(a.data.cluster_id);l.data=(0,Un.tb)(a.data,(null==e?void 0:e.data)||null),l.data.aiCluster=e.data}catch(e){var i;if(404!==(null===(i=e.response)||void 0===i?void 0:i.status))throw e;console.info("Failed to query assisted-installer cluster id: ",a.data.cluster_id),l.data=(0,Un.My)(a.data)}else l.data=(0,Un.My)(a.data);return l.data.canEdit=t,l.data.canEditOCMRoles=n,l.data.canViewOCMRoles=r,l.data.canDelete=!1,l.data.subscription=a.data,l},or=e=>t=>{t({type:ot.em.gJ,payload:ir(e)})},cr=(e,t=!1)=>n=>n({type:ot.em.Hc,payload:{cluster:e,mergeDetails:t}}),ur=()=>e=>e({type:ot.em.Sp}),dr=e=>t=>t({type:ot.em.zg,payload:xt.le.getClusterStatus(e)}),pr={clearClusterResponse:Jn,createCluster:Wn,registerDisconnectedCluster:Kn,editCluster:Xn,fetchClusters:lr,fetchClusterDetails:or,setClusterDetails:cr,clearClusterDetails:()=>e=>e({type:ot.em.$I}),invalidateClusters:$n,resetCreatedClusterResponse:ur,editClusterDisplayName:er,archiveCluster:nr,unarchiveCluster:rr,getClusterStatus:dr},mr=e=>xt.BJ.getCurrentAccount().then((e=>{var t,n;return null===(t=e.data)||void 0===t||null===(n=t.organization)||void 0===n?void 0:n.id})).then((t=>t?xt.BJ.getUnhealthyClusters(t,e):Promise.reject(new Error("No logged in user")))),hr=e=>t=>t({type:ot.T_.r6,payload:mr(e)}),gr={setClusterDetails:cr,getUnhealthyClusters:hr},br=(0,i.connect)((e=>({unhealthyClusters:e.dashboards.unhealthyClusters,viewOptions:e.viewOptions[ot.R$.TA]})),gr)(qn);var Er=n(45587);const fr=n(87160),yr=({className:e})=>a().createElement("img",{className:`ocm--cost-icon ${e}`,src:fr.default,alt:"Cost Management","aria-hidden":"true"});yr.propTypes={className:l().string};const vr=yr;var Or=n(50470);const Cr=({href:e,children:t,noIcon:n,noTarget:r})=>{let s="_blank";return r&&(s=""),a().createElement("a",{href:e,target:s,rel:"noreferrer noopener"},t,!n&&a().createElement(a().Fragment,null," ",a().createElement(Or.ZP,{color:"#0066cc",size:"sm"})))};Cr.propTypes={href:l().string.isRequired,children:l().node,noIcon:l().bool,noTarget:l().bool};const Rr=Cr,Sr=()=>a().createElement(g.ub,{variant:g.IQ.large,className:"pf-m-redhat-font"},a().createElement(Oe.k,{icon:vr}),a().createElement(R.Title,{headingLevel:"h2",size:"lg"},"Track your OpenShift spending!"),a().createElement(b.B,null,"Add an OpenShift Container Platform cluster to see a total cost breakdown of your pods by cluster, node, project, or labels."),a().createElement(Ce.i,null,a().createElement(Rr,{href:"https://access.redhat.com/documentation/en-us/cost_management_service/2021/html/getting_started_with_cost_management/assembly-adding-openshift-container-platform-source"},"Add an OpenShift cluster to Cost Management")));var Pr=n(19017),wr=n(53325);function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Dr extends r.Component{constructor(...e){super(...e),Tr(this,"formatCurrency",((e=0,t="USD")=>e.toLocaleString("en",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}))),Tr(this,"formatPercentage",((e=0)=>e.toLocaleString("en",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0}))),Tr(this,"getClusters",(()=>{const{report:e}=this.props,t=e&&e.meta&&e.meta.total&&e.meta.total.cost&&e.meta.total.cost.total,n=t?e.meta.total.cost.total.value:0;return t?e&&e.data.map((e=>e.clusters.map((e=>e.values.map((e=>{const t=e.clusters&&e.clusters.length?e.clusters[0]:e.cluster,r=e.cost&&e.cost.total?e.cost.total.value:0,s=e.cost&&e.cost.total?e.cost.total.units:"USD",l=n>0?r/n:0,i=`${this.formatCurrency(r,s)} (${this.formatPercentage(l)})`;return a().createElement(a().Fragment,{key:e.cluster},a().createElement(wr.Ts,{component:wr.v$.dt},t),a().createElement(wr.Ts,{component:wr.v$.dd},i))})))))):null})),Tr(this,"getTotal",(()=>{const{report:e}=this.props,t=e&&e.meta&&e.meta.total&&e.meta.total.cost&&e.meta.total.cost.total,n=t?e.meta.total.cost.total.value:0,r=t?e.meta.total.cost.total.units:"USD";return this.formatCurrency(n,r)}))}render(){const{report:e}=this.props;return e.fulfilled?a().createElement(je.r,{hasGutter:!0},a().createElement(xe.P,{lg:5,md:12},a().createElement(R.Title,{className:"ocm--cost-total",size:"2xl",headingLevel:"h2"},this.getTotal()),a().createElement("span",{className:"ocm--cost-total__desc"},"Month-to-date cost")),a().createElement(xe.P,{lg:7,md:12},a().createElement("div",{className:"ocm--cost-clusters"},a().createElement(m.D,null,a().createElement(Pr.Gn,{component:Pr.F_.dl},a().createElement(wr.Ts,{component:wr.v$.dt,key:"top-clusters"},"Top clusters"),this.getClusters()))))):a().createElement(At.Z,{size:"md"})}}Dr.propTypes={report:l().shape({data:l().array,meta:l().object,pending:l().bool,fulfilled:l().bool}).isRequired};const _r=Dr;function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ar extends r.Component{constructor(...e){super(...e),Ir(this,"getBaseName",(()=>{let e="/";const t=window.location.pathname.split("/");return t.shift(),"beta"===t[0]&&(t.shift(),e="/beta/"),`${e}${t[0]}`})),Ir(this,"refresh",(()=>{const{getReport:e,getSources:t}=this.props;e(),t({type:"OCP"})}))}componentDidMount(){this.refresh()}render(){const{report:e,sources:t}=this.props,n=t&&t.meta&&0!==t.meta.count;return a().createElement(ke.Card,{className:"ocm--cost-card"},a().createElement(Le.l,null,a().createElement(R.Title,{size:"lg",headingLevel:"h2"},"Cost Management")),a().createElement(Me.e,{className:"ocm--cost-card__body"},!n&&t.fulfilled?a().createElement(Sr,null):a().createElement(_r,{report:e})),n&&e.fulfilled&&a().createElement(Er.e,null,a().createElement("a",{href:`${this.getBaseName()}/cost-management`},"View more in Cost management")))}}Ar.propTypes={getReport:l().func.isRequired,getSources:l().func.isRequired,report:l().shape({data:l().array,meta:l().object,pending:l().bool,fulfilled:l().bool}).isRequired,sources:l().shape({meta:l().object,pending:l().bool,fulfilled:l().bool}).isRequired};const Nr=Ar,Lr=e=>t=>t({type:ot.$k.uc,payload:xt.Ph.getReport(e)}),Mr=e=>t=>t({type:ot.$k.CL,payload:xt.Ph.getSources(e)}),kr=e=>t=>t({type:ot.$k.IV,payload:xt.Ph.getUserAccess(e)}),jr={getReport:Lr,getSources:Mr,getUserAccess:kr},xr=(0,i.connect)((e=>({report:e.cost.report,sources:e.cost.sources,userAccess:e.cost.userAccess})),jr)(Nr);var qr=n(4853),Ur=n(70044);function zr({message:e,response:t,variant:n="danger",isExpandable:r}){const s=(0,W.VJ)(t.errorDetails),l=a().createElement(a().Fragment,null,a().createElement("span",null,t.errorMessage),s,a().createElement("br",null),a().createElement("span",null,`Operation ID: ${t.operationID||"N/A"}`));return a().createElement(Ur.bZ,{variant:n,isInline:!0,title:e,className:"error-box"},r?a().createElement(V.L,{toggleText:"Error details"},l):l)}zr.propTypes={message:l().string.isRequired,response:l().shape({errorMessage:l().oneOfType([l().string,l().node,l().element]).isRequired,errorDetails:l().array,operationID:l().string}),variant:l().oneOf(["danger","warning"]),isExpandable:l().bool};const Fr=zr;class Zr extends r.Component{componentDidUpdate(){const{requestState:e,onFulfilled:t}=this.props;e.fulfilled&&t()}render(){const{requestState:e}=this.props;return e.error?a().createElement(Fr,{message:"Error updating subscription settings",response:e}):null}}Zr.propTypes={requestState:l().object.isRequired,onFulfilled:l().func.isRequired};const Br=Zr;var Gr=n(23811),Hr=n(13647),Vr=n(76004),$r=n(32752),Qr=n(14507),Wr=n(149),Yr=n(55795);function Kr(){return(Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const Jr=e=>{let{hint:t,iconClassName:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["hint","iconClassName"]);return a().createElement(a().Fragment,null,a().createElement(Wr.J2,Kr({bodyContent:t,"aria-label":"help"},r),a().createElement("span",{className:n},a().createElement(Yr.ZP,null))))};Jr.propTypes={hint:l().oneOfType([l().string,l().node,l().element]).isRequired,iconClassName:l().string};const Xr=Jr;function ea(){return(ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ta(e){const{label:t,meta:{error:n,touched:r},input:s,isSwitch:l=!1,isHelperTextBeforeField:i=!1,extendedHelpText:o}=e,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["label","meta","input","isSwitch","isHelperTextBeforeField","extendedHelpText"]),u=l?Qr.r:$r.Checkbox;return a().createElement(Gr.c,{fieldId:s.name,helperTextInvalid:r&&n?n:"",isHelperTextBeforeField:i,validated:r&&n?"error":null},a().createElement(O.P,{hasGutter:!0},a().createElement(C.J,null,a().createElement(u,ea({isChecked:!!s.value,id:s.name},s,c,{label:t}))),o&&a().createElement(C.J,null,a().createElement(Xr,{hint:o}))))}ta.propTypes={label:l().string.isRequired,input:l().object.isRequired,meta:l().object.isRequired,isSwitch:l().bool,isDisabled:l().bool,extendedHelpText:l().oneOfType([l().string,l().node]),isHelperTextBeforeField:l().bool};const na=ta;var ra=n(81490),aa=n(84475);function sa(){return(sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ia extends a().Component{constructor(...e){super(...e),la(this,"state",{value:""}),la(this,"onChange",((e,t)=>{const{input:{onChange:n}}=this.props;this.setState({value:e}),n(t,e)}))}render(){const e=this.props,{options:t,label:n,helpText:r,meta:{error:s,touched:l},input:i,disabled:o,isFormGroup:c}=e,u=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["options","label","helpText","meta","input","disabled","isFormGroup"]),{value:d}=this.state,p=a().createElement(ra.FormSelect,sa({id:i.name,name:i.name,value:d},i,{onChange:this.onChange,isDisabled:o},u),t.map((e=>a().createElement(aa.FormSelectOption,{key:e.value,value:e.value,label:e.name}))));return c?a().createElement(Gr.c,{fieldId:i.name,label:n,validated:l&&s?"error":null,helperText:r,helperTextInvalid:l&&s?`${r} ${s}`:""},p):p}}ia.propTypes={options:l().arrayOf(l().shape({name:l().string.isRequired,value:l().string.isRequired})).isRequired,input:l().shape({onChange:l().func.isRequired,name:l().string.isRequired}).isRequired,label:l().string,helpText:l().string,meta:l().shape({error:l().oneOfType([l().string,l().bool]),touched:l().bool}).isRequired,disabled:l().bool,isFormGroup:l().bool},ia.defaultProps={isFormGroup:!0};const oa=ia;var ca=n(12282),ua=n(85806),da=n(43861),pa=n(20121),ma=n(70823),ha=n(79716);function ga(){return(ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class ba extends a().Component{constructor(...e){var t,n;super(...e),n={inputValueHidden:!0},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){const e=this.props,{label:t,helpText:n,extendedHelpText:r,isRequired:s,meta:{error:l,touched:i},input:o,disabled:c,isTextArea:u,showHelpTextOnError:d,inputPrefix:m,formGroupClass:h,isPassword:g=!1,hasOtherValidation:b=!1}=e,E=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["label","helpText","extendedHelpText","isRequired","meta","input","disabled","isTextArea","showHelpTextOnError","inputPrefix","formGroupClass","isPassword","hasOtherValidation"]),{inputValueHidden:f}=this.state,y=u?ua.TextArea:ca.TextInput,v={[u?"disabled":"isDisabled"]:c},O=!!b||!(i&&l);return a().createElement(Gr.c,{fieldId:o.name,validated:O?"default":"error",label:t,helperText:n,helperTextInvalid:i&&l&&"string"==typeof l?d?`${n} ${l}`:l:g?n:"",isRequired:s,labelIcon:r&&a().createElement(Xr,{hint:r}),className:h},a().createElement(da.InputGroup,{className:O&&"valid-field"},m?a().createElement(pa.InputGroupText,null,m):null,a().createElement(y,ga({value:o.value,isRequired:s,id:o.name,name:o.name,validated:O?"default":"error"},v,o,E,{type:g&&f?"password":E.type})),g&&a().createElement(p.Button,{"aria-label":f?"show-password":"hide-password",variant:"control",onClick:()=>this.setState((e=>({inputValueHidden:!e.inputValueHidden})))},f?a().createElement(ha.ZP,null):a().createElement(ma.ZP,null))))}}ba.defaultProps={helpText:"",isRequired:!1,showHelpTextOnError:!0,inputPrefix:""},ba.propTypes={label:l().string,helpText:l().string,extendedHelpText:l().oneOfType([l().string,l().node]),disabled:l().bool,input:l().object.isRequired,meta:l().object.isRequired,isRequired:l().bool,isTextArea:l().bool,isPassword:l().bool,hasOtherValidation:l().bool,showHelpTextOnError:l().bool,inputPrefix:l().string,formGroupClass:l().string};const Ea=ba;var fa=n(9568);function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class va extends a().Component{constructor(...e){super(...e),ya(this,"state",{value:null}),ya(this,"handleChange",((e,t)=>{const{value:n}=t.currentTarget;this.setState({value:n});const{name:r,onChange:a}=this.props;a(r,n)}))}render(){const e=this.props,{name:t,items:n,onChange:r,isDisabled:s=!1}=e,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["name","items","onChange","isDisabled"]),{value:i}=this.state;return a().createElement(Gr.c,l,n.map((e=>a().createElement(fa.Radio,{isChecked:null===i?!0===e.isChecked:i===e.value,onChange:this.handleChange,value:e.value,label:e.label,isDisabled:s,name:`${t}:${e.value}`,id:`${t}:${e.value}`,key:`${t}:${e.value}`}))))}}va.propTypes={name:l().oneOfType([l().string,l().node,l().element]).isRequired,items:l().arrayOf(l().shape({label:l().oneOfType([l().string,l().node,l().element]).isRequired,value:l().string.isRequired,isChecked:l().bool})).isRequired,isDisabled:l().bool,onChange:l().func.isRequired};const Oa=va;var Ca=n(13382),Ra=n(20777),Sa=n(70710),Pa=n(94174),wa=n.n(Pa),Ta=n(60514),Da=n.n(Ta),_a=n(40660);const Ia=/^[a-z]([-a-z0-9]*[a-z0-9])?$/,Aa=/^([a-z]([-a-z0-9]*[a-z0-9])?\.)+[a-z]([-a-z0-9]*[a-z0-9])?$/,Na=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,La=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/(3[0-2]|[1-2][0-9]|[1-9]))$/,Ma=/^\/?(3[0-2]|[1-2][0-9]|[0-9])$/,ka=/^https?:\/\/(([0-9]{1,3}\.){3}[0-9]{1,3}|([a-z0-9-]+\.)+[a-z]{2,})(:[0-9]+)?([a-z0-9_/-]+)?$/i,ja=/^arn:aws:iam::\d{12}:(user|group)\/\S+/,xa=/^\d{12}$/,qa=/^[a-z0-9.+-]+@[\w.-]+\.[a-z]{2,4}$/,Ua=/^arn:aws:kms:[\w-]+:\d{12}:key\/[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/,za=/^([A-Za-z0-9][-A-Za-z0-9_./]*)?[A-Za-z0-9]$/,Fa=/^(([A-Za-z09][-A-Za-z0-9_.]*)?[A-Za-z0-9])?$/,Za=e=>e&&e.trim()?void 0:"Field is required",Ba=e=>e&&!0===e?void 0:"Field must be selected",Ga=e=>e?/\s/.test(e)?"Name must not contain whitespaces.":/[^A-Za-z0-9_-]/.test(e)?"Name should contain only alphanumeric and dashes":void 0:"Name is required.",Ha=e=>{if(!e)return"Issuer URL is required.";if(!e.startsWith("https://"))return"Invalid URL. Issuer must use https scheme without a query string (?) or fragment (#)";let t;try{t=new URL(e)}catch(e){return"Invalid URL"}return""!==t.hash||""!==t.search||t.href.includes("#")?"The URL must not include a query string (?) or fragment (#)":void 0},Va=(e,t,n)=>e?Ia.test(e)?e.length>n?`${t} names may not exceed ${n} characters.`:void 0:`${t} name '${e}' isn't valid, must consist of lower-case alphanumeric characters or '-', start with an alphabetic character, and end with an alphanumeric character. For example, 'my-name', or 'abc-123'.`:`${t} name is required.`,$a=e=>Va(e,"Machine pool",30),Qa=e=>{if(!e)return;const t=e.split(",");for(let e=0;e<t.length;e+=1){const n=t[e].split("/");if(2!==n.length)return"Each team must be of format 'org/team'.";if(!n[0]||!n[1])return"Each team must be of format 'org/team'.";if(/\s/.test(n[0]))return"Organization must not contain whitespaces.";if(/\s/.test(n[1]))return"Team must not contain whitespaces."}},Wa=e=>{if(e)return(e=>{const t=e.split(",");let n;if(t.length&&t.some((e=>{const t=e.split("="),r=t[1],a=t[0].split("/"),s=a.length>1,l=s?a[1]:a[0],i=s?a[0]:void 0;if(r&&r.length>63)return n="Length of label value must be less or equal to 63",!0;if(s){if(!Aa.test(i))return n="Prefix must be a DNS subdomain: a series of DNS labels separated by dots (.)",!0;if(i>253)return n="Length of key prefix must be less or equal to 253",!0}return l&&l.length>63?(n="Length of label key name must be less or equal to 63",!0):l&&/^([0-9a-z]+([-_][0-9a-z]+)*$)/i.test(l)?!(r&&/^([0-9a-z]+([-_][0-9a-z]+)*$)/i.test(r)||(n="A qualified value must consist of alphanumeric characters, '-' or '_' and must start and end with an alphanumeric character.",0)):(n="A qualified key must consist of alphanumeric characters, '-' or '_' and must start and end with an alphanumeric character.",!0)})))return n})(e)},Ya=e=>e?Na.test(e)?void 0:`Cluster ID '${e}' is not a valid UUID.`:"Cluster ID is required.",Ka=e=>{if(e)return e.length>63?"Cluster display name may not exceed 63 characters.":void 0},Ja=e=>{const t=(e=>e?e.trim()!==e?"cannot contain leading and trailing spaces":e.includes("/")?"cannot contain '/'.":e.includes(":")?"cannot contain ':'.":e.includes("%")?"cannot contain '%'.":"~"===e?"cannot be '~'.":"."===e?"cannot be '.'.":".."===e?"cannot be '..'.":"cluster-admin"===e?"cannot be 'cluster-admin'.":void 0:"cannot be empty.")(e);return t?`User ID ${t}`:void 0},Xa=/^[^"$<> ^|%\\(),=;~:/*\r\n]*$/,es=e=>Xa.test(e)?void 0:"Username includes illegal symbols",ts=(e,t)=>{if(!e)return t?"Cluster console URL should not be empty":void 0;let n;try{n=new URL(e)}catch(t){return e.startsWith("http://")||e.startsWith("https://")?"Invalid URL":"The URL should include the scheme prefix (http://, https://)"}return ka.test(e)?void 0:"http:"!==n.protocol&&"https:"!==n.protocol?"The URL should include the scheme prefix (http://, https://)":""!==n.hash||""!==n.search?"The URL must not include a query string (?) or fragment (#)":"Invalid URL"},ns=e=>{if(e&&!La.test(e))return`IP address range '${e}' isn't valid CIDR notation. It must follow the RFC-4632 format: '192.168.0.0/16'.`},rs=e=>{if(e)return parseInt(e.split("/").pop(),10)},as=(e,t,n=180)=>void 0===e||e<t.value?t.validationMsg||`The minimum number of nodes is ${t.value}.`:e>n?`Maximum number allowed is ${n}.`:Number.isNaN(parseInt(e,10))||Math.floor(e)!=e?`'${e}' is not a valid number of nodes.`:void 0,ss=(e,{allowDecimal:t=!1,allowNeg:n=!1,allowZero:r=!1,max:a=NaN,min:s=NaN}={})=>{if(!e)return;const l=Number(e);return Number.isNaN(l)?"Input must be a number.":!Number.isNaN(s)&&l<s?`Input cannot be less than ${s}.`:!n&&!r&&l<=0?"Input must be a positive number.":!n&&r&&l<0?"Input must be a non-negative number.":!t&&e.toString().includes(".")?"Input must be an integer.":!Number.isNaN(a)&&l>a?`Input cannot be more than ${a}.`:void 0},ls=e=>ts(e,!1),is=e=>t=>{if(!t)return;let n=0;return t.forEach((t=>{const r=T()(t,e,null);r&&""!==r.trim()&&(n+=1)})),0===n?"At least one is required.":void 0},os=e=>e?xa.test(e)?void 0:"AWS account ID must be a 12 digits positive number.":"AWS account ID is required.",cs=e=>{try{return t=JSON.parse(e),void(new _a.Validator).validate(t,{id:"/osdServiceAccount",type:"object",properties:{type:{const:"service_account"},project_id:{type:"string"},private_key_id:{type:"string"},private_key:{type:"string",pattern:"^-----BEGIN PRIVATE KEY-----\n(.|\n)*\n-----END PRIVATE KEY-----\n$"},client_email:{type:"string",format:"email"},client_id:{type:"string"},auth_uri:{const:"https://accounts.google.com/o/oauth2/auth"},token_uri:{type:"string",format:"uri"},auth_provider_x509_cert_url:{const:"https://www.googleapis.com/oauth2/v1/certs"},client_x509_cert_url:{type:"string",format:"uri"}},required:["type","project_id","private_key_id","private_key","client_email","client_id","auth_uri","token_uri","auth_provider_x509_cert_url","client_x509_cert_url"]},{throwError:!0})}catch(e){if(e instanceof SyntaxError)return"Invalid JSON format.";if(e instanceof _a.ValidationError){let t;if(e.property.startsWith("instance.")){const n=e.property.replace("instance.","");t=-1!==e.message.indexOf("does not match pattern")?`The field '${n}' is not in the required format`:`The field '${n}' ${e.message}`}else t=e.message;return`The provided JSON does not meet the requirements: ${t}`}return}var t},us=(e,t,n,r)=>{if(Object.keys(t).filter((e=>e.startsWith("az_")&&e!==r)).map((e=>t[e])).includes(e))return"Each subnet should be in a different AZ."},ds=e=>e?/\s/.test(e)?"Name must not contain whitespaces.":/[^a-z0-9-]/.test(e)?"Name should contain only lowercase letters, numbers and hyphens.":e.length>63?"Name may not exceed 63 characters.":void 0:"Field is required.",ps=e=>e?/\s/.test(e)?"Field must not contain whitespaces.":/[^a-zA-Z0-9-_]/.test(e)?"Field should contain only letters, numbers , underscores (_) and hyphens (-).":void 0:"Field is required.",ms=e=>e?/\s/.test(e)?"Field must not contain whitespaces.":qa.test(e)?void 0:'Field start with lowercase letter and can only contain hyphens (-), at (@) and dot (.).For e.g. "myserviceaccount@myproj.iam.gserviceaccount.com" or "<projectnumericid>-compute@developer.gserviceaccount.com".':"Field is required.",hs=e=>e?/\s/.test(e)?"Value must not contain whitespaces.":Ua.test(e)?void 0:'Key provided is not a valid ARN. It should be in the format "arn:aws:kms:<region>:<accountid>:key/<keyid>".':"Field is required.",gs=e=>{const t={emptyPassword:!1,baseRequirements:!1,uppercase:!1,lowercase:!1,numbersOrSymbols:!1};return e&&e.trim()?((0!==(e.match(/[^\x20-\x7E]/g)||[]).length||-1!==e.indexOf(" ")||e.length<14)&&(t.baseRequirements=!0),0===(e.match(/[A-Z]/g)||[]).length&&(t.uppercase=!0),0===(e.match(/[a-z]/g)||[]).length&&(t.lowercase=!0),/^[a-zA-Z ]+$/.test(e)&&(t.numbersOrSymbols=!0),Object.values(t).every((e=>!1===e))?void 0:t):(t.emptyPassword=!0,t)},bs=e=>{if(-1!==(0,tn.indexOf)(e,"%")||-1!==(0,tn.indexOf)(e,":")||-1!==(0,tn.indexOf)(e,"/"))return"Username contains disallowed characters."},Es=e=>{if(!za.test(e))return"A valid label key must consist of alphanumeric characters, '-', '_', '/' or '.', and must start and end with an alphanumeric character."},fs=e=>{if(!Fa.test(e))return"A valid label value must be an empty string or consist of alphanumeric characters, '-', '_' or '.', and must start and end with an alphanumeric character."},ys={required:Za,checkIdentityProviderName:Ga,checkClusterName:e=>Va(e,"Cluster",15),checkClusterUUID:Ya,checkClusterDisplayName:Ka,checkUserID:Ja,validateRHITUsername:es,checkBaseDNSDomain:e=>e?Aa.test(e)?void 0:`Base DNS domain '${e}' isn't valid, must contain at least two valid lower-case DNS labels separated by dots, for example 'mydomain.com'.`:"Base DNS domain is required.",cidr:ns,awsMachineCidr:(e,t)=>{if(!e)return;const n="true"===t.multi_az,r=rs(e);return r<16?"The subnet mask can't be lower than '/16'.":n&&r>24?"The subnet mask can't be higher than '/24'.":!n&&r>25?"The subnet mask can't be higher than '/25'.":void 0},gcpMachineCidr:(e,t)=>{if(!e)return;const n="true"===t.multi_az,r=rs(e);return n&&r>23?"The subnet mask can't be higher than '/23', which provides up to 69 nodes.":!n&&r>23?"The subnet mask can't be higher than '/23', which provides up to 23 nodes.":void 0},serviceCidr:e=>{if(e)return rs(e)>24?"The subnet mask can't be higher than '/24', which provides up to 254 services.":void 0},podCidr:(e,t)=>{if(!e)return;const n=rs(e);if(n>21)return"The subnet mask can't be higher than /21.";const r=2**(32-(rs(t.network_host_prefix)||23));return Math.floor(2**(32-n)/r)<32?`The subnet mask of /${n} does not allow for enough nodes. Try changing the host prefix or the pod subnet range.`:void 0},disjointSubnets:e=>(t,n)=>{if(!t)return;const r={network_machine_cidr:"Machine CIDR",network_service_cidr:"Service CIDR",network_pod_cidr:"Pod CIDR"};delete r[e];const a=[];try{Object.keys(r).forEach((e=>{const s=T()(n,e,null);s&&Da().overlap(t,s)&&a.push(r[e])}))}catch(e){return`Failed to parse CIDR: ${e}`}const s=a.length>1;return a.length>0?`This subnet overlaps with the subnet${s?"s":""} in the ${a.join(", ")} field${s?"s":""}.`:void 0},validateRange:e=>{if(void 0!==ns(e)||!e)return;const t=e.split("/"),n=t[0].split(".").map((e=>Number(e).toString(2).padEnd(8,"0"))).join(""),r=parseInt(t[1],10);return n.slice(0,r).padEnd(32,"0")!==n?"This is not a subnet address. The subnet prefix is inconsistent with the subnet mask.":void 0},privateAddress:e=>{if(void 0!==ns(e)||!e)return;const t=e.split("/"),n=t[0].split(".").map((e=>parseInt(e,10))),r=parseInt(t[1],10);return 10===n[0]&&r>=8||172===n[0]&&wa()(n[1],16,32)&&r>=12||192===n[0]&&168===n[1]&&r>=16?void 0:"Range is not private."},awsSubnetMask:e=>t=>{if(void 0!==ns(t)||!t)return;const n={network_machine_cidr_single_az:[16,25],network_machine_cidr_multi_az:[16,24],network_service_cidr:[void 0,24]}[e],r=t.split("/"),a=parseInt(r[1],10);return n[0]?n[0]<=a&&a<=n[1]?void 0:`Subnet mask must be between /${n[0]} and /${n[1]}.`:a>n[1]||a<1?`Subnet mask must be between /1 and /${n[1]}.`:void 0},disjointFromDockerRange:e=>{if(e)try{return Da().overlap(e,"172.17.0.0/16")?"Selected range must not overlap with 172.17.0.0/16.":void 0}catch(e){return`Failed to parse CIDR: ${e}`}},hostPrefix:e=>{if(!e)return;if(!Ma.test(e))return`The value '${e}' isn't a valid subnet mask. It must follow the RFC-4632 format: '/16'.`;const t=rs(e);return t<23?"The subnet mask can't be lower than '/23', which provides up to 510 Pod IP addresses.":t>26?"The subnet mask can't be higher than '/26', which provides up to 62 Pod IP addresses.":void 0},nodes:as,nodesMultiAz:e=>{if(e%3>0)return"Number of nodes must be multiple of 3 for Multi AZ cluster."},validateNumericInput:ss,validateLabelKey:Es,validateLabelValue:fs,checkOpenIDIssuer:Ha,checkGithubTeams:Qa,checkRouteSelectors:Wa,checkDisconnectedConsoleURL:ls,checkDisconnectedvCPU:e=>ss(e,{max:16e3}),checkDisconnectedSockets:e=>ss(e,{max:2e3}),checkDisconnectedMemCapacity:e=>ss(e,{allowDecimal:!0,max:256e3}),checkDisconnectedNodeCount:e=>{if(""!==e)return Number.isNaN(Number(e))?"Input must be a number.":as(Number(e),{value:0},250)},AWS_MACHINE_CIDR_MIN:16,AWS_MACHINE_CIDR_MAX_SINGLE_AZ:25,AWS_MACHINE_CIDR_MAX_MULTI_AZ:24,GCP_MACHINE_CIDR_MAX:23,SERVICE_CIDR_MAX:24,POD_NODES_MIN:32,HOST_PREFIX_MIN:23,HOST_PREFIX_MAX:26};function vs(){return(vs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const Os=({input:e,meta:{touched:t,error:n}})=>a().createElement(a().Fragment,null,a().createElement(ca.TextInput,vs({"aria-label":"Key-value list key",validated:t&&n?"error":"default"},e)),t&&n&&a().createElement("span",{className:"pf-c-form__helper-text pf-m-error"},n));Os.propTypes={input:l().object.isRequired,meta:l().shape({error:l().string,touched:l().bool})};const Cs=({input:e,meta:{touched:t,error:n}})=>a().createElement(a().Fragment,null,a().createElement(ca.TextInput,vs({"aria-label":"Key-value list value",validated:t&&n?"error":"default"},e)),t&&n&&a().createElement("span",{className:"pf-c-form__helper-text pf-m-error"},n));Cs.propTypes={input:l().object.isRequired,meta:l().shape({error:l().string,touched:l().bool})};const Rs=({fields:e,meta:{error:t,submitFailed:n}})=>a().createElement(je.r,{hasGutter:!0},a().createElement(xe.P,{span:4,className:"pf-c-form__label pf-c-form__label-text"},"Key"),a().createElement(xe.P,{span:4,className:"pf-c-form__label pf-c-form__label-text"},"Value"),a().createElement(xe.P,{span:4}),e.map(((t,n)=>{const r=0===n&&1===e.length;return a().createElement(a().Fragment,{key:`${e.get(n).id}`},a().createElement(xe.P,{span:4},a().createElement(Ca.Z,{name:`${t}.key`,type:"text",component:Os,index:n,validate:Es})),a().createElement(xe.P,{span:4},a().createElement(Ca.Z,{name:`${t}.value`,type:"text",component:Cs,index:n,validate:fs})),a().createElement(xe.P,{span:4},a().createElement(p.Button,{onClick:()=>e.remove(n),icon:a().createElement(Sa.ZP,null),variant:"link",isDisabled:r,className:r?"reduxFormKeyValueList-removeBtn-disabled":"reduxFormKeyValueList-removeBtn"})))})),a().createElement(xe.P,{span:12},a().createElement(p.Button,{onClick:()=>e.push({id:M()}),icon:a().createElement(Ra.ZP,null),variant:"link",isInline:!0,className:"reduxFormKeyValueList-addBtn"},"Add label"),n&&t&&a().createElement("span",null,t)));Rs.propTypes={fields:l().array.isRequired,meta:l().shape({error:l().string,submitFailed:l().bool})};const Ss=Rs,Ps=({fields:e,meta:{error:t,submitFailed:n},isEditing:r=!1})=>a().createElement(je.r,{hasGutter:!0},a().createElement(xe.P,{span:3,className:"pf-c-form__label pf-c-form__label-text"},"Key"),a().createElement(xe.P,{span:3,className:"pf-c-form__label pf-c-form__label-text"},"Value"),a().createElement(xe.P,{span:3,className:"pf-c-form__label pf-c-form__label-text"},"Effect"),a().createElement(xe.P,{span:3}),e.map(((t,n)=>{const s=!r&&0===n&&1===e.length;return a().createElement(a().Fragment,{key:`${e.get(n).id}`},a().createElement(xe.P,{span:3},a().createElement(Ca.Z,{name:`${t}.key`,component:Ea,index:n,"aria-label":"Key-value list key",isRequired:!0})),a().createElement(xe.P,{span:3},a().createElement(Ca.Z,{name:`${t}.value`,component:Ea,index:n,"aria-label":"Key-value list value",isRequired:!0})),a().createElement(xe.P,{span:3},a().createElement(Ca.Z,{name:`${t}.effect`,component:oa,options:[{name:"NoSchedule",value:"NoSchedule"},{name:"NoExecute",value:"NoExecute"},{name:"PreferNoSchedule",value:"PreferNoSchedule"}],isFormGroup:!1})),a().createElement(xe.P,{span:3},a().createElement(p.Button,{onClick:()=>e.remove(n),icon:a().createElement(Sa.ZP,null),variant:"link",isDisabled:s,className:s?"reduxFormKeyValueList-removeBtn-disabled":"reduxFormKeyValueList-removeBtn"})))})),a().createElement(xe.P,{span:12},a().createElement(p.Button,{onClick:()=>e.push({id:M(),effect:"NoSchedule"}),icon:a().createElement(Ra.ZP,null),variant:"link",isInline:!0,className:"reduxFormKeyValueList-addBtn pf-u-mb-lg"},"Add taint"),n&&t&&a().createElement("span",null,t)));Ps.propTypes={fields:l().array.isRequired,isEditing:l().bool,meta:l().shape({error:l().string,submitFailed:l().bool})};const ws=Ps;var Ts=n(33606),Ds=n(24149),_s=n.n(Ds);function Is(){return(Is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class As extends r.Component{constructor(...e){var t,n;super(...e),n=e=>{const{input:t}=this.props;t.onChange(e)},(t="handleLabelsChange")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){const{input:e,meta:{error:t,dirty:n},tags:r,inputPlaceholder:s="Add a tag"}=this.props;return a().createElement(a().Fragment,null,a().createElement(_s(),Is({value:r,onChange:this.handleLabelsChange,renderTag:({tag:e,key:t,onRemove:n,getTagDisplayValue:r})=>a().createElement("span",{className:"pf-c-label pf-m-blue",key:t},a().createElement("span",{className:"pf-c-label__content"},r(e)),"",a().createElement(p.Button,{variant:"plain","aria-label":"remove-label",onClick:()=>n(t)},a().createElement(Ts.ZP,null))),inputProps:{placeholder:s}},e)),n&&t&&a().createElement("div",{className:"pf-c-form__helper-text pf-m-error"},t))}}As.propTypes={input:l().object.isRequired,meta:l().shape({error:l().string,dirty:l().bool}),tags:l().array,inputPlaceholder:l().string};const Ns=As;function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){ks(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{SUPPORT_LEVEL:js,USAGE:xs,SERVICE_LEVEL:qs,PRODUCT_BUNDLE:Us,SYSTEM_UNITS:zs,CLUSTER_BILLING_MODEL:Fs,CPU_TOTAL:Zs,SOCKET_TOTAL:Bs}=ee.$S,{EVAL:Gs,PREMIUM:Hs,STANDARD:Vs,SELF_SUPPORT:$s,NONE:Qs}=ee.ig,{L1_L3:Ws,L3_ONLY:Ys}=ee.Ck,{PRODUCTION:Ks,DEV_TEST:Js,DISASTER_RECOVERY:Xs}=ee.ik,{OPENSHIFT:el,JBOSS_MIDDLEWARE:tl,IBM_CLOUDPAK:nl}=ee.o_,{CORES_VCPU:rl,SOCKETS:al}=ee.fl,{STANDARD:sl,MARKETPLACE:ll}=ee.F6,{DISCONNECTED:il}=ee.Ij,ol="Annual: Fixed capacity subscription from Red Hat",cl="On-demand (Hourly): Flexible usage billed through the Red Hat Marketplace";class ul extends r.Component{constructor(...e){super(...e),ks(this,"state",{}),ks(this,"options",{[js]:[],[qs]:[],[xs]:[],[zs]:[],[Fs]:[]}),ks(this,"doInit",(e=>{const t=this.resetOptions(e);this.isDisconnected(e)&&(t[Zs]=(0,tn.get)(e,Zs,1),t[Bs]=(0,tn.get)(e,Bs,1)),this.setState(t,(()=>{const{[Fs]:e}=this.state;e===ll?this.handleChange(Fs,ll):this.publishChange()}))})),ks(this,"resetOptions",(e=>{const t={};return[js,xs,qs,zs,Fs].forEach((n=>{const r=this.getOptions(e,n);this.options[n]=r;const a=(0,tn.findIndex)(r,"isChecked");a>=0&&(t[n]=r[a].value)})),t})),ks(this,"getOptions",((e,t)=>{const n=(0,tn.get)(e,t),{canSubscribeStandardOCP:r,canSubscribeMarketplaceOCP:s}=this.props;let l=[];switch(t){case js:l=[{label:"Premium",value:Hs},{label:"Standard",value:Vs},{label:"Self-Support",value:$s}],n!==Gs&&e.id?n===Qs&&l.push({label:a().createElement("span",{className:"subscription-settings expired-eval-option"},"Expired evaluation"),value:Qs}):l.push({label:"Self-Support 60-day evaluation",value:Gs});break;case xs:l=[{label:"Production",value:Ks,isDefault:!0},{label:"Development/Test",value:Js},{label:"Disaster Recovery",value:Xs}];break;case qs:l=[{label:"Red Hat support (L1-L3)",value:Ws,isDefault:!0},{label:"Partner support (L3)",value:Ys}];break;case Us:l=[{label:"OpenShift",value:el,isDefault:!0},{label:"JBoss Middleware",value:tl},{label:"IBM CloudPak",value:nl}];break;case zs:l=[{label:"Cores/vCPUs",value:rl,isDefault:!0},{label:"Sockets",value:al}];break;case Fs:l=[{label:ol,value:sl},{label:cl,value:ll}],r?l[0].isDefault=!0:s?l[1].isDefault=!0:l[0].isDefault=!0}const i=(0,tn.findIndex)(l,{value:n});if(i>=0)l[i].isChecked=!0;else{const e=(0,tn.findIndex)(l,"isDefault");e>=0&&(l[e].isChecked=!0)}return l})),ks(this,"validateSystemUnitsNumericField",((e=null)=>{const{[zs]:t,[Zs]:n,[Bs]:r}=this.state,a=e||(t===al?r:n);if(!/^\d+$/.test(`${a}`))return{isValid:!1,errorMsg:`${t} value can only be a positive integer number.`};const s=+a;return s<1?{isValid:!1,errorMsg:`${t} value must be an integer number greater than 0.`}:s>999?{isValid:!1,errorMsg:`${t} value must be an integer number no larger than 999.`}:{isValid:!0,errorMsg:""}})),ks(this,"publishChange",(()=>{let e=!0;const{initialSettings:t}=this.props,{[js]:n}=this.state;n!==Hs&&n!==Vs&&n!==$s&&(e=!1),e&&this.isDisconnected(t)&&(e=this.validateSystemUnitsNumericField().isValid);const{onSettingsChange:r}=this.props;r(Ms(Ms({},this.state),{},{isValid:e}))})),ks(this,"handleChange",((e,t)=>{if(e===Fs&&t===ll){const{initialSettings:e}=this.props,t=Ms(Ms({},e),{},{[js]:Hs,[qs]:Ws,[xs]:Ks,[zs]:rl,[Fs]:ll});this.setState(this.resetOptions(t),this.publishChange)}else this.setState({[e]:t},this.publishChange)})),ks(this,"handleUnitsNumberChange",(e=>{const{name:t,value:n}=e.target,r=Number(n),{isValid:a}=this.validateSystemUnitsNumericField(r);a?this.handleChange(t,parseInt(r,10)):this.handleChange(t,n)})),ks(this,"handleUnitsNumberDelta",(e=>(t,n)=>{const{[n]:r}=this.state,{isValid:a}=this.validateSystemUnitsNumericField(r);a?this.handleChange(n,parseInt(r+e,10)):this.handleChange(n,1)})),ks(this,"isDisconnected",(e=>(0,tn.get)(e,"status")===il||!(0,tn.get)(e,"id",!1)))}componentDidMount(){const{initialSettings:e}=this.props;this.doInit(e)}UNSAFE_componentWillReceiveProps(e){const{initialSettings:t}=e,{initialSettings:n}=this.props;n===t||(0,tn.isEqual)(n,t)||this.doInit(t)}render(){const{initialSettings:e,canSubscribeStandardOCP:t,canSubscribeMarketplaceOCP:n}=this.props,{[Fs]:r,[js]:s,[zs]:l}=this.state,i=!t&&!n,o=s!==Hs&&s!==Vs&&s!==$s,c=r===ll,u=(0,tn.get)(e,Fs),d=t&&n&&u!==sl&&u!==ll;let p="Your subscription type can't be altered after you set it.";d||(p=u===sl?`Cluster subscription type is ${ol}`:u===ll||n?`Cluster subscription type is ${cl}`:this.isDisconnected(e)?`Disconnected clusters subscription type is ${ol}`:`Cluster subscription type is ${ol}`);const g=a().createElement(Ur.bZ,{id:"subscription-settings-cluster-billing-model-alert",variant:"info",isInline:!0,title:p},a().createElement("a",{href:"https://access.redhat.com/documentation/en-us/openshift_cluster_manager/2021/html/managing_clusters/assembly-cluster-subscriptions",target:"_blank",rel:"noreferrer noopener"},"Learn more about subscriptions"," ",a().createElement(Or.ZP,{color:"#0066cc",size:"sm"}))),b=["subscription-settings","radio-group"],E=b.join(" ");let f=null;if(c){const e=`.${b.join(".")} .pf-c-form__group-control`,t=d?1:0,n=[0,1,2,3].map((n=>a().createElement(Vr.Tooltip,{key:n,content:a().createElement("div",null,"Red Hat Marketplace subscription settings are pre-set and cannot be altered."),position:"right",reference:()=>{const r=document.querySelectorAll(e),a=t+n;return a<r.length?r[a]:(console.error(`Edit Subscription tooltip: error selecting ${e} (${a})`),null)}})));f=a().createElement(a().Fragment,null,n)}const y=this.isDisconnected(e);let v=!0,O="";if(y){const e=this.validateSystemUnitsNumericField();v=e.isValid,O=e.errorMsg}const C=y?(0,tn.get)(this.state,Zs,0):(0,tn.get)(e,Zs,0),R=y?(0,tn.get)(this.state,Bs,0):(0,tn.get)(e,Bs,0),S="subscription-settings-label-tooltip-icon",P=a().createElement(a().Fragment,null,a().createElement("span",null,"Service level agreement (SLA)"),a().createElement(Xr,{id:"subscripiton-settings-support-level-hint",headerContent:"Service level agreement (SLA)",hint:a().createElement(m.D,null,a().createElement(h.xv,{component:h.qO.p},"How your subscription is supported, including the hours of support coverage and support ticket response times."),a().createElement(h.xv,{component:h.qO.p},a().createElement(Rr,{href:"https://access.redhat.com/support/"},"Production Support Terms of Service"))),iconClassName:S,hasAutoWidth:!0,maxWidth:"30.0rem"})),w=a().createElement(a().Fragment,null,a().createElement("span",null,"Support type"),a().createElement(Xr,{id:"subscripiton-settings-service-level-hit",headerContent:"Support type",hint:a().createElement(m.D,null,a().createElement(h.xv,{component:h.qO.p},"Who you can call for primary support.")),iconClassName:S})),T=a().createElement(a().Fragment,null,a().createElement("span",null,"Cluster usage"),a().createElement(Xr,{id:"subscripiton-settings-usage-hint",headerContent:"Cluster usage",hint:a().createElement(m.D,null,a().createElement(h.xv,{component:h.qO.p},"How you are using this cluster.")),iconClassName:S})),D=a().createElement(a().Fragment,null,a().createElement("span",null,"Subscription units"),a().createElement(Xr,{id:"subscripiton-settings-system-units-hint",headerContent:"Subscription units",hint:a().createElement(m.D,null,a().createElement(h.xv,{component:h.qO.p},"How usage is measured for your subscription.")),iconClassName:S})),_=l===al?R:C,I=y?a().createElement(Hr.Y,{value:_,min:1,max:999,inputName:l===al?Bs:Zs,isDisabled:i||c||o,onMinus:this.handleUnitsNumberDelta(-1),onPlus:this.handleUnitsNumberDelta(1),onChange:this.handleUnitsNumberChange,inputAriaLabel:l===al?"Number of sockets":"Number of compute cores (excluding control plane nodes)",minusBtnAriaLabel:"decrement the number by 1",plusBtnAriaLabel:"increment the number by 1",widthChars:999..toString().length}):a().createElement(a().Fragment,null,a().createElement("span",{id:"cpu-socket-value"},`${_} ${l===al?"Sockets":"Cores/vCPU"}`),a().createElement(Xr,{id:"cpu-socket-value-hint",hint:"This data is gathered directly from the telemetry metrics submitted by the cluster and cannot be changed.",iconClassName:S,hasAutoWidth:!0,maxWidth:"30.0rem"}));return a().createElement(a().Fragment,null,d&&a().createElement(Oa,{name:Fs,fieldId:Fs,isRequired:!0,label:"Subscription type",className:E,items:this.options[Fs],onChange:this.handleChange}),!i&&g,a().createElement(Oa,{name:js,fieldId:js,label:P,className:E,items:this.options[js],onChange:this.handleChange,isDisabled:i||c}),a().createElement(Oa,{name:qs,fieldId:qs,label:w,className:E,items:this.options[qs],onChange:this.handleChange,isDisabled:i||c||o}),a().createElement(Oa,{name:xs,fieldId:xs,label:T,className:E,items:this.options[xs],onChange:this.handleChange,isDisabled:i||c||o}),a().createElement(Oa,{name:zs,fieldId:zs,label:D,className:E,items:this.options[zs],onChange:this.handleChange,isDisabled:i||c||o,isInline:!0}),a().createElement(Gr.c,{label:l===al?"Number of sockets":"Number of compute cores (excluding control plane nodes)",isRequired:y,helperText:y?`${l} value can be any integer number between 1-999`:"",helperTextInvalid:O,validated:v?"default":"error"},I),f)}}ul.propTypes={initialSettings:l().object,onSettingsChange:l().func.isRequired,canSubscribeMarketplaceOCP:l().bool,canSubscribeStandardOCP:l().bool},ul.defaultProps={initialSettings:{[js]:Gs}};const dl=ul,pl={CREATE_MOA_CLUSTERS:"capability.account.create_moa_clusters",CREATE_ROSA_CLUSTERS:"capability.account.create_rosa_clusters",MANAGE_CLUSTER_ADMIN:"capability.cluster.manage_cluster_admin",ORGANIZATION_REGISTRATIONS_PER_HOUR:"capability.organization.clusters_registrations_per_hour",SUBSCRIBED_OCP:"capability.cluster.subscribed_ocp",SUBSCRIBED_OCP_MARKETPLACE:"capability.cluster.subscribed_ocp_marketplace",BARE_METAL_INSTALLER_ADMIN:"capability.account.bare_metal_installer_admin",RELEASE_OCP_CLUSTERS:"capability.cluster.release_ocp_clusters"},ml=(e,t)=>{if(t===pl.RELEASE_OCP_CLUSTERS)return!0;if(t===pl.SUBSCRIBED_OCP_MARKETPLACE){if(T()(e,"status")===ee.Ij.DISCONNECTED)return!1;if(!T()(e,"id",!1))return!1}const n=T()(e,"capabilities",[]).find((e=>e.name===t));return"true"===T()(n,"value",!1)},hl=(e,t)=>{const n={};return e.forEach((e=>{const r=T()(e,"id",!1);!1!==r&&(n[r]=ml(T()(e,"subscription"),t))})),n};function gl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{SUBSCRIBED_OCP:bl,SUBSCRIBED_OCP_MARKETPLACE:El}=pl;class fl extends r.Component{constructor(...e){super(...e),gl(this,"state",{isValid:!0}),gl(this,"handleSubmit",(()=>{const{submit:e,subscription:t}=this.props;e(t.id,this.state)})),gl(this,"handleClose",(()=>{const{closeModal:e}=this.props;e()})),gl(this,"handleSettingsChange",(e=>{this.setState(e)}))}render(){const{requestState:e,onClose:t,subscription:n,clusterDisplayName:r,shouldDisplayClusterName:s}=this.props,{isValid:l}=this.state;return a().createElement(H,{title:"Subscription settings",secondaryTitle:s?r:void 0,width:810,variant:"large",onClose:this.handleClose,primaryText:"Save",secondaryText:"Cancel",onPrimaryClick:this.handleSubmit,onSecondaryClick:this.handleClose,isPrimaryDisabled:e.pending||!l},a().createElement(Br,{requestState:e,onFulfilled:()=>{this.handleClose(),t()}}),a().createElement(qr.l,{onSubmit:e=>{this.handleSubmit(),e.preventDefault()},className:"subscription-settings form"},a().createElement(m.D,null,a().createElement(h.xv,{component:h.qO.p},"Edit your subscription settings to receive the correct level of cluster support.")),a().createElement(dl,{initialSettings:n,onSettingsChange:this.handleSettingsChange,canSubscribeStandardOCP:ml(n,bl),canSubscribeMarketplaceOCP:ml(n,El)})))}}fl.propTypes={subscription:l().object,requestState:l().object,closeModal:l().func,submit:l().func,onClose:l().func,clusterDisplayName:l().string,shouldDisplayClusterName:l().bool},fl.defaultProps={subscription:{}},fl.modalName=Pt;const yl=fl,vl=(0,i.connect)((e=>({subscription:e.modal.data.subscription,requestState:e.subscriptionSettings.requestState,shouldDisplayClusterName:e.modal.data.shouldDisplayClusterName||!1,clusterDisplayName:en(e.modal.data)})),(e=>({submit:(t,n)=>{const r=n;n.socket_total&&"Sockets"===n.system_units&&(r.socket_total=parseInt(n.socket_total,10),r.cpu_total=r.socket_total),n.cpu_total&&"Cores/vCPU"===n.system_units&&(r.cpu_total=parseInt(n.cpu_total,10),r.socket_total=1),e(Fn(t,r))},closeModal:()=>{e((e=>e({type:ot.rm.Q}))),e(Wt())}})))(yl);class Ol extends r.Component{componentDidUpdate(){const{archiveClusterResponse:e,resetResponse:t,closeModal:n,onClose:r}=this.props;e.fulfilled&&(t(),n(),r())}render(){const{closeModal:e,submit:t,archiveClusterResponse:n,resetResponse:r,subscriptionID:s,name:l,shouldDisplayClusterName:i}=this.props,o=()=>{r(),e()},c=n.error?a().createElement(Fr,{message:"Error archiving cluster",response:n}):null;return a().createElement(H,{title:"Archive cluster",secondaryTitle:i?l:void 0,"data-test-id":"archive-cluster-dialog",onClose:o,primaryText:"Archive cluster",onPrimaryClick:()=>t(s,l),isPending:n.pending,onSecondaryClick:o},a().createElement(a().Fragment,null,c,a().createElement(qr.l,{onSubmit:()=>t(s,l)},a().createElement("p",null,"Archiving a cluster will remove it from the cluster list and remove the cluster from subscription management."),a().createElement("p",null,"This action will not delete the cluster, only remove it from OpenShift Cluster Manager.",a().createElement("a",{href:"https://access.redhat.com/articles/4397891",target:"_blank",rel:"noreferrer noopener"},"Instructions"),"for deleting a cluster may be found in the knowledge base."))))}}Ol.propTypes={closeModal:l().func.isRequired,onClose:l().func.isRequired,submit:l().func.isRequired,resetResponse:l().func.isRequired,archiveClusterResponse:l().object,subscriptionID:l().string.isRequired,name:l().string.isRequired,shouldDisplayClusterName:l().bool},Ol.defaultProps={archiveClusterResponse:{}},Ol.modalName=gt;const Cl=Ol,Rl=(0,i.connect)((e=>{const t=e.modal.data;return{archiveClusterResponse:e.clusters.archivedCluster,subscriptionID:t.subscriptionID?t.subscriptionID:"",name:t.name?t.name:"",shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:(t,n)=>{e(nr(t,n))},resetResponse:()=>e((e=>e({type:ot.em.GF}))),closeModal:()=>e(Wt())})))(Cl);var Sl=n(8896),Pl=n(79048),wl=n(34359);function Tl(){return(Tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dl(e){const{title:t,used:n,total:r,unit:s,humanize:l,donutId:i,type:o}=e,c=l?We:Ye,u=c(n,s),d=c(r,s),p=c(r-n,s),m=Math.round(n/r*100*100)/100,h={primary:`${m}%`,secondary:`of ${d.value} ${d.unit} used`},g=e=>a().createElement(Pl.ze,Tl({id:i,title:h.primary,subTitle:h.secondary,data:{x:`${u.value} ${u.unit}`,y:m},thresholds:[{value:80},{value:95}]},e)),b=a().createElement("div",null,a().createElement(R.Title,{className:"metrics-chart chart-title",headingLevel:"h4",size:"xl"},t),a().createElement("div",{className:"metrics-chart"},a().createElement(wl.l,{ariaDesc:t,data:[{x:"",y:80},{x:"Warning at 80%",y:95},{x:"Danger at 95%",y:100}],labels:({datum:e})=>e.x||null,height:185,width:185},g()))),E={labels:({datum:e})=>e.x?`${e.x}`:null,constrainToVisibleArea:!0,legendData:[{name:`Used: ${u.value} ${u.unit}`},{name:`Available: ${p.value} ${p.unit}`}],legendOrientation:"vertical",padding:{bottom:20,left:20,right:195,top:20},height:205,width:410},f=a().createElement("div",null,a().createElement(R.Title,{className:"metrics-chart chart-title-with-legend",headingLevel:"h4",size:"xl"},t),a().createElement("div",{className:"metrics-chart chart-with-legend"},g(E)));switch(o){case"legend":return a().createElement(a().Fragment,null,f);default:return a().createElement(a().Fragment,null,b)}}Dl.propTypes={title:l().string.isRequired,used:l().number,total:l().number,unit:l().string,humanize:l().bool,donutId:l().string.isRequired,type:l().string.isRequired};const _l=Dl;function Il({cpu:e,memory:t,metricsStatusMessage:n,metricsAvailable:r,type:s}){const l=({value:e,unit:t})=>Qe(e,t);return a().createElement(a().Fragment,null,r?a().createElement(a().Fragment,null,a().createElement(_l,{title:"vCPU",total:e.total.value,used:e.used.value,unit:"Cores",humanize:!1,donutId:"cpu_donut",type:s}),a().createElement(_l,{title:"Memory",total:l(t.total),used:l(t.used),unit:"B",humanize:!0,donutId:"memory_donut",type:s})):a().createElement("p",null,n))}Il.propTypes={cpu:l().object.isRequired,memory:l().object.isRequired,metricsStatusMessage:l().string,metricsAvailable:l().bool.isRequired,type:l().string.isRequired};const Al=Il;var Nl=n(78091);const Ll=({totalUnhealthyClusters:e,totalConnectedClusters:t,isError:n})=>{if(n)return a().createElement(ke.Card,{className:"ocm-overview-clusters__card"},a().createElement(Le.l,null,"Clusters with issues"),a().createElement(Me.e,null,a().createElement(Sl.b,null,a().createElement(R.Title,{headingLevel:"h2"},"No data available"),a().createElement("span",{className:"empty-state-color"},"There was an error fetching the data. Try refreshing the page."))));if(!t)return a().createElement(ke.Card,{className:"ocm-overview-clusters__card"},a().createElement(Le.l,null,"Clusters with issues"),a().createElement(Me.e,null,a().createElement(Sl.b,null,a().createElement("span",{className:"empty-state-color"},"No data available"))));const r=0===e?a().createElement(a().Fragment,null,a().createElement(Nl.ZP,{className:"status-icon",color:Se.global_success_color_100.value,size:"sm"})):a().createElement(a().Fragment,null,a().createElement(Re.ZP,{className:"status-icon",color:Se.global_danger_color_100.value,size:"sm"})),s=a().createElement(a().Fragment,null,a().createElement("span",{className:e>0?"clusters-with-issues-non-zero":"clusters-with-issues-zero"},e));return a().createElement(ke.Card,{className:"ocm-overview-clusters__card"},a().createElement(Le.l,null,"Clusters with issues"),a().createElement(Me.e,null,a().createElement(Sl.b,null,s,r)))};Ll.propTypes={totalConnectedClusters:l().number.isRequired,totalUnhealthyClusters:l().number.isRequired,isError:l().bool.isRequired};const Ml=Ll,kl=({totalClusters:e,totalUnhealthyClusters:t,totalConnectedClusters:n,totalCPU:r,usedCPU:s,totalMem:l,usedMem:i,isError:c})=>{const u=a().createElement(Me.e,null,a().createElement(g.ub,null,a().createElement(R.Title,{headingLevel:"h2"},"No data available"),a().createElement(b.B,null,"There was an error fetching the data. Try refreshing the page.")));if(c)return a().createElement(a().Fragment,null,a().createElement(xe.P,{md:3,sm:12},a().createElement(ke.Card,{className:"ocm-overview-clusters__card"},a().createElement(Le.l,null,"Clusters"),u)),a().createElement(xe.P,{md:9,sm:12,rowSpan:2},a().createElement(ke.Card,{className:"ocm-c-metrics-charts__card"},a().createElement(Le.l,null,"CPU and Memory utilization"),u)),a().createElement(xe.P,{md:3,sm:12},a().createElement(Ml,{isError:c,totalUnhealthyClusters:t,totalConnectedClusters:n})));const d=n>0&&(r>0||l.value>0)?a().createElement(Me.e,null,a().createElement(Al,{cpu:{total:r,used:s},memory:{total:{value:l.value,unit:"B"},used:{value:i.value,unit:"B"}},metricsAvailable:!0,type:"legend"})):a().createElement(Me.e,null,a().createElement(g.ub,null,a().createElement(R.Title,{headingLevel:"h2"},"No data available"),a().createElement(b.B,null,"Check individual clusters web console if you expect that they should be sending metrics. Note that data is not available for clusters that are installing.")));return a().createElement(a().Fragment,null,a().createElement(xe.P,{md:3,sm:12},a().createElement(o.Link,{to:"/",className:"overview-clusters-link"},a().createElement(ke.Card,{className:"ocm-overview-clusters__card"},a().createElement(Le.l,null,"Clusters"),a().createElement(Me.e,null,a().createElement(Sl.b,null,a().createElement(R.Title,{headingLevel:"h1",size:"3xl"},e)))))),a().createElement(xe.P,{md:9,rowSpan:2,sm:12},a().createElement(ke.Card,{className:"ocm-c-metrics-charts__card"},a().createElement(Le.l,null,"CPU and Memory utilization"),d)),a().createElement(xe.P,{md:3,sm:12},a().createElement(Ml,{isError:c,totalUnhealthyClusters:t,totalConnectedClusters:n})))};kl.propTypes={totalClusters:l().number.isRequired,totalUnhealthyClusters:l().number.isRequired,totalConnectedClusters:l().number.isRequired,totalCPU:l().object.isRequired,usedCPU:l().object.isRequired,totalMem:l().object.isRequired,usedMem:l().object.isRequired,isError:l().bool.isRequired};const jl=kl;var xl=n(34046);const ql=()=>a().createElement(Wr.J2,{className:"ocm-insights--info-popover","aria-label":"What is Insights?",position:"left",maxWidth:"25rem",enableFlip:!0,bodyContent:a().createElement(a().Fragment,null,a().createElement("p",null,"Insights identifies and prioritizes risks to security, performance, availability, and stability of your clusters."),a().createElement("p",null,"This feature uses the Remote Health functionality of OpenShift Container Platform. For further details about Insights, see the"," ",a().createElement(Rr,{href:"https://docs.openshift.com/container-platform/latest/support/remote_health_monitoring/using-insights-to-identify-issues-with-your-cluster.html"},"OpenShift documentation"),"."))},a().createElement(xl.ZP,{className:"ocm-insights--info-popover__icon",color:Se.global_Color_dark_200.value}));function Ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fl({riskHits:e}){return a().createElement(nt.k,{className:"ocm-insights--risk-chart",direction:{default:"column"}},a().createElement(rt.B,{spacer:{default:"spacerLg"}},a().createElement(R.Title,{className:"ocm-insights--risk-chart__title",size:"lg",headingLevel:"h2"},"Advisor recommendations by severity"),a().createElement(ql,null)),a().createElement(rt.B,{className:"ocm-insights--risk-chart__items",spacer:{default:"spacerLg"}},a().createElement(nt.k,{justifyContent:{default:"justifyContentFlexStart"},fullWidth:{default:"50%"},spaceItems:{sm:"spaceItemsXl",md:"spaceItemsLg",lg:"spaceItems2xl","2xl":"spaceItems4xl"}},Object.entries(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(n),!0).forEach((function(t){zl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({1:0,2:0,3:0,4:0},e)).reverse().map((([e,t])=>a().createElement(rt.B,{className:"ocm-insights--items__risk-item",key:e},a().createElement(nt.k,{direction:{default:"column"},alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsNone"}},a().createElement(rt.B,{className:"ocm-insights--risk-item__count"},a().createElement(R.Title,{size:"2xl",headingLevel:"h1"},t)),a().createElement(rt.B,{className:"ocm-insights--risk-item__label"},Ln[e]))))))))}const Zl=Fl;Fl.propTypes={riskHits:l().object.isRequired};var Bl=n(4687),Gl=n(80469);function Hl({tagHits:e,groups:t}){const n=((e,t)=>t.sort(((e,t)=>e.title.localeCompare(t.title))).reduce(((t,{tags:n,title:r})=>An(An({},t),{},{[r]:{count:n.reduce(((t,n)=>t+T()(e,n,0)),0),tags:n.join(",")}})),{}))(e,[...t]);return a().createElement(nt.k,{className:"ocm-insights--groups-chart",direction:{default:"column"}},a().createElement(rt.B,null,a().createElement(R.Title,{size:"lg",headingLevel:"h2"},"Recommendations by category")),a().createElement(rt.B,null,a().createElement(Bl.Td,{ariaTitle:"Categories statistics",constrainToVisibleArea:!0,data:Object.entries(n).map((([e,t])=>({x:e,y:t.count}))),width:400,height:120,padding:{bottom:30,left:0,right:300,top:10},labels:({datum:e})=>`${e.x}: ${e.y}`,legendData:Object.entries(n).map((([e,t])=>({name:`${e}: ${t.count}`,tags:t.tags}))),legendPosition:"right",legendAllowWrap:!0,legendComponent:a().createElement(Gl.Qk,{height:100,width:200,itemsPerRow:2,orientation:"horizontal",className:"pf-m-redhat-font",rowGutter:0,style:{labels:{fontSize:12}}})})))}const Vl=Hl;Hl.propTypes={tagHits:l().object.isRequired,groups:l().array.isRequired};var $l=n(71070);const Ql=()=>a().createElement(g.ub,{isFullHeight:!0,className:"ocm-insights--advisor-empty-state"},a().createElement(Oe.k,{icon:$l.default}),a().createElement(R.Title,{size:"lg",headingLevel:"h4"},"No Advisor recommendations"),a().createElement(b.B,null,"This feature uses the Remote Health functionality of OpenShift Container Platform. For further details about Insights, see the"," ",a().createElement(Rr,{href:"https://docs.openshift.com/container-platform/latest/support/remote_health_monitoring/using-insights-to-identify-issues-with-your-cluster.html"},"OpenShift documentation"),"."));var Wl=n(44113);const Yl=({overview:e})=>a().createElement(ke.Card,{className:"ocm-insights--advisor-card",ouiaId:"insightsAdvisor"},a().createElement(Me.e,{className:"ocm-insights--advisor-card__body"},e.clusters_hit&&0!==e.clusters_hit?a().createElement(a().Fragment,null,a().createElement(Zl,{riskHits:e.hit_by_risk}),a().createElement(Vl,{tagHits:e.hit_by_tag,groups:Wl.gb})):a().createElement(Ql,null))),Kl=Yl;Yl.propTypes={overview:l().object.isRequired};class Jl extends r.Component{componentDidMount(){const{summaryDashboard:e,getSummaryDashboard:t,unhealthyClusters:n,getUnhealthyClusters:r,getUserAccess:a,viewOptions:s,getOrganizationAndQuota:l,organization:i}=this.props;document.title="Overview | Red Hat OpenShift Cluster Manager",e.fulfilled||e.pending||t(),n.fulfilled||n.pending||r(oe(s)),i.pending||i.fulfilled||l(),a({type:"OCP"})}componentDidUpdate(){const{fetchOrganizationInsights:e,insightsOverview:t,organization:n}=this.props;t.rejected||t.pending||t.fulfilled||!n.fulfilled||e(n.details.id)}render(){const{summaryDashboard:e,unhealthyClusters:t,viewOptions:n,invalidateSubscriptions:r,totalClusters:s,totalConnectedClusters:l,totalUnhealthyClusters:i,totalCPU:o,usedCPU:c,totalMem:u,usedMem:d,upToDate:p,upgradeAvailable:m,insightsOverview:h,userAccess:f}=this.props,y=e.error||t.error,v=!e.fulfilled||e.pending||!t.fulfilled||t.pending,O=h.fulfilled&&h.overview;if(y){let n;n=e.error?e:t;const{errorMessage:r,errorCode:s,operationID:l}=n,i={errorMessage:r,errorCode:s,operationID:l};return a().createElement(K,{response:i})}return v&&!y?a().createElement(g.ub,null,a().createElement(b.B,null,a().createElement(E.Z,{centered:!0}))):e.fulfilled&&!s?a().createElement(Ne.NP,null,a().createElement(st,null)):a().createElement(a().Fragment,null,a().createElement(qe.Z,null,a().createElement(Ue.Z,{title:"Overview",className:"page-title"})),a().createElement(Ne.NP,null,a().createElement(je.r,{hasGutter:!0,className:"ocm-c-overview"},a().createElement(jl,{isError:e.error,totalClusters:s,totalUnhealthyClusters:i,totalConnectedClusters:l,totalCPU:o,usedCPU:c,totalMem:u,usedMem:d}),l>0&&a().createElement(xe.P,{md:6,sm:12},a().createElement(br,{unhealthyClusters:t,viewOptions:n})),O&&a().createElement(xe.P,{md:6,sm:12},a().createElement(Kl,{overview:h.overview})),a().createElement(xe.P,{md:6,sm:12},a().createElement(ke.Card,{className:"ocm-overview-clusters__card"},a().createElement(Le.l,null,"Telemetry"),a().createElement(Me.e,null,l||s?a().createElement(Xe,{donutId:"connected_clusters_donut",used:l,total:s,availableTitle:"Not checking in",usedTitle:"Connected",unit:"clusters"}):a().createElement(g.ub,null,a().createElement(b.B,null,"No data available"))))),f.fulfilled&&void 0!==f.data&&!0===f.data&&a().createElement(xe.P,{md:6,sm:12},a().createElement(xr,null)),a().createElement(xe.P,{md:6,sm:12},a().createElement(ke.Card,{className:"ocm-overview-clusters__card"},a().createElement(Le.l,null,"Update status"),a().createElement(Me.e,null,m.value||p.value?a().createElement(Xe,{donutId:"update_available_donut",used:p.value,total:m.value+p.value,unit:"clusters",availableTitle:"Update available",usedTitle:"Up-to-date"}):a().createElement(g.ub,null,a().createElement(b.B,null,"No data available"))))),a().createElement(xe.P,{span:12},a().createElement(Jt,null))),a().createElement(Be,{ModalComponent:vl,onClose:r}),a().createElement(Be,{ModalComponent:Rl,onClose:r})))}}Jl.propTypes={getSummaryDashboard:l().func.isRequired,getUserAccess:l().func.isRequired,invalidateSubscriptions:l().func.isRequired,summaryDashboard:l().object.isRequired,getUnhealthyClusters:l().func.isRequired,unhealthyClusters:l().shape({clusters:l().array,error:l().bool,pending:l().bool,fulfilled:l().bool}).isRequired,viewOptions:l().shape({currentPage:l().number,pageSize:l().number,totalCount:l().number,totalPages:l().number}).isRequired,totalClusters:l().number.isRequired,totalConnectedClusters:l().number.isRequired,totalUnhealthyClusters:l().number.isRequired,totalCPU:l().object.isRequired,usedCPU:l().object.isRequired,totalMem:l().object.isRequired,usedMem:l().object.isRequired,upToDate:l().object.isRequired,upgradeAvailable:l().object.isRequired,fetchOrganizationInsights:l().func.isRequired,insightsOverview:l().object.isRequired,userAccess:l().shape({data:l().bool,pending:l().bool,fulfilled:l().bool}).isRequired,getOrganizationAndQuota:l().func.isRequired,organization:l().object.isRequired};const Xl=Jl,ei=e=>({type:Wl.qX,payload:e}),ti=(e,t,n,r)=>a=>a({type:Wl.op,payload:xt.di.getReportDetails(e,t,n,r)}),ni=(e,t)=>xt.di.getClusterInsights(e,t).then((t=>({insightsData:T()(t,"data.report",{}),clusterId:e,status:t.status}))),ri=(e,t)=>n=>n({type:Wl.Lo,payload:ni(e,t),meta:{clusterId:e}}),ai=async(e,t,n,r,a)=>{let s;switch(a){case-1:s=await xt.di.putDislikeOnRuleInsights(t,n,r);break;case 0:s=await xt.di.resetVoteOnRuleInsights(t,n,r);break;case 1:s=await xt.di.putLikeOnRuleInsights(t,n,r);break;default:throw Error(`unsupported vote ${a}`)}return{insightsData:s.data,clusterId:t,ruleId:n,vote:a}},si=async(e,t,n,r)=>({insightsData:(await xt.di.sendFeedbackOnRuleDisableInsights(e,t,n,r)).data,clusterId:e,ruleId:t}),li=(e,t,n,r,a)=>async s=>{await xt.di.enableRuleInsights(e,t,n),s(r?ti(e,t,n,a):ri(e,a)),s({type:Wl.Dg})},ii=e=>xt.BJ.getSubscriptions({page_size:-1,fields:"external_cluster_id",filter:`organization_id = '${e}' and status NOT IN ('Deprovisioned', 'Archived')`}),oi={fetchClusters:lr,getSummaryDashboard:()=>e=>e({type:ot.T_.Ds,payload:xt.BJ.getCurrentAccount().then((e=>{var t,n;return null===(t=e.data)||void 0===t||null===(n=t.organization)||void 0===n?void 0:n.id})).then((e=>e?xt._Z.getDashboard(e):Promise.reject(new Error("No logged in user")))).then((e=>{const t={},n={};return e.data.metrics.forEach((e=>{n[e.name]=e.vector})),t[e.data.name]=n,t}))}),getUnhealthyClusters:hr,getUserAccess:kr,invalidateSubscriptions:Ft,fetchOrganizationInsights:e=>t=>t({type:Wl.fx,payload:ii(e).then((e=>{const t=T()(e,"data.items",null);return t?xt.di.getOrganizationInsights(t.map((e=>e.external_cluster_id)).filter(Boolean)):Promise.reject()}))}),getOrganizationAndQuota:d.nh},ci=(0,i.connect)((e=>({summaryDashboard:e.dashboards.summary,unhealthyClusters:e.dashboards.unhealthyClusters,viewOptions:e.viewOptions[ot.R$.TA],clusters:e.clusters.clusters,insightsOverview:e.insightsData.overview,userAccess:e.cost.userAccess,organization:e.userProfile.organization,totalClusters:T()(e.dashboards.summary,"metrics.clusters_total[0].value",0),totalConnectedClusters:T()(e.dashboards.summary,"metrics.connected_clusters_total[0].value",0),totalUnhealthyClusters:T()(e.dashboards.summary,"metrics.unhealthy_clusters_total[0].value",0),totalCPU:T()(e.dashboards.summary,"metrics.sum_total_cpu[0]",{value:0}),usedCPU:T()(e.dashboards.summary,"metrics.sum_used_cpu[0]",{value:0}),totalMem:T()(e.dashboards.summary,"metrics.sum_total_memory[0]",{value:0}),usedMem:T()(e.dashboards.summary,"metrics.sum_used_memory[0]",{value:0}),upToDate:T()(e.dashboards.summary,"metrics.clusters_up_to_date_total[0]",{value:0}),upgradeAvailable:T()(e.dashboards.summary,"metrics.clusters_upgrade_available_total[0]",{value:0})})),oi)(Xl);var ui=n(84238),di=n.n(ui),pi=n(53834),mi=n(31926),hi=n(59505),gi=n(97451),bi=n(91469);function Ei({isReadOnly:e,someReadOnly:t}){return e?a().createElement(bi.j,{variant:"warning",className:"configuration_mode_read_only"},a().createElement(h.xv,null,a().createElement("b",null,"You will be unable to configure your cluster during maintenance.")),a().createElement(h.xv,null,"Actions like configuring identity providers and updating cluster settings are disabled until maintenance is complete. More information may be available under"," ",a().createElement("b",null,"Cluster history")," ","in Overview tab.")):t?a().createElement(bi.j,{variant:"warning",className:"configuration_mode_read_only"},a().createElement(h.xv,null,a().createElement("b",null,"You will be unable to configure some of your clusters during maintenance.")),a().createElement(h.xv,null,"Actions like configuring identity providers and updating cluster settings are disabled until maintenance is complete.")):null}Ei.propTypes={isReadOnly:l().bool,someReadOnly:l().bool};const fi=Ei;class yi extends a().Component{constructor(e){var t,n;super(e),n={currentValue:""},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.updateFilter=this.updateFilter.bind(this),this.inputTimeoutID=null}componentDidMount(){const{currentFilter:e}=this.props;e&&this.setState({currentValue:e})}updateFilter(){const{setFilter:e}=this.props,{currentValue:t}=this.state;e(t)}updateCurrentValue(e){null!==this.inputTimeoutID&&clearTimeout(this.inputTimeoutID),this.setState({currentValue:e}),this.inputTimeoutID=setTimeout(this.updateFilter,300)}render(){const{currentValue:e}=this.state,{isDisabled:t}=this.props;return a().createElement(ca.TextInput,{type:"text","aria-label":"Filter",className:"cluster-list-filter",value:e,placeholder:"Filter by name or ID...",onChange:e=>this.updateCurrentValue(e),isDisabled:t})}}yi.propTypes={currentFilter:l().string.isRequired,setFilter:l().func.isRequired,isDisabled:l().bool};const vi=yi,Oi=(0,i.connect)(((e,t)=>({currentFilter:e.viewOptions[t.view].filter})),((e,t)=>({setFilter:n=>e(ct(n,t.view))})))(vi);var Ci=n(22910),Ri=n(96823),Si=n(92512),Pi=n(47962);const wi=a().createElement(Ri.DropdownItem,{component:"button",key:"registercluster","data-testid":"register-cluster-item"},a().createElement("div",null,a().createElement(o.Link,{to:"/register",className:"pf-c-dropdown__menu-item"},"Register disconnected cluster"))),Ti=a().createElement(Ri.DropdownItem,{component:"button",key:"archived"},a().createElement("div",null,a().createElement(o.Link,{to:"archived",className:"pf-c-dropdown__menu-item"},"View cluster archives"))),Di=a().createElement(Ri.DropdownItem,{component:"button",key:"assistedinstaller"},a().createElement("div",null,a().createElement(o.Link,{to:"/assisted-installer",className:"pf-c-dropdown__menu-item"},"Assisted Installer clusters"))),_i=a().createElement(hi.ToolbarItem,{key:"createcluster"},a().createElement(o.Link,{to:"/create"},a().createElement(p.Button,null,"Create cluster"))),Ii=a().createElement(hi.ToolbarItem,{key:"registercluster"},a().createElement(o.Link,{to:"/register",rel:"noopener noreferrer"},a().createElement(p.Button,{variant:"secondary","data-testid":"register-cluster-item"},"Register cluster"))),Ai=({className:e,aiEnabled:t})=>{const[n,s]=(0,r.useState)(!1),[l,i]=(e=>{const t=(e=>{if("undefined"==typeof window||void 0===window.matchMedia)return!1;const t=window.matchMedia("(min-width: 900px)"),[n,r]=a().useState(!!t.matches);return a().useEffect((()=>{const e=()=>r(!!t.matches);return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}),[]),n})(),n=[],r=[];return n.push(_i),t?n.push(Ii):r.push(wi),r.push(Ti),e&&r.push(Di),[r,n]})(t);return a().createElement(a().Fragment,null,i,a().createElement(hi.ToolbarItem,null,a().createElement(Ci.Dropdown,{"data-testid":"cluster-list-extra-actions-dropdown",onSelect:()=>s(!n),toggle:a().createElement(Pi.KebabToggle,{onToggle:s}),isOpen:n,isPlain:!0,dropdownItems:l,className:e,position:Si.DropdownPosition.right})))};Ai.propTypes={className:l().string,aiEnabled:l().bool};const Ni=Ai,Li=(0,i.connect)((e=>({aiEnabled:e.features[ot.DD.vu]})))(Ni);var Mi=n(80765),ki=n(15963),ji=n(8755);function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach((function(t){Ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class zi extends a().Component{constructor(e){super(e),Ui(this,"state",{isOpen:!1}),this.onToggle=e=>{this.setState({isOpen:e})}}render(){const{isOpen:e}=this.state,{currentFilters:t,setFilter:n,history:r,className:s,isDisabled:l}=this.props,i=[{key:"plan_id",label:"Cluster type",options:ee.GO,selected:{}}],o=i.map((e=>{const s={},l=T()(t,e.key,[]);return l.forEach((e=>{s[e]=!0})),a().createElement(ki.DropdownGroup,{key:`filtergroup-${e.key}`,label:e.label},e.options.map((i=>a().createElement(Ri.DropdownItem,{key:i.key},a().createElement($r.Checkbox,{className:"pf-c-dropdown__menu-item",isChecked:s[i.key],id:i.key,label:i.label,onChange:a=>{var s;s=qi(qi({},t),{},a?{[e.key]:[...l,i.key]}:{[e.key]:l.filter((e=>e!==i.key))}),void 0!==r&&r.push({search:ce(s)}),n(s)}})))))}));return a().createElement(Ci.Dropdown,{toggle:a().createElement(Mi.DropdownToggle,{onToggle:this.onToggle,isDisabled:l},a().createElement(ji.ZP,null)," ","Cluster type"),isOpen:e,dropdownItems:o,isGrouped:!0,className:s})}}zi.propTypes={setFilter:l().func.isRequired,currentFilters:l().objectOf(l().arrayOf(l().string)),history:l().shape({push:l().func.isRequired}),className:l().string,isDisabled:l().bool};const Fi=zi,Zi=(0,i.connect)(((e,t)=>({currentFilters:e.viewOptions[t.view].flags.subscriptionFilter||{}})),((e,t)=>({setFilter:n=>e(ut("subscriptionFilter",n,t.view))})))(Fi);var Bi=n(38089),Gi=n(90222);function Hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(n),!0).forEach((function(t){$i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qi({currentFilters:e,setFilter:t,history:n}){if(Z(e))return null;const r=e=>{void 0!==n&&n.push({search:ce(e)}),t(e)},s=[{key:"plan_id",label:"Cluster type",options:ee.GO}];return a().createElement(O.P,null,a().createElement(C.J,null,a().createElement(Gi.ChipGroup,null,s.map((t=>{const n=e[t.key]||[];return P()(n)?null:a().createElement(Gi.ChipGroup,{key:`chipgroup-${t.key}`,categoryName:t.label},n.map((s=>{const{label:l}=t.options.find((e=>e.key===s));return a().createElement(Bi.Chip,{key:s,onClick:()=>{r(Vi(Vi({},e),{},{[t.key]:n.filter((e=>e!==s))}))}},l)})))})).filter(Boolean))),a().createElement(C.J,null,a().createElement(p.Button,{variant:"link",onClick:()=>r({})},"Clear filters")))}Qi.propTypes={setFilter:l().func.isRequired,currentFilters:l().objectOf(l().arrayOf(l().string)),history:l().shape({push:l().func.isRequired})};const Wi=Qi,Yi=(0,i.connect)(((e,t)=>({currentFilters:e.viewOptions[t.view].flags.subscriptionFilter||{}})),((e,t)=>({setFilter:n=>e(ut("subscriptionFilter",n,t.view))})))(Wi);var Ki=n(27636),Ji=n(98446);function Xi(){return a().createElement(g.ub,{id:"not-found"},a().createElement(b.B,null,a().createElement(Ji.Z,null)))}Xi.propTypes={location:l().shape({pathname:l().string.isRequired}).isRequired};const eo=Xi;function to(){return(to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){ao(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(99205);const so=(e,t,n)=>ro(ro(ro({},e),t),n),lo=(e,t,n=eo)=>(0,i.connect)((e=>t=>({enabled:t.features[e],allEnabledFeatures:ro({},t.features)}))(t),void 0,so)((t=>{let{enabled:r,location:s}=t,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["enabled","location"]);return void 0===r?a().createElement(Ne.NP,null,a().createElement(E.Z,{centered:!0})):r?a().createElement(e,l):a().createElement(n,to({location:s},l))})),io=lo((()=>a().createElement(o.Link,{to:"/assisted-installer"},a().createElement(p.Button,{variant:"link"},"Assisted Installer clusters"))),Bn.vu,(()=>!1)),oo=function(){return a().createElement(g.ub,{variant:g.IQ.large,className:"cluster-list-empty-state"},a().createElement(Oe.k,{icon:Ki.ZP,color:"#c00"}),a().createElement(R.Title,{headingLevel:"h4",size:"2xl"},"No OpenShift clusters to display"),a().createElement(b.B,null,"The Red Hat OpenShift Cluster Manager helps you create, register, and manage OpenShift 4 clusters. To get started, create your first cluster."),a().createElement(o.Link,{to:"/create"},a().createElement(p.Button,{className:"pf-u-mt-xl"},"Create cluster")),a().createElement(Ce.i,null,a().createElement(o.Link,{to:"/register"},a().createElement(p.Button,{variant:"link"},"Register cluster")),a().createElement(o.Link,{to:"/archived"},a().createElement(p.Button,{variant:"link"},"View cluster archives")),a().createElement(io,null)))};var co=n(32732),uo=n(16730),po=n(97182),mo=n(80516),ho=n(56105),go=n(61898),bo=n(68151),Eo=n(67463);const fo={WAITING:"waiting",PENDING:"pending",INSTALLING:"installing",UPDATING:"updating",READY:"ready",UNINSTALLING:"uninstalling",HIBERNATING:"hibernating",POWERING_DOWN:"powering_down",RESUMING:"resuming",DISCONNECTED:"disconnected",ERROR:"error",DEPROVISIONED:"deprovisioned",ARCHIVED:"archived",STALE:"stale"},yo=e=>{let t="";switch(e){case fo.DEPROVISIONED:t="Deleted";break;default:e&&(t=(e.charAt(0).toUpperCase()+e.slice(1)).replace(/_/g," "))}return t};function vo(e){let t;return(0,Zn.ZP)(e.subscription)&&(t=u.I.Constants.CLUSTER_STATUS_LABELS[e.status]),e.subscription.status===ee.Ij.DISCONNECTED?t=fo.DISCONNECTED:e.subscription.status===ee.Ij.DEPROVISIONED?t=fo.DEPROVISIONED:e.subscription.status===ee.Ij.ARCHIVED?t=fo.ARCHIVED:e.state===fo.INSTALLING||e.state===fo.PENDING?t=fo.INSTALLING:e.state===fo.WAITING?t=fo.WAITING:e.state===fo.UNINSTALLING?t=fo.UNINSTALLING:e.state===fo.ERROR?t=fo.ERROR:e.state===fo.HIBERNATING?t=fo.HIBERNATING:e.state===fo.POWERING_DOWN?t=fo.POWERING_DOWN:e.state===fo.RESUMING?t=fo.RESUMING:e.subscription.status===ee.Ij.STALE?t=fo.STALE:"running"===T()(e,"metrics.upgrade.state")?t=fo.UPDATING:e.subscription.status!==ee.Ij.ACTIVE&&e.state!==fo.READY||(t=fo.READY),{state:t,description:yo(t)}}const Oo=e=>e===fo.HIBERNATING||e===fo.POWERING_DOWN||e===fo.RESUMING,Co=fo;function Ro(){return(Ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function So(e){const{clusterState:t,animated:n}=e,r={className:"clusterstate",size:"sm"};switch(t){case Co.WAITING:case Co.PENDING:case Co.INSTALLING:case Co.UPDATING:case Co.POWERING_DOWN:case Co.RESUMING:return n?a().createElement(Eo.Spinner,r):a().createElement(po.ZP,r);case Co.DISCONNECTED:return a().createElement(co.ZP,r);case Co.READY:return a().createElement(Xt.ZP,Ro({color:Se.global_success_color_100.value},r));case Co.UNINSTALLING:return n?a().createElement(Eo.Spinner,r):a().createElement(po.ZP,r);case Co.ERROR:return a().createElement(Re.ZP,Ro({color:Se.global_danger_color_100.value},r));case Co.DEPROVISIONED:return a().createElement(mo.ZP,r);case Co.ARCHIVED:return a().createElement(ho.ZP,r);case Co.HIBERNATING:return a().createElement(go.ZP,r);case Co.STALE:return a().createElement(bo.ZP,r);default:return a().createElement(uo.ZP,r)}}So.propTypes={clusterState:l().string.isRequired,animated:l().bool},So.defaultProps={animated:!1};const Po=So,wo=()=>e=>e({type:ot.lo.g,payload:xt.le.getCloudProviders().then((e=>{const t={};return e.data.items.forEach((e=>{t[e.id]=e;const n={};void 0!==e.regions&&e.regions.forEach((e=>{n[e.id]={id:e.id,display_name:e.display_name,enabled:e.enabled,supports_multi_az:e.supports_multi_az,kms_specific_region:e.kms_location_id,ccs_only:e.ccs_only}})),t[e.id].regions=n})),t}))}),To={getCloudProviders:wo};class Do extends a().Component{componentDidMount(){const{getCloudProviders:e,cloudProviders:t}=this.props;t.pending||t.error||t.fulfilled||e()}render(){const{regionID:e,cloudProviderID:t,cloudProviders:n}=this.props,r=n.fulfilled&&n.providers[t]?n.providers[t].display_name:t.toUpperCase();return a().createElement(a().Fragment,null,r,"N/A"!==e&&` (${e})`)}}Do.propTypes={regionID:l().string.isRequired,cloudProviderID:l().string.isRequired,getCloudProviders:l().func.isRequired,cloudProviders:l().object.isRequired};const _o=Do,Io={getCloudProviders:To.getCloudProviders},Ao=(0,i.connect)((e=>({cloudProviders:e.cloudProviders})),Io)(_o);var No=n(31369),Lo=n(87799),Mo=n(33057);const ko=({cluster:e,openModal:t,hideOSDUpdates:n})=>{var r,s,l,i;const{upgrade:o}=e.metrics,c=e.managed&&(null===(r=e.version)||void 0===r||null===(s=r.available_upgrades)||void 0===s?void 0:s.length)>0&&e.openshift_version&&!n,u=(null==e||null===(l=e.subscription)||void 0===l?void 0:l.status)===ee.Ij.STALE;return"running"===(null==o?void 0:o.state)&&null!=o&&o.version&&(null===(i=e.version)||void 0===i?void 0:i.raw_id)!==o.version?a().createElement("span",null," ","",` ${o.version}`):e.managed&&(!e.canEdit||!c||Oo(e.state)||u)||!e.managed&&(!o.available||u)?null:e.managed?a().createElement(p.Button,{className:"cluster-update-link",variant:"link",onClick:()=>t(Ct,{clusterName:en(e),subscriptionID:e.subscription.id}),icon:a().createElement(Lo.ZP,null)},"Update"):e.console&&e.console.url?a().createElement("a",{href:`${e.console.url}/settings/cluster`,target:"_blank",rel:"noopener noreferrer"},a().createElement(p.Button,{className:"cluster-update-link",variant:"link",icon:a().createElement(Lo.ZP,null)},"Update")):a().createElement(Wr.J2,{position:"top","aria-label":"Update",bodyContent:a().createElement("div",null,"An update is available for this cluster. Navigate to the Cluster settings page in the cluster's web console to update."," ",a().createElement("a",{href:Mo.ZP.UPDATING_CLUSTER,target:"_blank",rel:"noreferrer noopener"},"Learn more"))},a().createElement(p.Button,{className:"cluster-update-link",variant:"link",icon:a().createElement(No.ZP,null)},"Update"))};ko.propTypes={cluster:l().object.isRequired,openModal:l().func,hideOSDUpdates:l().bool};const jo=ko;var xo=n(19694);const qo=e=>{const t=T()(e,"creation_timestamp",!1);if(t){const e=sn()().diff(t,"days"),n=Math.max(60-e,0);return 0===n?"< 1 day":`${n} day${1===n?"":"s"}`}return"unknown days"};function Uo({cluster:e}){const t=T()(e,"product.id")===ee.Po.OSDTrial,n=T()(e,"managed"),r=T()(e,"subscription.support_level");if(t){const t=(e=>{const t=T()(e,"subscription.trial_end_date");if(t){const e=sn()(t).diff(sn()(),"days");return 0===e?"< 1 day":`${e} day${1===e?"":"s"}`}return"unknown days"})(e),n=(e=>{const t=T()(e,"subscription.trial_end_date");return t?sn()(t).local().format("dddd, MMMM Do YYYY, h:mm a"):"unknown date"})(e),r=a().createElement(a().Fragment,null,a().createElement("h1",null,a().createElement("strong",null,"Trial Cluster")),a().createElement("p",null,"Your free trial cluster will automatically be deleted in",t,"on",a().createElement("strong",null,n)));return a().createElement(Wr.J2,{position:Wr.I2.top,"aria-label":"Sixty Day Trial",bodyContent:r},a().createElement(p.Button,{variant:"link",isInline:!0,icon:a().createElement(xo.ZP,{color:Se.global_warning_color_100.value})},t," left"))}if(n||r!==ee.ig.EVAL&&r!==ee.ig.NONE)return T()(e,"creation_timestamp",!1)?sn()(e.creation_timestamp).format("DD MMM YYYY"):"N/A";const s=qo(e);return r===ee.ig.NONE?a().createElement(Wr.J2,{position:Wr.I2.top,bodyContent:"Your 60-day evaluation has expired. Edit subscription settings to continue using this cluster, or archive this cluster if it no longer exits","aria-label":"Evaluation expired"},a().createElement(p.Button,{variant:"link",isInline:!0,icon:a().createElement(Re.ZP,{color:Se.global_danger_color_100.value})},"Evaluation expired")):a().createElement(Wr.J2,{position:Wr.I2.top,bodyContent:`${s} remaining`,"aria-label":"Sixty Day Trial"},a().createElement(p.Button,{variant:"link",isInline:!0,icon:a().createElement(xo.ZP,{color:Se.global_warning_color_100.value})},"60-day trial"))}Uo.propTypes={cluster:l().shape({managed:l().bool,subscription:l().shape({support_level:l().string}),creation_timestamp:l().string})};const zo=Uo;function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach((function(t){Bo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Go=(e,t={})=>e?{isAriaDisabled:!0,tooltip:e,tooltipProps:{position:"left"}}:t;function Ho(e,t,n,r,s,l,i,o,c){var u,d;const p={component:"button"},m=e.state===Co.UNINSTALLING&&a().createElement("span",null,"The cluster is being uninstalled"),h=e.state===Co.READY,g=!h&&a().createElement("span",null,"This cluster is not ready"),b=Oo(e.state)&&a().createElement("span",null,"This cluster is hibernating; resume cluster in order to perform actions"),E=e.state===Co.HIBERNATING||e.state===Co.POWERING_DOWN,f=e.state===Co.POWERING_DOWN&&a().createElement("span",null,"This cluster is powering down; you will be able to resume after it reaches hibernating state."),y="read_only"===(null==e||null===(u=e.status)||void 0===u?void 0:u.configuration_mode)&&a().createElement("span",null,"This operation is not available during maintenance"),v=T()(e,"console.url",!1),O=!v&&a().createElement("span",null,"Admin console is not yet available for this cluster"),C=t=>`${e.id}.menu.${t}`,R=en(e),S=e.product&&e.product.id===ee.Po.OSDTrial,P=Zo(Zo({},p),{},{title:"Open console",key:C("adminconsole")},Go(m||b||O,{component:"a",href:v,target:"_blank",rel:"noopener noreferrer"})),w=Zo(Zo({},p),{},{title:"Edit load balancers and persistent storage",key:C("scalecluster")},Go(m||y||b||g,{onClick:()=>n(Et,Zo(Zo({},e),{},{shouldDisplayClusterName:c}))})),D=Zo(Zo({},p),{},{title:"Edit node count",key:C("editnodecount")},Go(m||y||b||g,{onClick:()=>n(ft,{cluster:e,isDefaultMachinePool:!0,shouldDisplayClusterName:c})})),_=Zo(Zo({},p),{},{title:"Edit display name",key:C("editdisplayname")},Go(m,{onClick:()=>n(yt,Zo(Zo({},e),{},{shouldDisplayClusterName:c}))})),I=Zo(Zo({},p),{},{key:C("editconsoleurl")},Go(m,{title:v?"Edit console URL":"Add console URL",onClick:()=>n(vt,Zo(Zo({},e),{},{shouldDisplayClusterName:c}))})),A=Zo(Zo({},p),{},{title:"Delete cluster",key:C("deletecluster")},Go(m||y||b,{onClick:()=>n(Ot,{clusterID:e.id,clusterName:R,shouldDisplayClusterName:c})})),N=(()=>{const t=Zo(Zo({},p),{},{title:"Archive cluster",key:C("archivecluster")}),r={subscriptionID:e.subscription?e.subscription.id:"",name:R};return Zo(Zo({},t),Go(y,{onClick:()=>n(gt,Zo(Zo({},r),{},{shouldDisplayClusterName:c}))}))})(),L=(()=>{const t=Zo(Zo({},p),{},{title:"Unarchive cluster",key:C("unarchivecluster")}),r={subscriptionID:e.subscription?e.subscription.id:"",name:R};return Zo(Zo({},t),Go(y,{onClick:()=>n(bt,Zo(Zo({},r),{},{shouldDisplayClusterName:c}))}))})(),M=Zo(Zo({},p),{},{title:"Edit subscription settings",key:C("editsubscriptionsettings"),onClick:()=>n(Pt,{subscription:e.subscription,shouldDisplayClusterName:c})}),k=(()=>{const t=T()(e,"subscription.released",!1),r=t?"Cancel ownership transfer":"Transfer cluster ownership";return Zo(Zo({},p),{},{title:r,key:C("transferclusterownership"),onClick:()=>{t?(i(T()(e,"subscription.id"),!1),o()):n(Rt,{subscription:e.subscription,shouldDisplayClusterName:c})}})})(),j=(()=>{const t={clusterID:e.id,cluster:e},r=Zo(Zo({},p),{},{title:"Upgrade cluster from Trial",key:C("upgradetrialcluster")});return Zo(Zo({},r),Go(y,{onClick:()=>n(St,Zo(Zo({},t),{},{shouldDisplayClusterName:c}))}))})(),x=(()=>{const t=Zo(Zo({},p),{},{key:C("hibernatecluster")}),r={clusterID:e.id,clusterName:R,subscriptionID:e.subscription?e.subscription.id:"",shouldDisplayClusterName:c},a=Zo(Zo({},t),{},{title:"Hibernate cluster"},Go(m||y||g,{onClick:()=>n(wt,r)})),s=Zo(Zo({},t),{},{title:"Resume from Hibernation"},Go(f||y,{onClick:()=>n(Tt,r)}));return E?s:a})(),q=e.canDelete&&e.managed,U=e.canEdit&&e.managed&&!(null!==(d=e.ccs)&&void 0!==d&&d.enabled),z=e.canEdit&&e.managed&&l&&!S,F=e.canEdit&&e.managed,Z=T()(e,"subscription.status",!1)===ee.Ij.ARCHIVED,B=e.canEdit&&!e.managed&&e.subscription&&!Z,G=e.canEdit&&!e.managed&&e.subscription&&Z,H=!e.managed&&e.canEdit&&(t||v)&&!(0,Zn.n1)(e),V=T()(e,"subscription.plan.type",""),$=V===ee.Po.OCP&&e.canEdit&&r,Q=[ee.Po.OCP,ee.Po.ARO].includes(V),W=e.canEdit&&s&&Q&&T()(e,"subscription.status")!==ee.Ij.ARCHIVED,Y=h&&e.canEdit&&S;return[t&&P,e.canEdit&&_,H&&I,U&&w,F&&D,z&&x,Y&&j,q&&A,B&&N,G&&L,$&&M,W&&k].filter(Boolean)}function Vo({cluster:e}){const t={[ee.Po.OCP]:{name:"OCP",tooltip:"Self-managed OpenShift Container Platform (OCP) cluster"},[ee.Po.OSD]:{name:"OSD",tooltip:"OpenShift Dedicated (OSD) cluster managed by Red Hat"},[ee.Po.OSDTrial]:{name:"OSD Trial",tooltip:"OpenShift Dedicated (OSD) cluster trial managed by Red Hat"},[ee.Po.RHMI]:{name:"RHMI",tooltip:"Red Hat Managed Integration"},[ee.Po.ROSA]:{name:"ROSA",tooltip:"Red Hat OpenShift Service on AWS"},[ee.Po.ARO]:{name:"ARO",tooltip:"Red Hat OpenShift Service on Azure"},[ee.Po.UNKNOWN]:{name:"N/A",tooltip:"Not Available"}},n=t[T()(e,"subscription.plan.type",ee.Po.UNKNOWN)]||t[ee.Po.UNKNOWN];return a().createElement(Vr.Tooltip,{content:n.tooltip},a().createElement("span",null,n.name))}Vo.propTypes={cluster:l().shape({product:l().shape({id:l().oneOf(Object.values(ee.Po)).isRequired})})};const $o=Vo;var Qo=n(91491),Wo=n(49099),Yo=n(90446),Ko=n(698),Jo=n(91845),Xo=n(41942);function ec({cluster:e}){const t=(()=>{const t={icon:a().createElement(Xo.ZP,{className:"icon-space-right"}),text:"Pending"},n={icon:a().createElement(Xt.ZP,{className:"icon-space-right",color:Se.global_success_color_100.value}),text:"Completed"},r={icon:a().createElement(uo.ZP,{className:"icon-space-right"}),text:"Unknown"},s=a().createElement(Eo.Spinner,{className:"icon-space-right",size:"sm"});if(e.state===Co.PENDING||e.state===Co.WAITING){var l,i;let n="Preparing account";return!e.status.oidc_ready&&null!=e&&null!==(l=e.aws)&&void 0!==l&&null!==(i=l.sts)&&void 0!==i&&i.oidc_endpoint_url&&(n=a().createElement(a().Fragment,null,"Waiting for OIDC configuration",a().createElement(Qo.M5,{isReadOnly:!0,className:"pf-u-mt-sm"},e.aws.sts.oidc_endpoint_url))),{awsAccountSetup:{icon:s,text:n},DNSSetup:t,clusterInstallation:t}}return e.state===Co.INSTALLING?e.status.dns_ready?{awsAccountSetup:n,DNSSetup:n,clusterInstallation:{icon:s,text:"Installing cluster"}}:{awsAccountSetup:n,DNSSetup:t,clusterInstallation:t}:{awsAccountSetup:r,DNSSetup:r,clusterInstallation:r}})();return a().createElement(Wo.o,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Account setup"),a().createElement(Jo.b,null,t.awsAccountSetup.icon,t.awsAccountSetup.text)),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"DNS setup"),a().createElement(Jo.b,null,t.DNSSetup.icon,t.DNSSetup.text)),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Cluster installation"),a().createElement(Jo.b,null,t.clusterInstallation.icon,t.clusterInstallation.text)))}ec.propTypes={cluster:l().object.isRequired};const tc=ec;function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{ClusterStatus:ac}=u.I;function sc(e){const{viewOptions:t,setSorting:n,clusters:r,openModal:s,isPending:l,setClusterDetails:i,canSubscribeOCPList:c={},canTransferClusterOwnershipList:u={},toggleSubscriptionReleased:d,canHibernateClusterList:m={},refreshFunc:h}=e;if(!(l||r&&0!==r.length))return a().createElement("p",{className:"notfound"},"No results match the filter criteria.");const g={index:0,direction:t.sorting.isAscending?lt.SortByDirection.asc:lt.SortByDirection.desc},b=(0,lt.classNames)(lt.Visibility.visibleOnLg,lt.Visibility.hiddenOnMd,lt.Visibility.hiddenOnSm),E=[{title:"Name",transforms:[lt.sortable,(0,lt.cellWidth)(30)]},{title:"Status",transforms:[(0,lt.cellWidth)(15)]},{title:"Type",transforms:[(0,lt.cellWidth)(10)]},{title:"Created",columnTransforms:[b]},{title:"Version",columnTransforms:[b]},{title:"Provider (Region)",columnTransforms:[b]},""],f=l?Nt():r.map((e=>(e=>{const t=T()(e,"cloud_provider.id","N/A"),n=a().createElement(o.Link,{to:`/details/s/${e.subscription.id}`,onClick:()=>{e.partialCS||i(e)}},en(e)),r=vo(e),l=a().createElement(Po,{clusterState:r.state||"",animated:!1}),c=a().createElement("span",null,e.openshift_version||"N/A",a().createElement(jo,{cluster:e,openModal:s,hideOSDUpdates:!0}));return{cells:[{title:n},{title:(t=>{const{state:n,description:r}=t;return(0,Zn.jm)(e.subscription)?a().createElement(ac,{status:e.state,className:"clusterstate"}):n===Co.ERROR?a().createElement("span",null,a().createElement(Wr.J2,{position:Wr.I2.top,bodyContent:a().createElement(a().Fragment,null,"Your cluster is in error state."," ",a().createElement("a",{href:"https://access.redhat.com/support/cases/#/case/new",target:"_blank",rel:"noopener noreferrer"},"Contact Red Hat Support")," ","for further assistance."),"aria-label":"Status: Error"},a().createElement(p.Button,{className:"cluster-status-string",variant:"link",isInline:!0,icon:l},r))):n===Co.WAITING||n===Co.PENDING||n===Co.INSTALLING?a().createElement(Wr.J2,{headerContent:a().createElement("div",null,"Installation status"),position:Wr.I2.top,bodyContent:a().createElement(tc,{cluster:e}),"aria-label":"Status: installing"},a().createElement(p.Button,{className:"cluster-status-string status-installing",variant:"link",isInline:!0,icon:l},r)):a().createElement("span",{className:"cluster-status-string"},l,r)})(r)},{title:a().createElement($o,{cluster:e})},{title:a().createElement(zo,{cluster:e})},{title:c},{title:a().createElement(Ao,{regionID:T()(e,"region.id","N/A"),cloudProviderID:t})}],cluster:e}})(e))),y=l?void 0:e=>Ho(e.cluster,!0,s,c[T()(e,"cluster.id")]||!1,u[T()(e,"cluster.id")]||!1,m[T()(e,"cluster.id")]||!1,d,h,!0);return a().createElement(lt.Table,{"aria-label":"Cluster List",cells:E,rows:f,actionResolver:y,onSort:(e,r,a)=>{const s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(n),!0).forEach((function(t){rc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.sorting);s.isAscending=a===lt.SortByDirection.asc,s.sortField="name",n(s)},sortBy:g,ouiaId:"clusterList"},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null))}sc.propTypes={openModal:l().func.isRequired,clusters:l().array.isRequired,viewOptions:l().object.isRequired,setSorting:l().func.isRequired,isPending:l().bool,setClusterDetails:l().func.isRequired,canSubscribeOCPList:l().objectOf(l().bool),canTransferClusterOwnershipList:l().objectOf(l().bool),canHibernateClusterList:l().objectOf(l().bool),toggleSubscriptionReleased:l().func.isRequired,refreshFunc:l().func.isRequired};const lc=sc;var ic=n(7604);class oc extends a().Component{constructor(e){super(e),this.refreshTimerID=null,this.refreshTimer=this.refreshTimer.bind(this)}componentDidMount(){const{autoRefresh:e}=this.props;e&&null===this.refreshTimerID&&(this.refreshTimerID=setInterval(this.refreshTimer,6e4))}componentWillUnmount(){null!==this.refreshTimerID&&clearInterval(this.refreshTimerID)}refreshTimer(){const{autoRefresh:e,refreshFunc:t,isDisabled:n}=this.props;e&&"visible"===document.visibilityState&&navigator.onLine&&!n&&t()}render(){const{refreshFunc:e,clickRefreshFunc:t,classOptions:n,isDisabled:r,ouiaId:s}=this.props,l=void 0!==t?t:e;return a().createElement(Vr.Tooltip,{position:Vr.TooltipPosition.bottom,content:"Refresh"},a().createElement(p.Button,{variant:"plain","aria-label":"Refresh",className:n,onClick:l,isAriaDisabled:r,ouiaId:s},a().createElement(ic.ZP,null)))}}oc.propTypes={classOptions:l().string,refreshFunc:l().func.isRequired,clickRefreshFunc:l().func,autoRefresh:l().bool,isDisabled:l().bool,ouiaId:l().string},oc.defaultProps={classOptions:""};const cc=oc,uc=({item:e="clusters",errorMessage:t})=>a().createElement(Vr.Tooltip,{content:`An error occurred when fetching ${e}: ${t}`},a().createElement(xo.ZP,{size:"lg",className:"cluster-error-triangle",color:Se.global_warning_color_100.value}));uc.propTypes={item:l().string,errorMessage:l().oneOfType([l().string,l().node,l().element])};const dc=uc;var pc=n(49257);function mc({errorTitle:e,errorMessage:t,clearGlobalError:n}){return t||e?a().createElement(Ur.bZ,{variant:"danger",isInline:!0,title:e,actionClose:a().createElement(pc.g,{onClose:n})},t):null}mc.propTypes={errorTitle:l().oneOfType([l().string,l().node]),errorMessage:l().oneOfType([l().string,l().node,l().element]),clearGlobalError:l().func.isRequired};const hc=mc;var gc=n(52346);const bc=(e,t,n)=>r=>{r({type:gc.F,payload:{errorTitle:e,errorMessage:n,sourceComponent:t}})},Ec=e=>t=>{t({type:gc.P,payload:e})},fc={clearGlobalError:Ec},yc=(0,i.connect)((e=>({errorMessage:e.globalError.errorMessage,errorTitle:e.globalError.errorTitle})),fc)(hc);var vc=n(8043);const Oc=()=>e=>e({type:ot.dN.E,payload:xt.le.getStorageQuotaValues().then((e=>e.data.items))});function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){Sc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pc="add-on",wc="cluster",Tc="any",Dc=(e,t)=>e===t||e===Tc||t===Tc,_c=(e,t)=>Dc(e.toLowerCase(),t.toLowerCase()),Ic=(e,t)=>Dc(e.resource_type,t.resource_type||Tc)&&_c(e.product,t.product||ee.Po.ANY)&&Dc(e.billing_model,t.billing_model||Tc)&&Dc(e.cloud_provider,t.cloud_provider||Tc)&&Dc(e.byoc,t.byoc||Tc)&&_c(e.availability_zone_type,t.availability_zone_type||Tc)&&Dc(e.resource_name,t.resource_name||Tc),Ac=(e,{resourceType:t,product:n,billingModel:r,cloudProviderID:a,isBYOC:s,isMultiAz:l,resourceName:i})=>{const o={resource_type:t,product:n,billing_model:("standard-trial"===r?ee.F6.STANDARD:r)||Tc,cloud_provider:a||Tc,byoc:{[!0]:"byoc",[!1]:"rhinfra",[void 0]:Tc}[s],availability_zone_type:{[!0]:"multi",[!1]:"single",[void 0]:Tc}[l],resource_name:i||Tc};let c=0;return e.items.forEach((e=>{c+=((e,t)=>{const n=[];if(e.related_resources.forEach((e=>{Ic(e,t)&&n.push(e.cost)})),0===n.length)return 0;const r=Math.min(...n);if(0===r)return 1/0;const a=Math.floor((e.allowed-e.consumed)/r);return a>0?a:0})(e,o)})),c},Nc=(e,{resourceType:t,product:n,billingModel:r,cloudProviderID:a,isBYOC:s,isMultiAz:l,resourceName:i})=>{const o={resource_type:t,product:n,billing_model:r||Tc,cloud_provider:a||Tc,byoc:{[!0]:"byoc",[!1]:"rhinfra",[void 0]:Tc}[s],availability_zone_type:{[!0]:"multi",[!1]:"single",[void 0]:Tc}[l],resource_name:i||Tc};let c=!1;return e.items.forEach((e=>{e.related_resources.forEach((t=>{Ic(t,o)&&(0===t.cost||e.allowed>0)&&(c=!0)}))})),c},Lc=e=>({product:e.subscription.plan.type,billingModel:T()(e,"billing_model",ee.F6.STANDARD),cloudProviderID:T()(e,"cloud_provider.id","any"),isBYOC:T()(e,"ccs.enabled",!1),isMultiAz:T()(e,"multi_az",!1)}),Mc=(e,t,n=ee.F6.STANDARD)=>T()(e.userProfile.organization.quotaList,["clustersQuota",n,t,"aws"]),kc=(e,t,n=ee.F6.STANDARD)=>T()(e.userProfile.organization.quotaList,["clustersQuota",n,t,"gcp"]),jc=(e,t)=>Ac(e,Rc(Rc({},t),{},{resourceType:wc})),xc=(e,t,n=ee.F6.STANDARD)=>jc(e.userProfile.organization.quotaList,{product:t,cloudProviderID:"aws",billingModel:n})>=1,qc=(e,t,n=ee.F6.STANDARD)=>jc(e.userProfile.organization.quotaList,{product:t,cloudProviderID:"gcp",billingModel:n})>=1,Uc=(e,t)=>jc(e.userProfile.organization.quotaList,{product:t})>=1,zc=(e,t)=>Ac(e,Rc(Rc({},t),{},{resourceType:"compute.node"}));function Fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Bc=107374182400;function Gc(){return(Gc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class Hc extends a().Component{componentDidMount(){const{getPersistentStorage:e,persistentStorageValues:t}=this.props;t.pending||t.fulfilled||t.error||e()}render(){const{input:e,persistentStorageValues:t,disabled:n,currentValue:r,quotaList:s,billingModel:l,product:i,cloudProviderID:o,isBYOC:c,isMultiAZ:u}=this.props;if(t.fulfilled){const d=((e,t,n)=>{const r=Qe(n,"GiB"),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fc(Object(n),!0).forEach((function(t){Zc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);return a.values?(a.values=e?a.values.filter((t=>t.value<=r+e)):a.values.filter((e=>e.value<=r+Bc)),a):{values:[{value:Bc,unit:"B"}]}})(r,t,Ac(s,{resourceType:"pv.storage",billingModel:l,product:i,cloudProviderID:o,isBYOC:c,isMultiAZ:u,resourceName:"gp2"})),p=d.values.length<=1,m=n||p,h=a().createElement(ra.FormSelect,Gc({className:"quota-dropdown","aria-label":"Persistent Storage",isDisabled:m},e),d.values.map((e=>(e=>{const t=Ke(e.value),n=e.value.toString();return a().createElement(aa.FormSelectOption,{key:n,value:n,label:`${t.value} ${t.unit}`})})(e))));return p?a().createElement(Vr.Tooltip,{content:j,position:"right"},a().createElement("div",null,h)):h}return t.error?a().createElement(Fr,{message:"Error loading persistent storage list",response:t}):a().createElement(a().Fragment,null,a().createElement("div",{className:"spinner-fit-container"},a().createElement(E.Z,null)),a().createElement("div",{className:"spinner-loading-text"},"Loading persistent storage list..."))}}Hc.propTypes={getPersistentStorage:l().func.isRequired,persistentStorageValues:l().object.isRequired,input:l().object.isRequired,disabled:l().bool,quotaList:l().object.isRequired,currentValue:l().number,billingModel:l().string.isRequired,product:l().string.isRequired,cloudProviderID:l().string.isRequired,isBYOC:l().bool.isRequired,isMultiAZ:l().bool.isRequired};const Vc=Hc,$c={getPersistentStorage:Oc},Qc=(0,i.connect)((e=>({persistentStorageValues:e.persistentStorageValues,quotaList:e.userProfile.organization.quotaList})),$c)(Vc),Wc=()=>e=>e({type:ot.Hn.Z,payload:xt.le.getLoadBalancerQuotaValues().then((e=>e.data.items))});function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jc(){return(Jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class Xc extends a().Component{componentDidMount(){const{getLoadBalancers:e,loadBalancerValues:t}=this.props;t.pending||t.fulfilled||t.error||e()}render(){const{input:e,loadBalancerValues:t,disabled:n,currentValue:r,quotaList:s,billingModel:l,product:i,cloudProviderID:o,isBYOC:c,isMultiAZ:u}=this.props;if(t.fulfilled){const d=((e,t,n)=>{const r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(n),!0).forEach((function(t){Kc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);return r.values?(r.values=e?r.values.filter((t=>t<=n+e)):r.values.filter((e=>e<=n)),r):{values:[]}})(r,t,Ac(s,{resourceType:"network.loadbalancer",billingModel:l,product:i,cloudProviderID:o,isBYOC:c,isMultiAZ:u})),p=d.values.length<=1,m=n||p,h=a().createElement(ra.FormSelect,Jc({className:"quota-dropdown","aria-label":"Load Balancers",isDisabled:m},e),d.values.map((e=>(e=>a().createElement(aa.FormSelectOption,{key:e,value:e,label:e}))(e.toString()))));return p?a().createElement(Vr.Tooltip,{content:j,position:"right"},a().createElement("div",null,h)):h}return t.error?a().createElement(Fr,{message:"Error loading load balancers list",response:t}):a().createElement(a().Fragment,null,a().createElement("div",{className:"spinner-fit-container"},a().createElement(E.Z,null)),a().createElement("div",{className:"spinner-loading-text"},"Loading load balancers list..."))}}Xc.propTypes={getLoadBalancers:l().func.isRequired,loadBalancerValues:l().object.isRequired,input:l().object.isRequired,disabled:l().bool,quotaList:l().object.isRequired,currentValue:l().number,billingModel:l().string.isRequired,product:l().string.isRequired,cloudProviderID:l().string.isRequired,isBYOC:l().bool.isRequired,isMultiAZ:l().bool.isRequired};const eu=Xc,tu={getLoadBalancers:Wc},nu=(0,i.connect)((e=>({loadBalancerValues:e.loadBalancerValues,quotaList:e.userProfile.organization.quotaList})),tu)(eu);class ru extends r.Component{componentDidMount(){const{persistentStorageValues:e,loadBalancerValues:t,getLoadBalancers:n,getPersistentStorage:r,organization:a,getOrganizationAndQuota:s}=this.props;e.fulfilled||e.pending||r(),t.fulfilled||t.pending||n(),a.pending||s()}componentDidUpdate(){const{editClusterResponse:e,resetResponse:t,closeModal:n,onClose:r,getOrganizationAndQuota:a}=this.props;!e.fulfilled||e.pending||e.error||(t(),r(),n(),a())}render(){const{closeModal:e,handleSubmit:t,editClusterResponse:n,resetResponse:r,consoleURL:s,showLoadBalancerAlert:l,showPersistentStorageAlert:i,persistentStorageValues:o,loadBalancerValues:c,initialValues:u,organization:d,isByoc:p,pristine:m,cloudProviderID:h,billingModel:g,product:b,isMultiAZ:E,shouldDisplayClusterName:f,clusterDisplayName:y}=this.props,v=()=>{r(),e()},O=n.error?a().createElement(Fr,{message:"Error editing cluster",response:n}):null,C=s?a().createElement("a",{href:`${s}/k8s/ns/default/resourcequotas`,target:"_blank",rel:"noopener noreferrer"},"Check your usage"):"Check your usage",R=a().createElement(Ur.bZ,{variant:"warning",isInline:!0,title:"Scaling below the current limit can cause problems in your environment"},a().createElement("div",null,a().createElement("p",null,C," ","before proceeding to be sure you are not scaling below what is currently being used."))),S=c.pending||o.pending||n.pending||d.pending,P=p?"edit-cluster-modal":"edit-cluster-modal edit-cluster-modal-rhinfra";return a().createElement(H,{className:P,title:"Edit load balancers and persistent storage",secondaryTitle:f?y:void 0,onClose:v,primaryText:"Apply",onPrimaryClick:t,onSecondaryClick:v,isPrimaryDisabled:S||m,isPending:S,isSmall:!0},a().createElement(a().Fragment,null,O,a().createElement(qr.l,{onSubmit:t},a().createElement(je.r,{hasGutter:!0},!p&&a().createElement(a().Fragment,null,a().createElement(xe.P,{span:8},a().createElement(Gr.c,{fieldId:"load_balancers",label:"Load balancers"},a().createElement(Ca.Z,{label:"Load balancers",name:"load_balancers",component:nu,disabled:S,currentValue:u.load_balancers,cloudProviderID:h,billingModel:g,product:b,isBYOC:p,isMultiAZ:E}))),a().createElement(xe.P,{span:4}),l&&R,a().createElement(xe.P,{span:8},a().createElement(Gr.c,{fieldId:"persistent_storage",label:"Persistent storage"},a().createElement(Ca.Z,{label:"Persistent storage",name:"persistent_storage",component:Qc,disabled:S,currentValue:u.persistent_storage,cloudProviderID:h,billingModel:g,product:b,isBYOC:p,isMultiAZ:E}))),a().createElement(xe.P,{span:4}),i&&R)))))}}ru.propTypes={closeModal:l().func.isRequired,onClose:l().func.isRequired,handleSubmit:l().func.isRequired,resetResponse:l().func.isRequired,editClusterResponse:l().object,min:l().shape({value:l().number,validationMsg:l().string}).isRequired,consoleURL:l().string,initialValues:l().shape({id:l().string,nodes_compute:l().number,persistent_storage:l().number,load_balancers:l().number}).isRequired,showLoadBalancerAlert:l().bool,showPersistentStorageAlert:l().bool,getLoadBalancers:l().func.isRequired,getPersistentStorage:l().func.isRequired,persistentStorageValues:l().object.isRequired,loadBalancerValues:l().object.isRequired,organization:l().object.isRequired,getOrganizationAndQuota:l().func.isRequired,isByoc:l().bool,cloudProviderID:l().string.isRequired,pristine:l().bool,billingModel:l().string.isRequired,product:l().string.isRequired,isMultiAZ:l().bool.isRequired,shouldDisplayClusterName:l().bool,clusterDisplayName:l().string},ru.defaultProps={editClusterResponse:{}},ru.modalName=Et;const au=ru;var su=n(85208);const lu=(e,t)=>{const n=t?3:9,r=t?2:4;return e?{value:n,validationMsg:`At least ${n} nodes are required for multiple availability zone cluster.`}:{value:r,validationMsg:`At least ${r} nodes are required`}},iu=e=>{const{data:t}=e.modal,n=T()(t,"load_balancer_quota",0),r=(0,su.Z)("ScaleCluster")(e),a=T()(r,"load_balancers",0);return!(!a||!n)&&n>parseInt(a,10)},ou=e=>{const{data:t}=e.modal,n=T()(t,"storage_quota.value",0),r=(0,su.Z)("ScaleCluster")(e),a=T()(r,"persistent_storage",0);return!(!a||!n)&&n>parseInt(a,10)};function cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(n),!0).forEach((function(t){du(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pu=(0,vc.Z)({form:"ScaleCluster",enableReinitialize:!0})(au),mu=(0,i.connect)((e=>{var t,n,r,a;const s=e.modal.data;return{shouldDisplayClusterName:s.shouldDisplayClusterName||!1,editClusterResponse:e.clusters.editedCluster,min:lu(s.multi_az,null===(t=s.ccs)||void 0===t?void 0:t.enabled),consoleURL:T()(s,"console.url",null),clusterDisplayName:en(s),showLoadBalancerAlert:iu(e),showPersistentStorageAlert:ou(e),persistentStorageValues:e.persistentStorageValues,loadBalancerValues:e.loadBalancerValues,organization:e.userProfile.organization,isByoc:null===(n=s.ccs)||void 0===n?void 0:n.enabled,billingModel:null===(r=s.subscription)||void 0===r?void 0:r.cluster_billing_model,product:null===(a=s.subscription)||void 0===a?void 0:a.plan.type,isMultiAZ:s.multi_az,cloudProviderID:T()(s,"cloud_provider.id",""),initialValues:{id:s.id,nodes_compute:s.nodes?s.nodes.compute:null,load_balancers:s.load_balancer_quota?s.load_balancer_quota:0,persistent_storage:s.storage_quota?s.storage_quota.value:107374182400}}}),(e=>({onSubmit:(t,n)=>{const r={};n||(r.load_balancer_quota=t.load_balancers?parseInt(t.load_balancers,10):null,r.storage_quota=t.persistent_storage?{unit:"B",value:parseFloat(t.persistent_storage)}:null),e(Xn(t.id,r))},resetResponse:()=>e(Jn()),closeModal:()=>e(Wt()),getOrganizationAndQuota:()=>e((0,d.nh)()),getPersistentStorage:Oc,getLoadBalancers:Wc})),((e,t,n)=>uu(uu(uu(uu({},n),e),t),{},{onSubmit:n=>{t.onSubmit(n,e.isByoc)}})))(pu);var hu=n(33766),gu=n(96026),bu=n.n(gu);function Eu(){return(Eu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class fu extends a().Component{componentDidUpdate(){const{input:e,isEditingCluster:t}=this.props,n=this.getMinimumValue();0!==this.getAvailableQuota()||e.value===n||t||e.onChange(n)}getMinimumValue(){const{isMultiAz:e,isByoc:t,minNodes:n}=this.props;return void 0!==n?n:t?e?3:2:e?9:4}getIncludedNodes(){const{isByoc:e,isMultiAz:t,isMachinePool:n}=this.props;return e||n?0:t?9:4}getAvailableQuota(){const{quota:e,isByoc:t,machineType:n,machineTypesByID:r,cloudProviderID:a,product:s,billingModel:l}=this.props,i=r[n];if(!i)return 0;const o=i.resource_name;return zc(e,{product:s,cloudProviderID:a,isBYOC:t,resourceName:o,billingModel:l})}render(){const{input:e,isMultiAz:t,isDisabled:n,isEditingCluster:r,currentNodeCount:s,label:l,helpText:i,extendedHelpText:o,machineType:c,isByoc:u,isMachinePool:d}=this.props,p=this.getIncludedNodes(),m=this.getAvailableQuota(),h=this.getMinimumValue(),g=t?3:1;let b=r?m+s:m+p;b>180&&(b=180);const E=m>0||r?bu()(h,b+1,g):[h];let f=E.length<1;!u||r||d||(f=!c||E.length<1);const y=n||f,v=a().createElement(ra.FormSelect,Eu({"aria-label":"Worker nodes",isDisabled:y,className:"quota-dropdown"},e),E.map((e=>(e=>a().createElement(aa.FormSelectOption,{key:e,value:e,label:t?(e/3).toString():e.toString()}))(e))));return a().createElement(Gr.c,{fieldId:e.name,label:l,helperText:i,labelIcon:o&&a().createElement(Xr,{hint:o})},f?a().createElement(Vr.Tooltip,{content:j,position:"right"},a().createElement("div",null,v)):v,t&&a().createElement("span",null," 3 zones ="," ",e.value," ","worker nodes"))}}fu.propTypes={isEditingCluster:l().bool,currentNodeCount:l().number,minNodes:l().number,isDisabled:l().bool,label:l().string,helpText:l().string,extendedHelpText:l().string,quota:l().shape({nodesQuota:l().object}).isRequired,isByoc:l().bool,isMachinePool:l().bool,isMultiAz:l().bool,machineType:l().string,machineTypesByID:l().object,input:l().shape({name:l().string.isRequired,value:l().oneOfType([l().string,l().number]),onChange:l().func.isRequired}),cloudProviderID:l().string.isRequired,product:l().oneOf(Object.keys(ee.Po)).isRequired,billingModel:l().oneOf(Object.values(ee.F6)).isRequired};const yu=fu,vu=(0,i.connect)((e=>({machineTypesByID:e.machineTypes.typesByID,quota:T()(e,"userProfile.organization.quotaList",{})})))(yu),Ou="https://docs.openshift.com/container-platform/4.8/machine_management/creating_machinesets/creating-machineset-aws.html#machineset-non-guaranteed-instance_creating-machineset-aws",Cu=(e,t)=>{const n=t.data.find((t=>(t.id||t.name)===e));return!!n&&(null==n?void 0:n.aws)},Ru=()=>a().createElement(a().Fragment,null,a().createElement(No.ZP,{fill:"var(--pf-global--info-color--100)"})," ","This machine pool is using"," ",a().createElement(Rr,{href:Ou},"Spot instances")," ","for cost savings");var Su=n(6162),Pu=n.n(Su);const wu=({isDefaultMachinePool:e,product:t,isBYOC:n,isMultiAz:r,autoScaleMinNodesValue:a})=>{let s,l=parseInt(a,10)||0;return r&&(l*=3),s=e?n||t===ee.Po.ROSA?r?3:2:r?9:4:0,Pu()([l,s])},Tu="The name of the cluster. This will be used when generating a sub-domain\n    for your cluster on openshiftapps.com.",Du="Deploy to a single data center or to multiple data centers.",_u="The data center where your worker pool will be located.",Iu="The storage quota set on the deployed cluster.",Au="The load balancer quota set on the deployed cluster.",Nu="The instance type for the worker nodes. Instance type\n    determines the amount of memory and vCPU allocated to each worker node.",Lu="The number of worker nodes to provision per zone. The minimum number of worker nodes will vary depending on which features are enbled.",Mu="A block of IP addresses used by the OpenShift Container Platform installation\n    program while installing the cluster. The address block must not overlap with any other network\n    block.",ku="A block of IP addresses for services. OpenShiftSDN allows only one\n    serviceNetwork block. The address block must not overlap with any other network block.",ju="A block of IP addresses from which Pod IP addresses are allocated. The OpenShiftSDN\n    network plug-in supports multiple cluster networks. The address blocks for multiple cluster\n    networks must not overlap.  Select address pools large enough to fit your anticipated workload.",xu="The subnet prefix length to assign to each individual node.  For example, if host\n    prefix is set to /23, then each node is assigned a /23 subnet out of the given CIDR, allowing\n    for 510 (2^(32 - 23) - 2) Pod IP addresses.",qu="Some AWS Service Control Policies will cause installation to fail even if\n    the credentials have the correct permissions. Disabling SCP checks allows installation to proceed.\n    The SCP will still be enforced even if the checks are bypassed.",Uu="When you enable etcd encryption, encryption keys are created. These keys are rotated on a weekly basis.",zu="Autoscaling automatically adds and removes nodes from the cluster based on resource requiremnts.",Fu="A key ring organizes keys in a specific Google Cloud location and allows you to manage access control on groups of keys.",Zu="A cryptographic key is a resource that is used for encrypting and decrypting data or for producing and verifying digital signatures",Bu="Compute Engine default service account",Gu="Monitor your own projects in isolation from Red Hat Site Reliability Engineer (SRE) platform metrics",Hu="This feature is enabled by default and provides monitoring for user-defined projects.This includes metrics provided through service endpoints in user-defined projects as well as pods running in user-defined projects.",Vu="Cloud Key Management Service",$u="Cloud KMS is a REST API that can use a key to encrypt, decrypt, or sign data such as secrets for storage.",Qu="Amazon EBS encryption",Wu="A straight-forward encryption solution for your EBS resources associated with your EC2 instances.",Yu="The key ARN is the Amazon Resource Name (ARN) of a CMK. It is a unique, fully qualified identifier for the CMK. A key ARN includes the AWS account, Region, and the key ID.",Ku={standard:"Standard",customerCloudSubscription:"Customer cloud subscription",standardText:"Deploy in cloud provider accounts owned by Red Hat.",customerCloudSubscriptionText:"Leverage your existing cloud provider discounts and settings.",resourceRequirementsLink:"https://www.openshift.com/dedicated/ccs",scpDocumentationLink:"https://www.openshift.com/dedicated/ccs",awsCredentialsWarning:"Revoking these credentials in AWS will result in a loss of access to any cluster created with these credentials."};function Ju(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xu(){return(Xu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class ed extends a().Component{componentDidUpdate(){const{meta:{touched:e,error:t},displayError:n,hideError:r,limit:a}=this.props;e&&t?n(a,t):r(a)}render(){const{input:e,meta:{touched:t,error:n},ariaLabel:r}=this.props;return a().createElement(ca.TextInput,Xu({"aria-label":r,validated:t&&n?"error":"default"},e))}}ed.propTypes={input:l().object.isRequired,meta:l().shape({error:l().string,touched:l().bool}),ariaLabel:l().string.isRequired,displayError:l().func.isRequired,hideError:l().func.isRequired,limit:l().string.isRequired};class td extends a().Component{constructor(...e){super(...e),Ju(this,"state",{minErrorMessage:void 0,maxErrorMessage:void 0}),Ju(this,"displayError",((e,t)=>this.setState({[`${e}ErrorMessage`]:t}))),Ju(this,"hideError",(e=>this.setState({[`${e}ErrorMessage`]:void 0}))),Ju(this,"validateMinNodes",(e=>{const{isDefaultMachinePool:t,product:n,isBYOC:r,isMultiAz:a}=this.props,s=wu({val:e,isDefaultMachinePool:t,product:n,isBYOC:r,isMultiAz:a});return ss(e,{min:a?s/3:s,allowZero:!0})})),Ju(this,"validateMaxNodes",((e,t)=>parseInt(e,10)<parseInt(t.min_replicas,10)?"Max nodes cannot be less than min nodes.":ss(e)))}componentDidUpdate(e){const{autoscalingEnabled:t,change:n,isDefaultMachinePool:r,product:a,isBYOC:s,isMultiAz:l}=this.props;if(!e.autoscalingEnabled&&t){const{autoScaleMinNodesValue:e}=this.props,t=wu({isDefaultMachinePool:r,product:a,isBYOC:s,isMultiAz:l,autoScaleMinNodesValue:e});n("min_replicas",l?(t/3).toString():t.toString())}}render(){const{autoscalingEnabled:e,isMultiAz:t,autoScaleMinNodesValue:n,autoScaleMaxNodesValue:r}=this.props,{minErrorMessage:s,maxErrorMessage:l}=this.state,i=a().createElement(Ca.Z,{component:ed,name:"min_replicas",type:"text",ariaLabel:"Minimum nodes",validate:[this.validateMinNodes,Za],displayError:this.displayError,hideError:this.hideError,limit:"min"}),o=a().createElement(Ca.Z,{component:ed,name:"max_replicas",type:"text",ariaLabel:"Maximum nodes",validate:[this.validateMaxNodes,Za],displayError:this.displayError,hideError:this.hideError,limit:"max"}),c=s&&a().createElement("div",{className:"pf-c-form__helper-text pf-m-error"},s),u=l&&a().createElement("div",{className:"pf-c-form__helper-text pf-m-error"},l),d=a().createElement(a().Fragment,null,a().createElement(O.P,{hasGutter:!0,className:"autoscaling__container"},a().createElement(C.J,null,a().createElement(Gr.c,{label:"Minimum nodes per zone",isRequired:!0,fieldId:"nodes_min_multiAZ",className:"autoscaling__nodes-formGroup"},i,a().createElement("span",null,"X 3 zones = "+3*parseInt(n,10)),c)),a().createElement(C.J,null,a().createElement(Gr.c,{label:"Maximum nodes per zone",isRequired:!0,fieldId:"nodes_max_multiAZ",className:"autoscaling__nodes-formGroup"},o,a().createElement("span",null,`X 3 zones = ${(3*r).toString()}`),u)))),p=a().createElement(a().Fragment,null,a().createElement(Gr.c,{label:"Minimum and maximum node count",isRequired:!0,fieldId:"nodes_limit",className:"autoscaling__container"},a().createElement(O.P,{hasGutter:!0},a().createElement(C.J,{className:"autoscaling__nodes-formGroup"},i,a().createElement("span",null,"minimum"),c),a().createElement(C.J,{className:"autoscaling__nodes-formGroup"},o,"maximum",u))));return a().createElement(a().Fragment,null,a().createElement(xe.P,{span:12,id:"autoscaling"},a().createElement(Gr.c,{fieldId:"autoscaling",label:"Autoscaling",labelIcon:a().createElement(Xr,{hint:a().createElement(a().Fragment,null,zu," ",a().createElement(Rr,{href:"https://docs.openshift.com/container-platform/latest/machine_management/applying-autoscaling.html"},"Learn more about autoscaling"))})}),a().createElement(Ca.Z,{component:na,name:"autoscalingEnabled",label:"Enable autoscaling"}),e&&(t?d:p)))}}td.propTypes={autoscalingEnabled:l().bool.isRequired,isMultiAz:l().bool.isRequired,autoScaleMinNodesValue:l().string,autoScaleMaxNodesValue:l().string,product:l().string.isRequired,isBYOC:l().bool.isRequired,isDefaultMachinePool:l().bool.isRequired,change:l().func.isRequired},td.defaultProps={autoScaleMinNodesValue:"0",autoScaleMaxNodesValue:"0"};const nd=td;function rd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ad extends r.Component{constructor(...e){super(...e),rd(this,"handleMachinePoolChange",((e,t)=>{const{change:n}=this.props;n("nodes_compute",this.getSelectedMachinePoolNodes(t))})),rd(this,"cancelEdit",(()=>{const{closeModal:e,change:t}=this.props;this.resetResponse(),e(),t("machine_pool",""),t("nodes_compute","")}))}componentDidMount(){const{organization:e,getOrganizationAndQuota:t,machineTypes:n,getMachineTypes:r,machinePoolsList:a,getMachinePools:s,clusterID:l}=this.props;n.fulfilled||n.pending||r(),e.pending||t(),a.pending||s(l)}componentDidUpdate(){const{getOrganizationAndQuota:e,onClose:t,editNodeCountResponse:n}=this.props;!n.fulfilled||n.pending||n.error||(this.cancelEdit(),e(),t())}getSelectedMachinePoolNodes(e){var t;const{machinePoolsList:n}=this.props;return null===(t=n.data.find((t=>t.name===e)))||void 0===t?void 0:t.nodes}resetResponse(){const{resetScaleDefaultMachinePoolResponse:e,resetScaleMachinePoolResponse:t,machinePoolId:n,resetGetMachinePoolsResponse:r}=this.props;"Default"===n?e():t(),r()}render(){const{machinePoolsList:e,handleSubmit:t,isMultiAz:n,masterResizeAlertThreshold:r,initialValues:s,organization:l,isByoc:i,cloudProviderID:o,product:c,editNodeCountResponse:u,machineType:d,machinePoolId:p,pristine:m,change:h,canAutoScale:g,autoscalingEnabled:b,autoScaleMinNodesValue:E,autoScaleMaxNodesValue:f,billingModel:y,shouldDisplayClusterName:v,clusterDisplayName:O}=this.props,C=u.error?a().createElement(Fr,{message:"Error editing machine pool",response:u}):null,R=u.pending||l.pending||e.pending;return a().createElement(H,{className:"edit-cluster-modal edit-cluster-modal-rhinfra",title:"Edit node count",secondaryTitle:v?O:void 0,onClose:this.cancelEdit,primaryText:"Apply",onPrimaryClick:t,onSecondaryClick:this.cancelEdit,isPrimaryDisabled:R||m,isPending:R,isSmall:!0},a().createElement(a().Fragment,null,C,a().createElement(qr.l,{onSubmit:t},a().createElement(je.r,{hasGutter:!0},a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:oa,name:"machine_pool",label:"Machine pool",options:e.data,onChange:this.handleMachinePoolChange})),a().createElement(xe.P,{span:4}),g&&a().createElement(a().Fragment,null,a().createElement(xe.P,{span:12},a().createElement(nd,{autoscalingEnabled:b,isMultiAz:n,change:h,autoScaleMinNodesValue:E,autoScaleMaxNodesValue:f,product:c,isBYOC:i,isDefaultMachinePool:"Default"===p}))),!b&&a().createElement(a().Fragment,null,a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:vu,name:"nodes_compute",label:n?"Node count per zone":"Node count",isMultiAz:n,isByoc:i,machineType:d,isDisabled:R,isEditingCluster:!0,currentNodeCount:s.nodes_compute||0,cloudProviderID:o,product:c,minNodes:"Default"!==p?0:void 0,isMachinePool:!0,billingModel:y})),a().createElement(xe.P,{span:4})),!!r&&(e=>a().createElement(Ur.bZ,{variant:"warning",isInline:!0,title:`Scaling to more than ${e} nodes may take 24 hours`},a().createElement("div",null,a().createElement("p",null,"In order to scale to more than"," ",e," ","nodes, the cluster's control plane nodes have to be manually resized by a Red Hat SRE. This process will take about 24 hours."))))(r),Cu(p,e)&&a().createElement(a().Fragment,null,a().createElement(xe.P,{span:7}),a().createElement(xe.P,{span:12},a().createElement(Ru,null)))))))}}ad.propTypes={closeModal:l().func.isRequired,handleSubmit:l().func.isRequired,resetScaleDefaultMachinePoolResponse:l().func.isRequired,resetScaleMachinePoolResponse:l().func.isRequired,resetGetMachinePoolsResponse:l().func.isRequired,editNodeCountResponse:l().object,isMultiAz:l().bool,initialValues:l().shape({id:l().string,nodes_compute:l().number}).isRequired,masterResizeAlertThreshold:l().number,organization:l().object.isRequired,getOrganizationAndQuota:l().func.isRequired,machineTypes:l().object.isRequired,getMachineTypes:l().func.isRequired,getMachinePools:l().func.isRequired,machinePoolsList:l().object.isRequired,onClose:l().func.isRequired,change:l().func.isRequired,isByoc:l().bool,machinePoolId:l().string,machineType:l().string,clusterID:l().string,cloudProviderID:l().string.isRequired,product:l().oneOf([...Object.keys(ee.Po),""]).isRequired,pristine:l().bool,autoscalingEnabled:l().bool,canAutoScale:l().bool,autoScaleMinNodesValue:l().string,autoScaleMaxNodesValue:l().string,billingModel:l().oneOf(Object.values(ee.F6)).isRequired,shouldDisplayClusterName:l().bool,clusterDisplayName:l().string},ad.defaultProps={editNodeCountResponse:{},autoscalingEnabled:!1},ad.modalName=ft;const sd=ad,ld=(e,t)=>{let n=T()(e,"nodes.compute",0),r=!1,a=0,s=0,l=0,i=0;const o=T()(e,"nodes.autoscale_compute",!1);return o?(r=!0,a=o.min_replicas,i=o.min_replicas,s=o.max_replicas,l=o.max_replicas):(a+=n,s+=n,i=n,l=n),t&&t.forEach((e=>{e.autoscaling?(r=!0,a+=e.autoscaling.min_replicas,s+=e.autoscaling.max_replicas):(n+=e.replicas,a+=e.replicas,s+=e.replicas)})),{totalDesiredComputeNodes:n,hasMachinePoolWithAutoscaling:r,totalMinNodesCount:a,totalMaxNodesCount:s,totalDefaultMaxNodes:l,totalDefaultMinNods:i}},id=(e,t,n,r)=>{const a=ld(n,r),s=a.totalMaxNodesCount;let l;if("Default"===e)l=a.totalMaxNodesCount+(t-a.totalDefaultMaxNodes);else{const n=r.find((t=>t.id===e));n&&(l=n.autoscaling?a.totalMaxNodesCount+(t-n.autoscaling.max_replicas):a.totalMaxNodesCount+(t-n.replicas))}if(t&&s){if(s<=100&&l>100)return 100;if(s<=25&&l>25)return 25}return 0},od=e=>{if(e.generic_name)return e.generic_name;let t="";switch(e.category){case"general_purpose":t="gp";break;case"compute_optimized":t="cpu";break;case"memory_optimized":t="mem";break;case"accelerated_computing":t="gpu"}return`${t}.${e.size}`},cd=e=>{const t={};return e.forEach((e=>{e.resource_name=od(e);const n=e.cloud_provider.id;t[n]?t[n].push(e):t[n]=[e]})),t},ud=()=>e=>e({type:ot._z.o,payload:xt.le.getMachineTypes().then((e=>cd(e.data.items)))}),dd={getMachineTypes:ud,getResourceName:od,groupByCloudProvider:cd};var pd=n(80148),md=n(35161),hd=n.n(md),gd=n(80887),bd=n(40346),Ed=n(77221);function fd(){return(fd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vd={GENERAL_PURPOSE:{name:"general_purpose",label:"General purpose"},MEMORY_OPTIMIZED:{name:"memory_optimized",label:"Memory optimized"},COMPUTE_OPTIMIZED:{name:"compute_optimized",label:"Compute optimized"},ACCELERATED_COMPUTING:{name:"accelerated_computing",label:"Accelated computing"}},Od=e=>{if(!e)return"";const t=We(e.memory.value,e.memory.unit);let n=`${e.cpu.value} ${e.cpu.unit} ${t.value} ${t.unit} RAM`;if(e.category===vd.ACCELERATED_COMPUTING.name){const t=e.name.match(/\d+ GPU[s]?/g);t&&(n+=` (${t})`)}return n};class Cd extends a().Component{constructor(...e){super(...e),yd(this,"state",{isOpen:!1}),yd(this,"onToggle",(e=>{this.setState({isOpen:e})}))}componentDidMount(){const{machineTypes:e,organization:t}=this.props;e.fulfilled&&t.fulfilled&&this.setDefaultValue()}componentDidUpdate(){const{machineTypes:e,input:t}=this.props;(e.error||e.pending)&&this.setInvalidValue(),!t.value&&e.fulfilled&&this.setDefaultValue(),t.value&&!this.hasQuotaForType(t.value)&&this.setDefaultValue()}setDefaultValue(){const{sortedMachineTypes:e,input:t}=this.props;if(e.length>0){const n=e.find((e=>this.hasQuotaForType(e.id)));n&&t.onChange(n.id)}}setInvalidValue(){const{input:e}=this.props;e.onChange("")}hasQuotaForType(e){const{machineTypesByID:t,organization:n,quota:r,cloudProviderID:a,isBYOC:s,isMultiAz:l,isMachinePool:i,product:o,billingModel:c}=this.props;if(!n.fulfilled)return!1;const u=t[e];if(!u)return!1;const d={product:o,cloudProviderID:a,isBYOC:s,isMultiAz:l,resourceName:u.resource_name,billingModel:c},p=jc(r,d),m=zc(r,d);if(i)return m>=1;if(s){const e=l?3:2;return p>0&&m>=e}return p>=1}render(){const e=this.props,{machineTypes:t,sortedMachineTypes:n,getMachineTypes:r,isBYOC:s,isMultiAz:l,machineTypesByID:i,quota:o,organization:c,input:u,meta:{error:d,touched:p},cloudProviderID:m,isMachinePool:h,inModal:g=!1}=e,b=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["machineTypes","sortedMachineTypes","getMachineTypes","isBYOC","isMultiAz","machineTypesByID","quota","organization","input","meta","cloudProviderID","isMachinePool","inModal"]),f=(e,t)=>{u.onChange(t),this.onToggle(!1)},y=e=>{const t=this.hasQuotaForType(e.id),n=(e=>{const{name:t}=e;return t.split(" - ")})(e);return a().createElement(Ed.SelectOption,fd({},b,{key:e.id,id:`machineType.${e.id}`,value:e.id,description:n[0],isSelected:t&&u.value===e.id,formValue:e.id}),Od(e))},v=n.filter((e=>this.hasQuotaForType(e.id)));let O=v;if(t.fulfilled&&c.fulfilled){if(s||(O=v.filter((e=>!e.ccs_only))),0===O.length)return a().createElement("div",null,"You do not have enough quota to create a cluster with the minimum required worker capacity. Contact sales to purchase additional quota.");const{isOpen:e}=this.state,t=(e=>{const t=(e=>{const t={};return Object.values(vd).forEach((e=>{t[e.label]=[]})),e.forEach((e=>{switch(e.category){case vd.MEMORY_OPTIMIZED.name:return void t[vd.MEMORY_OPTIMIZED.label].push(e);case vd.COMPUTE_OPTIMIZED.name:return void t[vd.COMPUTE_OPTIMIZED.label].push(e);case vd.GENERAL_PURPOSE.name:t[vd.GENERAL_PURPOSE.label].push(e);break;case vd.ACCELERATED_COMPUTING.name:t[vd.ACCELERATED_COMPUTING.label].push(e)}})),t})(e);return Object.keys(t).map((e=>t[e].length>0?a().createElement(bd.SelectGroup,{label:e,key:e},t[e].map((e=>y(e)))):null)).filter(Boolean)})(O),n=Od(O.find((e=>e.id===u.value))||null);return a().createElement(a().Fragment,null,p&&d&&a().createElement("span",{className:"error"},d),a().createElement(gd.Select,{variant:"single",selections:n,isOpen:e,onToggle:this.onToggle,onSelect:f,maxHeight:g?300:600,menuAppendTo:"parent"},t))}return t.error?a().createElement(Fr,{message:"Error loading node types",response:t}):a().createElement(a().Fragment,null,a().createElement("div",{className:"spinner-fit-container"},a().createElement(E.Z,null)),a().createElement("div",{className:"spinner-loading-text"},"Loading node types..."))}}Cd.propTypes={input:l().shape({onChange:l().func.isRequired,value:l().string}).isRequired,getMachineTypes:l().func.isRequired,machineTypes:l().object.isRequired,sortedMachineTypes:l().array.isRequired,machineTypesByID:l().object.isRequired,isMultiAz:l().bool.isRequired,isBYOC:l().bool.isRequired,isMachinePool:l().bool.isRequired,inModal:l().bool,cloudProviderID:l().string.isRequired,product:l().oneOf(Object.keys(ee.Po)).isRequired,billingModel:l().oneOf(Object.values(ee.F6)).isRequired,quota:l().object.isRequired,organization:l().object.isRequired,meta:l().shape({error:l().oneOfType([l().bool,l().string]),touched:l().bool}).isRequired};const Rd=Cd,Sd=hd()(vd,"name");function Pd(e,t){if(e.category===t.category){const n=function(e,t){return Qe(e.memory.value,e.memory.unit)-Qe(t.memory.value,t.memory.unit)}(e,t);return 0===n?e.cpu.value-t.cpu.value:n}return Sd.indexOf(e.category)-Sd.indexOf(t.category)}const wd={gcp:Pd,aws:Pd},Td=function(e,t){const n=T()(e.machineTypes.types,t,[]);return n.sort(wd[t]),n},Dd=e=>{var t;const{organization:n}=e.userProfile;if(null==n||!n.fulfilled)return!1;const{cluster:r}=e.clusters.details,a=null===(t=r.cloud_provider)||void 0===t?void 0:t.id,s=T()(r,"billing_model",ee.F6.STANDARD);return Td(e,a).some((t=>(t=>{var l,i,o;const c=e.machineTypes.typesByID[t];if(!c)return!1;const u=c.resource_name,d={product:null==r||null===(l=r.subscription)||void 0===l||null===(i=l.plan)||void 0===i?void 0:i.type,cloudProviderID:a,isBYOC:!(null==r||null===(o=r.ccs)||void 0===o||!o.enabled),isMultiAz:r.multi_az,resourceName:u,billingModel:s};return zc(null==n?void 0:n.quotaList,d)>=1})(t.id)))},_d=e=>{const t=T()(e,"userProfile.organization.details.capabilities",[]).find((e=>"capability.cluster.autoscale_clusters"===e.name));return!(!t||"true"!==t.value)},Id=(e,t)=>t===ee.Po.ROSA||t===ee.Po.OSD&&_d(e),Ad=(e,t)=>t===ee.Po.ROSA||t===ee.Po.OSD&&(e=>{const t=T()(e,"clusters.details.cluster");if(!t)return!1;const n=T()(t,"subscription.capabilities",[]).find((e=>"capability.cluster.autoscale_clusters"===e.name));return!(!n||"true"!==n.value)})(e)||t===ee.Po.OSD&&_d(e),Nd=(e,t)=>{var n,r,a,s;const{cluster:l}=e.clusters.details;return"aws"===(null===(n=l.cloud_provider)||void 0===n?void 0:n.id)&&(t===ee.Po.ROSA||t===ee.Po.OSD&&(null===(r=e.clusters.details)||void 0===r||null===(a=r.cluster)||void 0===a||null===(s=a.ccs)||void 0===s?void 0:s.enabled))};function Ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ld(Object(n),!0).forEach((function(t){kd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ld(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const jd=(0,vc.Z)({form:"EditNodeCount",enableReinitialize:!0})(sd),xd=(0,hu.Z)("EditNodeCount"),qd=(0,i.connect)((e=>{var t,n;const r=e.modal.data,a=null==r?void 0:r.cluster,s=xd(e,"machine_pool")||(null===(t=r.machinePool)||void 0===t?void 0:t.id)||r.isDefaultMachinePool&&"Default",l=T()(a,"cloud_provider.id",""),i=T()(a,"multi_az",!1);let o=0;if(xd(e,"autoscalingEnabled")){const t=xd(e,"max_replicas");o=i?3*t:t}else o=xd(e,"nodes_compute");const c={clusterID:T()(a,"id",""),machinePoolsList:Md(Md({},e.machinePools.getMachinePools),{},{data:[{name:"Default",value:"Default",machineType:T()(a,"nodes.compute_machine_type.id",""),nodes:T()(a,"nodes.compute",null)},...e.machinePools.getMachinePools.data.map((e=>({name:e.id,value:e.id,machineType:e.instance_type,nodes:e.replicas,aws:null==e?void 0:e.aws})))]}),isMultiAz:i,masterResizeAlertThreshold:id(s,o,a,e.machinePools.getMachinePools.data),organization:e.userProfile.organization,machineTypes:e.machineTypes,cloudProviderID:l,isByoc:null==a||null===(n=a.ccs)||void 0===n?void 0:n.enabled,product:T()(a,"subscription.plan.type",""),autoscalingEnabled:!!xd(e,"autoscalingEnabled"),canAutoScale:Ad(e,T()(a,"subscription.plan.type","")),autoScaleMinNodesValue:xd(e,"min_replicas"),autoScaleMaxNodesValue:xd(e,"max_replicas"),billingModel:T()(a,"billing_model",""),shouldDisplayClusterName:!!r.shouldDisplayClusterName&&r.shouldDisplayClusterName,clusterDisplayName:en(a)};let u=!1;const d=e=>{const t=e.min_replicas,n=e.max_replicas;return{min_replicas:i?(t/3).toString():t.toString(),max_replicas:i?(n/3).toString():n.toString()}};let p=i?9:4;var m;if(c.isByoc&&(p=i?3:2),"Default"===s)return u=null===(m=a.nodes)||void 0===m?void 0:m.autoscale_compute,Md(Md({},c),{},{editNodeCountResponse:e.clusters.editedCluster,machineType:T()(a,"nodes.compute_machine_type.id",""),machinePoolId:"Default",initialValues:Md({nodes_compute:T()(a,"nodes.compute",null)||T()(a,"nodes.autoscale_compute.min_replicas")||p,machine_pool:"Default",autoscalingEnabled:u},u&&d(a.nodes.autoscale_compute))});const h=T()(e,"machinePools.getMachinePools.data",[]).find((e=>e.id===s))||{};return u=h.autoscaling,Md(Md({},c),{},{editNodeCountResponse:e.machinePools.scaleMachinePoolResponse,machineType:T()(h,"instance_type",""),machinePoolId:s,initialValues:Md({nodes_compute:T()(h,"replicas",null)||T()(u,"min_replicas",null)||0,machine_pool:s,autoscalingEnabled:u},u&&d(h.autoscaling))})}),(e=>({onSubmit:(t,n,r)=>{const a={},s=parseInt(t.nodes_compute,10),l=parseInt(t.min_replicas,10),i=parseInt(t.max_replicas,10),o={min_replicas:r?3*l:l,max_replicas:r?3*i:i};"Default"===t.machine_pool?(a.nodes=t.autoscalingEnabled?{autoscale_compute:o}:{compute:s},e(Xn(n,a))):(t.autoscalingEnabled?a.autoscaling=o:a.replicas=s,e((0,pd.WA)(n,t.machine_pool,a)))},getMachinePools:t=>e((0,pd.BE)(t)),resetScaleMachinePoolResponse:()=>e((0,pd.mL)()),resetScaleDefaultMachinePoolResponse:()=>e(Jn()),resetGetMachinePoolsResponse:()=>e((0,pd.__)()),closeModal:()=>e(Wt()),getOrganizationAndQuota:()=>e((0,d.nh)()),getMachineTypes:()=>e(ud())})),((e,t,n)=>Md(Md(Md(Md({},n),e),t),{},{onSubmit:n=>{t.onSubmit(n,e.clusterID,e.isMultiAz)}})))(jd);var Ud=n(5977),zd=n(62410);class Fd extends r.Component{componentDidMount(){const{getSchedules:e,clusterID:t,clusterUpgrades:n}=this.props;t&&!n.pending&&e(t)}componentDidUpdate(){const{hibernateClusterResponse:e,resetResponses:t,closeModal:n,onClose:r}=this.props;e.fulfilled&&(t(),n(),r())}render(){const{closeModal:e,submit:t,hibernateClusterResponse:n,resetResponses:r,clusterID:s,clusterName:l,clusterUpgrades:i,history:o,subscriptionID:c,shouldDisplayClusterName:u}=this.props,d=e=>i.items.filter((t=>{var n;return(null===(n=t.state)||void 0===n?void 0:n.value)===e})),p=()=>{r(),e()},m=n.error?a().createElement(Fr,{message:"Error hibernating cluster",response:n}):null,h=a().createElement(qr.l,{onSubmit:()=>t()},m,a().createElement("p",null,"Moving"," ",a().createElement("b",null,l)," ","cluster to Hibernating state will block any operation for this cluster. While hibernating, the cluster will not consume any virtual machine instance or network resources, but will still count against subscription quota. Note that version upgrades will not occur."),a().createElement(Ur.bZ,{variant:"warning",title:"\n            In case the clusters cloud provider is not responsive,\n            resuming from hibernation might not be completed and will require manual intervention for the cluster to be restored.   \n          "}),"This can be undone at any time."),g=a().createElement(qr.l,{onSubmit:()=>t()},m,a().createElement("p",null,"Moving"," ",a().createElement("b",null,l)," ","to Hibernating state is not possible while the cluster is upgrading."));let b,E,f,y,v;const O=d("scheduled");var C;return d("started").length>0?(E="Cancel",y=p,f="See version update details",b=g):O.length>0?(E="Cancel",f="Change cluster upgrade policy",v=()=>{p(),o.location.pathname.startsWith("/details/s/")?window.location.hash="#updateSettings":o.push({pathname:`/details/s/${c}`,hash:"#updateSettings"})},y=p,C=O[0],b=a().createElement(qr.l,{onSubmit:()=>t()},m,a().createElement("p",null,"Moving"," ",a().createElement("b",null,l)," ","cluster to Hibernating state is not possible while there is a scheduled cluster upgrade."),a().createElement(Ur.bZ,{variant:"warning",title:a().createElement("p",null,"There is a scheduled update to,"," ",a().createElement(zd.Z,{type:"exact",date:Date.parse(C.next_run)}),"."," ","The scheduled update cannot be executed if the cluster is hibernating")}),"Try again after the cluster upgrade is done or cancel the upgrade.")):(b=h,E="Hibernate cluster",f="Cancel",y=()=>{t(s)},v=p),a().createElement(H,{"data-test-id":"hibernate-cluster-modal",title:"Hibernate cluster",secondaryTitle:u?l:void 0,onClose:p,primaryText:E,secondaryText:f,onPrimaryClick:y,onSecondaryClick:v,isPending:n.pending||i.pending},a().createElement(a().Fragment,null,b))}}Fd.propTypes={clusterID:l().string.isRequired,subscriptionID:l().string.isRequired,clusterName:l().string.isRequired,closeModal:l().func.isRequired,resetResponses:l().func.isRequired,getSchedules:l().func.isRequired,clusterUpgrades:l().shape({fulfilled:l().bool,pending:l().bool,items:l().array}).isRequired,hibernateClusterResponse:l().shape({fulfilled:l().bool,pending:l().bool,error:l().bool}),submit:l().func.isRequired,onClose:l().func.isRequired,history:l().shape({push:l().func.isRequired,location:l().shape({pathname:l().string.isRequired})}).isRequired,shouldDisplayClusterName:l().bool},Fd.defaultProps={hibernateClusterResponse:{}},Fd.modalName=wt;const Zd=Fd,Bd=(0,Ud.EN)((0,i.connect)((e=>{const t=e.modal.data;return{hibernateClusterResponse:e.clusters.hibernatingCluster,clusterID:t.clusterID?t.clusterID:"",clusterName:t.clusterName?t.clusterName:"",clusterUpgrades:e.clusterUpgrades.schedules,subscriptionID:t.subscriptionID?t.subscriptionID:"",shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:t=>{var n;e((n=t,e=>e({type:ot.em.lb,payload:xt.le.hibernateCluster(n)})))},resetResponses:()=>{e((e=>e({type:ot.em.Q6}))),e((0,zn.Uy)())},getSchedules:t=>e((0,zn.ao)(t)),closeModal:()=>e(Wt())})))(Zd));class Gd extends r.Component{componentDidUpdate(){const{resumeClusterResponse:e,resetResponse:t,closeModal:n,onClose:r}=this.props;e.fulfilled&&(t(),n(),r())}render(){const{closeModal:e,submit:t,resumeClusterResponse:n,resetResponse:r,clusterID:s,clusterName:l,shouldDisplayClusterName:i}=this.props,o=()=>{r(),e()},c=n.error?a().createElement(Fr,{message:"Error hibernating cluster",response:n}):null,u=()=>{t(s)};return a().createElement(H,{"data-test-id":"resume-cluster-modal",title:"Resume from Hibernation",secondaryTitle:i?l:void 0,onClose:o,primaryText:"Resume cluster",secondaryText:"Cancel",onPrimaryClick:u,isPending:n.pending,onSecondaryClick:o},a().createElement(a().Fragment,null,a().createElement(qr.l,{onSubmit:()=>u()},c,a().createElement("p",null,"cluster will move out of Hibernating state and all cluster operations will be resumed."))))}}Gd.propTypes={clusterID:l().string.isRequired,clusterName:l().string.isRequired,closeModal:l().func,resetResponse:l().func,resumeClusterResponse:l().shape({fulfilled:l().bool,pending:l().bool,error:l().bool}),submit:l().func,onClose:l().func,shouldDisplayClusterName:l().bool},Gd.defaultProps={resumeClusterResponse:{}},Gd.modalName=Tt;const Hd=Gd,Vd=(0,i.connect)((e=>{const t=e.modal.data;return{resumeClusterResponse:e.clusters.resumeHibernatingCluster,clusterID:t.clusterID?t.clusterID:"",clusterName:t.clusterName?t.clusterName:"",shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:t=>{var n;e((n=t,e=>e({type:ot.em.fK,payload:xt.le.resumeCluster(n)})))},resetResponse:()=>e((e=>e({type:ot.em.ai}))),closeModal:()=>e(Wt())})))(Hd);class $d extends r.Component{componentDidUpdate(){const{unarchiveClusterResponse:e,resetResponse:t,closeModal:n,onClose:r}=this.props;e.fulfilled&&(t(),n(),r())}render(){const{closeModal:e,submit:t,unarchiveClusterResponse:n,resetResponse:r,subscriptionID:s,name:l,shouldDisplayClusterName:i}=this.props,o=()=>{r(),e()},c=n.error?a().createElement(Fr,{message:"Error un-archiving cluster",response:n}):null;return a().createElement(H,{title:"Unarchive cluster",secondaryTitle:i?l:void 0,"data-test-id":"unarchive-cluster-dialog",onClose:o,primaryText:"Unarchive cluster",onPrimaryClick:()=>t(s,l),isPending:n.pending,onSecondaryClick:o},a().createElement(a().Fragment,null,c,a().createElement(qr.l,{onSubmit:()=>t(s,l)},a().createElement("p",null,"Un-archiving a cluster will make it visible in the active (default) cluster list. You may need to manage subscriptions if the cluster is active."))))}}$d.propTypes={closeModal:l().func.isRequired,onClose:l().func.isRequired,submit:l().func.isRequired,resetResponse:l().func.isRequired,unarchiveClusterResponse:l().object,subscriptionID:l().string.isRequired,name:l().string.isRequired,shouldDisplayClusterName:l().bool},$d.defaultProps={unarchiveClusterResponse:{}},$d.modalName=bt;const Qd=$d,Wd=(0,i.connect)((e=>{const t=e.modal.data;return{isOpen:ze(e,"unarchive-cluster"),unarchiveClusterResponse:e.clusters.unarchivedCluster,subscriptionID:t.subscriptionID?t.subscriptionID:"",name:t.name?t.name:"",shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:(t,n)=>{e(rr(t,n))},resetResponse:()=>e((e=>e({type:ot.em.H8}))),closeModal:()=>e(Wt())})))(Qd);class Yd extends r.Component{constructor(...e){var t,n;super(...e),n={currentValue:""},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){const{displayName:e}=this.props;this.setState({currentValue:e})}componentDidUpdate(){const{editClusterResponse:e,resetResponse:t,closeModal:n,onClose:r}=this.props;e.fulfilled&&(t(),n(),r())}setValue(e){this.setState({currentValue:e})}render(){const{closeModal:e,submit:t,editClusterResponse:n,resetResponse:r,subscriptionID:s,shouldDisplayClusterName:l,displayName:i}=this.props,{currentValue:o}=this.state,c=()=>{r(),e()},u=n.error&&a().createElement(Fr,{message:"Error changing display name",response:n}),{pending:d}=n,p=Ka(o),m=()=>{p||t(s,o)};return a().createElement(H,{title:"Edit display name",secondaryTitle:l?i:void 0,"data-test-id":"edit-displayname-modal",onClose:c,primaryText:"Edit",secondaryText:"Cancel",onPrimaryClick:m,onSecondaryClick:c,isPrimaryDisabled:!!p||o===i,isPending:d},a().createElement(a().Fragment,null,u,a().createElement(qr.l,{onSubmit:e=>{m(),e.preventDefault()}},a().createElement(Gr.c,{helperTextInvalid:p,validated:p?"error":"default",fieldId:"edit-display-name-input"},a().createElement(ca.TextInput,{type:"text",validated:p?"error":"default",value:o,placeholder:"Enter display name",onChange:e=>this.setValue(e),"aria-label":"Edit display name",id:"edit-display-name-input"})))))}}Yd.propTypes={closeModal:l().func.isRequired,onClose:l().func.isRequired,submit:l().func.isRequired,resetResponse:l().func.isRequired,editClusterResponse:l().object,displayName:l().string,subscriptionID:l().string,shouldDisplayClusterName:l().bool},Yd.defaultProps={editClusterResponse:{}},Yd.modalName=yt;const Kd=Yd,Jd=(0,i.connect)((e=>{const t=e.modal.data;return{editClusterResponse:e.clusters.editedCluster,clusterID:t.id,subscriptionID:T()(t,"subscription.id"),displayName:en(t),shouldDisplayClusterName:t.shouldDisplayClusterName||!1}}),(e=>({submit:(t,n)=>{e(er(t,n))},resetResponse:()=>e(Jn()),closeModal:()=>e(Wt())})))(Kd);class Xd extends r.Component{constructor(...e){var t,n;super(...e),n={currentValue:""},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){const{consoleURL:e}=this.props;this.setState({currentValue:e})}componentDidUpdate(){const{editClusterResponse:e,resetResponse:t,closeModal:n,onClose:r}=this.props;e.fulfilled&&(t(),n(),r())}setValue(e){this.setState({currentValue:e})}render(){const{closeModal:e,submit:t,editClusterResponse:n,resetResponse:r,clusterID:s,subscriptionID:l,consoleURL:i,shouldDisplayClusterName:o,clusterDisplayName:c}=this.props,{currentValue:u}=this.state,d=()=>{this.setState({currentValue:null}),r(),e()},p=n.error&&a().createElement(Fr,{message:"Error changing console URL",response:n}),m=ts(u,!0),h=()=>{m||t(s,l,u)},g=u!==i;return a().createElement(H,{"data-test-id":"edit-console-url-dialog",title:i?"Edit console URL":"Add console URL",secondaryTitle:o?c:void 0,onClose:d,primaryText:i?"Save":"Add URL",secondaryText:"Cancel",onPrimaryClick:h,onSecondaryClick:d,isPrimaryDisabled:!!m||!g},a().createElement(a().Fragment,null,p,!i&&a().createElement("p",null,"Adding a cluster's web console URL will allow you to launch the web console from the OpenShift Cluster Manager."),a().createElement(qr.l,{onSubmit:e=>{h(),e.preventDefault()}},a().createElement(Gr.c,{label:"Web console URL",helperTextInvalid:m,validated:g&&m?"error":"default",fieldId:"edit-console-url-input"},a().createElement(ca.TextInput,{type:"text",validated:g&&m?"error":"default",value:u,placeholder:"https://console-openshift-console.apps.mycluster.example.com/",onChange:e=>this.setValue(e),"aria-label":"Web console URL",id:"edit-console-url-input"})))))}}Xd.propTypes={closeModal:l().func.isRequired,onClose:l().func.isRequired,submit:l().func.isRequired,resetResponse:l().func.isRequired,editClusterResponse:l().object,consoleURL:l().string,clusterID:l().string,subscriptionID:l().string,shouldDisplayClusterName:l().bool,clusterDisplayName:l().string},Xd.defaultProps={editClusterResponse:{}},Xd.modalName=vt;const ep=Xd,tp=(0,i.connect)((e=>{const t=e.modal.data;return{editClusterResponse:e.clusters.editedCluster,clusterID:t.id,subscriptionID:T()(t,"subscription.id"),consoleURL:t.console_url||T()(t,"console.url",""),shouldDisplayClusterName:e.modal.data.shouldDisplayClusterName||!1,clusterDisplayName:en(t)}}),(e=>({submit:(t,n,r)=>{let a=r;r.endsWith("/")&&(a=r.substring(0,r.length-1)),e(((e,t,n)=>r=>r({type:ot.em.E$,payload:xt.le.editCluster(e,{console:{url:n}}).then((()=>xt.BJ.editSubscription(t,{console_url:n})))}))(t,n,a))},resetResponse:()=>e(Jn()),closeModal:()=>e(Wt())})))(ep);var np=n(78852);function rp(e,t){const n=t?null:{notifications:{fulfilled:{variant:"success",title:"Cluster ownership transfer canceled",dismissDelay:8e3,dismissable:!1}}};return r=>r({type:np.a,payload:xt.BJ.editSubscription(e,{released:t}),meta:n})}var ap=n(69693);function sp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class lp extends r.Component{constructor(...e){super(...e),sp(this,"handleSubmit",(()=>{const{submit:e,subscription:t}=this.props,n=T()(t,"released",!1);e(t.id,!n)})),sp(this,"handleClose",(()=>{const{closeModal:e}=this.props;e()}))}componentDidUpdate(){const{requestState:e,onClose:t}=this.props;e.fulfilled&&(this.handleClose(),t())}render(){const{requestState:e,subscription:t,clusterDisplayName:n,shouldDisplayClusterName:r}=this.props,s=(null==t?void 0:t.status)===ee.Ij.DISCONNECTED?a().createElement(a().Fragment,null,a().createElement(Pr.Gn,{component:Pr.F_.ol},a().createElement(wr.Ts,null,"Initiate transfer"),a().createElement(wr.Ts,null,a().createElement(Rr,{href:`${(0,ap.ZP)()}/register`},"Register the cluster")," ","within 5 days"))):a().createElement(a().Fragment,null,a().createElement(Pr.Gn,{component:Pr.F_.ol},a().createElement(wr.Ts,null,"Initiate transfer"),a().createElement(wr.Ts,null,a().createElement(Rr,{href:"https://access.redhat.com/solutions/4902871"},"Change the cluster's pull secret")," ","within 5 days")),a().createElement(h.xv,{component:h.qO.p},"The transfer is complete when OpenShift Cluster Manager receives telemetry data from the cluster with the new pull secret."));return a().createElement(H,{title:"Transfer cluster ownership",secondaryTitle:r?n:void 0,width:600,variant:"large",onClose:this.handleClose,primaryText:"Initiate transfer",secondaryText:"Cancel",onPrimaryClick:this.handleSubmit,onSecondaryClick:this.handleClose,isPrimaryDisabled:e.pending},e.error&&a().createElement(Fr,{message:"Error initiating transfer",response:e}),a().createElement(m.D,null,a().createElement(h.xv,{component:h.qO.p},"Transferring cluster ownership will allow another individual to manage this cluster. The steps for transferring cluster ownership are:"),s,a().createElement(h.xv,{component:h.qO.h4},"If the transfer is not completed within 5 days, the procedure must be restarted.")))}}lp.propTypes={subscription:l().object,requestState:l().object,closeModal:l().func.isRequired,submit:l().func.isRequired,onClose:l().func.isRequired,clusterDisplayName:l().string,shouldDisplayClusterName:l().bool},lp.modalName=Rt;const ip=lp,op=(0,i.connect)((e=>({subscription:e.modal.data.subscription,requestState:e.subscriptionReleased.requestState,shouldDisplayClusterName:e.modal.data.shouldDisplayClusterName||!1,clusterDisplayName:en(e.modal.data)})),(e=>({submit:(t,n)=>{e(rp(t,n))},closeModal:()=>{e((e=>e({type:np.H}))),e(Wt())}})))(ip),cp=n.p+"images/RH_BRAND_7764_01_MECH_Training.cb96c5a16f919c308a2b5256b942a0e4.svg";function up(){return(up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class dp extends r.Component{constructor(...e){var t,n;super(...e),n=e=>{window.open(e,"_blank")},(t="buttonLinkClick")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){const{organization:e,getOrganizationAndQuota:t}=this.props;e.pending||t()}componentDidUpdate(){const{upgradeTrialClusterResponse:e,resetResponse:t,closeModal:n,onClose:r}=this.props;e.fulfilled&&(t(),n(),r())}upgradeModalQuota(){const{cluster:e,machineTypesByID:t,organization:{quotaList:n}}=this.props,{OSD:r}=ee.Po,{STANDARD:a,MARKETPLACE:s}=ee.F6,l={STANDARD:!1,MARKETPLACE:!1},i=T()(e,"multi_az"),o=i?3:2,c=T()(e,"nodes.compute_machine_type.id");if(!c)return l;const u=od(t[c]),d={product:r,cloudProviderID:T()(e,"cloud_provider.id"),resourceName:u,isBYOC:!0,isMultiAz:i,billingModel:a},p=jc(n,d),m=zc(n,d);l.STANDARD=m>o&&p>0,d.billingModel=s;const h=jc(n,d),g=zc(n,d);return l.MARKETPLACE=g>o&&h>0,l}primaryButton(e){const{submit:t,clusterID:n}=this.props,{STANDARD:r,MARKETPLACE:a}=ee.F6,s=e.MARKETPLACE,l={primaryText:"Contact sales",onPrimaryClick:()=>this.buttonLinkClick("https://www.openshift.com/products/dedicated/contact/")};return e.STANDARD&&!e.MARKETPLACE?(l.primaryText="Upgrade using quota",l.primaryLink=null,l.onPrimaryClick=()=>t(n,r),l):s?(l.primaryText="Upgrade using Marketplace billing",l.primaryLink=null,l.onPrimaryClick=()=>t(n,a),l):l}secondaryButton(e){const{submit:t,clusterID:n}=this.props,{STANDARD:r}=ee.F6,a={showSecondary:!0,secondaryText:"Enable Marketplace billing"};return a.onSecondaryClick=()=>this.buttonLinkClick("https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated"),e.MARKETPLACE&&e.STANDARD&&(a.secondaryText="Upgrade using quota",a.onSecondaryClick=()=>t(n,r)),e.MARKETPLACE&&!e.STANDARD&&(a.showSecondary=!1,a.secondaryLink=null),a}tertiaryButton(){const{closeModal:e,resetResponse:t}=this.props,n=()=>{t(),e()};return{tertiaryText:"Cancel",onTertiaryClick:n,showTertiary:!0,onClose:n}}render(){const{submit:e,upgradeTrialClusterResponse:t,clusterID:n,shouldDisplayClusterName:r,clusterDisplayName:s}=this.props,l=t.error?a().createElement(Fr,{message:"Error upgrading cluster",response:t}):null,i=this.upgradeModalQuota(),c=this.primaryButton(i),u=this.secondaryButton(i),d=this.tertiaryButton(),m=!(i.STANDARD||i.MARKETPLACE),h=m?"small":"medium";return a().createElement(H,up({title:"Upgrade cluster from Trial",secondaryTitle:r?s:void 0,"data-test-id":"upgrade-trial-cluster-dialog",modalSize:h},c,{className:"upgrade-trial-cluster-dialog"},u,d,{isPending:t.pending}),a().createElement("p",null,l),a().createElement(qr.l,{onSubmit:()=>e(n)},a().createElement("p",null,!m&&a().createElement("img",{className:"upgrade-trial-logo",src:cp,alt:"Red Hat"}),"Convert this trial cluster to a fully supported OpenShift Dedicated cluster.",a().createElement("br",null),a().createElement("br",null),a().createElement(Rr,{href:"https://access.redhat.com/documentation/en-us/openshift_cluster_manager/2021/html-single/managing_clusters/index#upgrading-osd-trial-cluster_assembly-cluster-subscriptions"},"Learn more"),m&&a().createElement(Ur.bZ,{variant:"warning",isInline:!0,title:"Your organization doesn't have enough quota to upgrade this cluster.",className:"upgrade-trial-no-quota"},a().createElement(o.Link,{to:"/quota"},a().createElement(p.Button,{id:"subscriptions",variant:"link"},"View your available quota"))))))}}dp.propTypes={closeModal:l().func.isRequired,onClose:l().func.isRequired,submit:l().func.isRequired,resetResponse:l().func.isRequired,clusterID:l().string.isRequired,organization:l().object.isRequired,cluster:l().object.isRequired,getOrganizationAndQuota:l().func.isRequired,upgradeTrialClusterResponse:l().object,machineTypesByID:l().object,clusterDisplayName:l().string,shouldDisplayClusterName:l().bool},dp.defaultProps={upgradeTrialClusterResponse:{}},dp.modalName=St;const pp=dp,mp=(0,i.connect)((e=>{const t=e.modal.data;return{upgradeTrialClusterResponse:e.clusters.upgradedCluster,organization:e.userProfile.organization,clusterID:t.clusterID?t.clusterID:"",cluster:t.cluster?t.cluster:"",clusterDisplayName:en(t.cluster),shouldDisplayClusterName:t.shouldDisplayClusterName,machineTypesByID:e.machineTypes.typesByID}}),(e=>({submit:(t,n)=>{var r,a;e((r=t,a={billing_model:n,product:{id:"osd"}},e=>e({type:ot.em.nO,payload:xt.le.upgradeTrialCluster(r,a)})))},resetResponse:()=>e((e=>e({type:ot.em.nn}))),closeModal:()=>e(Wt()),getOrganizationAndQuota:()=>e((0,d.nh)())})))(pp);var hp=n(48143);function gp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class bp extends a().Component{constructor(...e){super(...e),gp(this,"state",{clusterNameInput:""}),gp(this,"setValue",(e=>{this.setState({clusterNameInput:e})}))}componentDidUpdate(e){const{deleteClusterResponse:t}=this.props;!e.deleteClusterResponse.fulfilled&&t.fulfilled&&this.closeDialog(!0)}closeDialog(e){const{clearDeleteClusterResponse:t,close:n,onClose:r}=this.props;this.setState({clusterNameInput:""}),t(),n(),r(e)}render(){const{modalData:e,deleteCluster:t,deleteClusterResponse:n,shouldDisplayClusterName:r}=this.props,{clusterID:s,clusterName:l}=e,{clusterNameInput:i}=this.state,o=n.error&&a().createElement(Fr,{message:"Error deleting cluster",response:n}),c=n.pending,u=i===l,d=()=>{t(s)};return a().createElement(H,{title:"Delete cluster",secondaryTitle:r?l:void 0,onClose:()=>this.closeDialog(!1),primaryText:"Delete",onPrimaryClick:()=>d(),onSecondaryClick:()=>this.closeDialog(!1),isPrimaryDisabled:!u||c,isPending:c,primaryVariant:"danger","data-test-id":"delete-cluster-dialog"},a().createElement(a().Fragment,null,o,a().createElement("p",null,"This action cannot be undone. It will uninstall the cluster, and all data will be deleted.")),a().createElement(qr.l,{onSubmit:e=>{e.preventDefault(),u&&!c&&d()}},a().createElement("p",null,"Confirm deletion by typing"," ",a().createElement("span",{style:{fontWeight:"bold"}},l)," ","below:"),a().createElement(ca.TextInput,{type:"text",value:i,placeholder:"Enter name",onChange:this.setValue,"aria-label":"cluster name"})))}}bp.propTypes={modalData:l().shape({clusterName:l().string,clusterID:l().string}),clearDeleteClusterResponse:l().func.isRequired,close:l().func.isRequired,deleteCluster:l().func.isRequired,deleteClusterResponse:l().object,onClose:l().func,shouldDisplayClusterName:l().bool},bp.defaultProps={onClose:_},bp.modalName=Ot;const Ep=bp,fp={clearDeleteClusterResponse:()=>({type:hp.UQ.CLEAR_DELETE_CLUSTER_RESPONSE}),deleteCluster:e=>(e=>({type:hp.UQ.DELETE_CLUSTER,payload:xt.le.deleteCluster(e)}))(e),close:()=>Wt()},yp=(0,i.connect)((e=>({modalData:e.modal.data,deleteClusterResponse:e.deleteCluster,shouldDisplayClusterName:e.modal.data.shouldDisplayClusterName||!1})),fp)(Ep);var vp=n(45787),Op=n(84556),Cp=n(10928),Rp=n.n(Cp),Sp=n(3255),Pp=n(23218),wp=n(47668);const Tp=e=>{const{isSelected:t,isRecommended:n,version:r,onKeyDown:s,onClick:l,children:i}=e;return a().createElement(ke.Card,{className:"version-card",id:r,onKeyDown:s,onClick:l,isSelectable:!0,isCompact:!0,isSelected:t},a().createElement(Le.l,null,a().createElement(O.P,null,a().createElement(C.J,null,r),a().createElement(C.J,{isFilled:!0}),n&&a().createElement(C.J,null,a().createElement(Pp.Label,{color:"blue",icon:a().createElement(wp.ZP,null)},"Recommended")))),i&&a().createElement(Me.e,null,i),a().createElement(Er.e,null,(e=>{const{groups:t}=Sp.q.exec(e),{major:n,minor:r,revision:s,patch:l}=t;if("4"!==n||void 0!==l)return null;const i=`https://docs.openshift.com/container-platform/${n}.${r}/release_notes/ocp-${n}-${r}-release-notes.html#ocp-${n}-${r}-${s}`;return a().createElement(p.Button,{variant:"link",className:"card-footer-button"},a().createElement(Rr,{href:i},"View release notes"))})(r)))};Tp.propTypes={isSelected:l().bool,isRecommended:l().bool,version:l().string.isRequired,onKeyDown:l().func.isRequired,onClick:l().func.isRequired,children:l().node},Tp.defaultProps={isRecommended:!1};const Dp=Tp;function _p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ip extends a().Component{constructor(...e){super(...e),_p(this,"onKeyDown",(e=>{e.target===e.currentTarget&&[13,32].includes(e.keyCode)&&this.onClick(e)})),_p(this,"onClick",(e=>{const{selected:t,onSelect:n}=this.props;n(e.currentTarget.id===t?null:e.currentTarget.id)}))}componentDidMount(){this.selectDefault()}selectDefault(){const{availableUpgrades:e,selected:t,onSelect:n}=this.props;1!==e.length||t||n(e[0])}recommendedCards(e,t){const{selected:n}=this.props,r=Sp.q.exec(t).groups;return a().createElement(a().Fragment,null,e?a().createElement(xe.P,{span:6},a().createElement(Dp,{isRecommended:!0,isSelected:n===e,version:e,onKeyDown:this.onKeyDown,onClick:this.onClick},"The latest on your current minor version.")):null,t!==e?a().createElement(xe.P,{span:6},a().createElement(Dp,{isRecommended:!0,isSelected:n===t,version:t,onKeyDown:this.onKeyDown,onClick:this.onClick},"Start taking advantage of the new features"," ",`${r.major}.${r.minor}`," ","has to offer.")):null)}render(){const{availableUpgrades:e,clusterVersion:t,selected:n}=this.props,r=Rp()(e),s=Sp.q.exec(t).groups,l=e.filter((e=>{const t=Sp.q.exec(e).groups;return t.major===s.major&&t.minor===s.minor})),i=Rp()(l),o=e.filter((e=>e!==r&&e!==i));return a().createElement(a().Fragment,null,a().createElement(R.Title,{className:"version-select-step-title",size:"lg",headingLevel:"h3"},"Select version"),a().createElement("div",{id:"version-grid-wrapper"},a().createElement(je.r,{hasGutter:!0,className:"version-selection-grid"},this.recommendedCards(i,r),o.length>0&&a().createElement(xe.P,{span:12},a().createElement(Op.Divider,null)),o.map((e=>a().createElement(xe.P,{span:4,key:e},a().createElement(Dp,{version:e,onKeyDown:this.onKeyDown,onClick:this.onClick,isSelected:n===e})))))))}}Ip.propTypes={clusterVersion:l().string.isRequired,availableUpgrades:l().arrayOf(l().string),onSelect:l().func.isRequired,selected:l().string};const Ap=Ip;var Np=n(9198),Lp=n.n(Np);function Mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class kp extends a().Component{constructor(...e){super(...e),Mp(this,"state",{timeSelectionOpen:!1}),Mp(this,"getDefaultTimestamp",(()=>{const e=new Date((new Date).getTime()+36e5);return e.getMinutes()>5&&e.setHours(e.getHours()+1),e.setSeconds(0),e.setMilliseconds(0),e.setMinutes(0),e})),Mp(this,"modeChange",((e,t)=>{const{onSet:n,timestamp:r}=this.props;"now"===t.target.value?n({type:"now"}):n({type:"time",timestamp:r||this.getDefaultTimestamp().toISOString()})})),Mp(this,"setDate",(e=>{const{onSet:t}=this.props,n=this.getDefaultTimestamp();t({type:"time",timestamp:e<n?n:e})})),Mp(this,"setTime",((e,t)=>{const{onSet:n,timestamp:r}=this.props,a=new Date(r),[s,l]=t.split(":");a.setHours(s),a.setMinutes(l),n({type:"time",timestamp:a.toISOString()}),this.setState({timeSelectionOpen:!1})})),Mp(this,"onSelectToggle",(()=>{}))}render(){const{type:e,timestamp:t}=this.props,{timeSelectionOpen:n}=this.state;n&&setTimeout((()=>{requestAnimationFrame((()=>{const e=document.querySelector("#upgrade-time-select-dropdown .pf-c-select__menu-item.pf-m-selected");e&&e.scrollIntoView({block:"center"})}))}),1);const r=new Date;return r.setMonth(r.getMonth()+6),a().createElement(a().Fragment,null,a().createElement(R.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"Schedule update"),a().createElement(qr.l,{className:"wizard-step-body"},a().createElement(Gr.c,{fieldId:"upgrade-schedule-now"},a().createElement(fa.Radio,{isChecked:"now"===e,name:"upgrade-schedule-type",id:"upgrade-schedule-now",value:"now",label:"Update now (update will begin within the next hour)",onChange:this.modeChange})),a().createElement(Gr.c,{fieldId:"upgrade-schedule-time"},a().createElement(fa.Radio,{isChecked:"time"===e,name:"upgrade-schedule-type",id:"upgrade-schedule-time",value:"time",label:"Schedule a different time",onChange:this.modeChange})),"time"===e&&a().createElement(a().Fragment,null,a().createElement(Gr.c,{fieldId:"upgrade-schedule-datepicker",className:"upgrade-schedule-datepicker"},a().createElement(Lp(),{id:"upgrade-schedule-datepicker",selected:t&&new Date(t),onChange:this.setDate,dateFormat:"yyyy-MM-dd",customInput:a().createElement(ca.TextInput,{iconVariant:"calendar"}),minDate:new Date,maxDate:r}),a().createElement(gd.Select,{selections:(()=>{const e=new Date(t);return`${e.getHours().toString().padStart(2,0)}:${e.getMinutes().toString().padStart(2,0)}`})(),onSelect:this.setTime,onToggle:()=>this.setState((e=>({timeSelectionOpen:!e.timeSelectionOpen}))),isOpen:n,id:"upgrade-time-select-dropdown"},(()=>{const e=[];for(let n=0;n<24;n+=1){const r=`${n.toString().padStart(2,0)}:00`,s=new Date(t);s.setHours(n),s.setMinutes(0),e.push(a().createElement(Ed.SelectOption,{value:r,key:r,isDisabled:this.getDefaultTimestamp()>s},r))}return e})())),a().createElement("dl",{className:"cluster-upgrade-dl"},a().createElement("dt",null,"UTC "),a().createElement("dd",null,a().createElement(zd.Z,{type:"exact",date:new Date(t)}))))))}}kp.propTypes={onSet:l().func.isRequired,type:l().oneOf(["now","time"]),timestamp:l().string};const jp=kp;function xp({requestStatus:e,close:t,scheduleType:n,upgradeTimestamp:r}){return e.error?a().createElement(Sl.b,null,a().createElement(Fr,{message:"Failed to schedule upgrade",response:e})):e.pending||!e.fulfilled?a().createElement(E.Z,{className:"wizard-step-body",centered:!0}):a().createElement(g.ub,{variant:"large",className:"wizard-step-body"},a().createElement(Oe.k,{icon:Xt.ZP,color:Se.global_success_color_100.value}),a().createElement(R.Title,{headingLevel:"h4",size:"lg"},"Scheduled cluster update"),a().createElement(b.B,null,"Your update was successfully scheduled to start within"," ","now"===n?"the next hour":a().createElement(a().Fragment,null,"one hour of"," ",a().createElement(zd.Z,{type:"exact",date:new Date(r)})),"."),a().createElement(Ce.i,null,a().createElement(p.Button,{onClick:t},"Close")))}xp.propTypes={requestStatus:l().shape({fulfilled:l().bool,error:l().bool,pending:l().bool}).isRequired,close:l().func.isRequired,scheduleType:l().string,upgradeTimestamp:l().string};const qp=xp;function Up(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class zp extends a().Component{constructor(...e){super(...e),Up(this,"state",{selectedVersion:void 0,upgradeTimestamp:void 0,scheduleType:"now"}),Up(this,"close",(()=>{const{closeModal:e,clearPostedUpgradeScheduleResponse:t}=this.props;this.setState({selectedVersion:void 0,upgradeTimestamp:void 0,scheduleType:"now"}),t(),e()})),Up(this,"selectVersion",(e=>this.setState({selectedVersion:e}))),Up(this,"setSchedule",(({timestamp:e,type:t})=>this.setState({upgradeTimestamp:e,scheduleType:t}))),Up(this,"onNext",(e=>{const{clusterDetails:t,postSchedule:n}=this.props,{selectedVersion:r,scheduleType:a,upgradeTimestamp:s}=this.state;if("finish"===e.id){const e="now"===a?new Date((new Date).getTime()+36e4).toISOString():s;n(t.cluster.id,{schedule_type:"manual",upgrade_type:"OSD",next_run:e,version:r})}}))}componentDidMount(){const{fetchClusterDetails:e,subscriptionID:t}=this.props;e(t)}render(){const{clusterName:e,upgradeScheduleRequest:t,clusterDetails:n,subscriptionID:r}=this.props,{selectedVersion:s,upgradeTimestamp:l,scheduleType:i}=this.state,{cluster:o}=n,c=s&&(l||"now"===i),u=[{id:"select-version",name:"Select version",component:n.pending&&!n.fulfilled||(null==o?void 0:o.subscription.id)!==r?a().createElement(E.Z,{centered:!0}):a().createElement(Ap,{availableUpgrades:o.version.available_upgrades,clusterVersion:o.openshift_version,clusterChannel:o.version.channel_group,selected:s,onSelect:this.selectVersion}),enableNext:!!s},{id:"schedule-upgrade",name:"Schedule update",component:a().createElement(jp,{onSet:this.setSchedule,timestamp:l,type:i}),canJumpTo:!!s,enableNext:c},{id:"confirmation",name:"Confirmation",component:a().createElement(a().Fragment,null,a().createElement(R.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"Confirmation of your update"),a().createElement("dl",{className:"wizard-step-body cluster-upgrade-dl"},a().createElement("div",null,a().createElement("dt",null,"Version"),a().createElement("dd",null,o.openshift_version," ",""," ",s)),a().createElement("dt",null,"Scheduled"),a().createElement("dd",null,"now"===i?"Within the next hour":a().createElement("dl",null,a().createElement("dt",null,"UTC"),a().createElement("dd",null,a().createElement(zd.Z,{type:"exact",date:new Date(l)})),a().createElement("div",null,a().createElement("dt",null,"Local time"),a().createElement("dd",null,new Date(l).toString())))))),nextButtonText:"Confirm update",canJumpTo:c},{id:"finish",name:"Finish",component:a().createElement(qp,{onClose:this.closeWizard,scheduleType:i,upgradeTimestamp:l,requestStatus:t,close:this.close}),isFinishedStep:!0}];return a().createElement(vp.e,{title:"Update cluster",className:"ocm-upgrade-wizard",description:e,isOpen:!0,steps:u,onNext:this.onNext,onClose:this.close})}}zp.propTypes={closeModal:l().func.isRequired,clusterName:l().string,subscriptionID:l().string,upgradeScheduleRequest:l().object.isRequired,postSchedule:l().func.isRequired,clearPostedUpgradeScheduleResponse:l().func.isRequired,fetchClusterDetails:l().func.isRequired,clusterDetails:l().shape({pending:l().bool,fulfilled:l().bool,cluster:l().shape({id:l().string,subscription:l().shape({id:l().string}),openshift_version:l().string,version:l().shape({channel_group:l().string,available_upgrades:l().arrayOf(l().string)})})})},zp.modalName=Ct;const Fp=zp,Zp={closeModal:Wt,postSchedule:zn.TE,clearPostedUpgradeScheduleResponse:zn.Uy,fetchClusterDetails:or},Bp=(0,i.connect)((e=>({subscriptionID:e.modal.data.subscriptionID,clusterName:e.modal.data.clusterName,clusterDetails:e.clusters.details,upgradeScheduleRequest:e.clusterUpgrades.postedUpgradeSchedule})),Zp)(Fp);function Gp({onClose:e,onClusterDeleted:t}){return a().createElement(a().Fragment,null,a().createElement(Be,{ModalComponent:Jd,onClose:e}),a().createElement(Be,{ModalComponent:tp,onClose:e}),a().createElement(Be,{ModalComponent:op,onClose:e}),a().createElement(Be,{ModalComponent:vl,onClose:e,isDialog:!0}),a().createElement(Be,{ModalComponent:mu,onClose:e}),a().createElement(Be,{ModalComponent:qd,onClose:e}),a().createElement(Be,{ModalComponent:Rl,onClose:e}),a().createElement(Be,{ModalComponent:Bd,onClose:e}),a().createElement(Be,{ModalComponent:Vd,onClose:e}),a().createElement(Be,{ModalComponent:Wd,onClose:e}),a().createElement(Be,{ModalComponent:mp,onClose:e}),a().createElement(Be,{ModalComponent:Bp}),a().createElement(Be,{ModalComponent:yp,onClose:n=>{n&&(t?t():e())}}))}Gp.propTypes={onClose:l().func.isRequired,onClusterDeleted:l().func};const Hp=Gp;function Vp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $p extends r.Component{constructor(...e){super(...e),Vp(this,"state",{loadingChangedView:!1}),Vp(this,"refresh",(()=>{const{fetchClusters:e,viewOptions:t}=this.props;e(le(t))}))}componentDidMount(){document.title="Clusters | Red Hat OpenShift Cluster Manager";const{getCloudProviders:e,cloudProviders:t,setListFlag:n,getOrganizationAndQuota:r,organization:a,getMachineTypes:s,machineTypes:l}=this.props;k();const i=ue("plan_id")||"";if(P()(i))this.refresh();else{const e={};ee.GO.forEach((t=>{e[t.key]=!0})),n("subscriptionFilter",{plan_id:i.split(",").filter((t=>e[t]))})}t.fulfilled||t.pending||e(),l.fulfilled||l.pending||s(),a.fulfilled||a.pending||r()}componentDidUpdate(e){const{viewOptions:t,valid:n,pending:r,features:a}=this.props,s=a[Bn.xf]!==e.features[Bn.xf];(!n&&!r||s||ae(t,e.viewOptions))&&(this.setState({loadingChangedView:!0}),this.refresh()),e.pending&&!r&&this.setState({loadingChangedView:!1})}componentWillUnmount(){const{closeModal:e,clearGlobalError:t,clearClusterDetails:n}=this.props;e(),n(),t("clusterList")}render(){const{error:e,errorCode:t,errorDetails:n,valid:r,pending:s,clusters:l,viewOptions:i,setSorting:o,openModal:c,invalidateClusters:u,errorMessage:d,operationID:p,history:m,setClusterDetails:h,anyModalOpen:g,queryParams:b,canSubscribeOCPList:f,canTransferClusterOwnershipList:y,canHibernateClusterList:v,toggleSubscriptionReleased:O,meta:{clustersServiceError:C}}=this.props,{loadingChangedView:R}=this.state,S=!b.has_filters&&Z(i.flags.subscriptionFilter),P=!di()(l)&&s&&(S||!r),w=!P&&s&&!R,T=P||s&&R,D=l.map((e=>{var t;return null==e||null===(t=e.status)||void 0===t?void 0:t.configuration_mode})).includes("read_only"),_=a().createElement(a().Fragment,null,a().createElement(fi,{someReadOnly:D}),a().createElement(qe.Z,{id:"cluster-list-header"},a().createElement(Ue.Z,{title:"Clusters",className:"page-title"}),a().createElement(pi.D,null,w&&a().createElement(E.Z,{size:"lg",className:"cluster-list-spinner"}),e&&a().createElement(dc,{errorMessage:d,className:"cluster-list-warning"})),a().createElement(cc,{autoRefresh:!g,isDisabled:P,refreshFunc:this.refresh,classOptions:"cluster-list-top"})));if(e&&!di()(l))return a().createElement(a().Fragment,null,_,a().createElement(Ne.NP,null,a().createElement("div",{"data-ready":!0},a().createElement(K,{message:"Error retrieving clusters",response:{errorMessage:d,operationID:p,errorCode:t,errorDetails:n}}))));const I=!T;return di()(l)||P||!S?a().createElement(a().Fragment,null,_,a().createElement(Ne.NP,null,a().createElement(ke.Card,null,a().createElement("div",{className:"cluster-list","data-ready":I},a().createElement(yc,null),C&&a().createElement(Fr,{variant:"warning",message:"Some operations are unavailable, try again later",response:C,isExpandable:!0}),a().createElement(mi.o,{id:"cluster-list-toolbar"},a().createElement(gi.c,null,a().createElement(hi.ToolbarItem,null,a().createElement(Oi,{isDisabled:P,view:ot.R$.fk})),a().createElement(hi.ToolbarItem,null,a().createElement(Zi,{view:ot.R$.fk,isDisabled:s,history:m,className:"cluster-filter-dropdown"})),a().createElement(Li,null),a().createElement(hi.ToolbarItem,{alignment:{default:"alignRight"},variant:"pagination",className:"pf-m-hidden visible-on-lgplus"},a().createElement(ht,{viewType:ot.R$.fk,currentPage:i.currentPage,pageSize:i.pageSize,totalCount:i.totalCount,totalPages:i.totalPages,variant:"top",isDisabled:P})))),a().createElement(Yi,{view:ot.R$.fk,history:m}),a().createElement(lc,{openModal:c,clusters:l||[],viewOptions:i,setSorting:o,isPending:T,setClusterDetails:h,canSubscribeOCPList:f,canHibernateClusterList:v,canTransferClusterOwnershipList:y,toggleSubscriptionReleased:O,refreshFunc:this.refresh}),a().createElement(ht,{viewType:ot.R$.fk,currentPage:i.currentPage,pageSize:i.pageSize,totalCount:i.totalCount,totalPages:i.totalPages,variant:"bottom",isDisabled:P}),a().createElement(Hp,{onClose:u}))))):a().createElement(Ne.NP,null,a().createElement(yc,null),a().createElement("div",{"data-ready":!0},a().createElement(oo,null)))}}$p.propTypes={invalidateClusters:l().func.isRequired,fetchClusters:l().func.isRequired,setClusterDetails:l().func.isRequired,valid:l().bool.isRequired,clusters:l().array.isRequired,error:l().bool.isRequired,errorMessage:l().oneOfType([l().string,l().node,l().element]).isRequired,meta:l().shape({clustersServiceError:l().shape({errorMessage:l().oneOfType([l().string,l().node,l().element]).isRequired,errorDetails:l().array,errorCode:l().number})}).isRequired,errorDetails:l().array,errorCode:l().number,pending:l().bool.isRequired,viewOptions:l().object.isRequired,setSorting:l().func.isRequired,getCloudProviders:l().func.isRequired,getMachineTypes:l().func.isRequired,getOrganizationAndQuota:l().func.isRequired,organization:l().object.isRequired,cloudProviders:l().object.isRequired,machineTypes:l().object.isRequired,openModal:l().func.isRequired,closeModal:l().func.isRequired,setListFlag:l().func.isRequired,operationID:l().string,history:l().shape({push:l().func.isRequired}).isRequired,anyModalOpen:l().bool,features:l().object.isRequired,queryParams:l().shape({has_filters:l().bool}),canHibernateClusterList:l().objectOf(l().bool),canSubscribeOCPList:l().objectOf(l().bool),canTransferClusterOwnershipList:l().objectOf(l().bool),toggleSubscriptionReleased:l().func.isRequired,clearGlobalError:l().func.isRequired,clearClusterDetails:l().func.isRequired};const Qp=$p;var Wp=n(30236),Yp=n.n(Wp);const{SUBSCRIBED_OCP:Kp,SUBSCRIBED_OCP_MARKETPLACE:Jp}=pl,Xp=e=>{const t=T()(e,"clusters.clusters.clusters",[]),n=hl(t,Kp),r=hl(t,Jp);return Yp()(n,r,((e,t)=>e||t))},em=e=>{const t=T()(e,"clusters.details.cluster.subscription",{});return ml(t,pl.RELEASE_OCP_CLUSTERS)},tm=e=>{const t=T()(e,"clusters.clusters.clusters",[]),n={};return t.forEach((e=>{const t=e.subscription||{};n[e.id]=ml(t,pl.RELEASE_OCP_CLUSTERS)})),n},nm=e=>{const t=T()(e,"clusters.clusters.clusters",[]),n={};return t.forEach((t=>{const r=T()(e,"userProfile.organization.details.capabilities",[]).find((e=>"capability.organization.hibernate_cluster"===e.name));n[t.id]=!(!r||"true"!==r.value)})),n};function rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rm(Object(n),!0).forEach((function(t){sm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const lm={invalidateClusters:()=>pr.invalidateClusters(),fetchClusters:e=>pr.fetchClusters(e),setClusterDetails:pr.setClusterDetails,clearClusterDetails:pr.clearClusterDetails,setSorting:e=>pt(e,ot.R$.fk),setListFlag:(e,t)=>dt(e,t,ot.R$.fk),getCloudProviders:To.getCloudProviders,getMachineTypes:dd.getMachineTypes,getOrganizationAndQuota:d.hI.getOrganizationAndQuota,openModal:Yt.openModal,closeModal:Yt.closeModal,toggleSubscriptionReleased:rp,clearGlobalError:Ec},im=(0,i.connect)((e=>am(am({},e.clusters.clusters),{},{viewOptions:e.viewOptions[ot.R$.fk],cloudProviders:e.cloudProviders,machineTypes:e.machineTypes,organization:e.userProfile.organization,anyModalOpen:!!e.modal.modalName,features:e.features,canSubscribeOCPList:Xp(e),canHibernateClusterList:nm(e),canTransferClusterOwnershipList:tm(e)})),lm)(Qp);function om(){return(om=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cm(e){let{disableReason:t,isAriaDisabled:n,tooltipProps:r={}}=e,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["disableReason","isAriaDisabled","tooltipProps"]);return t?a().createElement(Vr.Tooltip,om({content:t},r),a().createElement(p.Button,om({isAriaDisabled:!0},s))):a().createElement(p.Button,om({isAriaDisabled:n},s))}cm.propTypes={disableReason:l().node,isAriaDisabled:l().bool,tooltipProps:l().object};const um=cm;function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mm(e){const{viewOptions:t,setSorting:n}=e,{clusters:r,openModal:s}=e;if(!r||0===r.length)return a().createElement("p",{className:"notfound"},"No results match the filter criteria.");const l=(0,lt.classNames)(lt.Visibility.visibleOnLg,lt.Visibility.hiddenOnMd,lt.Visibility.hiddenOnSm),i=[{title:"Name",transforms:[lt.sortable,(0,lt.cellWidth)(30)]},{title:"Type",transforms:[lt.sortable]},{title:"Status",transforms:[lt.sortable]},{title:"Provider (Location)",columnTransforms:[l]},""],c={Name:"display_name",Type:"plan.type",Status:"status"},u={index:t.sorting.sortIndex,direction:t.sorting.isAscending?lt.SortByDirection.asc:lt.SortByDirection.desc};return a().createElement(lt.Table,{cells:i,rows:r.map((e=>(e=>{const t=T()(e,"cloud_provider.id","N/A"),n=en(e),r=a().createElement(o.Link,{to:`/details/s/${e.subscription.id}`},n),l=vo(e).description,i=!e.canEdit&&"You do not have permissions to unarchive this cluster",c=a().createElement(um,{variant:"secondary",onClick:()=>s(bt,{subscriptionID:e.subscription?e.subscription.id:"",name:n,shouldDisplayClusterName:!0}),disableReason:i},"Unarchive"),u=e.subscription.status!==ee.Ij.DEPROVISIONED&&c;return[{title:r},{title:a().createElement($o,{cluster:e})},{title:a().createElement("span",{className:"cluster-status-string"},l)},{title:a().createElement(Ao,{regionID:T()(e,"region.id","N/A"),cloudProviderID:t})},{title:u}]})(e))),onSort:(e,r,a)=>{const s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dm(Object(n),!0).forEach((function(t){pm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.sorting);s.isAscending=a===lt.SortByDirection.asc,s.sortField=c[i[r].title],s.sortIndex=r,n(s)},sortBy:u},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null))}mm.propTypes={clusters:l().array.isRequired,viewOptions:l().object.isRequired,setSorting:l().func.isRequired,openModal:l().func.isRequired};const hm=mm;var gm=n(90915),bm=n(85991),Em=n(49489);function fm({path:e}){return a().createElement(bm.a,null,e.map(((t,n)=>{const r=t.label;if(n<e.length-1){const e=t.path;return a().createElement(gm.Ji,{key:r,to:e||""},a().createElement(Em.g,{to:`${(0,ap.ZP)()}${e||""}`||"#"},r))}return a().createElement(Em.g,{key:r,isActive:!0},r)})))}fm.propTypes={path:l().arrayOf(l().shape({label:l().string.isRequired,path:l().string}).isRequired).isRequired};const ym=fm;class vm extends r.Component{constructor(e){super(e),this.refresh=this.refresh.bind(this)}componentDidMount(){document.title="Cluster Archives | Red Hat OpenShift Cluster Manager";const{getCloudProviders:e,cloudProviders:t,setListFlag:n,invalidateClusters:r}=this.props;n("showArchived",!0),r(),t.fulfilled||t.pending||e()}componentDidUpdate(e){const{viewOptions:t,valid:n,pending:r}=this.props;(!n&&!r||ae(t,e.viewOptions))&&this.refresh()}componentWillUnmount(){const{closeModal:e,invalidateClusters:t,clearGlobalError:n}=this.props;e(),t(),n("archivedClusterList")}refresh(){const{fetchClusters:e,viewOptions:t}=this.props;e(le(t))}render(){const{error:e,errorCode:t,valid:n,pending:r,clusters:s,viewOptions:l,setSorting:i,openModal:c,invalidateClusters:u,errorMessage:d,operationID:p}=this.props,m=a().createElement(ym,{path:[{label:"Clusters"},{label:"Cluster Archives"}]}),h=a().createElement(qe.Z,null,m,a().createElement(Ue.Z,{title:"Cluster Archives"}));return e&&!di()(s)?a().createElement(Ne.NP,null,a().createElement(K,{message:"Error retrieving cluster archives",response:{errorMessage:d,operationID:p,errorCode:t}})):!di()(s)&&r&&P()(l.filter)||!n?a().createElement(a().Fragment,null,h,a().createElement(Ne.NP,null,a().createElement(ke.Card,null,a().createElement("div",{className:"cluster-list"},a().createElement("div",{className:"cluster-loading-container"},a().createElement(E.Z,{centered:!0})))))):a().createElement(a().Fragment,null,h,a().createElement(Ne.NP,null,a().createElement(ke.Card,null,a().createElement("div",{className:"cluster-list"},a().createElement(yc,null),a().createElement(O.P,{id:"cluster-list-top"},a().createElement(C.J,null,a().createElement(Oi,{view:ot.R$.Kv})),a().createElement(C.J,{className:"pf-l-split__item split-margin-left"},a().createElement(Zi,{view:ot.R$.Kv,isDisabled:r})),a().createElement(C.J,{className:"pf-l-split__item split-margin-left"},a().createElement("div",{className:"show-active-clusters-link"},a().createElement(o.Link,{to:"/"},"Show active clusters"))),a().createElement(C.J,{className:"spinner-fit-container"},r&&a().createElement(E.Z,{className:"cluster-list-spinner"}),e&&a().createElement(dc,{errorMessage:d,className:"cluster-list-warning"})),a().createElement(C.J,{isFilled:!0}),a().createElement(C.J,null,a().createElement(ht,{viewType:ot.R$.Kv,currentPage:l.currentPage,pageSize:l.pageSize,totalCount:l.totalCount,totalPages:l.totalPages,variant:"top"})),a().createElement(C.J,null,a().createElement(cc,{autoRefresh:!0,refreshFunc:this.refresh,classOptions:"cluster-list-top"}))),a().createElement(Yi,{view:ot.R$.Kv}),a().createElement(hm,{clusters:s||[],viewOptions:l,setSorting:i,openModal:c}),a().createElement(ht,{viewType:ot.R$.Kv,currentPage:l.currentPage,pageSize:l.pageSize,totalCount:l.totalCount,totalPages:l.totalPages,variant:"bottom"}),a().createElement(Be,{ModalComponent:Wd,onClose:u})))))}}vm.propTypes={invalidateClusters:l().func.isRequired,fetchClusters:l().func.isRequired,valid:l().bool.isRequired,clusters:l().array.isRequired,error:l().bool.isRequired,errorCode:l().number,errorMessage:l().oneOfType([l().string,l().node,l().element]).isRequired,pending:l().bool.isRequired,viewOptions:l().object.isRequired,setSorting:l().func.isRequired,getCloudProviders:l().func.isRequired,cloudProviders:l().object.isRequired,openModal:l().func.isRequired,closeModal:l().func.isRequired,setListFlag:l().func.isRequired,operationID:l().string,clearGlobalError:l().func.isRequired};const Om=vm;function Cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cm(Object(n),!0).forEach((function(t){Sm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pm={invalidateClusters:()=>pr.invalidateClusters(),fetchClusters:e=>pr.fetchClusters(e),setSorting:e=>pt(e,ot.R$.Kv),setListFlag:(e,t)=>dt(e,t,ot.R$.Kv),getCloudProviders:To.getCloudProviders,openModal:Yt.openModal,closeModal:Yt.closeModal,clearGlobalError:Ec},wm=(0,i.connect)((e=>Rm(Rm({},e.clusters.clusters),{},{viewOptions:e.viewOptions[ot.R$.Kv],cloudProviders:e.cloudProviders,sortByIndex:e.sortByIndex})),Pm)(Om);var Tm=n(35592),Dm=n(75982),_m=n(49649);class Im extends a().Component{constructor(e){var t,n;super(e),n={isOpen:!1},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.onToggle=e=>{this.setState({isOpen:e})},this.onSelect=()=>{this.setState((e=>({isOpen:!e.isOpen})))}}render(){const{cluster:e,showConsoleButton:t,openModal:n,isKebab:r,disabled:s,canSubscribeOCP:l,canTransferClusterOwnership:i,toggleSubscriptionReleased:o,canHibernateCluster:c,refreshFunc:u}=this.props,{isOpen:d}=this.state,p=r?a().createElement(Pi.KebabToggle,{isDisabled:s,onToggle:this.onToggle}):a().createElement(Mi.DropdownToggle,{isDisabled:s,onToggle:this.onToggle},"Actions"),m=function({cluster:e,showConsoleButton:t,openModal:n,canSubscribeOCP:r,canTransferClusterOwnership:s,canHibernateCluster:l,toggleSubscriptionReleased:i,refreshFunc:o,inClusterList:c}){return Ho(e,t,n,r,s,l,i,o,c).map((e=>a().createElement(Ri.DropdownItem,e,e.title)))}({cluster:e,showConsoleButton:t,openModal:n,canSubscribeOCP:l,canTransferClusterOwnership:i,canHibernateCluster:c,toggleSubscriptionReleased:o,refreshFunc:u,inClusterList:!1}),h=a().createElement(Ci.Dropdown,{position:Si.DropdownPosition.right,onSelect:this.onSelect,dropdownItems:m,toggle:p,isPlain:r,isOpen:d,"data-test-id":"cluster-actions-dropdown"});return s?a().createElement(Vr.Tooltip,{content:"You do not have permission to make changes in this cluster. Only cluster owners, cluster editors, and organization administrators can make these changes.",position:"bottom"},h):h}}Im.propTypes={cluster:l().object.isRequired,showConsoleButton:l().bool.isRequired,openModal:l().func.isRequired,isKebab:l().bool,disabled:l().bool,canSubscribeOCP:l().bool.isRequired,canTransferClusterOwnership:l().bool.isRequired,canHibernateCluster:l().bool.isRequired,toggleSubscriptionReleased:l().func.isRequired,refreshFunc:l().func.isRequired};const Am=Im,Nm={openModal:Qt},Lm=(0,i.connect)(null,Nm)(Am);function Mm({expirationTimestamp:e,trialExpiration:t,openModal:n,cluster:r,OSDRHMExpiration:s}){const l=sn().utc(),i=sn().utc(e),o=i.diff(l,"hours"),c=l.to(i),u=i.local().format("dddd, MMMM Do YYYY, h:mm a");let d;if(o<=0)return a().createElement(Ur.bZ,{id:"expiration-alert",variant:"warning",isInline:!0,title:`This cluster should have been deleted ${c}.`},a().createElement(a().Fragment,null,"Please contact OCM support at"," ",a().createElement("a",{href:"mailto: ocm-feedback@redhat.com"},"ocm-feedback@redhat.com")," ","to let us know about this issue."));o>=48&&(d="info"),o<48&&o>=24&&(d="warning"),o<24&&(d="danger");let m=`This cluster is scheduled for deletion on ${u}`;t&&(m=`Your free trial cluster will automatically be deleted on ${u}. Upgrade your cluster at any time to prevent deletion.`),s&&(m=a().createElement(a().Fragment,null,"Your cluster subscription was purchased from Red Hat Marketplace and will expire on",` ${u}. `,"Once expired, the cluster will be deleted permanently. To avoid deletion, please purchase a new subscription from the"," ",a().createElement(Rr,{href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated"},"Red Hat Marketplace")," ","before the expiration date."));const h={title:"Upgrade cluster from Trial",clusterID:null==r?void 0:r.id,cluster:r};return a().createElement(Ur.bZ,{id:"expiration-alert",variant:d,isInline:!0,title:`This cluster will be deleted ${c}.`},a().createElement("p",null,m),t&&a().createElement(p.Button,{variant:"secondary",className:"pf-u-mt-sm",onClick:()=>n(St,h)},"Upgrade from trial"))}Mm.propTypes={expirationTimestamp:l().string.isRequired,trialExpiration:l().bool,openModal:l().func,cluster:l().shape({id:l().string}),OSDRHMExpiration:l().bool};const km=Mm;function jm({cluster:e,openModal:t,canSubscribeOCP:n=!1}){const r=T()(e,"subscription");if(T()(r,"plan.type")!==ee.Po.OCP)return null;const s=T()(r,"support_level");if(s!==ee.ig.EVAL&&s!==ee.ig.NONE)return null;const l=T()(r,"status");if(l===ee.Ij.ARCHIVED||l===ee.Ij.DEPROVISIONED)return null;const i=(e=>(0,tn.get)(e,"last_reconcile_date",rn)!==rn&&new Date((0,tn.get)(e,"last_reconcile_date")).toLocaleString())(r),o=qo(e),c=en(e),u=i?a().createElement("p",null,"Last checked:",i):"",d=n?a().createElement(a().Fragment,null,a().createElement(p.Button,{variant:"link",isInline:!0,onClick:()=>{t("edit-subscription-settings",{subscription:r})}},"Edit subscription settings")," for non-evaluation use. "):a().createElement(a().Fragment,null,a().createElement("a",{href:"https://www.redhat.com/en/contact",target:"_blank",rel:"noreferrer noopener"},"Contact sales")," to purchase an OpenShift subscription."),m=a().createElement(a().Fragment,null,"The cluster owner or an organization administrator can edit subscription settings for non-evaluation use.");return s===ee.ig.NONE?a().createElement(Ur.bZ,{className:"subscription-settings compliancy-alert",isInline:!0,variant:"danger",title:"Your 60-day OpenShift evaluation has expired"},u,a().createElement("p",null,"Your cluster is not supported and you may stop receving updates."," ",e.canEdit?a().createElement(a().Fragment,null,d," ",a().createElement(p.Button,{variant:"link",isInline:!0,onClick:()=>{const e={subscriptionID:T()(r,"id"),name:c};t(gt,e)}},"Archive this cluster")," if it no longer exits. "):m)):a().createElement(Ur.bZ,{className:"subscription-settings compliancy-alert",isInline:!0,variant:"warning",title:`Your OpenShift evaluation expires in ${o}`},u,a().createElement("p",null,`Your 60-day OpenShift evaluation expires in ${o}. `,e.canEdit?d:m))}jm.propTypes={cluster:l().shape({creation_timestamp:l().string,canEdit:l().bool}),openModal:l().func.isRequired,canSubscribeOCP:l().bool.isRequired};const xm=jm;function qm({subscription:e={}}){if(![ee.Po.OCP,ee.Po.ARO].includes(T()(e,"plan.type",!1))||!e.released)return null;const t=e.status===ee.Ij.DISCONNECTED?a().createElement(a().Fragment,null,"The transfer process will complete after"," ",a().createElement(o.Link,{to:"/register"},"registering")," ","the cluster again using the same id."):a().createElement(a().Fragment,null,"The transfer process will complete once the pull secret has been changed in the cluster. See"," ",a().createElement(Rr,{href:"https://access.redhat.com/solutions/4902871"},"this knowledgebase article")," ","for instructions on how to change the pull secret.");return a().createElement(Ur.bZ,{id:"transfer-cluster-ownership-alert",variant:"info",isInline:!0,title:"Cluster ownership transfer initiated"},t)}qm.propTypes={subscription:l().shape({released:l().bool})};const Um=qm;var zm=n(46585);class Fm extends r.Component{constructor(...e){var t,n;super(...e),n=e=>{const t=window.location.href;return de(e,t,t)},(t="getTncAppURL")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){const{selfTermsReview:e}=this.props;this.isTermsReviewRequired()&&e()}componentDidUpdate(e){const{subscription:t}=e,{subscription:n,selfTermsReview:r}=this.props;T()(t,"id")!==T()(n,"id")&&this.isTermsReviewRequired()&&r()}isTermsReviewRequired(){const{subscription:e}=this.props,t=T()(e,"plan.type");return T()(e,"status")!==ee.Ij.DEPROVISIONED&&[ee.Po.OSD,ee.Po.RHMI,ee.Po.ROSA].includes(t)}render(){const{selfTermsReviewResult:e}=this.props;if(this.isTermsReviewRequired()&&e.fulfilled&&e.terms_required){const t=this.getTncAppURL(e.redirect_url),n=a().createElement(zm.Q,{key:"terms-alert-link",component:"a",href:t},"View Terms and Conditions");return a().createElement(Ur.bZ,{id:"terms-alert",variant:"warning",isInline:!0,title:"You must accept the Terms and Conditions",actionLinks:n},a().createElement("p",null,"Access to this cluster will be read-only until you accept the Terms and Conditions."))}return null}}Fm.propTypes={subscription:l().object.isRequired,selfTermsReview:l().func.isRequired,selfTermsReviewResult:l().object.isRequired};const Zm=Fm,Bm={selfTermsReview:d.c3},Gm=(0,i.connect)((e=>({selfTermsReviewResult:e.userProfile.selfTermsReviewResult})),Bm)(Zm);function Hm(){return(Hm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vm(e){const{cluster:t,openModal:n,pending:r,refreshFunc:s,clickRefreshFunc:l,clusterIdentityProviders:i,organization:o,error:c,errorMessage:u,children:d,canSubscribeOCP:m,canTransferClusterOwnership:h,canHibernateCluster:g,autoRefreshEnabled:b,toggleSubscriptionReleased:f}=e,y=T()(t,"subscription.plan.type","")===ee.Po.OSDTrial,v=T()(t,"subscription.plan.type","")===ee.Po.OSD&&T()(t,"subscription.cluster_billing_model","")===ee.F6.MARKETPLACE,S=en(t),P=!!t.console&&t.console.url,w=i.clusterIDPList.length>0,D=t.managed&&t.state===Co.READY&&P&&i.fulfilled&&!w,_=T()(t,"subscription.status",!1)===ee.Ij.ARCHIVED,I=T()(t,"subscription.status",!1)===ee.Ij.DEPROVISIONED,A=t.state===Co.READY&&t.canEdit?{trialExpiration:!0,openModal:n,cluster:t}:{},N=()=>a().createElement(Ur.bZ,{id:"idpHint",variant:"warning",isInline:!0,title:"Missing identity providers"},"Identity providers determine how users log into the cluster."," ",a().createElement(p.Button,{variant:"link",isInline:!0,onClick:()=>{window.location.hash="accessControl"}},"Add OAuth configuration")," ","to allow others to log in.");let L;P&&![Co.UNINSTALLING,Co.POWERING_DOWN,Co.RESUMING,Co.HIBERNATING].includes(t.state)?L=a().createElement("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"pull-left"},a().createElement(p.Button,{variant:"primary"},"Open console")):t.managed?L=a().createElement(p.Button,{variant:"primary",isDisabled:!0,title:t.state===Co.UNINSTALLING?"The cluster is being uninstalled":"Admin console is not yet available for this cluster"},"Open console"):t.canEdit&&!(0,Zn.$U)(t)&&(L=a().createElement(p.Button,{variant:"primary",onClick:()=>n(vt,t)},"Add console URL"));const M=!(0,Zn.$U)(t)&&a().createElement(Lm,{disabled:!t.canEdit&&!t.canDelete,cluster:t,organization:o.details,showConsoleButton:!1,canSubscribeOCP:m,canTransferClusterOwnership:h,toggleSubscriptionReleased:f,canHibernateCluster:g,refreshFunc:s}),k=a().createElement(ym,{path:[{label:"Clusters"},(_||I)&&{label:"Cluster Archives",path:"/archived"},{label:S}].filter(Boolean)}),j=r||o.pending||i.pending,x=y&&T()(t,"subscription.trial_end_date"),q=v&&(e=>{if(e===F)return null;const t=Date.parse(e);return Number.isNaN(t)||t!==Date.parse(F)?e:null})(T()(t,"subscription.billing_expiration_date")),U=!t.canEdit&&"You do not have permissions to unarchive this cluster",z=a().createElement(um,{variant:"secondary",onClick:()=>n(bt,{subscriptionID:t.subscription?t.subscription.id:"",name:S}),disableReason:U},"Unarchive");return a().createElement("div",{id:"cl-details-top",className:"top-row"},a().createElement(O.P,null,a().createElement(C.J,null,k)),a().createElement(O.P,{id:"cl-details-top-row"},a().createElement(C.J,null,a().createElement(R.Title,{size:"2xl",headingLevel:"h1",className:"cl-details-page-title"},S)),a().createElement(C.J,null,j&&a().createElement(E.Z,{className:"cluster-details-spinner"}),c&&a().createElement(dc,{errorMessage:u,className:"cluster-details-warning"})),a().createElement(C.J,{isFilled:!0}),a().createElement(C.J,null,a().createElement("span",{id:"cl-details-btns"},_||I?!I&&a().createElement(a().Fragment,null,z):a().createElement(a().Fragment,null,L,M),!I&&!_&&a().createElement(cc,{id:"refresh",autoRefresh:b,refreshFunc:s,clickRefreshFunc:l})))),D&&a().createElement(O.P,null,a().createElement(C.J,{isFilled:!0},t.canEdit&&a().createElement(N,null))),t.expiration_timestamp&&a().createElement(km,{expirationTimestamp:t.expiration_timestamp}),x&&!I&&a().createElement(km,Hm({expirationTimestamp:x},A)),q&&!I&&a().createElement(km,{expirationTimestamp:q,OSDRHMExpiration:!0}),a().createElement(xm,{cluster:t,openModal:n,canSubscribeOCP:m}),a().createElement(Um,{subscription:t.subscription}),a().createElement(Gm,{subscription:t.subscription}),d)}Vm.propTypes={cluster:l().object,openModal:l().func.isRequired,refreshFunc:l().func.isRequired,clickRefreshFunc:l().func,pending:l().bool.isRequired,clusterIdentityProviders:l().object.isRequired,organization:l().object.isRequired,error:l().bool,errorMessage:l().oneOfType([l().string,l().node,l().element]),children:l().any,canSubscribeOCP:l().bool.isRequired,canHibernateCluster:l().bool.isRequired,canTransferClusterOwnership:l().bool.isRequired,autoRefreshEnabled:l().bool,toggleSubscriptionReleased:l().func.isRequired};const $m=Vm;var Qm=n(98378),Wm=n(82819),Ym=n(18061),Km=n(83141);function Jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Xm extends a().Component{constructor(...e){super(...e),Jm(this,"state",{activeTabKey:0,initialTabKey:this.getInitTab()}),Jm(this,"handleTabClick",((e,t)=>{const{setOpenedTab:n,onTabSelected:r}=this.props,a=this.getTabs();this.setState((e=>({activeTabKey:t,initialTabKey:e.initialTabKey===t?null:e.initialTabKey})),(()=>{const{initialTabKey:e}=this.state;null===e&&n(a[t].id)})),a.forEach((e=>{e.ref&&e.ref.current&&(e.key!==t?e.ref.current.hidden=!0:(e.ref.current.hidden=!1,r(e.id)))}))})),Jm(this,"onPopState",(({target:e})=>{var t;const n=null===(t=this.getTabs().find((t=>t.id===e.location.hash.substring(1))))||void 0===t?void 0:t.key;n&&this.handleTabClick(void 0,n)}))}componentDidMount(){window.addEventListener("popstate",this.onPopState)}componentDidUpdate(){const{activeTabKey:e,initialTabKey:t}=this.state,{overviewTabRef:n}=this.props;this.getTabs()[e].show||(this.handleTabClick(void 0,0),n.current.hidden=!1);const r=this.getTabs()[t];null!==t&&r.show&&this.handleTabClick(void 0,t)}componentWillUnmount(){window.removeEventListener("popstate",this.onPopState)}getInitTab(){const{initTabOpen:e}=this.props,t=this.getTabs().findIndex((t=>t.id===e));return-1===t?0:t}getTabs(){const{displayMonitoringTab:e,displayAccessControlTab:t,displayAddOnsTab:n,displayNetworkingTab:r,displayInsightsTab:s,displaySupportTab:l,displayMachinePoolsTab:i,displayUpgradeSettingsTab:o,displayAddAssistedHosts:c,overviewTabRef:u,monitoringTabRef:d,accessControlTabRef:p,addOnsTabRef:m,networkingTabRef:h,supportTabRef:g,insightsTabRef:b,machinePoolsTabRef:E,upgradeSettingsTabRef:f,addAssistedTabRef:y,hasIssues:v,hasIssuesInsights:O}=this.props;return[{key:0,title:"Overview",contentId:"overviewTabContent",id:"overview",show:!0,ref:u},{key:1,title:a().createElement(a().Fragment,null,a().createElement(Ym.T,null,"Monitoring"),v&&a().createElement(Km.f,{id:"monitoring-issues-icon"},a().createElement(Re.ZP,{className:"danger"}))),contentId:"monitoringTabContent",id:"monitoring",show:e,ref:d},{key:2,title:"Access control",id:"accessControl",contentId:"accessControlTabContent",show:t,ref:p},{key:3,title:"Add-ons",contentId:"addOnsTabContent",id:"addOns",show:n,ref:m},{key:4,title:"Networking",contentId:"networkingTabContent",id:"networking",show:r,ref:h},{key:5,title:a().createElement(a().Fragment,null,a().createElement(Ym.T,null,"Insights Advisor"),O?a().createElement(Km.f,{id:"insights-issues-icon"},a().createElement(Re.ZP,{className:"danger"})):""),contentId:"insightsTabContent",id:"insights",show:s,ref:b},{key:6,title:"Machine pools",contentId:"machinePoolsTabContent",id:"machinePools",show:i,ref:E},{key:7,title:"Support",contentId:"supportTabContent",id:"support",show:l,ref:g},{key:8,title:"Settings",contentId:"upgradeSettingsTabContent",id:"updateSettings",show:o,ref:f},{key:9,title:"Add Hosts",contentId:"addHostsContent",id:"addAssistedHosts",show:c,ref:y}]}render(){const{activeTabKey:e}=this.state,t=this.getTabs().filter((e=>e.show));return a().createElement(Qm.mQ,{activeKey:e,onSelect:this.handleTabClick},t.map((e=>a().createElement(Wm.O,{key:e.key,eventKey:e.key,title:a().createElement(Ym.T,null,e.title),tabContentId:e.contentId,ouiaId:e.title}))))}}Xm.propTypes={displayMonitoringTab:l().bool,displayAccessControlTab:l().bool,displayAddOnsTab:l().bool,displayInsightsTab:l().bool,displayNetworkingTab:l().bool,displaySupportTab:l().bool,displayMachinePoolsTab:l().bool,displayUpgradeSettingsTab:l().bool,displayAddAssistedHosts:l().bool,overviewTabRef:l().object.isRequired,monitoringTabRef:l().object.isRequired,accessControlTabRef:l().object.isRequired,addOnsTabRef:l().object.isRequired,insightsTabRef:l().object.isRequired,machinePoolsTabRef:l().object.isRequired,networkingTabRef:l().object.isRequired,supportTabRef:l().object.isRequired,upgradeSettingsTabRef:l().object.isRequired,addAssistedTabRef:l().object.isRequired,hasIssues:l().bool.isRequired,hasIssuesInsights:l().bool.isRequired,initTabOpen:l().string,setOpenedTab:l().func.isRequired,onTabSelected:l().func.isRequired},Xm.defaultProps={displayMonitoringTab:!0,displayInsightsTab:!1,displayAccessControlTab:!1,displayAddOnsTab:!1,displayNetworkingTab:!1,displayMachinePoolsTab:!1,displayAddAssistedHosts:!1,initTabOpen:""};const eh=Xm;function th({cluster:e}){return e.managed&&e.network&&a().createElement(a().Fragment,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Network"),a().createElement(Jo.b,null,a().createElement("dl",{className:"pf-l-stack"},e.network.machine_cidr&&a().createElement(nt.k,null,a().createElement("dt",null,"Machine CIDR: "),a().createElement("dd",null,e.network.machine_cidr)),e.network.service_cidr&&a().createElement(nt.k,null,a().createElement("dt",null,"Service CIDR: "),a().createElement("dd",null,e.network.service_cidr)),e.network.pod_cidr&&a().createElement(nt.k,null,a().createElement("dt",null,"Pod CIDR: "),a().createElement("dd",null,e.network.pod_cidr)),e.network.host_prefix&&a().createElement(nt.k,null,a().createElement("dt",null,"Host prefix: "),a().createElement("dd",null,e.network.host_prefix))))))||null}th.propTypes={cluster:l().object.isRequired};const nh=th,{ClusterStatus:rh}=u.I;function ah({cluster:e,totalDesiredComputeNodes:t,autoscaleEnabled:n,totalMinNodesCount:r,totalMaxNodesCount:s}){var l;const i=We(T()(e,"metrics.memory.total.value",0),T()(e,"metrics.memory.total.unit","B")),o=T()(e,"subscription.status","")===ee.Ij.DISCONNECTED,c=e.managed,u=!e.managed&&T()(e,"metrics.nodes.infra",null)||T()(e,"nodes.infra",0)>0,d=T()(e,"metrics.sockets.total.value",0)>0,p=e.managed&&e.storage_quota&&Ke(e.storage_quota.value),m=!o&&!d,h=T()(e,"metrics.nodes.master","-"),g=T()(e,"nodes.master","-"),b=T()(e,"metrics.nodes.infra","-"),E=T()(e,"nodes.infra","-"),f=T()(e,"metrics.nodes.compute","-"),y=t||"-";return a().createElement(a().Fragment,null,a().createElement(Wo.o,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Status"),a().createElement(Jo.b,{style:e.state.style},(0,Zn.jm)(e.subscription)?a().createElement(rh,{status:e.metrics.state,className:"clusterstate"}):a().createElement(a().Fragment,null,a().createElement(Po,{clusterState:e.state.state,animated:!0})," ",e.state.description))),m&&a().createElement(a().Fragment,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Total vCPU"),a().createElement(Jo.b,null,e.metrics.cpu.total.value," ","vCPU"))),!o&&a().createElement(a().Fragment,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Total memory"),a().createElement(Jo.b,null,i.value," ",i.unit))),e.managed&&!(null!==(l=e.ccs)&&void 0!==l&&l.enabled)&&a().createElement(a().Fragment,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Load balancers"),a().createElement(Jo.b,null,e.load_balancer_quota||"N/A")),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Persistent storage"),a().createElement(Jo.b,null,p?`${p.value}  ${p.unit}`:"N/A"))),c&&!n?a().createElement(a().Fragment,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Nodes",a().createElement("span",{className:"font-weight-normal"}," (actual/desired)"),a().createElement(Xr,{iconClassName:"nodes-hint",hint:"The actual number of worker (compute) nodes may not always match with the number of desired when the cluster is scaling."})),a().createElement(Jo.b,null,a().createElement("dl",{className:"pf-l-stack"},a().createElement(nt.k,null,a().createElement("dt",null,"Control plane:"," "),a().createElement("dd",null,"-"!==h||"-"!==g?`${h}/${g}`:"N/A")),u&&a().createElement(a().Fragment,null,a().createElement(nt.k,null,a().createElement("dt",null,"Infra:"," "),a().createElement("dd",null,"-"!==b||"-"!==E?`${b}/${E}`:"N/A"))),a().createElement(nt.k,null,a().createElement("dt",null,"Worker:"," "),a().createElement("dd",null,"-"!==f||"-"!==y?`${f}/${y}`:"N/A")))))):a().createElement(a().Fragment,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Nodes"),a().createElement(Jo.b,null,a().createElement("dl",{className:"pf-l-stack"},a().createElement(nt.k,null,a().createElement("dt",null,"Control plane:"," "),a().createElement("dd",null,T()(e,"metrics.nodes.master","N/A"))),u&&a().createElement(a().Fragment,null,a().createElement(nt.k,null,a().createElement("dt",null,"Infra:"," "),a().createElement("dd",null,T()(e,"metrics.nodes.infra","N/A")))),a().createElement(nt.k,null,a().createElement("dt",null,"Worker:"," "),a().createElement("dd",null,T()(e,"metrics.nodes.compute","N/A"))))))),n&&a().createElement(a().Fragment,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Autoscale",a().createElement(Xr,{iconClassName:"nodes-hint",hint:a().createElement(a().Fragment,null,zu," ",a().createElement(Rr,{href:"https://docs.openshift.com/container-platform/latest/machine_management/applying-autoscaling.html"},"Learn more about autoscaling"))})),a().createElement(Jo.b,null,"Enabled"),a().createElement(Jo.b,null,a().createElement("span",{className:"autoscale-data-t"},"Min:")," ",r,a().createElement("span",{className:"pf-u-ml-lg autoscale-data-t"},"Max:"," "),s))),a().createElement(nh,{cluster:e})))}ah.propTypes={cluster:l().any,totalDesiredComputeNodes:l().number,totalMinNodesCount:l().number,totalMaxNodesCount:l().number,autoscaleEnabled:l().bool.isRequired};const sh=ah,lh=(0,i.connect)((e=>{const{cluster:t}=e.clusters.details,n=e.machinePools.getMachinePools.data,r=ld(t,n),{hasMachinePoolWithAutoscaling:a,totalMinNodesCount:s,totalMaxNodesCount:l,totalDesiredComputeNodes:i}=r;return a?{autoscaleEnabled:a,totalMinNodesCount:s,totalMaxNodesCount:l}:{autoscaleEnabled:a,totalDesiredComputeNodes:i}}),null)(sh);function ih(e){const{value:t}=e;let n="N/A";if(t){const e=new Date(t),r=e.getTime();Number.isNaN(r)?console.error("Can't parse date '%s'",t):n=`${e.toLocaleDateString()} ${e.toLocaleTimeString()}`}return a().createElement("span",null,n)}ih.propTypes={value:l().string.isRequired};const oh=ih;function ch({cluster:e}){const t=T()(e,"subscription.plan.type"),n=T()(e,"billing_model"),{ROSA:r,OSD:a,OSDTrial:s}=ee.Po,{STANDARD:l,MARKETPLACE:i}=ee.F6,o=T()(e,"ccs.enabled");return t===r?"Through AWS":t===s?"Free trial, upgradeable":t===a&&n===l?"Subscription (yearly)":t===a&&n===i&&o?"On-demand (hourly)":"Standard"}ch.propTypes={cluster:l().shape({product:l().shape({id:l().oneOf(Object.keys(ee.Po)).isRequired})})};const uh=ch;function dh({cluster:e}){const t=T()(e,"subscription.plan.type"),{ROSA:n,OSD:r}=ee.Po,a=T()(e,"ccs.enabled");return t===n?"Through AWS":a?"Customer cloud subscription":t!==r||a?"Standard":"Red Hat cloud account"}dh.propTypes={cluster:l().shape({product:l().shape({id:l().oneOf(Object.keys(ee.Po)).isRequired})})};const ph=dh,mh=({status:e})=>{let t,n,r,s="blue";switch(e.toLowerCase()){case"full support":t="Full support",n="This minor version of OpenShift is fully supported. In order to receive security and bug fixes, continue to install patch (z-stream) updates to your cluster or upgrade to the latest minor version when available.",r="full-support";break;case"maintenance support":t="Maintenance support",n="This minor version of OpenShift has reached the maintenance support phase. Critical and selected high priority fixes will continue to be delivered in patch (z-stream) releases.",r="maintenance-support";break;case"extended update support":t="Extended update support",n="This minor version of OpenShift has reached the extended update support phase. Critical and selected high priority fixes will continue to be delivered in patch (z-stream) releases.",r="extended-update-support";break;case"end of life":s="red",t="End of life",n="This minor version of OpenShift has reached the end of life and is no longer supported. Upgrade to a newer version so that this cluster is supportable.",r="end-of-life";break;default:return a().createElement(Pp.Label,{color:s,variant:"outline",className:"support-status-label"},e)}return a().createElement(Wr.J2,{className:"support-status-popover","aria-label":t,bodyContent:n,footerContent:a().createElement(a().Fragment,null,"See"," ",a().createElement(Rr,{href:"https://access.redhat.com/support/policy/updates/openshift",noIcon:!0},"this resource")," ","to learn more about the support lifecycle."),id:r},a().createElement(Pp.Label,{color:s,variant:"outline",className:"support-status-label support-status-label--clickable"},t))};mh.propTypes={status:l().string.isRequired};const hh=mh;class gh extends a().Component{componentDidMount(){const{fulfilled:e,pending:t,getSupportStatus:n}=this.props;e||t||n()}render(){const{pending:e,error:t,supportStatus:n,clusterVersion:r}=this.props;if(e)return a().createElement(At.Z,{className:"inline-skeleton",size:"sm"});const s=n[r.split(".",2).join(".")];return r&&"N/A"!==r&&!t&&s&&/^[4-6]\.\d{1,3}(\.\d{1,3})?$/.test(r)?a().createElement(hh,{status:s}):"N/A"}}gh.propTypes={pending:l().bool,error:l().bool,fulfilled:l().bool,supportStatus:l().objectOf(l().string),clusterVersion:l().string,getSupportStatus:l().func},gh.defaultProps={supportStatus:{}};const bh=gh;var Eh=n(9133),fh=n(46019),yh=n.n(fh);const vh=()=>yh().get("https://access.redhat.com/product-life-cycles/api/v1/products",{params:{name:"Openshift Container Platform 4"}}),Oh={getSupportStatus:()=>e=>e({type:Eh.Z,payload:vh()})},Ch=(0,i.connect)((e=>({lines:e.logs.lines,fulfilled:e.supportStatus.fulfilled,pending:e.supportStatus.pending,error:e.supportStatus.error,supportStatus:e.supportStatus.supportStatus})),Oh)(bh),Rh=({children:e})=>a().createElement("div",{className:"ocm-upgrade-graph-container"},e),Sh=({children:e})=>a().createElement("li",{className:"ocm-upgrade-graph-line"},e),Ph=({children:e})=>a().createElement("ul",{className:"ocm-upgrade-graph-path"},e),wh=({children:e})=>a().createElement("span",{className:"ocm-upgrade-graph-version"},e),Th=({current:e})=>a().createElement("div",{className:"ocm-upgrade-graph-version-dot "+(e?"ocm-upgrade-current":"")}),Dh=({currentVersion:e,updateVersion:t,hasMore:n})=>a().createElement("div",{className:"ocm-upgrade-graph"},a().createElement(Rh,null,a().createElement(Ph,{current:!0},a().createElement(Sh,null,a().createElement(wh,null,e),a().createElement(Th,{current:!0})),t&&a().createElement(a().Fragment,null,a().createElement(Sh,null),a().createElement(Sh,null,a().createElement(wh,null,t),a().createElement(Th,null))))),n&&a().createElement("div",{className:"ocm-upgrade-additional-versions-available"},a().createElement(No.ZP,null),`Additional versions available between ${e} and ${t}`));Ph.propTypes={children:l().node},Rh.propTypes={children:l().node},Sh.propTypes={children:l().node},wh.propTypes={children:l().node},Th.propTypes={current:l().bool},Dh.propTypes={currentVersion:l().node,updateVersion:l().node,hasMore:l().bool};const _h=Dh;function Ih({clusterID:e,canEdit:t,clusterVersion:n,clusterVersionRawID:r,scheduledUpgrade:s,availableUpgrades:l=[],onCancelClick:i,openModal:o}){var c;const u=l.length>0,d=u?l[l.length-1]:void 0,m=s&&"manual"===s.schedule_type,h=s&&(null===(c=s.state)||void 0===c?void 0:c.value),E=m&&t&&"started"!==h&&"delayed"!==h;return n?a().createElement(a().Fragment,null,a().createElement("div",null,(()=>{let e,t;return"started"===h||"delayed"===h?(e=a().createElement(po.ZP,null),t="delayed"===h?"Update in progress (delayed)":"Update in progress"):u?(e=a().createElement(Lo.ZP,{className:"ocm-upgrade-available-icon"}),t="Update available"):(e=a().createElement(Xt.ZP,{className:"ocm-cluster-up-to-date-icon"}),t="Up to date"),a().createElement(a().Fragment,null,e," ",t)})(),a().createElement(_h,{currentVersion:r,updateVersion:m?s.version:d,hasMore:!m&&l.length>1}),s&&"started"!==h&&"pending"!==h&&a().createElement(a().Fragment,null,a().createElement("div",{className:"ocm-upgrade-status-scheduled-title"},"Upgrade scheduled"),a().createElement(zd.Z,{type:"exact",date:Date.parse(s.next_run)}))),E&&a().createElement(p.Button,{id:"ocm-upgrade-status-cancel",variant:"link",onClick:()=>{i&&i(),o("cancel-upgrade",{clusterID:e,schedule:s})}},"Cancel this update")):a().createElement(g.ub,{variant:g.IQ.xs},a().createElement(R.Title,{headingLevel:"h4",size:"md"},"Update status is not available"),a().createElement(b.B,null,"Update status is not available. Try again later."))}Ih.propTypes={clusterID:l().string.isRequired,canEdit:l().bool,clusterVersion:l().string,clusterVersionRawID:l().string,scheduledUpgrade:l().shape({version:l().string,next_run:l().string,state:l().shape({value:l().string}),schedule_type:l().string}),onCancelClick:l().func,openModal:l().func,availableUpgrades:l().arrayOf(l().string)};const Ah=Ih;class Nh extends a().Component{constructor(...e){var t,n;super(...e),n={popoverOpen:!1},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){const{cluster:e,getSchedules:t}=this.props;e&&e.id&&e.managed&&t(e.id)}componentDidUpdate(e){const{cluster:t,getSchedules:n}=this.props;e.cluster.id!==t.id&&t.managed&&n(t.id)}componentWillUnmount(){const{clearSchedulesResponse:e}=this.props;e()}render(){var e,t,n;const{cluster:r,openModal:s,schedules:l}=this.props,{popoverOpen:i}=this.state,o="running"===T()(r,"metrics.upgrade.state"),c=(o?null===(e=r.version)||void 0===e?void 0:e.raw_id:r.openshift_version)||"N/A",u=T()(r,"metrics.channel"),d=l.items.find((e=>{var t;return e.version!==(null===(t=r.version)||void 0===t?void 0:t.raw_id)}));return a().createElement("div",null,a().createElement("dl",{className:"pf-l-stack"},a().createElement(nt.k,null,a().createElement("dt",null,"OpenShift:"," "),a().createElement("dd",null,c,a().createElement(jo,{cluster:r,openModal:s,hideOSDUpdates:!!d}))),d&&"manual"===d.schedule_type&&a().createElement("div",null,a().createElement(nt.k,null,a().createElement("dt",null,"Update scheduled: "),a().createElement("dd",null,a().createElement(Wr.J2,{headerContent:"Update status",isVisible:i,shouldOpen:()=>this.setState({popoverOpen:!0}),shouldClose:()=>this.setState({popoverOpen:!1}),bodyContent:a().createElement(Ah,{clusterID:r.id,canEdit:r.canEdit,clusterVersion:r.openshift_version,clusterVersionRawID:null===(t=r.version)||void 0===t?void 0:t.raw_id,scheduledUpgrade:d,openModal:s,availableUpgrades:null===(n=r.version)||void 0===n?void 0:n.available_upgrades,onCancelClick:()=>this.setState({popoverOpen:!1})})},a().createElement(p.Button,{variant:"link"},"View details"," ",a().createElement(Yr.ZP,null)))))),!r.managed&&!o&&a().createElement("div",null,a().createElement(nt.k,null,a().createElement("dt",null,"Life cycle state: "),a().createElement("dd",null,a().createElement(Ch,{clusterVersion:c})))),u&&a().createElement("div",null,a().createElement(nt.k,null,a().createElement("dt",null,"Update channel: "),a().createElement("dd",null,u)))))}}Nh.propTypes={cluster:l().shape({id:l().string.isRequired,openshift_version:l().string,managed:l().bool,version:l().shape({channel_group:l().string,available_upgrades:l().arrayOf(l().string),raw_id:l().string}),canEdit:l().bool}),versionInfo:l().shape({fulfilled:l().bool,pending:l().bool,error:l().bool,version:l().string,channelGroup:l().string,availableUpgrades:l().arrayOf(l().string)}).isRequired,schedules:l().shape({fulfilled:l().bool,pending:l().bool,error:l().bool,items:l().array}).isRequired,openModal:l().func.isRequired,getSchedules:l().func.isRequired,clearSchedulesResponse:l().func.isRequired};const Lh=Nh,Mh=(0,i.connect)((e=>({versionInfo:e.clusterUpgrades.versionInfo,schedules:e.clusterUpgrades.schedules})),(e=>({getSchedules:t=>e((0,zn.ao)(t)),clearSchedulesResponse:()=>e((0,zn.vf)()),openModal:(t,n)=>e(Qt(t,n))})))(Lh);function kh({cluster:e,cloudProviders:t}){const n=e.cloud_provider?e.cloud_provider.id:null;let r;const s=T()(e,"region.id","N/A");return r=n&&t.fulfilled&&t.providers[n]?t.providers[n].display_name||"N/A":n?n.toUpperCase():"N/A",a().createElement(a().Fragment,null,a().createElement(Wo.o,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Cluster ID"),a().createElement(Jo.b,null,T()(e,"external_id","N/A"))),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Type"),a().createElement(Jo.b,null,a().createElement($o,{cluster:e}))),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Region"),a().createElement(Jo.b,null,s)),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Provider"),a().createElement(Jo.b,null,r)),e.managed&&a().createElement(a().Fragment,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Availability"),a().createElement(Jo.b,null,e.multi_az?"Multizone":"Single zone"))),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Version"),a().createElement(Jo.b,null,a().createElement(Mh,{cluster:e}))),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Created at"),a().createElement(Jo.b,null,a().createElement(oh,{value:T()(e,"creation_timestamp","N/A")}))),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Owner"),a().createElement(Jo.b,null,T()(e,"subscription.creator.name")||T()(e,"subscription.creator.username","N/A"))),e.managed&&a().createElement(a().Fragment,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Subscription type"),a().createElement(Jo.b,null,a().createElement(uh,{cluster:e}))),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Infrastructure type"),a().createElement(Jo.b,null,a().createElement(ph,{cluster:e}))))))}kh.propTypes={cluster:l().any,cloudProviders:l().object.isRequired};const jh=kh;function xh({subscription:e,openModal:t,canEdit:n=!1,canSubscribeOCP:r=!1}){if(T()(e,"plan.type")!==ee.Po.OCP)return null;const s=T()(e,"status"),l=n&&s!==ee.Ij.ARCHIVED&&s!==ee.Ij.DEPROVISIONED,i=T()(e,ee.$S.SUPPORT_LEVEL,"Not set");let o=i,c=null;i===ee.ig.EVAL?(o="Self-Support 60-day evaluation",l&&(c=a().createElement(xo.ZP,{className:"subscription-settings warning-title-icon"}))):i===ee.ig.NONE&&(o="Evaluation expired",l&&(c=a().createElement(Re.ZP,{className:"subscription-settings danger-title-icon"})));const u=T()(e,ee.$S.CLUSTER_BILLING_MODEL);let d="Not set";u===ee.F6.STANDARD?d="Annual: Fixed capacity subscription from Red Hat":u===ee.F6.MARKETPLACE&&(d="On-demand (Hourly)");const m=T()(e,ee.$S.USAGE,"Not set"),h=T()(e,ee.$S.SERVICE_LEVEL);let g="Not set";h===ee.Ck.L1_L3?g="Red Hat support (L1-L3)":h===ee.Ck.L3_ONLY&&(g="Partner support (L3)");const b=T()(e,ee.$S.CPU_TOTAL,void 0),E=`${b} core${1===b?"":"s"}`,f=T()(e,ee.$S.SOCKET_TOTAL,void 0),y=`${f} socket${1===f?"":"s"}`;let v=T()(e,ee.$S.SYSTEM_UNITS,void 0);void 0===v&&(v=void 0!==b?ee.fl.CORES_VCPU:void 0!==f?ee.fl.SOCKETS:"Not set");let O="Not set";v===ee.fl.SOCKETS&&void 0!==f?O="Sockets":v===ee.fl.CORES_VCPU&&void 0!==b&&(O="Cores/vCPUs ");const C=void 0!==b||void 0!==f,S=v===ee.fl.SOCKETS?"Number of compute sockets":"Number of compute cores",P=v===ee.fl.SOCKETS?y:E;return a().createElement(ke.Card,{className:"ocm-c-overview-subscription-settings__card"},a().createElement(Le.l,{className:"ocm-c-overview-subscription-settings__card--header"},a().createElement(R.Title,{headingLevel:"h2",className:"card-title"},"Subscription settings",c)),!r&&a().createElement(Me.e,null,a().createElement(Ur.bZ,{id:"subscription-settings-contact-sales-alert",variant:"info",isInline:!0,title:"Your organization doesn't have an active subscription. Purchase an OpenShift subscription by contacting sales."},a().createElement(Rr,{href:"https://www.redhat.com/en/contact"},"Contact sales"))),a().createElement(Me.e,{className:"ocm-c-overview-subscription-settings__card--body"},a().createElement(je.r,null,a().createElement(xe.P,{md:6},a().createElement(Wo.o,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Subscription type"),a().createElement(Jo.b,null,d)),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Service level agreement (SLA)"),a().createElement(Jo.b,null,o)),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Support type"),a().createElement(Jo.b,null,g),l&&a().createElement(Jo.b,null,a().createElement(p.Button,{variant:"link",isDisabled:!r,isInline:!0,onClick:()=>{t("edit-subscription-settings",{subscription:e})}},"Edit subscription settings"))))),a().createElement(xe.P,{md:6},a().createElement(Wo.o,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Cluster usage"),a().createElement(Jo.b,null,m)),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Subscription units"),a().createElement(Jo.b,null,O)),C&&a().createElement(Ko.g,null,a().createElement(Yo.M,null,S),a().createElement(Jo.b,null,P)))))))}xh.propTypes={subscription:l().object.isRequired,canEdit:l().bool.isRequired,canSubscribeOCP:l().bool.isRequired,openModal:l().func.isRequired};const qh=xh,{SUBSCRIBED_OCP:Uh,SUBSCRIBED_OCP_MARKETPLACE:zh}=pl,Fh=e=>{const t=T()(e,"clusters.details.cluster.subscription",null);return ml(t,Uh)||ml(t,zh)},Zh={openModal:Yt.openModal},Bh=(0,i.connect)((e=>({canEdit:T()(e,"clusters.details.cluster.canEdit",!1),canSubscribeOCP:Fh(e),subscription:T()(e,"clusters.details.cluster.subscription",{})})),Zh)(qh);var Gh=n(27600),Hh=n(21015),Vh=n(924);function $h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$h(Object(n),!0).forEach((function(t){Wh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Yh=[{key:"severityTypes",label:"Severity Type",optionLabels:Vh.Nm.reduce(((e,t)=>(e[t]=t,e)),{})}];function Kh({currentFilter:e,setFilter:t,currentFlags:n,setFlags:r,clearFiltersAndFlags:s,history:l}){return Z(e)&&Z(n)?null:a().createElement(O.P,null,a().createElement(C.J,null,a().createElement(Gi.ChipGroup,null,[{key:"description",label:"Description"}].map((n=>((e,t,n,r)=>{const{key:s}=e,l=t[s]||[];return P()(l)?null:a().createElement(Gi.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},a().createElement(Bi.Chip,{key:s,onClick:()=>{((e,t)=>{r.push({search:ce({[e]:[t]})}),n(t)})(s,Qh(Qh({},t),{},{[e.key]:""}))}},l))})(n,e,t,l))).filter(Boolean)),a().createElement(Gi.ChipGroup,null,Yh.map((e=>((e,t,n,r)=>{const s=t[e.key]||[];return P()(s)?null:a().createElement(Gi.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},s.map((l=>{const i=e.optionLabels[l];return a().createElement(Bi.Chip,{key:l,onClick:()=>{var a;a=Qh(Qh({},t),{},{[e.key]:s.filter((e=>e!==l))}),r.push({search:ce(a)}),n(a)}},i)})))})(e,n,r,l))).filter(Boolean))),a().createElement(C.J,null,a().createElement(p.Button,{variant:"link",onClick:()=>((e,t)=>{e.push({search:""}),t()})(l,s)},"Clear filters")))}Kh.propTypes={setFilter:l().func.isRequired,currentFilter:l().shape({description:l().string}).isRequired,setFlags:l().func.isRequired,currentFlags:l().shape({severityTypes:l().arrayOf(l().string)}).isRequired,clearFiltersAndFlags:l().func.isRequired,history:l().shape({push:l().func.isRequired}).isRequired};const Jh=Kh;function Xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xh(Object(n),!0).forEach((function(t){tg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ng extends a().Component{constructor(...e){super(...e),tg(this,"options",[{label:"JSON",value:"json",isChecked:!0},{label:"CSV",value:"csv"}]),tg(this,"state",{isOpen:!1}),tg(this,"closeModal",(()=>{this.setState((e=>({isOpen:!e.isOpen})))})),tg(this,"handleChange",(()=>{this.options.forEach(((e,t)=>{this.options[t].isChecked=!e.isChecked})),this.handleClick(!1)})),tg(this,"getFormat",(()=>(0,tn.find)(this.options,["isChecked",!0]).value)),tg(this,"handleClick",(e=>{const{externalClusterID:t,downloadClusterLogs:n,viewOptions:r}=this.props;n(t,eg(eg({},r),{},{currentPage:1,pageSize:-1}),this.getFormat()),e&&this.setState((e=>({isOpen:!e.isOpen})))}))}renderDownloadButton(){const{clusterLogs:{externalClusterID:e,data:t}}=this.props;let n,r;const s=sn()().format("YYYY-MM-DD HHmm"),l=this.getFormat();if("json"===l){const a=JSON.stringify(t),l=new Blob([a],{type:"octet/stream"});n=window.URL.createObjectURL(l),r=`${e}.${s}.json`}else{if("csv"!==l)return`Unsupported format ${l}`;{const a=new Blob([t],{type:"octet/stream"});n=window.URL.createObjectURL(a),r=`${e}.${s}.csv`}}return[a().createElement(p.Button,{id:"cluster-logs-download-button",key:"download",variant:"primary",component:"a",href:n,target:"_blank",download:r,onClick:()=>this.closeModal(),isDisabled:!t},"Download"),a().createElement(p.Button,{key:"close",variant:"link",onClick:()=>this.closeModal()},"Cancel")]}render(){const{clusterLogs:{requestDownloadState:{error:e}}}=this.props,{isOpen:t}=this.state;return a().createElement(a().Fragment,null,a().createElement(p.Button,{variant:"primary",onClick:()=>this.handleClick(!0)},"Download history"),a().createElement(f.Modal,{variant:"small",title:"Download cluster history",isOpen:t,onClose:()=>this.closeModal(),actions:[this.renderDownloadButton()]},a().createElement(Oa,{name:"export_history",fieldId:"export_history",label:"Choose a file type",items:this.options,onChange:this.handleChange}),e&&a().createElement(a().Fragment,null,a().createElement(dc,{item:"records",errorMessage:"Unable to download",className:"cluster-list-warning"}),"Unable to download records")))}}ng.propTypes={externalClusterID:l().string.isRequired,viewOptions:l().object.isRequired,clusterLogs:l().object.isRequired,downloadClusterLogs:l().func.isRequired};const rg=ng;var ag=n(14216),sg=n(77572);function lg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ig(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lg(Object(n),!0).forEach((function(t){og(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function og(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class cg extends r.Component{constructor(e){super(e),og(this,"state",{description:"",severityTypes:[]}),this.updateFilter=this.updateFilter.bind(this),this.updateFlags=this.updateFlags.bind(this),this.inputTimeoutID=null}componentDidMount(){const{currentFilter:e,currentFlags:t}=this.props;e&&this.setState(ig({},e)),t&&this.setState({severityTypes:t.severityTypes})}UNSAFE_componentWillReceiveProps(e){const{currentFilter:t,currentFlags:n}=this.props;e.currentFilter!==t&&this.setState(ig({},e.currentFilter)),e.currentFlags!==n&&this.setState({severityTypes:e.currentFlags.severityTypes})}updateFilter(){const{setFilter:e}=this.props,{description:t}=this.state;e({description:t})}updateFlags(e,t){const{setFlags:n,history:{push:r}}=this.props;this.setState({[t]:e},(()=>{const{severityTypes:e}=this.state;n({severityTypes:e}),r({search:ce({severityTypes:e})})}))}updateCurrentValue(e,t){null!==this.inputTimeoutID&&clearTimeout(this.inputTimeoutID),this.setState({[t]:e}),this.inputTimeoutID=setTimeout(this.updateFilter,300)}render(){const{description:e,severityTypes:t}=this.state,n={type:sg.Yu.text,value:"Description",label:"Description",filterValues:{"aria-label":"Description Filter Input",onChange:(e,t)=>this.updateCurrentValue(t,"description"),value:e}},r={type:sg.Yu.checkbox,label:"Severity",value:"Severity",filterValues:{onChange:(e,t)=>this.updateFlags(t,"severityTypes"),items:Vh.Nm.map((e=>({label:e,value:e}))),value:t}};return a().createElement(ag.Z,{items:[n,r]})}}cg.propTypes={currentFilter:l().shape({description:l().string}).isRequired,currentFlags:l().shape({severityTypes:l().arrayOf(l().string)}).isRequired,setFilter:l().func.isRequired,setFlags:l().func.isRequired,history:l().shape({push:l().func.isRequired}).isRequired};const ug=cg;class dg extends a().PureComponent{render(){const{viewOptions:e,history:t,setFlags:n,setFilter:r,externalClusterID:s,currentFilter:l,currentFlags:i,clusterLogs:o,downloadClusterLogs:c,clearFiltersAndFlags:u,isPendingNoData:d}=this.props;return a().createElement(a().Fragment,null,a().createElement(mi.o,null,a().createElement(gi.c,null,a().createElement(hi.ToolbarItem,null,a().createElement(ug,{view:ot.R$.X0,history:t,currentFilter:l,currentFlags:i,setFilter:r,setFlags:n})),a().createElement(hi.ToolbarItem,null,a().createElement(rg,{externalClusterID:s,viewOptions:e,clusterLogs:o,downloadClusterLogs:c})),a().createElement(hi.ToolbarItem,{alignment:{default:"alignRight"},variant:"pagination"},a().createElement(ht,{viewType:ot.R$.X0,currentPage:e.currentPage,pageSize:e.pageSize,totalCount:e.totalCount,totalPages:e.totalPages,variant:"top",isDisabled:d})))),a().createElement(Jh,{view:ot.R$.X0,history:t,currentFilter:l,currentFlags:i,setFilter:r,setFlags:n,clearFiltersAndFlags:u}))}}dg.propTypes={setFilter:l().func.isRequired,currentFilter:l().shape({description:l().string}).isRequired,setFlags:l().func.isRequired,currentFlags:l().shape({severityTypes:l().arrayOf(l().string)}).isRequired,clearFiltersAndFlags:l().func.isRequired,history:l().shape({push:l().func.isRequired}).isRequired,externalClusterID:l().string.isRequired,viewOptions:l().object.isRequired,clusterLogs:l().object.isRequired,downloadClusterLogs:l().func.isRequired,isPendingNoData:l().bool.isRequired};const pg=dg;var mg=n(60700);function hg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hg(Object(n),!0).forEach((function(t){bg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Eg=(e,t)=>n=>n({type:ot.ms.y$,payload:mg.Z.getClusterHistory(e,ie(t)).then((t=>({externalClusterID:e,logs:t})))}),fg={getClusterHistory:Eg,downloadClusterLogs:(e,t,n="csv")=>r=>r({type:ot.ms.d_,payload:mg.Z.getClusterHistory(e,gg(gg({},ie(t)),{},{format:n})).then((e=>({format:n,response:e})))}),resetClusterHistory:()=>e=>e({type:ot.ms.w$})},yg=(0,i.connect)(((e,t)=>({clusterLogs:e.clusterLogs,viewOptions:e.viewOptions[ot.R$.X0],currentFilter:e.viewOptions[t.view].filter||{conditionalFilterFlags:{}},currentFlags:e.viewOptions[t.view].flags.conditionalFilterFlags||{}})),((e,t)=>({downloadClusterLogs:(t,n,r)=>e(fg.downloadClusterLogs(t,n,r)),setFilter:n=>e(ct(n,t.view)),setFlags:n=>e(ut("conditionalFilterFlags",n,t.view)),clearFiltersAndFlags:()=>{return e((n=t.view,e=>e({viewType:n,type:ot.UI.Iv})));var n}})))(pg);var vg=n(85564),Og=n.n(vg),Cg=n(30724),Rg=n.n(Cg);const Sg=[{title:"Description",transforms:[lt.sortable],cellFormatters:[lt.expandable]},{title:"Severity",transforms:[lt.sortable]},{title:"Date",transforms:[lt.sortable]}],Pg={Description:"summary",Date:"timestamp",Severity:"severity"},wg=[{heightAuto:!0,cells:[{props:{colSpan:8},title:a().createElement(Sl.b,null,a().createElement(g.ub,{variant:g.IQ.small},a().createElement(Oe.k,{icon:$l.default}),a().createElement(R.Title,{headingLevel:"h2",size:"lg"},"No results found"),a().createElement(b.B,null,"No results match the filter criteria. Remove all filters or clear all filters to show results.")))}]}],Tg=(e,t)=>{const{id:n,summary:r,severity:s,timestamp:l,description:i}=e;return[{isOpen:!1,cells:[r,s,sn().utc(l).format("D MMM YYYY, HH:mm UTC")],expandId:n},{parent:2*t,fullWidth:!0,cells:[{title:a().createElement(Rg(),{className:"markdown",source:i,linkTarget:"_blank",renderers:{linkReference:({href:e,$ref:t,children:n})=>e?a().createElement("a",{href:t},n):`[${n[0].props.value}]`}})}]}]};class Dg extends a().Component{constructor(e){var t,n;super(e),n={rows:wg,sortBy:{}},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.onCollapse=this.onCollapse.bind(this),this.onSort=this.onSort.bind(this)}static getDerivedStateFromProps(e,t){const{logs:n}=e;if(void 0===n)return{rows:wg};const{rows:r}=t,a=r.map((e=>e.expandId)).filter((e=>void 0!==e)),s=n.map((e=>e.id));return X()(a,s)?null:{rows:0===n.length?wg:Og()(n.map(Tg))}}onCollapse(e,t,n){const{rows:r}=this.state;r[t].isOpen=n,this.setState({rows:r})}onSort(e,t,n){const{setSorting:r}=this.props,a={isAscending:n===lt.SortByDirection.asc,sortField:Pg[Sg[t-1].title]};r(a),this.setState({sortBy:{index:t,direction:a.isAscending?lt.SortByDirection.asc:lt.SortByDirection.desc}})}render(){const{rows:e,sortBy:t}=this.state;return a().createElement(Sl.b,null,a().createElement(lt.Table,{className:"cluster-log",variant:lt.TableVariant.compact,cells:Sg,rows:e,onCollapse:this.onCollapse,"aria-label":"Table of Logs",onSort:this.onSort,sortBy:t},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null)))}}Dg.propTypes={logs:l().array,setSorting:l().func.isRequired};const _g=Dg;class Ig extends a().Component{constructor(e){var t,n,r;super(e),t=this,n="state",r={now:new Date},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.update=this.update.bind(this),this.timer=null}componentDidMount(){this.update(),this.timer=setInterval(this.update,6e4)}componentWillUnmount(){clearInterval(this.timer)}update(){this.setState({now:(new Date).getTime()})}render(){const{now:e}=this.state,{timestamp:t}=this.props;return a().createElement(zd.Z,{type:"relative",date:t,now:e})}}Ig.propTypes={timestamp:l().number.isRequired};const Ag=Ig;class Ng extends a().Component{componentDidMount(){const{setListFlag:e}=this.props,t=ue("severityTypes")||"";P()(t)?this.refresh():e("conditionalFilterFlags",{severityTypes:t.split(",").filter((e=>Vh.Nm.includes(e)))})}componentDidUpdate(e){const{viewOptions:t,clusterLogs:{pending:n}}=this.props;!n&&ae(t,e.viewOptions)&&this.refresh()}refresh(){const{externalClusterID:e,getClusterHistory:t,viewOptions:n}=this.props;t(e,n)}render(){const{clusterLogs:{requestState:{error:e,pending:t,errorMessage:n,operationID:r},logs:s,fetchedClusterLogsAt:l},viewOptions:i,history:o,setSorting:c,externalClusterID:u}=this.props;if(e&&!di()(s))return a().createElement(a().Fragment,null,a().createElement(Ne.NP,null,a().createElement(g.ub,null,a().createElement(Fr,{message:"Error retrieving cluster logs",response:{errorMessage:n,operationID:r}}))));const d=P()(i.filter)&&Z(i.flags.severityTypes),p=!di()(s)&&t&&d;return a().createElement(a().Fragment,null,a().createElement(ke.Card,{className:"ocm-c-overview-cluster-history__card"},a().createElement(Hh.O,{className:"ocm-c-overview-cluster-history__card--header"},a().createElement(Le.l,{className:"ocm-c-overview-cluster-history__card--header"},a().createElement(R.Title,{headingLevel:"h2",className:"card-title"},"Cluster history")),a().createElement(Gh.T,null,"Updated ",l&&a().createElement(Ag,{timestamp:l.getTime()}))),a().createElement(Me.e,{className:"ocm-c-overview-cluster-history__card--body"},a().createElement(yg,{view:ot.R$.X0,history:o,externalClusterID:u,isPendingNoData:p}),a().createElement(_g,{logs:s,setSorting:c}),a().createElement(ht,{viewType:ot.R$.X0,currentPage:i.currentPage,pageSize:i.pageSize,totalCount:i.totalCount,totalPages:i.totalPages,variant:"bottom",isDisabled:p}))))}}Ng.propTypes={externalClusterID:l().string.isRequired,viewOptions:l().shape({currentPage:l().number,pageSize:l().number,totalCount:l().number,totalPages:l().number,flags:l().shape({severityTypes:l().object}),filter:l().object}).isRequired,clusterLogs:l().object.isRequired,getClusterHistory:l().func.isRequired,setListFlag:l().func.isRequired,setSorting:l().func.isRequired,pending:l().bool,history:l().shape({push:l().func.isRequired}).isRequired};const Lg=Ng,Mg={getClusterHistory:(e,t)=>fg.getClusterHistory(e,t),setSorting:e=>pt(e,ot.R$.X0),setListFlag:(e,t)=>dt(e,t,ot.R$.X0)},kg=(0,i.connect)((e=>({clusterLogs:e.clusterLogs,viewOptions:e.viewOptions[ot.R$.X0]})),Mg)(Lg);function jg({cluster:e,openModal:t}){var n;let r,s,l,i=!1,o=null;const c="read_only"===(null==e||null===(n=e.status)||void 0===n?void 0:n.configuration_mode)&&"This operation is not available during maintenance",u=!e.canEdit&&"You do not have permission to resume from hibernation. Only cluster owners, cluster editors, and organization administrators can change hibernation state.";switch(e.state){case Co.RESUMING:s="Cluster is resuming from hibernation",l="This might take a few minutes!",r=po.ZP;break;case Co.POWERING_DOWN:s="Cluster is powering down and moving to a hibernating state",l="The cluster will not utilize any infrastructure and all operations will not be available",r=po.ZP,i=!0,o="This cluster is powering down; you will be able to resume after it reaches hibernating state.";break;default:s="Cluster is currently hibernating",l="The cluster is not utilizing any infrastructure and all operations will not be available",r=go.ZP,i=!0,o=c||u}return a().createElement(ke.Card,{id:"hibernatingClusterCard"},a().createElement(Me.e,null,a().createElement(g.ub,{variant:g.IQ.large},a().createElement(Oe.k,{className:"status-icon",icon:r}),a().createElement(R.Title,{headingLevel:"h4",size:"lg"},s),a().createElement(b.B,null,l),a().createElement(Ce.i,null,i&&a().createElement(um,{variant:"link",disableReason:o,onClick:()=>{const n={clusterID:e.id,clusterName:e.name,subscriptionID:e.subscription.id};t(Tt,n)}},"Resume from Hibernation")))))}jg.propTypes={cluster:l().object.isRequired,openModal:l().func.isRequired};const xg=jg;var qg=n(78765),Ug=n(94184),zg=n.n(Ug);const Fg={[Co.INSTALLING]:"This cluster is installing so some data might not be available. This may take a few minutes.",[Co.PENDING]:"This cluster is installing so some data might not be available. This may take a few minutes.",[Co.WAITING]:"This cluster requires user action before installation can start.",[Co.ERROR]:"An error occured",[Co.UNINSTALLING]:"This cluster is being deleted so some data might not be available.",[Co.PATCHING]:"The cluster currently does not have any metrics data. Try again later.",[Co.STALE]:"No metrics sent during the last 24 hours.",[Co.LONG_STALE]:"No metrics sent during the last week.",[Co.UNKNOWN]:"The cluster currently does not have any metrics data. Try again later.",archived:"The cluster has been archived and does not have any metrics data.",default:"The cluster currently does not have any metrics data. Try again later."};function Zg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Bg extends a().Component{constructor(e){super(e),Zg(this,"state",{userScrolled:!1,isFullScreen:!1,isExpanded:!1}),Zg(this,"isShown",(()=>{const{isExpanded:e}=this.state,{isExpandable:t}=this.props;return!t||e})),Zg(this,"toggleExpanded",(e=>{this.setState({isExpanded:e})})),Zg(this,"scrollToEnd",(()=>{const{lines:e}=this.props;if(e){const e=this.logPaneRef.current;e&&e.scrollTo&&e.scrollTo({top:e.scrollHeight})}})),Zg(this,"onScroll",(e=>{const{userScrolled:t}=this.state,n=e.target,r=n.scrollHeight-n.clientHeight-n.scrollTop;!t&&r>20&&this.isPageVisible&&this.isShown()&&this.setState({userScrolled:!0}),t&&r<=20&&this.setState({userScrolled:!1})})),Zg(this,"onFullscreenChange",(()=>{const{userScrolled:e}=this.state,t=!!document.fullscreenElement;this.setState({isFullScreen:t}),e||this.scrollToEnd()})),Zg(this,"onVisibilityChange",(()=>{null!==this.updateTimer&&window.clearInterval(this.updateTimer),this.isPageVisible="visible"===document.visibilityState,this.isShown()&&(this.isPageVisible?(this.updateTimer=window.setInterval(this.update,2e3),this.update()):this.updateTimer=window.setInterval(this.update,15e3))})),Zg(this,"update",(()=>{const{getLogs:e,cluster:t,lines:n,len:r,logType:a,pending:s,errorCode:l}=this.props;if(!s&&403!==l){const s=t.state!==Co.UNINSTALLING?"install":"uninstall";let l=n?r:0;a!==s&&(l=0),e(t.id,l,s)}})),Zg(this,"fullScreen",(()=>{const{userScrolled:e}=this.state;document.fullscreenElement?document.exitFullscreen().then((()=>{this.setState({isFullScreen:!1})})):this.cardRef.current.requestFullscreen().then((()=>{e||setTimeout((()=>{this.scrollToEnd()}),100)}))})),this.logPaneRef=a().createRef(),this.cardRef=a().createRef()}componentDidMount(){this.isShown()&&(this.update(),this.updateTimer=window.setInterval(this.update,2e3)),document.addEventListener("fullscreenchange",this.onFullscreenChange),document.addEventListener("visibilitychange",this.onVisibilityChange),this.isPageVisible="visible"===document.visibilityState}shouldComponentUpdate(e,t){return t.userScrolled!==this.state.userScrolled||t.isExpanded!==this.state.isExpanded||t.isFullScreen!==this.state.isFullScreen||e.lines!==this.props.lines||e.cluster.state!==this.props.cluster.state||e.cluster.id!==this.props.cluster.id||e.errorCode!==this.props.errorCode||e.logType!==this.props.logType||e.isExpandable!==this.props.isExpandable}componentDidUpdate(e,t){const{lines:n,errorCode:r,cluster:a}=this.props,{isExpanded:s}=this.state;!e.lines&&n&&this.setState({userScrolled:!1}),(403!==e.errorCode&&403===r||a.state===Co.ERROR)&&null!==this.updateTimer&&window.clearInterval(this.updateTimer),s!==t.isExpanded&&(s&&this.setState({userScrolled:!1}),this.onVisibilityChange())}componentWillUnmount(){const{clearLogs:e}=this.props;null!==this.updateTimer&&window.clearInterval(this.updateTimer),document.removeEventListener("fullscreenchange",this.onFullscreenChange),document.removeEventListener("visibilitychange",this.onVisibilityChange),e(),document.fullscreenElement&&document.exitFullscreen()}render(){const{lines:e,len:t,errorCode:n,cluster:r,isExpandable:s}=this.props,{userScrolled:l,isFullScreen:i,isExpanded:o}=this.state,c=e?t-1:0;let u;!l&&c&&this.isShown()&&requestAnimationFrame(this.scrollToEnd),u=r.state===Co.UNINSTALLING?403===n?Fg.uninstalling:"Cluster uninstallation has started. Uninstallation log will appear here once it becomes available.":403===n?Fg.installing:"Cluster installation has started. Installation log will appear here once it becomes available.";const d=a().createElement("div",{id:"log-window-container",className:zg()(i&&"pf-c-card__body"),ref:this.cardRef},!!c&&a().createElement("div",{className:"logview-buttons"},a().createElement(p.Button,{onClick:this.fullScreen,variant:"link",icon:a().createElement(qg.ZP,null),isDisabled:!c||!document.fullscreenEnabled},i?"Exit full screen":"Full screen")),c?a().createElement("div",{className:"log-window"},a().createElement("div",{className:"log-window__header"},c," ","lines"),a().createElement("div",{className:"log-window__body"},a().createElement("div",{className:"log-window__scroll-pane",ref:this.logPaneRef,onScroll:this.onScroll},a().createElement("div",{className:"log-window__contents"},a().createElement("div",{className:"log-window__contents__text"},e||""))))):r.state!==Co.ERROR&&a().createElement("p",null,u));return s?a().createElement(V.L,{id:"toggle-logs",toggleTextCollapsed:"View logs",toggleTextExpanded:"Hide logs",onToggle:this.toggleExpanded,isExpanded:o,isActive:!i},d):d}}Bg.propTypes={isExpandable:l().bool,clearLogs:l().func.isRequired,getLogs:l().func.isRequired,pending:l().bool,lines:l().string,len:l().number,logType:l().oneOf(["install","uninstall"]),cluster:l().shape({id:l().string,state:l().string}),errorCode:l().number};const Gg=Bg;var Hg=n(96616);function Vg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vg(Object(n),!0).forEach((function(t){Qg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Wg=(e,t=0,n="install")=>r=>r({type:Hg.DF.GET_LOGS,payload:xt.le.getLogs(e,t,n).then((e=>$g($g({},e),{},{logType:n})))}),Yg=e=>e.managed&&e.canEdit&&(e.state===Co.WAITING||e.state===Co.PENDING||e.state===Co.INSTALLING||e.state===Co.ERROR||e.state===Co.UNINSTALLING),Kg={clearLogs:()=>e=>e({type:Hg.DF.CLEAR_LOGS}),getLogs:Wg},Jg=(0,i.connect)((e=>({lines:e.logs.lines,len:e.logs.len,pending:e.logs.pending,errorCode:e.logs.errorCode,logType:e.logs.logType})),Kg)(Gg);var Xg=n(83215);function eb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class tb extends a().Component{constructor(...e){super(...e),eb(this,"timerID",null),eb(this,"update",(()=>{const{cluster:e,getClusterStatus:t}=this.props;t(e.id),this.timerID=null}))}componentDidMount(){this.update()}componentDidUpdate(e){const{status:t,cluster:n,refresh:r,addNotification:a,history:s}=this.props;if(e.status.pending&&!t.pending){null!==this.timerID&&clearTimeout(this.timerID);const e=e=>e===Co.INSTALLING||e===Co.PENDING||e===Co.WAITING;if(t.fulfilled){const a=t.status.state;a!==n.state&&r(),(e(a)||a===Co.UNINSTALLING)&&(this.timerID=setTimeout(this.update,5e3))}else t.error&&(e(n.state)?this.timerID=setTimeout(this.update,5e3):n.state===Co.UNINSTALLING&&404===t.errorCode&&(a({title:`Successfully uninstalled cluster ${en(n)}`,variant:"success"}),s.push("/")))}}componentWillUnmount(){null!==this.timerID&&clearTimeout(this.timerID)}render(){const{status:e,cluster:t}=this.props,n=e.status.provision_error_code||"";let r="";if(e.status.provision_error_code&&(r=T()(e,"status.provision_error_message","")),e.status.id===t.id){if(e.status.state===Co.ERROR)return a().createElement(Ur.bZ,{variant:"danger",isInline:!0,title:`${n} Cluster installation failed`},r);if(e.status.provision_error_code||e.status.provision_error_message)return a().createElement("span",null,a().createElement(Ur.bZ,{variant:"warning",isInline:!0,title:`${n} Installation is taking longer than expected`},r),a().createElement("br",null))}return null}}tb.propTypes={cluster:l().shape({id:l().string,state:l().string}),refresh:l().func,addNotification:l().func,getClusterStatus:l().func,status:l().shape({pending:l().bool,fulfilled:l().bool,error:l().bool,errorCode:l().string,status:l().shape({id:l().string,description:l().string,state:l().string,provision_error_code:l().string,provision_error_message:l().string})}),history:l().shape({push:l().func.isRequired}).isRequired};const nb=tb,rb=(0,i.connect)((e=>({status:e.clusters.clusterStatus})),(e=>({getClusterStatus:t=>e(dr(t)),addNotification:t=>e((0,Xg.wN)(t))})))(nb);function ab({cluster:e,children:t}){return a().createElement(ke.Card,null,a().createElement(Le.l,null,a().createElement(R.Title,{headingLevel:"h2",size:"lg",className:"card-title logview-title"},e.state===Co.UNINSTALLING?"Uninstallation logs":"Installing cluster")),a().createElement(Me.e,null,t&&t[0],(e.state===Co.INSTALLING||e.state===Co.PENDING||e.state===Co.WAITING)&&a().createElement(tc,{cluster:e}),t&&t[1]))}ab.propTypes={cluster:l().object.isRequired,children:l().arrayOf(l().node)};const sb=ab;var lb=n(31300);function ib(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ob extends a().Component{constructor(...e){super(...e),ib(this,"state",{showPopover:!1}),ib(this,"popOverShouldClose",(()=>{this.setState({showPopover:!1})})),ib(this,"popOverShouldOpen",(()=>{this.setState({showPopover:!0})})),ib(this,"navToAddOns",(()=>{this.setState({showPopover:!1}),window.location.hash="#addOns"}))}componentDidMount(){const{cluster:e,clusterAddOns:t,getClusterAddOns:n}=this.props;t.clusterID===e.id&&t.pending||n(e.id)}render(){const{clusterAddOns:e,addOns:t,children:n}=this.props,{showPopover:r}=this.state,s=(()=>{const n=[];return e.items.forEach((e=>{t.items.forEach((t=>{t.id===e.id&&t.has_external_resources&&n.push(e)}))})),n})(),l=s.some((e=>e.state===lb.Z.INSTALLATION_STATE.DELETING)),i=s.some((e=>e.state!==lb.Z.INSTALLATION_STATE.DELETED)),o=s.some((e=>e.state===lb.Z.INSTALLATION_STATE.FAILED)),c=(()=>{const t=[];return o&&e.items.forEach((e=>{e.state===lb.Z.INSTALLATION_STATE.FAILED&&t.push(e)})),t})(),u=()=>a().createElement(Wr.J2,{isVisible:r,shouldClose:()=>this.popOverShouldClose(),shouldOpen:()=>this.popOverShouldOpen(),headerContent:a().createElement("div",null,"Add-on uninstallation status"),bodyContent:a().createElement("div",null,a().createElement(p.Button,{isInline:!0,variant:"link",onClick:()=>this.navToAddOns()},c[0].id)," ","add-on failed to uninstall")},a().createElement(p.Button,{isInline:!0,variant:"link"},"Failed")),d=()=>a().createElement(Wr.J2,{isVisible:r,shouldClose:()=>this.popOverShouldClose(),shouldOpen:()=>this.popOverShouldOpen(),headerContent:a().createElement("div",null,"Add-on uninstallation status"),bodyContent:a().createElement("div",null,"The following add-ons failed to uninstall:",a().createElement(et.aV,{className:"uninstall-progress-list--error-list"},c.map((e=>a().createElement(tt.H,null,a().createElement(p.Button,{isInline:!0,variant:"link",onClick:()=>this.navToAddOns()},e.id))))))},a().createElement(p.Button,{isInline:!0,variant:"link"},"Failed")),m=(()=>{const t={icon:a().createElement(Xo.ZP,{className:"uninstall-progress-list--icon-space-right"}),text:"Pending"},n={icon:a().createElement(Xt.ZP,{className:"uninstall-progress-list--icon-space-right",color:Se.global_success_color_100.value}),text:"Completed"},r={icon:a().createElement(Eo.Spinner,{className:"uninstall-progress-list--icon-space-right",size:"sm"}),text:"Uninstalling"};return 0!==s.length&&0!==e.items.length&&i?l?{addOnCleanUp:r,clusterUninstall:t}:o?{addOnCleanUp:0===c.length?{icon:a().createElement(Re.ZP,{className:"uninstall-progress-list--icon-error"}),text:"Failed"}:1===c.length?{icon:a().createElement(Re.ZP,{className:"uninstall-progress-list--icon-error"}),text:u()}:{icon:a().createElement(Re.ZP,{className:"uninstall-progress-list--icon-error"}),text:d()},clusterUninstall:t}:{addOnCleanUp:t,clusterUninstall:t}:{addOnCleanUp:n,clusterUninstall:r}})();return a().createElement(ke.Card,null,a().createElement(Le.l,null,a().createElement(R.Title,{headingLevel:"h2",size:"lg",className:"card-title logview-title"},"Cluster Uninstallation")),a().createElement(Me.e,null,n&&n[0],a().createElement(Wo.o,{className:"uninstall-progress-list--description-list"},a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Add-on uninstallation"),a().createElement(Jo.b,null,m.addOnCleanUp.icon,m.addOnCleanUp.text)),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Cluster uninstallation"),a().createElement(Jo.b,null,m.clusterUninstall.icon,m.clusterUninstall.text))),n&&n[1]))}}ob.propTypes={cluster:l().object.isRequired,children:l().arrayOf(l().node),getClusterAddOns:l().func.isRequired,clusterAddOns:l().object,addOns:l().object};const cb=ob,ub=e=>t=>t({type:lb.Z.GET_ADDONS,payload:xt.le.getAddOns(e).then((e=>{const t=T()(e,"data.items",[]);return{items:t,resourceNames:t.map((e=>e.resource_name))}}))}),db=e=>t=>t({type:lb.Z.GET_CLUSTER_ADDONS,payload:xt.le.getClusterAddOns(e).then((t=>{const n=T()(t,"data.items",[]);return{clusterID:e,items:n}}))}),pb=(e,t)=>n=>n({type:lb.Z.ADD_CLUSTER_ADDON,payload:xt.le.addClusterAddOn(e,t)}),mb=(e,t,n)=>r=>r({type:lb.Z.UPDATE_CLUSTER_ADDON,payload:xt.le.updateClusterAddOn(e,t,n).then((t=>(r(db(e)),t)))}),hb=()=>({type:lb.Z.CLEAR_CLUSTER_ADDON_RESPONSES}),gb=(0,i.connect)((e=>({clusterAddOns:e.addOns.clusterAddOns,addOns:e.addOns.addOns,logs:e.logs})),(e=>(0,Tm.bindActionCreators)({getClusterAddOns:db,getLogs:Wg},e)))(cb);function bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bb(Object(n),!0).forEach((function(t){fb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const yb=e=>e.reduce(((e,{total_risk:t})=>Eb(Eb({},e),{},{[t]:e[t]?e[t]+1:1})),{1:0,2:0,3:0,4:0}),vb={1:"blue",2:"orange",3:"orange",4:"red"};var Ob=n(5381),Cb=n(2293),Rb=n(89792),Sb=n(39783),Pb=n(57433),wb=n(58994),Tb=n(61169),Db=n(59641),_b=n(10310);function Ib(){return(Ib=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const Ab={1:"Low",2:"Moderate",3:"Important",4:"Critical"},Nb={1:Ob.ZP,2:Rb.ZP,3:Cb.ZP,4:e=>a().createElement("svg",{x:"3.5",y:"2.5"},a().createElement("svg",e,a().createElement("polygon",{points:"10 10, 10 3, 5 0, 0 3, 0 10, 5 8"})))},Lb={1:Pb.$3.value,2:wb.fj.value,3:Tb.Fd.value,4:Db.Cf.value},Mb=[Db.Cf.value,Tb.Fd.value,wb.fj.value,Sb.RD.value],kb=e=>{const{datum:t}=e;return a().createElement(_b.Df,Ib({},e,{className:t.value>0?"ocm-c-overview-advisor--enabled-link":"ocm-c-overview-advisor--disabled-link",events:t.value>0?{onClick:()=>{window.location.hash="#insights"}}:{}}))},jb=({x:e,y:t,datum:n})=>{const r=Nb[n.id];return a().createElement(r,{x:e-5,y:t-7,fill:Lb[n.id]})};kb.propTypes={datum:s.PropTypes.shape({value:s.PropTypes.number})},jb.propTypes={x:s.PropTypes.number,y:s.PropTypes.number,datum:s.PropTypes.shape({id:s.PropTypes.string})};const xb=({entries:e,issueCount:t})=>a().createElement(Ge.HS,{data:e.map((([e,t])=>({label:`${Ab[e]} ${t}`,x:e,y:t}))),title:`${t}`,subTitle:"Total "+(1===t?"issue":"issues"),legendData:e.map((([e,t])=>({name:`${t} ${Ab[e]}`}))),legendOrientation:"vertical",legendPosition:"right",constrainToVisibleArea:!0,width:350,height:180,colorScale:Mb,legendComponent:a().createElement(Gl.Qk,{data:e.map((([e,t])=>({name:`${t} ${Ab[e]}`,id:e,value:t}))),labelComponent:a().createElement(kb,null),dataComponent:a().createElement(jb,null),x:210}),padAngle:0,padding:{bottom:0,left:20,right:150,top:20}}),qb=xb;xb.propTypes={entries:l().array.isRequired,issueCount:l().number.isRequired};const Ub=({insightsData:e})=>{const t=e.data?e.data.filter((e=>!e.disabled)):[],n=Object.entries(yb(t)).reverse();return a().createElement(nt.k,null,a().createElement(rt.B,null,a().createElement(R.Title,{className:"ocm-c-overview-advisor--card__title",size:"lg",headingLevel:"h2"},"Advisor recommendations"),a().createElement(ql,null)),a().createElement(rt.B,null,a().createElement(qb,{entries:n,issueCount:t.length})))};Ub.propTypes={insightsData:s.PropTypes.object};const zb=Ub;function Fb(){return(Fb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Bb extends r.Component{constructor(...e){super(...e),Zb(this,"formatCurrency",((e=0,t="USD")=>e.toLocaleString("en",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}))),Zb(this,"getChart",(()=>{const{report:e}=this.props,t=e&&e.meta&&e.meta.total&&e.meta.total.cost,n=t&&e.meta.total.cost.markup,r=t&&e.meta.total.cost.raw,s=t&&e.meta.total.cost.usage,l=n?e.meta.total.cost.markup.units:"USD",i=r?e.meta.total.cost.raw.units:"USD",o=s?e.meta.total.cost.usage.units:"USD",c=n?e.meta.total.cost.markup.value:0,u=r?e.meta.total.cost.raw.value:0,d=s?e.meta.total.cost.usage.value:0,p=this.formatCurrency(n?e.meta.total.cost.markup.value:0,l),m=this.formatCurrency(r?e.meta.total.cost.raw.value:0,i),h=this.formatCurrency(s?e.meta.total.cost.usage.value:0,o),g="Markup",b="Raw cost",E="Usage cost";return a().createElement(Bl.Td,{ariaDesc:"Cost breakdown",constrainToVisibleArea:!0,data:[{x:b,y:u,units:i},{x:g,y:c,units:l},{x:E,y:d,units:o}],height:185,labels:({datum:e})=>`${e.x}: ${this.formatCurrency(e.y,e.units)}`,legendComponent:this.getLegend([m,p,h]),legendData:[{name:b},{name:g},{name:E}],legendOrientation:"vertical",legendPosition:"right",padding:{bottom:30,left:0,right:225,top:30},legendAllowWrap:!0,width:350})})),Zb(this,"getLegendLabel",(()=>e=>{let{values:t}=e,n=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["values"]);return a().createElement(_b.Df,Fb({},n,{style:[{fontWeight:600},{}],text:[t[n.index],n.text]}))})),Zb(this,"getLegend",(e=>{const t=this.getLegendLabel();return a().createElement(Gl.Qk,{gutter:25,itemsPerRow:2,labelComponent:a().createElement(t,{dy:10,lineHeight:1.5,values:e}),rowGutter:20})})),Zb(this,"getTotal",(()=>{const{report:e}=this.props,t=e&&e.meta&&e.meta.total&&e.meta.total.cost&&e.meta.total.cost.total,n=t?e.meta.total.cost.total.value:0,r=t?e.meta.total.cost.total.units:"USD";return this.formatCurrency(n,r)}))}render(){const{report:e}=this.props;return e.fulfilled?a().createElement(a().Fragment,null,a().createElement(R.Title,{className:"ocm--cost-title",size:"md",headingLevel:"h2"},"Total cost",a().createElement("span",{className:"ocm--cost-total"}," ",this.getTotal())),a().createElement("div",{style:{maxHeight:185,maxWidth:350}},this.getChart())):a().createElement(At.Z,{size:"md"})}}Bb.propTypes={report:l().shape({data:l().array,meta:l().object,pending:l().bool,fulfilled:l().bool}).isRequired};const Gb=Bb;class Hb extends r.Component{constructor(...e){var t,n;super(...e),n=()=>{const{clusterId:e,getReport:t,getSources:n}=this.props;t({filter:{cluster:e}}),n({type:"OCP"})},(t="refresh")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){this.refresh()}render(){const{report:e,sources:t}=this.props,n=t&&t.meta&&0!==t.meta.count;return a().createElement(ke.Card,{className:"ocm--cost-breakdown-card"},a().createElement(Le.l,null,a().createElement(R.Title,{size:"lg",headingLevel:"h2"},"Cost breakdown")),a().createElement(Me.e,{className:"ocm--cost-breakdown-card__body"},!n&&t.fulfilled?a().createElement(Sr,null):a().createElement(Gb,{report:e})))}}Hb.propTypes={clusterId:l().string,getReport:l().func.isRequired,getSources:l().func.isRequired,report:l().shape({data:l().array,meta:l().object,pending:l().bool,fulfilled:l().bool}).isRequired,sources:l().shape({meta:l().object,pending:l().bool,fulfilled:l().bool}).isRequired};const Vb=Hb,$b={getReport:Lr,getSources:Mr},Qb=(0,i.connect)((e=>({report:e.cost.report,sources:e.cost.sources})),$b)(Vb);function Wb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wb(Object(n),!0).forEach((function(t){Kb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{AssistedInstallerDetailCard:Jb}=u.I;class Xb extends a().Component{constructor(...e){super(...e),Kb(this,"state",{showInstallSuccessAlert:!1})}componentDidUpdate(e){const{cluster:t}=this.props;e.cluster.state!==Co.INSTALLING&&e.cluster.state!==Co.PENDING&&e.cluster.state!==Co.WAITING||t.state!==Co.READY||!t.managed||e.cluster.id!==t.id||this.setState({showInstallSuccessAlert:!0})}render(){const{cluster:e,cloudProviders:t,history:n,displayClusterLogs:r,refresh:s,openModal:l,insightsData:i,userAccess:o}=this.props;let c;const{showInstallSuccessAlert:u}=this.state,d=vo(e),p=T()(e,"subscription.status",!1)===ee.Ij.ARCHIVED,m=T()(e,"subscription.status",!1)===ee.Ij.DEPROVISIONED,h=T()(e,"subscription.plan.type","")===ee.vQ.ARO,g=Tn(e)&&(e.canEdit||e.state!==Co.WAITING&&e.state!==Co.PENDING&&e.state!==Co.INSTALLING),b=p?Fg.archived:Fg[e.state]||Fg.default,E=e.state===Co.WAITING||e.state===Co.PENDING||e.state===Co.INSTALLING||e.state===Co.UNINSTALLING,f=200===(null==i?void 0:i.status)&&(null==i?void 0:i.data)&&!h&&!m&&!p,y=!(Oo(e.state)||(0,Zn.ZP)(e.subscription)||Yg(e)||m||p),v=!e.managed&&o.fulfilled&&void 0!==o.data&&!0===o.data&&!m&&!p,O=f||v,C=e.aiCluster&&!p&&(0,Zn.ZP)(e.subscription),S=!e.aiCluster||!(0,Zn.$U)(e),P=!m&&!p;c=Oo(e.state)?a().createElement(xg,{cluster:e,openModal:l}):e.state===Co.UNINSTALLING?!(0,Zn.ZP)(e.subscription)&&Yg(e)&&a().createElement(a().Fragment,null,a().createElement(gb,{cluster:e},a().createElement(rb,{cluster:e,refresh:s,history:n}),a().createElement(Jg,{cluster:e}))):!(0,Zn.ZP)(e.subscription)&&Yg(e)&&a().createElement(a().Fragment,null,a().createElement(sb,{cluster:e},a().createElement(rb,{cluster:e,refresh:s,history:n}),a().createElement(Jg,{cluster:e})));const w=a().createElement(ke.Card,{className:"ocm-c-overview-resource-usage__card"},a().createElement(Le.l,{className:"ocm-c-overview-resource-usage__card--header"},a().createElement(R.Title,{headingLevel:"h2",className:"card-title"},"Resource usage"),u&&a().createElement(Ur.bZ,{variant:"success",isInline:!0,title:"Cluster installed successfully"}),E&&a().createElement(rb,{refresh:s,cluster:e,history:n})),a().createElement(Me.e,{className:"ocm-c-overview-resource-usage__card--body"},a().createElement(Al,{metricsAvailable:g,metricsStatusMessage:b,cpu:{used:e.metrics.cpu.used,total:e.metrics.cpu.total},memory:{used:e.metrics.memory.used,total:e.metrics.memory.total},type:"threshold"})));return a().createElement(je.r,{hasGutter:!0},a().createElement(xe.P,{sm:12,xl2:O?9:12},a().createElement(je.r,{hasGutter:!0},c,C&&a().createElement(Jb,{aiClusterId:e.aiCluster.id}),y&&!O&&w,S&&a().createElement(ke.Card,{className:"ocm-c-overview-details__card"},a().createElement(Le.l,{className:"ocm-c-overview-details__card--header"},a().createElement(R.Title,{headingLevel:"h2",className:"card-title"},"Details")),a().createElement(Me.e,{className:"ocm-c-overview-details__card--body"},a().createElement(je.r,null,a().createElement(xe.P,{sm:6},a().createElement(jh,{cluster:e,cloudProviders:t})),a().createElement(xe.P,{sm:6},a().createElement(lh,{cluster:Yb(Yb({},e),{},{state:d})}))))),P&&a().createElement(Bh,null))),O&&a().createElement(xe.P,{sm:12,xl2:3},a().createElement(je.r,{hasGutter:!0},y&&a().createElement(xe.P,{sm:6,xl2:12},w),f&&a().createElement(xe.P,{sm:6,xl2:12},a().createElement(ke.Card,{className:"ocm-c-overview-advisor--card",ouiaId:"insightsAdvisor"},a().createElement(Me.e,null,a().createElement(zb,{insightsData:i})))),v&&a().createElement(xe.P,{sm:6,xl2:12},a().createElement(Qb,{clusterId:e.external_id})))),r&&a().createElement(xe.P,{sm:12},a().createElement(kg,{externalClusterID:e.external_id,history:n})))}}Xb.propTypes={cluster:l().object,cloudProviders:l().object.isRequired,history:l().object.isRequired,displayClusterLogs:l().bool.isRequired,refresh:l().func,openModal:l().func.isRequired,insightsData:l().object,userAccess:l().shape({data:l().bool,pending:l().bool,fulfilled:l().bool}).isRequired};const eE=Xb,tE=({variant:e})=>a().createElement(Wr.J2,{position:"right",maxWidth:"22rem",bodyContent:a().createElement(a().Fragment,null,a().createElement("p",{className:"paragraph-margin-bottom"},"Insights identifies and prioritizes risks to security, performance, availability, and stability of your clusters."),a().createElement("p",null,"This feature uses the Remote Health functionality of OpenShift Container Platform. For further details about Insights, see the"," ",a().createElement("a",{href:"https://docs.openshift.com/container-platform/latest/support/getting-support.html"},"OpenShift documentation."))),"aria-label":"What is Insights?",boundary:"viewport",enableFlip:!0},a().createElement(p.Button,{style:"link"===e?{padding:"0"}:void 0,variant:e},"What is Insights?"));tE.propTypes={variant:l().string},tE.defaultProps={variant:"link"};const nE=({icon:e,header:t,body:n,iconClassName:r,showPopover:s})=>a().createElement(g.ub,{className:"empty-table-message",variant:g.IQ.large},a().createElement(Oe.k,{className:r,icon:e}),a().createElement(R.Title,{headingLevel:"h5",size:"lg"},t),a().createElement(b.B,null,n),s&&a().createElement(Ce.i,null,a().createElement(tE,{variant:"primary"})));nE.propTypes={icon:l().elementType,header:l().string,body:l().oneOfType([l().string,l().node]),iconClassName:l().string,showPopover:l().bool};const rE=()=>a().createElement(nE,{icon:No.ZP,header:"No recommendations to display",iconClassName:"info-color",body:a().createElement(a().Fragment,null,"Insights identifies and prioritizes risks to security, performance, availability, and stability of your clusters. This feature uses the Remote Health functionality of OpenShift Container Platform. For further details about Insights, see the"," ",a().createElement("a",{href:"https://docs.openshift.com/container-platform/latest/support/getting-support.html"},"OpenShift documentation"),".")}),aE=({lastChecked:e})=>{const t=a().createElement(a().Fragment,null,a().createElement("div",null,"No issues have been identified."),e&&a().createElement("div",null,a().createElement("span",null,"Last check: "),a().createElement(zd.Z,{date:new Date(e)})));return a().createElement("div",{className:"NoIssuesMessage"},a().createElement(nE,{icon:Xt.ZP,iconClassName:"success-color",header:"Your cluster passed all recommendations",body:t,showPopover:!0}))};aE.propTypes={lastChecked:l().node};const sE=()=>a().createElement("div",{className:"AnalysisInProgressMessage"},a().createElement(nE,{icon:po.ZP,iconClassName:"disabled-color",header:"The analysis of your cluster is in progress",body:"Your cluster has been identified, and Insights analyzes your cluster. The results will be displayed shortly.",showPopover:!0})),lE=()=>{const e=a().createElement(a().Fragment,null,"Try refreshing the page."," ","If the problem persists,"," ","contact your organization administrator or visit our"," ",a().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://status.redhat.com/"},"status page")," ","for known outages.");return a().createElement("div",{className:"ErrorMessage"},a().createElement(nE,{icon:Re.ZP,iconClassName:"danger-color",header:"This page is temporarily unavailable",body:e,showPopover:!0}))};var iE=n(42722),oE=n(77417),cE=n(59089),uE=n(33599),dE=n(99184),pE=n(78216),mE=n(71353),hE=n(35341),gE=n(13135),bE=n(77336);const EE=Object.keys(bE.UQ),fE=e=>e.replace(/https:\/\/(docs.openshift.com|access.redhat.com)\/[^ )([\]"]+/g,(e=>((e,t,n)=>{const r=new URL(e),a=new URLSearchParams(r.search);return a.set("cr","OCM"),r.search=a,r.href})(e)));function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yE(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const CE=[Se.global_palette_blue_50.value,Se.global_palette_gold_400.value,Se.global_palette_orange_300.value,Se.global_palette_red_200.value],RE=[Se.global_palette_blue_300.value,Se.global_palette_gold_400.value,Se.global_palette_orange_300.value,Se.global_palette_red_200.value],SE=e=>({style:vE(vE({},e.style),{},{fill:Se.global_primary_color_200.value,textDecoration:"underline",cursor:"pointer"})}),PE=({insightsData:e,batteryClicked:t})=>{const n=e.data?e.data.filter((e=>!e.disabled)):[],r=n.reduce(((e,{total_risk:t})=>vE(vE({},e),{},{[t]:e[t]?e[t]+1:1})),{1:0,2:0,3:0,4:0}),s=n.length,l=T()(e,"meta.last_checked_at",0),i=(0,mE.f)("voronoi");return a().createElement(ke.Card,{className:"insights-analysis-card",ouiaId:"summaryByRisk"},a().createElement(Me.e,null,a().createElement(v.K,null,a().createElement(y.v,null,a().createElement(O.P,null,a().createElement(C.J,{isFilled:!0},a().createElement(R.Title,{headingLevel:"h2",size:"xl"},`${s} potential issue${s>1?"s":""} identified`)),a().createElement(C.J,{className:"cluster-insights-description"},a().createElement(h.xv,null,"Last check: ",a().createElement(zd.Z,{date:new Date(l)}))))),a().createElement(y.v,null,a().createElement(hE.K,{ariaDesc:"Total risk chart",ariaTitle:"Total risk chart",containerComponent:a().createElement(i,{mouseFollowTooltips:!0,labels:({datum:e})=>`${e.name}: ${e.y}`}),height:40,width:550,padding:{bottom:0,left:0,right:0,top:20},horizontal:!0},Object.entries(r).reverse().map((([e,t])=>a().createElement(gE.B,{key:e,name:`bar-${e}`,barWidth:20,data:[{name:bE.UQ[EE[e-1]],x:1,y:t}],style:{data:{fill:CE[e-1]}}}))))),a().createElement(y.v,{isFilled:!0},a().createElement(Gl.Qk,{responsive:!1,height:40,width:550,padding:{margin:0,bottom:0,left:0,right:0,top:-50},className:"pf-m-redhat-font",style:{labels:{fill:Se.c_button_m_control_active_after_BorderBottomColor.value}},events:[{target:"labels",eventHandlers:{onMouseOver:()=>[{mutation:e=>SE(e)}],onMouseOut:()=>[{mutation:()=>null}],onClick:()=>[{mutation:e=>(t(EE[parseInt(e.datum.severity,10)-1]),SE(e))}]}}],data:Object.entries(r).reverse().map((([e,t])=>({name:`${t} ${bE.UQ[EE[e-1]]}`,severity:e,symbol:{type:"circle",fill:RE[e-1]}})))})),a().createElement(y.v,null,a().createElement(tE,null)))))};PE.propTypes={insightsData:l().object.isRequired,batteryClicked:l().func.isRequired};const wE=PE;function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TE(Object(n),!0).forEach((function(t){_E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const IE=e=>({style:DE(DE({},e.style),{},{fill:Se.global_primary_color_200.value,textDecoration:"underline",cursor:"pointer"})}),AE=({insightsData:e,groups:t,groupClicked:n})=>{const r=((e,t)=>t.sort(((e,t)=>e.title.localeCompare(t.title))).reduce(((t,{tags:n,title:r})=>DE(DE({},t),{},{[r]:{count:e.reduce(((e,t)=>t.tags.filter((e=>n.includes(e))).length>0?e+1:e),0),tags:n.join(",")}})),{}))(e.data||[],[...t]);return a().createElement(ke.Card,{className:"insights-analysis-card group-card",ouiaId:"summaryByCategory"},a().createElement(Me.e,null,a().createElement(v.K,null,a().createElement(y.v,null,a().createElement(R.Title,{className:"group-card-title",headingLevel:"h2",size:"xl"},"Recommendations by category"),a().createElement(Wr.J2,{position:"right",maxWidth:"22rem",bodyContent:a().createElement("p",null,"Insights recommendations grouped by the category"),"aria-label":"What is Grouping?",boundary:"viewport",enableFlip:!0},a().createElement(xl.ZP,{color:Se.global_Color_dark_200.value,className:"group-card-icon"}))),a().createElement(y.v,null,a().createElement(Bl.Td,{ariaDesc:"Groups statistics",ariaTitle:"Groups statistics",constrainToVisibleArea:!0,data:Object.entries(r).map((([e,t])=>({x:e,y:t.count}))),height:140,labels:({datum:e})=>`${e.x}: ${e.y}`,legendData:Object.entries(r).map((([e,t])=>({name:`${e}: ${t.count}`,tags:t.tags}))),legendOrientation:"vertical",legendPosition:"right",legendComponent:a().createElement(Gl.Qk,{responsive:!1,height:140,width:200,className:"pf-m-redhat-font",style:{labels:{fill:Se.c_button_m_control_active_after_BorderBottomColor.value}},events:[{target:"labels",eventHandlers:{onMouseOver:()=>[{mutation:e=>IE(e)}],onMouseOut:()=>[{mutation:()=>null}],onClick:()=>[{mutation:e=>(n(e.datum.tags),IE(e))}]}}]}),padding:{bottom:25,left:-20,right:200,top:25},width:350})))))};AE.propTypes={insightsData:l().object.isRequired,groups:l().array.isRequired,groupClicked:l().func.isRequired};const NE=AE,LE=({insightsData:e,batteryClicked:t,groupClicked:n,groups:r})=>a().createElement(nt.k,null,a().createElement(nt.k,{grow:{default:"grow"},alignSelf:{default:"alignSelfStretch"}},a().createElement(wE,{insightsData:e,batteryClicked:t})),a().createElement(nt.k,{grow:{default:"grow"},alignSelf:{default:"alignSelfStretch"}},a().createElement(NE,{insightsData:e,groups:r,groupClicked:n})));LE.propTypes={insightsData:l().object.isRequired,groups:l().array.isRequired,batteryClicked:l().func.isRequired,groupClicked:l().func.isRequired};const ME=LE;function kE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class jE extends a().Component{constructor(...e){super(...e),kE(this,"state",{feedback:"",errorMessage:""}),kE(this,"onClose",(()=>{const{hideWindow:e}=this.props;this.setState({feedback:"",errorMessage:""}),e()})),kE(this,"onError",(()=>{this.setState({errorMessage:"There was an error during sending your feedback."})})),kE(this,"onSendFeedback",(async()=>{const{sendFeedback:e,clusterId:t,ruleId:n,errorKey:r,isRuleDetailsPage:a,isManagedCluster:s,disableRule:l}=this.props,{feedback:i}=this.state;return await e(t,n,r,i),await l(t,n,r,a,s),!0}))}componentDidUpdate(e){const{sendFeedbackOnRuleDisableResponse:t}=this.props;!e.sendFeedbackOnRuleDisableResponse.fulfilled&&t.fulfilled?this.onClose():!e.sendFeedbackOnRuleDisableResponse.rejected&&t.rejected&&this.onError()}render(){const{isOpen:e}=this.props,{feedback:t,errorMessage:n}=this.state;return a().createElement(f.Modal,{className:"insights-on-rule-disabled-feedback-modal",variant:"small",title:"Disable recommendation",isOpen:e,onClose:this.onClose,ouiaId:"ruleDisableModal",actions:[a().createElement(p.Button,{key:"confirm",variant:"primary",onClick:this.onSendFeedback},"Save"),a().createElement(p.Button,{key:"cancel",variant:"link",onClick:this.onClose},"Cancel")],onEscapePress:this.onClose},a().createElement("div",null,"If you disable this recommendation, OpenShift Cluster Manager will no longer show this recommendation in dashboard, reports, and tables for this cluster."),a().createElement("div",null,a().createElement(R.Title,{className:"insights-justification-note",headingLevel:"h6",size:"md"},"Justification note"),a().createElement(ca.TextInput,{value:t,onChange:e=>{this.setState({feedback:e})},validated:n.length>0?"error":"default"})),a().createElement("div",{className:"error-message"},n.length?a().createElement(h.xv,{component:h.qO.h5},n):null))}}jE.propTypes={isOpen:l().bool.isRequired,hideWindow:l().func.isRequired,sendFeedback:l().func.isRequired,sendFeedbackOnRuleDisableResponse:l().object,clusterId:l().string.isRequired,ruleId:l().string.isRequired,errorKey:l().string.isRequired,disableRule:l().func.isRequired,isRuleDetailsPage:l().bool.isRequired,isManagedCluster:l().bool.isRequired};const xE=jE,qE={sendFeedback:(e,t,n,r)=>((e,t,n,r)=>a=>a({type:Wl.a$,payload:si(e,t,n,r)}))(e,t,n,r),hideWindow:()=>Wt(),disableRule:(e,t,n,r,a)=>async s=>{await xt.di.disableRuleInsights(e,t,n),s(r?ti(e,t,n,a):ri(e,a)),s({type:Wl.je})}},UE=(0,i.connect)((e=>{const{sendFeedbackOnRuleDisable:t}=e.insightsData,{clusterId:n,ruleId:r,errorKey:a,isManagedCluster:s,isRuleDetailsPage:l}=e.modal.data;return{isOpen:ze(e,"insights-on-rule-disable-feedback-modal"),clusterId:n,ruleId:r,errorKey:a,isManagedCluster:s,isRuleDetailsPage:l,sendFeedbackOnRuleDisableResponse:t}}),qE)(xE);function zE(){return(zE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FE(Object(n),!0).forEach((function(t){BE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const GE={Description:(e,t)=>e.description.localeCompare(t.description),Added:(e,t)=>new Date(e.created_at)-new Date(t.created_at),"Total risk":(e,t)=>e.total_risk-t.total_risk},HE={asc:1,desc:-1},VE=()=>a().createElement(Oe.k,{className:"success-color",icon:Xt.ZP});class $E extends a().Component{constructor(...e){super(...e),BE(this,"state",{shownData:[],filters:{ruleStatusFilter:"enabled"},sortBy:{column:{title:"Description"},direction:"asc"},meta:ZE(ZE({},this.props.insightsData.meta),{},{perPage:10,page:1})}),BE(this,"setFilter",((e,t)=>{this.setState((n=>{const r=ZE({},n.filters);return r[e]=t,{filters:r,meta:ZE(ZE({},n.meta),{},{page:1})}}),(()=>this.fetchData({filterValues:this.state.filters})))})),BE(this,"addTotalRiskFilter",(e=>{this.setState((t=>{const n=ZE({},t.filters);return n.totalRiskFilter||(n.totalRiskFilter=[]),n.totalRiskFilter.includes(e)||n.totalRiskFilter.push(e),{filters:n,meta:ZE(ZE({},t.meta),{},{page:1})}}),(()=>this.fetchData({filterValues:this.state.filters})))})),BE(this,"addGroupsFilter",(e=>{this.setState((t=>{const n=ZE({},t.filters);return n.groupsFilter||(n.groupsFilter=[]),n.groupsFilter.includes(e)||n.groupsFilter.push(e),{filters:n,meta:ZE(ZE({},t.meta),{},{page:1})}}),(()=>this.fetchData({filterValues:this.state.filters})))})),BE(this,"fetchData",(({filterValues:e=this.state.filterValues,sortBy:t,meta:n=this.state.meta})=>{this.setState((r=>{const{insightsData:a}=this.props,s=t&&t.column?t:r.sortBy;let l=[...a.data||[]].sort(((e,t)=>s&&s.column?HE[s.direction]*GE[s.column.title](e,t):0)).filter((t=>((e,t)=>Object.entries(e).reduce(((e,[n,r])=>{let a=!0;switch(n){case"totalRiskFilter":r.length>0&&(a=r.includes(EE[t.total_risk-1]));break;case"descriptionFilter":a=t.description.toLowerCase().indexOf(r.toLowerCase())>-1;break;case"ruleStatusFilter":{const e="enabled"===r||"all"===r,n="disabled"===r||"all"===r;a=t.disabled?n:e;break}case"groupsFilter":if(r.length>0){const e=new Set(r.map((e=>e.split(","))).flat());a=t.tags.filter((t=>e.has(t))).length>0}}return a&&e}),!0))(e,t)));const i=l.length;return l=l.slice((n.page-1)*n.perPage,n.page*n.perPage),{shownData:l,filters:e,sortBy:s,meta:ZE(ZE({},n),{},{itemCount:i})}}))}))}componentDidMount(){this.props.insightsData&&this.fetchData({filterValues:this.state.filters})}componentDidUpdate(e){const{insightsData:t}=this.props;t&&e.insightsData!==t&&this.fetchData({filterValues:this.state.filters})}onRuleDisable(e,t){var n;const{openModal:r,cluster:a}=this.props,s=(null==a||null===(n=a.subscription)||void 0===n?void 0:n.managed)||!1;r("insights-on-rule-disable-feedback-modal",{clusterId:(null==a?void 0:a.external_id)||"",ruleId:e,errorKey:t,isRuleDetailsPage:!1,isManagedCluster:s})}render(){const{insightsData:e,enableRule:t,cluster:n}=this.props,{shownData:r,filters:s,meta:l,sortBy:i}=this.state;function c(e){if(e%2!=0)return null;const t=e/2;return void 0===r[t]?null:r[t]}return a().createElement("div",{id:"cluster-insights-table"},a().createElement(ME,{groups:Wl.gb,insightsData:e,batteryClicked:this.addTotalRiskFilter,groupClicked:this.addGroupsFilter}),a().createElement(ke.Card,null,a().createElement(Me.e,{className:"no-padding"},a().createElement(iE.ZP,{ouiaId:"rules",toolbarProps:{ouiaId:"rulesToolbar"},rowWrapper:e=>{var t;let n=zE({},e);return a().createElement(lt.RowWrapper,zE({},n,{ouiaId:null===(t=c(n.rowProps.rowIndex))||void 0===t?void 0:t.rule_id}))},rules:{meta:l,data:r},fetchData:this.fetchData,filters:{descriptionFilter:cE.Z,totalRiskFilter:uE.Z,ruleStatusFilter:dE.Z,groupsFilter:(u=Wl.gb,(e={onChange:()=>{}})=>{let{onChange:t,value:n}=e;return ZE(ZE({},function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["onChange","value"])),{},{label:"Category",value:"category",type:"checkbox",filterValues:{value:n,onChange:t,items:u.sort(((e,t)=>e.title.localeCompare(t.title))).map((e=>({label:e.title,textual:e.title,value:e.tags.join(",")})))}})})},filterValues:s,sortBy:i,columns:[{title:"Description",selector:e=>a().createElement(a().Fragment,null,e.disabled?a().createElement(Pp.Label,{className:"disabled-tooltip"},"Disabled"):null,a().createElement(o.Link,{to:`/details/s/${n.subscription.id}/insights/${e.rule_id.replace(/\./g,"|")}/${e.extra_data.error_key}`,onClick:()=>ei(e)},e.description)),transforms:[(0,lt.cellWidth)(60)]},{title:"Added",selector:({created_at:e})=>a().createElement(zd.Z,{date:new Date(e)})},{title:"Total risk",selector:({total_risk:e})=>a().createElement("div",{className:"battery"},a().createElement(pE.Z,{value:e,rest:{variant:"outline",color:vb[e]}}))}],detail:e=>a().createElement(v.K,{className:"report-details-unfolded"},a().createElement(y.v,null,a().createElement(oE.Z,{details:fE(e.details),ruleId:e.rule_id,totalRisk:e.total_risk,riskOfChange:e.risk_of_change,showRiskDescription:!1,definitions:e.extra_data,remediating:(e.reason||e.resolution)&&{reason:e.reason,resolution:e.resolution}})),a().createElement(y.v,{className:"report-details-unfolded__link"},a().createElement(o.Link,{to:`/details/s/${n.subscription.id}/insights/${e.rule_id.replace(/\./g,"|")}/${e.extra_data.error_key}`,onClick:()=>ei(e)},"View details and remediation steps"))),actionResolver:(e,{rowIndex:n})=>{const r=c(n);if(null===r)return null;const{rule_id:a,disabled:s}=r,l=r.extra_data.error_key;return[{title:(s?"Enable":"Disable")+" recommendation",onClick:()=>{s?t(a,l):this.onRuleDisable(a,l)}}]},emptyStateTitle:"No recommendations",emptyStateDescription:a().createElement(a().Fragment,null,a().createElement("p",null,"Your cluster is not affected by enabled recommendations."),a().createElement(p.Button,{className:"include-disabled-rules-link",variant:"link",onClick:()=>{this.setFilter("ruleStatusFilter","all")}},"Include disabled recommendations")),emptyStateIcon:VE}),a().createElement(UE,null))));var u}}$E.propTypes={cluster:l().shape({external_id:l().string,subscription:l().shape({id:l().string,managed:l().bool})}),insightsData:l().object.isRequired,enableRule:l().func.isRequired,openModal:l().func.isRequired};const QE=$E,WE=({insightsData:e,enableRule:t,cluster:n,openModal:r})=>{const s=T()(e,"status");return e&&404!==s?204===s?a().createElement(sE,null):200!==s&&304!==s?a().createElement(lE,null):0===T()(e,"meta.count",0)?a().createElement(aE,{lastChecked:T()(e,"meta.last_checked_at")}):a().createElement(QE,{cluster:n,insightsData:e,enableRule:t,openModal:r}):a().createElement(Sl.b,{className:"insights-loading-container"},a().createElement(rE,null))};WE.propTypes={cluster:l().object.isRequired,insightsData:l().object,enableRule:l().func.isRequired,openModal:l().func.isRequired};const YE=WE;function KE({status:e="NO_METRICS",discoveredIssues:t=null,lastCheckIn:n}){let r,s;switch(e){case mn:r=a().createElement(co.ZP,null),s=a().createElement(R.Title,{headingLevel:"h2"},"Disconnected cluster");break;case gn:r=a().createElement(po.ZP,null),s=a().createElement(R.Title,{headingLevel:"h2"},"Cluster is updating");break;case hn:r=a().createElement(xo.ZP,{className:"warning"}),s=a().createElement(R.Title,{headingLevel:"h2"},"Cluster has no metrics");break;case dn:r=a().createElement(Xt.ZP,{className:"success"}),s=a().createElement(R.Title,{headingLevel:"h2"},"No issues detected");break;case pn:r=a().createElement(Re.ZP,{className:"status-icon danger"}),s=a().createElement(R.Title,{headingLevel:"h2"},t," ",1===t?"issue":"issues"," ","detected");break;default:r=a().createElement(uo.ZP,null),s=a().createElement(R.Title,{headingLevel:"h2"},"Cluster health is unknown")}return a().createElement(ke.Card,{className:"ocm-c-monitoring-health__card"},a().createElement(Le.l,{className:"ocm-c-monitoring-health__card--header"},a().createElement(O.P,null,a().createElement(C.J,null,r),a().createElement(C.J,{isFilled:!0},s),a().createElement(C.J,{className:"last-checkin"},e===bn&&a().createElement(Re.ZP,{className:"danger",size:"md"}),void 0!==n&&a().createElement(a().Fragment,null,"Last check-in:"," ",a().createElement(zd.Z,{date:n,type:"relative"}))))))}KE.propTypes={status:l().string,discoveredIssues:l().number,lastCheckIn:l().instanceOf(Date)};const JE=KE;var XE=n(26940),ef=n(48826),tf=n(82224),nf=n(38243),rf=n(76332),af=n(21543),sf=n(4867);function lf({title:e="",numOfIssues:t=null,numOfWarnings:n=null,toggle:r,expanded:s,hasData:l,children:i}){const o=e.replace(/\s+/g,"-").toLowerCase();return a().createElement(ef.L,{"aria-labelledby":o,isExpanded:s.includes(o)},a().createElement(tf.V,null,a().createElement(rf.p,{onClick:()=>r(o),isExpanded:s.includes(o),id:`${o}-toggle`,"aria-controls":`${o}-toggle-expand`}),a().createElement(sf.p,{dataListCells:[a().createElement(nf.K,{key:`title-${o}`},a().createElement(R.Title,{headingLevel:"h4",className:"item-title"},e)),a().createElement(nf.K,{key:`summary-${o}`,className:"item-summary"},l?t>0?a().createElement(a().Fragment,null,a().createElement(Re.ZP,{className:"status-icon danger"}),a().createElement("span",null,t," ","discovered"," ",1===t?"issue":"issues")):n>0?a().createElement(a().Fragment,null,a().createElement(xo.ZP,{className:"status-icon warning"}),a().createElement("span",null,n," ",1===n?"warning":"warnings")):a().createElement(a().Fragment,null,a().createElement(Xt.ZP,{className:"status-icon success"}),a().createElement("span",null,t," ","discovered issues")):a().createElement(a().Fragment,null,a().createElement(xo.ZP,{className:"status-icon warning"}),a().createElement("span",null,"Metrics not available")))]})),a().createElement(af.m,{"aria-label":"Primary Content Details",id:`${o}-expand`,isHidden:!s.includes(o)},i))}lf.propTypes={title:l().string,numOfIssues:l().number,numOfWarnings:l().number,expanded:l().array,toggle:l().func,children:l().node,hasData:l().bool},lf.defaultProps={expanded:[]};const of=lf;function cf({alerts:e=[],clusterConsole:t}){const n=a().createElement(a().Fragment,null,a().createElement(Re.ZP,{className:"status-icon danger"}),a().createElement("span",null,"Critical")),r=a().createElement(a().Fragment,null,a().createElement(xo.ZP,{className:"status-icon warning"}),a().createElement("span",null,"Warning")),s=a().createElement(a().Fragment,null,a().createElement(No.ZP,{className:"status-icon info"}),a().createElement("span",null,"Info")),l=e=>"Watchdog"===e||"DeadMansSwitch"===e;if(e.every((e=>l(e.name))))return a().createElement(g.ub,null,a().createElement(Oe.k,{icon:Xt.ZP}),a().createElement(R.Title,{headingLevel:"h5",size:"lg"},"No alerts firing"));const i=e.map((e=>{if(l(e.name))return null;let i=null;e.severity===En&&(i=r),e.severity===fn&&(i=n),"info"===e.severity&&(i=s);const o=_n(t,Cn,e.name);return{cells:[{title:null!==o?a().createElement("a",o,e.name):e.name},{title:i}]}})).filter(Boolean);return a().createElement(lt.Table,{variant:lt.TableVariant.compact,borders:!1,cells:[{title:"Name"},{title:"Severity"}],rows:i,"aria-label":"alerts"},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null))}cf.propTypes={alerts:l().arrayOf(l().shape({name:l().string.isRequired,severity:l().string})),clusterConsole:l().shape({url:l().string})};const uf=cf;function df({nodes:e=[],clusterConsole:t}){const n=e.map((e=>{const n=_n(t,On,e.hostname);return{cells:[{title:null!==n?a().createElement("a",n,e.hostname):e.hostname},{title:(r=e.up,r?a().createElement(a().Fragment,null,a().createElement(Xt.ZP,{className:"status-icon success"}),a().createElement("span",null,"Ready")):a().createElement(a().Fragment,null,a().createElement(Re.ZP,{className:"status-icon danger"}),a().createElement("span",null,"Not Ready")," "))},{title:`Internal IP: ${e.internal_ip}`}]};var r}));return a().createElement(lt.Table,{variant:lt.TableVariant.compact,borders:!1,cells:[{title:"Name"},{title:"Status"},{title:"Node address"}],rows:n,"aria-label":"nodes"},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null))}df.propTypes={nodes:l().array,clusterConsole:l().object};const pf=df;function mf({operators:e=[],clusterConsole:t}){const n=e=>{let t,n;switch(e){case"available":t=a().createElement(Xt.ZP,{className:"status-icon success"}),n="Available";break;case yn:t=a().createElement(Re.ZP,{className:"status-icon danger"}),n="Failing";break;case"upgrading":t=a().createElement(po.ZP,{className:"status-icon"}),n="Updating";break;case vn:t=a().createElement(xo.ZP,{className:"status-icon warning"}),n="Degraded";break;default:t=a().createElement(uo.ZP,{className:"status-icon"}),n="Unknown"}return a().createElement(a().Fragment,null,t,a().createElement("span",null,n)," ")},r=e.map((e=>{const r=_n(t,Rn,e.name);return{cells:[{title:null!==r?a().createElement("a",r,e.name):e.name},{title:n(e.condition)},{title:e.version}]}}));return a().createElement(lt.Table,{variant:lt.TableVariant.compact,borders:!1,cells:[{title:"Name"},{title:"Status"},{title:"Version"}],rows:r,"aria-label":"operators"},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null))}mf.propTypes={operators:l().array,clusterConsole:l().object};const hf=mf;function gf({children:e=null,hideLastCheckIn:t=!1,lastCheckIn:n=null,hideIcon:r=!1,title:s="Monitoring data is not available"}){return a().createElement(g.ub,null,!r&&a().createElement(Oe.k,{icon:xo.ZP}),a().createElement(R.Title,{headingLevel:"h5",size:"lg"},s),a().createElement(b.B,null,e,!t&&a().createElement("p",null,"Last Check-in:"," ",a().createElement(zd.Z,{date:n,type:"relative"}))))}gf.propTypes={children:l().node,hideLastCheckIn:l().bool,lastCheckIn:l().instanceOf(Date),hideIcon:l().bool,title:l().string};const bf=gf;function Ef(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ff extends a().Component{constructor(...e){super(...e),Ef(this,"state",{expanded:[]}),Ef(this,"toggle",(e=>{const{expanded:t}=this.state,n=t.indexOf(e),r=n>=0?[...t.slice(0,n),...t.slice(n+1,t.length)]:[...t,e];this.setState((()=>({expanded:r})))}))}render(){const{cluster:e,alerts:t,nodes:n,operators:r,resourceUsage:s}=this.props,{expanded:l}=this.state,i=Tn(e),o=T()(e,"subscription.status",!1)===ee.Ij.ARCHIVED?Fg.archived:Fg[e.state]||Fg.default,c=a().createElement(bf,{hideLastCheckIn:!0,hideIcon:!0,title:"No data available for this metric"},a().createElement("p",null,"Please check back later"));return a().createElement(XE.DataList,{"aria-label":"monitoring-table"},a().createElement(of,{title:"Alerts firing",numOfIssues:t.numOfIssues,numOfWarnings:t.numOfWarnings,toggle:this.toggle,expanded:l,hasData:t.hasData},t.hasData?a().createElement(uf,{alerts:t.data,clusterConsole:e.console}):c),n.hasData&&a().createElement(of,{title:"Nodes",numOfIssues:n.numOfIssues,toggle:this.toggle,expanded:l,hasData:n.hasData},a().createElement(pf,{nodes:n.data,clusterConsole:e.console})),a().createElement(of,{title:"Cluster operators",numOfIssues:r.numOfIssues,numOfWarnings:r.numOfWarnings,toggle:this.toggle,expanded:l,hasData:r.hasData},r.hasData?a().createElement(hf,{operators:r.data,clusterConsole:e.console}):c),a().createElement(of,{title:"Resource usage",numOfIssues:s.numOfIssues,numOfWarnings:s.numOfWarnings,toggle:this.toggle,expanded:l,hasData:s.hasData},s.hasData?a().createElement("div",{className:"metrics-chart"},a().createElement(Al,{cpu:{used:e.metrics.cpu.used,total:e.metrics.cpu.total},memory:{used:e.metrics.memory.used,total:e.metrics.memory.total},metricsAvailable:i,metricsStatusMessage:o,type:"threshold"})):c))}}ff.propTypes={cluster:l().object,alerts:l().object,nodes:l().object,resourceUsage:l().object,operators:l().object},ff.defaultProps={cluster:{},alerts:{},nodes:{},resourceUsage:{},operators:{}};const yf=ff;class vf extends a().Component{componentWillUnmount(){const{clearMonitoringState:e}=this.props;e()}render(){const{cluster:e,alerts:t,nodes:n,operators:r,lastCheckIn:s,resourceUsage:l,healthStatus:i,discoveredIssues:o}=this.props;return i===mn?a().createElement(a().Fragment,null,a().createElement(JE,{lastCheckIn:s,status:i,discoveredIssues:o}),a().createElement(bf,{lastCheckIn:s})):i===hn?a().createElement(bf,{lastCheckIn:s},a().createElement("p",null,"Monitoring data is not available if a cluster goes more than three hours without sending metrics.",a().createElement("br",null),"Check the cluster's web console if you think that this cluster should be sending metrics.")):i===bn?a().createElement(bf,{hideLastCheckIn:!0},a().createElement("p",null,"Monitoring data is not available - cluster did not send any metrics.",a().createElement("br",null),"Check the cluster's web console if you think that this cluster should be sending metrics.")):a().createElement(a().Fragment,null,a().createElement(JE,{lastCheckIn:s,status:i,discoveredIssues:o}),a().createElement(ke.Card,{className:"ocm-c-monitoring-status__card"},a().createElement(Le.l,{className:"ocm-c-monitoring-status__card--header"},a().createElement(R.Title,{headingLevel:"h2",className:"card-title"},"Status")),a().createElement(Me.e,{className:"ocm-c-monitoring-status__card--body"},a().createElement(yf,{cluster:e,alerts:t,nodes:n,operators:r,resourceUsage:l}))))}}vf.propTypes={cluster:l().object,clearMonitoringState:l().func,alerts:l().object,nodes:l().object,operators:l().object,resourceUsage:l().object,lastCheckIn:l().instanceOf(Date).isRequired,healthStatus:l().string,discoveredIssues:l().number},vf.defaultProps={cluster:{},alerts:{},nodes:{},operators:{},clearMonitoringState:_,discoveredIssues:null};const Of=vf;var Cf=n(68480);const Rf=e=>t=>t({type:Cf.Z.GET_ONDEMAND_METRICS,payload:xt.BJ.getOnDemandMetrics(e)}),Sf=e=>{const{alerts:t,nodes:n,operators:r}=e.monitoring,a=T()(e,"clusters.details.cluster.metrics.cpu",null),s=T()(e,"clusters.details.cluster.metrics.memory",null),l=wn({data:t.data,criteria:"severity",issuesMatch:fn,warningsMatch:En}),i=wn({data:n.data,criteria:"up",issuesMatch:!1}),o=wn({data:r.data,criteria:"condition",issuesMatch:yn,warningsMatch:vn}),c={issuesCount:Dn(a,s,.95),warningsCount:Dn(a,s,.8)};return{issues:{alerts:l.issuesCount,nodes:i.issuesCount,operators:o.issuesCount,resourceUsage:c.issuesCount,totalCount:l.issuesCount+i.issuesCount+o.issuesCount+c.issuesCount},warnings:{alerts:l.warningsCount,operators:o.warningsCount,resourceUsage:c.warningsCount}}};function Pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pf(Object(n),!0).forEach((function(t){Tf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Df={clearMonitoringState:()=>e=>e({type:Cf.Z.CLEAR_MONITORING_STATE})},_f=(0,i.connect)((e=>{const{cluster:t}=e.clusters.details,{alerts:n,nodes:r,operators:a}=e.monitoring,s=Sf(e),{issues:l,warnings:i}=s,o=s.issues.totalCount,c=(e=>{const t=T()(e,"clusters.details.cluster.activity_timestamp","0001-01-01");return new Date(t)})(e),u=((e,t,n)=>{const r=T()(e,"clusters.details.cluster",null);if(!r)return hn;const a=((new Date).getTime()-t.getTime())/1e3/60/60,s=!!ln.ZP.configData.showOldMetrics||a<3;return t.getUTCFullYear()<=1?bn:T()(r,"subscription.status",!1)===ee.Ij.DISCONNECTED?mn:s?"running"===r.metrics.upgrade.state?gn:n>0?pn:dn:hn})(e,c,o);return{alerts:wf(wf({},n),{},{numOfIssues:l.alerts,numOfWarnings:i.alerts,hasData:Pn(n)}),nodes:wf(wf({},r),{},{numOfIssues:l.nodes,hasData:Pn(r)}),operators:wf(wf({},a),{},{numOfIssues:l.operators,numOfWarnings:i.operators,hasData:Pn(a)}),resourceUsage:{numOfIssues:l.resourceUsage,numOfWarnings:i.resourceUsage,hasData:Tn(t)},discoveredIssues:l.totalCount,lastCheckIn:c,healthStatus:u}}),Df)(Of);var If=n(18721),Af=n.n(If),Nf=n(36008);const Lf=e=>t=>t({type:Nf.l9.GET_CLUSTER_ROUTERS,payload:xt.le.getIngresses(e)}),Mf=async(e,t,n,r)=>{let a;if(t.APIPrivate!==e.private_api){const t={api:{listening:e.private_api?"internal":"external"}};a=await xt.le.editCluster(n,t),204===a.status&&r(cr(t,!0))}const s={id:t.default.routerID},l={},i=Af()(t,"additional"),o=i&&!e.enable_additional_router,c=!i&&e.enable_additional_router,u=e.private_default_router!==t.default.isPrivate;return u&&(s.listening=e.private_default_router?"internal":"external"),!o&&i&&(e.private_additional_router!==t.additional.isPrivate&&(l.listening=e.private_additional_router?"internal":"external",l.id=t.additional.routerID),e.labels_additional_router!==t.additional.routeSelectors&&(l.route_selectors=L(e.labels_additional_router,"="),l.id=t.additional.routerID)),c&&(l.listening=e.private_additional_router?"internal":"external",l.route_selectors=L(e.labels_additional_router,"=")),u&&(a=await xt.le.editIngress(n,s.id,s)),o&&(a=await xt.le.deleteAdditionalIngress(n,t.additional.routerID,s)),P()(l)||(a=c?await xt.le.addAdditionalIngress(n,l):await xt.le.editIngress(n,l.id,l)),a};function kf({network:e}){return a().createElement(ke.Card,{className:"ocm-c-networking-network-configuration__card"},a().createElement(Le.l,null,"Network configuration"),a().createElement(Me.e,{className:"ocm-c-networking-network-configuration__card--body"},a().createElement(a().Fragment,null,a().createElement(Wo.o,null,a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Machine CIDR"),a().createElement(Jo.b,null,e.machine_cidr||"N/A")),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Service CIDR"),a().createElement(Jo.b,null,e.service_cidr||"N/A")),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Pod CIDR"),a().createElement(Jo.b,null,e.pod_cidr||"N/A")),a().createElement(Ko.g,null,a().createElement(Yo.M,null,"Host prefix"),a().createElement(Jo.b,null,`/${e.host_prefix}`||"N/A"))))))}kf.propTypes={network:l().object.isRequired};const jf=kf;var xf=n(57820);class qf extends a().Component{constructor(...e){var t,n;super(...e),n=()=>{const{closeModal:e,resetResponse:t}=this.props;t(),e()},(t="onClose")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidUpdate(e){const{editClusterRoutersResponse:t,refreshCluster:n}=this.props;e.editClusterRoutersResponse.pending&&t.fulfilled&&(n(),this.onClose())}render(){const{isOpen:e,shouldShowAlert:t,onConfirm:n,editClusterRoutersResponse:r,provider:s}=this.props;let l;l="gcp"===s?"GCP":"aws"===s?"AWS":"cloud provider";const i=`Changing the cluster's privacy settings may cause you to lose access to the cluster. Changes may be required in ${l} to maintain access. \n                  It may take up to one hour for the settings to become effective.`,o=a().createElement("a",{href:"https://docs.openshift.com/dedicated/4/cloud_infrastructure_access/dedicated-aws-private-cluster.html",target:"_blank",rel:"noopener noreferrer"},"Learn more"),c=r.error?a().createElement(Fr,{message:"Error editing cluster routers",response:r}):null;return e&&a().createElement(H,{onClose:this.onClose,primaryText:"Change settings",secondaryText:"Cancel",title:"Change cluster privacy settings?",width:"35%",isSmall:!1,onPrimaryClick:()=>n(),onSecondaryClick:this.onClose,isPending:r.pending},c,a().createElement(qr.l,null,a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,i," ","aws"===s&&o),t&&a().createElement(y.v,null,a().createElement(Ur.bZ,{id:"noRouteSelectors",variant:"warning",isInline:!0,title:"All routers will be exposed publicly because there is no label match on the additional application router. This is a potential security risk."})))))}}qf.propTypes={isOpen:l().bool.isRequired,closeModal:l().func.isRequired,onConfirm:l().func.isRequired,shouldShowAlert:l().bool,resetResponse:l().func.isRequired,editClusterRoutersResponse:l().shape({error:l().bool,fulfilled:l().bool,pending:l().bool}).isRequired,refreshCluster:l().func.isRequired,provider:l().string};const Uf=qf,zf=(0,i.connect)((e=>{const{shouldShowAlert:t}=e.modal.data;return{shouldShowAlert:t,isOpen:ze(e,"change-privacy-settings"),editClusterRoutersResponse:e.clusterRouters.editRouters}}),(e=>({resetResponse:()=>e((e=>e({type:Nf.l9.RESET_EDIT_ROUTERS_RESPONSE}))),closeModal:()=>e(Wt())})))(Uf);class Ff extends a().Component{constructor(...e){var t,n;super(...e),n=()=>{const{openModal:e,shouldShowAlert:t}=this.props;e("change-privacy-settings",{shouldShowAlert:t})},(t="handleSaveChanges")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){const{controlPlaneAPIEndpoint:e,handleSubmit:t,pristine:n,valid:r,additionalRouterEnabled:s,reset:l,refreshCluster:i,defaultRouterAddress:o,additionalRouterAddress:c,canEdit:u,clusterHibernating:d,isReadOnly:m,isSTSEnabled:h,provider:g}=this.props,b=(h?"This operation is not available for clusters using Security Token Service (STS)":m&&"This operation is not available during maintenance")||d&&"This operation is not available while cluster is hibernating"||!u&&"You do not have permission to edit routers. Only cluster owners, cluster editors, and organization administrators can edit routers.",E=n&&"No changes to save",f=!r,S=a().createElement(um,{variant:"primary",onClick:this.handleSaveChanges,disableReason:b||E,isAriaDisabled:f},"Change settings");let P=a().createElement(Ca.Z,{component:na,isSwitch:!0,name:"enable_additional_router",labelOff:"Not enabled",label:"Enabled",isDisabled:!!b});return b&&(P=a().createElement(Vr.Tooltip,{content:b},a().createElement("span",null,P))),a().createElement(a().Fragment,null,a().createElement(ke.Card,{className:"ocm-c-networking-edit-cluster-routers__card"},a().createElement(Me.e,{className:"ocm-c-networking-edit-cluster-routers__card--body"},a().createElement(qr.l,null,a().createElement(je.r,null,a().createElement(xe.P,{md:9},a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,a().createElement(R.Title,{headingLevel:"h1",size:"md",className:"card-title"},"Control Plane API endpoint")),a().createElement(y.v,null,a().createElement(Qo.M5,{isReadOnly:!0},e)),a().createElement(y.v,null,a().createElement(Ca.Z,{component:na,name:"private_api",label:"Make API private",isDisabled:!!b})),a().createElement(y.v,null,a().createElement(R.Title,{headingLevel:"h2",size:"md",className:"card-title"},"Default application router")),a().createElement(y.v,null,a().createElement(Qo.M5,{isReadOnly:!0},`https://${o}`)),a().createElement(y.v,null,a().createElement(Ca.Z,{component:na,name:"private_default_router",label:"Make router private",isDisabled:!!b})),a().createElement(y.v,null,a().createElement(O.P,{hasGutter:!0},a().createElement(C.J,null,a().createElement(R.Title,{headingLevel:"h2",size:"md",className:"card-title"},"Additional application router")),a().createElement(C.J,null,P))),s&&a().createElement(a().Fragment,null,a().createElement(y.v,null,a().createElement(Qo.M5,{isReadOnly:!0},`https://${c}`)),a().createElement(y.v,null,a().createElement(Ca.Z,{component:na,name:"private_additional_router",label:"Make router private",isDisabled:!!b}))),s&&a().createElement(y.v,null,a().createElement(Ca.Z,{component:Ea,"arid-label":"Additional Router Labels",name:"labels_additional_router",label:"Label match for additional router (optional)",type:"text",helpText:"Comma separated pairs in key=value format. If no label is specified, all routes will be exposed on both routers.",validate:Wa,key:"route_selectors",onChange:this.handleChangeRouteSelectors,isReadOnly:!!b})),a().createElement(y.v,null,a().createElement(xf.W,null,S,a().createElement(p.Button,{variant:"secondary",isDisabled:n,onClick:()=>l()},"Cancel")))))),a().createElement(zf,{onConfirm:t,refreshCluster:i,provider:g})))))}}Ff.propTypes={handleSubmit:l().func.isRequired,openModal:l().func.isRequired,controlPlaneAPIEndpoint:l().string.isRequired,valid:l().bool.isRequired,pristine:l().bool.isRequired,reset:l().func.isRequired,initialValues:l().shape({private_api:l().bool,private_default_router:l().bool,enable_additional_router:l().bool,private_additional_router:l().bool,labels_additional_router:l().string}).isRequired,shouldShowAlert:l().bool,additionalRouterEnabled:l().bool,refreshCluster:l().func.isRequired,defaultRouterAddress:l().string.isRequired,additionalRouterAddress:l().string.isRequired,canEdit:l().bool.isRequired,clusterHibernating:l().bool.isRequired,isReadOnly:l().bool.isRequired,isSTSEnabled:l().bool.isRequired,provider:l().string};const Zf=Ff;function Bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bf(Object(n),!0).forEach((function(t){Hf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vf=(0,vc.Z)({form:"EditClusterRouters",enableReinitialize:!0})(Zf),$f=(0,i.connect)((e=>{var t,n,r;const{cluster:a}=e.clusters.details,s=(e=>{const{clusterRouters:t}=e,n={};return T()(t,"getRouters.routers",[]).forEach((e=>{const t={routerID:e.id,isDefault:e.default,isPrivate:"internal"===e.listening,address:e.dns_name},r=t.isDefault?null:e.route_selectors;r&&(t.routeSelectors=(e=>{const t=[];return Object.keys(e).forEach((n=>{t.push(`${n}=${e[n]}`)})),t.join(",")})(r)),t.isDefault?n.default=t:n.additional=t})),n})(e),l=2===Object.keys(s).length,i=(0,hu.Z)("EditClusterRouters"),o=i(e,"enable_additional_router"),c="internal"===a.api.listening;return{clusterID:a.id,canEdit:a.canEdit,clusterHibernating:Oo(a.state),isReadOnly:"read_only"===(null==a||null===(t=a.status)||void 0===t?void 0:t.configuration_mode),isSTSEnabled:!0===(null==a||null===(n=a.aws)||void 0===n||null===(r=n.sts)||void 0===r?void 0:r.enabled),initialValues:{private_api:c,private_default_router:s.default.isPrivate,enable_additional_router:l,private_additional_router:l&&s.additional.isPrivate,labels_additional_router:T()(s,"additional.routeSelectors",null)},clusterRouters:s,controlPlaneAPIEndpoint:a.api.url,additionalRouterEnabled:o,defaultRouterAddress:s.default.address,additionalRouterAddress:l?s.additional.address:`apps2${s.default.address.substr(4)}`,APIPrivate:c,shouldShowAlert:o&&!i(e,"labels_additional_router")&&(i(e,"private_default_router")||i(e,"private_additional_router"))}}),(e=>({openModal:(t,n)=>e(Qt(t,n)),onSubmit:(t,n,r,a)=>{const s=Gf(Gf({},n),{},{APIPrivate:r});e(((e,t,n)=>r=>r({type:Nf.l9.EDIT_CLUSTER_ROUTERS,payload:Mf(e,t,n,r)}))(t,s,a))}})),((e,t,n)=>Gf(Gf(Gf(Gf({},n),e),t),{},{onSubmit:n=>{t.onSubmit(n,e.clusterRouters,e.APIPrivate,e.clusterID)}})))(Vf);class Qf extends a().Component{componentWillUnmount(){const{resetRouters:e}=this.props;e()}render(){const{network:e,refreshCluster:t,gotRouters:n,provider:r}=this.props;return n?a().createElement(je.r,{hasGutter:!0},a().createElement(xe.P,{lg:9,md:12},a().createElement($f,{refreshCluster:t,provider:r})),a().createElement(xe.P,{lg:3,md:12},a().createElement(jf,{network:e}))):a().createElement(g.ub,null,a().createElement(b.B,null,a().createElement(E.Z,{centered:!0})))}}Qf.propTypes={network:l().object.isRequired,resetRouters:l().func.isRequired,refreshCluster:l().func.isRequired,gotRouters:l().bool.isRequired,provider:l().string};const Wf=Qf,Yf=(0,i.connect)((e=>{const{clusterRouters:t}=e,{cluster:n}=e.clusters.details;return{network:n.network||{},provider:T()(n,"cloud_provider.id","N/A"),gotRouters:T()(t,"getRouters.routers.length",0)>0}}),(e=>({resetRouters:()=>e((e=>e({type:Nf.l9.RESET_CLUSTER_ROUTERS})))})))(Wf);var Kf=n(68994);const Jf=e=>t=>t({type:Kf.Z.GET_OCM_ROLES,payload:xt.BJ.getSubscriptionRoleBindings(e)}),Xf=(e,t,n)=>r=>r({type:Kf.Z.GRANT_OCM_ROLE,payload:xt.BJ.createSubscriptionRoleBinding(e,t,n)}),ey=()=>e=>e({type:Kf.Z.EDIT_OCM_ROLE}),ty=(e,t)=>n=>n({type:Kf.Z.DELETE_OCM_ROLE,payload:xt.BJ.deleteSubscriptionRoleBinding(e,t)}),ny=()=>({type:Kf.Z.CLEAR_GET_OCM_ROLES_RESPONSE}),ry=()=>({type:Kf.Z.CLEAR_GRANT_OCM_ROLE_RESPONSE}),ay=()=>({type:Kf.Z.CLEAR_EDIT_OCM_ROLE_RESPONSE}),sy=()=>({type:Kf.Z.CLEAR_DELETE_OCM_ROLE_RESPONSE});var ly=n(18029),iy=n.n(ly);const oy=[{props:{colSpan:2},title:a().createElement(At.Z,{size:"md"})}];class cy{constructor(e=null,t=-1){this.data=e,this.id=T()(this.data,"id",""),this.usernameValue=T()(this.data,"account_username",""),this.roleValue=T()(this.data,"role.id",""),this.email=T()(this.data,"account_email",""),this.rowIdx=t,this.isCreating=null===e,this.isPending=!1;const n=a().createElement(Vr.Tooltip,{content:this.email,key:`ocm-roles-username-tooltip-${t}`},a().createElement("span",{className:"hand-pointer"},this.usernameValue)),r=iy()(this.roleValue);this.cellsData=[{title:n},{title:r}]}setIsPending(e){this.isPending=e}get cells(){return this.isPending?oy:this.cellsData}}function uy({closeModal:e,isOpen:t,onSubmit:n,clearGrantOCMRoleResponse:s,grantOCMRoleResponse:l,row:i}){const[o,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[b,E]=(0,r.useState)(null),[f,y]=(0,r.useState)(!1);(0,r.useEffect)((()=>{t&&(c(i.usernameValue),E(i.roleValue||ee.Av.CLUSTER_EDITOR),d(""),g(""),y(!1))}),[t]);const v=()=>{e(),s()};(0,r.useEffect)((()=>{if(l.pending)g(""),y(!0);else if(l.fulfilled)v();else if(l.error){if(404===l.errorCode)g("This Red Hat login could not be found.");else if(400===l.errorCode&&l.errorMessage&&l.errorMessage.includes("belong to different organizations"))g("This Red Hat login is not part of your organization.");else{const e=(l.errorMessage||"Unknow Error").split(/\r?\n/).pop();g(e.endsWith(".")?e:`${e}.`)}y(!1)}}),[l]);const O=e=>(g(""),e?(d(""),y(!1),!0):(d("Red Hat login cannot be empty."),y(!0),!1)),C=()=>{O(o)&&n(i,o,b)},R=i.isCreating?"Grant role":"Edit role",S=i.isCreating?"Grant role":"Edit role";return t&&a().createElement(H,{title:R,onClose:v,primaryText:S,secondaryText:"Cancel",onPrimaryClick:C,onSecondaryClick:v,isPrimaryDisabled:f,id:"ocm-roles-access-dialog"},a().createElement("p",{className:"pf-u-mb-xl"},"Allow users in your organization to edit clusters. These permissions only apply to cluster management in OpenShift Cluster Manager."),a().createElement(qr.l,{className:"control-form-cursor",onSubmit:e=>{C(),e.preventDefault()}},a().createElement(Gr.c,{label:a().createElement(a().Fragment,null,a().createElement("span",null,"Red Hat login"),a().createElement(Xr,{id:"ocm-roles-section-username-tooltip",hint:a().createElement(m.D,null,a().createElement(h.xv,{component:h.qO.p},"Your Red Hat login is the username you use to access your Red Hat account.")),iconClassName:"text-input-tootip-icon",hasAutoWidth:!0,maxWidth:"20.0rem"})),isRequired:!0,fieldId:"username",validated:u||p?"error":"default",helperTextInvalid:u||p},a().createElement(ca.TextInput,{value:o,isRequired:!0,id:"username",type:"text",onChange:e=>{const t=e.trim();c(t),O(t)},isDisabled:!i.isCreating,validated:u||p?"error":"default","aria-label":"username"})),a().createElement(Ur.bZ,{variant:"info",isInline:!0,title:"This user will be granted with Cluster Editor role and will be able to manage and configure the cluster."})))}function dy({subscription:e,canEditOCMRoles:t,canViewOCMRoles:n,canGrantClusterViewer:s,isOCMRolesDialogOpen:l,openModal:i,closeModal:o,modalData:c,getOCMRoles:u,grantOCMRole:d,editOCMRole:m,deleteOCMRole:h,getOCMRolesResponse:g,grantOCMRoleResponse:b,editOCMRoleResponse:E,deleteOCMRoleResponse:f,clearGetOCMRolesResponse:y,clearGrantOCMRoleResponse:v,clearEditOCMRoleResponse:O,clearDeleteOCMRoleResponse:C,refreshEvent:S=null}){const[P,w]=(0,r.useState)([]),[D,_]=(0,r.useState)(null),[I,A]=(0,r.useState)(null),[N,L]=(0,r.useState)(null),[M,k]=(0,r.useState)(""),j=()=>{if(null!==D&&D>=0&&D<P.length){const e=P[D],t=P.slice();e.isCreating?t.splice(D,1):t[D].setIsPending(!1),w(t)}_(null)};(0,r.useEffect)((()=>(n&&(L(!0),u(e.id)),k(n?t?"":"You don't have permission to configure user roles in your organization. Only the Cluster Owner and the Organization Admin have the permission.":"You don't have permission to view user roles in your organization. Only the Cluster Owner, Cluster Editor, and the Organization Admin have the permission."),()=>{y(),v(),O(),C()})),[n,t,e.id]),(0,r.useEffect)((()=>{n&&"clicked"===T()(S,"type")&&(L(!0),u(e.id))}),[S]),(0,r.useEffect)((()=>{if(g.pending)A(null);else if(g.fulfilled){L(null);const e=T()(g,"data.items",[]),t=hd()(e,((e,t)=>new cy(e,t)));w(t),A(null)}else g.error&&(L(null),A(a().createElement(Fr,{message:"Error getting OCM roles and access",response:g})),j())}),[g]),(0,r.useEffect)((()=>{b.pending?A(null):b.fulfilled?(u(e.id),A(null)):b.error&&j()}),[b]),(0,r.useEffect)((()=>{E.pending?A(null):E.fulfilled?(u(e.id),A(null)):E.error&&(A(a().createElement(Fr,{message:"Error updating the access for the user",response:E})),j())}),[E]),(0,r.useEffect)((()=>{f.pending?A(null):f.fulfilled?(u(e.id),A(null)):f.error&&(A(a().createElement(Fr,{message:"Error removing the role from the user",response:f})),j())}),[f]);const x=a().createElement(a().Fragment,null,"Username",a().createElement(Wr.J2,{position:Wr.I2.top,"aria-label":"Username",id:"ocm-roles-section-username",bodyContent:a().createElement("p",null,"The username is the Red Hat login that is used to access the Red Hat account.")},a().createElement(p.Button,{variant:"plain",isInline:!0},a().createElement(xl.ZP,{size:"sm"})))),q=a().createElement(a().Fragment,null,"Role",a().createElement(Wr.J2,{position:Wr.I2.top,"aria-label":"Role",id:"ocm-roles-section-role",bodyContent:a().createElement("p",null,"The OpenShift Cluster Manager role that is granted to this user.")},a().createElement(p.Button,{variant:"plain",isInline:!0},a().createElement(xl.ZP,{size:"sm"})))),U=[{title:"Username",transforms:[()=>({children:x})]},{title:"Role",transforms:[()=>({children:q})]}],z=[{title:"Delete",onClick:(t,n,r)=>{j(),(e=>{if(null!==e&&e>=0&&e<P.length){const t=P.slice();t[e].setIsPending(!0),_(e),w(t)}})(n),h(e.id,r.id)},className:"hand-pointer",itemKey:"delete-acton"}];return N?a().createElement(ke.Card,null,a().createElement(Le.l,null,a().createElement(At.Z,{size:"md"})),a().createElement(Me.e,null,a().createElement(At.Z,{size:"lg"})),a().createElement(Er.e,null,a().createElement(At.Z,{size:"md"}))):a().createElement(ke.Card,null,a().createElement(Me.e,null,a().createElement(R.Title,{className:"card-title",headingLevel:"h3",size:"lg"},"OCM Roles and Access"),a().createElement("p",null,"Allow users in your organization to edit clusters. These permissions only apply to cluster management in OpenShift Cluster Manager."),a().createElement(um,{onClick:()=>{const e=P.length,t=new cy(null,e);setTimeout((()=>i(It,t)),0)},variant:"secondary",className:"access-control-add",disableReason:M},"Grant role")),a().createElement(Me.e,null,I,a().createElement(lt.Table,{"aria-label":"OCM Roles and Access",actions:z,variant:lt.TableVariant.compact,cells:U,rows:P,areActionsDisabled:()=>!!M},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null)),a().createElement(uy,{isOpen:l,closeModal:o,onSubmit:(t,n,r)=>{j(),t.isCreating?d(e.id,n,r):m(e.id,t.id,r)},canGrantClusterViewer:s,clearGrantOCMRoleResponse:v,grantOCMRoleResponse:b,row:c})))}uy.propTypes={closeModal:l().func.isRequired,isOpen:l().bool,onSubmit:l().func.isRequired,clearGrantOCMRoleResponse:l().func.isRequired,grantOCMRoleResponse:l().object.isRequired,row:l().object.isRequired},uy.modalName=It,dy.propTypes={subscription:l().object.isRequired,canEditOCMRoles:l().bool.isRequired,canViewOCMRoles:l().bool.isRequired,canGrantClusterViewer:l().bool.isRequired,isOCMRolesDialogOpen:l().bool.isRequired,openModal:l().func.isRequired,closeModal:l().func.isRequired,modalData:l().object.isRequired,getOCMRoles:l().func.isRequired,grantOCMRole:l().func.isRequired,editOCMRole:l().func.isRequired,deleteOCMRole:l().func.isRequired,getOCMRolesResponse:l().object.isRequired,grantOCMRoleResponse:l().object,editOCMRoleResponse:l().object,deleteOCMRoleResponse:l().object,clearGetOCMRolesResponse:l().func.isRequired,clearGrantOCMRoleResponse:l().func.isRequired,clearEditOCMRoleResponse:l().func.isRequired,clearDeleteOCMRoleResponse:l().func.isRequired,refreshEvent:l().object};const py=dy,my=(0,i.connect)((e=>{const{getOCMRolesResponse:t,grantOCMRoleResponse:n,editOCMRoleResponse:r,deleteOCMRoleResponse:a}=e.ocmRoles;return{canGrantClusterViewer:!1,getOCMRolesResponse:t,grantOCMRoleResponse:n,editOCMRoleResponse:r,deleteOCMRoleResponse:a,isOCMRolesDialogOpen:ze(e,It),modalData:T()(e,"modal.data",{})}}),(e=>({openModal:(t,n)=>e(Qt(t,n)),closeModal:()=>e(Wt()),getOCMRoles:t=>e(Jf(t)),grantOCMRole:(t,n,r)=>e(Xf(t,n,r)),editOCMRole:(t,n,r)=>e(ey(t,n,r)),deleteOCMRole:(t,n)=>e(ty(t,n)),clearGetOCMRolesResponse:()=>e(ny()),clearGrantOCMRoleResponse:()=>e(ry()),clearEditOCMRoleResponse:()=>e(ay()),clearDeleteOCMRoleResponse:()=>e(sy())})))(py);var hy=n(43620);const gy={getUsers:e=>t=>t({type:hy.Z.GET_USERS,payload:xt.le.getClusterGroupUsers(e).then((e=>(e.data.items=T()(e,"data.items",[]).map((e=>{const t=e;return t.users&&(t.users.items=T()(t,"users.items",[]).filter((e=>"cluster-admin"!==e.id))),t})),e)))}),addUser:(e,t,n)=>r=>r({type:hy.Z.ADD_USER,payload:xt.le.addClusterGroupUser(e,t,n)}),deleteUser:(e,t,n)=>r=>r({type:hy.Z.DELETE_USER,payload:xt.le.deleteClusterGroupUser(e,t,n)}),clearUsersResponses:()=>({type:hy.Z.CLEAR_USER_RESPONSES}),clearAddUserResponses:()=>({type:hy.Z.CLEAR_ADD_USER_RESPONSES})};function by(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ey={selectedGroup:"dedicated-admins",userId:"",userIdTouched:!1};class fy extends r.Component{constructor(...e){super(...e),by(this,"state",Ey),by(this,"setUserIdValue",(e=>{this.setState({userId:e,userIdTouched:!0})})),by(this,"setGroupValue",((e,t)=>{this.setState({selectedGroup:t.target.value})})),by(this,"cancelAddUser",(()=>{const{clearAddUserResponses:e,closeModal:t}=this.props;this.setState(Ey),e(),t()}))}componentDidUpdate(){const{addUserResponse:e,clearAddUserResponses:t,closeModal:n}=this.props;e.fulfilled&&(n(),t(),this.setState(Ey))}render(){const{isOpen:e,submit:t,addUserResponse:n,clusterID:r,canAddClusterAdmin:s}=this.props,{selectedGroup:l,userId:i,userIdTouched:o}=this.state,c=n.error&&a().createElement(Fr,{message:"Error adding grant",response:n}),u=Ja(i),d=()=>{!u&&l&&t(r,l,i)},p="dedicated-admins",m="cluster-admins";return e&&a().createElement(H,{title:"Add cluster user",onClose:this.cancelAddUser,primaryText:"Add user",secondaryText:"Cancel",onPrimaryClick:d,onSecondaryClick:this.cancelAddUser,isPrimaryDisabled:!!u||n.pending,isPending:n.pending},a().createElement(a().Fragment,null,c,a().createElement(qr.l,{className:"control-form-cursor",onSubmit:e=>{d(),e.preventDefault()}},a().createElement(Gr.c,{helperTextInvalid:u,validated:o&&u?"error":"default",label:"User ID",isRequired:!0,fieldId:"user-id"},a().createElement(ca.TextInput,{value:i,isRequired:!0,id:"user-id",type:"text",validated:o&&u?"error":"default",onChange:this.setUserIdValue,"aria-label":"user id"})),a().createElement("h3",{id:"user-group-select"},"Group"),a().createElement(fa.Radio,{className:"radio-button",key:p,isChecked:l===p,name:p,onChange:this.setGroupValue,label:a().createElement(a().Fragment,null,p,a().createElement("div",{className:"radio-helptext"},"Grants standard administrative privileges for OpenShift Dedicated. Users can perform administrative actions listed in the"," ",a().createElement("a",{rel:"noreferrer noopener",target:"_blank",href:"https://docs.openshift.com/dedicated/4/administering_a_cluster/dedicated-admin-role.html"},"documentation"),".")),id:p,value:p}),s&&a().createElement(fa.Radio,{className:"radio-button",key:m,isChecked:l===m,name:m,onChange:this.setGroupValue,label:a().createElement(a().Fragment,null,m,a().createElement("div",{className:"radio-helptext"}," Gives users full administrative access to the cluster. This is the highest level of privilege available to users. It should be granted with extreme care, because it is possible with this level of access to get the cluster into an unsupportable state.")),id:m,value:m}))))}}fy.propTypes={closeModal:l().func.isRequired,submit:l().func.isRequired,clearAddUserResponses:l().func.isRequired,addUserResponse:l().object,isOpen:l().bool,canAddClusterAdmin:l().bool.isRequired,clusterID:l().string.isRequired},fy.defaultProps={addUserResponse:{},isOpen:!1};const yy=fy;class vy extends a().Component{constructor(...e){var t,n;super(...e),n={deletedRowIndex:null},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){const{clusterGroupUsers:e,cluster:t,getUsers:n}=this.props;e.clusterID===t.id&&e.pending||n()}componentDidUpdate(e){const{deleteUserResponse:t,addUserResponse:n,getUsers:r,clusterGroupUsers:a}=this.props,{deletedRowIndex:s}=this.state;(t.fulfilled&&e.deleteUserResponse.pending||n.fulfilled&&e.addUserResponse.pending)&&!a.pending&&r(),e.clusterGroupUsers.pending&&a.fulfilled&&null!==s&&this.setState({deletedRowIndex:null})}componentWillUnmount(){const{clearUsersResponses:e}=this.props;e()}render(){const{clusterGroupUsers:e,addUserResponse:t,deleteUserResponse:n,cluster:r,clusterHibernating:s,isReadOnly:l,deleteUser:i,addUser:o,isAddUserModalOpen:c,openModal:u,closeModal:d,clearAddUserResponses:m,canAddClusterAdmin:h,hasUsers:b}=this.props,{deletedRowIndex:E}=this.state,f=[{title:a().createElement(a().Fragment,null,"User ID",a().createElement(Wr.J2,{position:Wr.I2.top,"aria-label":"User IDs",bodyContent:a().createElement("p",null,"User IDs are matched by the cluster's identity providers.")},a().createElement(p.Button,{variant:"plain",isInline:!0},a().createElement(xl.ZP,{size:"sm"}))))},{title:a().createElement(a().Fragment,null,"Group",a().createElement(Wr.J2,{position:Wr.I2.top,"aria-label":"Groups",bodyContent:a().createElement("p",null,"Groups are mapped to role bindings on the cluster."," ","For more information check the"," ",a().createElement("a",{href:Mo.ZP.UNDERSTANDING_AUTHENTICATION},"OpenShift 4 documentation"),".")},a().createElement(p.Button,{variant:"plain",isInline:!0},a().createElement(xl.ZP,{size:"sm"}))))}],y=[{title:"Delete",onClick:(e,t,n)=>{this.setState({deletedRowIndex:t}),i(r.id,n["column-1"].title,n.userID)},className:"hand-pointer"}];if(!b&&e.error)return a().createElement(g.ub,null,a().createElement(Fr,{message:"Error getting cluster users",response:e}));const v=a().createElement("a",{rel:"noopener noreferrer",href:Mo.ZP.DEDICATED_ADMIN_ROLE,target:"_blank"},"Learn more."),O=b&&e.users.map((e=>({cells:[e.id,e.group],userID:e.id}))),C=!b&&e.pending,S={cells:[{props:{colSpan:2},title:a().createElement(At.Z,{size:"md"})}]};b&&(e.pending||t.pending)&&null===E&&O.push(S),b&&null!==E&&(O[E]=S);const P=l&&"This operation is not available during maintenance",w=s&&"This operation is not available while cluster is hibernating",T=!r.canEdit&&"You do not have permission to add a user. Only cluster owners, cluster editors, and organization administrators can add users.",D=P||w||T,_=a().createElement(um,{onClick:()=>{setTimeout((()=>u("add-user")),0)},variant:"secondary",className:"access-control-add",disableReason:D},"Add user");return C?a().createElement(ke.Card,null,a().createElement(Le.l,null,a().createElement(At.Z,{size:"md"})),a().createElement(Me.e,null,a().createElement(At.Z,{size:"lg"})),a().createElement(Er.e,null,a().createElement(At.Z,{size:"md"}))):a().createElement(ke.Card,null,e.error&&a().createElement(Fr,{message:"Error getting cluster users",response:e}),a().createElement(Me.e,null,a().createElement(R.Title,{className:"card-title",headingLevel:"h3",size:"lg"},"Cluster administrative users"),a().createElement("p",null,"Grant permission to manage this cluster to users defined in your identity provider."," ",v),t.error&&a().createElement(Fr,{message:"Error adding user",response:t}),n.error&&a().createElement(Fr,{message:"Error deleting user",response:n}),b&&a().createElement(lt.Table,{"aria-label":"Users",actions:y,variant:lt.TableVariant.compact,cells:f,rows:O,areActionsDisabled:()=>!!D},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null)),_,a().createElement(yy,{isOpen:c,closeModal:d,clearAddUserResponses:m,addUserResponse:t,submit:o,clusterID:r.id,canAddClusterAdmin:h})))}}vy.propTypes={cluster:l().object.isRequired,isAddUserModalOpen:l().bool.isRequired,addUser:l().func.isRequired,addUserResponse:l().object,getUsers:l().func.isRequired,deleteUser:l().func.isRequired,deleteUserResponse:l().object,clusterGroupUsers:l().object.isRequired,openModal:l().func.isRequired,canAddClusterAdmin:l().bool.isRequired,closeModal:l().func.isRequired,clearUsersResponses:l().func.isRequired,clearAddUserResponses:l().func.isRequired,hasUsers:l().bool.isRequired,clusterHibernating:l().bool.isRequired,isReadOnly:l().bool.isRequired};const Oy=vy,Cy=(0,i.connect)((e=>{const{groupUsers:t,addUserResponse:n,deleteUserResponse:r}=e.clusterUsers,a=(e=>{const t=T()(e,"clusters.details.cluster.subscription.plan.type",ee.Po.OSD),n=T()(e,"clusters.details.cluster.state");if(t===ee.Po.RHMI||n!==Co.READY)return!1;if(T()(e,"clusters.details.cluster.ccs.enabled",!1))return!0;const r=T()(e,"clusters.details.cluster.subscription.capabilities",[]).find((e=>"capability.cluster.manage_cluster_admin"===e.name));return!(!r||"true"!==r.value)})(e);return{clusterGroupUsers:t,hasUsers:t.users.length>0,addUserResponse:n,deleteUserResponse:r,isAddUserModalOpen:ze(e,"add-user"),canAddClusterAdmin:a}}),((e,t)=>({openModal:t=>e(Qt(t)),closeModal:()=>e(Wt()),getUsers:()=>e(gy.getUsers(t.cluster.id)),addUser:(t,n,r)=>e(gy.addUser(t,n,r)),deleteUser:(t,n,r)=>e(gy.deleteUser(t,n,r)),clearUsersResponses:()=>e(gy.clearUsersResponses()),clearAddUserResponses:()=>e(gy.clearAddUserResponses())})))(Oy);var Ry=n(895);const Sy=e=>t=>t({type:Ry.pn.GET_CLUSTER_IDENTITY_PROVIDERS,payload:xt.le.getIdentityProviders(e).then((e=>(e.data.items=T()(e.data,"items",[]),e)))}),Py=()=>e=>e({type:Ry.pn.RESET_IDENTITY_PROVIDERS_STATE});var wy=n(74855);function Ty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Dy extends a().Component{constructor(e){super(e),Ty(this,"state",{copied:!1}),Ty(this,"onCopy",(()=>{this.timer&&window.clearTimeout(this.timer),this.setState({copied:!0},(()=>{this.timer=window.setTimeout((()=>{this.setState({copied:!1}),this.timer=null}),2500)}))})),this.timer=null}render(){const{text:e,className:t,children:n,isDisabled:r}=this.props,{copied:s}=this.state;return a().createElement(Vr.Tooltip,{trigger:"mouseenter focus click",entryDelay:100,exitDelay:500,content:a().createElement("div",null,s?"Successfuly copied to clipboard!":"Copy to clipboard")},a().createElement(wy.CopyToClipboard,{text:e,onCopy:this.onCopy},a().createElement(p.Button,{className:t,variant:"link",isAriaDisabled:r},n)))}}Dy.defaultProps={isDisabled:!1},Dy.propTypes={text:l().string.isRequired,className:l().string,isDisabled:l().bool,children:l().oneOfType([l().node,l().element])};const _y=Dy;function Iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ay(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iy(Object(n),!0).forEach((function(t){Ny(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ny(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ly={GITHUB:"GithubIdentityProvider",GOOGLE:"GoogleIdentityProvider",OPENID:"OpenIDIdentityProvider",LDAP:"LDAPIdentityProvider",GITLAB:"GitlabIdentityProvider",HTPASSWD:"HTPasswdIdentityProvider"},My="claim",ky="lookup",jy="generate",xy=(Ly.GITHUB,Ly.GOOGLE,Ly.OPENID,Ly.LDAP,Ly.GITLAB,Ly.HTPASSWD,{[Ly.GITHUB]:"GitHub",[Ly.GOOGLE]:"Google",[Ly.OPENID]:"OpenID",[Ly.LDAP]:"LDAP",[Ly.GITLAB]:"GitLab",[Ly.HTPASSWD]:"HTPasswd"}),qy={[Ly.GITHUB]:"a GitHub",[Ly.GOOGLE]:"a Google",[Ly.OPENID]:"an OpenID",[Ly.LDAP]:"an LDAP",[Ly.GITLAB]:"a GitLab",[Ly.HTPASSWD]:"an HTPasswd"},Uy={[Ly.GITHUB]:"github",[Ly.GOOGLE]:"google",[Ly.OPENID]:"open_id",[Ly.LDAP]:"ldap",[Ly.GITLAB]:"gitlab",[Ly.HTPASSWD]:"htpasswd"},zy=[{name:My,value:My},{name:ky,value:ky},{name:jy,value:jy},{name:"add",value:"add"}],Fy=(e,t)=>{if(!t||!e)return"";const n=(e.endsWith("/")?e:`${e}/`).split(".");return n[0]="https://oauth-openshift",`${n.join(".")}oauth2callback/${t}`},Zy=e=>![Ly.LDAP,Ly.HTPASSWD].includes(e),By=(e,t)=>{const n=t.map((e=>e.name));let r=0;const a=xy[e];if(!n.includes(a))return a;let s=`${a}-${r+1}`;for(;n.includes(s);)r+=1,s=`${a}-${r+1}`;return s},Gy=e=>e.ldap_ca?e.ldap_insecure?"":e.ldap_ca.trim():e.ldap_ca,Hy="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.8/html/authentication_and_authorization/configuring-identity-providers",Vy=`${Hy}#configuring-ldap-identity-provider`,$y=`${Hy}#configuring-github-identity-provider`,Qy=`${Hy}#configuring-google-identity-provider`,Wy=`${Hy}#configuring-oidc-identity-provider`,Yy=`${Hy}#configuring-gitlab-identity-provider`,Ky=`${Hy}#configuring-htpasswd-identity-provider`,Jy=(e,t)=>{const n=[];if(e&&e[t])switch(t){case"name":e[t].forEach(((e,t)=>{const r={id:t,openid_name:e};n.push(r)}));break;case"email":e[t].forEach(((e,t)=>{const r={id:t,openid_email:e};n.push(r)}));break;case"preferred_username":e[t].forEach(((e,t)=>{const r={id:t,openid_preferred_username:e};n.push(r)}))}return n},Xy=(e,t)=>{const n=[];if(e&&e[t])switch(t){case"name":e[t].forEach(((e,t)=>{const r={id:t,ldap_name:e};n.push(r)}));break;case"email":e[t].forEach(((e,t)=>{const r={id:t,ldap_email:e};n.push(r)}));break;case"preferred_username":e[t].forEach(((e,t)=>{const r={id:t,ldap_preferred_username:e};n.push(r)}));break;case"id":e[t].forEach(((e,t)=>{const r={id:t,ldap_id:e};n.push(r)}))}return n},ev=e=>{const t=[];return e.teams?e.teams.forEach(((e,n)=>{const r={id:n,teams:e};t.push(r)})):e.organizations&&e.organizations.forEach(((e,n)=>{const r={id:n,organizations:e};t.push(r)})),t},tv=(e,t)=>!!e&&e.map((e=>P()(e[t]))).every((e=>e));class nv extends a().Component{constructor(...e){var t,n;super(...e),n={dropdownOpen:!1},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){const{clusterID:e,subscriptionID:t,clusterConsoleURL:n,identityProviders:r,openModal:s,canEdit:l,clusterHibernating:i,isReadOnly:c,history:u}=this.props,d=[{title:"Name",transforms:[(0,lt.cellWidth)(30)]},{title:"Type",transforms:[(0,lt.cellWidth)(30)]},{title:"Auth callback URL",transforms:[(0,lt.cellWidth)(30)]}],p=a().createElement("a",{rel:"noopener noreferrer",href:Mo.ZP.UNDERSTANDING_IDENTITY_PROVIDER,target:"_blank"},"Learn more."),m=!r.fulfilled&&!r.error||r.pending,h=!!r.clusterIDPList.length,g=(c?"This operation is not available during maintenance":i&&"This operation is not available while cluster is hibernating")||!l&&"You do not have permission to add an identity provider. Only cluster owners, cluster editors, and organization administrators can add identity providers.",b=Object.values(xy).map((e=>a().createElement(Ri.DropdownItem,{component:a().createElement(o.Link,{to:{pathname:`/details/s/${t}/add-idp/${e.toLowerCase()}`,state:{allLoaded:!0}}},e)}))),{dropdownOpen:E}=this.state;let f=a().createElement(Ci.Dropdown,{toggle:a().createElement(Mi.DropdownToggle,{id:"add-identity-provider",isDisabled:g,onToggle:e=>{this.setState({dropdownOpen:e})}},"Add identity provider"),isOpen:E,dropdownItems:b});return g&&(f=a().createElement(Vr.Tooltip,{content:g},f)),m?a().createElement(ke.Card,null,a().createElement(Le.l,null,a().createElement(At.Z,{size:"md"})),a().createElement(Me.e,null,a().createElement(At.Z,{size:"lg"})),a().createElement(Er.e,null,a().createElement(At.Z,{size:"md"}))):a().createElement(ke.Card,null,a().createElement(Me.e,null,a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,a().createElement(R.Title,{headingLevel:"h2",size:"lg",className:"card-title"},"Identity providers"),a().createElement("p",null,"Configure identity providers to allow users to log into the cluster."," ",p)),a().createElement(y.v,null,f),a().createElement(y.v,null,h&&a().createElement(lt.Table,{"aria-label":"Identity Providers",actionResolver:n=>{const r={title:"Edit",onClick:(e,n,r)=>{u.push(`/details/s/${t}/edit-idp/${r.idpName}`)},className:"hand-pointer"},a={title:"Delete",onClick:(t,n,r)=>s("delete-idp",{clusterID:e,idpID:r.idpID,idpName:r.name.title,idpType:r.type.title}),className:"hand-pointer"};return n.type.title===xy[Ly.HTPASSWD]?[a]:[r,a]},variant:lt.TableVariant.compact,cells:d,rows:r.clusterIDPList.map((e=>({cells:[e.name,T()(xy,e.type,e.type),{title:Zy(e.type)?a().createElement(_y,{className:"access-control-tables-copy",text:Fy(n,e.name)},"Copy URL to clipboard"):"N/A"}],idpID:e.id,idpName:e.name,idpTypeName:e.type}))),areActionsDisabled:()=>!!g},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null))))))}}nv.propTypes={clusterID:l().string.isRequired,subscriptionID:l().string.isRequired,clusterConsoleURL:l().string.isRequired,identityProviders:l().object.isRequired,openModal:l().func.isRequired,canEdit:l().bool.isRequired,clusterHibernating:l().bool.isRequired,isReadOnly:l().bool.isRequired,history:l().shape({push:l().func})};const rv=nv,av={getClusterIdentityProviders:Sy,openModal:Qt},sv=(0,i.connect)((e=>({identityProviders:e.identityProviders.clusterIdentityProviders,subscriptionID:e.clusters.details.cluster.subscription.id})),av)(rv);var lv=n(53446);class iv extends a().Component{constructor(...e){var t,n;super(...e),n={deletedRowIndex:void 0},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){const{getRoles:e,getGrants:t}=this.props;e(),t()}componentDidUpdate(e){const{deleteGrantResponse:t,addGrantResponse:n,getGrants:r,grants:a,addNotification:s}=this.props,{deletedRowIndex:l}=this.state;if((t.fulfilled&&e.deleteGrantResponse.pending||n.fulfilled&&e.addGrantResponse.pending)&&!a.pending&&r(),a.fulfilled&&e.grants.pending&&0!==a.data.length){const t=e.grants.data.reduce(((e,t)=>(e[t.id]=t.state,e)),{});a.data.forEach((e=>{t[e.id]&&e.state!==t[e.id]&&("failed"===e.state?s({variant:"danger",title:`Role creation failed for ${e.user_arn}`,description:e.state_description,dismissDelay:8e3,dismissable:!1}):"ready"===e.state&&s({variant:"success",title:`${e.roleName} role successfully created for ${e.user_arn}`,dismissDelay:8e3,dismissable:!1}))}))}void 0!==l&&a.fulfilled&&e.grants.pending&&this.setState({deletedRowIndex:void 0})}render(){const{grants:e,deleteGrant:t,deleteGrantResponse:n,openAddGrantModal:r,canEdit:s,clusterHibernating:l,isReadOnly:i}=this.props,{deletedRowIndex:o}=this.state,c=(e,t)=>{let n,r;switch(e){case"ready":n=a().createElement(Xt.ZP,{className:"status-icon success"}),r="Ready";break;case"failed":n=a().createElement(Re.ZP,{className:"status-icon danger"}),r="Failed";break;case"pending":n=a().createElement(po.ZP,{className:"status-icon"}),r="Pending";break;case"deleting":n=a().createElement(po.ZP,{className:"status-icon"}),r="Deleting";break;case"removed":n=a().createElement(uo.ZP,{className:"status-icon"}),r="Removed";break;default:n=a().createElement(uo.ZP,{className:"status-icon"}),r="Unknown"}return"failed"===e?a().createElement("span",null,a().createElement(Wr.J2,{position:Wr.I2.top,bodyContent:t,"aria-label":"grant-failed"},a().createElement(p.Button,{className:"self-service-failed",variant:"link",isInline:!0,icon:n},r))):a().createElement(a().Fragment,null,n," ",a().createElement("span",null,r)," ")},u=[{title:a().createElement(a().Fragment,null,"ARN",a().createElement(Wr.J2,{position:Wr.I2.top,"aria-label":"ARNs",bodyContent:a().createElement("p",null,"Amazon Resource Names (ARNs) uniquely identify AWS resources.")},a().createElement(p.Button,{variant:"plain",isInline:!0},a().createElement(xl.ZP,{size:"sm"}))))},{title:"Role"},{title:"Status"},{title:"AWS OSD console URL"}],d=[{title:"Delete",onClick:(e,n,r)=>{this.setState({deletedRowIndex:n}),t(r.grantId)},className:"hand-pointer"}];if(e.error)return a().createElement(g.ub,null,a().createElement(Fr,{message:"Error getting cluster users",response:e}));const m=a().createElement("a",{rel:"noopener noreferrer",href:"https://console.aws.amazon.com/console/home",target:"_blank"},"Log in to your aws account."),h=!!e.data.length,b=h&&e.data.map(((e,t)=>({cells:[e.user_arn,e.roleName,{title:c(o===t?"deleting":e.state,e.state_description)},{title:a().createElement(a().Fragment,null,a().createElement(_y,{className:"access-control-tables-copy",text:e.console_url,isDisabled:!e.console_url},"Copy URL to clipboard"))}],grantId:e.id,state:e.state}))),E=(i?"This operation is not available during maintenance":l&&"This operation is not available while cluster is hibernating")||!s&&"You do not have permission to grant a role. Only cluster owners, cluster editors, and organization administrators can grant roles.",f=a().createElement(um,{onClick:()=>{setTimeout((()=>r()),0)},variant:"secondary",className:"access-control-add",disableReason:E},"Grant role");return e.pending&&!h?a().createElement(ke.Card,null,a().createElement(Le.l,null,a().createElement(At.Z,{size:"md"})),a().createElement(Me.e,null,a().createElement(At.Z,{size:"lg"})),a().createElement(Er.e,null,a().createElement(At.Z,{size:"md"}))):a().createElement(a().Fragment,null,a().createElement(ke.Card,{id:"networkSelfService"},a().createElement(Me.e,null,n.error&&a().createElement(Fr,{message:"Error deleting grant",response:n}),a().createElement(R.Title,{size:"lg",className:"card-title",headingLevel:"h3"},"AWS infrastructure access"),a().createElement("p",null,"Grant permission to view or manage the AWS infrastructure of the cluster to IAM users defined in your AWS account."," ",m,a().createElement(Or.ZP,{color:"#0066cc",size:"sm"})),h&&a().createElement(lt.Table,{"aria-label":"Grants",actions:d,variant:lt.TableVariant.compact,cells:u,rows:b,areActionsDisabled:e=>"deleting"===e.state||!!E},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null)),f)))}}iv.propTypes={getRoles:l().func.isRequired,getGrants:l().func.isRequired,grants:l().object.isRequired,addGrantResponse:l().object,deleteGrant:l().func.isRequired,deleteGrantResponse:l().object,openAddGrantModal:l().func.isRequired,addNotification:l().func.isRequired,canEdit:l().bool.isRequired,clusterHibernating:l().bool.isRequired,isReadOnly:l().bool.isRequired};const ov=iv;var cv=n(11972);const uv=e=>t=>t({type:cv.k1,payload:xt.le.getGrants(e)}),dv=(e,t,n)=>r=>r({type:cv.o8,payload:xt.le.addGrant(e,t,n)}),pv=()=>e=>e({type:cv.Eo}),mv=e=>{const{roles:t,grants:n}=e.networkSelfService,r=e=>{const n=t.data.find((t=>t.id===e));return n?n.displayName:e};return n.data.map((e=>({id:e.id,user_arn:e.user_arn,state:e.state,state_description:e.state_description,console_url:e.console_url,roleName:r(e.role.id)})))};function hv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hv(Object(n),!0).forEach((function(t){bv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ev=(0,i.connect)((e=>({isModalOpen:ze(e,"grant-modal"),grants:gv(gv({},e.networkSelfService.grants),{},{data:mv(e)}),addGrantResponse:e.networkSelfService.addGrantResponse,deleteGrantResponse:e.networkSelfService.deleteGrantResponse,roles:e.networkSelfService.roles})),((e,t)=>({openAddGrantModal:()=>e(Qt("grant-modal")),closeModal:()=>e(Wt()),getRoles:()=>e((e=>e({type:cv.Qi,payload:xt.le.getRoles()}))),getGrants:()=>e(uv(t.clusterID)),clearAddGrantResponse:()=>e(pv()),submit:(n,r)=>{e(dv(t.clusterID,n,r))},deleteGrant:n=>e(((e,t)=>n=>n({type:cv.Zh,payload:xt.le.deleteGrant(e,t)}))(t.clusterID,n)),addNotification:t=>e((0,lv.wN)(t))})))(ov);function fv({cluster:e,clusterConsoleURL:t,cloudProvider:n,history:s,refreshEvent:l=null}){const[i,o]=a().useState(0),[c,u]=(0,r.useState)(!0),[d,p]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[g,b]=(0,r.useState)(!1),[E,f]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[O,C]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=window.matchMedia?window.matchMedia("(min-width: 768px)"):null,t=e=>{e.matches?(u(!0),p("")):(u(!1),p("pf-m-scrollable"))};return window.matchMedia&&(t(e),e.addEventListener("change",t)),()=>{e&&e.removeEventListener("change",t)}}),[]),(0,r.useEffect)((()=>{var t;b("read_only"===(null==e||null===(t=e.status)||void 0===t?void 0:t.configuration_mode));const r=e.state===Co.READY,a=T()(e,"subscription.status",!1)===ee.Ij.ARCHIVED||T()(e,"subscription.status",!1)===ee.Ij.DEPROVISIONED,s=e.managed&&T()(e,"console.url")&&(r||Oo(e.state))&&!a;h(s?"":"single-tab"),f(!s),v(!s),C(!s||"aws"!==n||T()(e,"ccs.enabled",!1))}),[e]),a().createElement(ke.Card,null,a().createElement(Me.e,{id:"cluster-details-access-control-tab-contents",className:m},a().createElement(Qm.mQ,{activeKey:i,onSelect:(e,t)=>o(t),isVertical:c,className:d},a().createElement(Wm.O,{eventKey:0,title:a().createElement(Ym.T,null,"OCM Roles and Access")},a().createElement(my,{subscription:e.subscription,canEditOCMRoles:e.canEditOCMRoles,canViewOCMRoles:e.canViewOCMRoles,refreshEvent:l})),a().createElement(Wm.O,{eventKey:1,title:a().createElement(Ym.T,null,"Cluster Roles and Access"),isHidden:E},a().createElement(Cy,{cluster:e,clusterHibernating:Oo(e.state),isReadOnly:g})),a().createElement(Wm.O,{eventKey:2,title:a().createElement(Ym.T,null,"Identity providers"),isHidden:y},a().createElement(sv,{clusterID:T()(e,"id"),history:s,clusterConsoleURL:t,canEdit:e.canEdit,clusterHibernating:Oo(e.state),isReadOnly:g})),a().createElement(Wm.O,{eventKey:3,isHidden:O,title:a().createElement(Ym.T,null,"AWS infrastructure access")},a().createElement(Ev,{clusterID:T()(e,"id"),canEdit:e.canEdit,clusterHibernating:Oo(e.state),isReadOnly:g})))))}fv.propTypes={cluster:l().object.isRequired,clusterConsoleURL:l().string.isRequired,cloudProvider:l().string.isRequired,history:l().object,refreshEvent:l().object};const yv=fv;function vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ov(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vv(Object(n),!0).forEach((function(t){Cv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Rv=(e,t,n,r)=>!(!e.enabled||!n.fulfilled)&&Nc(r,Ov(Ov({},Lc(t)),{},{resourceType:Pc,resourceName:e.resource_name}))>=1,Sv=(e,t)=>t.items.find((t=>t.addon.id===e.id)),Pv=e=>{if(void 0===e)return"";const t=[];return Object.entries(e).forEach((([e,n])=>{Array.isArray(n)?t.push(`${e} is ${n.join(" or ")}`):"number"==typeof n?t.push(`${e} >= ${n}`):t.push(`${e} is ${n}`)})),`where ${t.join(" and ")}`},wv=(e,t=!1)=>((e,t=!1)=>{const n={fulfilled:!0,errorMsgs:[]};return e.length>0&&e.every((e=>{const[r,a]=(e=>{const t=T()(e,"status.fulfilled",!1),n=T()(e,"status.error_msgs",[]);return t||0===T()(n,"length",0)&&("addon"===e.resource?n.push(`This addon requires another addon to be installed ${Pv(e.data)}`):"machine_pool"===e.resource?n.push(`This addon requires a machine pool to exist ${Pv(e.data)}`):n.push(`This addon requires a ${e.resource} ${Pv(e.data)}`)),[t,n]})(e);return r||n.errorMsgs.push(...a),n.fulfilled&&(n.fulfilled=r),!(!n.fulfilled&&t)})),n})(T()(e,"requirements",[]),t),Tv=e=>T()(e,"parameters.items",[]),Dv=e=>T()(Tv(e),"length",0)>0,_v=(e,t,n)=>{const r=((e,t)=>{if(Dv(e))return e.parameters.items.find((e=>e.id===t))})(e,t);return r?r.value:n},Iv=(e,t)=>{const n={parameters:{}};return Dv(t)&&(n.parameters=Tv(t).reduce(((t,n)=>{let r=_v(e,n.id);return"boolean"===n.value_type&&(r="true"===(r||"").toLowerCase()),void 0!==n.options&&n.options.length>0&&(r=r||void 0),void 0!==r&&(t[n.id]=r),t}),{})),n};var Av=n(40063),Nv=n(19052),Lv=n(12995),Mv=n(21158),kv=n(56542),jv=n(44432),xv=n(73095),qv=n(51046),Uv=n(77171),zv=n(70678),Fv=n(96733);function Zv(e){const{addOn:t,installedAddOn:n,requirements:r}=e;if((e=>T()(e,"requirements.length",0)>0)(t)&&!r.fulfilled)return a().createElement(Pp.Label,{variant:"outline",color:"red",icon:a().createElement(Fv.ZP,null)},"Prerequisites not met");if(!n)return"";switch(n.state){case void 0:return"";case lb.Z.INSTALLATION_STATE.PENDING:case lb.Z.INSTALLATION_STATE.INSTALLING:return a().createElement(Pp.Label,{variant:"outline",icon:a().createElement(po.ZP,null)},"Installing");case lb.Z.INSTALLATION_STATE.UPDATING:return a().createElement(Pp.Label,{variant:"outline",icon:a().createElement(po.ZP,null)},"Updating");case lb.Z.INSTALLATION_STATE.DELETED:case lb.Z.INSTALLATION_STATE.DELETING:return a().createElement(Pp.Label,{variant:"outline",icon:a().createElement(po.ZP,null)},"Uninstalling");case lb.Z.INSTALLATION_STATE.FAILED:return a().createElement(Pp.Label,{variant:"outline",color:"red",icon:a().createElement(Re.ZP,null)},"Add-on failed");case lb.Z.INSTALLATION_STATE.READY:return a().createElement(Pp.Label,{variant:"outline",color:"green",icon:a().createElement(Xt.ZP,null)},"Installed");default:return a().createElement(Pp.Label,{variant:"outline",icon:a().createElement(uo.ZP,null)},"Unknown")}}Zv.propTypes={addOn:l().object,installedAddOn:l().object,requirements:l().object};const Bv=Zv;class Gv extends r.Component{constructor(...e){var t,n;super(...e),n=e=>e.description.length>60?`${e.description.substring(0,57)}...`:e.description,(t="reduceCardDescription")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){const{addOn:e,installedAddOn:t,requirements:n,activeCard:r,onClick:s}=this.props;return a().createElement(ke.Card,{isHoverable:!0,isSelectable:!0,isSelected:r===e.id,key:e.id,ouiaId:`card-addon-${e.id}`,onClick:s,className:"ocm-c-addons__card"},a().createElement(Hh.O,{className:"ocm-c-addons__card--header"},a().createElement(zv.Z,null,e.icon&&a().createElement("img",{alt:e.name,src:`data:image/png;base64,${e.icon}`}))),a().createElement(Le.l,null,e.name),a().createElement(Me.e,{className:"ocm-c-addons__card--body"},this.reduceCardDescription(e)),a().createElement(Er.e,null,a().createElement(Bv,{addOn:e,requirements:n,installedAddOn:t})))}}Gv.propTypes={addOn:l().object.isRequired,installedAddOn:l().object,requirements:l().object.isRequired,onClick:l().func.isRequired,activeCard:l().string};const Hv=Gv,Vv={addClusterAddOn:pb,openModal:Yt.openModal,closeModal:Yt.closeModal},$v=(0,i.connect)((e=>({cluster:e.clusters.details.cluster,addClusterAddOnResponse:e.addOns.addClusterAddOnResponse})),Vv)(Hv);var Qv=n(72772),Wv=n(13091);function Yv(){return(Yv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Jv extends r.Component{constructor(...e){super(...e),Kv(this,"handleClose",(()=>{const{closeModal:e,resetForm:t,clearClusterAddOnsResponses:n}=this.props;n(),t(),e()})),Kv(this,"validationsForParameterField",(e=>{const t=[];return"boolean"===e.value_type?void 0!==e.validation&&"^true$"===e.validation&&t.push(Ba):e.required&&t.push(Za),"number"===e.value_type&&t.push(ss),t})),Kv(this,"isFieldDisabled",(e=>{const{isUpdateForm:t,addOnInstallation:n}=this.props;return t&&!e.editable&&void 0!==n.parameters&&void 0!==n.parameters.items.find((t=>t.id===e.id))})),Kv(this,"getParamDefault",(e=>{const{isUpdateForm:t}=this.props;return t||void 0===e.default_value?"":e.default_value})),Kv(this,"getHelpText",(e=>{const{isUpdateForm:t}=this.props;return t&&t&&e.default_value&&e.editable?`${e.description}. For example "${e.default_value}"`:e.description})),Kv(this,"setDefaultParamValue",(e=>{const{change:t}=this.props;let n=e.default_value;"boolean"===e.value_type&&(n="true"===(n||"").toLowerCase()),t(`parameters.${e.id}`,n)})),Kv(this,"getDefaultValueText",(e=>{if(void 0!==e.options&&e.options.length>0){const t=e.options.find((t=>t.value===e.default_value));if(void 0!==t)return t.name}return e.default_value})),Kv(this,"getFieldProps",(e=>{const{cluster:t,quota:n,addOn:r,addOnInstallation:a,isUpdateForm:s}=this.props;if(void 0!==e.options&&e.options.length>0){let l;if("resource"===e.value_type){let i;s&&e.id===r.resource_name&&(i=1);const o=Number(_v(a,e.id,i));l=((e,t,n,r,a=0)=>{a=Number.isNaN(a)?0:a;const s=Ov(Ov({},Lc(t)),{},{resourceType:Pc,resourceName:e});if(!Nc(n,s))return r;const l=Ac(n,s);return r.filter((e=>l+a>=e.value))})(e.id,t,n,e.options,o)}else l=e.options;return{component:oa,options:[{name:"-- Please Select --",value:void 0},...l],type:"text"}}switch(e.value_type){case"number":return{component:Ea,type:"text"};case"boolean":return{component:na,isHelperTextBeforeField:!0};default:return{component:Ea,type:"text"}}})),Kv(this,"fieldForParam",(e=>a().createElement(a().Fragment,null,a().createElement(Ca.Z,Yv({},this.getFieldProps(e),{key:e.id,id:`field-addon-${e.id}`,name:`parameters.${e.id}`,label:e.name,placeholder:this.getParamDefault(e),isRequired:e.required,isDisabled:this.isFieldDisabled(e),helpText:this.getHelpText(e),validate:this.validationsForParameterField(e)})),e.value_type&&"boolean"===e.value_type&&a().createElement("div",{className:"ocm-c--reduxcheckbox-description"},this.getHelpText(e)))))}componentDidUpdate(){const{submitClusterAddOnResponse:e}=this.props;e.fulfilled&&this.handleClose()}render(){const{isOpen:e,handleSubmit:t,addOn:n,isUpdateForm:r,submitClusterAddOnResponse:s,pristine:l}=this.props,i=s.pending;return e&&a().createElement(H,{title:`Configure ${n.name}`,width:810,variant:"large",onClose:this.handleClose,primaryText:r?"Update":"Install",secondaryText:"Cancel",onPrimaryClick:t,onSecondaryClick:this.handleClose,isPrimaryDisabled:r&&l,isPending:i},s.error&&a().createElement(Fr,{message:"Error adding add-ons",response:s}),a().createElement(qr.l,{id:`form-addon-${n.id}`},Tv(n).map((e=>a().createElement(Gr.c,{key:e.id},this.fieldForParam(e),(r&&e.editable&&e.default_value||!r&&e.default_value)&&a().createElement(p.Button,{onClick:()=>this.setDefaultParamValue(e),id:`reset-addon-${e.id}`,variant:"link",icon:a().createElement(Wv.ZP,null),iconPosition:"right",className:"addon-parameter-default-button"},"Use default:"," ",this.getDefaultValueText(e)))))))}}Jv.propTypes={isOpen:l().bool.isRequired,closeModal:l().func.isRequired,resetForm:l().func.isRequired,handleSubmit:l().func.isRequired,addOn:l().object,addOnInstallation:l().object,cluster:l().object.isRequired,quota:l().object.isRequired,isUpdateForm:l().bool,submitClusterAddOnResponse:l().object,clearClusterAddOnsResponses:l().func.isRequired,pristine:l().bool.isRequired,change:l().func};const Xv=Jv,eO=(0,vc.Z)({form:"AddOnsParameters",enableReinitialize:!0})(Xv),tO=(0,i.connect)((e=>({isOpen:ze(e,"add-ons-parameters-modal"),addOn:e.modal.data.addOn,addOnInstallation:e.modal.data.addOnInstallation,isUpdateForm:e.modal.data.isUpdateForm,submitClusterAddOnResponse:e.modal.data.isUpdateForm?e.addOns.updateClusterAddOnResponse:e.addOns.addClusterAddOnResponse,initialValues:Iv(e.modal.data.addOnInstallation,e.modal.data.addOn,e.clusters.details.cluster),cluster:e.clusters.details.cluster,quota:e.userProfile.organization.quotaList})),(e=>({closeModal:()=>e(Wt()),addClusterAddOn:()=>e(pb()),updateClusterAddOn:()=>e(mb()),clearClusterAddOnsResponses:()=>e(hb()),resetForm:()=>e((0,Qv.mc)("AddOnsParameters")),onSubmit:(t,n,r)=>{const a={addon:{id:r.addOn.id}};void 0!==t.parameters&&(a.parameters={items:Object.entries(t.parameters).map((([e,t])=>({id:e,value:t.toString()})))}),r.isUpdateForm?e(mb(r.clusterID,r.addOn.id,a)):e(pb(r.clusterID,a))}})))(eO);function nO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class rO extends r.Component{constructor(...e){super(...e),nO(this,"state",{addOnNameInput:""}),nO(this,"setValue",(e=>{this.setState({addOnNameInput:e})})),nO(this,"handleClose",(()=>{const{closeModal:e,clearClusterAddOnsResponses:t}=this.props;t(),this.setState({addOnNameInput:""}),e()}))}componentDidUpdate(e){const{deleteClusterAddOnResponse:t}=this.props;!e.deleteClusterAddOnResponse.fulfilled&&t.fulfilled&&this.handleClose()}render(){const{isOpen:e,modalData:t,deleteClusterAddOn:n,deleteClusterAddOnResponse:r}=this.props,{addOnNameInput:s}=this.state,{addOnName:l,addOnID:i,clusterID:o}=t,c=s===l,u=()=>{n(o,i)},d=r.error&&a().createElement(Fr,{message:"Error uninstalling add-on",response:r}),p=r.pending;return e&&a().createElement(H,{title:`Uninstall ${l}`,onClose:this.handleClose,primaryText:"Uninstall",primaryVariant:"danger",isPrimaryDisabled:!c,onPrimaryClick:u,onSecondaryClick:this.handleClose,isPending:p},a().createElement("p",null,d,"This action will uninstall the add-on, removing add-on data from cluster can not be undone."),a().createElement(qr.l,{onSubmit:e=>{e.preventDefault(),c&&u()}},a().createElement("p",null,"Confirm deletion by typing"," ",a().createElement("span",{className:"addon-delete-modal-textinput"},l)," ","below:"),a().createElement(ca.TextInput,{type:"text",value:s,placeholder:"Enter name",onChange:this.setValue,"aria-label":"addon name"})))}}rO.propTypes={isOpen:l().bool.isRequired,modalData:l().shape({addOnName:l().string,addOnID:l().string,clusterID:l().string}),closeModal:l().func.isRequired,deleteClusterAddOn:l().func.isRequired,deleteClusterAddOnResponse:l().object.isRequired,clearClusterAddOnsResponses:l().func.isRequired};const aO=rO,sO=(0,i.connect)((e=>({isOpen:ze(e,"add-ons-delete-modal"),modalData:e.modal.data,deleteClusterAddOnResponse:e.addOns.deleteClusterAddOnResponse})),(e=>({deleteClusterAddOn:(t,n)=>e(((e,t)=>n=>n({type:lb.Z.DELETE_CLUSTER_ADDON,payload:xt.le.deleteClusterAddOn(e,t)}))(t,n)),closeModal:()=>e(Wt()),clearClusterAddOnsResponses:()=>e(hb())})))(aO);var lO=n(92098);function iO(e){const{installedAddOn:t,installedAddOnState:n,activeCard:r,activeCardID:s,cluster:l,openModal:i}=e;if(t&&r&&Dv(r)){const e=((e,t)=>{const n={parameters:{}};return Dv(t)&&(n.parameters=Tv(t).reduce(((t,n)=>{let r=_v(e,n.id);if("boolean"===n.value_type&&(r="true"===(r||"").toString().toLowerCase()),n.options){const e=n.options.find((e=>e.value===r));null!=e&&e.name&&(r=e.name)}if(void 0!==r){const e=Ov({value:r.toString()},n);t[n.id]=e}return t}),{})),n})(t,r),o=Object.entries(e.parameters).map((([e,t])=>a().createElement("p",{key:e},a().createElement("b",{className:"parameter-list-key"},t.name)," ",a().createElement(Wr.J2,{"aria-label":"param-popover",headerContent:a().createElement("div",null,t.name),bodyContent:a().createElement("div",null,t.description)},a().createElement(p.Button,{isInline:!0,variant:"link",icon:a().createElement(Yr.ZP,{className:"ocm-addons-tab--parameter-tooltip-icon"})}))," ",t.value)));return a().createElement(rt.B,null,a().createElement("p",{className:"ocm-addons-tab--configuration-title"},"Configuration",a().createElement(p.Button,{ouiaId:`update-addon-${s}`,variant:"link",isDisabled:n!==lb.Z.INSTALLATION_STATE.READY||!l.canEdit,icon:a().createElement(lO.ZP,{className:"ocm-addons-tab--configuration-title-icon"}),onClick:()=>i("add-ons-parameters-modal",{clusterID:l.id,addOn:r,addOnInstallation:t,isUpdateForm:!0})})),o,a().createElement(tO,{clusterID:l.id}))}return""}iO.propTypes={installedAddOn:l().object,activeCard:l().object,activeCardID:l().string,installedAddOnState:l().string,cluster:l().object,openModal:l().func.isRequired};const oO=iO;function cO(e){var t;const{activeCard:n,activeCardRequirementsFulfilled:r,addClusterAddOn:s,addClusterAddOnResponse:l,cluster:i,hasQuota:o,installedAddOn:c,openModal:u}=e,d=()=>{Dv(n)?u("add-ons-parameters-modal",{clusterID:i.id,addOn:n,isUpdateForm:!1}):s(i.id,{addon:{id:null==n?void 0:n.id}})},m=!i.canEdit&&"You do not have permission to install add ons. Only cluster owners, cluster editors, and organization administrators can install add ons.",h="read_only"===(null==i||null===(t=i.status)||void 0===t?void 0:t.configuration_mode)&&"This operation is not available during maintenance",g=Oo(i.state)&&"This operation is not available while cluster is hibernating",b=i.state!==Co.READY&&"This cluster is not ready",E=!r&&"Prerequisites not met",f=!o&&j,y=a().createElement(um,{ouiaId:`uninstall-addon-${null==n?void 0:n.id}`,variant:"link",disableReason:h||g||b||m,onClick:()=>u("add-ons-delete-modal",{addOnName:null==n?void 0:n.name,addOnID:null==n?void 0:n.id,clusterID:i.id})},"Uninstall");if(!c){const e=l.pending&&"installing...";return a().createElement(um,{disableReason:h||g||b||E||m||f||e,ouiaId:`install-addon-${null==n?void 0:n.id}`,variant:"primary","aria-label":"Install",onClick:d},"Install")}let v;switch(null==c?void 0:c.state){case lb.Z.INSTALLATION_STATE.PENDING:case lb.Z.INSTALLATION_STATE.INSTALLING:case lb.Z.INSTALLATION_STATE.UPDATING:return a().createElement(a().Fragment,null,y);case void 0:return"";case lb.Z.INSTALLATION_STATE.FAILED:return v="https://access.redhat.com/support/cases/#/case/new",a().createElement(a().Fragment,null,a().createElement(p.Button,{component:"a",variant:"secondary",href:v,target:"_blank",rel:"noopener noreferrer"},"Contact support")," ",y);case lb.Z.INSTALLATION_STATE.READY:return null!=i&&i.console.url?(v=`${i.console.url}/k8s/ns/${null==n?void 0:n.target_namespace}/operators.coreos.com~v1alpha1~ClusterServiceVersion/${null==c?void 0:c.csv_name}`,a().createElement(a().Fragment,null,a().createElement(p.Button,{component:"a",variant:"primary",href:v,target:"_blank",rel:"noopener noreferrer"},"Open in Console"," ",a().createElement(Or.ZP,{className:"link-icon"}))," ",y)):"";default:return""}}cO.propTypes={activeCard:l().object,activeCardRequirementsFulfilled:l().bool,addClusterAddOn:l().func.isRequired,addClusterAddOnResponse:l().object,cluster:l().object,hasQuota:l().bool,installedAddOn:l().object,openModal:l().func};const uO=cO;function dO(e){const{activeCardDocsLink:t,installedAddOnOperatorVersion:n}=e;return a().createElement(rt.B,null,n?a().createElement(a().Fragment,null,a().createElement("b",null,"Current Version ")," ",n," "):"",t?a().createElement(Rr,{href:t},"View Documentation"):"")}dO.propTypes={activeCardDocsLink:l().string,installedAddOnOperatorVersion:l().string};const pO=dO;function mO(e){const{activeCardRequirements:t}=e;return a().createElement(et.aV,null,null==t?void 0:t.map((e=>a().createElement(tt.H,{key:e},e))))}mO.propTypes={activeCardRequirements:l().array};const hO=mO;function gO(e){const{installedAddOn:t}=e;return"failed"===(null==t?void 0:t.state)?a().createElement(Ur.bZ,{variant:"danger",isInline:!0,title:"Add-on failed",className:"ocm-addons-failed--error-box"},a().createElement(nt.k,{direction:{default:"column"}},a().createElement(rt.B,null,null==t?void 0:t.state_description),a().createElement(rt.B,null,a().createElement(Rr,{noIcon:!0,href:"https://access.redhat.com/support/cases/#/case/new"},"Contact support")))):null}gO.propTypes={installedAddOn:l().object};const bO=gO;function EO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fO extends a().Component{constructor(...e){super(...e),EO(this,"state",{isDrawerExpanded:!1,activeCard:null,activeCardRequirementsFulfilled:!0,activeCardRequirements:null,installedAddOn:null,activeTabKey:0}),EO(this,"getHasQuota",(e=>{const{cluster:t,organization:n,quota:r}=this.props;return null!==e&&((e,t,n,r)=>{if(!Rv(e,t,n,r))return!1;const a=(e=>{let t=1;return Dv(e)&&e.parameters.items.forEach((n=>{if("resource"===n.value_type&&n.id===e.resource_name&&void 0!==n.options&&n.options.length>0){const e=n.options.map((e=>Number(e.value))).filter((e=>!Number.isNaN(e)));t=Math.min(...e)}})),t})(e);return Ac(r,Ov(Ov({},Lc(t)),{},{resourceType:Pc,resourceName:e.resource_name}))>=a})(e,t,n,r)})),EO(this,"getInstalledAddon",(e=>{const{clusterAddOns:t}=this.props;return Sv(e,t)})),EO(this,"handleTabClick",((e,t)=>{this.setState({activeTabKey:t}),e.preventDefault()})),EO(this,"handleCardClick",(e=>()=>{const{clusterAddOns:t}=this.props,{activeCard:n}=this.state;if(e.id===(null==n?void 0:n.id))return void this.handleCloseDrawer();const r=Sv(e,t),a=wv(e);this.setState({activeCard:e,activeCardRequirementsFulfilled:a.fulfilled,activeCardRequirements:a.errorMsgs,installedAddOn:r,isDrawerExpanded:!0,activeTabKey:0})})),EO(this,"handleCloseDrawer",(()=>{this.setState({activeCard:null,activeCardRequirements:null,activeCardRequirementsFulfilled:!0,isDrawerExpanded:!1,activeTabKey:0})}))}componentDidUpdate(e){const{addClusterAddOnResponse:t,deleteClusterAddOnResponse:n,submitClusterAddOnResponse:r}=this.props,{isDrawerExpanded:a}=this.state;(t.fulfilled&&e.addClusterAddOnResponse.pending||n.fulfilled&&e.deleteClusterAddOnResponse.pending||r.fulfilled&&e.submitClusterAddOnResponse.pending)&&a&&this.setState({isDrawerExpanded:!1,activeCard:null})}render(){const{addClusterAddOn:e,addClusterAddOnResponse:t,addOnsList:n,cluster:r,openModal:s}=this.props,{activeCard:l,installedAddOn:i,activeCardRequirements:o,activeCardRequirementsFulfilled:c,activeTabKey:u,isDrawerExpanded:d}=this.state,p=a().createElement(xv.S,{className:"ocm-c-addons__drawer--panel-content"},a().createElement(qv.h,{className:"ocm-c-addons__drawer--header"},a().createElement(je.r,{hasGutter:!0},a().createElement(xe.P,{span:3},(null==l?void 0:l.icon)&&a().createElement("img",{alt:null==l?void 0:l.name,src:`data:image/png;base64,${null==l?void 0:l.icon}`})),a().createElement(xe.P,{span:9},a().createElement(R.Title,{headingLevel:"h2",size:"xl"},null==l?void 0:l.name))),a().createElement(Nv.x,null,a().createElement(Lv.c,{onClick:this.handleCloseDrawer}))),a().createElement(jv.DrawerPanelBody,null,a().createElement(Bv,{addOn:l,requirements:wv(l),installedAddOn:i}),a().createElement(bO,{installedAddOn:i})),a().createElement("div",null,a().createElement(Qm.mQ,{activeKey:u,onSelect:this.handleTabClick,inset:{default:"insetNone",md:"insetSm",xl:"inset2xl","2xl":"insetLg"}},a().createElement(Wm.O,{eventKey:0,title:a().createElement(Ym.T,null,"Details")},a().createElement(jv.DrawerPanelBody,{className:"ocm-addons-tab--drawer-panel-body"},a().createElement(nt.k,{spaceItems:{default:"spaceItemsLg"},direction:{default:"column"}},a().createElement(rt.B,null,null==l?void 0:l.description),a().createElement(pO,{activeCardDocsLink:null==l?void 0:l.docs_link,installedAddOnOperatorVersion:null==i?void 0:i.operator_version}),a().createElement(oO,{installedAddOn:i,activeCard:l,activeCardID:null==l?void 0:l.id,installedAddOnState:null==i?void 0:i.state,cluster:r,openModal:s}))),a().createElement(jv.DrawerPanelBody,null,a().createElement(uO,{activeCard:l,activeCardRequirementsFulfilled:c,addClusterAddOn:e,addClusterAddOnResponse:t,cluster:r,hasQuota:this.getHasQuota(l),installedAddOn:i,installedAddOnOperatorVersion:null==i?void 0:i.operator_version,openModal:s}))),!c&&a().createElement(Wm.O,{eventKey:1,title:a().createElement(Ym.T,null,"Prerequisites")},a().createElement(jv.DrawerPanelBody,{className:"ocm-addons-tab--drawer-panel-body"},a().createElement(nt.k,{spaceItems:{default:"spaceItemsLg"},direction:{default:"column"}},a().createElement(rt.B,null,a().createElement(hO,{activeCardRequirements:o}))))))));return a().createElement(a().Fragment,null,a().createElement(Av.Drawer,{isExpanded:d,isInline:!0,className:"ocm-addons-tab--addon-drawer pf-m-inline-on-2xl"},a().createElement(Mv.s,{panelContent:p,className:"pf-m-no-background ocm-c-addons__drawer--panel-gallery"},a().createElement(kv.s,null,a().createElement(Uv.r,{hasGutter:!0},n.map((e=>a().createElement($v,{key:e.id,addOn:e,installedAddOn:this.getInstalledAddon(e),requirements:wv(e),onClick:this.handleCardClick(e),activeCard:null==l?void 0:l.id}))))))),a().createElement(tO,{clusterID:r.id}),a().createElement(sO,null))}}fO.propTypes={addOnsList:l().array.isRequired,clusterAddOns:l().object.isRequired,cluster:l().object.isRequired,organization:l().object.isRequired,quota:l().object.isRequired,openModal:l().func.isRequired,addClusterAddOn:l().func.isRequired,addClusterAddOnResponse:l().object.isRequired,deleteClusterAddOnResponse:l().object.isRequired,submitClusterAddOnResponse:l().object.isRequired};const yO=fO,vO={addClusterAddOn:pb,openModal:Yt.openModal},OO=(0,i.connect)((e=>({cluster:e.clusters.details.cluster,addClusterAddOnResponse:e.addOns.addClusterAddOnResponse,deleteClusterAddOnResponse:e.addOns.deleteClusterAddOnResponse,submitClusterAddOnResponse:e.modal.data.isUpdateForm?e.addOns.updateClusterAddOnResponse:e.addOns.addClusterAddOnResponse})),vO)(yO);class CO extends a().Component{componentDidMount(){const{clusterID:e,getClusterAddOns:t,clusterAddOns:n}=this.props;n.clusterID===e&&n.pending||t(e)}componentDidUpdate(e){const{clusterID:t,getClusterAddOns:n,clusterAddOns:r,addClusterAddOnResponse:a,updateClusterAddOnResponse:s,getOrganizationAndQuota:l,deleteClusterAddOnResponse:i}=this.props;(a.fulfilled&&e.addClusterAddOnResponse.pending||s.fulfilled&&e.updateClusterAddOnResponse.pending||i.fulfilled&&e.deleteClusterAddOnResponse.pending)&&(r.pending||n(t),l())}componentWillUnmount(){const{clearClusterAddOnsResponses:e}=this.props;e()}render(){const{addOns:e,cluster:t,clusterAddOns:n,clusterMachinePools:r,addClusterAddOnResponse:s,organization:l,quota:i}=this.props;if(n.pending&&0===n.items.length)return a().createElement(g.ub,null,a().createElement(b.B,null,a().createElement(E.Z,{centered:!0})));const o=((e,t,n,r,a)=>T()(e,"items.length",!1)?e.items.filter((e=>Rv(e,t,r,a)||((e,t)=>!!T()(t,"items.length",!1)&&t.items.some((t=>t.addon.id===e.id)))(e,n))):[])(e,t,n,l,i);return o.length>0?n.error?a().createElement(g.ub,null,a().createElement(Fr,{message:"Error getting cluster add-ons",response:n})):a().createElement(a().Fragment,null,s.error&&a().createElement(Fr,{message:"Error adding add-ons",response:s}),a().createElement(OO,{addOnsList:o,clusterAddOns:n,cluster:t,clusterMachinePools:r,organization:l,quota:i})):a().createElement(g.ub,null,a().createElement(Oe.k,{icon:Ra.ZP}),e.error&&a().createElement(Fr,{message:"Error getting add-ons",response:e}),a().createElement(R.Title,{headingLevel:"h5",size:"lg"},"No add-ons available for this cluster"),a().createElement(b.B,null,"There are no add-ons available for this cluster."))}}CO.propTypes={clusterID:l().string.isRequired,cluster:l().object.isRequired,addOns:l().object.isRequired,clusterAddOns:l().object.isRequired,clusterMachinePools:l().object.isRequired,organization:l().object.isRequired,quota:l().object.isRequired,getOrganizationAndQuota:l().func.isRequired,getClusterAddOns:l().func.isRequired,addClusterAddOnResponse:l().object.isRequired,updateClusterAddOnResponse:l().object.isRequired,deleteClusterAddOnResponse:l().object.isRequired,clearClusterAddOnsResponses:l().func.isRequired};const RO=CO,SO={getOrganizationAndQuota:d.nh,getClusterAddOns:db,getMachinePools:pd.BE,addClusterAddOn:pb,clearClusterAddOnsResponses:hb,openModal:Yt.openModal,closeModal:Yt.closeModal},PO=(0,i.connect)((e=>({addOns:e.addOns.addOns,cluster:e.clusters.details.cluster,clusterAddOns:e.addOns.clusterAddOns,clusterMachinePools:e.machinePools.getMachinePools,addClusterAddOnResponse:e.addOns.addClusterAddOnResponse,updateClusterAddOnResponse:e.addOns.updateClusterAddOnResponse,deleteClusterAddOnResponse:e.addOns.deleteClusterAddOnResponse,organization:e.userProfile.organization,quota:e.userProfile.organization.quotaList})),SO)(RO);var wO=n(18172),TO=n(13910);const DO={getMachineTypes:ud},_O=(0,i.connect)(((e,t)=>({sortedMachineTypes:Td(e,t.cloudProviderID),machineTypes:e.machineTypes,machineTypesByID:e.machineTypes.typesByID,organization:e.userProfile.organization,quota:e.userProfile.organization.quotaList})),DO)(Rd);function IO({pending:e,isBYOC:t,isMultiAz:n,machineType:r,handleMachineTypesChange:s,cloudProviderID:l,product:i,showStorageAndLoadBalancers:o=!0,minNodes:c,isMachinePool:u=!1,canAutoScale:d=!1,autoscalingEnabled:p=!1,inModal:m=!1,autoScaleMinNodesValue:h="0",autoScaleMaxNodesValue:g="0",change:b,billingModel:E}){const f=u?"Edit node labels and taints":"Edit node labels",y=a().createElement(V.L,{toggleTextCollapsed:f,toggleTextExpanded:f,className:"pf-u-mt-md"},a().createElement(R.Title,{headingLevel:"h3",className:"pf-u-mb-md"},"Node labels"),a().createElement(TO.Z,{name:"node_labels",component:Ss}),u&&a().createElement(a().Fragment,null,a().createElement(R.Title,{headingLevel:"h3",className:"pf-u-mb-md pf-u-mt-lg"},"Taints"),a().createElement(TO.Z,{name:"taints",component:ws})));return a().createElement(a().Fragment,null,a().createElement(xe.P,{sm:12,lg:6},a().createElement(Gr.c,{className:"pf-u-mb-md",label:"Worker node instance type",isRequired:!0,fieldId:"node_type",labelIcon:a().createElement(Xr,{hint:Nu})},a().createElement(Ca.Z,{component:_O,name:"machine_type",validate:Za,disabled:e,isMultiAz:n,isBYOC:t,onChange:s,cloudProviderID:l,product:i,isMachinePool:u,billingModel:E,inModal:m}))),a().createElement(xe.P,{lg:6}),a().createElement(xe.P,{sm:12,lg:6},d&&a().createElement(a().Fragment,null,a().createElement(nd,{autoscalingEnabled:p,isMultiAz:n,change:b,autoScaleMinNodesValue:h,autoScaleMaxNodesValue:g,product:i,isBYOC:t,isDefaultMachinePool:!u}),p&&y),!p&&a().createElement(a().Fragment,null,a().createElement(Ca.Z,{component:vu,name:"nodes_compute",label:n?"Worker node count (per zone)":"Worker node count",isMultiAz:n,isByoc:t,machineType:r,isDisabled:e,extendedHelpText:a().createElement(a().Fragment,null,Lu," ",a().createElement(Rr,{href:"https://www.openshift.com/products/dedicated/service-definition#compute-instances"},"Learn more about worker node count")),cloudProviderID:l,product:i,minNodes:c,isMachinePool:u,billingModel:E}),y)),a().createElement(xe.P,{lg:6}),o&&!t&&a().createElement(a().Fragment,null,a().createElement(xe.P,{sm:12,lg:6},a().createElement(Gr.c,{label:"Persistent storage",fieldId:"persistent_storage",labelIcon:a().createElement(Xr,{hint:Iu})},a().createElement(Ca.Z,{name:"persistent_storage",component:Qc,disabled:e,currentValue:null,cloudProviderID:l,billingModel:E,product:i,isBYOC:t,isMultiAZ:n}))),a().createElement(xe.P,{lg:6}),a().createElement(xe.P,{sm:12,lg:6},a().createElement(Gr.c,{label:"Load balancers",fieldId:"load_balancers",labelIcon:a().createElement(Xr,{hint:Au})},a().createElement(Ca.Z,{name:"load_balancers",component:nu,disabled:e,currentValue:null,cloudProviderID:l,billingModel:E,product:i,isBYOC:t,isMultiAZ:n}))),a().createElement(xe.P,{lg:6})))}IO.defaultProps={billingModel:ee.F6.STANDARD},IO.propTypes={pending:l().bool,isBYOC:l().bool.isRequired,isMultiAz:l().bool.isRequired,inModal:l().bool,showStorageAndLoadBalancers:l().bool,machineType:l().string.isRequired,cloudProviderID:l().string.isRequired,product:l().oneOf(Object.keys(ee.Po)).isRequired,billingModel:l().oneOf(Object.values(ee.F6)),handleMachineTypesChange:l().func.isRequired,minNodes:l().number,isMachinePool:l().bool,canAutoScale:l().bool,autoscalingEnabled:l().bool,change:l().func.isRequired,autoScaleMinNodesValue:l().string,autoScaleMaxNodesValue:l().string};const AO=IO;class NO extends a().Component{constructor(...e){var t,n;super(...e),n=(e,t)=>{const{input:n,onChangeCallback:r}=this.props,a=t.target.value;n.onChange(a,t),r&&r(n.name,a)},(t="changeHandler")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){const{defaultValue:e,disableDefaultValueHandling:t,input:n}=this.props;t&&!this.isCurrentValueDisabled()||n.onChange(e)}componentDidUpdate(){const{defaultValue:e,input:t,disableDefaultValueHandling:n}=this.props;n||""===t.value&&t.onChange(e),this.isCurrentValueDisabled()&&t.onChange(e)}isCurrentValueDisabled(){const{options:e,input:t,defaultValue:n}=this.props;return e.some((e=>t.value===e.value&&e.disabled&&e.value!==n))}render(){const{options:e,className:t,input:n,isDisabled:r}=this.props;return a().createElement(a().Fragment,null,e.map((e=>{const s=a().createElement(a().Fragment,{key:`${n.name}-${e.value}-fragment`},a().createElement(fa.Radio,{className:t,isChecked:n.value===e.value,key:`${n.name}-${e.value}`,value:e.value,name:n.name,id:`${n.name}-${e.value}`,"aria-label":e.ariaLabel||e.label,label:e.label,onChange:this.changeHandler,isDisabled:e.disabled||r,description:e.description}),e.extraField?e.extraField:null);return e.tooltipText?a().createElement(Vr.Tooltip,{content:e.tooltipText,position:"right",key:`${n.name}-${e.value}-tooltip`},s):s})))}}NO.propTypes={defaultValue:l().string.isRequired,isDisabled:l().bool,onChangeCallback:l().func,disableDefaultValueHandling:l().bool,input:l().shape({name:l().string.isRequired,onChange:l().func.isRequired,value:l().string}).isRequired,className:l().string,options:l().arrayOf(l().shape({label:l().oneOfType([l().string,l().node]).isRequired,ariaLabel:l().string,value:l().string.isRequired,disabled:l().bool,description:l().node,extraField:l().node})).isRequired};const LO=NO;function MO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class kO extends a().Component{constructor(...e){super(...e),MO(this,"state",{}),MO(this,"onMaxHourlyPriceChange",((e,t)=>Number((parseFloat(e)+t).toFixed(2))))}render(){const{change:e,useSpotInstances:t,spotInstancePricing:n,spotInstanceMaxHourlyPrice:r}=this.props;return a().createElement(a().Fragment,null,a().createElement(xe.P,{lg:6}),a().createElement(xe.P,{span:12,id:"costsavings"},a().createElement(Gr.c,{fieldId:"costsavings",label:"Cost saving"}),a().createElement(Ca.Z,{component:na,name:"spot_instances",label:"Use Amazon EC2 Spot Instances",description:"You can save on costs by creating a machine pool running on AWS that deploys machines as non-guaranteed Spot Instances.  This cannot be changed after machine pool is created."})),a().createElement(xe.P,{lg:6}),t&&a().createElement(a().Fragment,null,a().createElement(xe.P,{span:12},a().createElement(Ca.Z,{component:LO,className:"ocm-c-cost-savings-price-radios",name:"spot_instance_pricing",options:[{value:"onDemand",label:"Use On-Demand instance price",description:a().createElement(a().Fragment,null,"The maximum price defaults to charge up to the On-Demand Instance price.")},{value:"maximum",label:a().createElement(a().Fragment,null,"Set maximum price"," ",a().createElement(Xr,{headerContent:"Maximum hourly price for a Spot Instance",hint:"This value should be lower or equal to the On-Demand Instance price. This cannot be changed after the machine pool is created."})),description:a().createElement(a().Fragment,null,"Specify the maximum hourly price for a Spot Instance."),extraField:"maximum"===n&&a().createElement(Ca.Z,{component:Hr.Y,className:"ocm-c-cost-savings-max-price__number_input",name:"spot_instance_max_hourly_price",inputName:"spot_instance_max_hourly_price",id:"spot_instance_max_hourly_price",props:{value:parseFloat(r).toFixed(2),id:"spot_instance_max_hourly_price",min:.01,onMinus:()=>{e("spot_instance_max_hourly_price",this.onMaxHourlyPriceChange(r,-.01))},onPlus:()=>{e("spot_instance_max_hourly_price",this.onMaxHourlyPriceChange(r,.01))},onChange:t=>{const n=parseFloat(t.target.value);e("spot_instance_max_hourly_price",this.onMaxHourlyPriceChange(n,0))},widthChars:"8",unit:"$ Hourly",isDisabled:!1}})}],defaultValue:"onDemand"})),a().createElement(xe.P,{lg:6}),a().createElement(xe.P,{span:12},a().createElement(Ur.bZ,{className:"bottom-alert",variant:"warning",title:"Your Spot Instance may be interrupted at any time. Use Spot Instances for workloads that can tolerate interruptions.",isInline:!0},a().createElement(Rr,{href:Ou},"Learn more about Spot instances")))))}}kO.propTypes={change:l().func.isRequired,useSpotInstances:l().bool,spotInstancePricing:l().string,spotInstanceMaxHourlyPrice:l().number},kO.defaultProps={useSpotInstances:!1,spotInstancePricing:"onDemand",spotInstanceMaxHourlyPrice:.01};const jO=kO;function xO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class qO extends r.Component{constructor(...e){super(...e),xO(this,"state",{machineType:""}),xO(this,"handleMachineTypesChange",((e,t)=>{this.setState({machineType:t})})),xO(this,"cancelAddMachinePool",(()=>{const{clearAddMachinePoolResponse:e,closeModal:t}=this.props;e(),t()}))}componentDidMount(){const{getOrganizationAndQuota:e,machineTypes:t,getMachineTypes:n}=this.props;t.fulfilled||t.pending||n(),e()}componentDidUpdate(e){const{addMachinePoolResponse:t,clearAddMachinePoolResponse:n,closeModal:r,getOrganizationAndQuota:a}=this.props;!e.addMachinePoolResponse.fulfilled&&t.fulfilled&&(r(),n(),a())}render(){var e,t,n;const{submit:r,addMachinePoolResponse:s,cluster:l,pristine:i,invalid:o,organization:c,canAutoScale:u,autoscalingEnabled:d,change:p,autoScaleMinNodesValue:m,autoScaleMaxNodesValue:h,canUseSpotInstances:g,useSpotInstances:b,spotInstancePricing:E,spotInstanceMaxHourlyPrice:f}=this.props,{machineType:y}=this.state,v=T()(l,"billing_model"),O=s.error&&a().createElement(Fr,{message:"Error adding machine pool",response:s}),C=s.pending||c&&c.pending;return a().createElement(H,{variant:"large",title:"Add machine pool",onClose:this.cancelAddMachinePool,description:"A machine pool is a group of machines that are all clones of the same configuration, that can be used on demand by an application running on a pod.",primaryText:"Add machine pool",secondaryText:"Cancel",onPrimaryClick:r,onSecondaryClick:this.cancelAddMachinePool,isPrimaryDisabled:C||i||o,isPending:C},a().createElement(a().Fragment,null,O,a().createElement(qr.l,{className:"control-form-cursor",onSubmit:e=>{r(),e.preventDefault()}},a().createElement(je.r,null,a().createElement(xe.P,{sm:12,lg:6},a().createElement(Gr.c,{label:"Machine pool name",className:"pf-u-mb-md",isRequired:!0},a().createElement(Ca.Z,{component:Ea,name:"name",type:"text",validate:$a,disabled:C}))),a().createElement(xe.P,{lg:6}),a().createElement(AO,{pending:C,isBYOC:!(null==l||null===(e=l.ccs)||void 0===e||!e.enabled),isMultiAz:l.multi_az,machineType:y,handleMachineTypesChange:this.handleMachineTypesChange,cloudProviderID:l.cloud_provider.id,product:null==l||null===(t=l.subscription)||void 0===t||null===(n=t.plan)||void 0===n?void 0:n.type,showStorageAndLoadBalancers:!1,minNodes:0,isMachinePool:!0,inModal:!0,canAutoScale:u,autoscalingEnabled:d,change:p,autoScaleMinNodesValue:m,autoScaleMaxNodesValue:h,billingModel:v}),g&&a().createElement(a().Fragment,null,a().createElement(jO,{useSpotInstances:b,spotInstancePricing:E,spotInstanceMaxHourlyPrice:f,change:p}))))))}}qO.propTypes={closeModal:l().func.isRequired,submit:l().func.isRequired,clearAddMachinePoolResponse:l().func.isRequired,addMachinePoolResponse:l().object,cluster:l().object.isRequired,getOrganizationAndQuota:l().func.isRequired,getMachineTypes:l().func.isRequired,machineTypes:l().object.isRequired,pristine:l().bool.isRequired,invalid:l().bool.isRequired,organization:l().object,canAutoScale:l().bool.isRequired,autoscalingEnabled:l().bool.isRequired,change:l().func.isRequired,autoScaleMinNodesValue:l().string,autoScaleMaxNodesValue:l().string,canUseSpotInstances:l().bool.isRequired,useSpotInstances:l().bool.isRequired,spotInstancePricing:l().string,spotInstanceMaxHourlyPrice:l().number},qO.defaultProps={addMachinePoolResponse:{},autoScaleMinNodesValue:"0",autoScaleMaxNodesValue:"0",spotInstancePricing:"onDemand",spotInstanceMaxHourlyPrice:0};const UO=qO,zO=(0,vc.Z)({form:"AddMachinePool",touchOnChange:!0})(UO),FO=(0,i.connect)(((e,t)=>{const n=(0,hu.Z)("AddMachinePool");return{addMachinePoolResponse:e.machinePools.addMachinePoolResponse,machineTypes:e.machineTypes,organization:e.userProfile.organization,autoscalingEnabled:!!n(e,"autoscalingEnabled"),autoScaleMinNodesValue:n(e,"min_replicas"),autoScaleMaxNodesValue:n(e,"max_replicas"),canAutoScale:Ad(e,t.cluster.subscription.plan.type),canUseSpotInstances:Nd(e,t.cluster.subscription.plan.type),useSpotInstances:n(e,"spot_instances"),spotInstancePricing:n(e,"spot_instance_pricing"),spotInstanceMaxHourlyPrice:n(e,"spot_instance_max_hourly_price")||.01,initialValues:{name:"",nodes_compute:"0",node_labels:[{}],taints:[{effect:"NoSchedule"}]}}}),((e,t)=>({onSubmit:n=>{const r={id:n.name,instance_type:n.machine_type};if(n.autoscalingEnabled){const e=parseInt(n.min_replicas,10),a=parseInt(n.max_replicas,10),s=t.cluster.multi_az;r.autoscaling={min_replicas:s?3*e:e,max_replicas:s?3*a:a}}else r.replicas=parseInt(n.nodes_compute,10);const a=z(n.node_labels),s=n.taints.map((e=>e.key&&e.value&&e.effect&&{key:e.key,value:e.value,effect:e.effect})).filter(Boolean);P()(a)||(r.labels=z(n.node_labels)),s.length>0&&(r.taints=s),n.spot_instances&&(r.aws={spot_market_options:"maximum"===n.spot_instance_pricing&&void 0!==n.spot_instance_max_hourly_price?{max_price:n.spot_instance_max_hourly_price}:{}}),e((0,pd.HL)(t.cluster.id,r))},clearAddMachinePoolResponse:()=>e((0,pd.yc)()),closeModal:()=>e(Wt()),getOrganizationAndQuota:()=>e((0,d.nh)()),getMachineTypes:()=>e(ud())})))(zO),ZO=()=>a().createElement(Ur.bZ,{isInline:!0,variant:"warning",className:"error-box",title:"Your edits will only apply to new nodes"},"The edits you make in this dialog will only apply to new nodes. After saving, you can scale your nodes down briefly and then scale back up in order to replace the existing nodes with new nodes.");function BO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class GO extends r.Component{constructor(...e){super(...e),BO(this,"handleMachinePoolChange",((e,t)=>{var n;const{change:r,machinePoolsList:a}=this.props;r("taints",(null===(n=a.data.find((e=>e.id===t)))||void 0===n?void 0:n.taints)||[{effect:"NoSchedule"}])})),BO(this,"cancelEdit",(()=>{const{resetEditTaintsResponse:e,resetGetMachinePoolsResponse:t,closeModal:n,reset:r}=this.props;e(),t(),n(),r()}))}componentDidMount(){const{machinePoolsList:e,getMachinePools:t}=this.props;e.pending||t()}componentDidUpdate(){const{editTaintsResponse:e}=this.props;!e.fulfilled||e.pending||e.error||this.cancelEdit()}render(){const{machinePoolsList:e,handleSubmit:t,editTaintsResponse:n,pristine:r,selectedMachinePoolId:s}=this.props,l=n.error?a().createElement(Fr,{message:"Error editing taints",response:n}):null,{pending:i}=n;return a().createElement(H,{title:"Edit taints",onClose:this.cancelEdit,primaryText:"Save",onPrimaryClick:t,onSecondaryClick:this.cancelEdit,isPrimaryDisabled:i||r,isPending:i,modalSize:"medium"},a().createElement(a().Fragment,null,a().createElement(ZO,null),l,a().createElement(qr.l,{onSubmit:t},a().createElement(je.r,{hasGutter:!0},a().createElement(xe.P,{span:5},a().createElement(Ca.Z,{component:oa,name:"machinePoolId",label:"Machine pool",options:e.data.map((e=>({name:e.id,value:e.id}))),onChange:this.handleMachinePoolChange})),a().createElement(xe.P,{span:7}),a().createElement(xe.P,{span:12},a().createElement(TO.Z,{name:"taints",component:ws,isEditing:!0})),Cu(s,e)&&a().createElement(a().Fragment,null,a().createElement(xe.P,{span:12},a().createElement(Ru,null)))))))}}GO.propTypes={closeModal:l().func.isRequired,handleSubmit:l().func.isRequired,editTaintsResponse:l().object.isRequired,getMachinePools:l().func.isRequired,resetEditTaintsResponse:l().func.isRequired,resetGetMachinePoolsResponse:l().func.isRequired,machinePoolsList:l().object.isRequired,change:l().func.isRequired,reset:l().func.isRequired,pristine:l().bool.isRequired,selectedMachinePoolId:l().string.isRequired};const HO=GO,VO=(0,vc.Z)({form:"editTaints"})(HO),$O=(0,hu.Z)("editTaints"),QO=(0,i.connect)((e=>{var t,n,r;return{machinePoolsList:e.machinePools.getMachinePools,selectedMachinePoolId:$O(e,"machinePoolId")||(null===(t=e.modal.data.machinePool)||void 0===t?void 0:t.id),editTaintsResponse:e.machinePools.scaleMachinePoolResponse,initialValues:{taints:(null===(n=e.modal.data.machinePool)||void 0===n?void 0:n.taints)||[{effect:"NoSchedule"}],machinePoolId:null===(r=e.modal.data.machinePool)||void 0===r?void 0:r.id}}}),((e,t)=>({closeModal:()=>e(Wt()),getMachinePools:()=>e((0,pd.BE)(t.clusterId)),resetGetMachinePoolsResponse:()=>e((0,pd.__)(t.clusterId)),resetEditTaintsResponse:()=>e((0,pd.mL)(t.clusterId)),onSubmit:n=>{e((0,pd.WA)(t.clusterId,n.machinePoolId,{taints:n.taints}))}})))(VO),WO=e=>{const t=e.split("=");return 2===t.length&&""!==t[0]&&void 0===Es(t[0])&&void 0===fs(t[1])},YO=e=>e?Object.keys(e).map((t=>`${t}=${e[t]}`)):[],KO=e=>{const t={};return e.forEach((e=>{if(WO(e)){const n=e.split("="),r=n[0],a=n[1];t[r]=a}})),t},JO=e=>{if(e.some((e=>!WO(e))))return"Each label should be in the form of \"key=value\" and each key and value must consist of alphanumeric characters, ' -', '_' or '.', and must start and end with an alphanumeric character. A label value may be an empty string";const t=(e=>{const t={};let n=null;return e.forEach((e=>{const r=e.split("=")[0];t[r]?n=r:t[r]=!0})),n})(e);return t?`Each label should have a unique key. "${t}" already exists.`:void 0};function XO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class eC extends r.Component{constructor(...e){super(...e),XO(this,"handleMachinePoolChange",((e,t)=>{const{change:n,machinePoolsList:r}=this.props,a=r.data.find((e=>e.id===t));a&&n("labels",YO(a.labels))})),XO(this,"cancelEdit",(()=>{const{resetEditLabelsResponse:e,resetGetMachinePoolsResponse:t,closeModal:n,reset:r}=this.props;e(),t(),n(),r()}))}componentDidMount(){const{machinePoolsList:e,getMachinePools:t}=this.props;e.pending||t()}componentDidUpdate(){const{editLabelsResponse:e}=this.props;!e.fulfilled||e.pending||e.error||this.cancelEdit()}render(){const{machinePoolsList:e,handleSubmit:t,editLabelsResponse:n,pristine:r,invalid:s,tags:l,selectedMachinePoolId:i}=this.props,o=n.error?a().createElement(Fr,{message:"Error editing labels",response:n}):null,{pending:c}=n;return a().createElement(H,{title:"Edit labels",onClose:this.cancelEdit,primaryText:"Save",onPrimaryClick:t,onSecondaryClick:this.cancelEdit,isPrimaryDisabled:c||r||s,isPending:c,modalSize:"medium"},a().createElement(a().Fragment,null,a().createElement(ZO,null),o,a().createElement(qr.l,{onSubmit:t},a().createElement(je.r,{hasGutter:!0},a().createElement(xe.P,{span:5},a().createElement(Ca.Z,{component:oa,name:"machinePoolId",label:"Machine pool",options:e.data.map((e=>({name:e.id,value:e.id}))),onChange:this.handleMachinePoolChange})),a().createElement(xe.P,{span:7}),a().createElement(xe.P,{span:12},a().createElement("p",{className:"pf-u-mb-md"},"Labels help you organize and select resources. Adding labels below will let you query for objects that have similar, overlapping or dissimilar labels."),a().createElement(Ca.Z,{component:Ns,name:"labels",label:"Labels",tags:l,inputPlaceholder:"Add a label",validate:JO})),Cu(i,e)&&a().createElement(a().Fragment,null,a().createElement(xe.P,{span:7}),a().createElement(Op.Divider,null),a().createElement(xe.P,{span:7}),a().createElement(xe.P,{span:12},a().createElement(Ru,null)))))))}}eC.defaultProps={tags:[]},eC.propTypes={closeModal:l().func.isRequired,handleSubmit:l().func.isRequired,editLabelsResponse:l().object.isRequired,getMachinePools:l().func.isRequired,resetEditLabelsResponse:l().func.isRequired,resetGetMachinePoolsResponse:l().func.isRequired,machinePoolsList:l().object.isRequired,change:l().func.isRequired,reset:l().func.isRequired,pristine:l().bool.isRequired,invalid:l().bool.isRequired,tags:l().array,selectedMachinePoolId:l().string.isRequired};const tC=eC,nC=(0,vc.Z)({form:"editLabels"})(tC),rC=(0,hu.Z)("editLabels"),aC=(0,i.connect)((e=>{var t,n,r;const a=null===(t=e.modal.data.machinePool)||void 0===t?void 0:t.labels;return{machinePoolsList:e.machinePools.getMachinePools,editLabelsResponse:e.machinePools.scaleMachinePoolResponse,tags:rC(e,"labels")||YO(a),selectedMachinePoolId:rC(e,"machinePoolId")||(null===(n=e.modal.data.machinePool)||void 0===n?void 0:n.id),initialValues:{labels:YO(a),machinePoolId:null===(r=e.modal.data.machinePool)||void 0===r?void 0:r.id}}}),((e,t)=>({closeModal:()=>e(Wt()),getMachinePools:()=>e((0,pd.BE)(t.clusterId)),resetGetMachinePoolsResponse:()=>e((0,pd.__)(t.clusterId)),resetEditLabelsResponse:()=>e((0,pd.mL)(t.clusterId)),resetDefaultMachinePoolEditLabelsResponse:()=>e(Jn()),onSubmit:n=>e((0,pd.WA)(t.clusterId,n.machinePoolId,{labels:KO(n.labels)}))})))(nC);function sC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const lC={deletedRowIndex:null,openedRows:[]};class iC extends a().Component{constructor(...e){super(...e),sC(this,"state",lC),sC(this,"onCollapse",((e,t,n,r)=>{this.setState((0,wO.ZP)((e=>{n?e.openedRows.includes(r.machinePool.id)||e.openedRows.push(r.machinePool.id):e.openedRows=e.openedRows.filter((e=>e!==r.machinePool.id))})))}))}componentDidMount(){const{machinePoolsList:e,getMachinePools:t,getOrganizationAndQuota:n,machineTypes:r,getMachineTypes:a}=this.props;e.pending||t(),r.fulfilled||r.pending||a(),n()}componentDidUpdate(e){const{deleteMachinePoolResponse:t,addMachinePoolResponse:n,scaleMachinePoolResponse:r,getMachinePools:a,machinePoolsList:s,getOrganizationAndQuota:l}=this.props,{deletedRowIndex:i}=this.state;(t.fulfilled&&e.deleteMachinePoolResponse.pending||n.fulfilled&&e.addMachinePoolResponse.pending||r.fulfilled&&e.scaleMachinePoolResponse.pending)&&!s.pending&&(l(),a()),e.machinePoolsList.pending&&s.fulfilled&&null!==i&&this.setState((0,wO.ZP)((e=>{e.deletedRowIndex=null})))}componentWillUnmount(){const{clearGetMachinePoolsResponse:e}=this.props;e()}render(){var e;const{cluster:t,machinePoolsList:n,openModal:r,isAddMachinePoolModalOpen:s,isEditTaintsModalOpen:l,isEditLabelsModalOpen:i,deleteMachinePool:o,defaultMachinePool:c,deleteMachinePoolResponse:u,addMachinePoolResponse:d,hasMachinePoolsQuota:m}=this.props,{deletedRowIndex:h,openedRows:b}=this.state,E=!!n.data.length;if(E&&n.error)return a().createElement(g.ub,null,a().createElement(Fr,{message:"Error retrieving machine pools",response:n}));const f=[{title:"Machine pool",transforms:[(0,lt.cellWidth)(19)],cellFormatters:[lt.expandable]},{title:"Instance type",transforms:[(0,lt.cellWidth)(19)]},{title:"Availability zones",transforms:[(0,lt.cellWidth)(25)]},{title:"Node count",transforms:[(0,lt.cellWidth)(19)]},{title:"Autoscaling",transforms:[(0,lt.cellWidth)(19)]}],y=(e={},n)=>{var r;const s=e.autoscaling;let l;if(s){const n=`Min: ${e.autoscaling.min_replicas}, Max: ${e.autoscaling.max_replicas}`;l=t.multi_az?a().createElement(a().Fragment,null,a().createElement(Wr.J2,{bodyContent:"Minimum and maximum node totals are calculated based on the number of zones.","aria-label":"help"},a().createElement(p.Button,{className:"nodes-count",variant:"link"},n))):n}else l=`${e.desired||e.replicas}`;const i={cells:[e.id,{title:a().createElement(a().Fragment,null,e.instance_type,e.aws&&a().createElement(Pp.Label,{variant:"outline",className:"ocm-c-machine-pools__spot-label"},"Spot"))},null===(r=e.availability_zones)||void 0===r?void 0:r.join(", "),{title:l},s?"Enabled":"Disabled"],key:e.id,machinePool:e};return n&&(i.isOpen=b.includes(e.id)),i},v=(e={},n)=>{const{labels:r,taints:s}=e,l=P()(r)?[]:Object.keys(r),i=l.length?l.map((e=>a().createElement(a().Fragment,{key:`laebl-${e}`},a().createElement(Pp.Label,{color:"blue"},`${[e]} = ${r[e]}`)," "))):null,o=null==s?void 0:s.map((e=>a().createElement(a().Fragment,{key:`taint-${e.key}`},a().createElement(Pp.Label,{color:"blue"},`${e.key} = ${e.value}:${e.effect}`)," "))),c=e.autoscaling&&a().createElement(a().Fragment,null,a().createElement(R.Title,{headingLevel:"h4",className:"pf-u-mb-sm pf-u-mt-lg"},"Autoscaling"),a().createElement(O.P,{hasGutter:!0},a().createElement(C.J,null,a().createElement(R.Title,{headingLevel:"h4",className:"autoscale__lim"},"Min nodes "+(t.multi_az?"per zone":"")),t.multi_az?e.autoscaling.min_replicas/3:e.autoscaling.min_replicas),a().createElement(C.J,null,a().createElement(R.Title,{headingLevel:"h4",className:"autoscale__lim"},"Max nodes "+(t.multi_az?"per zone":"")),t.multi_az?e.autoscaling.max_replicas/3:e.autoscaling.max_replicas)));return{parent:n,fullWidth:!0,cells:[{title:a().createElement(a().Fragment,null,i&&a().createElement(a().Fragment,null,a().createElement(R.Title,{headingLevel:"h4",className:"pf-u-mb-sm"},"Labels"),i),o&&a().createElement(a().Fragment,null,a().createElement(R.Title,{headingLevel:"h4",className:zg()("pf-u-mb-sm",i&&"pf-u-mt-lg")},"Taints"),o),c)}],key:`${e.id}-child`}},S=(e={})=>{var t;return!P()(e.labels)||(null===(t=e.taints)||void 0===t?void 0:t.length)>0||e.autoscaling},w=S(c),T=[y(c,w)];w&&T.push(v(c,0)),n.data.forEach((e=>{const t=S(e),n=y(e,t);if(T.push(n),t){const t=v(e,T.length-1);T.push(t)}}));const D=(e,t,n)=>{this.setState((0,wO.ZP)((e=>{e.deletedRowIndex=t,e.openedRows=e.openedRows.filter((e=>e!==n.machinePool.id))}))),o(n.machinePool.id)},_=(e,n,a)=>r(ft,{machinePool:a.machinePool,isDefaultMachinePool:"Default"===a.machinePool.id,cluster:t}),I=(e,t,n)=>r(Dt,{machinePool:n.machinePool}),A=(e,t,n)=>r(_t,{machinePool:n.machinePool}),N=!E&&n.pending,L={cells:[{props:{colSpan:4},title:a().createElement(At.Z,{size:"lg"})}]};var M;E&&(n.pending||d.pending)&&null===h&&T.push(L),E&&null!==h&&(null!==(M=T[h+1])&&void 0!==M&&M.parent&&T.splice(h+1,1),T[h]=L);const k="read_only"===(null==t||null===(e=t.status)||void 0===e?void 0:e.configuration_mode)&&"This operation is not available during maintenance",x=Oo(t.state)&&"This operation is not available while cluster is hibernating",q=!t.canEdit&&"You do not have permission to add a machine pool. Only cluster owners, cluster editors, and organization administrators can add machine pools.",U=!m&&j,z=a().createElement(um,{disableReason:k||x||q||U,id:"add-machine-pool",onClick:()=>r("add-machine-pool"),variant:"secondary",className:"pf-u-mb-lg"},"Add machine pool"),F=!!(k||x||q);return a().createElement(a().Fragment,null,N?a().createElement(ke.Card,null,a().createElement(Le.l,null,a().createElement(At.Z,{size:"lg"})),a().createElement(Me.e,null,a().createElement(At.Z,{size:"lg"})),a().createElement(Er.e,null,a().createElement(At.Z,{size:"lg"}))):a().createElement(ke.Card,{className:"ocm-c-machine-pools__card"},a().createElement(Me.e,{className:"ocm-c-machine-pools__card--body"},n.error&&a().createElement(Fr,{message:"Error retrieving machine pools",response:n}),z,a().createElement(Op.Divider,null),u.error&&a().createElement(Fr,{message:"Error deleting machine pool",response:n}),a().createElement(lt.Table,{"aria-label":"Machine pools",cells:f,rows:T,onCollapse:this.onCollapse,actionResolver:e=>((e,t,n,r,a)=>{var s;if(!e.machinePool)return[];const l=[{title:"Edit labels",onClick:a,className:"hand-pointer"},{title:"Edit taints",onClick:r,className:"hand-pointer"},{title:"Delete",onClick:t,className:"hand-pointer"}];return[{title:"Scale",onClick:n,className:"hand-pointer"},..."Default"!==(null===(s=e.machinePool)||void 0===s?void 0:s.id)?l:[]]})(e,D,_,I,A),areActionsDisabled:()=>F},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null)))),s&&a().createElement(FO,{cluster:t}),l&&a().createElement(QO,{clusterId:t.id}),i&&a().createElement(aC,{clusterId:t.id}))}}const oC=e=>e.desired||e.autoscaling?null:new Error('One of props "desired" or "autoscaling" was not specified in MachinePools.');iC.propTypes={cluster:l().object.isRequired,openModal:l().func.isRequired,hasMachinePoolsQuota:l().bool.isRequired,isAddMachinePoolModalOpen:l().bool.isRequired,isEditTaintsModalOpen:l().bool.isRequired,isEditLabelsModalOpen:l().bool.isRequired,deleteMachinePoolResponse:l().object.isRequired,addMachinePoolResponse:l().object.isRequired,scaleMachinePoolResponse:l().object.isRequired,machinePoolsList:l().object.isRequired,defaultMachinePool:l().shape({id:l().string.isRequired,instance_type:l().string.isRequired,availability_zones:l().array.isRequired,desired:oC,autoscaling:oC,labels:l().objectOf(l().string)}).isRequired,getMachinePools:l().func.isRequired,deleteMachinePool:l().func.isRequired,clearGetMachinePoolsResponse:l().func.isRequired,getOrganizationAndQuota:l().func.isRequired,getMachineTypes:l().func.isRequired,machineTypes:l().object.isRequired};const cC=iC;function uC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pC=(0,i.connect)((e=>{var t;const n=T()(e,"clusters.details.cluster",{}),r=T()(n,"nodes",{}),a={id:"Default",instance_type:null===(t=r.compute_machine_type)||void 0===t?void 0:t.id,availability_zones:r.availability_zones,labels:r.compute_labels};return r.autoscale_compute?a.autoscaling=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uC(Object(n),!0).forEach((function(t){dC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.autoscale_compute):a.desired=r.compute,{isAddMachinePoolModalOpen:ze(e,"add-machine-pool"),isEditTaintsModalOpen:ze(e,Dt),isEditLabelsModalOpen:ze(e,_t),defaultMachinePool:a,machinePoolsList:e.machinePools.getMachinePools,addMachinePoolResponse:e.machinePools.addMachinePoolResponse,deleteMachinePoolResponse:e.machinePools.deleteMachinePoolResponse,scaleMachinePoolResponse:e.machinePools.scaleMachinePoolResponse,hasMachinePoolsQuota:Dd(e),machineTypes:e.machineTypes,organization:e.userProfile.organization}}),((e,t)=>({openModal:(t,n)=>e(Qt(t,n)),closeModal:()=>e(Wt()),getMachinePools:()=>e((0,pd.BE)(t.cluster.id)),addMachinePool:()=>e((0,pd.HL)(t.clusterID)),clearGetMachinePoolsResponse:()=>e((0,pd.__)(t.clusterID)),submit:n=>{e((0,pd.HL)(t.clusterID,n))},deleteMachinePool:n=>e((0,pd.b_)(t.cluster.id,n)),getOrganizationAndQuota:()=>e((0,d.nh)()),getMachineTypes:()=>e(ud())})))(cC);class mC extends a().Component{componentDidUpdate(){const{deletedIDPResponse:e}=this.props;e.fulfilled&&this.closeDialog(!0)}closeDialog(e){const{clearDeleteIDPResponse:t,close:n,refreshParent:r}=this.props;t(),n(),e&&r()}render(){const{isOpen:e,modalData:t,deleteIDP:n,deletedIDPResponse:r}=this.props,{clusterID:s,idpID:l,idpName:i,idpType:o}=t,c=r.error&&a().createElement(Fr,{message:"Error removing identity provider",response:r}),u=r.pending,d=()=>this.closeDialog(!1);return e&&a().createElement(H,{onClose:d,primaryText:"Remove",primaryVariant:"danger",onPrimaryClick:()=>n(s,l),onSecondaryClick:d,title:"Remove identity provider",isPending:u},c,a().createElement("p",null,"You're about to remove the"," ",a().createElement("b",null,o)," ","identity provider"," ",a().createElement("b",null,'"',i,'"')," ","from this cluster."),a().createElement("p",null,"You may lose access to this cluster if you remove this identity provider. At least one identity provider is required to access the cluster."))}}mC.propTypes={isOpen:l().bool.isRequired,modalData:l().object,clearDeleteIDPResponse:l().func.isRequired,close:l().func.isRequired,deleteIDP:l().func.isRequired,deletedIDPResponse:l().object,refreshParent:l().func};const hC=mC,gC={clearDeleteIDPResponse:()=>e=>e({type:Ry.pn.RESET_DELETED_IDP_RESPONSE}),deleteIDP:(e,t)=>((e,t)=>n=>n({type:Ry.pn.DELETE_IDENTITY_PROVIDER,payload:xt.le.deleteIdentityProvider(e,t)}))(e,t),close:()=>Wt()},bC=(0,i.connect)((e=>({isOpen:ze(e,"delete-idp"),modalData:e.modal.data,deletedIDPResponse:e.identityProviders.deletedIDP})),gC)(hC);class EC extends a().Component{constructor(...e){var t,n;super(...e),n={error:null,componentStack:null},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidCatch(e,t){this.setState({error:e.toString(),componentStack:t.componentStack}),Q.$e((n=>{n.setExtras(t),Q.Tb(e)}))}render(){const{error:e,componentStack:t}=this.state;if(e)return a().createElement(g.ub,null,a().createElement(Ur.bZ,{variant:"danger",isInline:!0,title:"Something went wrong"},a().createElement("div",{style:{whiteSpace:"pre-wrap",textAlign:"left",fontFamily:"monospace"}},e,t)));const{children:n}=this.props;return n}}EC.propTypes={children:l().node.isRequired};const fC=EC;function yC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class vC extends a().Component{constructor(...e){super(...e),yC(this,"close",(()=>{const{clearDeleteScheduleResponse:e,closeModal:t}=this.props;e(),t()})),yC(this,"deleteSchedule",(()=>{const{schedule:e,deleteSchedule:t}=this.props;t(e.cluster_id,e.id)}))}componentDidUpdate(){const{deleteScheduleRequest:e}=this.props;e.fulfilled&&this.close()}render(){const{isOpen:e,deleteScheduleRequest:t,schedule:n}=this.props,r=t.error?a().createElement(Fr,{message:"Error cancelling update",response:t}):null;return e&&a().createElement(H,{title:"Cancel update",onClose:this.close,primaryText:"Cancel this update",secondaryText:"Close",onPrimaryClick:this.deleteSchedule,isPending:t.pending,onSecondaryClick:this.close},a().createElement(a().Fragment,null,r,a().createElement(qr.l,{onSubmit:this.deleteSchedule},a().createElement("p",null,"This update to version"," ",n.version," ","is scheduled for"," ",a().createElement(zd.Z,{type:"exact",date:Date.parse(n.next_run)}),"."," "))))}}vC.propTypes={isOpen:l().bool,closeModal:l().func.isRequired,deleteSchedule:l().func.isRequired,deleteScheduleRequest:l().object,schedule:l().shape({id:l().string,cluster_id:l().string,next_run:l().string,version:l().string}),clearDeleteScheduleResponse:l().func.isRequired};const OC=vC,CC={deleteSchedule:zn.wn,clearDeleteScheduleResponse:zn.Yy,closeModal:Wt},RC=(0,i.connect)((e=>({isOpen:ze(e,"cancel-upgrade"),schedule:e.modal.data.schedule,deleteScheduleRequest:e.clusterUpgrades.deleteScheduleRequest})),CC)(OC);function SC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const PC={selectedRole:"",arn:"",arnTouched:!1};class wC extends r.Component{constructor(...e){super(...e),SC(this,"state",PC),SC(this,"setArnValue",(e=>{this.setState({arn:e,arnTouched:!0})})),SC(this,"setRoleValue",((e,t)=>{this.setState({selectedRole:t.target.value})}))}componentDidUpdate(e){const{selectedRole:t}=this.state,{roles:n}=this.props;!t&&n.length&&this.setState({selectedRole:n[0].id});const{addGrantResponse:r,clearAddGrantResponse:a,closeModal:s}=this.props;!e.addGrantResponse.fulfilled&&r.fulfilled&&(s(),a(),this.setState(PC))}render(){const{isOpen:e,closeModal:t,submit:n,addGrantResponse:r,clearAddGrantResponse:s,roles:l}=this.props,{selectedRole:i,arn:o,arnTouched:c}=this.state,u=()=>{s(),t()},d=r.error&&a().createElement(Fr,{message:"Error adding grant",response:r}),p=(m=o)?ja.test(m)?void 0:"ARN value should be in the format arn:aws:iam::123456789012:user/name.":"Field is required";var m;const h=()=>{!p&&i&&n(i,o)},g=e=>a().createElement(fa.Radio,{className:"radio-button",key:e.id,isChecked:i===e.id,name:e.id,onChange:this.setRoleValue,label:a().createElement(a().Fragment,null,e.displayName,a().createElement("div",{className:"radio-helptext"},e.description)),id:e.id,value:e.id});return e&&a().createElement(H,{title:"Grant AWS infrastructure role",onClose:u,primaryText:"Grant role",secondaryText:"Cancel",onPrimaryClick:h,onSecondaryClick:u,isPrimaryDisabled:!!p||r.pending,isPending:r.pending},a().createElement(a().Fragment,null,d,a().createElement(qr.l,{className:"control-form-cursor",onSubmit:e=>{h(),e.preventDefault()}},a().createElement(Gr.c,{helperTextInvalid:p,validated:c&&p?"error":"default",label:"AWS IAM ARN",isRequired:!0,fieldId:"aws-iam-arn",labelIcon:a().createElement(Xr,{hint:a().createElement("div",null,a().createElement("p",null,"Need help configuring ARNs?"),a().createElement("a",{href:"https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html",target:"_blank",rel:"noreferrer noopener"},"Check the AWS documention.")),iconClassName:"hand-pointer"})},a().createElement(ca.TextInput,{value:o,isRequired:!0,id:"aws-iam-arn-input",type:"text",validated:c&&p?"error":"default",placeholder:"arn:aws:iam::123456789012:user/name",onChange:this.setArnValue,"aria-label":"AWS IAM ARN"})),a().createElement("h3",{id:"grant-role-select"},"Role"),l.map((e=>g(e))))))}}wC.propTypes={roles:l().array.isRequired,closeModal:l().func.isRequired,submit:l().func.isRequired,clearAddGrantResponse:l().func.isRequired,addGrantResponse:l().object,isOpen:l().bool},wC.defaultProps={addGrantResponse:{},isOpen:!1};const TC=wC,DC=(0,i.connect)((e=>({isOpen:ze(e,"grant-modal"),addGrantResponse:e.networkSelfService.addGrantResponse,roles:e.networkSelfService.roles.data})),((e,t)=>({closeModal:()=>e(Wt()),clearAddGrantResponse:()=>e(pv()),submit:(n,r)=>{e(dv(t.clusterID,n,r))}})))(TC);var _C=n(61232);class IC extends a().Component{componentDidMount(){const{subscriptionID:e,notificationContacts:t,getNotificationContacts:n}=this.props;t.subscriptionID===e&&t.pending||n(e)}componentDidUpdate(e){const{subscriptionID:t,notificationContacts:n,deleteContactResponse:r,addContactResponse:a,getNotificationContacts:s,clearDeleteNotificationContacts:l,addNotificationToaster:i}=this.props;a.fulfilled&&e.addContactResponse.pending&&i({variant:"success",title:1===a.count?"Notification contact added successfully":`${a.count} notification contacts added successfully`,dismissDelay:8e3,dismissable:!1}),(r.fulfilled&&e.deleteContactResponse.pending||a.fulfilled&&e.addContactResponse.pending)&&!n.pending&&(l(),s(t))}componentWillUnmount(){const{clearNotificationContacts:e}=this.props;e()}render(){const{subscriptionID:e,isDisabled:t,hasContacts:n,notificationContacts:r,deleteContactResponse:s,deleteNotificationContact:l,clearDeleteNotificationContacts:i}=this.props;if(!n)return null;const o=[{title:"Delete",onClick:(t,n,r)=>{i(),l(e,r.userID)},className:"hand-pointer"}],c=n?r.contacts.map((e=>({cells:[e.username,e.email,e.firstName,e.lastName],userID:e.userID}))):[];return a().createElement(a().Fragment,null,s.error&&a().createElement(g.ub,null,a().createElement(Fr,{message:"Error deleting Notification Contact",response:s})),a().createElement(lt.Table,{"aria-label":"Notification Contacts",actions:o,variant:lt.TableVariant.compact,cells:[{title:"Username"},{title:"Email"},{title:"First Name"},{title:"Last Name"}],rows:c,areActionsDisabled:()=>t},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null)))}}IC.propTypes={subscriptionID:l().string.isRequired,isDisabled:l().bool.isRequired,notificationContacts:l().object.isRequired,deleteContactResponse:l().object.isRequired,addContactResponse:l().object.isRequired,getNotificationContacts:l().func.isRequired,hasContacts:l().bool.isRequired,deleteNotificationContact:l().func.isRequired,clearDeleteNotificationContacts:l().func.isRequired,clearNotificationContacts:l().func.isRequired,addNotificationToaster:l().func.isRequired};const AC=IC,NC=(0,i.connect)((e=>{var t;const{cluster:n}=e.clusters.details,{notificationContacts:r={contacts:[],pending:!1,subscriptionID:""},deleteContactResponse:a,addContactResponse:s}=e.clusterSupport;return{subscriptionID:null===(t=n.subscription)||void 0===t?void 0:t.id,canEdit:n.canEdit,hasContacts:r.contacts.length>0,notificationContacts:r,addContactResponse:s,deleteContactResponse:a}}),(e=>({clearNotificationContacts:()=>e(_C.Z.clearNotificationContacts()),clearDeleteNotificationContacts:()=>e(_C.Z.clearDeleteNotificationContacts()),getNotificationContacts:t=>e(_C.Z.getNotificationContacts(t)),deleteNotificationContact:(t,n)=>e(_C.Z.deleteNotificationContact(t,n)),addNotification:t=>e((0,Xg.wN)(t))})))(AC);class LC extends a().Component{componentDidMount(){const{subscriptionID:e,supportCases:t,getSupportCases:n}=this.props;t.subscriptionID===e&&t.pending||n(e)}render(){const{supportCases:e,clusterUUID:t,product:n,isDisabled:r=!1}=this.props,s=`https://access.redhat.com/support/cases/#/case/new?clusterId=${t}&caseCreate=true`,l=e.cases.map((e=>{const t=`https://access.redhat.com/support/cases/#/case/${e.caseID}`,n=a().createElement(a().Fragment,null,a().createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},e.caseID)),r=sn().utc(e.lastModifiedDate).format("D MMM YYYY"),s=a().createElement(a().Fragment,null,e.lastModifiedBy,a().createElement("br",null),r);return{cells:[n,e.summary,e.ownerID,s,e.severity,e.status],caseID:e.caseID}})),i=l.length>0,o=n!==ee.Po.OSDTrial&&!r;return a().createElement(a().Fragment,null,o&&a().createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"},a().createElement(p.Button,{variant:"secondary"},"Open support case")),a().createElement(lt.Table,{"aria-label":"Support Cases",variant:lt.TableVariant.compact,cells:[{title:"Case ID"},{title:"Issue summary"},{title:"Owner"},{title:"Modified by"},{title:"Severity"},{title:"Status"}],rows:l},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null)),!i&&a().createElement(g.ub,{variant:g.IQ.small},a().createElement(b.B,null,"You have no open support cases")))}}LC.propTypes={subscriptionID:l().string.isRequired,clusterUUID:l().string.isRequired,product:l().string.isRequired,supportCases:l().object.isRequired,getSupportCases:l().func.isRequired,isDisabled:l().bool};const MC=LC,kC=(0,i.connect)((e=>{var t,n;const{cluster:r}=e.clusters.details,{supportCases:a={cases:[],pending:!1,subscriptionID:""}}=e.clusterSupport;return{subscriptionID:null===(t=r.subscription)||void 0===t?void 0:t.id,clusterUUID:r.external_id,product:null===(n=r.product)||void 0===n?void 0:n.id,supportCases:a}}),(e=>({getSupportCases:t=>e(_C.Z.getSupportCases(t))})))(MC),jC=({canEdit:e,openModal:t})=>a().createElement(um,{disableReason:e?null:"You do not have permission to add a Notification Contact. Only cluster owners, cluster editors, and organization administrators can add them.",onClick:()=>t("add-notification-contact"),variant:"secondary",className:"access-control-add"},"Add notification contact");jC.propTypes={canEdit:l().bool.isRequired,openModal:l().func.isRequired};const xC=jC,qC=({clusterCreator:e,subscriptionID:t,canEdit:n,openModal:r,notificationContacts:s,deleteContactResponse:l,addContactResponse:i,getNotificationContacts:o,hasContacts:c,deleteNotificationContact:u,clearDeleteNotificationContacts:d,clearNotificationContacts:p,addNotificationToaster:m,supportCases:h,getSupportCases:g,isDisabled:b=!1})=>a().createElement(a().Fragment,null,a().createElement(ke.Card,{className:"ocm-c-support-notification-contacts__card"},a().createElement(Le.l,{className:"ocm-c-support-notification-contacts__card--header"},a().createElement(R.Title,{headingLevel:"h2",className:"card-title"},"Notification contacts"),a().createElement("div",{className:"support-subtitle"},"Add users to be contacted in the event of notifications about this cluster.",(e=>{const t=null==e?void 0:e.email;return t?a().createElement(a().Fragment,null,a().createElement("br",null),"The cluster owner will always receive notifications, at email address <",t,"> , in addition to this list of notification contacts."):null})(e))),a().createElement(Me.e,{className:"ocm-c-support-notification-contacts__card--body"},!b&&a().createElement(xC,{canEdit:n,openModal:r}),a().createElement(NC,{subscriptionID:t,isDisabled:!n||b,notificationContacts:s,deleteContactResponse:l,addContactResponse:i,getNotificationContacts:o,hasContacts:c,deleteNotificationContact:u,clearDeleteNotificationContacts:d,clearNotificationContacts:p,addNotificationToaster:m}))),a().createElement(ke.Card,{className:"ocm-c-support-support-cases__card"},a().createElement(Le.l,{className:"ocm-c-support-support-cases__card--header"},a().createElement(R.Title,{headingLevel:"h2",className:"card-title"},"Support cases")),a().createElement(Me.e,{className:"ocm-c-support-support-cases__card--body"},a().createElement(kC,{subscriptionID:t,supportCases:h,getSupportCases:g,isDisabled:b}))));qC.propTypes={subscriptionID:l().string.isRequired,canEdit:l().bool.isRequired,clusterCreator:l().object.isRequired,notificationContacts:l().object.isRequired,deleteContactResponse:l().object.isRequired,addContactResponse:l().object.isRequired,getNotificationContacts:l().func.isRequired,hasContacts:l().bool.isRequired,deleteNotificationContact:l().func.isRequired,clearDeleteNotificationContacts:l().func.isRequired,clearNotificationContacts:l().func.isRequired,addNotificationToaster:l().func.isRequired,openModal:l().func.isRequired,supportCases:l().object.isRequired,getSupportCases:l().func.isRequired,isDisabled:l().bool};const UC=qC,zC=(0,i.connect)((e=>{var t,n;const{cluster:r}=e.clusters.details,{notificationContacts:a={contacts:[],pending:!1,subscriptionID:""},supportCases:s={cases:[],pending:!1,subscriptionID:""},deleteContactResponse:l,addContactResponse:i}=e.clusterSupport;return{clusterCreator:null===(t=r.subscription)||void 0===t?void 0:t.creator,subscriptionID:null===(n=r.subscription)||void 0===n?void 0:n.id,canEdit:r.canEdit,hasContacts:a.contacts.length>0,notificationContacts:a,addContactResponse:i,deleteContactResponse:l,isAddNotificationContactModalOpen:ze(e,"add-notification-contact"),supportCases:s}}),(e=>({clearNotificationContacts:()=>e(_C.Z.clearNotificationContacts()),clearDeleteNotificationContacts:()=>e(_C.Z.clearDeleteNotificationContacts()),getNotificationContacts:t=>e(_C.Z.getNotificationContacts(t)),deleteNotificationContact:(t,n)=>e(_C.Z.deleteNotificationContact(t,n)),openModal:t=>e(Qt(t)),addNotificationContact:(t,n)=>e(_C.Z.addNotificationContact(t,n)),addNotificationToaster:t=>e((0,Xg.wN)(t)),getSupportCases:t=>e(_C.Z.getSupportCases(t))})))(UC);function FC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ZC={userName:"",userNameTouched:!1};class BC extends r.Component{constructor(...e){super(...e),FC(this,"state",ZC),FC(this,"onUpdate",(e=>this.setState(e))),FC(this,"setUserNameValue",(e=>{this.onUpdate({userName:e,userNameTouched:!0})})),FC(this,"cancelAddUser",(()=>{const{clearAddNotificationContacts:e,closeModal:t}=this.props;this.onUpdate(ZC),e(),t()}))}componentDidUpdate(){const{addContactResponse:e,clearAddNotificationContacts:t,closeModal:n}=this.props;e.fulfilled&&(n(),t(),this.onUpdate(ZC))}render(){const{isAddNotificationContactModalOpen:e,addNotificationContact:t,addContactResponse:n,subscriptionID:r}=this.props,{userName:s,userNameTouched:l}=this.state;if(!e)return null;const i=l?es(s):n.errorMessage,o=()=>{i||(this.onUpdate({userNameTouched:!1}),t(r,s))};return a().createElement(H,{title:"Add notification contact",onClose:this.cancelAddUser,primaryText:"Add contact",secondaryText:"Cancel",onPrimaryClick:o,onSecondaryClick:this.cancelAddUser,isPrimaryDisabled:!!i||n.pending||""===s,isPending:n.pending},a().createElement("p",{className:"pf-u-mb-xl"},"Identify the user to be added as notification contact. These users will be contacted in the event of notifications about this cluster."),a().createElement(qr.l,{className:"control-form-cursor",onSubmit:e=>{o(),e.preventDefault()}},a().createElement(Gr.c,{helperTextInvalid:i,validated:i?"error":"default",label:"Red Hat username or email",isRequired:!0,fieldId:"username"},a().createElement(ca.TextInput,{value:s,isRequired:!0,id:"username",type:"text",validated:i?"error":"default",onChange:this.setUserNameValue,"aria-label":"user name"}))))}}BC.propTypes={isAddNotificationContactModalOpen:l().bool,closeModal:l().func.isRequired,clearAddNotificationContacts:l().func.isRequired,addContactResponse:l().object,addNotificationContact:l().func.isRequired,subscriptionID:l().string.isRequired};const GC=BC,HC=(0,i.connect)((e=>{var t;const{cluster:n}=e.clusters.details,{addContactResponse:r}=e.clusterSupport;return{subscriptionID:null===(t=n.subscription)||void 0===t?void 0:t.id,isAddNotificationContactModalOpen:ze(e,"add-notification-contact"),addContactResponse:r}}),(e=>({closeModal:()=>e(Wt()),clearAddNotificationContacts:()=>e(_C.Z.clearAddNotificationContacts()),addNotificationContact:(t,n)=>e(_C.Z.addNotificationContact(t,n))})))(GC),VC=e=>{const t=e.split(" "),n=["SUN","MON","TUE","WED","THU","FRI","SAT"];let r=t[t.length-1];return n.includes(r)&&(r=n.indexOf(r)),[t[1],r]};function $C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const QC=/00? [0-9][0-9]? \* \* ([0-6]|SUN|MON|TUE|WED|THU|FRI|SAT)/i;class WC extends a().Component{constructor(...e){super(...e),$C(this,"state",{daySelectOpen:!1,timeSelectOpen:!1}),$C(this,"toggleDaySelect",(e=>{this.setState({daySelectOpen:e})})),$C(this,"toggleHourSelect",(e=>{this.setState({timeSelectOpen:e})})),$C(this,"onDaySelect",((e,t)=>{const{input:n}=this.props,r=this.parseCurrentValue()[0];n.onChange(`00 ${r} * * ${t}`),this.setState({daySelectOpen:!1})})),$C(this,"onHourSelect",((e,t)=>{const{input:n}=this.props,r=this.parseCurrentValue()[1];n.onChange(`00 ${t} * * ${r}`),this.setState({timeSelectOpen:!1})}))}parseCurrentValue(){const{input:e}=this.props;return e.value?VC(e.value):["",""]}render(){const{daySelectOpen:e,timeSelectOpen:t}=this.state,{isDisabled:n,input:r}=this.props;if(r.value&&!QC.test(r.value))return a().createElement(Gr.c,{label:"Preferred day and start time",className:"ocm-upgrade-schedule-selection"},"This cluster has a custom schedule which can not be modified from this page."," ","Use the API to set the schedule, or"," ",a().createElement(p.Button,{variant:"link",isInline:!0,onClick:()=>r.onChange("")},"reset the schedule"),".");const[s,l]=this.parseCurrentValue();return a().createElement(Gr.c,{label:"Preferred day and start time",className:"ocm-upgrade-schedule-selection"},a().createElement(je.r,{hasGutter:!0},a().createElement(xe.P,{sm:6,md:4},a().createElement(gd.Select,{isOpen:e,selections:l,onToggle:this.toggleDaySelect,onSelect:this.onDaySelect,isDisabled:n},a().createElement(Ed.SelectOption,{isPlaceholder:!0,isDisabled:!0,value:""},"Select day"),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(((e,t)=>a().createElement(Ed.SelectOption,{key:e,value:t.toString()},e))))),a().createElement(xe.P,{sm:6,md:4},a().createElement(gd.Select,{isOpen:t,selections:s,onToggle:this.toggleHourSelect,onSelect:this.onHourSelect,isDisabled:n},a().createElement(Ed.SelectOption,{isPlaceholder:!0,isDisabled:!0,value:""},"Select hour"),(()=>{const e=[];for(let t=0;t<24;t+=1){const n=`${t.toString().padStart(2,0)}:00`;e.push(a().createElement(Ed.SelectOption,{key:n,value:t.toString()},n," ","UTC"))}return e})()))))}}WC.propTypes={input:l().shape({value:l().string,onChange:l().func.isRequired}).isRequired,isDisabled:l().bool};const YC=WC;function KC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class JC extends a().Component{constructor(...e){super(...e),KC(this,"state",{isOpen:!1}),KC(this,"onToggle",(e=>{this.setState({isOpen:e})})),KC(this,"onSelect",((e,t)=>{const{input:n}=this.props;this.setState({isOpen:!1}),n.onChange(t)}))}render(){const{isOpen:e}=this.state,{input:t,isDisabled:n}=this.props;return a().createElement(Gr.c,{label:"Grace period",className:"ocm-c-upgrades-pdb-select"},a().createElement(gd.Select,{isOpen:e,selections:t.value,onToggle:this.onToggle,onSelect:this.onSelect,isDisabled:n,direction:"up"},a().createElement(Ed.SelectOption,{value:15},"15 minutes"),a().createElement(Ed.SelectOption,{value:30},"30 minutes"),a().createElement(Ed.SelectOption,{value:60},"1 hour"),a().createElement(Ed.SelectOption,{value:120},"2 hours"),a().createElement(Ed.SelectOption,{value:240},"4 hours"),a().createElement(Ed.SelectOption,{value:480},"8 hours")))}}JC.propTypes={isDisabled:l().bool,input:l().shape({value:l().number,onChange:l().func})};const XC=JC;function eR({isDisabled:e,isAutomatic:t,showDivider:n,change:r,initialSceduleValue:s,isWizard:l}){return a().createElement(a().Fragment,null,a().createElement(xe.P,{span:12,className:"ocm-c-upgrade-policy-radios"},a().createElement(Ca.Z,{component:LO,name:"upgrade_policy",isDisabled:e,onChange:(e,t)=>{r&&"manual"===t&&r("automatic_upgrade_schedule",s)},options:[{value:"automatic",label:"Automatic",description:"Clusters will be automatically updated based on your defined day and start time when new versions are available",extraField:t&&a().createElement(Ca.Z,{component:YC,name:"automatic_upgrade_schedule",isDisabled:e})},{value:"manual",label:"Manual",description:a().createElement(a().Fragment,null,"You are responsible for updating your cluster."," ","Note that if your cluster version falls more than 1 minor version behind"," ","the latest available, it will have SRE alerting disabled and will be unsupported until it's upgraded. See the"," ",a().createElement(Rr,{href:"https://access.redhat.com/support/policy/updates/openshift/dedicated"},"version support information"),".",a().createElement("p",null,"Note: High and Critical security concerns (CVEs) will be automatically"," ","updated to the latest z-stream version not impacted by the CVE."))}],defaultValue:"manual",disableDefaultValueHandling:l})),n&&a().createElement(Op.Divider,null),a().createElement(xe.P,{span:12},a().createElement(R.Title,{headingLevel:"h4",className:"ocm-c-upgrade-node-draining-title"},"Node draining"),"You may set a grace period for how long Pod Disruption Budget-protected workloads will"," ","be respected during updates. After this grace period, any workloads protected by"," ","Pod Disruption Budgets that have not been successfully drained from a node will be"," ","forcibly evicted.",a().createElement(Ca.Z,{name:"node_drain_grace_period",component:XC,isDisabled:e})))}eR.propTypes={isAutomatic:l().bool,isDisabled:l().bool,showDivider:l().bool,change:l().func,initialSceduleValue:l().string,isWizard:l().bool};const tR=eR;function nR({parent:e,disableUVM:t}){const n=a().createElement(R.Title,{headingLevel:"h3",className:"enableuwm"}," Monitoring ");return a().createElement(a().Fragment,null,"create"===e?a().createElement(xe.P,{span:12},n):n,a().createElement(Gr.c,{fieldId:"enable_user_workload_monitoring",id:"enable_user_workload_monitoring"},a().createElement(Ca.Z,{component:na,name:"enable_user_workload_monitoring",label:"Enable user workload monitoring",isDisabled:t,extendedHelpText:a().createElement(a().Fragment,null,Hu," ",a().createElement(Rr,{href:"https://docs.openshift.com/rosa/monitoring/osd-understanding-the-monitoring-stack.html"},"Learn more"))}),a().createElement("div",{className:"ocm-c--reduxcheckbox-description"},Gu)))}nR.propTypes={parent:l().string,disableUVM:l().bool};const rR=nR;function aR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class sR extends a().Component{constructor(...e){super(...e),aR(this,"state",{confirmationModalOpen:!1}),aR(this,"closeConfirmationModal",(()=>{this.setState({confirmationModalOpen:!1})})),aR(this,"closeConfirmationModalAndReset",(()=>{const{reset:e}=this.props;this.closeConfirmationModal(),e()}))}componentDidMount(){const{getSchedules:e,cluster:t,upgradeScheduleRequest:n}=this.props;t.id&&!n.pending&&e(t.id)}componentDidUpdate(e){const{isAutomatic:t,schedules:n,pristine:r,getClusterDetails:a,editClusterRequest:s,cluster:l}=this.props,i=n.items.find((e=>"manual"===e.schedule_type&&"OSD"===e.upgrade_type));!e.isAutomatic&&t&&!r&&i&&this.setState({confirmationModalOpen:!0}),e.editClusterRequest.pending&&s.fulfilled&&a(l.subscription.id)}componentWillUnmount(){const{clearResponses:e}=this.props;e()}render(){var e;const{isAutomatic:t,handleSubmit:n,pristine:r,schedules:s,upgradeScheduleRequest:l,deleteScheduleRequest:i,editClusterRequest:o,reset:c,cluster:u,openModal:d,change:m,initialValues:h,clusterHibernating:g,isReadOnly:b}=this.props,{confirmationModalOpen:E}=this.state,y=!s.fulfilled||l.pending,v=b&&"This operation is not available during maintenance",O=g&&"This operation is not available while cluster is hibernating",C=u.state!==Co.READY&&"This cluster is not ready",R=r&&"No changes to save",S=v||O,P=s.items.find((e=>"manual"===e.schedule_type&&"OSD"===e.upgrade_type)),w=s.items.find((e=>["manual","automatic"].includes(e.schedule_type)&&"OSD"===e.upgrade_type)),T=null==u||null===(e=u.version)||void 0===e?void 0:e.available_upgrades,D=!!u.openshift_version&&(null==T?void 0:T.length)>0&&!w&&!g,_=l.pending||i.pending||o.pending,I=a().createElement(um,{disableReason:S||R,isAriaDisabled:y,variant:"primary",onClick:n,isLoading:_},"Save"),A=a().createElement(um,{isDisabled:r,variant:"link",onClick:c},"Cancel"),N=!!(v||O||C),L=a().createElement(Ur.bZ,{variant:"info",className:"pf-u-mb-md",isInline:!0,title:"Version updates will not occur while this cluster is Hibernating. Once resumed, updates will start according to the selected updates strategy."});return a().createElement(je.r,{hasGutter:!0,className:"ocm-c-upgrade-monitoring"},a().createElement(xe.P,null,o.error&&a().createElement(Fr,{response:o,message:"Error processing request"}),a().createElement(ke.Card,null,a().createElement(Me.e,null,a().createElement(rR,{parent:"details",disableUVM:N})))),a().createElement(xe.P,{lg:9,md:12,className:"ocm-c-upgrade-monitoring-top"},a().createElement(ke.Card,null,a().createElement(Le.l,null,"Update strategy"),a().createElement(Me.e,null,P&&E&&a().createElement(f.Modal,{variant:"small",title:"Automatic updates",isOpen:!0,onClose:()=>{this.closeConfirmationModal(),c()},actions:[a().createElement(p.Button,{key:"confirm",variant:"primary",onClick:this.closeConfirmationModal},"Yes, cancel scheduled update"),a().createElement(p.Button,{key:"cancel",variant:"secondary",onClick:()=>{this.closeConfirmationModal(),c()}},"No, keep scheduled update")]},"By choosing automatic updates, your scheduled manual update will be cancelled."," ","Are you sure you want to continue?"),g&&L,l.error&&a().createElement(Fr,{response:l,message:"Can't schedule upgrade"}),i.error&&a().createElement(Fr,{response:i,message:"Can't unschedule upgrade"}),a().createElement(qr.l,null,a().createElement(je.r,{hasGutter:!0},a().createElement(tR,{isAutomatic:t,isDisabled:!!S,change:m,initialSceduleValue:h.automatic_upgrade_schedule,showDivider:!0})))),a().createElement(Er.e,null,a().createElement(nt.k,null,a().createElement(rt.B,null,I),a().createElement(rt.B,null,A))))),a().createElement(xe.P,{lg:3,md:12,className:"ocm-c-upgrade-monitoring-top"},a().createElement(ke.Card,null,a().createElement(Le.l,null,"Update status"),a().createElement(Me.e,null,a().createElement(Ah,{clusterID:u.id,canEdit:u.canEdit,clusterVersion:u.openshift_version,clusterVersionRawID:u.version.raw_id,scheduledUpgrade:w,availableUpgrades:T,openModal:d}),D&&a().createElement(p.Button,{variant:"secondary",onClick:()=>d(Ct,{clusterName:en(u),subscriptionID:u.subscription.id})},"Update")))))}}sR.propTypes={pristine:l().bool,isAutomatic:l().bool,clusterHibernating:l().bool,isReadOnly:l().bool.isRequired,cluster:l().shape({canEdit:l().bool,openshift_version:l().string,id:l().string,subscription:l().shape({id:l().string}),version:l().shape({channel_group:l().string,available_upgrades:l().arrayOf(l().string),raw_id:l().string}),state:l().string}),getSchedules:l().func.isRequired,getClusterDetails:l().func.isRequired,handleSubmit:l().func.isRequired,schedules:l().shape({fulfilled:l().bool,pending:l().bool,items:l().array}),upgradeScheduleRequest:l().shape({fulfilled:l().bool,pending:l().bool,error:l().bool}),deleteScheduleRequest:l().shape({pending:l().bool,error:l().bool}),editClusterRequest:l().shape({pending:l().bool,error:l().bool,fulfilled:l().bool}),reset:l().func,openModal:l().func,clearResponses:l().func,change:l().func,initialValues:l().shape({automatic_upgrade_schedule:l().string})};const lR=sR;function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iR(Object(n),!0).forEach((function(t){cR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const uR=(0,vc.Z)({form:"ClusterUpgradeSettings",enableReinitialize:!0})(lR),dR=(0,hu.Z)("ClusterUpgradeSettings"),pR=(0,i.connect)((e=>{var t,n;const r=e.clusterUpgrades.schedules.items.find((e=>"automatic"===e.schedule_type)),{cluster:a}=e.clusters.details;return{cluster:a,clusterHibernating:Oo(a.state),isReadOnly:"read_only"===(null==a||null===(t=a.status)||void 0===t?void 0:t.configuration_mode),isAutomatic:"automatic"===dR(e,"upgrade_policy"),schedules:e.clusterUpgrades.schedules,upgradeScheduleRequest:e.clusterUpgrades.postedUpgradeSchedule,deleteScheduleRequest:e.clusterUpgrades.deleteScheduleRequest,editClusterRequest:e.clusters.editedCluster,initialValues:{upgrade_policy:r?"automatic":"manual",automatic_upgrade_schedule:(null==r?void 0:r.schedule)||"0 0 * * 0",node_drain_grace_period:null===(n=a.node_drain_grace_period)||void 0===n?void 0:n.value,enable_user_workload_monitoring:!a.disable_user_workload_monitoring}}}),(e=>({clearResponses:()=>{e((0,zn.Uy)()),e((0,zn.Yy)())},openModal:(t,n)=>e(Qt(t,n)),getSchedules:t=>e((0,zn.ao)(t)),getClusterDetails:t=>e(or(t)),onSubmit:(t,n,r,a,s)=>{const l=r.items.find((e=>"automatic"===e.schedule_type)),i=r.items.find((e=>"manual"===e.schedule_type));if("automatic"===t.upgrade_policy){if(l&&l!==t.automatic_upgrade_schedule)e((0,zn.Rv)(n,l.id,{schedule:t.automatic_upgrade_schedule}));else if(!l){const r={schedule_type:"automatic",schedule:t.automatic_upgrade_schedule};e(i?(0,zn.FQ)(n,i.id,r):(0,zn.TE)(n,r))}}else l&&e((0,zn.wn)(n,l.id));const o={};a!==t.node_drain_grace_period&&(o.node_drain_grace_period={value:t.node_drain_grace_period}),s!==t.enable_user_workload_monitoring&&(o.disable_user_workload_monitoring=!t.enable_user_workload_monitoring),P()(o)||e(Xn(n,o))}})),((e,t,n)=>oR(oR(oR(oR({},n),e),t),{},{onSubmit:n=>{var r;t.onSubmit(n,e.cluster.id,e.schedules,null===(r=e.cluster.node_drain_grace_period)||void 0===r?void 0:r.value,!e.cluster.disable_user_workload_monitoring)}})))(uR);function mR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{HostsClusterDetailTab:hR,canAddHost:gR}=u.I;class bR extends r.Component{constructor(e){super(e),mR(this,"state",{selectedTab:"",refreshEvent:null}),mR(this,"onDialogClose",(()=>{const{match:e,invalidateClusters:t,fetchDetails:n}=this.props,r=e.params.id;t(),I(r)&&n(r)})),this.refresh=this.refresh.bind(this),this.refreshIDP=this.refreshIDP.bind(this),this.overviewTabRef=a().createRef(),this.insightsTabRef=a().createRef(),this.monitoringTabRef=a().createRef(),this.accessControlTabRef=a().createRef(),this.addOnsTabRef=a().createRef(),this.networkingTabRef=a().createRef(),this.supportTabRef=a().createRef(),this.machinePoolsTabRef=a().createRef(),this.upgradeSettingsTabRef=a().createRef(),this.addAssistedTabRef=a().createRef()}componentDidMount(){document.title="Red Hat OpenShift Cluster Manager",k();const{cloudProviders:e,getCloudProviders:t,clearGlobalError:n,getUserAccess:r}=this.props;n("clusterDetails"),this.refresh(),e.pending||e.error||e.fulfilled||t(),r({type:"OCP"})}componentDidUpdate(e){var t,n,r;const{match:a,clusterDetails:s}=this.props,l=a.params.id;if(T()(s,"cluster.subscription.id")===l){const e=en(s.cluster);document.title=`${e} | Red Hat OpenShift Cluster Manager`}null!==(t=e.clusterDetails)&&void 0!==t&&null!==(n=t.cluster)&&void 0!==n&&n.id||!s.fulfilled||null==s||null===(r=s.cluster)||void 0===r||!r.id||this.refreshRelatedResources()}componentWillUnmount(){const{resetIdentityProvidersState:e,closeModal:t,resetClusterHistory:n,clearGetMachinePoolsResponse:r}=this.props;e(),t(),n(),r()}refresh(e){const{match:t,clusterDetails:n,fetchDetails:r}=this.props,{cluster:a}=n,s=t.params.id;I(s)&&r(s);const l=T()(a,"id"),i=T()(a,"subscription.status");I(l)&&i!==ee.Ij.DEPROVISIONED&&this.refreshRelatedResources(e)}refreshIDP(){var e;const{clusterDetails:t,clusterIdentityProviders:n,getClusterIdentityProviders:r}=this.props,a=null==t||null===(e=t.cluster)||void 0===e?void 0:e.id;!I(a)||n.pending||n.error||r(a)}refreshRelatedResources(e){const{clusterDetails:t,getAddOns:n,getUsers:r,getOnDemandMetrics:a,getClusterAddOns:s,getOrganizationAndQuota:l,getGrants:i,clusterLogsViewOptions:o,getClusterHistory:c,getClusterRouters:u,organization:d,getMachinePools:p,getSchedules:m,fetchClusterInsights:h}=this.props,g=T()(t,"cluster.id"),b=T()(t,"cluster.managed",!1),E=T()(t,"cluster.subscription.managed",!1);q(d)&&l();const f=T()(t,"cluster.external_id");var y,v;(f&&(h(f,E),this.fetchSupportData()),f&&"clicked"===e&&c(f,o),b)?(n(g),r(g),u(g),s(g),this.refreshIDP(),p(g),m(g),"gcp"!==T()(t,"cluster.cloud_provider.id")&&i(g)):a(null===(y=t.cluster)||void 0===y||null===(v=y.subscription)||void 0===v?void 0:v.id);this.setState({refreshEvent:{type:e}})}fetchSupportData(){var e,t;const{clusterDetails:n,getNotificationContacts:r,getSupportCases:a,supportCases:s,notificationContacts:l}=this.props,i=null===(e=n.cluster)||void 0===e||null===(t=e.subscription)||void 0===t?void 0:t.id;I(i)&&(l.pending||r(i),s.pending||a(i))}render(){var e,t;const{clusterDetails:n,cloudProviders:r,invalidateClusters:s,openModal:l,history:i,match:o,clusterIdentityProviders:c,organization:u,setGlobalError:d,displayClusterLogs:p,insightsData:m,enableRule:h,canSubscribeOCP:g,canTransferClusterOwnership:b,canHibernateCluster:f,anyModalOpen:y,hasIssues:v,hasIssuesInsights:O,toggleSubscriptionReleased:C,setOpenedTab:R,initTabOpen:S,assistedInstallerEnabled:P,userAccess:w}=this.props,{selectedTab:D,refreshEvent:_}=this.state,{cluster:I}=n,A=o.params.id,N=T()(I,"subscription.id")!==A&&!n.error;if(N)return a().createElement("div",{id:"clusterdetails-content"},a().createElement("div",{className:"cluster-loading-container"},a().createElement(E.Z,{centered:!0})));if(n.error&&(!I||T()(I,"subscription.id")!==A))return 404===n.errorCode||403===n.errorCode?(d(a().createElement(a().Fragment,null,"Cluster with subscription ID"," ",a().createElement("b",null,A)," ","was not found, it might have been deleted or you don't have permission to see it."),"clusterDetails",n.errorMessage),a().createElement(Ud.l_,{to:"/"})):a().createElement(a().Fragment,null,a().createElement(K,{message:"Error retrieving cluster details",response:n}),N&&a().createElement(E.Z,null));const L=Oo(I.state),M=T()(I,"subscription.status",!1)===ee.Ij.ARCHIVED||T()(I,"subscription.status",!1)===ee.Ij.DEPROVISIONED,k=T()(I,"subscription.plan.type","")===ee.vQ.ARO,j=T()(I,"subscription.plan.type","")===ee.vQ.OSDTrial,x=I.managed,q=I.subscription.managed,U=I.state===Co.WAITING,z=I.state===Co.PENDING,F=I.state===Co.INSTALLING,Z=I.state===Co.READY,B=I.state===Co.UPDATING,G="read_only"===(null==I||null===(e=I.status)||void 0===e?void 0:e.configuration_mode),H=I.aws&&T()(I,"ccs.enabled")&&T()(I,"aws.private_link"),V=!F&&!z&&!U&&I.managed&&!M,$=!M&&!(0,Zn.$U)(I),Q=T()(I,"console.url"),W=!(M||I.managed||k||(0,Zn.$U)(I)),Y=!M,J=T()(I,"cloud_provider.id"),X=(Z||B||L)&&I.managed&&!!T()(I,"api.url")&&("aws"===J&&!H||"gcp"===J&&T()(I,"ccs.enabled"))&&!M,te=I.managed&&(Z||L)&&!M,ne=!(I.managed&&void 0===(null===(t=I.subscription)||void 0===t?void 0:t.external_cluster_id)||j),re=I.managed&&I.canEdit&&!M,ae=P&&gR({cluster:I})&&!M;return a().createElement(a().Fragment,null,a().createElement(fi,{isReadOnly:G}),a().createElement(Ne.NP,{id:"clusterdetails-content"},a().createElement($m,{cluster:I,openModal:l,pending:n.pending,refreshFunc:this.refresh,clickRefreshFunc:()=>this.refresh("clicked"),clusterIdentityProviders:c,organization:u,error:n.error,errorMessage:n.errorMessage,canSubscribeOCP:g,canTransferClusterOwnership:b,canHibernateCluster:f,autoRefreshEnabled:!y,toggleSubscriptionReleased:C},a().createElement(eh,{displayMonitoringTab:W,displayAccessControlTab:Y,displayAddOnsTab:V,displayNetworkingTab:X,displayInsightsTab:$,displaySupportTab:ne,displayMachinePoolsTab:te,displayUpgradeSettingsTab:re,displayAddAssistedHosts:ae,overviewTabRef:this.overviewTabRef,monitoringTabRef:this.monitoringTabRef,accessControlTabRef:this.accessControlTabRef,addOnsTabRef:this.addOnsTabRef,networkingTabRef:this.networkingTabRef,insightsTabRef:this.insightsTabRef,supportTabRef:this.supportTabRef,machinePoolsTabRef:this.machinePoolsTabRef,upgradeSettingsTabRef:this.upgradeSettingsTabRef,addAssistedTabRef:this.addAssistedTabRef,hasIssues:I.state!==Co.INSTALLING&&v,hasIssuesInsights:O,initTabOpen:S,setOpenedTab:R,onTabSelected:e=>{this.setState({selectedTab:e})}})),a().createElement(_m.TabContent,{eventKey:0,id:"overviewTabContent",ref:this.overviewTabRef,"aria-label":"Overview",ouiaId:"overviewTabContent"},a().createElement(fC,null,a().createElement(eE,{cluster:I,cloudProviders:r,history:i,displayClusterLogs:p,refresh:this.refresh,openModal:l,insightsData:m[I.external_id],userAccess:w}))),W&&a().createElement(_m.TabContent,{eventKey:1,id:"monitoringTabContent",ref:this.monitoringTabRef,"aria-label":"Monitoring",hidden:!0},a().createElement(fC,null,a().createElement(_f,{cluster:I}))),Y&&a().createElement(_m.TabContent,{eventKey:2,id:"accessControlTabContent",ref:this.accessControlTabRef,"aria-label":"Access Control",hidden:!0},a().createElement(fC,null,a().createElement(yv,{cluster:I,clusterConsoleURL:Q,cloudProvider:T()(I,"cloud_provider.id"),history:i,refreshEvent:_}))),x&&a().createElement(_m.TabContent,{eventKey:3,id:"addOnsTabContent",ref:this.addOnsTabRef,"aria-label":"Add-ons",hidden:!0},a().createElement(fC,null,a().createElement(PO,{clusterID:I.id}))),X&&a().createElement(_m.TabContent,{eventKey:4,id:"networkingTabContent",ref:this.networkingTabRef,"aria-label":"Networking",hidden:!0},a().createElement(fC,null,a().createElement(Yf,{clusterID:I.id,refreshCluster:this.refresh}))),$&&a().createElement(_m.TabContent,{eventKey:5,id:"insightsTabContent",ref:this.insightsTabRef,"aria-label":"Insights",ouiaId:"insightsTabContent",hidden:!0},a().createElement(fC,null,a().createElement(YE,{cluster:I,insightsData:m[I.external_id],enableRule:(e,t)=>{h(I.external_id,e,t,!1,q)},openModal:l}))),a().createElement(_m.TabContent,{eventKey:7,id:"supportTabContent",ref:this.supportTabRef,"aria-label":"Support",hidden:!0},a().createElement(fC,null,a().createElement(zC,{isDisabled:M}))),te&&a().createElement(_m.TabContent,{eventKey:6,id:"machinePoolsContent",ref:this.machinePoolsTabRef,"aria-label":"Machine pools",hidden:!0},a().createElement(fC,null,a().createElement(pC,{cluster:I}))),re&&a().createElement(_m.TabContent,{eventKey:8,id:"upgradeSettingsContent",ref:this.upgradeSettingsTabRef,"aria-label":"Upgrade settings",hidden:!0},a().createElement(fC,null,a().createElement(pR,null))),ae&&a().createElement(_m.TabContent,{eventKey:9,id:"addHostsContent",ref:this.addAssistedTabRef,"aria-label":"Add Hosts",hidden:!0},a().createElement(fC,null,a().createElement(hR,{cluster:I,isVisible:"addAssistedHosts"===D}))),a().createElement(Hp,{onClose:this.onDialogClose,onClusterDeleted:()=>{s(),i.push("/")}}),a().createElement(bC,{refreshParent:this.refreshIDP}),a().createElement(HC,null),a().createElement(DC,{clusterID:I.id}),a().createElement(RC,null)))}}bR.propTypes={match:l().object.isRequired,history:l().object.isRequired,fetchDetails:l().func.isRequired,fetchClusterInsights:l().func.isRequired,getCloudProviders:l().func.isRequired,getOrganizationAndQuota:l().func.isRequired,getOnDemandMetrics:l().func.isRequired,getAddOns:l().func.isRequired,getClusterAddOns:l().func.isRequired,getUsers:l().func.isRequired,invalidateClusters:l().func.isRequired,cloudProviders:l().object.isRequired,displayClusterLogs:l().bool.isRequired,openModal:l().func.isRequired,closeModal:l().func.isRequired,resetClusterHistory:l().func.isRequired,getClusterIdentityProviders:l().func.isRequired,insightsData:l().object,clusterIdentityProviders:l().object.isRequired,organization:l().object.isRequired,clusterDetails:l().shape({cluster:l().object,error:l().bool,errorCode:l().oneOfType([l().number,l().string]),errorMessage:l().oneOfType([l().string,l().node,l().element]),fulfilled:l().bool,history:l().object,pending:l().bool.isRequired}),resetIdentityProvidersState:l().func.isRequired,setGlobalError:l().func.isRequired,clearGlobalError:l().func.isRequired,getGrants:l().func.isRequired,clusterLogsViewOptions:l().object.isRequired,getClusterHistory:l().func.isRequired,getMachinePools:l().func.isRequired,clearGetMachinePoolsResponse:l().func.isRequired,enableRule:l().func.isRequired,setOpenedTab:l().func.isRequired,canSubscribeOCP:l().bool.isRequired,canTransferClusterOwnership:l().bool.isRequired,canHibernateCluster:l().bool.isRequired,getClusterRouters:l().func.isRequired,anyModalOpen:l().bool,hasIssues:l().bool.isRequired,hasIssuesInsights:l().bool.isRequired,toggleSubscriptionReleased:l().func.isRequired,initTabOpen:l().string.isRequired,notificationContacts:l().object.isRequired,getNotificationContacts:l().func.isRequired,getSupportCases:l().func.isRequired,supportCases:l().object.isRequired,assistedInstallerEnabled:l().bool,getSchedules:l().func,getUserAccess:l().func.isRequired,userAccess:l().shape({data:l().bool,pending:l().bool,fulfilled:l().bool}).isRequired},bR.defaultProps={insightsData:{},clusterDetails:{cluster:null,error:!1,errorMessage:"",fulfilled:!1}};const ER=bR;var fR=n(72911),yR=n(20450);const vR=e=>{const t=T()(e,"userProfile.organization.details.capabilities",[]).find((e=>"capability.organization.hibernate_cluster"===e.name));return!(!t||"true"!==t.value)},OR=(0,i.connect)(((e,{location:t})=>{const{details:n}=e.clusters,{cloudProviders:r}=e,{errorCode:a}=e.clusterLogs.requestState,{addOns:s}=e.addOns,{clusterIdentityProviders:l}=e.identityProviders,{organization:i}=e.userProfile,{insightsData:o}=e.insightsData,c=!(e.clusterLogs.clusterLogInitialized===e.clusterLogs.externalClusterID)||403===a||404===a,{notificationContacts:u={pending:!1},supportCases:d={pending:!1}}=e.clusterSupport,p=((e,t)=>{const n=T()(e,`insightsData.insightsData[${t}].data`),r=n?n.filter((e=>!e.disabled)):[];return yb(r)})(e,T()(n,"cluster.external_id"));return{cloudProviders:r,clusterDetails:n,addOns:s,clusterIdentityProviders:l,organization:i,displayClusterLogs:!c,clusterLogsViewOptions:e.viewOptions[ot.R$.X0],insightsData:o,canSubscribeOCP:Fh(e),canTransferClusterOwnership:em(e),canHibernateCluster:vR(e),anyModalOpen:!!e.modal.modalName,hasIssues:Sf(e).issues.totalCount>0,hasIssuesInsights:!(!p[4]&&!p[3]),initTabOpen:t.hash.replace("#",""),notificationContacts:u,supportCases:d,assistedInstallerEnabled:e.features[Bn.vu],userAccess:e.cost.userAccess}}),((e,{location:t})=>(0,Tm.bindActionCreators)({fetchDetails:or,fetchClusterInsights:ri,enableRule:li,getCloudProviders:To.getCloudProviders,getOrganizationAndQuota:d.hI.getOrganizationAndQuota,invalidateClusters:$n,openModal:Yt.openModal,closeModal:Yt.closeModal,getClusterIdentityProviders:Sy,getUsers:gy.getUsers,resetIdentityProvidersState:Py,resetClusterHistory:fg.resetClusterHistory,clearGlobalError:Ec,setGlobalError:bc,getOnDemandMetrics:Rf,getAddOns:ub,getClusterAddOns:db,getGrants:uv,getClusterRouters:Lf,getMachinePools:pd.BE,clearGetMachinePoolsResponse:pd.__,setOpenedTab:e=>(0,Dm.VF)(`${(0,ap.ZP)()}${t.pathname}#${e}`),getClusterHistory:Eg,toggleSubscriptionReleased:rp,getNotificationContacts:_C.Z.getNotificationContacts,getSupportCases:_C.Z.getSupportCases,getSchedules:zn.ao,getUserAccess:kr},e)))(ER);class CR extends a().Component{componentDidMount(){const{match:e,fetchSubscriptionIDForCluster:t}=this.props;t(e.params.id)}componentWillUnmount(){const{clearSubscriptionIDForCluster:e}=this.props;e()}render(){const{subscriptionIDResponse:e,setGlobalError:t,match:n,location:r,isInsightsRuleDetails:s}=this.props;if(e.error)return 404===e.errorCode||403===e.errorCode?(t(a().createElement(a().Fragment,null,"Cluster with ID"," ",a().createElement("b",null,n.params.id)," ","was not found, it might have been deleted or you don't have permission to see it."),"clusterDetails",e.errorMessage),a().createElement(Ud.l_,{to:"/"})):a().createElement(K,{message:"Error retrieving cluster details",response:e});if(e.fulfilled){if(s){const{reportId:t,errorKey:s}=n.params;return a().createElement(Ud.l_,{to:`/details/s/${e.id}/insights/${t}/${s}${r.hash}`})}return a().createElement(Ud.l_,{to:`/details/s/${e.id}${r.hash}`})}return a().createElement(E.Z,{centered:!0})}}CR.propTypes={match:l().shape({params:l().shape({id:l().string.isRequired,reportId:l().string,errorKey:l().string}).isRequired}).isRequired,location:l().shape({hash:l().string.isRequired}).isRequired,fetchSubscriptionIDForCluster:l().func.isRequired,clearSubscriptionIDForCluster:l().func.isRequired,setGlobalError:l().func.isRequired,isInsightsRuleDetails:l().bool,subscriptionIDResponse:l().shape({pending:l().bool,fulfilled:l().bool,error:l().bool,errorCode:l().number,errorMessage:l().string,id:l().string}).isRequired};const RR=CR,SR={fetchSubscriptionIDForCluster:Bt,clearSubscriptionIDForCluster:Gt,setGlobalError:bc},PR=(0,i.connect)((e=>({subscriptionIDResponse:e.subscriptions.subscriptionID})),SR)(RR);var wR=n(55816);function TR(){return(TR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class DR extends a().Component{constructor(e){var t,n;super(e),n={isOpen:!1},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.onToggle=e=>{this.setState({isOpen:e})},this.onSelect=()=>{this.setState((e=>({isOpen:!e.isOpen})))}}render(){const{report:e,disableRule:t,enableRule:n}=this.props,{isOpen:r}=this.state,s=a().createElement(Mi.DropdownToggle,{onToggle:this.onToggle},"Actions"),l=[{title:(e.disabled?"Enable":"Disable")+" recommendation",onClick:()=>{e.disabled?n(e.rule_id):t(e.rule_id)}}].map((e=>a().createElement(Ri.DropdownItem,TR({key:e.title,ouiaId:e.title},e),e.title)));return a().createElement(Ci.Dropdown,{position:Si.DropdownPosition.right,onSelect:this.onSelect,dropdownItems:l,toggle:s,isOpen:r,ouiaId:"actions"})}}DR.propTypes={report:l().object.isRequired,disableRule:l().func.isRequired,enableRule:l().func.isRequired};const _R=DR;function IR(e){const{cluster:t,rule:n,pending:r,refreshFunc:s,children:l,voteOnRule:i,disableRule:o,enableRule:c}=e,u=en(t),d=a().createElement(_R,{report:n,disableRule:o,enableRule:c}),p=a().createElement(ym,{path:[{label:"Clusters"},{label:u,path:`/details/s/${t.subscription.id}#insights`},{label:n.description}]});return a().createElement("div",{id:"cl-details-top",className:"top-row"},a().createElement(O.P,null,a().createElement(C.J,null,p)),a().createElement(O.P,{id:"cl-details-top-row"},a().createElement(C.J,null,a().createElement(oE.Z,{title:a().createElement(R.Title,{size:"lg",headingLevel:"h1",className:"cl-details-page-title"},n.disabled&&a().createElement(Pp.Label,{className:"disabled-tooltip"},"Disabled"),n.description,r&&a().createElement(E.Z,{className:"cluster-details-spinner"})),actions:a().createElement("span",{id:"cl-details-btns"},d,a().createElement(cc,{id:"refresh",ouiaId:"refresh",autoRefresh:!0,refreshFunc:s})),createdAt:a().createElement(zd.Z,{date:n.created_at}),details:fE(n.details),ruleId:n.rule_id,totalRisk:n.total_risk,riskOfChange:n.risk_of_change,showRiskDescription:!1,definitions:n.extra_data,userVote:n.user_vote,onFeedbackChanged:(e,n)=>i(t.external_id,e,n)}))),l)}IR.propTypes={cluster:l().object,rule:l().object,disableRule:l().func.isRequired,enableRule:l().func.isRequired,refreshFunc:l().func.isRequired,voteOnRule:l().func.isRequired,pending:l().bool.isRequired,children:l().any};const AR=IR,NR=()=>a().createElement(g.ub,{className:"empty-table-message",variant:g.IQ.large},a().createElement(Oe.k,{className:"danger-color",icon:Re.ZP}),a().createElement(R.Title,{headingLevel:"h5",size:"lg"},"There was an error fetching the data."),a().createElement(b.B,null,"Try refreshing the page. If the bug persists, please,"," ",a().createElement(Rr,{href:"https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Hybrid%20Cloud%20Console%20%28console.redhat.com%29&component=Insights%20-%20OpenShift%20Integration&priority=urgent"},"let us know"),"."));function LR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class MR extends a().Component{constructor(...e){super(...e),LR(this,"state",{activeTabKey:0}),LR(this,"handleTabClick",((e,t)=>{this.setState({activeTabKey:t}),this.getTabs().forEach((e=>{e.ref&&e.ref.current&&(e.key!==t?e.ref.current.hidden=!0:e.ref.current.hidden=!1)}))}))}getTabs(){const{reasonTabRef:e,resolutionTabRef:t,moreinfoTabRef:n,showMoreInfo:r}=this.props;return[{key:0,title:"How to remediate",contentId:"resolutionTabContent",ref:t,show:!0},{key:1,title:"Reason",contentId:"reasonTabContent",ref:e,show:!0},{key:2,title:"Additional info",contentId:"moreinfoTabContent",ref:n,show:r}]}render(){const{activeTabKey:e}=this.state;return a().createElement(Qm.mQ,{activeKey:e,onSelect:this.handleTabClick,ouiaId:"rule_details_tab"},this.getTabs().map((e=>a().createElement(Wm.O,{key:e.key,eventKey:e.key,title:e.title,ouiaId:e.title,tabContentId:e.contentId,isHidden:!e.show}))))}}MR.propTypes={reasonTabRef:l().object.isRequired,resolutionTabRef:l().object.isRequired,moreinfoTabRef:l().object.isRequired,showMoreInfo:l().bool.isRequired};const kR=MR;class jR extends r.Component{constructor(e){var t,n;super(e),n=async(e,t,n)=>{var r,a;const{voteOnRule:s,clusterDetails:l,fetchReportData:i,match:o}=this.props,c=(null==l||null===(r=l.cluster)||void 0===r||null===(a=r.subscription)||void 0===a?void 0:a.managed)||!1,{errorKey:u}=o.params;await s(e,t,u,n),i(e,t,u,c)},(t="onVoteOnRule")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.refresh=this.refresh.bind(this),this.fetchDetailsAndInsightsData=this.fetchDetailsAndInsightsData.bind(this),this.onRuleDisable=this.onRuleDisable.bind(this),this.reasonTabRef=a().createRef(),this.resolutionTabRef=a().createRef(),this.moreinfoTabRef=a().createRef()}componentDidMount(){document.title="Red Hat OpenShift Cluster Manager",k();const{clearGlobalError:e}=this.props;e("clusterDetails"),this.refresh()}componentDidUpdate(e){var t,n,r;const{match:a,clusterDetails:s,fetchReportData:l}=this.props,i=(null==s||null===(t=s.cluster)||void 0===t||null===(n=t.subscription)||void 0===n?void 0:n.managed)||!1,o=(null==s||null===(r=s.cluster)||void 0===r?void 0:r.external_id)||"",{subscriptionID:c,errorKey:u,reportId:d}=a.params,p=d.replace(/\|/g,".");if(T()(s,"cluster.subscription.id")===c){const e=en(s.cluster);document.title=`${e} | Red Hat OpenShift Cluster Manager`}o&&T()(e.clusterDetails,"cluster.external_id")!==o&&l(o,p,u,i)}onRuleDisable(e){var t,n,r;const{openModal:a,clusterDetails:s,match:l}=this.props,{errorKey:i}=l.params,o=(null==s||null===(t=s.cluster)||void 0===t||null===(n=t.subscription)||void 0===n?void 0:n.managed)||!1;a("insights-on-rule-disable-feedback-modal",{clusterId:(null==s||null===(r=s.cluster)||void 0===r?void 0:r.external_id)||"",ruleId:e,errorKey:i,isRuleDetailsPage:!0,isManagedCluster:o})}refresh(){var e,t,n;const{match:r,clusterDetails:a}=this.props,s=(null==a||null===(e=a.cluster)||void 0===e||null===(t=e.subscription)||void 0===t?void 0:t.managed)||!1,l=(null==a||null===(n=a.cluster)||void 0===n?void 0:n.external_id)||"",{subscriptionID:i,errorKey:o,reportId:c}=r.params,u=c.replace(/\|/g,".");I(i)&&this.fetchDetailsAndInsightsData(i,l,u,o,s)}fetchDetailsAndInsightsData(e,t,n,r,a){const{fetchClusterDetails:s,fetchReportData:l}=this.props;s(e),t&&l(t,n,r,a)}render(){var e;const{clusterDetails:t,reportDetails:n,history:r,match:s,setGlobalError:l,enableRule:i}=this.props,{cluster:o}=t,c=(null==o||null===(e=o.subscription)||void 0===e?void 0:e.managed)||!1,u=(null==o?void 0:o.external_id)||"",{errorKey:d}=s.params,m=s.params.subscriptionID,h=s.params.reportId.replace(/\|/g,"."),f=T()(o,"subscription.id")!==m&&!t.error||T()(n.report,"rule_id")!==h&&!n.rejected;if(f)return a().createElement("div",{id:"clusterdetails-content"},a().createElement("div",{className:"cluster-loading-container"},a().createElement(E.Z,{centered:!0})));if(t.error&&(!o||T()(o,"id")!==m))return 404===t.errorCode&&(l(a().createElement(a().Fragment,null,"Cluster with ID"," ",a().createElement("b",null,m)," ","was not found, it might have been deleted or you don't have permission to see it."),"clusterDetails",t.errorMessage),r.push("/")),a().createElement(a().Fragment,null,a().createElement(K,{message:"Error retrieving cluster details",response:t}),f&&a().createElement(E.Z,null));if(T()(o,"subscription.status",!1)===ee.Ij.ARCHIVED||!n.pending&&n.rejected)return l(a().createElement(a().Fragment,null,"Recommendation"," ",a().createElement("b",null,h)," ","was not found,"," ","it might have been deleted or you don't have permission to see it or this page."),"clusterDetails",t.errorMessage),r.push("/"),a().createElement(a().Fragment,null,a().createElement(K,{message:"Error retrieving report details",response:n}),f&&a().createElement(E.Z,null));const{rule_id:y,disabled:v,disable_feedback:O,disabled_at:C,resolution:S,reason:P,more_info:w,extra_data:D}=T()(n,"report",{});return a().createElement(Ne.NP,{id:"ruledetails-content"},a().createElement(AR,{cluster:o,rule:n.report,pending:t.pending||n.pending,refreshFunc:this.refresh,voteOnRule:this.onVoteOnRule,disableRule:this.onRuleDisable,enableRule:e=>i(u,e,d,!0,c)},!v&&a().createElement(kR,{reasonTabRef:this.reasonTabRef,resolutionTabRef:this.resolutionTabRef,moreinfoTabRef:this.moreinfoTabRef,showMoreInfo:!!w}),a().createElement(UE,null)),v?a().createElement("div",null,a().createElement(ke.Card,{ouiaId:"recommendationDisabledCard"},a().createElement(Le.l,{className:"disabled-recommendation-title"},"Recommendation is disabled"),a().createElement(Me.e,null,a().createElement("div",{className:"disabled-recommendation-message"},"This recommendation was disabled on",` ${sn()(C).format("DD MMM YYYY")}`,O&&O.length&&a().createElement(a().Fragment,null," ","for the following reason:",a().createElement("i",null,O)),".")),a().createElement(Er.e,null,a().createElement(p.Button,{variant:"link",isInline:!0,onClick:()=>i(u,y,d,!0,c)},"Enable recommendation"))),a().createElement(g.ub,null,a().createElement(Oe.k,{icon:ha.ZP}),a().createElement(R.Title,{size:"lg",headingLevel:"h4"},"Recommendation is disabled"),a().createElement(b.B,null,"This recommendation has been disabled and has no results."))):a().createElement("div",null,a().createElement(_m.TabContent,{eventKey:0,id:"resolutionTabContent",ref:this.resolutionTabRef,"aria-label":"How to remediate",ouiaId:"resolutionTabContent"},a().createElement(ke.Card,{ouiaId:"resolution"},a().createElement(Me.e,null,S?a().createElement(wR.Z,{template:S,definitions:D}):a().createElement(NR,null)))),a().createElement(_m.TabContent,{eventKey:1,id:"reasonTabContent",ref:this.reasonTabRef,"aria-label":"Reason",ouiaId:"reasonTabContent",hidden:!0},a().createElement(ke.Card,{ouiaId:"reason"},a().createElement(Me.e,null,P?a().createElement(wR.Z,{template:P,definitions:D}):a().createElement(NR,null)))),w&&a().createElement(_m.TabContent,{eventKey:2,id:"moreinfoTabContent",ref:this.moreinfoTabRef,"aria-label":"Additional info",ouiaId:"moreinfoTabContent",hidden:!0},a().createElement(ke.Card,{ouiaId:"moreinfo"},a().createElement(Me.e,null,a().createElement(wR.Z,{template:w,definitions:D}))))))}}jR.propTypes={match:l().object.isRequired,history:l().object.isRequired,fetchReportData:l().func.isRequired,fetchClusterDetails:l().func.isRequired,clearGlobalError:l().func.isRequired,setGlobalError:l().func.isRequired,enableRule:l().func.isRequired,reportDetails:l().object,clusterDetails:l().shape({cluster:l().shape({external_id:l().string,subscription:l().shape({managed:l().bool})}),error:l().bool,errorCode:l().oneOfType([l().number,l().string]),errorMessage:l().oneOfType([l().string,l().node,l().element]),fulfilled:l().bool,history:l().object,pending:l().bool.isRequired}),voteOnRule:l().func.isRequired,openModal:l().func.isRequired},jR.defaultProps={reportDetails:{},clusterDetails:{}};const xR=jR,qR={fetchClusterDetails:or,fetchReportData:ti,openModal:Yt.openModal,enableRule:li,clearGlobalError:Ec,setGlobalError:bc,voteOnRule:(e,t,n,r)=>a=>a({type:Wl.WP,payload:ai(0,e,t,n,r)})},UR=(0,i.connect)((e=>{const{details:t}=e.clusters,{reportDetails:n}=e.insightsData,{sendFeedbackOnRuleDisable:r}=e.insightsData;return{clusterDetails:t,reportDetails:n,sendFeedbackOnRuleRefresh:r}}),qR)(xR);var zR=n(1349),FR=n(8641),ZR=n(93178);const BR=({title:e,breadcrumbs:t,children:n})=>a().createElement(qe.Z,null,t&&t,a().createElement(O.P,null,a().createElement(C.J,{isFilled:!0},a().createElement(Ue.Z,{className:"ocm-page-title",title:e}))),n&&n);BR.propTypes={title:l().string.isRequired,breadcrumbs:l().oneOfType([l().node,l().element]),children:l().oneOfType([l().node,l().element])};const GR=BR,HR=function(){const e=a().createElement(a().Fragment,null,a().createElement("div",{style:{marginBottom:"var(--pf-global--spacer--sm)"}},"Technology preview features provide early access to upcoming product innovations, enabling you to test functionality and provide feedback during the development process."),a().createElement(Rr,{href:"https://access.redhat.com/support/offerings/techpreview"},"Learn more"));return a().createElement(Wr.J2,{position:Wr.I2.top,bodyContent:e},a().createElement(Pp.Label,{color:"orange"},"Technology Preview"))},VR=["Infrastructure provider","Installation options"],$R=[[a().createElement(a().Fragment,null,a().createElement(o.Link,{to:"/install/metal"},"Bare Metal (x86_64)")),"Full stack automation and pre-existing infrastructure"],[a().createElement(a().Fragment,null,a().createElement(o.Link,{to:"/install/ibmz/user-provisioned"},"IBM Z")),"Pre-existing infrastructure"],[a().createElement(a().Fragment,null,a().createElement(o.Link,{to:"/install/power/user-provisioned"},"Power")),"Pre-existing infrastructure"],[a().createElement(a().Fragment,null,a().createElement(o.Link,{to:"/install/openstack"},"Red Hat OpenStack")),"Full stack automation and pre-existing infrastructure"],[a().createElement(a().Fragment,null,a().createElement(o.Link,{to:"/install/rhv"},"Red Hat Virtualization")),"Full stack automation and pre-existing infrastructure"],[a().createElement(a().Fragment,null,a().createElement(o.Link,{to:"/install/vsphere"},"vSphere")),"Full stack automation and pre-existing infrastructure"],[a().createElement(a().Fragment,null,a().createElement(o.Link,{to:"/install/platform-agnostic"},"Platform agnostic (x86_64)")),"Pre-existing infrastructure"]],QR=({assistedInstallerFeature:e})=>a().createElement(a().Fragment,null,e&&a().createElement(Ne.NP,{variant:"light"},a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,a().createElement(R.Title,{headingLevel:"h2",className:"ocm-ocp-datacenter-title"},"Assisted Installer"),a().createElement(HR,null)),a().createElement(y.v,null,"Create a cluster on bare metal following a guided installation process to connect your hardware."),a().createElement(y.v,null,a().createElement(p.Button,{component:o.Link,to:"/assisted-installer/clusters/~new"},"Create cluster")))),a().createElement(Ne.NP,null,a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,a().createElement(R.Title,{headingLevel:"h2"},e?"Other datacenter options":"datacenter options")),a().createElement(y.v,null,"Create clusters on supported infrastructure using our extensive documentation and installer program."),a().createElement(y.v,null,a().createElement(lt.Table,{className:"install-options-table","aria-label":"Installation options table",cells:VR,rows:$R},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null))))));QR.propTypes={assistedInstallerFeature:l().bool};const WR=QR,YR=function(){const e=a().createElement(a().Fragment,null,a().createElement("div",{style:{marginBottom:"var(--pf-global--spacer--sm)"}},"Developer preview features provide early access to upcoming product innovations, enabling you to test functionality and provide feedback during the development process."),a().createElement(Rr,{href:"https://access.redhat.com/articles/4307871"},"Learn more"));return a().createElement(Wr.J2,{position:Wr.I2.top,bodyContent:e},a().createElement(Pp.Label,{color:"orange"},"Developer Preview"))},KR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAAEiCAYAAADwEwVaAAAACXBIWXMAABYlAAAWJQFJUiTwAAAck0lEQVR4nO3dfYwdV33G8WeCCbaJsr7WKo4a/AalEJXIm0JBFQE7ElQICDGoav8hsqNKFbQ0MRIqElIbG6RKICTstFLVSig2RqXtH7BJGoQaUHZDKgSNyLou6gsq2XVqFKOtrzei2WAST3X2nvGO79x7986dt3PmfD+SRbKzODuzu+eZ33mN4jgWACA8m/ieI0TdKDos6aCkA5KmBjyCM5IuSZqTtGD+dOJ4MfNZgMeoABCUbhQdkWT+7J7gvpdsGJhQmOvE8ULmMwCPEAAIQjeKZiSdlLSvxPtdSsJA0mwnji9lPgNwGAEQsG4UbZM00/cELrXtzdZ29xwf0tVTpjM2ZKgO4AUCICDdKEr6vE2jv3+DO093d8z62v/djSLT8N+fuVA98/xmTSAQBnAVAdBy9i0/6fcu8gacvN16EwbdKDJf76HMhfoRBnASAdBSJTb8gzxsulQ6cTw34Frj7L3PjlHlNIEwgDMIgBayA56zE850ycM0Zkc7cXzSladoG/+5kgd7q0IYoFEEQMvYAc+Har4rJ4LAs8a/n3ddbPAfAdAi3Sg6KumBBu+osSCoseqpw3wqDJhaisoQAC3R4GyXQZZsA3a8jgbMzm46WcM0z7qtpLqInBxvgd8IgBZoqNtnHCt2/v3Jqro1HAu+KiWhWtmzRHgIAM91o8jM63/Cg7s4VeabrL3vky3p8snrYds95MzgO/xEAHjMDnouetb1UWjmi+3uOeLoFM+6raS62qgKkBsB4LFuFM153hCupFYbL9jdNxeScYPUVhV77Armgy3s5y/LvA1VqgKMjQDwlN3V8kuhPwdkUBVgbASAhzzt+kH9HrZVwSzPHoMQAB5yaI8b+GEpNRuLdQW4igDwTDeKTH/4s6E/B0wkWVdwlO4hGNdlPgLXMciHSU3ZyvFZM4HAzqhCwKgAPOLRnH/4Y237DradCBMVgF8Oh/4AULrddhX5otlLyk4wQCCoADxB3z9qdIpxgjBQAfjjaOgPALVJxglO2l1W0VJUAB5g3j8aNm8rAnYkbRkqAD+wBQKaZLYbecLOHDrAd6I9qAA80I2iBU9PuUI7URG0BAHgONsH+0zozwFOIgg8RxeQ+5j6CVclXUMn7Sw1eIYKwHHdKFoM9NAT+Ifpo56hAnCYXapP4w9fmOmjCywo8wcB4Db2aoFvzGy1B2wQ0H3pOLqAHNaNoktM/4TnzEDxkUmO/0T1qAAcZbt/aPzhOzNQ/AzdQm4iANxF+Yw2SbqFWEjmELqAHGTflLqhPwe01rFOHLO3lQOoANzE4C/a7AGzup21A80jANxEAKDt9tEl1Dy6gBzDvv8I0L2dOOao0wZQAbiHt3+E5iGznQTf9foRAO5h9g9CdIgQqB9dQA6h+wfQqU4c8xJUEyoAt/CDj9AdYguJ+lABOISdP4Gr7uScgeoRAI7g4BfgGiuS9nTi+BKPpTp0AbmDshdYZ/bBOs7zqBYVgCPo/gEGoiuoQlQADuDgF2Ao9gyqEAHgBhZ/AYPtZ7uI6tAF5AAOfgFGmu/EMSFQASqAhnHwC7Ch/ewcWg0CoHnM/gE2doRnVD66gBrEwS/A2JY6cUwVUDIqgGYx+AuMZ7ddLIkSEQDNIgCA8fH7UjK6gBrCzp9Abmc6cUwVUCIqgObwNgPks8+Om6EkBEBzmP0D5Md6gBIRAA2w3T/7grtxoDgCoEQEQDPo/gEmQwCUiEHgBrDzJzC5ThxHPL5yUAHUzM5lpvEHJsTmcOUhAOrH4C9QDAFQEgKgfvT/A8UQACUhAGpE9w9QChaDlYQAqBc7GgLFTbEvUDkIgHrR/QOUg26gEhAANeHgF6BUVAAlIADqw9s/UB4qgBKwEKwmnPsLlG5vJ44XeayTowKoQTeKDtP4A6WjG6ggAqAedP8A5aMbqCC6gCrGub9AZTggpiAqgOrx9g9Ugy3VCyIAqkcAABVhY7hiCIAK2e6fu1t7g0DzCIACCIBq8fYPVIsAKIAAqBZbPwPVYhC4AAKgIvbc3/2tvDnAHWwMVwABUB26f4B60A00IQKgOnT/APWgApgQAVAB2/3DHGWgHlQAEyIAqkH3D1Cf3falCzkRABX4qfSx1t0U4Da6gSZAAJQsiqKZX5He1KqbAtxHN9AECIDyce4vUD8qgAmwG2iJot7WD4sX2fsfqF0njiOeej5UAOXi3F+gIWwMlx8BUC66f4DmEAA5EQAliXrL0dfm/v9YOt+GewI8wzhATgRAea6+/X9N2tqC+wF8QwWQE4PAJYj6jn3cJWnB5xsC/HV7J4759RsTFUA5rtn355ykb0oXPL4fwFd0A+VAAJQjM/j7GWmHp/cC+IxuoBwIgIKi3tSz3f1/C1UA0AgCIAcCoLih2z7/kbTjF9JLmQsAqrLbnsWNMRAABdjB30PD/oYVSX8gXclcAFAlqoAxEQDFDH37TzwqbX1KWs5cAFAVAmBMBEAxmcHfQe6Rpi/1CgIA1WMm0JhYBzAhO/j7xLj/79skzWc+CqAKbAw3HiqAyeU68/espPul1cwFAKVjY7jxbPLhi6yLPVYufbRc+odoW1Jarkqbd0nvOJfz6zotbXmPdPEuaXvmIoAymd/dOZ7oaEEEgJ0WlvQLJo36jG3Ut+U9wP0X0krexj9xSNr+iLR8hzSduQigLIwDjKFVAWDLvuQtPmng92c+saAHC07tNIPCT0oXd1IJAFWhC2gMXg4C266aGfsnafQzq3GrMmNX+hZhTo0hBIBKsTHcBryoAOyb/YFUg9/YqVvPSxfOlbDPj5kT+m5p+zPSyjZOEQOqMMPGvKM5GQDd3uEqB21jX3oXThFz0stl/V0mBO6Wph6XVq+XtmQ+AUARpv04yRMczpkA6EbRQdvoO32u7mPSLZkPFmCmh75X2kIIAKVjHGADjY4B+NLop+1VNUt6d/W2jWBMAChXpxPHl3img9W+EMwM4Haj6Hg3isw35Rt2MzUvGv8XpG5V+zmcs2MCz0kXMxcBTIoqYITaAqAbRYe7UWQWZjzbWxTr38DnBenFzAdLtEIIAGUjAEaoPABsw78o6SHXBnTzeqLEAeBhkhBgB1GgFCwIG6GyAOhr+Gubo98GJgQ+JE0/SiUAFOX1S2fVSg8AM7Db1ob/R9JNmQ9WyGwb8WecKAYUwsZww5UWAHZwd84O7Lbyjf/ZBqZp/qW02ewi+suKxx+AFiMAhiglALpRdMSuuKPcqoDdRXQrh8oAE2EcYIhCAWB22bRv/V/ycVaPT8yCsdulKWYIAblRAQwxcQDY7RoWeeuvz0pv3+rtX2WGEJDHlN1AEn0mCgAzw0fSM6G99b9vbSlA8+6TphkXAHKhChggdwB0o+ioneETnE0OzchJxgXOUw0A4yAABsgVAN0oMjvrPZC5EIg7Hds91YwL3MF6AWAcDAQPMPZmcGb/HruFQ7AuS6s3O7pj5z3S6hel+NXS1sxFAGJjuKyxKgDb5x9042+Y7Zp3ZT7qBtMl9JvSVmYJAUPRDdRnwwCwq+iC7PMfZL+0OuDDTjhnZwmdYL0AMAjdQH1GBoCdOjWbuRCwezwYdD0mTZm5uSwcA9b9b+/cEaSMHAOwi7yY59+nqkNhymbm6H5OWv6oNO3BlwtUrhPHEU953dAKwG7vQOM/wIcc7gZKW7FrBj5ENQCseWsUfZAnsW5gANiun6OZC1jzJ9L/+fQknrLbSDA2gNDdJv1O6M8gbWAA2MafvX2GuEWavmPwJWetpMYGWDyGUP2MgeBrZALAvv0fynwmrvHH0nM+PpGzvbegaXPOAFtJIDQvSr/KN31dJgDo+hnPe6Wdrq4JGIc5Z8CsG+DoSYTkFem1UW8jy+CpPwB4+8/nzx3ZHG5S5+zRkwwSIzAsCLP6K4DDmc/AUO+Xdvg2FjCIGSR+vR0kplsIASAALAKgoM97XgWkmUFi0y30zRbdEzAAAWBdDQB7wEsrz/Kt0q3Sjns8WRcwDtMt9FFph+kW+neCAC1zrnc7UxEHxKxJVwC8/U/oC1LUtjmzplvondKOQ9KLjA+gLc6t30fwVYD6AoAHMqHXSJtPt3Q2zaPSVjM+YKaNXm5RpYPwvCB1UzcdfHunJADM4e69jSQxKXMwy10tHkA100bfJG0xA8UEAXz0X9LPU1928AGgVAXAvNgS/I10XZuXTyeriQkC+OgHa0d6XLWbcYD1ACANS2C6gh4NYGFVOgiYMQRf/L20o+9LDf7FNwmA4JOwLG+Rph8IZNB0xc4YMr9FJgioCOAq87N5Nvu1Bf/iSwBU4H5pqs3jAf2SqaN0DcFV314bA84IPgDWDoTpRtEiawDKZRrB90pbBrx1tJ4ZBzkirXxcuv56Rw/RR1j2240QB+jEAR8Un1QANP4lMw3f30rLIe6pnR4juF9aZR0BmmQWNA5p/PVT6T+6URTsGqhBu4GiJObcgCeli6EerGBa/dPSFrOOwAQBK4vRhE9nB3+vsq/+D3Wj6FI3io7aKfHBIAAqtlPa/qB0sdU3OQYTBO+0W0w87ulZCvCPeel4asRXfXatt3aNeU97QNKiDYIgxkUJgBrcJW0/RQisMb+MvyftNDOHGDBG1T424u3f+J50Q9+HkiB4thtFJ9seBARATQiBa52z4wQ323ECuodQNvOCMazvP/EdqZP54LpDNgha2zWUzAKKM1dQCbOnjtlWgaebZU5Y+5S0/LvSa5k9hCKeky7uk7aP81eM+VZmhrSOmz+dFs0aIgAaYN54T9PAjWS22P6Y9MKtG5TwQL9fSC+9Wdo87tSzp6Wl148/E9L8tUc6cXwyc8VDdAE14IS05RPSS8HdeA7JoHEyVtC3kyMwkBlT+u0cjb96ewRtynxwuCk7a2ihG0XeLySjAmjQo9LFQ2OWqZBu603pu/Ae6Ua6iNBv0sWXpto8MfnP08O2IljMXPFAUgHM89NUPwaG8zlrt5wwA8f32OmkzCKCCq68Xyj2MnG3+SvMQHHmigeSCmDOrpZGA6gEivmApD+Unn+rNEVlEB4z4Gteps4VuPOS3sLO2GpgLnPFUUkF4M0X3Ebmh/dMwCuGi3qsFwI3UxmEx7w8vbtg42/8RFrKfDA/c6jWE90oOu7LtNEkALzsv2oTs2LYbBuxK/QHUdBjdqFZEgZ/J51nALl9zEwfc161qZzL2Gjqv8udEHO/7RZyfpA4uemFzBXUzoTAD6TV23j0pXis1zV0yx6pY/o3Pyt1fyydb8GtBc2cPfHm3uFLW8t6DgNWBBe1O6kGXP5erY0BqHcu8CU7xQkN+6X04qekiLUC1ZjqneFsuo3Ov1/aeuPo1aBwhFktbrZ2qGKLdfPz8Ejmo6UxYwOHO3Hs3It2OgBm7Yg2HPFVafk+aZrvR7V29WZArH5QWn6HdAOB4BbT8JsdPUdt6laUeSl4ttq7dnIBWToAjkj6UuYz0Kh/k5bvkqbZUL8+6UC4Tbr+ZlYjN8J09Xy+ojf+QWqaj33KBoET20mkA2BP9SGISZgDVe6WpkI8XcwFSZfRu6SlO6VNu6XtTDetxnlp+a+lG07nXM1bhpxbQhThTJfQ1QBQLwQW7FQmOIiN5NxhBupnpNXfki6+XXr5ddJNhMJkTKP/ZelVX5c6RadzFlFjAMh2CZkQmM1cqVF/ANAN5LinpOV76BJy0i4bDKZS+A3putfRfTSQmZb7fenn/yhNPyJtceVnueYASBzrxHFjq4j7A4BuIA/QJeSX22w30vukC2+ULr9BuhJSxWAWWZkN174nbZ+XtjT5lj9KQwGgJscFrgkA9UKAbSE8YXbJPMbUXa8l4fA2qXuz9IKpHLZLV7ZKm32rHkxDf1G67ofSle9Ku8/Z/Zt80WAAyI4LHKg7BAYFgDkh/6HMZ8JJZpbQR6VpV9+qUNxtqQU6SVCYf75R2mTGH9L/gbIri+elCy/arctfkTY9Yf97z0s3Pm2ny1Y5PbNODQeAbAgcrHNn0UwAiEVh3jELxz4nXccAMTA5BwJAdnD4QF0zhIbtf+H08mVc69XS1s9Km5+UltlLCJjM9FpR1Tjz4j3XjaKZOr6QYRUAg8GeohoAJuPYwRy1VAIDKwDbB3UqcwHOoxoA8nNwA8ZaKoGBAWB5ecINet4iTZtXhwd6bxIARphx8/yIykNgaABQBbTD/dLUT6SVO0J/EMAIZt+n4VcbVWkIDBwDSNhTbRaZEdQOZhXxJ5gyCmQsSl3Hd4GtZExgaAWgXhVwiRlB7XGHNP0v0ot0CwHrdvXWVLi+Bbh5CT9Z9lGTIwPAMgFQxnmZcIAZJE66he6SXuR7gtB9xJ8jQ/fZ7qDSQmDDALBVwJHMBXhtmzR1Str6z9IFxgcQsvvKPQ+4avvK7JUZ68btlqXzmQvw3q3Sjkd6p49dYNooQnOHfRny7LYPdaOolFmaIweB0+zisAUGhNvNHEP5p2w3jUCYCvhWf7fs/nDR8wTGDgBxXkAwLkurfyVdPi5NEQRoq4oPgq+D+fWcKbJ5XK4AENtFB4UgQJt5/vafONOJ44nXCEwy+HFYTCMMgtlW2MwY+k9p1Uwdpe8PbWFmwLWg8Tf2daNo4kHh3BWAODMgWFQEaAPzIvOMtOLh4O8od3bieG7E9YEmCgD1QuCkGY3OXEDrJUHwkDTFqmL45kF7iFLLvnHmnWxP3hPFigSAWYwwZ+elIlDflC58RtpBEMAHpuvHrH9p6Tfr4U4cH8x8dISJA0C9EJixIUD3cOCelp77rLSzLccDon3Mls+PS6stP4w/V1dQoQAQ4wHoc15a/oL02tPt/iWDZ6bsZoi3tK/rp99SJ473ZD46ROEl0J04NmMBJzIXECTzC3ZC2vK8nTnE6mI0zTT+T0oXA2j8jd15VgkXrgASrA/AMI9Lz/0F3UNoQNL475S2B/T8x14gVmYAMCiMkS5JKw9KVx6SOkwjRdUCbfwTpzpxfDjz0T6lBYDYLwg5mKrgK9LOx3hoqEDgjX9i70ZVQKkBIGYGIacXpO4j0itf5KQylMTM9vkn6aXXSJsDf6YbVgGlB4B6IWDmon4jcwEYwcwg+rL0KrqIMKl7pNUTzEBLG1kFVBIAYnooCjLrCk5L049IWwgDbMR0N5yWlu8IY6ZPHiOrgMoCQIQASkIYYBSzrfNX2re3T5mGVgGVHoXGGgGU4W3STlPWP9vr233OlPn8pmOqt5//8iN+nupVp2YqgAQbx6EKP5bOf03a+nWpwwByWMwiw49L17d8W4eyrHTieOBB8rUEgAgBVOx56cK3pVf9gzTNgrP2MtXfMekyb/y5DTw+srYAECGAmpjtqv9VWjbjBvPSFqoD/9HwFzZwp9BaA0CEABpg1hp8X/r5V+x2FAwk+8G09EeklXulKzdKndCfRwk6/ecF1B4AIgTQMNNdNCe9/Jh0y1lJVAhuMQu5Pi1deH87jmx0yb12Ys5VjQSAmCIKhyQVwvekG74jdc7yzamd2TX2I1L3Puk6unkqk+kGaiwARAjAYWaG0RPSy9+VdlMlVCNp9H9feiWQrZqblpkN1GgAiBCAJ8zA8pJ00YTCj6SbFqQtVAr5faD35/z7pa306zfimhPDGg8AsYEcPGbGE/5HuvxD6YqpFkylQDD0TNlVuu+Slu6UNr1x7bwgNOxYJ46vHhjjRACIEEDLmHGFZemFH0ibLkqbvmUHNNu6RmGX/fM+6cLbpcu/Jt3AG76T5jtxfCD5wpwJAHGoDALyE2nJ3K0JiBekl5+XbnzaNphnHZ2qmjTyU/atfq903RukK6+Xdmc+Ga66ZhzAqQDQegjMcrwksF5JmH9+RdpkxiDSj+VlafO3SpguuVda/XXpZ6l/X2vczT+/TrqJLRda5ermcM4FQIK1AgBQiasDwZXuBlqE3cP6Xr7/AFCqmeQvczYAtL6d9J2s3geA0lwdA3A6ANQLgTmbWGcyFwEAee1JPt/5AFAvBMyAhZm6dCpzEQCQh18BoF4IXLLjAp/MXAQA5OZNACQ6cXxc0u2MCwBAMd4FgHohsGDLmPnMRQDAWLwMAK13CZlxgWOZiwCADXkbAAm7sRFTRQEgJ+8DQOtTRU2X0MOZiwCAgVoRAFrvEjpoZwlRDQDABloTAAk7S+gAC8cAYLTWBYDsLKFOHJvVwycyFwEgbFdPBGtlACQ6cXzEDhAvZS4CQOBaHQC6di8hqgEAkBaTZ9D6AND6ADHVAACEFgAJqgEAWA8AZ08Eq1o3isxMIXPeAOeZAghGJ46j5F6DqgDSqAYABOia/dOCDQBdOzZwO+sGAARgMX2LQQdAIrVu4BiriAG02EL61giAFLux3Ax7CgFoqbn0bQU7CLyRbhSZfYWOM0gMoCVWOnG8LX0rVABDdOJ41lYDnDcAoA3m+u+BABjBDhKbbqG9nD4GwHOZAKALKAfWDgDw2N5OHDMLaFJm7UAnjvcwWwiAZ5b6G38RAJOx3UImCE75+PUDCM5s5iMEwOTs+MBhu4iM8QEALjs56GtjDKAkjA8AcNQZu9A1gwqgJKnxgXvZchqAQ44P+1KoACrQjSKz2OKI/TPVuhsE4AszWWWP6bIe9PVSAVQgtX6AGUMAmjQ7rPEXFUA9ulFkgsAEwqEQ7heAMzJz/9OoAGpgvgF2xtBepo4CqMmpUY2/qACaQUUAoAYj3/5FBdAMKgIAFdvw7V9UAG6gIgBQsg3f/kUF4AYqAgAlOjFO4y8qADdREQCY0Mh5//2oABzUVxGcYB0BgDEdGbfxFxWAH1hZDGAM8504PpDnQREAHrFBcNB2D7HpHICE6SWYGbfvP0EAeKobRaaLyPzZH/qzAKAP23PMcyEAPGe3oT7MgDEQrFN2zDA3AqAl7MyhIzYMGCcAwnBG0oE8A79pBEDLME4ABGOifv80AqDFbPeQqQruDv1ZAC10pzmIqshtEQABoHsIaJ17O3E88JzfPAiAwNjZQyYM9oX+LABPfbITx0OPecyDAAhUN4pmbBAcpCoAvDHxjJ9BCIDApQaNqQoAt5Xa+IsAQJqtCg4zVgA4p/TGXwQAhrFjBQeZQQQ0rrQ+/34EAEayM4iSLiLWFQD1KmW2zzAEAMZGFxFQG7PI62DRef4bIQAwkW4UHbSVAXsQAeUy2zsc7sTxQtXPlQBAIalZRIwXAMU9bBv/ifb2yYsAQGlSYcA21UB+lQ32DkMAoBKpwePDrC8ARqqty6cfAYDKpcLgIJUBcI1jnTg+2tQjIQBQK8YMgDWNvfWnEQBoTCoMDrAnEQJhpncerbuvfxgCAM6wU0uTMGDRGdrmlFlQWdcMn3EQAHCSXXR2gHEDtMC8bfgb7e4ZhACA82xX0YFUdxHVAXwwb7t7Kl3NWwQBAO+kqoMDDCTDQc43/AkCAN6zZx8n1QFrDtAU08d/0oeGP0EAoFVS3UUHCATUwMzqMbt1Hu/E8aJvD5wAQKsRCKiImcdvpnLOujSrJy8CAEGxgZAeQ2CGEca1ZBp8X9/2ByEAELy+QeUZZhkhZcU2+l717Y+LAAD6pLqNZlL/yyrlcCRv+nOdOJ5t810TAMAY7IZ2M4RCa82nGn3nFmxVhQAAJmRDYU8qEPYwyOwNM4g7F8Jb/igEAFAyuy4hHQ57GFdolOnHX0g1+K3ry58UAQDUxA4270lVC3voSipdurE3/7vQlhk7VSAAAAfYqkG2Ykimqm6jS2koM1C7aBv5xVRj7+2c/CYQAIAHUgGRBEMSEmppF5Ppo79kG/dF+8+mkb8U0iBt1QgAoEVsN9M2e0dJN5OG/LtqCI+kIU9bSH0sadhF414/AgAAQiTp/wGp07dbIvUIVgAAAABJRU5ErkJggg==",JR=n.p+"images/AWS.acd8cb645cd7e8bfd6537d313bcfa18a.png",XR="https://www.openshift.com/products/dedicated/",eS="https://www.ibm.com/cloud/openshift",tS="https://cloud.ibm.com/kubernetes/catalog/create?platformType=openshift",nS="https://azure.microsoft.com/en-us/services/openshift",rS="https://cloud.redhat.com/products/amazon-openshift";function aS(){return(aS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const sS=()=>[{title:null,cellFormatters:[lt.expandable],transforms:[(0,lt.cellWidth)(10)]},{title:"Offerings",transforms:[(0,lt.cellWidth)(25)]},{title:"Purchased through",transforms:[(0,lt.cellWidth)(20)]},{title:"",transforms:[(0,lt.cellWidth)(20)]},{title:"Get started"}],lS=(e=!0,t=!0,n=!0,r=!1)=>{let s=a().createElement(p.Button,{component:"a",href:XR,variant:"secondary",rel:"noopener noreferrer",target:"_blank"},"Learn more"),l="";n&&(r&&(l="create-cluster"),s=a().createElement(o.Link,{id:"create-cluster",to:"/create/osd"},a().createElement(p.Button,{className:l},"Create cluster")));const i={cells:[{title:a().createElement(a().Fragment,null,a().createElement("img",{className:"partner-logo",src:KR,alt:"OSD"}))},a().createElement(a().Fragment,null,a().createElement("a",{href:XR,rel:"noopener noreferrer",target:"_blank"},"Red Hat OpenShift Dedicated")),"Red Hat","Available on AWS and GCP",a().createElement(a().Fragment,null,s)]},c={parent:0,fullWidth:!0,cells:[{title:a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,"A complete OpenShift cluster provided as a fully-managed cloud service dedicated to a single customer. Reduce operational complexity and focus on building and scaling applications that add more value to your business.",a().createElement("br",null),"Hosted on Amazon Web Services (AWS) and Google Cloud."),a().createElement(y.v,null,a().createElement("a",{href:XR,rel:"noopener noreferrer",target:"_blank"},"Learn more about Red Hat OpenShift Dedicated"," ",a().createElement(at.ZP,null))))}]};return e?(i.isOpen=t,[i,c]):[i]},iS=({hasOSDQuota:e,trialEnabled:t})=>a().createElement(a().Fragment,null,(e||t)&&a().createElement(Ne.NP,{variant:"light"},a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,a().createElement(R.Title,{headingLevel:"h2"},"Active subscriptions")),a().createElement(y.v,null,((e,t)=>{const n=sS();let r=[];return e&&(r=lS(!1,!0,!0,t)),t&&r.unshift((()=>{const e=a().createElement(o.Link,{id:"create-trial-cluster",to:"/create/osdtrial?trial=osd"},a().createElement(p.Button,{className:"create-trial-cluster"},"Create trial cluster"));return{cells:[{title:a().createElement(a().Fragment,null,a().createElement("img",{className:"partner-logo",src:KR,alt:"OSD"}))},a().createElement(a().Fragment,null,a().createElement("a",{href:XR,rel:"noopener noreferrer",target:"_blank"},"Red Hat OpenShift Dedicated Trial")),"Red Hat","Available on AWS and GCP",a().createElement(a().Fragment,null,e)]}})()),a().createElement(lt.Table,{className:"managed-subscriptions","aria-label":"Managed subscriptions",cells:n,rows:r},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null))})(e,t),a().createElement(o.Link,{to:"/quota"},a().createElement(p.Button,{id:"subscriptions",variant:"link"},"View your available quota"," ",a().createElement(at.ZP,null)))))),a().createElement(Ne.NP,null,a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,a().createElement(R.Title,{headingLevel:"h2"},"Managed services")),a().createElement(y.v,null,"Create clusters in the cloud using a managed service.",((e,t)=>{const[n,s]=(0,r.useState)([]),l=e||t?{azure:0,ibm:2,aws:4}:{osd:0,azure:2,ibm:4,aws:6},i=[{isOpen:n.includes(l.azure),cells:[a().createElement(a().Fragment,null,a().createElement("img",{className:"partner-logo",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMyAyMyI+PHBhdGggZmlsbD0iI2YzZjNmMyIgZD0iTTAgMGgyM3YyM0gweiIvPjxwYXRoIGZpbGw9IiNmMzUzMjUiIGQ9Ik0xIDFoMTB2MTBIMXoiLz48cGF0aCBmaWxsPSIjODFiYzA2IiBkPSJNMTIgMWgxMHYxMEgxMnoiLz48cGF0aCBmaWxsPSIjMDVhNmYwIiBkPSJNMSAxMmgxMHYxMEgxeiIvPjxwYXRoIGZpbGw9IiNmZmJhMDgiIGQ9Ik0xMiAxMmgxMHYxMEgxMnoiLz48L3N2Zz4=",alt:"Microsoft"})),a().createElement(a().Fragment,null,a().createElement("a",{href:nS,target:"_blank",rel:"noopener noreferrer"},"Azure Red Hat Openshift")),"Microsoft Azure","Flexible hourly billing",a().createElement(a().Fragment,null,a().createElement(p.Button,{component:"a",href:nS,variant:"secondary",target:"_blank",rel:"noopener noreferrer",className:"get-started-button"},"Try it on Azure"))]},{parent:l.azure,fullWidth:!0,cells:[{title:a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,"A flexible, self-service deployment of OpenShift clusters provided as a fully-managed cloud service by Microsoft and Red Hat.",a().createElement("br",null),"Hosted on Microsoft Azure."),a().createElement(y.v,null,a().createElement("a",{href:nS,target:"_blank",rel:"noopener noreferrer"},"Learn more about Azure Red Hat OpenShift"," ",a().createElement(at.ZP,null))))}]},{isOpen:n.includes(l.ibm),cells:[a().createElement(a().Fragment,null,a().createElement("img",{className:"partner-logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAALXklEQVR42u1af3CV5ZV+nvN9Nzc3NxBCyA9CCAmERhpFMRaqqa601e5SVzu7SqUzutUK2F3tVqd23dnZNtPVdq3TdrfVdixStzpMZ0Drdmf9QXdsKf7oikS7rNEAkUAgISU/biDc5N7c7z1n/7gBDRAgcJNsnDx/5E7e733P957nO+855z3vC0xhClOYwhQmAGZS17L741fu2bN4IqfBiXrxVbv3XGuwzaRBnCvcUl3dNRHz8CfMAJyLGAUgkQTCEzUPmagXO+fDlDCd2JV4zgRcsrWtrva11s+dlxUoYEoAOec0/iYz71MdO29e3tZUPa4ELN7cEQXsN+r47JKXW28/NxMAcJ4W0H1g1z/C8RdCPjuuBOy4trifirdNCZh8d+nrBwrORX8zwIzAwDk40f3vLTTj/aaAOdk5vkuANKf212ZUUxQkE/bQ6M1f3DEfIGo26okH+qgpw6bsD5y7d9x9wI5Pzn1dletMCShvv+Q3bXWjGe/1y2um2G7K519dMrdjVF+/ufnzprzGFIDhwa0VF7RMSB5w0cv78jnoN4EoIu1tf1rHpQ2XXZYaS69d19Q0zZPQu6DNAbErarb4hYULkxMSBv/3ynkxqNyXNmVeGByefeeYZ270v6mGOWY0Aneej/IZyQN2fLrkKVW+ZEo4s5KxT6A435RQw89/V1X124nPBEnzNnfc4GhL0HN425m6X/1b8+PSPtt8l0cgYtQAoVC/kd0NtbO7QZ7WIQYh/aKX8v4lq731tUmxF6h+pXNaOJX8DIA6IS6GoIyEAy0JIkkiQVgCRBzEYRHbReG7cPLOvH1z3tu0km5SboYu3Nx2BT1+GcA1pPGYsqAlSSRBJIWWVEFcaP2gxAGNC6yflDjExY2I+fQavUT8nVc/cUHfpCDggv9sr/U8PgRiGWlJkkkQ/aC9SurrBmmkL/udSmf2tNZkIhIhDhVm+eFkHlRnePSKIVoowlzA+iGI0ywuIWk9mnVkX2NNzWDGCah4IlZB0cdBNpkLHth7W1HHaAWVbdwfyY2E/pnEHUKkjJYg0WhiP8vKSj73h+WVvaORV7u9PQfJYLZ5Ugi4lE8XiC+DfogdryyeFzsXZa9ubr5QBV8jcKSocsE9m0hHACj/WeyvSPs30MD0WvxeNNs93Liy6OjZCF709KGF6tszJCqHTHwXYA+8e13JC2dyamdROOHSbW0zaTYz8E2BVMpz4fi2pXN6zlb21bt3lwVOvkXBraB5JAzAvK1VVfsJADUbLavvaO/9ELuPQO4QEX804bdmxfPXNazliMlN9TN/rDNwI4gc0gYg9mMX6nu4ecX5xedTVZCWbmvLN6ZCtFAqnpuVbPxoYfx0JNRufy8vOyL3g/a3ICKkAUSbCP5u68IFG07yAZXrjharDH7DBKtJhIaI2GXEbftuKTgp7FRt7L4c0GdJ843o9o1rm24q3DKWXrvq+d3hcCQvVIh40Det242UeS77w55bRPgDEAVDih+m2EOJeORfGy4r7T+tE5zz086PeCH/24D9BQmK2HMttxZcN4yspzqrxcevQYRJdNC4avfNs94dr3pibUODN39PrW66CXoqK1j21t52ErNBGyTxYxcKPbBtUVn3qKLAnHXdHxdPbvQNT7V8Kf9/jrUXP9kRzRFvM4UVgHWLL6uaVxa8M85FVZ7O/Je9sXeFeXYVPD627eKKloyGwYqfd30H5BdIDMDD3S1fKPivMVe43qT20wfL1AUVoFdq0Gkebbp54kg7CnEHQ2qN/3155d4xzQMq18cuVs+eBi0F2oZ9t856cCz1XvLr1tLA5yUwuUgEMwiLgIiYIOIR2SoWESAy5IRngOgj7QUKnnzjY/P2ZJyAuetjj5O2FET7QDS4sfMsQ+VoUfPi/pkw72MgyukjQlqEQDYJgyAG2iDIkJiFQauAYD4FBQBmkDaDRBTksyGHv//9FXPbMkLAvHVdixy8DSSThPt+6x0Fm8ZibV/03KHKwNMLxJBDsYjRUibYSaf7Gj9TFjvl2jfjkpdbF8HjnxL8SxJVoM0gLQnKPduXzV1/3gSUPtZ7H2k3EOjKTsz4fPNXmNlYv9G8mnBnZQArFg8REdPA95p2XjPr4GgSqqrnd4fz8sK3G+TrpJaB8EFbN7+1/Msnbq5kNE4IyjoL2GeOL2RceTNWh7uKk+ayqJIQx72FkeKtO68tbB9tNtm8YmGyoa78JwH8Zeb4kikVytV75h54cHT1gHrzq2bCay5BUHjwyHx1IMmYOPdapi2/+j+6ciWAGSShWalDTX9eet5HZTvqSg7VNDZenxWb/ijAcgB3Xfr71iNvXl7+7dNbQL1llfwgVlGanyjt7o9lV8QR8oCFUPaaQ0+25e/KdHaXSnoiLitJXzp3ZUD5Y2isqRl8q65srRmyTRGF8p8ufaX1yhEJKH64r6goO75cU96cpAbRnFzf3zsIp4p8U/YCbMmo+deb9LuoFwo79RIDyZ03FGZ+30+qqLtZVTpMIQQfr92+PXQSAXnfTSxIBfI5heU7SkRSjLXdNb0ba5kyMGyKXihbMzm3q/8EktWV1N7DTnfsKR7AGKHhqoqDEuhdpoQqP+IGilYPIyC3vq/IS7lbTC3PgX7Kc292fj33eF2ATlKq7DXHnkxObEsnLBqt0EVzi5Oo55gelb61vOyXZrLNFIDKPTCTNAGPWcijd68qZ8K8UJDQF4/cmzdMUecsTkUMcPGMzuomaCPgtixnMObpNGlQ/d7QiVTVpVvalvoAMK1t4DqIVJuzHhPd3Fc//WQnpOhVoQJ+MuOTsvE7JI8nIi/mhBODALOc4M8EaywEk9VOLWrA/sPfiDacaqBT9lC116V0cEy+zDiheUXBEShfHbKCpZJbEFxhikqqRAPn/WqkgWLSnVI5gg8BTNE8dKpcJU71OlNGTS3obwrtGHFUEDnsOU2KhlL4oYUnMwFqPJi2ACsQMS41IKrA29g08iFED3DUMZQI1JKzBpA1qS3AQU0BM6GootQco1B2nz5hoTovdSQVuGRKD/uTewmw3JQwZz1ixvdM8aY5dp5p4NHB3D4PbjAkeQHqTSYzAVDAjC1iilJTXm4mNWdOW5nIxfRE1wEMYgJvmJ0PFm/uiJrhCjNCjQ2iyo60R7TysxHQDiRQkL7iNBkJSPbJZ02Zk84G9UWfam8YeQ2Iq7DGcvBT9p/JF6SvN41f7M5wBFgDNYBs25Uq2SoW+L8cSgqiWRH32bPMXCal8lW/6LzeFJ9K32vCo1hJJ6mf4E0YdpoRqqxHvU1qDz8S5m/syVPj99OXM9EeMvxoaDdIM5X7hx581O/Sr37YlK99zEI2aE+bYkH6biPvOnbwe7woyjv1JSE+CZoD7Xr3qP/8h0H5qh9aODW95wkSq0CA5CMtt8y8+6SKkIGrTNFiSg8qG72/CVZOduUrnohVDOb2vGLGVWaEKf+9JZw/zMKHl8XvsEUU+x2JQhBG2iNuUOqxPrNFkLHGrPWd0yKB9xUTfo3EjPSXtycLU/l3nHjUf/K5wBorp+IZiF1GAkMXlx6hJ8+kfsS3/t9qXW9+SUHvJ8TjChC3kZg1pHgMsLsPrJm54ZTx7JTCvmjZCOEfSHwVtNwhIkBaO2jNAu4HLQ4BRIZLogAQPd4mUIzcLx1NZahN5AOLkpru6qerMWlZGCaLwhCoRUbOFlgVaNPfnyuSoG2g777ZtrrgwIgB/bSs3mlFcLiXtBtBLGBaMIYuThwj5dgLT2gfud+Iz2Q0Mj743mH/N1Lwq1TIe6RrbfTgGTOaszaxL9lM+IMlYFYugBxfkD3suZ8u6XnH/xxr/8CPd4JM3w3rd/zxCf18/wPlQu/9H2dwnqcD5nn9lKAvlD29rX3tGTLZKUxhClOYwvv4P3jAdNqPaWaOAAAAAElFTkSuQmCC",alt:"IBM Cloud"})),a().createElement(a().Fragment,null,a().createElement("a",{href:eS,target:"_blank",rel:"noopener noreferrer"},"Red Hat OpenShift on IBM Cloud")),"IBM","Flexible hourly billing",a().createElement(a().Fragment,null,a().createElement(p.Button,{component:"a",href:tS,variant:"secondary",target:"_blank",rel:"noopener noreferrer",className:"get-started-button"},"Try it on IBM"))]},{parent:l.ibm,fullWidth:!0,cells:[{title:a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,"A preconfigured OpenShift environment provided as a fully-managed cloud service at enterprise scale.",a().createElement("br",null),"Hosted on IBM Cloud."),a().createElement(y.v,null,a().createElement("a",{href:eS,target:"_blank",rel:"noopener noreferrer"},"Learn more about Red Hat OpenShift on IBM Cloud"," ",a().createElement(at.ZP,null))))}]},{isOpen:n.includes(l.aws),cells:[a().createElement(a().Fragment,null,a().createElement("img",{className:"partner-logo",src:JR,alt:"AWS"})),a().createElement(a().Fragment,null,a().createElement("a",{href:rS,target:"_blank",rel:"noopener noreferrer"},"Red Hat OpenShift Service on AWS")),"Amazon Web Services","Flexible hourly billing",a().createElement(a().Fragment,null,a().createElement(p.Button,{component:e=>a().createElement(o.Link,aS({},e,{to:"/create/rosa/welcome"})),variant:"secondary",className:"get-started-button"},"Create cluster"))]},{parent:l.aws,fullWidth:!0,cells:[{title:a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,"Build, deploy, and manage Kubernetes applications with Red Hat OpenShift running natively on AWS.",a().createElement("br",null),"Hosted on AWS."),a().createElement(y.v,null,a().createElement("a",{href:rS,target:"_blank",rel:"noopener noreferrer"},"Learn more about Red Hat OpenShift Service on AWS"," ",a().createElement(at.ZP,null))))}]}],c=e||t?i:lS(!0,n.includes(l.osd),e).concat(i);return a().createElement(lt.Table,{"aria-label":"Managed services table",rows:c,cells:sS(n.length),onCollapse:(e,t,r)=>{s(r?[...n,t]:n.filter((e=>e!==t)))}},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null))})(e,t)))),a().createElement(Ne.NP,null,a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,a().createElement(R.Title,{headingLevel:"h2"},"Run it yourself")),a().createElement(y.v,null,"Run OpenShift clusters on your own by installing from another cloud provider.",(()=>{const e=[[a().createElement(a().Fragment,null,a().createElement(o.Link,{to:"/install/aws"},"AWS (x86_64)")),"Full stack automation and pre-existing infrastructure"],[a().createElement(a().Fragment,null,a().createElement(o.Link,{to:"/install/aws/arm",className:"pf-u-mr-xs"},"AWS (ARM)"),a().createElement(YR,null)),"Full stack automation and pre-existing infrastructure"],[a().createElement(a().Fragment,null,a().createElement(o.Link,{to:"/install/azure"},"Azure")),"Full stack automation and pre-existing infrastructure"],[a().createElement(a().Fragment,null,a().createElement(o.Link,{to:"/install/gcp"},"Google Cloud")),"Full stack automation and pre-existing infrastructure"],[a().createElement(a().Fragment,null,a().createElement(o.Link,{to:"/install/platform-agnostic"},"Platform agnostic (x86_64)")),"Pre-existing infrastructure"]];return a().createElement(lt.Table,{className:"run-it-yourself","aria-label":"Run it yourself",cells:["Cloud provider","Installation options"],rows:e},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null))})())))),oS=iS;iS.propTypes={hasOSDQuota:l().bool.isRequired,trialEnabled:l().bool.isRequired};class cS extends a().Component{componentDidMount(){const{token:e}=this.props,t=e.errorMessage||"";(e.internalErrorCode||"")!==W.gz&&Q.Tb(new Error(`Failed to fetch OCP token: ${t}`))}render(){const{token:e}=this.props,t=e.internalErrorCode||"",n=e.errorMessage||"",r=t===W.gz?n:a().createElement(a().Fragment,null,n,a().createElement("br",null),a().createElement("br",null),"Try again by refreshing the page. If the problem persists, report the issue to"," ",a().createElement("a",{href:"mailto:ocm-feedback@redhat.com",rel:"noreferrer noopener",target:"_blank"},"ocm-feedback@redhat.com"," ",a().createElement(Or.ZP,{color:"#0066cc",size:"sm"})),".");return a().createElement(Ur.bZ,{variant:"danger",isInline:!0,className:"token-error-alert",title:"Failed to obtain pull secret"},r)}}cS.propTypes={token:l().object.isRequired};const uS=cS;function dS(){return(dS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const pS={[Mo.rj.CRC]:"Download CodeReady Containers",[Mo.rj.OC]:"Download command-line tools",[Mo.rj.X86INSTALLER]:"Download installer",[Mo.rj.IBMZINSTALLER]:"Download installer",[Mo.rj.PPCINSTALLER]:"Download installer",[Mo.rj.ARMINSTALLER]:"Download installer",[Mo.rj.ROSA]:"Download command-line tools"},mS={[Mo.rj.OC]:"OCP-Download-CLITools",[Mo.rj.BUTANE]:"Download-BUTANE-CLI",[Mo.rj.COREOS_INSTALLER]:"Download-CoreOSInstaller-CLI",[Mo.rj.CRC]:"OCP-Download-CRC",[Mo.rj.HELM]:"Download-HELM-CLI",[Mo.rj.X86INSTALLER]:"OCP-Download-X86Installer",[Mo.rj.IBMZINSTALLER]:"OCP-Download-IBMZInstaller",[Mo.rj.PPCINSTALLER]:"OCP-Download-PPCInstaller",[Mo.rj.ARMINSTALLER]:"OCP-Download-ARMInstaller",[Mo.rj.OCM]:"Download-OCM-CLI",[Mo.rj.ODO]:"Download-ODO-CLI",[Mo.rj.OPM]:"Download-OPM-CLI",[Mo.rj.RHOAS]:"Download-RHOAS-CLI",[Mo.rj.ROSA]:"Download-ROSA-CLI"},hS=({url:e,disabled:t=!1,download:n=!0,tool:r=Mo.rj.X86INSTALLER,pendoID:s,text:l="",name:i=""})=>{const o=l||pS[r],c=i||mS[r],u=n?{download:!0}:{rel:"noreferrer noopener",target:"_blank"};return a().createElement(p.Button,dS({component:"a",href:e,variant:"secondary",className:`download-button tool-${r.toLowerCase()}`,onClick:()=>{x(c,s)},disabled:!e||t},u),o)};hS.propTypes={pendoID:l().string,url:l().string,disabled:l().bool,download:l().bool,tool:l().oneOf(Object.values(Mo.rj)),text:l().string,name:l().string};const gS=hS;var bS=n(11206);const ES=({children:e})=>a().createElement("div",{style:{textAlign:"right"}},a().createElement("span",{style:{display:"inline-block"}},e));ES.propTypes={children:l().node.isRequired};const fS=ES,yS={ALL:"All categories",CLI:"Command-line interface (CLI) tools",DEV:"Developer tools",INSTALLATION:"OpenShift installation",RHCOS:"RHCOS management tools",TOKENS:"Tokens"},vS=({selectedCategory:e,setCategory:t})=>a().createElement(ra.FormSelect,{"aria-label":"Select category",value:e,onChange:t},["ALL","CLI","DEV","INSTALLATION","RHCOS","TOKENS"].map((e=>a().createElement(aa.FormSelectOption,{key:e,value:e,label:yS[e]}))));vS.propTypes={selectedCategory:l().oneOf(Object.keys(yS)).isRequired,setCategory:l().func.isRequired};const OS=vS,CS=({selectedCategory:e,category:t,description:n,children:r})=>("ALL"===e||e===t)&&a().createElement(a().Fragment,null,a().createElement("div",{className:"downloads-section-header"},a().createElement(R.Title,{headingLevel:"h2"},yS[t]),n&&a().createElement("div",{className:"description"},n)),r);CS.propTypes={selectedCategory:l().string.isRequired,category:l().string.isRequired,description:l().node,children:l().node};const RS=CS;var SS=n(92055),PS=n.n(SS);function wS({token:e,pendoID:t,text:n}){const r=!e||!!e.error||P()(e),s=e.error?"":`${JSON.stringify(e)}\n`,l=a().createElement(p.Button,{variant:"secondary",isDisabled:r,onClick:()=>x("OCP-Download-PullSecret",t)},n);return r?l:a().createElement(PS(),{file:"pull-secret",content:s,style:{display:"inline"}},l)}wS.propTypes={token:l().object.isRequired,pendoID:l().string,text:l().string},wS.defaultProps={text:"Download pull secret"};const TS=wS;var DS=n(10141);function _S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class IS extends a().Component{constructor(e){super(e),_S(this,"state",{clicked:!1}),_S(this,"onCopy",(()=>{this.timer&&window.clearTimeout(this.timer),this.setState({clicked:!0},(()=>{this.timer=window.setTimeout((()=>{this.setState({clicked:!1}),this.timer=null}),2500)}))})),this.timer=null}render(){const{token:e,text:t,variant:n,pendoID:r}=this.props,s=!e||!!e.error||P()(e),{clicked:l}=this.state,i=e.error?"":`${JSON.stringify(e)}\n`,o="link-inplace"===n&&l?"Copied!":t,c=a().createElement(wy.CopyToClipboard,{text:s?"":i,onCopy:this.onCopy},a().createElement(p.Button,{variant:"link",type:"button",tabIndex:0,isAriaDisabled:s,icon:a().createElement(DS.ZP,null),onClick:()=>x("OCP-Copy-PullSecret",r)},o));return"link-inplace"===n?c:a().createElement(Vr.Tooltip,{trigger:"manual",content:"Copied!",position:"right",isVisible:l},c)}}IS.propTypes={pendoID:l().string,token:l().object.isRequired,text:l().string,variant:l().oneOf(["link-tooltip","link-inplace"]).isRequired},IS.defaultProps={text:"Copy pull secret"};const AS=IS;function NS(){return(NS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function LS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LS(Object(n),!0).forEach((function(t){kS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const jS=()=>a().createElement(lt.Thead,null,a().createElement(lt.Tr,null,a().createElement(lt.Th,{width:10}),a().createElement(lt.Th,{width:40},"Name"),a().createElement(lt.Th,{width:20},"OS type"),a().createElement(lt.Th,{width:20},"Architecture type"),a().createElement(lt.Th,{width:10})));function xS(){const{platform:e}=window.navigator;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?Mo.wQ.mac:-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)?Mo.wQ.windows:/Linux/.test(e)?Mo.wQ.linux:null}const qS=(e,t,n)=>Mo.yi.filter((({value:r})=>Mo.Ij.find((({value:a})=>(0,tn.has)(e,[t,n,a,r]))))),US=(e,t,n,r)=>Mo.Ij.filter((({value:a})=>(0,tn.has)(e,[t,n,a,r]))),zS=(e,t,n,r,s)=>a().createElement(ra.FormSelect,{value:r,onChange:s,"aria-label":"Select OS dropdown"},a().createElement(aa.FormSelectOption,{key:"select",value:"select",label:"Select OS",isDisabled:!0}),qS(e,t,n).map((({value:e,label:t})=>a().createElement(aa.FormSelectOption,{key:e,value:e,label:t})))),FS=(e,t,n,r,s,l)=>{const i=((e,t,n)=>Mo.Ij.filter((({value:r})=>Mo.yi.find((({value:a})=>(0,tn.has)(e,[t,n,r,a]))))))(e,t,n),o=US(e,t,n,r);return a().createElement(ra.FormSelect,{"aria-label":"Select architecture dropdown",value:s,onChange:l,isDisabled:o.length<=1},a().createElement(aa.FormSelectOption,{key:"select",value:"select",label:"Select architecture",isDisabled:!0}),i.map((s=>((e,t,n,r,{value:s,label:l})=>(0,tn.has)(e,[t,n,s,r])?a().createElement(aa.FormSelectOption,{key:s,value:s,label:l}):a().createElement(aa.FormSelectOption,{isDisabled:!0,key:s,value:s,label:l,title:"This type of architecture is not available for the selected OS type"}))(e,t,n,r,s))))},ZS=(e,t,n,r)=>{var a,s;const l=qS(e,t,n).map((e=>e.value)),i=r&&l.includes(r)?r:null==l?void 0:l[0];return{OS:i,architecture:null===(a=US(e,t,n,i))||void 0===a||null===(s=a[0])||void 0===s?void 0:s.value}},BS=MS(MS({},Mo.rj),{},{PULL_SECRET:"pull-secret",TOKEN_OCM:"ocm-api-token"}),GS=e=>`tool-${e}`,HS=({expanded:e,setExpanded:t,expandKey:n,cells:r,description:s,toolRefs:l})=>{const i=!!e[n];return a().createElement(lt.Tbody,{isExpanded:i,ref:(0,tn.get)(l,n)},a().createElement(lt.Tr,null,a().createElement(lt.Td,{expand:{isExpanded:i,onToggle:(r,a,s)=>{t(MS(MS({},e),{},{[n]:s}))}}}),r),a().createElement(lt.Tr,{isExpanded:i},a().createElement(lt.Td,{colSpan:1+r.length},a().createElement(lt.ExpandableRowContent,null,s))))};HS.propTypes={expanded:l().object,setExpanded:l().func,toolRefs:l().object,expandKey:l().oneOf(Object.values(BS)),cells:l().arrayOf(l().node),description:l().node};const VS=({expanded:e,setExpanded:t,selections:n,setSelections:r,toolRefs:s,urls:l,tool:i,channel:o,name:c,description:u})=>{const d=((e,t,n,r,s,l)=>{const{OS:i,architecture:o}=e[r]||ZS(n,r,s,xS());if(0===qS(n,r,s).length){const e=(0,tn.get)(n,[r,s,"fallbackNavigateURL"]);return{osDropdown:"",archDropdown:"",downloadButton:a().createElement(gS,NS({url:e,download:!1,tool:r},l))}}const c=(0,tn.get)(n,[r,s,o,i]);return{osDropdown:zS(n,r,s,i,(a=>{let l=o;if(!(0,tn.has)(n,[r,s,o,a])){const e=US(n,r,s,a);l=e.length>1?"select":e[0].value}t(MS(MS({},e),{},{[r]:{OS:a,architecture:l}}))})),archDropdown:FS(n,r,s,i,o,(n=>{t(MS(MS({},e),{},{[r]:{OS:i,architecture:n}}))})),downloadButton:a().createElement(gS,NS({url:c,tool:r},l))}})(n,r,l,i,o,{text:"Download"});return a().createElement(HS,{expanded:e,setExpanded:t,toolRefs:s,expandKey:i,cells:[a().createElement(lt.Td,{dataLabel:"Name"},c),a().createElement(lt.Td,{dataLabel:"OS"},d.osDropdown),a().createElement(lt.Td,{dataLabel:"Architecture"},d.archDropdown),a().createElement(lt.Td,null,a().createElement(fS,null,d.downloadButton," "))],description:u})};VS.propTypes={expanded:l().object,setExpanded:l().func,selections:l().object,setSelections:l().func,toolRefs:l().object,urls:l().object,tool:l().oneOf(Object.values(Mo.rj)),channel:l().oneOf(Object.values(Mo.ZW)),name:l().node,description:l().node};const $S={CLI:[Mo.rj.OC,Mo.rj.OCM,Mo.rj.ROSA],DEV:[Mo.rj.ODO,Mo.rj.HELM,Mo.rj.OPM,Mo.rj.RHOAS],INSTALLATION:[Mo.rj.X86INSTALLER,Mo.rj.IBMZINSTALLER,Mo.rj.PPCINSTALLER,Mo.rj.ARMINSTALLER,Mo.rj.CRC],RHCOS:[Mo.rj.BUTANE,Mo.rj.COREOS_INSTALLER],TOKENS:[BS.PULL_SECRET,BS.TOKEN_OCM]};$S.ALL=[].concat(...Object.values($S));const QS=()=>a().createElement(lt.Thead,null,a().createElement(lt.Tr,null,a().createElement(lt.Th,{width:10}),a().createElement(lt.Th,{width:90}),a().createElement(lt.Th,{width:10})));class WS extends a().Component{constructor(...e){super(...e),kS(this,"state",{selectedCategory:"ALL",expanded:WS.initialExpanded(),selections:{}}),kS(this,"toolRefs",WS.makeRefs()),kS(this,"setCategory",(e=>{this.setState({selectedCategory:e})})),kS(this,"setExpanded",(e=>{this.setState({expanded:e});const t=Object.keys(e).filter((t=>e[t]));if(1===t.length){const e=`#${GS(t[0])}`,{location:n,history:r}=this.props;e!==n.hash&&r.replace(MS(MS({},n),{},{hash:e}))}})),kS(this,"setSelections",(e=>{this.setState({selections:e})})),kS(this,"focusRowByHash",(()=>{const{location:e}=this.props,t=e.hash.replace("#",""),n=Object.values(BS).find((e=>GS(e)===t));if(n){var r;const{expanded:e}=this.state;this.setExpanded(MS(MS({},e),{},{[n]:!0}));const t=null===(r=this.toolRefs[n])||void 0===r?void 0:r.current;if(t){t.scrollIntoView({block:"start",behavior:"smooth"});const e=t.querySelector("button, select");e&&e.focus({preventScroll:!0})}}}))}static initialExpanded(){const e={};return Object.values(BS).forEach((t=>{e[t]=!1})),e}static makeRefs(){const e={};return Object.values(BS).forEach((t=>{e[t]=a().createRef()})),e}componentDidMount(){document.title="Downloads | Red Hat OpenShift Cluster Manager";const{getAuthToken:e,githubReleases:t,getLatestRelease:n}=this.props;e(),Mo.rD.forEach((e=>{t[e].fulfilled||n(e)})),this.focusRowByHash(),window.addEventListener("hashchange",this.focusRowByHash)}componentWillUnmount(){window.removeEventListener("hashchange",this.focusRowByHash)}render(){const{token:e,githubReleases:t}=this.props,{selectedCategory:n,expanded:r,selections:s}=this.state,l=(0,Mo.Le)(t),i=$S[n],c=!i.every((e=>r[e]));return a().createElement(a().Fragment,null,a().createElement(qe.Z,{className:"downloads-page-header"},a().createElement(O.P,null,a().createElement(C.J,{isFilled:!0},a().createElement(Ue.Z,{className:"ocm-page-title",title:"Downloads"}))),a().createElement(O.P,{className:"subheader"},a().createElement(C.J,null,a().createElement(OS,{selectedCategory:n,setCategory:this.setCategory})),a().createElement(C.J,null,a().createElement(bS.q,{className:"expand-collapse-all",isExpanded:!c,onToggle:()=>{this.setState((0,wO.ZP)((e=>{i.forEach((t=>{e.expanded[t]=c}))})))}},c?"Expand all":"Collapse all")))),a().createElement(Ne.NP,{className:"downloads-page-body"},a().createElement(Ne.NP,{variant:"light",padding:{default:"noPadding"},className:"downloads-page-body"},a().createElement(RS,{selectedCategory:n,category:"CLI",description:a().createElement(h.xv,null,"Download command line tools to manage and work with OpenShift from your terminal.")},a().createElement(lt.TableComposable,{"aria-label":"CLI tools table"},a().createElement(jS,null),((e,t,n,r,s,l)=>{const i={expanded:e,setExpanded:t,selections:n,setSelections:r,toolRefs:s,urls:l};return a().createElement(a().Fragment,null,a().createElement(VS,NS({},i,{tool:Mo.rj.OC,channel:Mo.ZW.STABLE,name:a().createElement(a().Fragment,null,"OpenShift command-line interface (",a().createElement("code",null,"oc"),")"),description:a().createElement(h.xv,null,"Create applications and manage OpenShift projects from the command line using the OpenShift client"," ",a().createElement("code",null,"oc"),"."," ",a().createElement(Rr,{ExternalLink:!0,href:Mo.ZP.CLI_TOOLS_OCP_GETTING_STARTED},"Get started"))})),a().createElement(VS,NS({},i,{tool:Mo.rj.OCM,channel:Mo.ZW.STABLE,name:a().createElement(a().Fragment,null,"OpenShift Cluster Manager API command-line interface (",a().createElement("code",null,"ocm"),")"," ",a().createElement(YR,null)),description:a().createElement(m.D,null,a().createElement(h.xv,null,"Manage your OpenShift clusters from the command line using the OpenShift Cluster Manager API client"," ",a().createElement("code",null,"ocm"),"."," ",a().createElement(Rr,{href:Mo.ZP.OCM_CLI_DOCS},"Get started")))})),a().createElement(VS,NS({},i,{tool:Mo.rj.ROSA,channel:Mo.ZW.STABLE,name:a().createElement(a().Fragment,null,"Red Hat OpenShift Service on AWS command-line interface (",a().createElement("code",null,"rosa"),")"),description:a().createElement(h.xv,null,"Manage your Red Hat OpenShift Service on AWS (ROSA) clusters from the command line using the ROSA client for OCM and AWS APIs."," ",a().createElement(Rr,{href:Mo.ZP.ROSA_DOCS},"Get started"))})))})(r,this.setExpanded,s,this.setSelections,this.toolRefs,l))),a().createElement(RS,{selectedCategory:n,category:"DEV",description:a().createElement(h.xv,null,"Access all the powers of Kubernetes through a simplified workflow with Red Hats developer tools."," ",a().createElement(Rr,{href:"https://developers.redhat.com/topics/developer-tools"},"Learn more"))},a().createElement(lt.TableComposable,{"aria-label":"Developer tools table"},a().createElement(jS,null),((e,t,n,r,s,l)=>{const i={expanded:e,setExpanded:t,selections:n,setSelections:r,toolRefs:s,urls:l};return a().createElement(a().Fragment,null,a().createElement(VS,NS({},i,{tool:Mo.rj.ODO,channel:Mo.ZW.STABLE,name:a().createElement(a().Fragment,null,"Developer-focused CLI for OpenShift (",a().createElement("code",null,"odo"),")"),description:a().createElement(h.xv,null,"Write, build, and deploy applications on OpenShift with"," ",a().createElement("code",null,"odo"),", a fast, iterative, and straightforward CLI tool for developers."," ",a().createElement(Rr,{href:Mo.ZP.ODO_DOCS},"Learn more"))})),a().createElement(VS,NS({},i,{tool:Mo.rj.HELM,channel:Mo.ZW.STABLE,name:a().createElement(a().Fragment,null,"Helm 3 CLI (",a().createElement("code",null,"helm"),")"),description:a().createElement(h.xv,null,"Define, install, and upgrade application packages as Helm charts using Helm 3, a package manager for Kubernetes."," ",a().createElement(Rr,{href:Mo.ZP.HELM_DOCS},"Learn more"))})),a().createElement(VS,NS({},i,{tool:Mo.rj.OPM,channel:Mo.ZW.STABLE,name:a().createElement(a().Fragment,null,"Operator Package Manager (",a().createElement("code",null,"opm"),")"),description:a().createElement(h.xv,null,"Create and maintain catalogs of Operators from a list of bundles with the Operator Package Manager."," ",a().createElement(Rr,{href:Mo.ZP.OPM_DOCS},"Learn more"))})),a().createElement(VS,NS({},i,{tool:Mo.rj.RHOAS,channel:Mo.ZW.STABLE,name:a().createElement(a().Fragment,null,"Red Hat OpenShift Application Services CLI (",a().createElement("code",null,"rhoas"),")"," ",a().createElement(YR,null)),description:a().createElement(m.D,null,a().createElement(h.xv,null,"Create and manage Kafka instances and topics, service accounts, and more using"," ",a().createElement("code",null,"rhoas"),"."),a().createElement(h.xv,null,a().createElement(Rr,{href:Mo.ZP.RHOAS_CLI_DOCS},"Get started")))})))})(r,this.setExpanded,s,this.setSelections,this.toolRefs,l))),a().createElement(RS,{selectedCategory:n,category:"INSTALLATION",description:a().createElement(h.xv,null,"Install OpenShift based on your infrastructure. For the installer matching your infrastructure type, select the operating system and architecture on which you wish to run the installer.  Then follow the steps provided within your infrastructure's tab on the"," ",a().createElement(o.Link,{to:"/create"},"create cluster")," ","page to install an OpenShift cluster.")},a().createElement(lt.TableComposable,{"aria-label":"OpenShift installation table"},a().createElement(jS,null),((e,t,n,r,s,l)=>{const i={expanded:e,setExpanded:t,selections:n,setSelections:r,toolRefs:s,urls:l};return a().createElement(a().Fragment,null,a().createElement(VS,NS({},i,{tool:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE,name:"OpenShift for x86_64 Installer",description:a().createElement(m.D,null,a().createElement(h.xv,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported x86_64 infrastructure using our"," ",a().createElement(Rr,{href:Mo.ZP.INSTALL_DOCS_ENTRY},"documentation")," ","as a guide."),a().createElement(h.xv,null,"Learn how to deploy in the"," ",a().createElement(o.Link,{to:"/create"},"cloud"),", or in your"," ",a().createElement(o.Link,{to:"/create/datacenter"},"data center"),"."))})),a().createElement(VS,NS({},i,{tool:Mo.rj.IBMZINSTALLER,channel:Mo.ZW.STABLE,name:"OpenShift for IBM Z Installer",description:a().createElement(m.D,null,a().createElement(h.xv,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported IBM Z infrastructure using our"," ",a().createElement(Rr,{href:Mo.ZP.INSTALL_DOCS_ENTRY},"documentation")," ","as a guide."),a().createElement(h.xv,null,"Learn how to deploy in your"," ",a().createElement(o.Link,{to:"/install/ibmz/user-provisioned"},"data center"),"."))})),a().createElement(VS,NS({},i,{tool:Mo.rj.PPCINSTALLER,channel:Mo.ZW.STABLE,name:"OpenShift for Power Installer",description:a().createElement(m.D,null,a().createElement(h.xv,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported Power infrastructure using our"," ",a().createElement(Rr,{href:Mo.ZP.INSTALL_DOCS_ENTRY},"documentation")," ","as a guide."),a().createElement(h.xv,null,"Learn how to deploy in your"," ",a().createElement(o.Link,{to:"/install/power/user-provisioned"},"data center"),"."))})),a().createElement(VS,NS({},i,{tool:Mo.rj.ARMINSTALLER,channel:Mo.ZW.STABLE,name:a().createElement(a().Fragment,null,"OpenShift for ARM Installer"," ",a().createElement(YR,null)),description:a().createElement(m.D,null,a().createElement(h.xv,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported ARM infrastructure using our"," ",a().createElement(Rr,{href:Mo.ZP.INSTALL_DOCS_ENTRY},"documentation")," ","as a guide."),a().createElement(h.xv,null,"Learn how to deploy in"," ",a().createElement(o.Link,{to:"/install/aws/arm"},"AWS"),"."))})),a().createElement(VS,NS({},i,{tool:Mo.rj.CRC,channel:Mo.ZW.STABLE,name:a().createElement(a().Fragment,null,"CodeReady Containers (",a().createElement("code",null,"crc"),")"),description:a().createElement(m.D,null,a().createElement(h.xv,null,"Download and open the CodeReady Containers file to automatically start a step-by-step installation guide."),a().createElement(h.xv,null,a().createElement(o.Link,{to:"/create/local"},"Create a minimal cluster on your desktop")," ","for local development and testing."))})))})(r,this.setExpanded,s,this.setSelections,this.toolRefs,l))),a().createElement(RS,{selectedCategory:n,category:"RHCOS",description:a().createElement(h.xv,null,"Customize Red Hat Enterprise Linux CoreOS (RHCOS) nodes with these tools.")},a().createElement(lt.TableComposable,{"aria-label":"RHCOS downloads table"},a().createElement(jS,null),((e,t,n,r,s,l)=>{const i={expanded:e,setExpanded:t,selections:n,setSelections:r,toolRefs:s,urls:l};return a().createElement(a().Fragment,null,a().createElement(VS,NS({},i,{tool:Mo.rj.BUTANE,channel:Mo.ZW.STABLE,name:"Butane config transpiler CLI",description:a().createElement(m.D,null,a().createElement(h.xv,null,"Write and validate machine configs in a convenient short-hand syntax with the Butane config transpiler CLI tool."," ",a().createElement(Rr,{href:Mo.ZP.BUTANE_DOCS},"Learn more")))})),a().createElement(VS,NS({},i,{tool:Mo.rj.COREOS_INSTALLER,channel:Mo.ZW.STABLE,name:"CoreOS Installer CLI",description:a().createElement(m.D,null,a().createElement(h.xv,null,"Download and install RHCOS disk images with the coreos-installer CLI tool."," ",a().createElement(Rr,{href:Mo.ZP.COREOS_INSTALLER_DOCS},"Learn more")))})))})(r,this.setExpanded,s,this.setSelections,this.toolRefs,l))),a().createElement(RS,{category:"TOKENS",selectedCategory:n},a().createElement(lt.TableComposable,{"aria-label":"Tokens table"},a().createElement(QS,null),((e,t,n,r)=>a().createElement(a().Fragment,null,a().createElement(HS,{expanded:e,setExpanded:t,toolRefs:n,expandKey:BS.PULL_SECRET,cells:[a().createElement(lt.Td,null,"Pull secret"),a().createElement(lt.Td,null,a().createElement(fS,null,a().createElement(O.P,{hasGutter:!0},a().createElement(C.J,null,a().createElement(AS,{token:r,text:"Copy",variant:"link-inplace"})),a().createElement(C.J,null,a().createElement(TS,{token:r,text:"Download"})))))],description:a().createElement(m.D,null,a().createElement(h.xv,null,"An image pull secret provides authentication for the cluster to access services and registries which serve the container images for OpenShift components. Every individual user gets a single pull secret generated. The pull secret can be used when installing clusters, based on the required infrastructure."),a().createElement(h.xv,null,"Learn how to"," ",a().createElement(o.Link,{to:"/create"},"create a cluster")," ","or"," ",a().createElement(Rr,{href:Mo.ZP.OCM_DOCS_PULL_SECRETS},"learn more about pull secrets"),"."))}),a().createElement(HS,{expanded:e,setExpanded:t,toolRefs:n,expandKey:BS.TOKEN_OCM,cells:[a().createElement(lt.Td,null,"OpenShift Cluster Manager API Token"),a().createElement(lt.Td,null,a().createElement(fS,null,a().createElement(o.Link,{to:"/token"},a().createElement(p.Button,{variant:"secondary",icon:a().createElement(at.ZP,null),iconPosition:"right"},"View API token"))))],description:a().createElement(h.xv,null,"Use your API token to authenticate against your OpenShift Cluster Manager account.")})))(r,this.setExpanded,this.toolRefs,e))))))}}WS.propTypes={location:l().object.isRequired,history:l().object.isRequired,token:l().object.isRequired,getAuthToken:l().func.isRequired,githubReleases:l().object.isRequired,getLatestRelease:l().func.isRequired};const YS=WS;function KS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KS(Object(n),!0).forEach((function(t){XS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const eP={[Mo.wQ.linux]:a().createElement(h.xv,null,"Download and extract the CodeReady Containers archive for your operating system and place the binary in your"," ",a().createElement("code",null,"$PATH")," ","."),[Mo.wQ.mac]:a().createElement(h.xv,null,"Download and open the CodeReady Containers file. Opening the file will automatically start a step-by-step installation guide."),[Mo.wQ.windows]:a().createElement(h.xv,null,"Download and extract the CodeReady Containers archive on your computer and open the installer. Opening the installer will automatically start a step-by-step installation guide.")};class tP extends a().Component{constructor(...e){super(...e),XS(this,"state",{selections:{}}),XS(this,"setSelections",(e=>{this.setState({selections:e})}))}render(){var e;const{token:t,pendoID:n,tool:r,channel:s}=this.props,{selections:l}=this.state,i=(null===(e=l[r])||void 0===e?void 0:e.OS)||xS(),o=r===Mo.rj.CRC,c=((e,t,n,r,s,l)=>{const{OS:i,architecture:o}=e[n]||ZS(Mo.jk,n,r,xS()),c=(0,tn.get)(Mo.jk,[n,r,o,i]);return{osDropdown:zS(Mo.jk,n,r,i,(a=>{let s=o;if(!(0,tn.has)(Mo.jk,[n,r,o,a])){const e=US(Mo.jk,n,r,a);s=e.length>1?"select":e[0].value}t(JS(JS({},e),{},{[n]:{OS:a,architecture:s}}))})),archDropdown:FS(Mo.jk,n,r,i,o,(r=>{t(JS(JS({},e),{},{[n]:{OS:i,architecture:r}}))})),downloadButton:a().createElement(gS,{url:c,tool:n,disabled:!!s.error,pendoID:l})}})(l,this.setSelections,r,s,t,n);return a().createElement(a().Fragment,null,o&&eP[i],a().createElement(je.r,{hasGutter:!0,className:"os-based-download"},a().createElement(xe.P,{sm:12,md:3},c.osDropdown),a().createElement(xe.P,{sm:12,md:4},c.archDropdown),a().createElement(xe.P,{sm:12,md:5},c.downloadButton)))}}tP.propTypes={token:l().object.isRequired,pendoID:l().string,tool:l().oneOf(Object.values(Mo.rj)).isRequired,channel:l().oneOf(Object.values(Mo.ZW)).isRequired};const nP=tP,rP=({children:e})=>a().createElement(wr.Ts,{className:"ocm-instructions__list-item"},a().createElement("div",{className:"ocm-instructions__list-item-contents"},e));rP.propTypes={children:l().node};const aP=rP,sP=({children:e})=>a().createElement(m.D,{className:"ocm-instructions"},a().createElement(Pr.Gn,{component:Pr.F_.ol,className:"ocm-instructions__list"},e));sP.propTypes={children:l().node};const lP=sP;function iP({token:e,pendoID:t,text:n}){return a().createElement(a().Fragment,null,a().createElement(h.xv,{component:"p"},n||"Download or copy your pull secret. You'll be prompted for this information during installation."),a().createElement("div",null,a().createElement(TS,{token:e,pendoID:t}),a().createElement(AS,{token:e,variant:"link-tooltip",pendoID:t})))}iP.propTypes={token:l().object.isRequired,pendoID:l().string,text:l().string};const oP=iP,cP=window.location.pathname,uP=Mo.ZP.INSTALL_CRC_GETTING_STARTED,dP=({token:e})=>a().createElement(a().Fragment,null,a().createElement(Ne.NP,null,a().createElement(O.P,{hasGutter:!0},a().createElement(R.Title,{headingLevel:"h2"},"Red Hat CodeReady Containers"),a().createElement(C.J,null,a().createElement(Pp.Label,{variant:"outline"},"local sandbox"))),a().createElement(m.D,null,a().createElement(h.xv,{component:"p"},"Create a minimal cluster on your desktop/laptop for local development and testing."),a().createElement(h.xv,{component:"p",className:"ocm-secondary-text"},a().createElement("b",null,"Note: "),"Your CodeReady installation won't appear in the OpenShift Cluster Manager unless you enable cluster monitoring and telemetry.")),a().createElement(Op.Divider,{className:"pf-u-mt-lg pf-u-mb-xl"}),e.error&&a().createElement(a().Fragment,null,a().createElement(uS,{token:e}),a().createElement("div",{className:"pf-u-mb-lg"})),a().createElement(lP,null,a().createElement(aP,null,a().createElement(h.xv,{component:"h3"},"Download what you need to get started"),a().createElement(h.xv,{component:"h4"},"CodeReady Containers"),a().createElement(nP,{token:e,tool:Mo.rj.CRC,channel:Mo.ZW.STABLE,pendoID:cP}),a().createElement(h.xv,{component:"h3"},"Pull secret"),a().createElement(oP,{token:e,pendoID:cP})),a().createElement(aP,null,a().createElement(h.xv,{component:"h3"},"Follow the documentation to install CodeReady containers"),a().createElement(h.xv,{component:"p"},"Run"," ",a().createElement("code",null,"crc setup")," ","to set up your host operating system for the CodeReady Containers virtual machine."),a().createElement(h.xv,{component:"p"},"Then, run"," ",a().createElement("code",null,"crc start")," ","to create a minimal OpenShift 4 cluster on your computer."),a().createElement(h.xv,{component:"p"},a().createElement("a",{href:uP,rel:"noreferrer noopener",target:"_blank",variant:"link",onClick:()=>x("OCP-Download-OfficialDocumentation",cP)},"View the CodeReady Containers Getting started guide"," ",a().createElement(Or.ZP,{color:"#0066cc",size:"sm"})))))));dP.propTypes={token:l().object.isRequired};const pP=dP,mP={cloud:0,datacenter:1,local:2},hP=Object.entries(mP).reduce(((e,t)=>{const[n,r]=t;return e[r]=n,e}),{});class gP extends a().Component{constructor(...e){var t,n;super(...e),n=(e,t)=>{const{history:n}=this.props,r=hP[t];n.push(`/create/${r}`)},(t="handleTabClick")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){k();const{getOrganizationAndQuota:e,organization:t,getAuthToken:n}=this.props;document.title="Create an OpenShift cluster | Red Hat OpenShift Cluster Manager",q(t)&&e(),n()}render(){const{hasOSDQuota:e,hasOSDTrialQuota:t,organization:n,token:r,assistedInstallerFeature:s,osdTrialFeature:l,activeTab:i}=this.props,o=mP[i]||0,c=a().createElement(GR,{title:"Create an OpenShift cluster",breadcrumbs:a().createElement(ym,{path:[{label:"Clusters"},{label:"Create"}]})}),u=e=>{switch(e){case 0:return a().createElement(a().Fragment,null,a().createElement(Km.f,null,a().createElement(FR.ZP,null)),a().createElement(Ym.T,null,"Cloud"));case 1:return a().createElement(a().Fragment,null,a().createElement(Km.f,null,a().createElement(zR.ZP,null)),a().createElement(Ym.T,null,"Datacenter"));case 2:return a().createElement(a().Fragment,null,a().createElement(Km.f,null,a().createElement(ZR.ZP,null)),a().createElement(Ym.T,null,"Local"));default:return null}};return n.fulfilled||n.error?a().createElement(a().Fragment,null,c,a().createElement(Ne.NP,{variant:"light",className:"cluster-create-page"},a().createElement(Qm.mQ,{isFilled:!0,activeKey:o,onSelect:this.handleTabClick},a().createElement(Wm.O,{eventKey:0,title:u(0)},a().createElement(oS,{hasOSDQuota:e,trialEnabled:t&&l})),a().createElement(Wm.O,{eventKey:1,title:u(1)},a().createElement(WR,{assistedInstallerFeature:s})),a().createElement(Wm.O,{eventKey:2,title:u(2)},a().createElement(pP,{token:r}))))):a().createElement(a().Fragment,null,c,a().createElement(Ne.NP,{variant:"light"},a().createElement(E.Z,{centered:!0})))}}gP.propTypes={hasOSDQuota:l().bool.isRequired,hasOSDTrialQuota:l().bool.isRequired,osdTrialFeature:l().bool.isRequired,organization:l().shape({fulfilled:l().bool,error:l().bool}).isRequired,getOrganizationAndQuota:l().func.isRequired,token:l().object.isRequired,getAuthToken:l().func.isRequired,assistedInstallerFeature:l().bool,history:l().shape({push:l().func.isRequired}).isRequired,activeTab:l().string};const bP=gP,EP=(0,i.connect)((e=>({hasOSDQuota:Uc(e,ee.Po.OSD),hasOSDTrialQuota:Uc(e,ee.Po.OSDTrial),organization:e.userProfile.organization,token:e.tollbooth.token,osdTrialFeature:e.features[Bn.vC],assistedInstallerFeature:e.features[Bn.vu]})),(()=>e=>({openModal:()=>e(Yt.openModal),getAuthToken:()=>e(fR.u.createAuthToken()),getOrganizationAndQuota:()=>e((0,d.nh)())})))(bP);function fP({title:e,errorResponse:t,resetResponse:n,closeModal:r}){const s=()=>{n(),r()},l=(0,W.VJ)(t.errorDetails);return a().createElement(H,{header:a().createElement(R.Title,{headingLevel:"h2",size:"2xl"},a().createElement(Re.ZP,{color:Se.global_danger_color_100.value})," ",e),primaryText:"Close",onPrimaryClick:s,onClose:s,showClose:!1,showSecondary:!1},a().createElement("p",null,t.errorMessage),l&&a().createElement("p",null,l),a().createElement("p",null,`Operation ID: ${t.operationID||"N/A"}`))}fP.propTypes={title:l().string,errorResponse:l().object,closeModal:l().func,resetResponse:l().func.isRequired};const yP=fP,vP=(0,i.connect)(null,(e=>({closeModal:()=>{e(Wt())}})))(yP),OP="The cluster ID may be found on the About page of the cluster web console";function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{PREMIUM:SP,STANDARD:PP,SELF_SUPPORT:wP}=ee.ig,{SUPPORT_LEVEL:TP,SYSTEM_UNITS:DP,CPU_TOTAL:_P,SOCKET_TOTAL:IP}=ee.$S,{CORES_VCPU:AP,SOCKETS:NP}=ee.fl,LP=e=>{const{[TP]:t,[DP]:n,[_P]:r,[IP]:a}=e;if(t!==SP&&t!==PP&&t!==wP)return{request:null,isValid:!0};if(!e.isValid)return{request:null,isValid:!1};const s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CP(Object(n),!0).forEach((function(t){RP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return n===NP&&(s[IP]=parseInt(a,10),s[_P]=s[IP]),n===AP&&(s[IP]=1,s[_P]=parseInt(r,10)),{request:s,isValid:e.isValid}};function MP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{EVAL:kP}=ee.ig;class jP extends a().Component{constructor(...e){super(...e),MP(this,"state",{settings:{}}),MP(this,"initialSettings",{support_level:kP,isValid:!0}),MP(this,"handleSettingsChange",(e=>{this.setState({settings:e})})),MP(this,"handleSubmit",(e=>{const{onSubmit:t}=this.props,{settings:n}=this.state,{request:r,isValid:a}=LP(n);a&&t({cluster_uuid:e.cluster_id,plan_id:ee.vQ.OCP,status:ee.Ij.DISCONNECTED,display_name:e.display_name,console_url:e.web_console_url},r)}))}componentDidMount(){const{getOrganizationAndQuota:e}=this.props;this.reset(),e()}componentDidUpdate(){const{registerClusterResponse:e,openModal:t,isOpen:n}=this.props;e.error&&!n&&t("register-cluster-error")}componentWillUnmount(){this.reset()}reset(){const{resetResponse:e,resetForm:t}=this.props;e(),t()}render(){const{handleSubmit:e,registerClusterResponse:t,isOpen:n,resetResponse:r,canSubscribeOCP:s,quotaResponse:l}=this.props;if(t.fulfilled)return a().createElement(Ud.l_,{to:`/details/s/${t.cluster.id}`});const i=n&&a().createElement(vP,{title:"Error Registering Cluster",errorResponse:t,resetResponse:r});if(l.error)return a().createElement(Ne.NP,null,a().createElement(K,{message:"Error retrieving quota",response:l}));const{settings:c}=this.state,{isValid:u}=LP(c),d=a().createElement(dl,{initialSettings:this.initialSettings,onSettingsChange:this.handleSettingsChange,canSubscribeStandardOCP:s,canSubscribeMarketplaceOCP:!1});return a().createElement(a().Fragment,null,a().createElement(qe.Z,null,a().createElement(ym,{path:[{label:"Clusters"},{label:"Register disconnected cluster"}]}),a().createElement(Ue.Z,{title:"Register disconnected cluster"})),a().createElement(Ne.NP,null,i,a().createElement(ke.Card,{id:"register-cluster"},a().createElement(Me.e,null,a().createElement(je.r,null,a().createElement(xe.P,{sm:12,md:8,lg:8},a().createElement(m.D,{id:"register-cluster-top-text"},a().createElement(h.xv,{component:h.qO.p},"Register clusters that are not connected to OpenShift Cluster Manager. Existing cluster owners, cluster editors, or admins can edit existing cluster subscriptions from the cluster details page.")),l.fulfilled?a().createElement(qr.l,{onSubmit:e(this.handleSubmit),className:"subscription-settings form"},a().createElement(Ca.Z,{component:Ea,name:"cluster_id",label:"Cluster ID",type:"text",extendedHelpText:OP,disabled:t.pending,validate:Ya,isRequired:!0}),a().createElement(Ca.Z,{component:Ea,name:"display_name",label:"Display name",type:"text",disabled:t.pending,validate:Ka}),a().createElement(Ca.Z,{component:Ea,name:"web_console_url",label:"Web console URL",validate:ls,disabled:t.pending,type:"text"}),a().createElement(R.Title,{headingLevel:"h4",size:"xl"},"Subscription settings"),a().createElement(m.D,null,a().createElement(h.xv,{component:h.qO.p},"Editing the subscription settings will help ensure that you receive the level of support that you expect, and that your cluster is consuming the correct type of subscription.")),s?d:a().createElement(Vr.Tooltip,{content:"You cannot edit subscription settings because your organization does not have any OpenShift subscriptions. Contact sales to purchase OpenShift.",position:Vr.TooltipPosition.auto},a().createElement("div",null,d))):a().createElement(E.Z,null)))),a().createElement(Er.e,null,a().createElement(p.Button,{variant:"primary",type:"submit",onClick:e(this.handleSubmit),isDisabled:t.pending||!u},"Register cluster"),a().createElement(o.Link,{to:"/"},a().createElement(p.Button,{variant:"secondary",isDisabled:t.pending},"Cancel"))))))}}jP.propTypes={handleSubmit:l().func.isRequired,registerClusterResponse:l().object.isRequired,openModal:l().func,resetResponse:l().func.isRequired,isOpen:l().bool,resetForm:l().func.isRequired,onSubmit:l().func.isRequired,getOrganizationAndQuota:l().func.isRequired,canSubscribeOCP:l().bool.isRequired,quotaResponse:l().object.isRequired};const xP=jP,qP=(0,vc.Z)({form:"RegisterCluster"})(xP),UP=(0,i.connect)((e=>{const t=(e=>{const t=T()(e,"userProfile.organization.details.capabilities",[]).find((e=>"capability.cluster.subscribed_ocp"===e.name));return!(!t||"true"!==t.value)})(e);return{canSubscribeOCP:t,registerClusterResponse:e.clusters.createdCluster,isOpen:ze(e,"register-cluster-error"),quotaResponse:T()(e,"userProfile.organization",null),initialValues:{cluster_id:"",display_name:"",web_console_url:"",support_level:"",service_level:"",usage:"",system_units:t?ee.fl.CORES_VCPU:"",cpu_total:"",socket_total:""}}}),(e=>({closeModal:t=>{e(Wt())},openModal:t=>{e(Qt(t))},onSubmit:(t,n)=>{e(Kn(t,n))},resetResponse:()=>e(ur()),resetForm:()=>e((0,Qv.mc)("RegisterCluster")),getOrganizationAndQuota:()=>e((0,d.nh)())})))(qP);function zP({closeModal:e,cloudProviderID:t}){return a().createElement(H,{title:"Customer cloud subscription",onClose:e,primaryText:"Close",onPrimaryClick:e,showSecondary:!1},(e=>"aws"===e?a().createElement(a().Fragment,null,a().createElement(m.D,null,"With this subscription option, the cluster will be provisioned in an AWS account owned by you or your company. This allows you to pay AWS directly for public cloud costs, leveraging your existing relationship."),a().createElement(R.Title,{headingLevel:"h3",size:"lg",className:"pf-u-mt-sm"},"Important"),a().createElement(m.D,null,"In order for the cluster provisioning to succeed, you must ensure the following:"),a().createElement(m.D,null,a().createElement(et.aV,null,a().createElement(tt.H,null,"Your AWS account has the necessary limits to support the desired cluster size."," ",a().createElement("a",{href:Ku.resourceRequirementsLink,rel:"noreferrer noopener",target:"_blank"}," See resource requirements.")," "),a().createElement(tt.H,null,"An IAM user called osdCcsAdmin exists with the AdministratorAccess policy."),a().createElement(tt.H,null,"An Organization Service Control Policy (SCP) is set up according to the"," ",a().createElement("a",{href:Ku.scpDocumentationLink,rel:"noreferrer noopener",target:"_blank"}," ","documentation.")))),a().createElement(m.D,null,"It is also recommended that you have at least Business Support from AWS. Refer to the"," ",a().createElement("a",{href:Ku.scpDocumentationLink,rel:"noreferrer noopener",target:"_blank"},"documentation")," ","for more detail around the requirements for customer cloud subscription.")):a().createElement(a().Fragment,null,a().createElement(m.D,null,"With this subscription option, the cluster will be provisioned in a Google Cloud account owned by you or your company. This allows you to pay Google Cloud directly for public cloud costs, leveraging your existing relationship."),a().createElement(R.Title,{headingLevel:"h3",size:"lg",className:"pf-u-mt-sm"},"Important"),a().createElement(m.D,null,"In order for the cluster provisioning to succeed, you must ensure the following:"),a().createElement(m.D,null,a().createElement(et.aV,null,a().createElement(tt.H,null,"Your Google Cloud account has the necessary resource quotas and limits to support the desired cluster size."," ",a().createElement("a",{href:"https://www.openshift.com/dedicated/ccs",rel:"noreferrer noopener",target:"_blank"},"See resource requirements.")," "),a().createElement(tt.H,null,"An IAM service account called osd-ccs-admin exists with the following roles attached:",a().createElement(et.aV,{className:"pf-u-pb-xs"},a().createElement(tt.H,null,"DNS Administrator"),a().createElement(tt.H,null,"Organization Policy Viewer"),a().createElement(tt.H,null,"Owner"),a().createElement(tt.H,null,"Project IAM Admin"),a().createElement(tt.H,null,"Service Management Administrator"),a().createElement(tt.H,null,"Service Usage Admin"),a().createElement(tt.H,null,"Storage Admin"))))),a().createElement(m.D,null,"It is also recommended that you have at least Production support from GCP. To prevent potential conflicts, we also recommend that you have no other resources provisioned in the project prior to provisioning OpenShift Dedicated. Refer to"," ",a().createElement("a",{href:"https://www.openshift.com/dedicated/ccs",rel:"noreferrer noopener",target:"_blank"},"the documentation")," ","for more detail around the requirements for customer cloud subscription.")))(t))}zP.propTypes={closeModal:l().func.isRequired,cloudProviderID:l().string.isRequired};const FP=zP,ZP=n.p+"images/CreateOSDWizard-intro.25c93319bc6fa2e231f4e068dc03ed06.png";function BP(){return(BP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function GP(e){let{isSelected:t=!1,disableReason:n,value:r="",onChange:s,titleText:l,secondaryText:i,icon:o,extraClass:c}=e,u=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["isSelected","disableReason","value","onChange","titleText","secondaryText","icon","extraClass"]);const d=t?"selected":"",p=zg()("ocm-flat-radio-button",d,c);return a().createElement(um,BP({disableReason:n,onClick:()=>{s(r)},className:p,variant:"tertiary"},u),a().createElement(O.P,{hasGutter:!0},o&&a().createElement(C.J,{className:"ocm-flat-button-icon"},o),a().createElement(C.J,{isFilled:!0},a().createElement(R.Title,{headingLevel:"h4",size:"lg"},l),i&&i)))}GP.propTypes={icon:l().node,isSelected:l().bool,onChange:l().func.isRequired,secondaryText:l().oneOfType([l().node,l().string]),titleText:l().oneOfType([l().node,l().string]).isRequired,value:l().string.isRequired,extraClass:l().string,disableReason:l().node};const HP=GP;function VP({input:{onChange:e},byocSelected:t,isRhInfraQuotaDisabled:n,isBYOCQuotaDisabled:r}){const{standard:s,standardText:l,customerCloudSubscription:i,customerCloudSubscriptionText:o}=Ku;return a().createElement("div",{id:"byoc",className:"flat-radio-buttons-flex-container"},a().createElement(HP,{id:s.toLowerCase(),value:"false",isSelected:!t,titleText:s,secondaryText:l,onChange:e,disableReason:n&&j}),a().createElement(HP,{id:i.toLowerCase(),value:"true",isSelected:!r&&t,titleText:i,secondaryText:o,onChange:e,disableReason:r&&j}))}VP.defaultProps={byocSelected:!1},VP.propTypes={isRhInfraQuotaDisabled:l().bool.isRequired,isBYOCQuotaDisabled:l().bool.isRequired,input:l().shape({onChange:l().func.isRequired}).isRequired,byocSelected:l().bool};const $P=VP;function QP({hasBYOCquota:e,hasRhInfraQuota:t,hasStandardOSDQuota:n,hasMarketplaceBYOCQuota:r,hasMarketplaceRhInfraQuota:s,hasMarketplaceQuota:l,toggleBYOCFields:i,byocSelected:o=!1,showOSDTrial:c,pending:u,toggleSubscriptionBilling:d,product:m,billingModel:g,isWizard:b,change:E}){const{STANDARD:f}=ee.F6,O=a().createElement("p",null,"Use"," ",a().createElement(Rr,{href:"https://marketplace.redhat.com",noIcon:!0},"Red Hat Marketplace")," ","to subscribe and pay based on the services you use"),C=a().createElement(a().Fragment,null,O,a().createElement("p",null,a().createElement(Wr.J2,{position:Wr.I2.right,headerContent:"On-demand subscription",bodyContent:a().createElement(a().Fragment,null,a().createElement("p",null,"Billing based on cluster consumption and charged via Red Hat Marketplace."),a().createElement("p",null,a().createElement(Rr,{href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated"},"Purchase this option"))),"aria-label":"help"},a().createElement(p.Button,{variant:"link"},a().createElement(Yr.ZP,null)," ","How can I purchase a subscription via Marketplace?")))),S=a().createElement("p",null,a().createElement(Rr,{href:"https://access.redhat.com/articles/5990101",noIcon:!0,noTarget:!0},"Try OpenShift Dedicated")," ","for free for 60 days. Upgrade anytime");let P=g||f;m===ee.Po.OSDTrial&&(P="standard-trial");const w=r||s;let T,D;c&&P!==f||!l||n||!w||(P=ee.F6.MARKETPLACE),P===f||"standard-trial"===P?(T=!t,D=!e):(T=!s,D=!r);const _=[{disabled:!n,value:ee.F6.STANDARD,label:"Annual: Fixed capacity subscription from Red Hat",description:"Use the quota pre-purchased by your organization"}];c&&_.unshift({value:"standard-trial",label:"Free trial (upgradeable)",description:S});const I=!(l&&w);return _.push({disabled:I,value:ee.F6.MARKETPLACE,label:"On-demand: Flexible usage billed through the Red Hat Marketplace",description:I?C:O}),a().createElement(a().Fragment,null,b&&a().createElement(a().Fragment,null,a().createElement(xe.P,{span:8},a().createElement(R.Title,{headingLevel:"h2"},"Welcome to Red Hat OpenShift Dedicated"),a().createElement(h.xv,{component:"p",id:"welcome-osd-text"},"Reduce operational complexity and focus on building applications that add more value to your business with Red Hat OpenShift Dedicated, a fully managed service of Red Hat OpenShift on Amazon Web Services (AWS) and Google Cloud.")),a().createElement(xe.P,{span:4},a().createElement("img",{src:ZP,className:"ocm-c-wizard-intro-image","aria-hidden":"true",alt:""}))),a().createElement(xe.P,{span:12},a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,a().createElement(R.Title,{headingLevel:"h3"},"Subscription type:"),a().createElement(Gr.c,{isRequired:!0,fieldId:"billing_model",className:"sub-infra-billing-model"},a().createElement(Ca.Z,{component:LO,name:"billing_model",className:"radio-button",disabled:u,onChange:(e,t)=>{let n;"standard-trial"===t?(n=ee.Po.OSDTrial,b&&E("byoc","true")):n=ee.Po.OSD,E("product",n),d&&d(e,t)},options:_,defaultValue:P,disableDefaultValueHandling:b}))),a().createElement(y.v,null,a().createElement(R.Title,{headingLevel:"h3"},"Infrastructure type:"),a().createElement(Gr.c,{isRequired:!0,fieldId:"byoc",className:"sub-infra-billing-model"},b?a().createElement(Ca.Z,{component:LO,name:"byoc",className:"radio-button",defaultValue:T?"true":"false",disableDefaultValueHandling:!0,options:[{label:"Customer cloud subscription",description:"Leverage your existing cloud provider account (AWS or Google Cloud)",value:"true",disabled:D},{label:"Red Hat cloud account",description:"Deploy in cloud provider accounts owned by Red Hat",value:"false",disabled:T}],onChange:i}):a().createElement(Ca.Z,{component:$P,name:"byoc",isBYOCQuotaDisabled:D,isRhInfraQuotaDisabled:T,byocSelected:o,onChange:i}))))))}QP.propTypes={hasBYOCquota:l().bool.isRequired,hasRhInfraQuota:l().bool.isRequired,hasStandardOSDQuota:l().bool.isRequired,hasMarketplaceQuota:l().bool,hasMarketplaceBYOCQuota:l().bool,hasMarketplaceRhInfraQuota:l().bool,toggleBYOCFields:l().func,byocSelected:l().bool,showOSDTrial:l().bool,pending:l().bool,toggleSubscriptionBilling:l().func,product:l().oneOf(Object.keys(ee.Po)).isRequired,billingModel:l().oneOf(Object.values(ee.F6)),isWizard:l().bool,change:l().func.isRequired};const WP=QP,YP=(0,i.connect)(((e,t)=>{const n=(0,hu.Z)("CreateCluster"),{cloudProviderID:r,isWizard:a}=t,{STANDARD:s,MARKETPLACE:l}=ee.F6,{OSD:i,OSDTrial:o}=ee.Po,c=n(e,"product"),u=a?"any":r,d=t=>Ac(e.userProfile.organization.quotaList,t)>0;return{product:c,showOSDTrial:e.features[Bn.vC]&&d({resourceType:wc,product:o}),hasStandardOSDQuota:d({resourceType:wc,product:i,billingModel:s}),hasMarketplaceQuota:d({resourceType:wc,product:i,billingModel:l}),hasBYOCquota:d({resourceType:wc,cloudProviderID:u,billingModel:s,product:c,isBYOC:!0}),hasRhInfraQuota:d({resourceType:wc,cloudProviderID:u,billingModel:s,product:c,isBYOC:!1}),hasMarketplaceBYOCQuota:d({resourceType:wc,cloudProviderID:u,billingModel:l,product:i,isBYOC:!0}),hasMarketplaceRhInfraQuota:d({resourceType:wc,cloudProviderID:u,billingModel:l,product:i,isBYOC:!1})}}))(WP);function KP(){return(KP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class JP extends a().Component{constructor(...e){var t,n;super(...e),n=(e,t)=>{const{input:{onChange:n},handleCloudRegionChange:r}=this.props;r&&r(),n(t,e)},(t="onChange")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidUpdate(e){const{isMultiAz:t,input:n,cloudProviderID:r,cloudProviders:a}=this.props,s=T()(a,"providers[cloudProviderID].regions[input.value]",{});!t||e.isMultiAz||s.supports_multi_az||n.onChange("aws"===r?"us-east-1":"us-east1")}render(){const{input:e,availableRegions:t,cloudProviders:n,disabled:r,isMultiAz:s}=this.props;return n.fulfilled?a().createElement(ra.FormSelect,KP({className:"cloud-region-combo-box","aria-label":"Region",isDisabled:r},e,{onChange:this.onChange}),t.map((e=>(e=>a().createElement(aa.FormSelectOption,{key:e.id,value:e.id,label:`${e.id}, ${e.display_name}`,isDisabled:s&&!e.supports_multi_az}))(e)))):n.error?a().createElement(Fr,{message:"Error loading region list",response:n}):a().createElement(a().Fragment,null,a().createElement("div",{className:"spinner-fit-container"},a().createElement(E.Z,null)),a().createElement("div",{className:"spinner-loading-text"},"Loading region list..."))}}JP.propTypes={cloudProviderID:l().string.isRequired,availableRegions:l().array.isRequired,cloudProviders:l().object.isRequired,input:l().object.isRequired,disabled:l().bool,isMultiAz:l().bool,handleCloudRegionChange:l().func};const XP=JP,ew=(0,i.connect)(((e,t)=>{const n=T()(e,`cloudProviders.providers[${t.cloudProviderID}].regions`,{}),r=Object.values(n).filter((e=>e.enabled));return{cloudProviders:e.cloudProviders,availableRegions:t.isBYOC?r:r.filter((e=>!e.ccs_only))}}),null)(XP);function tw(){return(tw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const rw="Select availability zone";class aw extends a().Component{constructor(...e){super(...e),nw(this,"state",{isOpen:!1}),nw(this,"onToggle",(e=>{this.setState({isOpen:e})})),nw(this,"onSelect",((e,t)=>{const{input:n}=this.props;this.setState({isOpen:!1}),n.onChange(t)}))}render(){const{isOpen:e}=this.state,{input:t,isDisabled:n,region:r,label:s,meta:{error:l,touched:i}}=this.props;return a().createElement(Gr.c,tw({},t,{label:s,className:"ocm-c-create-osd-az-select",validated:l?"error":void 0,helperTextInvalid:i&&l}),a().createElement(gd.Select,{isOpen:e,selections:t.value||rw,onToggle:this.onToggle,onSelect:this.onSelect,isDisabled:n},a().createElement(Ed.SelectOption,{key:0,value:rw,isPlaceholder:!0}),["a","b","c","d","e","f"].map((e=>{const t=r+e;return a().createElement(Ed.SelectOption,{key:e,value:t},`${t}`)}))))}}aw.propTypes={isDisabled:l().bool,label:l().string,region:l().string,input:l().shape({value:l().string,onChange:l().func}),meta:l().shape({touched:l().bool,error:l().string})};const sw=aw;function lw({pending:e,showDNSBaseDomain:t,showAvailability:n,cloudProviderID:r,isBYOC:s,isMultiAz:l,hasSingleAzQuota:i,hasMultiAzQuota:o,change:c,isWizard:u,handleMultiAZChangeForOldForm:d}){const p=!o&&j,m=!i&&j;return a().createElement(a().Fragment,null,a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Ca.Z,{component:Ea,name:"name",label:"Cluster name",type:"text",validate:ys.checkClusterName,disabled:e,isRequired:!0,extendedHelpText:Tu})),a().createElement(xe.P,{md:7,lg:8}),t&&a().createElement(a().Fragment,null,a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Ca.Z,{component:Ea,name:"dns_base_domain",label:"Base DNS domain",type:"text",validate:ys.checkBaseDNSDomain,disabled:e,normalize:e=>e.toLowerCase()})),a().createElement(xe.P,{md:7,lg:8})),a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Gr.c,{label:"Region",isRequired:!0,fieldId:"region",labelIcon:a().createElement(Xr,{hint:_u})},a().createElement(Ca.Z,{component:ew,name:"region",cloudProviderID:r,disabled:e,isRequired:!0,isMultiAz:l,isBYOC:s,handleCloudRegionChange:()=>{const e=l?3:1;for(let t=0;t<e;t+=1)c(`az_${t}`,rw)}}))),a().createElement(xe.P,{md:7,lg:8}),n&&a().createElement(a().Fragment,null,a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Gr.c,{label:"Availability",isRequired:!0,fieldId:"availability-toggle",labelIcon:a().createElement(Xr,{hint:Du})},a().createElement(Ca.Z,{component:LO,className:i&&o?null:"radio-az-disabled",name:"multi_az",disabled:e,onChange:(e,t)=>{const n="true"===t;let r=n?"9":"4";s&&(r=n?"3":"2"),c("nodes_compute",r),d&&d(t)},options:[{value:"false",label:"Single zone",disabled:!i,tooltipText:m},{value:"true",label:"Multizone",disabled:!o,tooltipText:p}],defaultValue:i?"false":"true",disableDefaultValueHandling:u}))),a().createElement(xe.P,{md:7,lg:8})))}lw.propTypes={pending:l().bool,isMultiAz:l().bool.isRequired,showDNSBaseDomain:l().bool,showAvailability:l().bool,handleMultiAZChangeForOldForm:l().func,change:l().func.isRequired,cloudProviderID:l().string.isRequired,isBYOC:l().bool.isRequired,hasSingleAzQuota:l().bool.isRequired,hasMultiAzQuota:l().bool.isRequired,isWizard:l().bool};const iw=lw,ow=(0,i.connect)(((e,t)=>{const{quotaList:n}=e.userProfile.organization,{product:r,billingModel:a,cloudProviderID:s,isBYOC:l}=t;return{hasSingleAzQuota:jc(n,{product:r,billingModel:a,cloudProviderID:s,isBYOC:l,isMultiAz:!1})>0,hasMultiAzQuota:jc(n,{product:r,billingModel:a,cloudProviderID:s,isBYOC:l,isMultiAz:!0})>0}}))(iw);function cw({pending:e,isWizard:t,isValidating:n}){return a().createElement(a().Fragment,null,a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Ca.Z,{component:Ea,name:"account_id",label:"AWS account ID",type:"text",validate:os,disabled:e,extendedHelpText:a().createElement(a().Fragment,null,"The 12 digits numeric identifier of your AWS account.",a().createElement("br",null),"See"," ",a().createElement(Rr,{href:"https://docs.aws.amazon.com/general/latest/gr/acct-identifiers.html"},"AWS documentation")," ","for more details."),isRequired:!0})),a().createElement(xe.P,{md:7,lg:8}),a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(R.Title,{headingLevel:"h4"},"AWS IAM user credentials")),a().createElement(xe.P,{sm:12,md:10,lg:8},!t&&a().createElement(Ur.bZ,{className:"bottom-alert",variant:"warning",title:Ku.awsCredentialsWarning,isInline:!0})),a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Ca.Z,{component:Ea,name:"access_key_id",label:"AWS access key ID",type:"text",validate:Za,disabled:e||n,helpText:n?"Validating...":"",isRequired:!0})),a().createElement(xe.P,{md:7,lg:8}),a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Ca.Z,{component:Ea,name:"secret_access_key",label:"AWS secret access key",type:"text",validate:Za,disabled:e||n,helpText:n?"Validating...":"",isRequired:!0})),a().createElement(xe.P,{md:7,lg:8}),a().createElement(xe.P,null,a().createElement(Ca.Z,{component:na,name:"disable_scp_checks",label:"Bypass AWS Service Control Policy (SCP) checks",extendedHelpText:qu})))}cw.propTypes={isWizard:l().bool,pending:l().bool,isValidating:l().bool};const uw=cw,dw=({showLabels:e=!1,index:t,selectedRegion:n,isMultiAz:r})=>{const s=[r&&us,(rw,e=>"Select availability zone"!==e?void 0:"Field is required"),Za].filter(Boolean);return a().createElement(a().Fragment,null,a().createElement(xe.P,{className:"vpc-input-field",sm:12,md:3},a().createElement(Ca.Z,{component:sw,name:`az_${t}`,label:e?"Availability zone":null,validate:s,region:n})),a().createElement(xe.P,{sm:12,md:3},a().createElement(Ca.Z,{component:Ea,name:`private_subnet_id_${t}`,label:e?"Private subnet ID":null,type:"text",validate:Za})),a().createElement(xe.P,{sm:12,md:3},a().createElement(Ca.Z,{component:Ea,name:`public_subnet_id_${t}`,label:e?"Public subnet ID":null,type:"text",validate:Za})),a().createElement(xe.P,{sm:12,md:3}))},pw=({selectedRegion:e,isMultiAz:t})=>a().createElement(a().Fragment,null,a().createElement(dw,{showLabels:!0,index:0,selectedRegion:e,isMultiAz:t}),t&&a().createElement(a().Fragment,null,a().createElement(dw,{index:1,selectedRegion:e,isMultiAz:t}),a().createElement(dw,{index:2,selectedRegion:e,isMultiAz:t})));dw.propTypes={selectedRegion:l().string,index:l().number,showLabels:l().bool,isMultiAz:l().bool},pw.propTypes={selectedRegion:l().string,isMultiAz:l().bool};const mw=pw,hw=function(){return a().createElement(a().Fragment,null,a().createElement(xe.P,{sm:12,md:3},a().createElement(Ca.Z,{component:Ea,name:"vpc_name",type:"text",validate:ds,label:"Existing VPC name",placeholder:"VPC Name"})),a().createElement(xe.P,{sm:12,md:3},a().createElement(Ca.Z,{component:Ea,name:"control_plane_subnet",type:"text",validate:ds,label:"Control plane subnet name",placeholder:"Subnet name"})),a().createElement(xe.P,{sm:12,md:3},a().createElement(Ca.Z,{component:Ea,name:"compute_subnet",type:"text",validate:ds,label:"Compute Subnet name",placeholder:"Subnet name"})))};function gw({selectedRegion:e,isMultiAz:t,selected:n,cloudProviderID:r}){return a().createElement(a().Fragment,null,a().createElement(xe.P,null,a().createElement(Ca.Z,{component:na,name:"install_to_vpc",label:"Install into an existing VPC"})),n&&"aws"===r&&a().createElement(a().Fragment,null,a().createElement(xe.P,null,a().createElement(R.Title,{headingLevel:"h4",size:"md"},"Existing VPC",a().createElement(Xr,{iconClassName:"pf-u-ml-sm",hint:a().createElement(a().Fragment,null,"Your VPC must have public and private subnets. Public subnets are associated with appropriate Ingress rules. Private subnets need appropriate routes and tables."," ",a().createElement(Rr,{href:"https://docs.openshift.com/container-platform/latest/installing/installing_aws/installing-aws-vpc.html"},"Learn more about installing into an existing VPC"))})),"To install into an existing VPC you need to ensure that your VPC is configured with a public and a private subnet for each availability zone that you want the cluster installed into."),a().createElement(mw,{isMultiAz:t,selectedRegion:e})),n&&"gcp"===r&&a().createElement(a().Fragment,null,a().createElement(xe.P,null,a().createElement(R.Title,{headingLevel:"h4",size:"md"},"Existing VPC",a().createElement(Xr,{iconClassName:"pf-u-ml-sm",hint:a().createElement(a().Fragment,null,"Your VPC must have control plane and compute subnets. The control plane subnet is where you deploy your control plane machines to. The compute subnet is where you deploy your compute machines to. "," ",a().createElement(Rr,{href:"https://docs.openshift.com/container-platform/4.6/installing/installing_gcp/installing-gcp-vpc.html"},"Learn more about installing into an existing VPC"))})),"To install into an existing VPC you need to ensure that your VPC is configured with a control plane subnet and compute subnet."),a().createElement(hw,null)))}gw.propTypes={selectedRegion:l().string,isMultiAz:l().bool,selected:l().bool,cloudProviderID:l().string};const bw=gw,Ew=e=>"10.128.0.0/"+("aws"===e?"16":"14"),fw=ys.disjointSubnets("network_machine_cidr"),yw=ys.disjointSubnets("network_service_cidr"),vw=ys.disjointSubnets("network_pod_cidr"),Ow=ys.awsSubnetMask("network_machine_cidr_single_az"),Cw=ys.awsSubnetMask("network_machine_cidr_multi_az"),Rw=ys.awsSubnetMask("network_service_cidr");function Sw({pending:e,toggleNetwork:t,mode:n,showClusterPrivacy:r,privateClusterSelected:s,cloudProviderID:l,isMultiAz:i,isCCS:o,selectedRegion:c,installToVPCSelected:u,isWizard:d}){const p=[ys.cidr,"aws"===l&&ys.awsMachineCidr,"gcp"===l&&ys.gcpMachineCidr,ys.validateRange,fw,ys.disjointFromDockerRange,"aws"===l&&!i&&Ow,"aws"===l&&i&&Cw,"gcp"===l&&ys.privateAddress].filter(Boolean),m=[ys.cidr,ys.serviceCidr,ys.validateRange,yw,ys.disjointFromDockerRange,"aws"===l&&Rw,"gcp"===l&&ys.privateAddress].filter(Boolean),h=[ys.cidr,ys.podCidr,ys.validateRange,vw,ys.disjointFromDockerRange,"gcp"===l&&ys.privateAddress].filter(Boolean),g=i?ys.AWS_MACHINE_CIDR_MAX_MULTI_AZ:ys.AWS_MACHINE_CIDR_MAX_SINGLE_AZ;return a().createElement(a().Fragment,null,a().createElement(xe.P,null,a().createElement(R.Title,{headingLevel:"h3"},"Networking")),a().createElement(Gr.c,{label:"Network configuration",isRequired:!0,fieldId:"network_configuration_toggle"},a().createElement(Ca.Z,{component:LO,className:"radio-button",name:"network_configuration_toggle",disabled:e,onChange:t,options:[{value:"basic",ariaLabel:"Advanced",label:a().createElement(a().Fragment,null,"Basic",a().createElement("div",{className:"radio-helptext"},"Creates a new VPC for your cluster using default values."))},{value:"advanced",ariaLabel:"Advanced",label:a().createElement(a().Fragment,null,"Advanced",a().createElement("div",{className:"radio-helptext"},"Choose this option if you will ever need direct, private network connectivity to your cluster, e.g. VPN or VPC peering."))}],defaultValue:"basic",disableDefaultValueHandling:d})),"advanced"===n&&o&&a().createElement(bw,{selectedRegion:c,isMultiAz:i,selected:u,cloudProviderID:l}),"advanced"===n&&a().createElement(a().Fragment,null,a().createElement(xe.P,{sm:12,md:10,lg:8},a().createElement(Ur.bZ,{id:"advanced-networking-alert",isInline:!0,variant:"info",title:"CIDR ranges may not be changed once the cluster has been created."},"The machine, service and pod ranges may not overlap. The addresses must specify a range, and correspond to the first IP address in their subnet.","gcp"===l&&a().createElement(a().Fragment,null,a().createElement("br",null),a().createElement("span",null,"All addresses must be private IPv4 addresses, and belong to one of the following ranges:",a().createElement("ul",null,a().createElement("li",null,"10.0.0.0  10.255.255.255"),a().createElement("li",null,"172.16.0.0  172.31.255.255"),a().createElement("li",null,"192.168.0.0  192.168.255.255")))))),a().createElement(xe.P,{md:2,lg:4}),a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Ca.Z,{component:Ea,name:"network_machine_cidr",label:"Machine CIDR",placeholder:"10.0.0.0/16",type:"text",validate:p,disabled:e,helpText:"aws"===l?`Subnet mask must be between /${ys.AWS_MACHINE_CIDR_MIN} and /${g}.`:`Range must be private. Subnet mask must be at most /${ys.GCP_MACHINE_CIDR_MAX}.`,extendedHelpText:Mu,showHelpTextOnError:!1})),a().createElement(xe.P,{md:7,lg:8}),a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Ca.Z,{component:Ea,name:"network_service_cidr",label:"Service CIDR",placeholder:"172.30.0.0/16",type:"text",validate:m,disabled:e,helpText:"aws"===l?`Subnet mask must be at most /${ys.SERVICE_CIDR_MAX}.`:`Range must be private. Subnet mask must be at most /${ys.SERVICE_CIDR_MAX}.`,extendedHelpText:ku,showHelpTextOnError:!1})),a().createElement(xe.P,{md:7,lg:8}),a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Ca.Z,{component:Ea,name:"network_pod_cidr",label:"Pod CIDR",placeholder:Ew(l),type:"text",validate:h,disabled:e,helpText:"aws"===l?`Subnet mask must allow for at least ${ys.POD_NODES_MIN} nodes.`:`Range must be private. Subnet mask must allow for at least ${ys.POD_NODES_MIN} nodes.`,extendedHelpText:ju,showHelpTextOnError:!1})),a().createElement(xe.P,{md:7,lg:8}),a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Ca.Z,{component:Ea,name:"network_host_prefix",label:"Host prefix",placeholder:"/23",type:"text",format:e=>e&&"/"!==e.charAt(0)?`/${e}`:e,normalize:e=>e&&"/"===e.charAt(0)?e.substring(1):e,validate:ys.hostPrefix,disabled:e,helpText:`Must be between /${ys.HOST_PREFIX_MIN} and /${ys.HOST_PREFIX_MAX}.`,extendedHelpText:xu,showHelpTextOnError:!1})),r&&a().createElement(a().Fragment,null,a().createElement(xe.P,{span:12},a().createElement(R.Title,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Cluster privacy")),a().createElement(xe.P,{span:8},a().createElement("p",null,"Clusters may be created initially with control plane API endpoint and application routes being all public or all private. More options are available after the initial installation.")),a().createElement(Ca.Z,{component:LO,name:"cluster_privacy",ariaLabel:"Cluster privacy",disabled:e,options:[{value:"external",ariaLabel:"Public",label:a().createElement(a().Fragment,null,"Public (recommended)",a().createElement("div",{className:"radio-helptext"},"Control plane API endpoint and application routes are accessible from the internet."))},{value:"internal",ariaLabel:"Private",label:a().createElement(a().Fragment,null,"Private",a().createElement("div",{className:"radio-helptext"},"Control plane API endpoint and application routes are restricted to direct, private connectivity."))}],defaultValue:"external"}),s&&a().createElement(xe.P,{sm:12,md:10,lg:8},a().createElement(Ur.bZ,{className:"bottom-alert",variant:"warning",isInline:!0,title:"You will not be able to access your cluster until you edit network settings in your cloud provider."},"aws"===l&&a().createElement("span",null,"Follow the"," ",a().createElement("a",{rel:"noreferrer noopener",target:"_blank",href:"https://docs.openshift.com/dedicated/4/cloud_infrastructure_access/dedicated-understanding-aws.html"},"documentation")," ","for how to do that."))))))}Sw.defaultProps={isCCS:!1},Sw.propTypes={isWizard:l().bool,pending:l().bool,mode:l().string,toggleNetwork:l().func,showClusterPrivacy:l().bool,privateClusterSelected:l().bool,cloudProviderID:l().string,isMultiAz:l().bool,isCCS:l().bool,selectedRegion:l().string,installToVPCSelected:l().bool};const Pw=Sw;function ww(){return(ww=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class Tw extends a().Component{constructor(...e){var t,n;super(...e),n=(e,t)=>{const{input:{onChange:n}}=this.props;n(t,e)},(t="onChange")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){const{selectedRegion:e,input:t}=this.props;t.onChange(e)}componentDidUpdate(e){const{selectedRegion:t,input:n}=this.props;e.selectedRegion!==t&&n.onChange(t)}render(){const{kmsRegionsArray:e,input:t}=this.props;return a().createElement(ra.FormSelect,ww({"aria-label":"KMS location"},t,{onChange:this.onChange}),e.map((e=>a().createElement(aa.FormSelectOption,{key:e,value:e,label:e}))))}}Tw.propTypes={input:l().object.isRequired,kmsRegionsArray:l().array,selectedRegion:l().string};const Dw=Tw,_w=(0,i.connect)(((e,t)=>{let n,r=[];const a=T()(e,"cloudProviders.providers.gcp.regions",{});return t.selectedRegion&&a[t.selectedRegion]&&(n=a[t.selectedRegion].kms_specific_region),n&&(r=n.split(",")),r.push(t.selectedRegion),{kmsRegionsArray:r}}),null)(Dw);function Iw({selectedRegion:e}){return a().createElement(a().Fragment,null,a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Ca.Z,{component:Ea,name:"key_ring",type:"text",label:"Key ring",placeholder:"Key ring name",validate:ps,helpText:"A key ring organizes keys in a specific Google Cloud location.",extendedHelpText:a().createElement(a().Fragment,null,Fu),showHelpTextOnError:!1})),a().createElement(xe.P,{md:7,lg:8}),a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Gr.c,{label:"Key ring location",fieldId:"key_location",labelIcon:a().createElement(Xr,{hint:_u})},a().createElement(Ca.Z,{component:_w,name:"key_location",selectedRegion:e,className:"pf-c-form-control"}))),a().createElement(xe.P,{md:7,lg:8}),a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Ca.Z,{component:Ea,name:"key_name",type:"text",label:"Key name",placeholder:"Key name",validate:ps,helpText:"Name of the key in the keyring.",extendedHelpText:a().createElement(a().Fragment,null,Zu),showHelpTextOnError:!1})),a().createElement(xe.P,{md:7,lg:8}),a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Ca.Z,{component:Ea,name:"kms_service_account",type:"text",label:"KMS Service Account",placeholder:"KMS Service Account",validate:ms,helpText:"GCP Service account will be used for compute scaling.",extendedHelpText:a().createElement(a().Fragment,null,Bu),showHelpTextOnError:!1})),a().createElement(xe.P,{md:7,lg:8}))}Iw.propTypes={selectedRegion:l().string};const Aw=Iw,Nw=function(){return a().createElement(a().Fragment,null,a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Ca.Z,{component:Ea,name:"kms_key_arn",type:"text",label:"Key ARN",placeholder:"Key ARN",validate:hs,isRequired:!0,helpText:"Unique, fully qualified identifier (Amazon Resource Name (ARN)) for your KMS Key.",extendedHelpText:a().createElement(a().Fragment,null,a().createElement("p",{className:"pf-u-mb-sm"},Yu),a().createElement(Rr,{href:"https://docs.aws.amazon.com/kms/latest/developerguide/find-cmk-id-arn.html"},"Finding the key ID and ARN")),showHelpTextOnError:!1})),a().createElement(xe.P,{md:7,lg:8}))};function Lw({customerManagedEncryptionSelected:e,selectedRegion:t,cloudProviderID:n}){const r="gcp"===n;return a().createElement(a().Fragment,null,a().createElement(Gr.c,{fieldId:"customer_managed_key",id:"customerManagedKey"},a().createElement(Ca.Z,{component:na,name:"customer_managed_key",label:"Customer-managed keys",extendedHelpText:a().createElement(a().Fragment,null,a().createElement(R.Title,{headingLevel:"h6",className:"pf-u-mb-sm"},r?Vu:Qu),a().createElement("p",{className:"pf-u-mb-sm"},r?$u:Wu),a().createElement(Rr,{href:r?"https://cloud.google.com/kms/docs/resource-hierarchy":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSEncryption.html"},r?"Learn all about Cloud KMS":"Learn more"))}),a().createElement("div",{className:"ocm-c--reduxcheckbox-description"},r?"Managed via Google Cloud Key Management Service. Used to store and generate encryption keys and encrypt your data.":"Managed via Amazon EBS encryption. Used to store and generate encryption keys and encrypt your data.")),e&&(r?a().createElement(Aw,{selectedRegion:t}):a().createElement(Nw,null)))}Lw.propTypes={customerManagedEncryptionSelected:l().bool,selectedRegion:l().string,cloudProviderID:l().string};const Mw=Lw;var kw=n(13185);function jw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class xw extends a().Component{constructor(...e){super(...e),jw(this,"state",{filename:""}),jw(this,"handleFileChange",((e,t,n)=>{const{input:r}=this.props;if(n.target.files){const e=n.target.files[0],t=new FileReader;t.onload=()=>{this.setState({filename:e.name}),r.onChange(t.result)},t.readAsText(e,"UTF-8")}else r.onChange(e)}))}render(){const{helpText:e,meta:{error:t,dirty:n,touched:r},input:s,isRequired:l,label:i,extendedHelpText:o}=this.props,{filename:c}=this.state;return a().createElement(Gr.c,{fieldId:s.name,helperText:e,helperTextInvalid:(n||r)&&t?t:"",validated:(n||r)&&t?"error":"default",label:i,labelIcon:o&&a().createElement(Xr,{hint:o}),isRequired:l},a().createElement(kw.p,{allowEditingUploadedText:!0,isDragActive:!0,id:s.name,type:"text",value:s.value,filename:c,onChange:this.handleFileChange,validated:(n||r)&&t?"error":"default"}))}}xw.defaultProps={helpText:"",isRequired:!1},xw.propTypes={helpText:l().string,extendedHelpText:l().oneOfType([l().string,l().node]),input:l().object.isRequired,meta:l().object.isRequired,isRequired:l().bool,label:l().string};const qw=xw;function Uw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class zw extends a().Component{constructor(...e){super(...e),Uw(this,"state",{byocSelected:!1,isMultiAz:!1,machineType:"",mode:"basic"}),Uw(this,"toggleBYOCFields",((e,t)=>{const{openModal:n,change:r}=this.props,{isMultiAz:a}=this.state;"true"===t?n("customer-cloud-subscription"):(r("nodes_compute",a?"9":"4"),this.setState({byocSelected:!1}))})),Uw(this,"closeBYOCModal",(()=>{const{closeModal:e,change:t}=this.props,{isMultiAz:n}=this.state,r=n?"3":"2";this.setState({byocSelected:!0}),t("nodes_compute",r),e()})),Uw(this,"handleMultiAZChange",(e=>{const t="true"===e;this.setState({isMultiAz:t})})),Uw(this,"handleMachineTypesChange",((e,t)=>{this.setState({machineType:t})})),Uw(this,"toggleNetwork",((e,t)=>{const{change:n}=this.props;"basic"===t&&(n("network_machine_cidr",""),n("network_service_cidr",""),n("network_pod_cidr","")),this.setState({mode:t})})),Uw(this,"toggleSubscriptionBilling",((e,t)=>{const{openModal:n}=this.props;let{billingModel:r}=this.props;const{byocSelected:a}=this.state;r=t?t.split("-")[0]:r,r!==ee.F6.MARKETPLACE&&"standard-trial"!==t||a||n("customer-cloud-subscription")})),Uw(this,"isByocForm",(()=>{const{clustersQuota:e,cloudProviderID:t,getMarketplaceQuota:n,billingModel:r}=this.props,{byocSelected:a}=this.state,{MARKETPLACE:s}=ee.F6;let l=!!T()(e,`${t}.byoc.totalAvailable`),i=!!T()(e,`${t}.rhInfra.totalAvailable`);return r===s&&(l=n("byoc",t),i=n("rhInfra",t)),l&&(!i||a)}))}render(){const{pending:e,change:t,openModal:n,isBYOCModalOpen:r,cloudProviderID:s,privateClusterSelected:l,product:i,isAutomaticUpgrade:o,selectedRegion:c,installToVPCSelected:u,canAutoScale:d,autoscalingEnabled:p,autoScaleMinNodesValue:m,autoScaleMaxNodesValue:h,customerManagedEncryptionSelected:g}=this.props;let{billingModel:b}=this.props;const{isMultiAz:E,machineType:f,mode:y}=this.state,v="aws"===s,O="gcp"===s;i===ee.Po.OSDTrial&&([b]=b.split("-"));const C=this.isByocForm(),S=i===ee.Po.OSD||i===ee.Po.OSDTrial;return a().createElement(a().Fragment,null,a().createElement(xe.P,{span:12},a().createElement(R.Title,{headingLevel:"h3"},"Billing model")),a().createElement(YP,{openModal:n,toggleBYOCFields:this.toggleBYOCFields,toggleSubscriptionBilling:this.toggleSubscriptionBilling,byocSelected:C,pending:e,product:i,billingModel:b,cloudProviderID:s,change:t}),r&&a().createElement(FP,{closeModal:this.closeBYOCModal,cloudProviderID:s}),v&&C&&a().createElement(a().Fragment,null,a().createElement(xe.P,{span:12},a().createElement(R.Title,{headingLevel:"h3"},"AWS account details")),a().createElement(xe.P,{sm:12,md:5,lg:4},"Before creating the cluster, review all the prerequisites in"," ",a().createElement(Rr,{href:"https://www.openshift.com/dedicated/ccs"},"the documentation.")," "),a().createElement(xe.P,{md:7,lg:8}),a().createElement(uw,{pending:e})),O&&C&&a().createElement(a().Fragment,null,a().createElement(xe.P,{span:12},a().createElement(R.Title,{headingLevel:"h3"},"GCP service account")),a().createElement(xe.P,{span:12},a().createElement("p",null,"In order to create a Customer Cloud Subscription cluster, you must have a Service Account in GCP named"," ",a().createElement("code",null,"osd-ccs-admin")," ","that meets"," ",a().createElement(Rr,{href:"https://www.openshift.com/dedicated/ccs"},"these requirements.")," ","Create a key for that service account, export to a file named"," ",a().createElement("code",null,"osServiceAccount.json")," ","and add it here.")),a().createElement(xe.P,null,a().createElement(Ca.Z,{component:qw,validate:[Za,cs],name:"gcp_service_account",disabled:e,isRequired:!0,label:"Service account JSON",helpText:"Upload a JSON file or type to add",className:"pf-c-form-control"}))),a().createElement(xe.P,{span:12},a().createElement(R.Title,{headingLevel:"h3"},"Cluster details")),a().createElement(ow,{pending:e,showDNSBaseDomain:!1,showAvailability:S,change:t,product:i,billingModel:b,isBYOC:C,cloudProviderID:s,handleCloudRegionChange:this.handleCloudRegionChange,handleMultiAZChangeForOldForm:this.handleMultiAZChange,isMultiAz:E}),a().createElement(xe.P,{span:12},a().createElement(R.Title,{headingLevel:"h3"},"Scale"),a().createElement("p",null,"The number and instance type of worker nodes in your cluster. After cluster creation you will be able to change the number of worker nodes in your cluster, but you will not be able to change the worker node instance type.")),a().createElement(AO,{pending:e,isBYOC:C,isMultiAz:E,machineType:f,handleMachineTypesChange:this.handleMachineTypesChange,cloudProviderID:s,product:i,canAutoScale:d,autoscalingEnabled:p,change:t,autoScaleMinNodesValue:m,autoScaleMaxNodesValue:h,billingModel:b}),a().createElement(Pw,{mode:y,toggleNetwork:this.toggleNetwork,showClusterPrivacy:v||O&&C,privateClusterSelected:l,cloudProviderID:s,isMultiAz:E,selectedRegion:c,isCCS:C,installToVPCSelected:u}),a().createElement(xe.P,{span:12},a().createElement(R.Title,{headingLevel:"h3"},"Encryption")),a().createElement(Gr.c,{fieldId:"etcd_encryption",id:"etcdEncryption"},a().createElement(Ca.Z,{component:na,name:"etcd_encryption",label:"Enable etcd encryption",extendedHelpText:a().createElement(a().Fragment,null,Uu," ",a().createElement(Rr,{href:"https://docs.openshift.com/container-platform/latest/security/encrypting-etcd.html"},"Learn more about etcd"))}),a().createElement("div",{className:"ocm-c--reduxcheckbox-description"},"Provide an additional layer of data security to your cluster.")),C&&a().createElement(Mw,{customerManagedEncryptionSelected:g,selectedRegion:c,cloudProviderID:s}),a().createElement(xe.P,{span:12},a().createElement(Op.Divider,null)),a().createElement(xe.P,null,a().createElement(R.Title,{headingLevel:"h3"},"Cluster settings")),a().createElement(rR,{parent:"create",disableUVM:!1}),a().createElement(R.Title,{headingLevel:"h3",className:"clusterupdatespace"},"Cluster updates"),a().createElement(tR,{isAutomatic:o,isDisabled:e}))}}zw.defaultProps={pending:!1,isBYOCModalOpen:!1,autoScaleMinNodesValue:"0",autoScaleMaxNodesValue:"0",billingModel:ee.F6.STANDARD},zw.propTypes={pending:l().bool,isBYOCModalOpen:l().bool,openModal:l().func.isRequired,closeModal:l().func.isRequired,change:l().func.isRequired,clustersQuota:l().shape({hasProductQuota:l().bool.isRequired,hasMarketplaceProductQuota:l().bool,hasOSDTrialQuota:l().bool,aws:l().shape({byoc:l().shape({singleAz:l().object.isRequired,multiAz:l().object.isRequired,totalAvailable:l().number.isRequired}).isRequired,rhInfra:l().shape({singleAz:l().object.isRequired,multiAz:l().object.isRequired,totalAvailable:l().number.isRequired}).isRequired}),gcp:l().shape({rhInfra:l().shape({singleAz:l().object.isRequired,multiAz:l().object.isRequired,totalAvailable:l().number.isRequired}).isRequired}),marketplace:l().object}),billingModel:l().string,cloudProviderID:l().string.isRequired,privateClusterSelected:l().bool.isRequired,product:l().oneOf(Object.keys(ee.Po)).isRequired,isAutomaticUpgrade:l().bool,customerManagedEncryptionSelected:l().bool,selectedRegion:l().string,installToVPCSelected:l().bool,canAutoScale:l().bool.isRequired,autoscalingEnabled:l().bool.isRequired,autoScaleMinNodesValue:l().string,autoScaleMaxNodesValue:l().string,getMarketplaceQuota:l().func.isRequired};const Fw=zw;class Zw extends a().Component{constructor(e){var t,n;super(e),n={hasShownBYOCModal:!1},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.getMarketplaceQuota=this.getMarketplaceQuota.bind(this)}componentDidMount(){const{machineTypes:e,organization:t,cloudProviders:n,persistentStorageValues:r,loadBalancerValues:a,getMachineTypes:s,getOrganizationAndQuota:l,getCloudProviders:i,getLoadBalancers:o,getPersistentStorage:c,cloudProviderID:u}=this.props;document.title=`Create an OpenShift Dedicated cluster | Red Hat OpenShift Cluster Manager | OpenShift Dedicated on \n    ${u.toUpperCase()}`,q(t)&&l(),e.fulfilled||e.pending||s(),n.fulfilled||n.pending||i(),r.fulfilled||r.pending||c(),a.fulfilled||a.pending||o()}componentDidUpdate(e){const{hasShownBYOCModal:t}=this.state,{createClusterResponse:n,isErrorModalOpen:r,clustersQuota:a,openModal:s,change:l,getOrganizationAndQuota:i,cloudProviderID:o,billingModel:c}=this.props;n.error&&!r&&s("osd-create-error");const u=!!T()(a,`${o}.byoc.totalAvailable`),d=!!T()(a,`${o}.rhInfra.totalAvailable`),p=this.getMarketplaceQuota("byoc",o),m=this.getMarketplaceQuota("rhInfra",o),h=c===ee.F6.MARKETPLACE;e.isBYOCModalOpen&&!t&&this.setState({hasShownBYOCModal:!0}),e.isBYOCModalOpen||!(!d&&u||h&&!m&&p)||t||(s("customer-cloud-subscription"),l("byoc","true"),this.setState({hasShownBYOCModal:!0})),n.fulfilled&&!e.createClusterResponse.fulfilled&&i()}componentWillUnmount(){this.reset()}getMarketplaceQuota(e,t){const{clustersQuota:n}=this.props;return!!T()(n,`marketplace.${t}.${e}.totalAvailable`)}reset(){const{resetResponse:e,resetForm:t}=this.props;e(),t()}render(){const{handleSubmit:e,createClusterResponse:t,change:n,machineTypes:r,organization:s,cloudProviders:l,product:i,osdTrialFeature:c,loadBalancerValues:u,persistentStorageValues:d,isErrorModalOpen:m,resetResponse:h,isBYOCModalOpen:g,openModal:b,closeModal:f,clustersQuota:y,cloudProviderID:v,privateClusterSelected:R,isAutomaticUpgrade:S,canEnableEtcdEncryption:P,selectedRegion:w,installToVPCSelected:T,canAutoScale:D,autoscalingEnabled:_,autoScaleMinNodesValue:I,autoScaleMaxNodesValue:A,billingModel:N,customerManagedEncryptionSelected:L}=this.props,M=i===ee.Po.OSDTrial,k=!s.pending&&s.fulfilled;if(t.fulfilled)return a().createElement(Ud.l_,{to:`/details/s/${t.cluster.subscription.id}`});if(k&&!y.hasProductQuota&&!y.hasMarketplaceProductQuota)return a().createElement(Ud.l_,{to:"/create"});if(k){if("gcp"===v&&!y.hasGcpQuota||"aws"===v&&!y.hasAwsQuota)return a().createElement(Ud.l_,{to:"/create/osd"});if(M&&(!y.hasProductQuota||!c))return a().createElement(Ud.l_,{to:"/create?trial=expired"})}const j=[{data:r,name:"Machine types"},{data:s,name:"Organization & Quota"},{data:l,name:"Providers & Regions"},{data:u,name:"Load balancers"},{data:d,name:"Storage options"}],x=j.some((e=>e.data.pending)),q=[{label:"Clusters"},{label:"Create",path:"/create"},{label:"OpenShift Dedicated",path:"/create/osd"},{label:"aws"===v?"Amazon Web Services":"Google Cloud Platform"}],U=a().createElement(GR,{title:"Create an OpenShift Dedicated Cluster",breadcrumbs:a().createElement(ym,{path:q})});if(x||!s.fulfilled&&!s.error)return a().createElement(a().Fragment,null,U,a().createElement(Ne.NP,null,a().createElement(E.Z,{centered:!0})));if(j.some((e=>e.data.error)))return a().createElement(a().Fragment,null,a().createElement(Ne.NP,null,a().createElement(K,{errors:j.filter((e=>e.data.error)).map((e=>({key:e.name,message:`Error while loading required form data (${e.name})`,response:e.data})))})));const z=m&&a().createElement(vP,{title:"Error creating cluster",errorResponse:t,resetResponse:h});return a().createElement(a().Fragment,null,U,a().createElement(Ne.NP,null,a().createElement(ke.Card,null,a().createElement("div",{className:"ocm-page"},z,a().createElement(qr.l,{onSubmit:e},a().createElement(je.r,{hasGutter:!0},ln.ZP.fakeOSD&&a().createElement(a().Fragment,null,a().createElement(xe.P,{span:8},a().createElement(bi.j,{variant:"warning"},"On submit, a fake OSD cluster will be created.")),a().createElement(xe.P,{span:4})),a().createElement(Fw,{pending:t.pending,change:n,isBYOCModalOpen:g,openModal:b,closeModal:f,clustersQuota:y,cloudProviderID:v,privateClusterSelected:R,product:i,isAutomaticUpgrade:S,canEnableEtcdEncryption:P,selectedRegion:w,installToVPCSelected:T,customerManagedEncryptionSelected:L,canAutoScale:D,autoscalingEnabled:_,autoScaleMinNodesValue:I,autoScaleMaxNodesValue:A,billingModel:N,getMarketplaceQuota:this.getMarketplaceQuota}),a().createElement(xe.P,null,a().createElement(O.P,{hasGutter:!0,className:"create-osd-form-button-split"},a().createElement(C.J,null,a().createElement(p.Button,{variant:"primary",type:"submit",onClick:e,isDisabled:t.pending,isLoading:t.peneding},"Create cluster")),a().createElement(C.J,null,a().createElement(o.Link,{to:"/"},a().createElement(p.Button,{variant:"secondary",isDisabled:t.pending},"Cancel"))),a().createElement(C.J,null,t.pending&&a().createElement("div",{className:"form-loading-text"},"Do not refresh this page. This request may take a moment..."))))))))))}}Zw.propTypes={isErrorModalOpen:l().bool,openModal:l().func.isRequired,closeModal:l().func.isRequired,clustersQuota:l().shape({hasStandardOSDQuota:l().bool.isRequired,hasProductQuota:l().bool.isRequired,hasProductMarketplaceQuota:l().bool,hasAwsQuota:l().bool.isRequired,hasGcpQuota:l().bool.isRequired,aws:l().shape({byoc:l().shape({singleAz:l().object.isRequired,multiAz:l().object.isRequired,totalAvailable:l().number.isRequired}).isRequired,rhInfra:l().shape({singleAz:l().object.isRequired,multiAz:l().object.isRequired,totalAvailable:l().number.isRequired}).isRequired}),gcp:l().shape({rhInfra:l().shape({singleAz:l().object.isRequired,multiAz:l().object.isRequired,totalAvailable:l().number.isRequired}).isRequired}),hasMarketplaceProductQuota:l().bool.isRequired}),isBYOCModalOpen:l().bool.isRequired,resetResponse:l().func.isRequired,resetForm:l().func.isRequired,handleSubmit:l().func.isRequired,createClusterResponse:l().object,change:l().func.isRequired,machineTypes:l().object.isRequired,cloudProviders:l().object.isRequired,persistentStorageValues:l().object.isRequired,loadBalancerValues:l().object.isRequired,organization:l().object.isRequired,getLoadBalancers:l().func.isRequired,getPersistentStorage:l().func.isRequired,getMachineTypes:l().func.isRequired,getOrganizationAndQuota:l().func.isRequired,getCloudProviders:l().func.isRequired,cloudProviderID:l().string.isRequired,product:l().oneOf(Object.keys(ee.Po)).isRequired,billingModel:l().string,privateClusterSelected:l().bool.isRequired,isAutomaticUpgrade:l().bool,canEnableEtcdEncryption:l().bool,selectedRegion:l().string,installToVPCSelected:l().bool,canAutoScale:l().bool.isRequired,autoscalingEnabled:l().bool.isRequired,autoScaleMinNodesValue:l().string,autoScaleMaxNodesValue:l().string,osdTrialFeature:l().bool,customerManagedEncryptionSelected:l().bool},Zw.defaultProps={autoScaleMinNodesValue:"0",autoScaleMaxNodesValue:"0"};const Bw=Zw;var Gw=n(78718),Hw=n.n(Gw);const Vw=(e,{cloudProviderID:t,product:n})=>r=>{const a="true"===r.multi_az,s=t||r.cloud_provider,l={name:r.name,region:{id:r.region},nodes:{compute_machine_type:{id:r.machine_type}},managed:!0,cloud_provider:{id:s},multi_az:a,node_drain_grace_period:{value:r.node_drain_grace_period,unit:"minutes"},etcd_encryption:r.etcd_encryption,billing_model:"standard",disable_user_workload_monitoring:!r.enable_user_workload_monitoring};if(r.billing_model){const[e]=r.billing_model.split("-");l.billing_model=e}else l.billing_model="standard";if(r.autoscalingEnabled){const e=parseInt(r.min_replicas,10),t=parseInt(r.max_replicas,10);l.nodes.autoscale_compute={min_replicas:a?3*e:e,max_replicas:a?3*t:t}}else l.nodes.compute=parseInt(r.nodes_compute,10);const i=z(r.node_labels||[{}]);P()(i)||(l.nodes.compute_labels=z(r.node_labels)),r.product?l.product={id:r.product.toLowerCase()}:n&&(l.product={id:n.toLowerCase()}),ln.ZP.fakeOSD&&(l.properties={fake_cluster:"true"}),"advanced"===r.network_configuration_toggle&&(l.network={machine_cidr:r.network_machine_cidr,service_cidr:r.network_service_cidr,pod_cidr:r.network_pod_cidr,host_prefix:parseInt(r.network_host_prefix,10)},l.api={listening:r.cluster_privacy});const o="advanced"===r.network_configuration_toggle&&r.install_to_vpc;if("true"===r.byoc){if(l.ccs={enabled:!0},"aws"===s){if(l.aws={access_key_id:r.access_key_id,account_id:r.account_id,secret_access_key:r.secret_access_key},r.customer_managed_key&&(l.aws.kms_key_arn=r.kms_key_arn),l.ccs.disable_scp_checks=r.disable_scp_checks,o){let e=[r.private_subnet_id_0,r.public_subnet_id_0];a&&(e=[...e,r.private_subnet_id_1,r.public_subnet_id_1,r.private_subnet_id_2,r.public_subnet_id_2]),l.aws.subnet_ids=e;let t=[r.az_0];a&&(t=[...t,r.az_1,r.az_2]),l.nodes.availability_zones=t}}else if("gcp"===s){const e=JSON.parse(r.gcp_service_account);l.gcp=Hw()(e,["type","project_id","private_key_id","private_key","client_email","client_id","auth_uri","token_uri","auth_provider_x509_cert_url","client_x509_cert_url"]),l.cloud_provider.display_name="gcp",l.cloud_provider.name="gcp",l.flavour={id:"osd-4"},o&&(l.gcp_network={vpc_name:r.vpc_name,control_plane_subnet:r.control_plane_subnet,compute_subnet:r.compute_subnet}),r.customer_managed_key&&(l.gcp_encryption_key={key_name:r.key_name,key_ring:r.key_ring,key_location:r.key_location,kms_key_service_account:r.kms_service_account})}}else l.load_balancer_quota=parseInt(r.load_balancers,10),l.storage_quota={unit:"B",value:parseFloat(r.persistent_storage)};e(Wn(l,{upgrade_policy:r.upgrade_policy,automatic_upgrade_schedule:r.automatic_upgrade_schedule}))},$w={form:"CreateCluster",onSubmitFail:U},Qw=(0,vc.Z)($w)(Bw),Ww=(0,i.connect)(((e,t)=>{const{organization:n}=e.userProfile,{cloudProviderID:r}=t,a="aws"===r?"us-east-1":"us-east1",{STANDARD:s,MARKETPLACE:l}=ee.F6,{OSD:i,OSDTrial:o}=ee.Po,c=(0,hu.Z)("CreateCluster"),u="internal"===c(e,"cluster_privacy"),d=c(e,"customer_managed_key"),p=c(e,"product")||t.product,m=xc(e,p,s)||xc(e,p,l),h=qc(e,p,s)||qc(e,p,l),g=xc(e,i,s)||qc(e,i,s);return{createClusterResponse:e.clusters.createdCluster,machineTypes:e.machineTypes,organization:n,customerManagedEncryptionSelected:d,selectedRegion:c(e,"region"),installToVPCSelected:c(e,"install_to_vpc"),isErrorModalOpen:ze(e,"osd-create-error"),isBYOCModalOpen:ze(e,"customer-cloud-subscription"),isAutomaticUpgrade:"automatic"===c(e,"upgrade_policy"),cloudProviders:e.cloudProviders,persistentStorageValues:e.persistentStorageValues,loadBalancerValues:e.loadBalancerValues,clustersQuota:{hasStandardOSDQuota:g,hasProductQuota:Uc(e,p),hasOSDTrialQuota:Uc(e,o),hasMarketplaceProductQuota:xc(e,i,l)||qc(e,i,l),hasAwsQuota:m,hasGcpQuota:h,aws:Mc(e,p,s),gcp:kc(e,p,s),marketplace:{aws:Mc(e,i,l),gcp:kc(e,i,l)}},privateClusterSelected:u,product:p,canAutoScale:Id(e,p),autoscalingEnabled:!!c(e,"autoscalingEnabled"),autoScaleMinNodesValue:c(e,"min_replicas"),autoScaleMaxNodesValue:c(e,"max_replicas"),osdTrialFeature:e.features[Bn.vC],billingModel:c(e,"billing_model"),initialValues:{byoc:"false",name:"",nodes_compute:"4",dns_base_domain:"",aws_access_key_id:"",aws_secret_access_key:"",region:a,multi_az:"false",persistent_storage:"107374182400",load_balancers:"0",network_configuration_toggle:"basic",disable_scp_checks:!1,node_drain_grace_period:60,upgrade_policy:"manual",automatic_upgrade_schedule:"0 0 * * 0",node_labels:[{}],billing_model:"standard",product:t.product,enable_user_workload_monitoring:!0}}}),((e,t)=>({onSubmit:Vw(e,t),resetResponse:()=>e(ur()),resetForm:()=>e((0,Qv.mc)("CreateCluster")),openModal:t=>{e(Qt(t))},closeModal:()=>{e(Wt())},getOrganizationAndQuota:()=>e((0,d.nh)()),getMachineTypes:()=>e(ud()),getCloudProviders:()=>e(wo()),getPersistentStorage:()=>e(Oc()),getLoadBalancers:()=>e(Wc())})))(Qw);var Yw=n(92708),Kw=n(52740);const Jw=({cloudProviderID:e,isByoc:t,isMultiAz:n,isTrialDefault:r})=>{let a;a=t||r?n?3:2:n?9:4;const s={node_drain_grace_period:60,upgrade_policy:"manual",automatic_upgrade_schedule:"0 0 * * 0",multi_az:(!!n).toString(),persistent_storage:"107374182400",load_balancers:"0",enable_user_workload_monitoring:"true",nodes_compute:a,node_labels:[{}],byoc:(!!t||!!r).toString(),name:"",dns_base_domain:"",aws_access_key_id:"",aws_secret_access_key:"",network_configuration_toggle:"basic",disable_scp_checks:!1,billing_model:r?"standard-trial":"standard",product:r?ee.Po.OSDTrial:ee.Po.OSD};return e&&(s.region="aws"===e?"us-east-1":"us-east1"),s},Xw={form:"CreateCluster",onSubmitFail:U,keepDirtyOnReinitialize:!0,updateUnregisteredFields:!0,destroyOnUnmount:!1,forceUnregisterOnUnmount:!0,enableReinitialize:!0},eT=e=>(0,vc.Z)(Xw)(e),tT=(0,i.connect)(((e,t)=>{const n=(0,hu.Z)("CreateCluster"),r=n(e,"cloud_provider"),a="true"===n(e,"multi_az"),s="true"===n(e,"byoc"),l=n(e,"billing_model");return{initialValues:Jw({cloudProviderID:r,isMultiAz:a,isByoc:s,isTrialDefault:t.isTrialDefault}),isWizard:!0,byocSelected:s,billingModel:l}}))(eT(YP));var nT=n(27905);const rT=()=>a().createElement("svg",{role:"img",title:"AWS",version:"1.1",id:"Layer_1",height:".9em",viewBox:"0 0 304 182",style:{enableBackground:"0 0 304 182"}},a().createElement("g",null,a().createElement("path",{className:"st0",d:"M86.4,66.4c0,3.7,0.4,6.7,1.1,8.9c0.8,2.2,1.8,4.6,3.2,7.2c0.5,0.8,0.7,1.6,0.7,2.3c0,1-0.6,2-1.9,3l-6.3,4.2 c-0.9,0.6-1.8,0.9-2.6,0.9c-1,0-2-0.5-3-1.4C76.2,90,75,88.4,74,86.8c-1-1.7-2-3.6-3.1-5.9c-7.8,9.2-17.6,13.8-29.4,13.8 c-8.4,0-15.1-2.4-20-7.2c-4.9-4.8-7.4-11.2-7.4-19.2c0-8.5,3-15.4,9.1-20.6c6.1-5.2,14.2-7.8,24.5-7.8c3.4,0,6.9,0.3,10.6,0.8 c3.7,0.5,7.5,1.3,11.5,2.2v-7.3c0-7.6-1.6-12.9-4.7-16c-3.2-3.1-8.6-4.6-16.3-4.6c-3.5,0-7.1,0.4-10.8,1.3c-3.7,0.9-7.3,2-10.8,3.4 c-1.6,0.7-2.8,1.1-3.5,1.3c-0.7,0.2-1.2,0.3-1.6,0.3c-1.4,0-2.1-1-2.1-3.1v-4.9c0-1.6,0.2-2.8,0.7-3.5c0.5-0.7,1.4-1.4,2.8-2.1 c3.5-1.8,7.7-3.3,12.6-4.5c4.9-1.3,10.1-1.9,15.6-1.9c11.9,0,20.6,2.7,26.2,8.1c5.5,5.4,8.3,13.6,8.3,24.6V66.4z M45.8,81.6 c3.3,0,6.7-0.6,10.3-1.8c3.6-1.2,6.8-3.4,9.5-6.4c1.6-1.9,2.8-4,3.4-6.4c0.6-2.4,1-5.3,1-8.7v-4.2c-2.9-0.7-6-1.3-9.2-1.7 c-3.2-0.4-6.3-0.6-9.4-0.6c-6.7,0-11.6,1.3-14.9,4c-3.3,2.7-4.9,6.5-4.9,11.5c0,4.7,1.2,8.2,3.7,10.6 C37.7,80.4,41.2,81.6,45.8,81.6z M126.1,92.4c-1.8,0-3-0.3-3.8-1c-0.8-0.6-1.5-2-2.1-3.9L96.7,10.2c-0.6-2-0.9-3.3-0.9-4 c0-1.6,0.8-2.5,2.4-2.5h9.8c1.9,0,3.2,0.3,3.9,1c0.8,0.6,1.4,2,2,3.9l16.8,66.2l15.6-66.2c0.5-2,1.1-3.3,1.9-3.9c0.8-0.6,2.2-1,4-1 h8c1.9,0,3.2,0.3,4,1c0.8,0.6,1.5,2,1.9,3.9l15.8,67l17.3-67c0.6-2,1.3-3.3,2-3.9c0.8-0.6,2.1-1,3.9-1h9.3c1.6,0,2.5,0.8,2.5,2.5 c0,0.5-0.1,1-0.2,1.6c-0.1,0.6-0.3,1.4-0.7,2.5l-24.1,77.3c-0.6,2-1.3,3.3-2.1,3.9c-0.8,0.6-2.1,1-3.8,1h-8.6c-1.9,0-3.2-0.3-4-1 c-0.8-0.7-1.5-2-1.9-4L156,23l-15.4,64.4c-0.5,2-1.1,3.3-1.9,4c-0.8,0.7-2.2,1-4,1H126.1z M254.6,95.1c-5.2,0-10.4-0.6-15.4-1.8 c-5-1.2-8.9-2.5-11.5-4c-1.6-0.9-2.7-1.9-3.1-2.8c-0.4-0.9-0.6-1.9-0.6-2.8v-5.1c0-2.1,0.8-3.1,2.3-3.1c0.6,0,1.2,0.1,1.8,0.3 c0.6,0.2,1.5,0.6,2.5,1c3.4,1.5,7.1,2.7,11,3.5c4,0.8,7.9,1.2,11.9,1.2c6.3,0,11.2-1.1,14.6-3.3c3.4-2.2,5.2-5.4,5.2-9.5 c0-2.8-0.9-5.1-2.7-7c-1.8-1.9-5.2-3.6-10.1-5.2L246,52c-7.3-2.3-12.7-5.7-16-10.2c-3.3-4.4-5-9.3-5-14.5c0-4.2,0.9-7.9,2.7-11.1 c1.8-3.2,4.2-6,7.2-8.2c3-2.3,6.4-4,10.4-5.2c4-1.2,8.2-1.7,12.6-1.7c2.2,0,4.5,0.1,6.7,0.4c2.3,0.3,4.4,0.7,6.5,1.1 c2,0.5,3.9,1,5.7,1.6c1.8,0.6,3.2,1.2,4.2,1.8c1.4,0.8,2.4,1.6,3,2.5c0.6,0.8,0.9,1.9,0.9,3.3v4.7c0,2.1-0.8,3.2-2.3,3.2 c-0.8,0-2.1-0.4-3.8-1.2c-5.7-2.6-12.1-3.9-19.2-3.9c-5.7,0-10.2,0.9-13.3,2.8c-3.1,1.9-4.7,4.8-4.7,8.9c0,2.8,1,5.2,3,7.1 c2,1.9,5.7,3.8,11,5.5l14.2,4.5c7.2,2.3,12.4,5.5,15.5,9.6c3.1,4.1,4.6,8.8,4.6,14c0,4.3-0.9,8.2-2.6,11.6 c-1.8,3.4-4.2,6.4-7.3,8.8c-3.1,2.5-6.8,4.3-11.1,5.6C264.4,94.4,259.7,95.1,254.6,95.1z"}),a().createElement("g",null,a().createElement("path",{className:"st1",d:"M273.5,143.7c-32.9,24.3-80.7,37.2-121.8,37.2c-57.6,0-109.5-21.3-148.7-56.7c-3.1-2.8-0.3-6.6,3.4-4.4 c42.4,24.6,94.7,39.5,148.8,39.5c36.5,0,76.6-7.6,113.5-23.2C274.2,133.6,278.9,139.7,273.5,143.7z"}),a().createElement("path",{className:"st1",d:"M287.2,128.1c-4.2-5.4-27.8-2.6-38.5-1.3c-3.2,0.4-3.7-2.4-0.8-4.5c18.8-13.2,49.7-9.4,53.3-5 c3.6,4.5-1,35.4-18.6,50.2c-2.7,2.3-5.3,1.1-4.1-1.9C282.5,155.7,291.4,133.4,287.2,128.1z"})))),aT=()=>a().createElement("svg",{role:"img",title:"GCP",xmlns:"http://www.w3.org/2000/svg",height:".9em",id:"Art",version:"1.1",viewBox:"-1348.0212 -351.96825 11682.8504 2111.8095"},a().createElement("style",{id:"style696",type:"text/css"}),a().createElement("g",{transform:"translate(.008 -.004)",id:"g730"},a().createElement("g",{id:"g710"},a().createElement("path",{id:"path702",d:"M1057.1 369.2h50.8l144.8-144.8 7.1-61.5C990.3-75 579-49.3 341.1 220.2 275 295 227.1 384.1 200.9 480.5c16.1-6.6 34-7.7 50.8-3l289.6-47.8s14.7-24.4 22.4-22.9c128.8-141.5 345.6-158 494.4-37.6z",fill:"#ea4335"}),a().createElement("path",{id:"path704",d:"M1459 480.5c-33.3-122.6-101.6-232.8-196.6-317l-203.2 203.2c85.8 70.1 134.7 175.8 132.6 286.6v36.1c99.9 0 180.9 81 180.9 180.9s-81 180.9-180.9 180.9H830l-36.1 36.6v217l36.1 36.1h361.8c259.8 2 472.1-207 474.1-466.8 1.2-157.8-76.5-305.4-206.9-393.6z",fill:"#4285f4"}),a().createElement("path",{id:"path706",d:"M467.7 1338.6h361.8V1049H467.7c-25.8 0-51.2-5.6-74.7-16.3l-50.8 15.8-145.8 144.8-12.7 50.8c81.7 61.8 181.5 95 284 94.5z",fill:"#34a853"}),a().createElement("path",{id:"path708",d:"M467.7 399.2C207.8 400.7-1.5 612.6 0 872.5c.9 145.1 68.6 281.7 183.7 370.1l209.8-209.8c-91-41.1-131.5-148.3-90.4-239.3 41.1-91 148.3-131.5 239.3-90.4 40.1 18.1 72.2 50.3 90.4 90.4l209.8-209.8c-89.2-116.8-228-185.1-374.9-184.5z",fill:"#fbbc05"})),a().createElement("g",{id:"g728"},a().createElement("g",{id:"g714"},a().createElement("path",{id:"path712",d:"M2629.1 1136.4c-125.9 1.6-246.9-48.1-335.3-137.7-91.3-85.8-142.3-206-140.7-331.3-1.5-125.3 49.5-245.4 140.7-331.3 88-90.5 209.1-141.2 335.3-140.2 120.2-1.6 236.1 45.1 321.6 129.6l-90.4 92c-61.9-59.9-145.1-92.7-231.2-91.5-90.3-1.1-177 35.8-238.8 101.6-64.2 63.7-99.6 150.9-98.1 241.3-.8 89.4 34.6 175.3 98.1 238.3 130.8 130.4 341.7 132.9 475.6 5.6 39.9-43.6 64.3-99.2 69.6-158h-304.9v-130H3062c4.2 26.2 5.9 52.7 5.1 79.3 5.4 110.9-34.8 219.2-111.3 299.8-85.1 88.5-203.9 136.7-326.7 132.5zm1003-86.4c-120.3 115.3-310.1 115.3-430.4 0-58.3-56.5-90.1-134.8-87.9-215.9-2.2-81.1 29.7-159.4 87.9-215.9 120.4-115 310-115 430.4 0 58.2 56.5 90.1 134.8 87.9 215.9 2.1 81.2-30 159.5-88.4 215.9zm-335.4-84.8c62.1 66.4 166.3 69.8 232.7 7.6 2.6-2.5 5.2-5 7.6-7.6 33.9-35.1 52.2-82.3 50.8-131.1 1.5-48.9-16.8-96.4-50.8-131.6-63.9-66.6-169.7-68.9-236.4-5-1.7 1.6-3.4 3.3-5 5-34 35.2-52.3 82.7-50.8 131.6-1.3 48.8 17.2 96.1 51.3 131.1zm996.9 84.8c-120.3 115.3-310.1 115.3-430.4 0-58.3-56.5-90.1-134.8-87.9-215.9-2.2-81.1 29.7-159.4 87.9-215.9 120.3-115.3 310.1-115.3 430.4 0 58.2 56.5 90.1 134.8 87.9 215.9 2.3 81.1-29.6 159.4-87.9 215.9zm-335.3-84.8c62.1 66.4 166.3 69.8 232.7 7.6 2.6-2.5 5.2-5 7.6-7.6 33.9-35.1 52.2-82.3 50.8-131.1 1.5-48.9-16.8-96.4-50.8-131.6-63.9-66.6-169.7-68.9-236.3-5-1.7 1.6-3.4 3.3-5 5-34 35.2-52.3 82.7-50.8 131.6-1.3 48.8 17.2 96.1 51.3 131.1zm770.2 442.5c-60.9 1.9-120.6-17.1-169.2-53.9a311.85 311.85 0 01-98.6-125l115.8-48.3c12.6 29.6 32.3 55.6 57.4 75.7 26.8 21.6 60.5 33 95 32 44.2 2.7 87.4-14 118.4-45.7 30.6-36.9 45.7-84.3 42.2-132.1v-43.7h-4.6c-39.3 46.6-98.2 72-159 68.6-77.1.2-150.8-31.8-203.2-88.4-56.8-56.1-88.2-133-86.9-212.9-1.4-80.3 30-157.7 86.9-214.4 52.3-56.8 126-89.1 203.2-88.9 32.3-.1 64.3 7.1 93.5 20.8 25.3 11 47.8 27.5 66.1 48.3h4.6v-48.3h126v541.1c6.7 86.5-22.5 172-80.8 236.3-55.5 53.1-130 81.5-206.8 78.8zm9.2-390.2c43.9 1 86-17.7 114.8-50.8 31.3-35.9 47.9-82.4 46.2-130.1 1.9-48.5-14.6-95.8-46.2-132.6-28.8-33.2-70.9-51.8-114.8-50.8-45.1-.9-88.4 17.6-118.9 50.8-33.6 35.5-51.9 82.8-50.8 131.6-1 48.4 17.2 95.2 50.8 130.1 30.3 33.5 73.6 52.4 118.9 51.8zM5240.2 230v888.1h-132.6V230zm363.8 906.4c-80.3 2.1-157.8-29.4-213.9-86.9-56.9-57-88-134.9-85.9-215.4-3-80.7 26.9-159.2 82.8-217.5 52.8-55.6 126.6-86.4 203.2-84.9 34.9-.4 69.4 6.4 101.6 19.8 29 11.7 55.4 29 77.7 50.8 19.2 18.5 36.2 39.1 50.8 61.5 11.8 18.9 21.8 38.8 30 59.4l13.7 34.6L5457.6 925c25.2 57.8 83.3 94.2 146.3 91.5 60.9.2 117.4-31.7 148.9-83.8l101.6 68.6a333.72 333.72 0 01-97.6 92.5c-45.6 28.8-98.8 43.6-152.8 42.6zm-169.7-311.5l270.3-112.3c-8.3-19.8-23.2-36.1-42.2-46.2-21.2-12-45.2-18.1-69.6-17.8-41.3 1.1-80.6 18.4-109.2 48.3-34.7 33.2-52.8 80.1-49.3 128z",className:"st4"})),a().createElement("g",{id:"g726"},a().createElement("path",{id:"path716",d:"M6558.7 1136.4c-231.2 4-421.8-180.2-425.8-411.4-.1-5.6-.1-11.3.1-16.9-5.4-231.2 177.7-422.9 408.8-428.3 5.6-.1 11.3-.1 16.9-.1 115.6-3.6 226.6 45.8 301.3 134.1l-73.2 71.1c-54.9-69.1-139.5-107.8-227.6-104.2-84.5-1.9-166.2 30.8-226.1 90.4-62.3 62.7-95.6 148.5-92 236.8-3.7 88.3 29.7 174.1 92 236.8 59.9 59.7 141.6 92.3 226.1 90.4 98.4 1.1 191.9-42.7 254-118.9l73.2 73.2c-38.3 45.8-86.4 82.4-140.7 107.2-58.6 27.2-122.5 40.8-187 39.8z",className:"st4"}),a().createElement("path",{id:"path718",d:"M7083 1118.1h-105.2V297.5H7083z",className:"st4"}),a().createElement("path",{id:"path720",d:"M7254.8 624.2c114.7-113.9 299.9-113.9 414.6 0 54.4 57.5 83.7 134.3 81.3 213.4 2.4 79.1-26.9 155.9-81.3 213.4-114.7 113.9-299.9 113.9-414.6 0-54.4-57.5-83.7-134.3-81.3-213.4-2.4-79.1 26.8-155.9 81.3-213.4zM7333 985c67.3 71.1 179.5 74.2 250.7 6.9 2.4-2.2 4.7-4.6 6.9-6.9 37.1-39.8 56.7-92.9 54.4-147.3 2.4-54.4-17.2-107.5-54.4-147.3-67.3-71.1-179.5-74.2-250.7-6.9-2.4 2.2-4.7 4.6-6.9 6.9-37.1 39.8-56.7 92.9-54.4 147.3-2.1 54.3 17.7 107.2 54.9 146.8z",className:"st4"}),a().createElement("path",{id:"path722",d:"M8333.4 1118.1h-101.6v-77.7h-3c-18.1 29.5-43.7 53.7-74.2 70.1-31.6 18.3-67.6 28-104.2 27.9-60.2 4.1-118.9-19.5-159.5-64-38.5-48.7-57.8-109.8-54.4-171.7V557.2h105.2v326.2c0 104.7 46.2 157 138.7 157 41.7 1.3 81.4-17.6 106.7-50.8 27.3-34.5 41.8-77.4 41.2-121.4v-311h105.2v560.9z",className:"st4"}),a().createElement("path",{id:"path724",d:"M8690.6 1136.4c-72.2.2-140.9-31.1-188-85.9-52.7-58.2-80.9-134.4-78.8-212.9-2.1-78.5 26.1-154.7 78.8-212.9 47.1-54.7 115.8-86.1 188-85.9 40-.6 79.5 8.8 114.8 27.4 31.1 15.6 57.4 39.3 76.2 68.6h4.6l-4.6-77.7V297.5h105.2v820.6h-101.6v-77.7h-4.6c-18.8 29.3-45.1 53-76.2 68.6-35 18.4-74.1 27.9-113.8 27.4zm17.3-96c48.1.7 94.2-19.3 126.5-54.9 35.7-40.7 54-93.8 50.8-147.9 3.2-54-15.1-107.2-50.8-147.9-63.8-70.2-172.4-75.3-242.6-11.4-4 3.6-7.8 7.5-11.4 11.4-35.8 40.4-54.1 93.4-50.8 147.3-3.3 53.9 15 106.9 50.8 147.3 32.4 36.4 78.9 56.8 127.5 56.1z",className:"st4"})))));function sT({hasGcpQuota:e,hasAwsQuota:t,input:{value:n,onChange:r}}){const s=e=>zg()("ocm-tile-create-cluster",e?"":"card-disabled"),l=a().createElement(nT.n,{className:s(e),onClick:()=>e&&r("gcp"),"data-test-id":"gcp-provider-card",title:"Run on Google Cloud Platform",icon:a().createElement(aT,null),isDisplayLarge:!0,isStacked:!0}),i=a().createElement(nT.n,{className:s(t),onClick:()=>t&&r("aws"),"data-test-id":"aws-provider-card",title:"Run on Amazon Web Services",icon:a().createElement(rT,null),isDisplayLarge:!0,isStacked:!0});return a().createElement("div",null,t?i:a().createElement(Vr.Tooltip,{content:j},i),e?l:a().createElement(Vr.Tooltip,{content:j},l))}sT.propTypes={hasGcpQuota:l().bool.isRequired,hasAwsQuota:l().bool.isRequired,input:l().shape({onChange:l().func,value:l().string}).isRequired};const lT=sT,iT=(0,i.connect)((e=>{const t=(0,hu.Z)("CreateCluster"),n=t(e,"product"),r=t(e,"billing_model"),a="true"===t(e,"byoc"),s=t=>Ac(e.userProfile.organization.quotaList,t)>0;return{product:n,hasGcpQuota:s({resourceType:wc,cloudProviderID:"gcp",product:n,billingModel:r,isByoc:a}),hasAwsQuota:s({resourceType:wc,cloudProviderID:"aws",product:n,billingModel:r,isByoc:a})}}))(lT);function oT({isValidating:e}){return a().createElement(a().Fragment,null,a().createElement(xe.P,null,a().createElement(Ur.bZ,{variant:"info",isInline:!0,title:"Customer cloud subscription"},"Provision your cluster in an AWS account owned by you or your company to leverage your existing relationship and pay AWS directly for public cloud costs.")),a().createElement(xe.P,null,a().createElement(R.Title,{headingLevel:"h3"},"AWS account details")),a().createElement(xe.P,null,a().createElement(V.L,{toggleText:"Prerequisites"},a().createElement(m.D,null,"Successful cluster provisioning requires that:",a().createElement("ul",null,a().createElement("li",null,"Your AWS account has the necessary limits to support your desired cluster size according to the"," ",a().createElement(Rr,{noIcon:!0,href:Ku.resourceRequirementsLink},"cluster resource requirements"),"."),a().createElement("li",null,"An IAM user called"," ",a().createElement("b",null,"osdCcsAdmin")," ","exists with the AdministratorAccess policy."),a().createElement("li",null,"An Organization Service Control Policy (SCP) is set up according to the requirements for customer cloud subscriptions.")),"Business Support for AWS is also recommended. For more guidance, see the"," ",a().createElement(Rr,{href:"https://www.openshift.com/dedicated/ccs"},"customer cloud subscription requirements"),"."))),a().createElement(uw,{isWizard:!0,isValidating:e}))}oT.propTypes={isValidating:l().bool};const cT=oT;function uT({isValidating:e}){return a().createElement(a().Fragment,null,a().createElement(xe.P,{span:12},a().createElement(Ur.bZ,{variant:"info",isInline:!0,title:"Customer cloud subscription"},"Provision your cluster in a Google Cloud Platform account owned by you or your company to leverage your existing relationship and pay Google Cloud Platform directly for public cloud costs.")),a().createElement(xe.P,{span:12},a().createElement(R.Title,{headingLevel:"h3"},"GCP service account")),a().createElement(xe.P,{span:12},a().createElement(V.L,{toggleText:"Prerequisites"},a().createElement(m.D,null,"Successful cluster provisioning requires that:",a().createElement("ul",null,a().createElement("li",null,"Your Google Cloud account has the necessary resource quotas and limits to support your desired cluster size according to the"," ",a().createElement(Rr,{noIcon:!0,href:"https://www.openshift.com/dedicated/ccs"},"cluster resource requirements")),a().createElement("li",null,"An IAM Service account called osd-ccs-admin exists with the following roles attached:",a().createElement("ul",null,a().createElement("li",null,"DNS Administrator"),a().createElement("li",null,"Organization Policy Viewer"),a().createElement("li",null,"Owner"),a().createElement("li",null,"Project IAM Admin"),a().createElement("li",null,"Service Management Administrator"),a().createElement("li",null,"Service Usage Admin"),a().createElement("li",null,"Storage Admin")))),"Production Support from GCP is also recommended. To prevent potential conflicts, we recommend that you have no other resources provisioned in the project prior to provisioning OpenShift Dedicated. For more guidance, see the"," ",a().createElement(Rr,{noIcon:!0,href:"https://www.openshift.com/dedicated/ccs"},"customer cloud subscription requirements.")))),a().createElement(xe.P,{sm:12,md:5},a().createElement(Ca.Z,{component:qw,validate:[Za,cs],extendedHelpText:a().createElement(a().Fragment,null,a().createElement("p",null,"To create a service account JSON file, create a key for your service account, export it to a file and upload it to this field."),a().createElement(Rr,{href:"https://cloud.google.com/iam/docs/creating-managing-service-account-keys#creating_service_account_keys"},"Learn how to create service account keys")),name:"gcp_service_account",isRequired:!0,label:"Service account JSON",helpText:"Upload a JSON file or type to add",className:"pf-c-form-control"})),a().createElement(xe.P,null,e&&a().createElement(a().Fragment,null,"Validating...")))}uT.propTypes={isValidating:l().bool};const dT=uT;function pT({isByoc:e,cloudProviderID:t,ccsCredentialsValidityResponse:n}){return a().createElement(qr.l,{onSubmit:e=>(e.preventDefault(),!1)},a().createElement(R.Title,{headingLevel:"h3"},"Select a cloud provider"),a().createElement(Ca.Z,{name:"cloud_provider",component:iT,validate:Za}),e&&t&&("aws"===t?a().createElement(cT,{isValidating:n.pending}):a().createElement(dT,{isValidating:n.pending})),e&&n.error&&a().createElement(Ur.bZ,{variant:"danger",isInline:!0,title:`${t.toUpperCase()} wasn't able to verify your credentials`},"Verify that your entered"," ","aws"===t?"access keys match the access keys provided in your AWS account.":"service account details are correct"))}pT.propTypes={isByoc:l().bool,cloudProviderID:l().string,ccsCredentialsValidityResponse:l().shape({pending:l().bool,error:l().bool})};const mT=pT,hT=(0,i.connect)((e=>{const t=(0,hu.Z)("CreateCluster");return{cloudProviderID:t(e,"cloud_provider"),isByoc:"true"===t(e,"byoc"),ccsCredentialsValidityResponse:e.ccsInquiries.ccsCredentialsValidity}}))(eT(mT));function gT({isByoc:e,isMultiAz:t,customerManagedEncryptionSelected:n,selectedRegion:r,cloudProviderID:s,product:l,billingModel:i,change:o}){return a().createElement(qr.l,{onSubmit:e=>(e.preventDefault(),!1)},a().createElement(je.r,{hasGutter:!0},a().createElement(xe.P,null,a().createElement(R.Title,{headingLevel:"h3"},"Cluster details")),a().createElement(ow,{cloudProviderID:s,isBYOC:e,isMultiAz:t,showAvailability:!0,change:o,product:l,billingModel:i,isWizard:!0}),!e&&a().createElement(a().Fragment,null,a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Gr.c,{label:"Persistent storage",fieldId:"persistent_storage",labelIcon:a().createElement(Xr,{hint:Iu})},a().createElement(Ca.Z,{name:"persistent_storage",component:Qc,currentValue:null,cloudProviderID:s,billingModel:i,product:l,isBYOC:e,isMultiAZ:t}))),a().createElement(xe.P,{md:7,lg:8}),a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(Gr.c,{label:"Load balancers",fieldId:"load_balancers",labelIcon:a().createElement(Xr,{hint:Au})},a().createElement(Ca.Z,{name:"load_balancers",component:nu,currentValue:null,cloudProviderID:s,billingModel:i,product:l,isBYOC:e,isMultiAZ:t})))),a().createElement(rR,{parent:"create",disableUVM:!1}),a().createElement(xe.P,{span:12},a().createElement(R.Title,{headingLevel:"h3"},"Encryption")),a().createElement(Gr.c,{fieldId:"etcd_encryption",id:"etcdEncryption"},a().createElement(Ca.Z,{component:na,name:"etcd_encryption",label:"Enable etcd encryption",extendedHelpText:a().createElement(a().Fragment,null,Uu," ",a().createElement(Rr,{href:"https://docs.openshift.com/container-platform/latest/security/encrypting-etcd.html"},"Learn more about etcd"))}),a().createElement("div",{className:"ocm-c--reduxcheckbox-description"},"Provide an additional layer of data security to your cluster.")),e&&a().createElement(Mw,{customerManagedEncryptionSelected:n,selectedRegion:r,cloudProviderID:s})))}gT.propTypes={isByoc:l().bool,cloudProviderID:l().string,isMultiAz:l().bool,customerManagedEncryptionSelected:l().bool,product:l().string,billingModel:l().string,selectedRegion:l().string,change:l().func};const bT=gT,ET=(0,i.connect)(((e,t)=>{const n=(0,hu.Z)("CreateCluster"),r=n(e,"cloud_provider"),a="true"===n(e,"multi_az"),s="true"===n(e,"byoc");return{cloudProviderID:r,isMultiAz:a,product:n(e,"product"),billingModel:n(e,"billing_model"),isByoc:s,customerManagedEncryptionSelected:n(e,"customer_managed_key"),selectedRegion:n(e,"region"),initialValues:Jw({cloudProviderID:r,isMultiAz:a,isByoc:s,isTrialDefault:t.isTrialDefault})}}))(eT(bT));function fT({isByoc:e,isMultiAz:t,machineType:n,cloudProviderID:r,product:s,canAutoScale:l,autoscalingEnabled:i,autoScaleMinNodesValue:o,autoScaleMaxNodesValue:c,change:u,billingModel:d}){return a().createElement(qr.l,{onSubmit:e=>(e.preventDefault(),!1)},a().createElement(je.r,null,a().createElement(xe.P,{span:12},a().createElement(R.Title,{headingLevel:"h2"},"Default machine pool"),a().createElement(h.xv,{component:"p"},"Select a compute node instance type and count for your default machine pool."),a().createElement(h.xv,{component:"p"},"After cluster creation, your selected default machine pool instance type is permanent.")),a().createElement(xe.P,{sm:12,md:5,lg:4},a().createElement(AO,{isBYOC:e,isMultiAz:t,machineType:n,handleMachineTypesChange:(e,t)=>u("machine_type",t),cloudProviderID:r,product:s,canAutoScale:l,autoscalingEnabled:i,change:u,autoScaleMinNodesValue:o,autoScaleMaxNodesValue:c,billingModel:d,showStorageAndLoadBalancers:!1}))))}fT.propTypes={isByoc:l().bool.isRequired,isMultiAz:l().bool.isRequired,machineType:l().string.isRequired,cloudProviderID:l().string.isRequired,product:l().oneOf(Object.keys(ee.Po)).isRequired,billingModel:l().oneOf(Object.values(ee.F6)),canAutoScale:l().bool,autoscalingEnabled:l().bool,change:l().func.isRequired,autoScaleMinNodesValue:l().string,autoScaleMaxNodesValue:l().string};const yT=fT,vT=(0,i.connect)(((e,t)=>{const n=(0,hu.Z)("CreateCluster"),r=n(e,"cloud_provider"),a="true"===n(e,"multi_az"),s="true"===n(e,"byoc"),l=n(e,"product");return{cloudProviderID:r,isMultiAz:a,product:l,billingModel:n(e,"billing_model"),isByoc:s,machineType:n(e,"machine_type"),canAutoScale:Id(e,l),autoscalingEnabled:!!n(e,"autoscalingEnabled"),autoScaleMinNodesValue:n(e,"min_replicas"),autoScaleMaxNodesValue:n(e,"max_replicas"),initialValues:Jw({cloudProviderID:r,isMultiAz:a,isByoc:s,isTrialDefault:t.isTrialDefault})}}))(eT(yT));var OT=n(26407);const CT={billing_model:{title:"Subscription type",values:{[ee.F6.STANDARD]:"Annual: Fixed capacity subscription from Red Hat",[ee.F6.MARKETPLACE]:"On-demand: Flexible usage billed through the Red Hat Marketplace","standard-trial":"Free trial (upgradeable)"}},byoc:{title:"Infrastructure type",isBoolean:!0,values:{true:"Customer cloud subscription",false:"Red Hat cloud account"}},disable_scp_checks:{title:"AWS Service Control Policy (SCP) checks",valueTransform:e=>e?"Disabled":"Enabled"},cloud_provider:{title:"Cloud provider",valueTransform:e=>e.toUpperCase()},name:{title:"Cluster name"},region:{title:"Region"},multi_az:{title:"Availability",isBoolean:!0,values:{true:"Multi zone",false:"Single zone"}},persistent_storage:{title:"Persistent storage",valueTransform:e=>`${Ke(parseFloat(e)).value} GiB`},load_balancers:{title:"Load balancers"},enable_user_workload_monitoring:{title:"User workload monitoring",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},upgrade_policy:{title:"Updates"},automatic_upgrade_schedule:{title:"Automatic upgrade schedule",valueTransform:e=>{const t=[...Array(24).keys()].map((e=>`${e.toString().padStart(2,0)}:00`)),[n,r]=VC(e);return`Every ${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r]} at ${t[n]} UTC`}},node_drain_grace_period:{title:"Node draining",valueTransform:e=>`${e} minutes`},etcd_encryption:{title:"etcd encryption",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},customer_managed_key:{title:"Customer-managed keys",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},network_configuration_toggle:{title:"Networking",values:{basic:"Basic",advanced:"Advanced"}},machine_type:{title:"Node instance type"},autoscalingEnabled:{title:"Autoscaling",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},nodes_compute:{title:"Compute node count",valueTransform:(e,t)=>"true"===t.multi_az?`${e/3} ( 3 zones = ${e} compute nodes)`:e},min_replicas:{title:"Compute node range",valueTransform:(e,t)=>a().createElement(a().Fragment,null,a().createElement("span",null,"Minimum nodes","true"===t.multi_az?" per zone":"",":")," ",e,a().createElement("span",{className:"pf-u-ml-lg"},"Maximum nodes","true"===t.multi_az?" per zone":"",":")," ",t.max_replicas)},node_labels:{title:"Node labels",valueTransform:e=>a().createElement(OT.e,null,e.map((e=>a().createElement(Pp.Label,{color:"blue"},`${e.key} = ${e.value}`))))},network_machine_cidr:{title:"Machine CIDR",valueTransform:e=>e||"10.0.0.0/16 (default)"},network_service_cidr:{title:"Service CIDR",valueTransform:e=>e||"172.30.0.0/16 (default)"},network_pod_cidr:{title:"Pod CIDR",valueTransform:(e,t)=>e||`${Ew(t.cloud_provider)} (default)`},network_host_prefix:{title:"Host prefix",valueTransform:e=>e?`/${e}`:"/23 (default)"},cluster_privacy:{title:"Cluster privacy",values:{external:"Public",internal:"Private",undefined:"Public"}}};function RT({name:e,formValues:t}){const n=CT[e];let r,s=t[e];return n?(n.isBoolean&&void 0===s&&(s="false"),r=n.values&&n.values[s]?n.values[s]:n.valueTransform?n.valueTransform(s,t):s,a().createElement(Ko.g,{key:e},a().createElement(Yo.M,null,n.title),a().createElement(Jo.b,null,r))):a().createElement(Ko.g,null,a().createElement(Yo.M,null,e),a().createElement(Jo.b,null,s))}function ST({formValues:e,canAutoScale:t,autoscalingEnabled:n,isPending:r}){const s="true"===e.byoc,l="aws"===e.cloud_provider,i=["cloud_provider","name","region","multi_az",!s&&"persistent_storage",!s&&"load_balancers",s&&l&&"disable_scp_checks","enable_user_workload_monitoring","etcd_encryption",s&&"customer_managed_key"].filter(Boolean);if(r)return a().createElement(Sl.b,null,a().createElement(v.K,null,a().createElement(y.v,null,a().createElement(Sl.b,null,a().createElement(Eo.Spinner,{size:"xl",isSVG:!0}))),a().createElement(y.v,null,a().createElement(Sl.b,null,"Creating your cluster. Do not refresh this page. This request may take a moment..."))));const o={orientation:{sm:"horizontal"}};return a().createElement("div",{className:"ocm-create-osd-review-screen"},a().createElement(R.Title,{headingLevel:"h2"},"Review your dedicated cluster"),a().createElement(R.Title,{headingLevel:"h3"},"Billing Model"),a().createElement(Wo.o,o,RT({name:"billing_model",formValues:e}),RT({name:"byoc",formValues:e})),a().createElement(R.Title,{headingLevel:"h3"},"Cluster settings"),a().createElement(Wo.o,o,i.map((t=>RT({name:t,formValues:e})))),a().createElement(R.Title,{headingLevel:"h3"},"Default machine pool"),a().createElement(Wo.o,o,RT({name:"machine_type",formValues:e}),t&&RT({name:"autoscalingEnabled",formValues:e}),RT(n?{name:"min_replicas",formValues:e}:{name:"nodes_compute",formValues:e}),!(1===e.node_labels.length&&P()(e.node_labels[0]))&&RT({name:"node_labels",formValues:e})),a().createElement(R.Title,{headingLevel:"h3"},"Networking"),a().createElement(Wo.o,o,RT({name:"network_configuration_toggle",formValues:e}),"advanced"===e.network_configuration_toggle&&a().createElement(a().Fragment,null,RT({name:"network_machine_cidr",formValues:e}),RT({name:"network_service_cidr",formValues:e}),RT({name:"network_pod_cidr",formValues:e}),RT({name:"network_host_prefix",formValues:e}),RT({name:"cluster_privacy",formValues:e}))),a().createElement(R.Title,{headingLevel:"h3"},"Updates"),a().createElement(Wo.o,o,RT({name:"upgrade_policy",formValues:e}),"automatic"===e.upgrade_policy&&RT({name:"automatic_upgrade_schedule",formValues:e}),RT({name:"node_drain_grace_period",formValues:e})))}ST.propTypes={formValues:l().objectOf(l().oneOfType([l().string,l().number,l().bool])),isPending:l().bool,canAutoScale:l().bool,autoscalingEnabled:l().bool};const PT=ST,wT=(0,i.connect)((e=>{const t=(0,hu.Z)("CreateCluster"),n=t(e,"product"),r=Id(e,n),a=r&&!!t(e,"autoscalingEnabled");return{formValues:(0,su.Z)("CreateCluster")(e),canAutoScale:r,autoscalingEnabled:a}}))(eT(PT));class TT extends a().Component{constructor(...e){var t,n;super(...e),n=(e,t)=>{const{change:n}=this.props;"basic"===t&&(n("network_machine_cidr",""),n("network_service_cidr",""),n("network_pod_cidr",""))},(t="toggleNetworkingMode")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){const{privateClusterSelected:e,isCCS:t,cloudProviderID:n,isMultiAz:r,selectedRegion:s,installToVPCSelected:l,networkingMode:i}=this.props,o="aws"===n,c="gcp"===n;return a().createElement(qr.l,{onSubmit:e=>(e.preventDefault(),!1)},a().createElement(je.r,{hasGutter:!0},a().createElement(Pw,{mode:i,toggleNetwork:this.toggleNetworkingMode,privateClusterSelected:e,isCCS:t,showClusterPrivacy:o||c&&t,cloudProviderID:n,isMultiAz:r,selectedRegion:s,installToVPCSelected:l,isWizard:!0})))}}TT.propTypes={privateClusterSelected:l().bool,cloudProviderID:l().string,isMultiAz:l().bool,isCCS:l().bool,selectedRegion:l().string,installToVPCSelected:l().bool,networkingMode:l().bool,change:l().func};const DT=TT,_T=(0,i.connect)(((e,t)=>{const n=(0,hu.Z)("CreateCluster"),r=n(e,"cloud_provider"),a="true"===n(e,"multi_az"),s="true"===n(e,"byoc");return{cloudProviderID:r,isMultiAz:a,privateClusterSelected:"internal"===n(e,"cluster_privacy"),product:n(e,"product"),billingModel:n(e,"billingModel"),isCCS:s,selectedRegion:n(e,"region"),networkingMode:n(e,"network_configuration_toggle"),installToVPCSelected:n(e,"install_to_vpc"),initialValues:Jw({cloudProviderID:r,isMultiAz:a,isByoc:s,isTrialDefault:t.isTrialDefault})}}))(eT(DT));function IT({isAutomaticUpgrade:e,change:t}){return a().createElement(qr.l,{onSubmit:e=>(e.preventDefault(),!1)},a().createElement(je.r,{hasGutter:!0},a().createElement(xe.P,{span:12},a().createElement(R.Title,{headingLevel:"h3"},"Cluster updates")),a().createElement(tR,{isAutomatic:e,change:t,initialSceduleValue:"0 0 * * 0",isWizard:!0})))}IT.propTypes={isAutomaticUpgrade:l().bool,change:l().func.isRequired};const AT=IT,NT=(0,i.connect)((e=>({isAutomaticUpgrade:"automatic"===(0,hu.Z)("CreateCluster")(e,"upgrade_policy")})))(eT(AT));function LT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class MT extends a().Component{constructor(...e){super(...e),LT(this,"state",{stepIdReached:1,currentStep:1}),LT(this,"onNext",(({id:e})=>{const{stepIdReached:t}=this.state;e&&t<e&&this.setState({stepIdReached:e}),this.setState({currentStep:e})})),LT(this,"onGoToStep",(({id:e})=>{this.setState({currentStep:e})})),LT(this,"onBack",(({id:e})=>{this.setState({currentStep:e})}))}componentDidMount(){const{machineTypes:e,organization:t,cloudProviders:n,persistentStorageValues:r,loadBalancerValues:a,getMachineTypes:s,getOrganizationAndQuota:l,getCloudProviders:i,getLoadBalancers:o,getPersistentStorage:c}=this.props;document.title="Create an OpenShift Dedicated cluster | Red Hat OpenShift Cluster Manager",q(t)&&l(),e.fulfilled||e.pending||s(),n.fulfilled||n.pending||i(),r.fulfilled||r.pending||c(),a.fulfilled||a.pending||o()}componentDidUpdate(e){const{createClusterResponse:t,isErrorModalOpen:n,openModal:r,isCCSCredentialsValidationNeeded:a}=this.props;t.error&&!n&&r("osd-create-error"),a&&!e.isCCSCredentialsValidationNeeded&&this.setState({stepIdReached:2})}componentWillUnmount(){const{resetResponse:e,resetForm:t}=this.props;e(),t()}render(){const{isValid:e,onSubmit:t,createClusterResponse:n,machineTypes:r,organization:s,cloudProviders:l,loadBalancerValues:i,persistentStorageValues:o,isErrorModalOpen:c,resetResponse:u,hasProductQuota:d,history:m,product:h,ccsValidationPending:g,isCCSCredentialsValidationNeeded:b,cloudProviderID:f,getGCPCloudProviderVPCs:y,gcpCredentialsJSON:v,awsAccountID:O,awsAccessKey:C,awsSecretKey:R,getAWSCloudProviderRegions:S}=this.props,{stepIdReached:P,currentStep:w}=this.state,T=h===ee.Po.OSDTrial,D=[{id:1,name:"Billing model",component:a().createElement(je.r,null,a().createElement(tT,{isWizard:!0,isTrialDefault:T})),enableNext:e},{name:"Cluster settings",steps:[{id:2,name:"Cloud provider",component:a().createElement(hT,null),enableNext:e&&!g,canJumpTo:P>=2},{id:3,name:"Cluster details",component:a().createElement(ET,{isTrialDefault:T}),enableNext:e,canJumpTo:P>=3},{id:4,name:"Machine pool",component:a().createElement(vT,{isTrialDefault:T}),enableNext:e,canJumpTo:P>=4}],enableNext:e},{id:5,name:"Networking",component:a().createElement(_T,{isTrialDefault:T}),enableNext:e,canJumpTo:P>=5},{id:6,name:"Updates",component:a().createElement(NT,null),enableNext:e,canJumpTo:P>=6},{id:7,name:"Review and create",component:a().createElement(wT,{isPending:n.pending}),nextButtonText:"Create cluster",enableNext:e&&!n.pending,canJumpTo:P>=7&&e}],_="Create OpenShift Dedicated cluster wizard",I=!s.pending&&s.fulfilled;if(n.fulfilled)return a().createElement(Ud.l_,{to:`/details/s/${n.cluster.subscription.id}`});if(I&&!d)return a().createElement(Ud.l_,{to:"/create"});const A=[{data:r,name:"Machine types"},{data:s,name:"Organization & Quota"},{data:l,name:"Providers & Regions"},{data:i,name:"Load balancers"},{data:o,name:"Storage options"}],N=A.some((e=>e.data.pending)),L=a().createElement(GR,{title:"Create an OpenShift Dedicated Cluster",breadcrumbs:a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"OpenShift Dedicated",path:"/create/osd"}]})});if(N||!s.fulfilled&&!s.error)return a().createElement(a().Fragment,null,L,a().createElement(Ne.NP,null,a().createElement(E.Z,{centered:!0})));if(A.some((e=>e.data.error)))return a().createElement(a().Fragment,null,a().createElement(Ne.NP,null,a().createElement(K,{errors:A.filter((e=>e.data.error)).map((e=>({key:e.name,message:`Error while loading required form data (${e.name})`,response:e.data})))})));const M=c&&a().createElement(vP,{title:"Error creating cluster",errorResponse:n,resetResponse:u}),k=b&&!!f&&2===w;return a().createElement(a().Fragment,null,L,a().createElement(Ne.NP,null,ln.ZP.fakeOSD&&a().createElement(bi.j,{variant:"warning"},"On submit, a fake OSD cluster will be created."),a().createElement("div",{className:"ocm-page"},M,a().createElement(vp.e,{className:"osd-wizard",navAriaLabel:`${_} steps`,mainAriaLabel:`${_} content`,steps:D,onSave:t,onNext:this.onNext,onBack:this.onBack,onGoToStep:this.onGoToStep,onClose:()=>m.push("/create/cloud"),footer:k?a().createElement(Kw.d,null,a().createElement(p.Button,{variant:"primary",isDisabled:!e||g,onClick:()=>{"gcp"===f?y(v):S(O,C,R)},isLoading:g},"Validate")):void 0}))))}}const kT=l().shape({fulfilled:l().bool,error:l().bool,pending:l().bool});MT.propTypes={isValid:l().bool,ccsValidationPending:l().bool,isCCSCredentialsValidationNeeded:l().bool,cloudProviderID:l().string,isErrorModalOpen:l().bool,awsAccountID:l().string,awsAccessKey:l().string,awsSecretKey:l().string,createClusterResponse:l().shape({fulfilled:l().bool,error:l().bool,pending:l().bool,cluster:l().shape({subscription:l().shape({id:l().string})})}),machineTypes:kT,organization:kT,cloudProviders:kT,loadBalancerValues:kT,persistentStorageValues:kT,getMachineTypes:l().func,getOrganizationAndQuota:l().func,getCloudProviders:l().func,getLoadBalancers:l().func,getPersistentStorage:l().func,getGCPCloudProviderVPCs:l().func,getAWSCloudProviderRegions:l().func,resetResponse:l().func,resetForm:l().func,openModal:l().func,onSubmit:l().func,hasProductQuota:l().bool,history:l().shape({push:l().func.isRequired}).isRequired,product:l().string,gcpCredentialsJSON:l().string};const jT=MT,xT=(e,t)=>{const n=e.ccsInquiries.ccsCredentialsValidity,r="gcp"===t(e,"cloud_provider")?t(e,"gcp_service_account"):`${t(e,"account_id")}/${t(e,"access_key_id")}/${t(e,"secret_access_key")}`,a=n.fulfilled&&n.cloudProvider===t(e,"cloud_provider")&&n.credentials===r;return"true"===t(e,"byoc")&&!a};var qT=n(19909);const UT=(0,i.connect)(((e,t)=>{const{organization:n}=e.userProfile,r=(0,hu.Z)("CreateCluster"),a=r(e,"product")||t.product,s=e.ccsInquiries.ccsCredentialsValidity;return{isValid:(0,Yw.Z)("CreateCluster")(e),isErrorModalOpen:ze(e,"osd-create-error"),isCCSCredentialsValidationNeeded:xT(e,r),ccsValidationPending:s.pending&&"true"===r(e,"byoc"),cloudProviderID:r(e,"cloud_provider"),gcpCredentialsJSON:r(e,"gcp_service_account"),awsAccountID:r(e,"account_id"),awsAccessKey:r(e,"access_key_id"),awsSecretKey:r(e,"secret_access_key"),createClusterResponse:e.clusters.createdCluster,machineTypes:e.machineTypes,organization:n,cloudProviders:e.cloudProviders,loadBalancerValues:e.loadBalancerValues,persistentStorageValues:e.persistentStorageValues,hasProductQuota:Uc(e,a)}}),((e,t)=>({onSubmit:()=>e(((n,r)=>{const a=(0,su.Z)("CreateCluster")(r());return Vw(e,t)(a)})),resetResponse:()=>e(ur()),resetForm:()=>e((0,Qv.mc)("CreateCluster")),openModal:t=>{e(Qt(t))},closeModal:()=>{e(Wt())},getOrganizationAndQuota:()=>e((0,d.nh)()),getMachineTypes:()=>e(ud()),getCloudProviders:()=>e(wo()),getPersistentStorage:()=>e(Oc()),getLoadBalancers:()=>e(Wc()),getGCPCloudProviderVPCs:t=>e((0,qT.Se)(t)),getAWSCloudProviderRegions:(t,n,r)=>e((0,qT.Qx)(t,n,r))})))((0,Ud.EN)(jT));var zT=n(89707),FT=n(98717);function ZT({isRecommened:e,isDevPreview:t,isHidden:n,devPreviewText:r="Developer Preview"}){const s=n?"card-badge card-badge-hidden":"card-badge";return a().createElement("div",{className:"card-badge-container"},a().createElement("span",{className:s},e&&a().createElement(wp.ZP,{color:Se.global_active_color_100.value}),e&&"Recommended",t&&a().createElement(Pp.Label,{variant:"outline",color:"orange"},r)))}ZT.propTypes={isRecommened:l().bool,isDevPreview:l().bool,isHidden:l().bool,devPreviewText:l().string};const BT=ZT,GT=()=>a().createElement(ke.Card,null,a().createElement("div",{className:"pf-c-content ocm-page"},a().createElement(R.Title,{headingLevel:"h3",size:"2xl"},"AWS: Select an installation type"),a().createElement("div",{className:"flex-container"},a().createElement(o.Link,{to:"/install/aws/installer-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isRecommened:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(FT.ZP,{alt:"Installer-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"Installer-provisioned infrastructure")," ","Deploy an OpenShift cluster on infrastructure that the installation program provisions and the cluster maintains.")),a().createElement(o.Link,{to:"/install/aws/user-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isHidden:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(zT.ZP,{alt:"User-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"User-provisioned infrastructure"),"Deploy an OpenShift cluster on infrastructure that you prepare and maintain.")))));class HT extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS"}render(){const e=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Amazon Web Services"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Install OpenShift Container Platform 4",breadcrumbs:e}),a().createElement(Ne.NP,null,a().createElement(GT,null)))}}const VT=HT,$T={aws:{cloudProvider:"AWS",customizations:Mo.ZP.INSTALL_AWS_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on AWS with installer-provisioned infrastructure",docURL:Mo.ZP.INSTALL_AWSIPI_DOCS_LANDING,installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE},upi:{title:"Install OpenShift on AWS with user-provisioned infrastructure",docURL:Mo.ZP.INSTALL_AWSUPI_GETTING_STARTED,installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE},getStartedAdditional:"The installer will ask you for the domain or subdomain you wish to use (this can be purchased through AWS but it will take some time for the DNS to propagate)."},gcp:{cloudProvider:"GCP",customizations:Mo.ZP.INSTALL_GCP_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on GCP with installer-provisioned infrastructure",docURL:Mo.ZP.INSTALL_GCPIPI_GETTING_STARTED,installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE},upi:{title:"Install OpenShift on GCP with user-provisioned infrastructure",docURL:Mo.ZP.INSTALL_GCPUPI_GETTING_STARTED,displayRHCOSSection:!0,rhcosLearnMoreURL:Mo.ZP.INSTALL_GCPUPI_RHCOS_LEARN_MORE,rhcosDownloads:[{buttonText:"Download RHCOS tar",name:"OCP-Download-RHCOS-tar",url:Mo.ZP.RHCOS_GCPUPI_TAR_X86}],installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE},getStartedAdditional:"The installer will ask you for the domain or subdomain you wish to use (this can be purchased through GCP but it will take some time for the DNS to propagate)."},azure:{cloudProvider:"Azure",customizations:Mo.ZP.INSTALL_AZURE_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on Azure with installer-provisioned infrastructure",installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE,docURL:Mo.ZP.INSTALL_AZUREIPI_GETTING_STARTED},upi:{title:"Install OpenShift on Azure with user-provisioned infrastructure",installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.PRE_RELEASE,docURL:Mo.ZP.INSTALL_AZUREUPI_GETTING_STARTED},getStartedAdditional:"The installer will ask you for the domain or subdomain you wish to use (this can be purchased through Azure but it will take some time for the DNS to propagate)."},ibmz:{cloudProvider:"IBM-Z",title:"Install OpenShift on IBM Z with user-provisioned infrastructure",displayRHCOSSection:!0,rhcosAdditionalInstructions:a().createElement(h.xv,{component:"div"},a().createElement(et.aV,null,a().createElement(tt.H,null,"If you plan your installation with z/VM, download the initramfs, the kernel, and the rootfs files."," ",a().createElement(h.xv,{component:"a",href:Mo.ZP.INSTALL_IBMZ_LEARN_MORE_ZVM,target:"_blank",rel:"noreferrer noopener"},"Learn more"," ",a().createElement(Or.ZP,{size:"sm"}),".")),a().createElement(tt.H,null,"If you plan your installation with RHEL KVM, depending on the installation type you plan to perform, download the QCOW2 file or the initramfs, the kernel, and the rootfs files."," ",a().createElement(h.xv,{component:"a",href:Mo.ZP.INSTALL_IBMZ_RHCOS_LEARN_MORE_RHEL_KVM,target:"_blank",rel:"noreferrer noopener"},"Learn more"," ",a().createElement(Or.ZP,{size:"sm"}),"."," ")))),rhcosDownloads:[{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:Mo.ZP.RHCOS_IBMZ_INITRAMFS},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:Mo.ZP.RHCOS_IBMZ_KERNEL},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:Mo.ZP.RHCOS_IBMZ_ROOTFS},{buttonText:"Download QCOW2 image",name:"OCP-Download-RHCOS-qcow2",url:Mo.ZP.RHCOS_IBMZ_QCOW}],docURL:Mo.ZP.INSTALL_IBMZ_GETTING_STARTED,preReleasePageLink:"/install/ibmz/pre-release",installer:Mo.rj.IBMZINSTALLER,channel:Mo.ZW.STABLE},bareMetal:{cloudProvider:"Bare Metal",customizations:Mo.ZP.INSTALL_BAREMETAL_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on Bare Metal with installer-provisioned infrastructure",installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE,docURL:Mo.ZP.INSTALL_BAREMETAL_IPI_GETTING_STARTED},upi:{title:"Install OpenShift on Bare Metal with user-provisioned infrastructure",displayRHCOSSection:!0,rhcosLearnMoreURL:Mo.ZP.INSTALL_BAREMETAL_RHCOS_LEARN_MORE,rhcosDownloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:Mo.ZP.RHCOS_BAREMETAL_ISO_X86},{buttonText:"Download RHCOS RAW",name:"OCP-Download-RHCOS-RAW",url:Mo.ZP.RHCOS_BAREMETAL_RAW_X86}],rhcosAdditionalInstructions:"Download the installer ISO image and the compressed metal RAW.",installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE,docURL:Mo.ZP.INSTALL_BAREMETAL_UPI_GETTING_STARTED}},generic:{cloudProvider:"Platform Agnostic",title:"Install OpenShift on any x86_64 platform with user-provisioned infrastructure",displayRHCOSSection:!0,rhcosLearnMoreURL:Mo.ZP.INSTALL_GENERIC_RHCOS_LEARN_MORE,rhcosDownloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:Mo.ZP.RHCOS_GENERIC_ISO_X86},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:Mo.ZP.RHCOS_GENERIC_KERNEL_X86},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:Mo.ZP.RHCOS_GENERIC_INITRAMFS_X86},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:Mo.ZP.RHCOS_GENERIC_ROOTFS_X86}],rhcosAdditionalInstructions:"Download the installer ISO image, or the kernel, initramfs, and rootfs.",installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE,docURL:Mo.ZP.INSTALL_GENERIC_GETTING_STARTED},vmware:{cloudProvider:"VMware vSphere",customizations:Mo.ZP.INSTALL_VSPHERE_CUSTOMIZATIONS,upi:{title:"Install OpenShift on vSphere with user-provisioned infrastructure",docURL:Mo.ZP.INSTALL_VSPHEREUPI_GETTING_STARTED,displayRHCOSSection:!0,rhcosLearnMoreURL:Mo.ZP.INSTALL_VSPHERE_RHCOS_LEARN_MORE,installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE,rhcosDownloads:[{buttonText:"Download RHCOS OVA",name:"OCP-Download-RHCOS-OVA",url:Mo.ZP.RHCOS_VSPHERE_OVA_X86}]},ipi:{title:"Install OpenShift on vSphere with installer-provisioned infrastructure",docURL:Mo.ZP.INSTALL_VSPHEREIPI_GETTING_STARTED,installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE}},power:{cloudProvider:"Power",title:"Install OpenShift on Power with user-provisioned infrastructure",installer:Mo.rj.PPCINSTALLER,channel:Mo.ZW.STABLE,displayRHCOSSection:!0,rhcosLearnMoreURL:Mo.ZP.INSTALL_POWER_RHCOS_LEARN_MORE,rhcosDownloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:Mo.ZP.RHCOS_POWER_ISO},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:Mo.ZP.RHCOS_POWER_INITRAMFS},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:Mo.ZP.RHCOS_POWER_KERNEL},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:Mo.ZP.RHCOS_POWER_ROOTFS}],rhcosAdditionalInstructions:"Download either the installer ISO image or for PXE booting the initramfs, the kernel, and the rootfs files.",preReleasePageLink:"/install/power/pre-release",docURL:Mo.ZP.INSTALL_POWER_GETTING_STARTED},openstack:{cloudProvider:"Red Hat OpenStack Platform",customizations:Mo.ZP.INSTALL_OSP_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on Red Hat OpenStack Platform with installer-provisioned infrastructure",installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE,docURL:Mo.ZP.INSTALL_OSPIPI_GETTING_STARTED},upi:{title:"Install OpenShift on Red Hat OpenStack Platform with user-provisioned infrastructure",docURL:Mo.ZP.INSTALL_OSPUPI_GETTING_STARTED,displayRHCOSSection:!0,rhcosLearnMoreURL:Mo.ZP.INSTALL_OSPUPI_RHCOS_LEARN_MORE,rhcosDownloads:[{buttonText:"Download RHCOS QCOW",name:"OCP-Download-RHCOS-QCOW",url:Mo.ZP.RHCOS_OSPUPI_QCOW_X86}],installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE}},rhv:{cloudProvider:"Red Hat Virutalization",customizations:Mo.ZP.INSTALL_RHV_CUSTOMIZATIONS,ipi:{docURL:Mo.ZP.INSTALL_RHVIPI_GETTING_STARTED,title:"Install OpenShift on Red Hat Virtualization with installer-provisioned infrastructure",showPreReleasePageLink:!1,installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE},upi:{docURL:Mo.ZP.INSTALL_RHVUPI_GETTING_STARTED,title:"Install OpenShift on Red Hat Virtualization with user-provisioned infrastructure",showPreReleasePageLink:!1,installer:Mo.rj.X86INSTALLER,channel:Mo.ZW.STABLE}}},QT=({token:e,pendoID:t,channel:n,isBMIPI:r=!1})=>a().createElement(a().Fragment,null,a().createElement(h.xv,{component:"p"},"Download the OpenShift command-line tools and add them to your"," ",a().createElement("code",null,"PATH"),"."),a().createElement("div",null,a().createElement(nP,{token:e,pendoID:t,tool:Mo.rj.OC,channel:n})),a().createElement(h.xv,{component:"p"}),!r&&a().createElement(h.xv,{component:"p"},"When the installer is complete you will see the console URL and credentials for accessing your new cluster. A"," ",a().createElement("code",null,"kubeconfig")," ","file will also be generated for you to use with the"," ",a().createElement("code",null,"oc")," ","CLI tools you downloaded."));QT.propTypes={pendoID:l().string,token:l().object.isRequired,channel:l().oneOf(Object.values(Mo.ZW)).isRequired,isBMIPI:l().bool};const WT=QT;function YT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class KT extends a().Component{constructor(...e){super(...e),YT(this,"state",{selection:"x86"}),YT(this,"options",[{value:"Select architecture",label:"Select architecture",disabled:!0},...Mo.Ij.map((({value:e,label:t})=>({value:e,label:t,disabled:!1})))]),YT(this,"onChange",(e=>{this.setState({selection:e})})),YT(this,"downloadButtons",(()=>{const{token:e,pendoID:t,rhcosDownloads:n}=this.props,{selection:r}=this.state;return(Array.isArray(n)?n:[n]).map((n=>{const{archURL:s,buttonText:l,name:i}=n;return a().createElement(C.J,{key:i},a().createElement(gS,{disabled:!!e.error,url:s[r],tool:Mo.rj.RHCOS,text:l,name:i,pendoID:t}))}))}))}render(){const{selection:e}=this.state,t=this.downloadButtons();return a().createElement(O.P,{hasGutter:!0,className:"os-based-download"},a().createElement(C.J,{key:"select-arch"},a().createElement(ra.FormSelect,{value:e,onChange:this.onChange,"aria-label":"select-arch-dropdown"},this.options.map((e=>a().createElement(aa.FormSelectOption,{isDisabled:e.disabled,key:`arch.${e.value}`,value:e.value,label:e.label}))))),a().createElement(C.J,{key:"download-buttons"},a().createElement(O.P,{hasGutter:!0},t)))}}KT.propTypes={token:l().object.isRequired,pendoID:l().string,rhcosDownloads:l().oneOfType([l().array,l().object])};const JT=KT,XT=e=>{const{token:t,cloudProviderID:n,pendoID:r}=e;let s=$T[n];return s.upi&&(s=s.upi),a().createElement(a().Fragment,null,a().createElement(h.xv,{component:"p"},"Download RHCOS to create machines for your cluster to use during installation.",s.rhcosAdditionalInstructions&&"string"==typeof s.rhcosAdditionalInstructions&&a().createElement(a().Fragment,null," ",s.rhcosAdditionalInstructions)," ",s.rhcosLearnMoreURL&&a().createElement(h.xv,{component:"a",href:s.rhcosLearnMoreURL,rel:"noreferrer noopener",target:"_blank"},"Learn more"," ",a().createElement(Or.ZP,{size:"sm"}),".")),s.rhcosAdditionalInstructions&&"string"!=typeof s.rhcosAdditionalInstructions&&a().createElement(a().Fragment,null," ",s.rhcosAdditionalInstructions),(e=>{const n=e.map((e=>{const{url:n,archURL:s,buttonText:l,name:i}=e;if(!n&&s||Array.isArray(e)){const n=Array.isArray(e)?e.map((e=>e.name)).join("|"):i;return a().createElement(JT,{key:n,rhcosDownloads:e,pendoID:r,token:t})}return a().createElement(y.v,{key:i},a().createElement(gS,{url:n,tool:Mo.rj.RHCOS,text:l,name:i,disabled:!t,pendoID:r}))}));return a().createElement(v.K,{hasGutter:!0,className:"pf-u-mt-md"},n)})(s.rhcosDownloads))};XT.propTypes={pendoID:l().string,token:l().object.isRequired,cloudProviderID:l().string.isRequired};const eD=XT;var tD=n(58967);const nD=({isDevPreview:e=!1,devPreviewLink:t="/install/pre-release"})=>a().createElement(a().Fragment,null,a().createElement("span",{className:"pf-c-label pf-m-compact dev-preview-label"},a().createElement(tD.ZP,null)," ","Developer Preview")," ",a().createElement(o.Link,{to:t},e?"About":"Download"," ","pre-release builds"));nD.propTypes={isDevPreview:l().bool,devPreviewLink:l().string};const rD=nD;function aD({displayRHCOSSection:e=!1,token:t,showPreReleaseDocs:n=!1,preReleaseDocsLink:r=Mo.ZP.INSTALL_PRE_RELEASE_INSTALLER_DOC,showPreReleasePageLink:s=!0,preReleasePageLink:l="/install/pre-release",children:i,pendoID:o,tool:c,channel:u,cloudProviderID:d,isBMIPI:p}){return a().createElement("div",null,i,a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,{key:"install"},a().createElement(m.D,null,a().createElement(h.xv,{component:"h2"},"What you need to get started"),!p&&a().createElement(a().Fragment,null,a().createElement(h.xv,{component:"h3"},"OpenShift installer"),a().createElement(h.xv,{component:"p"},"Download and extract the install program for your operating system and place the file in the directory where you will store the installation configuration files. Note: The OpenShift install program is only available for Linux and macOS at this time."),n&&a().createElement(h.xv,{component:"p"},"For pre-release documentation, refer to the"," ",a().createElement(h.xv,{component:"a",href:r,rel:"noreferrer noopener",target:"_blank"},"latest installer documentation"," ",a().createElement(Or.ZP,{size:"sm"})),"."),a().createElement(nP,{token:t,tool:c,channel:u,pendoID:o}),s&&a().createElement("div",null,a().createElement(rD,{devPreviewLink:l}))))),a().createElement(y.v,{key:"pull-secret"},a().createElement(m.D,null,a().createElement(h.xv,{component:"h3"},"Pull secret"),a().createElement(oP,{token:t,pendoID:o}))),a().createElement(y.v,{key:"cli"},a().createElement(m.D,null,a().createElement(h.xv,{component:"h3"},"Command line interface"),a().createElement(WT,{token:t,pendoID:o,channel:u,isBMIPI:p}))),e&&a().createElement(y.v,{key:"rhcos"},a().createElement(m.D,null,a().createElement(h.xv,{component:"h3"},"Red Hat Enterprise Linux CoreOS (RHCOS)"),a().createElement(eD,{token:t,pendoID:o,cloudProviderID:d})))))}aD.propTypes={showPreReleasePageLink:l().bool,showPreReleaseDocs:l().bool,preReleaseDocsLink:l().string,preReleasePageLink:l().string,token:l().object,children:l().oneOfType([l().node,l().element]),pendoID:l().string,tool:l().oneOf(Object.values(Mo.rj)).isRequired,channel:l().oneOf(Object.values(Mo.ZW)).isRequired,cloudProviderID:l().string,isBMIPI:l().bool,displayRHCOSSection:l().bool},aD.defaultProps={isBMIPI:!1};const sD=aD,lD=()=>{const e=a().createElement("span",null,'Choose "Edit subscriptions settings " from the actions menu in the upper right of the cluster details pages.'),t=a().createElement("span",null,"Select the options that apply to your cluster in the dialog and save.");return a().createElement(m.D,null,a().createElement(h.xv,{component:"h2"},"Subscription and support"),a().createElement(h.xv,{component:"p"},"Your cluster will be automatically registered with a 60 day evaluation subscription which does not include support. In order to receive support for your cluster, you will need to edit the subscription settings from the cluster details page here in OpenShift Cluster Manager."),a().createElement(et.aV,null,a().createElement(tt.H,null,e),a().createElement(tt.H,null,t)))},iD=()=>a().createElement(h.xv,{component:"small"},"Red Hat collects a limited amount of telemetry data. By installing OpenShift Container Platform 4, you accept our data collection policy."," ",a().createElement(h.xv,{component:"a",href:Mo.ZP.TELEMETRY_INFORMATION,rel:"noreferrer noopener",target:"_blank"},"Learn more")," ","about the data we collect."),oD=({docURL:e,pendoID:t,cloudProviderID:n,customizations:r,isBMIPI:s})=>a().createElement(a().Fragment,null,a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,a().createElement(m.D,null,a().createElement(h.xv,{component:"p"},!s&&a().createElement(a().Fragment,null,"The installer will take about 45 minutes to run."," "),(0,tn.get)($T,`${n}.getStartedAdditional`,null)||"",s&&a().createElement(h.xv,{component:"p"},"When the installer is complete you will see the console URL and credentials for accessing your new cluster. A"," ",a().createElement("code",null,"kubeconfig")," ","file will also be generated for you to use with the"," ",a().createElement("code",null,"oc")," ","CLI tools you downloaded.")))),a().createElement(y.v,null,a().createElement(p.Button,{component:"a",href:e,rel:"noreferrer noopener",target:"_blank",variant:"secondary",onClick:()=>x("OCP-Download-OfficialDocumentation",t)},"Get started")),!s&&a().createElement(a().Fragment,null,a().createElement(y.v,null,a().createElement(h.xv,{component:"p"},"To quickly create a cluster with the default options, run the following command:"),a().createElement(Qo.M5,{id:"copy-command",isReadOnly:!0,isCode:!0},"./openshift-install create cluster"))),r&&a().createElement(y.v,null,a().createElement(m.D,null,a().createElement(h.xv,{component:"p"},"Refer to the documentation to"," ",a().createElement(Rr,{href:r},"install with customizations"),"."))),a().createElement(y.v,null,a().createElement(iD,null))));oD.defaultProps={isBMIPI:!1},oD.propTypes={docURL:l().string.isRequired,pendoID:l().string,cloudProviderID:l().string.isRequired,customizations:l().string,isBMIPI:l().bool};const cD=oD,uD=e=>{const{token:t,cloudProviderID:n,displayRHCOSSection:r,installer:s=Mo.rj.X86INSTALLER,channel:l,docURL:i,customizations:o="",showPreReleaseDocs:c,preReleasePageLink:u,isBMIPI:d}=e,p=window.location.pathname,m=-1===["aws","azure","gcp"].indexOf(n)?"Follow the instructions to configure your environment and install your cluster":`Follow the documentation to configure your ${$T[n].cloudProvider} account and run the installer`;return a().createElement(a().Fragment,null,a().createElement(ke.Card,null,a().createElement(Me.e,null,t.error&&a().createElement(a().Fragment,null,a().createElement(uS,{token:t}),a().createElement("div",{className:"pf-u-mb-lg"})),a().createElement(lP,null,a().createElement(aP,null,a().createElement(sD,{showPreReleaseDocs:c,preReleasePageLink:u,token:t,pendoID:p,cloudProviderID:n,displayRHCOSSection:r,tool:s,channel:l,isBMIPI:d})),a().createElement(aP,null,a().createElement(h.xv,{component:"h2"},m),a().createElement(cD,{docURL:i,pendoID:p,cloudProviderID:n,customizations:o,isBMIPI:d})),a().createElement(aP,null,a().createElement(lD,null))))))};uD.propTypes={token:l().object.isRequired,cloudProviderID:l().string.isRequired,displayRHCOSSection:l().bool,installer:l().oneOf(Object.values(Mo.rj)),channel:l().oneOf(Object.values(Mo.ZW)).isRequired,docURL:l().string.isRequired,showPreReleaseDocs:l().bool,preReleasePageLink:l().string,customizations:l().string,isBMIPI:l().bool},uD.defaultProps={isBMIPI:!1};const dD=uD;function pD(){return(pD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class mD extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS User-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Amazon Web Services",path:"/install/aws"},{label:"User-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.aws.upi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,pD({token:e,cloudProviderID:"aws",customizations:$T.aws.customizations},$T.aws.upi))))}}mD.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const hD=(0,i.connect)((e=>({token:e.tollbooth.token})))(mD);function gD(){return(gD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class bD extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS Installer-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Amazon Web Services",path:"/install/aws"},{label:"Installer-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.aws.ipi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,gD({token:e,cloudProviderID:"aws",customizations:$T.aws.customizations},$T.aws.ipi))))}}bD.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const ED=(0,i.connect)((e=>({token:e.tollbooth.token})))(bD);var fD=n(36253);const yD=()=>a().createElement(ke.Card,null,a().createElement("div",{className:"pf-c-content ocm-page"},a().createElement(R.Title,{headingLevel:"h3",size:"2xl"},"Bare Metal: Select an installation type"),a().createElement("div",{className:"flex-container"},a().createElement(o.Link,{to:"/assisted-installer/clusters/~new",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isDevPreview:!0,devPreviewText:"Technology Preview"}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(fD.ZP,{alt:"Installer-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"Assisted Bare Metal Installer")," ","Install OpenShift on your own infrastructure with step-by-step guidance.")),a().createElement(o.Link,{to:"/install/metal/installer-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isRecommened:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(FT.ZP,{alt:"Installer-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"Installer-provisioned infrastructure")," ","Deploy an OpenShift cluster on infrastructure that the installation program provisions and the cluster maintains.")),a().createElement(o.Link,{to:"/install/metal/user-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isHidden:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(zT.ZP,{alt:"User-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"User-provisioned infrastructure"),"Deploy an OpenShift cluster on infrastructure that you prepare and maintain.")))));class vD extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal"}render(){const e=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Bare Metal"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Install OpenShift Container Platform 4",breadcrumbs:e}),a().createElement(Ne.NP,null,a().createElement(yD,null)))}}const OD=vD,CD=()=>a().createElement(ke.Card,null,a().createElement("div",{className:"pf-c-content ocm-page"},a().createElement(R.Title,{headingLevel:"h3",size:"2xl"},"Azure: Select an installation type"),a().createElement("div",{className:"flex-container"},a().createElement(o.Link,{to:"/install/azure/installer-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isRecommened:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(FT.ZP,{alt:"Installer-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"Installer-provisioned infrastructure")," ","Deploy an OpenShift cluster on infrastructure that the installation program provisions and the cluster maintains.")),a().createElement(o.Link,{to:"/install/azure/user-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isHidden:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(zT.ZP,{alt:"User-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"User-provisioned infrastructure"),"Deploy an OpenShift cluster on infrastructure that you prepare and maintain.")))));class RD extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure"}render(){const e=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Microsoft Azure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Install OpenShift Container Platform 4",breadcrumbs:e}),a().createElement(Ne.NP,null,a().createElement(CD,null)))}}const SD=RD;function PD(){return(PD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class wD extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Installer-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Microsoft Azure",path:"/install/azure"},{label:"Installer-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.azure.ipi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,PD({token:e,cloudProviderID:"azure",customizations:$T.azure.customizations},$T.azure.ipi))))}}wD.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const TD=(0,i.connect)((e=>({token:e.tollbooth.token})))(wD);function DD(){return(DD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class _D extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure User-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Microsoft Azure",path:"/install/azure"},{label:"User-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.azure.upi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,DD({token:e,breadcrumbs:t,cloudProviderID:"azure",customizations:$T.azure.customizations},$T.azure.ipi))))}}_D.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const ID=(0,i.connect)((e=>({token:e.tollbooth.token})))(_D),AD=()=>a().createElement(ke.Card,null,a().createElement("div",{className:"pf-c-content ocm-page"},a().createElement(R.Title,{headingLevel:"h3",size:"2xl"},"GCP: Select an installation type"),a().createElement("div",{className:"flex-container"},a().createElement(o.Link,{to:"/install/gcp/installer-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isRecommened:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(FT.ZP,{alt:"Installer-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"Installer-provisioned infrastructure")," ","Deploy an OpenShift cluster on infrastructure that the installation program provisions and the cluster maintains.")),a().createElement(o.Link,{to:"/install/gcp/user-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isHidden:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(zT.ZP,{alt:"User-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"User-provisioned infrastructure"),"Deploy an OpenShift cluster on infrastructure that you prepare and maintain.")))));class ND extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | GCP"}render(){const e=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Google Cloud Platform"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Install OpenShift Container Platform 4",breadcrumbs:e}),a().createElement(Ne.NP,null,a().createElement(AD,null)))}}const LD=ND;function MD(){return(MD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class kD extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | GCP Installer-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Google Cloud Platform",path:"/install/gcp"},{label:"Installer-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.gcp.ipi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,MD({token:e,cloudProviderID:"gcp",customizations:$T.gcp.customizations},$T.gcp.ipi))))}}kD.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const jD=(0,i.connect)((e=>({token:e.tollbooth.token})))(kD);function xD(){return(xD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class qD extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | GCP User-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Google Cloud Platform",path:"/install/gcp"},{label:"User-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.gcp.upi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,xD({token:e,cloudProviderID:"gcp",customizations:$T.gcp.customizations},$T.gcp.upi))))}}qD.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const UD=(0,i.connect)((e=>({token:e.tollbooth.token})))(qD),zD=()=>a().createElement(ke.Card,null,a().createElement("div",{className:"pf-c-content ocm-page"},a().createElement(R.Title,{headingLevel:"h3",size:"2xl"},"OpenStack: Select an installation type"),a().createElement("div",{className:"flex-container"},a().createElement(o.Link,{to:"/install/openstack/installer-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isRecommened:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(FT.ZP,{alt:"Installer-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"Installer-provisioned infrastructure")," ","Deploy an OpenShift cluster on infrastructure that the installation program provisions and the cluster maintains.")),a().createElement(o.Link,{to:"/install/openstack/user-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isHidden:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(zT.ZP,{alt:"User-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"User-provisioned infrastructure"),"Deploy an OpenShift cluster on infrastructure that you prepare and maintain.")))));class FD extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | OpenStack"}render(){const e=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Red Hat OpenStack Platform"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Install OpenShift Container Platform 4",breadcrumbs:e}),a().createElement(Ne.NP,null,a().createElement(zD,null)))}}const ZD=FD;function BD(){return(BD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class GD extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | OpenStack Installer-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Red Hat OpenStack Platform",path:"/install/openstack"},{label:"Installer-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.openstack.ipi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,BD({token:e,cloudProviderID:"openstack",customizations:$T.openstack.customizations},$T.openstack.ipi))))}}GD.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const HD=(0,i.connect)((e=>({token:e.tollbooth.token})))(GD);function VD(){return(VD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class $D extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | OpenStack User-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Red Hat OpenStack Platform",path:"/install/openstack"},{label:"User-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.openstack.upi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,VD({token:e,breadcrumbs:t,cloudProviderID:"openstack",customizations:$T.openstack.customizations},$T.openstack.upi))))}}$D.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const QD=(0,i.connect)((e=>({token:e.tollbooth.token})))($D),WD=()=>a().createElement(ke.Card,null,a().createElement("div",{className:"pf-c-content ocm-page"},a().createElement(R.Title,{headingLevel:"h3",size:"2xl"},"Red Hat Virtualization: Select an installation type"),a().createElement("div",{className:"flex-container"},a().createElement(o.Link,{to:"/install/rhv/installer-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isRecommened:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(FT.ZP,{alt:"Installer-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"Installer-provisioned infrastructure")," ","Deploy an OpenShift cluster on infrastructure that the installation program provisions and the cluster maintains.")),a().createElement(o.Link,{to:"/install/rhv/user-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isHidden:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(zT.ZP,{alt:"User-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"User-provisioned infrastructure"),"Deploy an OpenShift cluster on infrastructure that you prepare and maintain.")))));class YD extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Red Hat Virtualization"}render(){const e=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Red Hat Virtualization"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Install OpenShift Container Platform 4",breadcrumbs:e}),a().createElement(Ne.NP,null,a().createElement(WD,null)))}}const KD=YD;function JD(){return(JD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class XD extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | RHV Installer-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Red Hat Virtualization",path:"/install/rhv"},{label:"Installer-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.rhv.ipi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,JD({token:e,cloudProviderID:"rhv",customizations:$T.rhv.customizations},$T.rhv.ipi))))}}XD.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const e_=(0,i.connect)((e=>({token:e.tollbooth.token})))(XD);function t_(){return(t_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class n_ extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | RHV User-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Red Hat Virtualization",path:"/install/rhv"},{label:"User-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.rhv.upi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,t_({token:e,cloudProviderID:"rhv",customizations:$T.rhv.customizations},$T.rhv.upi))))}}n_.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const r_=(0,i.connect)((e=>({token:e.tollbooth.token})))(n_);function a_(){return(a_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class s_ extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere User-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"VMware vSphere",path:"/install/vsphere"},{label:"User-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.vmware.upi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,a_({token:e,cloudProviderID:"vmware",customizations:$T.vmware.customizations},$T.vmware.upi))))}}s_.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const l_=(0,i.connect)((e=>({token:e.tollbooth.token})))(s_);function i_(){return(i_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class o_ extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere Installer-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"VMware vSphere",path:"/install/vsphere"},{label:"Installer-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.vmware.ipi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,i_({token:e,cloudProviderID:"vmware",customizations:$T.vmware.customizations},$T.vmware.ipi))))}}o_.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const c_=(0,i.connect)((e=>({token:e.tollbooth.token})))(o_),u_=()=>a().createElement(ke.Card,null,a().createElement("div",{className:"pf-c-content ocm-page"},a().createElement(R.Title,{headingLevel:"h3",size:"2xl"},"VMware vSphere: Select an installation type"),a().createElement("div",{className:"flex-container"},a().createElement(o.Link,{to:"/install/vsphere/installer-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isRecommened:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(FT.ZP,{alt:"Installer-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"Installer-provisioned infrastructure")," ","Deploy an OpenShift cluster on infrastructure that the installation program provisions and the cluster maintains.")),a().createElement(o.Link,{to:"/install/vsphere/user-provisioned",className:"ocm-c-ipi-upi-infra-card infra-card pf-c-card"},a().createElement(BT,{isHidden:!0}),a().createElement(Me.e,{className:"ocm-c-ipi-upi-infra-card--body"},a().createElement(zT.ZP,{alt:"User-Provisioned Infrastructure"}),a().createElement(R.Title,{headingLevel:"h3",size:"lg"},"User-provisioned infrastructure"),"Deploy an OpenShift cluster on infrastructure that you prepare and maintain.")))));class d_ extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere"}render(){const e=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"VMware vSphere"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Install OpenShift Container Platform 4",breadcrumbs:e}),a().createElement(Ne.NP,null,a().createElement(u_,null)))}}const p_=d_;function m_(){return(m_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class h_ extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | x86_64 User-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"x86_64 User-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.generic.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,m_({token:e,breadcrumbs:t,cloudProviderID:"generic"},$T.generic))))}}h_.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const g_=(0,i.connect)((e=>({token:e.tollbooth.token})))(h_),b_=()=>a().createElement(a().Fragment,null,a().createElement(h.xv,{component:"p"},"Because these are developer preview builds:"),a().createElement(Pr.Gn,null,a().createElement(wr.Ts,null,"Production use is not permitted."),a().createElement(wr.Ts,null,"Installation and use is not eligible for Red Hat production support."),a().createElement(wr.Ts,null,"Clusters installed at pre-release versions cannot be upgraded. As we approach a GA milestone with these nightly builds, we will allow upgrades from a nightly to a nightly; however, we will not support an upgrade from a nightly to the final GA build of OCP.")));function E_({token:e,installer:t}){return a().createElement(a().Fragment,null,a().createElement(R.Title,{headingLevel:"h3",size:"2xl"},"Experimental Developer Preview Builds"),a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,a().createElement(ke.Card,{className:"ocm-c-pre-release__card"},a().createElement(Le.l,{className:"ocm-c-pre-release__card--header"},a().createElement(tD.ZP,null)," ",a().createElement("span",null,"Developer Preview")),a().createElement(Me.e,{className:"ocm-c-pre-release__card--body"},e.error&&a().createElement(uS,{token:e}),a().createElement(m.D,null,a().createElement(iD,null),a().createElement(h.xv,{component:"p"},"As Red Hat OpenShift Container Platform (OCP) has moved to become a more agile and rapidly deployable Kubernetes offering, we want to allow existing and evaluation customers and partners access to the latest pre-release nightly builds to see a real-time view into the next version of OpenShift."),a().createElement(b_,null),a().createElement(h.xv,{component:"p"},"These nightly builds are useful for those who would like to stay up to date on features being developed in the next release of OpenShift. Such builds are advantageous for planning future deployments, ISV integrations, or other educational purposes."),a().createElement(h.xv,{component:"h3"},"Feature Completion in Nightly Builds"),a().createElement(h.xv,{component:"p"},"Each OpenShift minor release will target initiatives or focus areas. These features will not be the same in every nightly build. Because these are experimental nightly builds, some features may be incomplete or have bugs. This is the beauty of the development process."))))),a().createElement(y.v,null,a().createElement(ke.Card,{className:"ocm-c-pre-release-instructions__card"},a().createElement(Me.e,{className:"ocm-c-pre-release-instructions__card--body"},a().createElement(sD,{rhcosDownloadURL:Mo.ZP.INSTALL_PRE_RELEASE_DOWNLOAD_RHCOS_LATEST,token:e,showPreReleaseDocs:!0,showPreReleasePageLink:!1,tool:t,channel:Mo.ZW.PRE_RELEASE})),a().createElement(Er.e,{className:"ocm-c-pre-release-instructions__card--footer"},a().createElement(m.D,null,a().createElement(h.xv,{component:"h3"},"Feedback and Support"),a().createElement(h.xv,{component:"p"},"If you are a Red Hat customer or partner and have feedback about these nightly builds, email"," ",a().createElement(h.xv,{component:"a",href:Mo.ZP.INSTALL_PRE_RELEASE_FEEDBACK_MAILTO},"users@lists.openshift.redhat.com"),". Do not use the formal Red Hat support service ticket process. You can read more about support handling in the following"," ",a().createElement(h.xv,{component:"a",href:Mo.ZP.INSTALL_PRE_RELEASE_SUPPORT_KCS,rel:"noreferrer noopener",target:"_blank"},"knowledge article"),".")))))))}E_.propTypes={token:l().object.isRequired,installer:l().oneOf(Object.values(Mo.rj)).isRequired};const f_=E_;class y_ extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Experimental Developer Preview Builds";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Pre-Release Builds"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Install OpenShift Container Platform 4",breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(f_,{token:e,installer:Mo.rj.X86INSTALLER})))}}y_.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const v_=(0,i.connect)((e=>({token:e.tollbooth.token})))(y_);function O_({token:e}){return a().createElement(a().Fragment,null,a().createElement(R.Title,{headingLevel:"h3",size:"2xl"},"Pull secret"),a().createElement(ke.Card,null,a().createElement("div",{className:"pf-l-grid pf-m-gutter ocm-page"},e.error&&a().createElement(uS,{token:e}),a().createElement(iD,null),a().createElement("div",{className:"pf-c-content"},a().createElement("h3",{className:"pf-c-title pf-m-md downloads-subtitle"},"Pull secret"),a().createElement(oP,{token:e})))))}O_.propTypes={token:l().object.isRequired};const C_=O_;class R_ extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Pull Secret";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props;return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Install OpenShift Container Platform 4"}),a().createElement(Ne.NP,{className:"ocp-instructions"},a().createElement(C_,{token:e})))}}R_.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const S_=(0,i.connect)((e=>({token:e.tollbooth.token})))(R_);class P_ extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Pull Secret";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props;return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Azure Red Hat OpenShift"}),a().createElement(Ne.NP,{className:"ocp-instructions"},a().createElement(a().Fragment,null,a().createElement(R.Title,{headingLevel:"h3",size:"2xl"},"Red Hat content access"),a().createElement(ke.Card,null,a().createElement("div",{className:"pf-l-grid pf-m-gutter ocm-page"},e.error&&a().createElement(uS,{token:e}),a().createElement("div",{className:"pf-c-content"},a().createElement("h3",{className:"pf-c-title pf-m-md downloads-subtitle"},"Pull secret"),a().createElement(oP,{token:e,text:"Download or copy your pull secret. Your pull secret provides your Azure Red Hat OpenShift cluster with access to additional content provided by Red Hat."}),a().createElement(Ur.bZ,{variant:"info",isInline:!0,title:"Connecting your cluster to OpenShift Cluster Manager",className:"bottom-alert"},a().createElement("p",null,"Azure Red Hat OpenShift clusters do not connect to OpenShift Cluster Manager at creation time. Follow the"," ",a().createElement(Rr,{href:"https://docs.microsoft.com/en-us/azure/openshift/howto-add-update-pull-secret"},"Microsoft documentation")," ","if you would like to enable telemetry as a day 2 operation."))))))))}}P_.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const w_=(0,i.connect)((e=>({token:e.tollbooth.token})))(P_);function T_(){return(T_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class D_ extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Z";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"IBM Z"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.ibmz.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,T_({token:e,cloudProviderID:"ibmz"},$T.ibmz))))}}D_.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const __=(0,i.connect)((e=>({token:e.tollbooth.token})))(D_);class I_ extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | IBM Z | Experimental Developer Preview Builds";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"IBM Z",path:"/install/ibmz/user-provisioned"},{label:"Pre-Release Builds"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Install OpenShift on IBM Z with user-provisioned infrastructure",breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(f_,{token:e,installer:Mo.rj.IBMZINSTALLER})))}}I_.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const A_=(0,i.connect)((e=>({token:e.tollbooth.token})))(I_);function N_(){return(N_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class L_ extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Power";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Power"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.power.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,N_({token:e,cloudProviderID:"power"},$T.power))))}}L_.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const M_=(0,i.connect)((e=>({token:e.tollbooth.token})))(L_);class k_ extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Power | Experimental Developer Preview Builds";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Power",path:"/install/power/user-provisioned"},{label:"Pre-Release Builds"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Install OpenShift on Power with user-provisioned infrastructure",breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(f_,{token:e,installer:Mo.rj.PPCINSTALLER})))}}k_.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const j_=(0,i.connect)((e=>({token:e.tollbooth.token})))(k_);class x_ extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | ARM | Experimental Developer Preview Builds";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"ARM Pre-Release Builds"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Install OpenShift Container Platform 4 on ARM",breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(f_,{token:e,installer:Mo.rj.ARMINSTALLER})))}}x_.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const q_=(0,i.connect)((e=>({token:e.tollbooth.token})))(x_),U_={getAuthToken:fR.u.createAuthToken,getLatestRelease:yR.C},z_=(0,i.connect)((e=>({token:e.tollbooth.token||{},githubReleases:e.githubReleases})),U_)(YS);function F_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Z_ extends a().Component{constructor(...e){super(...e),F_(this,"state",{offlineAccessToken:null}),F_(this,"commandName","ocm"),F_(this,"pageTitle","OpenShift Cluster Manager API Token"),F_(this,"windowTitle","API Token | OpenShift Cluster Manager"),F_(this,"loadToken",(()=>{const e=this;insights.chrome.auth.getOfflineToken().then((t=>{console.log("Tokens: getOfflineToken succeeded => scope",t.data.scope),e.setState({offlineAccessToken:t.data.refresh_token})})).catch((t=>{"not available"===t?(console.log('Tokens: getOfflineToken failed => "not available", running doOffline()'),insights.chrome.auth.doOffline()):(console.log("Tokens: getOfflineToken failed =>",t),e.setState({offlineAccessToken:t}))}))}))}componentDidMount(){document.title=this.windowTitle;const{blockedByTerms:e,show:t}=this.props;!e&&t&&(console.log("Tokens: componentDidMount, props =",this.props),this.loadToken())}leadingInfo(){return a().createElement(a().Fragment,null,a().createElement(h.xv,{component:"p"},"Red Hat OpenShift Cluster Manager is a managed service that makes it easy for you to use OpenShift without needing to install or upgrade your own OpenShift (Kubernetes) cluster."),a().createElement(R.Title,{headingLevel:"h3"},"Your API token"),a().createElement(h.xv,{component:"p"},"Use this API token to authenticate against your Red Hat OpenShift Cluster Manager account."))}docsLink(){return a().createElement(Rr,{href:Mo.ZP.OCM_CLI_DOCS,noIcon:!0},"read more about setting up the ocm CLI")}downloadLink(){return a().createElement(a().Fragment,null,a().createElement(Rr,{href:Mo.ZP.OCM_CLI_LATEST,noIcon:!0},"ocm command-line tool")," ",a().createElement(YR,null))}tokenDetails(){const{offlineAccessToken:e}=this.state;return a().createElement(a().Fragment,null,null===(t=e)?a().createElement(At.Z,{size:"md"}):a().createElement(h.xv,{component:"pre"},a().createElement(Qo.M5,{isReadOnly:!0,className:"ocm-c-api-token-limit-width",textAriaLabel:"Copyable token"},t)),a().createElement(R.Title,{headingLevel:"h3"},"Using your token in the command line"),a().createElement(et.aV,{component:"ol"},a().createElement(tt.H,null,"Download and install the"," ",this.downloadLink()),a().createElement(tt.H,null,"Copy and paste the authentication command in your terminal:")),((e,t)=>null===e?a().createElement(At.Z,{size:"md"}):a().createElement(h.xv,{component:"pre"},a().createElement(Qo.M5,{isReadOnly:!0,className:"ocm-c-api-token-limit-width",variant:"expansion",textAriaLabel:"Copyable command"},`${t} login --token="${e}"`)))(e,this.commandName),a().createElement(R.Title,{headingLevel:"h3"},"Need help connecting with your offline token?"),a().createElement(h.xv,{component:"p"},"Run"," ",a().createElement("code",null,this.commandName," ","login --help")," ","for in-terminal guidance, or"," ",this.docsLink()," ","for more information about setting up the"," ",a().createElement("code",null,this.commandName)," ","CLI."));var t}buttonOrTokenDetails(){const{show:e,showPath:t}=this.props;return e?this.tokenDetails():a().createElement(o.Link,{to:t},a().createElement(p.Button,{variant:"primary",onClick:this.loadToken},"Load token"))}render(){const e=a().createElement(qe.Z,null,a().createElement(ym,{path:[{label:"Downloads",path:"/downloads"},{label:this.pageTitle}]}),a().createElement(Ue.Z,{title:this.pageTitle}));return a().createElement(a().Fragment,null,e,a().createElement(Ne.NP,null,a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,a().createElement(ke.Card,{className:"ocm-c-api-token__card"},a().createElement(Le.l,null,a().createElement(R.Title,{headingLevel:"h2"},"Connect with offline tokens")),a().createElement(Me.e,{className:"ocm-c-api-token__card--body"},a().createElement(m.D,null,this.leadingInfo(),this.buttonOrTokenDetails())))),a().createElement(y.v,null,a().createElement(ke.Card,{className:"ocm-c-api-token__card"},a().createElement(Le.l,null,a().createElement(R.Title,{headingLevel:"h2"},"Revoke previous tokens")),a().createElement(Me.e,{className:"ocm-c-api-token__card--body"},a().createElement(m.D,null,a().createElement(h.xv,null,"To manage and revoke previous tokens:"),a().createElement(et.aV,{component:"ol"},a().createElement(tt.H,null,"Navigate to the"," ",a().createElement(Rr,{href:"https://sso.redhat.com/auth/realms/redhat-external/account/applications"},a().createElement("b",null,"offline API token management"))," ","page."),a().createElement(tt.H,null,"Locate the"," ",a().createElement("b",null,"cloud-services")," ","application."),a().createElement(tt.H,null,"Select"," ",a().createElement("b",null,"Revoke grant"),".")),a().createElement(h.xv,null,"Refresh tokens will stop working immediately after you revoke them, but existing access tokens may take up to 15 minutes to expire."),a().createElement(h.xv,null,"Refreshing this page will generate a new token."))))))))}}Z_.defaultProps={blockedByTerms:!1},Z_.propTypes={blockedByTerms:l().bool,show:l().bool.isRequired,showPath:l().string};const B_=Z_,G_=class extends B_{constructor(...e){var t,n;super(...e),n="rosa",(t="commandName")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}leadingInfo(){return a().createElement(a().Fragment,null,a().createElement(h.xv,{component:"p"},"Red Hat OpenShift Service on AWS is a managed service that makes it easy for you to use OpenShift on AWS without needing to install, operate or upgrade your own OpenShift (Kubernetes) cluster."),a().createElement(R.Title,{headingLevel:"h3"},"Your API token"),a().createElement(h.xv,{component:"p"},"Use this API token to authenticate against your Red Hat OpenShift Service on AWS account."))}docsLink(){return a().createElement(Rr,{href:Mo.ZP.ROSA_DOCS,noIcon:!0},"read more about setting up the rosa CLI")}downloadLink(){return a().createElement(Rr,{href:Mo.ZP.ROSA_CLIENT_LATEST,noIcon:!0},"rosa command-line tool")}};var H_=n(44677),V_=n(63684),$_=n(9792),Q_=n(33839);function W_({data:e,refresh:t,marketplace:n}){const r=(e,t,n)=>a().createElement(Ne.NP,{className:"subscriptions-empty-state"},a().createElement(g.ub,null,a().createElement(R.Title,{headingLevel:"h4",size:"2xl"},e),a().createElement(b.B,null,t),n)),s={account:{emptyTitle:"Unable to retrieve account information",errorTitle:"Unable to retrieve account information",text:"Contact support to verify your account is valid"},ocp:{emptyTitle:"You do not have any clusters",errorTitle:"Unable to retrieve subscription status",text:a().createElement("p",null,"Create a cluster to get started."),emptyButton:a().createElement(o.Link,{to:"/install"},a().createElement(p.Button,null,"Create cluster"))},osd:{emptyTitle:"You do not have any quota",errorTitle:"Unable to retrieve quota information",text:a().createElement("p",null,a().createElement("a",{href:"https://www.openshift.com/products/dedicated/contact/",rel:"noreferrer noopener",target:"_blank"},"Contact sales")," ","to get started with OpenShift Dedicated.")},osdmarketplace:{emptyTitle:"Marketplace on-demand subscriptions not detected",errorTitle:"Unable to retrieve quota information",text:a().createElement("p",null,a().createElement("p",null,"No marketplace subscriptions for OpenShift Dedicated or add-ons were found in your account"),a().createElement("br",null),a().createElement("p",null,a().createElement(p.Button,{component:"a",href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated",variant:"primary",rel:"noopener noreferrer",target:"_blank"},"Enable in Marketplace")),a().createElement("br",null),a().createElement("a",{href:"https://access.redhat.com/documentation/en-us/openshift_cluster_manager/2021/html/managing_clusters/assembly-cluster-subscriptions",rel:"noreferrer noopener",target:"_blank"},"Learn more"))}};let l=s[e.type];n&&(l=s[`${e.type}marketplace`]);let i=null;if(e.error){const n=(({errorMessage:e,operationID:t,internalErrorCode:n})=>{const r={code:n};return W.gz===r.code?(0,W.lx)(r):a().createElement(a().Fragment,null,a().createElement("p",null,"An error has occured! Try again or contact support by including this error message:"),a().createElement("q",null,e),a().createElement("p",null,`Operation ID: ${t||"N/A"}`))})(e),s=a().createElement(p.Button,{onClick:t},"Try again");i=r(l.errorTitle,n,s)}else e.pending?i=a().createElement(Ne.NP,null,a().createElement(E.Z,{centered:!0})):e.empty&&(i=r(l.emptyTitle,l.text,l.emptyButton));return i}W_.propTypes={data:l().object.isRequired,refresh:l().func.isRequired,marketplace:l().bool};const Y_=W_;var K_=n(75472),J_=n.n(K_);function X_({rows:e,children:t}){const n=J_()(e,[0,1]).map((e=>({cells:e}))),r=a().createElement(a().Fragment,null,a().createElement("p",null,"Standard: Cluster infrastructure costs paid by Red Hat"),a().createElement("p",null,"CCS: Cluster infrastructure costs paid by the customer")),s=a().createElement(a().Fragment,null,"Plan type",a().createElement(Xr,{hint:r})),l=["Resource type","Resource name","Availability",{title:"Plan type",transforms:[()=>({children:s})]},"Cluster type",{title:"Used",props:{className:"quota-table-used"}},"Capacity"];return a().createElement(a().Fragment,null,a().createElement(lt.Table,{"aria-label":"Quota Table",cells:l,rows:n},a().createElement(lt.TableHeader,null),a().createElement(lt.TableBody,null)),t)}X_.propTypes={rows:l().array.isRequired,children:l().oneOfType([l().node,l().element])};const eI=X_;function tI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{MARKETPLACE:nI}=ee.F6;class rI extends r.Component{constructor(...e){super(...e),tI(this,"refresh",(()=>{const{organizationID:e,fetchQuotaCost:t}=this.props;t(e)})),tI(this,"getCapacityIcon",((e,t)=>{let n=a().createElement(H_.ZP,null);return e>t?n=a().createElement(xo.ZP,{className:"warn-icon"}):e===t?n=a().createElement($_.ZP,null):e>=t/2?n=a().createElement(V_.ZP,null):0===e&&(n=a().createElement(Q_.ZP,null)),n})),tI(this,"getZoneType",(e=>"multi"===e?"multizone":"single"===e?"single zone":"N/A")),tI(this,"getPlanType",(e=>"rhinfra"===e?"Standard":"byoc"===e?"CCS":"any"===e?"Any":"N/A"))}componentDidMount(){this.refresh()}render(){const{quotaCost:e,marketplace:t}=this.props;let n,r=[],s=a().createElement(o.Link,{to:"/quota/resource-limits"},"Dedicated (On-Demand Limits)"),l="The summary of all annual subscriptions for OpenShift Dedicated purchased by your organization or granted by Red Hat. For on-demand resources, see";if(t&&(s=a().createElement(Rr,{href:"/openshift/subscriptions/openshift-dedicated",noIcon:!0},"Dedicated (On-Demand)"),l="Active subscriptions allow your organization to use up to a certain number of OpenShift Dedicated clusters. Overall OSD subscription capacity and usage can be viewed in"),e.fulfilled&&(r=e.items.flatMap((e=>{if(0===e.consumed&&0===e.allowed)return[];const n=T()(e,"related_resources",[]).filter((e=>0!==e.cost));if(0===n.length)return[];const r=T()(n[0],"billing_model");let a=T()(n[0],"resource_name");return t&&r!==nI&&"addon-open-data-hub"!==a?[]:t||r!==nI&&"addon-open-data-hub"!==a?("compute.node"===T()(n[0],"resource_type")&&"byoc"===T()(n[0],"byoc")&&(a="vCPU"),[[T()(n[0],"resource_type"),a,{title:this.getZoneType(T()(n[0],"availability_zone_type"))},this.getPlanType(T()(n[0],"byoc")),iy()(T()(n[0],"product")),`${e.consumed} of ${e.allowed}`,{title:this.getCapacityIcon(e.consumed,e.allowed)}]]):[]}))),r.length>0)n=a().createElement(a().Fragment,null,a().createElement(y.v,{className:"content-header"},"Quota"),a().createElement(y.v,{className:"table-container"},a().createElement(eI,{rows:r})));else{const r={error:e.error,pending:e.pending,type:"osd",empty:!0};n=a().createElement(Y_,{data:r,refresh:this.refresh,marketplace:t})}return a().createElement(ke.Card,null,a().createElement(Le.l,null,"OpenShift Dedicated"),a().createElement(Me.e,null,a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,l," ",s),n)))}}rI.propTypes={organizationID:l().string.isRequired,fetchQuotaCost:l().func.isRequired,quotaCost:l().object.isRequired,marketplace:l().bool};const aI=rI,sI={fetchQuotaCost:e=>Vt(e)},lI=(0,i.connect)((function(e){return{quotaCost:e.subscriptions.quotaCost}}),sI)(aI);class iI extends r.Component{constructor(...e){var t,n;super(...e),n=()=>{const{fetchAccount:e}=this.props;e()},(t="refresh")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){document.title="Quota | Red Hat OpenShift Cluster Manager",this.refresh(),T()(window,"insights.ocm")&&(this.cleanupOcmListener=insights.ocm.on("APP_REFRESH",(()=>this.refresh())))}componentWillUnmount(){const{invalidateClusters:e}=this.props;e(),this.cleanupOcmListener&&this.cleanupOcmListener()}render(){const{account:e,marketplace:t}=this.props;let n,r="Dedicated (Annual)";if(t&&(r="Dedicated (On-Demand Limits)"),e.fulfilled&&e.data.organization&&e.data.organization.id){const s=e.data.organization.id;n=a().createElement(a().Fragment,null,a().createElement(qe.Z,null,a().createElement(Ue.Z,{title:r,className:"page-title"})),a().createElement(Ne.NP,{className:"ocm-p-subscriptions"},a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,{className:"ocm-l-osd-subscription__section"},a().createElement(lI,{organizationID:s,marketplace:t})))))}else{const t={error:e.error,pending:e.pending,type:"account",internalErrorCode:e.internalErrorCode};n=a().createElement(Y_,{data:t,refresh:this.refresh})}return n}}iI.propTypes={fetchAccount:l().func.isRequired,account:l().object.isRequired,invalidateClusters:l().func.isRequired,marketplace:l().bool};const oI=iI,cI={fetchAccount:()=>Ht(),invalidateClusters:()=>pr.invalidateClusters()},uI=(0,i.connect)((function(e){return{account:e.subscriptions.account}}),cI)(oI);var dI=n(38080);function pI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class mI extends r.Component{constructor(...e){super(...e),pI(this,"highlightNavItem",(e=>{insights.chrome.appNavClick((0,dI.Z)(e.pathname))})),pI(this,"navigateToApp",(e=>{var t,n,r;const{history:a}=this.props,{location:s}=a;if(e.domEvent&&(null!==(t=e.domEvent)&&void 0!==t&&null!==(n=t.target)&&void 0!==n&&n.pathname||null!==(r=e.domEvent)&&void 0!==r&&r.href)){var l,i,c;const t=(0,ap.uF)((null===(l=e.domEvent)||void 0===l||null===(i=l.target)||void 0===i?void 0:i.pathname)||(null===(c=e.domEvent)||void 0===c?void 0:c.href));(0,o.matchPath)(s.pathname,{path:t,exact:!0})?this.dispatchOcmEvent("APP_REFRESH"):a.push(t)}})),pI(this,"addOcmListener",((e,t)=>{const n=this.ocmListeners[e];let r=()=>{};if(!n.includes(t)){n.push(t);const e=n.length-1;r=()=>n.splice(e,1)}return r})),pI(this,"dispatchOcmEvent",(e=>{this.ocmListeners[e].forEach((e=>e()))}))}componentDidMount(){const{history:e}=this.props;this.cleanupInsightsListener=insights.chrome.on("APP_NAVIGATION",this.navigateToApp),this.cleanupRouteListener=e.listen(this.highlightNavItem),this.ocmListeners={APP_REFRESH:[]},insights.ocm={on:(e,t)=>"APP_REFRESH"!==e?(console.error(`Invalid event - ${e}`),()=>{}):this.addOcmListener(e,t)}}componentWillUnmount(){this.cleanupInsightsListener(),this.cleanupRouteListener(),delete insights.ocm}render(){return null}}mI.propTypes={history:l().shape({push:l().func.isRequired,location:l().object.isRequired,listen:l().func.isRequired}).isRequired};const hI=mI;class gI extends r.Component{componentDidMount(){document.title="Create an OpenShift Dedicated cluster | Red Hat OpenShift Cluster Manager | Choose your cloud provider";const{getOrganizationAndQuota:e,organization:t}=this.props;q(t)&&e()}render(){const{hasProductQuota:e,hasGcpQuota:t,hasAwsQuota:n,organization:r,product:s}=this.props,l=s===ee.Po.OSDTrial,i=s.toLowerCase();if(!r.pending&&(r.fulfilled||r.error)){const r=l&&!e;if(r||!t&&!n)return a().createElement(Ud.l_,{to:"/create"+(r?"?trial=expired":"")})}const c=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"OpenShift Dedicated"}]}),u=a().createElement(Me.e,null,a().createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyBpZD0iQXJ0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxODEgMjgiPjxkZWZzPjxzdHlsZT4uY2xzLTF7ZmlsbDojZWE0MzM1O30uY2xzLTJ7ZmlsbDojNDI4NWY0O30uY2xzLTN7ZmlsbDojMzRhODUzO30uY2xzLTR7ZmlsbDojZmJiYzA1O30uY2xzLTV7ZmlsbDojNWY2MzY4O308L3N0eWxlPjwvZGVmcz48dGl0bGU+Q2xvdWRfTG9nb19OYXY8L3RpdGxlPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTIxLjg1LDcuNDFsMSwwLDIuODUtMi44NS4xNC0xLjIxQTEyLjgxLDEyLjgxLDAsMCwwLDUsOS42YTEuNTUsMS41NSwwLDAsMSwxLS4wNmw1LjctLjk0cy4yOS0uNDguNDQtLjQ1YTcuMTEsNy4xMSwwLDAsMSw5LjczLS43NFoiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0yOS43Niw5LjZhMTIuODQsMTIuODQsMCwwLDAtMy44Ny02LjI0bC00LDRBNy4xMSw3LjExLDAsMCwxLDI0LjUsMTN2LjcxYTMuNTYsMy41NiwwLDEsMSwwLDcuMTJIMTcuMzhsLS43MS43MnY0LjI3bC43MS43MUgyNC41QTkuMjYsOS4yNiwwLDAsMCwyOS43Niw5LjZaIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTAuMjUsMjYuNDloNy4xMnYtNS43SDEwLjI1YTMuNTQsMy41NCwwLDAsMS0xLjQ3LS4zMmwtMSwuMzFMNC45MSwyMy42M2wtLjI1LDFBOS4yMSw5LjIxLDAsMCwwLDEwLjI1LDI2LjQ5WiIvPjxwYXRoIGNsYXNzPSJjbHMtNCIgZD0iTTEwLjI1LDhBOS4yNiw5LjI2LDAsMCwwLDQuNjYsMjQuNmw0LjEzLTQuMTNhMy41NiwzLjU2LDAsMSwxLDQuNzEtNC43MWw0LjEzLTQuMTNBOS4yNSw5LjI1LDAsMCwwLDEwLjI1LDhaIi8+PHBhdGggY2xhc3M9ImNscy01IiBkPSJNNTIuNzksMjIuNTFhOS4xMSw5LjExLDAsMCwxLTYuNi0yLjcxLDguOCw4LjgsMCwwLDEtMi43Ny02LjUyLDguODEsOC44MSwwLDAsMSwyLjc3LTYuNTJBOS4xMSw5LjExLDAsMCwxLDUyLjc5LDRhOC44NCw4Ljg0LDAsMCwxLDYuMzMsMi41NUw1Ny4zNCw4LjM2YTYuNDEsNi40MSwwLDAsMC00LjU1LTEuOCw2LjM0LDYuMzQsMCwwLDAtNC43LDIsNi41Myw2LjUzLDAsMCwwLTEuOTMsNC43NUE2LjUzLDYuNTMsMCwwLDAsNDguMDksMThhNi43MSw2LjcxLDAsMCwwLDkuMzYuMTFBNS4zMiw1LjMyLDAsMCwwLDU4LjgyLDE1aC02VjEyLjQ0aDguNDlBOC4xMiw4LjEyLDAsMCwxLDYxLjQxLDE0YTgsOCwwLDAsMS0yLjE5LDUuOUE4LjUxLDguNTEsMCwwLDEsNTIuNzksMjIuNTFabTE5Ljc0LTEuN2E2LjEyLDYuMTIsMCwwLDEtOC40NywwLDUuNyw1LjcsMCwwLDEtMS43My00LjI1LDUuNzEsNS43MSwwLDAsMSwxLjczLTQuMjUsNi4xMyw2LjEzLDAsMCwxLDguNDcsMCw1LjcxLDUuNzEsMCwwLDEsMS43Myw0LjI1QTUuNyw1LjcsMCwwLDEsNzIuNTIsMjAuODFabS02LjYtMS42N2EzLjI0LDMuMjQsMCwwLDAsNC43MywwLDMuNTYsMy41NiwwLDAsMCwxLTIuNTgsMy41NywzLjU3LDAsMCwwLTEtMi41OSwzLjI5LDMuMjksMCwwLDAtNC43NSwwLDMuNTcsMy41NywwLDAsMC0xLDIuNTlBMy41NiwzLjU2LDAsMCwwLDY1LjkyLDE5LjE0Wm0xOS42MiwxLjY3YTYuMTIsNi4xMiwwLDAsMS04LjQ3LDAsNS43LDUuNywwLDAsMS0xLjczLTQuMjUsNS43MSw1LjcxLDAsMCwxLDEuNzMtNC4yNSw2LjEyLDYuMTIsMCwwLDEsOC40NywwLDUuNzEsNS43MSwwLDAsMSwxLjczLDQuMjVBNS43LDUuNywwLDAsMSw4NS41NSwyMC44MVptLTYuNi0xLjY3YTMuMjQsMy4yNCwwLDAsMCw0LjczLDAsMy41NiwzLjU2LDAsMCwwLDEtMi41OCwzLjU3LDMuNTcsMCwwLDAtMS0yLjU5LDMuMjksMy4yOSwwLDAsMC00Ljc1LDAsMy41NywzLjU3LDAsMCwwLTEsMi41OUEzLjU2LDMuNTYsMCwwLDAsNzguOTQsMTkuMTRabTE1LjE2LDguNzFhNS4yNCw1LjI0LDAsMCwxLTMuMzMtMS4wNiw2LjEzLDYuMTMsMCwwLDEtMS45NC0yLjQ2bDIuMjgtLjk1YTMuODQsMy44NCwwLDAsMCwxLjEzLDEuNDksMi44NSwyLjg1LDAsMCwwLDEuODcuNjMsMywzLDAsMCwwLDIuMzMtLjlBMy42NSwzLjY1LDAsMCwwLDk3LjI4LDIydi0uODZoLS4wOWEzLjgxLDMuODEsMCwwLDEtMy4xMywxLjM1LDUuNDMsNS40MywwLDAsMS00LTEuNzQsNS43NSw1Ljc1LDAsMCwxLTEuNzEtNC4xOSw1LjgxLDUuODEsMCwwLDEsMS43MS00LjIyLDUuNDIsNS40MiwwLDAsMSw0LTEuNzVBNC4zLDQuMywwLDAsMSw5NS45LDExYTMuNywzLjcsMCwwLDEsMS4zLjk1aC4wOVYxMWgyLjQ4VjIxLjY1YTYuMjEsNi4yMSwwLDAsMS0xLjU5LDQuNjVBNS42LDUuNiwwLDAsMSw5NC4xMSwyNy44NVptLjE4LTcuNjhhMi45MSwyLjkxLDAsMCwwLDIuMjYtMSwzLjcsMy43LDAsMCwwLC45MS0yLjU2QTMuNzgsMy43OCwwLDAsMCw5Ni41NSwxNGEyLjksMi45LDAsMCwwLTIuMjYtMSwzLjA5LDMuMDksMCwwLDAtMi4zNCwxLDMuNjUsMy42NSwwLDAsMC0xLDIuNTksMy41OCwzLjU4LDAsMCwwLDEsMi41NkEzLjEsMy4xLDAsMCwwLDk0LjI5LDIwLjE3Wm05Ljg5LTE1LjVWMjIuMTVoLTIuNjFWNC42N1ptNy4xNiwxNy44NGE1LjY4LDUuNjgsMCwwLDEtNC4yMS0xLjcxLDUuNzksNS43OSwwLDAsMS0xLjY5LTQuMjQsNS44Niw1Ljg2LDAsMCwxLDEuNjMtNC4yOCw1LjM2LDUuMzYsMCwwLDEsNC0xLjY3LDUuMDUsNS4wNSwwLDAsMSwyLC4zOSw0LjcxLDQuNzEsMCwwLDEsMS41MywxLDcsNywwLDAsMSwxLDEuMjEsNy4xNSw3LjE1LDAsMCwxLC41OSwxLjE3bC4yNy42OC04LDMuMjlhMywzLDAsMCwwLDIuODgsMS44LDMuNDEsMy40MSwwLDAsMCwyLjkzLTEuNjVsMiwxLjM1YTYuNTksNi41OSwwLDAsMS0xLjkyLDEuODJBNS40NCw1LjQ0LDAsMCwxLDExMS4zNCwyMi41MVpNMTA4LDE2LjM4bDUuMzItMi4yMWExLjg0LDEuODQsMCwwLDAtLjgzLS45MSwyLjcxLDIuNzEsMCwwLDAtMS4zNy0uMzUsMy4wOSwzLjA5LDAsMCwwLTIuMTUuOTVBMy4xNywzLjE3LDAsMCwwLDEwOCwxNi4zOFoiLz48cGF0aCBjbGFzcz0iY2xzLTUiIGQ9Ik0xMzAuMTMsMjIuNTFhOC4yNCw4LjI0LDAsMCwxLTguMzgtOC40Myw4LjI0LDguMjQsMCwwLDEsOC4zOC04LjQzLDcuNDYsNy40NiwwLDAsMSw1LjkzLDIuNjRsLTEuNDQsMS40YTUuNDQsNS40NCwwLDAsMC00LjQ4LTIuMDUsNi4xMSw2LjExLDAsMCwwLTQuNDUsMS43OCw2LjI0LDYuMjQsMCwwLDAtMS44MSw0LjY2LDYuMjQsNi4yNCwwLDAsMCwxLjgxLDQuNjYsNi4xMSw2LjExLDAsMCwwLDQuNDUsMS43OCw2LjM2LDYuMzYsMCwwLDAsNS0yLjM0bDEuNDQsMS40NGE3Ljg2LDcuODYsMCwwLDEtMi43NywyLjExQTguNDgsOC40OCwwLDAsMSwxMzAuMTMsMjIuNTFaIi8+PHBhdGggY2xhc3M9ImNscy01IiBkPSJNMTQwLjQ1LDIyLjE1aC0yLjA3VjZoMi4wN1oiLz48cGF0aCBjbGFzcz0iY2xzLTUiIGQ9Ik0xNDMuODMsMTIuNDNhNS43OSw1Ljc5LDAsMCwxLDguMTYsMCw1Ljg1LDUuODUsMCwwLDEsMS42LDQuMiw1Ljg1LDUuODUsMCwwLDEtMS42LDQuMiw1Ljc5LDUuNzksMCwwLDEtOC4xNiwwLDUuODUsNS44NSwwLDAsMS0xLjYtNC4yQTUuODUsNS44NSwwLDAsMSwxNDMuODMsMTIuNDNabTEuNTQsNy4xYTMuNDksMy40OSwwLDAsMCw1LjA3LDAsNCw0LDAsMCwwLDEuMDctMi45LDQsNCwwLDAsMC0xLjA3LTIuOSwzLjQ5LDMuNDksMCwwLDAtNS4wNywwLDQsNCwwLDAsMC0xLjA3LDIuOUE0LDQsMCwwLDAsMTQ1LjM4LDE5LjUyWiIvPjxwYXRoIGNsYXNzPSJjbHMtNSIgZD0iTTE2NS4wNiwyMi4xNWgtMlYyMC42MkgxNjNBMy44NSwzLjg1LDAsMCwxLDE2MS41NCwyMmE0LjA4LDQuMDgsMCwwLDEtMi4wNS41NSwzLjg5LDMuODksMCwwLDEtMy4xNC0xLjI2LDUsNSwwLDAsMS0xLjA3LTMuMzhWMTEuMTFoMi4wN3Y2LjQycTAsMy4wOSwyLjczLDMuMDlhMi41NCwyLjU0LDAsMCwwLDIuMS0xLDMuNzcsMy43NywwLDAsMCwuODEtMi4zOVYxMS4xMWgyLjA3WiIvPjxwYXRoIGNsYXNzPSJjbHMtNSIgZD0iTTE3Mi4wOSwyMi41MWE0Ljg2LDQuODYsMCwwLDEtMy43LTEuNjksNiw2LDAsMCwxLTEuNTUtNC4xOSw2LDYsMCwwLDEsMS41NS00LjE5LDQuODYsNC44NiwwLDAsMSwzLjctMS42OSw0LjY5LDQuNjksMCwwLDEsMi4yNi41NCwzLjgzLDMuODMsMCwwLDEsMS41LDEuMzVoLjA5bC0uMDktMS41M1Y2aDIuMDdWMjIuMTVoLTJWMjAuNjJoLS4wOWEzLjgzLDMuODMsMCwwLDEtMS41LDEuMzVBNC42OSw0LjY5LDAsMCwxLDE3Mi4wOSwyMi41MVptLjM0LTEuODlhMy4zLDMuMywwLDAsMCwyLjQ5LTEuMDgsNC4wNSw0LjA1LDAsMCwwLDEtMi45MSw0LjA1LDQuMDUsMCwwLDAtMS0yLjkxLDMuMzgsMy4zOCwwLDAsMC01LDAsNCw0LDAsMCwwLTEsMi45LDQsNCwwLDAsMCwxLDIuOUEzLjMsMy4zLDAsMCwwLDE3Mi40MywyMC42MloiLz48L3N2Zz4=",alt:"GCP",className:"create-cluster-logo"}),a().createElement(R.Title,{headingLevel:"h5",size:"lg"},"Run on Google Cloud Platform")),d=t?a().createElement(o.Link,{to:`/create/${i}/gcp`,className:"infra-card create-cluster-card pf-c-card"},u):a().createElement(Vr.Tooltip,{content:j},a().createElement(ke.Card,{className:"infra-card create-cluster-card card-disabled"},u)),p=a().createElement(Me.e,null,a().createElement("img",{src:JR,alt:"AWS",className:"create-cluster-logo"}),a().createElement(R.Title,{headingLevel:"h5",size:"lg"},"Run on Amazon Web Services")),m=n?a().createElement(o.Link,{to:`/create/${i}/aws`,className:"infra-card create-cluster-card pf-c-card"},a().createElement(BT,{isHidden:!0}),p):a().createElement(Vr.Tooltip,{content:j},a().createElement(ke.Card,{className:"infra-card create-cluster-card card-disabled"},p)),h=a().createElement(GR,{title:"Create an OpenShift Dedicated Cluster",breadcrumbs:c});return r.fulfilled?a().createElement(a().Fragment,null,h,a().createElement(Ne.NP,null,a().createElement(ke.Card,null,a().createElement("div",{className:"pf-c-content ocm-page"},a().createElement(R.Title,{headingLevel:"h3",size:"2xl"},"Select an infrastructure provider"),a().createElement("div",{className:"flex-container"},m,d))))):r.error?a().createElement(a().Fragment,null,h,a().createElement(Ne.NP,null,a().createElement(K,{message:"Error retrieving quota",response:r}))):a().createElement(a().Fragment,null,h,a().createElement(Ne.NP,null,a().createElement(E.Z,{centered:!0})))}}gI.propTypes={getOrganizationAndQuota:l().func.isRequired,organization:l().object.isRequired,hasGcpQuota:l().bool.isRequired,hasAwsQuota:l().bool.isRequired,hasProductQuota:l().bool.isRequired,product:l().oneOf(Object.keys(ee.Po)).isRequired};const bI=gI,EI={getOrganizationAndQuota:d.nh},fI=(0,i.connect)(((e,t)=>{const{product:n}=t,{STANDARD:r,MARKETPLACE:a}=ee.F6;return{hasProductQuota:Uc(e,n),hasAwsQuota:xc(e,n,r)||xc(e,n,a),hasGcpQuota:qc(e,n,r)||qc(e,n,a),osdTrialFeature:e.features[Bn.vC],organization:e.userProfile.organization}}),EI)(bI);function yI(){return(yI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class vI extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal User-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Bare Metal",path:"/install/metal"},{label:"User-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.bareMetal.upi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,yI({token:e,breadcrumbs:t,cloudProviderID:"bareMetal",customizations:$T.bareMetal.customizations},$T.bareMetal.upi))))}}vI.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const OI=(0,i.connect)((e=>({token:e.tollbooth.token})))(vI);function CI(){return(CI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class RI extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal Installer-Provisioned Infrastructure";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"Bare Metal",path:"/install/metal"},{label:"Installer-provisioned infrastructure"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:$T.bareMetal.ipi.title,breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(dD,CI({token:e,breadcrumbs:t,cloudProviderID:"bareMetal"},$T.bareMetal.ipi,{isBMIPI:!0}))))}}RI.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const SI=(0,i.connect)((e=>({token:e.tollbooth.token})))(RI);var PI=n(98742),wI=n(81249),TI=n.n(wI);const DI=e=>{const t=TI().coerce(e);if(!t)return null;const{major:n,minor:r,patch:a,prerelease:s}=t;if(4!==n||!P()(s))return null;const l=`https://docs.openshift.com/container-platform/${n}.${r}/release_notes/ocp-${n}-${r}-release-notes.html`;return a>0?l+`#ocp-${n}-${r}-${a}`:l};var _I=n(80256);const II=({children:e})=>a().createElement("dt",{className:"pf-c-description-list__term pf-u-mt-md"},e);II.propTypes={children:l().node.isRequired};const AI=II;var NI=n(24774);const LI=({children:e})=>a().createElement("dd",{className:"pf-c-description-list__description ocm-l-ocp-releases__channel-detail"},a().createElement(NI.a,{className:"ocm-l-ocp-releases__channel-detail-level"},e));LI.propTypes={children:l().node.isRequired};const MI=LI,kI=({channel:e,status:t})=>{const[n,r]=a().useState("");a().useEffect((()=>{(async()=>{var t,n,a;const s=await(e=>yh().get(`${ln.ZP.configData.apiGateway}/api/upgrades_info/v1/graph`,{headers:{Accept:"application/json"},params:{channel:e,arch:"amd64"}}))(e),l=null==s||null===(t=s.data)||void 0===t||null===(n=t.nodes)||void 0===n?void 0:n.sort((({version:e},{version:t})=>TI().rcompare(e,t)));r(null===(a=l[0])||void 0===a?void 0:a.version)})()}),[e]);const s=e.includes("candidate"),l=(e=>{const t=TI().coerce(e);if(!t)return null;const{major:n,minor:r,prerelease:a}=t;return 4===n&&P()(a)?`https://docs.openshift.com/container-platform/${n}.${r}/updating/updating-cluster-between-minor.html#candidate-${n}-${r}-channel`:null})(n),i=n?TI().coerce(n):TI().coerce("4.7"),{major:o,minor:c}=i,u=DI(n);return a().createElement(a().Fragment,null,a().createElement(AI,null,s&&a().createElement(Op.Divider,{className:"ocm-l-ocp-releases__divider pf-u-my-lg"}),e,s&&a().createElement(Xr,{iconClassName:"pf-u-ml-sm",hint:a().createElement(a().Fragment,null,a().createElement("p",{className:"pf-u-mb-md"},`Candidate channels contain candidate releases for a z-stream\n                  (e.g., ${o}.${c}.z). A candidate channel release contains\n                  all the features of the product, but is not supported until the\n                  release is promoted to the fast, stable, or eus channels.`),l&&a().createElement("p",null,a().createElement(Rr,{href:l,noIcon:!0},"Learn more about candidate channels")))})),a().createElement(MI,null,n&&a().createElement(_I.Z,null,"Latest version"," ",u?a().createElement(Rr,{href:u,noIcon:!0},n):n),t&&a().createElement(hh,{status:t})))};kI.propTypes={channel:l().string.isRequired,status:l().string};const jI=kI,xI=()=>{var e,t;const[n,r]=a().useState({data:[]});a().useEffect((()=>{(async()=>{const e=await vh();r(e.data.data)})()}),[]),a().useEffect((()=>{document.title="Releases | Red Hat OpenShift Cluster Manager"}),[]);const s=null===(e=n[0])||void 0===e?void 0:e.versions,l=null==s?void 0:s.filter((e=>!e.name.includes("EUS"))),i=null==l?void 0:l.splice(0,6),c=e=>null==s?void 0:s.find((t=>t.name.includes(`${e} EUS`))),u=i?null===(t=i[0])||void 0===t?void 0:t.name:"4.7",d=e=>a().createElement(a().Fragment,null,"OpenShift"," ",e);return a().createElement(a().Fragment,null,a().createElement(qe.Z,null,a().createElement(Ue.Z,{title:"Releases",className:"page-title"})),a().createElement(Ne.NP,{className:"ocm-p-releases"},a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,{className:"ocm-l-ocp-releases__section"},a().createElement(ke.Card,null,a().createElement(Le.l,null,"Latest OpenShift releases"),a().createElement(Me.e,null,a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,"View general information on the most recent OpenShift Container Platform release versions that you can install. Versions are only supported when released to the fast, stable, or eus channels."," ",a().createElement(Wr.J2,{"aria-label":"Version help",bodyContent:a().createElement(a().Fragment,null,a().createElement("p",{className:"pf-u-mb-md"},"The most recent versions aren't always available for every cluster. To keep your cluster up to date with the recommended version, run regular updates from the"," ",a().createElement(o.Link,{to:"/"},"clusters list"),"."),a().createElement("p",null,a().createElement("em",null,"Note:")," ","Disconnected clusters won't show available recommended updates on the clusters list.")),id:"version-help"},a().createElement(p.Button,{variant:"link",isInline:!0},"I don't see these versions as upgrade options for my cluster."," ",a().createElement(Yr.ZP,null)))),a().createElement(Uv.r,{hasGutter:!0,minWidths:{sm:"340px"},maxWidths:{default:"340px"}},null==i?void 0:i.map((e=>{var t;return a().createElement(PI.L,{key:e.name},a().createElement(ke.Card,{isFlat:!0,className:"ocm-l-ocp-releases__card"},a().createElement(Le.l,null,a().createElement("div",{className:"ocm-l-ocp-releases__card-title pf-u-mb-sm"},DI(e.name)?a().createElement(Rr,{href:DI(e.name),noIcon:!0},d(e.name)):d(e.name)),a().createElement(Op.Divider,{className:"ocm-l-ocp-releases__divider pf-u-mt-lg pf-u-mb-sm"})),a().createElement(Me.e,null,a().createElement("div",{className:"ocm-l-ocp-releases__subheading"},"Channel details"),a().createElement("dl",{className:"ocm-l-ocp-releases__channels"},a().createElement(jI,{channel:`stable-${e.name}`,status:e.type}),a().createElement(jI,{channel:`fast-${e.name}`,status:e.type}),(e=>{const t=TI().coerce(e),{minor:n}=t;return n>5&&n%2==0})(e.name)?a().createElement(jI,{channel:`eus-${e.name}`,status:c(e.name)?null===(t=c(e.name))||void 0===t?void 0:t.type:e.type}):a().createElement(a().Fragment,null,a().createElement(AI,null,"-"),a().createElement(MI,null,`No ${e.name} EUS channel`)),a().createElement(jI,{channel:`candidate-${e.name}`})))))}))))))),a().createElement(y.v,{className:"ocm-l-osd-releases__section"},a().createElement(ke.Card,null,a().createElement(Le.l,null,"Channels"),a().createElement(Me.e,null,a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,`Channels recommend release versions and help control the pace of updates.\n                    Update channels are tied to a minor version of OpenShift Container Platform,\n                    for example ${u}. To update to the next minor release, you may need to change\n                    the channel you're in.`),a().createElement(y.v,null,a().createElement(Rr,{href:`https://docs.openshift.com/container-platform/${u}/updating/updating-cluster-between-minor.html`,noIcon:!0},"Learn more about updating channels")))))))))};class qI extends r.Component{componentDidMount(){k(),document.title="Install OpenShift 4 | AWS ARM (Developer Preview)";const{dispatch:e}=this.props;e(fR.u.createAuthToken())}render(){const{token:e}=this.props,t=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:"AWS ARM Developer Preview"}]});return a().createElement(a().Fragment,null,a().createElement(GR,{title:"Install OpenShift Container Platform 4",breadcrumbs:t}),a().createElement(Ne.NP,null,a().createElement(R.Title,{headingLevel:"h3",size:"2xl"},"Developer Preview Builds for AWS (ARM)"),a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,null,a().createElement(ke.Card,{className:"ocm-c-pre-release__card"},a().createElement(Le.l,{className:"ocm-c-pre-release__card--header"},a().createElement(tD.ZP,null)," ",a().createElement("span",null,"Developer Preview")),a().createElement(Me.e,{className:"ocm-c-pre-release__card--body"},e.error&&a().createElement(uS,{token:e}),a().createElement(m.D,null,a().createElement(iD,null),a().createElement(b_,null),a().createElement(h.xv,{component:"p"},"These preview builds are advantageous for planning future deployments, ISV integrations, or other educational purposes."))))),a().createElement(y.v,null,a().createElement(ke.Card,{className:"ocm-c-pre-release-instructions__card"},a().createElement(Me.e,{className:"ocm-c-pre-release-instructions__card--body"},a().createElement(sD,{token:e,showPreReleaseDocs:!0,showPreReleasePageLink:!0,tool:Mo.rj.ARMINSTALLER,channel:Mo.ZW.STABLE,preReleaseDocsLink:Mo.ZP.AWS_ARM_DOCS,preReleasePageLink:"/install/arm/pre-release"})),a().createElement(Er.e,{className:"ocm-c-pre-release-instructions__card--footer"},a().createElement(m.D,null,a().createElement(h.xv,{component:"h3"},"Feedback and Support"),a().createElement(h.xv,{component:"p"},"If you are a Red Hat customer or partner and have feedback about these ARM preview builds, open an issue"," ",a().createElement(h.xv,{component:"a",href:Mo.ZP.AWS_ARM_GITHUB},"on our github repo"),". Do not use the formal Red Hat support service ticket process. You can read more about support handling in the following"," ",a().createElement(h.xv,{component:"a",href:Mo.ZP.INSTALL_PRE_RELEASE_SUPPORT_KCS,rel:"noreferrer noopener",target:"_blank"},"knowledge article"),"."))))))))}}qI.propTypes={token:l().object.isRequired,dispatch:l().func.isRequired};const UI=(0,i.connect)((e=>({token:e.tollbooth.token})))(qI);var zI=n(95855);function FI({isPending:e}){return a().createElement(a().Fragment,null,a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:Ea,name:"client_id",label:"Client ID",type:"text",validate:Za,isRequired:!0,disabled:e})),a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:Ea,name:"client_secret",label:"Client secret",type:"password",validate:Za,isRequired:!0,disabled:e})))}FI.propTypes={isPending:l().bool},FI.defaultProps={isPending:!1};const ZI=FI;var BI=n(82257),GI=n.n(BI);function HI(){return(HI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function VI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $I extends a().Component{constructor(...e){super(...e),VI(this,"state",{areFieldsFilled:[],touched:!1}),VI(this,"removeField",(e=>{const{fields:t}=this.props;t.remove(e),this.setState((({areFieldsFilled:t})=>{const n=[...t];return GI()(n,e),{areFieldsFilled:n}}))})),VI(this,"addNewField",(()=>{const{fields:e}=this.props;e.push({id:M()}),this.setState((({areFieldsFilled:e})=>{const t=[...e];return t.push(!1),{areFieldsFilled:t}}))}))}componentDidMount(){const{fields:e,meta:{submitFailed:t}}=this.props;t&&this.setState({touched:!0}),0===e.length?this.addNewField():this.setState({areFieldsFilled:e.map((e=>!!e))})}componentDidUpdate(e){const{meta:{submitFailed:t}}=this.props,n=e.meta.submitFailed;t&&!n&&this.setState({touched:!0})}onFieldChange(e,t,n){const{onFormChange:r}=this.props,{touched:a}=this.state;a||this.setState({touched:!0}),r&&r(e,t),this.setState((({areFieldsFilled:e})=>{const r=[...e];return r[n]=!!t,{areFieldsFilled:r}}))}render(){const{fields:e,fieldName:t,label:n,helpText:r,isRequired:s,disabled:l,validateField:i,placeholderText:o,fieldSpan:c=8,meta:{error:u}}=this.props,d=(n,r)=>{const{id:s}=e.get(r);return a().createElement(xe.P,{className:"field-grid-item",span:c},a().createElement(Ca.Z,{key:s,component:Ea,name:`${n}.${t}`,type:"text",placeholder:`${o} ${r+1}`,validate:i,disabled:l,onChange:(e,t)=>this.onFieldChange(e,t,r),onBlur:()=>{const{touched:e}=this.state;e||this.setState({touched:!0})}}))},{areFieldsFilled:m}=this.state,h=t=>t===e.length-1?a().createElement(xe.P,{className:"field-grid-item"},a().createElement(p.Button,{onClick:this.addNewField,icon:a().createElement(Ra.ZP,null),variant:"link",isDisabled:!Rp()(m)},"Add more")):null,g=(e,t)=>{const{touched:n}=this.state,{isGroupError:r}=this.props;return t&&0===e&&(n||r)?a().createElement(xe.P,{className:"field-grid-item pf-c-form__helper-text pf-m-error"},t):null},b=t=>{const n=0===t&&1===e.length;return a().createElement(xe.P,{className:"field-grid-item minus-button",span:1},a().createElement(um,{disableReason:n&&"You cannot delete the only item",tooltipProps:{position:"right",distance:0},onClick:()=>this.removeField(t),icon:a().createElement(Sa.ZP,null),variant:"link"}))};return a().createElement(a().Fragment,null,e.map(((t,l)=>a().createElement(a().Fragment,{key:`${e.get(l).id}`},(e=>0===e?a().createElement(xe.P,{className:"field-array-title",span:c},a().createElement("p",{className:"pf-c-form__label-text",id:"field-array-label"},n,s?a().createElement("span",{className:"pf-c-form__label-required"},"*"):null),r?a().createElement("p",{className:"pf-c-form__helper-text",id:"field-array-help-text"},r):null):null)(l),d(t,l),b(l),g(l,u),h(l)))))}}$I.propTypes={fieldName:l().string.isRequired,label:l().string.isRequired,helpText:l().string.isRequired,isRequired:l().bool,disabled:l().bool,fields:l().object.isRequired,validateField:l().oneOfType([l().func,l().array]),placeholderText:l().string,fieldSpan:l().number,onFormChange:l().func,meta:l().shape({error:l().string,submitFailed:l().bool}),isGroupError:l().bool};const QI=function(e){const{fieldName:t}=e;return a().createElement(TO.Z,HI({name:t,component:$I},e))};function WI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class YI extends a().Component{constructor(...e){super(...e),WI(this,"state",{fileName:"",errorMessage:"",certValue:"",showCAText:!1}),WI(this,"fileUpload",(e=>{const{input:t}=this.props,n=e.target.files[0];if(n.size>4e6)this.setState({errorMessage:"Maximum file size exceeded. File size limit is 4MB"});else{const e=new FileReader;e.onload=()=>{this.setState({fileName:n.name,errorMessage:"",certValue:e.result,showCAText:!0}),t.onChange(e.result)},e.readAsText(n,"UTF-8")}})),WI(this,"updateCertificateValue",(e=>{const{input:t}=this.props;t.onChange(e||" "),this.setState({fileName:"",certValue:e})}))}componentDidMount(){const{certValue:e}=this.props;e&&""!==e&&this.setState({showCAText:!0,certValue:e})}revealValue(e){this.setState({showCAText:e})}render(){const{label:e,helpText:t,extendedHelpText:n,isRequired:r,input:s,isDisabled:l}=this.props,{errorMessage:i,fileName:o,certValue:c,showCAText:u}=this.state,d="pf-c-button pf-m-tertiary co-btn-file",m=l?`${d} pf-m-disabled`:d,h=!l&&""!==c&&u;return a().createElement(Gr.c,{className:"ca-upload",fieldId:s.name,validated:i?"error":"default",label:e,helperText:t,helperTextInvalid:i,isRequired:r},n&&a().createElement(Xr,{hint:n}),a().createElement(da.InputGroup,null,a().createElement(ca.TextInput,{value:o,isRequired:r,id:s.name,name:s.name,isReadOnly:!0}),a().createElement("span",{className:m},a().createElement("input",{type:"file",onChange:this.fileUpload,disabled:l,accept:".pem,.crt,.ca,.cert,application/x-pem-file,application/x-x509-ca-cert,text/plain"}),"Browse")),h?a().createElement(a().Fragment,null,a().createElement(p.Button,{variant:"link",onClick:()=>this.revealValue(!1)},"Hide"),a().createElement(ua.TextArea,{value:c,id:`${s.name}_text`,name:`${s.name}_text`,onChange:this.updateCertificateValue,className:"ca-textarea"})):a().createElement(a().Fragment,null,a().createElement(p.Button,{variant:"link",onClick:()=>this.revealValue(!0),isDisabled:""===c||l},"Reveal")))}}YI.defaultProps={helpText:"",isRequired:!1},YI.propTypes={label:l().string.isRequired,helpText:l().string,extendedHelpText:l().string,isDisabled:l().bool,input:l().object.isRequired,isRequired:l().bool,certValue:l().string};const KI=YI;function JI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class XI extends a().Component{constructor(...e){super(...e),JI(this,"state",{authMode:"",hostnameRequired:!1}),JI(this,"toggleHostnameRequired",((e,t)=>{t&&""!==t.trim()?this.setState({hostnameRequired:!0}):this.setState({hostnameRequired:!1})})),JI(this,"onAuthModeChange",((e,t)=>{this.setState({authMode:t})}))}componentDidMount(){const{isEditForm:e,idpEdited:t}=this.props;e?(t.github.ca&&this.setState({hostnameRequired:!0}),this.setState({authMode:t.github.organizations?"organizations":"teams"})):this.setState({authMode:"organizations"})}render(){const{isPending:e,idpEdited:t,isEditForm:n}=this.props,{authMode:r,hostnameRequired:s}=this.state;return a().createElement(a().Fragment,null,a().createElement(ZI,null),a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:Ea,name:"hostname",label:"Hostname",type:"text",disabled:e,validate:s?Za:_,isRequired:s,extendedHelpText:"You can use the GitHub integration to connect to either GitHub or GitHub Enterprise. For GitHub Enterprise, you must provide the hostname of your instance and, optionally, provide a CA certificate bundle to use in requests to the server.",helpText:"Optional domain to use with a hosted instance of GitHub Enterprise."})),a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:KI,name:"github_ca",label:"CA file",type:"text",helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured GitHub Enterprise URL.",isDisabled:e,onChange:(e,t)=>this.toggleHostnameRequired(e,t),certValue:n?t.github.ca:""})),a().createElement(xe.P,{span:8},a().createElement(Op.Divider,null),a().createElement(R.Title,{headingLevel:"h3",size:"xl",className:"pf-u-mt-lg"},"Organizations or teams"),a().createElement("p",null,"Github authentication lets you use either GitHub organizations or GitHub teams to restrict access."),a().createElement("p",{className:"idp-github-auth-mode-selection-question"},"Do you want to use GitHub organizations, or GitHub teams?"),a().createElement(Ca.Z,{component:LO,name:"github_auth_mode",defaultValue:r,options:[{value:"organizations",label:"Use organizations"},{value:"teams",label:"Use teams"}],onChange:this.onAuthModeChange})),"organizations"===r?a().createElement(QI,{fieldName:"organizations",label:"Organizations",type:"text",isRequired:!0,placeholderText:"e.g. org",disabled:e,helpText:"Only users that are members of at least one of the listed organizations will be allowed to log in.",validate:is("organizations")}):a().createElement(QI,{fieldName:"teams",label:"Teams",type:"text",isRequired:!0,placeholderText:"e.g. org/team",disabled:e,helpText:"Only users that are members of at least one of the listed teams will be allowed to log in. The format is <org>/<team>.",validateField:Qa,key:"teams",validate:is("teams")}))}}XI.propTypes={isPending:l().bool,isEditForm:l().bool,idpEdited:l().object},XI.defaultProps={isPending:!1};const eA=XI;function tA({isPending:e,isRequired:t}){return a().createElement(a().Fragment,null,a().createElement(ZI,null),a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:Ea,name:"hosted_domain",label:"Hosted domain",type:"text",helpText:"Restrict users to a Google Apps domain",disabled:e,isRequired:t,validate:t?Za:null})))}tA.propTypes={isPending:l().bool,isRequired:l().bool},tA.defaultProps={isPending:!1,isRequired:!1};const nA=tA;function rA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class aA extends a().Component{constructor(...e){super(...e),rA(this,"state",{isInsecure:!1,caDisabledHelpText:""}),rA(this,"toggleCADisabled",((e,t)=>{t?this.setState({isInsecure:!0,caDisabledHelpText:"Cannot be used if insecure is set."}):this.setState({isInsecure:!1,caDisabledHelpText:""})}))}componentDidMount(){const{isEditForm:e,idpEdited:t}=this.props;this.setState({isInsecure:!!e&&t.ldap.insecure,caDisabledHelpText:""})}render(){const{isPending:e,isEditForm:t,idpEdited:n}=this.props,{isInsecure:r,caDisabledHelpText:s}=this.state;return a().createElement(a().Fragment,null,a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:KI,name:"ldap_ca",label:"CA file",helpText:`PEM encoded certificate bundle to use to validate server certificates for the configured URL. ${s}`,isDisabled:r||e,certValue:t&&!r?n.ldap.ca:""})),a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:na,name:"ldap_insecure",label:"Insecure",isDisabled:e,onChange:this.toggleCADisabled})))}}aA.propTypes={isPending:l().bool,isEditForm:l().bool,idpEdited:l().object},aA.defaultProps={isPending:!1};const sA=aA;function lA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class iA extends a().Component{constructor(...e){super(...e),lA(this,"state",{hasBindDN:!1}),lA(this,"toggleBindPasswordDisabled",((e,t)=>{t?this.setState({hasBindDN:!0}):this.setState({hasBindDN:!1})}))}componentDidMount(){const{isEditForm:e,idpEdited:t}=this.props;e&&t.ldap.bind_dn&&""!==t.ldap.bind_dn&&this.setState({hasBindDN:!0})}render(){const{isPending:e}=this.props,{hasBindDN:t}=this.state;return a().createElement(a().Fragment,null,a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:Ea,name:"ldap_url",label:"LDAP URL",type:"text",disabled:e,validate:Za,isRequired:!0,helpText:"An RFC 2255 URL which specifies the LDAP search parameters to use."})),a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:Ea,name:"bind_dn",label:"Bind DN",type:"text",disabled:e,onChange:this.toggleBindPasswordDisabled,helpText:"DN to bind with during the search phase."})),a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:Ea,name:"bind_password",label:"Bind password",type:"password",helpText:t?"Password to bind with during the search phase.":"Cannot be used if Bind DN is not set",disabled:!t||e,validate:t?Za:void 0,isRequired:t})),a().createElement(xe.P,{span:8},a().createElement(Op.Divider,null),a().createElement(R.Title,{headingLevel:"h3",size:"xl",className:"idp-helptext-heading"},"Attributes"),a().createElement("p",null,"Attributes map LDAP attributes to identities.")),a().createElement(QI,{fieldName:"ldap_id",label:"ID",type:"text",placeholderText:"e.g. id",disabled:e,isRequired:!0,validateField:Za,helpText:"The list of attributes whose values should be used as the user ID."}),a().createElement(QI,{fieldName:"ldap_preferred_username",label:"Preferred username",type:"text",placeholderText:"e.g. preferred_username",disabled:e,helpText:"The list of attributes whose values should be used as the preferred username."}),a().createElement(QI,{fieldName:"ldap_name",label:"Name",type:"text",placeholderText:"e.g. name",disabled:e,helpText:"The list of attributes whose values should be used as the display name."}),a().createElement(QI,{fieldName:"ldap_email",label:"Email",type:"text",placeholderText:"e.g. email",disabled:e,helpText:"The list of attributes whose values should be used as the email address."}))}}iA.propTypes={isPending:l().bool,isEditForm:l().bool,idpEdited:l().object},iA.defaultProps={isPending:!1};const oA=iA;function cA({isPending:e,isEditForm:t,idpEdited:n}){return a().createElement(a().Fragment,null,a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:KI,name:"openid_ca",label:"CA file",helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured URL",isDisabled:e,certValue:t?n.open_id.ca:""})),a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:Ea,name:"openid_extra_scopes",label:"Additional scopes",type:"text",placeholder:"e.g. scope1, scope2",disabled:e})))}cA.propTypes={isPending:l().bool,isEditForm:l().bool,idpEdited:l().object},cA.defaultProps={isPending:!1};const uA=cA;function dA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class pA extends a().Component{constructor(...e){super(...e),dA(this,"state",{isGroupError:!1}),dA(this,"validate",((e,t)=>{if(tv(t.openid_preferred_username,"openid_preferred_username")&&tv(t.openid_name,"openid_name")&&tv(t.openid_email,"openid_email"))return"At least one claim is required"})),dA(this,"onValueChange",(()=>{this.setState({isGroupError:!0})}))}render(){const{isPending:e}=this.props,{isGroupError:t}=this.state;return a().createElement(a().Fragment,null,a().createElement(ZI,null),a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:Ea,name:"issuer",label:"Issuer URL",type:"text",disabled:e,validate:Ha,isRequired:!0,helpText:"The URL that the OpenID provider asserts as the issuer identifier. It must use the https scheme with no URL query parameters or fragment."})),a().createElement(xe.P,{span:8},a().createElement("h4",null,"Claims mappings")),a().createElement(QI,{fieldName:"openid_email",label:"Email",type:"text",placeholderText:"e.g. email",disabled:e,helpText:"The list of attributes whose values should be used as the email address.",validate:this.validate,isGroupError:t,onFormChange:this.onValueChange,isRequired:!0}),a().createElement(QI,{fieldName:"openid_name",label:"Name",type:"text",placeholderText:"e.g. name",disabled:e,validate:this.validate,isGroupError:t,onFormChange:this.onValueChange,helpText:"The end user's full name including all name parts, ordered according to the end user's locale and preferences.",isRequired:!0}),a().createElement(QI,{fieldName:"openid_preferred_username",label:"Preferred username",type:"text",placeholderText:"e.g. preferred_username",disabled:e,validate:this.validate,isGroupError:t,onFormChange:this.onValueChange,helpText:"Shorthand name by which the end user wishes to be referred to at the RP, such as janedone or j.doe.",isRequired:!0}))}}pA.propTypes={isPending:l().bool},pA.defaultProps={isPending:!1};const mA=pA;function hA({isPending:e,isEditForm:t,idpEdited:n}){return a().createElement(a().Fragment,null,a().createElement(ZI,null),a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:Ea,name:"gitlab_url",label:"URL",type:"text",validate:Za,isRequired:!0,disabled:e,helpText:"The URL of your GitLab provider.This would be https://gitlab.com/ if you do not have hosted GitLab."})),a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:KI,name:"gitlab_ca",label:"CA file",type:"text",disabled:e,helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured Gitlab URL.",certValue:t?n.gitlab.ca:""})))}hA.propTypes={isPending:l().bool,isEditForm:l().bool,idpEdited:l().object},hA.defaultProps={isPending:!1};const gA=hA;var bA=n(94228),EA=n(80858);function fA(){return(fA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vA=()=>{const e="abcdefghijklmnopqrstuvwxyz",t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="0123456789\\!\"#$%&'()*+,-./:;<=>?@[]^_`{|}~",r=`${e}${t}${n}`,a=e=>{const t=(e=>{const t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]%e.length})(e);return{index:t,value:e[t]}},s=new Array(14).fill(null).map((()=>a(r).value)),l=s.map(((e,t)=>t)),i=a(l);s[i.value]=a(t).value,l.splice(i.index,1);const o=a(l);return s[o.value]=a(e).value,l.splice(o.index,1),s[a(l).value]=a(n).value,l.splice(o.index,1),s.join("")};class OA extends a().Component{constructor(...e){super(...e),yA(this,"state",{useSuggestedUsername:!0,suggestedUsername:`admin-${6,btoa(Math.random()).substr(5,6)}`,useSuggestedPassword:!0,suggestedPassword:vA()}),yA(this,"radioControlledInputGroup",(e=>{let{isPassword:t=!1,suggestedValueRadioLabel:n,createOwnRadioLabel:r,label:s,helpText:l,input:i,isPending:o}=e,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["isPassword","suggestedValueRadioLabel","createOwnRadioLabel","label","helpText","input","isPending"]);const{useSuggestedPassword:u,useSuggestedUsername:d,suggestedPassword:p,suggestedUsername:m}=this.state,h=t?p:m,g=t?u:d;return a().createElement(a().Fragment,null,a().createElement(v.K,null,a().createElement(y.v,{className:"pf-c-form__group-label"},a().createElement("p",{className:"pf-c-form__label-text field-label"},s,a().createElement("span",{className:"pf-c-form__label-required"},"*"))),a().createElement(y.v,{className:"field-radio-control"},a().createElement(fa.Radio,{label:n,id:`use-suggested-${s.toLowerCase()}`,isChecked:g,onChange:()=>{this.setState({[t?"useSuggestedPassword":"useSuggestedUsername"]:!0}),i.onChange(h)}})),a().createElement(y.v,{className:"field-radio-control"},a().createElement(fa.Radio,{label:r,id:`create-own-${s.toLowerCase()}`,isChecked:!g,onChange:()=>{this.setState({[t?"useSuggestedPassword":"useSuggestedUsername"]:!1}),i.onChange("")}})),!g&&a().createElement(y.v,null,a().createElement(Ea,fA({name:i.name,type:"text",disabled:o,validate:Za,helpText:l,input:i,isPassword:t},c)))))}))}componentDidMount(){const{change:e}=this.props,{suggestedUsername:t,suggestedPassword:n}=this.state;e("htpasswd_password",n),e("htpasswd_username",t)}render(){const{isPending:e,HTPasswdPasswordErrors:t}=this.props,{suggestedUsername:n,suggestedPassword:r}=this.state,s=e=>(null==t?void 0:t.emptyPassword)?"default":void 0===t?"success":t[e]?"error":"success",l=e=>{switch(s(e)){case"success":return a().createElement(Xt.ZP,null);case"error":return a().createElement(Re.ZP,null);default:return a().createElement("span",null,"")}},i=a().createElement(bA.p,null,a().createElement(EA.u,{isDynamic:!0,variant:s("baseRequirements"),icon:l("baseRequirements")},"At least 14 characters (ASCII-standard) without whitespaces"),a().createElement(EA.u,{isDynamic:!0,variant:s("lowercase"),icon:l("lowercase")},"Include lowercase letters"),a().createElement(EA.u,{isDynamic:!0,variant:s("uppercase"),icon:l("uppercase")},"Include uppercase letters"),a().createElement(EA.u,{isDynamic:!0,variant:s("numbersOrSymbols"),icon:l("numbersOrSymbols")},"Include numbers or symbols (ASCII-standard characters only)"));return a().createElement(a().Fragment,null,a().createElement(xe.P,{span:8,className:"htpasswd-form"},a().createElement(Ca.Z,{component:this.radioControlledInputGroup,suggestedValueRadioLabel:a().createElement("span",null,"Use suggested username:"," ",a().createElement("span",{className:"suggestion"},n)),createOwnRadioLabel:"Create your own username",name:"htpasswd_username",label:"Username",type:"text",validate:[Za,bs],isRequired:!0,disabled:e,helpText:"Unique name of the user within the cluster. Username must not contain /, :, or %."})),a().createElement(xe.P,{span:8,className:"htpasswd-form"},a().createElement(Ca.Z,{component:this.radioControlledInputGroup,isPassword:!0,hasOtherValidation:!0,suggestedValueRadioLabel:a().createElement("span",null,"Use suggested password:"," ",a().createElement("span",{className:"suggestion"},r)),createOwnRadioLabel:"Create your own password",name:"htpasswd_password",label:"Password",type:"text",validate:gs,isRequired:!0,disabled:e,helpText:i})),a().createElement(xe.P,{span:8},a().createElement(Ur.bZ,{isInline:!0,variant:"info",title:"Securely store your username and password"},"If you lose these credentials, you will have to delete and recreate the cluster admin user.")))}}OA.propTypes={isPending:l().bool,change:l().func,input:l().object,HTPasswdPasswordErrors:{emptyPassword:l().bool,baseRequirements:l().bool,uppercase:l().bool,lowercase:l().bool,numbers:l().bool}},OA.defaultProps={isPending:!1};const CA=OA;function RA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class SA extends a().Component{constructor(...e){super(...e),RA(this,"state",{IDPName:"",isExpanded:!1}),RA(this,"checkDuplicateName",(e=>{const{IDPList:t,isEditForm:n}=this.props;if(t.map((e=>e.name)).includes(e)&&!n)return`The name "${e}" is already taken. Identity provider names must not be duplicate.`})),RA(this,"checkIfExpandable",((e,t)=>{if(e===Ly.OPENID){if(""!==t.open_id.openid_extra_scopes||""!==t.open_id.openid_ca)return!0}else if(e===Ly.LDAP&&(""!==t.ldap.ldap_ca||""!==t.ldap.ldap_insecure))return!0;return!1})),RA(this,"updateIsExpanded",(()=>{const{isExpanded:e}=this.state;this.setState({isExpanded:!e})}))}componentDidMount(){const{selectedIDP:e,isEditForm:t,idpEdited:n,idpName:r}=this.props;this.setState({IDPName:r}),t&&this.setState({isExpanded:this.checkIfExpandable(e,n)})}componentDidUpdate(e){const{selectedIDP:t,change:n,IDPList:r,isEditForm:a}=this.props,{IDPName:s}=this.state;if(!a&&t!==e.selectedIDP){const e=By(t,r);e!==s&&(n("name",e),this.setState({IDPName:e}))}}render(){const{submitIDPResponse:e,selectedMappingMethod:t,clusterConsoleURL:n,isEditForm:r,idpEdited:s,change:l,selectedIDP:i,idpTypeName:o,formTitle:c,HTPasswdPasswordErrors:u}=this.props,{IDPName:d,isExpanded:p}=this.state,m=e.pending;let h;e.error&&(h=r?a().createElement(Fr,{title:"Error updating Identity Provider",response:e}):a().createElement(Fr,{title:"Error creating Identity Provider",response:e}));const g={LDAPIdentityProvider:Vy,OpenIDIdentityProvider:Wy,GithubIdentityProvider:$y,GoogleIdentityProvider:Qy,GitlabIdentityProvider:Yy,HTPasswdIdentityProvider:Ky},b={LDAPIdentityProvider:oA,OpenIDIdentityProvider:mA,GithubIdentityProvider:eA,GoogleIdentityProvider:nA,GitlabIdentityProvider:gA,HTPasswdIdentityProvider:CA}[i],E={OpenIDIdentityProvider:uA,LDAPIdentityProvider:sA}[i];return a().createElement(qr.l,null,a().createElement(je.r,{id:"identity-provider-form",hasGutter:!0},a().createElement(xe.P,{span:8},a().createElement(R.Title,{headingLevel:"h3",size:"xl"},c)),h&&a().createElement(xe.P,{span:8},h),(e=>{let t=null;switch(e){case Ly.HTPASSWD:t=a().createElement(a().Fragment,null,"Define an"," ",a().createElement("code",null,"htpasswd")," ","identity provider for your managed cluster to create a single, static user that can log in to your cluster and troubleshoot it. If this user needs elevated permissions, add it to an"," ",a().createElement(Rr,{href:"https://access.redhat.com/documentation/en-us/openshift_dedicated/4/html/administering_a_cluster/dedicated-administrator-role#dedicated-admin-granting-permissions_dedicated-administrator"},"administrative group")," ","within your organization.");break;case Ly.OPENID:t=a().createElement(a().Fragment,null,"Configure an"," ",a().createElement("code",null,"oidc")," ","identity provider to integrate with an OpenID Connect identity provider using an"," ",a().createElement(Rr,{href:"http://openid.net/specs/openid-connect-core-1_0.html#CodeFlowAuth"},"Authorization Code Flow"),".");break;case Ly.LDAP:t=a().createElement(a().Fragment,null,"Configure the"," ",a().createElement("code",null,"ldap")," ","identity provider to validate user names and passwords against an LDAPv3 server, using simple bind authentication.");break;case Ly.GITHUB:t=a().createElement(a().Fragment,null,"Configure a"," ",a().createElement("code",null,"github")," ","identity provider to validate user names and passwords against GitHub or GitHub Enterprises OAuth authentication server.");break;case Ly.GITLAB:t=a().createElement(a().Fragment,null,"Configure a"," ",a().createElement("code",null,"gitlab")," ","identity provider to use"," ",a().createElement(Rr,{href:"https://gitlab.com/"},"GitLab.com")," ","or any other GitLab instance as an identity provider.");break;case Ly.GOOGLE:t=a().createElement(a().Fragment,null,"Configure a"," ",a().createElement("code",null,"google")," ","identity provider using"," ",a().createElement(Rr,{href:"https://developers.google.com/identity/protocols/OpenIDConnect"},"Googles OpenID Connect integration"),".");break;default:return null}return a().createElement(xe.P,{span:9},t)})(i),!r&&a().createElement(xe.P,{span:8},a().createElement(Rr,{href:g[i]},"Learn more about"," ",o," ","identity providers")),a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:Ea,name:"name",label:"Name",type:"text",validate:[Ga,this.checkDuplicateName],isRequired:!0,disabled:m||r,onChange:(e,t)=>this.setState({IDPName:t}),helpText:"Unique name for the identity provider. This cannot be changed later."})),Zy(i)&&a().createElement(xe.P,{span:8},a().createElement("div",null,a().createElement("span",{className:"pf-c-form__label pf-c-form__label-text pf-u-mb-sm"},"OAuth callback URL"),a().createElement(Qo.M5,{isReadOnly:!0},Fy(n,d)))),i!==Ly.HTPASSWD&&a().createElement(xe.P,{span:8},a().createElement(Ca.Z,{component:oa,options:zy,name:"mappingMethod",label:"Mapping method",helpText:"Specifies how new identities are mapped to users when they log in. Claim is recommended in most cases.",value:s.mapping_method})),b&&a().createElement(b,{isPending:m,isRequired:i===Ly.GOOGLE&&!(t===ky),isEditForm:r,idpEdited:s,change:l,HTPasswdPasswordErrors:u}),E&&a().createElement(xe.P,{span:8},a().createElement(V.L,{toggleTextCollapsed:"Show advanced options",toggleTextExpanded:"Hide advanced options",isExpanded:p,onToggle:()=>this.updateIsExpanded()},a().createElement(E,{isPending:m,isEditForm:r,idpEdited:s})))))}}SA.propTypes={clusterConsoleURL:l().string,submitIDPResponse:l().object,selectedIDP:l().string,selectedMappingMethod:l().string,change:l().func.isRequired,IDPList:l().array.isRequired,isEditForm:l().bool,idpEdited:l().object,idpName:l().string,HTPasswdPasswordErrors:l().object,idpTypeName:l().string,formTitle:l().string},SA.defaultProps={selectedIDP:"GithubIdentityProvider",clusterConsoleURL:""};const PA=SA;class wA extends a().Component{componentDidMount(){const{fetchDetails:e,clusterDetails:t,getClusterIDPs:n,match:r}=this.props,{cluster:a}=t;document.title="Red Hat OpenShift Cluster Manager",k();const s=r.params.id;I(s)&&T()(a,"subscription.id","")!==s?e(s):T()(a,"subscription.id","")===s&&n(a.id)}componentDidUpdate(e){var t,n,r;const{match:a,clusterDetails:s,getClusterIDPs:l}=this.props,i=a.params.id;if(T()(s,"cluster.subscription.id")===i){const e=en(s.cluster);document.title=`${e} | Red Hat OpenShift Cluster Manager`}if((null===(t=e.clusterDetails)||void 0===t||null===(n=t.cluster)||void 0===n||!n.id)&&s.fulfilled&&null!=s&&null!==(r=s.cluster)&&void 0!==r&&r.id){const{cluster:e}=s,t=T()(e,"id"),n=T()(s,"cluster.managed",!1),r=T()(e,"subscription.status");I(t)&&r!==ee.Ij.DEPROVISIONED&&n&&l(t)}}componentWillUnmount(){const{resetResponse:e,resetForm:t}=this.props;e(),t()}render(){const{clusterDetails:e,match:t,clusterIDPs:n,setGlobalError:r,handleSubmit:s,submitIDPResponse:l,selectedMappingMethod:i,change:c,IDPList:u,clusterConsoleURL:d,initialValues:m,idpEdited:h,editedType:g,isEditForm:b,selectedIDP:f,pristine:y,invalid:v,HTPasswdPasswordErrors:R}=this.props,{cluster:S}=e;if(l.fulfilled)return a().createElement(Ud.l_,{to:`/details/s/${S.subscription.id}#accessControl`});const P=t.params.id,w=T()(S,"subscription.id")!==P&&!e.error,D=T()(n,"pending",!1);if(w||D)return a().createElement("div",{id:"clusterdetails-content"},a().createElement("div",{className:"cluster-loading-container"},a().createElement(E.Z,{centered:!0})));if(e.error&&(!S||T()(S,"subscription.id")!==P))return 404===e.errorCode||403===e.errorCode?(r(a().createElement(a().Fragment,null,"Cluster with subscription ID"," ",a().createElement("b",null,P)," ","was not found, it might have been deleted or you don't have permission to see it."),"identityProvidersPage",e.errorMessage),a().createElement(Ud.l_,{to:"/"})):a().createElement(a().Fragment,null,a().createElement(K,{message:"Error retrieving IDP page",response:e}),w&&a().createElement(E.Z,null));if(!T()(e,"cluster.managed",!1))return r(a().createElement(a().Fragment,null,"Cluster with subscription ID"," ",a().createElement("b",null,P)," ","is not a managed cluster."),"identityProvidersPage","Go to the cluster's console to see and edit identity providers."),a().createElement(Ud.l_,{to:"/"});if(!b&&!f||b&&n.fulfilled&&!g)return a().createElement(Ud.l_,{to:`/details/s/${S.subscription.id}#accessControl`});const _=xy[f],I=b?`Edit identity provider: ${h.name}`:`Add identity provider: ${_}`,A=en(e.cluster),N=b?I:`Add ${qy[f]} identity provider`;return a().createElement(a().Fragment,null,a().createElement(qe.Z,null,a().createElement(ym,{path:[{label:"Clusters"},{label:A,path:`/details/s/${S.subscription.id}`},{label:"Access control",path:`/details/s/${S.subscription.id}#accessControl`},{label:I}]}),a().createElement(Ue.Z,{title:I})),a().createElement(Ne.NP,null,a().createElement(ke.Card,null,a().createElement(Me.e,null,a().createElement(je.r,null,a().createElement(xe.P,{sm:12,md:8,lg:8},n.fulfilled?a().createElement(PA,{selectedIDP:f,idpTypeName:_,formTitle:N,submitIDPResponse:l,selectedMappingMethod:i,clusterConsoleURL:d,change:c,IDPList:u,isEditForm:b,idpEdited:h,idpName:m.name,HTPasswdPasswordErrors:R}):a().createElement(E.Z,null)))),a().createElement(Er.e,null,a().createElement(O.P,{hasGutter:!0},a().createElement(C.J,null,a().createElement(p.Button,{variant:"primary",type:"submit",isDisabled:y||v,onClick:s},b?"Save":"Add")),a().createElement(C.J,null,a().createElement(o.Link,{to:`/details/s/${S.subscription.id}#accessControl`},a().createElement(p.Button,{variant:"secondary"},"Cancel"))))))))}}wA.propTypes={match:l().object.isRequired,fetchDetails:l().func.isRequired,getClusterIDPs:l().func.isRequired,isEditForm:l().bool,clusterIDPs:l().object.isRequired,clusterDetails:l().shape({cluster:l().object,error:l().bool,errorCode:l().oneOfType([l().number,l().string]),errorMessage:l().oneOfType([l().string,l().node,l().element]),fulfilled:l().bool,pending:l().bool}),setGlobalError:l().func.isRequired,clusterConsoleURL:l().string,resetResponse:l().func.isRequired,resetForm:l().func.isRequired,handleSubmit:l().func.isRequired,submitIDPResponse:l().object,selectedMappingMethod:l().string,change:l().func.isRequired,IDPList:l().array.isRequired,idpEdited:l().object,editedType:l().string,initialValues:l().shape({idpId:l().string,name:l().string}).isRequired,selectedIDP:l().oneOf(l().string,l().bool),pristine:l().bool.isRequired,invalid:l().bool.isRequired,HTPasswdPasswordErrors:l().object},wA.defaultProps={clusterDetails:{cluster:null,error:!1,errorMessage:"",fulfilled:!1},isEditForm:!1};const TA=wA;function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DA(Object(n),!0).forEach((function(t){IA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const AA={form:"CreateIdentityProvider",enableReinitialize:!0,onSubmitFail:U},NA=(0,vc.Z)(AA)(TA),LA=(e,t)=>t?{idpId:e.id,type:e.type,name:e.name,client_id:e[t].client_id,client_secret:"CLIENT_SECRET",mappingMethod:e.mapping_method,selectedIDP:e.type,gitlab_url:e[t].url,issuer:e[t].issuer,openid_name:Jy(e[t].claims,"name"),openid_email:Jy(e[t].claims,"email"),openid_preferred_username:Jy(e[t].claims,"preferred_username"),openid_extra_scopes:e[t].extra_scopes?e[t].extra_scopes.join():"",hosted_domain:e[t].hosted_domain,ldap_id:Xy(e[t].attributes,"id"),ldap_preferred_username:Xy(e[t].attributes,"preferred_username"),ldap_name:Xy(e[t].attributes,"name"),ldap_email:Xy(e[t].attributes,"email"),ldap_url:e[t].url,bind_dn:e[t].bind_dn,bind_password:e[t].bind_dn?"BIND_PASSWORD":"",ldap_insecure:e[t].insecure,hostname:e[t].hostname,teams:ev(e[t]),organizations:ev(e[t])}:{},MA=(0,i.connect)(((e,t)=>{let n={},r="",a="";const s=(0,hu.Z)("CreateIdentityProvider"),l=(0,zI.Z)("CreateIdentityProvider"),i=e.identityProviders.clusterIdentityProviders,o=i.clusterIDPList||[],c=Ly.GITHUB,{match:u,isEditForm:d}=t;return d?i.fulfilled&&(n=o.find((e=>e.name===u.params.idpName))||{},r=T()(Uy,n.type,""),a=n.type):a=T()(Ly,u.params.idpTypeName.toUpperCase(),!1),{clusterDetails:e.clusters.details,clusterID:e.clusters.details.cluster.id,clusterConsoleURL:T()(e.clusters.details.cluster,"console.url"),selectedIDP:a,submitIDPResponse:d?e.identityProviders.editClusterIDP:e.identityProviders.createdClusterIDP,idpEdited:n,editedType:r,isEditForm:d,initialValues:d?LA(n,r):{idpId:null,type:a||c,name:By(a||c,o),client_id:"",client_secret:"",mappingMethod:"claim",selectedIDP:a||c,ldap_id:[{ldap_id:"dn",id:"default"}],ldap_preferred_username:[{ldap_preferred_username:"uid",id:"default"}],ldap_name:[{ldap_name:"cn",id:"default"}]},selectedMappingMethod:s(e,"mappingMethod"),clusterIDPs:i,IDPList:o,HTPasswdPasswordErrors:T()(l(e,"htpasswd_password"),"htpasswd_password",void 0)}}),(e=>_A(_A({fetchDetails:t=>e(or(t))},(0,Tm.bindActionCreators)({clearGlobalError:Ec,setGlobalError:bc},e)),{},{onSubmit:(t,n)=>{const r=(e=>{const t={GithubIdentityProvider:{name:"github",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),organizations:"organizations"===e.github_auth_mode?N(e,"organizations"):void 0,teams:"teams"===e.github_auth_mode?N(e,"teams"):void 0,hostname:e.hostname,ca:e.github_ca?e.github_ca.trim():e.github_ca})},GoogleIdentityProvider:{name:"google",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),hosted_domain:e.hosted_domain})},OpenIDIdentityProvider:{name:"open_id",data:()=>({ca:e.openid_ca?e.openid_ca.trim():e.openid_ca,claims:{email:N(e,"openid_email"),name:N(e,"openid_name"),preferred_username:N(e,"openid_preferred_username")},client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),extra_scopes:A(e.openid_extra_scopes),issuer:e.issuer})},LDAPIdentityProvider:{name:"ldap",data:()=>({attributes:{id:N(e,"ldap_id"),email:N(e,"ldap_email"),name:N(e,"ldap_name"),preferred_username:N(e,"ldap_preferred_username")},bind_dn:e.bind_dn,bind_password:e.bind_password,insecure:e.ldap_insecure,url:e.ldap_url,ca:Gy(e)})},GitlabIdentityProvider:{name:"gitlab",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),url:e.gitlab_url,ca:e.gitlab_ca?e.gitlab_ca.trim():e.gitlab_ca})},HTPasswdIdentityProvider:{name:"htpasswd",data:()=>({username:e.htpasswd_username,password:e.htpasswd_password})}},n={type:e.type,name:e.name,id:e.idpId},r=t[e.type].data(),a=t[e.type].name;return"htpasswd"!==a&&(n.mapping_method=e.mappingMethod||My),e.idpId&&""!==e.idpId&&(delete n.name,"CLIENT_SECRET"===r.client_secret&&delete r.client_secret,r.bind_password&&"BIND_PASSWORD"===r.bind_password&&delete r.bind_password),Ay(Ay({},n),{},{[a]:Ay({},r)})})(t);r.id?e(((e,t)=>n=>n({type:Ry.pn.UPDATE_CLUSTER_IDENTITY_PROVIDER,payload:xt.le.editClusterIdentityProvider(e,t).then((e=>e))}))(n,r)):e(((e,t)=>n=>n({type:Ry.pn.CREATE_CLUSTER_IDENTITY_PROVIDER,payload:xt.le.createClusterIdentityProvider(e,t).then((e=>e))}))(n,r))},resetResponse:()=>e((e=>e({type:Ry.pn.RESET_CREATED_CLUSTER_IDP_RESPONSE}))),resetForm:()=>e((0,Qv.mc)("CreateIdentityProvider")),getClusterIDPs:t=>e(Sy(t))})),((e,t,n)=>_A(_A(_A(_A({},n),e),t),{},{onSubmit:n=>{t.onSubmit(n,e.clusterID)}})))(NA),kA=({children:e,textAriaLabel:t})=>a().createElement(h.xv,{component:"pre",className:"ocm-instructions__command"},a().createElement(Qo.M5,{isReadOnly:!0,textAriaLabel:t},e));kA.propTypes={children:l().node,textAriaLabel:l().string};const jA=kA,xA=({getAuthToken:e,token:t})=>{const n="Red Hat OpenShift Service on AWS",r=`Welcome to ${n} (ROSA)`;a().useEffect((()=>{k(),e(),document.title=`${r} | Red Hat OpenShift Cluster Manager`}),[]);const s=a().createElement(ym,{path:[{label:"Clusters"},{label:"Create",path:"/create"},{label:n}]}),l=window.location.pathname;return a().createElement(a().Fragment,null,a().createElement(GR,{breadcrumbs:s,title:r},a().createElement(je.r,{hasGutter:!0,className:"pf-u-mt-md"},a().createElement(xe.P,{md:8,xl2:9},a().createElement(m.D,null,a().createElement(h.xv,{component:h.qO.p},a().createElement("strong",null,"ROSA")," ","is a fully managed Red Hat OpenShift service running natively on Amazon Web Services (AWS), which allows customers to quickly and easily build, deploy, and manage Kubernetes applications on the industry's most comprehensive Kubernetes platform in the AWS public cloud."))),a().createElement(xe.P,{md:4,xl2:3},a().createElement(m.D,null,a().createElement(h.xv,{component:h.qO.p},a().createElement(p.Button,{component:"a",href:rS,target:"_blank",rel:"noreferrer noopener",variant:"link",isLarge:!0,isInline:!0},"Learn more about ROSA"," ",a().createElement(at.ZP,null))))))),a().createElement(Ne.NP,{className:"ocm-p-rosa-welcome"},a().createElement(v.K,{hasGutter:!0},a().createElement(y.v,{className:"ocm-p-rosa-welcome__section"},a().createElement(ke.Card,null,a().createElement(Me.e,null,a().createElement(R.Title,{headingLevel:"h2"},"Getting started with ROSA"),a().createElement(m.D,null,a().createElement(h.xv,{component:h.qO.p},"Before getting started, please review the prerequisites found in the documentation at"," ",a().createElement(Rr,{href:"https://docs.openshift.com/rosa/rosa_getting_started/rosa-aws-prereqs.html"},"AWS Prerequisites for ROSA"),".")),a().createElement(Op.Divider,{className:"pf-u-mt-lg pf-u-mb-xl"}),t.error&&a().createElement(a().Fragment,null,a().createElement(uS,{token:t}),a().createElement("div",{className:"pf-u-mb-lg"})),a().createElement(lP,null,a().createElement(aP,null,a().createElement(R.Title,{headingLevel:"h3"},"Enable ROSA in your AWS account"),a().createElement(h.xv,{component:h.qO.p},"If you havent done so already, visit"," ",a().createElement(Rr,{href:"https://console.aws.amazon.com/rosa"},"https://console.aws.amazon.com/rosa")," ","to enable ROSA in your AWS account."," ",a().createElement(Rr,{href:"https://www.rosaworkshop.io/rosa/1-account_setup/#3-enable-rosa"},"Help"))),a().createElement(aP,null,a().createElement(R.Title,{headingLevel:"h3"},"Download and install the ROSA command line tool"),a().createElement(h.xv,{component:h.qO.p},"Download the ROSA command line (CLI) tools and add them to your"," ",a().createElement("strong",null,"PATH"),"."," ",a().createElement(Rr,{href:"https://docs.openshift.com/rosa/rosa_getting_started/rosa-installing-rosa.html"},"Help")),a().createElement(h.xv,{component:h.qO.p},a().createElement(nP,{token:t,tool:Mo.rj.ROSA,channel:Mo.ZW.STABLE,pendoID:l})),a().createElement(h.xv,{component:h.qO.p,className:"ocm-secondary-text"},"Note: If you havent done so already, also"," ",a().createElement(Rr,{href:"https://aws.amazon.com/cli/"},"install the AWS CLI")," ","as per your operating system.")),a().createElement(aP,null,a().createElement(R.Title,{headingLevel:"h3"},"Log in to the command line"),a().createElement(h.xv,{component:h.qO.p},"Run the authentication command in your terminal."," ",a().createElement(o.Link,{to:"/token/rosa"},"Help")),a().createElement(jA,{textAriaLabel:"Copyable ROSA login command"},"rosa login")),a().createElement(aP,null,a().createElement(R.Title,{headingLevel:"h3"},"Verify your credentials and quota"),a().createElement(h.xv,{component:h.qO.p},"Verify that your credentials are set up correctly."," ",a().createElement(Rr,{href:"https://www.rosaworkshop.io/rosa/1-account_setup/#verify-credentials"},"Help")),a().createElement(jA,{textAriaLabel:"Copyable ROSA login verification command"},"rosa whoami"),a().createElement(h.xv,{component:h.qO.p},"Verify that your AWS account has ample quota in the region you will be deploying your cluster."," ",a().createElement(Rr,{href:"https://www.rosaworkshop.io/rosa/1-account_setup/#verify-quota"},"Help")),a().createElement(jA,{textAriaLabel:"Copyable ROSA quota verification command"},"rosa verify quota")),a().createElement(aP,null,a().createElement(R.Title,{headingLevel:"h3"},"Deploy the cluster and set up access"),a().createElement(h.xv,{component:h.qO.p},"Follow instructions to deploy your cluster and set up access using the ROSA CLI."),a().createElement(p.Button,{component:"a",href:"https://www.rosaworkshop.io/rosa/2-deploy/",target:"_blank",rel:"noreferrer noopener",variant:"secondary"},"Get started")))))),a().createElement(y.v,{className:"ocm-p-rosa-welcome__section"},a().createElement(ke.Card,null,a().createElement(Me.e,null,a().createElement(R.Title,{headingLevel:"h2"},"Next steps"),a().createElement(Op.Divider,{className:"pf-u-mt-lg pf-u-mb-xl"}),a().createElement(lP,null,a().createElement(aP,null,a().createElement(R.Title,{headingLevel:"h3"},"Accessing the cluster"),a().createElement(h.xv,{component:h.qO.p},"Learn how to"," ",a().createElement(Rr,{href:"https://www.rosaworkshop.io/rosa/6-access_cluster/"},"access your cluster")," ","and more in the ROSA workshop.")),a().createElement(aP,null,a().createElement(R.Title,{headingLevel:"h3"},"Getting support"),a().createElement(h.xv,{component:h.qO.p},"Having trouble getting started?"," ",a().createElement(Rr,{href:"https://support.redhat.com/"},"Contact Red Hat Support"),".")),a().createElement(aP,null,a().createElement(R.Title,{headingLevel:"h3"},"Getting familiar with ROSA"),a().createElement(h.xv,{component:h.qO.p},"View the complete"," ",a().createElement(Rr,{href:"https://www.rosaworkshop.io/"},"ROSA workshop"),", browse the"," ",a().createElement(Rr,{href:"https://docs.openshift.com/rosa/welcome/index.html"},"ROSA documentation"),", view the"," ",a().createElement(Rr,{href:"https://docs.openshift.com/rosa/rosa_policy/rosa-service-definition.html"},"ROSA Service Definition")," ","or"," ",a().createElement(Rr,{href:"https://docs.openshift.com/rosa/rosa_policy/rosa-policy-responsibility-matrix.html"},"Responsibility Assignment Matrix"),".")))))))))};xA.propTypes={getAuthToken:l().func.isRequired,token:l().object.isRequired};const qA=xA,UA={getAuthToken:fR.u.createAuthToken},zA=(0,i.connect)((e=>({token:e.tollbooth.token||{}})),UA)(qA);class FA extends a().Component{componentDidMount(){const{fulfilled:e,pending:t,createRosaEntitlement:n}=this.props;e||t||n()}render(){return null}}FA.propTypes={pending:l().bool,fulfilled:l().bool,createRosaEntitlement:l().func};const ZA=FA;var BA=n(41724);const GA=(0,i.connect)((e=>({fulfilled:e.entitlementConfig.fulfilled,pending:e.entitlementConfig.pending})),(e=>({createRosaEntitlement:()=>e((e=>e({type:BA.Z,payload:xt.BJ.createRosaEntitlement()})))})))(ZA);function HA(){return(HA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const{AssistedUiRouter:VA}=u.I,$A=lo(VA,Bn.vu),QA=lo(OD,Bn.vu,OI),WA=lo(UT,Bn.Q3,fI);function YA({history:e}){return a().createElement(a().Fragment,null,a().createElement(hI,{history:e}),a().createElement(c.xI,{history:e},a().createElement(Ae,{history:e,apiRequest:ve.Z},a().createElement(o.Switch,null,a().createElement(o.Redirect,{from:"/install/osp/installer-provisioned",to:"/install/openstack/installer-provisioned"}),a().createElement(o.Redirect,{from:"/install/crc/installer-provisioned",to:"/create/local"}),a().createElement(o.Redirect,{from:"/token/moa",to:"/token/rosa"}),a().createElement(o.Redirect,{from:"/insights",to:"/overview"}),a().createElement(o.Redirect,{from:"/subscriptions",to:"/quota"}),a().createElement(o.Route,{path:"/downloads",component:z_}),a().createElement(ye,{path:"/token/rosa/show",history:e,render:()=>a().createElement(a().Fragment,null,a().createElement(G_,{show:!0}),a().createElement(GA,null))}),a().createElement(ye,{path:"/token/rosa",history:e,render:()=>a().createElement(a().Fragment,null,a().createElement(G_,{show:!1,showPath:"/token/rosa/show"}),a().createElement(GA,null))}),a().createElement(o.Route,{path:"/token/show",render:()=>a().createElement(B_,{show:!0})}),a().createElement(o.Route,{path:"/token",render:()=>a().createElement(B_,{show:!1,showPath:"/token/show"})}),a().createElement(o.Route,{path:"/install/arm/pre-release",component:q_}),a().createElement(o.Route,{path:"/install/aws/installer-provisioned",component:ED}),a().createElement(o.Route,{path:"/install/aws/user-provisioned",component:hD}),a().createElement(o.Route,{path:"/install/aws/arm",component:UI}),a().createElement(o.Route,{path:"/install/aws",component:VT}),a().createElement(o.Route,{path:"/install/gcp/installer-provisioned",component:jD}),a().createElement(o.Route,{path:"/install/gcp/user-provisioned",component:UD}),a().createElement(o.Route,{path:"/install/gcp",component:LD}),a().createElement(o.Route,{path:"/install/openstack/installer-provisioned",component:HD}),a().createElement(o.Route,{path:"/install/openstack/user-provisioned",component:QD}),a().createElement(o.Route,{path:"/install/openstack",component:ZD}),a().createElement(o.Route,{path:"/install/rhv/installer-provisioned",component:e_}),a().createElement(o.Route,{path:"/install/rhv/user-provisioned",component:r_}),a().createElement(o.Route,{path:"/install/rhv",component:KD}),a().createElement(o.Route,{path:"/install/azure/installer-provisioned",component:TD}),a().createElement(o.Route,{path:"/install/azure/user-provisioned",component:ID}),a().createElement(o.Route,{path:"/install/azure",exact:!0,component:SD}),a().createElement(o.Route,{path:"/install/metal/user-provisioned",component:OI}),a().createElement(o.Route,{path:"/install/metal/installer-provisioned",component:SI}),a().createElement(o.Route,{path:"/install/metal",component:QA}),a().createElement(o.Route,{path:"/install/vsphere",exact:!0,component:p_}),a().createElement(o.Route,{path:"/install/vsphere/user-provisioned",component:l_}),a().createElement(o.Route,{path:"/install/vsphere/installer-provisioned",component:c_}),a().createElement(o.Route,{path:"/install/ibmz/user-provisioned",component:__}),a().createElement(o.Route,{path:"/install/ibmz/pre-release",component:A_}),a().createElement(o.Route,{path:"/install/power/user-provisioned",component:M_}),a().createElement(o.Route,{path:"/install/power/pre-release",component:j_}),a().createElement(o.Route,{path:"/install/platform-agnostic",component:g_}),a().createElement(o.Route,{path:"/install/pre-release",component:v_}),a().createElement(o.Route,{path:"/install/pull-secret",component:S_}),a().createElement(o.Route,{path:"/install/azure/aro-provisioned",component:w_}),a().createElement(o.Redirect,{from:"/install",to:"/create"}),a().createElement(ye,{path:"/create/osd/aws",gobackPath:"/create/osd",history:e,render:()=>a().createElement(Ww,{cloudProviderID:"aws",product:ee.Po.OSD})}),a().createElement(ye,{path:"/create/osd/gcp",gobackPath:"/create/osd",history:e,render:()=>a().createElement(Ww,{cloudProviderID:"gcp",product:ee.Po.OSD})}),a().createElement(ye,{path:"/create/osdtrial/aws",gobackPath:"/create/osdtrial",render:()=>a().createElement(Ww,{cloudProviderID:"aws",product:ee.Po.OSDTrial}),history:e}),a().createElement(ye,{path:"/create/osdtrial/gcp",gobackPath:"/create/osdtrial",render:()=>a().createElement(Ww,{cloudProviderID:"gcp",product:ee.Po.OSDTrial}),history:e}),a().createElement(o.Route,{path:"/create/osdtrial",render:()=>a().createElement(WA,{product:ee.Po.OSDTrial})}),a().createElement(o.Route,{path:"/create/osd",render:()=>a().createElement(WA,{product:ee.Po.OSD})}),a().createElement(o.Route,{path:"/create/cloud",render:e=>a().createElement(EP,HA({activeTab:"cloud"},e))}),a().createElement(o.Route,{path:"/create/datacenter",render:e=>a().createElement(EP,HA({activeTab:"datacenter"},e))}),a().createElement(o.Route,{path:"/create/local",render:e=>a().createElement(EP,HA({activeTab:"local"},e))}),a().createElement(ye,{path:"/create/rosa/welcome",history:e,render:()=>a().createElement(zA,null)}),a().createElement(o.Route,{path:"/create",component:EP}),a().createElement(o.Route,{path:"/details/s/:subscriptionID/insights/:reportId/:errorKey",component:UR}),a().createElement(o.Route,{path:"/details/s/:id/add-idp/:idpTypeName",component:MA}),a().createElement(o.Route,{path:"/details/s/:id/edit-idp/:idpName",render:({match:e})=>a().createElement(MA,{isEditForm:!0,match:e})}),a().createElement(o.Route,{path:"/details/s/:id",component:OR}),a().createElement(o.Route,{path:"/details/:id/insights/:reportId/:errorKey",render:e=>a().createElement(PR,HA({isInsightsRuleDetails:!0},e))}),a().createElement(o.Route,{path:"/details/:id",component:PR}),a().createElement(o.Route,{path:"/register",component:UP}),a().createElement(o.Route,{path:"/quota/resource-limits",render:e=>a().createElement(uI,HA({marketplace:!0},e))}),a().createElement(o.Route,{path:"/quota",render:e=>a().createElement(uI,e)}),a().createElement(o.Route,{path:"/archived",component:wm}),a().createElement(o.Route,{path:"/overview",exact:!0,component:ci}),a().createElement(o.Route,{path:"/releases",exact:!0,component:xI}),a().createElement(o.Route,{path:"/assisted-installer",component:$A}),a().createElement(o.Route,{path:"/",exact:!0,component:im}),a().createElement(o.Route,{component:eo})))))}YA.propTypes={history:l().shape({push:l().func.isRequired}).isRequired};const KA=(0,o.withRouter)(YA);function JA({env:e}){return a().createElement(Ur.bZ,{variant:"warning",isInline:!0,id:"env-override-message",title:"Environment override active",actionLinks:a().createElement(zm.Q,{onClick:()=>{localStorage.removeItem(ln.vk),window.location.href="/openshift"}},"Go back to normal")},"You're now using the"," ",a().createElement("b",null,e)," ","environment API.")}JA.propTypes={env:l().string.isRequired};const XA=JA,eN=({children:e})=>a().createElement(a().Fragment,null,a().createElement("span",{id:"scrollToTop"}),ln.ZP.override&&a().createElement(XA,{env:ln.ZP.override}),a().createElement(fC,null,e||a().createElement(KA,null)));eN.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node])};const tN=(0,i.connect)((e=>({userProfile:e.userProfile})))(eN)},11972:(e,t,n)=>{"use strict";n.d(t,{Qi:()=>r,k1:()=>a,o8:()=>s,Eo:()=>i,Zh:()=>l});const r="GET_ROLES",a="GET_GRANTS",s="ADD_GRANT",l="DELETE_GRANT",i="CLEAR_ADD_GRANT_RESPONSE"},68994:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={GET_OCM_ROLES:"GET_OCM_ROLES",GRANT_OCM_ROLE:"GRANT_OCM_ROLE",EDIT_OCM_ROLE:"EDIT_OCM_ROLE",DELETE_OCM_ROLE:"DELETE_OCM_ROLE",CLEAR_GET_OCM_ROLES_RESPONSE:"CLEAR_GET_OCM_ROLES_RESPONSE",CLEAR_GRANT_OCM_ROLE_RESPONSE:"CLEAR_GRANT_OCM_ROLE_RESPONSE",CLEAR_EDIT_OCM_ROLE_RESPONSE:"CLEAR_EDIT_OCM_ROLE_RESPONSE",CLEAR_DELETE_OCM_ROLE_RESPONSE:"CLEAR_DELETE_OCM_ROLE_RESPONSE"}},43620:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={GET_USERS:"GET_USERS",GET_CLUSTER_ADMINS:"GET_CLUSTER_ADMINS",GET_DEDICATED_ADMNIS:"GET_DEDICATED_ADMNIS",DELETE_USER:"DELETE_USER",ADD_USER:"ADD_USER",CLEAR_USER_RESPONSES:"CLEAR_USER_RESPONSES",CLEAR_ADD_USER_RESPONSES:"CLEAR_ADD_USER_RESPONSES"}},31300:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={GET_ADDONS:"GET_ADDONS",GET_CLUSTER_ADDONS:"GET_CLUSTER_ADDONS",UPDATE_CLUSTER_ADDON:"UPDATE_CLUSTER_ADDON",ADD_CLUSTER_ADDON:"ADD_CLUSTER_ADDON",DELETE_CLUSTER_ADDON:"DELETE_CLUSTER_ADDON",CLEAR_CLUSTER_ADDON_RESPONSES:"CLEAR_CLUSTER_ADDON_RESPONSES",INSTALLATION_STATE:{PENDING:"pending",INSTALLING:"installing",UPDATING:"updating",DELETING:"deleting",DELETED:"deleted",FAILED:"failed",READY:"ready"}}},924:(e,t,n)=>{"use strict";n.d(t,{y$:()=>r,d_:()=>a,Nm:()=>l,w$:()=>s});const r="GET_CLUSTER_LOGS",a="DOWNLOAD_CLUSTER_LOGS",s="RESET_CLUSTER_HISTORY",l=["Debug","Info","Warning","Error","Fatal"]},895:(e,t,n)=>{"use strict";n.d(t,{pn:()=>r});const r={GET_CLUSTER_IDENTITY_PROVIDERS:"GET_CLUSTER_IDENTITY_PROVIDERS",CREATE_CLUSTER_IDENTITY_PROVIDER:"CREATE_CLUSTER_IDENTITY_PROVIDER",RESET_CREATED_CLUSTER_IDP_RESPONSE:"RESET_CREATED_CLUSTER_IDP_RESPONSE",DELETE_IDENTITY_PROVIDER:"DELETE_IDENTITY_PROVIDER",RESET_DELETED_IDP_RESPONSE:"RESET_DELETED_IDP_RESPONSE",RESET_IDENTITY_PROVIDERS_STATE:"RESET_IDENTITY_PROVIDERS_STATE",UPDATE_CLUSTER_IDENTITY_PROVIDER:"UPDATE_CLUSTER_IDENTITY_PROVIDER"}},44113:(e,t,n)=>{"use strict";n.d(t,{Lo:()=>r,WP:()=>a,je:()=>s,Dg:()=>l,a$:()=>i,op:()=>o,qX:()=>c,fx:()=>u,gb:()=>d});const r="GET_CLUSTER_INSIGHTS",a="VOTE_ON_RULE_INSIGHTS",s="DISABLE_RULE_INSIGHTS",l="ENABLE_RULE_INSIGHTS",i="SEND_FEEDBACK_ON_RULE_DISABLE_INSIGHTS",o="GET_REPORT_DETAILS",c="SET_REPORT_DETAILS",u="GET_ORGANIZATION_INSIGHTS",d=[{title:"Performance",tags:["performance"]},{title:"Service Availability",tags:["service_availability"]},{title:"Security",tags:["security"]},{title:"Fault Tolerance",tags:["fault_tolerance"]}]},80148:(e,t,n)=>{"use strict";n.d(t,{b:()=>a,rY:()=>s,p3:()=>l,lZ:()=>i,v8:()=>o,dI:()=>c,BE:()=>u,HL:()=>d,WA:()=>p,b_:()=>m,yc:()=>h,__:()=>g,mL:()=>b});var r=n(85935);const a="GET_MACHINE_POOLS",s="ADD_MACHINE_POOL",l="SCALE_MACHINE_POOL",i="DELETE_MACHINE_POOL",o="CLEAR_ADD_MACHINE_POOL_RESPONSE",c="CLEAR_SCALE_MACHINE_POOL_RESPONSE",u=e=>t=>t({type:a,payload:r.le.getMachinePools(e)}),d=(e,t)=>n=>n({type:s,payload:r.le.addMachinePool(e,t)}),p=(e,t,n)=>a=>a({type:l,payload:r.le.scaleMachinePool(e,t,n)}),m=(e,t)=>n=>n({type:i,payload:r.le.deleteMachinePool(e,t)}),h=()=>e=>e({type:o}),g=()=>e=>e({type:"CLEAR_GET_MACHINE_POOLS_RESPONSE"}),b=()=>e=>e({type:c})},68480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={GET_ONDEMAND_METRICS:"GET_ONDEMAND_METRICS",CLEAR_MONITORING_STATE:"CLEAR_MONITORING_STATE"}},36008:(e,t,n)=>{"use strict";n.d(t,{l9:()=>r});const r={GET_CLUSTER_ROUTERS:"GET_CLUSTER_ROUTERS",EDIT_CLUSTER_ROUTERS:"EDIT_CLUSTER_ROUTER",RESET_EDIT_ROUTERS_RESPONSE:"RESET_EDIT_ROUTERS_RESPONSE",RESET_CLUSTER_ROUTERS:"RESET_CLUSTER_ROUTERS"}},96616:(e,t,n)=>{"use strict";n.d(t,{DF:()=>s,E8:()=>r,G1:()=>a});const r="GET_LOGS",a="CLEAR_LOGS",s={GET_LOGS:r,CLEAR_LOGS:a}},9133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="GET_SUPPORT_STATUS"},61232:(e,t,n)=>{"use strict";n.d(t,{x:()=>u,Z:()=>d});var r=n(97968),a=n(81126);const s="GET_NOTIFICATION_CONTACTS",l="ADD_NOTIFICATION_CONTACT",i="DELETE_NOTIFICATION_CONTACT",o="NOTIFICATION_CONTACTS",c="GET_SUPPORT_CASES",u={GET_NOTIFICATION_CONTACTS:s,ADD_NOTIFICATION_CONTACT:l,DELETE_NOTIFICATION_CONTACT:i,NOTIFICATION_CONTACTS:o,GET_SUPPORT_CASES:c},d={clearNotificationContacts:()=>e=>e({type:(0,a._X)(o)}),clearAddNotificationContacts:()=>e=>e({type:(0,a._X)(l)}),clearDeleteNotificationContacts:()=>e=>e({type:(0,a._X)(i)}),getNotificationContacts:e=>t=>t({type:s,payload:r.Z.getNotificationContacts(e).then((t=>(t.data.subscriptionID=e,t)))}),addNotificationContact:(e,t)=>n=>n({type:l,payload:r.Z.addNotificationContact(e,t)}),deleteNotificationContact:(e,t)=>n=>n({type:i,accountID:t,payload:r.Z.deleteNotificationContact(e,t),meta:("Notification contact deleted successfully",{notifications:{fulfilled:{variant:"success",title:"Notification contact deleted successfully",dismissDelay:8e3,dismissable:!1}}})}),getSupportCases:e=>t=>t({type:c,payload:r.Z.getSupportCases(e).then((t=>(t.data.subscriptionID=e,t)))})}},19909:(e,t,n)=>{"use strict";n.d(t,{wJ:()=>l,Xj:()=>i,s_:()=>o,Jy:()=>c,Se:()=>u,Qx:()=>d});var r=n(78718),a=n.n(r),s=n(46743);const l="GET_CCS_CLOUD_PROVIDER_VPCS",i="LIST_GCP_KEY_RINGS",o="LIST_GCP_KEYS",c="CLEAR_ALL_CLOUD_PROVIDER_INQUIRIES",u=e=>({type:l,payload:()=>(async e=>{const t=JSON.parse(e);return a()(t,["type","project_id","private_key_id","private_key","client_email","client_id","auth_uri","token_uri","auth_provider_x509_cert_url","client_x509_cert_url"])})(e).then((e=>(0,s.B$)(e,"us-east1"))),meta:{credentials:e,cloudProvider:"gcp"}}),d=(e,t,n)=>({type:l,payload:(0,s.dq)(e,t,n),meta:{credentials:`${e}/${t}/${n}`,cloudProvider:"aws"}})},48143:(e,t,n)=>{"use strict";n.d(t,{UQ:()=>r});const r={DELETE_CLUSTER:"DELETE_CLUSTER",CLEAR_DELETE_CLUSTER_RESPONSE:"CLEAR_DELETE_CLUSTER_RESPONSE"}},78852:(e,t,n)=>{"use strict";n.d(t,{a:()=>r,H:()=>a});const r="TOGGLE_SUBSCRIPTION_RELEASED",a="CLEAR_TOGGLE_SUBSCRIPTION_RELEASED_RESPONSE"},18619:(e,t,n)=>{"use strict";n.d(t,{_b:()=>a,n2:()=>s,cr:()=>l,p:()=>i,To:()=>o,n7:()=>c,TE:()=>d,Rv:()=>m,ao:()=>u,wn:()=>h,FQ:()=>p,Yy:()=>g,Uy:()=>b,vf:()=>E});var r=n(46743);const a="POST_UPGRADE_SCHEDULE",s="CLEAR_UPGRADE_SCHEDULE",l="GET_UPGRADE_SCHEDULES",i="DELETE_UPGRADE_SCHEDULE",o="CLEAR_DELETE_UPGRADE_SCHEDULE",c="CLEAR_GET_UPGRADE_SCHEDULE",u=e=>t=>t({type:l,payload:(0,r.yl)(e).then((e=>{const t=e.data.items||[],n=[];return t.forEach((e=>{n.push((0,r.OT)(e.cluster_id,e.id).then((t=>{e.state=t.data})))})),Promise.all(n).then((()=>(e.data.items=t,e)))}))}),d=(e,t)=>n=>n({type:a,payload:(0,r.c4)(e,t).then((t=>(n(u(e)),t)))}),p=(e,t,n)=>s=>s({type:a,payload:(0,r.Ve)(e,t).then((()=>(0,r.c4)(e,n))).then((t=>(s(u(e)),t)))}),m=(e,t,n)=>s=>s({type:a,payload:(0,r.CC)(e,t,n).then((t=>(s(u(e)),t)))}),h=(e,t)=>n=>n({type:i,payload:(0,r.Ve)(e,t).then((t=>(n(u(e)),t)))}),g=()=>e=>e({type:o}),b=()=>e=>e({type:s}),E=()=>e=>e({type:c})},6580:(e,t,n)=>{"use strict";n.d(t,{TY:()=>s,a6:()=>r,et:()=>a});const r="OPEN_MODAL",a="CLOSE_MODAL",s={OPEN_MODAL:r,CLOSE_MODAL:a}},9047:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{vk:()=>l,ZP:()=>o});const l="ocmOverridenEnvironment",i={};i.production=Promise.resolve().then(n.t.bind(n,67730,19)),i.stageSSO=Promise.resolve().then(n.t.bind(n,10639,19)),i.staging=Promise.resolve().then(n.t.bind(n,97025,19)),i.integration=Promise.resolve().then(n.t.bind(n,21371,19)),i.integrationV3=Promise.resolve().then(n.t.bind(n,22078,19)),i.default=i.staging;const o={configData:{},override:!1,loadConfig(e){var t;this.configData=a(a({},e),{},{apiGateway:e.apiGateway.replace("$SELF_PATH$",window.location.host),insightsGateway:(null===(t=e.insightsGateway)||void 0===t?void 0:t.replace("$SELF_PATH$",window.location.host))||void 0}),window.ocmConfig=this},fetchConfig(){const e=this;return new Promise((t=>{(()=>{let e=!1;return window.location.search.substring(1).split("&").forEach((t=>{const[n,r]=t.split("=");"fake"===n&&"true"===r&&(e=!0)})),e})()&&(e.fakeOSD=!0);const n=(()=>{let e;return window.location.search.substring(1).split("&").forEach((t=>{const[n,r]=t.split("=");"env"===n&&i[r]&&(e=r)})),e})()||localStorage.getItem(l);n&&i[n]?i[n].then((r=>{this.loadConfig(r),console.info(`Loaded override config: ${n}`),e.override=n,localStorage.setItem(l,n),t()})):i.default.then((e=>{this.loadConfig(e),console.info("Loaded default config: staging"),t()}))}))}}},79920:(e,t,n)=>{"use strict";n.d(t,{R:()=>i,c:()=>o});var r=n(41447),a=n(6176);const s=(e,t)=>({type:r.Bc,payload:{feature:e,enabled:t}}),l=(e,t)=>({name:t,action:()=>a.Z.selfFeatureReview(e).then((e=>e.data.enabled))}),i=[l("osd-trial",r.vC),l("assisted-installer-sno",r.Vs),l("assisted-installer-ocs",r.D9),l("assisted-installer-cnv",r.nc),l("assisted-installer-merge-lists",r.xf),l("assisted-installer-network-type-selection",r.ZY),l("assisted-installer-platform-integration",r.S9),l("osd-creation-wizard",r.Q3),{name:r.vu,action:()=>Promise.all([a.Z.selfAccessReview({action:"create",resource_type:"BareMetalCluster"}),a.Z.selfFeatureReview("assisted-installer")]).then((([e,t])=>e.data.allowed&&t.data.enabled))}],o=()=>e=>{i.forEach((({name:t,action:n})=>n().then((n=>e(s(t,n)))).catch((()=>e(s(t,!1))))))}},20450:(e,t,n)=>{"use strict";n.d(t,{K:()=>l,C:()=>i});var r=n(46019),a=n.n(r);const s=e=>a().get(`https://api.github.com/repos/${e}/releases/latest`),l="GITHUB_GET_LATEST_RELEASE",i=e=>({type:l,meta:{repo:e},payload:s(e)})},72911:(e,t,n)=>{"use strict";n.d(t,{u:()=>s,K:()=>a});var r=n(53807);const a="FETCH_AUTHORIZATION_TOKEN",s={createAuthToken:()=>e=>e({type:a,payload:(0,r.v)()})}},42282:(e,t,n)=>{"use strict";n.d(t,{hI:()=>R,_z:()=>d,nh:()=>O,c3:()=>C});var r=n(27361),a=n.n(r),s=n(99205),l=n(45205),i=n(85935),o=n(97875),c=n(94784),u=n(39317);const d=e=>({payload:e,type:l.AQ.LX}),p=(e,t)=>0===t.cost?1/0:Math.floor((e.allowed-e.consumed)/t.cost),m=(e,t,n)=>{const r=e,a=t.allowed-t.consumed;n.forEach((e=>{const{availability_zone_type:t,cloud_provider:n,resource_name:s,product:l,billing_model:i}=e,o="rhinfra"===e.byoc?"rhInfra":e.byoc;l!==c.Po.ROSA&&Object.entries(r).forEach((([e,r])=>{i!==e&&"any"!==i||Object.entries(r).forEach((([e,r])=>{l!==e&&l!==c.Po.ANY||Object.entries(r).forEach((([e,r])=>{n!==e&&"any"!==n||Object.entries(r).forEach((([e,n])=>{o!==e&&"any"!==o||Object.entries(n).forEach((([e,l])=>{`${t}Az`===e&&(l[s]=a,l.available+=a,n.totalAvailable+=a),"any"===t&&"totalAvailable"!==e&&(l[s]=a,l.available+=a,n.totalAvailable+=a/2),n.totalAvailable>0&&(r.isAvailable=!0)}))}))}))}))}))}))},h=(e,t,n)=>{const r=e,a=t.allowed-t.consumed;n.forEach((e=>{const{cloud_provider:t,resource_name:n,product:s,billing_model:l}=e,i="rhinfra"===e.byoc?"rhInfra":e.byoc;s!==c.Po.ROSA&&Object.entries(r).forEach((([r,o])=>{l!==r&&"any"!==l||Object.entries(o).forEach((([r,l])=>{s!==r&&s!==c.Po.ANY||Object.entries(l).forEach((([r,s])=>{t!==r&&"any"!==t||Object.entries(s).forEach((([t,r])=>{i!==t&&"any"!==i||(r[n]={available:a,cost:e.cost})}))}))}))}))}))},g=(e,t,n)=>{const r=e;n.forEach((e=>{const n=p(t,e),{availability_zone_type:a,cloud_provider:s,resource_name:l,product:i,billing_model:o="standard"}=e,u="rhinfra"===e.byoc?"rhInfra":e.byoc;Object.entries(r).forEach((([e,t])=>{o!==e&&"any"!==o||Object.entries(t).forEach((([e,t])=>{i!==e&&i!==c.Po.ANY||Object.entries(t).forEach((([e,t])=>{s!==e&&"any"!==s||Object.entries(t).forEach((([e,t])=>{u!==e&&"any"!==u||Object.entries(t).forEach((([e,t])=>{`${a}AZ`!==e&&"any"!==a||(t[l]=n)}))}))}))}))}))}))},b=(e,t,n)=>{const r=e;n.forEach((e=>{const n=p(t,e),{availability_zone_type:a,cloud_provider:s,resource_name:l,product:i,billing_model:o="standard"}=e,u="rhinfra"===e.byoc?"rhInfra":e.byoc;Object.entries(r).forEach((([e,t])=>{o!==e&&"any"!==o||Object.entries(t).forEach((([e,t])=>{i!==e&&i!==c.Po.ANY||Object.entries(t).forEach((([e,t])=>{s!==e&&"any"!==s||Object.entries(t).forEach((([e,t])=>{u!==e&&"any"!==u||Object.entries(t).forEach((([e,t])=>{`${a}AZ`!==e&&"any"!==a||(t[l]=n)}))}))}))}))}))}))},E=(e,t,n)=>{const r=e;n.forEach((e=>{const n=p(t,e);if(0===t.allowed&&e.cost>0)return;const{availability_zone_type:a,cloud_provider:s,resource_name:l,product:i,billing_model:o}=e,u="rhinfra"===e.byoc?"rhInfra":e.byoc;Object.entries(r).forEach((([e,t])=>{o!==e&&"any"!==o||Object.entries(t).forEach((([e,t])=>{i!==e&&i!==c.Po.ANY||Object.entries(t).forEach((([e,t])=>{s!==e&&"any"!==s||Object.entries(t).forEach((([e,r])=>{u!==e&&"any"!==u||Object.entries(r).forEach((([e,s])=>{`${a}Az`===e&&(s[l]=n,s.available+=n,r.totalAvailable+=n),"any"===a&&"totalAvailable"!==e&&(s[l]=n,s.available+=n,r.totalAvailable+=n/2),r.totalAvailable>0&&(t.isAvailable=!0)}))}))}))}))}))}))},f=e=>{const t=(0,u.z)(),n=a()(e.data,"items",[]).map(o.ME);return t.items=n,n.forEach((e=>{const n=a()(e,"related_resources",[]);if(!(n.length<1))switch(n[0].resource_type){case"cluster":m(t.clustersQuota,e,n);break;case"compute.node":h(t.nodesQuota,e,n);break;case"pv.storage":g(t.storageQuota,e,n);break;case"network.loadbalancer":b(t.loadBalancerQuota,e,n);break;case"add-on":E(t.addOnsQuota,e,n)}})),t},y=e=>i.BJ.getOrganizationQuota(e).then(f),v=(e,t)=>{const n={quota:void 0,organization:void 0!==t?t.details:t},r=[y(e).then((e=>{n.quota=e}))];return void 0===t&&r.push(i.BJ.getOrganization(e).then((e=>{n.organization=e.data}))),Promise.all(r).then((()=>n))},O=()=>{var e,t;const{userProfile:n}=s.h.getState(),r=null==n||null===(e=n.organization)||void 0===e||null===(t=e.details)||void 0===t?void 0:t.id;return e=>e({payload:void 0!==r?v(r,null==n?void 0:n.organization):i.BJ.getCurrentAccount().then((e=>{const t=a()(e.data,"organization.id");return void 0!==t?v(t):Promise.reject(Error("No organization"))})),type:l.AQ.e_})};function C(){return e=>e({type:l.AQ.Zu,payload:i.FR.selfTermsReview()})}const R={userInfoResponse:d,getOrganizationAndQuota:O,processClusterQuota:m,processNodeQuota:h,processStorageQuota:g,processLoadBalancerQuota:b,processAddOnQuota:E,processQuota:f,selfTermsReview:C}},41724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="CREATE_ENTITLEMENT_CONFIG"},41447:(e,t,n)=>{"use strict";n.d(t,{Bc:()=>r,vu:()=>a,Vs:()=>s,D9:()=>l,nc:()=>i,vC:()=>o,xf:()=>c,ZY:()=>u,S9:()=>d,Q3:()=>p});const r="SET_FEATURE",a="ASSISTED_INSTALLER_FEATURE",s="ASSISTED_INSTALLER_SNO_FEATURE",l="ASSISTED_INSTALLER_OCS_FEATURE",i="ASSISTED_INSTALLER_CNV_FEATURE",o="OSD_TRIAL_FEATURE",c="ASSISTED_INSTALLER_MERGE_LISTS_FEATURE",u="ASSISTED_INSTALLER_NETWORK_TYPE_SELECTION_FEATURE",d="ASSISTED_INSTALLER_PLATFORM_INTEGRATION_FEATURE",p="OSD_CREATION_WIZARD_FEATURE"},52346:(e,t,n)=>{"use strict";n.d(t,{F:()=>r,P:()=>a});const r="SET_GLOBAL_ERROR",a="CLEAR_GLOBAL_ERROR"},45205:(e,t,n)=>{"use strict";n.d(t,{lo:()=>i,ms:()=>J,em:()=>r,$k:()=>o,T_:()=>h,DD:()=>ge,Hn:()=>p,_z:()=>c,dN:()=>d,rm:()=>m,jn:()=>u,AQ:()=>l,R$:()=>a,UI:()=>s});var r={};n.r(r),n.d(r,{Ou:()=>f,GF:()=>y,$I:()=>P,Q6:()=>_,H8:()=>O,DR:()=>g,ai:()=>A,nn:()=>L,EO:()=>b,E$:()=>E,HZ:()=>C,gJ:()=>R,zg:()=>T,lb:()=>D,Sp:()=>w,fK:()=>I,Hc:()=>S,Ge:()=>v,nO:()=>N});var a={};n.r(a),n.d(a,{Kv:()=>k,fk:()=>M,X0:()=>j,KV:()=>q,TA:()=>x});var s={};n.r(s),n.d(s,{G7:()=>G,jv:()=>Q,Iv:()=>$,qJ:()=>U,X:()=>z,eC:()=>Z,DG:()=>B,SV:()=>F,Gu:()=>H,ZY:()=>V});var l={};n.r(l),n.d(l,{e_:()=>Y,Zu:()=>K,LX:()=>W});var i={};n.r(i),n.d(i,{g:()=>X});var o={};n.r(o),n.d(o,{uc:()=>ee,CL:()=>te,IV:()=>ne});var c={};n.r(c),n.d(c,{o:()=>re});var u={};n.r(u),n.d(u,{I8:()=>oe,CJ:()=>ae,H6:()=>le,H4:()=>se,he:()=>ie});var d={};n.r(d),n.d(d,{E:()=>ce});var p={};n.r(p),n.d(p,{Z:()=>ue});var m={};n.r(m),n.d(m,{Q:()=>pe,f:()=>de});var h={};n.r(h),n.d(h,{Ds:()=>me,r6:()=>he});const g="CLEAR_DISPLAY_NAME_RESPONSE",b="CREATE_CLUSTER",E="EDIT_CLUSTER",f="ARCHIVE_CLUSTER",y="CLEAR_CLUSTER_ARCHIVE_RESPONSE",v="UNARCHIVE_CLUSTER",O="CLEAR_CLUSTER_UNARCHIVE_RESPONSE",C="GET_CLUSTERS",R="GET_CLUSTER_DETAILS",S="SET_CLUSTER_DETAILS",P="CLEAR_CLUSTER_DETAILS",w="RESET_CREATED_CLUSTER_RESPONSE",T="GET_CLUSTER_STATUS",D="HIBERNATE_CLUSTER",_="CLEAR_CLUSTER_HIBERNATE_RESPONSE",I="RESUME_CLUSTER",A="CLEAR_RESUME_CLUSTER_RESPONSE",N="UPGRADE_TRIAL_CLUSTER",L="CLEAR_UPGRADE_TRIAL_CLUSTER_RESPONSE",M="CLUSTERS_VIEW",k="ARCHIVED_CLUSTERS_VIEW",j="CLUSTER_LOGS_VIEW",x="OVERVIEW_VIEW",q="OVERVIEW_EXPIRED_TRIALS",U="VIEW_FIRST_PAGE",z="VIEW_LAST_PAGE",F="VIEW_PREVIOUS_PAGE",Z="VIEW_NEXT_PAGE",B="VIEW_PAGE_NUMBER",G="SET_PER_PAGE",H="VIEW_SET_LIST_FILTER",V="VIEW_SET_LIST_FLAGS",$="VIEW_CLEAR_FILTERS_AND_FLAGS",Q="VIEW_CHANGE_SORT",W="USER_INFO_RESPONSE",Y="GET_ORGANIZATION",K="SELF_TERMS_REVIEW";var J=n(924);const X="GET_CLOUD_PROVIDERS",ee="GET_REPORT",te="GET_SOURCES",ne="GET_USER_ACCESS",re="GET_MACHINE_TYPES",ae="GET_ACCOUNT",se="GET_SUBSCRIPTIONS",le="GET_QUOTA_COST",ie="GET_SUBSCRIPTION_ID",oe="CLEAR_SUBSCRIPTION_ID",ce="GET_PERSISTENT_STORAGE_VALUES",ue="GET_LOAD_BALANCER_VALUES",de="EDIT_SUBSCRIPTION_SETTINGS",pe="CLEAR_EDIT_SUBSCRIPTION_SETTINGS_RESPONSE",me="GET_SUMMARY_DASHBOARD",he="GET_UNHEALTHY_CLUSTERS";var ge=n(41447)},39317:(e,t,n)=>{"use strict";n.d(t,{z:()=>d,Z:()=>m});var r=n(18172),a=n(45205),s=n(81126),l=n(39581),i=n(94784);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=()=>({items:[],clustersQuota:(()=>{const e={};return Object.values(i.F6).forEach((t=>{e[t]=(()=>{const e={};return Object.keys(i.vQ).forEach((t=>{e[t]={aws:{byoc:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},rhInfra:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},isAvailable:!1},gcp:{byoc:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},rhInfra:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},isAvailable:!1}}})),e})()})),e})(),nodesQuota:(()=>{const e={};return Object.values(i.F6).forEach((t=>{e[t]=(()=>{const e={};return Object.keys(i.vQ).forEach((t=>{e[t]={aws:{byoc:{available:0},rhInfra:{available:0}},gcp:{byoc:{available:0},rhInfra:{available:0}}}})),e})()})),e})(),storageQuota:(()=>{const e={};return Object.values(i.F6).forEach((t=>{e[t]=(()=>{const e={};return Object.keys(i.vQ).forEach((t=>{e[t]={aws:{byoc:{singleAZ:{available:0},multiAZ:{available:0}},rhInfra:{singleAZ:{available:0},multiAZ:{available:0}},isAvailable:!1},gcp:{byoc:{singleAZ:{available:0},multiAZ:{available:0}},rhInfra:{singleAZ:{available:0},multiAZ:{available:0}},isAvailable:!1}}})),e})()})),e})(),loadBalancerQuota:(()=>{const e={};return Object.values(i.F6).forEach((t=>{e[t]=(()=>{const e={};return Object.keys(i.vQ).forEach((t=>{e[t]={aws:{byoc:{singleAZ:{available:0},multiAZ:{available:0}},rhInfra:{singleAZ:{available:0},multiAZ:{available:0}},isAvailable:!1},gcp:{byoc:{singleAZ:{available:0},multiAZ:{available:0}},rhInfra:{singleAZ:{available:0},multiAZ:{available:0}},isAvailable:!1}}})),e})()})),e})(),addOnsQuota:(()=>{const e={};return Object.values(i.F6).forEach((t=>{e[t]=(()=>{const e={};return Object.keys(i.vQ).forEach((t=>{e[t]={aws:{byoc:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},rhInfra:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},isAvailable:!1},gcp:{byoc:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},rhInfra:{singleAz:{available:0},multiAz:{available:0},totalAvailable:0},isAvailable:!1}}})),e})()})),e})()}),p={keycloakProfile:{},organization:c({details:null,quotaList:d()},s.kN),selfTermsReviewResult:c({terms_available:!1,terms_required:!1,redirect_url:""},s.kN)},m=function(e=p,t){return(0,r.ZP)(e,(e=>{switch(t.type){case a.AQ.LX:e.keycloakProfile=t.payload;break;case(0,s.b)(a.AQ.e_):e.organization=c(c({},p.organization),(0,l.ZC)(t));break;case(0,s.UJ)(a.AQ.e_):e.organization.pending=!0;break;case(0,s.Kn)(a.AQ.e_):e.organization=c(c({},p.organization),{},{fulfilled:!0,details:t.payload.organization,quotaList:t.payload.quota,timestamp:new Date});break;case(0,s.b)(a.AQ.Zu):e.selfTermsReviewResult=c(c({},p.selfTermsReviewResult),(0,l.ZC)(t));break;case(0,s.UJ)(a.AQ.Zu):e.selfTermsReviewResult.pending=!0;break;case(0,s.Kn)(a.AQ.Zu):e.selfTermsReviewResult=c(c({},p.selfTermsReviewResult),{},{fulfilled:!0},t.payload.data)}}))}},81126:(e,t,n)=>{"use strict";n.d(t,{_X:()=>r,Kn:()=>a,UJ:()=>s,b:()=>l,kN:()=>o,D:()=>i});const r=e=>`${e}_INVALIDATE`,a=e=>`${e}_FULFILLED`,s=e=>`${e}_PENDING`,l=e=>`${e}_REJECTED`,i=e=>{const t={};return e&&e.data&&e.data.cluster_ids?(e.data.cluster_ids.forEach((e=>{t[e]=!0})),t):t},o={error:!1,errorMessage:"",errorDetails:null,pending:!1,fulfilled:!1}},99205:(e,t,n)=>{"use strict";n.d(t,{h:()=>Rr});var r=n(35592),a=n(53894),s=n(57283),l=n.n(s),i=n(10810),o=n(90071),c=n(84885),u=n(30496),d=n(92363),p=n(53446),m=n(82492),h=n.n(m),g=n(18172),b=n(81126),E=n(39581),f=n(45205);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C=v(v({},b.kN),{},{valid:!0}),R={managed:!1,ccs:{enabled:!1}},S={clusters:v(v({},C),{},{valid:!1,meta:{},clusters:[],queryParams:{}}),clusterStatus:v(v({},C),{},{status:{}}),details:v(v({},C),{},{cluster:R}),createdCluster:v(v({},C),{},{cluster:R}),editedCluster:v(v({},C),{},{cluster:R}),archivedCluster:v(v({},C),{},{cluster:R}),unarchivedCluster:v(v({},C),{},{cluster:R}),hibernatingCluster:v(v({},C),{},{cluster:R}),resumeHibernatingCluster:v(v({},C),{},{cluster:R})};function P(e=S,t){return(0,g.Uy)(e,(n=>{switch(t.type){case(0,b._X)(f.em.HZ):n.clusters=v({},S.clusters);break;case(0,b.b)(f.em.HZ):n.clusters=v(v(v({},S.clusters),(0,E.ZC)(t)),{},{valid:!0,clusters:e.clusters.clusters});break;case(0,b.UJ)(f.em.HZ):n.clusters=v(v({},S.clusters),{},{pending:!0,valid:!0,clusters:e.clusters.clusters});break;case(0,b.Kn)(f.em.HZ):{var r;const{data:e}=t.payload,a=!(null==e||null===(r=e.meta)||void 0===r||!r.clustersServiceError)&&(0,E.ZC)({payload:e.meta.clustersServiceError});n.clusters=v(v({},S.clusters),{},{clusters:e.items,queryParams:e.queryParams,meta:{clustersServiceError:a||void 0},pending:!1,fulfilled:!0,valid:!0});break}case f.em.Hc:{const{cluster:r,mergeDetails:a}=t.payload;n.details=v(v({},S.details),{},{cluster:a?h()({},e.details.cluster,r):r,fulfilled:!0,incomplete:!0});break}case(0,b.b)(f.em.gJ):n.details=v(v(v({},S.details),(0,E.ZC)(t)),{},{cluster:e.details.cluster});break;case(0,b.UJ)(f.em.gJ):n.details=v(v({},S.details),{},{pending:!0,cluster:e.details.cluster});break;case(0,b.Kn)(f.em.gJ):n.details=v(v({},S.details),{},{fulfilled:!0,incomplete:!1,cluster:t.payload.data});break;case f.em.$I:n.details=v({},S.details);break;case(0,b.b)(f.em.EO):n.createdCluster=v(v({},S.createdCluster),(0,E.ZC)(t));break;case(0,b.UJ)(f.em.EO):n.createdCluster=v(v({},S.createdCluster),{},{pending:!0});break;case(0,b.Kn)(f.em.EO):n.createdCluster=v(v({},S.createdCluster),{},{cluster:t.payload.data,fulfilled:!0});break;case f.em.Sp:n.createdCluster=v({},S.createdCluster);break;case(0,b.b)(f.em.E$):n.editedCluster=v(v({},S.editedCluster),(0,E.ZC)(t));break;case(0,b.UJ)(f.em.E$):n.editedCluster=v(v({},S.editedCluster),{},{pending:!0});break;case(0,b.Kn)(f.em.E$):n.editedCluster=v(v({},S.editedCluster),{},{cluster:t.payload.data,fulfilled:!0});break;case f.em.DR:n.editedCluster=v({},S.editedCluster);break;case(0,b.Kn)(f.em.Ou):n.archivedCluster=v(v({},S.editedCluster),{},{cluster:t.payload.data,fulfilled:!0});break;case(0,b.b)(f.em.Ou):n.archivedCluster=v(v({},S.archivedCluster),(0,E.ZC)(t));break;case(0,b.UJ)(f.em.Ou):n.archivedCluster=v(v({},S.archivedCluster),{},{pending:!0});break;case f.em.GF:n.archivedCluster=v({},S.archivedCluster);break;case(0,b.Kn)(f.em.lb):n.hibernatingCluster=v(v({},S.hibernatingCluster),{},{cluster:t.payload.data,fulfilled:!0});break;case(0,b.b)(f.em.lb):n.hibernatingCluster=v(v({},S.hibernatingCluster),(0,E.ZC)(t));break;case(0,b.UJ)(f.em.lb):n.hibernatingCluster={pending:!0};break;case f.em.Q6:n.hibernatingCluster=v({},S.hibernatingCluster);break;case(0,b.Kn)(f.em.fK):n.resumeHibernatingCluster=v(v({},S.resumeHibernatingCluster),{},{fulfilled:!0});break;case(0,b.b)(f.em.fK):n.resumeHibernatingCluster=v(v({},S.resumeHibernatingCluster),(0,E.ZC)(t));break;case(0,b.UJ)(f.em.fK):n.resumeHibernatingCluster={pending:!0};break;case f.em.ai:n.resumeHibernatingCluster=v({},S.resumeHibernatingCluster);break;case(0,b.Kn)(f.em.Ge):n.unarchivedCluster=v(v({},S.unarchivedCluster),{},{cluster:t.payload.data,fulfilled:!0});break;case(0,b.b)(f.em.Ge):n.unarchivedCluster=v(v({},S.unarchivedCluster),(0,E.ZC)(t));break;case(0,b.UJ)(f.em.Ge):n.unarchivedCluster=v(v({},S.unarchivedCluster),{},{pending:!0});break;case f.em.H8:n.unarchivedCluster=v({},S.unarchivedCluster);break;case(0,b.Kn)(f.em.nO):n.upgradedCluster=v(v({},S.upgradedCluster),{},{cluster:t.payload.data,fulfilled:!0});break;case(0,b.b)(f.em.nO):n.upgradedCluster=v(v({},S.upgradedCluster),(0,E.ZC)(t));break;case(0,b.UJ)(f.em.nO):n.upgradeCluster=v(v({},S.upgradedCluster),{},{pending:!0});break;case f.em.nn:n.upgradedCluster=v({},S.upgradedCluster);break;case(0,b.b)(f.em.zg):n.clusterStatus=v(v({},S.clusterStatus),(0,E.ZC)(t));break;case(0,b.UJ)(f.em.zg):n.clusterStatus=v(v({},S.clusterStatus),{},{pending:!0,status:e.clusterStatus.status});break;case(0,b.Kn)(f.em.zg):n.clusterStatus=v(v({},S.clusterStatus),{},{fulfilled:!0,status:t.payload.data});break;default:return e}}))}P.initialState=S;var w=n(924);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I={requestState:b.kN,requestDownloadState:b.kN,externalClusterID:void 0,logs:[],data:void 0,format:"",fetchedClusterLogsAt:void 0};function A(e=I,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.UJ)(w.y$):e.requestState=D(D({},b.kN),{},{pending:!0});break;case(0,b.Kn)(w.y$):e.externalClusterID=t.payload.externalClusterID,e.clusterLogInitialized=e.externalClusterID,e.requestState=D(D({},b.kN),{},{fulfilled:!0}),e.logs=t.payload.logs.data.items,e.fetchedClusterLogsAt=new Date;break;case(0,b.b)(w.y$):e.externalClusterID=t.payload.externalClusterID,e.logs=[],e.requestState=D({},(0,E.ZC)(t));break;case f.UI.Iv:e.requestState=b.kN;break;case(0,b.UJ)(w.d_):e.requestDownloadState=D(D({},b.kN),{},{pending:!0}),e.data=void 0;break;case(0,b.Kn)(w.d_):e.requestDownloadState=D(D({},b.kN),{},{fulfilled:!0}),e.data=t.payload.response.data,e.format=t.payload.format;break;case(0,b.b)(w.d_):e.requestDownloadState=D({},(0,E.ZC)(t)),e.data=void 0;break;case w.w$:e.requestState=b.kN}}))}A.initialState=I;var N=n(48143);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=M(M({},b.kN),{},{cluster:null});function x(e=j,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.b)(N.UQ.DELETE_CLUSTER):return M(M({},j),(0,E.ZC)(t));case(0,b.UJ)(N.UQ.DELETE_CLUSTER):e.pending=!0;break;case(0,b.Kn)(N.UQ.DELETE_CLUSTER):return M(M({},j),{},{cluster:t.payload.data,fulfilled:!0});case N.UQ.CLEAR_DELETE_CLUSTER_RESPONSE:return j}}))}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}x.initialState=j;const Z={currentPage:1,pageSize:50,totalCount:0,totalPages:0,filter:"",sorting:{sortField:"name",isAscending:!0,sortIndex:0},flags:{showArchived:!1}},B={currentPage:1,pageSize:20,totalCount:0,totalPages:0,filter:{description:""},sorting:{sortField:"timestamp",isAscending:!1},flags:{conditionalFilterFlags:{severityTypes:[]}}},G={currentPage:1,pageSize:5,totalCount:0,totalPages:0},H={};H[f.R$.fk]=F(Z),H[f.R$.Kv]=F(Z),H[f.R$.X0]=F(B),H[f.R$.TA]=F(G),H[f.R$.KV]=F(G);const V=(e=H,t)=>{const n={},r=(t,r)=>{const a=r,s=Math.ceil(a/e[t].pageSize);n[t]=U(U({},e[t]),{},{totalCount:a,totalPages:s,currentPage:Math.min(e[t].currentPage,s||1)})};switch(t.type){case f.UI.qJ:return n[t.viewType]=U(U({},e[t.viewType]),{},{currentPage:1}),U(U({},e),n);case f.UI.X:return n[t.viewType]=U(U({},e[t.viewType]),{},{currentPage:e[t.viewType].totalPages}),U(U({},e),n);case f.UI.SV:return e[t.viewType].currentPage<2?e:(n[t.viewType]=U(U({},e[t.viewType]),{},{currentPage:e[t.viewType].currentPage-1}),U(U({},e),n));case f.UI.eC:return e[t.viewType].currentPage>=e[t.viewType].totalPages?e:(n[t.viewType]=U(U({},e[t.viewType]),{},{currentPage:e[t.viewType].currentPage+1}),U(U({},e),n));case f.UI.DG:return!Number.isInteger(t.pageNumber)||t.pageNumber<1||t.pageNumber>e[t.viewType].totalPages?e:(n[t.viewType]=U(U({},e[t.viewType]),{},{currentPage:t.pageNumber}),U(U({},e),n));case f.UI.G7:return n[t.viewType]=U(U({},e[t.viewType]),{},{pageSize:t.pageSize}),U(U({},e),n);case(0,b.Kn)(f.em.HZ):return r(f.R$.fk,t.payload.data.total),r(f.R$.Kv,t.payload.data.total),U(U({},e),n);case(0,b.Kn)(f.T_.r6):return r(f.R$.TA,t.payload.data.total),U(U({},e),n);case(0,b.Kn)(f.jn.H4):return r(f.R$.KV,t.payload.data.total),U(U({},e),n);case(0,b.Kn)(w.y$):return r(f.R$.X0,t.payload.logs.data.total),U(U({},e),n);case(0,b.b)(w.y$):return r(f.R$.X0,0),U(U({},e),n);case f.UI.Gu:return n[t.viewType]=U(U({},e[t.viewType]),{},{filter:t.filter,currentPage:1}),U(U({},e),n);case f.UI.jv:return n[t.viewType]=U(U({},e[t.viewType]),{},{sorting:t.sorting}),U(U({},e),n);case f.UI.ZY:return n[t.viewType]=U(U({},e[t.viewType]),{},{flags:U(U({},e[t.viewType].flags),{},{[t.key]:t.value})}),U(U({},e),n);case f.UI.Iv:return n[t.viewType]=U(U({},e[t.viewType]),{},{flags:B.flags,filter:B.filter}),U(U({},e),n);default:return e}};V.initialState=H;var $=n(39317),Q=n(72911);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const J={token:{}};var X=n(27361),ee=n.n(X);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ae={summary:ne({},b.kN),unhealthyClusters:ne(ne({},b.kN),{},{subscriptions:[]})};function se(e=ae,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.b)(f.T_.Ds):e.summary=ne(ne({},ae.summary),(0,E.ZC)(t));break;case(0,b.UJ)(f.T_.Ds):e.summary.pending=!0;break;case(0,b.Kn)(f.T_.Ds):e.summary=ne(ne({},ae.summary),{},{fulfilled:!0,metrics:t.payload.summary});break;case(0,b.b)(f.T_.r6):e.unhealthyClusters=ne(ne({},ae.unhealthyClusters),(0,E.ZC)(t));break;case(0,b.UJ)(f.T_.r6):e.unhealthyClusters.pending=!0;break;case(0,b.Kn)(f.T_.r6):{const n=t.payload.data.items.map((e=>{const t=ee()(e,"metrics[0]",{});return ne(ne({},e),{},{metrics:t})}));e.unhealthyClusters=ne(ne({},ae.unhealthyClusters),{},{fulfilled:!0,subscriptions:n});break}}}))}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}se.initialState=ae;const ce=ie(ie({},b.kN),{},{providers:{}});function ue(e=ce,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.b)(f.lo.g):return ie(ie({},ce),(0,E.ZC)(t));case(0,b.UJ)(f.lo.g):e.pending=!0;break;case(0,b.Kn)(f.lo.g):return ie(ie({},ce),{},{providers:t.payload,fulfilled:!0})}}))}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ue.initialState=ce;const he={report:pe({},b.kN),sources:pe({},b.kN),userAccess:pe({},b.kN)};function ge(e=he,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.b)(f.$k.uc):e.report=pe(pe({},he.report),(0,E.ZC)(t));break;case(0,b.UJ)(f.$k.uc):e.report.pending=!0;break;case(0,b.Kn)(f.$k.uc):e.report=pe(pe({},he.report),{},{fulfilled:!0},t.payload.data);break;case(0,b.b)(f.$k.CL):e.sources=pe(pe({},he.sources),(0,E.ZC)(t));break;case(0,b.UJ)(f.$k.CL):e.sources.pending=!0;break;case(0,b.Kn)(f.$k.CL):e.sources=pe(pe({},he.sources),{},{fulfilled:!0},t.payload.data);break;case(0,b.b)(f.$k.IV):e.userAccess=pe(pe({},he.userAccess),(0,E.ZC)(t));break;case(0,b.UJ)(f.$k.IV):e.userAccess.pending=!0;break;case(0,b.Kn)(f.$k.IV):e.userAccess=pe(pe({},he.userAccess),{},{fulfilled:!0},t.payload.data)}}))}ge.initialState=he;var be=n(6580);const Ee={modalName:null,data:{}};function fe(e=Ee,t){return(0,g.ZP)(e,(e=>{switch(t.type){case be.a6:e.modalName=t.payload.name,e.data=t.payload.data||{};break;case be.et:return Ee}}))}fe.initialState=Ee;const ye=fe;var ve=n(96616);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Se=Ce(Ce({},b.kN),{},{lines:"",len:0,logType:void 0});function Pe(e=Se,t){return(0,g.ZP)(e,(n=>{switch(t.type){case(0,b.UJ)(ve.E8):n.pending=!0;break;case(0,b.Kn)(ve.E8):{let n,r;return t.payload.logType===e.logType?(n=t.payload.data.content?e.lines+t.payload.data.content:e.lines,r=t.payload.data.content?e.len+t.payload.data.content.split("\n").length:e.len):(n=t.payload.data.content||"",r=t.payload.data.content?t.payload.data.content.split("\n").length:0),Ce(Ce({},Se),{},{lines:n,len:r,fulfilled:!0,logType:t.payload.logType})}case(0,b.b)(ve.E8):return Ce(Ce(Ce({},Se),(0,E.ZC)(t)),{},{lines:e.lines,len:e.len});case ve.G1:return Se}}))}Pe.initialState=Se;var we=n(895);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ie={clusterIdentityProviders:De(De({},b.kN),{},{clusterIDPList:[]}),createdClusterIDP:De(De({},b.kN),{},{data:{}}),deletedIDP:De({},b.kN),editClusterIDP:De(De({},b.kN),{},{data:{}})};function Ae(e=Ie,t){return(0,g.ZP)(e,(e=>{switch(t.type){case we.pn.RESET_IDENTITY_PROVIDERS_STATE:return Ie;case(0,b.b)(we.pn.GET_CLUSTER_IDENTITY_PROVIDERS):e.clusterIdentityProviders=De(De({},Ie.clusterIdentityProviders),(0,E.ZC)(t));break;case(0,b.UJ)(we.pn.GET_CLUSTER_IDENTITY_PROVIDERS):e.clusterIdentityProviders.pending=!0;break;case(0,b.Kn)(we.pn.GET_CLUSTER_IDENTITY_PROVIDERS):e.clusterIdentityProviders=De(De({},Ie.clusterIdentityProviders),{},{clusterIDPList:t.payload.data.items||[],fulfilled:!0});break;case(0,b.b)(we.pn.CREATE_CLUSTER_IDENTITY_PROVIDER):e.createdClusterIDP=De(De({},Ie.createdClusterIDP),(0,E.ZC)(t));break;case(0,b.UJ)(we.pn.CREATE_CLUSTER_IDENTITY_PROVIDER):e.createdClusterIDP.pending=!0;break;case(0,b.Kn)(we.pn.CREATE_CLUSTER_IDENTITY_PROVIDER):e.createdClusterIDP=De(De({},Ie.createdClusterIDP),{},{fulfilled:!0,clusterIdentityProviders:t.payload.data});break;case(0,b.b)(we.pn.UPDATE_CLUSTER_IDENTITY_PROVIDER):e.editClusterIDP=De(De({},Ie.editClusterIDP),(0,E.ZC)(t));break;case(0,b.UJ)(we.pn.UPDATE_CLUSTER_IDENTITY_PROVIDER):e.editClusterIDP.pending=!0;break;case(0,b.Kn)(we.pn.UPDATE_CLUSTER_IDENTITY_PROVIDER):e.editClusterIDP=De(De({},Ie.editClusterIDP),{},{fulfilled:!0,clusterIdentityProviders:t.payload.data});break;case we.pn.RESET_CREATED_CLUSTER_IDP_RESPONSE:e.createdClusterIDP=De({},Ie.createdClusterIDP),e.editClusterIDP=De({},Ie.editClusterIDP);break;case(0,b.UJ)(we.pn.DELETE_IDENTITY_PROVIDER):e.deletedIDP.pending=!0;break;case(0,b.b)(we.pn.DELETE_IDENTITY_PROVIDER):e.deletedIDP=De(De({},Ie.deletedIDP),(0,E.ZC)(t));break;case(0,b.Kn)(we.pn.DELETE_IDENTITY_PROVIDER):e.deletedIDP=De(De({},Ie.deletedIDP),{},{fulfilled:!0});break;case we.pn.RESET_DELETED_IDP_RESPONSE:e.deletedIDP=De({},Ie.deletedIDP)}}))}Ae.initialState=Ie;var Ne=n(89734),Le=n.n(Ne),Me=n(11972);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qe={roles:je(je({},b.kN),{},{data:[]}),grants:je(je({},b.kN),{},{data:[]}),addGrantResponse:je({},b.kN),deleteGrantResponse:je({},b.kN)};function Ue(e=qe,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.UJ)(Me.Qi):e.roles.pending=!0;break;case(0,b.Kn)(Me.Qi):e.roles=je(je({},qe.roles),{},{fulfilled:!0,data:t.payload.data.items.map((e=>({id:e.id,displayName:e.display_name||e.id,description:e.description})))});break;case(0,b.b)(Me.Qi):e.roles=je(je({},qe.roles),(0,E.ZC)(t));break;case(0,b.UJ)(Me.k1):e.grants.pending=!0;break;case(0,b.Kn)(Me.k1):e.grants=je(je({},qe.grants),{},{fulfilled:!0,data:Le()(t.payload.data.items,["user_arn","role.id"])});break;case(0,b.b)(Me.k1):e.grants=je(je({},qe.grants),(0,E.ZC)(t));break;case(0,b.UJ)(Me.o8):e.addGrantResponse.pending=!0;break;case(0,b.Kn)(Me.o8):e.addGrantResponse=je(je({},qe.addGrantResponse),{},{fulfilled:!0});break;case(0,b.b)(Me.o8):e.addGrantResponse=je(je({},qe.addGrantResponse),(0,E.ZC)(t));break;case Me.Eo:e.addGrantResponse=je({},qe.addGrantResponse);break;case(0,b.UJ)(Me.Zh):e.deleteGrantResponse.pending=!0;break;case(0,b.Kn)(Me.Zh):e.deleteGrantResponse=je(je({},qe.deleteGrantResponse),{},{fulfilled:!0});break;case(0,b.b)(Me.Zh):e.deleteGrantResponse=je(je({},qe.addGrantResponse),(0,E.ZC)(t))}}))}Ue.initialState=qe;const ze=Ue;var Fe=n(68480);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const He={alerts:Be(Be({},b.kN),{},{data:[]}),nodes:Be(Be({},b.kN),{},{data:[]}),operators:Be(Be({},b.kN),{},{data:[]})};function Ve(e=He,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.b)(Fe.Z.GET_ONDEMAND_METRICS):e.alerts=Be(Be({},He.alerts),(0,E.ZC)(t)),e.nodes=Be(Be({},He.nodes),(0,E.ZC)(t)),e.operators=Be(Be({},He.operators),(0,E.ZC)(t));break;case(0,b.UJ)(Fe.Z.GET_ONDEMAND_METRICS):e.alerts.pending=!0,e.operators.pending=!0,e.nodes.pending=!0;break;case(0,b.Kn)(Fe.Z.GET_ONDEMAND_METRICS):e.alerts=Be(Be({},He.alerts),{},{fulfilled:!0,data:t.payload.data.alerts}),e.nodes=Be(Be({},He.nodes),{},{fulfilled:!0,data:t.payload.data.nodes}),e.operators=Be(Be({},He.operators),{},{fulfilled:!0,data:t.payload.data.cluster_operators});break;case Fe.Z.CLEAR_MONITORING_STATE:return He}}))}Ve.initialState=He;var $e=n(43620);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ke={groupUsers:We(We({},b.kN),{},{clusterID:void 0,users:[]}),deleteUserResponse:We({},b.kN),addUserResponse:We({},b.kN)};function Je(e=Ke,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.UJ)($e.Z.GET_USERS):e.groupUsers.pending=!0;break;case(0,b.Kn)($e.Z.GET_USERS):{const n=[];t.payload.data.items.forEach((e=>ee()(e,"users.items",[]).forEach((t=>n.push(We(We({},t),{},{group:e.id})))))),e.groupUsers=We(We({},b.kN),{},{fulfilled:!0,clusterID:t.payload.clusterID,users:n});break}case(0,b.b)($e.Z.GET_DEDICATED_ADMNIS):e.groupUsers=We(We({},Ke.groupUsers),(0,E.ZC)(t));break;case(0,b.UJ)($e.Z.ADD_USER):e.addUserResponse.pending=!0;break;case(0,b.Kn)($e.Z.ADD_USER):e.addUserResponse={pending:!1,fulfilled:!0};break;case(0,b.b)($e.Z.ADD_USER):e.addUserResponse=We(We({},Ke),(0,E.ZC)(t));break;case(0,b.UJ)($e.Z.DELETE_USER):e.deleteUserResponse.pending=!0;break;case(0,b.Kn)($e.Z.DELETE_USER):e.deleteUserResponse={pending:!1,fulfilled:!0};break;case(0,b.b)($e.Z.DELETE_USER):e.deleteUserResponse=We(We({},Ke),(0,E.ZC)(t));break;case $e.Z.CLEAR_ADD_USER_RESPONSES:e.addUserResponse=We({},b.kN);break;case $e.Z.CLEAR_USER_RESPONSES:return Ke}}))}Je.initialState=Ke;const Xe=Je;var et=n(61232);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const at={notificationContacts:nt(nt({},b.kN),{},{contacts:[],clusterID:""}),deleteContactResponse:nt({},b.kN),addContactResponse:nt({},b.kN),supportCases:nt(nt({},b.kN),{},{cases:[],clusterID:""})};function st(e=at,t){return(0,g.ZP)(e,(e=>{var n,r,a,s,l,i,o,c,u,d,p,m,h;let g,f,y;switch(t.type){case(0,b.UJ)(et.x.GET_NOTIFICATION_CONTACTS):e.notificationContacts.pending=!0;break;case(0,b.Kn)(et.x.GET_NOTIFICATION_CONTACTS):f=(null===(n=t.payload)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.items)||[],e.notificationContacts=nt(nt({},b.kN),{},{fulfilled:!0,subscriptionID:null===(a=t.payload)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.subscriptionID,contacts:f.map((e=>({userID:e.id,username:e.username,email:e.email,firstName:e.first_name,lastName:e.last_name})))});break;case(0,b.b)(et.x.GET_NOTIFICATION_CONTACTS):e.notificationContacts=nt(nt({},at.notificationContacts),(0,E.ZC)(t));break;case(0,b.UJ)(et.x.DELETE_NOTIFICATION_CONTACT):e.deleteContactResponse.pending=!0,e.deleteContactResponse.accountID=t.accountID;break;case(0,b.Kn)(et.x.DELETE_NOTIFICATION_CONTACT):e.deleteContactResponse.pending=!1,e.deleteContactResponse.fulfilled=!0,e.notificationContacts.contacts=e.notificationContacts.contacts.filter((t=>t.userID!==e.deleteContactResponse.accountID));break;case(0,b.b)(et.x.DELETE_NOTIFICATION_CONTACT):e.deleteContactResponse=nt({pending:!1,fulfilled:!1},(0,E.ZC)(t));break;case(0,b._X)(et.x.DELETE_NOTIFICATION_CONTACT):e.deleteContactResponse=nt({},b.kN);break;case(0,b.UJ)(et.x.ADD_NOTIFICATION_CONTACT):e.addContactResponse.pending=!0;break;case(0,b.Kn)(et.x.ADD_NOTIFICATION_CONTACT):e.addContactResponse.pending=!1,e.addContactResponse.fulfilled=!0,g=(null===(l=t.payload)||void 0===l?void 0:l.data)||[],g=Array.isArray(g)?g:[g],e.addContactResponse.count=g.length,g.forEach((t=>e.notificationContacts.contacts.push({userID:t.id,username:t.username,email:t.email,firstName:t.first_name,lastName:t.last_name})));break;case(0,b.b)(et.x.ADD_NOTIFICATION_CONTACT):e.addContactResponse=nt({pending:!1,fulfilled:!1},(0,E.ZC)(t)),e.addContactResponse.errorMessage=(null===(i=t.payload)||void 0===i||null===(o=i.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.reason)||e.addContactResponse.errorMessage;break;case(0,b._X)(et.x.ADD_NOTIFICATION_CONTACT):e.addContactResponse=nt({},b.kN);break;case(0,b.UJ)(et.x.GET_SUPPORT_CASES):e.supportCases.pending=!0;break;case(0,b.Kn)(et.x.GET_SUPPORT_CASES):y=(null===(u=t.payload)||void 0===u||null===(d=u.data)||void 0===d||null===(p=d.response)||void 0===p?void 0:p.docs)||[],e.supportCases=nt(nt({},b.kN),{},{fulfilled:!0,subscriptionID:null===(m=t.payload)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.subscriptionID,cases:y.map((e=>({summary:e.case_summary,caseID:e.case_number,ownerID:e.case_owner,severity:e.case_severity,status:e.case_status,lastModifiedBy:e.case_lastModifiedByName,lastModifiedDate:e.case_lastModifiedDate})))});break;case(0,b.b)(et.x.GET_SUPPORT_CASES):e.supportCases=nt(nt({},at.supportCases),(0,E.ZC)(t));break;case(0,b._X)(et.x.NOTIFICATION_CONTACTS):return at}}))}st.initialState=at;const lt=st;var it=n(31300);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const dt={addOns:ct(ct({},b.kN),{},{items:[],resourceNames:[]}),clusterAddOns:ct(ct({},b.kN),{},{clusterID:void 0,items:[]}),addClusterAddOnResponse:ct({},b.kN),updateClusterAddOnResponse:ct({},b.kN),deleteClusterAddOnResponse:ct({},b.kN)};function pt(e=dt,t){return(0,g.ZP)(e,(n=>{switch(t.type){case it.Z.CLEAR_CLUSTER_ADDON_RESPONSES:return ct(ct({},dt),{},{addOns:e.addOns,clusterAddOns:e.clusterAddOns});case(0,b.b)(it.Z.GET_ADDONS):n.addOns=ct(ct({},dt.addOns),(0,E.ZC)(t));break;case(0,b.UJ)(it.Z.GET_ADDONS):n.addOns.pending=!0;break;case(0,b.Kn)(it.Z.GET_ADDONS):n.addOns=ct(ct({},dt.addOns),{},{fulfilled:!0,items:t.payload.items,resourceNames:t.payload.resourceNames});break;case(0,b.b)(it.Z.GET_CLUSTER_ADDONS):n.clusterAddOns=ct(ct({},dt.clusterAddOns),(0,E.ZC)(t));break;case(0,b.UJ)(it.Z.GET_CLUSTER_ADDONS):n.clusterAddOns.pending=!0;break;case(0,b.Kn)(it.Z.GET_CLUSTER_ADDONS):n.clusterAddOns=ct(ct({},dt.clusterAddOns),{},{fulfilled:!0,clusterID:t.payload.clusterID,items:t.payload.items});break;case(0,b.b)(it.Z.ADD_CLUSTER_ADDON):n.addClusterAddOnResponse=ct(ct({},dt.addClusterAddOnResponse),(0,E.ZC)(t));break;case(0,b.UJ)(it.Z.ADD_CLUSTER_ADDON):n.addClusterAddOnResponse.pending=!0;break;case(0,b.Kn)(it.Z.ADD_CLUSTER_ADDON):n.addClusterAddOnResponse=ct(ct({},dt.addClusterAddOnResponse),{},{fulfilled:!0});break;case(0,b.b)(it.Z.UPDATE_CLUSTER_ADDON):n.updateClusterAddOnResponse=ct(ct({},dt.updateClusterAddOnResponse),(0,E.ZC)(t));break;case(0,b.UJ)(it.Z.UPDATE_CLUSTER_ADDON):n.updateClusterAddOnResponse.pending=!0;break;case(0,b.Kn)(it.Z.UPDATE_CLUSTER_ADDON):n.updateClusterAddOnResponse=ct(ct({},dt.updateClusterAddOnResponse),{},{fulfilled:!0});break;case(0,b.b)(it.Z.DELETE_CLUSTER_ADDON):n.deleteClusterAddOnResponse=ct(ct({},dt.deleteClusterAddOnResponse),(0,E.ZC)(t));break;case(0,b.UJ)(it.Z.DELETE_CLUSTER_ADDON):n.deleteClusterAddOnResponse.pending=!0;break;case(0,b.Kn)(it.Z.DELETE_CLUSTER_ADDON):n.deleteClusterAddOnResponse=ct(ct({},dt),{},{fulfilled:!0})}}))}pt.initialState=dt;const mt=pt;var ht=n(52346);const gt={errorMessage:void 0,errorTitle:void 0,sourceComponent:void 0};var bt=n(24350),Et=n.n(bt);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ot=yt(yt({},b.kN),{},{types:{},typesByID:{}});function Ct(e){const t=[].concat(ee()(e,"aws",[]),ee()(e,"gcp",[]));return Et()(t,"id")}function Rt(e=Ot,t){switch(t.type){case(0,b.b)(f._z.o):return yt(yt(yt({},Ot),e),(0,E.ZC)(t));case(0,b.UJ)(f._z.o):return yt(yt(yt({},Ot),e),{},{pending:!0});case(0,b.Kn)(f._z.o):return yt(yt(yt({},Ot),e),{},{types:t.payload,typesByID:Ct(t.payload),pending:!1,fulfilled:!0});default:return e}}Rt.initialState=Ot;const St=Rt;var Pt=n(44113);function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _t={insightsData:{},groups:{groups:[],rejected:!1,pending:!1,fulfilled:!1},reportDetails:{report:null,rejected:!1,pending:!1,fulfilled:!1},sendFeedbackOnRuleDisable:{rejected:!1,pending:!1,fulfilled:!1},overview:{overview:null,rejected:!1,pending:!1,fulfilled:!1},disableRule:{rejected:!1,pending:!1,fulfilled:!1}};function It(e=_t,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.Kn)(Pt.Lo):e.insightsData[t.meta.clusterId]=Tt(Tt({},t.payload.insightsData),{},{status:t.payload.status});break;case(0,b.b)(Pt.Lo):e.insightsData[t.meta.clusterId]={status:t.payload.response.status};break;case(0,b.Kn)(Pt.op):e.reportDetails.report=t.payload.data.report,e.reportDetails.fulfilled=!0,e.reportDetails.pending=!1;break;case(0,b.UJ)(Pt.op):e.reportDetails.pending=!0;break;case(0,b.b)(Pt.op):e.reportDetails.rejected=!0,e.reportDetails.pending=!1;break;case(0,b.Kn)(Pt.a$):e.sendFeedbackOnRuleDisable.rejected=!1,e.sendFeedbackOnRuleDisable.pending=!1,e.sendFeedbackOnRuleDisable.fulfilled=!0;break;case(0,b.UJ)(Pt.a$):e.sendFeedbackOnRuleDisable.rejected=!1,e.sendFeedbackOnRuleDisable.pending=!0,e.sendFeedbackOnRuleDisable.fulfilled=!1;break;case(0,b.b)(Pt.a$):e.sendFeedbackOnRuleDisable.rejected=!0,e.sendFeedbackOnRuleDisable.pending=!1,e.sendFeedbackOnRuleDisable.fulfilled=!1;break;case(0,b.Kn)(Pt.fx):e.overview.overview=t.payload.data.overview,e.overview.fulfilled=!0,e.overview.pending=!1;break;case(0,b.UJ)(Pt.fx):e.overview.pending=!0;break;case(0,b.b)(Pt.fx):e.overview.rejected=!0,e.overview.pending=!1;break;case Pt.qX:e.reportDetails.report=t.payload.data.report,e.reportDetails.fulfilled=!0,e.reportDetails.pending=!1;break;case(0,b.Kn)(Pt.je):e.reportDetails.fulfilled=!0,e.reportDetails.pending=!1,e.reportDetails.rejected=!1;break;case(0,b.UJ)(Pt.je):e.reportDetails.fulfilled=!1,e.reportDetails.pending=!0,e.reportDetails.rejected=!1;break;case(0,b.b)(Pt.je):e.reportDetails.fulfilled=!1,e.reportDetails.pending=!1,e.reportDetails.rejected=!0;break;case(0,b.Kn)(Pt.Dg):e.reportDetails.fulfilled=!0,e.reportDetails.pending=!1,e.reportDetails.rejected=!1;break;case(0,b.UJ)(Pt.Dg):e.reportDetails.fulfilled=!1,e.reportDetails.pending=!0,e.reportDetails.rejected=!1;break;case(0,b.b)(Pt.Dg):e.reportDetails.fulfilled=!1,e.reportDetails.pending=!1,e.reportDetails.rejected=!0}}))}It.initialState=_t;const At=It;var Nt=n(97875);function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const jt={account:Mt(Mt({},b.kN),{},{valid:!1,data:{}}),subscriptions:Mt(Mt({},b.kN),{},{valid:!1,items:[]}),quotaSummary:Mt(Mt({},b.kN),{},{valid:!1,items:[]}),quotaCost:Mt(Mt({},b.kN),{},{valid:!1,items:[]}),subscriptionID:Mt(Mt({},b.kN),{},{id:void 0})};function xt(e=jt,t){return(0,g.ZP)(e,(n=>{switch(t.type){case(0,b._X)(f.jn.CJ):n.account=Mt(Mt({},jt.account),{},{valid:!1});break;case(0,b.b)(f.jn.CJ):n.account=Mt(Mt(Mt({},jt.account),(0,E.ZC)(t)),{},{valid:!0});break;case(0,b.UJ)(f.jn.CJ):n.account.pending=!0;break;case(0,b.Kn)(f.jn.CJ):n.account=Mt(Mt({},jt.account),{},{fulfilled:!0,valid:!0,data:t.payload.data});break;case(0,b._X)(f.jn.H4):n.subscriptions=Mt(Mt({},jt.subscriptions),{},{valid:!1});break;case(0,b.b)(f.jn.H4):n.subscriptions=Mt(Mt(Mt({},jt.subscriptions),(0,E.ZC)(t)),{},{valid:!0,items:e.subscriptions.items});break;case(0,b.UJ)(f.jn.H4):n.subscriptions.pending=!0;break;case(0,b.Kn)(f.jn.H4):n.subscriptions=Mt(Mt({},jt.subscriptions),{},{fulfilled:!0,valid:!0,items:t.payload.data.items});break;case(0,b.b)(f.jn.he):n.subscriptionID=Mt(Mt({},jt.subscriptionID),(0,E.ZC)(t));break;case(0,b.UJ)(f.jn.he):n.subscriptionID=Mt(Mt({},jt.subscriptionID),{},{pending:!0});break;case(0,b.Kn)(f.jn.he):n.subscriptionID=Mt(Mt({},jt.subscriptionID),{},{fulfilled:!0,id:t.payload});break;case f.jn.I8:n.subscriptionID=Mt({},jt.subscriptionID);break;case(0,b._X)(f.jn.H6):n.quotaCost=Mt(Mt({},jt.quotaCost),{},{valid:!1});break;case(0,b.b)(f.jn.H6):n.quotaCost=Mt(Mt(Mt({},jt.quotaCost),(0,E.ZC)(t)),{},{valid:!0,items:e.quotaCost.items});break;case(0,b.UJ)(f.jn.H6):n.quotaCost.pending=!0;break;case(0,b.Kn)(f.jn.H6):n.quotaCost=Mt(Mt({},jt.quotaCost),{},{fulfilled:t.payload.data.items&&t.payload.data.items.length>0,valid:!0,items:t.payload.data.items.map(Nt.ME)})}}))}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}xt.initialState=jt;const Ft=Ut(Ut({},b.kN),{},{values:[]});function Zt(e=Ft,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.b)(f.Hn.Z):return Ut(Ut({},Ft),(0,E.ZC)(t));case(0,b.UJ)(f.Hn.Z):e.pending=!0;break;case(0,b.Kn)(f.Hn.Z):return Ut(Ut({},Ft),{},{fulfilled:!0,values:t.payload})}}))}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Zt.initialState=Ft;const Vt=Gt(Gt({},b.kN),{},{values:[]});function $t(e=Vt,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.b)(f.dN.E):return Gt(Gt({},Vt),(0,E.ZC)(t));case(0,b.UJ)(f.dN.E):e.pending=!0;break;case(0,b.Kn)(f.dN.E):return Gt(Gt({},Vt),{},{fulfilled:!0,values:t.payload})}}))}function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){Yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$t.initialState=Vt;const Kt={requestState:b.kN,data:{}};function Jt(e=Kt,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.UJ)(f.rm.f):e.requestState=Wt(Wt({},b.kN),{},{pending:!0});break;case(0,b.b)(f.rm.f):e.requestState=(0,E.ZC)(t);break;case(0,b.Kn)(f.rm.f):e.requestState=Wt(Wt({},b.kN),{},{fulfilled:!0}),e.data=t.payload.data;break;case f.rm.Q:e.requestState=b.kN,e.data={}}}))}Jt.initialState=Kt;var Xt=n(78852);function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const rn={requestState:b.kN,data:{}};function an(e=rn,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.UJ)(Xt.a):e.requestState=tn(tn({},b.kN),{},{pending:!0});break;case(0,b.b)(Xt.a):e.requestState=(0,E.ZC)(t);break;case(0,b.Kn)(Xt.a):e.requestState=tn(tn({},b.kN),{},{fulfilled:!0}),e.data=t.payload.data;break;case Xt.H:return rn}}))}an.initialState=rn;var sn=n(36008);function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const un={getRouters:on(on({},b.kN),{},{routers:[]}),editRouters:on({},b.kN)};function dn(e=un,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.b)(sn.l9.GET_CLUSTER_ROUTERS):e.getRouters=on(on({},un),(0,E.ZC)(t));break;case(0,b.UJ)(sn.l9.GET_CLUSTER_ROUTERS):e.getRouters.pending=!0;break;case(0,b.Kn)(sn.l9.GET_CLUSTER_ROUTERS):e.getRouters=on(on({},un),{},{routers:t.payload.data.items||[],fulfilled:!0});break;case(0,b.b)(sn.l9.EDIT_CLUSTER_ROUTERS):e.editRouters=on(on({},un),(0,E.ZC)(t));break;case(0,b.UJ)(sn.l9.EDIT_CLUSTER_ROUTERS):e.editRouters.pending=!0;break;case(0,b.Kn)(sn.l9.EDIT_CLUSTER_ROUTERS):e.editRouters=on(on({},b.kN),{},{fulfilled:!0});break;case sn.l9.RESET_EDIT_ROUTERS_RESPONSE:e.editRouters=on({},b.kN);break;case sn.l9.RESET_CLUSTER_ROUTERS:return un}}))}dn.initialState=un;var pn=n(9133);function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const bn=hn(hn({},b.kN),{},{supportStatus:{}});var En=n(41724);function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const On=yn(yn({},b.kN),{},{entitlementConfig:{}});var Cn=n(30381),Rn=n.n(Cn),Sn=n(18619);function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dn={versionInfo:wn(wn({},b.kN),{},{version:void 0,availableUpgrades:[]}),postedUpgradeSchedule:wn({},b.kN),deleteScheduleRequest:wn({},b.kN),schedules:wn(wn({},b.kN),{},{items:[]})};function _n(e=Dn,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.UJ)(Sn._b):e.postedUpgradeSchedule.pending=!0;break;case(0,b.Kn)(Sn._b):e.postedUpgradeSchedule=wn(wn({},Dn.upgradeSchedule),{},{fulfilled:!0});break;case(0,b.b)(Sn._b):e.postedUpgradeSchedule=wn(wn({},Dn),(0,E.ZC)(t));break;case Sn.n2:e.postedUpgradeSchedule=wn({},Dn);break;case(0,b.UJ)(Sn.cr):e.schedules.pending=!0;break;case(0,b.Kn)(Sn.cr):{var n,r;const a=(null===(n=t.payload)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.items)||[];a.sort(((e,t)=>Rn()(e.next_run).unix()-Rn()(t.next_run).unix())),e.schedules=wn(wn({},Dn.schedules),{},{fulfilled:!0,items:a});break}case(0,b.b)(Sn.cr):e.schedules=wn(wn({},Dn.schedules),(0,E.ZC)(t));break;case Sn.n7:e.schedules=wn({},Dn.schedules);break;case(0,b.UJ)(Sn.p):e.deleteScheduleRequest.pending=!0;break;case(0,b.Kn)(Sn.p):e.deleteScheduleRequest=wn(wn({},Dn.deleteScheduleRequest),{},{fulfilled:!0});break;case(0,b.b)(Sn.p):e.deleteScheduleRequest=wn(wn({},Dn.deleteScheduleRequest),(0,E.ZC)(t));break;case Sn.To:e.deleteScheduleRequest=wn({},Dn.deleteScheduleRequest)}}))}_n.initialState=Dn;const In=_n;var An=n(80148);function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){Mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kn={getMachinePools:Ln(Ln({},b.kN),{},{data:[]}),addMachinePoolResponse:Ln({},b.kN),scaleMachinePoolResponse:Ln({},b.kN),deleteMachinePoolResponse:Ln({},b.kN)};function jn(e=kn,t){return(0,g.ZP)(e,(e=>{var n;switch(t.type){case(0,b.UJ)(An.b):e.getMachinePools.pending=!0;break;case(0,b.Kn)(An.b):e.getMachinePools=Ln(Ln({},kn.getMachinePools),{},{fulfilled:!0,data:(null===(n=t.payload.data)||void 0===n?void 0:n.items)||[]});break;case(0,b.b)(An.b):e.getMachinePools=Ln(Ln({},kn.getMachinePools),(0,E.ZC)(t));break;case(0,b.UJ)(An.rY):e.addMachinePoolResponse.pending=!0;break;case(0,b.Kn)(An.rY):e.addMachinePoolResponse=Ln(Ln({},kn.addMachinePoolResponse),{},{fulfilled:!0});break;case(0,b.b)(An.rY):e.addMachinePoolResponse=Ln(Ln({},kn.addMachinePoolResponse),(0,E.ZC)(t));break;case An.v8:e.addMachinePoolResponse=Ln({},kn.addMachinePoolResponse);break;case(0,b.UJ)(An.p3):e.scaleMachinePoolResponse.pending=!0;break;case(0,b.Kn)(An.p3):e.scaleMachinePoolResponse=Ln(Ln({},kn.scaleMachinePoolResponse),{},{fulfilled:!0});break;case(0,b.b)(An.p3):e.scaleMachinePoolResponse=Ln(Ln({},kn.scaleMachinePoolResponse),(0,E.ZC)(t));break;case An.dI:e.scaleMachinePoolResponse=Ln({},kn.scaleMachinePoolResponse);break;case(0,b.UJ)(An.lZ):e.deleteMachinePoolResponse.pending=!0;break;case(0,b.Kn)(An.lZ):e.deleteMachinePoolResponse=Ln(Ln({},kn.deleteMachinePoolResponse),{},{fulfilled:!0});break;case(0,b.b)(An.lZ):e.deleteMachinePoolResponse=Ln(Ln({},kn.deleteMachinePoolResponse),(0,E.ZC)(t))}}))}jn.initialState=kn;const xn=jn;var qn=n(33057),Un=n(20450);function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){Zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Bn={};qn.rD.forEach((e=>{Bn[e]=b.kN}));var Gn=n(19909);function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){$n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qn={ccsCredentialsValidity:Vn(Vn({},b.kN),{},{cloudProvider:void 0,credentials:void 0}),gcpKeyRings:Vn(Vn({},b.kN),{},{cloudProvider:void 0,credentials:void 0,keyLocation:void 0,data:void 0}),gcpKeys:Vn(Vn({},b.kN),{},{cloudProvider:void 0,credentials:void 0,keyLocation:void 0,keyRing:void 0,data:void 0})};function Wn(e=Qn,t){return(0,g.ZP)(e,(e=>{var n,r,a,s,l,i,o,c,u,d,p,m,h,g,f,y,v,O,C;switch(t.type){case(0,b.UJ)(Gn.wJ):e.ccsCredentialsValidity.pending=!0;break;case(0,b.Kn)(Gn.wJ):e.ccsCredentialsValidity=Vn(Vn({},Qn.ccsCredentialsValidity),{},{fulfilled:!0,credentials:null===(n=t.meta)||void 0===n?void 0:n.credentials,cloudProvider:null===(r=t.meta)||void 0===r?void 0:r.cloudProvider});break;case(0,b.b)(Gn.wJ):e.ccsCredentialsValidity=Vn(Vn(Vn({},Qn.ccsCredentialsValidity),(0,E.ZC)(t)),{},{credentials:null===(a=t.meta)||void 0===a?void 0:a.credentials,cloudProvider:null===(s=t.meta)||void 0===s?void 0:s.cloudProvider});break;case(0,b.UJ)(Gn.Xj):e.gcpKeyRings.pending=!0;break;case(0,b.Kn)(Gn.Xj):e.gcpKeyRings=Vn(Vn({},Qn.gcpKeyRings),{},{fulfilled:!0,cloudProvider:null===(l=t.meta)||void 0===l?void 0:l.cloudProvider,credentials:null===(i=t.meta)||void 0===i?void 0:i.credentials,keyLocation:null===(o=t.meta)||void 0===o?void 0:o.keyLocation,data:t.payload.data});break;case(0,b.b)(Gn.Xj):e.gcpKeyRings=Vn(Vn(Vn({},Qn.gcpKeyRings),(0,E.ZC)(t)),{},{cloudProvider:null===(c=t.meta)||void 0===c?void 0:c.cloudProvider,credentials:null===(u=t.meta)||void 0===u?void 0:u.credentials,keyLocation:null===(d=t.meta)||void 0===d?void 0:d.keyLocation,data:null===(p=t.payload)||void 0===p?void 0:p.data});break;case(0,b.UJ)(Gn.s_):e.gcpKeys.pending=!0;break;case(0,b.Kn)(Gn.s_):e.gcpKeys=Vn(Vn({},Qn.gcpKeys),{},{fulfilled:!0,cloudProvider:null===(m=t.meta)||void 0===m?void 0:m.cloudProvider,credentials:null===(h=t.meta)||void 0===h?void 0:h.credentials,keyLocation:null===(g=t.meta)||void 0===g?void 0:g.keyLocation,keyRing:null===(f=t.meta)||void 0===f?void 0:f.keyRing,data:t.payload.data});break;case(0,b.b)(Gn.s_):e.gcpKeys=Vn(Vn(Vn({},Qn.gcpKeys),(0,E.ZC)(t)),{},{cloudProvider:null===(y=t.meta)||void 0===y?void 0:y.cloudProvider,credentials:null===(v=t.meta)||void 0===v?void 0:v.credentials,keyLocation:null===(O=t.meta)||void 0===O?void 0:O.keyLocation,keyRing:null===(C=t.meta)||void 0===C?void 0:C.keyRing,data:t.payload.data});break;case Gn.Jy:return Vn({},Qn)}}))}Wn.initialState=Qn;const Yn=Wn;var Kn=n(68994);function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const tr={getOCMRolesResponse:Xn(Xn({},b.kN),{},{data:{}}),grantOCMRoleResponse:Xn({},b.kN),editOCMRoleResponse:Xn({},b.kN),deleteOCMRoleResponse:Xn({},b.kN)};function nr(e=tr,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.UJ)(Kn.Z.GET_OCM_ROLES):e.getOCMRolesResponse.pending=!0;break;case(0,b.Kn)(Kn.Z.GET_OCM_ROLES):e.getOCMRolesResponse=Xn(Xn({},b.kN),{},{fulfilled:!0,data:t.payload.data});break;case(0,b.b)(Kn.Z.GET_OCM_ROLES):e.getOCMRolesResponse=Xn(Xn(Xn({},b.kN),(0,E.ZC)(t)),{},{data:{}});break;case(0,b.UJ)(Kn.Z.GRANT_OCM_ROLE):e.grantOCMRoleResponse.pending=!0;break;case(0,b.Kn)(Kn.Z.GRANT_OCM_ROLE):e.grantOCMRoleResponse=Xn(Xn({},b.kN),{},{fulfilled:!0});break;case(0,b.b)(Kn.Z.GRANT_OCM_ROLE):e.grantOCMRoleResponse=Xn(Xn({},b.kN),(0,E.ZC)(t));break;case(0,b.UJ)(Kn.Z.EDIT_OCM_ROLE):e.editOCMRoleResponse.pending=!0;break;case(0,b.Kn)(Kn.Z.EDIT_OCM_ROLE):e.editOCMRoleResponse=Xn(Xn({},b.kN),{},{fulfilled:!0});break;case(0,b.b)(Kn.Z.EDIT_OCM_ROLE):e.editOCMRoleResponse=Xn(Xn({},b.kN),(0,E.ZC)(t));break;case(0,b.UJ)(Kn.Z.DELETE_OCM_ROLE):e.deleteOCMRoleResponse.pending=!0;break;case(0,b.Kn)(Kn.Z.DELETE_OCM_ROLE):e.deleteOCMRoleResponse=Xn(Xn({},b.kN),{},{fulfilled:!0});break;case(0,b.b)(Kn.Z.DELETE_OCM_ROLE):e.deleteOCMRoleResponse=Xn(Xn({},b.kN),(0,E.ZC)(t));break;case Kn.Z.CLEAR_GET_OCM_ROLES_RESPONSE:e.getOCMRolesResponse=Xn(Xn({},b.kN),{},{data:{}});break;case Kn.Z.CLEAR_GRANT_OCM_ROLE_RESPONSE:e.grantOCMRoleResponse=Xn({},b.kN);break;case Kn.Z.CLEAR_EDIT_OCM_ROLE_RESPONSE:e.editOCMRoleResponse=Xn({},b.kN);break;case Kn.Z.CLEAR_DELETE_OCM_ROLE_RESPONSE:e.deleteOCMRoleResponse=Xn({},b.kN)}}))}nr.initialState=tr;const rr=nr;var ar=n(41447),sr=n(79920);function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const cr={};sr.R.forEach((e=>{cr[e.name]=!1}));var ur=n(64210);function dr(e=null,t){return(0,g.ZP)(e,(()=>{switch(t.type){case ur.tZ:return t.payload;case ur.c:return null}}))}dr.initialState=null;const pr=dr;function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const br={clusters:P,deleteCluster:x,cloudProviders:ue,viewOptions:V,userProfile:$.Z,form:u.Z,tollbooth:(e=J,t)=>{switch(t.type){case`${Q.K}_FULFILLED`:return Y(Y({},e),{},{token:t.payload.data});case`${Q.K}_REJECTED`:return Y(Y({},e),{},{token:(0,E.ZC)(t)});default:return e}},modal:ye,logs:Pe,identityProviders:Ae,clusterUsers:Xe,clusterSupport:lt,addOns:mt,globalError:function(e=gt,t){switch(t.type){case ht.F:return{errorMessage:t.payload.errorMessage,errorTitle:t.payload.errorTitle,sourceComponent:t.payload.sourceComponent};case ht.P:return t.payload.requestingComponent&&t.payload.requestingComponent!==e.sourceComponent?e:gt;default:return e}},machineTypes:St,monitoring:Ve,subscriptions:xt,persistentStorageValues:$t,loadBalancerValues:Zt,clusterLogs:A,notifications:p.ZP,networkSelfService:ze,subscriptionSettings:Jt,subscriptionReleased:an,insightsData:At,clusterRouters:dn,cost:ge,dashboards:se,supportStatus:function(e=bn,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.b)(pn.Z):return hn(hn({},bn),{},{error:!0});case(0,b.UJ)(pn.Z):e.pending=!0;break;case(0,b.Kn)(pn.Z):return hn(hn({},bn),{},{fulfilled:!0,supportStatus:ee()(t.payload,"data.data[0].versions",[]).reduce(((e,t)=>(e[t.name]=t.type,e)),{})})}}))},entitlementConfig:function(e=On,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.b)(En.Z):return yn(yn({},On),{},{error:!0});case(0,b.UJ)(En.Z):e.pending=!0;break;case(0,b.Kn)(En.Z):return yn(yn({},On),{},{fulfilled:!0})}}))},features:(e=cr,t)=>{switch(t.type){case ar.Bc:return ir(ir({},e),{},{[t.payload.feature]:t.payload.enabled});default:return e}},clusterUpgrades:In,apiError:pr,machinePools:xn,githubReleases:function(e=Bn,t){return(0,g.ZP)(e,(e=>{switch(t.type){case(0,b.b)(Un.K):e[t.meta.repo]=Fn(Fn({},Bn[t.meta.repo]),(0,E.ZC)(t));break;case(0,b.UJ)(Un.K):e[t.meta.repo].pending=!0;break;case(0,b.Kn)(Un.K):e[t.meta.repo]=Fn(Fn({},Bn[t.meta.repo]),{},{fulfilled:!0,data:t.payload.data})}}))},ccsInquiries:Yn,ocmRoles:rr};var Er=n(39666),fr=n(51015);function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Or=(0,o.lX)(),Cr=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.compose,Rr=(0,r.createStore)((Sr=Or,(0,r.combineReducers)(hr(hr({},br),{},{router:(0,d.iz)(Sr)}))),Cr((0,r.applyMiddleware)((0,i.Z)(Or),a.Z,l(),(0,c.uv)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){vr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{dispatchDefaultFailure:!1})),(()=>e=>t=>{let n={};switch(t.type){case"@@router/LOCATION_CHANGE":n.location=t.payload.location;break;case"@@redux-form/DESTROY":n.form=t.meta.form;break;case"OPEN_MODAL":n.modalName=t.payload.name;break;default:n=void 0}return Er.n_({category:"redux",message:`Dispatching ${t.type}`,data:n,level:fr.z.Info}),e(t)}))));var Sr},53807:(e,t,n)=>{"use strict";n.d(t,{v:()=>a,Z:()=>s});var r=n(43363);const a=()=>(0,r.Z)({method:"post",url:"/api/accounts_mgmt/v1/access_token"}),s={createAuthorizationToken:a,getDashboard:e=>(0,r.Z)({method:"get",url:`/api/accounts_mgmt/v1/organizations/${e}/summary_dashboard`})}},97968:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(43363);const a={getCurrentAccount:()=>(0,r.Z)({method:"get",url:"/api/accounts_mgmt/v1/current_account"}),getOrganization:e=>(0,r.Z)({method:"get",params:{fetchCapabilities:!0},url:`/api/accounts_mgmt/v1/organizations/${e}`}),getSubscription:e=>(0,r.Z)({method:"get",params:{fetchAccounts:!0,fetchCpuAndSocket:!0,fetchCapabilities:!0},url:`/api/accounts_mgmt/v1/subscriptions/${e}`}),getSubscriptions:e=>(0,r.Z)({method:"get",params:{page:e.page,size:e.page_size,orderBy:e.order,search:e.filter,fields:e.fields,fetchAccounts:!0,fetchCapabilities:!0},url:"/api/accounts_mgmt/v1/subscriptions"}),getUnhealthyClusters:(e,t)=>{let n=`\n    organization_id = '${e}'\n    and status NOT IN ('Deprovisioned', 'Archived')\n    and metrics.health_state = 'unhealthy'\n  `;return t.filter&&""!==t.filter&&(n+=` and ${t.filter}`),(0,r.Z)({method:"get",url:"/api/accounts_mgmt/v1/subscriptions",params:{page:t.page,size:t.page_size,order:t.order,search:n}})},getNotificationContacts:e=>(0,r.Z)({method:"get",url:`/api/accounts_mgmt/v1/subscriptions/${e}/notification_contacts`}),addNotificationContact:(e,t)=>(0,r.Z)({method:"post",data:{account_identifier:t},url:`/api/accounts_mgmt/v1/subscriptions/${e}/notification_contacts`}),deleteNotificationContact:(e,t)=>(0,r.Z)({method:"delete",url:`/api/accounts_mgmt/v1/subscriptions/${e}/notification_contacts/${t}`}),getOrganizationQuota:e=>(0,r.Z)({method:"get",params:{fetchRelatedResources:!0},url:`/api/accounts_mgmt/v1/organizations/${e}/quota_cost`}),editSubscription:(e,t)=>(0,r.Z)({method:"patch",data:t,url:`/api/accounts_mgmt/v1/subscriptions/${e}`}),registerDisconnected:e=>(0,r.Z)({method:"post",url:"/api/accounts_mgmt/v1/subscriptions",data:e}),getOnDemandMetrics:e=>(0,r.Z)({method:"get",url:`/api/accounts_mgmt/v1/subscriptions/${e}/ondemand_metrics`}),getRequest:function(e,t={}){let n;return n="quota_summary"===e[0]?`/api/accounts_mgmt/v1/organizations/${e[1]}/quota_summary`:null,(0,r.Z)({method:"get",params:t,url:n})},getSupportCases:e=>(0,r.Z)({method:"get",url:`/api/accounts_mgmt/v1/subscriptions/${e}/support_cases`}),fetchSubscriptionByExternalId:e=>(0,r.Z)({method:"get",url:"/api/accounts_mgmt/v1/subscriptions",params:{search:`external_cluster_id='${e}'`,fetchAccounts:!0,fetchCpuAndSocket:!0,fetchCapabilities:!0,fetchMetrics:!0}}),createRosaEntitlement:()=>(0,r.Z)({method:"post",url:"/api/accounts_mgmt/v1/self_entitlement/rosa"}),getSubscriptionRoleBindings:e=>(0,r.Z)({method:"get",url:`/api/accounts_mgmt/v1/subscriptions/${e}/role_bindings`}),createSubscriptionRoleBinding:(e,t,n)=>(0,r.Z)({method:"post",data:{account_username:t,role_id:n},url:`/api/accounts_mgmt/v1/subscriptions/${e}/role_bindings`}),deleteSubscriptionRoleBinding:(e,t)=>(0,r.Z)({method:"delete",url:`/api/accounts_mgmt/v1/subscriptions/${e}/role_bindings/${t}`})}},43363:(e,t,n)=>{"use strict";n.d(t,{w:()=>u,Z:()=>d});var r=n(46019),a=n.n(r),s=n(39666),l=n(9047);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=e=>(e.interceptors.request.use((async e=>{await insights.chrome.auth.getUser();const t=await insights.chrome.auth.getToken(),n=e.baseURL||(l.ZP.configData.apiGateway?l.ZP.configData.apiGateway:""),r=o(o({},e),{},{url:`${n}${e.url}`});return t?r.headers=o(o({},r.headers),{},{Authorization:`Bearer ${t}`}):setTimeout((()=>{s.$e((e=>{e.setFingerprint(["empty token"]),s.Tb(new Error("Got empty token from Insights"))}))}),15e3),delete r.customHost,r})),e),d=u(a().create())},6176:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(43363);const a={selfResourceReview:e=>(0,r.Z)({method:"post",url:"/api/authorizations/v1/self_resource_review",data:e}),selfAccessReview:e=>(0,r.Z)({method:"post",url:"/api/authorizations/v1/self_access_review",data:e}),selfTermsReview:()=>(0,r.Z)({method:"post",url:"/api/authorizations/v1/self_terms_review"}),selfFeatureReview:e=>(0,r.Z)({method:"post",data:{feature:e},url:"/api/authorizations/v1/self_feature_review"})}},46743:(e,t,n)=>{"use strict";n.d(t,{c4:()=>a,yl:()=>l,OT:()=>i,Ve:()=>o,CC:()=>s,B$:()=>c,dq:()=>u,ZP:()=>d});var r=n(43363);const a=(e,t)=>(0,r.Z)({method:"post",url:`/api/clusters_mgmt/v1/clusters/${e}/upgrade_policies`,data:t}),s=(e,t,n)=>(0,r.Z)({method:"patch",url:`/api/clusters_mgmt/v1/clusters/${e}/upgrade_policies/${t}`,data:n}),l=e=>(0,r.Z)({method:"get",url:`/api/clusters_mgmt/v1/clusters/${e}/upgrade_policies`,params:{search:"upgrade_type='OSD'"}}),i=(e,t)=>(0,r.Z)({method:"get",url:`/api/clusters_mgmt/v1/clusters/${e}/upgrade_policies/${t}/state`}),o=(e,t)=>(0,r.Z)({method:"delete",url:`/api/clusters_mgmt/v1/clusters/${e}/upgrade_policies/${t}`}),c=(e,t)=>(0,r.Z)({method:"post",url:"/api/clusters_mgmt/v1/gcp_inquiries/vpcs",data:{gcp:e,region:{id:t}}}),u=(e,t,n)=>(0,r.Z)({method:"post",url:"/api/clusters_mgmt/v1/aws_inquiries/regions",data:{aws:{account_id:e,access_key_id:t,secret_access_key:n}}}),d={getClusters:e=>(0,r.Z)({method:"post",url:"/api/clusters_mgmt/v1/clusters?method=get",data:{size:-1,search:e}}),postNewCluster:e=>(0,r.Z)({method:"post",url:"/api/clusters_mgmt/v1/clusters",data:e}),getClusterDetails:e=>(0,r.Z)({method:"get",url:`/api/clusters_mgmt/v1/clusters/${e}`}),editCluster:(e,t)=>(0,r.Z)({method:"patch",url:`/api/clusters_mgmt/v1/clusters/${e}`,data:t}),getCloudProviders:()=>(0,r.Z)({method:"get",params:{size:-1,fetchRegions:!0},url:"/api/clusters_mgmt/v1/cloud_providers"}),deleteCluster:e=>(0,r.Z)({method:"delete",url:`/api/clusters_mgmt/v1/clusters/${e}`}),getLogs:(e,t,n)=>(0,r.Z)({method:"get",url:`/api/clusters_mgmt/v1/clusters/${e}/logs/${n}`,params:{offset:t}}),getIdentityProviders:e=>(0,r.Z)({method:"get",url:`/api/clusters_mgmt/v1/clusters/${e}/identity_providers`}),createClusterIdentityProvider:(e,t)=>(0,r.Z)({method:"post",url:`/api/clusters_mgmt/v1/clusters/${e}/identity_providers`,data:t}),getClusterGroupUsers:e=>(0,r.Z)({method:"get",url:`/api/clusters_mgmt/v1/clusters/${e}/groups`,params:{size:-1}}),addClusterGroupUser:(e,t,n)=>(0,r.Z)({method:"post",url:`/api/clusters_mgmt/v1/clusters/${e}/groups/${t}/users`,data:{id:n}}),deleteClusterGroupUser:(e,t,n)=>(0,r.Z)({method:"delete",url:`/api/clusters_mgmt/v1/clusters/${e}/groups/${t}/users/${encodeURIComponent(n)}`}),deleteIdentityProvider:(e,t)=>(0,r.Z)({method:"delete",url:`/api/clusters_mgmt/v1/clusters/${e}/identity_providers/${t}`}),getMachineTypes:()=>(0,r.Z)({method:"get",url:"/api/clusters_mgmt/v1/machine_types"}),archiveCluster:e=>(0,r.Z)({method:"patch",url:`/api/accounts_mgmt/v1/subscriptions/${e}`,data:'{"status":"Archived"}'}),hibernateCluster:e=>(0,r.Z)({method:"post",url:`/api/clusters_mgmt/v1/clusters/${e}/hibernate`}),resumeCluster:e=>(0,r.Z)({method:"post",url:`/api/clusters_mgmt/v1/clusters/${e}/resume`}),unarchiveCluster:e=>(0,r.Z)({method:"patch",url:`/api/accounts_mgmt/v1/subscriptions/${e}`,data:'{"status":"Disconnected"}'}),getAddOns:e=>(0,r.Z)({method:"get",url:`/api/clusters_mgmt/v1/clusters/${e}/addon_inquiries`}),getDashboard:e=>(0,r.Z)({method:"get",url:`/api/clusters_mgmt/v1/dashboards/${e}`}),getClusterAddOns:e=>(0,r.Z)({method:"get",url:`/api/clusters_mgmt/v1/clusters/${e}/addons`}),addClusterAddOn:(e,t)=>(0,r.Z)({method:"post",url:`/api/clusters_mgmt/v1/clusters/${e}/addons`,data:t}),updateClusterAddOn:(e,t,n)=>(0,r.Z)({method:"patch",url:`/api/clusters_mgmt/v1/clusters/${e}/addons/${t}`,data:n}),deleteClusterAddOn:(e,t)=>(0,r.Z)({method:"delete",url:`/api/clusters_mgmt/v1/clusters/${e}/addons/${t}`}),getStorageQuotaValues:()=>(0,r.Z)({method:"get",url:"/api/clusters_mgmt/v1/storage_quota_values"}),getLoadBalancerQuotaValues:()=>(0,r.Z)({method:"get",url:"/api/clusters_mgmt/v1/load_balancer_quota_values"}),getRoles:()=>(0,r.Z)({method:"get",url:"/api/clusters_mgmt/v1/aws_infrastructure_access_roles/?search=state='valid'"}),getGrants:e=>(0,r.Z)({method:"get",url:`/api/clusters_mgmt/v1/clusters/${e}/aws_infrastructure_access_role_grants`}),addGrant:(e,t,n)=>(0,r.Z)({method:"post",url:`/api/clusters_mgmt/v1/clusters/${e}/aws_infrastructure_access_role_grants/`,data:{role:{id:t},user_arn:n}}),deleteGrant:(e,t)=>(0,r.Z)({method:"delete",url:`/api/clusters_mgmt/v1/clusters/${e}/aws_infrastructure_access_role_grants/${t}`}),getIngresses:e=>(0,r.Z)({method:"get",url:`/api/clusters_mgmt/v1/clusters/${e}/ingresses`}),editIngresses:(e,t)=>(0,r.Z)({method:"patch",url:`/api/clusters_mgmt/v1/clusters/${e}/ingresses`,data:t}),editIngress:(e,t,n)=>(0,r.Z)({method:"patch",url:`/api/clusters_mgmt/v1/clusters/${e}/ingresses/${t}`,data:n}),addAdditionalIngress:(e,t)=>(0,r.Z)({method:"post",url:`/api/clusters_mgmt/v1/clusters/${e}/ingresses`,data:t}),deleteAdditionalIngress:(e,t)=>(0,r.Z)({method:"delete",url:`/api/clusters_mgmt/v1/clusters/${e}/ingresses/${t}`}),editClusterIdentityProvider:(e,t)=>(0,r.Z)({method:"patch",url:`/api/clusters_mgmt/v1/clusters/${e}/identity_providers/${t.id}`,data:t}),getClusterStatus:e=>(0,r.Z)({method:"get",url:`/api/clusters_mgmt/v1/clusters/${e}/status`}),getMachinePools:e=>(0,r.Z)({method:"get",url:`/api/clusters_mgmt/v1/clusters/${e}/machine_pools`}),addMachinePool:(e,t)=>(0,r.Z)({method:"post",url:`/api/clusters_mgmt/v1/clusters/${e}/machine_pools`,data:t}),scaleMachinePool:(e,t,n)=>(0,r.Z)({method:"patch",url:`/api/clusters_mgmt/v1/clusters/${e}/machine_pools/${t}`,data:n}),deleteMachinePool:(e,t)=>(0,r.Z)({method:"delete",url:`/api/clusters_mgmt/v1/clusters/${e}/machine_pools/${t}`}),upgradeTrialCluster:(e,t)=>(0,r.Z)({method:"patch",url:`/api/clusters_mgmt/v1/clusters/${e}`,data:t})}},85935:(e,t,n)=>{"use strict";n.d(t,{_Z:()=>d.Z,BJ:()=>m.Z,X4:()=>v,FR:()=>p.Z,le:()=>r.ZP,Ph:()=>u,di:()=>y});var r=n(46743),a=n(80129),s=n(43363),l=n(9047);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={getReport:(e={})=>{const t=o(o({},e),{},{filter:o({limit:5,resolution:"monthly",time_scope_units:"month",time_scope_value:"-1"},e.filter),group_by:{cluster:"*"}}),n=(0,a.stringify)(t,{encode:!1,indices:!1});return(0,s.Z)({baseURL:l.ZP.configData.insightsGateway,headers:{Accept:"application/json"},method:"get",url:`/cost-management/v1/reports/openshift/costs/?${n}`})},getSources:(e={})=>(0,s.Z)({baseURL:l.ZP.configData.insightsGateway,headers:{Accept:"application/json"},method:"get",url:"/cost-management/v1/sources/",params:{type:`${e.type}`}}),getUserAccess:(e={})=>(0,s.Z)({baseURL:l.ZP.configData.insightsGateway,headers:{Accept:"application/json"},method:"get",url:"/cost-management/v1/user-access/",params:{type:`${e.type}`}})};var d=n(53807),p=n(6176),m=n(97968),h=n(60700);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=e=>(0,s.Z)(b(b({},e),{},{baseURL:`${l.ZP.configData.insightsGateway}/insights-results-aggregator/v1`})),y={getClusterInsights:(e,t)=>f({method:"get",url:`/clusters/${e}/report?osd_eligible=${t}&get_disabled=true`}),putLikeOnRuleInsights:(e,t,n)=>f({method:"put",url:`/clusters/${e}/rules/${t}/error_key/${n}/like`}),putDislikeOnRuleInsights:(e,t,n)=>f({method:"put",url:`/clusters/${e}/rules/${t}/error_key/${n}/dislike`}),resetVoteOnRuleInsights:(e,t,n)=>f({method:"put",url:`/clusters/${e}/rules/${t}/error_key/${n}/reset_vote`}),disableRuleInsights:(e,t,n)=>f({method:"put",url:`/clusters/${e}/rules/${t}/error_key/${n}/disable`}),enableRuleInsights:(e,t,n)=>f({method:"put",url:`/clusters/${e}/rules/${t}/error_key/${n}/enable`}),sendFeedbackOnRuleDisableInsights:(e,t,n,r)=>f({method:"post",url:`/clusters/${e}/rules/${t}/error_key/${n}/disable_feedback`,data:{message:r}}),getReportDetails:(e,t,n,r)=>f({method:"get",url:`/clusters/${e}/rules/${t.replace(".","%2E")}|${n}/report?osd_eligible=${r}`}),getOrganizationInsights:e=>f({method:"post",url:"/org_overview",data:{clusters:e}})},v={getAIClusters:()=>(0,s.Z)({method:"get",url:"/api/assisted-install/v1/clusters"}),getAICluster:e=>(0,s.Z)({method:"get",url:`/api/assisted-install/v1/clusters/${e}`})};r.ZP,m.Z,d.Z,p.Z,h.Z},60700:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(43363);const a={getClusterHistory:(e,t)=>(0,r.Z)({method:"get",params:{size:t.page_size,page:t.page,orderBy:t.order,search:t.filter,query:t.query,format:t.format},url:`/api/service_logs/v1/clusters/${e}/cluster_logs`})}},46700:(e,t,n)=>{var r={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=46700},87160:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyNzggMjE3IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyNzggMjE3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0VEMUMyNDt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMDIuNCwxNTUuNmMtMC44LTAuOC0xLjktMS41LTMuNS0xLjVoLTMuNWM1LjgtNy4zLDguOC0xNS43LDguOC0yNS4zYzAtNy43LTEuOS0xNC42LTUuNC0yMC43CgljLTMuOC02LjEtOC44LTExLjEtMTUtMTVjLTYuMS0zLjgtMTMtNS40LTIwLjctNS40cy0xNC42LDEuOS0yMC43LDUuNGMtNi4xLDMuOC0xMS4xLDguOC0xNSwxNWMtMy44LDYuMS01LjQsMTMtNS40LDIwLjcKCWMwLDcuNywxLjksMTQuNiw1LjQsMjAuN2MzLjgsNi4xLDguOCwxMS4xLDE1LDE1YzYuMSwzLjgsMTMsNS40LDIwLjcsNS40YzkuNiwwLDE4LTMuMSwyNS4zLTguOHYzLjFjMCwxLjIsMC40LDIuMywxLjUsMy41bDIzLDIyLjMKCWMwLjgsMC44LDEuOSwxLjUsMy41LDEuNWMxLjIsMCwyLjMtMC40LDMuNS0xLjVsNS40LTUuNGMwLjgtMC44LDEuNS0xLjksMS41LTMuNWMwLTEuMi0wLjQtMi4zLTEuNS0zLjVMMjAyLjQsMTU1LjZ6IE0xODcuOSwxNDIuOQoJYy0yLjcsNC4yLTYuMSw3LjctMTAuNCwxMC40Yy00LjIsMi43LTkuMiwzLjgtMTQuNiwzLjhjLTUuNCwwLTEwLTEuMi0xNC42LTMuOGMtNC4yLTIuNy03LjctNi4xLTEwLjQtMTAuNAoJYy0yLjctNC4yLTMuOC05LjItMy44LTE0LjZjMC01LjQsMS4yLTEwLDMuOC0xNC42YzIuNy00LjIsNi4xLTcuNywxMC40LTEwLjRjNC4yLTIuNyw5LjItMy44LDE0LjYtMy44YzUuNCwwLDEwLDEuMiwxNC42LDMuOAoJYzQuMiwyLjcsNy43LDYuMSwxMC40LDEwLjRjMi43LDQuMiwzLjgsOS4yLDMuOCwxNC42QzE5MS43LDEzNC4xLDE5MC41LDEzOC43LDE4Ny45LDE0Mi45eiIvPgo8cGF0aCBpZD0iRmlsbC00XzExXyIgY2xhc3M9InN0MCIgZD0iTTE2Ny45LDEyNi40YzEuNSwwLjQsMy4xLDEuNSw0LjIsMi43YzEuMiwxLjIsMS45LDIuNywyLjMsNC42YzAuNCwxLjUsMC40LDMuNS0wLjQsNQoJYy0wLjgsMS45LTEuOSwzLjUtMy41LDQuNmMtMS41LDEuMi0zLjUsMS41LTUuNCwxLjl2NC4yYzAsMC40LDAsMC44LTAuNCwxLjJjLTAuNCwwLjQtMC40LDAuNC0wLjgsMC40aC0yLjdjLTAuNCwwLTAuOCwwLTAuOC0wLjQKCWMtMC40LTAuNC0wLjQtMC44LTAuNC0xLjJ2LTQuMmMtMi43LDAtNS0wLjgtNy4zLTIuN2MtMC40LTAuNC0wLjQtMC44LTAuNC0xLjJzMC0wLjgsMC40LTEuMmwyLjctMy4xYzAuNCwwLDAuNC0wLjQsMC44LTAuNAoJYzAuNCwwLDAuOCwwLDAuOCwwLjRjMC44LDAuNCwxLjksMC44LDIuNywwLjhoNS40YzAuOCwwLDEuMi0wLjQsMS41LTAuOHMwLjgtMS4yLDAuOC0xLjljMC0wLjQsMC0xLjItMC40LTEuNQoJYy0wLjQtMC40LTAuOC0wLjgtMS4yLTAuOGwtOC40LTIuN2MtMS45LTAuOC0zLjUtMS41LTQuNi0zLjFjLTEuMi0xLjUtMS45LTMuMS0yLjMtNWMwLTEuOSwwLjQtMy41LDEuMi01YzAuOC0xLjUsMS45LTIuNywzLjUtMy44CgljMS41LTAuOCwzLjEtMS41LDQuNi0xLjVsMCwwdi00LjJjMC0wLjQsMC0wLjgsMC40LTEuMmMwLjQtMC40LDAuNC0wLjQsMC44LTAuNGgyLjdjMC40LDAsMC44LDAsMC44LDAuNGMwLjQsMC40LDAuNCwwLjgsMC40LDEuMgoJdjQuMmMyLjcsMCw1LDAuOCw2LjksMi43YzAuNCwwLjQsMC40LDAuOCwwLjgsMS4yYzAuNCwwLjQsMCwwLjgtMC40LDEuMmwtMi43LDMuMWMtMC40LDAtMC40LDAuNC0wLjgsMC40Yy0wLjQsMC0wLjgsMC0wLjgsMAoJYy0wLjgtMC44LTEuOS0wLjgtMi43LTAuOGgtNS40Yy0wLjgsMC0xLjIsMC40LTEuNSwwLjhjLTAuNCwwLjQtMC44LDEuMi0wLjgsMS45YzAsMC40LDAsMS4yLDAuNCwxLjVjMC40LDAuNCwwLjgsMC44LDEuMiwwLjgKCUwxNjcuOSwxMjYuNHoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIxOC45LDg4LjFMMjE4LjksODguMWMtMy41LTQwLjMtMzguOC03MC4yLTc4LjctNjYuOGMtMjIuNiwxLjktNDMsMTQuMi01NS4zLDMzYy0xLjksMC0zLjUsMC01LjQsMAoJYy0zMS4xLDAtNTYuNCwyNS4zLTU2LjQsNTYuNHMyNS4zLDU2LjQsNTYuNCw1Ni40aDQ0LjVjLTIuMy0yLjctNC42LTUuOC02LjUtOS4yYy0wLjgtMS4yLTEuNS0yLjctMS45LTMuOEg4MAoJYy0yNC4yLDAtNDMuOC0xOS42LTQzLjgtNDMuNHMxOS4yLTQ0LjEsNDMuNC00NC4xYzIuNywwLDUsMC40LDcuMywwLjhjMi43LDAuNCw1LjQtMC44LDYuNS0zLjFjMTYuNS0yOC44LDUzLTM5LjEsODIuMS0yMi42CgljMTguOCwxMC43LDMwLjMsMzAuNywzMC43LDUyLjJjMCwzLjUsMi43LDYuNSw2LjUsNi41YzE1LTAuOCwyNy42LDEwLjQsMjguNCwyNS4zYzAuOCwxMy40LTguOCwyNS4zLTIxLjUsMjhsMTAuNCwxMAoJYzEzLjQtNi4xLDIzLTE5LjYsMjMtMzUuM0MyNTIuNywxMDgsMjM4LjUsOTEuMSwyMTguOSw4OC4xeiIvPgo8L3N2Zz4K"},60306:e=>{"use strict";e.exports=JSON.parse('{"name":"cloud.openshift.com","version":"0.0.0","description":"OpenShift Cluster Manager","repository":{"type":"git","url":"git://github.com/openshift/cloud.openshift.com"},"license":"Apache-2.0","dependencies":{"@axetroy/react-download":"^1.1.1","@babel/eslint-parser":"^7.13.14","@patternfly/patternfly":"^4.125.3","@patternfly/react-charts":"^6.15.14","@patternfly/react-code-editor":"^4.3.22","@patternfly/react-core":"^4.157.3","@patternfly/react-icons":"^4.11.8","@patternfly/react-table":"^4.29.37","@patternfly/react-tokens":"^4.12.9","@redhat-cloud-services/frontend-components":"^3.1.7","@redhat-cloud-services/frontend-components-config-utilities":"^1.0.0","@redhat-cloud-services/frontend-components-notifications":"^3.1.0","@redhat-cloud-services/frontend-components-utilities":"^3.1.1","@redhat-cloud-services/rule-components":"^3.1.1","@reduxjs/toolkit":"^1.5.1","@sentry/browser":"5.19.1","@sentry/integrations":"^5.19.1","@wojtekmaj/enzyme-adapter-react-17":"^0.6.3","axios":"^0.19.2","cidr-tools":"^3.0.0","classnames":"^2.2.6","connected-react-router":"^6.8.0","core-js":"^3.6.1","filesize":"^3.6.1","fuse.js":"^6.4.6","history":"^4.7.2","http-proxy-middleware":"^1.0.3","i18next":"^20.4.0","i18next-browser-languagedetector":"^6.1.2","immer":"^8.0.0","imports-loader":"^2.0.0","jsonschema":"^1.2.10","lodash":"^4.17.19","moment":"^2.24.0","netmask":"^1.0.6","openshift-assisted-ui-lib":"1.5.42","path-browserify":"^1.0.1","process":"^0.11.10","prop-types":"^15.7.2","qs":"6.10.1","react":"^17.0.2","react-content-loader":"^4.3.4","react-copy-to-clipboard":"^5.0.1","react-datepicker":"^3.3.0","react-dom":"^17.0.2","react-i18next":"^11.11.4","react-markdown":"^4.3.1","react-monaco-editor":"^0.43.0","react-redux":"^7.2.0","react-router":"^5.2.0","react-router-bootstrap":"^0.25.0","react-router-dom":"^5.2.0","react-router-hash-link":"^2.0.0","react-tagsinput":"3.19.x","redux":"^4.0.5","redux-form":"^8.3.6","redux-promise-middleware":"^6.1.2","redux-thunk":"^2.3.0","reselect":"^4.0.0","semver":"^7.3.4","swr":"^0.5.6","uuid":"^8.1.0","yup":"^0.28.3"},"devDependencies":{"@babel/core":"^7.10.4","@babel/plugin-proposal-class-properties":"^7.10.4","@babel/plugin-proposal-object-rest-spread":"^7.10.4","@babel/plugin-proposal-optional-chaining":"^7.11.0","@babel/plugin-syntax-dynamic-import":"^7.8.3","@babel/plugin-transform-object-assign":"^7.10.4","@babel/preset-env":"^7.10.4","@babel/preset-react":"^7.10.4","@babel/register":"^7.10.5","@wdio/cli":"^6.3.3","@wdio/local-runner":"^6.3.3","@wdio/logger":"^6.7.3","@wdio/mocha-framework":"^6.3.0","@wdio/spec-reporter":"^6.3.0","babel-jest":"^26.0.0","babel-loader":"^8.1.0","babel-plugin-transform-imports":"^2.0.0","concurrently":"^5.1.0","copy-webpack-plugin":"^8.1.1","css-loader":"^5.2.1","enzyme":"^3.11.0","enzyme-to-json":"^3.4.3","eslint":"^7.24.0","eslint-config-airbnb":"^18.2.1","eslint-config-standard":"^16.0.0","eslint-config-standard-react":"^11.0.1","eslint-plugin-import":"^2.22.1","eslint-plugin-jsx-a11y":"^6.4.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^5.1.0","eslint-plugin-react":"^7.23.2","eslint-plugin-react-hooks":"^4.2.0","file-loader":"^5.0.2","glob":"^7.1.6","html-replace-webpack-plugin":"^2.6.0","html-webpack-plugin":"^5.3.1","jest-cli":"^26.0.0","jest-environment-jsdom":"^26.0.0","json5":"^2.1.3","list-git-remotes":"^1.0.1","mini-css-extract-plugin":"^1.4.1","node-fetch":"^2.6.1","null-loader":"^4.0.1","porty":"^3.1.1","sass":"^1.34.0","sass-loader":"^9.0.0","url-loader":"^3.0.0","wait-on":"^4.0.1","webpack":"^5.33.2","webpack-bundle-analyzer":"^3.8.0","webpack-cli":"^4.6.0","webpack-dev-server":"^4.0.0-beta.2","yargs":"^15.0.0"},"resolutions":{"is-in-subnet":"3.1.0"},"jest":{"verbose":true,"snapshotSerializers":["enzyme-to-json/serializer"],"setupFiles":["<rootDir>/src/setupTests.js"],"transform":{"^.+\\\\.jsx?$":"babel-jest"},"transformIgnorePatterns":["<rootDir>/node_modules/(?!(react-monaco-editor|monaco-editor|lodash-es)/)"],"moduleNameMapper":{"\\\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$":"<rootDir>/__mocks__/fileMock.js","\\\\.(css|less|scss)$":"<rootDir>/__mocks__/styleMock.js"},"globals":{"APP_DEVMODE":false,"APP_BETA":false,"APP_DEV_SERVER":false,"APP_API_ENV":false}},"scripts":{"build":"webpack $(run/progress-flag-if-tty.sh)","start":"webpack serve $(run/progress-flag-if-tty.sh) --env noproxy api-env=staging","startmock":"concurrently --kill-others --prefix=name --names=SERVER,BACKEND,INSIGHTS --prefix-colors=cyan,reset,green \'yarn dev-server --env api-env=mockserver\' \'mockdata/mockserver.py\' \'yarn insights-proxy\'","dev-server":"webpack serve $(run/progress-flag-if-tty.sh)","dev-server-for-mock":"webpack serve $(run/progress-flag-if-tty.sh) --env api-env=mockserver","insights-proxy":"make insights-proxy-check && run/insights-proxy.sh","stop-insights-proxy":"run/podman-or-docker.sh kill insightsproxy; run/podman-or-docker.sh rm --force insightsproxy; true","lint":"eslint src --ext js,jsx","test":"jest --env=jsdom","selenium-browser":"run/selenium-browser.sh","selenium-test":"run/selenium-test.sh","e2e-test":"make node_modules && yarn build && yarn e2e-test-run","e2e-test-run":"concurrently --kill-others --success=first --prefix=name --names=SERVER,BROWSER,TEST --prefix-colors=cyan,green,magenta,red --handle-input --default-input-target=TEST \'env WEBPACK_WATCH=false webpack serve --env api-env=staging\' \'yarn start\' \'yarn selenium-browser\' \'yarn selenium-test\'","selenium-viewer":"wait-on tcp:5900 && vinagre --file=run/selenium.vnc","stop":"yarn stop-insights-proxy; run/podman-or-docker.sh rm --force browser; pkill --full \'concurrently.*SERVER(prevent self match){0},INSIGHTS\'; true"},"insights":{"appname":"openshift"}}')},10639:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.apps.ssotest01ue1.a7a5.p1.openshiftapps.com","insightsGateway":"https://ci.console.redhat.com/api"}')},21371:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.integration.openshift.com"}')},22078:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api-integration.6943.hive-integration.openshiftapps.com"}')},67730:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.openshift.com","insightsGateway":"https://console.redhat.com/api","sentryDSN":"https://257fd2eb305c4e7ebadbb87ebd429c58@sentry.devshift.net/12"}')},97025:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.stage.openshift.com","insightsGateway":"https://$SELF_PATH$/api","sentryDSN":"https://574b61338ec84f169e4c4b475df8f1ed@sentry.stage.devshift.net/17"}')},24654:()=>{},22868:()=>{},95574:()=>{},14777:()=>{},99830:()=>{},87414:()=>{}}]);
//# sourceMappingURL=bundle.152.0b93904c398c2245db76.js.map